/*! For license information please see postit.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.PostItModeler=t():e.PostItModeler=t()}(self,(function(){return(()=>{var e={29:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>jh});var i=n(717),r=n.n(i),o=function(e,t){return function(e){var t=e.exports=function(e,n){if(n||(n=16),void 0===e&&(e=128),e<=0)return"0";for(var i=Math.log(Math.pow(2,e))/Math.log(n),r=2;i===1/0;r*=2)i=Math.log(Math.pow(2,e/r))/Math.log(n)*r;var o=i-Math.floor(i),a="";for(r=0;r<Math.floor(i);r++)a=Math.floor(Math.random()*n).toString(n)+a;if(o){var s=Math.pow(n,o);a=Math.floor(Math.random()*s).toString(n)+a}var c=parseInt(a,n);return c!==1/0&&c>=Math.pow(2,e)?t(e,n):a};t.rack=function(e,n,i){var r=function(r){var a=0;do{if(a++>10){if(!i)throw new Error("too many ID collisions, use more bits");e+=i}var s=t(e,n)}while(Object.hasOwnProperty.call(o,s));return o[s]=r,s},o=r.hats={};return r.get=function(e){return r.hats[e]},r.set=function(e,t){return r.hats[e]=t,r},r.bits=e||128,r.base=n||16,r}}(t={exports:{}}),t.exports}();function a(e){if(!(this instanceof a))return new a(e);e=e||[128,36,1],this._seed=e.length?o.rack(e[0],e[1],e[2]):e}a.prototype.next=function(e){return this._seed(e||!0)},a.prototype.nextPrefixed=function(e,t){var n;do{n=e+this.next(!0)}while(this.assigned(n));return this.claim(n,t),n},a.prototype.claim=function(e,t){this._seed.set(e,t||!0)},a.prototype.assigned=function(e){return this._seed.get(e)||!1},a.prototype.unclaim=function(e){delete this._seed.hats[e]},a.prototype.clear=function(){var e,t=this._seed.hats;for(e in t)this.unclaim(e)};const s=a;function c(e){return Array.prototype.concat.apply([],e)}var u=Object.prototype.toString,l=Object.prototype.hasOwnProperty;function p(e){return void 0===e}function h(e){return void 0!==e}function d(e){return null==e}function f(e){return"[object Array]"===u.call(e)}function v(e){return"[object Object]"===u.call(e)}function y(e){return"[object Number]"===u.call(e)}function g(e){var t=u.call(e);return"[object Function]"===t||"[object AsyncFunction]"===t||"[object GeneratorFunction]"===t||"[object AsyncGeneratorFunction]"===t||"[object Proxy]"===t}function m(e){return"[object String]"===u.call(e)}function x(e,t){return l.call(e,t)}function _(e,t){var n;return t=L(t),b(e,(function(e,i){if(t(e,i))return n=e,!1})),n}function w(e,t){var n=[];return b(e,(function(e,i){t(e,i)&&n.push(e)})),n}function b(e,t){var n;if(!p(e)){var i=f(e)?D:z;for(var r in e)if(x(e,r)&&!1===t(n=e[r],i(r)))return n}}function E(e,t,n){return b(e,(function(e,i){n=t(n,e,i)})),n}function S(e,t){return!!E(e,(function(e,n,i){return e&&t(n,i)}),!0)}function k(e,t){return!!_(e,t)}function T(e,t){var n=[];return b(e,(function(e,i){n.push(t(e,i))})),n}function P(e){return e&&Object.keys(e)||[]}function C(e){return P(e).length}function M(e){return T(e,(function(e){return e}))}function j(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t=N(t),b(e,(function(e){var i=t(e)||"_",r=n[i];r||(r=n[i]=[]),r.push(e)})),n}function B(e){e=N(e);for(var t={},n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];b(i,(function(n){return j(n,e,t)}));var o=T(t,(function(e,t){return e[0]}));return o}var R=B;function A(e,t){t=N(t);var n=[];return b(e,(function(e,i){for(var r=t(e,i),o={d:r,v:e},a=0;a<n.length;a++)if(r<n[a].d)return void n.splice(a,0,o);n.push(o)})),T(n,(function(e){return e.v}))}function O(e){return function(t){return S(e,(function(e,n){return t[n]===e}))}}function N(e){return g(e)?e:function(t){return t[e]}}function L(e){return g(e)?e:function(t){return t===e}}function z(e){return e}function D(e){return Number(e)}function I(e,t){var n,i,r,o;function a(){var a=Date.now(),c=o+t-a;if(c>0)return s(c);e.apply(r,i),n=o=i=r=void 0}function s(e){n=setTimeout(a,e)}return function(){o=Date.now();for(var e=arguments.length,a=new Array(e),c=0;c<e;c++)a[c]=arguments[c];i=a,r=this,n||s(t)}}function F(e,t){return e.bind(t)}function H(){return H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},H.apply(this,arguments)}function G(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return H.apply(void 0,[e].concat(n))}function U(e,t){var n={},i=Object(e);return b(t,(function(t){t in i&&(n[t]=e[t])})),n}function W(e,t){var n={};return b(Object(e),(function(e,i){-1===t.indexOf(i)&&(n[i]=e)})),n}function V(e,t,n){return 2==arguments.length?e.getAttribute(t):null===n?e.removeAttribute(t):(e.setAttribute(t,n),e)}var q=[].indexOf,Y=function(e,t){if(q)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1},X=/\s+/,K=Object.prototype.toString;function Z(e){return new J(e)}function J(e){if(!e||!e.nodeType)throw new Error("A DOM element reference is required");this.el=e,this.list=e.classList}function Q(e){for(var t;e.childNodes.length;)t=e.childNodes[0],e.removeChild(t);return e}J.prototype.add=function(e){if(this.list)return this.list.add(e),this;var t=this.array();return~Y(t,e)||t.push(e),this.el.className=t.join(" "),this},J.prototype.remove=function(e){if("[object RegExp]"==K.call(e))return this.removeMatching(e);if(this.list)return this.list.remove(e),this;var t=this.array(),n=Y(t,e);return~n&&t.splice(n,1),this.el.className=t.join(" "),this},J.prototype.removeMatching=function(e){for(var t=this.array(),n=0;n<t.length;n++)e.test(t[n])&&this.remove(t[n]);return this},J.prototype.toggle=function(e,t){return this.list?(void 0!==t?t!==this.list.toggle(e,t)&&this.list.toggle(e):this.list.toggle(e),this):(void 0!==t?t?this.add(e):this.remove(e):this.has(e)?this.remove(e):this.add(e),this)},J.prototype.array=function(){var e=(this.el.getAttribute("class")||"").replace(/^\s+|\s+$/g,"").split(X);return""===e[0]&&e.shift(),e},J.prototype.has=J.prototype.contains=function(e){return this.list?this.list.contains(e):!!~Y(this.array(),e)};var ee="undefined"!=typeof Element?Element.prototype:{},te=ee.matches||ee.matchesSelector||ee.webkitMatchesSelector||ee.mozMatchesSelector||ee.msMatchesSelector||ee.oMatchesSelector,ne=function(e,t){if(!e||1!==e.nodeType)return!1;if(te)return te.call(e,t);for(var n=e.parentNode.querySelectorAll(t),i=0;i<n.length;i++)if(n[i]==e)return!0;return!1};function ie(e,t,n){for(var i=n?e:e.parentNode;i&&i.nodeType!==document.DOCUMENT_NODE&&i.nodeType!==document.DOCUMENT_FRAGMENT_NODE;){if(ne(i,t))return i;i=i.parentNode}return ne(i,t)?i:null}var re,oe=window.addEventListener?"addEventListener":"attachEvent",ae=window.removeEventListener?"removeEventListener":"detachEvent",se="addEventListener"!==oe?"on":"",ce={bind:function(e,t,n,i){return e[oe](se+t,n,i||!1),n},unbind:function(e,t,n,i){return e[ae](se+t,n,i||!1),n}},ue=["focus","blur"],le=function(e,t,n,i,r){return-1!==ue.indexOf(n)&&(r=!0),ce.bind(e,n,(function(n){var r=n.target||n.srcElement;n.delegateTarget=ie(r,t,!0),n.delegateTarget&&i.call(e,n)}),r)},pe=function(e,t,n,i){return-1!==ue.indexOf(t)&&(i=!0),ce.unbind(e,t,n,i)},he=function(e,t){if("string"!=typeof e)throw new TypeError("String expected");t||(t=document);var n=/<([\w:]+)/.exec(e);if(!n)return t.createTextNode(e);e=e.replace(/^\s+|\s+$/g,"");var i=n[1];if("body"==i)return(r=t.createElement("html")).innerHTML=e,r.removeChild(r.lastChild);var r,o=fe[i]||fe._default,a=o[0],s=o[1],c=o[2];for((r=t.createElement("div")).innerHTML=s+e+c;a--;)r=r.lastChild;if(r.firstChild==r.lastChild)return r.removeChild(r.firstChild);for(var u=t.createDocumentFragment();r.firstChild;)u.appendChild(r.removeChild(r.firstChild));return u},de=!1;"undefined"!=typeof document&&((re=document.createElement("div")).innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',de=!re.getElementsByTagName("link").length,re=void 0);var fe={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:de?[1,"X<div>","</div>"]:[0,"",""]};function ve(e,t){return(t=t||document).querySelector(e)}function ye(e,t){return(t=t||document).querySelectorAll(e)}function ge(e){e.parentNode&&e.parentNode.removeChild(e)}function me(e,t){return t.appendChild(function(e,t){if(e.ownerDocument!==t.ownerDocument)try{return t.ownerDocument.importNode(e,!0)}catch(e){}return e}(e,t))}function xe(e,t){return me(t,e),e}fe.td=fe.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],fe.option=fe.optgroup=[1,'<select multiple="multiple">',"</select>"],fe.thead=fe.tbody=fe.colgroup=fe.caption=fe.tfoot=[1,"<table>","</table>"],fe.polyline=fe.ellipse=fe.polygon=fe.circle=fe.text=fe.line=fe.path=fe.rect=fe.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"];var _e={"alignment-baseline":1,"baseline-shift":1,clip:1,"clip-path":1,"clip-rule":1,color:1,"color-interpolation":1,"color-interpolation-filters":1,"color-profile":1,"color-rendering":1,cursor:1,direction:1,display:1,"dominant-baseline":1,"enable-background":1,fill:1,"fill-opacity":1,"fill-rule":1,filter:1,"flood-color":1,"flood-opacity":1,font:1,"font-family":1,"font-size":2,"font-size-adjust":1,"font-stretch":1,"font-style":1,"font-variant":1,"font-weight":1,"glyph-orientation-horizontal":1,"glyph-orientation-vertical":1,"image-rendering":1,kerning:1,"letter-spacing":1,"lighting-color":1,marker:1,"marker-end":1,"marker-mid":1,"marker-start":1,mask:1,opacity:1,overflow:1,"pointer-events":1,"shape-rendering":1,"stop-color":1,"stop-opacity":1,stroke:1,"stroke-dasharray":1,"stroke-dashoffset":1,"stroke-linecap":1,"stroke-linejoin":1,"stroke-miterlimit":1,"stroke-opacity":1,"stroke-width":2,"text-anchor":1,"text-decoration":1,"text-rendering":1,"unicode-bidi":1,visibility:1,"word-spacing":1,"writing-mode":1};function we(e,t,n){var i=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),r=_e[i];r?(2===r&&"number"==typeof n&&(n=String(n)+"px"),e.style[i]=n):e.setAttributeNS(null,t,n)}function be(e,t,n){if("string"==typeof t){if(void 0===n)return function(e,t){return _e[t]?e.style[t]:e.getAttributeNS(null,t)}(e,t);we(e,t,n)}else!function(e,t){var n,i,r=Object.keys(t);for(n=0;i=r[n];n++)we(e,i,t[i])}(e,t);return e}function Ee(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}var Se=/\s+/,ke=Object.prototype.toString;function Te(e){return void 0!==e}function Pe(e){return new Ce(e)}function Ce(e){if(!e||!e.nodeType)throw new Error("A DOM element reference is required");this.el=e,this.list=e.classList}function Me(e){var t=e.parentNode;return t&&t.removeChild(e),e}function je(e){for(var t;t=e.firstChild;)Me(t);return e}function Be(e){return e.cloneNode(!0)}Ce.prototype.add=function(e){if(this.list)return this.list.add(e),this;var t=this.array();return~Ee(t,e)||t.push(e),Te(this.el.className.baseVal)?this.el.className.baseVal=t.join(" "):this.el.className=t.join(" "),this},Ce.prototype.remove=function(e){if("[object RegExp]"===ke.call(e))return this.removeMatching(e);if(this.list)return this.list.remove(e),this;var t=this.array(),n=Ee(t,e);return~n&&t.splice(n,1),this.el.className.baseVal=t.join(" "),this},Ce.prototype.removeMatching=function(e){for(var t=this.array(),n=0;n<t.length;n++)e.test(t[n])&&this.remove(t[n]);return this},Ce.prototype.toggle=function(e,t){return this.list?(Te(t)?t!==this.list.toggle(e,t)&&this.list.toggle(e):this.list.toggle(e),this):(Te(t)?t?this.add(e):this.remove(e):this.has(e)?this.remove(e):this.add(e),this)},Ce.prototype.array=function(){var e=(this.el.getAttribute("class")||"").replace(/^\s+|\s+$/g,"").split(Se);return""===e[0]&&e.shift(),e},Ce.prototype.has=Ce.prototype.contains=function(e){return this.list?this.list.contains(e):!!~Ee(this.array(),e)};var Re="http://www.w3.org/2000/svg",Ae='<svg xmlns="'+Re+'"';function Oe(e){var t=!1;"<svg"===e.substring(0,4)?-1===e.indexOf(Re)&&(e=Ae+e.substring(4)):(e=Ae+">"+e+"</svg>",t=!0);var n=function(e){var t;return(t=new DOMParser).async=!1,t.parseFromString(e,"text/xml")}(e);if(!t)return n;for(var i=document.createDocumentFragment(),r=n.firstChild;r.firstChild;)i.appendChild(r.firstChild);return i}function Ne(e,t){var n;return"<"===e.charAt(0)?(n=Oe(e).firstChild,n=document.importNode(n,!0)):n=document.createElementNS(Re,e),t&&be(n,t),n}var Le=Ne("svg");function ze(e,t){var n,i,r=Object.keys(t);for(n=0;i=r[n];n++)e[i]=t[i];return e}function De(e){return e?Le.createSVGTransformFromMatrix(e):Le.createSVGTransform()}var Ie=/([&<>]{1})/g,$e=/([\n\r"]{1})/g,Fe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"'"};function He(e,t){return e.replace(t,(function(e,t){return Fe[t]||t}))}function Ge(e,t){var n,i,r,o,a;switch(e.nodeType){case 3:t.push(He(e.textContent,Ie));break;case 1:if(t.push("<",e.tagName),e.hasAttributes())for(n=0,i=(r=e.attributes).length;n<i;++n)o=r.item(n),t.push(" ",o.name,'="',He(o.value,$e),'"');if(e.hasChildNodes()){for(t.push(">"),n=0,i=(a=e.childNodes).length;n<i;++n)Ge(a.item(n),t);t.push("</",e.tagName,">")}else t.push("/>");break;case 8:t.push("\x3c!--",He(e.nodeValue,Ie),"--\x3e");break;case 4:t.push("<![CDATA[",e.nodeValue,"]]>");break;default:throw new Error("unable to handle node "+e.nodeType)}return t}function Ue(e,t){if(void 0!==t){try{!function(e,t){var n=Oe(t);if(je(e),t){(function(e){return"#document-fragment"===e.nodeName})(n)||(n=n.documentElement);for(var i,r=(i=n.childNodes,Array.prototype.slice.call(i)),o=0;o<r.length;o++)me(r[o],e)}}(e,t)}catch(e){throw new Error("error parsing SVG: "+e.message)}return e}return function(e){for(var t=e.firstChild,n=[];t;)Ge(t,n),t=t.nextSibling;return n.join("")}(e)}function We(e,t){return t instanceof SVGMatrix?e.createSVGTransformFromMatrix(t):t}function Ve(e,t){var n=e.transform.baseVal;return t&&(Array.isArray(t)||(t=[t]),function(e,t){var n,i;for(e.clear(),n=0;i=t[n];n++)e.appendItem(We(e,i))}(n,t)),n.consolidate()}var qe=/^class /;function Ye(e){return"[object Array]"===Object.prototype.toString.call(e)}function Xe(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ke(){var e=Array.prototype.slice.call(arguments);1===e.length&&Ye(e[0])&&(e=e[0]);var t=e.pop();return t.$inject=e,t}var Ze=/constructor\s*[^(]*\(\s*([^)]*)\)/m,Je=/^(?:async )?(?:function\s*)?[^(]*\(\s*([^)]*)\)/m,Qe=/\/\*([^*]*)\*\//m;function et(e){if("function"!=typeof e)throw new Error('Cannot annotate "'+e+'". Expected a function!');var t=e.toString().match(function(e){return qe.test(e.toString())}(e)?Ze:Je);return t&&t[1]&&t[1].split(",").map((function(e){return(t=e.match(Qe))?t[1].trim():e.trim()}))||[]}function tt(){var e=[];this.factory=function(t,n){return e.push([t,"factory",n]),this},this.value=function(t,n){return e.push([t,"value",n]),this},this.type=function(t,n){return e.push([t,"type",n]),this},this.forEach=function(t){e.forEach(t)}}function nt(e,t){t=t||{get:function(e,t){if(n.push(e),!1===t)return null;throw a('No provider for "'+e+'"!')}};var n=[],i=this._providers=Object.create(t._providers||null),r=this._instances=Object.create(null),o=r.injector=this,a=function(e){var t=n.join(" -> ");return n.length=0,new Error(t?e+" (Resolving: "+t+")":e)},s=function(e,o){if(!i[e]&&-1!==e.indexOf(".")){for(var c=e.split("."),u=s(c.shift());c.length;)u=u[c.shift()];return u}if(Xe(r,e))return r[e];if(Xe(i,e)){if(-1!==n.indexOf(e))throw n.push(e),a("Cannot resolve circular dependency!");return n.push(e),r[e]=i[e][0](i[e][1]),n.pop(),r[e]}return t.get(e,o)},c=function(e,t){if(void 0===t&&(t={}),"function"!=typeof e){if(!Ye(e))throw new Error('Cannot invoke "'+e+'". Expected a function!');e=Ke(e.slice())}return{fn:e,dependencies:(e.$inject||et(e)).map((function(e){return Xe(t,e)?t[e]:s(e)}))}},u=function(e){var t=c(e),n=t.fn,i=t.dependencies;return new(Function.prototype.bind.apply(n,[null].concat(i)))},l=function(e,t,n){var i=c(e,n),r=i.fn,o=i.dependencies;return r.apply(t,o)},p=function(e){return Ke((function(t){return e.get(t)}))},h={factory:l,type:u,value:function(e){return e}};e.forEach((function(e){function t(e,t){return"value"!==e&&Ye(t)&&(t=Ke(t.slice())),t}if(e instanceof tt)e.forEach((function(e){var n=e[0],r=e[1],o=e[2];i[n]=[h[r],t(r,o),r]}));else if("object"==typeof e)if(e.__exports__){var n=Object.keys(e).reduce((function(t,n){return"__"!==n.substring(0,2)&&(t[n]=e[n]),t}),Object.create(null)),r=new nt((e.__modules__||[]).concat([n]),o),a=Ke((function(e){return r.get(e)}));e.__exports__.forEach((function(e){i[e]=[a,e,"private",r]}))}else Object.keys(e).forEach((function(n){if("private"!==e[n][2]){var r=e[n][0],o=e[n][1];i[n]=[h[r],t(r,o),r]}else i[n]=e[n]}))})),this.get=s,this.invoke=l,this.instantiate=u,this.createChild=function(e,t){if(t&&t.length){var n,r,a,s,c=Object.create(null),u=Object.create(null),l=[],h=[],d=[];for(var f in i)n=i[f],-1!==t.indexOf(f)&&("private"===n[2]?-1===(r=l.indexOf(n[3]))?(a=n[3].createChild([],t),s=p(a),l.push(n[3]),h.push(a),d.push(s),c[f]=[s,f,"private",a]):c[f]=[d[r],f,"private",h[r]]:c[f]=[n[2],n[1]],u[f]=!0),"factory"!==n[2]&&"type"!==n[2]||!n[1].$scope||t.forEach((function(e){-1!==n[1].$scope.indexOf(e)&&(c[f]=[n[2],n[1]],u[e]=!0)}));t.forEach((function(e){if(!u[e])throw new Error('No provider for "'+e+'". Cannot use provider from the parent!')})),e.unshift(c)}return new nt(e,o)}}function it(e,t){var n=this;t=t||1e3,e.on(["render.shape","render.connection"],t,(function(e,t){var i=e.type,r=t.element,o=t.gfx;if(n.canRender(r))return"render.shape"===i?n.drawShape(o,r):n.drawConnection(o,r)})),e.on(["render.getShapePath","render.getConnectionPath"],t,(function(e,t){if(n.canRender(t))return"render.getShapePath"===e.type?n.getShapePath(t):n.getConnectionPath(t)}))}function rt(e){return e.join(",").replace(/,?([A-z]),?/g,"$1")}function ot(e){for(var t,n="",i=0;t=e[i];i++)n+=t.x+","+t.y+" ";return n}function at(e,t){var n=Ne("polyline");return be(n,{points:ot(e)}),t&&be(n,t),n}function st(e){return w(e,(function(t){return!_(e,(function(e){return e!==t&&ct(t,e)}))}))}function ct(e,t){if(t){if(e===t)return t;if(e.parent)return ct(e.parent,t)}}function ut(e,t,n){var i=!n||-1===e.indexOf(t);return i&&e.push(t),i}function lt(e,t,n){n=n||0,f(e)||(e=[e]),b(e,(function(e,i){var r=t(e,i,n);f(r)&&r.length&&lt(r,t,n+1)}))}function pt(e,t){return function(e,t,n){var i=[],r=[];return lt(e,(function(e,o,a){ut(i,e,t);var s=e.children;if((-1===n||a<n)&&s&&ut(r,s,t))return s})),i}(e,!t,-1)}function ht(e,t){var n,i,r,o;return t=!!t,f(e)||(e=[e]),b(e,(function(e){var a=e;e.waypoints&&!t&&(a=ht(e.waypoints,!0));var s=a.x,c=a.y,u=a.height||0,l=a.width||0;(s<n||void 0===n)&&(n=s),(c<i||void 0===i)&&(i=c),(s+l>r||void 0===r)&&(r=s+l),(c+u>o||void 0===o)&&(o=c+u)})),{x:n,y:i,height:o-i,width:r-n}}function dt(e){return"waypoints"in e?"connection":"x"in e?"shape":"root"}function ft(e){return!(!e||!e.isFrame)}function vt(e,t){return G({},e||{},t||{})}function yt(e,t){it.call(this,e,1),this.CONNECTION_STYLE=t.style(["no-fill"],{strokeWidth:5,stroke:"fuchsia"}),this.SHAPE_STYLE=t.style({fill:"white",stroke:"fuchsia",strokeWidth:2}),this.FRAME_STYLE=t.style(["no-fill"],{stroke:"fuchsia",strokeDasharray:4,strokeWidth:2})}it.prototype.canRender=function(){},it.prototype.drawShape=function(){},it.prototype.drawConnection=function(){},it.prototype.getShapePath=function(){},it.prototype.getConnectionPath=function(){},r()(yt,it),yt.prototype.canRender=function(){return!0},yt.prototype.drawShape=function(e,t){var n=Ne("rect");return be(n,{x:0,y:0,width:t.width||0,height:t.height||0}),ft(t)?be(n,this.FRAME_STYLE):be(n,this.SHAPE_STYLE),xe(e,n),n},yt.prototype.drawConnection=function(e,t){var n=at(t.waypoints,this.CONNECTION_STYLE);return xe(e,n),n},yt.prototype.getShapePath=function(e){var t=e.x,n=e.y,i=e.width;return rt([["M",t,n],["l",i,0],["l",0,e.height],["l",-i,0],["z"]])},yt.prototype.getConnectionPath=function(e){var t,n,i=e.waypoints,r=[];for(t=0;n=i[t];t++)n=n.original||n,r.push([0===t?"M":"L",n.x,n.y]);return rt(r)},yt.$inject=["eventBus","styles"];const gt={__init__:["defaultRenderer"],defaultRenderer:["type",yt],styles:["type",function(){var e={"no-fill":{fill:"none"},"no-border":{strokeOpacity:0},"no-events":{pointerEvents:"none"}},t=this;this.cls=function(e,t,n){return G(this.style(t,n),{class:e})},this.style=function(t,n){f(t)||n||(n=t,t=[]);var i=E(t,(function(t,n){return G(t,e[n]||{})}),{});return n?G(i,n):i},this.computeStyle=function(e,n,i){return f(n)||(i=n,n=[]),t.style(n||[],G({},i,e||{}))}}]};function mt(e,t){if(!e||!t)return-1;var n=e.indexOf(t);return-1!==n&&e.splice(n,1),n}function xt(e,t,n){if(e&&t){"number"!=typeof n&&(n=-1);var i=e.indexOf(t);if(-1!==i){if(i===n)return;if(-1===n)return;e.splice(i,1)}-1!==n?e.splice(n,0,t):e.push(t)}}function _t(e,t){return e&&t?e.indexOf(t):-1}function wt(e,t){return Math.round(e*t)/t}function bt(e){return y(e)?e+"px":e}function Et(e,t,n){var i=Ne("g");Pe(i).add(t);var r=void 0!==n?n:e.childNodes.length-1;return e.insertBefore(i,e.childNodes[r]||null),i}var St={shape:["x","y","width","height"],connection:["waypoints"]};function kt(e,t,n,i){this._eventBus=t,this._elementRegistry=i,this._graphicsFactory=n,this._init(e||{})}function Tt(e,t){var n="matrix("+t.a+","+t.b+","+t.c+","+t.d+","+t.e+","+t.f+")";e.setAttribute("transform",n)}kt.$inject=["config.canvas","eventBus","graphicsFactory","elementRegistry"],kt.prototype._init=function(e){var t=this._eventBus,n=this._container=function(e){var t=(e=G({},{width:"100%",height:"100%"},e)).container||document.body,n=document.createElement("div");return n.setAttribute("class","djs-container"),G(n.style,{position:"relative",overflow:"hidden",width:bt(e.width),height:bt(e.height)}),t.appendChild(n),n}(e),i=this._svg=Ne("svg");be(i,{width:"100%",height:"100%"}),xe(n,i);var r=this._viewport=Et(i,"viewport");this._layers={},!1!==e.deferUpdate&&(this._viewboxChanged=I(F(this._viewboxChanged,this),300)),t.on("diagram.init",(function(){t.fire("canvas.init",{svg:i,viewport:r})}),this),t.on(["shape.added","connection.added","shape.removed","connection.removed","elements.changed"],(function(){delete this._cachedViewbox}),this),t.on("diagram.destroy",500,this._destroy,this),t.on("diagram.clear",500,this._clear,this)},kt.prototype._destroy=function(e){this._eventBus.fire("canvas.destroy",{svg:this._svg,viewport:this._viewport});var t=this._container.parentNode;t&&t.removeChild(this._container),delete this._svg,delete this._container,delete this._layers,delete this._rootElement,delete this._viewport},kt.prototype._clear=function(){var e=this;this._elementRegistry.getAll().forEach((function(t){var n=dt(t);"root"===n?e.setRootElement(null,!0):e._removeElement(t,n)})),delete this._cachedViewbox},kt.prototype.getDefaultLayer=function(){return this.getLayer("base",0)},kt.prototype.getLayer=function(e,t){if(!e)throw new Error("must specify a name");var n=this._layers[e];if(n||(n=this._layers[e]=this._createLayer(e,t)),void 0!==t&&n.index!==t)throw new Error("layer <"+e+"> already created at index <"+t+">");return n.group},kt.prototype._createLayer=function(e,t){t||(t=0);var n=E(this._layers,(function(e,n){return t>=n.index&&e++,e}),0);return{group:Et(this._viewport,"layer-"+e,n),index:t}},kt.prototype.getContainer=function(){return this._container},kt.prototype._updateMarker=function(e,t,n){var i;e.id||(e=this._elementRegistry.get(e)),(i=this._elementRegistry._elements[e.id])&&(b([i.gfx,i.secondaryGfx],(function(e){e&&(n?Pe(e).add(t):Pe(e).remove(t))})),this._eventBus.fire("element.marker.update",{element:e,gfx:i.gfx,marker:t,add:!!n}))},kt.prototype.addMarker=function(e,t){this._updateMarker(e,t,!0)},kt.prototype.removeMarker=function(e,t){this._updateMarker(e,t,!1)},kt.prototype.hasMarker=function(e,t){return e.id||(e=this._elementRegistry.get(e)),Pe(this.getGraphics(e)).has(t)},kt.prototype.toggleMarker=function(e,t){this.hasMarker(e,t)?this.removeMarker(e,t):this.addMarker(e,t)},kt.prototype.getRootElement=function(){return this._rootElement||this.setRootElement({id:"__implicitroot",children:[]}),this._rootElement},kt.prototype.setRootElement=function(e,t){e&&this._ensureValid("root",e);var n=this._rootElement,i=this._elementRegistry,r=this._eventBus;if(n){if(!t)throw new Error("rootElement already set, need to specify override");r.fire("root.remove",{element:n}),r.fire("root.removed",{element:n}),i.remove(n)}if(e){var o=this.getDefaultLayer();r.fire("root.add",{element:e}),i.add(e,o,this._svg),r.fire("root.added",{element:e,gfx:o})}return this._rootElement=e,e},kt.prototype._ensureValid=function(e,t){if(!t.id)throw new Error("element must have an id");if(this._elementRegistry.get(t.id))throw new Error("element with id "+t.id+" already exists");var n=St[e],i=S(n,(function(e){return void 0!==t[e]}));if(!i)throw new Error("must supply { "+n.join(", ")+" } with "+e)},kt.prototype._setParent=function(e,t,n){xt(t.children,e,n),e.parent=t},kt.prototype._addElement=function(e,t,n,i){n=n||this.getRootElement();var r=this._eventBus,o=this._graphicsFactory;this._ensureValid(e,t),r.fire(e+".add",{element:t,parent:n}),this._setParent(t,n,i);var a=o.create(e,t,i);return this._elementRegistry.add(t,a),o.update(e,t,a),r.fire(e+".added",{element:t,gfx:a}),t},kt.prototype.addShape=function(e,t,n){return this._addElement("shape",e,t,n)},kt.prototype.addConnection=function(e,t,n){return this._addElement("connection",e,t,n)},kt.prototype._removeElement=function(e,t){var n=this._elementRegistry,i=this._graphicsFactory,r=this._eventBus;if(e=n.get(e.id||e))return r.fire(t+".remove",{element:e}),i.remove(e),mt(e.parent&&e.parent.children,e),e.parent=null,r.fire(t+".removed",{element:e}),n.remove(e),e},kt.prototype.removeShape=function(e){return this._removeElement(e,"shape")},kt.prototype.removeConnection=function(e){return this._removeElement(e,"connection")},kt.prototype.getGraphics=function(e,t){return this._elementRegistry.getGraphics(e,t)},kt.prototype._changeViewbox=function(e){this._eventBus.fire("canvas.viewbox.changing"),e.apply(this),this._cachedViewbox=null,this._viewboxChanged()},kt.prototype._viewboxChanged=function(){this._eventBus.fire("canvas.viewbox.changed",{viewbox:this.viewbox()})},kt.prototype.viewbox=function(e){if(void 0===e&&this._cachedViewbox)return this._cachedViewbox;var t,n,i,r,o,a,s=this._viewport,c=this.getSize();return e?(this._changeViewbox((function(){r=Math.min(c.width/e.width,c.height/e.height);var t=this._svg.createSVGMatrix().scale(r).translate(-e.x,-e.y);Ve(s,t)})),e):(t=this.getDefaultLayer().getBBox(),n=(i=Ve(s))?i.matrix:function(e,t,n,i,r,o){var a=Le.createSVGMatrix();switch(arguments.length){case 0:return a;case 1:return ze(a,e);case 6:return ze(a,{a:e,b:t,c:n,d:i,e:r,f:o})}}(),r=wt(n.a,1e3),o=wt(-n.e||0,1e3),a=wt(-n.f||0,1e3),e=this._cachedViewbox={x:o?o/r:0,y:a?a/r:0,width:c.width/r,height:c.height/r,scale:r,inner:{width:t.width,height:t.height,x:t.x,y:t.y},outer:c})},kt.prototype.scroll=function(e){var t=this._viewport,n=t.getCTM();return e&&this._changeViewbox((function(){e=G({dx:0,dy:0},e||{}),n=this._svg.createSVGMatrix().translate(e.dx,e.dy).multiply(n),Tt(t,n)})),{x:n.e,y:n.f}},kt.prototype.zoom=function(e,t){return e?"fit-viewport"===e?this._fitViewport(t):(this._changeViewbox((function(){"object"!=typeof t&&(n=this.viewbox().outer,t={x:n.width/2,y:n.height/2}),i=this._setZoom(e,t)})),wt(i.a,1e3)):this.viewbox(e).scale;var n,i},kt.prototype._fitViewport=function(e){var t,n,i=this.viewbox(),r=i.outer,o=i.inner;return o.x>=0&&o.y>=0&&o.x+o.width<=r.width&&o.y+o.height<=r.height&&!e?n={x:0,y:0,width:Math.max(o.width+o.x,r.width),height:Math.max(o.height+o.y,r.height)}:(t=Math.min(1,r.width/o.width,r.height/o.height),n={x:o.x+(e?o.width/2-r.width/t/2:0),y:o.y+(e?o.height/2-r.height/t/2:0),width:r.width/t,height:r.height/t}),this.viewbox(n),this.viewbox(!1).scale},kt.prototype._setZoom=function(e,t){var n,i,r,o,a=this._svg,s=this._viewport,c=a.createSVGMatrix(),u=a.createSVGPoint(),l=(i=s.getCTM()).a;return t?(n=G(u,t).matrixTransform(i.inverse()),r=c.translate(n.x,n.y).scale(1/l*e).translate(-n.x,-n.y),o=i.multiply(r)):o=c.scale(e),Tt(this._viewport,o),o},kt.prototype.getSize=function(){return{width:this._container.clientWidth,height:this._container.clientHeight}},kt.prototype.getAbsoluteBBox=function(e){var t,n=this.viewbox();return{x:(t=e.waypoints?this.getGraphics(e).getBBox():e).x*n.scale-n.x*n.scale,y:t.y*n.scale-n.y*n.scale,width:t.width*n.scale,height:t.height*n.scale}},kt.prototype.resized=function(){delete this._cachedViewbox,this._eventBus.fire("canvas.resized")};var Pt="data-element-id";function Ct(e){this._elements={},this._eventBus=e}Ct.$inject=["eventBus"],Ct.prototype.add=function(e,t,n){var i=e.id;this._validateId(i),be(t,Pt,i),n&&be(n,Pt,i),this._elements[i]={element:e,gfx:t,secondaryGfx:n}},Ct.prototype.remove=function(e){var t=this._elements,n=e.id||e,i=n&&t[n];i&&(be(i.gfx,Pt,""),i.secondaryGfx&&be(i.secondaryGfx,Pt,""),delete t[n])},Ct.prototype.updateId=function(e,t){this._validateId(t),"string"==typeof e&&(e=this.get(e)),this._eventBus.fire("element.updateId",{element:e,newId:t});var n=this.getGraphics(e),i=this.getGraphics(e,!0);this.remove(e),e.id=t,this.add(e,n,i)},Ct.prototype.get=function(e){var t;t="string"==typeof e?e:e&&be(e,Pt);var n=this._elements[t];return n&&n.element},Ct.prototype.filter=function(e){var t=[];return this.forEach((function(n,i){e(n,i)&&t.push(n)})),t},Ct.prototype.find=function(e){for(var t=this._elements,n=Object.keys(t),i=0;i<n.length;i++){var r=t[n[i]],o=r.element;if(e(o,r.gfx))return o}},Ct.prototype.getAll=function(){return this.filter((function(e){return e}))},Ct.prototype.forEach=function(e){var t=this._elements;Object.keys(t).forEach((function(n){var i=t[n],r=i.element,o=i.gfx;return e(r,o)}))},Ct.prototype.getGraphics=function(e,t){var n=e.id||e,i=this._elements[n];return i&&(t?i.secondaryGfx:i.gfx)},Ct.prototype._validateId=function(e){if(!e)throw new Error("element must have an id");if(this._elements[e])throw new Error("element with id "+e+" already added")};var Mt=n(235),jt=n.n(Mt),Bt=new(jt())({name:"children",enumerable:!0,collection:!0},{name:"parent"}),Rt=new(jt())({name:"labels",enumerable:!0,collection:!0},{name:"labelTarget"}),At=new(jt())({name:"attachers",collection:!0},{name:"host"}),Ot=new(jt())({name:"outgoing",collection:!0},{name:"source"}),Nt=new(jt())({name:"incoming",collection:!0},{name:"target"});function Lt(){Object.defineProperty(this,"businessObject",{writable:!0}),Object.defineProperty(this,"label",{get:function(){return this.labels[0]},set:function(e){var t=this.label,n=this.labels;!e&&t?n.remove(t):n.add(e,0)}}),Bt.bind(this,"parent"),Rt.bind(this,"labels"),Ot.bind(this,"outgoing"),Nt.bind(this,"incoming")}function zt(){Lt.call(this),Bt.bind(this,"children"),At.bind(this,"host"),At.bind(this,"attachers")}function Dt(){zt.call(this)}function It(){zt.call(this),Rt.bind(this,"labelTarget")}function $t(){Lt.call(this),Ot.bind(this,"source"),Nt.bind(this,"target")}r()(zt,Lt),r()(Dt,zt),r()(It,zt),r()($t,Lt);var Ft={connection:$t,shape:zt,label:It,root:Dt};function Ht(){this._uid=12}Ht.prototype.createRoot=function(e){return this.create("root",e)},Ht.prototype.createLabel=function(e){return this.create("label",e)},Ht.prototype.createShape=function(e){return this.create("shape",e)},Ht.prototype.createConnection=function(e){return this.create("connection",e)},Ht.prototype.create=function(e,t){return(t=G({},t||{})).id||(t.id=e+"_"+this._uid++),function(e,t){var n=Ft[e];if(!n)throw new Error("unknown type: <"+e+">");return G(new n,t)}(e,t)};var Gt=Array.prototype.slice;function Ut(){this._listeners={},this.on("diagram.destroy",1,this._destroy,this)}function Wt(){}function Vt(e){return e.childNodes[0]}function qt(e,t,n){var i=De();i.setTranslate(t,n),Ve(e,i)}function Yt(e,t){this._eventBus=e,this._elementRegistry=t}function Xt(e,t,n){var i=n||t.firstChild;e!==i&&t.insertBefore(e,i)}Ut.prototype.on=function(e,t,n,i){if(e=f(e)?e:[e],g(t)&&(i=n,n=t,t=1e3),!y(t))throw new Error("priority must be a number");var r=n;i&&((r=F(n,i)).__fn=n.__fn||n);var o=this;e.forEach((function(e){o._addListener(e,{priority:t,callback:r,next:null})}))},Ut.prototype.once=function(e,t,n,i){var r=this;if(g(t)&&(i=n,n=t,t=1e3),!y(t))throw new Error("priority must be a number");function o(){o.__isTomb=!0;var t=n.apply(i,arguments);return r.off(e,o),t}o.__fn=n,this.on(e,t,o)},Ut.prototype.off=function(e,t){e=f(e)?e:[e];var n=this;e.forEach((function(e){n._removeListener(e,t)}))},Ut.prototype.createEvent=function(e){var t=new Wt;return t.init(e),t},Ut.prototype.fire=function(e,t){var n,i,r,o;if(o=Gt.call(arguments),"object"==typeof e&&(e=(t=e).type),!e)throw new Error("no event type specified");if(i=this._listeners[e]){n=t instanceof Wt?t:this.createEvent(t),o[0]=n;var a=n.type;e!==a&&(n.type=e);try{r=this._invokeListeners(n,o,i)}finally{e!==a&&(n.type=a)}return void 0===r&&n.defaultPrevented&&(r=!1),r}},Ut.prototype.handleError=function(e){return!1===this.fire("error",{error:e})},Ut.prototype._destroy=function(){this._listeners={}},Ut.prototype._invokeListeners=function(e,t,n){for(var i;n&&!e.cancelBubble;)i=this._invokeListener(e,t,n),n=n.next;return i},Ut.prototype._invokeListener=function(e,t,n){var i;if(n.callback.__isTomb)return i;try{i=function(e,t){return e.apply(null,t)}(n.callback,t),void 0!==i&&(e.returnValue=i,e.stopPropagation()),!1===i&&e.preventDefault()}catch(e){if(!this.handleError(e))throw console.error("unhandled error in event listener"),console.error(e.stack),e}return i},Ut.prototype._addListener=function(e,t){var n,i=this._getListeners(e);if(i){for(;i;){if(i.priority<t.priority)return t.next=i,void(n?n.next=t:this._setListeners(e,t));n=i,i=i.next}n.next=t}else this._setListeners(e,t)},Ut.prototype._getListeners=function(e){return this._listeners[e]},Ut.prototype._setListeners=function(e,t){this._listeners[e]=t},Ut.prototype._removeListener=function(e,t){var n,i,r,o=this._getListeners(e);if(t)for(;o;)n=o.next,(r=o.callback)!==t&&r.__fn!==t||(i?i.next=n:this._setListeners(e,n)),i=o,o=n;else this._setListeners(e,null)},Wt.prototype.stopPropagation=function(){this.cancelBubble=!0},Wt.prototype.preventDefault=function(){this.defaultPrevented=!0},Wt.prototype.init=function(e){G(this,e||{})},Yt.$inject=["eventBus","elementRegistry"],Yt.prototype._getChildrenContainer=function(e){var t,n=this._elementRegistry.getGraphics(e);return e.parent?(t=function(e){return e.parentNode.childNodes[1]}(n),t||(Pe(t=Ne("g")).add("djs-children"),xe(n.parentNode,t))):t=n,t},Yt.prototype._clear=function(e){var t=Vt(e);return Q(t),t},Yt.prototype._createContainer=function(e,t,n,i){var r=Ne("g");Pe(r).add("djs-group"),void 0!==n?Xt(r,t,t.childNodes[n]):xe(t,r);var o=Ne("g");Pe(o).add("djs-element"),Pe(o).add("djs-"+e),i&&Pe(o).add("djs-frame"),xe(r,o);var a=Ne("g");return Pe(a).add("djs-visual"),xe(o,a),o},Yt.prototype.create=function(e,t,n){var i=this._getChildrenContainer(t.parent);return this._createContainer(e,i,n,ft(t))},Yt.prototype.updateContainments=function(e){var t,n=this,i=this._elementRegistry;t=E(e,(function(e,t){return t.parent&&(e[t.parent.id]=t.parent),e}),{}),b(t,(function(e){var t=e.children;if(t){var r=n._getChildrenContainer(e);b(t.slice().reverse(),(function(e){Xt(i.getGraphics(e).parentNode,r)}))}}))},Yt.prototype.drawShape=function(e,t){return this._eventBus.fire("render.shape",{gfx:e,element:t})},Yt.prototype.getShapePath=function(e){return this._eventBus.fire("render.getShapePath",e)},Yt.prototype.drawConnection=function(e,t){return this._eventBus.fire("render.connection",{gfx:e,element:t})},Yt.prototype.getConnectionPath=function(e){return this._eventBus.fire("render.getConnectionPath",e)},Yt.prototype.update=function(e,t,n){if(t.parent){var i=this._clear(n);if("shape"===e)this.drawShape(i,t),qt(n,t.x,t.y);else{if("connection"!==e)throw new Error("unknown type: "+e);this.drawConnection(i,t)}t.hidden?be(n,"display","none"):be(n,"display","block")}},Yt.prototype.remove=function(e){Me(this._elementRegistry.getGraphics(e).parentNode)};const Kt={__depends__:[gt],__init__:["canvas"],canvas:["type",kt],elementRegistry:["type",Ct],elementFactory:["type",Ht],eventBus:["type",Ut],graphicsFactory:["type",Yt]};function Zt(e,t){this.injector=t=t||function(e){return function(e){var t=[],n=[];function i(e){return t.indexOf(e)>=0}e.forEach((function e(r){i(r)||((r.__depends__||[]).forEach(e),i(r)||(function(e){t.push(e)}(r),(r.__init__||[]).forEach((function(e){n.push(e)}))))}));var r=new nt(t);return n.forEach((function(e){try{r["string"==typeof e?"get":"invoke"](e)}catch(e){throw console.error("Failed to instantiate component"),console.error(e.stack),e}})),r}([{config:["value",e=e||{}]},Kt].concat(e.modules||[]))}(e),this.get=t.get,this.invoke=t.invoke,this.get("eventBus").fire("diagram.init")}function Jt(){}function Qt(e,t){this.model=e,this.properties=t}Zt.prototype.destroy=function(){this.get("eventBus").fire("diagram.destroy")},Zt.prototype.clear=function(){this.get("eventBus").fire("diagram.clear")},Jt.prototype.get=function(e){return this.$model.properties.get(this,e)},Jt.prototype.set=function(e,t){this.$model.properties.set(this,e,t)},Qt.prototype.createType=function(e){var t=this.model,n=this.properties,i=Object.create(Jt.prototype);b(e.properties,(function(e){e.isMany||void 0===e.default||(i[e.name]=e.default)})),n.defineModel(i,t),n.defineDescriptor(i,e);var r=e.ns.name;function o(e){n.define(this,"$type",{value:r,enumerable:!0}),n.define(this,"$attrs",{value:{}}),n.define(this,"$parent",{writable:!0}),b(e,F((function(e,t){this.set(t,e)}),this))}return o.prototype=i,o.hasType=i.$instanceOf=this.model.hasType,n.defineModel(o,t),n.defineDescriptor(o,e),o};var en={String:!0,Boolean:!0,Integer:!0,Real:!0,Element:!0},tn={String:function(e){return e},Boolean:function(e){return"true"===e},Integer:function(e){return parseInt(e,10)},Real:function(e){return parseFloat(e,10)}};function nn(e,t){var n=tn[e];return n?n(t):t}function rn(e){return!!en[e]}function on(e){return!!tn[e]}function an(e,t){var n,i,r=e.split(/:/);if(1===r.length)n=e,i=t;else{if(2!==r.length)throw new Error("expected <prefix:localName> or <localName>, got "+e);n=r[1],i=r[0]}return{name:e=(i?i+":":"")+n,prefix:i,localName:n}}function sn(e){this.ns=e,this.name=e.name,this.allTypes=[],this.allTypesByName={},this.properties=[],this.propertiesByName={}}function cn(e,t){this.packageMap={},this.typeMap={},this.packages=[],this.properties=t,b(e,F(this.registerPackage,this))}function un(e,t,n){var i=t[n];if(i in e)throw new Error("package with "+n+" <"+i+"> already defined")}function ln(e){this.model=e}function pn(e,t,n){Object.defineProperty(e,t.name,{enumerable:!t.isReference,writable:!0,value:n,configurable:!0})}function hn(e){this.properties=new ln(this),this.factory=new Qt(this,this.properties),this.registry=new cn(e,this.properties),this.typeCache={}}sn.prototype.build=function(){return U(this,["ns","name","allTypes","allTypesByName","properties","propertiesByName","bodyProperty","idProperty"])},sn.prototype.addProperty=function(e,t,n){"boolean"==typeof t&&(n=t,t=void 0),this.addNamedProperty(e,!1!==n);var i=this.properties;void 0!==t?i.splice(t,0,e):i.push(e)},sn.prototype.replaceProperty=function(e,t,n){var i=e.ns,r=this.properties,o=this.propertiesByName,a=e.name!==t.name;if(e.isId){if(!t.isId)throw new Error("property <"+t.ns.name+"> must be id property to refine <"+e.ns.name+">");this.setIdProperty(t,!1)}if(e.isBody){if(!t.isBody)throw new Error("property <"+t.ns.name+"> must be body property to refine <"+e.ns.name+">");this.setBodyProperty(t,!1)}var s=r.indexOf(e);if(-1===s)throw new Error("property <"+i.name+"> not found in property list");r.splice(s,1),this.addProperty(t,n?void 0:s,a),o[i.name]=o[i.localName]=t},sn.prototype.redefineProperty=function(e,t,n){var i=e.ns.prefix,r=t.split("#"),o=an(r[0],i),a=an(r[1],o.prefix).name,s=this.propertiesByName[a];if(!s)throw new Error("refined property <"+a+"> not found");this.replaceProperty(s,e,n),delete e.redefines},sn.prototype.addNamedProperty=function(e,t){var n=e.ns,i=this.propertiesByName;t&&(this.assertNotDefined(e,n.name),this.assertNotDefined(e,n.localName)),i[n.name]=i[n.localName]=e},sn.prototype.removeNamedProperty=function(e){var t=e.ns,n=this.propertiesByName;delete n[t.name],delete n[t.localName]},sn.prototype.setBodyProperty=function(e,t){if(t&&this.bodyProperty)throw new Error("body property defined multiple times (<"+this.bodyProperty.ns.name+">, <"+e.ns.name+">)");this.bodyProperty=e},sn.prototype.setIdProperty=function(e,t){if(t&&this.idProperty)throw new Error("id property defined multiple times (<"+this.idProperty.ns.name+">, <"+e.ns.name+">)");this.idProperty=e},sn.prototype.assertNotDefined=function(e,t){var n=e.name,i=this.propertiesByName[n];if(i)throw new Error("property <"+n+"> already defined; override of <"+i.definedBy.ns.name+"#"+i.ns.name+"> by <"+e.definedBy.ns.name+"#"+e.ns.name+"> not allowed without redefines")},sn.prototype.hasProperty=function(e){return this.propertiesByName[e]},sn.prototype.addTrait=function(e,t){var n=this.allTypesByName,i=this.allTypes,r=e.name;r in n||(b(e.properties,F((function(n){n=G({},n,{name:n.ns.localName,inherited:t}),Object.defineProperty(n,"definedBy",{value:e});var i=n.replaces,r=n.redefines;i||r?this.redefineProperty(n,i||r,i):(n.isBody&&this.setBodyProperty(n),n.isId&&this.setIdProperty(n),this.addProperty(n))}),this)),i.push(e),n[r]=e)},cn.prototype.getPackage=function(e){return this.packageMap[e]},cn.prototype.getPackages=function(){return this.packages},cn.prototype.registerPackage=function(e){e=G({},e);var t=this.packageMap;un(t,e,"prefix"),un(t,e,"uri"),b(e.types,F((function(t){this.registerType(t,e)}),this)),t[e.uri]=t[e.prefix]=e,this.packages.push(e)},cn.prototype.registerType=function(e,t){var n=an((e=G({},e,{superClass:(e.superClass||[]).slice(),extends:(e.extends||[]).slice(),properties:(e.properties||[]).slice(),meta:G(e.meta||{})})).name,t.prefix),i=n.name,r={};b(e.properties,F((function(e){var t=an(e.name,n.prefix),i=t.name;rn(e.type)||(e.type=an(e.type,t.prefix).name),G(e,{ns:t,name:i}),r[i]=e}),this)),G(e,{ns:n,name:i,propertiesByName:r}),b(e.extends,F((function(e){var t=this.typeMap[e];t.traits=t.traits||[],t.traits.push(i)}),this)),this.definePackage(e,t),this.typeMap[i]=e},cn.prototype.mapTypes=function(e,t,n){var i=rn(e.name)?{name:e.name}:this.typeMap[e.name],r=this;function o(e){return a(e,!0)}function a(n,i){var o=an(n,rn(n)?"":e.prefix);r.mapTypes(o,t,i)}if(!i)throw new Error("unknown type <"+e.name+">");b(i.superClass,n?o:a),t(i,!n),b(i.traits,o)},cn.prototype.getEffectiveDescriptor=function(e){var t=an(e),n=new sn(t);this.mapTypes(t,(function(e,t){n.addTrait(e,t)}));var i=n.build();return this.definePackage(i,i.allTypes[i.allTypes.length-1].$pkg),i},cn.prototype.definePackage=function(e,t){this.properties.define(e,"$pkg",{value:t})},ln.prototype.set=function(e,t,n){var i=this.model.getPropertyDescriptor(e,t),r=i&&i.name;void 0===n?i?delete e[r]:delete e.$attrs[t]:i?r in e?e[r]=n:pn(e,i,n):e.$attrs[t]=n},ln.prototype.get=function(e,t){var n=this.model.getPropertyDescriptor(e,t);if(!n)return e.$attrs[t];var i=n.name;return!e[i]&&n.isMany&&pn(e,n,[]),e[i]},ln.prototype.define=function(e,t,n){Object.defineProperty(e,t,n)},ln.prototype.defineDescriptor=function(e,t){this.define(e,"$descriptor",{value:t})},ln.prototype.defineModel=function(e,t){this.define(e,"$model",{value:t})},hn.prototype.create=function(e,t){var n=this.getType(e);if(!n)throw new Error("unknown type <"+e+">");return new n(t)},hn.prototype.getType=function(e){var t=this.typeCache,n=m(e)?e:e.ns.name,i=t[n];return i||(e=this.registry.getEffectiveDescriptor(n),i=t[n]=this.factory.createType(e)),i},hn.prototype.createAny=function(e,t,n){var i=an(e),r={$type:e,$instanceOf:function(e){return e===this.$type}},o={name:e,isGeneric:!0,ns:{prefix:i.prefix,localName:i.localName,uri:t}};return this.properties.defineDescriptor(r,o),this.properties.defineModel(r,this),this.properties.define(r,"$parent",{enumerable:!1,writable:!0}),b(n,(function(e,t){v(e)&&void 0!==e.value?r[e.name]=e.value:r[t]=e})),r},hn.prototype.getPackage=function(e){return this.registry.getPackage(e)},hn.prototype.getPackages=function(){return this.registry.getPackages()},hn.prototype.getElementDescriptor=function(e){return e.$descriptor},hn.prototype.hasType=function(e,t){return void 0===t&&(t=e,e=this),t in e.$model.getElementDescriptor(e).allTypesByName},hn.prototype.getPropertyDescriptor=function(e,t){return this.getElementDescriptor(e).propertiesByName[t]},hn.prototype.getTypeDescriptor=function(e){return this.registry.typeMap[e]};var dn=String.fromCharCode,fn=Object.prototype.hasOwnProperty,vn=/&#(\d+);|&#x([0-9a-f]+);|&(\w+);/gi,yn={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'};function gn(e,t,n,i){return i?fn.call(yn,i)?yn[i]:"&"+i+";":dn(t||parseInt(n,16))}function mn(e){return e.length>3&&-1!==e.indexOf("&")?e.replace(vn,gn):e}Object.keys(yn).forEach((function(e){yn[e.toUpperCase()]=yn[e]}));var xn="xsi:type",_n="non-whitespace outside of root node";function wn(e){return new Error(e)}function bn(e){return"missing namespace for prefix <"+e+">"}function En(e){return{get:e,enumerable:!0}}function Sn(e){var t,n={};for(t in e)n[t]=e[t];return n}function kn(e){return e+"$uri"}function Tn(){return{line:0,column:0}}function Pn(e){throw e}function Cn(e){if(!this)return new Cn(e);var t,n,i,r,o,a,s,c,u,l=e&&e.proxy,p=Pn,h=Tn,d=!1,f=!1,v=null,y=!1;function g(e){e instanceof Error||(e=wn(e)),v=e,p(e,h)}function m(e){o&&(e instanceof Error||(e=wn(e)),o(e,h))}this.on=function(e,u){if("function"!=typeof u)throw wn("required args <name, cb>");switch(e){case"openTag":n=u;break;case"text":t=u;break;case"closeTag":i=u;break;case"error":p=u;break;case"warn":o=u;break;case"cdata":r=u;break;case"attention":c=u;break;case"question":s=u;break;case"comment":a=u;break;default:throw wn("unsupported event: "+e)}return this},this.ns=function(e){if(void 0===e&&(e={}),"object"!=typeof e)throw wn("required args <nsMap={}>");var t,n={};for(t in e)n[t]=e[t];return n["http://www.w3.org/2001/XMLSchema-instance"]="xsi",f=!0,u=n,this},this.parse=function(e){if("string"!=typeof e)throw wn("required args <xml=string>");return v=null,function(e){var o,p,v,x,_,w,b,E,S,k,T,P=f?[]:null,C=f?function(e){var t,n,i={};for(t in e)i[n=e[t]]=n,i[kn(n)]=t;return i}(u):null,M=[],j=0,B=!1,R=!1,A=0,O=0,N="",L=0;function z(){if(null!==T)return T;var e,t,n,i,r,o,a,s,c,l,p,h=f&&C.xmlns,v=f&&d?[]:null,y=L,g=N,x=g.length,_={},w={};e:for(;y<x;y++)if(c=!1,!(32===(l=g.charCodeAt(y))||l<14&&l>8)){for((l<65||l>122||l>90&&l<97)&&95!==l&&58!==l&&(m("illegal first char attribute name"),c=!0),p=y+1;p<x;p++)if(!((l=g.charCodeAt(p))>96&&l<123||l>64&&l<91||l>47&&l<59||46===l||45===l||95===l)){if(32===l||l<14&&l>8){m("missing attribute value"),y=p;continue e}if(61===l)break;m("illegal attribute name char"),c=!0}if("xmlns:xmlns"===(s=g.substring(y,p))&&(m("illegal declaration of xmlns"),c=!0),34===(l=g.charCodeAt(p+1)))-1===(p=g.indexOf('"',y=p+2))&&-1!==(p=g.indexOf("'",y))&&(m("attribute value quote missmatch"),c=!0);else if(39===l)-1===(p=g.indexOf("'",y=p+2))&&-1!==(p=g.indexOf('"',y))&&(m("attribute value quote missmatch"),c=!0);else for(m("missing attribute value quotes"),c=!0,p+=1;p<x&&!(32===(l=g.charCodeAt(p+1))||l<14&&l>8);p++);for(-1===p&&(m("missing closing quotes"),p=x,c=!0),c||(o=g.substring(y,p)),y=p;p+1<x&&!(32===(l=g.charCodeAt(p+1))||l<14&&l>8);p++)y===p&&(m("illegal character after attribute end"),c=!0);if(y=p+1,!c)if(s in w)m("attribute <"+s+"> already defined");else if(w[s]=!0,f)if(d){if(null!==(r="xmlns"===s?"xmlns":120===s.charCodeAt(0)&&"xmlns:"===s.substr(0,6)?s.substr(6):null)){if(e=mn(o),t=kn(r),!(a=u[e])){if("xmlns"===r||t in C&&C[t]!==e)do{a="ns"+j++}while(void 0!==C[a]);else a=r;u[e]=a}C[r]!==a&&(i||(C=Sn(C),i=!0),C[r]=a,"xmlns"===r&&(C[kn(a)]=e,h=a),C[t]=e),_[s]=o;continue}v.push(s,o)}else-1!==(l=s.indexOf(":"))?(n=C[s.substring(0,l)])?((s=h===n?s.substr(l+1):n+s.substr(l))===xn&&(-1!==(l=o.indexOf(":"))?(n=o.substring(0,l),o=(n=C[n]||n)+o.substring(l)):o=h+":"+o),_[s]=o):m(bn(s.substring(0,l))):_[s]=o;else _[s]=o}if(d)for(y=0,x=v.length;y<x;y++){if(s=v[y++],o=v[y],-1!==(l=s.indexOf(":"))){if(!(n=C[s.substring(0,l)])){m(bn(s.substring(0,l)));continue}(s=h===n?s.substr(l+1):n+s.substr(l))===xn&&(-1!==(l=o.indexOf(":"))?(n=o.substring(0,l),o=(n=C[n]||n)+o.substring(l)):o=h+":"+o)}_[s]=o}return T=_}for(h=function(){for(var t,n,i=/(\r\n|\r|\n)/g,r=0,o=0,a=0,s=O;A>=a&&(t=i.exec(e))&&!((s=t[0].length+t.index)>A);)r+=1,a=s;return-1==A?(o=s,n=e.substring(O)):0===O?n=e.substring(O,A):(o=A-a,n=-1==O?e.substring(A):e.substring(A,O+1)),{data:n,line:r,column:o}},l&&(k=Object.create({},{name:En((function(){return E})),originalName:En((function(){return S})),attrs:En(z),ns:En((function(){return C}))}));-1!==O;){if(-1===(A=60===e.charCodeAt(O)?O:e.indexOf("<",O)))return M.length?g("unexpected end of file"):0===O?g("missing start tag"):void(O<e.length&&e.substring(O).trim()&&m(_n));if(O!==A)if(M.length){if(t&&(t(e.substring(O,A),mn,h),y))return}else if(e.substring(O,A).trim()&&(m(_n),y))return;if(33===(_=e.charCodeAt(A+1))){if(91===(x=e.charCodeAt(A+2))&&"CDATA["===e.substr(A+3,6)){if(-1===(O=e.indexOf("]]>",A)))return g("unclosed cdata");if(r&&(r(e.substring(A+9,O),h),y))return;O+=3;continue}if(45===x&&45===e.charCodeAt(A+3)){if(-1===(O=e.indexOf("--\x3e",A)))return g("unclosed comment");if(a&&(a(e.substring(A+4,O),mn,h),y))return;O+=3;continue}}if(63!==_){for(p=A+1;;p++){if(w=e.charCodeAt(p),isNaN(w))return O=-1,g("unclosed tag");if(34===w)p=-1!==(x=e.indexOf('"',p+1))?x:p;else if(39===w)p=-1!==(x=e.indexOf("'",p+1))?x:p;else if(62===w){O=p;break}}if(33!==_){if(T={},47===_){if(B=!1,R=!0,!M.length)return g("missing open tag");if(p=E=M.pop(),x=A+2+p.length,e.substring(A+2,x)!==p)return g("closing tag mismatch");for(;x<O;x++)if(!(32===(_=e.charCodeAt(x))||_>8&&_<14))return g("close tag")}else{if(47===e.charCodeAt(O-1)?(p=E=e.substring(A+1,O-1),B=!0,R=!0):(p=E=e.substring(A+1,O),B=!0,R=!1),!(_>96&&_<123||_>64&&_<91||95===_||58===_))return g("illegal first char nodeName");for(x=1,v=p.length;x<v;x++)if(!((_=p.charCodeAt(x))>96&&_<123||_>64&&_<91||_>47&&_<59||45===_||95===_||46==_)){if(32===_||_<14&&_>8){E=p.substring(0,x),T=null;break}return g("invalid nodeName")}R||M.push(E)}if(f){if(o=C,B&&(R||P.push(o),null===T&&(d=-1!==p.indexOf("xmlns",x))&&(L=x,N=p,z(),d=!1)),S=E,-1!==(_=E.indexOf(":"))){if(!(b=C[E.substring(0,_)]))return g("missing namespace on <"+S+">");E=E.substr(_+1)}else b=C.xmlns;b&&(E=b+":"+E)}if(B&&(L=x,N=p,n&&(l?n(k,mn,R,h):n(E,z,mn,R,h),y)))return;if(R){if(i&&(i(l?k:E,mn,B,h),y))return;f&&(C=B?o:P.pop())}O+=1}else{if(c&&(c(e.substring(A,O+1),mn,h),y))return;O+=1}}else{if(-1===(O=e.indexOf("?>",A)))return g("unclosed question");if(s&&(s(e.substring(A,O+2),h),y))return;O+=2}}}(e),h=Tn,y=!1,v},this.stop=function(){y=!0}}function Mn(e){return e.xml&&"lowerCase"===e.xml.tagAlias}var jn={xsi:"http://www.w3.org/2001/XMLSchema-instance",xml:"http://www.w3.org/XML/1998/namespace"},Bn="xsi:type";function Rn(e){return e.xml&&e.xml.serialize}function An(e){return Rn(e)===Bn}function On(e,t){return Mn(t)?e.prefix+":"+((n=e.localName).charAt(0).toUpperCase()+n.slice(1)):e.name;var n}function Nn(e){return new Error(e)}function Ln(e){return e.$descriptor}function zn(e){G(this,e),this.elementsById={},this.references=[],this.warnings=[],this.addReference=function(e){this.references.push(e)},this.addElement=function(e){if(!e)throw Nn("expected element");var t,n=this.elementsById,i=Ln(e).idProperty;if(i&&(t=e.get(i.name))){if(!/^([a-z][\w-.]*:)?[a-z_][\w-.]*$/i.test(t))throw new Error("illegal ID <"+t+">");if(n[t])throw Nn("duplicate ID <"+t+">");n[t]=e}},this.addWarning=function(e){this.warnings.push(e)}}function Dn(){}function In(){}function $n(){}function Fn(e,t){this.property=e,this.context=t}function Hn(e,t){this.element=t,this.propertyDesc=e}function Gn(){}function Un(e,t,n){this.model=e,this.type=e.getType(t),this.context=n}function Wn(e,t,n){Un.call(this,e,t,n)}function Vn(e,t,n){this.model=e,this.context=n}function qn(e){e instanceof hn&&(e={model:e}),G(this,{lax:!1},e)}Dn.prototype.handleEnd=function(){},Dn.prototype.handleText=function(){},Dn.prototype.handleNode=function(){},In.prototype=Object.create(Dn.prototype),In.prototype.handleNode=function(){return this},$n.prototype=Object.create(Dn.prototype),$n.prototype.handleText=function(e){this.body=(this.body||"")+e},Fn.prototype=Object.create($n.prototype),Fn.prototype.handleNode=function(e){if(this.element)throw Nn("expected no sub nodes");return this.element=this.createReference(e),this},Fn.prototype.handleEnd=function(){this.element.id=this.body},Fn.prototype.createReference=function(e){return{property:this.property.ns.name,id:""}},Hn.prototype=Object.create($n.prototype),Hn.prototype.handleEnd=function(){var e=this.body||"",t=this.element,n=this.propertyDesc;e=nn(n.type,e),n.isMany?t.get(n.name).push(e):t.set(n.name,e)},Gn.prototype=Object.create($n.prototype),Gn.prototype.handleNode=function(e){var t=this,n=this.element;return n?t=this.handleChild(e):(n=this.element=this.createElement(e),this.context.addElement(n)),t},Un.prototype=Object.create(Gn.prototype),Un.prototype.addReference=function(e){this.context.addReference(e)},Un.prototype.handleText=function(e){if(!Ln(this.element).bodyProperty)throw Nn("unexpected body text <"+e+">");$n.prototype.handleText.call(this,e)},Un.prototype.handleEnd=function(){var e=this.body,t=this.element,n=Ln(t).bodyProperty;n&&void 0!==e&&(e=nn(n.type,e),t.set(n.name,e))},Un.prototype.createElement=function(e){var t,n=e.attributes,i=this.type,r=Ln(i),o=this.context,a=new i({}),s=this.model;return b(n,(function(e,n){var i=r.propertiesByName[n];i&&i.isReference?i.isMany?b(e.split(" "),(function(e){o.addReference({element:a,property:i.ns.name,id:e})})):o.addReference({element:a,property:i.ns.name,id:e}):(i?e=nn(i.type,e):"xmlns"!==n&&(t=an(n,r.ns.prefix),s.getPackage(t.prefix)&&o.addWarning({message:"unknown attribute <"+n+">",element:a,property:n,value:e})),a.set(n,e))})),a},Un.prototype.getPropertyForNode=function(e){var t,n,i=an(e.name),r=this.type,o=this.model,a=Ln(r),s=i.name,c=a.propertiesByName[s];if(c&&!c.isAttr)return An(c)&&(t=e.attributes["xsi:type"])?(t=function(e,t){var n=an(e);return function(e,t){var n=e.name,i=e.localName,r=t.xml&&t.xml.typePrefix;return r&&0===i.indexOf(r)?e.prefix+":"+i.slice(r.length):n}(n,t.getPackage(n.prefix))}(t,o),G({},c,{effectiveType:Ln(n=o.getType(t)).name})):c;var u=o.getPackage(i.prefix);if(u){if(t=On(i,u),n=o.getType(t),c=_(a.properties,(function(e){return!e.isVirtual&&!e.isReference&&!e.isAttribute&&n.hasType(e.type)})))return G({},c,{effectiveType:Ln(n).name})}else if(c=_(a.properties,(function(e){return!e.isReference&&!e.isAttribute&&"Element"===e.type})))return c;throw Nn("unrecognized element <"+i.name+">")},Un.prototype.toString=function(){return"ElementDescriptor["+Ln(this.type).name+"]"},Un.prototype.valueHandler=function(e,t){return new Hn(e,t)},Un.prototype.referenceHandler=function(e){return new Fn(e,this.context)},Un.prototype.handler=function(e){return"Element"===e?new Vn(this.model,e,this.context):new Un(this.model,e,this.context)},Un.prototype.handleChild=function(e){var t,n,i,r;if(t=this.getPropertyForNode(e),i=this.element,on(n=t.effectiveType||t.type))return this.valueHandler(t,i);var o=(r=t.isReference?this.referenceHandler(t).handleNode(e):this.handler(n).handleNode(e)).element;return void 0!==o&&(t.isMany?i.get(t.name).push(o):i.set(t.name,o),t.isReference?(G(o,{element:i}),this.context.addReference(o)):o.$parent=i),r},Wn.prototype=Object.create(Un.prototype),Wn.prototype.createElement=function(e){var t=e.name,n=an(t),i=this.model,r=this.type,o=i.getPackage(n.prefix),a=o&&On(n,o)||t;if(!r.hasType(a))throw Nn("unexpected element <"+e.originalName+">");return Un.prototype.createElement.call(this,e)},Vn.prototype=Object.create(Gn.prototype),Vn.prototype.createElement=function(e){var t=e.name,n=an(t).prefix,i=e.ns[n+"$uri"],r=e.attributes;return this.model.createAny(t,i,r)},Vn.prototype.handleChild=function(e){var t=new Vn(this.model,"Element",this.context).handleNode(e),n=this.element,i=t.element;return void 0!==i&&((n.$children=n.$children||[]).push(i),i.$parent=n),t},Vn.prototype.handleEnd=function(){this.body&&(this.element.$body=this.body)},qn.prototype.fromXML=function(e,t,n){var i=t.rootHandler;t instanceof Un?(i=t,t={}):"string"==typeof t?(i=this.handler(t),t={}):"string"==typeof i&&(i=this.handler(i));var r=this.model,o=this.lax,a=new zn(G({},t,{rootHandler:i})),s=new Cn({proxy:!0}),c=function(){var e=[];return Object.defineProperty(e,"peek",{value:function(){return this[this.length-1]}}),e}();function u(e,t,n){var i=t(),r=i.line,o=i.column,s=i.data;"<"===s.charAt(0)&&-1!==s.indexOf(" ")&&(s=s.slice(0,s.indexOf(" "))+">");var c="unparsable content "+(s?s+" ":"")+"detected\n\tline: "+r+"\n\tcolumn: "+o+"\n\tnested error: "+e.message;if(n)return a.addWarning({message:c,error:e}),!0;throw Nn(c)}function l(e,t){return u(e,t,!0)}i.context=a,c.push(i);var p=/^<\?xml /i,h=/ encoding="([^"]+)"/i,d=/^utf-8$/i;function f(e,t){try{c.peek().handleText(e)}catch(e){l(e,t)}}var v=r.getPackages().reduce((function(e,t){return e[t.uri]=t.prefix,e}),{"http://www.w3.org/XML/1998/namespace":"xml"});return s.ns(v).on("openTag",(function(e,t,n,i){var r=e.attrs||{},a=Object.keys(r).reduce((function(e,n){var i=t(r[n]);return e[n]=i,e}),{});!function(e,t){var n=c.peek();try{c.push(n.handleNode(e))}catch(e){u(e,t,o)&&c.push(new In)}}({name:e.name,originalName:e.originalName,attributes:a,ns:e.ns},i)})).on("question",(function(e){if(p.test(e)){var t=h.exec(e),n=t&&t[1];n&&!d.test(n)&&a.addWarning({message:"unsupported document encoding <"+n+">, falling back to UTF-8"})}})).on("closeTag",(function(){c.pop().handleEnd()})).on("cdata",f).on("text",(function(e,t,n){!function(e,t){(e=e.trim())&&f(e,t)}(t(e),n)})).on("error",u).on("warn",l),new Promise((function(t,n){var r;try{s.parse(e),function(){var e,t,n=a.elementsById,i=a.references;for(e=0;t=i[e];e++){var r=t.element,o=n[t.id],s=Ln(r).propertiesByName[t.property];if(o||a.addWarning({message:"unresolved reference <"+t.id+">",element:t.element,property:t.property,value:t.id}),s.isMany){var c=r.get(s.name),u=c.indexOf(t);-1===u&&(u=c.length),o?c[u]=o:c.splice(u,1)}else r.set(s.name,o)}}()}catch(e){r=e}var o=i.element;r||o||(r=Nn("failed to parse document as <"+i.type.$descriptor.name+">"));var c=a.warnings,u=a.references,l=a.elementsById;return r?(r.warnings=c,n(r)):t({rootElement:o,elementsById:l,references:u,warnings:c})}))},qn.prototype.handler=function(e){return new Wn(this.model,e)};var Yn=/<|>|'|"|&|\n\r|\n/g,Xn=/<|>|&/g;function Kn(e){var t={},n={},i={},r=[],o=[];this.byUri=function(t){return n[t]||e&&e.byUri(t)},this.add=function(e,t){n[e.uri]=e,t?r.push(e):o.push(e),this.mapPrefix(e.prefix,e.uri)},this.uriByPrefix=function(e){return t[e||"xmlns"]},this.mapPrefix=function(e,n){t[e||"xmlns"]=n},this.getNSKey=function(e){return void 0!==e.prefix?e.uri+"|"+e.prefix:e.uri},this.logUsed=function(t){var n=t.uri,r=this.getNSKey(t);i[r]=this.byUri(n),e&&e.logUsed(t)},this.getUsed=function(e){var t=this;return[].concat(r,o).filter((function(e){var n=t.getNSKey(e);return i[n]}))}}function Zn(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function Jn(e){return m(e)?e:(e.prefix?e.prefix+":":"")+e.localName}var Qn={"\n":"#10","\n\r":"#10",'"':"#34","'":"#39","<":"#60",">":"#62","&":"#38"},ei={"<":"lt",">":"gt","&":"amp"};function ti(e,t,n){return(e=m(e)?e:""+e).replace(t,(function(e){return"&"+n[e]+";"}))}function ni(e){this.tagName=e}function ii(){}function ri(e){this.tagName=e}function oi(e,t){this.body=[],this.attrs=[],this.parent=e,this.propertyDescriptor=t}function ai(e,t){oi.call(this,e,t)}function si(){this.value="",this.write=function(e){this.value+=e}}function ci(e,t){var n=[""];this.append=function(t){return e.write(t),this},this.appendNewLine=function(){return t&&e.write("\n"),this},this.appendIndent=function(){return t&&e.write(n.join("  ")),this},this.indent=function(){return n.push(""),this},this.unindent=function(){return n.pop(),this}}function ui(e){return e=G({format:!1,preamble:!0},e||{}),{toXML:function(t,n){var i=n||new si,r=new ci(i,e.format);if(e.preamble&&r.append('<?xml version="1.0" encoding="UTF-8"?>\n'),(new oi).build(t).serializeTo(r),!n)return i.value}}}function li(e,t){hn.call(this,e,t)}ni.prototype.build=function(e){return this.element=e,this},ni.prototype.serializeTo=function(e){e.appendIndent().append("<"+this.tagName+">"+this.element.id+"</"+this.tagName+">").appendNewLine()},ii.prototype.serializeValue=ii.prototype.serializeTo=function(e){e.append(this.escape?ti(this.value,Xn,ei):this.value)},ii.prototype.build=function(e,t){return this.value=t,"String"===e.type&&-1!==t.search(Xn)&&(this.escape=!0),this},Zn(ri,ii),ri.prototype.serializeTo=function(e){e.appendIndent().append("<"+this.tagName+">"),this.serializeValue(e),e.append("</"+this.tagName+">").appendNewLine()},oi.prototype.build=function(e){this.element=e;var t,n,i=e.$descriptor,r=this.propertyDescriptor,o=i.isGeneric;return t=o?this.parseGeneric(e):this.parseNsAttributes(e),this.ns=r?this.nsPropertyTagName(r):this.nsTagName(i),this.tagName=this.addTagName(this.ns),o||(n=function(e){return w(e.$descriptor.properties,(function(t){var n=t.name;if(t.isVirtual)return!1;if(!x(e,n))return!1;var i=e[n];return i!==t.default&&null!==i&&(!t.isMany||i.length)}))}(e),this.parseAttributes(w(n,(function(e){return e.isAttr}))),this.parseContainments(w(n,(function(e){return!e.isAttr})))),this.parseGenericAttributes(e,t),this},oi.prototype.nsTagName=function(e){return function(e,t){return t.isGeneric?G({localName:t.ns.localName},e):G({localName:(n=t.ns.localName,i=t.$pkg,Mn(i)?(r=n).charAt(0).toLowerCase()+r.slice(1):n)},e);var n,i,r}(this.logNamespaceUsed(e.ns),e)},oi.prototype.nsPropertyTagName=function(e){return function(e,t){return G({localName:t.ns.localName},e)}(this.logNamespaceUsed(e.ns),e)},oi.prototype.isLocalNs=function(e){return e.uri===this.ns.uri},oi.prototype.nsAttributeName=function(e){var t;if(t=m(e)?an(e):e.ns,e.inherited)return{localName:t.localName};var n=this.logNamespaceUsed(t);return this.getNamespaces().logUsed(n),this.isLocalNs(n)?{localName:t.localName}:G({localName:t.localName},n)},oi.prototype.parseGeneric=function(e){var t=this,n=this.body,i=[];return b(e,(function(r,o){"$body"===o?n.push((new ii).build({type:"String"},r)):"$children"===o?b(r,(function(e){n.push(new oi(t).build(e))})):0!==o.indexOf("$")&&t.parseNsAttribute(e,o,r)&&i.push({name:o,value:r})})),i},oi.prototype.parseNsAttribute=function(e,t,n){var i,r=e.$model,o=an(t);if("xmlns"===o.prefix&&(i={prefix:o.localName,uri:n}),o.prefix||"xmlns"!==o.localName||(i={uri:n}),!i)return{name:t,value:n};if(r&&r.getPackage(n))this.logNamespace(i,!0,!0);else{var a=this.logNamespaceUsed(i,!0);this.getNamespaces().logUsed(a)}},oi.prototype.parseNsAttributes=function(e,t){var n=this,i=e.$attrs,r=[];return b(i,(function(t,i){var o=n.parseNsAttribute(e,i,t);o&&r.push(o)})),r},oi.prototype.parseGenericAttributes=function(e,t){var n=this;b(t,(function(t){if(t.name!==Bn)try{n.addAttribute(n.nsAttributeName(t.name),t.value)}catch(n){console.warn("missing namespace information for ",t.name,"=",t.value,"on",e,n)}}))},oi.prototype.parseContainments=function(e){var t=this,n=this.body,i=this.element;b(e,(function(e){var r=i.get(e.name),o=e.isReference;if(e.isMany||(r=[r]),e.isBody)n.push((new ii).build(e,r[0]));else if(on(e.type))b(r,(function(i){n.push(new ri(t.addTagName(t.nsPropertyTagName(e))).build(e,i))}));else if(o)b(r,(function(i){n.push(new ni(t.addTagName(t.nsPropertyTagName(e))).build(i))}));else{var a=An(e),s=function(e){return"property"===Rn(e)}(e);b(r,(function(i){var r;r=a?new ai(t,e):s?new oi(t,e):new oi(t),n.push(r.build(i))}))}}))},oi.prototype.getNamespaces=function(e){var t,n=this.namespaces,i=this.parent;return n||(t=i&&i.getNamespaces(),e||!t?this.namespaces=n=new Kn(t):n=t),n},oi.prototype.logNamespace=function(e,t,n){var i=this.getNamespaces(n),r=e.uri,o=e.prefix,a=i.byUri(r);return"xml"===o||a&&!n||i.add(e,t),i.mapPrefix(o,r),e},oi.prototype.logNamespaceUsed=function(e,t){var n,i,r,o=this.element.$model,a=this.getNamespaces(t),s=e.prefix,c=e.uri;if(!s&&!c)return{localName:e.localName};if(r=jn[s]||o&&(o.getPackage(s)||{}).uri,!(c=c||r||a.uriByPrefix(s)))throw new Error("no namespace uri given for prefix <"+s+">");if(!(e=a.byUri(c))){for(n=s,i=1;a.uriByPrefix(n);)n=s+"_"+i++;e=this.logNamespace({prefix:n,uri:c},r===c)}return s&&a.mapPrefix(s,c),e},oi.prototype.parseAttributes=function(e){var t=this,n=this.element;b(e,(function(e){var i=n.get(e.name);if(e.isReference)if(e.isMany){var r=[];b(i,(function(e){r.push(e.id)})),i=r.join(" ")}else i=i.id;t.addAttribute(t.nsAttributeName(e),i)}))},oi.prototype.addTagName=function(e){var t=this.logNamespaceUsed(e);return this.getNamespaces().logUsed(t),Jn(e)},oi.prototype.addAttribute=function(e,t){var n=this.attrs;m(t)&&(t=ti(t,Yn,Qn)),n.push({name:e,value:t})},oi.prototype.serializeAttributes=function(e){var t=this.attrs,n=this.namespaces;n&&(t=function(e){return T(e.getUsed(),(function(e){return{name:"xmlns"+(e.prefix?":"+e.prefix:""),value:e.uri}}))}(n).concat(t)),b(t,(function(t){e.append(" ").append(Jn(t.name)).append('="').append(t.value).append('"')}))},oi.prototype.serializeTo=function(e){var t=this.body[0],n=t&&t.constructor!==ii;e.appendIndent().append("<"+this.tagName),this.serializeAttributes(e),e.append(t?">":" />"),t&&(n&&e.appendNewLine().indent(),b(this.body,(function(t){t.serializeTo(e)})),n&&e.unindent().appendIndent(),e.append("</"+this.tagName+">")),e.appendNewLine()},Zn(ai,oi),ai.prototype.parseNsAttributes=function(e){var t=oi.prototype.parseNsAttributes.call(this,e),n=e.$descriptor;if(n.name===this.propertyDescriptor.type)return t;var i=this.typeNs=this.nsTagName(n);this.getNamespaces().logUsed(this.typeNs);var r=e.$model.getPackage(i.uri),o=r.xml&&r.xml.typePrefix||"";return this.addAttribute(this.nsAttributeName(Bn),(i.prefix?i.prefix+":":"")+o+n.ns.localName),t},ai.prototype.isLocalNs=function(e){return e.uri===(this.typeNs||this.ns).uri},li.prototype=Object.create(hn.prototype),li.prototype.fromXML=function(e,t,n){m(t)||(n=t,t="postit:Definitions");var i=new qn(G({model:this,lax:!0},n)),r=i.handler(t);return i.fromXML(e,r)},li.prototype.toXML=function(e,t){var n=new ui(t);return new Promise((function(t,i){try{return t({xml:n.toXML(e)})}catch(e){return i(e)}}))};var pi={postit:JSON.parse('{"name":"Postit","uri":"http://some-company/schema/postit","prefix":"postit","xml":{"tagAlias":"lowerCase"},"types":[{"name":"BoardElement","isAbstract":true,"properties":[{"name":"name","isAttr":true,"type":"String"},{"name":"id","isAttr":true,"type":"String","isId":true}]},{"name":"PostitBoard","superClass":["RootElement"],"properties":[{"name":"boardElements","isMany":true,"type":"BoardElement"}]},{"name":"Postit","superClass":["BoardElement"],"properties":[{"name":"color","isAttr":true,"type":"String"}]},{"name":"SquarePostit","superClass":["Postit"]},{"name":"CirclePostit","superClass":["Postit"]},{"name":"TextBox","superClass":["BoardElement"]},{"name":"Group","superClass":["BoardElement"]},{"name":"Image","superClass":["BoardElement"],"properties":[{"name":"source","isAttr":true,"type":"String"}]},{"name":"RootElement","isAbstract":true,"superClass":["BoardElement"]},{"name":"Definitions","superClass":["BoardElement"],"properties":[{"name":"targetNamespace","isAttr":true,"type":"String"},{"name":"expressionLanguage","default":"http://www.w3.org/1999/XPath","isAttr":true,"type":"String"},{"name":"typeLanguage","default":"http://www.w3.org/2001/XMLSchema","isAttr":true,"type":"String"},{"name":"rootElements","type":"RootElement","isMany":true},{"name":"rootBoards","isMany":true,"type":"postitDi:PostitRootBoard"},{"name":"exporter","isAttr":true,"type":"String"},{"name":"exporterVersion","isAttr":true,"type":"String"}]}]}'),postitDi:JSON.parse('{"name":"POSTITDI","uri":"http://some-company/schema/postitdi","prefix":"postitDi","xml":{"tagAlias":"lowerCase"},"types":[{"name":"PostitRootBoard","properties":[{"name":"plane","type":"PostitPlane","redefines":"Board#rootElement"},{"name":"labelStyle","type":"PostitLabelStyle","isMany":true}],"superClass":["Board"]},{"name":"PostitPlane","properties":[{"name":"boardElement","isAttr":true,"isReference":true,"type":"postit:BoardElement","redefines":"BoardElement#modelElement"}],"superClass":["Plane"]},{"name":"PostitShape","properties":[{"name":"boardElement","isAttr":true,"isReference":true,"type":"postit:BoardElement","redefines":"BoardElement#modelElement"},{"name":"label","type":"PostitLabel"}],"superClass":["LabeledShape"]},{"name":"PostitLabel","properties":[{"name":"labelStyle","type":"PostitLabelStyle","isAttr":true,"isReference":true,"redefines":"BoardElement#style"}],"superClass":["Label"]},{"name":"PostitLabelStyle","properties":[{"name":"font","type":"dc:Font"}],"superClass":["Style"]},{"name":"BoardElement","isAbstract":true,"properties":[{"name":"id","isAttr":true,"isId":true,"type":"String"},{"name":"owningBoard","type":"Board","isReadOnly":true,"isVirtual":true,"isReference":true},{"name":"owningElement","type":"BoardElement","isReadOnly":true,"isVirtual":true,"isReference":true},{"name":"modelElement","isReadOnly":true,"isVirtual":true,"isReference":true,"type":"Element"},{"name":"style","type":"Style","isReadOnly":true,"isVirtual":true,"isReference":true}]},{"name":"Node","isAbstract":true,"superClass":["BoardElement"]},{"name":"Board","isAbstract":true,"properties":[{"name":"id","isAttr":true,"isId":true,"type":"String"},{"name":"rootElement","type":"BoardElement","isReadOnly":true,"isVirtual":true},{"name":"name","isAttr":true,"type":"String"},{"name":"resolution","isAttr":true,"type":"Real"},{"name":"ownedStyle","type":"Style","isReadOnly":true,"isMany":true,"isVirtual":true}]},{"name":"Shape","isAbstract":true,"superClass":["Node"],"properties":[{"name":"bounds","type":"dc:Bounds"}]},{"name":"Plane","isAbstract":true,"superClass":["Node"],"properties":[{"name":"planeElement","type":"BoardElement","subsettedProperty":"BoardElement-ownedElement","isMany":true}]},{"name":"LabeledEdge","isAbstract":true,"superClass":["Edge"],"properties":[{"name":"ownedLabel","type":"Label","isReadOnly":true,"subsettedProperty":"BoardElement-ownedElement","isMany":true,"isVirtual":true}]},{"name":"LabeledShape","isAbstract":true,"superClass":["Shape"],"properties":[{"name":"ownedLabel","type":"Label","isReadOnly":true,"subsettedProperty":"BoardElement-ownedElement","isMany":true,"isVirtual":true}]},{"name":"Label","isAbstract":true,"superClass":["Node"],"properties":[{"name":"bounds","type":"dc:Bounds"}]},{"name":"Style","isAbstract":true,"properties":[{"name":"id","isAttr":true,"isId":true,"type":"String"}]},{"name":"Extension","properties":[{"name":"values","isMany":true,"type":"Element"}]}],"enumerations":[],"associations":[]}'),dc:JSON.parse('{"name":"dc","uri":"http://www.omg.org/spec/DD/20100524/DC","prefix":"dc","types":[{"name":"Boolean"},{"name":"Integer"},{"name":"Real"},{"name":"String"},{"name":"Font","properties":[{"name":"name","type":"String","isAttr":true},{"name":"size","type":"Real","isAttr":true},{"name":"isBold","type":"Boolean","isAttr":true},{"name":"isItalic","type":"Boolean","isAttr":true},{"name":"isUnderline","type":"Boolean","isAttr":true},{"name":"isStrikeThrough","type":"Boolean","isAttr":true}]},{"name":"Point","properties":[{"name":"x","type":"Real","default":"0","isAttr":true},{"name":"y","type":"Real","default":"0","isAttr":true}]},{"name":"Bounds","properties":[{"name":"x","type":"Real","default":"0","isAttr":true},{"name":"y","type":"Real","default":"0","isAttr":true},{"name":"width","type":"Real","isAttr":true},{"name":"height","type":"Real","isAttr":true}]}],"associations":[]}')};function hi(e,t){return new li(G({},pi,e),t)}function di(e){return e?"<"+e.$type+(e.id?' id="'+e.id:"")+'" />':"<null>"}var fi=new(jt())({name:"boardElement",enumerable:!0},{name:"di",configurable:!0});function vi(e,t){return e.$instanceOf(t)}function yi(e,t){var n={},i=[];function r(t,n){e.error(t,n)}function o(e){n[e.id]=e}function a(e){var n=e.boardElement;n?n.di?r(t("multiple DI elements defined for {element}",{element:di(n)}),{element:n}):(fi.bind(n,"di"),n.di=e):r(t("no boardElement referenced in {element}",{element:di(e)}),{element:e})}function s(e){a(e)}function c(){for(;i.length;)i.shift()()}return{handleDeferred:c,handleDefinitions:function(n,i){var u=n.rootBoards;if(i&&-1===u.indexOf(i))throw new Error(t("rootBoard not part of postit:Definitions"));if(!i&&u&&u.length&&(i=u[0]),!i)throw new Error(t("no rootBoard to display"));!function(e){var t;a(t=e.plane),b(t.planeElement,s)}(i);var l=i.plane;if(!l)throw new Error(t("no plane for {element}",{element:di(i)}));var p=l.boardElement;if(!p){if(p=function(e){return _(e.rootElements,(function(e){return vi(e,"postit:PostitBoard")}))}(n),!p)throw new Error(t("no board to display"));r(t("correcting missing boardElement on {plane} to {rootElement}",{plane:di(l),rootElement:di(p)})),l.boardElement=p,a(l)}var h,d,f,v,y=(h=p,d=l,e.root(h,d));vi(p,"postit:PostitBoard")&&(v=y,function(n,i){b(n,(function(n){!function(n,i){try{var a=n.di&&function(n,i){if(n.gfx)throw new Error(t("already rendered {element}",{element:di(n)}));return e.element(n,i)}(n,i);o(n)}catch(e){r(e.message,{element:n,error:e}),console.error(t("failed to import {element}",{element:di(n)})),console.error(e)}}(n,i)}))}((f=p).boardElements,v),o(f)),c()},registerDi:a}}function gi(e){e=G({},xi,e),this._moddle=this._createModdle(e),this._container=this._createContainer(e),this._init(this._container,this._moddle,e)}function mi(e,t){return e.warnings=t,e}r()(gi,Zt),gi.prototype.importXML=function(e,t){var n=this;return new Promise((function(i,r){e=n._emit("import.parse.start",{xml:e})||e,n._moddle.fromXML(e,"postit:Definitions").then((function(e){var o=e.rootElement,a=e.references,s=e.warnings,c={references:a,elementsById:e.elementsById,warnings:s};o=n._emit("import.parse.complete",{definitions:o,context:c})||o,n.importDefinitions(o,t).then((function(e){var t=[].concat(s,e.warnings||[]);return n._emit("import.done",{error:null,warnings:t}),i({warnings:t})})).catch((function(e){var t=[].concat(s,e.warnings||[]);return n._emit("import.done",{error:e,warnings:t}),r(mi(e,t))}))})).catch((function(e){return n._emit("import.parse.complete",{error:e}),e=function(e){var t=/unparsable content <([^>]+)> detected([\s\S]*)$/.exec(e.message);return t&&(e.message="unparsable content <"+t[1]+"> detected; this may indicate an invalid Postit board file"+t[2]),e}(e),n._emit("import.done",{error:e,warnings:e.warnings}),r(e)}))}))},gi.prototype.importDefinitions=function(e,t){var n=this;return new Promise((function(i,r){n._setDefinitions(e),n.open(t).then((function(e){var t=e.warnings;return i({warnings:t})})).catch((function(e){return r(e)}))}))},gi.prototype.open=function(e){var t=this._definitions,n=e,i=this;return new Promise((function(r,o){if(!t){var a=new Error("no XML imported");return o(mi(a,[]))}if("string"==typeof e&&(n=function(e,t){return t&&_(e.rootBoards,(function(e){return e.id===t}))||null}(t,e),!n)){var s=new Error("PostitRootBoard <"+e+"> not found");return o(mi(s,[]))}try{i.clear()}catch(e){return o(mi(e,[]))}(function(e,t,n){var i,r,o,a=[];return new Promise((function(s,c){try{return i=e.get("postitImporter"),r=e.get("eventBus"),o=e.get("translate"),r.fire("import.render.start",{definitions:t}),function(e,t){new yi({root:function(e){return i.add(e)},element:function(e,t){return i.add(e,t)},error:function(e,t){a.push({message:e,context:t})}},o).handleDefinitions(e,t)}(t,n),r.fire("import.render.complete",{error:void 0,warnings:a}),s({warnings:a})}catch(e){return c(e)}}))})(i,t,n).then((function(e){var t=e.warnings;return r({warnings:t})})).catch((function(e){return o(e)}))}))},gi.prototype.saveXML=function(e){e=e||{};var t=this,n=this._definitions;return new Promise((function(i,r){if(!n){var o=new Error("no definitions loaded");return r(o)}n=t._emit("saveXML.start",{definitions:n})||n,t._moddle.toXML(n,e).then((function(e){var n=e.xml;try{n=t._emit("saveXML.serialized",{error:null,xml:n})||n,t._emit("saveXML.done",{error:null,xml:n})}catch(e){console.error("error in saveXML life-cycle listener",e)}return i({xml:n})})).catch((function(e){return r(e)}))}))},gi.prototype.saveSVG=function(e){e=e||{};var t=this;return new Promise((function(e,n){var i,r;t._emit("saveSVG.start");try{var o=t.get("canvas"),a=o.getDefaultLayer(),s=ve("defs",o._svg),c=Ue(a),u=s?"<defs>"+Ue(s)+"</defs>":"",l=a.getBBox();i='<?xml version="1.0" encoding="utf-8"?>\n\x3c!-- created with diagram-js / http://bpmn.io --\x3e\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="'+l.width+'" height="'+l.height+'" viewBox="'+l.x+" "+l.y+" "+l.width+" "+l.height+'" version="1.1">'+u+c+"</svg>"}catch(e){r=e}return t._emit("saveSVG.done",{error:r,svg:i}),r?n(r):e({svg:i})}))},gi.prototype._setDefinitions=function(e){this._definitions=e},gi.prototype.getModules=function(){return this._modules},gi.prototype.clear=function(){this.getDefinitions()&&(this.get("elementRegistry").forEach((function(e){var t=e.businessObject;t&&t.di&&delete t.di})),Zt.prototype.clear.call(this))},gi.prototype.destroy=function(){Zt.prototype.destroy.call(this),ge(this._container)},gi.prototype.on=function(e,t,n,i){return this.get("eventBus").on(e,t,n,i)},gi.prototype.off=function(e,t){this.get("eventBus").off(e,t)},gi.prototype.attachTo=function(e){if(!e)throw new Error("parentNode required");this.detach(),e.get&&e.constructor.prototype.jquery&&(e=e.get(0)),"string"==typeof e&&(e=ve(e)),e.appendChild(this._container),this._emit("attach",{}),this.get("canvas").resized()},gi.prototype.getDefinitions=function(){return this._definitions},gi.prototype.detach=function(){var e=this._container,t=e.parentNode;t&&(this._emit("detach",{}),t.removeChild(e))},gi.prototype._init=function(e,t,n){var i=n.modules||this.getModules(),r=n.additionalModules||[],o=[].concat([{postitjs:["value",this],moddle:["value",t]}],i,r),a=G(W(n,["additionalModules"]),{canvas:G({},n.canvas,{container:e}),modules:o});Zt.call(this,a),n&&n.container&&this.attachTo(n.container)},gi.prototype._emit=function(e,t){return this.get("eventBus").fire(e,t)},gi.prototype._createContainer=function(e){var t=he('<div class="pjs-container"></div>');return G(t.style,{width:_i(e.width),height:_i(e.height),position:e.position}),t},gi.prototype._createModdle=function(e){return new hi(G({},this._moddleExtensions,e.moddleExtensions))},gi.prototype._modules=[],gi.prototype._moddleExtensions={};var xi={width:"100%",height:"100%",position:"relative"};function _i(e){return e+(y(e)?"px":"")}function wi(e){gi.call(this,e),this.on("import.parse.complete",(function(e){e.error||this._collectIds(e.definitions,e.context)}),this),this.on("diagram.destroy",(function(){this.get("moddle").ids.clear()}),this)}function bi(e,t){var n=Ei(e);return n&&"function"==typeof n.$instanceOf&&n.$instanceOf(t)}function Ei(e){return e&&e.businessObject||e}function Si(e,t){return k(t,(function(t){return bi(e,t)}))}function ki(e){if(Si(e,["postit:Postit","postit:TextBox","postit:Group"]))return"name"}function Ti(e){var t=e.businessObject,n=ki(t);if(n)return t[n]||""}function Pi(e){return e.businessObject.di}function Ci(e,t){return ji(e)||Pi(e).get("bioc:fill")||t||"white"}function Mi(e,t){return ji(e)||Pi(e).get("bioc:stroke")||t||"black"}function ji(e){return Ei(e).color||e.color}function Bi(e,t,n,i,r,o,a){it.call(this,t,a);var s=e&&e.defaultFillColor,c=e&&e.defaultStrokeColor,u=n.computeStyle;function l(e,t,n,i,r,o){v(r)&&(o=r,r=0),r=r||0,o=u(o,{stroke:"black",strokeWidth:2,fill:"white"});var a=Ne("rect");return be(a,{x:r,y:r,width:t-2*r,height:n-2*r,rx:i,ry:i}),be(a,o),xe(e,a),a}function p(e,t,n){n=G({size:{width:100}},n);var i=o.createText(t||"",n);return Pe(i).add("djs-label"),xe(e,i),i}function h(e,t,n,i){var r=function(e){return e.businessObject}(t);return p(e,r.name,{box:t,align:n,padding:5,style:{fill:"black"===Ri(t)?"white":"black",fontSize:i||16}})}this.handlers={"postit:SquarePostit":function(e,t){var n={fill:Ci(t,s),stroke:Mi(t,c)};"fillOpacity"in n||(n.fillOpacity=.95);var i=l(e,t.width,t.height,0,n);return h(e,t,"center-middle"),i},"postit:Group":function(e,t){return l(e,t.width,t.height,10,{stroke:"black",strokeWidth:1,strokeDasharray:"8,3,1,3",fill:"none",pointerEvents:"none"})},"postit:CirclePostit":function(e,t){var n={fill:Ci(t,s),stroke:Mi(t,c)};"fillOpacity"in n||(n.fillOpacity=.95);var i=function(e,t,n,i,r){v(i)&&(r=i,i=0),i=i||0,"none"===(r=u(r,{stroke:"black",strokeWidth:2,fill:"white"})).fill&&delete r.fillOpacity;var o=t/2,a=n/2,s=Ne("circle");return be(s,{cx:o,cy:a,r:Math.round((t+n)/4-i)}),be(s,r),xe(e,s),s}(e,t.width,t.height,n);return h(e,t,"center-middle"),i},"postit:TextBox":function(e,t){var n=t.textSize||16,i=l(e,t.width,t.height,0,{fill:"none",stroke:"none"});return h(e,t,"center-middle",n),i},"postit:Image":function(e,t){var n;return Ai(t)?xe(e,n=Ne("image",{x:0,y:0,width:t.width,height:t.height,href:Ai(t)})):(n=l(e,t.width,t.height,0,{fill:"#ccc",stroke:"#ccc"}),p(e,"Image Placeholder",{box:t,align:"center-middle",padding:5,style:{fill:"black",fontSize:16}})),n},label:function(e,t){return function(e,t){var n={width:90,height:30,x:t.width/2+t.x,y:t.height/2+t.y};return p(e,Ti(t),{box:n,fitBox:!0,style:G({},o.getExternalStyle(),{fill:"black"})})}(e,t)}},this._drawPath=function(e,t,n){n=u(n,["no-fill"],{strokeWidth:2,stroke:"black"});var i=Ne("path");return be(i,{d:t}),be(i,n),xe(e,i),i}}function Ri(e){return Ei(e).color||e.color}function Ai(e){return Ei(e).source||e.source}r()(wi,gi),wi.prototype._createModdle=function(e){var t=gi.prototype._createModdle.call(this,e);return t.ids=new s([32,36,1]),t},wi.prototype._collectIds=function(e,t){var n,i=e.$model.ids;for(n in i.clear(),t.elementsById)i.claim(n,t.elementsById[n])},r()(Bi,it),Bi.$inject=["config.postit","eventBus","styles","pathMap","canvas","textRenderer"],Bi.prototype.canRender=function(e){return bi(e,"postit:BoardElement")},Bi.prototype.drawShape=function(e,t){var n=t.type;return(0,this.handlers[n])(e,t)},Bi.prototype.getShapePath=function(e){return rt([["M",(t=e).x,t.y],["l",n=t.width,0],["l",0,t.height],["l",-n,0],["z"]]);var t,n};var Oi={width:150,height:50};function Ni(e,t){var n;t.textContent=e;try{var i,r=""===e;return t.textContent=r?"dummy":e,i={width:(n=t.getBBox()).width+2*n.x,height:n.height},r&&(i.width=0),i}catch(e){return{width:0,height:0}}}function Li(e,t,n){for(var i,r=e.shift(),o=r;;){if((i=Ni(o,n)).width=o?i.width:0," "===o||""===o||i.width<Math.round(t)||o.length<2)return zi(e,o,r,i);o=Di(o,i.width,t)}}function zi(e,t,n,i){if(t.length<n.length){var r=n.slice(t.length).trim();e.unshift(r)}return{width:i.width,height:i.height,text:t}}function Di(e,t,n){var i=Math.max(e.length*(n/t),1),r=function(e,t){var n,i=e.split(/(\s|-|\u00AD)/g),r=[],o=0;if(i.length>1)for(;n=i.shift();){if(!(n.length+o<t)){"-"!==n&&"­"!==n||r.pop();break}r.push(n),o+=n.length}var a=r[r.length-1];return a&&"­"===a&&(r[r.length-1]="-"),r.join("")}(e,i);return r||(r=e.slice(0,Math.max(Math.round(i-1),1))),r}function Ii(e){this._config=G({},{size:Oi,padding:0,style:{},align:"center-top"},e||{})}function $i(e){var t=G({fontFamily:"IBM Plex, sans-serif",fontSize:16,fontWeight:"normal",lineHeight:1.2},e&&e.defaultStyle||{}),n=parseInt(t.fontSize,10)-1,i=G({},t,{fontSize:n},e&&e.externalStyle||{}),r=new Ii({style:t});this.getExternalLabelBounds=function(e,t){var n=r.getDimensions(t,{box:{width:90,height:30,x:e.width/2+e.x,y:e.height/2+e.y},style:i});return{x:Math.round(e.x+e.width/2-n.width/2),y:Math.round(e.y),width:Math.ceil(n.width),height:Math.ceil(n.height)}},this.createText=function(e,t){return r.createText(e,t||{})},this.getDefaultStyle=function(){return t},this.getExternalStyle=function(){return i}}Ii.prototype.createText=function(e,t){return this.layoutText(e,t).element},Ii.prototype.getDimensions=function(e,t){return this.layoutText(e,t).dimensions},Ii.prototype.layoutText=function(e,t){var n,i=G({},this._config.size,t.box),r=G({},this._config.style,t.style),o=function(e){var t=e.split("-");return{horizontal:t[0]||"center",vertical:t[1]||"top"}}(t.align||this._config.align),a=function(e){return v(e)?G({top:0,left:0,right:0,bottom:0},e):{top:e,left:e,right:e,bottom:e}}(void 0!==t.padding?t.padding:this._config.padding),s=t.fitBox||!1,c=function(e){if("fontSize"in e&&"lineHeight"in e)return e.lineHeight*parseInt(e.fontSize,10)}(r),u=e.split(/\u00AD?\r?\n/),l=[],p=i.width-a.left-a.right,h=Ne("text");for(be(h,{x:0,y:0}),be(h,r),xe((n=void 0,(n=document.getElementById("helper-svg"))||(be(n=Ne("svg"),{id:"helper-svg",width:0,height:0,style:"visibility: hidden; position: fixed"}),document.body.appendChild(n)),n),h);u.length;)l.push(Li(u,p,h));"middle"===o.vertical&&(a.top=a.bottom=0);var d=E(l,(function(e,t,n){return e+(c||t.height)}),0)+a.top+a.bottom,f=E(l,(function(e,t,n){return t.width>e?t.width:e}),0),y=a.top;"middle"===o.vertical&&(y+=(i.height-d)/2),y-=(c||l[0].height)/4;var g=Ne("text");return be(g,r),b(l,(function(e){var t;switch(y+=c||e.height,o.horizontal){case"left":t=a.left;break;case"right":t=(s?f:p)-a.right-e.width;break;default:t=Math.max(((s?f:p)-e.width)/2+a.left,0)}var n=Ne("tspan");be(n,{x:t,y}),n.textContent=e.text,xe(g,n)})),Me(h),{dimensions:{width:f,height:d},element:g}},$i.$inject=["config.textRenderer"];var Fi=/\{([^}]+)\}/g,Hi=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g;const Gi={__init__:["postitRenderer"],postitRenderer:["type",Bi],textRenderer:["type",$i],pathMap:["type",function(){this.pathMap={EVENT_MESSAGE:{d:"m {mx},{my} l 0,{e.y1} l {e.x1},0 l 0,-{e.y1} z l {e.x0},{e.y0} l {e.x0},-{e.y0}",height:36,width:36,heightElements:[6,14],widthElements:[10.5,21]},EVENT_SIGNAL:{d:"M {mx},{my} l {e.x0},{e.y0} l -{e.x1},0 Z",height:36,width:36,heightElements:[18],widthElements:[10,20]},EVENT_ESCALATION:{d:"M {mx},{my} l {e.x0},{e.y0} l -{e.x0},-{e.y1} l -{e.x0},{e.y1} Z",height:36,width:36,heightElements:[20,7],widthElements:[8]},EVENT_CONDITIONAL:{d:"M {e.x0},{e.y0} l {e.x1},0 l 0,{e.y2} l -{e.x1},0 Z M {e.x2},{e.y3} l {e.x0},0 M {e.x2},{e.y4} l {e.x0},0 M {e.x2},{e.y5} l {e.x0},0 M {e.x2},{e.y6} l {e.x0},0 M {e.x2},{e.y7} l {e.x0},0 M {e.x2},{e.y8} l {e.x0},0 ",height:36,width:36,heightElements:[8.5,14.5,18,11.5,14.5,17.5,20.5,23.5,26.5],widthElements:[10.5,14.5,12.5]},EVENT_LINK:{d:"m {mx},{my} 0,{e.y0} -{e.x1},0 0,{e.y1} {e.x1},0 0,{e.y0} {e.x0},-{e.y2} -{e.x0},-{e.y2} z",height:36,width:36,heightElements:[4.4375,6.75,7.8125],widthElements:[9.84375,13.5]},EVENT_ERROR:{d:"m {mx},{my} {e.x0},-{e.y0} {e.x1},-{e.y1} {e.x2},{e.y2} {e.x3},-{e.y3} -{e.x4},{e.y4} -{e.x5},-{e.y5} z",height:36,width:36,heightElements:[.023,8.737,8.151,16.564,10.591,8.714],widthElements:[.085,6.672,6.97,4.273,5.337,6.636]},EVENT_CANCEL_45:{d:"m {mx},{my} -{e.x1},0 0,{e.x0} {e.x1},0 0,{e.y1} {e.x0},0 0,-{e.y1} {e.x1},0 0,-{e.y0} -{e.x1},0 0,-{e.y1} -{e.x0},0 z",height:36,width:36,heightElements:[4.75,8.5],widthElements:[4.75,8.5]},EVENT_COMPENSATION:{d:"m {mx},{my} {e.x0},-{e.y0} 0,{e.y1} z m {e.x1},-{e.y2} {e.x2},-{e.y3} 0,{e.y1} -{e.x2},-{e.y3} z",height:36,width:36,heightElements:[6.5,13,.4,6.1],widthElements:[9,9.3,8.7]},EVENT_TIMER_WH:{d:"M {mx},{my} l {e.x0},-{e.y0} m -{e.x0},{e.y0} l {e.x1},{e.y1} ",height:36,width:36,heightElements:[10,2],widthElements:[3,7]},EVENT_TIMER_LINE:{d:"M {mx},{my} m {e.x0},{e.y0} l -{e.x1},{e.y1} ",height:36,width:36,heightElements:[10,3],widthElements:[0,0]},EVENT_MULTIPLE:{d:"m {mx},{my} {e.x1},-{e.y0} {e.x1},{e.y0} -{e.x0},{e.y1} -{e.x2},0 z",height:36,width:36,heightElements:[6.28099,12.56199],widthElements:[3.1405,9.42149,12.56198]},EVENT_PARALLEL_MULTIPLE:{d:"m {mx},{my} {e.x0},0 0,{e.y1} {e.x1},0 0,{e.y0} -{e.x1},0 0,{e.y1} -{e.x0},0 0,-{e.y1} -{e.x1},0 0,-{e.y0} {e.x1},0 z",height:36,width:36,heightElements:[2.56228,7.68683],widthElements:[2.56228,7.68683]},GATEWAY_EXCLUSIVE:{d:"m {mx},{my} {e.x0},{e.y0} {e.x1},{e.y0} {e.x2},0 {e.x4},{e.y2} {e.x4},{e.y1} {e.x2},0 {e.x1},{e.y3} {e.x0},{e.y3} {e.x3},0 {e.x5},{e.y1} {e.x5},{e.y2} {e.x3},0 z",height:17.5,width:17.5,heightElements:[8.5,6.5312,-6.5312,-8.5],widthElements:[6.5,-6.5,3,-3,5,-5]},GATEWAY_PARALLEL:{d:"m {mx},{my} 0,{e.y1} -{e.x1},0 0,{e.y0} {e.x1},0 0,{e.y1} {e.x0},0 0,-{e.y1} {e.x1},0 0,-{e.y0} -{e.x1},0 0,-{e.y1} -{e.x0},0 z",height:30,width:30,heightElements:[5,12.5],widthElements:[5,12.5]},GATEWAY_EVENT_BASED:{d:"m {mx},{my} {e.x0},{e.y0} {e.x0},{e.y1} {e.x1},{e.y2} {e.x2},0 z",height:11,width:11,heightElements:[-6,6,12,-12],widthElements:[9,-3,-12]},GATEWAY_COMPLEX:{d:"m {mx},{my} 0,{e.y0} -{e.x0},-{e.y1} -{e.x1},{e.y2} {e.x0},{e.y1} -{e.x2},0 0,{e.y3} {e.x2},0  -{e.x0},{e.y1} l {e.x1},{e.y2} {e.x0},-{e.y1} 0,{e.y0} {e.x3},0 0,-{e.y0} {e.x0},{e.y1} {e.x1},-{e.y2} -{e.x0},-{e.y1} {e.x2},0 0,-{e.y3} -{e.x2},0 {e.x0},-{e.y1} -{e.x1},-{e.y2} -{e.x0},{e.y1} 0,-{e.y0} -{e.x3},0 z",height:17.125,width:17.125,heightElements:[4.875,3.4375,2.125,3],widthElements:[3.4375,2.125,4.875,3]},DATA_OBJECT_PATH:{d:"m 0,0 {e.x1},0 {e.x0},{e.y0} 0,{e.y1} -{e.x2},0 0,-{e.y2} {e.x1},0 0,{e.y0} {e.x0},0",height:61,width:51,heightElements:[10,50,60],widthElements:[10,40,50,60]},DATA_OBJECT_COLLECTION_PATH:{d:"m {mx}, {my} m  0 15  l 0 -15 m  4 15  l 0 -15 m  4 15  l 0 -15 ",height:61,width:51,heightElements:[12],widthElements:[1,6,12,15]},DATA_ARROW:{d:"m 5,9 9,0 0,-3 5,5 -5,5 0,-3 -9,0 z",height:61,width:51,heightElements:[],widthElements:[]},DATA_STORE:{d:"m  {mx},{my} l  0,{e.y2} c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0 l  0,-{e.y2} c -{e.x0},-{e.y1} -{e.x1},-{e.y1} -{e.x2},0c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0 m  -{e.x2},{e.y0}c  {e.x0},{e.y1} {e.x1},{e.y1} {e.x2},0m  -{e.x2},{e.y0}c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0",height:61,width:61,heightElements:[7,10,45],widthElements:[2,58,60]},TEXT_ANNOTATION:{d:"m {mx}, {my} m 10,0 l -10,0 l 0,{e.y0} l 10,0",height:30,width:10,heightElements:[30],widthElements:[10]},MARKER_SUB_PROCESS:{d:"m{mx},{my} m 7,2 l 0,10 m -5,-5 l 10,0",height:10,width:10,heightElements:[],widthElements:[]},MARKER_PARALLEL:{d:"m{mx},{my} m 3,2 l 0,10 m 3,-10 l 0,10 m 3,-10 l 0,10",height:10,width:10,heightElements:[],widthElements:[]},MARKER_SEQUENTIAL:{d:"m{mx},{my} m 0,3 l 10,0 m -10,3 l 10,0 m -10,3 l 10,0",height:10,width:10,heightElements:[],widthElements:[]},MARKER_COMPENSATION:{d:"m {mx},{my} 7,-5 0,10 z m 7.1,-0.3 6.9,-4.7 0,10 -6.9,-4.7 z",height:10,width:21,heightElements:[],widthElements:[]},MARKER_LOOP:{d:"m {mx},{my} c 3.526979,0 6.386161,-2.829858 6.386161,-6.320661 0,-3.490806 -2.859182,-6.320661 -6.386161,-6.320661 -3.526978,0 -6.38616,2.829855 -6.38616,6.320661 0,1.745402 0.714797,3.325567 1.870463,4.469381 0.577834,0.571908 1.265885,1.034728 2.029916,1.35457 l -0.718163,-3.909793 m 0.718163,3.909793 -3.885211,0.802902",height:13.9,width:13.7,heightElements:[],widthElements:[]},MARKER_ADHOC:{d:"m {mx},{my} m 0.84461,2.64411 c 1.05533,-1.23780996 2.64337,-2.07882 4.29653,-1.97997996 2.05163,0.0805 3.85579,1.15803 5.76082,1.79107 1.06385,0.34139996 2.24454,0.1438 3.18759,-0.43767 0.61743,-0.33642 1.2775,-0.64078 1.7542,-1.17511 0,0.56023 0,1.12046 0,1.6807 -0.98706,0.96237996 -2.29792,1.62393996 -3.6918,1.66181996 -1.24459,0.0927 -2.46671,-0.2491 -3.59505,-0.74812 -1.35789,-0.55965 -2.75133,-1.33436996 -4.27027,-1.18121996 -1.37741,0.14601 -2.41842,1.13685996 -3.44288,1.96782996 z",height:4,width:15,heightElements:[],widthElements:[]},TASK_TYPE_SEND:{d:"m {mx},{my} l 0,{e.y1} l {e.x1},0 l 0,-{e.y1} z l {e.x0},{e.y0} l {e.x0},-{e.y0}",height:14,width:21,heightElements:[6,14],widthElements:[10.5,21]},TASK_TYPE_SCRIPT:{d:"m {mx},{my} c 9.966553,-6.27276 -8.000926,-7.91932 2.968968,-14.938 l -8.802728,0 c -10.969894,7.01868 6.997585,8.66524 -2.968967,14.938 z m -7,-12 l 5,0 m -4.5,3 l 4.5,0 m -3,3 l 5,0m -4,3 l 5,0",height:15,width:12.6,heightElements:[6,14],widthElements:[10.5,21]},TASK_TYPE_USER_1:{d:"m {mx},{my} c 0.909,-0.845 1.594,-2.049 1.594,-3.385 0,-2.554 -1.805,-4.62199999 -4.357,-4.62199999 -2.55199998,0 -4.28799998,2.06799999 -4.28799998,4.62199999 0,1.348 0.974,2.562 1.89599998,3.405 -0.52899998,0.187 -5.669,2.097 -5.794,4.7560005 v 6.718 h 17 v -6.718 c 0,-2.2980005 -5.5279996,-4.5950005 -6.0509996,-4.7760005 zm -8,6 l 0,5.5 m 11,0 l 0,-5"},TASK_TYPE_USER_2:{d:"m {mx},{my} m 2.162,1.009 c 0,2.4470005 -2.158,4.4310005 -4.821,4.4310005 -2.66499998,0 -4.822,-1.981 -4.822,-4.4310005 "},TASK_TYPE_USER_3:{d:"m {mx},{my} m -6.9,-3.80 c 0,0 2.25099998,-2.358 4.27399998,-1.177 2.024,1.181 4.221,1.537 4.124,0.965 -0.098,-0.57 -0.117,-3.79099999 -4.191,-4.13599999 -3.57499998,0.001 -4.20799998,3.36699999 -4.20699998,4.34799999 z"},TASK_TYPE_MANUAL:{d:"m {mx},{my} c 0.234,-0.01 5.604,0.008 8.029,0.004 0.808,0 1.271,-0.172 1.417,-0.752 0.227,-0.898 -0.334,-1.314 -1.338,-1.316 -2.467,-0.01 -7.886,-0.004 -8.108,-0.004 -0.014,-0.079 0.016,-0.533 0,-0.61 0.195,-0.042 8.507,0.006 9.616,0.002 0.877,-0.007 1.35,-0.438 1.353,-1.208 0.003,-0.768 -0.479,-1.09 -1.35,-1.091 -2.968,-0.002 -9.619,-0.013 -9.619,-0.013 v -0.591 c 0,0 5.052,-0.016 7.225,-0.016 0.888,-0.002 1.354,-0.416 1.351,-1.193 -0.006,-0.761 -0.492,-1.196 -1.361,-1.196 -3.473,-0.005 -10.86,-0.003 -11.0829995,-0.003 -0.022,-0.047 -0.045,-0.094 -0.069,-0.139 0.3939995,-0.319 2.0409995,-1.626 2.4149995,-2.017 0.469,-0.4870005 0.519,-1.1650005 0.162,-1.6040005 -0.414,-0.511 -0.973,-0.5 -1.48,-0.236 -1.4609995,0.764 -6.5999995,3.6430005 -7.7329995,4.2710005 -0.9,0.499 -1.516,1.253 -1.882,2.19 -0.37000002,0.95 -0.17,2.01 -0.166,2.979 0.004,0.718 -0.27300002,1.345 -0.055,2.063 0.629,2.087 2.425,3.312 4.859,3.318 4.6179995,0.014 9.2379995,-0.139 13.8569995,-0.158 0.755,-0.004 1.171,-0.301 1.182,-1.033 0.012,-0.754 -0.423,-0.969 -1.183,-0.973 -1.778,-0.01 -5.824,-0.004 -6.04,-0.004 10e-4,-0.084 0.003,-0.586 10e-4,-0.67 z"},TASK_TYPE_INSTANTIATING_SEND:{d:"m {mx},{my} l 0,8.4 l 12.6,0 l 0,-8.4 z l 6.3,3.6 l 6.3,-3.6"},TASK_TYPE_SERVICE:{d:"m {mx},{my} v -1.71335 c 0.352326,-0.0705 0.703932,-0.17838 1.047628,-0.32133 0.344416,-0.14465 0.665822,-0.32133 0.966377,-0.52145 l 1.19431,1.18005 1.567487,-1.57688 -1.195028,-1.18014 c 0.403376,-0.61394 0.683079,-1.29908 0.825447,-2.01824 l 1.622133,-0.01 v -2.2196 l -1.636514,0.01 c -0.07333,-0.35153 -0.178319,-0.70024 -0.323564,-1.04372 -0.145244,-0.34406 -0.321407,-0.6644 -0.522735,-0.96217 l 1.131035,-1.13631 -1.583305,-1.56293 -1.129598,1.13589 c -0.614052,-0.40108 -1.302883,-0.68093 -2.022633,-0.82247 l 0.0093,-1.61852 h -2.241173 l 0.0042,1.63124 c -0.353763,0.0736 -0.705369,0.17977 -1.049785,0.32371 -0.344415,0.14437 -0.665102,0.32092 -0.9635006,0.52046 l -1.1698628,-1.15823 -1.5667691,1.5792 1.1684265,1.15669 c -0.4026573,0.61283 -0.68308,1.29797 -0.8247287,2.01713 l -1.6588041,0.003 v 2.22174 l 1.6724648,-0.006 c 0.073327,0.35077 0.1797598,0.70243 0.3242851,1.04472 0.1452428,0.34448 0.3214064,0.6644 0.5227339,0.96066 l -1.1993431,1.19723 1.5840256,1.56011 1.1964668,-1.19348 c 0.6140517,0.40346 1.3028827,0.68232 2.0233517,0.82331 l 7.19e-4,1.69892 h 2.226848 z m 0.221462,-3.9957 c -1.788948,0.7502 -3.8576,-0.0928 -4.6097055,-1.87438 -0.7521065,-1.78321 0.090598,-3.84627 1.8802645,-4.59604 1.78823,-0.74936 3.856881,0.0929 4.608987,1.87437 0.752106,1.78165 -0.0906,3.84612 -1.879546,4.59605 z"},TASK_TYPE_SERVICE_FILL:{d:"m {mx},{my} c -1.788948,0.7502 -3.8576,-0.0928 -4.6097055,-1.87438 -0.7521065,-1.78321 0.090598,-3.84627 1.8802645,-4.59604 1.78823,-0.74936 3.856881,0.0929 4.608987,1.87437 0.752106,1.78165 -0.0906,3.84612 -1.879546,4.59605 z"},TASK_TYPE_BUSINESS_RULE_HEADER:{d:"m {mx},{my} 0,4 20,0 0,-4 z"},TASK_TYPE_BUSINESS_RULE_MAIN:{d:"m {mx},{my} 0,12 20,0 0,-12 zm 0,8 l 20,0 m -13,-4 l 0,8"},MESSAGE_FLOW_MARKER:{d:"m {mx},{my} m -10.5 ,-7 l 0,14 l 21,0 l 0,-14 z l 10.5,6 l 10.5,-6"}},this.getRawPath=function(e){return this.pathMap[e].d},this.getScaledPath=function(e,t){var n,i,r=this.pathMap[e];t.abspos?(n=t.abspos.x,i=t.abspos.y):(n=t.containerWidth*t.position.mx,i=t.containerHeight*t.position.my);var o,a,s={};if(t.position){for(var c=t.containerHeight/r.height*t.yScaleFactor,u=t.containerWidth/r.width*t.xScaleFactor,l=0;l<r.heightElements.length;l++)s["y"+l]=r.heightElements[l]*c;for(var p=0;p<r.widthElements.length;p++)s["x"+p]=r.widthElements[p]*u}return o=r.d,a={mx:n,my:i,e:s},String(o).replace(Fi,(function(e,t){return function(e,t,n){var i=n;return t.replace(Hi,(function(e,t,n,r,o){t=t||r,i&&(t in i&&(i=i[t]),"function"==typeof i&&o&&(i=i()))})),i=(null==i||i==n?e:i)+""}(e,t,a)}))}}]},Ui={translate:["value",function(e,t){return t=t||{},e.replace(/{([^}]+)}/g,(function(e,n){return t[n]||"{"+n+"}"}))}]};var Wi={width:90,height:20};function Vi(e){return bi(e,"postit:Group")}function qi(e){return Xi(e.label)}function Yi(e){return bi(e,"postit:Group")?{x:e.x+e.width/2,y:e.y+Wi.height/2}:{x:e.x+e.width/2,y:e.y+e.height+Wi.height/2}}function Xi(e){return e&&!!e.labelTarget}function Ki(e,t){return G({id:e.id,type:e.$type,businessObject:e},t)}function Zi(e,t,n,i){return new Error(e("element {element} referenced by {referenced}#{property} not yet drawn",{element:di(n),referenced:di(t),property:i}))}function Ji(e,t,n,i,r,o){this._eventBus=e,this._canvas=t,this._elementFactory=n,this._elementRegistry=i,this._translate=r,this._textRenderer=o}Ji.$inject=["eventBus","canvas","elementFactory","elementRegistry","translate","textRenderer"],Ji.prototype.add=function(e,t){var n,i,r=e.di,o=this._translate;if(bi(r,"postitDi:PostitPlane"))n=this._elementFactory.createRoot(Ki(e)),this._canvas.setRootElement(n);else{if(!bi(r,"postitDi:PostitShape"))throw new Error(o("unknown di {di} for element {semantic}",{di:di(r),semantic:di(e)}));var a=function(e){return bi(e,"postit:Group")}(e);i=t&&(t.hidden||t.collapsed);var s=e.di.bounds;n=this._elementFactory.createShape(Ki(e,{hidden:i,x:Math.round(s.x),y:Math.round(s.y),width:Math.round(s.width),height:Math.round(s.height),isFrame:a})),this._canvas.addShape(n,t,void 0)}return Vi(e)&&Ti(n)&&this.addLabel(e,n),this._eventBus.fire("boardElement.added",{element:n}),n},Ji.prototype._attachBoundary=function(e,t){var n=this._translate,i=e.attachedToRef;if(!i)throw new Error(n("missing {semantic}#attachedToRef",{semantic:di(e)}));var r=this._elementRegistry.get(i.id),o=r&&r.attachers;if(!r)throw Zi(n,e,i,"attachedToRef");t.host=r,o||(r.attachers=o=[]),-1===o.indexOf(t)&&o.push(t)},Ji.prototype.addLabel=function(e,t){var n,i,r;return n=function(e,t){var n,i,r,o=e.di.label;return o&&o.bounds?(r=o.bounds,i={width:Math.max(Wi.width,r.width),height:r.height},n={x:r.x+r.width/2,y:r.y+r.height/2}):(n=Yi(t),i=Wi),G({x:n.x-i.width/2,y:n.y-i.height/2},i)}(e,t),(i=Ti(t))&&(n=this._textRenderer.getExternalLabelBounds(n,i)),r=this._elementFactory.createLabel(Ki(e,{id:e.id+"_label",labelTarget:t,type:"label",hidden:t.hidden||!Ti(t),x:Math.round(n.x),y:Math.round(n.y),width:Math.round(n.width),height:Math.round(n.height)})),this._canvas.addShape(r,t.parent)},Ji.prototype._getEnd=function(e,t){var n,i,r=this._translate;if(n=(i=e[t+"Ref"])&&this._getElement(i))return n;throw i?Zi(r,e,i,t+"Ref"):new Error(r("{semantic}#{side} Ref not specified",{semantic:di(e),side:t}))},Ji.prototype._getSource=function(e){return this._getEnd(e,"source")},Ji.prototype._getTarget=function(e){return this._getEnd(e,"target")},Ji.prototype._getElement=function(e){return this._elementRegistry.get(e.id)};const Qi={__depends__:[Gi,{__depends__:[Ui],postitImporter:["type",Ji]}]};function er(e){e&&"function"==typeof e.stopPropagation&&e.stopPropagation()}function tr(e){return e.originalEvent||e.srcEvent}function nr(e,t){er(e),er(tr(e))}function ir(e){return e.pointers&&e.pointers.length&&(e=e.pointers[0]),e.touches&&e.touches.length&&(e=e.touches[0]),e?{x:e.clientX,y:e.clientY}:null}function rr(e,t){return(tr(e)||e).button===t}function or(e){return rr(e,0)}function ar(e){var t=tr(e)||e;return!!or(e)&&(/mac/i.test(navigator.platform)?t.metaKey:t.ctrlKey)}function sr(e){var t=tr(e)||e;return or(e)&&t.shiftKey}function cr(e){return!0}function ur(e){return or(e)||function(e){return rr(e,1)}(e)}function lr(e,t,n){var i=this;function r(n,i,r){var o,a;(function(e,t){return!(c[e]||or)(t)})(n,i)||(r?a=t.getGraphics(r):(o=i.delegateTarget||i.target)&&(a=o,r=t.get(a)),a&&r&&!1===e.fire(n,{element:r,gfx:a,originalEvent:i})&&(i.stopPropagation(),i.preventDefault()))}var o={};function a(e){return o[e]}var s={click:"element.click",contextmenu:"element.contextmenu",dblclick:"element.dblclick",mousedown:"element.mousedown",mousemove:"element.mousemove",mouseover:"element.hover",mouseout:"element.out",mouseup:"element.mouseup"},c={"element.contextmenu":cr,"element.mousedown":ur,"element.mouseup":ur,"element.click":ur,"element.dblclick":ur};function u(e,t,n,i){var a=o[n]=function(e){r(n,e)};i&&(c[n]=i),a.$delegate=le(e,"svg, .djs-element",t,a)}function l(e,t,n){var i=a(n);i&&pe(e,t,i.$delegate)}e.on("canvas.destroy",(function(e){var t;t=e.svg,b(s,(function(e,n){l(t,n,e)}))})),e.on("canvas.init",(function(e){var t;t=e.svg,b(s,(function(e,n){u(t,n,e)}))})),e.on(["shape.added","connection.added"],(function(t){var n=t.element,i=t.gfx;e.fire("interactionEvents.createHit",{element:n,gfx:i})})),e.on(["shape.changed","connection.changed"],500,(function(t){var n=t.element,i=t.gfx;e.fire("interactionEvents.updateHit",{element:n,gfx:i})})),e.on("interactionEvents.createHit",500,(function(e){var t=e.element,n=e.gfx;i.createDefaultHit(t,n)})),e.on("interactionEvents.updateHit",(function(e){var t=e.element,n=e.gfx;i.updateDefaultHit(t,n)}));var p=f("djs-hit djs-hit-stroke"),h=f("djs-hit djs-hit-click-stroke"),d={all:f("djs-hit djs-hit-all"),"click-stroke":h,stroke:p};function f(e,t){return t=G({stroke:"white",strokeWidth:15},t||{}),n.cls(e,["no-fill","no-border"],t)}function v(e,t){var n=d[t];if(!n)throw new Error("invalid hit type <"+t+">");return be(e,n),e}function y(e,t){xe(e,t)}this.removeHits=function(e){b(ye(".djs-hit",e),Me)},this.createDefaultHit=function(e,t){var n,i=e.waypoints,r=e.isFrame;return i?this.createWaypointsHit(t,i):(n=r?"stroke":"all",this.createBoxHit(t,n,{width:e.width,height:e.height}))},this.createWaypointsHit=function(e,t){var n=at(t);return v(n,"stroke"),y(e,n),n},this.createBoxHit=function(e,t,n){n=G({x:0,y:0},n);var i=Ne("rect");return v(i,t),be(i,n),y(e,i),i},this.updateDefaultHit=function(e,t){var n=ve(".djs-hit",t);if(n)return e.waypoints?function(e,t){be(e,{points:ot(t)})}(n,e.waypoints):be(n,{width:e.width,height:e.height}),n},this.fire=r,this.triggerMouseEvent=function(e,t,n){var i=s[e];if(!i)throw new Error("unmapped DOM event name <"+e+">");return r(i,t,n)},this.mouseHandler=a,this.registerEvent=u,this.unregisterEvent=l}lr.$inject=["eventBus","elementRegistry","styles"];const pr={__init__:["interactionEvents"],interactionEvents:["type",lr]};function hr(e,t,n){this.offset=6;var i=t.cls("djs-outline",["no-fill"]),r=this;function o(e,t){var n=Ne("rect");return be(n,G({x:10,y:10,width:100,height:100},i)),xe(e,n),n}e.on(["shape.added","shape.changed"],500,(function(e){var t=e.element,n=e.gfx,i=ve(".djs-outline",n);i||(i=o(n)),r.updateShapeOutline(i,t)})),e.on(["connection.added","connection.changed"],(function(e){var t=e.element,n=e.gfx,i=ve(".djs-outline",n);i||(i=o(n)),r.updateConnectionOutline(i,t)}))}hr.prototype.updateShapeOutline=function(e,t){be(e,{x:-this.offset,y:-this.offset,width:t.width+2*this.offset,height:t.height+2*this.offset})},hr.prototype.updateConnectionOutline=function(e,t){var n=ht(t);be(e,{x:n.x-this.offset,y:n.y-this.offset,width:n.width+2*this.offset,height:n.height+2*this.offset})},hr.$inject=["eventBus","styles","elementRegistry"];const dr={__init__:["outline"],outline:["type",hr]};function fr(e){this._eventBus=e,this._selectedElements=[];var t=this;e.on(["shape.remove","connection.remove"],(function(e){var n=e.element;t.deselect(n)})),e.on(["diagram.clear"],(function(e){t.select(null)}))}fr.$inject=["eventBus"],fr.prototype.deselect=function(e){var t=this._selectedElements,n=t.indexOf(e);if(-1!==n){var i=t.slice();t.splice(n,1),this._eventBus.fire("selection.changed",{oldSelection:i,newSelection:t})}},fr.prototype.get=function(){return this._selectedElements},fr.prototype.isSelected=function(e){return-1!==this._selectedElements.indexOf(e)},fr.prototype.select=function(e,t){var n=this._selectedElements,i=n.slice();f(e)||(e=e?[e]:[]),t?b(e,(function(e){-1===n.indexOf(e)&&n.push(e)})):this._selectedElements=n=e.slice(),this._eventBus.fire("selection.changed",{oldSelection:i,newSelection:n})};var vr="hover",yr="selected";function gr(e,t,n,i){function r(e,n){t.addMarker(e,n)}function o(e,n){t.removeMarker(e,n)}this._multiSelectionBox=null,e.on("element.hover",(function(e){r(e.element,vr)})),e.on("element.out",(function(e){o(e.element,vr)})),e.on("selection.changed",(function(e){var t=e.oldSelection,n=e.newSelection;b(t,(function(e){-1===n.indexOf(e)&&o(e,yr)})),b(n,(function(e){-1===t.indexOf(e)&&r(e,yr)}))}))}function mr(e,t,n,i){e.on("create.end",500,(function(e){var n=e.context,i=n.canExecute,r=n.elements,o=(n.hints||{}).autoSelect;if(i){if(!1===o)return;f(o)?t.select(o):t.select(r.filter(xr))}})),e.on("connect.end",500,(function(e){var n=e.context,i=n.canExecute,r=n.hover;i&&r&&t.select(r)})),e.on("shape.move.end",500,(function(e){var n=e.previousSelection||[],r=i.get(e.context.shape.id);_(n,(function(e){return r.id===e.id}))||t.select(r)})),e.on("element.click",(function(e){if(or(e)){var i=e.element;i===n.getRootElement()&&(i=null);var r=t.isSelected(i),o=t.get().length>1,a=ar(e)||sr(e);if(r&&o)return a?t.deselect(i):t.select(i);r?t.deselect(i):t.select(i,a)}}))}function xr(e){return!e.hidden}gr.$inject=["eventBus","canvas","selection","styles"],mr.$inject=["eventBus","selection","canvas","elementRegistry"];const _r={__init__:["selectionVisuals","selectionBehavior"],__depends__:[pr,dr],selection:["type",fr],selectionVisuals:["type",gr],selectionBehavior:["type",mr]};function wr(e){this._counter=0,this._prefix=(e?e+"-":"")+Math.floor(1e9*Math.random())+"-"}wr.prototype.next=function(){return this._prefix+ ++this._counter};var br=new wr("ov");function Er(e,t,n,i){var r,o;this._eventBus=t,this._canvas=n,this._elementRegistry=i,this._ids=br,this._overlayDefaults=G({show:null,scale:!0},e&&e.defaults),this._overlays={},this._overlayContainers=[],this._overlayRoot=(r=n.getContainer(),o=he('<div class="djs-overlay-container" style="position: absolute; width: 0; height: 0;" />'),r.insertBefore(o,r.firstChild),o),this._init()}function Sr(e,t,n){G(e.style,{left:t+"px",top:n+"px"})}function kr(e,t){e.style.display=!1===t?"none":""}function Tr(e,t){e.style["transform-origin"]="top left",["","-ms-","-webkit-"].forEach((function(n){e.style[n+"transform"]=t}))}Er.$inject=["config.overlays","eventBus","canvas","elementRegistry"],Er.prototype.get=function(e){if(m(e)&&(e={id:e}),m(e.element)&&(e.element=this._elementRegistry.get(e.element)),e.element){var t=this._getOverlayContainer(e.element,!0);return t?e.type?w(t.overlays,O({type:e.type})):t.overlays.slice():[]}return e.type?w(this._overlays,O({type:e.type})):e.id?this._overlays[e.id]:null},Er.prototype.add=function(e,t,n){if(v(t)&&(n=t,t=null),e.id||(e=this._elementRegistry.get(e)),!n.position)throw new Error("must specifiy overlay position");if(!n.html)throw new Error("must specifiy overlay html");if(!e)throw new Error("invalid element specified");var i=this._ids.next();return n=G({},this._overlayDefaults,n,{id:i,type:t,element:e,html:n.html}),this._addOverlay(n),i},Er.prototype.remove=function(e){var t=this.get(e)||[];f(t)||(t=[t]);var n=this;b(t,(function(e){var t=n._getOverlayContainer(e.element,!0);if(e&&(ge(e.html),ge(e.htmlContainer),delete e.htmlContainer,delete e.element,delete n._overlays[e.id]),t){var i=t.overlays.indexOf(e);-1!==i&&t.overlays.splice(i,1)}}))},Er.prototype.show=function(){kr(this._overlayRoot)},Er.prototype.hide=function(){kr(this._overlayRoot,!1)},Er.prototype.clear=function(){this._overlays={},this._overlayContainers=[],Q(this._overlayRoot)},Er.prototype._updateOverlayContainer=function(e){var t=e.element,n=e.html,i=t.x,r=t.y;if(t.waypoints){var o=ht(t);i=o.x,r=o.y}Sr(n,i,r),V(e.html,"data-container-id",t.id)},Er.prototype._updateOverlay=function(e){var t,n,i=e.position,r=e.htmlContainer,o=e.element,a=i.left,s=i.top;void 0!==i.right&&(t=o.waypoints?ht(o).width:o.width,a=-1*i.right+t),void 0!==i.bottom&&(n=o.waypoints?ht(o).height:o.height,s=-1*i.bottom+n),Sr(r,a||0,s||0)},Er.prototype._createOverlayContainer=function(e){var t=he('<div class="djs-overlays" style="position: absolute" />');this._overlayRoot.appendChild(t);var n={html:t,element:e,overlays:[]};return this._updateOverlayContainer(n),this._overlayContainers.push(n),n},Er.prototype._updateRoot=function(e){var t=e.scale||1,n="matrix("+[t,0,0,t,-1*e.x*t,-1*e.y*t].join(",")+")";Tr(this._overlayRoot,n)},Er.prototype._getOverlayContainer=function(e,t){var n=_(this._overlayContainers,(function(t){return t.element===e}));return n||t?n:this._createOverlayContainer(e)},Er.prototype._addOverlay=function(e){var t,n,i=e.id,r=e.element,o=e.html;o.get&&o.constructor.prototype.jquery&&(o=o.get(0)),m(o)&&(o=he(o)),n=this._getOverlayContainer(r),(t=he('<div class="djs-overlay" data-overlay-id="'+i+'" style="position: absolute">')).appendChild(o),e.type&&Z(t).add("djs-overlay-"+e.type),e.htmlContainer=t,n.overlays.push(e),n.html.appendChild(t),this._overlays[i]=e,this._updateOverlay(e),this._updateOverlayVisibilty(e,this._canvas.viewbox())},Er.prototype._updateOverlayVisibilty=function(e,t){var n=e.show,i=n&&n.minZoom,r=n&&n.maxZoom,o=e.htmlContainer,a=!0;n&&((h(i)&&i>t.scale||h(r)&&r<t.scale)&&(a=!1),kr(o,a)),this._updateOverlayScale(e,t)},Er.prototype._updateOverlayScale=function(e,t){var n,i,r,o=e.scale,a=e.htmlContainer,s="";!0!==o&&(!1===o?(n=1,i=1):(n=o.min,i=o.max),h(n)&&t.scale<n&&(r=(1/t.scale||1)*n),h(i)&&t.scale>i&&(r=(1/t.scale||1)*i)),h(r)&&(s="scale("+r+","+r+")"),Tr(a,s)},Er.prototype._updateOverlaysVisibilty=function(e){var t=this;b(this._overlays,(function(n){t._updateOverlayVisibilty(n,e)}))},Er.prototype._init=function(){var e=this._eventBus,t=this;e.on("canvas.viewbox.changing",(function(e){t.hide()})),e.on("canvas.viewbox.changed",(function(e){var n;n=e.viewbox,t._updateRoot(n),t._updateOverlaysVisibilty(n),t.show()})),e.on(["shape.remove","connection.remove"],(function(e){var n=e.element;b(t.get({element:n}),(function(e){t.remove(e.id)}));var i=t._getOverlayContainer(n);if(i){ge(i.html);var r=t._overlayContainers.indexOf(i);-1!==r&&t._overlayContainers.splice(r,1)}})),e.on("element.changed",500,(function(e){var n=e.element,i=t._getOverlayContainer(n,!0);i&&(b(i.overlays,(function(e){t._updateOverlay(e)})),t._updateOverlayContainer(i))})),e.on("element.marker.update",(function(e){var n=t._getOverlayContainer(e.element,!0);n&&Z(n.html)[e.add?"add":"remove"](e.marker)})),e.on("diagram.clear",this.clear,this)};const Pr={__init__:["overlays"],overlays:["type",Er]};function Cr(e){gi.call(this,e)}function Mr(e){return!e.altKey&&(e.ctrlKey||e.metaKey)}function jr(e,t){return-1!==(e=f(e)?e:[e]).indexOf(t.key)||-1!==e.indexOf(t.keyCode)}function Br(e){return e.shiftKey}r()(Cr,gi),Cr.prototype._modules=[Qi,Ui,_r,Pr],Cr.prototype._moddleExtensions={};var Rr="keyboard.keydown";function Ar(e,t){var n=this;this._config=e||{},this._eventBus=t,this._keydownHandler=this._keydownHandler.bind(this),this._keyupHandler=this._keyupHandler.bind(this),t.on("diagram.destroy",(function(){n._fire("destroy"),n.unbind()})),t.on("diagram.init",(function(){n._fire("init")})),t.on("attach",(function(){e&&e.bindTo&&n.bind(e.bindTo)})),t.on("detach",(function(){n.unbind()}))}Ar.$inject=["config.keyboard","eventBus"],Ar.prototype._keydownHandler=function(e){this._keyHandler(e,Rr)},Ar.prototype._keyupHandler=function(e){this._keyHandler(e,"keyboard.keyup")},Ar.prototype._keyHandler=function(e,t){if(!(i=e.target)||!ne(i,"input, textarea")&&"true"!==i.contentEditable){var n={keyEvent:e};this._eventBus.fire(t||Rr,n)&&e.preventDefault()}var i},Ar.prototype.bind=function(e){this.unbind(),this._node=e,ce.bind(e,"keydown",this._keydownHandler,!0),ce.bind(e,"keyup",this._keyupHandler,!0),this._fire("bind")},Ar.prototype.getBinding=function(){return this._node},Ar.prototype.unbind=function(){var e=this._node;e&&(this._fire("unbind"),ce.unbind(e,"keydown",this._keydownHandler,!0),ce.unbind(e,"keyup",this._keyupHandler,!0)),this._node=null},Ar.prototype._fire=function(e){this._eventBus.fire("keyboard."+e,{node:this._node})},Ar.prototype.addListener=function(e,t,n){g(e)&&(n=t,t=e,e=1e3),this._eventBus.on(n||Rr,e,t)},Ar.prototype.removeListener=function(e,t){this._eventBus.off(t||Rr,e)},Ar.prototype.hasModifier=function(e){return e.ctrlKey||e.metaKey||e.shiftKey||e.altKey},Ar.prototype.isCmd=Mr,Ar.prototype.isShift=Br,Ar.prototype.isKey=jr;var Or=["c","C",67],Nr=["v","V",86],Lr=["y","Y",89],zr=["z","Z",90];function Dr(e,t){var n=this;e.on("editorActions.init",500,(function(e){var i=e.editorActions;n.registerBindings(t,i)}))}Dr.$inject=["eventBus","keyboard"],Dr.prototype.registerBindings=function(e,t){function n(n,i){t.isRegistered(n)&&e.addListener(i)}n("undo",(function(e){var n=e.keyEvent;if(Mr(n)&&!Br(n)&&jr(zr,n))return t.trigger("undo"),!0})),n("redo",(function(e){var n=e.keyEvent;if(Mr(n)&&(jr(Lr,n)||jr(zr,n)&&Br(n)))return t.trigger("redo"),!0})),n("copy",(function(e){var n=e.keyEvent;if(Mr(n)&&jr(Or,n))return t.trigger("copy"),!0})),n("paste",(function(e){var n=e.keyEvent;if(Mr(n)&&jr(Nr,n))return t.trigger("paste"),!0})),n("stepZoom",(function(e){var n=e.keyEvent;if(jr(["+","Add","="],n)&&Mr(n))return t.trigger("stepZoom",{value:1}),!0})),n("stepZoom",(function(e){var n=e.keyEvent;if(jr(["-","Subtract"],n)&&Mr(n))return t.trigger("stepZoom",{value:-1}),!0})),n("zoom",(function(e){var n=e.keyEvent;if(jr("0",n)&&Mr(n))return t.trigger("zoom",{value:1}),!0})),n("removeSelection",(function(e){if(jr(["Backspace","Delete","Del"],e.keyEvent))return t.trigger("removeSelection"),!0}))};const Ir={__init__:["keyboard","keyboardBindings"],keyboard:["type",Ar],keyboardBindings:["type",Dr]};var $r={moveSpeed:50,moveSpeedAccelerated:200};function Fr(e,t,n){var i=this;this._config=G({},$r,e||{}),t.addListener((function(e){var n=e.keyEvent,r=i._config;if(t.isCmd(n)&&t.isKey(["ArrowLeft","Left","ArrowUp","Up","ArrowDown","Down","ArrowRight","Right"],n)){var o,a=t.isShift(n)?r.moveSpeedAccelerated:r.moveSpeed;switch(n.key){case"ArrowLeft":case"Left":o="left";break;case"ArrowUp":case"Up":o="up";break;case"ArrowRight":case"Right":o="right";break;case"ArrowDown":case"Down":o="down"}return i.moveCanvas({speed:a,direction:o}),!0}})),this.moveCanvas=function(e){var t=0,i=0,r=e.speed/Math.min(Math.sqrt(n.viewbox().scale),1);switch(e.direction){case"left":t=r;break;case"up":i=r;break;case"right":t=-r;break;case"down":i=-r}n.scroll({dx:t,dy:i})}}Fr.$inject=["config.keyboardMove","keyboard","canvas"];const Hr={__depends__:[Ir],__init__:["keyboardMove"],keyboardMove:["type",Fr]};var Gr=/^djs-cursor-.*$/;function Ur(e){var t=Z(document.body);t.removeMatching(Gr),e&&t.add("djs-cursor-"+e)}function Wr(){Ur(null)}function Vr(e,t){function n(){return!1}return t=t||"element.click",e.once(t,5e3,n),function(){e.off(t,n)}}function qr(e){return{x:e.x+e.width/2,y:e.y+e.height/2}}function Yr(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Xr(e,t){var n;function i(i){var r,o=n.start,a=n.button,s=ir(i),c=Yr(s,o);!n.dragging&&(r=c,Math.sqrt(Math.pow(r.x,2)+Math.pow(r.y,2))>15)&&(n.dragging=!0,0===a&&Vr(e),Ur("grab")),n.dragging&&(c=Yr(s,n.last||n.start),t.scroll({dx:c.x,dy:c.y}),n.last=s),i.preventDefault()}function r(e){ce.unbind(document,"mousemove",i),ce.unbind(document,"mouseup",r),n=null,Wr()}e.on("element.mousedown",500,(function(e){return function(e){if(!ie(e.target,".djs-draggable")){var t=e.button;if(!(t>=2||e.ctrlKey||e.shiftKey||e.altKey))return n={button:t,start:ir(e)},ce.bind(document,"mousemove",i),ce.bind(document,"mouseup",r),!0}}(e.originalEvent)})),this.isActive=function(){return!!n}}Xr.$inject=["eventBus","canvas"];const Kr={__init__:["moveCanvas"],moveCanvas:["type",Xr]};function Zr(e){return Math.log(e)/Math.log(10)}function Jr(e,t){var n=Zr(e.min),i=Zr(e.max);return(Math.abs(n)+Math.abs(i))/t}var Qr=Math.sign||function(e){return e>=0?1:-1},eo={min:.2,max:4};function to(e,t,n){e=e||{},this._enabled=!1,this._canvas=n,this._container=n._container,this._handleWheel=F(this._handleWheel,this),this._totalDelta=0,this._scale=e.scale||.75;var i=this;t.on("canvas.init",(function(t){i._init(!1!==e.enabled)}))}to.$inject=["config.zoomScroll","eventBus","canvas"],to.prototype.scroll=function(e){this._canvas.scroll(e)},to.prototype.reset=function(){this._canvas.zoom("fit-viewport")},to.prototype.zoom=function(e,t){var n=Jr(eo,20);this._totalDelta+=e,Math.abs(this._totalDelta)>.1&&(this._zoom(e,t,n),this._totalDelta=0)},to.prototype._handleWheel=function(e){if(!ie(e.target,".djs-scrollable",!0)){var t=this._container;e.preventDefault();var n,i=e.ctrlKey,r=e.shiftKey,o=-1*this._scale;if(o*=i?0===e.deltaMode?.02:.32:0===e.deltaMode?1:16,i){var a=t.getBoundingClientRect(),s={x:e.clientX-a.left,y:e.clientY-a.top};n=Math.sqrt(Math.pow(e.deltaY,2)+Math.pow(e.deltaX,2))*Qr(e.deltaY)*o,this.zoom(n,s)}else n=r?{dx:o*e.deltaY,dy:0}:{dx:o*e.deltaX,dy:o*e.deltaY},this.scroll(n)}},to.prototype.stepZoom=function(e,t){var n=Jr(eo,10);this._zoom(e,t,n)},to.prototype._zoom=function(e,t,n){var i=this._canvas,r=e>0?1:-1,o=Zr(i.zoom()),a=Math.round(o/n)*n;a+=n*r;var s,c,u=Math.pow(10,a);i.zoom((s=eo,c=u,Math.max(s.min,Math.min(s.max,c))),t)},to.prototype.toggle=function(e){var t=this._container,n=this._handleWheel,i=this._enabled;return void 0===e&&(e=!i),i!==e&&ce[e?"bind":"unbind"](t,"wheel",n,!1),this._enabled=e,e},to.prototype._init=function(e){this.toggle(e)};const no={__init__:["zoomScroll"],zoomScroll:["type",to]};function io(e){Cr.call(this,e)}r()(io,Cr),io.prototype._navigationModules=[Hr,Kr,no],io.prototype._modules=[].concat(Cr.prototype._modules,io.prototype._navigationModules);var ro=n(840),oo=n.n(ro),ao=["mousedown","mouseup","mouseover","mouseout","click","dblclick"];function so(e,t){return t.get(e,!1)}function co(e){e.preventDefault(),"function"==typeof e.stopPropagation?e.stopPropagation():e.srcEvent&&"function"==typeof e.srcEvent.stopPropagation&&e.srcEvent.stopPropagation(),"function"==typeof e.stopImmediatePropagation&&e.stopImmediatePropagation()}function uo(e){function t(t){setTimeout((function(){b(ao,(function(t){ce.unbind(e,t,co,!0)}))}),500)}ce.bind(e,"touchstart",(function(t){b(ao,(function(t){ce.bind(e,t,co,!0)}))}),!0),ce.bind(e,"touchend",t,!0),ce.bind(e,"touchcancel",t,!0);var n=new(oo().Manager)(e,{inputClass:oo().TouchInput,recognizers:[],domEvents:!0}),i=new(oo().Tap),r=new(oo().Pan)({threshold:10}),o=new(oo().Press),a=new(oo().Pinch),s=new(oo().Tap)({event:"doubletap",taps:2});return a.requireFailure(r),a.requireFailure(o),n.add([r,o,a,s,i]),n.reset=function(e){var t=this.recognizers,i=this.session;i.stopped||(n.stop(e),setTimeout((function(){var e,n;for(e=0;n=t[e];e++)n.reset(),n.state=8;i.curRecognizer=null}),0))},n.on("hammer.input",(function(e){e.srcEvent.defaultPrevented&&n.reset(!0)})),n}function lo(e,t,n,i,r){var o,a=so("dragging",e),s=so("move",e),c=so("contextPad",e),u=so("palette",e);function l(e){return function(t){r.fire(e,t)}}function p(e){return ie(e,"svg, .djs-element",!0)}a&&n.on("drag.move",(function(e){var t=e.originalEvent;if(t&&!(t instanceof MouseEvent)){var n=ir(t),r=p(document.elementFromPoint(n.x,n.y)),o=r&&i.get(r);o!==e.hover&&(e.hover&&a.out(e),o&&(a.hover({element:o,gfx:r}),e.hover=o,e.hoverGfx=r))}})),c&&n.on("contextPad.create",(function(e){var t=uo(e.pad.html);t.on("panstart",(function(e){c.trigger("dragstart",e,!0)})),t.on("press",(function(e){c.trigger("dragstart",e,!0)})),t.on("tap",(function(e){c.trigger("click",e)}))})),u&&n.on("palette.create",(function(e){var t=uo(e.container);t.on("panstart",(function(e){u.trigger("dragstart",e,!0)})),t.on("press",(function(e){u.trigger("dragstart",e,!0)})),t.on("tap",(function(e){u.trigger("click",e)}))})),n.on("canvas.init",(function(e){!function(e){function n(e){var n=p(e.target),r=n&&i.get(n);if(s&&t.getRootElement()!==r)return s.start(e,r,!0);!function(e){var n=0,i=0;function r(e){var r=e.deltaX-n,o=e.deltaY-i;t.scroll({dx:r,dy:o}),n=e.deltaX,i=e.deltaY}function a(e){o.off("panmove",r),o.off("panend",a),o.off("pancancel",a)}o.on("panmove",r),o.on("panend",a),o.on("pancancel",a)}()}(o=uo(e)).on("doubletap",l("element.dblclick")),o.on("tap",l("element.click")),o.on("panstart",n),o.on("press",n),o.on("pinchstart",(function(e){var n=t.zoom(),i=e.center;function r(e){var r=1-(1-e.scale)/1.5,o=Math.max(.2,Math.min(4,r*n));t.zoom(o,i),co(e)}function a(e){o.off("pinchmove",r),o.off("pinchend",a),o.off("pinchcancel",a),o.reset(!0)}o.on("pinchmove",r),o.on("pinchend",a),o.on("pinchcancel",a)}))}(e.svg)}))}function po(e,t){var n=this;t.on("canvas.init",(function(e){n.addBBoxMarker(e.svg)}))}lo.$inject=["injector","canvas","eventBus","elementRegistry","interactionEvents","touchFix"],po.$inject=["canvas","eventBus"],po.prototype.addBBoxMarker=function(e){var t={fill:"none",class:"outer-bound-marker"},n=Ne("rect");be(n,{x:-1e4,y:1e4,width:10,height:10}),be(n,t),xe(e,n);var i=Ne("rect");be(i,{x:1e4,y:1e4,width:10,height:10}),be(i,t),xe(e,i)};const ho={__depends__:[{__depends__:[pr],__init__:["touchInteractionEvents"],touchInteractionEvents:["type",lo],touchFix:["type",po]}]};function fo(e){return e&&e[e.length-1]}function vo(e){return e.y}function yo(e){return e.x}var go={left:yo,center:yo,right:function(e){return e.x+e.width},top:vo,middle:vo,bottom:function(e){return e.y+e.height}};function mo(e){this._modeling=e}mo.$inject=["modeling"],mo.prototype._getOrientationDetails=function(e){var t="x",n="width";return-1!==["top","bottom","middle"].indexOf(e)&&(t="y",n="height"),{axis:t,dimension:n}},mo.prototype._isType=function(e,t){return-1!==t.indexOf(e)},mo.prototype._alignmentPosition=function(e,t){var n,i,r,o=this._getOrientationDetails(e),a=o.axis,s=o.dimension,c={},u={},l=!1;if(this._isType(e,["left","top"]))c[e]=t[0][a];else if(this._isType(e,["right","bottom"]))r=fo(t),c[e]=r[a]+r[s];else if(this._isType(e,["center","middle"])){if(b(t,(function(e){var t=e[a]+Math.round(e[s]/2);u[t]?u[t].elements.push(e):u[t]={elements:[e],center:t}})),n=A(u,(function(e){return e.elements.length>1&&(l=!0),e.elements.length})),l)return c[e]=fo(n).center,c;i=t[0],r=fo(t=A(t,(function(e){return e[a]+e[s]}))),c[e]=function(e,t){return Math.round((e[a]+t[a]+t[s])/2)}(i,r)}return c},mo.prototype.trigger=function(e,t){var n=this._modeling,i=w(e,(function(e){return!(e.waypoints||e.host||e.labelTarget)}));if(!(i.length<2)){var r=A(i,go[t]),o=this._alignmentPosition(t,r);n.alignElements(r,o)}};const xo={__init__:["alignElements"],alignElements:["type",mo]};function _o(e,t,n){var i,r,o=this,a=n.get("dragging",!1);a&&t.on("drag.start",(function(n){t.once("drag.move",1500,(function(t){!function(t){if(!t.hover){var n=t.originalEvent,i=o._findTargetGfx(n),r=i&&e.get(i);i&&r&&(t.stopPropagation(),a.hover({element:r,gfx:i}),a.move(n))}}(t)}))})),t.on("element.hover",(function(e){i=e.gfx,r=e.element})),t.on("element.hover",1500,(function(e){r&&t.fire("element.out",{element:r,gfx:i})})),t.on("element.out",(function(){i=null,r=null})),this._findTargetGfx=function(e){var t;if(e instanceof MouseEvent)return t=ir(e),ie(document.elementFromPoint(t.x,t.y),"svg, .djs-element",!0)}}_o.$inject=["elementRegistry","eventBus","injector"];const wo={__init__:["hoverFix"],hoverFix:["type",_o]};var bo=Math.round,Eo="djs-drag-active";function So(e){e.preventDefault()}function ko(e,t,n,i){var r,o={threshold:5,trapClick:!0};function a(e){var n=t.viewbox(),i=t._container.getBoundingClientRect();return{x:n.x+(e.x-i.left)/n.scale,y:n.y+(e.y-i.top)/n.scale}}function s(t,n){n=n||r;var i=e.createEvent(G({},n.payload,n.data,{isTouch:n.isTouch}));return!1!==e.fire("drag."+t,i)&&e.fire(n.prefix+"."+t,i)}function c(e,i){var o,c=r.payload,u=r.displacement,l=r.globalStart,p=ir(e),h=Yr(p,l),d=r.localStart,f=a(p),y=Yr(f,d);if(!r.active&&(i||(o=h,Math.sqrt(Math.pow(o.x,2)+Math.pow(o.y,2))>r.threshold))){if(G(c,{x:bo(d.x+u.x),y:bo(d.y+u.y),dx:0,dy:0},{originalEvent:e}),!1===s("start"))return v();r.active=!0,r.keepSelection||(c.previousSelection=n.get(),n.select(null)),r.cursor&&Ur(r.cursor),t.addMarker(t.getRootElement(),Eo)}nr(e),r.active&&(G(c,{x:bo(f.x+u.x),y:bo(f.y+u.y),dx:bo(y.x),dy:bo(y.y)},{originalEvent:e}),s("move"))}function u(e){var t=!0;r.active&&(e&&(r.payload.originalEvent=e,nr(e)),t=s("end")),!1===t&&s("rejected"),s("ended",y(!0!==t))}function l(e){27===e.which&&(So(e),v())}function p(t){var n;r.active&&(n=Vr(e),setTimeout(n,400),So(t)),u(t)}function h(e){c(e)}function d(e){var t=r.payload;t.hoverGfx=e.gfx,t.hover=e.element,s("hover")}function f(e){s("out");var t=r.payload;t.hoverGfx=null,t.hover=null}function v(e){var t;if(r){var n=r.active;n&&s("cancel"),t=y(e),n&&s("canceled",t)}}function y(o){var a,y;s("cleanup"),Wr(),y=r.trapClick?p:u,ce.unbind(document,"mousemove",c),ce.unbind(document,"dragstart",So),ce.unbind(document,"selectstart",So),ce.unbind(document,"mousedown",y,!0),ce.unbind(document,"mouseup",y,!0),ce.unbind(document,"keyup",l),ce.unbind(document,"touchstart",h,!0),ce.unbind(document,"touchcancel",v,!0),ce.unbind(document,"touchmove",c,!0),ce.unbind(document,"touchend",u,!0),e.off("element.hover",d),e.off("element.out",f),t.removeMarker(t.getRootElement(),Eo);var g=r.payload.previousSelection;return!1!==o&&g&&!n.get().length&&function(e){var t=e.filter((function(e){return i.get(e.id)}));t.length&&n.select(t)}(g),a=r,r=null,a}e.on("diagram.destroy",v),this.init=function(t,n,i,y){r&&v(!1),"string"==typeof n&&(y=i,i=n,n=null);var g,m,x,_,w,b=(y=G({},o,y||{})).data||{};_=y.trapClick?p:u,t?(g=tr(t)||t,m=ir(t),nr(t),"dragstart"===g.type&&So(g)):(g=null,m={x:0,y:0}),x=a(m),n||(n=x),w=function(e){return"undefined"!=typeof TouchEvent&&e instanceof TouchEvent}(g),r=G({prefix:i,data:b,payload:{},globalStart:m,displacement:Yr(n,x),localStart:x,isTouch:w},y),y.manual||(w?(ce.bind(document,"touchstart",h,!0),ce.bind(document,"touchcancel",v,!0),ce.bind(document,"touchmove",c,!0),ce.bind(document,"touchend",u,!0)):(ce.bind(document,"mousemove",c),ce.bind(document,"dragstart",So),ce.bind(document,"selectstart",So),ce.bind(document,"mousedown",_,!0),ce.bind(document,"mouseup",_,!0)),ce.bind(document,"keyup",l),e.on("element.hover",d),e.on("element.out",f)),s("init"),y.autoActivate&&c(t,!0)},this.move=c,this.hover=d,this.out=f,this.end=u,this.cancel=v,this.context=function(){return r},this.setOptions=function(e){G(o,e)}}ko.$inject=["eventBus","canvas","selection","elementRegistry"];const To={__depends__:[wo,_r],dragging:["type",ko]};function Po(e,t,n){this._canvas=n,this._opts=G({scrollThresholdIn:[20,20,20,20],scrollThresholdOut:[0,0,0,0],scrollRepeatTimeout:15,scrollStep:10},e);var i=this;t.on("drag.move",(function(e){var t=i._toBorderPoint(e);i.startScroll(t)})),t.on(["drag.cleanup"],(function(){i.stopScroll()}))}Po.$inject=["config.autoScroll","eventBus","canvas"],Po.prototype.startScroll=function(e){var t,n,i,r=this._canvas,o=this._opts,a=this,s=r.getContainer().getBoundingClientRect(),c=[e.x,e.y,s.width-e.x,s.height-e.y];this.stopScroll();for(var u=0,l=0,p=0;p<4;p++)t=c[p],n=o.scrollThresholdOut[p],i=o.scrollThresholdIn[p],n<t&&t<i&&(0===p?u=o.scrollStep:1==p?l=o.scrollStep:2==p?u=-o.scrollStep:3==p&&(l=-o.scrollStep));0===u&&0===l||(r.scroll({dx:u,dy:l}),this._scrolling=setTimeout((function(){a.startScroll(e)}),o.scrollRepeatTimeout))},Po.prototype.stopScroll=function(){clearTimeout(this._scrolling)},Po.prototype.setOptions=function(e){this._opts=G({},this._opts,e)},Po.prototype._toBorderPoint=function(e){var t=this._canvas._container.getBoundingClientRect(),n=ir(e.originalEvent);return{x:n.x-t.left,y:n.y-t.top}};const Co={__depends__:[To],__init__:["autoScroll"],autoScroll:["type",Po]};function Mo(e){this._commandStack=e.get("commandStack",!1)}Mo.$inject=["injector"],Mo.prototype.allowed=function(e,t){var n=!0,i=this._commandStack;return i&&(n=i.canExecute(e,t)),void 0===n||n};const jo={__init__:["rules"],rules:["type",Mo]};function Bo(e,t){return e&&t?Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)):-1}function Ro(e,t,n,i){if(void 0===i&&(i=5),!e||!t||!n)return!1;var r=(t.x-e.x)*(n.y-e.y)-(t.y-e.y)*(n.x-e.x),o=Bo(e,t);return Math.abs(r/o)<=i}function Ao(e,t){var n;return function(e,t){var n,i=(n=f(e)?e:[e,void 0]).slice().shift();return S(n,(function(e){return Math.abs(i.y-e.y)<=2}))}(n=f(e)?e:[e,t])?"h":!!function(e,t){var n,i=(n=f(e)?e:[e,void 0]).slice().shift();return S(n,(function(e){return Math.abs(i.x-e.x)<=2}))}(n)&&"v"}function Oo(e,t){return{x:Math.round(e.x+(t.x-e.x)/2),y:Math.round(e.y+(t.y-e.y)/2)}}var No=n(720),Lo=n.n(No),zo=Math.round,Do=Math.max;function Io(e,t,n){var i=function(e,t){var n,i=ir(t),r=e._container.getBoundingClientRect();n={x:r.left,y:r.top};var o=e.viewbox();return{x:o.x+(i.x-n.x)/o.scale,y:o.y+(i.y-n.y)/o.scale}}(e,n);return function(e,t){return function(e,t){var n,i;for(n=0;i=e[n];n++)if(Bo(i,t)<=10)return{point:e[n],bendpoint:!0,index:n};return null}(e,t)||function(e,t){var n,i,r=Lo()(function(e,t){return[["M",e.x,e.y],["m",0,-t],["a",t,t,0,1,1,0,20],["a",t,t,0,1,1,0,-20],["z"]]}(t,10),(n=[],e.forEach((function(e,t){n.push([0===t?"M":"L",e.x,e.y])})),n)),o=r[0],a=r[r.length-1];return o?o!==a?o.segment2!==a.segment2?{point:e[i=Do(o.segment2,a.segment2)-1],bendpoint:!0,index:i}:{point:{x:zo(o.x+a.x)/2,y:zo(o.y+a.y)/2},index:o.segment2}:{point:{x:zo(o.x),y:zo(o.y)},index:o.segment2}:null}(e,t)}(t,i)}function $o(e,t){var n=Ne("g");Pe(n).add("djs-bendpoint"),xe(e,n);var i=Ne("circle");be(i,{cx:0,cy:0,r:4}),Pe(i).add("djs-visual"),xe(n,i);var r=Ne("circle");return be(r,{cx:0,cy:0,r:10}),Pe(r).add("djs-hit"),xe(n,r),t&&Pe(n).add(t),n}function Fo(e,t,n){var i=Ne("g"),r=Oo(t,n),o=Ao(t,n);return xe(e,i),function(e,t,n,i){var r=Ne("g");xe(e,r);var o=function(e,t,n){var i=t.x-e.x,r=t.y-e.y;return Ho("h"===n?i:r)}(t,n,i),a=Ne("rect");be(a,{x:-7,y:-1.5,width:14,height:3}),Pe(a).add("djs-visual"),xe(r,a);var s,c,u,l=Ne("rect");be(l,{x:-o/2,y:-7,width:o,height:14}),Pe(l).add("djs-hit"),xe(r,l),s=r,c="v"===i?90:0,(u=De()).setRotate(c,0,0),Ve(s,u)}(i,t,n,o),Pe(i).add("djs-segment-dragger"),Pe(i).add("h"===o?"horizontal":"vertical"),qt(i,r.x,r.y),i}function Ho(e){return Math.abs(Math.round(2*e/3))}var Go=n(269),Uo=n.n(Go);function Wo(e,t,n,i,r){function o(e,t,i){ce.bind(e,t,(function(e){n.triggerMouseEvent(t,e,i),e.stopPropagation()}))}function a(e,n){var i=t.getLayer("overlays"),r=ve('.djs-bendpoints[data-element-id="'+Uo()(e.id)+'"]',i);return!r&&n&&(be(r=Ne("g"),{"data-element-id":e.id}),Pe(r).add("djs-bendpoints"),xe(i,r),o(r,"mousedown",e),o(r,"click",e),o(r,"dblclick",e)),r}function s(e,t){return ve('.djs-segment-dragger[data-segment-idx="'+e+'"]',t)}function c(e,t){t.waypoints.forEach((function(t,n){var i=$o(e);xe(e,i),qt(i,t.x,t.y)})),$o(e,"floating")}function u(e,t){for(var n,i,r,a=t.waypoints,s=1;s<a.length;s++)Ao(n=a[s-1],i=a[s])&&(be(r=Fo(e,n,i),{"data-segment-idx":s}),o(r,"mousemove",t))}function l(e){var t=a(e);return t||(c(t=a(e,!0),e),u(t,e)),t}function p(e){var t=a(e);t&&(function(e){b(ye(".djs-segment-dragger",e),(function(e){Me(e)}))}(t),function(e){b(ye(".djs-bendpoint",e),(function(e){Me(e)}))}(t),u(t,e),c(t,e))}e.on("connection.changed",(function(e){p(e.element)})),e.on("connection.remove",(function(e){var t=a(e.element);t&&Me(t)})),e.on("element.marker.update",(function(e){var t,n=e.element;n.waypoints&&(t=l(n),e.add?Pe(t).add(e.marker):Pe(t).remove(e.marker))})),e.on("element.mousemove",(function(e){var n,i,r=e.element,o=r.waypoints;if(o){if(n=a(r,!0),!(i=Io(t,o,e.originalEvent)))return;!function(e,t){var n=ve(".floating",e),i=t.point;n&&qt(n,i.x,i.y)}(n,i),i.bendpoint||function(e,t,n){var i,r,o=s(t.index,e),a=n[t.index-1],c=n[t.index],u=t.point,l=Oo(a,c),p=Ao(a,c);o&&(i=function(e){return ve(".djs-visual",e)}(o),r={x:u.x-l.x,y:u.y-l.y},"v"===p&&(r={x:r.y,y:r.x}),qt(i,r.x,r.y))}(n,i,o)}})),e.on("element.mousedown",(function(e){if(or(e)){var n=e.originalEvent,o=e.element;if(o.waypoints)return function(e,n){var o,a=n.waypoints,s=Io(t,a,e);if(s)return o=function(e,t){var n,i,r=e.waypoints;return t.index<=0||t.bendpoint?null:(i=Ao((n={start:r[t.index-1],end:r[t.index]}).start,n.end))?Ho("h"===i?n.end.x-n.start.x:n.end.y-n.start.y)/2:null}(n,s),function(e,t,n){var i,r,o,a,s,c,u=e.index,l=e.point;return!(u<=0||e.bendpoint)&&(o=Oo(i=t[u-1],r=t[u]),a=Ao(i,r),s=Math.abs(l.x-o.x),c=Math.abs(l.y-o.y),a&&s<=n&&c<=n)}(s,a,o)?r.start(e,n,s.index):i.start(e,n,s.index,!s.bendpoint),!0}(n,o)}})),e.on("selection.changed",(function(e){var t=e.newSelection[0];t&&t.waypoints&&l(t)})),e.on("element.hover",(function(e){var t=e.element;t.waypoints&&(l(t),n.registerEvent(e.gfx,"mousemove","element.mousemove"))})),e.on("element.out",(function(e){n.unregisterEvent(e.gfx,"mousemove","element.mousemove")})),e.on("element.updateId",(function(e){var t=e.element,n=e.newId;if(t.waypoints){var i=a(t);i&&be(i,{"data-element-id":n})}})),this.addHandles=l,this.updateHandles=p,this.getBendpointsContainer=a,this.getSegmentDragger=s}function Vo(e){return{x:Math.round(e.x),y:Math.round(e.y)}}function qo(e){return{top:e.y,right:e.x+(e.width||0),bottom:e.y+(e.height||0),left:e.x}}function Yo(e){return{x:e.left,y:e.top,width:e.right-e.left,height:e.bottom-e.top}}function Xo(e){return Vo({x:e.x+(e.width||0)/2,y:e.y+(e.height||0)/2})}function Ko(e,t,n){v(n=n||0)||(n={x:n,y:n});var i=qo(e),r=qo(t),o=i.bottom+n.y<=r.top,a=i.left-n.x>=r.right,s=i.top-n.y>=r.bottom,c=o?"top":s?"bottom":null,u=i.right+n.x<=r.left?"left":a?"right":null;return u&&c?c+"-"+u:u||c||"intersect"}function Zo(e,t,n){var i,r,o=(i=e,r=t,Lo()(i,r));return 1===o.length||2===o.length&&Bo(o[0],o[1])<1?Vo(o[0]):o.length>1?Vo((o=A(o,(function(e){var t=Math.floor(100*e.t2)||1;return t=((t=100-t)<10?"0":"")+t,e.segment2+"#"+t})))[n?0:o.length-1]):null}Wo.$inject=["eventBus","canvas","interactionEvents","bendpointMove","connectionSegmentMove"];var Jo=Math.round,Qo="reconnectStart",ea="reconnectEnd",ta="updateWaypoints";function na(e,t,n,i,r,o){this._injector=e,this.start=function(e,t,o,a){var s,c=n.getGraphics(t),u=t.source,l=t.target,p=t.waypoints,h=(s=a||0!==o?a||o!==p.length-1?ta:ea:Qo)===ta?"connection.updateWaypoints":"connection.reconnect",d=r.allowed(h,{connection:t,source:u,target:l});!1===d&&(d=r.allowed(h,{connection:t,source:l,target:u})),!1!==d&&i.init(e,"bendpoint.move",{data:{connection:t,connectionGfx:c,context:{allowed:d,bendpointIndex:o,connection:t,source:u,target:l,insert:a,type:s}}})},t.on("bendpoint.move.hover",(function(e){var t,n=e.context,i=n.connection,o=i.source,a=i.target,s=e.hover,c=n.type;if(n.hover=s,s){var u=c===ta?"connection.updateWaypoints":"connection.reconnect";if(t=n.allowed=r.allowed(u,{connection:i,source:c===Qo?s:o,target:c===ea?s:a}))return n.source=c===Qo?s:o,void(n.target=c===ea?s:a);!1===t&&(t=n.allowed=r.allowed(u,{connection:i,source:c===ea?s:a,target:c===Qo?s:o})),t&&(n.source=c===ea?s:a,n.target=c===Qo?s:o)}})),t.on(["bendpoint.move.out","bendpoint.move.cleanup"],(function(e){var t=e.context,n=t.type;t.hover=null,t.source=null,t.target=null,n!==ta&&(t.allowed=!1)})),t.on("bendpoint.move.end",(function(e){var t=e.context,n=t.allowed,i=t.bendpointIndex,r=t.connection,a=t.insert,s=r.waypoints.slice(),c=t.source,u=t.target,l=t.type,p=t.hints||{},h={x:Jo(e.x),y:Jo(e.y)};if(!n)return!1;l===ta?(a?s.splice(i,0,h):s[i]=h,p.bendpointMove={insert:a,bendpointIndex:i},s=this.cropWaypoints(r,s),o.updateWaypoints(r,function(e){e=e.slice();for(var t,n,i,r=0;e[r];)t=e[r],n=e[r-1],0===Bo(t,i=e[r+1])||Ro(n,i,t)?e.splice(r,1):r++;return e}(s),p)):(l===Qo?(p.docking="source",ia(t)&&(p.docking="target",p.newWaypoints=s.reverse())):l===ea&&(p.docking="target",ia(t)&&(p.docking="source",p.newWaypoints=s.reverse())),o.reconnect(r,c,u,h,p))}),this)}function ia(e){var t=e.hover,n=e.source,i=e.target,r=e.type;return r===Qo?t&&i&&t===i&&n!==i:r===ea?t&&n&&t===n&&n!==i:void 0}na.$inject=["injector","eventBus","canvas","dragging","rules","modeling"],na.prototype.cropWaypoints=function(e,t){var n=this._injector.get("connectionDocking",!1);if(!n)return t;var i=e.waypoints;return e.waypoints=t,e.waypoints=n.getCroppedWaypoints(e),t=e.waypoints,e.waypoints=i,t};var ra="updateWaypoints",oa="connect-ok",aa="connect-not-ok",sa="connect-hover",ca="djs-updating",ua="djs-element-hidden";function la(e,t,n,i){this._injector=t;var r=t.get("connectionPreview",!1);n.on("bendpoint.move.start",(function(e){var t=e.context,n=t.bendpointIndex,r=t.connection,o=t.insert,a=r.waypoints,s=a.slice();t.waypoints=a,o&&s.splice(n,0,{x:e.x,y:e.y}),r.waypoints=s,Pe(t.draggerGfx=$o(i.getLayer("overlays"))).add("djs-dragging"),i.addMarker(r,ua),i.addMarker(r,ca)})),n.on("bendpoint.move.hover",(function(e){var t=e.context,n=t.allowed,r=t.hover,o=t.type;if(r){if(i.addMarker(r,sa),o===ra)return;n?(i.removeMarker(r,aa),i.addMarker(r,oa)):!1===n&&(i.removeMarker(r,oa),i.addMarker(r,aa))}})),n.on(["bendpoint.move.out","bendpoint.move.cleanup"],1100,(function(e){var t=e.context,n=t.hover,r=t.target;n&&(i.removeMarker(n,sa),i.removeMarker(n,r?oa:aa))})),n.on("bendpoint.move.move",(function(t){var n=t.context,i=n.allowed,o=n.bendpointIndex,a=n.draggerGfx,s=n.hover,c=n.type,u=n.connection,l=u.source,p=u.target,h=u.waypoints.slice(),d={x:t.x,y:t.y},f=n.hints||{},v={};r&&(f.connectionStart&&(v.connectionStart=f.connectionStart),f.connectionEnd&&(v.connectionEnd=f.connectionEnd),"reconnectStart"===c?ia(n)?(v.connectionEnd=v.connectionEnd||d,v.source=p,v.target=s||l,h=h.reverse()):(v.connectionStart=v.connectionStart||d,v.source=s||l,v.target=p):"reconnectEnd"===c?ia(n)?(v.connectionStart=v.connectionStart||d,v.source=s||p,v.target=l,h=h.reverse()):(v.connectionEnd=v.connectionEnd||d,v.source=l,v.target=s||p):(v.noCropping=!0,v.noLayout=!0,h[o]=d),c===ra&&(h=e.cropWaypoints(u,h)),v.waypoints=h,r.drawPreview(n,i,v)),qt(a,t.x,t.y)}),this),n.on(["bendpoint.move.end","bendpoint.move.cancel"],1100,(function(e){var t=e.context,n=t.connection,o=t.draggerGfx,a=t.hover,s=t.target,c=t.waypoints;n.waypoints=c,Me(o),i.removeMarker(n,ca),i.removeMarker(n,ua),a&&(i.removeMarker(a,oa),i.removeMarker(a,s?oa:aa)),r&&r.cleanUp(t)}))}la.$inject=["bendpointMove","injector","eventBus","canvas"];var pa="connect-hover",ha="djs-updating";function da(e,t,n){return fa(e,t,e[t]+n)}function fa(e,t,n){return{x:"x"===t?n:e.x,y:"y"===t?n:e.y}}function va(e){return"x"===e?"y":"x"}function ya(e,t,n){var i,r;return e.original?e.original:(i=Xo(t),fa(e,r=va(n),i[r]))}function ga(e,t,n,i,r,o){var a=e.get("connectionDocking",!1);function s(e,t){if(!a)return t;var n,i=e.waypoints;return e.waypoints=t,n=a.getCroppedWaypoints(e),e.waypoints=i,n}function c(e){r.update("connection",e.connection,e.connectionGfx)}this.start=function(e,t,r){var o,a,s,c,u=n.getGraphics(t),l=r-1,p=r,h=t.waypoints,d=h[l],f=h[p],v=Io(n,h,e);(a=Ao(d,f))&&(s="v"===a?"x":"y",0===l&&(d=ya(d,t.source,s)),p===h.length-1&&(f=ya(f,t.target,s)),o={connection:t,segmentStartIndex:l,segmentEndIndex:p,segmentStart:d,segmentEnd:f,axis:s,dragPosition:c=v?v.point:{x:(d.x+f.x)/2,y:(d.y+f.y)/2}},i.init(e,c,"connectionSegment.move",{cursor:"x"===s?"resize-ew":"resize-ns",data:{connection:t,connectionGfx:u,context:o}}))},t.on("connectionSegment.move.start",(function(e){var t=e.context,i=e.connection,r=n.getLayer("overlays");t.originalWaypoints=i.waypoints.slice(),t.draggerGfx=Fo(r,t.segmentStart,t.segmentEnd),Pe(t.draggerGfx).add("djs-dragging"),n.addMarker(i,ha)})),t.on("connectionSegment.move.move",(function(e){var t,n,i=e.context,r=i.connection,o=i.segmentStartIndex,a=i.segmentEndIndex,u=i.segmentStart,l=i.segmentEnd,p=i.axis,h=i.originalWaypoints.slice(),d=da(u,p,e["d"+p]),f=da(l,p,e["d"+p]),v=h.length,y=0;h[o]=d,h[a]=f,o<2&&(t=Ko(r.source,d),1===o?"intersect"===t&&(h.shift(),h[0]=d,y--):"intersect"!==t&&(h.unshift(u),y++)),a>v-3&&(n=Ko(r.target,f),a===v-2?"intersect"===n&&(h.pop(),h[h.length-1]=f):"intersect"!==n&&h.push(l)),i.newWaypoints=r.waypoints=s(r,h),function(e,t,n){var i,r,o,a,s,c,u=e.newWaypoints,l=(i=n,r=u[e.segmentStartIndex+t],o=u[e.segmentEndIndex+t],a=va(e.axis),s=Math.max(r[a],o[a]),c=Math.min(r[a],o[a]),fa(r,a,Math.min(Math.max(c+20,i[a]),s-20)));qt(e.draggerGfx,l.x,l.y)}(i,y,e),i.newSegmentStartIndex=o+y,c(e)})),t.on("connectionSegment.move.hover",(function(e){e.context.hover=e.hover,n.addMarker(e.hover,pa)})),t.on(["connectionSegment.move.out","connectionSegment.move.cleanup"],(function(e){var t=e.context.hover;t&&n.removeMarker(t,pa)})),t.on("connectionSegment.move.cleanup",(function(e){var t=e.context,i=t.connection;t.draggerGfx&&Me(t.draggerGfx),n.removeMarker(i,ha)})),t.on(["connectionSegment.move.cancel","connectionSegment.move.end"],(function(e){var t=e.context;t.connection.waypoints=t.originalWaypoints,c(e)})),t.on("connectionSegment.move.end",(function(e){var t=e.context,n=t.connection,i=t.newWaypoints,r=t.newSegmentStartIndex,a=function(e,t){var n=0;return{waypoints:e.filter((function(i,r){return!Ro(e[r-1],e[r+1],i)||(n=r<=t?n-1:n,!1)})),segmentOffset:n}}(i=i.map((function(e){return{original:e.original,x:Math.round(e.x),y:Math.round(e.y)}})),r),c=s(n,a.waypoints),u=a.segmentOffset,l={segmentMove:{segmentStartIndex:t.segmentStartIndex,newSegmentStartIndex:r+u}};o.updateWaypoints(n,c,l)}))}ga.$inject=["injector","eventBus","canvas","dragging","graphicsFactory","modeling"];var ma=Math.abs,xa=Math.round;function _a(e,t){return!e||isNaN(e.x)||isNaN(e.y)?t:{x:xa(e.x+e.width/2),y:xa(e.y+e.height/2)}}function wa(e,t){var n=e.snapped;return!!n&&("string"==typeof t?n[t]:n.x&&n.y)}function ba(e,t,n){if("string"!=typeof t)throw new Error("axis must be in [x, y]");if("number"!=typeof n&&!1!==n)throw new Error("value must be Number or false");var i,r=e[t],o=e.snapped=e.snapped||{};return!1===n?o[t]=!1:(o[t]=!0,i=n-r,e[t]+=i,e["d"+t]+=i),r}function Ea(e){return e.children||[]}var Sa=Math.abs,ka=Math.round;function Ta(e){function t(e,t){if(f(e)){for(var n=e.length;n--;)if(Sa(e[n]-t)<=10)return e[n]}else{var i=t%(e=+e);if(i<10)return t-i;if(i>e-10)return t-i+e}return t}function n(e){if(e.width)return{x:ka(e.width/2+e.x),y:ka(e.height/2+e.y)}}e.on("connectionSegment.move.move",1500,(function(e){var i,r,o=function(e){var t=e.snapPoints,i=e.connection,r=i.waypoints,o=e.segmentStart,a=e.segmentStartIndex,s=e.segmentEnd,c=e.segmentEndIndex,u=e.axis;if(t)return t;var l=[r[a-1],o,s,r[c+1]];return a<2&&l.unshift(n(i.source)),c>r.length-3&&l.unshift(n(i.target)),e.snapPoints=t={horizontal:[],vertical:[]},b(l,(function(e){e&&(e=e.original||e,"y"===u&&t.horizontal.push(e.y),"x"===u&&t.vertical.push(e.x))})),t}(e.context),a=e.x,s=e.y;if(o){var c=a-(i=t(o.vertical,a)),u=s-(r=t(o.horizontal,s));G(e,{dx:e.dx-c,dy:e.dy-u,x:i,y:r}),(c||-1!==o.vertical.indexOf(a))&&ba(e,"x",i),(u||-1!==o.horizontal.indexOf(s))&&ba(e,"y",r)}})),e.on(["bendpoint.move.move","bendpoint.move.end"],1500,(function(e){var i,r,o=e.context,a=function(e){var t=e.snapPoints,n=e.connection.waypoints,i=e.bendpointIndex;if(t)return t;var r=[n[i-1],n[i+1]];return e.snapPoints=t={horizontal:[],vertical:[]},b(r,(function(e){e&&(e=e.original||e,t.horizontal.push(e.y),t.vertical.push(e.x))})),t}(o),s=o.hover,c=s&&n(s),u=e.x,l=e.y;if(a){var p=u-(i=t(c?a.vertical.concat([c.x]):a.vertical,u)),h=l-(r=t(c?a.horizontal.concat([c.y]):a.horizontal,l));G(e,{dx:e.dx-p,dy:e.dy-h,x:e.x-p,y:e.y-h}),(p||-1!==a.vertical.indexOf(u))&&ba(e,"x",i),(h||-1!==a.horizontal.indexOf(l))&&ba(e,"y",r)}}))}Ta.$inject=["eventBus"];const Pa={__depends__:[To,jo],__init__:["bendpoints","bendpointSnapping","bendpointMovePreview"],bendpoints:["type",Wo],bendpointMove:["type",na],bendpointMovePreview:["type",la],connectionSegmentMove:["type",ga],bendpointSnapping:["type",Ta]},Ca={YELLOW:"#FFFF88",GREEN:"#7EC845",PINK:"#F46F60",ICE_BLUE:"#B8D6F7",BLUE:"#23BFE7",ORANGE:"#FF9D48",BLACK:"black"};var Ma={type:"postit:SquarePostit",color:Ca.YELLOW,$instanceOf:function(){return!0}};function ja(e,t,n,i,r){var o=Ma;e.on("canvas.init",(function(a){var s=a.svg;a.viewport.innerHTML='<filter id="noteDropShadow" style="height: 130%;"><feGaussianBlur in="SourceAlpha" stdDeviation="3"></feGaussianBlur><feOffset dx="1" dy="2" result="offsetblur"></feOffset><feMerge><feMergeNode></feMergeNode><feMergeNode in="SourceGraphic"></feMergeNode></feMerge></filter>',le(s,"svg","dblclick",(function(e){e.target===s&&function(e){var a,s=function(e){var t=ir(e);return{x:t.x,y:t.y}}(e),c=t.createPostitElement("shape",G(o,s)),u=n.getRootElement();Si(a=r.createShape(c,s,u),["postit:Postit","postit:Group","postit:TextBox"])&&i.activate(a)}(e)})),e.on("create.end",(function(e){!function(e){if(e){var t=Ei(e);o={type:e.type,color:e.color||t.color,$instanceOf:function(e){return"function"==typeof t.$instanceOf&&t.$instanceOf(e)}}}else o=Ma}(e.shape)}))}))}ja.prototype.$inject=["eventBus","elementFactory","canvas","directEditing","modeling"];var Ba=Math.min,Ra=Math.max;function Aa(e){e.preventDefault()}function Oa(e){e.stopPropagation()}function Na(e){this.container=e.container,this.parent=he('<div class="djs-direct-editing-parent"><div class="djs-direct-editing-content" contenteditable="true"></div></div>'),this.content=ve("[contenteditable]",this.parent),this.keyHandler=e.keyHandler||function(){},this.resizeHandler=e.resizeHandler||function(){},this.autoResize=F(this.autoResize,this),this.handlePaste=F(this.handlePaste,this)}function La(e,t){this._eventBus=e,this._providers=[],this._textbox=new Na({container:t.getContainer(),keyHandler:F(this._handleKey,this),resizeHandler:F(this._handleResize,this)})}Na.prototype.create=function(e,t,n,i){var r=this.parent,o=this.content,a=this.container;i=this.options=i||{};var s=U(t=this.style=t||{},["width","height","maxWidth","maxHeight","minWidth","minHeight","left","top","backgroundColor","position","overflow","border","wordWrap","textAlign","outline","transform"]);G(r.style,{width:e.width+"px",height:e.height+"px",maxWidth:e.maxWidth+"px",maxHeight:e.maxHeight+"px",minWidth:e.minWidth+"px",minHeight:e.minHeight+"px",left:e.x+"px",top:e.y+"px",backgroundColor:"#ffffff",position:"absolute",overflow:"visible",border:"1px solid #ccc",boxSizing:"border-box",wordWrap:"normal",textAlign:"center",outline:"none"},s);var c=U(t,["fontFamily","fontSize","fontWeight","lineHeight","padding","paddingTop","paddingRight","paddingBottom","paddingLeft"]);return G(o.style,{boxSizing:"border-box",width:"100%",outline:"none",wordWrap:"break-word"},c),i.centerVertically&&G(o.style,{position:"absolute",top:"50%",transform:"translate(0, -50%)"},c),o.innerText=n,ce.bind(o,"keydown",this.keyHandler),ce.bind(o,"mousedown",Oa),ce.bind(o,"paste",this.handlePaste),i.autoResize&&ce.bind(o,"input",this.autoResize),i.resizable&&this.resizable(t),a.appendChild(r),this.setSelection(o.lastChild,o.lastChild&&o.lastChild.length),r},Na.prototype.handlePaste=function(e){var t,n=this.options,i=this.style;if(e.preventDefault(),t=e.clipboardData?e.clipboardData.getData("text/plain"):window.clipboardData.getData("Text"),this.insertText(t),n.autoResize){var r=this.autoResize(i);r&&this.resizeHandler(r)}},Na.prototype.insertText=function(e){document.execCommand("insertText",!1,e)||this._insertTextIE(e)},Na.prototype._insertTextIE=function(e){var t,n,i,r=this.getSelection(),o=r.startContainer,a=r.endContainer,s=r.startOffset,c=r.endOffset,u=r.commonAncestorContainer,l=(t=u.childNodes,[].slice.call(t));if(function(e){return e.nodeType===Node.TEXT_NODE}(u)){var p=o.textContent;o.textContent=p.substring(0,s)+e+p.substring(c),n=o,i=s+e.length}else if(o===this.content&&a===this.content){var h=document.createTextNode(e);this.content.insertBefore(h,l[s]),n=h,i=h.textContent.length}else{var d=l.indexOf(o),f=l.indexOf(a);l.forEach((function(t,n){n===d?t.textContent=o.textContent.substring(0,s)+e+a.textContent.substring(c):n>d&&n<=f&&ge(t)})),n=o,i=s+e.length}n&&void 0!==i&&setTimeout((function(){self.setSelection(n,i)}))},Na.prototype.autoResize=function(){var e=this.parent,t=this.content,n=parseInt(this.style.fontSize)||12;if(t.scrollHeight>e.offsetHeight||t.scrollHeight<e.offsetHeight-n){var i=e.getBoundingClientRect(),r=t.scrollHeight;e.style.height=r+"px",this.resizeHandler({width:i.width,height:i.height,dx:0,dy:r-i.height})}},Na.prototype.resizable=function(){var e=this,t=this.parent,n=this.resizeHandle,i=parseInt(this.style.minWidth)||0,r=parseInt(this.style.minHeight)||0,o=parseInt(this.style.maxWidth)||1/0,a=parseInt(this.style.maxHeight)||1/0;if(!n){var s,c,u,l;n=this.resizeHandle=he('<div class="djs-direct-editing-resize-handle"></div>');var p=function(n){Aa(n),Oa(n);var p=Ba(Ra(u+n.clientX-s,i),o),h=Ba(Ra(l+n.clientY-c,r),a);t.style.width=p+"px",t.style.height=h+"px",e.resizeHandler({width:u,height:l,dx:n.clientX-s,dy:n.clientY-c})},h=function(e){Aa(e),Oa(e),ce.unbind(document,"mousemove",p,!1),ce.unbind(document,"mouseup",h,!1)};ce.bind(n,"mousedown",(function(e){Aa(e),Oa(e),s=e.clientX,c=e.clientY;var n=t.getBoundingClientRect();u=n.width,l=n.height,ce.bind(document,"mousemove",p),ce.bind(document,"mouseup",h)}))}G(n.style,{position:"absolute",bottom:"0px",right:"0px",cursor:"nwse-resize",width:"0",height:"0",borderTop:(parseInt(this.style.fontSize)/4||3)+"px solid transparent",borderRight:(parseInt(this.style.fontSize)/4||3)+"px solid #ccc",borderBottom:(parseInt(this.style.fontSize)/4||3)+"px solid #ccc",borderLeft:(parseInt(this.style.fontSize)/4||3)+"px solid transparent"}),t.appendChild(n)},Na.prototype.destroy=function(){var e=this.parent,t=this.content,n=this.resizeHandle;t.innerText="",e.removeAttribute("style"),t.removeAttribute("style"),ce.unbind(t,"keydown",this.keyHandler),ce.unbind(t,"mousedown",Oa),ce.unbind(t,"input",this.autoResize),ce.unbind(t,"paste",this.handlePaste),n&&(n.removeAttribute("style"),ge(n)),ge(e)},Na.prototype.getValue=function(){return this.content.innerText.trim()},Na.prototype.getSelection=function(){return window.getSelection().getRangeAt(0)},Na.prototype.setSelection=function(e,t){var n=document.createRange();null===e?n.selectNodeContents(this.content):(n.setStart(e,t),n.setEnd(e,t));var i=window.getSelection();i.removeAllRanges(),i.addRange(n)},La.$inject=["eventBus","canvas"],La.prototype.registerProvider=function(e){this._providers.push(e)},La.prototype.isActive=function(){return!!this._active},La.prototype.cancel=function(){this._active&&(this._fire("cancel"),this.close())},La.prototype._fire=function(e,t){this._eventBus.fire("directEditing."+e,t||{active:this._active})},La.prototype.close=function(){this._textbox.destroy(),this._fire("deactivate"),this._active=null,this.resizable=void 0},La.prototype.complete=function(){var e=this._active;if(e){var t,n=e.context.bounds,i=this.$textbox.getBoundingClientRect(),r=this.getValue();r===e.context.text&&i.height===n.height&&i.width===n.width||(t=this._textbox.container.getBoundingClientRect(),e.provider.update(e.element,r,e.context.text,{x:i.left-t.left,y:i.top-t.top,width:i.width,height:i.height})),this._fire("complete"),this.close()}},La.prototype.getValue=function(){return this._textbox.getValue()},La.prototype._handleKey=function(e){e.stopPropagation();var t=e.keyCode||e.charCode;return 27===t?(e.preventDefault(),this.cancel()):13!==t||e.shiftKey?void 0:(e.preventDefault(),this.complete())},La.prototype._handleResize=function(e){this._fire("resize",e)},La.prototype.activate=function(e){var t;this.isActive()&&this.cancel();var n=_(this._providers,(function(n){return(t=n.activate(e))?n:null}));return t&&(this.$textbox=this._textbox.create(t.bounds,t.style,t.text,t.options),this._active={element:e,context:t,provider:n},t.options&&t.options.resizable&&(this.resizable=!0),this._fire("activate")),!!t};const za={__depends__:[pr],__init__:["directEditing"],directEditing:["type",La]},Da={__depends__:[za],__init__:["canvasCreate"],canvasCreate:["type",ja]};function Ia(e,t,n,i){function r(e,t){return i.allowed("connection.create",{source:e,target:t})}e.on("connect.hover",(function(e){var t,n=e.context,i=n.start,o=e.hover;if(n.hover=o,!d(t=n.canExecute=r(i,o))){if(!1!==t)return n.source=i,void(n.target=o);d(t=n.canExecute=r(o,i))||!1!==t&&(n.source=o,n.target=i)}})),e.on(["connect.out","connect.cleanup"],(function(e){var t=e.context;t.hover=null,t.source=null,t.target=null,t.canExecute=!1})),e.on("connect.end",(function(e){var t=e.context,i=t.canExecute,r=t.connectionStart,o={x:e.x,y:e.y},a=t.source,s=t.target;if(!i)return!1;var c=null,u={connectionStart:$a(t)?o:r,connectionEnd:$a(t)?r:o};v(i)&&(c=i),n.connect(a,s,c,u)})),this.start=function(e,n,i,r){v(i)||(r=i,i=Xo(n)),t.init(e,"connect",{autoActivate:r,data:{shape:n,context:{start:n,connectionStart:i}}})}}function $a(e){var t=e.hover,n=e.source,i=e.target;return t&&n&&t===n&&n!==i}Ia.$inject=["eventBus","dragging","modeling","rules"];var Fa="connect-ok",Ha="connect-not-ok";function Ga(e,t,n){var i=e.get("connectionPreview",!1);i&&t.on("connect.move",(function(e){var t=e.context,n=t.canExecute,r=t.hover,o=t.source,a=t.start,s=t.startPosition,c=t.connectionStart,u=t.connectionEnd,l=t.target;c||(c=$a(t)?{x:e.x,y:e.y}:s),u||(u=$a(t)?s:{x:e.x,y:e.y}),i.drawPreview(t,n,{source:o||a,target:l||r,connectionStart:c,connectionEnd:u})})),t.on("connect.hover",900,(function(e){var t=e.context,i=e.hover,r=t.canExecute;null!==r&&n.addMarker(i,r?Fa:Ha)})),t.on(["connect.out","connect.cleanup"],1100,(function(e){var t=e.hover;t&&(n.removeMarker(t,Fa),n.removeMarker(t,Ha))})),i&&t.on("connect.cleanup",(function(e){i.cleanUp(e.context)}))}Ga.$inject=["injector","eventBus","canvas"];const Ua={__depends__:[_r,jo,To],__init__:["connectPreview"],connect:["type",Ia],connectPreview:["type",Ga]};function Wa(e,t,n,i){this._canvas=t,this._graphicsFactory=n,this._elementFactory=i,this._connectionDocking=e.get("connectionDocking",!1),this._layouter=e.get("layouter",!1)}Wa.$inject=["injector","canvas","graphicsFactory","elementFactory"],Wa.prototype.drawPreview=function(e,t,n){n=n||{};var i,r,o,a=e.connectionPreviewGfx,s=e.getConnection,c=n.source,u=n.target,l=n.waypoints,p=n.connectionStart,h=n.connectionEnd,d=n.noLayout,f=n.noCropping,v=n.noNoop,y=this;a||(a=e.connectionPreviewGfx=this.createConnectionPreviewGfx()),je(a),s||(s=e.getConnection=(r=function(e,t,n){return y.getConnection(e,t,n)},o={},function(e){var t=JSON.stringify(e),n=o[t];return n||(n=o[t]=r.apply(null,arguments)),n})),t&&(i=s(t,c,u)),i?(i.waypoints=l||[],this._layouter&&!d&&(i.waypoints=this._layouter.layoutConnection(i,{source:c,target:u,connectionStart:p,connectionEnd:h,waypoints:n.waypoints||i.waypoints})),i.waypoints&&i.waypoints.length||(i.waypoints=[c?Xo(c):p,u?Xo(u):h]),this._connectionDocking&&(c||u)&&!f&&(i.waypoints=this._connectionDocking.getCroppedWaypoints(i,c,u)),this._graphicsFactory.drawConnection(a,i)):!v&&this.drawNoopPreview(a,n)},Wa.prototype.drawNoopPreview=function(e,t){var n=t.source,i=t.target,r=t.connectionStart||Xo(n),o=t.connectionEnd||Xo(i),a=this.cropWaypoints(r,o,n,i);xe(e,this.createNoopConnection(a[0],a[1]))},Wa.prototype.cropWaypoints=function(e,t,n,i){var r=this._graphicsFactory,o=n&&r.getShapePath(n),a=i&&r.getShapePath(i),s=r.getConnectionPath({waypoints:[e,t]});return[e=n&&Zo(o,s,!0)||e,t=i&&Zo(a,s,!1)||t]},Wa.prototype.cleanUp=function(e){e&&e.connectionPreviewGfx&&Me(e.connectionPreviewGfx)},Wa.prototype.getConnection=function(e){var t=function(e){return v(e)?e:{}}(e);return this._elementFactory.createConnection(t)},Wa.prototype.createConnectionPreviewGfx=function(){var e=Ne("g");return be(e,{pointerEvents:"none"}),Pe(e).add("djs-connection-preview"),xe(this._canvas.getDefaultLayer(),e),e},Wa.prototype.createNoopConnection=function(e,t){var n=Ne("polyline");return be(n,{stroke:"#333",strokeDasharray:[1],strokeWidth:2,"pointer-events":"none"}),be(n,{points:[e.x,e.y,t.x,t.y]}),n};const Va={__init__:["connectionPreview"],connectionPreview:["type",Wa]};var qa=".entry";function Ya(e,t,n){this._eventBus=t,this._overlays=n;var i=h(e&&e.scale)?e.scale:{min:1,max:1.5};this._overlaysConfig={position:{right:-9,top:-6},scale:i},this._current=null,this._init()}Ya.$inject=["config.contextPad","eventBus","overlays"],Ya.prototype._init=function(){var e=this._eventBus,t=this;e.on("selection.changed",(function(e){var n=e.newSelection;1===n.length?t.open(n[0]):t.close()})),e.on("elements.delete",(function(e){b(e.elements,(function(e){t.isOpen(e)&&t.close()}))})),e.on("element.changed",(function(e){var n=e.element,i=t._current;i&&i.element===n&&t.open(n,!0)}))},Ya.prototype.registerProvider=function(e,t){t||(t=e,e=1e3),this._eventBus.on("contextPad.getProviders",e,(function(e){e.providers.push(t)}))},Ya.prototype.getEntries=function(e){var t=this._getProviders(),n={};return b(t,(function(t){var i=t.getContextPadEntries(e);g(i)?n=i(n):b(i,(function(e,t){n[t]=e}))})),n},Ya.prototype.trigger=function(e,t,n){var i,r,o=this._current.element,a=this._current.entries,s=t.delegateTarget||t.target;if(!s)return t.preventDefault();if(i=a[V(s,"data-action")].action,r=t.originalEvent||t,g(i)){if("click"===e)return i(r,o,n)}else if(i[e])return i[e](r,o,n);t.preventDefault()},Ya.prototype.open=function(e,t){!t&&this.isOpen(e)||(this.close(),this._updateAndOpen(e))},Ya.prototype._getProviders=function(){var e=this._eventBus.createEvent({type:"contextPad.getProviders",providers:[]});return this._eventBus.fire(e),e.providers},Ya.prototype._updateAndOpen=function(e){var t=this.getEntries(e),n=this.getPad(e),i=n.html;b(t,(function(e,t){var n,r=e.group||"default",o=he(e.html||'<div class="entry" draggable="true"></div>');V(o,"data-action",t),(n=ve("[data-group="+r+"]",i))||(n=he('<div class="group" data-group="'+r+'"></div>'),i.appendChild(n)),n.appendChild(o),e.className&&function(e,t){var n=Z(e);(f(t)?t:t.split(/\s+/g)).forEach((function(e){n.add(e)}))}(o,e.className),e.title&&V(o,"title",e.title),e.imageUrl&&o.appendChild(he('<img src="'+e.imageUrl+'">'))})),Z(i).add("open"),this._current={element:e,pad:n,entries:t},this._eventBus.fire("contextPad.open",{current:this._current})},Ya.prototype.getPad=function(e){if(this.isOpen())return this._current.pad;var t=this,n=this._overlays,i=he('<div class="djs-context-pad"></div>'),r=G({html:i},this._overlaysConfig);le(i,qa,"click",(function(e){t.trigger("click",e)})),le(i,qa,"dragstart",(function(e){t.trigger("dragstart",e)})),ce.bind(i,"mousedown",(function(e){e.stopPropagation()})),this._overlayId=n.add(e,"context-pad",r);var o=n.get(this._overlayId);return this._eventBus.fire("contextPad.create",{element:e,pad:o}),o},Ya.prototype.close=function(){this.isOpen()&&(this._overlays.remove(this._overlayId),this._overlayId=null,this._eventBus.fire("contextPad.close",{current:this._current}),this._current=null)},Ya.prototype.isOpen=function(e){return!(!this._current||e&&this._current.element!==e)};const Xa={__depends__:[pr,Pr],contextPad:["type",Ya]};var Ka=["marker-start","marker-mid","marker-end"],Za=["circle","ellipse","line","path","polygon","polyline","rect"];function Ja(e,t,n,i){this._elementRegistry=e,this._canvas=n,this._styles=i,this._clonedMarkers={};var r=this;t.on("drag.cleanup",(function(){b(r._clonedMarkers,(function(e){Me(e)})),r._clonedMarkers={}}))}Ja.$inject=["elementRegistry","eventBus","canvas","styles"],Ja.prototype.getGfx=function(e){return this._elementRegistry.getGraphics(e)},Ja.prototype.addDragger=function(e,t,n){var i=Be(n=n||this.getGfx(e)),r=n.getBoundingClientRect();return this._cloneMarkers(Vt(i)),be(i,this._styles.cls("djs-dragger",[],{x:r.top,y:r.left})),xe(t,i),i},Ja.prototype.addFrame=function(e,t){var n=Ne("rect",{class:"djs-resize-overlay",width:e.width,height:e.height,x:e.x,y:e.y});return xe(t,n),n},Ja.prototype._cloneMarkers=function(e){var t=this;if(e.childNodes)for(var n=0;n<e.childNodes.length;n++)t._cloneMarkers(e.childNodes[n]);(function(e){return-1!==Za.indexOf(e.nodeName)})(e)&&Ka.forEach((function(n){if(be(e,n)){var i=function(e,t,n){return ve("marker#"+be(e,t).match(/url\(['"]?#([^'"]*)['"]?\)/)[1],n||document)}(e,n,t._canvas.getContainer());t._cloneMarker(e,i,n)}}))},Ja.prototype._cloneMarker=function(e,t,n){var i=t.id,r=this._clonedMarkers[i];if(!r){var o=i+"-clone";(r=Be(t)).id=o,Pe(r).add("djs-dragger").add("djs-dragger-marker"),this._clonedMarkers[i]=r;var a=ve("defs",this._canvas._svg);a||(a=Ne("defs"),xe(this._canvas._svg,a)),xe(a,r)}be(e,n,"url(#"+this._clonedMarkers[i].id+")")};const Qa={__init__:["previewSupport"],previewSupport:["type",Ja]};var es="drop-ok",ts="drop-not-ok",ns="attach-ok",is="new-parent",rs="create";function os(e,t,n,i,r){function o(t,n){[ns,es,ts,is].forEach((function(i){i===n?e.addMarker(t,i):e.removeMarker(t,i)}))}function a(){var e=t.context();e&&e.prefix===rs&&t.cancel()}n.on(["create.move","create.hover"],(function(e){var t=e.context,n=t.elements,i=e.hover,a=t.source,s=t.hints||{};if(!i)return t.canExecute=!1,void(t.target=null);as(e);var c={x:e.x,y:e.y},u=t.canExecute=i&&function(e,t,n,i,o){if(!t)return!1;var a=_(e=w(e,(function(t){var n=t.labelTarget;return!(t.parent||function(e){return!!e.labelTarget}(t)&&-1!==e.indexOf(n))})),(function(e){return!ss(e)})),s=!1,c=!1,u=!1;cs(e)&&(s=r.allowed("shape.attach",{position:n,shape:a,target:t})),s||(u=cs(e)?r.allowed("shape.create",{position:n,shape:a,source:i,target:t}):r.allowed("elements.create",{elements:e,position:n,target:t}));var l=o.connectionTarget;return u||s?(a&&i&&(c=r.allowed("connection.create",{source:l===i?a:i,target:l===i?i:a,hints:{targetParent:t,targetAttach:s}})),{attach:s,connect:c}):(null===u||null===s)&&null}(n,i,c,a,s);i&&null!==u&&(t.target=i,u&&u.attach?o(i,ns):o(i,u?is:ts))})),n.on(["create.end","create.out","create.cleanup"],(function(e){var t=e.hover;t&&o(t,null)})),n.on("create.end",(function(e){var t=e.context,n=t.source,r=t.shape,o=t.elements,a=t.target,s=t.canExecute,c=s&&s.attach,u=s&&s.connect,l=t.hints||{};if(!1===s||!a)return!1;as(e);var p={x:e.x,y:e.y};r=u?i.appendShape(n,r,p,a,{attach:c,connection:!0===u?{}:u,connectionTarget:l.connectionTarget}):_(o=i.createElements(o,p,a,G({},l,{attach:c})),(function(e){return!ss(e)})),G(t,{elements:o,shape:r}),G(e,{elements:o,shape:r})})),n.on("create.init",(function(){n.on("elements.changed",a),n.once(["create.cancel","create.end"],2e3,(function(){n.off("elements.changed",a)}))})),this.start=function(e,n,i){f(n)||(n=[n]);var r=_(n,(function(e){return!ss(e)}));if(r){i=G({elements:n,hints:{},shape:r},i||{}),b(n,(function(e){y(e.x)||(e.x=0),y(e.y)||(e.y=0)}));var o=ht(n);b(n,(function(e){ss(e)&&(e.waypoints=T(e.waypoints,(function(e){return{x:e.x-o.x-o.width/2,y:e.y-o.y-o.height/2}}))),G(e,{x:e.x-o.x-o.width/2,y:e.y-o.y-o.height/2})})),t.init(e,rs,{cursor:"grabbing",autoActivate:!0,data:{shape:r,elements:n,context:i}})}}}function as(e){var t=e.context.createConstraints;t&&(t.left&&(e.x=Math.max(e.x,t.left)),t.right&&(e.x=Math.min(e.x,t.right)),t.top&&(e.y=Math.max(e.y,t.top)),t.bottom&&(e.y=Math.min(e.y,t.bottom)))}function ss(e){return!!e.waypoints}function cs(e){return e&&1===e.length&&!ss(e[0])}function us(e,t,n,i,r){t.on("create.move",750,(function(t){var o=t.hover,a=t.context,s=a.elements,c=a.dragGroup;c||(c=a.dragGroup=function(e){var t=Ne("g");be(t,r.cls("djs-drag-group",["no-events"]));var o=Ne("g");return e.forEach((function(e){var r;e.hidden||(e.waypoints?(r=n._createContainer("connection",o),n.drawConnection(Vt(r),e)):(r=n._createContainer("shape",o),n.drawShape(Vt(r),e),qt(r,e.x,e.y)),i.addDragger(e,t,r))})),t}(s)),o?(c.parentNode||xe(e.getDefaultLayer(),c),qt(c,t.x,t.y)):Me(c)})),t.on("create.cleanup",(function(e){var t=e.context.dragGroup;t&&Me(t)}))}os.$inject=["canvas","dragging","eventBus","modeling","rules"],us.$inject=["canvas","eventBus","graphicsFactory","previewSupport","styles"];const ls={__depends__:[To,Qa,jo,_r],__init__:["create","createPreview"],create:["type",os],createPreview:["type",us]};var ps="data-id",hs=["contextPad.close","canvas.viewbox.changing","commandStack.changed"];function ds(e,t,n){var i=h(e&&e.scale)?e.scale:{min:1,max:1.5};this._config={scale:i},this._eventBus=t,this._canvas=n,this._providers={},this._current={}}ds.$inject=["config.popupMenu","eventBus","canvas"],ds.prototype.registerProvider=function(e,t,n){n||(n=t,t=1e3),this._eventBus.on("popupMenu.getProviders."+e,t,(function(e){e.providers.push(n)}))},ds.prototype.isEmpty=function(e,t){if(!e)throw new Error("element parameter is missing");if(!t)throw new Error("providerId parameter is missing");var n=this._getProviders(t);if(!n)return!0;var i=this._getEntries(e,n),r=this._getHeaderEntries(e,n),o=C(i)>0,a=r&&C(r)>0;return!o&&!a},ds.prototype.open=function(e,t,n){var i=this._getProviders(t);if(!e)throw new Error("Element is missing");if(!i||!i.length)throw new Error("No registered providers for: "+t);if(!n)throw new Error("the position argument is missing");this.isOpen()&&this.close(),this._emit("open");var r=this._current={className:t,element:e,position:n},o=this._getEntries(e,i),a=this._getHeaderEntries(e,i);r.entries=G({},o,a),r.container=this._createContainer(),C(a)&&r.container.appendChild(this._createEntries(a,"djs-popup-header")),C(o)&&r.container.appendChild(this._createEntries(o,"djs-popup-body"));var s=this._canvas.getContainer();this._attachContainer(r.container,s,n.cursor),this._bindAutoClose()},ds.prototype.close=function(){this.isOpen()&&(this._emit("close"),this._unbindAutoClose(),ge(this._current.container),this._current.container=null)},ds.prototype.isOpen=function(){return!!this._current.container},ds.prototype.trigger=function(e){e.preventDefault();var t=V(e.delegateTarget||e.target,ps),n=this._getEntry(t);if(n.action)return n.action.call(null,e,n)},ds.prototype._getProviders=function(e){var t=this._eventBus.createEvent({type:"popupMenu.getProviders."+e,providers:[]});return this._eventBus.fire(t),t.providers},ds.prototype._getEntries=function(e,t){var n={};return b(t,(function(t){if(t.getPopupMenuEntries){var i=t.getPopupMenuEntries(e);g(i)?n=i(n):b(i,(function(e,t){n[t]=e}))}else b(t.getEntries(e),(function(e){var t=e.id;if(!t)throw new Error("every entry must have the id property set");n[t]=W(e,["id"])}))})),n},ds.prototype._getHeaderEntries=function(e,t){var n={};return b(t,(function(t){if(t.getPopupMenuHeaderEntries){var i=t.getPopupMenuHeaderEntries(e);g(i)?n=i(n):b(i,(function(e,t){n[t]=e}))}else{if(!t.getHeaderEntries)return;b(t.getHeaderEntries(e),(function(e){var t=e.id;if(!t)throw new Error("every entry must have the id property set");n[t]=W(e,["id"])}))}})),n},ds.prototype._getEntry=function(e){var t=this._current.entries[e];if(!t)throw new Error("entry not found");return t},ds.prototype._emit=function(e){this._eventBus.fire("popupMenu."+e)},ds.prototype._createContainer=function(){var e=he('<div class="djs-popup">'),t=this._current.position,n=this._current.className;return G(e.style,{position:"absolute",left:t.x+"px",top:t.y+"px",visibility:"hidden"}),Z(e).add(n),e},ds.prototype._attachContainer=function(e,t,n){var i=this;le(e,".entry","click",(function(e){i.trigger(e)})),this._updateScale(e),t.appendChild(e),n&&this._assureIsInbounds(e,n)},ds.prototype._updateScale=function(e){var t,n,i,r,o=this._canvas.zoom(),a=this._config.scale,s=o;!0!==a&&(!1===a?(t=1,n=1):(t=a.min,n=a.max),h(t)&&o<t&&(s=t),h(n)&&o>n&&(s=n)),r="scale("+s+")",(i=e).style["transform-origin"]="top left",["","-ms-","-webkit-"].forEach((function(e){i.style[e+"transform"]=r}))},ds.prototype._assureIsInbounds=function(e,t){var n,i,r=this._canvas._container.getBoundingClientRect(),o=e.offsetLeft,a=e.offsetTop,s=e.scrollWidth,c=e.scrollHeight,u={},l=t.x-r.left,p=t.y-r.top;o+s>r.width&&(u.x=!0),a+c>r.height&&(u.y=!0),u.x&&u.y?(n=l-s+"px",i=p-c+"px"):u.x?(n=l-s+"px",i=p+"px"):u.y&&p<c?(n=l+"px",i="10px"):u.y&&(n=l+"px",i=p-c+"px"),G(e.style,{left:n,top:i},{visibility:"visible","z-index":1e3})},ds.prototype._createEntries=function(e,t){var n=he("<div>"),i=this;return Z(n).add(t),b(e,(function(e,t){var r=i._createEntry(e,t);n.appendChild(r)})),n},ds.prototype._createEntry=function(e,t){var n=he("<div>"),i=Z(n);if(i.add("entry"),e.className&&e.className.split(" ").forEach((function(e){i.add(e)})),V(n,ps,t),e.label){var r=he("<span>");r.textContent=e.label,n.appendChild(r)}return e.imageUrl&&n.appendChild(he('<img src="'+e.imageUrl+'" />')),!0===e.active&&i.add("active"),!0===e.disabled&&i.add("disabled"),e.title&&(n.title=e.title),n},ds.prototype._bindAutoClose=function(){this._eventBus.once(hs,this.close,this)},ds.prototype._unbindAutoClose=function(){this._eventBus.off(hs,this.close,this)};const fs={__init__:["popupMenu"],popupMenu:["type",ds]};function vs(){}vs.prototype.get=function(){return this._data},vs.prototype.set=function(e){this._data=e},vs.prototype.clear=function(){var e=this._data;return delete this._data,e},vs.prototype.isEmpty=function(){return!this._data};const ys={clipboard:["type",vs]};function gs(e){var t=this;function n(e){t._lastMoveEvent=e}this._lastMoveEvent=null,e.on("canvas.init",(function(e){(t._svg=e.svg).addEventListener("mousemove",n)})),e.on("canvas.destroy",(function(){t._lastMouseEvent=null,t._svg.removeEventListener("mousemove",n)}))}gs.$inject=["eventBus"],gs.prototype.getLastMoveEvent=function(){return this._lastMoveEvent||function(e,t){var n=document.createEvent("MouseEvent");return n.initMouseEvent&&n.initMouseEvent("mousemove",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),n}()};const ms={__init__:["mouse"],mouse:["type",gs]};function xs(e,t,n,i,r,o,a,s){this._canvas=e,this._create=t,this._clipboard=n,this._elementFactory=i,this._eventBus=r,this._modeling=o,this._mouse=a,this._rules=s,r.on("copyPaste.copyElement",(function(e){var t=e.descriptor,n=e.element,i=e.elements;t.priority=1,t.id=n.id,_(i,(function(e){return e===n.parent}))&&(t.parent=n.parent.id),function(e){return!!e.host}(n)&&(t.priority=2,t.host=n.host.id),_s(n)&&(t.priority=3,t.source=n.source.id,t.target=n.target.id,t.waypoints=function(e){return T(e.waypoints,(function(e){return(e=bs(e)).original&&(e.original=bs(e.original)),e}))}(n)),ws(n)&&(t.priority=4,t.labelTarget=n.labelTarget.id),b(["x","y","width","height"],(function(e){y(n[e])&&(t[e]=n[e])})),t.hidden=n.hidden,t.collapsed=n.collapsed})),r.on("copyPaste.pasteElements",(function(e){G(e.hints,{createElementsBehavior:!1})}))}function _s(e){return!!e.waypoints}function ws(e){return!!e.labelTarget}function bs(e){return G({},e)}function Es(e,t){var n=t.indexOf(e);return-1===n?t:t.splice(n,1)}xs.$inject=["canvas","create","clipboard","elementFactory","eventBus","modeling","mouse","rules"],xs.prototype.copy=function(e){var t,n;return f(e)||(e=e?[e]:[]),n=!1===(t=this._eventBus.fire("copyPaste.canCopyElements",{elements:e}))?{}:this.createTree(f(t)?t:e),this._clipboard.set(n),this._eventBus.fire("copyPaste.elementsCopied",{elements:e,tree:n}),n},xs.prototype.paste=function(e){var t=this._clipboard.get();if(!this._clipboard.isEmpty()){var n=e&&e.hints||{};this._eventBus.fire("copyPaste.pasteElements",{hints:n});var i=this._createElements(t);if(e&&e.element&&e.point)return this._paste(i,e.element,e.point,n);this._create.start(this._mouse.getLastMoveEvent(),i,{hints:n||{}})}},xs.prototype._paste=function(e,t,n,i){b(e,(function(e){y(e.x)||(e.x=0),y(e.y)||(e.y=0)}));var r=ht(e);return b(e,(function(e){_s(e)&&(e.waypoints=T(e.waypoints,(function(e){return{x:e.x-r.x-r.width/2,y:e.y-r.y-r.height/2}}))),G(e,{x:e.x-r.x-r.width/2,y:e.y-r.y-r.height/2})})),this._modeling.createElements(e,n,t,G({},i))},xs.prototype._createElements=function(e){var t=this,n=this._eventBus,i={},r=[];return b(e,(function(e,o){o=parseInt(o,10),b(e=A(e,"priority"),(function(e){var o,a=G({},W(e,["priority"]));return i[e.parent]?a.parent=i[e.parent]:delete a.parent,n.fire("copyPaste.pasteElement",{cache:i,descriptor:a}),_s(a)?(a.source=i[e.source],a.target=i[e.target],o=i[e.id]=t.createConnection(a),void r.push(o)):ws(a)?(a.labelTarget=i[a.labelTarget],o=i[e.id]=t.createLabel(a),void r.push(o)):(a.host&&(a.host=i[a.host]),o=i[e.id]=t.createShape(a),void r.push(o))}))})),r},xs.prototype.createConnection=function(e){return this._elementFactory.createConnection(W(e,["id"]))},xs.prototype.createLabel=function(e){return this._elementFactory.createLabel(W(e,["id"]))},xs.prototype.createShape=function(e){return this._elementFactory.createShape(W(e,["id"]))},xs.prototype.hasRelations=function(e,t){var n,i;return!(_s(e)&&(n=_(t,O({id:e.source.id})),i=_(t,O({id:e.target.id})),!n||!i)||ws(e)&&!_(t,O({id:e.labelTarget.id})))},xs.prototype.createTree=function(e){var t=this._rules,n=this,i={},r=[];function o(e,t){var n=_(r,(function(t){return e===t.element}));n?n.depth<t&&(r=function(e,t){var n=t.indexOf(e);return-1!==n&&t.splice(n,1),t}(n,r),r.push({element:n.element,depth:t})):r.push({element:e,depth:t})}return lt(st(e),(function(e,t,n){if(!ws(e))return b(e.labels,(function(e){o(e,n)})),b([e.attachers,e.incoming,e.outgoing],(function(e){e&&e.length&&b(e,(function(e){b(e.labels,(function(e){o(e,n)})),o(e,n)}))})),o(e,n),e.children})),e=T(r,(function(e){return e.element})),r=T(r,(function(t){return t.descriptor={},n._eventBus.fire("copyPaste.copyElement",{descriptor:t.descriptor,element:t.element,elements:e}),t})),r=A(r,(function(e){return e.descriptor.priority})),e=T(r,(function(e){return e.element})),b(r,(function(r){var o=r.depth;n.hasRelations(r.element,e)&&function(e,n){return t.allowed("element.copy",{element:e,elements:n})}(r.element,e)?(i[o]||(i[o]=[]),i[o].push(r.descriptor)):Es(r.element,e)})),i};const Ss={__depends__:[ys,ls,ms,jo],__init__:["copyPaste"],copyPaste:["type",xs]};function ks(e,t,n){f(n)||(n=[n]),b(n,(function(n){p(e[n])||(t[n]=e[n])}))}function Ts(e,t,n){var i;t.on("copyPaste.copyElement",750,(function(e){var t=e.descriptor,n=e.element,i=t.oldBusinessObject=Ei(n);if(t.type=n.type,ks(i,t,"name"),t.di={},ks(i.di,t.di,["fill","stroke"]),Ps(t))return t})),t.on("copyPaste.pasteElements",(function(){i={}})),t.on("copyPaste.pasteElement",(function(t){var r,o,a,s=t.cache,c=t.descriptor,u=c.oldBusinessObject;Ps(c)?c.businessObject=Ei(s[c.labelTarget]):(r=e.create(u.$type),c.businessObject=n.copyElement(u,r),function(e,t){var n=Ei(e);e.default&&(i[e.default]={element:n,property:"default"}),i=W(i,E(i,(function(t,i,r){var o=i.element,a=i.property;return r===e.id&&(o[a]=n,t.push(e.id)),t}),[]))}(c),ks(c,r,["color","name"]),o=c,f(a="oldBusinessObject")||(a=[a]),b(a,(function(e){o[e]&&delete o[e]})))}))}function Ps(e){return!!e.labelTarget}Ts.$inject=["postitFactory","eventBus","moddleCopy"];var Cs=["boardElements"];function Ms(e,t,n){this._postitFactory=t,this._eventBus=e,this._moddle=n,e.on("moddleCopy.canCopyProperties",(function(e){var t=e.propertyNames;if(t&&t.length)return A(t,(function(e){return"extensionElements"===e}))})),e.on("moddleCopy.canCopyProperty",(function(e){var t=e.parent,n=v(t)&&t.$descriptor,i=e.propertyName;return(!i||-1===Cs.indexOf(i))&&!(i&&n&&!_(n.properties,O({name:i})))&&void 0}))}function js(e,t){return E(e.properties,(function(e,n){return t&&n.default?e:e.concat(n.name)}),[])}Ms.$inject=["eventBus","postitFactory","moddle"],Ms.prototype.copyElement=function(e,t,n){var i=this;n&&!f(n)&&(n=[n]),n=n||js(e.$descriptor);var r=this._eventBus.fire("moddleCopy.canCopyProperties",{propertyNames:n,sourceElement:e,targetElement:t});return!1===r||(f(r)&&(n=r),b(n,(function(n){var r;x(e,n)&&(r=e.get(n));var o=i.copyProperty(r,t,n);!1!==i._eventBus.fire("moddleCopy.canSetCopiedProperty",{parent:t,property:o,propertyName:n})&&h(o)&&t.set(n,o)}))),t},Ms.prototype.copyProperty=function(e,t,n){var i=this,r=this._eventBus.fire("moddleCopy.canCopyProperty",{parent:t,property:e,propertyName:n});if(!1!==r){if(r)return v(r)&&r.$type&&!r.$parent&&(r.$parent=t),r;var o=this._moddle.getPropertyDescriptor(t,n);if(!o.isId&&!o.isReference){if(f(e))return E(e,(function(e,o){return(r=i.copyProperty(o,t,n))?(r.$parent=t,e.concat(r)):e}),[]);if(v(e)&&e.$type){if(this._moddle.getElementDescriptor(e).isGeneric)return;return(r=i._postitFactory.create(e.$type)).$parent=t,r=i.copyElement(e,r)}return e}}};const Bs={__depends__:[Ss],__init__:["postitCopyPaste","moddleCopy"],postitCopyPaste:["type",Ts],moddleCopy:["type",Ms]};var Rs=Math.round;function As(e){this._modeling=e}As.$inject=["modeling"],As.prototype.replaceElement=function(e,t,n){if(e.waypoints)return null;var i=this._modeling,r=t.width||e.width,o=t.height||e.height,a=t.x||e.x,s=t.y||e.y,c=Rs(a+r/2),u=Rs(s+o/2);return i.replaceShape(e,G({},t,{x:c,y:u,width:r,height:o}),n)};const Os={__init__:["replace"],replace:["type",As]};var Ns=["cancelActivity","instantiate","eventGatewayType","triggeredByEvent","isInterrupting"];function Ls(e,t,n,i,r,o){this.replaceElement=function(t,i,a){a=a||{};var s,c=i.type,u=t.businessObject,l=e.create(c),h={type:c,businessObject:l},d=js(u.$descriptor),v=js(l.$descriptor,!0),y=(s=v,d.filter((function(e){return-1!==s.indexOf(e)})));G(l,U(i,Ns));var g=y;return(l=n.copyElement(u,l,g)).name=u.name,h.di={},function(e,t,n){f(n)||(n=[n]),b(n,(function(n){p(e[n])||(t[n]=e[n])}))}(u.di,h.di,["fill","stroke"]),h=r.replaceElement(t,h,a),!1!==a.select&&o.select(h),h}}Ls.$inject=["postitFactory","elementFactory","moddleCopy","modeling","replace","selection"];const zs={__depends__:[Bs,Os,_r],postitReplace:["type",Ls]};function Ds(e,t,n,i,r,o){this._popupMenu=e,this._modeling=t,this._moddle=n,this._postitReplace=i,this._rules=r,this._translate=o,this.register()}Ds.$inject=["popupMenu","modeling","moddle","postitReplace","rules","translate"],Ds.prototype.register=function(){this._popupMenu.registerProvider("postit-replace",this)},Ds.prototype.getEntries=function(e){return this._rules.allowed("shape.replace",{element:e}),[]},Ds.prototype.getHeaderEntries=function(e){return[]},Ds.prototype._createEntries=function(e,t){var n=[],i=this;return b(t,(function(t){var r=i._createMenuEntry(t,e);n.push(r)})),n},Ds.prototype._createMenuEntry=function(e,t,n){var i=this._translate,r=this._postitReplace.replaceElement;return n=n||function(){return r(t,e.target)},{label:i(e.label),className:e.className,id:e.actionName,action:n}};const Is={__depends__:[fs,zs],__init__:["replaceMenuProvider"],replaceMenuProvider:["type",Ds]};function $s(e,t,n,i,r,o,a,s){e=e||{},i.registerProvider(this),this._contextPad=i,this._modeling=r,this._rules=o,this._imageSelection=a,this._translate=s,!1!==e.autoPlace&&(this._autoPlace=t.get("autoPlace",!1)),n.on("create.end",250,(function(e){var t=e.context.shape;if(ar(e)&&i.isOpen(t)){var n=i.getEntries(t);n.replace&&n.replace.action.click(e,t)}}))}$s.$inject=["config.contextPad","injector","eventBus","contextPad","modeling","rules","imageSelection","translate"],$s.prototype.getContextPadEntries=function(e){var t=this._rules,n=this._modeling,i=this._imageSelection,r=this._translate,o={};function a(t){var i=new URLSearchParams(window.location.search).get("s_key");null===i?shepherdAlert("Script Required","You must open a script to update it's notes."):$.ajax({type:"DELETE",beforeSend:function(e){e.setRequestHeader("X-CSRF-Token",$('meta[name="csrf-token"]').attr("content"))},url:"/scripts/"+i+"/destroy_image/"+e.businessObject.$attrs.key,responseType:"application/json",dataType:"json",failure:function(e){}}),n.removeElements([e])}function s(t){"postit:Image"===e.type&&void 0!==e.businessObject.$attrs.key?shepherdConfirm("Confirm Delete?","Are you sure you want to delete this element?",a,[t]):n.removeElements([e])}return"label"===e.type||(bi(e,"postit:Postit")&&function(t){b(P(Ca),(function(i){var o,a=Ca[i];G(t,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},"color-"+i,{group:"color",className:(o=[],a===function(e){return Ei(e).color||e.color}(e)&&o.push("pjs-color-entry-disabled"),o.push("pjs-color-entry-"+i),o),title:r("Set Color"),action:{click:function(t){return function(t){n.setColor(e,t)}(a)}}}))}))}(o),bi(e,"postit:Image")&&G(o,{"replace.image":{group:"replace",className:"bpmn-icon-screw-wrench",title:r("Change image source"),action:{click:function(t){return i.select(e)}}}}),function(n){var i=t.allowed("elements.delete",{elements:[e]});f(i)&&(i=i[0]===e),i&&G(n,{delete:{group:"edit",className:"bpmn-icon-trash",title:r("Remove"),action:{click:s}}})}(o)),o};const Fs={__depends__:[za,Xa,_r,Ua,ls,Is],__init__:["contextPadProvider"],contextPadProvider:["type",$s]};var Hs="is not a registered action";function Gs(e,t){this._actions={};var n=this;e.on("diagram.init",(function(){n._registerDefaultActions(t),e.fire("editorActions.init",{editorActions:n})}))}function Us(e,t){return new Error(e+" "+t)}Gs.$inject=["eventBus","injector"],Gs.prototype._registerDefaultActions=function(e){var t=e.get("commandStack",!1),n=e.get("modeling",!1),i=e.get("selection",!1),r=e.get("zoomScroll",!1),o=e.get("copyPaste",!1),a=e.get("canvas",!1),s=e.get("rules",!1),c=e.get("keyboardMove",!1),u=e.get("keyboardMoveSelection",!1);t&&(this.register("undo",(function(){t.undo()})),this.register("redo",(function(){t.redo()}))),o&&i&&this.register("copy",(function(){var e=i.get();o.copy(e)})),o&&this.register("paste",(function(){o.paste()})),r&&this.register("stepZoom",(function(e){r.stepZoom(e.value)})),a&&this.register("zoom",(function(e){a.zoom(e.value)})),n&&i&&s&&this.register("removeSelection",(function(){var e=i.get();if(e.length){var t,r=s.allowed("elements.delete",{elements:e});!1!==r&&(t=f(r)?r:e).length&&n.removeElements(t.slice())}})),c&&this.register("moveCanvas",(function(e){c.moveCanvas(e)})),u&&this.register("moveSelection",(function(e){u.moveSelection(e.direction,e.accelerated)}))},Gs.prototype.trigger=function(e,t){if(!this._actions[e])throw Us(e,Hs);return this._actions[e](t)},Gs.prototype.register=function(e,t){var n=this;if("string"==typeof e)return this._registerAction(e,t);b(e,(function(e,t){n._registerAction(t,e)}))},Gs.prototype._registerAction=function(e,t){if(this.isRegistered(e))throw Us(e,"is already registered");this._actions[e]=t},Gs.prototype.unregister=function(e){if(!this.isRegistered(e))throw Us(e,Hs);this._actions[e]=void 0},Gs.prototype.getActions=function(){return Object.keys(this._actions)},Gs.prototype.isRegistered=function(e){return!!this._actions[e]};const Ws={__init__:["editorActions"],editorActions:["type",Gs]};function Vs(e){e.invoke(Gs,this)}r()(Vs,Gs),Vs.$inject=["injector"],Vs.prototype._registerDefaultActions=function(e){Gs.prototype._registerDefaultActions.call(this,e);var t=e.get("canvas",!1),n=e.get("elementRegistry",!1),i=e.get("selection",!1),r=e.get("spaceTool",!1),o=e.get("lassoTool",!1),a=e.get("handTool",!1),s=e.get("distributeElements",!1),c=e.get("alignElements",!1),u=e.get("directEditing",!1),l=e.get("searchPad",!1),p=e.get("modeling",!1);t&&n&&i&&this._registerAction("selectElements",(function(){var e=t.getRootElement(),r=n.filter((function(t){return t!==e}));return i.select(r),r})),r&&this._registerAction("spaceTool",(function(){r.toggle()})),o&&this._registerAction("lassoTool",(function(){o.toggle()})),a&&this._registerAction("handTool",(function(){a.toggle()})),i&&s&&this._registerAction("distributeElements",(function(e){var t=i.get(),n=e.type;t.length&&s.trigger(t,n)})),i&&c&&this._registerAction("alignElements",(function(e){var t=i.get(),n=e.type;t.length&&c.trigger(t,n)})),i&&p&&this._registerAction("setColor",(function(e){var t=i.get();t.length&&p.setColor(t,e)})),i&&u&&this._registerAction("directEditing",(function(){var e=i.get();e.length&&u.activate(e[0])})),l&&this._registerAction("find",(function(){l.toggle()})),t&&p&&this._registerAction("moveToOrigin",(function(){var e,i=t.getRootElement(),r=n.filter((function(e){return e!==i}));e=ht(r),p.moveElements(r,{x:-e.x,y:-e.y},i)}))};const qs={__depends__:[Ws],editorActions:["type",Vs]};function Ys(e,t,n,i,r,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(i,r)}function Xs(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function a(e){Ys(o,i,r,a,s,"next",e)}function s(e){Ys(o,i,r,a,s,"throw",e)}a(void 0)}))}}function Ks(e){return new Promise((function(t,n){try{var i=new FileReader;i.onloadend=function(){t(i.result)},i.readAsDataURL(e)}catch(e){n(e)}}))}function Zs(e,t){return Js.apply(this,arguments)}function Js(){return(Js=Xs(regeneratorRuntime.mark((function e(t,n){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ks(n);case 2:return i=e.sent,e.abrupt("return",i);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qs(e,t){return ec.apply(this,arguments)}function ec(){return(ec=Xs(regeneratorRuntime.mark((function e(t,n){var i,r,o,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=[],o=n,t&&(t.dataTransfer.items||t.dataTransfer.files)&&(o=t.dataTransfer.items||t.dataTransfer.files),e.prev=3,!o){e.next=25;break}a=0;case 6:if(!(a<o.length)){e.next=25;break}if(!t||!t.dataTransfer.items){e.next=17;break}if("file"!==o[a].kind){e.next=15;break}return s=o[a].getAsFile(),e.t0=i,e.next=13,Zs(t,s);case 13:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 15:e.next=22;break;case 17:return e.t2=i,e.next=20,Zs(t,o[a]);case 20:e.t3=e.sent,e.t2.push.call(e.t2,e.t3);case 22:a++,e.next=6;break;case 25:e.next=31;break;case 27:e.prev=27,e.t4=e.catch(3),r=e.t4,i=null;case 31:return e.abrupt("return",{uploadResult:i,errors:r});case 32:case"end":return e.stop()}}),e,null,[[3,27]])})))).apply(this,arguments)}function tc(e){var t=(e=e||window.event).pageX,n=e.pageY;return void 0===t&&(t=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,n=e.clientY+document.body.scrollTop+document.documentElement.scrollTop),{pageX:t,pageY:n}}function nc(e,t,n,i,r,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(i,r)}function ic(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function a(e){nc(o,i,r,a,s,"next",e)}function s(e){nc(o,i,r,a,s,"throw",e)}a(void 0)}))}}var rc;function oc(e,t,n,i){this._canvas=e,this._eventBus=t,this._modeling=n,this._translate=i;var r=this;t.on("create.end",500,(function(e){var t=e.context,n=t.shape;t.hints.selectImage&&r.select(n)})),rc={URL:this._translate("URL"),"An error occured during the file upload":this._translate("An error occured during the file upload"),"Upload files here":this._translate("Upload files here"),Upload:this._translate("Upload"),file:this._translate("file"),files:this._translate("files"),selected:this._translate("selected"),"Upload again":this._translate("Upload again")},oc.IMAGE_SELECTION_MARKUP='<div id="pjs-image-selection-modal" class="pjs-io-dialog-local"><div class="pjs-io-dialog-section pjs-first"><div id="pjs-image-selection-input-wrapper"><input id="pjs-image-selection-input" class="pjs-ui-element-bordered"></input></div><div class="pjs-labeled-input"><label for="pjs-image-selection-input" class="pjs-input-text-static">\x3c!--Search / --\x3e'+rc.URL+':</label></div></div"><div class="pjs-io-dialog-section"><div class="pjs-section-spacer"></div><label for="pjs-image-upload"><div class="pjs-io-dialog-text-hint"><a style="display:block"><ul id="pjs-image-dialog-text-hint-list" class="pjs-horizontal"><li><div class="pjs-general-icon pjs-image-dialog-upload-icon"></div></li><li id="pjs-image-selection-files-text-error">'+rc["An error occured during the file upload"]+'</li><li id="pjs-image-selection-files-text-upload">'+rc["Upload files here"]+'</li></ul></a></div></label><input type="file" id="pjs-image-upload" style="display:none" multiple/><div class="pjs-io-dialog-section"><div class="pjs-buttons pjs-image-selection-submit-wrapper"><button id="pjs-image-selection-submit">'+rc.Upload+"</button></div></div></div></div>"}oc.prototype._getParentContainer=function(){return this._canvas.getContainer()},oc.prototype.select=function(e,t){var n=this,i=this._container=he(oc.IMAGE_SELECTION_MARKUP),r=this._canvas._container.parentElement.parentElement;r.insertBefore(i,r.firstChild);var o=tc(null);i.style.left=o.pageX-m(i)+"px",i.style.top=o.pageY-x(i)+"px";var a,s,c=document.getElementById("pjs-image-selection-input"),u=document.getElementById("pjs-image-selection-submit"),l=document.getElementById("pjs-image-selection-files-text-error"),p=document.getElementById("pjs-image-selection-files-text-upload"),h=document.getElementById("pjs-image-dialog-text-hint-list"),d=document.getElementById("pjs-image-upload"),f=document.getElementById("pjs-image-selection-modal"),v=h.style.height;c.focus();for(var y=ce.bind(r,"click",(function(e){if(f){var t=!1;document.querySelectorAll(".djs-context-pad .entry").forEach((function(e){e==event.target&&(t=!0)}));var n=tc(e),i=document.defaultView.getComputedStyle(f)["font-size"];i=parseInt(i.substring(0,i.indexOf("px"))),!t&&(n.pageX>f.offsetLeft+m(r)+f.clientWidth||n.pageX<f.offsetLeft+m(r)-i||n.pageY>f.offsetTop+x(r)+f.clientHeight||n.pageY<f.offsetTop+x(r)-i)&&b()}})),g=0;g<d.labels.length;g++)ce.bind(d.labels[g],"click",(function(e){e.preventDefault(),e.stopPropagation(),d.dispatchEvent(new MouseEvent(e.type,e))}));function m(e){var t=0;do{isNaN(e.offsetLeft)||(t+=e.offsetLeft)}while(e=e.offsetParent);return t}function x(e){var t=0;do{isNaN(e.offsetTop)||(t+=e.offsetTop)}while(e=e.offsetParent);return t}function _(e,t){return w.apply(this,arguments)}function w(){return w=ic(regeneratorRuntime.mark((function t(n,i){var r,o,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=new URLSearchParams(window.location.search),null!==(o=r.get("s_key"))){t.next=6;break}shepherdAlert("Script Required","You must open a script before you can take notes!"),t.next=16;break;case 6:if("data"===i.substring(0,4)){t.next=13;break}return t.next=9,fetch("https://cors-anywhere-dot-indieskedge-production.wl.r.appspot.com/"+i).then((function(e){return e.blob()}));case 9:(a=t.sent).name="Remote File",t.next=14;break;case 13:a=d.files[0];case 14:new ActiveStorage.DirectUpload(a,direct_upload_url).create((function(t,i){t?t.search("Status: 403")>=0?shepherdAlert("Subscription Needed!",'You must have an active subscription to save images! You can sign up <button data-toggle="modal" href="#subscriptionModal" onclick="Shepherd.activeTour.complete(); $(\'#ideatorNotesModal\').modal(\'hide\');" data-description="Sign up for image uploading and other great featuers!" data-reset="$(\'#ideatorNotesModal\').modal(\'show\');" style="color: blue; margin-left: -6px; text-decoration: underline;">here!</button>'):(shepherdAlert("Unknown Error","We've logged this issue.  If it continues, please reach out to support."),Bugsnag.notify("Unknown upload response: "+t.toString())):i.key&&$.ajax({type:"GET",beforeSend:function(e){e.setRequestHeader("X-CSRF-Token",$('meta[name="csrf-token"]').attr("content"))},url:"/scripts/"+o+"/image_url/"+i.key,responseType:"application/json",dataType:"json",success:function(t){n._modeling.updateProperties(e,{source:t.url,key:t.key})}})}));case 16:case"end":return t.stop()}}),t)}))),w.apply(this,arguments)}function b(){f&&f.parentNode&&(f.parentNode.removeChild(f),y&&r.removeEventListener("click",y))}ce.bind(d,"change",ic(regeneratorRuntime.mark((function e(){var t,n,i,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.disabled="true",e.next=3,Qs(null,d.files);case 3:n=e.sent,i=n.uploadResult,n.errors?(v=h.style.height,h.style.height="auto",l.style.display="block",p.innerHTML=rc["Upload again"],document.getElementsByClassName("pjs-image-dialog-upload-icon")[0].classList.add("pjs-image-dialog-upload-icon-error")):(r=i.length?i.length:0,t=r,!1===isNaN(r)&&(o=+(1==i.length)?rc.file:rc.files,t+=" "+o+" "+rc.selected,s=i),a=t,h.style.height=v,l.style.display="none",p.innerHTML=a,document.getElementsByClassName("pjs-image-dialog-upload-icon").length>0&&document.getElementsByClassName("pjs-image-dialog-upload-icon")[0].classList.remove("pjs-image-dialog-upload-icon-error"));case 7:case"end":return e.stop()}var a}),e)})))),ce.bind(u,"click",ic(regeneratorRuntime.mark((function i(){var r;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(a=s,null!==e){if(a)for(r in s)_(n,s[r]);else a=c.value,_(n,a);n._eventBus.fire("imageSelection.complete",{element:e})}else a||(a=c.value),t(a);b();case 3:case"end":return i.stop()}}),i)})))),ce.bind(c,"keyup",(function(e){13===event.keyCode&&(event.preventDefault(),u.click())}))},oc.prototype.$inject=["canvas","eventBus","modelng","translate"];const ac={__init__:["imageSelection"],imageSelection:["type",oc]};function sc(e){e.invoke(Dr,this)}r()(sc,Dr),sc.$inject=["injector"],sc.prototype.registerBindings=function(e,t){function n(n,i){t.isRegistered(n)&&e.addListener(i)}Dr.prototype.registerBindings.call(this,e,t),n("selectElements",(function(n){var i=n.keyEvent;if(e.isKey(["a","A"],i)&&e.isCmd(i))return t.trigger("selectElements"),!0})),n("find",(function(n){var i=n.keyEvent;if(e.isKey(["f","F"],i)&&e.isCmd(i))return t.trigger("find"),!0})),n("spaceTool",(function(n){var i=n.keyEvent;if(!e.hasModifier(i))return e.isKey(["s","S"],i)?(t.trigger("spaceTool"),!0):void 0})),n("lassoTool",(function(n){var i=n.keyEvent;if(!e.hasModifier(i))return e.isKey(["l","L"],i)?(t.trigger("lassoTool"),!0):void 0})),n("handTool",(function(n){var i=n.keyEvent;if(!e.hasModifier(i))return e.isKey(["h","H"],i)?(t.trigger("handTool"),!0):void 0})),n("directEditing",(function(n){var i=n.keyEvent;if(!e.hasModifier(i))return e.isKey(["e","E"],i)?(t.trigger("directEditing"),!0):void 0}))};const cc={__depends__:[Ir],__init__:["keyboardBindings"],keyboardBindings:["type",sc]};var uc={moveSpeed:1,moveSpeedAccelerated:10},lc="left",pc="right",hc="down",dc={ArrowLeft:lc,Left:lc,ArrowUp:"up",Up:"up",ArrowRight:pc,Right:pc,ArrowDown:hc,Down:hc},fc={left:function(e){return{x:-e,y:0}},up:function(e){return{x:0,y:-e}},right:function(e){return{x:e,y:0}},down:function(e){return{x:0,y:e}}};function vc(e,t,n,i,r){var o=this;this._config=G({},uc,e||{}),t.addListener(1500,(function(e){var n=e.keyEvent,i=dc[n.key];if(i&&!t.isCmd(n)){var r=t.isShift(n);return o.moveSelection(i,r),!0}})),this.moveSelection=function(e,t){var o=r.get();if(o.length){var a=this._config[t?"moveSpeedAccelerated":"moveSpeed"],s=fc[e](a);i.allowed("elements.move",{shapes:o})&&n.moveElements(o,s)}}}vc.$inject=["config.keyboardMoveSelection","keyboard","modeling","rules","selection"];const yc={__depends__:[Ir,_r],__init__:["keyboardMoveSelection"],keyboardMoveSelection:["type",vc]};function gc(e,t,n,i){e.on("element.changed",(function(i){var r=i.element;(r.parent||r===t.getRootElement())&&(i.gfx=n.getGraphics(r)),i.gfx&&e.fire(dt(r)+".changed",i)})),e.on("elements.changed",(function(t){var n=t.elements;n.forEach((function(t){e.fire("element.changed",{element:t})})),i.updateContainments(n)})),e.on("shape.changed",(function(e){i.update("shape",e.element,e.gfx)})),e.on("connection.changed",(function(e){i.update("connection",e.element,e.gfx)}))}gc.$inject=["eventBus","canvas","elementRegistry","graphicsFactory"];const mc={__init__:["changeSupport"],changeSupport:["type",gc]};var xc=Math.max,_c=Math.min;function wc(e,t,n){var i=t[e],r=n.min&&n.min[e],o=n.max&&n.max[e];return y(r)&&(i=(/top|left/.test(e)?_c:xc)(i,r)),y(o)&&(i=(/top|left/.test(e)?xc:_c)(i,o)),i}function bc(e,t){return void 0!==e?e:20}function Ec(e){return!e.waypoints&&"label"!==e.type}function Sc(e,t,n,i){this._dragging=i,this._rules=t;var r=this;e.on("resize.start",(function(e){var t,n,i;n=(t=e.context).resizeConstraints,i=t.minBounds,void 0===n&&(void 0===i&&(i=r.computeMinResizeBox(t)),t.resizeConstraints={min:qo(i)})})),e.on("resize.move",(function(e){var t={x:e.dx,y:e.dy};!function(e,t){var n,i=e.shape,o=e.direction,a=e.resizeConstraints;e.delta=t,n=function(e,t,n){var i=n.x,r=n.y,o={x:e.x,y:e.y,width:e.width,height:e.height};return-1!==t.indexOf("n")?(o.y=e.y+r,o.height=e.height-r):-1!==t.indexOf("s")&&(o.height=e.height+r),-1!==t.indexOf("e")?o.width=e.width+i:-1!==t.indexOf("w")&&(o.x=e.x+i,o.width=e.width-i),o}(i,o,t),e.newBounds=function(e,t){if(!t)return e;var n=qo(e);return Yo({top:wc("top",n,t),right:wc("right",n,t),bottom:wc("bottom",n,t),left:wc("left",n,t)})}(n,a),e.canExecute=r.canResize(e)}(e.context,t)})),e.on("resize.end",(function(e){!function(e){var t,i=e.shape,r=e.canExecute,o=e.newBounds;if(r){if(t=o,!function(e,t){return e.x!==t.x||e.y!==t.y||e.width!==t.width||e.height!==t.height}(i,o={x:Math.round(t.x),y:Math.round(t.y),width:Math.round(t.width),height:Math.round(t.height)}))return;n.resizeShape(i,o)}}(e.context)}))}function kc(e,t){var n=Xo(e),i=qo(e),r={x:n.x,y:n.y};return-1!==t.indexOf("n")?r.y=i.top:-1!==t.indexOf("s")&&(r.y=i.bottom),-1!==t.indexOf("e")?r.x=i.right:-1!==t.indexOf("w")&&(r.x=i.left),r}function Tc(e){return"n"===e||"s"===e?"resize-ns":"e"===e||"w"===e?"resize-ew":"nw"===e||"se"===e?"resize-nwse":"resize-nesw"}Sc.prototype.canResize=function(e){var t=this._rules,n=U(e,["newBounds","shape","delta","direction"]);return t.allowed("shape.resize",n)},Sc.prototype.activate=function(e,t,n){var i,r,o=this._dragging;if("string"==typeof n&&(n={direction:n}),!(r=(i=G({shape:t},n)).direction))throw new Error("must provide a direction (n|w|s|e|nw|se|ne|sw)");o.init(e,kc(t,r),"resize",{autoActivate:!0,cursor:Tc(r),data:{shape:t,context:i}})},Sc.prototype.computeMinResizeBox=function(e){var t,n,i,r,o,a,s,c=e.shape;return t=e.direction,n=c,i=e.minDimensions||{width:10,height:10},r=function(e,t){var n;if((n=void 0===e.length?w(e.children,Ec):e).length)return function(e,t){var n,i,r,o;return"object"==typeof t?(n=bc(t.left),i=bc(t.right),r=bc(t.top),o=bc(t.bottom)):n=i=r=o=bc(t),{x:e.x-n,y:e.y-r,width:e.width+n+i,height:e.height+r+o}}(ht(n),t)}(c,e.childrenBoxPadding),o=qo(n),a={top:/n/.test(t)?o.bottom-i.height:o.top,left:/w/.test(t)?o.right-i.width:o.left,bottom:/s/.test(t)?o.top+i.height:o.bottom,right:/e/.test(t)?o.left+i.width:o.right},s=r?qo(r):a,Yo({top:_c(a.top,s.top),left:_c(a.left,s.left),bottom:xc(a.bottom,s.bottom),right:xc(a.right,s.right)})},Sc.$inject=["eventBus","rules","modeling","dragging"];var Pc="djs-resizing",Cc="resize-not-ok";function Mc(e,t,n){e.on("resize.move",500,(function(e){var i,r,o,a;r=(i=e.context).shape,o=i.newBounds,(a=i.frame)||(a=i.frame=n.addFrame(r,t.getDefaultLayer()),t.addMarker(r,Pc)),o.width>5&&be(a,{x:o.x,width:o.width}),o.height>5&&be(a,{y:o.y,height:o.height}),i.canExecute?Pe(a).remove(Cc):Pe(a).add(Cc)})),e.on("resize.cleanup",(function(e){var n,i;i=(n=e.context).shape,n.frame&&Me(n.frame),t.removeMarker(i,Pc)}))}Mc.$inject=["eventBus","canvas","previewSupport"];var jc=["n","w","s","e","nw","ne","se","sw"];function Bc(e,t,n,i){this._resize=i,this._canvas=t;var r=this;e.on("selection.changed",(function(e){var t=e.newSelection;r.removeResizers(),1===t.length&&b(t,F(r.addResizer,r))})),e.on("shape.changed",(function(e){var t=e.element;n.isSelected(t)&&(r.removeResizers(),r.addResizer(t))}))}Bc.prototype.makeDraggable=function(e,t,n){var i=this._resize;function r(t){or(t)&&i.activate(t,e,n)}ce.bind(t,"mousedown",r),ce.bind(t,"touchstart",r)},Bc.prototype._createResizer=function(e,t,n,i){var r=this._getResizersParent(),o=function(e){var t={x:0,y:0};return-1!==e.indexOf("e")?t.x=6:-1!==e.indexOf("w")&&(t.x=-6),-1!==e.indexOf("s")?t.y=6:-1!==e.indexOf("n")&&(t.y=-6),t}(i),a=Ne("g");Pe(a).add("djs-resizer"),Pe(a).add("djs-resizer-"+e.id),Pe(a).add("djs-resizer-"+i),xe(r,a);var s=Ne("rect");be(s,{x:-2+o.x,y:-2+o.y,width:4,height:4}),Pe(s).add("djs-resizer-visual"),xe(a,s);var c=Ne("rect");return be(c,{x:-10+o.x,y:-10+o.y,width:20,height:20}),Pe(c).add("djs-resizer-hit"),xe(a,c),function(e,t,n,i,r){var o=De();o.setTranslate(t,n);var a=De();a.setRotate(0,0,0);var s=De();s.setScale(1,1),Ve(e,[o,a,s])}(a,t,n),a},Bc.prototype.createResizer=function(e,t){var n=kc(e,t),i=this._createResizer(e,n.x,n.y,t);this.makeDraggable(e,i,t)},Bc.prototype.addResizer=function(e){var t=this;this._resize.canResize({shape:e})&&b(jc,(function(n){t.createResizer(e,n)}))},Bc.prototype.removeResizers=function(){je(this._getResizersParent())},Bc.prototype._getResizersParent=function(){return this._canvas.getLayer("resizers")},Bc.$inject=["eventBus","canvas","selection","resize"];const Rc={__depends__:[jo,To,Qa],__init__:["resize","resizePreview","resizeHandles"],resize:["type",Sc],resizePreview:["type",Mc],resizeHandles:["type",Bc]};function Ac(e,t,n,i,r,o,a){function s(e,t){(t||Si(e,["postit:Postit","postit:Group","postit:TextBox"]))&&i.activate(e)}this._postitFactory=t,this._canvas=n,this._modeling=r,this._textRenderer=a,i.registerProvider(this),e.on("element.dblclick",(function(e){s(e.element,!0)})),e.on(["autoPlace.start","canvas.viewbox.changing","drag.init","element.mousedown","popupMenu.open"],(function(e){i.isActive()&&i.complete()})),e.on(["commandStack.changed"],(function(e){i.isActive()&&i.cancel()})),e.on("directEditing.activate",(function(e){o.removeResizers()})),e.on("create.end",500,(function(e){var t=e.context,n=t.shape,i=e.context.canExecute;e.isTouch||i&&(t.hints&&!1===t.hints.createElementsBehavior||s(n))})),e.on("autoPlace.end",500,(function(e){s(e.shape)}))}Ac.$inject=["eventBus","postitFactory","canvas","directEditing","modeling","resizeHandles","textRenderer"],Ac.prototype.activate=function(e){var t=Ti(e);if(void 0!==t){var n={text:t};G(n,this.getEditingBBox(e));var i={};return Si(e,["postit:Postit","postit:TextBox"])&&G(i,{centerVertically:!0}),Vi(e)&&G(i,{autoResize:!0}),G(n,{options:i}),n}},Ac.prototype.getEditingBBox=function(e){var t=this._canvas,n=e.label||e,i=t.getAbsoluteBBox(n),r=i.x+i.width/2,o=(i.y,i.height,{x:i.x,y:i.y}),a=t.zoom(),s=this._textRenderer.getDefaultStyle(),c=this._textRenderer.getExternalStyle(),u=c.fontSize*a,l=c.lineHeight,p=s.fontSize*a,h=s.lineHeight,d={fontFamily:this._textRenderer.getDefaultStyle().fontFamily,fontWeight:this._textRenderer.getDefaultStyle().fontWeight};Si(e,["postit:Postit","postit:TextBox","postit:Group"])&&(G(o,{width:i.width,height:i.height}),G(d,{fontSize:p+"px",lineHeight:h,paddingTop:7*a+"px",paddingBottom:7*a+"px",paddingLeft:5*a+"px",paddingRight:5*a+"px"}));var f=90*a,v=7*a,y=4*a;if(n.labelTarget&&(G(o,{width:f,height:i.height+v+y,x:r-f/2,y:i.y-v}),G(d,{fontSize:u+"px",lineHeight:l,paddingTop:v+"px",paddingBottom:y+"px"})),Vi(n)&&!qi(n)&&!Xi(n)){var g=Yi(e),m=t.getAbsoluteBBox({x:g.x,y:g.y,width:0,height:0}),x=u+v+y;G(o,{width:f,height:x,x:m.x-f/2,y:m.y-x/2}),G(d,{fontSize:u+"px",lineHeight:l,paddingTop:v+"px",paddingBottom:y+"px"})}return Si(e,["postit:Postit"])&&G(d,{backgroundColor:"transparent"}),{bounds:o,style:d}},Ac.prototype.update=function(e,t){var n;(n=t)&&n.trim()||(t=null),this._modeling.updateLabel(e,t)};var Oc="djs-element-hidden",Nc="djs-label-hidden";function Lc(e,t,n,i){var r,o;e.on("directEditing.activate",(function(e){var n=e.active;(r=n.element.label||n.element).labelTarget?t.addMarker(r,Oc):bi(r,"postit:Postit")&&t.addMarker(r,Nc)})),e.on(["directEditing.complete","directEditing.cancel"],(function(e){var n=e.active;n&&(t.removeMarker(n.element.label||n.element,Oc),t.removeMarker(r,Nc)),r=void 0,o&&(Me(o),o=void 0)}))}Lc.$inject=["eventBus","canvas","elementRegistry","pathMap"];const zc={__depends__:[mc,Rc,za],__init__:["labelEditingProvider","labelEditingPreview"],labelEditingProvider:["type",Ac],labelEditingPreview:["type",Lc]};function Dc(e){this._eventBus=e}Dc.$inject=["eventBus"],Dc.prototype.on=function(e,t,n,i,r,o){if((g(t)||y(t))&&(o=r,r=i,i=n,n=t,t=null),g(n)&&(o=r,r=i,i=n,n=1e3),v(r)&&(o=r,r=!1),!g(i))throw new Error("handlerFn must be a function");f(e)||(e=[e]);var a=this._eventBus;b(e,(function(e){var s=["commandStack",e,t].filter((function(e){return e})).join(".");a.on(s,n,r?function(e,t){return function(n){return e.call(t||null,n.context,n.command,n)}}(i,o):i,o)}))},b(["canExecute","preExecute","preExecuted","execute","executed","postExecute","postExecuted","revert","reverted"],(function(e){Dc.prototype[e]=function(t,n,i,r,o){(g(t)||y(t))&&(o=r,r=i,i=n,n=t,t=null),this.on(t,e,n,i,r,o)}}));var Ic=["top","bottom","left","right"];function $c(e,t){function n(e){if(qi(e)){var n=function(e){var t=Xo(e.label),n=Fc(Xo(e),t);if(i=n,-1!==Ic.indexOf(i)){var i,r=function(e){var t=Xo(e);return[].concat(e.incoming.map((function(e){return e.waypoints[e.waypoints.length-2]})),e.outgoing.map((function(e){return e.waypoints[1]}))).map((function(e){return Fc(t,e)}))}(e);if(e.host){var o=function(e){var t,n=e.host,i=Ko(Xo(e),n);return t=i.indexOf("-")>=0?i.split("-"):[i],Ic.filter((function(e){return-1===t.indexOf(e)}))}(e);r=r.concat(o)}var a=Ic.filter((function(e){return-1===r.indexOf(e)}));if(-1===a.indexOf(n))return a[0]}}(e);n&&function(e,n){var i=Xo(e),r=e.label,o=Xo(r);if(r.parent){var a,s=qo(e);switch(n){case"top":a={x:i.x,y:s.top-10-r.height/2};break;case"left":a={x:s.left-10-r.width/2,y:i.y};break;case"bottom":a={x:i.x,y:s.bottom+10+r.height/2};break;case"right":a={x:s.right+10+r.width/2,y:i.y}}var c=Yr(a,o);t.moveShape(r,c)}}(e,n)}}Dc.call(this,e),this.postExecuted(["connection.create","connection.layout","connection.updateWaypoints"],(function(e){var t=e.context,i=t.connection,r=i.source,o=i.target;!1!==(t.hints||{}).createElementsBehavior&&(n(r),n(o))})),this.postExecuted(["label.create"],(function(e){var t=e.context,i=t.shape;!1!==(t.hints||{}).createElementsBehavior&&n(i.labelTarget)})),this.postExecuted(["elements.create"],(function(e){var t=e.context,i=t.elements;!1!==(t.hints||{}).createElementsBehavior&&i.forEach((function(e){n(e)}))}))}function Fc(e,t){return Ko(t,e,5)}function Hc(e){Dc.call(this,e),this.preExecute("shape.append",(function(e){var t=e.source,n=e.shape;e.position||(e.position={x:t.x+t.width+80+n.width/2,y:t.y+t.height/2})}),!0)}function Gc(e,t,n){t.on(["create.hover","create.move","create.end","shape.move.hover","shape.move.move","shape.move.end"],1500,(function(t){var i=t.context.shape||t.shape,r=t.hover,o=n.getRootElement();r!==o&&(i.labelTarget||bi(i,"postit:Group"))&&(t.hover=o,t.hoverGfx=e.getGraphics(t.hover))}))}function Uc(e,t,n,i){var r,o,a,s;return 0==(r=(i.y-n.y)*(t.x-e.x)-(i.x-n.x)*(t.y-e.y))?null:(o=e.y-n.y,a=e.x-n.x,s=((i.x-n.x)*o-(i.y-n.y)*a)/r,{x:Math.round(e.x+s*(t.x-e.x)),y:Math.round(e.y+s*(t.y-e.y))})}function Wc(e){function t(e,t,n){var i,r={x:n.x,y:n.y-50},o={x:n.x-50,y:n.y},a=Uc(e,t,n,r),s=Uc(e,t,n,o);i=a&&s?Vc(a,n)>Vc(s,n)?s:a:a||s,e.original=i}e.on("boardElement.added",(function(e){var n,i,r=e.element;r.waypoints&&(t((i=(n=r).waypoints)[0],i[1],Xo(n.source)),t(i[i.length-1],i[i.length-2],Xo(n.target)))}))}function Vc(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function qc(e){return Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2))}function Yc(e){return Math.atan((e[1].y-e[0].y)/(e[1].x-e[0].x))}function Xc(e,t){var n=t[0],i=t[1],r={x:i.x-n.x,y:i.y-n.y},o=function(e,t,n){var i=[{n:e[0]-n[0],lambda:t[0]},{n:e[1]-n[1],lambda:t[1]}];return-(i[0].n*t[0]+i[1].n*t[1])/(i[0].lambda*t[0]+i[1].lambda*t[1])}([n.x,n.y],[r.x,r.y],[e.x,e.y]);return{x:n.x+o*r.x,y:n.y+o*r.y}}function Kc(e,t){var n=Xc(e,t);return qc({x:n.x-e.x,y:n.y-e.y})}function Zc(e,t){return qc({x:e.x-t.x,y:e.y-t.y})}r()($c,Dc),$c.$inject=["eventBus","modeling"],r()(Hc,Dc),Hc.$inject=["eventBus"],Gc.$inject=["elementRegistry","eventBus","canvas"],Wc.$inject=["eventBus"];var Jc=Math.sqrt,Qc=Math.min,eu=Math.max,tu=Math.abs;function nu(e){return Math.pow(e,2)}function iu(e,t){return Jc(nu(e.x-t.x)+nu(e.y-t.y))}function ru(e,t,n,i){var r=t.x-e.x,o=t.y-e.y,a=n.x-e.x,s=n.y-e.y,c=r*r+o*o,u=(r*a+o*s)/c,l=u*u-(a*a+s*s-i*i)/c;if(l<0&&l>-1e-6&&(l=0),l<0)return[];var p=Jc(l),h=-u+p,d=-u-p,f={x:e.x-r*h,y:e.y-o*h};return 0===l?[f]:[f,{x:e.x-r*d,y:e.y-o*d}].filter((function(n){return function(e,t,n){return ou(e.x,t.x,n.x)&&ou(e.y,t.y,n.y)}(n,e,t)}))}function ou(e,t,n){return e>=Qc(t,n)-au&&e<=eu(t,n)+au}var au=.1;function su(e,t){return tu(e.x-t.x)<=au&&tu(e.y-t.y)<=au}function cu(e,t){var n=Zc(e[t-1],e[t]);return n/(n+Zc(e[t],e[t+1]))}function uu(e,t){return[e[t],e[t+1]]}function lu(e,t,n){var i=qr(t),r=qr(n),o=Yr(e,i),a=o.x*(n.width/t.width),s=o.y*(n.height/t.height);return Vo({x:r.x+a,y:r.y+s})}function pu(e,t,n){var i=qr(e),r=qr(t),o=qr(n),a=Yr(e,i),s=Yr(i,r),c=function(e,t,n){var i=qo(t),r=qo(n);if(function(e,t){return function(e,t){return e.right!==t.right&&e.left!==t.left}(e,t)||function(e,t){return e.top!==t.top&&e.bottom!==t.bottom}(e,t)}(i,r))return null;var o,a=Ko(t,e);if("top"===a)o={x:0,y:r.bottom-i.bottom};else if("bottom"===a)o={x:0,y:r.top-i.top};else if("right"===a)o={x:r.left-i.left,y:0};else{if("left"!==a)return null;o={x:r.right-i.right,y:0}}return Ko(n,{x:e.x+o.x,y:e.y+o.y})!==a?null:o}(i,t,n);if(c)return c;var u=s.x*(n.width/t.width),l=s.y*(n.height/t.height),p=o.x+u,h=o.y+l;return Vo({x:p+a.x-e.x,y:h+a.y-e.y})}var hu={width:90,height:20};function du(e,t,n,i){Dc.call(this,e),this.postExecute("element.updateProperties",(function(e){var n=e.context,i=n.element,r=n.properties;"name"in r&&t.updateLabel(i,r.name)})),this.postExecute(["shape.create","connection.create"],(function(e){var n=e.context;if(!1!==(n.hints||{}).createElementsBehavior){var r=n.shape||n.connection,o=r.businessObject;if(!Xi(r)&&Vi(r)&&Ti(r)){var a=Yi(r),s=i.getExternalLabelBounds(hu,Ti(r));t.createLabel(r,a,{id:o.id+"_label",businessObject:o,width:s.width,height:s.height})}}})),this.postExecute("shape.delete",(function(e){var n=e.context,i=n.labelTarget,r=n.hints||{};i&&!1!==r.unsetLabel&&t.updateLabel(i,null,null,{removeShape:!1})})),this.postExecute(["label.create"],(function(e){var t,i=e.context.shape;i.labelTarget&&bi(i.labelTarget||i,"postit:BoardElement")&&((t=i.businessObject.di).label||(t.label=n.create("postitDi:PostitLabel",{bounds:n.create("dc:Bounds")})),G(t.label.bounds,{x:i.x,y:i.y,width:i.width,height:i.height}))})),this.postExecute(["connection.layout","connection.updateWaypoints"],(function(e){var n=e.context;if(!1!==(n.hints||{}).labelBehavior){var i,r=n.connection.label;r&&r.parent&&(i=function(e){var t=e.context,n=t.connection,i=n.label,r=G({},t.hints),o=t.newWaypoints||n.waypoints,a=t.oldWaypoints;return void 0===r.startChanged&&(r.startChanged=!!r.connectionStart),void 0===r.endChanged&&(r.endChanged=!!r.connectionEnd),function(e,t,n,i){var r=0,o=0,a=function(e){return{x:e.x+e.width/2,y:e.y+e.height/2}}(e),s=function(e,t){var n,i,r,o,a,s,c,u,l,p,h,d,f=0;for(f=0;f<t.length-1;f++){if(su(n=t[f],i=t[f+1])?s=[n]:(r=iu(e,n),o=iu(e,i),s=ru(n,i,e,Qc(r,o))),s.length<1)throw new Error("expected between [1, 2] circle -> line intersections");1===s.length&&(c={type:"bendpoint",position:s[0],segmentIndex:f,bendpointIndex:su(n,s[0])?f:f+1}),2===s.length&&(h=s[0],d=s[1],c={type:"segment",position:a={x:(h.x+d.x)/2,y:(h.y+d.y)/2},segmentIndex:f,relativeLocation:iu(n,a)/iu(n,i)}),u=iu(c.position,e),(!p||l>u)&&(p=c,l=u)}return p}(a,n),c=s.segmentIndex,u=function(e,t,n,i){var r=n.segmentIndex,o=t.length-e.length;if(i.segmentMove){var a=i.segmentMove.segmentStartIndex,s=i.segmentMove.newSegmentStartIndex;return r===a?s:r>=s?r+o<s?s:r+o:r}if(i.bendpointMove){var c,u=i.bendpointMove.insert,l=i.bendpointMove.bendpointIndex;return 0===o?r:(r>=l&&(c=u?r+1:r-1),r<l&&(c=r,u&&"bendpoint"!==n.type&&l-1===r&&cu(t,l)<n.relativeLocation&&c++),c)}return 0===o?r:i.connectionStart?0===r?0:null:i.connectionEnd&&r===e.length-2?t.length-2:null}(n,t,s,i);if(null===u)return{x:r,y:o};if(u<0||u>t.length-2)return{x:r,y:o};var l,p,h,d,f,v,y=uu(n,c),g=uu(t,u),m=s.position,x=(d=m,f=Zc((h=y)[0],h[1]),v=Zc(h[0],d),0===f?0:v/f),_=(l=g,p=Yc(y),Yc(l)-p);if("bendpoint"===s.type){var w=t.length-n.length,b=s.bendpointIndex,E=n[b];if(-1!==t.indexOf(E))return{x:r,y:o};if(0===w){var S=t[b];return{x:S.x-s.position.x,y:S.y-s.position.y}}w<0&&0!==b&&b<n.length-1&&(x=cu(n,b))}var k,T,P=(g[1].x-g[0].x)*x+g[0].x,C=(g[1].y-g[0].y)*x+g[0].y,M=(k={x:a.x-m.x,y:a.y-m.y},(T=_)?{x:Math.cos(T)*k.x-Math.sin(T)*k.y,y:Math.sin(T)*k.x+Math.cos(T)*k.y}:k);return Vo({x:r=P+M.x-a.x,y:o=C+M.y-a.y})}(i,o,a,r)}(e),t.moveShape(r,i))}})),this.postExecute(["shape.replace"],(function(e){var t=e.context,n=t.newShape,i=t.oldShape,r=Ei(n);r&&Vi(r)&&i.label&&n.label&&(n.label.x=i.label.x,n.label.y=i.label.y)})),this.postExecute("shape.resize",(function(e){var n,i=e.context,r=i.shape,o=i.newBounds,a=i.oldBounds;if(qi(r)){var s=r.label,c=function(e,t,n){return Vo(Yr(lu(e,t,n),e))}(function(e,t){if(t.length){var n=function(e,t){return A(t.map((function(t){return{line:t,distance:Kc(e,t)}})),"distance")[0].line}(e,t);return Xc(e,n)}}(Xo(s),[[{x:(n=a).x,y:n.y},{x:n.x+(n.width||0),y:n.y}],[{x:n.x+(n.width||0),y:n.y},{x:n.x+(n.width||0),y:n.y+(n.height||0)}],[{x:n.x,y:n.y+(n.height||0)},{x:n.x+(n.width||0),y:n.y+(n.height||0)}],[{x:n.x,y:n.y},{x:n.x,y:n.y+(n.height||0)}]]),a,o);t.moveShape(s,c)}}))}function fu(e,t,n,i,r,o){i.invoke(Dc,this),this._postitReplace=e,this._elementRegistry=n,this._selection=o,this.postExecuted(["elements.move"],500,(function(e){var n=e.context,i=n.newParent,r=n.newHost,o=[];b(n.closure.topLevel,(function(e){o=o.concat(e)})),1===o.length&&r&&(i=r);var a=t.canReplace(o,i);a&&this.replaceElements(o,a.replacements,r)}),this),this.postExecute(["shape.replace"],1500,(function(e){var n,i=e.context,r=i.oldShape,o=i.newShape,a=r.attachers;a&&a.length&&(n=t.canReplace(a,o),this.replaceElements(a,n.replacements))}),this),this.postExecuted(["shape.replace"],1500,(function(e){var t=e.context,n=t.oldShape,i=t.newShape;r.unclaimId(n.businessObject.id,n.businessObject),r.updateProperties(i,{id:n.id})}))}function vu(e,t,n,i){t.invoke(Dc,this),this.preExecute("shape.delete",(function(e){var t=e.context.shape,n=t.businessObject;Xi(t)||i.unclaimId(n.id,n)})),this.preExecute("canvas.updateRoot",(function(){var t=e.getRootElement().businessObject;n.ids.unclaim(t.id)}))}function yu(e){Dc.call(this,e),this.execute("shape.create",(function(e){var t=e.context.shape;if(bi(t,"postit:Postit")){var n=Ei(t);!n.color&&G(n,{color:t.color})}if(bi(t,"postit:Image")){var i=Ei(t);!i.source&&G(i,{source:t.source})}}))}function gu(e,t,n){Dc.call(this,e),this.postExecute("element.updateLabel",(function(e){var n=e.element,i=e.newLabel;bi(n,"postit:TextBox")&&mu(i)&&t.removeElements([n])}),!0),e.on("directEditing.cancel",1001,(function(e){var i=e.active.element;bi(i,"postit:TextBox")&&mu(Ei(i).name)&&(n._active=!1,t.removeElements([i]))}))}function mu(e){return!e||""===e}r()(du,Dc),du.$inject=["eventBus","modeling","postitFactory","textRenderer"],r()(fu,Dc),fu.prototype.replaceElements=function(e,t){var n=this._elementRegistry,i=this._postitReplace,r=this._selection;b(t,(function(t){var r={type:t.newElementType},o=n.get(t.oldElementId),a=e.indexOf(o);e[a]=i.replaceElement(o,r,{select:!1})})),t&&r.select(e)},fu.$inject=["postitReplace","postitRules","elementRegistry","injector","modeling","selection"],r()(vu,Dc),vu.$inject=["canvas","injector","moddle","modeling"],r()(yu,Dc),yu.$inject=["eventBus"],r()(gu,Dc),gu.$inject=["eventBus","modeling","directEditing"];const xu={__init__:["adaptiveLabelPositioningBehavior","appendBehavior","fixHoverBehavior","importDockingFix","labelBehavior","replaceElementBehaviour","unclaimIdBehavior","createBoardElementBehavior","emptyTextBoxBehavior"],adaptiveLabelPositioningBehavior:["type",$c],appendBehavior:["type",Hc],fixHoverBehavior:["type",Gc],importDockingFix:["type",Wc],labelBehavior:["type",du],replaceElementBehaviour:["type",fu],unclaimIdBehavior:["type",vu],createBoardElementBehavior:["type",yu],emptyTextBoxBehavior:["type",gu]};function _u(e){Dc.call(this,e),this.init()}function wu(e){_u.call(this,e)}function bu(e){return bi(e,"postit:Group")&&!e.labelTarget}function Eu(e,t){return!!(Xi(e)||bu(e)||bi(e,"postit:BoardElement")&&bi(t,"postit:PostitBoard"))}function Su(e,t){return Array.isArray(e)||(e=[e]),1===e.length&&!Xi(e[0])&&!bi(t,"postit:BoardElement")&&"attach"}function ku(e,t){return!t||e.every((function(e){return Eu(e,t)}))}function Tu(e,t,n,i){return!!t&&(!(!Xi(e)&&!bu(e))||n!==t&&(!n||(r=n,-1===function(e){for(var t=[];e;)(e=e.parent)&&t.push(e);return t}(t).indexOf(r)))&&Eu(e,t));var r}function Pu(e,t){return Si(e,["postit:Postit","postit:TextBox"])?!t||t.width>=50&&t.height>=50:!!bi(e,"postit:Group")||!!bi(e,"postit:Image")}_u.$inject=["eventBus"],r()(_u,Dc),_u.prototype.addRule=function(e,t,n){var i=this;"string"==typeof e&&(e=[e]),e.forEach((function(e){i.canExecute(e,t,(function(e,t,i){return n(e)}),!0)}))},_u.prototype.init=function(){},r()(wu,_u),wu.$inject=["eventBus"],wu.prototype.init=function(){this.addRule("shape.resize",(function(e){return Pu(e.shape,e.newBounds)})),this.addRule("elements.create",(function(e){var t=e.elements,n=(e.position,e.target);return S(t,(function(e){return e.host?Su(e,e.host):Tu(e,n,null)}))})),this.addRule("elements.move",(function(e){var t=e.target,n=e.shapes;return e.position,Su(n,t)||ku(n,t)})),this.addRule("shape.create",(function(e){return Tu(e.shape,e.target,e.source,e.position)})),this.addRule("shape.attach",(function(e){return Su(e.shape,e.target,e.position)})),this.addRule("element.copy",(function(e){return e.element,e.elements,!0}))},wu.prototype.canMove=ku,wu.prototype.canAttach=Su,wu.prototype.canDrop=Eu,wu.prototype.canCreate=Tu,wu.prototype.canReplace=function(e,t){return!!t},wu.prototype.canResize=Pu,wu.prototype.canCopy=function(e,t){return!0};const Cu={__depends__:[jo],__init__:["postitRules"],postitRules:["type",wu]};function Mu(e,t){e.on("saveXML.start",2e3,(function(){var e,n=t.getRootElement(),i=Ei(n).di;e=T(w(pt([n],!1),(function(e){return e!==n&&!e.labelTarget})),Pi),i.set("planeElement",e)}))}Mu.$inject=["eventBus","canvas"];const ju={__init__:["postitDiOrdering"],postitDiOrdering:["type",Mu]};function Bu(e){Dc.call(this,e);var t=this;this.preExecute(["shape.create","connection.create"],(function(e){var n=e.context,i=n.shape||n.connection,r=n.parent,o=t.getOrdering(i,r);o&&(void 0!==o.parent&&(n.parent=o.parent),n.parentIndex=o.index)})),this.preExecute(["shape.move","connection.move"],(function(e){var n=e.context,i=n.shape||n.connection,r=n.newParent||i.parent,o=t.getOrdering(i,r);o&&(void 0!==o.parent&&(n.newParent=o.parent),n.newParentIndex=o.index)}))}function Ru(e,t,n){Bu.call(this,e);var i=[{type:"postit:BoardElement",order:{level:5}}];function r(e){var t=e.order;return t||(e.order=t=function(e){if(e.labelTarget)return{level:10};var t=_(i,(function(t){return Si(e,[t.type])}));return t&&t.order||{level:1}}(e)),t}this.getOrdering=function(e,i){if(e.labelTarget)return{parent:t.getRootElement(),index:-1};var o=r(e);o.containers&&(i=function(e,t,i){for(var r=t;r&&!Si(r,i);)r=r.parent;if(!r)throw new Error(n("no parent for {element} in {parent}",{element:e.id,parent:t.id}));return r}(e,i,o.containers));var a=i.children.indexOf(e),s=function(e,t){t=L(t);var n=f(e)?-1:void 0;return b(e,(function(e,i){if(t(e,i))return n=i,!1})),n}(i.children,(function(t){return!(!e.labelTarget&&t.labelTarget)&&o.level<r(t).level}));return-1!==s&&-1!==a&&a<s&&(s-=1),{index:s,parent:i}}}Bu.prototype.getOrdering=function(e,t){return null},r()(Bu,Dc),Ru.$inject=["eventBus","canvas","translate"],r()(Ru,Bu);const Au={__depends__:[Ui],__init__:["postitOrderingProvider"],postitOrderingProvider:["type",Ru]};function Ou(e,t){this._handlerMap={},this._stack=[],this._stackIdx=-1,this._currentExecution={actions:[],dirty:[],trigger:null},this._injector=t,this._eventBus=e,this._uid=1,e.on(["diagram.destroy","diagram.clear"],(function(){this.clear(!1)}),this)}Ou.$inject=["eventBus","injector"],Ou.prototype.execute=function(e,t){if(!e)throw new Error("command required");this._currentExecution.trigger="execute";var n={command:e,context:t};this._pushAction(n),this._internalExecute(n),this._popAction(n)},Ou.prototype.canExecute=function(e,t){var n={command:e,context:t},i=this._getHandler(e),r=this._fire(e,"canExecute",n);if(void 0===r){if(!i)return!1;i.canExecute&&(r=i.canExecute(t))}return r},Ou.prototype.clear=function(e){this._stack.length=0,this._stackIdx=-1,!1!==e&&this._fire("changed",{trigger:"clear"})},Ou.prototype.undo=function(){var e,t=this._getUndoAction();if(t){for(this._currentExecution.trigger="undo",this._pushAction(t);t&&(this._internalUndo(t),(e=this._getUndoAction())&&e.id===t.id);)t=e;this._popAction()}},Ou.prototype.redo=function(){var e,t=this._getRedoAction();if(t){for(this._currentExecution.trigger="redo",this._pushAction(t);t&&(this._internalExecute(t,!0),(e=this._getRedoAction())&&e.id===t.id);)t=e;this._popAction()}},Ou.prototype.register=function(e,t){this._setHandler(e,t)},Ou.prototype.registerHandler=function(e,t){if(!e||!t)throw new Error("command and handlerCls must be defined");var n=this._injector.instantiate(t);this.register(e,n)},Ou.prototype.canUndo=function(){return!!this._getUndoAction()},Ou.prototype.canRedo=function(){return!!this._getRedoAction()},Ou.prototype._getRedoAction=function(){return this._stack[this._stackIdx+1]},Ou.prototype._getUndoAction=function(){return this._stack[this._stackIdx]},Ou.prototype._internalUndo=function(e){var t=this,n=e.command,i=e.context,r=this._getHandler(n);this._atomicDo((function(){t._fire(n,"revert",e),r.revert&&t._markDirty(r.revert(i)),t._revertedAction(e),t._fire(n,"reverted",e)}))},Ou.prototype._fire=function(e,t,n){arguments.length<3&&(n=t,t=null);var i,r,o,a=t?[e+"."+t,t]:[e];for(n=this._eventBus.createEvent(n),i=0;(r=a[i])&&(o=this._eventBus.fire("commandStack."+r,n),!n.cancelBubble);i++);return o},Ou.prototype._createId=function(){return this._uid++},Ou.prototype._atomicDo=function(e){var t=this._currentExecution;t.atomic=!0;try{e()}finally{t.atomic=!1}},Ou.prototype._internalExecute=function(e,t){var n=this,i=e.command,r=e.context,o=this._getHandler(i);if(!o)throw new Error("no command handler registered for <"+i+">");this._pushAction(e),t||(this._fire(i,"preExecute",e),o.preExecute&&o.preExecute(r),this._fire(i,"preExecuted",e)),this._atomicDo((function(){n._fire(i,"execute",e),o.execute&&n._markDirty(o.execute(r)),n._executedAction(e,t),n._fire(i,"executed",e)})),t||(this._fire(i,"postExecute",e),o.postExecute&&o.postExecute(r),this._fire(i,"postExecuted",e)),this._popAction(e)},Ou.prototype._pushAction=function(e){var t=this._currentExecution,n=t.actions,i=n[0];if(t.atomic)throw new Error("illegal invocation in <execute> or <revert> phase (action: "+e.command+")");e.id||(e.id=i&&i.id||this._createId()),n.push(e)},Ou.prototype._popAction=function(){var e=this._currentExecution,t=e.trigger,n=e.actions,i=e.dirty;n.pop(),n.length||(this._eventBus.fire("elements.changed",{elements:B("id",i.reverse())}),i.length=0,this._fire("changed",{trigger:t}),e.trigger=null)},Ou.prototype._markDirty=function(e){var t=this._currentExecution;e&&(e=f(e)?e:[e],t.dirty=t.dirty.concat(e))},Ou.prototype._executedAction=function(e,t){var n=++this._stackIdx;t||this._stack.splice(n,this._stack.length,e)},Ou.prototype._revertedAction=function(e){this._stackIdx--},Ou.prototype._getHandler=function(e){return this._handlerMap[e]},Ou.prototype._setHandler=function(e,t){if(!e||!t)throw new Error("command and handler required");if(this._handlerMap[e])throw new Error("overriding handler for command <"+e+">");this._handlerMap[e]=t};const Nu={commandStack:["type",Ou]};var Lu=new wr("tt");function zu(e,t){e.style.display=!1===t?"none":""}var Du=".djs-tooltip";function Iu(e,t){var n,i;this._eventBus=e,this._canvas=t,this._ids=Lu,this._tooltipDefaults={show:{minZoom:.7,maxZoom:5}},this._tooltips={},this._tooltipRoot=(n=t.getContainer(),i=he('<div class="djs-tooltip-container" style="position: absolute; width: 0; height: 0;" />'),n.insertBefore(i,n.firstChild),i);var r=this;le(this._tooltipRoot,Du,"mousedown",(function(e){e.stopPropagation()})),le(this._tooltipRoot,Du,"mouseover",(function(e){r.trigger("mouseover",e)})),le(this._tooltipRoot,Du,"mouseout",(function(e){r.trigger("mouseout",e)})),this._init()}Iu.$inject=["eventBus","canvas"],Iu.prototype.add=function(e){if(!e.position)throw new Error("must specifiy tooltip position");if(!e.html)throw new Error("must specifiy tooltip html");var t=this._ids.next();return e=G({},this._tooltipDefaults,e,{id:t}),this._addTooltip(e),e.timeout&&this.setTimeout(e),t},Iu.prototype.trigger=function(e,t){var n=t.delegateTarget||t.target,i=this.get(V(n,"data-tooltip-id"));i&&("mouseover"===e&&i.timeout&&this.clearTimeout(i),"mouseout"===e&&i.timeout&&(i.timeout=1e3,this.setTimeout(i)))},Iu.prototype.get=function(e){return"string"!=typeof e&&(e=e.id),this._tooltips[e]},Iu.prototype.clearTimeout=function(e){if(e=this.get(e)){var t=e.removeTimer;t&&(clearTimeout(t),e.removeTimer=null)}},Iu.prototype.setTimeout=function(e){if(e=this.get(e)){this.clearTimeout(e);var t=this;e.removeTimer=setTimeout((function(){t.remove(e)}),e.timeout)}},Iu.prototype.remove=function(e){var t=this.get(e);t&&(ge(t.html),ge(t.htmlContainer),delete t.htmlContainer,delete this._tooltips[t.id])},Iu.prototype.show=function(){zu(this._tooltipRoot)},Iu.prototype.hide=function(){zu(this._tooltipRoot,!1)},Iu.prototype._updateRoot=function(e){var t=e.scale||1,n=e.scale||1,i="matrix("+t+",0,0,"+n+","+-1*e.x*t+","+-1*e.y*n+")";this._tooltipRoot.style.transform=i,this._tooltipRoot.style["-ms-transform"]=i},Iu.prototype._addTooltip=function(e){var t,n=e.id,i=e.html,r=this._tooltipRoot;i.get&&i.constructor.prototype.jquery&&(i=i.get(0)),m(i)&&(i=he(i)),(t=he('<div data-tooltip-id="'+n+'" class="djs-tooltip" style="position: absolute">')).appendChild(i),e.type&&Z(t).add("djs-tooltip-"+e.type),e.className&&Z(t).add(e.className),e.htmlContainer=t,r.appendChild(t),this._tooltips[n]=e,this._updateTooltip(e)},Iu.prototype._updateTooltip=function(e){var t,n,i,r=e.position;t=e.htmlContainer,n=r.x,i=r.y,G(t.style,{left:n+"px",top:i+"px"})},Iu.prototype._updateTooltipVisibilty=function(e){b(this._tooltips,(function(t){var n=t.show,i=t.htmlContainer,r=!0;n&&((n.minZoom>e.scale||n.maxZoom<e.scale)&&(r=!1),zu(i,r))}))},Iu.prototype._init=function(){var e=this;this._eventBus.on("canvas.viewbox.changing",(function(t){e.hide()})),this._eventBus.on("canvas.viewbox.changed",(function(t){var n;n=t.viewbox,e._updateRoot(n),e._updateTooltipVisibilty(n),e.show()}))};const $u={__init__:["tooltips"],tooltips:["type",Iu]};function Fu(e,t){if("function"!=typeof t)throw new Error("removeFn iterator must be a function");if(e){for(var n;n=e[0];)t(n);return e}}function Hu(e,t,n){Dc.call(this,t);var i=e.get("movePreview",!1);t.on("shape.move.start",1400,(function(e){var t=e.context,n=t.shapes,i=t.validatedShapes;t.shapes=Gu(n),t.validatedShapes=Gu(i)})),i&&t.on("shape.move.start",250,(function(e){var t=e.context,n=t.shapes,r=[];b(n,(function(e){b(e.labels,(function(n){n.hidden||-1!==t.shapes.indexOf(n)||r.push(n),e.labelTarget&&r.push(e)}))})),b(r,(function(e){i.makeDraggable(t,e,!0)}))})),this.preExecuted("elements.move",1400,(function(e){var t=e.context.closure,n=t.enclosedElements,i=[];b(n,(function(e){b(e.labels,(function(e){n[e.id]||i.push(e)}))})),t.addAll(i)})),this.preExecute(["connection.delete","shape.delete"],(function(e){var t=e.context;Fu((t.connection||t.shape).labels,(function(e){n.removeShape(e,{nested:!0})}))})),this.execute("shape.delete",(function(e){var t=e.context,n=t.shape,i=n.labelTarget;i&&(t.labelTargetIndex=_t(i.labels,n),t.labelTarget=i,n.labelTarget=null)})),this.revert("shape.delete",(function(e){var t=e.context,n=t.shape,i=t.labelTarget,r=t.labelTargetIndex;i&&(xt(i.labels,n,r),n.labelTarget=i)}))}function Gu(e){return w(e,(function(t){return-1===e.indexOf(t.labelTarget)}))}r()(Hu,Dc),Hu.$inject=["injector","eventBus","modeling"];const Uu={__init__:["labelSupport"],labelSupport:["type",Hu]};var Wu="attach-ok";function Vu(e,t,n,i,r){Dc.call(this,t);var o=e.get("movePreview",!1);t.on("shape.move.start",1401,(function(e){var t,n,i=e.context,r=i.shapes,o=i.validatedShapes;i.shapes=(n=qu(t=r),R("id",t,n)),i.validatedShapes=function(e){var t=j(e,"id");return w(e,(function(e){for(;e;){if(e.host&&t[e.host.id])return!1;e=e.parent}return!0}))}(o)})),o&&t.on("shape.move.start",251,(function(e){var t=e.context;b(qu(t.shapes),(function(e){o.makeDraggable(t,e,!0),b(e.labels,(function(e){o.makeDraggable(t,e,!0)}))}))})),o&&t.on("shape.move.start",(function(e){var i=e.context.shapes;if(1===i.length){var r=i[0].host;r&&(n.addMarker(r,Wu),t.once(["shape.move.out","shape.move.cleanup"],(function(){n.removeMarker(r,Wu)})))}})),this.preExecuted("elements.move",1401,(function(e){var t=e.context,n=t.closure;b(qu(t.shapes),(function(e){n.add(e,n.topLevel[e.host.id])}))})),this.postExecuted("elements.move",(function(e){var t=e.context,n=t.shapes,i=t.newHost;i&&1!==n.length||b(i?n:w(n,(function(e){var t,i=e.host;return function(e){return!!e.host}(e)&&(t=i,!(-1!==n.indexOf(t)))})),(function(e){r.updateAttachment(e,i)}))})),this.postExecuted("elements.move",(function(e){b(e.context.shapes,(function(e){b(e.attachers,(function(e){b(e.outgoing.slice(),(function(e){i.allowed("connection.reconnect",{connection:e,source:e.source,target:e.target})||r.removeConnection(e)})),b(e.incoming.slice(),(function(e){i.allowed("connection.reconnect",{connection:e,source:e.source,target:e.target})||r.removeConnection(e)}))}))}))})),this.postExecute("shape.create",(function(e){var t=e.context,n=t.shape,i=t.host;i&&r.updateAttachment(n,i)})),this.postExecute("shape.replace",(function(e){var t=e.context,n=t.oldShape,o=t.newShape;Fu(n.attachers,(function(e){"attach"===i.allowed("elements.move",{target:o,shapes:[e]})?r.updateAttachment(e,o):r.removeShape(e)})),o.attachers.length&&b(o.attachers,(function(e){var t=pu(e,n,o);r.moveShape(e,t,e.parent)}))})),this.postExecute("shape.resize",(function(e){var t=e.context,n=t.shape,i=t.oldBounds,o=t.newBounds,a=n.attachers;!1!==(t.hints||{}).attachSupport&&b(a,(function(e){var t=pu(e,i,o);r.moveShape(e,t,e.parent),b(e.labels,(function(e){r.moveShape(e,t,e.parent)}))}))})),this.preExecute("shape.delete",(function(e){var t=e.context.shape;Fu(t.attachers,(function(e){r.removeShape(e)})),t.host&&r.updateAttachment(t,null)}))}function qu(e){return c(T(e,(function(e){return e.attachers||[]})))}r()(Vu,Dc),Vu.$inject=["injector","eventBus","canvas","rules","modeling"];const Yu={__depends__:[jo],__init__:["attachSupport"],attachSupport:["type",Vu]};function Xu(e,t){this._eventBus=e,this._dragging=t,this._tools=[],this._active=null}Xu.$inject=["eventBus","dragging"],Xu.prototype.registerTool=function(e,t){var n=this._tools;if(!t)throw new Error('A tool has to be registered with it\'s "events"');n.push(e),this.bindEvents(e,t)},Xu.prototype.isActive=function(e){return e&&this._active===e},Xu.prototype.length=function(e){return this._tools.length},Xu.prototype.setActive=function(e){var t=this._eventBus;this._active!==e&&(this._active=e,t.fire("tool-manager.update",{tool:e}))},Xu.prototype.bindEvents=function(e,t){var n=this._eventBus,i=this._dragging,r=[];n.on(t.tool+".init",(function(t){if(!t.context.reactivate&&this.isActive(e))return this.setActive(null),void i.cancel();this.setActive(e)}),this),b(t,(function(e){r.push(e+".ended"),r.push(e+".canceled")})),n.on(r,250,(function(e){this._active&&(function(e){var t=e.originalEvent&&e.originalEvent.target;return t&&ie(t,'.group[data-group="tools"]')}(e)||this.setActive(null))}),this)};const Ku={__depends__:[To],__init__:["toolManager"],toolManager:["type",Xu]};function Zu(e,t){return-1!==e.indexOf(t)}var Ju=Math.abs,Qu=Math.round,el={x:"width",y:"height"},tl="crosshair",nl={n:"top",w:"left",s:"bottom",e:"right"},il={n:"s",w:"e",s:"n",e:"w"};function rl(e,t,n,i,r,o,a){this._canvas=e,this._dragging=t,this._eventBus=n,this._modeling=i,this._rules=r,this._toolManager=o,this._mouse=a;var s=this;o.registerTool("space",{tool:"spaceTool.selection",dragging:"spaceTool"}),n.on("spaceTool.selection.end",(function(e){n.once("spaceTool.selection.ended",(function(){s.activateMakeSpace(e.originalEvent)}))})),n.on("spaceTool.move",1500,(function(e){var t=e.context,n=t.initialized;n||(n=t.initialized=s.init(e,t)),n&&al(e)})),n.on("spaceTool.end",(function(e){var t=e.context,i=t.axis,r=t.direction,o=t.movingShapes,a=t.resizingShapes,c=t.start;if(t.initialized){al(e);var u={x:0,y:0};u[i]=Qu(e["d"+i]),s.makeSpace(o,a,u,r,c),n.once("spaceTool.ended",(function(e){s.activateSelection(e.originalEvent,!0,!0)}))}}))}function ol(e){return{top:e.top-20,right:e.right+20,bottom:e.bottom+20,left:e.left-20}}function al(e){var t,n,i=e.context.spaceToolConstraints;i&&(y(i.left)&&(t=Math.max(e.x,i.left),e.dx=e.dx+t-e.x,e.x=t),y(i.right)&&(t=Math.min(e.x,i.right),e.dx=e.dx+t-e.x,e.x=t),y(i.top)&&(n=Math.max(e.y,i.top),e.dy=e.dy+n-e.y,e.y=n),y(i.bottom)&&(n=Math.min(e.y,i.bottom),e.dy=e.dy+n-e.y,e.y=n))}function sl(e,t){return-1!==e.indexOf(t)}function cl(e){return!!e.waypoints}function ul(e){return!!e.labelTarget}rl.$inject=["canvas","dragging","eventBus","modeling","rules","toolManager","mouse"],rl.prototype.activateSelection=function(e,t,n){this._dragging.init(e,"spaceTool.selection",{autoActivate:t,cursor:tl,data:{context:{reactivate:n}},trapClick:!1})},rl.prototype.activateMakeSpace=function(e){this._dragging.init(e,"spaceTool",{autoActivate:!0,cursor:tl,data:{context:{}}})},rl.prototype.makeSpace=function(e,t,n,i,r){return this._modeling.createSpace(e,t,n,i,r)},rl.prototype.init=function(e,t){var n=Ju(e.dx)>Ju(e.dy)?"x":"y",i=e["d"+n],r=e[n]-i;if(Ju(i)<5)return!1;i<0&&(i*=-1),ar(e)&&(i*=-1);var o=function(e,t){if("x"===e){if(t>0)return"e";if(t<0)return"w"}if("y"===e){if(t>0)return"s";if(t<0)return"n"}return null}(n,i),a=pt(this._canvas.getRootElement(),!0),s=this.calculateAdjustments(a,n,i,r),c=function(e,t,n,i,r){var o=e.movingShapes,a=e.resizingShapes;if(a.length){var s,c,u={};return b(a,(function(e){var l,p,h,d=qo(e),f=w(e.children,(function(e){return!(cl(e)||ul(e)||sl(o,e)||sl(a,e))})),v=w(e.children,(function(e){return!cl(e)&&!ul(e)&&sl(o,e)}));f.length&&(p=ol(qo(ht(f))),l=i-d[nl[n]]+p[nl[n]],"n"===n?u.bottom=c=y(c)?Math.min(c,l):l:"w"===n?u.right=c=y(c)?Math.min(c,l):l:"s"===n?u.top=s=y(s)?Math.max(s,l):l:"e"===n&&(u.left=s=y(s)?Math.max(s,l):l)),v.length&&(h=ol(qo(ht(v))),l=i-h[nl[il[n]]]+d[nl[il[n]]],"n"===n?u.bottom=c=y(c)?Math.min(c,l):l:"w"===n?u.right=c=y(c)?Math.min(c,l):l:"s"===n?u.top=s=y(s)?Math.max(s,l):l:"e"===n&&(u.left=s=y(s)?Math.max(s,l):l));var g=r&&r[e.id];g&&("n"===n?(l=i+e[el[t]]-g[el[t]],u.bottom=c=y(c)?Math.min(c,l):l):"w"===n?(l=i+e[el[t]]-g[el[t]],u.right=c=y(c)?Math.min(c,l):l):"s"===n?(l=i-e[el[t]]+g[el[t]],u.top=s=y(s)?Math.max(s,l):l):"e"===n&&(l=i-e[el[t]]+g[el[t]],u.left=s=y(s)?Math.max(s,l):l))})),u}}(s,n,o,r,this._eventBus.fire("spaceTool.getMinDimensions",{axis:n,direction:o,shapes:s.resizingShapes,start:r}));return G(t,s,{axis:n,direction:o,spaceToolConstraints:c,start:r}),Ur("resize-"+("x"===n?"ew":"ns")),!0},rl.prototype.calculateAdjustments=function(e,t,n,i){var r=this._rules,o=[],a=[];return b(e,(function(e){if(e.parent&&!cl(e)){var s=e[t],c=s+e[el[t]];return n>0&&s>i||n<0&&c<i?o.push(e):s<i&&c>i&&r.allowed("shape.resize",{shape:e})?a.push(e):void 0}})),{movingShapes:o,resizingShapes:a}},rl.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var e=this._mouse.getLastMoveEvent();this.activateSelection(e,!!e)},rl.prototype.isActive=function(){var e=this._dragging.context();return e&&/^spaceTool/.test(e.prefix)};var ll="djs-dragging",pl="djs-resizing",hl=Math.max;function dl(e,t,n,i,r){function o(e,t){b(e,(function(e){r.addDragger(e,t),n.addMarker(e,ll)}))}e.on("spaceTool.selection.start",(function(e){var t=n.getLayer("space"),r=e.context,o=Ne("g");be(o,i.cls("djs-crosshair-group",["no-events"])),xe(t,o);var a=Ne("path");be(a,"d","M 0,-10000 L 0,10000"),Pe(a).add("djs-crosshair"),xe(o,a);var s=Ne("path");be(s,"d","M -10000,0 L 10000,0"),Pe(s).add("djs-crosshair"),xe(o,s),r.crosshairGroup=o})),e.on("spaceTool.selection.move",(function(e){qt(e.context.crosshairGroup,e.x,e.y)})),e.on("spaceTool.selection.cleanup",(function(e){var t=e.context.crosshairGroup;t&&Me(t)})),e.on("spaceTool.move",250,(function(e){var a=e.context,s=a.line,c=a.axis,u=a.movingShapes,l=a.resizingShapes;if(a.initialized){if(!a.dragGroup){var p=n.getLayer("space");be(s=Ne("path"),"d","M0,0 L0,0"),Pe(s).add("djs-crosshair"),xe(p,s),a.line=s;var h=Ne("g");be(h,i.cls("djs-drag-group",["no-events"])),xe(n.getDefaultLayer(),h),o(u,h),o(a.movingConnections=t.filter((function(e){var t=!1;b(u,(function(n){b(n.outgoing,(function(n){e===n&&(t=!0)}))}));var n=!1;b(u,(function(t){b(t.incoming,(function(t){e===t&&(n=!0)}))}));var i=!1;b(l,(function(t){b(t.outgoing,(function(t){e===t&&(i=!0)}))}));var r=!1;return b(l,(function(t){b(t.incoming,(function(t){e===t&&(r=!0)}))})),function(e){return e.waypoints}(e)&&(t||i)&&(n||r)})),h),a.dragGroup=h}if(!a.frameGroup){var d=Ne("g");be(d,i.cls("djs-frame-group",["no-events"])),xe(n.getDefaultLayer(),d);var f=[];b(l,(function(e){var t=r.addFrame(e,d),i=t.getBBox();f.push({element:t,initialBounds:i}),n.addMarker(e,pl)})),a.frameGroup=d,a.frames=f}be(s,{d:{x:"M"+e.x+", -10000 L"+e.x+", 10000",y:"M -10000, "+e.y+" L 10000, "+e.y}[c]});var v={x:e.dx,y:e.dy};v[{x:"y",y:"x"}[a.axis]]=0,qt(a.dragGroup,v.x,v.y),b(a.frames,(function(e){var t,n,i=e.element,r=e.initialBounds;"e"===a.direction?be(i,{width:hl(r.width+v.x,5)}):be(i,{width:t=hl(r.width-v.x,5),x:r.x+r.width-t}),"s"===a.direction?be(i,{height:hl(r.height+v.y,5)}):be(i,{height:n=hl(r.height-v.y,5),y:r.y+r.height-n})}))}})),e.on("spaceTool.cleanup",(function(e){var t=e.context,i=t.movingShapes,r=t.movingConnections,o=t.resizingShapes,a=t.line,s=t.dragGroup,c=t.frameGroup;b(i,(function(e){n.removeMarker(e,ll)})),b(r,(function(e){n.removeMarker(e,ll)})),s&&(Me(a),Me(s)),b(o,(function(e){n.removeMarker(e,pl)})),c&&Me(c)}))}dl.$inject=["eventBus","elementRegistry","canvas","styles","previewSupport"];const fl={__init__:["spaceToolPreview"],__depends__:[To,jo,Ku,Qa,ms],spaceTool:["type",rl],spaceToolPreview:["type",dl]};function vl(e){this._model=e}function yl(e,t,n,i){Dc.call(this,e),this._postitFactory=t,this._translate=i;var r=this;function o(e){b(e.context.oldRoot.children,(function(e){bi(e,"postit:BoardElement")&&r.updateParent(e)}))}function a(e){var t=e.context.shape;bi(t,"postit:BoardElement")&&r.updateBounds(t)}this.executed(["shape.move","shape.create","shape.delete"],gl((function(e){var t=e.context;r.updateParent(t.shape||t.connection,t.oldParent)}))),this.reverted(["shape.move","shape.create","shape.delete"],gl((function(e){var t=e.context,n=t.shape||t.connection,i=t.parent||t.newParent;r.updateParent(n,i)}))),this.executed(["canvas.updateRoot"],o),this.reverted(["canvas.updateRoot"],o),this.executed(["shape.move","shape.create","shape.resize"],gl((function(e){"label"!==e.context.shape.type&&a(e)}))),this.reverted(["shape.move","shape.create","shape.resize"],gl((function(e){"label"!==e.context.shape.type&&a(e)}))),e.on("shape.changed",(function(e){"label"===e.element.type&&a({context:{shape:e.element}})}))}function gl(e){return function(t){var n=t.context;bi(n.shape||n.connection,"postit:BoardElement")&&e(t)}}function ml(e,t,n){Ht.call(this),this._postitFactory=e,this._moddle=t,this._translate=n}function xl(e,t){this._modeling=e,this._canvas=t}function _l(e){this._modeling=e}function wl(e,t){this._canvas=e,this._layouter=t}vl.$inject=["moddle"],vl.prototype._needsId=function(e){return Si(e,["postit:BoardElement"])},vl.prototype._ensureId=function(e){var t;t=bi(e,"postit:Postit")?"Postit":(e.$type||"").replace(/^[^:]*:/g,""),t+="_",!e.id&&this._needsId(e)&&(e.id=this._model.ids.nextPrefixed(t,e))},vl.prototype.create=function(e,t){var n=this._model.create(e,t||{});return this._ensureId(n),n},vl.prototype.createDiLabel=function(){return this.create("postitDi:PostitLabel",{bounds:this.createDiBounds()})},vl.prototype.createDiShape=function(e,t,n){return this.create("postitDi:PostitShape",G({boardElement:e,bounds:this.createDiBounds(t)},n))},vl.prototype.createDiBounds=function(e){return this.create("dc:Bounds",e)},vl.prototype.createDiPlane=function(e){return this.create("postitDi:PostitPlane",{boardElement:e})},r()(yl,Dc),yl.$inject=["eventBus","postitFactory","connectionDocking","translate"],yl.prototype.updateAttachment=function(e){var t=e.shape,n=t.businessObject,i=t.host;n.attachedToRef=i&&i.businessObject},yl.prototype.updateParent=function(e,t){if(!(e instanceof It)){var n=e.parent,i=e.businessObject,r=n&&n.businessObject,o=r&&r.di;this.updateSemanticParent(i,r),this.updateDiParent(i.di,o)}},yl.prototype.updateBounds=function(e){var t=e.businessObject.di,n=e instanceof It?this._getLabel(t):t,i=n.bounds;i||(i=this._postitFactory.createDiBounds(),n.set("bounds",i)),G(i,{x:e.x,y:e.y,width:e.width,height:e.height})},yl.prototype.updateDiParent=function(e,t){if(t&&!bi(t,"postitDi:PostitPlane")&&(t=t.$parent),e.$parent!==t){var n=(t||e.$parent).get("planeElement");t?(n.push(e),e.$parent=t):(mt(n,e),e.$parent=null)}},yl.prototype.updateSemanticParent=function(e,t,n){var i,r=this._translate;if(e.$parent!==t){if(bi(e,"postit:BoardElement")&&(i="boardElements"),!i)throw new Error(r("no parent for {element} in {parent}",{element:e.id,parent:t.id}));var o;if(e.$parent&&mt(o=e.$parent.get(i),e),t?((o=t.get(i)).push(e),e.$parent=t):e.$parent=null,n){var a=n.get(i);mt(o,e),t&&(a||(a=[],t.set(i,a)),a.push(e))}}},yl.prototype._getLabel=function(e){return e.label||(e.label=this._postitFactory.createDiLabel()),e.label},r()(ml,Ht),ml.$inject=["postitFactory","moddle","translate"],ml.prototype.baseCreate=Ht.prototype.create,ml.prototype.create=function(e,t){return"label"===e?this.baseCreate(e,G({type:"label"},Wi,t)):this.createPostitElement(e,t)},ml.prototype.createPostitElement=function(e,t){var n,i=this._translate,r=(t=t||{}).businessObject;if(!r){if(!t.type)throw new Error(i("no shape type specified"));r=this._postitFactory.create(t.type)}return r.di||(r.di="root"===e?this._postitFactory.createDiPlane(r,[],{id:r.id+"_di"}):this._postitFactory.createDiShape(r,{},{id:r.id+"_di"})),bi(r,"postit:Group")&&(t=G({isFrame:!0},t)),t.di&&(G(r.di,t.di),delete t.di),function(e,t,n){b(["processRef","isInterrupting","associationDirection","isForCompensation"],(function(n){void 0!==t[n]&&function(e,t,n){e[n]=t[n],delete t[n]}(e,t,n)}))}(r,t),n=this._getDefaultSize(r),t=G({businessObject:r,id:r.id},n,t),this.baseCreate(e,t)},ml.prototype._getDefaultSize=function(e){return bi(e,"postit:Postit")?{width:150,height:150}:bi(e,"postit:Group")||bi(e,"postit:Image")?{width:300,height:300}:{width:100,height:80}},xl.$inject=["modeling","canvas"],xl.prototype.preExecute=function(e){var t=this._modeling,n=e.elements,i=e.alignment;b(n,(function(e){var n={x:0,y:0};i.left?n.x=i.left-e.x:i.right?n.x=i.right-e.width-e.x:i.center?n.x=i.center-Math.round(e.width/2)-e.x:i.top?n.y=i.top-e.y:i.bottom?n.y=i.bottom-e.height-e.y:i.middle&&(n.y=i.middle-Math.round(e.height/2)-e.y),t.moveElements([e],n,e.parent)}))},xl.prototype.postExecute=function(e){},_l.$inject=["modeling"],_l.prototype.preExecute=function(e){var t=e.source;if(!t)throw new Error("source required");var n=e.target||t.parent,i=e.shape,r=e.hints||{};i=e.shape=this._modeling.createShape(i,e.position,n,{attach:r.attach}),e.shape=i},_l.prototype.postExecute=function(e){var t,n,i=e.hints||{};t=e.source,n=e.shape,k(t.outgoing,(function(e){return e.target===n}))||(i.connectionTarget===e.source?this._modeling.connect(e.shape,e.source,e.connection):this._modeling.connect(e.source,e.shape,e.connection))},wl.$inject=["canvas","layouter"],wl.prototype.execute=function(e){var t=e.connection,n=e.source,i=e.target,r=e.parent,o=e.parentIndex,a=e.hints;if(!n||!i)throw new Error("source and target required");if(!r)throw new Error("parent required");return t.source=n,t.target=i,t.waypoints||(t.waypoints=this._layouter.layoutConnection(t,a)),this._canvas.addConnection(t,r,o),t},wl.prototype.revert=function(e){var t=e.connection;return this._canvas.removeConnection(t),t.source=null,t.target=null,t};var bl=Math.round;function El(e){this._modeling=e}function Sl(e){return!!e.waypoints}El.$inject=["modeling"],El.prototype.preExecute=function(e){var t=e.elements,n=e.parent,i=e.parentIndex,r=e.position,o=e.hints,a=this._modeling;b(t,(function(e){y(e.x)||(e.x=0),y(e.y)||(e.y=0)}));var s=ht(t);b(t,(function(e){Sl(e)&&(e.waypoints=T(e.waypoints,(function(e){return{x:bl(e.x-s.x-s.width/2+r.x),y:bl(e.y-s.y-s.height/2+r.y)}}))),G(e,{x:bl(e.x-s.x-s.width/2+r.x),y:bl(e.y-s.y-s.height/2+r.y)})}));var c=st(t),u={};b(t,(function(e){if(Sl(e))u[e.id]=y(i)?a.createConnection(u[e.source.id],u[e.target.id],i,e,e.parent||n,o):a.createConnection(u[e.source.id],u[e.target.id],e,e.parent||n,o);else{var t=G({},o);-1===c.indexOf(e)&&(t.autoResize=!1),u[e.id]=y(i)?a.createShape(e,U(e,["x","y","width","height"]),e.parent||n,i,t):a.createShape(e,U(e,["x","y","width","height"]),e.parent||n,t)}})),e.elements=M(u)};var kl=Math.round;function Tl(e){this._canvas=e}function Pl(e){Tl.call(this,e)}Tl.$inject=["canvas"],Tl.prototype.execute=function(e){var t=e.shape,n=e.position,i=e.parent,r=e.parentIndex;if(!i)throw new Error("parent required");if(!n)throw new Error("position required");return void 0!==n.width?G(t,n):G(t,{x:n.x-kl(t.width/2),y:n.y-kl(t.height/2)}),this._canvas.addShape(t,i,r),t},Tl.prototype.revert=function(e){var t=e.shape;return this._canvas.removeShape(t),t},r()(Pl,Tl),Pl.$inject=["canvas"];var Cl=Tl.prototype.execute;Pl.prototype.execute=function(e){var t=e.shape;return function(e){["width","height"].forEach((function(t){void 0===e[t]&&(e[t]=0)}))}(t),t.labelTarget=e.labelTarget,Cl.call(this,e)};var Ml=Tl.prototype.revert;function jl(e,t){this._canvas=e,this._modeling=t}function Bl(e,t){this._modeling=e,this._elementRegistry=t}function Rl(e,t){this._canvas=e,this._modeling=t}function Al(e){this._modeling=e}Pl.prototype.revert=function(e){return e.shape.labelTarget=null,Ml.call(this,e)},jl.$inject=["canvas","modeling"],jl.prototype.execute=function(e){var t=e.connection,n=t.parent;return e.parent=n,e.parentIndex=_t(n.children,t),e.source=t.source,e.target=t.target,this._canvas.removeConnection(t),t.source=null,t.target=null,t},jl.prototype.revert=function(e){var t=e.connection,n=e.parent,i=e.parentIndex;return t.source=e.source,t.target=e.target,xt(n.children,t,i),this._canvas.addConnection(t,n),t},Bl.$inject=["modeling","elementRegistry"],Bl.prototype.postExecute=function(e){var t=this._modeling,n=this._elementRegistry;b(e.elements,(function(e){n.get(e.id)&&(e.waypoints?t.removeConnection(e):t.removeShape(e))}))},Rl.$inject=["canvas","modeling"],Rl.prototype.preExecute=function(e){var t=this._modeling,n=e.shape;Fu(n.incoming,(function(e){t.removeConnection(e,{nested:!0})})),Fu(n.outgoing,(function(e){t.removeConnection(e,{nested:!0})})),Fu(n.children,(function(e){e.waypoints?t.removeConnection(e,{nested:!0}):t.removeShape(e,{nested:!0})}))},Rl.prototype.execute=function(e){var t=this._canvas,n=e.shape,i=n.parent;return e.oldParent=i,e.oldParentIndex=_t(i.children,n),t.removeShape(n),n},Rl.prototype.revert=function(e){var t=this._canvas,n=e.shape,i=e.oldParent,r=e.oldParentIndex;return xt(i.children,n,r),t.addShape(n,i),n},Al.$inject=["modeling"];var Ol={x:"y",y:"x"};function Nl(e,t){this._layouter=e,this._canvas=t}function Ll(){}function zl(e,t,n){var i=Hl(e),r=Gl(i,t),o=i[0];return r.length?r[r.length-1]:lu(o.original||o,n,t)}function Dl(e,t,n){var i=Hl(e),r=Gl(i,t),o=i[i.length-1];return r.length?r[0]:lu(o.original||o,n,t)}function Il(e,t,n){var i=Hl(e),r=Fl(t,n),o=i[0];return lu(o.original||o,r,t)}function $l(e,t,n){var i=Hl(e),r=Fl(t,n),o=i[i.length-1];return lu(o.original||o,r,t)}function Fl(e,t){return{x:e.x-t.x,y:e.y-t.y,width:e.width,height:e.height}}function Hl(e){var t=e.waypoints;if(!t.length)throw new Error("connection#"+e.id+": no waypoints");return t}function Gl(e,t){return w(T(e,Ul),(function(e){return function(e,t){return"intersect"===Ko(t,e,1)}(e,t)}))}function Ul(e){return e.original||e}function Wl(){this.allShapes={},this.allConnections={},this.enclosedElements={},this.enclosedConnections={},this.topLevel={}}function Vl(e){this._modeling=e}function ql(e){this._helper=new Vl(e)}function Yl(e){this._modeling=e,this._helper=new Vl(e)}function Xl(e){this._modeling=e}function Kl(e){return e.original||e}function Zl(e,t){this._modeling=e,this._rules=t}function Jl(e){this._modeling=e}function Ql(e){this._modeling=e}function ep(e){return G({},e)}function tp(e){switch(e){case"n":case"s":return"y";case"w":case"e":return"x"}}function np(e,t,n){var i=tp(n);return/e|s/.test(n)?e[i]>t:/n|w/.test(n)?e[i]<t:void 0}function ip(e,t){return-1!==e.indexOf(t)}function rp(e){this._modeling=e}function op(e){var t={};return b(e,(function(e){t[e.id]=e.hidden,e.children&&(t=G({},t,op(e.children)))})),t}function ap(e,t){var n=[];return b(e,(function(e){e.hidden=t,n=n.concat(e),e.children&&(n=n.concat(ap(e.children,e.collapsed||t)))})),n}function sp(e,t){var n=[];return b(e,(function(e){e.hidden=t[e.id],n=n.concat(e),e.children&&(n=n.concat(sp(e.children,t)))})),n}function cp(e){this._modeling=e}function up(e,t){return mt(e&&e.attachers,t)}function lp(e,t,n){if(e){var i=e.attachers;i||(e.attachers=i=[]),xt(i,t,n)}}function pp(){}function hp(e,t,n){this._eventBus=e,this._elementFactory=t,this._commandStack=n;var i=this;e.on("diagram.init",(function(){i.registerHandlers(n)}))}Al.prototype.preExecute=function(e){var t=this._modeling,n=e.groups,i=e.axis,r=e.dimension;function o(e,t){e.range.min=Math.min(t[i],e.range.min),e.range.max=Math.max(t[i]+t[r],e.range.max)}function a(e){return e[i]+e[r]/2}function s(e){return e.length-1}function c(e){return e.max-e.min}var u,l,p=n[0],h=s(n),d=n[h],f=0;b(n,(function(e,u){var l,p,d;e.elements.length<2?u&&u!==n.length-1&&(o(e,e.elements[0]),f+=c(e.range)):(p=(l=A(e.elements,i))[0],u===h&&(p=l[s(l)]),d=a(p),e.range=null,b(l,(function(n){!function(e,n){var r={y:0};r[i]=e-a(n),r[i]&&(r[Ol[i]]=0,t.moveElements([n],r,n.parent))}(d,n),null!==e.range?o(e,n):e.range={min:n[i],max:n[i]+n[r]}})),u&&u!==n.length-1&&(f+=c(e.range)))})),l=Math.abs(d.range.min-p.range.max),(u=Math.round((l-f)/(n.length-1)))<n.length-1||b(n,(function(e,o){var a,s={};e!==p&&e!==d&&(a=n[o-1],e.range.max=0,b(e.elements,(function(n,o){s[Ol[i]]=0,s[i]=a.range.max-n[i]+u,e.range.min!==n[i]&&(s[i]+=n[i]-e.range.min),s[i]&&t.moveElements([n],s,n.parent),e.range.max=Math.max(n[i]+n[r],o?e.range.max:0)})))}))},Al.prototype.postExecute=function(e){},Nl.$inject=["layouter","canvas"],Nl.prototype.execute=function(e){var t=e.connection;return G(e,{oldWaypoints:t.waypoints}),t.waypoints=this._layouter.layoutConnection(t,e.hints),t},Nl.prototype.revert=function(e){var t=e.connection;return t.waypoints=e.oldWaypoints,t},Ll.prototype.execute=function(e){var t=e.connection,n=e.delta,i=e.newParent||t.parent,r=e.newParentIndex,o=t.parent;return e.oldParent=o,e.oldParentIndex=mt(o.children,t),xt(i.children,t,r),t.parent=i,b(t.waypoints,(function(e){e.x+=n.x,e.y+=n.y,e.original&&(e.original.x+=n.x,e.original.y+=n.y)})),t},Ll.prototype.revert=function(e){var t=e.connection,n=t.parent,i=e.oldParent,r=e.oldParentIndex,o=e.delta;return mt(n.children,t),xt(i.children,t,r),t.parent=i,b(t.waypoints,(function(e){e.x-=o.x,e.y-=o.y,e.original&&(e.original.x-=o.x,e.original.y-=o.y)})),t},Wl.prototype.add=function(e,t){return this.addAll([e],t)},Wl.prototype.addAll=function(e,t){var n=function(e,t,n){p(t)&&(t=!0),v(t)&&(n=t,t=!0);var i=vt((n=n||{}).allShapes),r=vt(n.allConnections),o=vt(n.enclosedElements),a=vt(n.enclosedConnections),s=vt(n.topLevel,t&&j(e,(function(e){return e.id})));function c(e){s[e.source.id]&&s[e.target.id]&&(s[e.id]=[e]),i[e.source.id]&&i[e.target.id]&&(a[e.id]=o[e.id]=e),r[e.id]=e}return lt(e,(function(e){if(o[e.id]=e,!e.waypoints)return i[e.id]=e,b(e.incoming,c),b(e.outgoing,c),e.children;a[e.id]=r[e.id]=e})),{allShapes:i,allConnections:r,topLevel:s,enclosedConnections:a,enclosedElements:o}}(e,!!t,this);return G(this,n),this},Vl.prototype.moveRecursive=function(e,t,n){return e?this.moveClosure(this.getClosure(e),t,n):[]},Vl.prototype.moveClosure=function(e,t,n,i,r){var o=this._modeling,a=e.allShapes,s=e.allConnections,c=e.enclosedConnections,u=e.topLevel,l=!1;r&&r.parent===n&&(l=!0),b(a,(function(e){o.moveShape(e,t,u[e.id]&&!l&&n,{recurse:!1,layout:!1})})),b(s,(function(e){var i=!!a[e.source.id],r=!!a[e.target.id];c[e.id]&&i&&r?o.moveConnection(e,t,u[e.id]&&!l&&n):o.layoutConnection(e,{connectionStart:i&&Il(e,e.source,t),connectionEnd:r&&$l(e,e.target,t)})}))},Vl.prototype.getClosure=function(e){return(new Wl).addAll(e,!0)},ql.$inject=["modeling"],ql.prototype.preExecute=function(e){e.closure=this._helper.getClosure(e.shapes)},ql.prototype.postExecute=function(e){var t,n=e.hints;n&&n.primaryShape&&(t=n.primaryShape,n.oldParent=t.parent),this._helper.moveClosure(e.closure,e.delta,e.newParent,e.newHost,t)},Yl.$inject=["modeling"],Yl.prototype.execute=function(e){var t=e.shape,n=e.delta,i=e.newParent||t.parent,r=e.newParentIndex,o=t.parent;return e.oldBounds=U(t,["x","y","width","height"]),e.oldParent=o,e.oldParentIndex=mt(o.children,t),xt(i.children,t,r),G(t,{parent:i,x:t.x+n.x,y:t.y+n.y}),t},Yl.prototype.postExecute=function(e){var t=e.shape,n=e.delta,i=e.hints,r=this._modeling;!1!==i.layout&&(b(t.incoming,(function(e){r.layoutConnection(e,{connectionEnd:$l(e,t,n)})})),b(t.outgoing,(function(e){r.layoutConnection(e,{connectionStart:Il(e,t,n)})}))),!1!==i.recurse&&this.moveChildren(e)},Yl.prototype.revert=function(e){var t=e.shape,n=e.oldParent,i=e.oldParentIndex,r=e.delta;return xt(n.children,t,i),G(t,{parent:n,x:t.x-r.x,y:t.y-r.y}),t},Yl.prototype.moveChildren=function(e){var t=e.delta,n=e.shape;this._helper.moveRecursive(n.children,t,null)},Yl.prototype.getNewParent=function(e){return e.newParent||e.shape.parent},Xl.$inject=["modeling"],Xl.prototype.execute=function(e){var t=e.newSource,n=e.newTarget,i=e.connection,r=e.dockingOrPoints;if(!t&&!n)throw new Error("newSource or newTarget required");return f(r)&&(e.oldWaypoints=i.waypoints,i.waypoints=r),t&&(e.oldSource=i.source,i.source=t),n&&(e.oldTarget=i.target,i.target=n),i},Xl.prototype.postExecute=function(e){var t=e.connection,n=e.newSource,i=e.newTarget,r=e.dockingOrPoints,o=e.hints||{},a={};o.connectionStart&&(a.connectionStart=o.connectionStart),o.connectionEnd&&(a.connectionEnd=o.connectionEnd),!1!==o.layoutConnection&&(!n||i&&"source"!==o.docking||(a.connectionStart=a.connectionStart||Kl(f(r)?r[0]:r)),!i||n&&"target"!==o.docking||(a.connectionEnd=a.connectionEnd||Kl(f(r)?r[r.length-1]:r)),o.newWaypoints&&(a.waypoints=o.newWaypoints),this._modeling.layoutConnection(t,a))},Xl.prototype.revert=function(e){var t=e.oldSource,n=e.oldTarget,i=e.oldWaypoints,r=e.connection;return t&&(r.source=t),n&&(r.target=n),i&&(r.waypoints=i),r},Zl.$inject=["modeling","rules"],Zl.prototype.preExecute=function(e){var t,n=this,i=this._modeling,r=this._rules,o=e.oldShape,a=e.newData,s=e.hints||{};function c(e,t,n){return r.allowed("connection.reconnect",{connection:n,source:e,target:t})}var u,l={x:a.x,y:a.y},p={x:o.x,y:o.y,width:o.width,height:o.height};t=e.newShape=e.newShape||n.createShape(a,l,o.parent,s),o.host&&i.updateAttachment(t,o.host),!1!==s.moveChildren&&(u=o.children.slice(),i.moveElements(u,{x:0,y:0},t,s));var h=o.incoming.slice(),d=o.outgoing.slice();b(h,(function(e){c(e.source,t,e)&&n.reconnectEnd(e,t,Dl(e,t,p),s)})),b(d,(function(e){var i=e.target;c(t,i,e)&&n.reconnectStart(e,t,zl(e,t,p),s)}))},Zl.prototype.postExecute=function(e){var t=e.oldShape;this._modeling.removeShape(t)},Zl.prototype.execute=function(e){},Zl.prototype.revert=function(e){},Zl.prototype.createShape=function(e,t,n,i){return this._modeling.createShape(e,t,n,i)},Zl.prototype.reconnectStart=function(e,t,n,i){this._modeling.reconnectStart(e,t,n,i)},Zl.prototype.reconnectEnd=function(e,t,n,i){this._modeling.reconnectEnd(e,t,n,i)},Jl.$inject=["modeling"],Jl.prototype.execute=function(e){var t=e.shape,n=e.newBounds,i=e.minBounds;if(void 0===n.x||void 0===n.y||void 0===n.width||void 0===n.height)throw new Error("newBounds must have {x, y, width, height} properties");if(i&&(n.width<i.width||n.height<i.height))throw new Error("width and height cannot be less than minimum height and width");if(!i&&n.width<10||n.height<10)throw new Error("width and height cannot be less than 10px");return e.oldBounds={width:t.width,height:t.height,x:t.x,y:t.y},G(t,{width:n.width,height:n.height,x:n.x,y:n.y}),t},Jl.prototype.postExecute=function(e){var t=this._modeling,n=e.shape,i=e.oldBounds;!1!==(e.hints||{}).layout&&(b(n.incoming,(function(e){t.layoutConnection(e,{connectionEnd:Dl(e,n,i)})})),b(n.outgoing,(function(e){t.layoutConnection(e,{connectionStart:zl(e,n,i)})})))},Jl.prototype.revert=function(e){var t=e.shape,n=e.oldBounds;return G(t,{width:n.width,height:n.height,x:n.x,y:n.y}),t},Ql.$inject=["modeling"],Ql.prototype.preExecute=function(e){var t=e.delta,n=e.direction,i=e.movingShapes,r=e.resizingShapes,o=e.start,a={};this.moveShapes(i,t),b(r,(function(e){a[e.id]=function(e){return{x:e.x,y:e.y,height:e.height,width:e.width}}(e)})),this.resizeShapes(r,t,n),this.updateConnectionWaypoints(function(e,t){var n=[];return b(e.concat(t),(function(i){var r=i.incoming,o=i.outgoing;b(r.concat(o),(function(i){var r=i.source,o=i.target;(Zu(e,r)||Zu(e,o)||Zu(t,r)||Zu(t,o))&&(Zu(n,i)||n.push(i))}))})),n}(i,r),t,n,o,i,r,a)},Ql.prototype.execute=function(){},Ql.prototype.revert=function(){},Ql.prototype.moveShapes=function(e,t){var n=this;b(e,(function(e){n._modeling.moveShape(e,t,null,{autoResize:!1,layout:!1,recurse:!1})}))},Ql.prototype.resizeShapes=function(e,t,n){var i=this;b(e,(function(e){var r=function(e,t,n){var i=e.x,r=e.y,o=e.width,a=e.height,s=n.x,c=n.y;switch(t){case"n":return{x:i,y:r+c,width:o,height:a-c};case"s":return{x:i,y:r,width:o,height:a+c};case"w":return{x:i+s,y:r,width:o-s,height:a};case"e":return{x:i,y:r,width:o+s,height:a};default:throw new Error("unknown direction: "+t)}}(e,n,t);i._modeling.resizeShape(e,r,null,{attachSupport:!1,autoResize:!1,layout:!1})}))},Ql.prototype.updateConnectionWaypoints=function(e,t,n,i,r,o,a){var s=this,c=r.concat(o);b(e,(function(e){var u=e.source,l=e.target,p=function(e){return T(e.waypoints,(function(e){return(e=ep(e)).original&&(e.original=ep(e.original)),e}))}(e),h=tp(n),d={labelBehavior:!1};ip(c,u)&&ip(c,l)?(p=T(p,(function(e){return np(e,i,n)&&(e[h]=e[h]+t[h]),e.original&&np(e.original,i,n)&&(e.original[h]=e.original[h]+t[h]),e})),s._modeling.updateWaypoints(e,p,{labelBehavior:!1})):(ip(c,u)||ip(c,l))&&(ip(r,u)?d.connectionStart=Il(e,u,t):ip(r,l)?d.connectionEnd=$l(e,l,t):ip(o,u)?d.connectionStart=zl(e,u,a[u.id]):ip(o,l)&&(d.connectionEnd=Dl(e,l,a[l.id])),s._modeling.layoutConnection(e,d))}))},rp.$inject=["modeling"],rp.prototype.execute=function(e){var t=e.shape,n=t.children;e.oldChildrenVisibility=op(n),t.collapsed=!t.collapsed;var i=ap(n,t.collapsed);return[t].concat(i)},rp.prototype.revert=function(e){var t=e.shape,n=e.oldChildrenVisibility,i=sp(t.children,n);return t.collapsed=!t.collapsed,[t].concat(i)},cp.$inject=["modeling"],cp.prototype.execute=function(e){var t=e.shape,n=e.newHost,i=t.host;return e.oldHost=i,e.attacherIdx=up(i,t),lp(n,t),t.host=n,t},cp.prototype.revert=function(e){var t=e.shape,n=e.newHost,i=e.oldHost,r=e.attacherIdx;return t.host=i,up(n,t),lp(i,t,r),t},pp.prototype.execute=function(e){var t=e.connection,n=e.newWaypoints;return e.oldWaypoints=t.waypoints,t.waypoints=n,t},pp.prototype.revert=function(e){var t=e.connection,n=e.oldWaypoints;return t.waypoints=n,t},hp.$inject=["eventBus","elementFactory","commandStack"],hp.prototype.getHandlers=function(){return{"shape.append":_l,"shape.create":Tl,"shape.delete":Rl,"shape.move":Yl,"shape.resize":Jl,"shape.replace":Zl,"shape.toggleCollapse":rp,spaceTool:Ql,"label.create":Pl,"connection.create":wl,"connection.delete":jl,"connection.move":Ll,"connection.layout":Nl,"connection.updateWaypoints":pp,"connection.reconnect":Xl,"elements.create":El,"elements.move":ql,"elements.delete":Bl,"elements.distribute":Al,"elements.align":xl,"element.updateAttachment":cp}},hp.prototype.registerHandlers=function(e){b(this.getHandlers(),(function(t,n){e.registerHandler(n,t)}))},hp.prototype.moveShape=function(e,t,n,i,r){"object"==typeof i&&(r=i,i=null);var o={shape:e,delta:t,newParent:n,newParentIndex:i,hints:r||{}};this._commandStack.execute("shape.move",o)},hp.prototype.updateAttachment=function(e,t){var n={shape:e,newHost:t};this._commandStack.execute("element.updateAttachment",n)},hp.prototype.moveElements=function(e,t,n,i){var r,o=(i=i||{}).attach,a=n;!0===o?(r=n,a=n.parent):!1===o&&(r=null);var s={shapes:e,delta:t,newParent:a,newHost:r,hints:i};this._commandStack.execute("elements.move",s)},hp.prototype.moveConnection=function(e,t,n,i,r){"object"==typeof i&&(r=i,i=void 0);var o={connection:e,delta:t,newParent:n,newParentIndex:i,hints:r||{}};this._commandStack.execute("connection.move",o)},hp.prototype.layoutConnection=function(e,t){var n={connection:e,hints:t||{}};this._commandStack.execute("connection.layout",n)},hp.prototype.createConnection=function(e,t,n,i,r,o){"object"==typeof n&&(o=r,r=i,i=n,n=void 0);var a={source:e,target:t,parent:r,parentIndex:n,connection:i=this._create("connection",i),hints:o};return this._commandStack.execute("connection.create",a),a.connection},hp.prototype.createShape=function(e,t,n,i,r){"number"!=typeof i&&(r=i,i=void 0);var o,a,s=(r=r||{}).attach;e=this._create("shape",e),s?(o=n.parent,a=n):o=n;var c={position:t,shape:e,parent:o,parentIndex:i,host:a,hints:r};return this._commandStack.execute("shape.create",c),c.shape},hp.prototype.createElements=function(e,t,n,i,r){f(e)||(e=[e]),"number"!=typeof i&&(r=i,i=void 0);var o={position:t,elements:e,parent:n,parentIndex:i,hints:r=r||{}};return this._commandStack.execute("elements.create",o),o.elements},hp.prototype.createLabel=function(e,t,n,i){n=this._create("label",n);var r={labelTarget:e,position:t,parent:i||e.parent,shape:n};return this._commandStack.execute("label.create",r),r.shape},hp.prototype.appendShape=function(e,t,n,i,r){r=r||{};var o={source:e,position:n,target:i,shape:t=this._create("shape",t),connection:r.connection,connectionParent:r.connectionParent,hints:r};return this._commandStack.execute("shape.append",o),o.shape},hp.prototype.removeElements=function(e){var t={elements:e};this._commandStack.execute("elements.delete",t)},hp.prototype.distributeElements=function(e,t,n){var i={groups:e,axis:t,dimension:n};this._commandStack.execute("elements.distribute",i)},hp.prototype.removeShape=function(e,t){var n={shape:e,hints:t||{}};this._commandStack.execute("shape.delete",n)},hp.prototype.removeConnection=function(e,t){var n={connection:e,hints:t||{}};this._commandStack.execute("connection.delete",n)},hp.prototype.replaceShape=function(e,t,n){var i={oldShape:e,newData:t,hints:n||{}};return this._commandStack.execute("shape.replace",i),i.newShape},hp.prototype.alignElements=function(e,t){var n={elements:e,alignment:t};this._commandStack.execute("elements.align",n)},hp.prototype.resizeShape=function(e,t,n,i){var r={shape:e,newBounds:t,minBounds:n,hints:i};this._commandStack.execute("shape.resize",r)},hp.prototype.createSpace=function(e,t,n,i,r){var o={delta:n,direction:i,movingShapes:e,resizingShapes:t,start:r};this._commandStack.execute("spaceTool",o)},hp.prototype.updateWaypoints=function(e,t,n){var i={connection:e,newWaypoints:t,hints:n||{}};this._commandStack.execute("connection.updateWaypoints",i)},hp.prototype.reconnect=function(e,t,n,i,r){var o={connection:e,newSource:t,newTarget:n,dockingOrPoints:i,hints:r||{}};this._commandStack.execute("connection.reconnect",o)},hp.prototype.reconnectStart=function(e,t,n,i){i||(i={}),this.reconnect(e,t,e.target,n,G(i,{docking:"source"}))},hp.prototype.reconnectEnd=function(e,t,n,i){i||(i={}),this.reconnect(e,e.source,t,n,G(i,{docking:"target"}))},hp.prototype.connect=function(e,t,n,i){return this.createConnection(e,t,n||{},e.parent,i)},hp.prototype._create=function(e,t){return t instanceof Lt?t:this._elementFactory.create(e,t)},hp.prototype.toggleCollapse=function(e,t){var n={shape:e,hints:t||{}};this._commandStack.execute("shape.toggleCollapse",n)};var dp={width:0,height:0};function fp(e,t,n,i,r){this._elementRegistry=e,this._moddle=t,this._translate=n,this._modeling=i,this._textRenderer=r}function vp(e,t){return"id"in e&&e.id!==t.id}function yp(e,t){b(t,(function(t,n){"di"!==n?e.set(n,t):e.di&&function(e,t){b(t,(function(t,n){e.set(n,t)}))}(e.di,t)}))}fp.$inject=["elementRegistry","moddle","translate","modeling","textRenderer"],fp.prototype.execute=function(e){var t=e.element,n=[t],i=this._translate;if(!t)throw new Error(i("element required"));var r=this._elementRegistry,o=this._moddle.ids,a=t.businessObject,s=function(e){var t=G({},e);return gp.forEach((function(n){n in e&&(t[n]=Ei(t[n]))})),t}(e.properties),c=e.oldProperties||function(e,t){return E(P(t),(function(n,i){return n[i]="di"!==i?e.get(i):(r=e.di,E(P(t.di),(function(e,t){return e[t]=r.get(t),e}),{})),n;var r}),{})}(a,s);return vp(s,a)&&(o.unclaim(a.id),r.updateId(t,s.id),o.claim(s.id,a)),yp(a,s),e.oldProperties=c,e.changed=n,n},fp.prototype.postExecute=function(e){var t=e.element.label,n=t&&Ei(t).name;if(n){var i=this._textRenderer.getExternalLabelBounds(t,n);this._modeling.resizeShape(t,i,dp)}},fp.prototype.revert=function(e){var t=e.element,n=e.properties,i=e.oldProperties,r=t.businessObject,o=this._elementRegistry,a=this._moddle.ids;return yp(r,i),vp(n,r)&&(a.unclaim(n.id),o.updateId(t,i.id),a.claim(i.id,r)),e.changed};var gp=["default"];function mp(e,t){this._canvas=e,this._modeling=t}function xp(e){this._moddle=e}mp.$inject=["canvas","modeling"],mp.prototype.execute=function(e){var t=this._canvas,n=e.newRoot,i=n.businessObject,r=t.getRootElement(),o=r.businessObject,a=o.$parent,s=o.di;t.setRootElement(n,!0),xt(a.rootElements,i),i.$parent=a,mt(a.rootElements,o),o.$parent=null,o.di=null,s.boardElement=i,i.di=s,e.oldRoot=r},mp.prototype.revert=function(e){var t=this._canvas,n=e.newRoot.businessObject,i=e.oldRoot,r=i.businessObject,o=n.$parent,a=n.di;t.setRootElement(i,!0),mt(o.rootElements,n),n.$parent=null,xt(o.rootElements,r),r.$parent=o,n.di=null,a.boardElement=r,r.di=a},xp.$inject=["moddle"],xp.prototype.execute=function(e){var t=this._moddle.ids,n=e.id,i=e.element;e.claiming?t.claim(n,i):t.unclaim(n)},xp.prototype.revert=function(e){var t=this._moddle.ids,n=e.id,i=e.element;e.claiming?t.unclaim(n):t.claim(n,i)};var _p=Ca.YELLOW;function wp(e){this._commandStack=e}wp.$inject=["commandStack"],wp.prototype.postExecute=function(e){var t=e.elements,n=e.color||_p,i=this;b(t,(function(e){i._commandStack.execute("element.updateProperties",{element:e,properties:{color:n}})}))};var bp={width:0,height:0};function Ep(e,t){function n(e,t){var n=e.label||e,i=e.labelTarget||e;return function(e,t){var n=e.businessObject,i=ki(n);i&&(n[i]=t)}(n,t),[n,i]}this.preExecute=function(t){var n=t.element,i=n.businessObject,r=t.newLabel;if(!Xi(n)&&Vi(n)&&!qi(n)&&!Sp(r)){var o=Yi(n);o={x:o.x,y:o.y+7},e.createLabel(n,o,{id:i.id+"_label",businessObject:i})}},this.execute=function(e){return e.oldLabel=Ti(e.element),n(e.element,e.newLabel)},this.revert=function(e){return n(e.element,e.oldLabel)},this.postExecute=function(n){var i=n.element,r=i.label||i,o=n.newLabel,a=n.newBounds,s=n.hints||{};if(Xi(r))if(Xi(r)&&Sp(o))!1!==s.removeShape&&e.removeShape(r,{unsetLabel:!1});else{var c=Ti(r);void 0===a&&(a=t.getExternalLabelBounds(r,c)),a&&e.resizeShape(r,a,bp)}}}function Sp(e){return!e||!e.trim()}function kp(e,t,n,i){hp.call(this,e,t,n),this._postitRules=i}function Tp(){}function Pp(e){return G({original:e.point.original||e.point},e.actual)}function Cp(e,t){this._elementRegistry=e,this._graphicsFactory=t}Ep.$inject=["modeling","textRenderer"],r()(kp,hp),kp.$inject=["eventBus","elementFactory","commandStack","postitRules"],kp.prototype.getHandlers=function(){var e=hp.prototype.getHandlers.call(this);return e["element.updateProperties"]=fp,e["canvas.updateRoot"]=mp,e["id.updateClaim"]=xp,e["element.setColor"]=wp,e["element.updateLabel"]=Ep,e},kp.prototype.updateLabel=function(e,t,n,i){this._commandStack.execute("element.updateLabel",{element:e,newLabel:t,newBounds:n,hints:i||{}})},kp.prototype.updateProperties=function(e,t){this._commandStack.execute("element.updateProperties",{element:e,properties:t})},kp.prototype.claimId=function(e,t){this._commandStack.execute("id.updateClaim",{id:e,element:t,claiming:!0})},kp.prototype.unclaimId=function(e,t){this._commandStack.execute("id.updateClaim",{id:e,element:t})},kp.prototype.setColor=function(e,t){e.length||(e=[e]),this._commandStack.execute("element.setColor",{elements:e,color:t})},Tp.prototype.layoutConnection=function(e,t){return[(t=t||{}).connectionStart||Xo(t.source||e.source),t.connectionEnd||Xo(t.target||e.target)]},Cp.$inject=["elementRegistry","graphicsFactory"],Cp.prototype.getCroppedWaypoints=function(e,t,n){t=t||e.source,n=n||e.target;var i=this.getDockingPoint(e,t,!0),r=this.getDockingPoint(e,n),o=e.waypoints.slice(i.idx+1,r.idx);return o.unshift(Pp(i)),o.push(Pp(r)),o},Cp.prototype.getDockingPoint=function(e,t,n){var i,r,o=e.waypoints;return{point:r=o[i=n?0:o.length-1],actual:this._getIntersection(t,e,n)||r,idx:i}},Cp.prototype._getIntersection=function(e,t,n){return Zo(this._getShapePath(e),this._getConnectionPath(t),n)},Cp.prototype._getConnectionPath=function(e){return this._graphicsFactory.getConnectionPath(e)},Cp.prototype._getShapePath=function(e){return this._graphicsFactory.getShapePath(e)},Cp.prototype._getGfx=function(e){return this._elementRegistry.getGraphics(e)};const Mp={__init__:["modeling","postitUpdater"],__depends__:[xu,Cu,ju,Au,zs,Nu,$u,Uu,Yu,_r,mc,fl],postitFactory:["type",vl],postitUpdater:["type",yl],elementFactory:["type",ml],modeling:["type",kp],layouter:["type",Tp],connectionDocking:["type",Cp]};var jp=Math.round;function Bp(e,t,n,i,r){function o(e,t,n,i){return r.allowed("elements.move",{shapes:e,delta:t,position:n,target:i})}function a(e,n,i,r){if(v(i)&&(r=i,i=!1),!n.waypoints&&n.parent){var o=function(e){return{x:e.x+jp(e.width/2),y:e.y+jp(e.height/2)}}(n);return t.init(e,o,"shape.move",{cursor:"grabbing",autoActivate:i,data:{shape:n,context:r||{}}}),!0}}e.on("shape.move.start",1500,(function(e){var t=e.context,n=e.shape,r=i.get().slice();-1===r.indexOf(n)&&(r=[n]),r=function(e){var t=j(e,"id");return w(e,(function(e){for(;e=e.parent;)if(t[e.id])return!1;return!0}))}(r),G(t,{shapes:r,validatedShapes:r,shape:n})})),e.on("shape.move.start",1250,(function(e){var t=e.context,n=t.validatedShapes;if(!(t.canExecute=o(n)))return!1})),e.on("shape.move.move",500,(function(e){var t,n=e.context,i=n.validatedShapes,r=e.hover,a={x:e.dx,y:e.dy};t=o(i,a,{x:e.x,y:e.y},r),n.delta=a,n.canExecute=t,n.target=null!==t?r:null})),e.on("shape.move.end",(function(e){var t=e.context,i=t.delta,r=t.canExecute,o="attach"===r,a=t.shapes;if(!1===r)return!1;i.x=jp(i.x),i.y=jp(i.y),0===i.x&&0===i.y||n.moveElements(a,i,t.target,{primaryShape:t.shape,attach:o})})),e.on("element.mousedown",(function(e){if(or(e)){var t=tr(e);if(!t)throw new Error("must supply DOM mousedown event");return a(t,e.element)}})),this.start=a}Bp.$inject=["eventBus","dragging","modeling","selection","rules"];var Rp="djs-dragging",Ap="drop-ok",Op="drop-not-ok",Np="new-parent",Lp="attach-ok";function zp(e,t,n,i){function r(e){var t=pt(e,!0),n=T(t,(function(e){return(e.incoming||[]).concat(e.outgoing||[])}));return c(t.concat(n))}function o(e,n){[Lp,Ap,Op,Np].forEach((function(i){i===n?t.addMarker(e,i):t.removeMarker(e,i)}))}e.on("shape.move.start",499,(function(e){var o,a=e.context,s=a.shapes,u=a.allDraggedElements,l=w(o=r(s),(function(e){return!function(e){return e.waypoints}(e)||_(o,O({id:e.source.id}))&&_(o,O({id:e.target.id}))}));if(!a.dragGroup){var p=Ne("g");be(p,n.cls("djs-drag-group",["no-events"])),xe(t.getDefaultLayer(),p),a.dragGroup=p}l.forEach((function(e){i.addDragger(e,a.dragGroup)})),b(u=u?c([u,r(s)]):r(s),(function(e){t.addMarker(e,Rp)})),a.allDraggedElements=u,a.differentParents=1!==C(j(s,(function(e){return e.parent&&e.parent.id})))})),e.on("shape.move.move",499,(function(e){var t=e.context,n=t.dragGroup,i=t.target,r=t.shape.parent,a=t.canExecute;i&&("attach"===a?o(i,Lp):t.canExecute&&i&&i.id!==r.id?o(i,Np):o(i,t.canExecute?Ap:Op)),qt(n,e.dx,e.dy)})),e.on(["shape.move.out","shape.move.cleanup"],(function(e){var t=e.context.target;t&&o(t,null)})),e.on("shape.move.cleanup",(function(e){var n=e.context,i=n.allDraggedElements,r=n.dragGroup;b(i,(function(e){t.removeMarker(e,Rp)})),r&&Me(r)})),this.makeDraggable=function(e,n,r){i.addDragger(n,e.dragGroup),r&&t.addMarker(n,Rp),e.allDraggedElements?e.allDraggedElements.push(n):e.allDraggedElements=[n]}}zp.$inject=["eventBus","canvas","styles","previewSupport"];const Dp={__depends__:[pr,_r,dr,jo,To,Qa],__init__:["move","movePreview"],move:["type",Bp],movePreview:["type",zp]};var Ip="open";function $p(e,t){this._eventBus=e,this._canvas=t;var n=this;e.on("tool-manager.update",(function(e){var t=e.tool;n.updateToolHighlight(t)})),e.on("i18n.changed",(function(){n._update()})),e.on("diagram.init",(function(){n._diagramInitialized=!0,n._rebuild()}))}function Fp(e,t){var n=t.getPaletteEntries();return g(n)?n(e):(b(n,(function(t,n){e[n]=t})),e)}$p.$inject=["eventBus","canvas"],$p.prototype.registerProvider=function(e,t){t||(t=e,e=1e3),this._eventBus.on("palette.getProviders",e,(function(e){e.providers.push(t)})),this._rebuild()},$p.prototype.getEntries=function(){return this._getProviders().reduce(Fp,{})},$p.prototype._rebuild=function(){this._diagramInitialized&&this._getProviders().length&&(this._container||this._init(),this._update())},$p.prototype._init=function(){var e=this,t=this._eventBus,n=this._getParentContainer(),i=this._container=he($p.HTML_MARKUP);n.appendChild(i),le(i,".djs-palette-toggle, .entry","click",(function(t){var n=t.delegateTarget;if(ne(n,".djs-palette-toggle"))return e.toggle();e.trigger("click",t)})),ce.bind(i,"mousedown",(function(e){e.stopPropagation()})),le(i,".entry","dragstart",(function(t){e.trigger("dragstart",t)})),t.on("canvas.resized",this._layoutChanged,this),t.fire("palette.create",{container:i})},$p.prototype._getProviders=function(e){var t=this._eventBus.createEvent({type:"palette.getProviders",providers:[]});return this._eventBus.fire(t),t.providers},$p.prototype._toggleState=function(e){e=e||{};var t,n=this._getParentContainer(),i=this._container,r=this._eventBus,o=Z(i);t="twoColumn"in e?e.twoColumn:this._needsCollapse(n.clientHeight,this._entries||{}),o.toggle("two-column",t),"open"in e&&o.toggle(Ip,e.open),r.fire("palette.changed",{twoColumn:t,open:this.isOpen()})},$p.prototype._update=function(){var e=ve(".djs-palette-entries",this._container),t=this._entries=this.getEntries();Q(e),b(t,(function(t,n){var i=t.group||"default",r=ve("[data-group="+i+"]",e);r||(r=he('<div class="group" data-group="'+i+'"></div>'),e.appendChild(r));var o=t.html||(t.separator?'<hr class="separator" />':'<div class="entry" draggable="true"></div>'),a=he(o);r.appendChild(a),t.separator||(V(a,"data-action",n),t.title&&V(a,"title",t.title),t.className&&function(e,t){var n=Z(e);(f(t)?t:t.split(/\s+/g)).forEach((function(e){n.add(e)}))}(a,t.className),t.imageUrl&&a.appendChild(he('<img src="'+t.imageUrl+'">')))})),this.open()},$p.prototype.trigger=function(e,t,n){var i,r,o,a=this._entries,s=t.delegateTarget||t.target;if(!s)return t.preventDefault();(i=a[V(s,"data-action")])&&(r=i.action,o=t.originalEvent||t,g(r)?"click"===e&&r(o,n):r[e]&&r[e](o,n),t.preventDefault())},$p.prototype._layoutChanged=function(){this._toggleState({})},$p.prototype._needsCollapse=function(e,t){return e<46*Object.keys(t).length+50},$p.prototype.close=function(){this._toggleState({open:!1,twoColumn:!1})},$p.prototype.open=function(){this._toggleState({open:!0})},$p.prototype.toggle=function(e){this.isOpen()?this.close():this.open()},$p.prototype.isActiveTool=function(e){return e&&this._activeTool===e},$p.prototype.updateToolHighlight=function(e){var t;this._toolsContainer||(t=ve(".djs-palette-entries",this._container),this._toolsContainer=ve("[data-group=tools]",t)),b(this._toolsContainer.children,(function(t){var n=t.getAttribute("data-action");if(n){var i=Z(t);n=n.replace("-tool",""),i.contains("entry")&&n===e?i.add("highlighted-entry"):i.remove("highlighted-entry")}}))},$p.prototype.isOpen=function(){return Z(this._container).has(Ip)},$p.prototype._getParentContainer=function(){return this._canvas.getContainer()},$p.HTML_MARKUP='<div class="djs-palette"><div class="djs-palette-entries"></div><div class="djs-palette-toggle"></div></div>';const Hp={__init__:["palette"],palette:["type",$p]};var Gp="crosshair";function Up(e,t,n,i,r,o,a){this._selection=r,this._dragging=n,this._mouse=a;var s=this;o.registerTool("lasso",{tool:"lasso.selection",dragging:"lasso"}),e.on("lasso.selection.end",(function(t){var n=t.originalEvent.target;(t.hover||n instanceof SVGElement)&&e.once("lasso.selection.ended",(function(){s.activateLasso(t.originalEvent,!0)}))})),e.on("lasso.end",(function(e){var t=Wp(e),n=i.filter((function(e){return e}));s.select(n,t)})),e.on("lasso.start",(function(e){var n=e.context;n.bbox=Wp(e),function(e){var n,i=t.getDefaultLayer();be(n=e.frame=Ne("rect"),{class:"djs-lasso-overlay",width:1,height:1,x:0,y:0}),xe(i,n)}(n)})),e.on("lasso.move",(function(e){var t=e.context;t.bbox=Wp(e),function(e){var t=e.frame,n=e.bbox;be(t,{x:n.x,y:n.y,width:n.width,height:n.height})}(t)})),e.on("lasso.cleanup",(function(e){!function(e){e.frame&&Me(e.frame)}(e.context)})),e.on("element.mousedown",1500,(function(e){if(sr(e))return s.activateLasso(e.originalEvent),!0}))}function Wp(e){var t={x:e.x-e.dx,y:e.y-e.dy},n={x:e.x,y:e.y};return t.x<=n.x&&t.y<n.y||t.x<n.x&&t.y<=n.y?{x:t.x,y:t.y,width:n.x-t.x,height:n.y-t.y}:t.x>=n.x&&t.y<n.y||t.x>n.x&&t.y<=n.y?{x:n.x,y:t.y,width:t.x-n.x,height:n.y-t.y}:t.x<=n.x&&t.y>n.y||t.x<n.x&&t.y>=n.y?{x:t.x,y:n.y,width:n.x-t.x,height:t.y-n.y}:t.x>=n.x&&t.y>n.y||t.x>n.x&&t.y>=n.y?{x:n.x,y:n.y,width:t.x-n.x,height:t.y-n.y}:{x:n.x,y:n.y,width:0,height:0}}Up.$inject=["eventBus","canvas","dragging","elementRegistry","selection","toolManager","mouse"],Up.prototype.activateLasso=function(e,t){this._dragging.init(e,"lasso",{autoActivate:t,cursor:Gp,data:{context:{}}})},Up.prototype.activateSelection=function(e,t){this._dragging.init(e,"lasso.selection",{trapClick:!1,autoActivate:t,cursor:Gp,data:{context:{}}})},Up.prototype.select=function(e,t){var n=function(e,t){var n={};return b(e,(function(e){var i=e;i.waypoints&&(i=ht(i)),!y(t.y)&&i.x>t.x&&(n[e.id]=e),!y(t.x)&&i.y>t.y&&(n[e.id]=e),i.x>t.x&&i.y>t.y&&(y(t.width)&&y(t.height)&&i.width+i.x<t.width+t.x&&i.height+i.y<t.height+t.y?n[e.id]=e:y(t.width)&&y(t.height)||(n[e.id]=e))})),n}(e,t);this._selection.select(M(n))},Up.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var e=this._mouse.getLastMoveEvent();this.activateSelection(e,!!e)},Up.prototype.isActive=function(){var e=this._dragging.context();return e&&/^lasso/.test(e.prefix)};const Vp={__depends__:[Ku,ms],__init__:["lassoTool"],lassoTool:["type",Up]};var qp=1500,Yp="grab";function Xp(e,t,n,i,r,o){this._dragging=n,this._mouse=o;var a=this,s=i.get("keyboard",!1);r.registerTool("hand",{tool:"hand",dragging:"hand.move"}),e.on("element.mousedown",qp,(function(e){if(ar(e))return a.activateMove(e.originalEvent,!0),!1})),s&&s.addListener(qp,(function(e){if(Kp(e.keyEvent)&&!a.isActive()){var t=a._mouse.getLastMoveEvent();a.activateMove(t,!!t)}}),"keyboard.keydown"),s&&s.addListener(qp,(function(e){Kp(e.keyEvent)&&a.isActive()&&a.toggle()}),"keyboard.keyup"),e.on("hand.end",(function(t){var n=t.originalEvent.target;if(!(t.hover||n instanceof SVGElement))return!1;e.once("hand.ended",(function(){a.activateMove(t.originalEvent,{reactivate:!0})}))})),e.on("hand.move.move",(function(e){var n=t.viewbox().scale;t.scroll({dx:e.dx*n,dy:e.dy*n})})),e.on("hand.move.end",(function(t){var n=t.context.reactivate;return!ar(t)&&n&&e.once("hand.move.ended",(function(e){a.activateHand(e.originalEvent,!0,!0)})),!1}))}function Kp(e){return jr(" ",e)}Xp.$inject=["eventBus","canvas","dragging","injector","toolManager","mouse"],Xp.prototype.activateMove=function(e,t,n){"object"==typeof t&&(n=t,t=!1),this._dragging.init(e,"hand.move",{autoActivate:t,cursor:Yp,data:{context:n||{}}})},Xp.prototype.activateHand=function(e,t,n){this._dragging.init(e,"hand",{trapClick:!1,autoActivate:t,cursor:Yp,data:{context:{reactivate:n}}})},Xp.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var e=this._mouse.getLastMoveEvent();this.activateHand(e,!!e)},Xp.prototype.isActive=function(){var e=this._dragging.context();return!!e&&/^(hand|hand\.move)$/.test(e.prefix)};const Zp={__depends__:[Ku,ms],__init__:["handTool"],handTool:["type",Xp]};function Jp(e,t,n,i,r,o,a){this._palette=e,this._create=t,this._elementFactory=n,this._spaceTool=i,this._lassoTool=r,this._handTool=o,this._translate=a,e.registerProvider(this)}Jp.$inject=["palette","create","elementFactory","spaceTool","lassoTool","handTool","translate"],Jp.prototype.getPaletteEntries=function(e){var t={},n=this._create,i=this._elementFactory,r=this._spaceTool,o=this._lassoTool,a=this._handTool,s=this._translate;function c(e,t,r,o,a){function c(t){var r=i.createShape(G({type:e},a));n.start(t,r)}var u=e.replace(/^postit:/,"");return{group:t,className:r,title:o||s("Create {type}",{type:u}),action:{dragstart:c,click:c}}}function u(e){var t=i.createShape({type:"postit:Image"});n.start(e,t,{hints:{selectImage:!0}})}return G(t,{"hand-tool":{group:"tools",className:"bpmn-icon-hand-tool",title:s("Activate the hand tool"),action:{click:function(e){a.activateHand(e)}}},"lasso-tool":{group:"tools",className:"bpmn-icon-lasso-tool",title:s("Activate the lasso tool"),action:{click:function(e){o.activateSelection(e)}}},"space-tool":{group:"tools",className:"bpmn-icon-space-tool",title:s("Activate the create/remove space tool"),action:{click:function(e){r.activateSelection(e)}}},"tool-separator":{group:"tools",separator:!0},"create.square-postit":c("postit:SquarePostit","postits","pjs-postit-square",s("Create Square Postit"),{color:Ca.YELLOW}),"create.circle-postit":c("postit:CirclePostit","postits","pjs-postit-circle",s("Create Circle Postit"),{color:Ca.PINK}),"postit-separator":{group:"postits",separator:!0},"create.image":{group:"artifact",className:"pjs-image",title:s("Create Image"),action:{click:u,dragstart:u}},"create.text-box":c("postit:TextBox","artifact","pjs-text-box",s("Create Text")),"create.group":c("postit:Group","artifact","pjs-group",s("Create Group"))}),t};const Qp={__depends__:[Hp,ls,fl,Vp,Zp,Ui],__init__:["paletteProvider"],paletteProvider:["type",Jp]};function eh(e,t,n,i,r){Dc.call(this,e),e.on("shape.move.move",250,(function(e){var o=e.context,a=o.canExecute;o.visualReplacements||(o.visualReplacements={}),a&&a.replacements?function(e){b(e.canExecute.replacements,(function(o){var a=o.oldElementId,s={type:o.newElementType};if(!e.visualReplacements[a]){var c=t.get(a);G(s,{x:c.x,y:c.y});var u=n.createShape(s);i.addShape(u,c.parent);var l=ve('[data-element-id="'+Uo()(c.id)+'"]',e.dragGroup);l&&be(l,{display:"none"});var p=r.addDragger(u,e.dragGroup);e.visualReplacements[a]=p,i.removeShape(u)}}))}(o):function(e){var t=e.visualReplacements;b(t,(function(n,i){var r=ve('[data-element-id="'+Uo()(i)+'"]',e.dragGroup);r&&be(r,{display:"inline"}),n.remove(),t[i]&&delete t[i]}))}(o)}))}eh.$inject=["eventBus","elementRegistry","elementFactory","canvas","previewSupport"],r()(eh,Dc);const th={__depends__:[Qa],__init__:["postitReplacePreview"],postitReplacePreview:["type",eh]};function nh(){this._targets={},this._snapOrigins={},this._snapLocations=[],this._defaultSnaps={}}function ih(e){this._snapValues={}}function rh(e,t,n){var i=this;this._elementRegistry=e,t.on(["create.start","shape.move.start"],(function(e){i.initSnap(e)})),t.on(["create.move","create.end","shape.move.move","shape.move.end"],1250,(function(e){var t=e.context,r=t.shape,o=t.snapContext,a=t.target;if((!e.originalEvent||!Mr(e.originalEvent))&&!wa(e)&&a){var s=o.pointsForTarget(a);s.initialized||((s=i.addSnapTargetPoints(s,r,a)).initialized=!0),n.snap(e,s)}})),t.on(["create.cleanup","shape.move.cleanup"],(function(){n.hide()}))}function oh(e){return!!e.labelTarget}function ah(e){e.invoke(rh,this)}function sh(e,t){var n=this;e.on(["resize.start"],(function(e){n.initSnap(e)})),e.on(["resize.move","resize.end"],1250,(function(e){var i=e.context,r=i.shape,o=r.parent,a=i.direction,s=i.snapContext;if(!(e.originalEvent&&Mr(e.originalEvent)||wa(e))){var c=s.pointsForTarget(o);c.initialized||((c=n.addSnapTargetPoints(c,r,o,a)).initialized=!0),function(e){return"n"===e||"s"===e}(a)&&ba(e,"x",e.x),function(e){return"e"===e||"w"===e}(a)&&ba(e,"y",e.y),t.snap(e,c)}})),e.on(["resize.cleanup"],(function(){t.hide()}))}function ch(e,t){var n=Xo(e),i=qo(e),r={x:n.x,y:n.y};return-1!==t.indexOf("n")?r.y=i.top:-1!==t.indexOf("s")&&(r.y=i.bottom),-1!==t.indexOf("e")?r.x=i.right:-1!==t.indexOf("w")&&(r.x=i.left),r}function uh(e){this._canvas=e,this._asyncHide=I(F(this.hide,this),1e3)}nh.prototype.getSnapOrigin=function(e){return this._snapOrigins[e]},nh.prototype.setSnapOrigin=function(e,t){this._snapOrigins[e]=t,-1===this._snapLocations.indexOf(e)&&this._snapLocations.push(e)},nh.prototype.addDefaultSnap=function(e,t){var n=this._defaultSnaps[e];n||(n=this._defaultSnaps[e]=[]),n.push(t)},nh.prototype.getSnapLocations=function(){return this._snapLocations},nh.prototype.setSnapLocations=function(e){this._snapLocations=e},nh.prototype.pointsForTarget=function(e){var t=e.id||e,n=this._targets[t];return n||(n=this._targets[t]=new ih).initDefaults(this._defaultSnaps),n},ih.prototype.add=function(e,t){var n=this._snapValues[e];n||(n=this._snapValues[e]={x:[],y:[]}),-1===n.x.indexOf(t.x)&&n.x.push(t.x),-1===n.y.indexOf(t.y)&&n.y.push(t.y)},ih.prototype.snap=function(e,t,n,i){var r=this._snapValues[t];return r&&function(e,t,n){var i,r;for(n=void 0===n?10:n,i=0;i<t.length;i++)if(r=t[i],ma(r-e)<=n)return r}(e[n],r[n],i)},ih.prototype.initDefaults=function(e){var t=this;b(e||{},(function(e,n){b(e,(function(e){t.add(n,e)}))}))},rh.$inject=["elementRegistry","eventBus","snapping"],rh.prototype.initSnap=function(e){var t,n=this._elementRegistry,i=e.context,r=i.shape,o=i.snapContext;o||(o=i.snapContext=new nh);var a=(t=n.get(r.id)?_a(r,e):{x:e.x+_a(r).x,y:e.y+_a(r).y}).x-r.width/2,s=t.y-r.height/2,c=t.x+r.width/2,u=t.y+r.height/2;return o.setSnapOrigin("mid",{x:t.x-e.x,y:t.y-e.y}),oh(r)||(o.setSnapOrigin("top-left",{x:a-e.x,y:s-e.y}),o.setSnapOrigin("bottom-right",{x:c-e.x,y:u-e.y})),o},rh.prototype.addSnapTargetPoints=function(e,t,n){return b(this.getSnapTargets(t,n),(function(n){if(oh(n))oh(t)&&e.add("mid",_a(n));else if(n.waypoints){if(n.waypoints.length<3)return;b(n.waypoints.slice(1,-1),(function(t){e.add("mid",t)}))}else e.add("mid",_a(n))})),y(t.x)&&y(t.y)?(this._elementRegistry.get(t.id)&&e.add("mid",_a(t)),e):e},rh.prototype.getSnapTargets=function(e,t){return Ea(t).filter((function(e){return!e.hidden}))},r()(ah,rh),ah.$inject=["injector"],ah.prototype.initSnap=function(e){return rh.prototype.initSnap.call(this,e)},ah.prototype.addSnapTargetPoints=function(e,t,n){return rh.prototype.addSnapTargetPoints.call(this,e,t,n)},ah.prototype.getSnapTargets=function(e,t){return rh.prototype.getSnapTargets.call(this,e,t)},sh.prototype.initSnap=function(e){var t=e.context,n=t.shape,i=t.direction,r=t.snapContext;r||(r=t.snapContext=new nh);var o=ch(n,i);return r.setSnapOrigin("corner",{x:o.x-e.x,y:o.y-e.y}),r},sh.prototype.addSnapTargetPoints=function(e,t,n,i){return b(this.getSnapTargets(t,n),(function(t){var n;e.add("corner",{x:(n=t).x+n.width,y:n.y+n.height}),e.add("corner",function(e){return{x:e.x,y:e.y}}(t))})),e.add("corner",ch(t,i)),e},sh.$inject=["eventBus","snapping"],sh.prototype.getSnapTargets=function(e,t){return Ea(t).filter((function(t){return n=e,!(t.host===n||function(e){return!!e.waypoints}(t)||function(e){return!!e.hidden}(t)||function(e){return!!e.labelTarget}(t));var n}))},uh.$inject=["canvas"],uh.prototype.snap=function(e,t){var n=e.context.snapContext,i=n.getSnapLocations(),r={x:wa(e,"x"),y:wa(e,"y")};b(i,(function(i){var o=n.getSnapOrigin(i),a={x:e.x+o.x,y:e.y+o.y};if(b(["x","y"],(function(e){var n;r[e]||void 0!==(n=t.snap(a,i,e,7))&&(r[e]={value:n,originValue:n-o[e]})})),r.x&&r.y)return!1})),this.showSnapLine("vertical",r.x&&r.x.value),this.showSnapLine("horizontal",r.y&&r.y.value),b(["x","y"],(function(t){var n=r[t];v(n)&&ba(e,t,n.originValue)}))},uh.prototype._createLine=function(e){var t=this._canvas.getLayer("snap"),n=Ne("path");return be(n,{d:"M0,0 L0,0"}),Pe(n).add("djs-snap-line"),xe(t,n),{update:function(t){y(t)?be(n,"horizontal"===e?{d:"M-100000,"+t+" L+100000,"+t,display:""}:{d:"M "+t+",-100000 L "+t+", +100000",display:""}):be(n,{display:"none"})}}},uh.prototype._createSnapLines=function(){this._snapLines={horizontal:this._createLine("horizontal"),vertical:this._createLine("vertical")}},uh.prototype.showSnapLine=function(e,t){var n=this.getSnapLine(e);n&&n.update(t),this._asyncHide()},uh.prototype.getSnapLine=function(e){return this._snapLines||this._createSnapLines(),this._snapLines[e]},uh.prototype.hide=function(){b(this._snapLines,(function(e){e.update()}))};const lh={__depends__:[{__init__:["createMoveSnapping","resizeSnapping","snapping"],createMoveSnapping:["type",rh],resizeSnapping:["type",sh],snapping:["type",uh]}],__init__:["createMoveSnapping"],createMoveSnapping:["type",ah]};function ph(e,t,n,i,r,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(i,r)}function hh(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function a(e){ph(o,i,r,a,s,"next",e)}function s(e){ph(o,i,r,a,s,"throw",e)}a(void 0)}))}}function dh(e){return new Promise((function(t,n){try{var i=new FileReader;i.onloadend=function(){t(i.result)},i.readAsDataURL(e)}catch(e){n(e)}}))}function fh(e,t){return vh.apply(this,arguments)}function vh(){return(vh=hh(regeneratorRuntime.mark((function e(t,n){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dh(n);case 2:return i=e.sent,e.abrupt("return",i);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yh(e,t){return gh.apply(this,arguments)}function gh(){return(gh=hh(regeneratorRuntime.mark((function e(t,n){var i,r,o,a,s,c,u,l,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=[],o=n,t&&(t.dataTransfer.items||t.dataTransfer.files)&&(o=t.dataTransfer.items||t.dataTransfer.files);try{if(o)for(a=0;a<o.length;a++)t&&t.dataTransfer.items?"file"===o[a].kind&&(s=o[a].getAsFile(),i.push(s)):i.push(o[a])}catch(e){r=e,i=null}c=i,u=[],l=0;case 7:if(!(l<i.length)){e.next=16;break}return c[l].filename=c[l].name,e.next=11,fh(t,i[l]);case 11:p=e.sent,u.push(p),l+=1,e.next=7;break;case 16:return e.abrupt("return",{file_results:c,image_results:u,errors:r});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function xh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mh(Object(n),!0).forEach((function(t){_h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wh(e,t,n,i,r,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(i,r)}function bh(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function a(e){wh(o,i,r,a,s,"next",e)}function s(e){wh(o,i,r,a,s,"throw",e)}a(void 0)}))}}var Eh,Sh="postit:Image";function kh(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=n.length,r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*i));return t}function Th(e,t,n,i,r,o){this._eventBus=e,this._canvas=t,this._modeling=n,this._elementFactory=i,this._create=r,this._translate=o;var a=Ch.bind(this);Eh={URL:this._translate("URL"),"An error occured during the file upload":this._translate("An error occured during the file upload"),"Upload files here":this._translate("Upload files here"),"Upload from local is for demo purposes only. It slows down the page and increases the file size.":this._translate("Upload from local is for demo purposes only. It slows down the page and increases the file size."),uploaded:this._translate("uploaded"),file:this._translate("file"),files:this._translate("files"),selected:this._translate("selected"),"Upload again":this._translate("Upload again"),"Drag here":this._translate("Drag here")},Th.CSS="\n    .pjs-visible {\n      visibility: visible !important;\n      display: block !important;\n    }\n    \n    #pjs-drop-zone {\n      visibility: hidden;\n      position: absolute;\n      width: 100%;\n      height: 100%;\n      background-color: #555555;\n      z-index: 1;\n      opacity: 0.9;\n    }\n\n    #pjs-drop-zone-border {\n      border-radius: 10px 10px 10px 10px;\n      -moz-border-radius: 10px 10px 10px 10px;\n      -webkit-border-radius: 10px 10px 10px 10px;\n      border: 5px dashed #000000;\n      z-index: 2;\n      display: table;\n      width: 98.9%;\n      height: 100%; \n    }\n\n    .pjs-drop-zone-text {\n      vertical-align: middle;\n      width: 100%;\n      font-size: 25px;\n      font-weight: bold;\n      margin: 0 auto;\n      text-align: center;\n      display: table-cell;\n  }",Th.HTML_MARKUP='<div id="pjs-drop-zone"><div id="pjs-drop-zone-border"><div class="pjs-drop-zone-text">'+Eh["Drag here"]+"</div></div></div>";var s=document.createElement("style");s.type="text/css",s.innerHTML=Th.CSS,document.getElementsByTagName("HEAD")[0].appendChild(s);var c=document.getElementById("noteCanvas"),u=this._container=he(Th.HTML_MARKUP);function l(e){e.preventDefault(),e.stopPropagation()}function p(e){return h.apply(this,arguments)}function h(){return(h=bh(regeneratorRuntime.mark((function e(t){var n,i,r,o,s,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yh(t,null);case 2:if(i=e.sent,r=i.image_results,o=i.file_results,!i.errors){for(s=o.length?o.length:null,n=s,!1===isNaN(s)&&(c=+(1==o.length)?Eh.file:Eh.files,n+=" "+c+" "+Eh.uploaded),u=o.length;u--;)a(t,Ph({source:r[u],file_source:o[u]}));console.log(n)}case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}c.insertBefore(u,t.firstChild),ce.bind(c,"drag",(function(e){}),!1),ce.bind(c,"dragstart",(function(e){}),!1),ce.bind(c,"dragend",(function(e){}),!1),ce.bind(c,"dragover",(function(e){l(e)}),!1),ce.bind(c,"dragenter",(function(e){document.getElementById("pjs-drop-zone").classList.add("pjs-visible")}),!1),ce.bind(c,"dragleave",(function(e){document.getElementById("pjs-drop-zone").classList.remove("pjs-visible")}),!1),ce.bind(c,"drop",function(){var e=bh(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l(t),document.getElementById("pjs-drop-zone").classList.remove("pjs-visible"),p(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),!1)}var Ph=function(e){return xh(xh({},{objId:kh(),objType:Sh,objTitle:"",objDescription:"",objStarred:!1,objHidden:!1,objUnkeyed:!1,objUnkeyedOriginal:!1,objSrcUnkeyed:"",objCreationDate:"",source:"",objPositionX:null,objPositionY:null}),e)},Ch=function(){var e=bh(regeneratorRuntime.mark((function e(t,n){var i,r,o,a,s,c,u,l,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=n||[],i=this._elementFactory.createShape(xh({type:Sh},n)),r={createElementsBehavior:!1},o={x:t.x+100*Math.random(),y:t.y+100*Math.random()},a=this._canvas.getRootElement(),s=this._modeling.createElements([i],o,a,G({},r,{attach:!1})),c=new URLSearchParams(window.location.search),null!==(u=c.get("s_key"))){e.next=13;break}shepherdAlert("Script Required","You must open a script before you can take notes!"),e.next=17;break;case 13:return l=n.file_source,p=new ActiveStorage.DirectUpload(l,direct_upload_url),e.next=17,p.create(function(e,t,n){null!==t?t.search("Status: 403")>=0?shepherdAlert("Subscription Needed!",'You must have an active subscription to save images! You can sign up <button data-toggle="modal" href="#subscriptionModal" onclick="Shepherd.activeTour.complete(); $(\'#ideatorNotesModal\').modal(\'hide\');" data-description="Sign up for image uploading and other great featuers!" data-reset="$(\'#ideatorNotesModal\').modal(\'show\');" style="color: blue; margin-left: -6px; text-decoration: underline;">here!</button>'):shepherdAlert("Upload Error",t):n.key?$.ajax({type:"GET",beforeSend:function(e){e.setRequestHeader("X-CSRF-Token",$('meta[name="csrf-token"]').attr("content"))},url:"/scripts/"+u+"/image_url/"+n.key,responseType:"application/json",dataType:"json",success:function(e,t){for(var n in e)this._modeling.updateProperties(e[n],{source:t.url,key:t.key})}.bind(this,e)}):(shepherdAlert("Unknown Error","We've logged this issue.  If it continues, please reach out to support."),Bugsnag.notify("Unknown upload response: "+n.toString()))}.bind(this,s));case 17:return e.abrupt("return",{id:i.id,x:o.x,y:o.y,shape:i,width:i.width,height:i.height});case 18:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}();Th.prototype.$inject=["eventBus","canvas","modeling","elementFactory","create","translate"];const Mh={__init__:["dragDropImages"],dragDropImages:["type",Th]};function jh(e){wi.call(this,e)}r()(jh,wi),jh.Viewer=Cr,jh.NavigatedViewer=io,jh.prototype.createDiagram=function(){return this.importXML('<?xml version="1.0" encoding="UTF-8"?>\n  <postit:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" id="sample-diagram">\n    <postit:PostitBoard id="Board_1">\n    </postit:PostitBoard>\n    <postitDi:PostitRootBoard id="RootBoard_1">\n      <postitDi:PostitPlane id="PositPlane_1" boardElement="Board_1">\n      </postitDi:PostitPlane>\n    </postitDi:PostitRootBoard>\n  </postit:definitions>')},jh.prototype._interactionModules=[Hr,Kr,ho,no],jh.prototype._modelingModules=[xo,Co,Pa,Da,Ua,Va,Fs,Bs,ls,qs,ac,cc,yc,zc,Mp,Dp,Qp,th,Rc,lh,Mh],jh.prototype._modules=[].concat(Cr.prototype._modules,jh.prototype._interactionModules,jh.prototype._modelingModules)},974:(e,t,n)=>{"use strict";var i=n(29);e.exports=i},269:function(e,t,n){var i;i=void 0!==n.g?n.g:this,e.exports=function(e){if(e.CSS&&e.CSS.escape)return e.CSS.escape;var t=function(e){if(0==arguments.length)throw new TypeError("`CSS.escape` requires an argument.");for(var t,n=String(e),i=n.length,r=-1,o="",a=n.charCodeAt(0);++r<i;)0!=(t=n.charCodeAt(r))?o+=t>=1&&t<=31||127==t||0==r&&t>=48&&t<=57||1==r&&t>=48&&t<=57&&45==a?"\\"+t.toString(16)+" ":0==r&&1==i&&45==t||!(t>=128||45==t||95==t||t>=48&&t<=57||t>=65&&t<=90||t>=97&&t<=122)?"\\"+n.charAt(r):n.charAt(r):o+="�";return o};return e.CSS||(e.CSS={}),e.CSS.escape=t,t}(i)},840:(e,t,n)=>{var i;!function(r,o,a,s){"use strict";var c,u=["","webkit","Moz","MS","ms","o"],l=o.createElement("div"),p=Math.round,h=Math.abs,d=Date.now;function f(e,t,n){return setTimeout(w(e,n),t)}function v(e,t,n){return!!Array.isArray(e)&&(y(e,n[t],n),!0)}function y(e,t,n){var i;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==s)for(i=0;i<e.length;)t.call(n,e[i],i,e),i++;else for(i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e)}function g(e,t,n){var i="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=r.console&&(r.console.warn||r.console.log);return o&&o.call(r.console,i,n),e.apply(this,arguments)}}c="function"!=typeof Object.assign?function(e){if(e===s||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(i!==s&&null!==i)for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r])}return t}:Object.assign;var m=g((function(e,t,n){for(var i=Object.keys(t),r=0;r<i.length;)(!n||n&&e[i[r]]===s)&&(e[i[r]]=t[i[r]]),r++;return e}),"extend","Use `assign`."),x=g((function(e,t){return m(e,t,!0)}),"merge","Use `assign`.");function _(e,t,n){var i,r=t.prototype;(i=e.prototype=Object.create(r)).constructor=e,i._super=r,n&&c(i,n)}function w(e,t){return function(){return e.apply(t,arguments)}}function b(e,t){return"function"==typeof e?e.apply(t&&t[0]||s,t):e}function E(e,t){return e===s?t:e}function S(e,t,n){y(C(t),(function(t){e.addEventListener(t,n,!1)}))}function k(e,t,n){y(C(t),(function(t){e.removeEventListener(t,n,!1)}))}function T(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function P(e,t){return e.indexOf(t)>-1}function C(e){return e.trim().split(/\s+/g)}function M(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var i=0;i<e.length;){if(n&&e[i][n]==t||!n&&e[i]===t)return i;i++}return-1}function j(e){return Array.prototype.slice.call(e,0)}function B(e,t,n){for(var i=[],r=[],o=0;o<e.length;){var a=t?e[o][t]:e[o];M(r,a)<0&&i.push(e[o]),r[o]=a,o++}return n&&(i=t?i.sort((function(e,n){return e[t]>n[t]})):i.sort()),i}function R(e,t){for(var n,i,r=t[0].toUpperCase()+t.slice(1),o=0;o<u.length;){if((i=(n=u[o])?n+r:t)in e)return i;o++}return s}var A=1;function O(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||r}var N="ontouchstart"in r,L=R(r,"PointerEvent")!==s,z=N&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),D="touch",I="mouse",$=["x","y"],F=["clientX","clientY"];function H(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){b(e.options.enable,[e])&&n.handler(t)},this.init()}function G(e,t,n){var i=n.pointers.length,r=n.changedPointers.length,o=1&t&&i-r==0,a=12&t&&i-r==0;n.isFirst=!!o,n.isFinal=!!a,o&&(e.session={}),n.eventType=t,function(e,t){var n=e.session,i=t.pointers,r=i.length;n.firstInput||(n.firstInput=U(t)),r>1&&!n.firstMultiple?n.firstMultiple=U(t):1===r&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,c=a?a.center:o.center,u=t.center=W(i);t.timeStamp=d(),t.deltaTime=t.timeStamp-o.timeStamp,t.angle=X(c,u),t.distance=Y(c,u),function(e,t){var n=t.center,i=e.offsetDelta||{},r=e.prevDelta||{},o=e.prevInput||{};1!==t.eventType&&4!==o.eventType||(r=e.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=e.offsetDelta={x:n.x,y:n.y}),t.deltaX=r.x+(n.x-i.x),t.deltaY=r.y+(n.y-i.y)}(n,t),t.offsetDirection=q(t.deltaX,t.deltaY);var l,p,f=V(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=f.x,t.overallVelocityY=f.y,t.overallVelocity=h(f.x)>h(f.y)?f.x:f.y,t.scale=a?(l=a.pointers,Y((p=i)[0],p[1],F)/Y(l[0],l[1],F)):1,t.rotation=a?function(e,t){return X(t[1],t[0],F)+X(e[1],e[0],F)}(a.pointers,i):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,function(e,t){var n,i,r,o,a=e.lastInterval||t,c=t.timeStamp-a.timeStamp;if(8!=t.eventType&&(c>25||a.velocity===s)){var u=t.deltaX-a.deltaX,l=t.deltaY-a.deltaY,p=V(c,u,l);i=p.x,r=p.y,n=h(p.x)>h(p.y)?p.x:p.y,o=q(u,l),e.lastInterval=t}else n=a.velocity,i=a.velocityX,r=a.velocityY,o=a.direction;t.velocity=n,t.velocityX=i,t.velocityY=r,t.direction=o}(n,t);var v=e.element;T(t.srcEvent.target,v)&&(v=t.srcEvent.target),t.target=v}(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function U(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:p(e.pointers[n].clientX),clientY:p(e.pointers[n].clientY)},n++;return{timeStamp:d(),pointers:t,center:W(t),deltaX:e.deltaX,deltaY:e.deltaY}}function W(e){var t=e.length;if(1===t)return{x:p(e[0].clientX),y:p(e[0].clientY)};for(var n=0,i=0,r=0;r<t;)n+=e[r].clientX,i+=e[r].clientY,r++;return{x:p(n/t),y:p(i/t)}}function V(e,t,n){return{x:t/e||0,y:n/e||0}}function q(e,t){return e===t?1:h(e)>=h(t)?e<0?2:4:t<0?8:16}function Y(e,t,n){n||(n=$);var i=t[n[0]]-e[n[0]],r=t[n[1]]-e[n[1]];return Math.sqrt(i*i+r*r)}function X(e,t,n){n||(n=$);var i=t[n[0]]-e[n[0]],r=t[n[1]]-e[n[1]];return 180*Math.atan2(r,i)/Math.PI}H.prototype={handler:function(){},init:function(){this.evEl&&S(this.element,this.evEl,this.domHandler),this.evTarget&&S(this.target,this.evTarget,this.domHandler),this.evWin&&S(O(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&k(this.element,this.evEl,this.domHandler),this.evTarget&&k(this.target,this.evTarget,this.domHandler),this.evWin&&k(O(this.element),this.evWin,this.domHandler)}};var K={mousedown:1,mousemove:2,mouseup:4},Z="mousedown",J="mousemove mouseup";function Q(){this.evEl=Z,this.evWin=J,this.pressed=!1,H.apply(this,arguments)}_(Q,H,{handler:function(e){var t=K[e.type];1&t&&0===e.button&&(this.pressed=!0),2&t&&1!==e.which&&(t=4),this.pressed&&(4&t&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:I,srcEvent:e}))}});var ee={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},te={2:D,3:"pen",4:I,5:"kinect"},ne="pointerdown",ie="pointermove pointerup pointercancel";function re(){this.evEl=ne,this.evWin=ie,H.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}r.MSPointerEvent&&!r.PointerEvent&&(ne="MSPointerDown",ie="MSPointerMove MSPointerUp MSPointerCancel"),_(re,H,{handler:function(e){var t=this.store,n=!1,i=e.type.toLowerCase().replace("ms",""),r=ee[i],o=te[e.pointerType]||e.pointerType,a=o==D,s=M(t,e.pointerId,"pointerId");1&r&&(0===e.button||a)?s<0&&(t.push(e),s=t.length-1):12&r&&(n=!0),s<0||(t[s]=e,this.callback(this.manager,r,{pointers:t,changedPointers:[e],pointerType:o,srcEvent:e}),n&&t.splice(s,1))}});var oe={touchstart:1,touchmove:2,touchend:4,touchcancel:8},ae="touchstart",se="touchstart touchmove touchend touchcancel";function ce(){this.evTarget=ae,this.evWin=se,this.started=!1,H.apply(this,arguments)}function ue(e,t){var n=j(e.touches),i=j(e.changedTouches);return 12&t&&(n=B(n.concat(i),"identifier",!0)),[n,i]}_(ce,H,{handler:function(e){var t=oe[e.type];if(1===t&&(this.started=!0),this.started){var n=ue.call(this,e,t);12&t&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:D,srcEvent:e})}}});var le={touchstart:1,touchmove:2,touchend:4,touchcancel:8},pe="touchstart touchmove touchend touchcancel";function he(){this.evTarget=pe,this.targetIds={},H.apply(this,arguments)}function de(e,t){var n=j(e.touches),i=this.targetIds;if(3&t&&1===n.length)return i[n[0].identifier]=!0,[n,n];var r,o,a=j(e.changedTouches),s=[],c=this.target;if(o=n.filter((function(e){return T(e.target,c)})),1===t)for(r=0;r<o.length;)i[o[r].identifier]=!0,r++;for(r=0;r<a.length;)i[a[r].identifier]&&s.push(a[r]),12&t&&delete i[a[r].identifier],r++;return s.length?[B(o.concat(s),"identifier",!0),s]:void 0}function fe(){H.apply(this,arguments);var e=w(this.handler,this);this.touch=new he(this.manager,e),this.mouse=new Q(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function ve(e,t){1&e?(this.primaryTouch=t.changedPointers[0].identifier,ye.call(this,t)):12&e&&ye.call(this,t)}function ye(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var i=this.lastTouches;setTimeout((function(){var e=i.indexOf(n);e>-1&&i.splice(e,1)}),2500)}}function ge(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var r=this.lastTouches[i],o=Math.abs(t-r.x),a=Math.abs(n-r.y);if(o<=25&&a<=25)return!0}return!1}_(he,H,{handler:function(e){var t=le[e.type],n=de.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:D,srcEvent:e})}}),_(fe,H,{handler:function(e,t,n){var i=n.pointerType==D,r=n.pointerType==I;if(!(r&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(i)ve.call(this,t,n);else if(r&&ge.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var me=R(l.style,"touchAction"),xe=me!==s,_e="compute",we="auto",be="manipulation",Ee="none",Se="pan-x",ke="pan-y",Te=function(){if(!xe)return!1;var e={},t=r.CSS&&r.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){e[n]=!t||r.CSS.supports("touch-action",n)})),e}();function Pe(e,t){this.manager=e,this.set(t)}Pe.prototype={set:function(e){e==_e&&(e=this.compute()),xe&&this.manager.element.style&&Te[e]&&(this.manager.element.style[me]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return y(this.manager.recognizers,(function(t){b(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))})),function(e){if(P(e,Ee))return Ee;var t=P(e,Se),n=P(e,ke);return t&&n?Ee:t||n?t?Se:ke:P(e,be)?be:we}(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var i=this.actions,r=P(i,Ee)&&!Te.none,o=P(i,ke)&&!Te["pan-y"],a=P(i,Se)&&!Te["pan-x"];if(r){var s=1===e.pointers.length,c=e.distance<2,u=e.deltaTime<250;if(s&&c&&u)return}if(!a||!o)return r||o&&6&n||a&&24&n?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var Ce=32;function Me(e){this.options=c({},this.defaults,e||{}),this.id=A++,this.manager=null,this.options.enable=E(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function je(e){return 16&e?"cancel":8&e?"end":4&e?"move":2&e?"start":""}function Be(e){return 16==e?"down":8==e?"up":2==e?"left":4==e?"right":""}function Re(e,t){var n=t.manager;return n?n.get(e):e}function Ae(){Me.apply(this,arguments)}function Oe(){Ae.apply(this,arguments),this.pX=null,this.pY=null}function Ne(){Ae.apply(this,arguments)}function Le(){Me.apply(this,arguments),this._timer=null,this._input=null}function ze(){Ae.apply(this,arguments)}function De(){Ae.apply(this,arguments)}function Ie(){Me.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function $e(e,t){return(t=t||{}).recognizers=E(t.recognizers,$e.defaults.preset),new Fe(e,t)}function Fe(e,t){this.options=c({},$e.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=new(this.options.inputClass||(L?re:z?he:N?fe:Q))(this,G),this.touchAction=new Pe(this,this.options.touchAction),He(this,!0),y(this.options.recognizers,(function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])}),this)}function He(e,t){var n,i=e.element;i.style&&(y(e.options.cssProps,(function(r,o){n=R(i.style,o),t?(e.oldCssProps[n]=i.style[n],i.style[n]=r):i.style[n]=e.oldCssProps[n]||""})),t||(e.oldCssProps={}))}Me.prototype={defaults:{},set:function(e){return c(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(v(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=Re(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return v(e,"dropRecognizeWith",this)||(e=Re(e,this),delete this.simultaneous[e.id]),this},requireFailure:function(e){if(v(e,"requireFailure",this))return this;var t=this.requireFail;return-1===M(t,e=Re(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(v(e,"dropRequireFailure",this))return this;e=Re(e,this);var t=M(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,n=this.state;function i(n){t.manager.emit(n,e)}n<8&&i(t.options.event+je(n)),i(t.options.event),e.additionalEvent&&i(e.additionalEvent),n>=8&&i(t.options.event+je(n))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=Ce},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(33&this.requireFail[e].state))return!1;e++}return!0},recognize:function(e){var t=c({},e);if(!b(this.options.enable,[this,t]))return this.reset(),void(this.state=Ce);56&this.state&&(this.state=1),this.state=this.process(t),30&this.state&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},_(Ae,Me,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,i=6&t,r=this.attrTest(e);return i&&(8&n||!r)?16|t:i||r?4&n?8|t:2&t?4|t:2:Ce}}),_(Oe,Ae,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var e=this.options.direction,t=[];return 6&e&&t.push(ke),24&e&&t.push(Se),t},directionTest:function(e){var t=this.options,n=!0,i=e.distance,r=e.direction,o=e.deltaX,a=e.deltaY;return r&t.direction||(6&t.direction?(r=0===o?1:o<0?2:4,n=o!=this.pX,i=Math.abs(e.deltaX)):(r=0===a?1:a<0?8:16,n=a!=this.pY,i=Math.abs(e.deltaY))),e.direction=r,n&&i>t.threshold&&r&t.direction},attrTest:function(e){return Ae.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=Be(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),_(Ne,Ae,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Ee]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),_(Le,Me,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[we]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,i=e.distance<t.threshold,r=e.deltaTime>t.time;if(this._input=e,!i||!n||12&e.eventType&&!r)this.reset();else if(1&e.eventType)this.reset(),this._timer=f((function(){this.state=8,this.tryEmit()}),t.time,this);else if(4&e.eventType)return 8;return Ce},reset:function(){clearTimeout(this._timer)},emit:function(e){8===this.state&&(e&&4&e.eventType?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=d(),this.manager.emit(this.options.event,this._input)))}}),_(ze,Ae,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Ee]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)}}),_(De,Ae,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return Oe.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return 30&n?t=e.overallVelocity:6&n?t=e.overallVelocityX:24&n&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&h(t)>this.options.velocity&&4&e.eventType},emit:function(e){var t=Be(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),_(Ie,Me,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[be]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,i=e.distance<t.threshold,r=e.deltaTime<t.time;if(this.reset(),1&e.eventType&&0===this.count)return this.failTimeout();if(i&&r&&n){if(4!=e.eventType)return this.failTimeout();var o=!this.pTime||e.timeStamp-this.pTime<t.interval,a=!this.pCenter||Y(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,a&&o?this.count+=1:this.count=1,this._input=e,0==this.count%t.taps)return this.hasRequireFailures()?(this._timer=f((function(){this.state=8,this.tryEmit()}),t.interval,this),2):8}return Ce},failTimeout:function(){return this._timer=f((function(){this.state=Ce}),this.options.interval,this),Ce},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),$e.VERSION="2.0.7",$e.defaults={domEvents:!1,touchAction:_e,enable:!0,inputTarget:null,inputClass:null,preset:[[ze,{enable:!1}],[Ne,{enable:!1},["rotate"]],[De,{direction:6}],[Oe,{direction:6},["swipe"]],[Ie],[Ie,{event:"doubletap",taps:2},["tap"]],[Le]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Fe.prototype={set:function(e){return c(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){var n;this.touchAction.preventDefaults(e);var i=this.recognizers,r=t.curRecognizer;(!r||r&&8&r.state)&&(r=t.curRecognizer=null);for(var o=0;o<i.length;)n=i[o],2===t.stopped||r&&n!=r&&!n.canRecognizeWith(r)?n.reset():n.recognize(e),!r&&14&n.state&&(r=t.curRecognizer=n),o++}},get:function(e){if(e instanceof Me)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(v(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(v(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=M(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(e!==s&&t!==s){var n=this.handlers;return y(C(e),(function(e){n[e]=n[e]||[],n[e].push(t)})),this}},off:function(e,t){if(e!==s){var n=this.handlers;return y(C(e),(function(e){t?n[e]&&n[e].splice(M(n[e],t),1):delete n[e]})),this}},emit:function(e,t){this.options.domEvents&&function(e,t){var n=o.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](t),i++}},destroy:function(){this.element&&He(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},c($e,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:Ce,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:Fe,Input:H,TouchAction:Pe,TouchInput:he,MouseInput:Q,PointerEventInput:re,TouchMouseInput:fe,SingleTouchInput:ce,Recognizer:Me,AttrRecognizer:Ae,Tap:Ie,Pan:Oe,Swipe:De,Pinch:Ne,Rotate:ze,Press:Le,on:S,off:k,each:y,merge:x,extend:m,assign:c,inherit:_,bindFn:w,prefixed:R}),(void 0!==r?r:"undefined"!=typeof self?self:{}).Hammer=$e,(i=function(){return $e}.call(t,n,t,e))===s||(e.exports=i)}(window,document)},717:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},235:(e,t,n)=>{e.exports=n(302),e.exports.Collection=n(48)},48:e=>{"use strict";e.exports.extend=function(e,t,n,i){var r=n.inverse;return Object.defineProperty(e,"remove",{value:function(e){var n=this.indexOf(e);return-1!==n&&(this.splice(n,1),t.unset(e,r,i)),e}}),Object.defineProperty(e,"contains",{value:function(e){return-1!==this.indexOf(e)}}),Object.defineProperty(e,"add",{value:function(e,n){var o=this.indexOf(e);if(void 0===n){if(-1!==o)return;n=this.length}-1!==o&&this.splice(o,1),this.splice(n,0,e),-1===o&&t.set(e,r,i)}}),Object.defineProperty(e,"__refs_collection",{value:!0}),e},e.exports.isExtended=function(e){return!0===e.__refs_collection}},302:(e,t,n)=>{"use strict";var i=n(48);function r(e,t,n){var r=i.extend(n[t.name]||[],e,t,n);Object.defineProperty(n,t.name,{enumerable:t.enumerable,value:r}),r.length&&r.forEach((function(i){e.set(i,t.inverse,n)}))}function o(e,t){if(!(this instanceof o))return new o(e,t);e.inverse=t,t.inverse=e,this.props={},this.props[e.name]=e,this.props[t.name]=t}o.prototype.bind=function(e,t){if("string"==typeof t){if(!this.props[t])throw new Error("no property <"+t+"> in ref");t=this.props[t]}t.collection?r(this,t,e):function(e,t,n){var i=t.inverse,r=n[t.name];Object.defineProperty(n,t.name,{configurable:t.configurable,enumerable:t.enumerable,get:function(){return r},set:function(t){if(t!==r){var o=r;r=null,o&&e.unset(o,i,n),r=t,e.set(r,i,n)}}})}(this,t,e)},o.prototype.ensureRefsCollection=function(e,t){var n=e[t.name];return i.isExtended(n)||r(this,t,e),n},o.prototype.ensureBound=function(e,t){(function(e,t){return Object.prototype.hasOwnProperty.call(e,t.name||t)})(e,t)||this.bind(e,t)},o.prototype.unset=function(e,t,n){e&&(this.ensureBound(e,t),t.collection?this.ensureRefsCollection(e,t).remove(n):e[t.name]=void 0)},o.prototype.set=function(e,t,n){e&&(this.ensureBound(e,t),t.collection?this.ensureRefsCollection(e,t).add(n):e[t.name]=n)},e.exports=o},720:e=>{"use strict";var t=/,?([a-z]),?/gi,n=parseFloat,i=Math,r=i.PI,o=i.min,a=i.max,s=i.pow,c=i.abs,u=/([a-z])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?[\s]*,?[\s]*)+)/gi,l=/(-?\d*\.?\d*(?:e[-+]?\d+)?)[\s]*,?[\s]*/gi,p=Array.isArray||function(e){return e instanceof Array};function h(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function d(e){if("function"==typeof e||Object(e)!==e)return e;var t=new e.constructor;for(var n in e)h(e,n)&&(t[n]=d(e[n]));return t}function f(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return e.push(e.splice(n,1)[0])}function v(e){var t=v.ps=v.ps||{};return t[e]?t[e].sleep=100:t[e]={sleep:100},setTimeout((function(){for(var n in t)h(t,n)&&n!=e&&(t[n].sleep--,!t[n].sleep&&delete t[n])})),t[e]}function y(e,t,n,i){return 1===arguments.length&&(t=e.y,n=e.width,i=e.height,e=e.x),{x:e,y:t,width:n,height:i,x2:e+n,y2:t+i}}function g(){return this.join(",").replace(t,"$1")}function m(e){var t=d(e);return t.toString=g,t}function x(e,t,n,i,r,o,a,c,u){var l=1-u,p=s(l,3),h=s(l,2),d=u*u*u,f=p*t+3*h*u*i+3*l*u*u*o+d*c;return{x:k(p*e+3*h*u*n+3*l*u*u*r+d*a),y:k(f)}}function _(e){var t=R.apply(null,e);return y(t.x0,t.y0,t.x1-t.x0,t.y1-t.y0)}function w(e,t,n){return t>=e.x&&t<=e.x+e.width&&n>=e.y&&n<=e.y+e.height}function b(e,t,n,i,r){return e*(e*(-3*t+9*n-9*i+3*r)+6*t-12*n+6*i)-3*t+3*n}function E(e,t,n,r,o,a,s,c,u){null==u&&(u=1);for(var l=(u=u>1?1:u<0?0:u)/2,p=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],h=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],d=0,f=0;f<12;f++){var v=l*p[f]+l,y=b(v,e,n,o,s),g=b(v,t,r,a,c),m=y*y+g*g;d+=h[f]*i.sqrt(m)}return l*d}function S(e,t,n,i,r,s,c,u){if(!(a(e,n)<o(r,c)||o(e,n)>a(r,c)||a(t,i)<o(s,u)||o(t,i)>a(s,u))){var l=(e*i-t*n)*(s-u)-(t-i)*(r*u-s*c),p=(e-n)*(s-u)-(t-i)*(r-c);if(p){var h=k(((e*i-t*n)*(r-c)-(e-n)*(r*u-s*c))/p),d=k(l/p),f=+h.toFixed(2),v=+d.toFixed(2);if(!(f<+o(e,n).toFixed(2)||f>+a(e,n).toFixed(2)||f<+o(r,c).toFixed(2)||f>+a(r,c).toFixed(2)||v<+o(t,i).toFixed(2)||v>+a(t,i).toFixed(2)||v<+o(s,u).toFixed(2)||v>+a(s,u).toFixed(2)))return{x:h,y:d}}}}function k(e){return Math.round(1e11*e)/1e11}function T(e,t,n){if(i=_(e),r=_(t),i=y(i),!(w(r=y(r),i.x,i.y)||w(r,i.x2,i.y)||w(r,i.x,i.y2)||w(r,i.x2,i.y2)||w(i,r.x,r.y)||w(i,r.x2,r.y)||w(i,r.x,r.y2)||w(i,r.x2,r.y2)||(i.x<r.x2&&i.x>r.x||r.x<i.x2&&r.x>i.x)&&(i.y<r.y2&&i.y>r.y||r.y<i.y2&&r.y>i.y)))return n?0:[];for(var i,r,o=E.apply(0,e),a=E.apply(0,t),s=C(e)?1:~~(o/5)||1,u=C(t)?1:~~(a/5)||1,l=[],p=[],h={},d=n?0:[],f=0;f<s+1;f++){var v=x.apply(0,e.concat(f/s));l.push({x:v.x,y:v.y,t:f/s})}for(f=0;f<u+1;f++)v=x.apply(0,t.concat(f/u)),p.push({x:v.x,y:v.y,t:f/u});for(f=0;f<s;f++)for(var g=0;g<u;g++){var m,b=l[f],k=l[f+1],T=p[g],P=p[g+1],M=c(k.x-b.x)<.01?"y":"x",j=c(P.x-T.x)<.01?"y":"x",B=S(b.x,b.y,k.x,k.y,T.x,T.y,P.x,P.y);if(B){if(h[m=B.x.toFixed(9)+"#"+B.y.toFixed(9)])continue;h[m]=!0;var R=b.t+c((B[M]-b[M])/(k[M]-b[M]))*(k.t-b.t),A=T.t+c((B[j]-T[j])/(P[j]-T[j]))*(P.t-T.t);R>=0&&R<=1&&A>=0&&A<=1&&(n?d++:d.push({x:B.x,y:B.y,t1:R,t2:A}))}}return d}function P(e){var t=v(e);if(t.abs)return m(t.abs);if(p(e)&&p(e&&e[0])||(e=function(e){if(!e)return null;var t=v(e);if(t.arr)return d(t.arr);var n={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},i=[];return p(e)&&p(e[0])&&(i=d(e)),i.length||String(e).replace(u,(function(e,t,r){var o=[],a=t.toLowerCase();for(r.replace(l,(function(e,t){t&&o.push(+t)})),"m"==a&&o.length>2&&(i.push([t].concat(o.splice(0,2))),a="l",t="m"==t?"l":"L");o.length>=n[a]&&(i.push([t].concat(o.splice(0,n[a]))),n[a]););})),i.toString=v.toString,t.arr=d(i),i}(e)),!e||!e.length)return[["M",0,0]];var n,i=[],r=0,o=0,a=0,s=0,c=0;"M"==e[0][0]&&(a=r=+e[0][1],s=o=+e[0][2],c++,i[0]=["M",r,o]);for(var h,f,y=c,x=e.length;y<x;y++){if(i.push(h=[]),(n=(f=e[y])[0])!=n.toUpperCase())switch(h[0]=n.toUpperCase(),h[0]){case"A":h[1]=f[1],h[2]=f[2],h[3]=f[3],h[4]=f[4],h[5]=f[5],h[6]=+f[6]+r,h[7]=+f[7]+o;break;case"V":h[1]=+f[1]+o;break;case"H":h[1]=+f[1]+r;break;case"M":a=+f[1]+r,s=+f[2]+o;default:for(var _=1,w=f.length;_<w;_++)h[_]=+f[_]+(_%2?r:o)}else for(var b=0,E=f.length;b<E;b++)h[b]=f[b];switch(n=n.toUpperCase(),h[0]){case"Z":r=+a,o=+s;break;case"H":r=h[1];break;case"V":o=h[1];break;case"M":a=h[h.length-2],s=h[h.length-1];default:r=h[h.length-2],o=h[h.length-1]}}return i.toString=g,t.abs=m(i),i}function C(e){return e[0]===e[2]&&e[1]===e[3]&&e[4]===e[6]&&e[5]===e[7]}function M(e,t,n,i){return[e,t,n,i,n,i]}function j(e,t,n,i,r,o){var a=1/3,s=2/3;return[a*e+s*n,a*t+s*i,a*r+s*n,a*o+s*i,r,o]}function B(e,t,n,o,a,s,u,l,p,d){var v,y,g=120*r/180,m=r/180*(+a||0),x=[],_=(y=function(e,t,n){return{x:e*i.cos(n)-t*i.sin(n),y:e*i.sin(n)+t*i.cos(n)}},function e(){var t=Array.prototype.slice.call(arguments,0),n=t.join("␀"),i=e.cache=e.cache||{},r=e.count=e.count||[];return h(i,n)?(f(r,n),i[n]):(r.length>=1e3&&delete i[r.shift()],r.push(n),i[n]=y.apply(0,t),i[n])});if(d)M=d[0],j=d[1],P=d[2],C=d[3];else{e=(v=_(e,t,-m)).x,t=v.y;var w=(e-(l=(v=_(l,p,-m)).x))/2,b=(t-(p=v.y))/2,E=w*w/(n*n)+b*b/(o*o);E>1&&(n*=E=i.sqrt(E),o*=E);var S=n*n,k=o*o,T=(s==u?-1:1)*i.sqrt(c((S*k-S*b*b-k*w*w)/(S*b*b+k*w*w))),P=T*n*b/o+(e+l)/2,C=T*-o*w/n+(t+p)/2,M=i.asin(((t-C)/o).toFixed(9)),j=i.asin(((p-C)/o).toFixed(9));(M=e<P?r-M:M)<0&&(M=2*r+M),(j=l<P?r-j:j)<0&&(j=2*r+j),u&&M>j&&(M-=2*r),!u&&j>M&&(j-=2*r)}var R=j-M;if(c(R)>g){var A=j,O=l,N=p;j=M+g*(u&&j>M?1:-1),x=B(l=P+n*i.cos(j),p=C+o*i.sin(j),n,o,a,0,u,O,N,[j,A,P,C])}R=j-M;var L=i.cos(M),z=i.sin(M),D=i.cos(j),I=i.sin(j),$=i.tan(R/4),F=4/3*n*$,H=4/3*o*$,G=[e,t],U=[e+F*z,t-H*L],W=[l+F*I,p-H*D],V=[l,p];if(U[0]=2*G[0]-U[0],U[1]=2*G[1]-U[1],d)return[U,W,V].concat(x);for(var q=[],Y=0,X=(x=[U,W,V].concat(x).join().split(",")).length;Y<X;Y++)q[Y]=Y%2?_(x[Y-1],x[Y],m).y:_(x[Y],x[Y+1],m).x;return q}function R(e,t,n,r,s,u,l,p){for(var h,d,f,v,y,g,m,x,_=[],w=[[],[]],b=0;b<2;++b)if(0==b?(d=6*e-12*n+6*s,h=-3*e+9*n-9*s+3*l,f=3*n-3*e):(d=6*t-12*r+6*u,h=-3*t+9*r-9*u+3*p,f=3*r-3*t),c(h)<1e-12){if(c(d)<1e-12)continue;0<(v=-f/d)&&v<1&&_.push(v)}else m=d*d-4*f*h,x=i.sqrt(m),m<0||(0<(y=(-d+x)/(2*h))&&y<1&&_.push(y),0<(g=(-d-x)/(2*h))&&g<1&&_.push(g));for(var E,S=_.length,k=S;S--;)E=1-(v=_[S]),w[0][S]=E*E*E*e+3*E*E*v*n+3*E*v*v*s+v*v*v*l,w[1][S]=E*E*E*t+3*E*E*v*r+3*E*v*v*u+v*v*v*p;return w[0][k]=e,w[1][k]=t,w[0][k+1]=l,w[1][k+1]=p,w[0].length=w[1].length=k+2,{x0:o.apply(0,w[0]),y0:o.apply(0,w[1]),x1:a.apply(0,w[0]),y1:a.apply(0,w[1])}}function A(e){var t=v(e);if(t.curve)return m(t.curve);for(var i=P(e),r={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o=function(e,t,n){var i,r;if(!e)return["C",t.x,t.y,t.x,t.y,t.x,t.y];switch(!(e[0]in{T:1,Q:1})&&(t.qx=t.qy=null),e[0]){case"M":t.X=e[1],t.Y=e[2];break;case"A":e=["C"].concat(B.apply(0,[t.x,t.y].concat(e.slice(1))));break;case"S":"C"==n||"S"==n?(i=2*t.x-t.bx,r=2*t.y-t.by):(i=t.x,r=t.y),e=["C",i,r].concat(e.slice(1));break;case"T":"Q"==n||"T"==n?(t.qx=2*t.x-t.qx,t.qy=2*t.y-t.qy):(t.qx=t.x,t.qy=t.y),e=["C"].concat(j(t.x,t.y,t.qx,t.qy,e[1],e[2]));break;case"Q":t.qx=e[1],t.qy=e[2],e=["C"].concat(j(t.x,t.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"].concat(M(t.x,t.y,e[1],e[2]));break;case"H":e=["C"].concat(M(t.x,t.y,e[1],t.y));break;case"V":e=["C"].concat(M(t.x,t.y,t.x,e[1]));break;case"Z":e=["C"].concat(M(t.x,t.y,t.X,t.Y))}return e},a=function(e,t){if(e[t].length>7){e[t].shift();for(var n=e[t];n.length;)s[t]="A",e.splice(t++,0,["C"].concat(n.splice(0,6)));e.splice(t,1),p=i.length}},s=[],c="",u="",l=0,p=i.length;l<p;l++){i[l]&&(c=i[l][0]),"C"!=c&&(s[l]=c,l&&(u=s[l-1])),i[l]=o(i[l],r,u),"A"!=s[l]&&"C"==c&&(s[l]="C"),a(i,l);var h=i[l],d=h.length;r.x=h[d-2],r.y=h[d-1],r.bx=n(h[d-4])||r.x,r.by=n(h[d-3])||r.y}return t.curve=m(i),i}e.exports=function(e,t,n){e=A(e),t=A(t);for(var i,r,o,a,s,c,u,l,p,h,d=n?0:[],f=0,v=e.length;f<v;f++){var y=e[f];if("M"==y[0])i=s=y[1],r=c=y[2];else{"C"==y[0]?(p=[i,r].concat(y.slice(1)),i=p[6],r=p[7]):(p=[i,r,i,r,s,c,s,c],i=s,r=c);for(var g=0,m=t.length;g<m;g++){var x=t[g];if("M"==x[0])o=u=x[1],a=l=x[2];else{"C"==x[0]?(h=[o,a].concat(x.slice(1)),o=h[6],a=h[7]):(h=[o,a,o,a,u,l,u,l],o=u,a=l);var _=T(p,h,n);if(n)d+=_;else{for(var w=0,b=_.length;w<b;w++)_[w].segment1=f,_[w].segment2=g,_[w].bez1=p,_[w].bez2=h;d=d.concat(_)}}}}}return d}}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={exports:{}};return e[i].call(o.exports,o,o.exports,n),o.exports}return n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(974)})()}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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UUFBU3EzRyxHQUdwRXAzRyxFQUFPRCxlQ3BCZnEzRyxFQUFvQng4RCxFQUFLNTZDLElBQ3hCLElBQUlzd0IsRUFBU3R3QixHQUFVQSxFQUFPdzNHLFdBQzdCLElBQU94M0csRUFBaUIsUUFDeEIsSUFBTSxFQUVQLE9BREFvM0csRUFBb0J0d0csRUFBRXdwQixFQUFRLENBQUVqVCxFQUFHaVQsSUFDNUJBLEdDTFI4bUYsRUFBb0J0d0csRUFBSSxDQUFDL0csRUFBU29pRSxLQUNqQyxJQUFJLElBQUk1OUQsS0FBTzQ5RCxFQUNYaTFDLEVBQW9Cam5HLEVBQUVneUQsRUFBWTU5RCxLQUFTNnlHLEVBQW9Cam5HLEVBQUVwUSxFQUFTd0UsSUFDNUV6QyxPQUFPZ2lCLGVBQWUvakIsRUFBU3dFLEVBQUssQ0FBRWlmLFlBQVksRUFBTXRoQixJQUFLaWdFLEVBQVc1OUQsTUNKM0U2eUcsRUFBb0I5bkcsRUFBSSxXQUN2QixHQUEwQixpQkFBZm1vRyxXQUF5QixPQUFPQSxXQUMzQyxJQUNDLE9BQU9qMUcsTUFBUSxJQUFJd1QsU0FBUyxjQUFiLEdBQ2QsTUFBTy9PLEdBQ1IsR0FBc0IsaUJBQVgwRSxPQUFxQixPQUFPQSxRQUxqQixHQ0F4QnlyRyxFQUFvQmpuRyxFQUFJLENBQUN2TSxFQUFLK0UsSUFBVTdHLE9BQU9hLFVBQVVaLGVBQWVDLEtBQUs0QixFQUFLK0UsR0NDbEZ5dUcsRUFBb0JqK0UsRUFBS3A1QixJQUNILG9CQUFYMjNHLFFBQTBCQSxPQUFPQyxhQUMxQzcxRyxPQUFPZ2lCLGVBQWUvakIsRUFBUzIzRyxPQUFPQyxZQUFhLENBQUV2MUcsTUFBTyxXQUU3RE4sT0FBT2dpQixlQUFlL2pCLEVBQVMsYUFBYyxDQUFFcUMsT0FBTyxLQ0Y3QmcxRyxFQUFvQiIsInNvdXJjZXMiOlsid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvaWRzL2Rpc3QvaW5kZXguZXNtLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvbWluLWRhc2gvZGlzdC9pbmRleC5lc20uanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9taW4tZG9tL2Rpc3QvaW5kZXguZXNtLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvdGlueS1zdmcvZGlzdC9pbmRleC5lc20uanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWRpL2Rpc3QvaW5kZXguZXNtLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZHJhdy9CYXNlUmVuZGVyZXIuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi91dGlsL1JlbmRlclV0aWwuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi91dGlsL0VsZW1lbnRzLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZHJhdy9EZWZhdWx0UmVuZGVyZXIuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9kcmF3L2luZGV4LmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZHJhdy9TdHlsZXMuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi91dGlsL0NvbGxlY3Rpb25zLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvY29yZS9DYW52YXMuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9jb3JlL0VsZW1lbnRSZWdpc3RyeS5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL21vZGVsL2luZGV4LmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvY29yZS9FbGVtZW50RmFjdG9yeS5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2NvcmUvRXZlbnRCdXMuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi91dGlsL0dyYXBoaWNzVXRpbC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL3V0aWwvU3ZnVHJhbnNmb3JtVXRpbC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2NvcmUvR3JhcGhpY3NGYWN0b3J5LmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvY29yZS9pbmRleC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL0RpYWdyYW0uanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9tb2RkbGUvZGlzdC9pbmRleC5lc20uanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9zYXhlbi9kaXN0L2luZGV4LmVzbS5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL21vZGRsZS14bWwvZGlzdC9pbmRleC5lc20uanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL2xpYi9tb2RkbGUvTW9kZGxlLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9saWIvbW9kZGxlL2luZGV4LmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9saWIvaW1wb3J0L1V0aWwuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL2xpYi9pbXBvcnQvUG9zdGl0VHJlZVdhbGtlci5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbGliL0Jhc2VWaWV3ZXIuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL2xpYi9pbXBvcnQvSW1wb3J0ZXIuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL2xpYi9CYXNlTW9kZWxlci5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbGliL3V0aWwvTW9kZWxVdGlsLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9saWIvZmVhdHVyZXMvbW9kZWxpbmcvdXRpbC9Nb2RlbGluZ1V0aWwuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL2xpYi9mZWF0dXJlcy9sYWJlbC1lZGl0aW5nL0xhYmVsVXRpbC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbGliL2RyYXcvUG9zdGl0UmVuZGVyZXJVdGlsLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9saWIvZHJhdy9Qb3N0aXRSZW5kZXJlci5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL3V0aWwvVGV4dC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbGliL2RyYXcvVGV4dFJlbmRlcmVyLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9saWIvZHJhdy9QYXRoTWFwLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9saWIvZHJhdy9pbmRleC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2kxOG4vdHJhbnNsYXRlL2luZGV4LmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvaTE4bi90cmFuc2xhdGUvdHJhbnNsYXRlLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9saWIvdXRpbC9MYWJlbFV0aWwuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL2xpYi9pbXBvcnQvUG9zdGl0SW1wb3J0ZXIuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL2xpYi9pbXBvcnQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL2xpYi9jb3JlL2luZGV4LmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvdXRpbC9FdmVudC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL3V0aWwvTW91c2UuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi91dGlsL1BsYXRmb3JtLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvaW50ZXJhY3Rpb24tZXZlbnRzL0ludGVyYWN0aW9uRXZlbnRzLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvaW50ZXJhY3Rpb24tZXZlbnRzL2luZGV4LmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvb3V0bGluZS9PdXRsaW5lLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvb3V0bGluZS9pbmRleC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL3NlbGVjdGlvbi9TZWxlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9zZWxlY3Rpb24vU2VsZWN0aW9uVmlzdWFscy5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL3NlbGVjdGlvbi9TZWxlY3Rpb25CZWhhdmlvci5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL3NlbGVjdGlvbi9pbmRleC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL3V0aWwvSWRHZW5lcmF0b3IuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9vdmVybGF5cy9PdmVybGF5cy5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL292ZXJsYXlzL2luZGV4LmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9saWIvVmlld2VyLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMva2V5Ym9hcmQvS2V5Ym9hcmRVdGlsLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMva2V5Ym9hcmQvS2V5Ym9hcmQuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9rZXlib2FyZC9LZXlib2FyZEJpbmRpbmdzLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMva2V5Ym9hcmQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9uYXZpZ2F0aW9uL2tleWJvYXJkLW1vdmUvS2V5Ym9hcmRNb3ZlLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvbmF2aWdhdGlvbi9rZXlib2FyZC1tb3ZlL2luZGV4LmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvdXRpbC9DdXJzb3IuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi91dGlsL0NsaWNrVHJhcC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL3V0aWwvUG9zaXRpb25VdGlsLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvbmF2aWdhdGlvbi9tb3ZlY2FudmFzL01vdmVDYW52YXMuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9uYXZpZ2F0aW9uL21vdmVjYW52YXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi91dGlsL01hdGguanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9uYXZpZ2F0aW9uL3pvb21zY3JvbGwvWm9vbVV0aWwuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9uYXZpZ2F0aW9uL3pvb21zY3JvbGwvWm9vbVNjcm9sbC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL25hdmlnYXRpb24vem9vbXNjcm9sbC9pbmRleC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbGliL05hdmlnYXRlZFZpZXdlci5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL3RvdWNoL1RvdWNoSW50ZXJhY3Rpb25FdmVudHMuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy90b3VjaC9Ub3VjaEZpeC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL3RvdWNoL2luZGV4LmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvbmF2aWdhdGlvbi90b3VjaC9pbmRleC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2FsaWduLWVsZW1lbnRzL0FsaWduRWxlbWVudHMuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9hbGlnbi1lbGVtZW50cy9pbmRleC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2hvdmVyLWZpeC9Ib3ZlckZpeC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2hvdmVyLWZpeC9pbmRleC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2RyYWdnaW5nL0RyYWdnaW5nLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvZHJhZ2dpbmcvaW5kZXguanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9hdXRvLXNjcm9sbC9BdXRvU2Nyb2xsLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvYXV0by1zY3JvbGwvaW5kZXguanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9ydWxlcy9SdWxlcy5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL3J1bGVzL2luZGV4LmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvdXRpbC9HZW9tZXRyeS5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL3V0aWwvTGluZUludGVyc2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2JlbmRwb2ludHMvQmVuZHBvaW50VXRpbC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2JlbmRwb2ludHMvQmVuZHBvaW50cy5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2xheW91dC9MYXlvdXRVdGlsLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvYmVuZHBvaW50cy9CZW5kcG9pbnRNb3ZlLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvYmVuZHBvaW50cy9CZW5kcG9pbnRNb3ZlUHJldmlldy5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2JlbmRwb2ludHMvQ29ubmVjdGlvblNlZ21lbnRNb3ZlLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvc25hcHBpbmcvU25hcFV0aWwuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9iZW5kcG9pbnRzL0JlbmRwb2ludFNuYXBwaW5nLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvYmVuZHBvaW50cy9pbmRleC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbGliL3V0aWwvQ29sb3JVdGlsLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9saWIvZmVhdHVyZXMvY2FudmFzLWNyZWF0ZS9DYW52YXNDcmVhdGUuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzLWRpcmVjdC1lZGl0aW5nL2xpYi9UZXh0Qm94LmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy1kaXJlY3QtZWRpdGluZy9saWIvRGlyZWN0RWRpdGluZy5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMtZGlyZWN0LWVkaXRpbmcvaW5kZXguanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL2xpYi9mZWF0dXJlcy9jYW52YXMtY3JlYXRlL2luZGV4LmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvY29ubmVjdC9Db25uZWN0LmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvY29ubmVjdC9Db25uZWN0UHJldmlldy5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2Nvbm5lY3QvaW5kZXguanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9jb25uZWN0aW9uLXByZXZpZXcvQ29ubmVjdGlvblByZXZpZXcuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9jb25uZWN0aW9uLXByZXZpZXcvaW5kZXguanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9jb250ZXh0LXBhZC9Db250ZXh0UGFkLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvY29udGV4dC1wYWQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9wcmV2aWV3LXN1cHBvcnQvUHJldmlld1N1cHBvcnQuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9wcmV2aWV3LXN1cHBvcnQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9jcmVhdGUvQ3JlYXRlLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvY3JlYXRlL0NyZWF0ZVByZXZpZXcuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9jcmVhdGUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9wb3B1cC1tZW51L1BvcHVwTWVudS5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL3BvcHVwLW1lbnUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9jbGlwYm9hcmQvQ2xpcGJvYXJkLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvY2xpcGJvYXJkL2luZGV4LmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvbW91c2UvTW91c2UuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9tb3VzZS9pbmRleC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2NvcHktcGFzdGUvQ29weVBhc3RlLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvY29weS1wYXN0ZS9pbmRleC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbGliL2ZlYXR1cmVzL2NvcHktcGFzdGUvUG9zdGl0Q29weVBhc3RlLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9saWIvZmVhdHVyZXMvY29weS1wYXN0ZS9Nb2RkbGVDb3B5LmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9saWIvZmVhdHVyZXMvY29weS1wYXN0ZS9pbmRleC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL3JlcGxhY2UvUmVwbGFjZS5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL3JlcGxhY2UvaW5kZXguanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL2xpYi9mZWF0dXJlcy9yZXBsYWNlL1Bvc3RpdFJlcGxhY2UuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL2xpYi9mZWF0dXJlcy9yZXBsYWNlL2luZGV4LmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9saWIvZmVhdHVyZXMvcG9wdXAtbWVudS9SZXBsYWNlTWVudVByb3ZpZGVyLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9saWIvZmVhdHVyZXMvcG9wdXAtbWVudS9pbmRleC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbGliL2ZlYXR1cmVzL2NvbnRleHQtcGFkL0NvbnRleHRQYWRQcm92aWRlci5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbGliL2ZlYXR1cmVzL2NvbnRleHQtcGFkL2luZGV4LmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvZWRpdG9yLWFjdGlvbnMvRWRpdG9yQWN0aW9ucy5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2VkaXRvci1hY3Rpb25zL2luZGV4LmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9saWIvZmVhdHVyZXMvZWRpdG9yLWFjdGlvbnMvUG9zdGl0RWRpdG9yQWN0aW9ucy5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbGliL2ZlYXR1cmVzL2VkaXRvci1hY3Rpb25zL2luZGV4LmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9saWIvdXRpbC9GaWxlVXRpbC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbGliL3V0aWwvU2NyZWVuVXRpbC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbGliL2ZlYXR1cmVzL2ltYWdlLXNlbGVjdGlvbi9JbWFnZVNlbGVjdGlvbi5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbGliL2ZlYXR1cmVzL2ltYWdlLXNlbGVjdGlvbi9pbmRleC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbGliL2ZlYXR1cmVzL2tleWJvYXJkL1Bvc3RpdEtleWJvYXJkQmluZGluZ3MuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL2xpYi9mZWF0dXJlcy9rZXlib2FyZC9pbmRleC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2tleWJvYXJkLW1vdmUtc2VsZWN0aW9uL0tleWJvYXJkTW92ZVNlbGVjdGlvbi5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2tleWJvYXJkLW1vdmUtc2VsZWN0aW9uL2luZGV4LmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvY2hhbmdlLXN1cHBvcnQvQ2hhbmdlU3VwcG9ydC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2NoYW5nZS1zdXBwb3J0L2luZGV4LmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvcmVzaXplL1Jlc2l6ZVV0aWwuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9yZXNpemUvUmVzaXplLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvcmVzaXplL1Jlc2l6ZVByZXZpZXcuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9yZXNpemUvUmVzaXplSGFuZGxlcy5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL3Jlc2l6ZS9pbmRleC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbGliL2ZlYXR1cmVzL2xhYmVsLWVkaXRpbmcvTGFiZWxFZGl0aW5nUHJvdmlkZXIuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL2xpYi9mZWF0dXJlcy9sYWJlbC1lZGl0aW5nL0xhYmVsRWRpdGluZ1ByZXZpZXcuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL2xpYi9mZWF0dXJlcy9sYWJlbC1lZGl0aW5nL2luZGV4LmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvY29tbWFuZC9Db21tYW5kSW50ZXJjZXB0b3IuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL2xpYi9mZWF0dXJlcy9tb2RlbGluZy9iZWhhdmlvci9BZGFwdGl2ZUxhYmVsUG9zaXRpb25pbmdCZWhhdmlvci5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbGliL2ZlYXR1cmVzL21vZGVsaW5nL2JlaGF2aW9yL0FwcGVuZEJlaGF2aW9yLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9saWIvZmVhdHVyZXMvbW9kZWxpbmcvYmVoYXZpb3IvRml4SG92ZXJCZWhhdmlvci5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbGliL2ZlYXR1cmVzL21vZGVsaW5nL2JlaGF2aW9yL3V0aWwvTGluZUludGVyc2VjdC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbGliL2ZlYXR1cmVzL21vZGVsaW5nL2JlaGF2aW9yL0ltcG9ydERvY2tpbmdGaXguanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL2xpYi9mZWF0dXJlcy9tb2RlbGluZy9iZWhhdmlvci91dGlsL0dlb21ldHJpY1V0aWwuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL2xpYi9mZWF0dXJlcy9tb2RlbGluZy9iZWhhdmlvci91dGlsL0xpbmVBdHRhY2htZW50VXRpbC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbGliL2ZlYXR1cmVzL21vZGVsaW5nL2JlaGF2aW9yL3V0aWwvTGFiZWxMYXlvdXRVdGlsLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvdXRpbC9BdHRhY2hVdGlsLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9saWIvZmVhdHVyZXMvbW9kZWxpbmcvYmVoYXZpb3IvTGFiZWxCZWhhdmlvci5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbGliL2ZlYXR1cmVzL21vZGVsaW5nL2JlaGF2aW9yL1JlcGxhY2VFbGVtZW50QmVoYXZpb3VyLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9saWIvZmVhdHVyZXMvbW9kZWxpbmcvYmVoYXZpb3IvVW5jbGFpbUlkQmVoYXZpb3IuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL2xpYi9mZWF0dXJlcy9tb2RlbGluZy9iZWhhdmlvci9DcmVhdGVCb2FyZEVsZW1lbnRCZWhhdmlvci5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbGliL2ZlYXR1cmVzL21vZGVsaW5nL2JlaGF2aW9yL0VtcHR5VGV4dEJveEJlaGF2aW9yLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9saWIvZmVhdHVyZXMvbW9kZWxpbmcvYmVoYXZpb3IvaW5kZXguanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9ydWxlcy9SdWxlUHJvdmlkZXIuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL2xpYi9mZWF0dXJlcy9ydWxlcy9Qb3N0aXRSdWxlcy5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbGliL2ZlYXR1cmVzL3J1bGVzL2luZGV4LmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9saWIvZmVhdHVyZXMvZGktb3JkZXJpbmcvUG9zdGl0RGlPcmRlcmluZy5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbGliL2ZlYXR1cmVzL2RpLW9yZGVyaW5nL2luZGV4LmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvb3JkZXJpbmcvT3JkZXJpbmdQcm92aWRlci5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbGliL2ZlYXR1cmVzL29yZGVyaW5nL1Bvc3RpdE9yZGVyaW5nUHJvdmlkZXIuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL2xpYi9mZWF0dXJlcy9vcmRlcmluZy9pbmRleC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2NvbW1hbmQvQ29tbWFuZFN0YWNrLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvY29tbWFuZC9pbmRleC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL3Rvb2x0aXBzL1Rvb2x0aXBzLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvdG9vbHRpcHMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi91dGlsL1JlbW92YWwuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9sYWJlbC1zdXBwb3J0L0xhYmVsU3VwcG9ydC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2xhYmVsLXN1cHBvcnQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9hdHRhY2gtc3VwcG9ydC9BdHRhY2hTdXBwb3J0LmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvYXR0YWNoLXN1cHBvcnQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy90b29sLW1hbmFnZXIvVG9vbE1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy90b29sLW1hbmFnZXIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9zcGFjZS10b29sL1NwYWNlVXRpbC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL3NwYWNlLXRvb2wvU3BhY2VUb29sLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvc3BhY2UtdG9vbC9TcGFjZVRvb2xQcmV2aWV3LmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvc3BhY2UtdG9vbC9pbmRleC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbGliL2ZlYXR1cmVzL21vZGVsaW5nL1Bvc3RpdEZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL2xpYi9mZWF0dXJlcy9tb2RlbGluZy9Qb3N0aXRVcGRhdGVyLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9saWIvZmVhdHVyZXMvbW9kZWxpbmcvRWxlbWVudEZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9tb2RlbGluZy9jbWQvQWxpZ25FbGVtZW50c0hhbmRsZXIuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9tb2RlbGluZy9jbWQvQXBwZW5kU2hhcGVIYW5kbGVyLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvbW9kZWxpbmcvY21kL0NyZWF0ZUNvbm5lY3Rpb25IYW5kbGVyLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvbW9kZWxpbmcvY21kL0NyZWF0ZUVsZW1lbnRzSGFuZGxlci5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL21vZGVsaW5nL2NtZC9DcmVhdGVTaGFwZUhhbmRsZXIuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9tb2RlbGluZy9jbWQvQ3JlYXRlTGFiZWxIYW5kbGVyLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvbW9kZWxpbmcvY21kL0RlbGV0ZUNvbm5lY3Rpb25IYW5kbGVyLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvbW9kZWxpbmcvY21kL0RlbGV0ZUVsZW1lbnRzSGFuZGxlci5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL21vZGVsaW5nL2NtZC9EZWxldGVTaGFwZUhhbmRsZXIuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9tb2RlbGluZy9jbWQvRGlzdHJpYnV0ZUVsZW1lbnRzSGFuZGxlci5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL21vZGVsaW5nL2NtZC9MYXlvdXRDb25uZWN0aW9uSGFuZGxlci5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL21vZGVsaW5nL2NtZC9Nb3ZlQ29ubmVjdGlvbkhhbmRsZXIuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9tb2RlbGluZy9jbWQvaGVscGVyL0FuY2hvcnNIZWxwZXIuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9tb2RlbGluZy9jbWQvaGVscGVyL01vdmVDbG9zdXJlLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvbW9kZWxpbmcvY21kL2hlbHBlci9Nb3ZlSGVscGVyLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvbW9kZWxpbmcvY21kL01vdmVFbGVtZW50c0hhbmRsZXIuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9tb2RlbGluZy9jbWQvTW92ZVNoYXBlSGFuZGxlci5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL21vZGVsaW5nL2NtZC9SZWNvbm5lY3RDb25uZWN0aW9uSGFuZGxlci5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL21vZGVsaW5nL2NtZC9SZXBsYWNlU2hhcGVIYW5kbGVyLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvbW9kZWxpbmcvY21kL1Jlc2l6ZVNoYXBlSGFuZGxlci5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL21vZGVsaW5nL2NtZC9TcGFjZVRvb2xIYW5kbGVyLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvbW9kZWxpbmcvY21kL1RvZ2dsZVNoYXBlQ29sbGFwc2VIYW5kbGVyLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvbW9kZWxpbmcvY21kL1VwZGF0ZUF0dGFjaG1lbnRIYW5kbGVyLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvbW9kZWxpbmcvY21kL1VwZGF0ZVdheXBvaW50c0hhbmRsZXIuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9tb2RlbGluZy9Nb2RlbGluZy5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbGliL2ZlYXR1cmVzL21vZGVsaW5nL2NtZC9VcGRhdGVQcm9wZXJ0aWVzSGFuZGxlci5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbGliL2ZlYXR1cmVzL21vZGVsaW5nL2NtZC9VcGRhdGVDYW52YXNSb290SGFuZGxlci5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbGliL2ZlYXR1cmVzL21vZGVsaW5nL2NtZC9JZENsYWltSGFuZGxlci5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbGliL2ZlYXR1cmVzL21vZGVsaW5nL2NtZC9TZXRDb2xvckhhbmRsZXIuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL2xpYi9mZWF0dXJlcy9sYWJlbC1lZGl0aW5nL2NtZC9VcGRhdGVMYWJlbEhhbmRsZXIuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL2xpYi9mZWF0dXJlcy9tb2RlbGluZy9Nb2RlbGluZy5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2xheW91dC9CYXNlTGF5b3V0ZXIuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9sYXlvdXQvQ3JvcHBpbmdDb25uZWN0aW9uRG9ja2luZy5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbGliL2ZlYXR1cmVzL21vZGVsaW5nL2luZGV4LmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvbW92ZS9Nb3ZlLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvbW92ZS9Nb3ZlUHJldmlldy5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL21vdmUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9wYWxldHRlL1BhbGV0dGUuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9wYWxldHRlL2luZGV4LmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvbGFzc28tdG9vbC9MYXNzb1Rvb2wuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9sYXNzby10b29sL2luZGV4LmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvaGFuZC10b29sL0hhbmRUb29sLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvaGFuZC10b29sL2luZGV4LmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9saWIvZmVhdHVyZXMvcGFsZXR0ZS9QYWxldHRlUHJvdmlkZXIuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL2xpYi9mZWF0dXJlcy9wYWxldHRlL2luZGV4LmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9saWIvZmVhdHVyZXMvcmVwbGFjZS1wcmV2aWV3L1Bvc3RpdFJlcGxhY2VQcmV2aWV3LmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9saWIvZmVhdHVyZXMvcmVwbGFjZS1wcmV2aWV3L2luZGV4LmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvc25hcHBpbmcvU25hcENvbnRleHQuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9zbmFwcGluZy9DcmVhdGVNb3ZlU25hcHBpbmcuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL2xpYi9mZWF0dXJlcy9zbmFwcGluZy9Qb3N0aXRDcmVhdGVNb3ZlU25hcHBpbmcuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9zbmFwcGluZy9SZXNpemVTbmFwcGluZy5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL3NuYXBwaW5nL1NuYXBwaW5nLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvc25hcHBpbmcvaW5kZXguanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL2xpYi9mZWF0dXJlcy9zbmFwcGluZy9pbmRleC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbGliL2ZlYXR1cmVzL2RyYWctZHJvcC1pbWFnZXMvRmlsZVV0aWwuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL2xpYi9mZWF0dXJlcy9kcmFnLWRyb3AtaW1hZ2VzL0RyYWdEcm9wSW1hZ2VzLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9saWIvZmVhdHVyZXMvZHJhZy1kcm9wLWltYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbGliL01vZGVsZXIuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2Nzcy5lc2NhcGUvY3NzLmVzY2FwZS5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2hhbW1lcmpzL2hhbW1lci5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2luaGVyaXRzL2luaGVyaXRzX2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9vYmplY3QtcmVmcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL29iamVjdC1yZWZzL2xpYi9jb2xsZWN0aW9uLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvb2JqZWN0LXJlZnMvbGliL3JlZnMuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9wYXRoLWludGVyc2VjdGlvbi9pbnRlcnNlY3QuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvd2VicGFjay9ydW50aW1lL2dsb2JhbCIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvd2VicGFjay9zdGFydHVwIl0sInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcIlBvc3RJdE1vZGVsZXJcIl0gPSBmYWN0b3J5KCk7XG5cdGVsc2Vcblx0XHRyb290W1wiUG9zdEl0TW9kZWxlclwiXSA9IGZhY3RvcnkoKTtcbn0pKHNlbGYsIGZ1bmN0aW9uKCkge1xucmV0dXJuICIsImZ1bmN0aW9uIGNyZWF0ZUNvbW1vbmpzTW9kdWxlKGZuLCBtb2R1bGUpIHtcblx0cmV0dXJuIG1vZHVsZSA9IHsgZXhwb3J0czoge30gfSwgZm4obW9kdWxlLCBtb2R1bGUuZXhwb3J0cyksIG1vZHVsZS5leHBvcnRzO1xufVxuXG52YXIgaGF0XzEgPSBjcmVhdGVDb21tb25qc01vZHVsZShmdW5jdGlvbiAobW9kdWxlKSB7XG52YXIgaGF0ID0gbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYml0cywgYmFzZSkge1xuICAgIGlmICghYmFzZSkgYmFzZSA9IDE2O1xuICAgIGlmIChiaXRzID09PSB1bmRlZmluZWQpIGJpdHMgPSAxMjg7XG4gICAgaWYgKGJpdHMgPD0gMCkgcmV0dXJuICcwJztcbiAgICBcbiAgICB2YXIgZGlnaXRzID0gTWF0aC5sb2coTWF0aC5wb3coMiwgYml0cykpIC8gTWF0aC5sb2coYmFzZSk7XG4gICAgZm9yICh2YXIgaSA9IDI7IGRpZ2l0cyA9PT0gSW5maW5pdHk7IGkgKj0gMikge1xuICAgICAgICBkaWdpdHMgPSBNYXRoLmxvZyhNYXRoLnBvdygyLCBiaXRzIC8gaSkpIC8gTWF0aC5sb2coYmFzZSkgKiBpO1xuICAgIH1cbiAgICBcbiAgICB2YXIgcmVtID0gZGlnaXRzIC0gTWF0aC5mbG9vcihkaWdpdHMpO1xuICAgIFxuICAgIHZhciByZXMgPSAnJztcbiAgICBcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IE1hdGguZmxvb3IoZGlnaXRzKTsgaSsrKSB7XG4gICAgICAgIHZhciB4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogYmFzZSkudG9TdHJpbmcoYmFzZSk7XG4gICAgICAgIHJlcyA9IHggKyByZXM7XG4gICAgfVxuICAgIFxuICAgIGlmIChyZW0pIHtcbiAgICAgICAgdmFyIGIgPSBNYXRoLnBvdyhiYXNlLCByZW0pO1xuICAgICAgICB2YXIgeCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGIpLnRvU3RyaW5nKGJhc2UpO1xuICAgICAgICByZXMgPSB4ICsgcmVzO1xuICAgIH1cbiAgICBcbiAgICB2YXIgcGFyc2VkID0gcGFyc2VJbnQocmVzLCBiYXNlKTtcbiAgICBpZiAocGFyc2VkICE9PSBJbmZpbml0eSAmJiBwYXJzZWQgPj0gTWF0aC5wb3coMiwgYml0cykpIHtcbiAgICAgICAgcmV0dXJuIGhhdChiaXRzLCBiYXNlKVxuICAgIH1cbiAgICBlbHNlIHJldHVybiByZXM7XG59O1xuXG5oYXQucmFjayA9IGZ1bmN0aW9uIChiaXRzLCBiYXNlLCBleHBhbmRCeSkge1xuICAgIHZhciBmbiA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciBpdGVycyA9IDA7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIGlmIChpdGVycyArKyA+IDEwKSB7XG4gICAgICAgICAgICAgICAgaWYgKGV4cGFuZEJ5KSBiaXRzICs9IGV4cGFuZEJ5O1xuICAgICAgICAgICAgICAgIGVsc2UgdGhyb3cgbmV3IEVycm9yKCd0b28gbWFueSBJRCBjb2xsaXNpb25zLCB1c2UgbW9yZSBiaXRzJylcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdmFyIGlkID0gaGF0KGJpdHMsIGJhc2UpO1xuICAgICAgICB9IHdoaWxlIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChoYXRzLCBpZCkpO1xuICAgICAgICBcbiAgICAgICAgaGF0c1tpZF0gPSBkYXRhO1xuICAgICAgICByZXR1cm4gaWQ7XG4gICAgfTtcbiAgICB2YXIgaGF0cyA9IGZuLmhhdHMgPSB7fTtcbiAgICBcbiAgICBmbi5nZXQgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgcmV0dXJuIGZuLmhhdHNbaWRdO1xuICAgIH07XG4gICAgXG4gICAgZm4uc2V0ID0gZnVuY3Rpb24gKGlkLCB2YWx1ZSkge1xuICAgICAgICBmbi5oYXRzW2lkXSA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gZm47XG4gICAgfTtcbiAgICBcbiAgICBmbi5iaXRzID0gYml0cyB8fCAxMjg7XG4gICAgZm4uYmFzZSA9IGJhc2UgfHwgMTY7XG4gICAgcmV0dXJuIGZuO1xufTtcbn0pO1xuXG4vKipcbiAqIENyZWF0ZSBhIG5ldyBpZCBnZW5lcmF0b3IgLyBjYWNoZSBpbnN0YW5jZS5cbiAqXG4gKiBZb3UgbWF5IG9wdGlvbmFsbHkgcHJvdmlkZSBhIHNlZWQgdGhhdCBpcyB1c2VkIGludGVybmFsbHkuXG4gKlxuICogQHBhcmFtIHtTZWVkfSBzZWVkXG4gKi9cblxuZnVuY3Rpb24gSWRzKHNlZWQpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIElkcykpIHtcbiAgICByZXR1cm4gbmV3IElkcyhzZWVkKTtcbiAgfVxuXG4gIHNlZWQgPSBzZWVkIHx8IFsxMjgsIDM2LCAxXTtcbiAgdGhpcy5fc2VlZCA9IHNlZWQubGVuZ3RoID8gaGF0XzEucmFjayhzZWVkWzBdLCBzZWVkWzFdLCBzZWVkWzJdKSA6IHNlZWQ7XG59XG4vKipcbiAqIEdlbmVyYXRlIGEgbmV4dCBpZC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gW2VsZW1lbnRdIGVsZW1lbnQgdG8gYmluZCB0aGUgaWQgdG9cbiAqXG4gKiBAcmV0dXJuIHtTdHJpbmd9IGlkXG4gKi9cblxuSWRzLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgcmV0dXJuIHRoaXMuX3NlZWQoZWxlbWVudCB8fCB0cnVlKTtcbn07XG4vKipcbiAqIEdlbmVyYXRlIGEgbmV4dCBpZCB3aXRoIGEgZ2l2ZW4gcHJlZml4LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBbZWxlbWVudF0gZWxlbWVudCB0byBiaW5kIHRoZSBpZCB0b1xuICpcbiAqIEByZXR1cm4ge1N0cmluZ30gaWRcbiAqL1xuXG5cbklkcy5wcm90b3R5cGUubmV4dFByZWZpeGVkID0gZnVuY3Rpb24gKHByZWZpeCwgZWxlbWVudCkge1xuICB2YXIgaWQ7XG5cbiAgZG8ge1xuICAgIGlkID0gcHJlZml4ICsgdGhpcy5uZXh0KHRydWUpO1xuICB9IHdoaWxlICh0aGlzLmFzc2lnbmVkKGlkKSk7IC8vIGNsYWltIHtwcmVmaXh9e3JhbmRvbX1cblxuXG4gIHRoaXMuY2xhaW0oaWQsIGVsZW1lbnQpOyAvLyByZXR1cm5cblxuICByZXR1cm4gaWQ7XG59O1xuLyoqXG4gKiBNYW51YWxseSBjbGFpbSBhbiBleGlzdGluZyBpZC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gaWRcbiAqIEBwYXJhbSB7U3RyaW5nfSBbZWxlbWVudF0gZWxlbWVudCB0aGUgaWQgaXMgY2xhaW1lZCBieVxuICovXG5cblxuSWRzLnByb3RvdHlwZS5jbGFpbSA9IGZ1bmN0aW9uIChpZCwgZWxlbWVudCkge1xuICB0aGlzLl9zZWVkLnNldChpZCwgZWxlbWVudCB8fCB0cnVlKTtcbn07XG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gaWQgaGFzIGFscmVhZHkgYmVlbiBhc3NpZ25lZC5cbiAqXG4gKiBAcGFyYW0gIHtTdHJpbmd9IGlkXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICovXG5cblxuSWRzLnByb3RvdHlwZS5hc3NpZ25lZCA9IGZ1bmN0aW9uIChpZCkge1xuICByZXR1cm4gdGhpcy5fc2VlZC5nZXQoaWQpIHx8IGZhbHNlO1xufTtcbi8qKlxuICogVW5jbGFpbSBhbiBpZC5cbiAqXG4gKiBAcGFyYW0gIHtTdHJpbmd9IGlkIHRoZSBpZCB0byB1bmNsYWltXG4gKi9cblxuXG5JZHMucHJvdG90eXBlLnVuY2xhaW0gPSBmdW5jdGlvbiAoaWQpIHtcbiAgZGVsZXRlIHRoaXMuX3NlZWQuaGF0c1tpZF07XG59O1xuLyoqXG4gKiBDbGVhciBhbGwgY2xhaW1lZCBpZHMuXG4gKi9cblxuXG5JZHMucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICB2YXIgaGF0cyA9IHRoaXMuX3NlZWQuaGF0cyxcbiAgICAgIGlkO1xuXG4gIGZvciAoaWQgaW4gaGF0cykge1xuICAgIHRoaXMudW5jbGFpbShpZCk7XG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IElkcztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmVzbS5qcy5tYXBcbiIsIi8qKlxuICogRmxhdHRlbiBhcnJheSwgb25lIGxldmVsIGRlZXAuXG4gKlxuICogQHBhcmFtIHtBcnJheTw/Pn0gYXJyXG4gKlxuICogQHJldHVybiB7QXJyYXk8Pz59XG4gKi9cbmZ1bmN0aW9uIGZsYXR0ZW4oYXJyKSB7XG4gIHJldHVybiBBcnJheS5wcm90b3R5cGUuY29uY2F0LmFwcGx5KFtdLCBhcnIpO1xufVxuXG52YXIgbmF0aXZlVG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xudmFyIG5hdGl2ZUhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbmZ1bmN0aW9uIGlzVW5kZWZpbmVkKG9iaikge1xuICByZXR1cm4gb2JqID09PSB1bmRlZmluZWQ7XG59XG5mdW5jdGlvbiBpc0RlZmluZWQob2JqKSB7XG4gIHJldHVybiBvYmogIT09IHVuZGVmaW5lZDtcbn1cbmZ1bmN0aW9uIGlzTmlsKG9iaikge1xuICByZXR1cm4gb2JqID09IG51bGw7XG59XG5mdW5jdGlvbiBpc0FycmF5KG9iaikge1xuICByZXR1cm4gbmF0aXZlVG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBBcnJheV0nO1xufVxuZnVuY3Rpb24gaXNPYmplY3Qob2JqKSB7XG4gIHJldHVybiBuYXRpdmVUb1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IE9iamVjdF0nO1xufVxuZnVuY3Rpb24gaXNOdW1iZXIob2JqKSB7XG4gIHJldHVybiBuYXRpdmVUb1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IE51bWJlcl0nO1xufVxuZnVuY3Rpb24gaXNGdW5jdGlvbihvYmopIHtcbiAgdmFyIHRhZyA9IG5hdGl2ZVRvU3RyaW5nLmNhbGwob2JqKTtcbiAgcmV0dXJuIHRhZyA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJyB8fCB0YWcgPT09ICdbb2JqZWN0IEFzeW5jRnVuY3Rpb25dJyB8fCB0YWcgPT09ICdbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXScgfHwgdGFnID09PSAnW29iamVjdCBBc3luY0dlbmVyYXRvckZ1bmN0aW9uXScgfHwgdGFnID09PSAnW29iamVjdCBQcm94eV0nO1xufVxuZnVuY3Rpb24gaXNTdHJpbmcob2JqKSB7XG4gIHJldHVybiBuYXRpdmVUb1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IFN0cmluZ10nO1xufVxuLyoqXG4gKiBFbnN1cmUgY29sbGVjdGlvbiBpcyBhbiBhcnJheS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqXG4gKi9cblxuZnVuY3Rpb24gZW5zdXJlQXJyYXkob2JqKSB7XG4gIGlmIChpc0FycmF5KG9iaikpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB0aHJvdyBuZXcgRXJyb3IoJ211c3Qgc3VwcGx5IGFycmF5Jyk7XG59XG4vKipcbiAqIFJldHVybiB0cnVlLCBpZiB0YXJnZXQgb3ducyBhIHByb3BlcnR5IHdpdGggdGhlIGdpdmVuIGtleS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdGFyZ2V0XG4gKiBAcGFyYW0ge1N0cmluZ30ga2V5XG4gKlxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL1xuXG5mdW5jdGlvbiBoYXModGFyZ2V0LCBrZXkpIHtcbiAgcmV0dXJuIG5hdGl2ZUhhc093blByb3BlcnR5LmNhbGwodGFyZ2V0LCBrZXkpO1xufVxuXG4vKipcbiAqIEZpbmQgZWxlbWVudCBpbiBjb2xsZWN0aW9uLlxuICpcbiAqIEBwYXJhbSAge0FycmF5fE9iamVjdH0gY29sbGVjdGlvblxuICogQHBhcmFtICB7RnVuY3Rpb258T2JqZWN0fSBtYXRjaGVyXG4gKlxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5cbmZ1bmN0aW9uIGZpbmQoY29sbGVjdGlvbiwgbWF0Y2hlcikge1xuICBtYXRjaGVyID0gdG9NYXRjaGVyKG1hdGNoZXIpO1xuICB2YXIgbWF0Y2g7XG4gIGZvckVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24gKHZhbCwga2V5KSB7XG4gICAgaWYgKG1hdGNoZXIodmFsLCBrZXkpKSB7XG4gICAgICBtYXRjaCA9IHZhbDtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gbWF0Y2g7XG59XG4vKipcbiAqIEZpbmQgZWxlbWVudCBpbmRleCBpbiBjb2xsZWN0aW9uLlxuICpcbiAqIEBwYXJhbSAge0FycmF5fE9iamVjdH0gY29sbGVjdGlvblxuICogQHBhcmFtICB7RnVuY3Rpb259IG1hdGNoZXJcbiAqXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cblxuZnVuY3Rpb24gZmluZEluZGV4KGNvbGxlY3Rpb24sIG1hdGNoZXIpIHtcbiAgbWF0Y2hlciA9IHRvTWF0Y2hlcihtYXRjaGVyKTtcbiAgdmFyIGlkeCA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyAtMSA6IHVuZGVmaW5lZDtcbiAgZm9yRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbiAodmFsLCBrZXkpIHtcbiAgICBpZiAobWF0Y2hlcih2YWwsIGtleSkpIHtcbiAgICAgIGlkeCA9IGtleTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gaWR4O1xufVxuLyoqXG4gKiBGaW5kIGVsZW1lbnQgaW4gY29sbGVjdGlvbi5cbiAqXG4gKiBAcGFyYW0gIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb25cbiAqIEBwYXJhbSAge0Z1bmN0aW9ufSBtYXRjaGVyXG4gKlxuICogQHJldHVybiB7QXJyYXl9IHJlc3VsdFxuICovXG5cbmZ1bmN0aW9uIGZpbHRlcihjb2xsZWN0aW9uLCBtYXRjaGVyKSB7XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgZm9yRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbiAodmFsLCBrZXkpIHtcbiAgICBpZiAobWF0Y2hlcih2YWwsIGtleSkpIHtcbiAgICAgIHJlc3VsdC5wdXNoKHZhbCk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cbi8qKlxuICogSXRlcmF0ZSBvdmVyIGNvbGxlY3Rpb247IHJldHVybmluZyBzb21ldGhpbmdcbiAqIChub24tdW5kZWZpbmVkKSB3aWxsIHN0b3AgaXRlcmF0aW9uLlxuICpcbiAqIEBwYXJhbSAge0FycmF5fE9iamVjdH0gY29sbGVjdGlvblxuICogQHBhcmFtICB7RnVuY3Rpb259IGl0ZXJhdG9yXG4gKlxuICogQHJldHVybiB7T2JqZWN0fSByZXR1cm4gcmVzdWx0IHRoYXQgc3RvcHBlZCB0aGUgaXRlcmF0aW9uXG4gKi9cblxuZnVuY3Rpb24gZm9yRWFjaChjb2xsZWN0aW9uLCBpdGVyYXRvcikge1xuICB2YXIgdmFsLCByZXN1bHQ7XG5cbiAgaWYgKGlzVW5kZWZpbmVkKGNvbGxlY3Rpb24pKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIGNvbnZlcnRLZXkgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gdG9OdW0gOiBpZGVudGl0eTtcblxuICBmb3IgKHZhciBrZXkgaW4gY29sbGVjdGlvbikge1xuICAgIGlmIChoYXMoY29sbGVjdGlvbiwga2V5KSkge1xuICAgICAgdmFsID0gY29sbGVjdGlvbltrZXldO1xuICAgICAgcmVzdWx0ID0gaXRlcmF0b3IodmFsLCBjb252ZXJ0S2V5KGtleSkpO1xuXG4gICAgICBpZiAocmVzdWx0ID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuLyoqXG4gKiBSZXR1cm4gY29sbGVjdGlvbiB3aXRob3V0IGVsZW1lbnQuXG4gKlxuICogQHBhcmFtICB7QXJyYXl9IGFyclxuICogQHBhcmFtICB7RnVuY3Rpb259IG1hdGNoZXJcbiAqXG4gKiBAcmV0dXJuIHtBcnJheX1cbiAqL1xuXG5mdW5jdGlvbiB3aXRob3V0KGFyciwgbWF0Y2hlcikge1xuICBpZiAoaXNVbmRlZmluZWQoYXJyKSkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIGVuc3VyZUFycmF5KGFycik7XG4gIG1hdGNoZXIgPSB0b01hdGNoZXIobWF0Y2hlcik7XG4gIHJldHVybiBhcnIuZmlsdGVyKGZ1bmN0aW9uIChlbCwgaWR4KSB7XG4gICAgcmV0dXJuICFtYXRjaGVyKGVsLCBpZHgpO1xuICB9KTtcbn1cbi8qKlxuICogUmVkdWNlIGNvbGxlY3Rpb24sIHJldHVybmluZyBhIHNpbmdsZSByZXN1bHQuXG4gKlxuICogQHBhcmFtICB7T2JqZWN0fEFycmF5fSBjb2xsZWN0aW9uXG4gKiBAcGFyYW0gIHtGdW5jdGlvbn0gaXRlcmF0b3JcbiAqIEBwYXJhbSAge0FueX0gcmVzdWx0XG4gKlxuICogQHJldHVybiB7QW55fSByZXN1bHQgcmV0dXJuZWQgZnJvbSBsYXN0IGl0ZXJhdG9yXG4gKi9cblxuZnVuY3Rpb24gcmVkdWNlKGNvbGxlY3Rpb24sIGl0ZXJhdG9yLCByZXN1bHQpIHtcbiAgZm9yRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbiAodmFsdWUsIGlkeCkge1xuICAgIHJlc3VsdCA9IGl0ZXJhdG9yKHJlc3VsdCwgdmFsdWUsIGlkeCk7XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufVxuLyoqXG4gKiBSZXR1cm4gdHJ1ZSBpZiBldmVyeSBlbGVtZW50IGluIHRoZSBjb2xsZWN0aW9uXG4gKiBtYXRjaGVzIHRoZSBjcml0ZXJpYS5cbiAqXG4gKiBAcGFyYW0gIHtPYmplY3R8QXJyYXl9IGNvbGxlY3Rpb25cbiAqIEBwYXJhbSAge0Z1bmN0aW9ufSBtYXRjaGVyXG4gKlxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL1xuXG5mdW5jdGlvbiBldmVyeShjb2xsZWN0aW9uLCBtYXRjaGVyKSB7XG4gIHJldHVybiAhIXJlZHVjZShjb2xsZWN0aW9uLCBmdW5jdGlvbiAobWF0Y2hlcywgdmFsLCBrZXkpIHtcbiAgICByZXR1cm4gbWF0Y2hlcyAmJiBtYXRjaGVyKHZhbCwga2V5KTtcbiAgfSwgdHJ1ZSk7XG59XG4vKipcbiAqIFJldHVybiB0cnVlIGlmIHNvbWUgZWxlbWVudHMgaW4gdGhlIGNvbGxlY3Rpb25cbiAqIG1hdGNoIHRoZSBjcml0ZXJpYS5cbiAqXG4gKiBAcGFyYW0gIHtPYmplY3R8QXJyYXl9IGNvbGxlY3Rpb25cbiAqIEBwYXJhbSAge0Z1bmN0aW9ufSBtYXRjaGVyXG4gKlxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL1xuXG5mdW5jdGlvbiBzb21lKGNvbGxlY3Rpb24sIG1hdGNoZXIpIHtcbiAgcmV0dXJuICEhZmluZChjb2xsZWN0aW9uLCBtYXRjaGVyKTtcbn1cbi8qKlxuICogVHJhbnNmb3JtIGEgY29sbGVjdGlvbiBpbnRvIGFub3RoZXIgY29sbGVjdGlvblxuICogYnkgcGlwaW5nIGVhY2ggbWVtYmVyIHRocm91Z2ggdGhlIGdpdmVuIGZuLlxuICpcbiAqIEBwYXJhbSAge09iamVjdHxBcnJheX0gICBjb2xsZWN0aW9uXG4gKiBAcGFyYW0gIHtGdW5jdGlvbn0gZm5cbiAqXG4gKiBAcmV0dXJuIHtBcnJheX0gdHJhbnNmb3JtZWQgY29sbGVjdGlvblxuICovXG5cbmZ1bmN0aW9uIG1hcChjb2xsZWN0aW9uLCBmbikge1xuICB2YXIgcmVzdWx0ID0gW107XG4gIGZvckVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24gKHZhbCwga2V5KSB7XG4gICAgcmVzdWx0LnB1c2goZm4odmFsLCBrZXkpKTtcbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59XG4vKipcbiAqIEdldCB0aGUgY29sbGVjdGlvbnMga2V5cy5cbiAqXG4gKiBAcGFyYW0gIHtPYmplY3R8QXJyYXl9IGNvbGxlY3Rpb25cbiAqXG4gKiBAcmV0dXJuIHtBcnJheX1cbiAqL1xuXG5mdW5jdGlvbiBrZXlzKGNvbGxlY3Rpb24pIHtcbiAgcmV0dXJuIGNvbGxlY3Rpb24gJiYgT2JqZWN0LmtleXMoY29sbGVjdGlvbikgfHwgW107XG59XG4vKipcbiAqIFNob3J0aGFuZCBmb3IgYGtleXMobykubGVuZ3RoYC5cbiAqXG4gKiBAcGFyYW0gIHtPYmplY3R8QXJyYXl9IGNvbGxlY3Rpb25cbiAqXG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKi9cblxuZnVuY3Rpb24gc2l6ZShjb2xsZWN0aW9uKSB7XG4gIHJldHVybiBrZXlzKGNvbGxlY3Rpb24pLmxlbmd0aDtcbn1cbi8qKlxuICogR2V0IHRoZSB2YWx1ZXMgaW4gdGhlIGNvbGxlY3Rpb24uXG4gKlxuICogQHBhcmFtICB7T2JqZWN0fEFycmF5fSBjb2xsZWN0aW9uXG4gKlxuICogQHJldHVybiB7QXJyYXl9XG4gKi9cblxuZnVuY3Rpb24gdmFsdWVzKGNvbGxlY3Rpb24pIHtcbiAgcmV0dXJuIG1hcChjb2xsZWN0aW9uLCBmdW5jdGlvbiAodmFsKSB7XG4gICAgcmV0dXJuIHZhbDtcbiAgfSk7XG59XG4vKipcbiAqIEdyb3VwIGNvbGxlY3Rpb24gbWVtYmVycyBieSBhdHRyaWJ1dGUuXG4gKlxuICogQHBhcmFtICB7T2JqZWN0fEFycmF5fSBjb2xsZWN0aW9uXG4gKiBAcGFyYW0gIHtGdW5jdGlvbn0gZXh0cmFjdG9yXG4gKlxuICogQHJldHVybiB7T2JqZWN0fSBtYXAgd2l0aCB7IGF0dHJWYWx1ZSA9PiBbIGEsIGIsIGMgXSB9XG4gKi9cblxuZnVuY3Rpb24gZ3JvdXBCeShjb2xsZWN0aW9uLCBleHRyYWN0b3IpIHtcbiAgdmFyIGdyb3VwZWQgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9O1xuICBleHRyYWN0b3IgPSB0b0V4dHJhY3RvcihleHRyYWN0b3IpO1xuICBmb3JFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uICh2YWwpIHtcbiAgICB2YXIgZGlzY3JpbWluYXRvciA9IGV4dHJhY3Rvcih2YWwpIHx8ICdfJztcbiAgICB2YXIgZ3JvdXAgPSBncm91cGVkW2Rpc2NyaW1pbmF0b3JdO1xuXG4gICAgaWYgKCFncm91cCkge1xuICAgICAgZ3JvdXAgPSBncm91cGVkW2Rpc2NyaW1pbmF0b3JdID0gW107XG4gICAgfVxuXG4gICAgZ3JvdXAucHVzaCh2YWwpO1xuICB9KTtcbiAgcmV0dXJuIGdyb3VwZWQ7XG59XG5mdW5jdGlvbiB1bmlxdWVCeShleHRyYWN0b3IpIHtcbiAgZXh0cmFjdG9yID0gdG9FeHRyYWN0b3IoZXh0cmFjdG9yKTtcbiAgdmFyIGdyb3VwZWQgPSB7fTtcblxuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgY29sbGVjdGlvbnMgPSBuZXcgQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIGNvbGxlY3Rpb25zW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIGZvckVhY2goY29sbGVjdGlvbnMsIGZ1bmN0aW9uIChjKSB7XG4gICAgcmV0dXJuIGdyb3VwQnkoYywgZXh0cmFjdG9yLCBncm91cGVkKTtcbiAgfSk7XG4gIHZhciByZXN1bHQgPSBtYXAoZ3JvdXBlZCwgZnVuY3Rpb24gKHZhbCwga2V5KSB7XG4gICAgcmV0dXJuIHZhbFswXTtcbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59XG52YXIgdW5pb25CeSA9IHVuaXF1ZUJ5O1xuLyoqXG4gKiBTb3J0IGNvbGxlY3Rpb24gYnkgY3JpdGVyaWEuXG4gKlxuICogQHBhcmFtICB7T2JqZWN0fEFycmF5fSBjb2xsZWN0aW9uXG4gKiBAcGFyYW0gIHtTdHJpbmd8RnVuY3Rpb259IGV4dHJhY3RvclxuICpcbiAqIEByZXR1cm4ge0FycmF5fVxuICovXG5cbmZ1bmN0aW9uIHNvcnRCeShjb2xsZWN0aW9uLCBleHRyYWN0b3IpIHtcbiAgZXh0cmFjdG9yID0gdG9FeHRyYWN0b3IoZXh0cmFjdG9yKTtcbiAgdmFyIHNvcnRlZCA9IFtdO1xuICBmb3JFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XG4gICAgdmFyIGRpc2MgPSBleHRyYWN0b3IodmFsdWUsIGtleSk7XG4gICAgdmFyIGVudHJ5ID0ge1xuICAgICAgZDogZGlzYyxcbiAgICAgIHY6IHZhbHVlXG4gICAgfTtcblxuICAgIGZvciAodmFyIGlkeCA9IDA7IGlkeCA8IHNvcnRlZC5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICB2YXIgZCA9IHNvcnRlZFtpZHhdLmQ7XG5cbiAgICAgIGlmIChkaXNjIDwgZCkge1xuICAgICAgICBzb3J0ZWQuc3BsaWNlKGlkeCwgMCwgZW50cnkpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfSAvLyBub3QgaW5zZXJ0ZWQsIGFwcGVuZCAoISlcblxuXG4gICAgc29ydGVkLnB1c2goZW50cnkpO1xuICB9KTtcbiAgcmV0dXJuIG1hcChzb3J0ZWQsIGZ1bmN0aW9uIChlKSB7XG4gICAgcmV0dXJuIGUudjtcbiAgfSk7XG59XG4vKipcbiAqIENyZWF0ZSBhbiBvYmplY3QgcGF0dGVybiBtYXRjaGVyLlxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogY29uc3QgbWF0Y2hlciA9IG1hdGNoUGF0dGVybih7IGlkOiAxIH0pO1xuICpcbiAqIHZhciBlbGVtZW50ID0gZmluZChlbGVtZW50cywgbWF0Y2hlcik7XG4gKlxuICogQHBhcmFtICB7T2JqZWN0fSBwYXR0ZXJuXG4gKlxuICogQHJldHVybiB7RnVuY3Rpb259IG1hdGNoZXJGblxuICovXG5cbmZ1bmN0aW9uIG1hdGNoUGF0dGVybihwYXR0ZXJuKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoZWwpIHtcbiAgICByZXR1cm4gZXZlcnkocGF0dGVybiwgZnVuY3Rpb24gKHZhbCwga2V5KSB7XG4gICAgICByZXR1cm4gZWxba2V5XSA9PT0gdmFsO1xuICAgIH0pO1xuICB9O1xufVxuXG5mdW5jdGlvbiB0b0V4dHJhY3RvcihleHRyYWN0b3IpIHtcbiAgcmV0dXJuIGlzRnVuY3Rpb24oZXh0cmFjdG9yKSA/IGV4dHJhY3RvciA6IGZ1bmN0aW9uIChlKSB7XG4gICAgcmV0dXJuIGVbZXh0cmFjdG9yXTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gdG9NYXRjaGVyKG1hdGNoZXIpIHtcbiAgcmV0dXJuIGlzRnVuY3Rpb24obWF0Y2hlcikgPyBtYXRjaGVyIDogZnVuY3Rpb24gKGUpIHtcbiAgICByZXR1cm4gZSA9PT0gbWF0Y2hlcjtcbiAgfTtcbn1cblxuZnVuY3Rpb24gaWRlbnRpdHkoYXJnKSB7XG4gIHJldHVybiBhcmc7XG59XG5cbmZ1bmN0aW9uIHRvTnVtKGFyZykge1xuICByZXR1cm4gTnVtYmVyKGFyZyk7XG59XG5cbi8qKlxuICogRGVib3VuY2UgZm4sIGNhbGxpbmcgaXQgb25seSBvbmNlIGlmXG4gKiB0aGUgZ2l2ZW4gdGltZSBlbGFwc2VkIGJldHdlZW4gY2FsbHMuXG4gKlxuICogQHBhcmFtICB7RnVuY3Rpb259IGZuXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IHRpbWVvdXRcbiAqXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn0gZGVib3VuY2VkIGZ1bmN0aW9uXG4gKi9cbmZ1bmN0aW9uIGRlYm91bmNlKGZuLCB0aW1lb3V0KSB7XG4gIHZhciB0aW1lcjtcbiAgdmFyIGxhc3RBcmdzO1xuICB2YXIgbGFzdFRoaXM7XG4gIHZhciBsYXN0Tm93O1xuXG4gIGZ1bmN0aW9uIGZpcmUoKSB7XG4gICAgdmFyIG5vdyA9IERhdGUubm93KCk7XG4gICAgdmFyIHNjaGVkdWxlZERpZmYgPSBsYXN0Tm93ICsgdGltZW91dCAtIG5vdztcblxuICAgIGlmIChzY2hlZHVsZWREaWZmID4gMCkge1xuICAgICAgcmV0dXJuIHNjaGVkdWxlKHNjaGVkdWxlZERpZmYpO1xuICAgIH1cblxuICAgIGZuLmFwcGx5KGxhc3RUaGlzLCBsYXN0QXJncyk7XG4gICAgdGltZXIgPSBsYXN0Tm93ID0gbGFzdEFyZ3MgPSBsYXN0VGhpcyA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNjaGVkdWxlKHRpbWVvdXQpIHtcbiAgICB0aW1lciA9IHNldFRpbWVvdXQoZmlyZSwgdGltZW91dCk7XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIGxhc3ROb3cgPSBEYXRlLm5vdygpO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIGxhc3RBcmdzID0gYXJncztcbiAgICBsYXN0VGhpcyA9IHRoaXM7IC8vIGVuc3VyZSBhbiBleGVjdXRpb24gaXMgc2NoZWR1bGVkXG5cbiAgICBpZiAoIXRpbWVyKSB7XG4gICAgICBzY2hlZHVsZSh0aW1lb3V0KTtcbiAgICB9XG4gIH07XG59XG4vKipcbiAqIFRocm90dGxlIGZuLCBjYWxsaW5nIGF0IG1vc3Qgb25jZVxuICogaW4gdGhlIGdpdmVuIGludGVydmFsLlxuICpcbiAqIEBwYXJhbSAge0Z1bmN0aW9ufSBmblxuICogQHBhcmFtICB7TnVtYmVyfSBpbnRlcnZhbFxuICpcbiAqIEByZXR1cm4ge0Z1bmN0aW9ufSB0aHJvdHRsZWQgZnVuY3Rpb25cbiAqL1xuXG5mdW5jdGlvbiB0aHJvdHRsZShmbiwgaW50ZXJ2YWwpIHtcbiAgdmFyIHRocm90dGxpbmcgPSBmYWxzZTtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhyb3R0bGluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZuLmFwcGx5KHZvaWQgMCwgYXJndW1lbnRzKTtcbiAgICB0aHJvdHRsaW5nID0gdHJ1ZTtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIHRocm90dGxpbmcgPSBmYWxzZTtcbiAgICB9LCBpbnRlcnZhbCk7XG4gIH07XG59XG4vKipcbiAqIEJpbmQgZnVuY3Rpb24gYWdhaW5zdCB0YXJnZXQgPHRoaXM+LlxuICpcbiAqIEBwYXJhbSAge0Z1bmN0aW9ufSBmblxuICogQHBhcmFtICB7T2JqZWN0fSAgIHRhcmdldFxuICpcbiAqIEByZXR1cm4ge0Z1bmN0aW9ufSBib3VuZCBmdW5jdGlvblxuICovXG5cbmZ1bmN0aW9uIGJpbmQoZm4sIHRhcmdldCkge1xuICByZXR1cm4gZm4uYmluZCh0YXJnZXQpO1xufVxuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHtcbiAgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9O1xuXG4gIHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG4vKipcbiAqIENvbnZlbmllbmNlIHdyYXBwZXIgZm9yIGBPYmplY3QuYXNzaWduYC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdGFyZ2V0XG4gKiBAcGFyYW0gey4uLk9iamVjdH0gb3RoZXJzXG4gKlxuICogQHJldHVybiB7T2JqZWN0fSB0aGUgdGFyZ2V0XG4gKi9cblxuZnVuY3Rpb24gYXNzaWduKHRhcmdldCkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgb3RoZXJzID0gbmV3IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBvdGhlcnNbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHZvaWQgMCwgW3RhcmdldF0uY29uY2F0KG90aGVycykpO1xufVxuLyoqXG4gKiBTZXRzIGEgbmVzdGVkIHByb3BlcnR5IG9mIGEgZ2l2ZW4gb2JqZWN0IHRvIHRoZSBzcGVjaWZpZWQgdmFsdWUuXG4gKlxuICogVGhpcyBtdXRhdGVzIHRoZSBvYmplY3QgYW5kIHJldHVybnMgaXQuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHRhcmdldCBUaGUgdGFyZ2V0IG9mIHRoZSBzZXQgb3BlcmF0aW9uLlxuICogQHBhcmFtIHsoc3RyaW5nfG51bWJlcilbXX0gcGF0aCBUaGUgcGF0aCB0byB0aGUgbmVzdGVkIHZhbHVlLlxuICogQHBhcmFtIHthbnl9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKi9cblxuZnVuY3Rpb24gc2V0KHRhcmdldCwgcGF0aCwgdmFsdWUpIHtcbiAgdmFyIGN1cnJlbnRUYXJnZXQgPSB0YXJnZXQ7XG4gIGZvckVhY2gocGF0aCwgZnVuY3Rpb24gKGtleSwgaWR4KSB7XG4gICAgaWYgKGtleSA9PT0gJ19fcHJvdG9fXycpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignaWxsZWdhbCBrZXk6IF9fcHJvdG9fXycpO1xuICAgIH1cblxuICAgIHZhciBuZXh0S2V5ID0gcGF0aFtpZHggKyAxXTtcbiAgICB2YXIgbmV4dFRhcmdldCA9IGN1cnJlbnRUYXJnZXRba2V5XTtcblxuICAgIGlmIChpc0RlZmluZWQobmV4dEtleSkgJiYgaXNOaWwobmV4dFRhcmdldCkpIHtcbiAgICAgIG5leHRUYXJnZXQgPSBjdXJyZW50VGFyZ2V0W2tleV0gPSBpc05hTigrbmV4dEtleSkgPyB7fSA6IFtdO1xuICAgIH1cblxuICAgIGlmIChpc1VuZGVmaW5lZChuZXh0S2V5KSkge1xuICAgICAgaWYgKGlzVW5kZWZpbmVkKHZhbHVlKSkge1xuICAgICAgICBkZWxldGUgY3VycmVudFRhcmdldFtrZXldO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3VycmVudFRhcmdldFtrZXldID0gdmFsdWU7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGN1cnJlbnRUYXJnZXQgPSBuZXh0VGFyZ2V0O1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiB0YXJnZXQ7XG59XG4vKipcbiAqIEdldHMgYSBuZXN0ZWQgcHJvcGVydHkgb2YgYSBnaXZlbiBvYmplY3QuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHRhcmdldCBUaGUgdGFyZ2V0IG9mIHRoZSBnZXQgb3BlcmF0aW9uLlxuICogQHBhcmFtIHsoc3RyaW5nfG51bWJlcilbXX0gcGF0aCBUaGUgcGF0aCB0byB0aGUgbmVzdGVkIHZhbHVlLlxuICogQHBhcmFtIHthbnl9IFtkZWZhdWx0VmFsdWVdIFRoZSB2YWx1ZSB0byByZXR1cm4gaWYgbm8gdmFsdWUgZXhpc3RzLlxuICovXG5cbmZ1bmN0aW9uIGdldCh0YXJnZXQsIHBhdGgsIGRlZmF1bHRWYWx1ZSkge1xuICB2YXIgY3VycmVudFRhcmdldCA9IHRhcmdldDtcbiAgZm9yRWFjaChwYXRoLCBmdW5jdGlvbiAoa2V5KSB7XG4gICAgLy8gYWNjZXNzaW5nIG5pbCBwcm9wZXJ0eSB5aWVsZHMgPHVuZGVmaW5lZD5cbiAgICBpZiAoaXNOaWwoY3VycmVudFRhcmdldCkpIHtcbiAgICAgIGN1cnJlbnRUYXJnZXQgPSB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgY3VycmVudFRhcmdldCA9IGN1cnJlbnRUYXJnZXRba2V5XTtcbiAgfSk7XG4gIHJldHVybiBpc1VuZGVmaW5lZChjdXJyZW50VGFyZ2V0KSA/IGRlZmF1bHRWYWx1ZSA6IGN1cnJlbnRUYXJnZXQ7XG59XG4vKipcbiAqIFBpY2sgZ2l2ZW4gcHJvcGVydGllcyBmcm9tIHRoZSB0YXJnZXQgb2JqZWN0LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXRcbiAqIEBwYXJhbSB7QXJyYXl9IHByb3BlcnRpZXNcbiAqXG4gKiBAcmV0dXJuIHtPYmplY3R9IHRhcmdldFxuICovXG5cbmZ1bmN0aW9uIHBpY2sodGFyZ2V0LCBwcm9wZXJ0aWVzKSB7XG4gIHZhciByZXN1bHQgPSB7fTtcbiAgdmFyIG9iaiA9IE9iamVjdCh0YXJnZXQpO1xuICBmb3JFYWNoKHByb3BlcnRpZXMsIGZ1bmN0aW9uIChwcm9wKSB7XG4gICAgaWYgKHByb3AgaW4gb2JqKSB7XG4gICAgICByZXN1bHRbcHJvcF0gPSB0YXJnZXRbcHJvcF07XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cbi8qKlxuICogUGljayBhbGwgdGFyZ2V0IHByb3BlcnRpZXMsIGV4Y2x1ZGluZyB0aGUgZ2l2ZW4gb25lcy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdGFyZ2V0XG4gKiBAcGFyYW0ge0FycmF5fSBwcm9wZXJ0aWVzXG4gKlxuICogQHJldHVybiB7T2JqZWN0fSB0YXJnZXRcbiAqL1xuXG5mdW5jdGlvbiBvbWl0KHRhcmdldCwgcHJvcGVydGllcykge1xuICB2YXIgcmVzdWx0ID0ge307XG4gIHZhciBvYmogPSBPYmplY3QodGFyZ2V0KTtcbiAgZm9yRWFjaChvYmosIGZ1bmN0aW9uIChwcm9wLCBrZXkpIHtcbiAgICBpZiAocHJvcGVydGllcy5pbmRleE9mKGtleSkgPT09IC0xKSB7XG4gICAgICByZXN1bHRba2V5XSA9IHByb3A7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cbi8qKlxuICogUmVjdXJzaXZlbHkgbWVyZ2UgYC4uLnNvdXJjZXNgIGludG8gZ2l2ZW4gdGFyZ2V0LlxuICpcbiAqIERvZXMgc3VwcG9ydCBtZXJnaW5nIG9iamVjdHM7IGRvZXMgbm90IHN1cHBvcnQgbWVyZ2luZyBhcnJheXMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHRhcmdldFxuICogQHBhcmFtIHsuLi5PYmplY3R9IHNvdXJjZXNcbiAqXG4gKiBAcmV0dXJuIHtPYmplY3R9IHRoZSB0YXJnZXRcbiAqL1xuXG5mdW5jdGlvbiBtZXJnZSh0YXJnZXQpIHtcbiAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBzb3VyY2VzID0gbmV3IEFycmF5KF9sZW4yID4gMSA/IF9sZW4yIC0gMSA6IDApLCBfa2V5MiA9IDE7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICBzb3VyY2VzW19rZXkyIC0gMV0gPSBhcmd1bWVudHNbX2tleTJdO1xuICB9XG5cbiAgaWYgKCFzb3VyY2VzLmxlbmd0aCkge1xuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cblxuICBmb3JFYWNoKHNvdXJjZXMsIGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAvLyBza2lwIG5vbi1vYmogc291cmNlcywgaS5lLiBudWxsXG4gICAgaWYgKCFzb3VyY2UgfHwgIWlzT2JqZWN0KHNvdXJjZSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmb3JFYWNoKHNvdXJjZSwgZnVuY3Rpb24gKHNvdXJjZVZhbCwga2V5KSB7XG4gICAgICBpZiAoa2V5ID09PSAnX19wcm90b19fJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciB0YXJnZXRWYWwgPSB0YXJnZXRba2V5XTtcblxuICAgICAgaWYgKGlzT2JqZWN0KHNvdXJjZVZhbCkpIHtcbiAgICAgICAgaWYgKCFpc09iamVjdCh0YXJnZXRWYWwpKSB7XG4gICAgICAgICAgLy8gb3ZlcnJpZGUgdGFyZ2V0W2tleV0gd2l0aCBvYmplY3RcbiAgICAgICAgICB0YXJnZXRWYWwgPSB7fTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRhcmdldFtrZXldID0gbWVyZ2UodGFyZ2V0VmFsLCBzb3VyY2VWYWwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2VWYWw7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4gdGFyZ2V0O1xufVxuXG5leHBvcnQgeyBhc3NpZ24sIGJpbmQsIGRlYm91bmNlLCBlbnN1cmVBcnJheSwgZXZlcnksIGZpbHRlciwgZmluZCwgZmluZEluZGV4LCBmbGF0dGVuLCBmb3JFYWNoLCBnZXQsIGdyb3VwQnksIGhhcywgaXNBcnJheSwgaXNEZWZpbmVkLCBpc0Z1bmN0aW9uLCBpc05pbCwgaXNOdW1iZXIsIGlzT2JqZWN0LCBpc1N0cmluZywgaXNVbmRlZmluZWQsIGtleXMsIG1hcCwgbWF0Y2hQYXR0ZXJuLCBtZXJnZSwgb21pdCwgcGljaywgcmVkdWNlLCBzZXQsIHNpemUsIHNvbWUsIHNvcnRCeSwgdGhyb3R0bGUsIHVuaW9uQnksIHVuaXF1ZUJ5LCB2YWx1ZXMsIHdpdGhvdXQgfTtcbiIsIi8qKlxuICogU2V0IGF0dHJpYnV0ZSBgbmFtZWAgdG8gYHZhbGAsIG9yIGdldCBhdHRyIGBuYW1lYC5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZVxuICogQHBhcmFtIHtTdHJpbmd9IFt2YWxdXG4gKiBAYXBpIHB1YmxpY1xuICovXG5mdW5jdGlvbiBhdHRyKGVsLCBuYW1lLCB2YWwpIHtcbiAgLy8gZ2V0XG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID09IDIpIHtcbiAgICByZXR1cm4gZWwuZ2V0QXR0cmlidXRlKG5hbWUpO1xuICB9XG5cbiAgLy8gcmVtb3ZlXG4gIGlmICh2YWwgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZWwucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICB9XG5cbiAgLy8gc2V0XG4gIGVsLnNldEF0dHJpYnV0ZShuYW1lLCB2YWwpO1xuXG4gIHJldHVybiBlbDtcbn1cblxudmFyIGluZGV4T2YgPSBbXS5pbmRleE9mO1xuXG52YXIgaW5kZXhvZiA9IGZ1bmN0aW9uKGFyciwgb2JqKXtcbiAgaWYgKGluZGV4T2YpIHJldHVybiBhcnIuaW5kZXhPZihvYmopO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7ICsraSkge1xuICAgIGlmIChhcnJbaV0gPT09IG9iaikgcmV0dXJuIGk7XG4gIH1cbiAgcmV0dXJuIC0xO1xufTtcblxuLyoqXG4gKiBUYWtlbiBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9jb21wb25lbnQvY2xhc3Nlc1xuICpcbiAqIFdpdGhvdXQgdGhlIGNvbXBvbmVudCBiaXRzLlxuICovXG5cbi8qKlxuICogV2hpdGVzcGFjZSByZWdleHAuXG4gKi9cblxudmFyIHJlID0gL1xccysvO1xuXG4vKipcbiAqIHRvU3RyaW5nIHJlZmVyZW5jZS5cbiAqL1xuXG52YXIgdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuXG4vKipcbiAqIFdyYXAgYGVsYCBpbiBhIGBDbGFzc0xpc3RgLlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxcbiAqIEByZXR1cm4ge0NsYXNzTGlzdH1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gY2xhc3NlcyhlbCkge1xuICByZXR1cm4gbmV3IENsYXNzTGlzdChlbCk7XG59XG5cbi8qKlxuICogSW5pdGlhbGl6ZSBhIG5ldyBDbGFzc0xpc3QgZm9yIGBlbGAuXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbFxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gQ2xhc3NMaXN0KGVsKSB7XG4gIGlmICghZWwgfHwgIWVsLm5vZGVUeXBlKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdBIERPTSBlbGVtZW50IHJlZmVyZW5jZSBpcyByZXF1aXJlZCcpO1xuICB9XG4gIHRoaXMuZWwgPSBlbDtcbiAgdGhpcy5saXN0ID0gZWwuY2xhc3NMaXN0O1xufVxuXG4vKipcbiAqIEFkZCBjbGFzcyBgbmFtZWAgaWYgbm90IGFscmVhZHkgcHJlc2VudC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZVxuICogQHJldHVybiB7Q2xhc3NMaXN0fVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5DbGFzc0xpc3QucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gIC8vIGNsYXNzTGlzdFxuICBpZiAodGhpcy5saXN0KSB7XG4gICAgdGhpcy5saXN0LmFkZChuYW1lKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8vIGZhbGxiYWNrXG4gIHZhciBhcnIgPSB0aGlzLmFycmF5KCk7XG4gIHZhciBpID0gaW5kZXhvZihhcnIsIG5hbWUpO1xuICBpZiAoIX5pKSBhcnIucHVzaChuYW1lKTtcbiAgdGhpcy5lbC5jbGFzc05hbWUgPSBhcnIuam9pbignICcpO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogUmVtb3ZlIGNsYXNzIGBuYW1lYCB3aGVuIHByZXNlbnQsIG9yXG4gKiBwYXNzIGEgcmVndWxhciBleHByZXNzaW9uIHRvIHJlbW92ZVxuICogYW55IHdoaWNoIG1hdGNoLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfFJlZ0V4cH0gbmFtZVxuICogQHJldHVybiB7Q2xhc3NMaXN0fVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5DbGFzc0xpc3QucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gIGlmICgnW29iamVjdCBSZWdFeHBdJyA9PSB0b1N0cmluZy5jYWxsKG5hbWUpKSB7XG4gICAgcmV0dXJuIHRoaXMucmVtb3ZlTWF0Y2hpbmcobmFtZSk7XG4gIH1cblxuICAvLyBjbGFzc0xpc3RcbiAgaWYgKHRoaXMubGlzdCkge1xuICAgIHRoaXMubGlzdC5yZW1vdmUobmFtZSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvLyBmYWxsYmFja1xuICB2YXIgYXJyID0gdGhpcy5hcnJheSgpO1xuICB2YXIgaSA9IGluZGV4b2YoYXJyLCBuYW1lKTtcbiAgaWYgKH5pKSBhcnIuc3BsaWNlKGksIDEpO1xuICB0aGlzLmVsLmNsYXNzTmFtZSA9IGFyci5qb2luKCcgJyk7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgYWxsIGNsYXNzZXMgbWF0Y2hpbmcgYHJlYC5cbiAqXG4gKiBAcGFyYW0ge1JlZ0V4cH0gcmVcbiAqIEByZXR1cm4ge0NsYXNzTGlzdH1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbkNsYXNzTGlzdC5wcm90b3R5cGUucmVtb3ZlTWF0Y2hpbmcgPSBmdW5jdGlvbiAocmUpIHtcbiAgdmFyIGFyciA9IHRoaXMuYXJyYXkoKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAocmUudGVzdChhcnJbaV0pKSB7XG4gICAgICB0aGlzLnJlbW92ZShhcnJbaV0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogVG9nZ2xlIGNsYXNzIGBuYW1lYCwgY2FuIGZvcmNlIHN0YXRlIHZpYSBgZm9yY2VgLlxuICpcbiAqIEZvciBicm93c2VycyB0aGF0IHN1cHBvcnQgY2xhc3NMaXN0LCBidXQgZG8gbm90IHN1cHBvcnQgYGZvcmNlYCB5ZXQsXG4gKiB0aGUgbWlzdGFrZSB3aWxsIGJlIGRldGVjdGVkIGFuZCBjb3JyZWN0ZWQuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gZm9yY2VcbiAqIEByZXR1cm4ge0NsYXNzTGlzdH1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuQ2xhc3NMaXN0LnByb3RvdHlwZS50b2dnbGUgPSBmdW5jdGlvbiAobmFtZSwgZm9yY2UpIHtcbiAgLy8gY2xhc3NMaXN0XG4gIGlmICh0aGlzLmxpc3QpIHtcbiAgICBpZiAoJ3VuZGVmaW5lZCcgIT09IHR5cGVvZiBmb3JjZSkge1xuICAgICAgaWYgKGZvcmNlICE9PSB0aGlzLmxpc3QudG9nZ2xlKG5hbWUsIGZvcmNlKSkge1xuICAgICAgICB0aGlzLmxpc3QudG9nZ2xlKG5hbWUpOyAvLyB0b2dnbGUgYWdhaW4gdG8gY29ycmVjdFxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmxpc3QudG9nZ2xlKG5hbWUpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8vIGZhbGxiYWNrXG4gIGlmICgndW5kZWZpbmVkJyAhPT0gdHlwZW9mIGZvcmNlKSB7XG4gICAgaWYgKCFmb3JjZSkge1xuICAgICAgdGhpcy5yZW1vdmUobmFtZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYWRkKG5hbWUpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAodGhpcy5oYXMobmFtZSkpIHtcbiAgICAgIHRoaXMucmVtb3ZlKG5hbWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmFkZChuYW1lKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogUmV0dXJuIGFuIGFycmF5IG9mIGNsYXNzZXMuXG4gKlxuICogQHJldHVybiB7QXJyYXl9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbkNsYXNzTGlzdC5wcm90b3R5cGUuYXJyYXkgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBjbGFzc05hbWUgPSB0aGlzLmVsLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSB8fCAnJztcbiAgdmFyIHN0ciA9IGNsYXNzTmFtZS5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLCAnJyk7XG4gIHZhciBhcnIgPSBzdHIuc3BsaXQocmUpO1xuICBpZiAoJycgPT09IGFyclswXSkgYXJyLnNoaWZ0KCk7XG4gIHJldHVybiBhcnI7XG59O1xuXG4vKipcbiAqIENoZWNrIGlmIGNsYXNzIGBuYW1lYCBpcyBwcmVzZW50LlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lXG4gKiBAcmV0dXJuIHtDbGFzc0xpc3R9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbkNsYXNzTGlzdC5wcm90b3R5cGUuaGFzID0gQ2xhc3NMaXN0LnByb3RvdHlwZS5jb250YWlucyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gIHJldHVybiB0aGlzLmxpc3QgPyB0aGlzLmxpc3QuY29udGFpbnMobmFtZSkgOiAhIX5pbmRleG9mKHRoaXMuYXJyYXkoKSwgbmFtZSk7XG59O1xuXG4vKipcbiAqIFJlbW92ZSBhbGwgY2hpbGRyZW4gZnJvbSB0aGUgZ2l2ZW4gZWxlbWVudC5cbiAqL1xuZnVuY3Rpb24gY2xlYXIoZWwpIHtcblxuICB2YXIgYztcblxuICB3aGlsZSAoZWwuY2hpbGROb2Rlcy5sZW5ndGgpIHtcbiAgICBjID0gZWwuY2hpbGROb2Rlc1swXTtcbiAgICBlbC5yZW1vdmVDaGlsZChjKTtcbiAgfVxuXG4gIHJldHVybiBlbDtcbn1cblxudmFyIHByb3RvID0gdHlwZW9mIEVsZW1lbnQgIT09ICd1bmRlZmluZWQnID8gRWxlbWVudC5wcm90b3R5cGUgOiB7fTtcbnZhciB2ZW5kb3IgPSBwcm90by5tYXRjaGVzXG4gIHx8IHByb3RvLm1hdGNoZXNTZWxlY3RvclxuICB8fCBwcm90by53ZWJraXRNYXRjaGVzU2VsZWN0b3JcbiAgfHwgcHJvdG8ubW96TWF0Y2hlc1NlbGVjdG9yXG4gIHx8IHByb3RvLm1zTWF0Y2hlc1NlbGVjdG9yXG4gIHx8IHByb3RvLm9NYXRjaGVzU2VsZWN0b3I7XG5cbnZhciBtYXRjaGVzU2VsZWN0b3IgPSBtYXRjaDtcblxuLyoqXG4gKiBNYXRjaCBgZWxgIHRvIGBzZWxlY3RvcmAuXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbFxuICogQHBhcmFtIHtTdHJpbmd9IHNlbGVjdG9yXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBtYXRjaChlbCwgc2VsZWN0b3IpIHtcbiAgaWYgKCFlbCB8fCBlbC5ub2RlVHlwZSAhPT0gMSkgcmV0dXJuIGZhbHNlO1xuICBpZiAodmVuZG9yKSByZXR1cm4gdmVuZG9yLmNhbGwoZWwsIHNlbGVjdG9yKTtcbiAgdmFyIG5vZGVzID0gZWwucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2Rlcy5sZW5ndGg7IGkrKykge1xuICAgIGlmIChub2Rlc1tpXSA9PSBlbCkgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIENsb3Nlc3RcbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsXG4gKiBAcGFyYW0ge1N0cmluZ30gc2VsZWN0b3JcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gY2hlY2tZb3VyU2VsZiAob3B0aW9uYWwpXG4gKi9cbmZ1bmN0aW9uIGNsb3Nlc3QgKGVsZW1lbnQsIHNlbGVjdG9yLCBjaGVja1lvdXJTZWxmKSB7XG4gIHZhciBjdXJyZW50RWxlbSA9IGNoZWNrWW91clNlbGYgPyBlbGVtZW50IDogZWxlbWVudC5wYXJlbnROb2RlO1xuXG4gIHdoaWxlIChjdXJyZW50RWxlbSAmJiBjdXJyZW50RWxlbS5ub2RlVHlwZSAhPT0gZG9jdW1lbnQuRE9DVU1FTlRfTk9ERSAmJiBjdXJyZW50RWxlbS5ub2RlVHlwZSAhPT0gZG9jdW1lbnQuRE9DVU1FTlRfRlJBR01FTlRfTk9ERSkge1xuXG4gICAgaWYgKG1hdGNoZXNTZWxlY3RvcihjdXJyZW50RWxlbSwgc2VsZWN0b3IpKSB7XG4gICAgICByZXR1cm4gY3VycmVudEVsZW07XG4gICAgfVxuXG4gICAgY3VycmVudEVsZW0gPSBjdXJyZW50RWxlbS5wYXJlbnROb2RlO1xuICB9XG5cbiAgcmV0dXJuIG1hdGNoZXNTZWxlY3RvcihjdXJyZW50RWxlbSwgc2VsZWN0b3IpID8gY3VycmVudEVsZW0gOiBudWxsO1xufVxuXG52YXIgYmluZCA9IHdpbmRvdy5hZGRFdmVudExpc3RlbmVyID8gJ2FkZEV2ZW50TGlzdGVuZXInIDogJ2F0dGFjaEV2ZW50JyxcbiAgICB1bmJpbmQgPSB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lciA/ICdyZW1vdmVFdmVudExpc3RlbmVyJyA6ICdkZXRhY2hFdmVudCcsXG4gICAgcHJlZml4ID0gYmluZCAhPT0gJ2FkZEV2ZW50TGlzdGVuZXInID8gJ29uJyA6ICcnO1xuXG4vKipcbiAqIEJpbmQgYGVsYCBldmVudCBgdHlwZWAgdG8gYGZuYC5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsXG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gY2FwdHVyZVxuICogQHJldHVybiB7RnVuY3Rpb259XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbnZhciBiaW5kXzEgPSBmdW5jdGlvbihlbCwgdHlwZSwgZm4sIGNhcHR1cmUpe1xuICBlbFtiaW5kXShwcmVmaXggKyB0eXBlLCBmbiwgY2FwdHVyZSB8fCBmYWxzZSk7XG4gIHJldHVybiBmbjtcbn07XG5cbi8qKlxuICogVW5iaW5kIGBlbGAgZXZlbnQgYHR5cGVgJ3MgY2FsbGJhY2sgYGZuYC5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsXG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gY2FwdHVyZVxuICogQHJldHVybiB7RnVuY3Rpb259XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbnZhciB1bmJpbmRfMSA9IGZ1bmN0aW9uKGVsLCB0eXBlLCBmbiwgY2FwdHVyZSl7XG4gIGVsW3VuYmluZF0ocHJlZml4ICsgdHlwZSwgZm4sIGNhcHR1cmUgfHwgZmFsc2UpO1xuICByZXR1cm4gZm47XG59O1xuXG52YXIgY29tcG9uZW50RXZlbnQgPSB7XG5cdGJpbmQ6IGJpbmRfMSxcblx0dW5iaW5kOiB1bmJpbmRfMVxufTtcblxuLyoqXG4gKiBNb2R1bGUgZGVwZW5kZW5jaWVzLlxuICovXG5cbi8qKlxuICogRGVsZWdhdGUgZXZlbnQgYHR5cGVgIHRvIGBzZWxlY3RvcmBcbiAqIGFuZCBpbnZva2UgYGZuKGUpYC4gQSBjYWxsYmFjayBmdW5jdGlvblxuICogaXMgcmV0dXJuZWQgd2hpY2ggbWF5IGJlIHBhc3NlZCB0byBgLnVuYmluZCgpYC5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsXG4gKiBAcGFyYW0ge1N0cmluZ30gc2VsZWN0b3JcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICogQHBhcmFtIHtCb29sZWFufSBjYXB0dXJlXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuLy8gU29tZSBldmVudHMgZG9uJ3QgYnViYmxlLCBzbyB3ZSB3YW50IHRvIGJpbmQgdG8gdGhlIGNhcHR1cmUgcGhhc2UgaW5zdGVhZFxuLy8gd2hlbiBkZWxlZ2F0aW5nLlxudmFyIGZvcmNlQ2FwdHVyZUV2ZW50cyA9IFsnZm9jdXMnLCAnYmx1ciddO1xuXG5mdW5jdGlvbiBiaW5kJDEoZWwsIHNlbGVjdG9yLCB0eXBlLCBmbiwgY2FwdHVyZSkge1xuICBpZiAoZm9yY2VDYXB0dXJlRXZlbnRzLmluZGV4T2YodHlwZSkgIT09IC0xKSB7XG4gICAgY2FwdHVyZSA9IHRydWU7XG4gIH1cblxuICByZXR1cm4gY29tcG9uZW50RXZlbnQuYmluZChlbCwgdHlwZSwgZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgdGFyZ2V0ID0gZS50YXJnZXQgfHwgZS5zcmNFbGVtZW50O1xuICAgIGUuZGVsZWdhdGVUYXJnZXQgPSBjbG9zZXN0KHRhcmdldCwgc2VsZWN0b3IsIHRydWUsIGVsKTtcbiAgICBpZiAoZS5kZWxlZ2F0ZVRhcmdldCkge1xuICAgICAgZm4uY2FsbChlbCwgZSk7XG4gICAgfVxuICB9LCBjYXB0dXJlKTtcbn1cblxuLyoqXG4gKiBVbmJpbmQgZXZlbnQgYHR5cGVgJ3MgY2FsbGJhY2sgYGZuYC5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsXG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gY2FwdHVyZVxuICogQGFwaSBwdWJsaWNcbiAqL1xuZnVuY3Rpb24gdW5iaW5kJDEoZWwsIHR5cGUsIGZuLCBjYXB0dXJlKSB7XG4gIGlmIChmb3JjZUNhcHR1cmVFdmVudHMuaW5kZXhPZih0eXBlKSAhPT0gLTEpIHtcbiAgICBjYXB0dXJlID0gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiBjb21wb25lbnRFdmVudC51bmJpbmQoZWwsIHR5cGUsIGZuLCBjYXB0dXJlKTtcbn1cblxudmFyIGRlbGVnYXRlID0ge1xuICBiaW5kOiBiaW5kJDEsXG4gIHVuYmluZDogdW5iaW5kJDFcbn07XG5cbi8qKlxuICogRXhwb3NlIGBwYXJzZWAuXG4gKi9cblxudmFyIGRvbWlmeSA9IHBhcnNlO1xuXG4vKipcbiAqIFRlc3RzIGZvciBicm93c2VyIHN1cHBvcnQuXG4gKi9cblxudmFyIGlubmVySFRNTEJ1ZyA9IGZhbHNlO1xudmFyIGJ1Z1Rlc3REaXY7XG5pZiAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJykge1xuICBidWdUZXN0RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIC8vIFNldHVwXG4gIGJ1Z1Rlc3REaXYuaW5uZXJIVE1MID0gJyAgPGxpbmsvPjx0YWJsZT48L3RhYmxlPjxhIGhyZWY9XCIvYVwiPmE8L2E+PGlucHV0IHR5cGU9XCJjaGVja2JveFwiLz4nO1xuICAvLyBNYWtlIHN1cmUgdGhhdCBsaW5rIGVsZW1lbnRzIGdldCBzZXJpYWxpemVkIGNvcnJlY3RseSBieSBpbm5lckhUTUxcbiAgLy8gVGhpcyByZXF1aXJlcyBhIHdyYXBwZXIgZWxlbWVudCBpbiBJRVxuICBpbm5lckhUTUxCdWcgPSAhYnVnVGVzdERpdi5nZXRFbGVtZW50c0J5VGFnTmFtZSgnbGluaycpLmxlbmd0aDtcbiAgYnVnVGVzdERpdiA9IHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBXcmFwIG1hcCBmcm9tIGpxdWVyeS5cbiAqL1xuXG52YXIgbWFwID0ge1xuICBsZWdlbmQ6IFsxLCAnPGZpZWxkc2V0PicsICc8L2ZpZWxkc2V0PiddLFxuICB0cjogWzIsICc8dGFibGU+PHRib2R5PicsICc8L3Rib2R5PjwvdGFibGU+J10sXG4gIGNvbDogWzIsICc8dGFibGU+PHRib2R5PjwvdGJvZHk+PGNvbGdyb3VwPicsICc8L2NvbGdyb3VwPjwvdGFibGU+J10sXG4gIC8vIGZvciBzY3JpcHQvbGluay9zdHlsZSB0YWdzIHRvIHdvcmsgaW4gSUU2LTgsIHlvdSBoYXZlIHRvIHdyYXBcbiAgLy8gaW4gYSBkaXYgd2l0aCBhIG5vbi13aGl0ZXNwYWNlIGNoYXJhY3RlciBpbiBmcm9udCwgaGEhXG4gIF9kZWZhdWx0OiBpbm5lckhUTUxCdWcgPyBbMSwgJ1g8ZGl2PicsICc8L2Rpdj4nXSA6IFswLCAnJywgJyddXG59O1xuXG5tYXAudGQgPVxubWFwLnRoID0gWzMsICc8dGFibGU+PHRib2R5Pjx0cj4nLCAnPC90cj48L3Rib2R5PjwvdGFibGU+J107XG5cbm1hcC5vcHRpb24gPVxubWFwLm9wdGdyb3VwID0gWzEsICc8c2VsZWN0IG11bHRpcGxlPVwibXVsdGlwbGVcIj4nLCAnPC9zZWxlY3Q+J107XG5cbm1hcC50aGVhZCA9XG5tYXAudGJvZHkgPVxubWFwLmNvbGdyb3VwID1cbm1hcC5jYXB0aW9uID1cbm1hcC50Zm9vdCA9IFsxLCAnPHRhYmxlPicsICc8L3RhYmxlPiddO1xuXG5tYXAucG9seWxpbmUgPVxubWFwLmVsbGlwc2UgPVxubWFwLnBvbHlnb24gPVxubWFwLmNpcmNsZSA9XG5tYXAudGV4dCA9XG5tYXAubGluZSA9XG5tYXAucGF0aCA9XG5tYXAucmVjdCA9XG5tYXAuZyA9IFsxLCAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgdmVyc2lvbj1cIjEuMVwiPicsJzwvc3ZnPiddO1xuXG4vKipcbiAqIFBhcnNlIGBodG1sYCBhbmQgcmV0dXJuIGEgRE9NIE5vZGUgaW5zdGFuY2UsIHdoaWNoIGNvdWxkIGJlIGEgVGV4dE5vZGUsXG4gKiBIVE1MIERPTSBOb2RlIG9mIHNvbWUga2luZCAoPGRpdj4gZm9yIGV4YW1wbGUpLCBvciBhIERvY3VtZW50RnJhZ21lbnRcbiAqIGluc3RhbmNlLCBkZXBlbmRpbmcgb24gdGhlIGNvbnRlbnRzIG9mIHRoZSBgaHRtbGAgc3RyaW5nLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBodG1sIC0gSFRNTCBzdHJpbmcgdG8gXCJkb21pZnlcIlxuICogQHBhcmFtIHtEb2N1bWVudH0gZG9jIC0gVGhlIGBkb2N1bWVudGAgaW5zdGFuY2UgdG8gY3JlYXRlIHRoZSBOb2RlIGZvclxuICogQHJldHVybiB7RE9NTm9kZX0gdGhlIFRleHROb2RlLCBET00gTm9kZSwgb3IgRG9jdW1lbnRGcmFnbWVudCBpbnN0YW5jZVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gcGFyc2UoaHRtbCwgZG9jKSB7XG4gIGlmICgnc3RyaW5nJyAhPSB0eXBlb2YgaHRtbCkgdGhyb3cgbmV3IFR5cGVFcnJvcignU3RyaW5nIGV4cGVjdGVkJyk7XG5cbiAgLy8gZGVmYXVsdCB0byB0aGUgZ2xvYmFsIGBkb2N1bWVudGAgb2JqZWN0XG4gIGlmICghZG9jKSBkb2MgPSBkb2N1bWVudDtcblxuICAvLyB0YWcgbmFtZVxuICB2YXIgbSA9IC88KFtcXHc6XSspLy5leGVjKGh0bWwpO1xuICBpZiAoIW0pIHJldHVybiBkb2MuY3JlYXRlVGV4dE5vZGUoaHRtbCk7XG5cbiAgaHRtbCA9IGh0bWwucmVwbGFjZSgvXlxccyt8XFxzKyQvZywgJycpOyAvLyBSZW1vdmUgbGVhZGluZy90cmFpbGluZyB3aGl0ZXNwYWNlXG5cbiAgdmFyIHRhZyA9IG1bMV07XG5cbiAgLy8gYm9keSBzdXBwb3J0XG4gIGlmICh0YWcgPT0gJ2JvZHknKSB7XG4gICAgdmFyIGVsID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ2h0bWwnKTtcbiAgICBlbC5pbm5lckhUTUwgPSBodG1sO1xuICAgIHJldHVybiBlbC5yZW1vdmVDaGlsZChlbC5sYXN0Q2hpbGQpO1xuICB9XG5cbiAgLy8gd3JhcCBtYXBcbiAgdmFyIHdyYXAgPSBtYXBbdGFnXSB8fCBtYXAuX2RlZmF1bHQ7XG4gIHZhciBkZXB0aCA9IHdyYXBbMF07XG4gIHZhciBwcmVmaXggPSB3cmFwWzFdO1xuICB2YXIgc3VmZml4ID0gd3JhcFsyXTtcbiAgdmFyIGVsID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBlbC5pbm5lckhUTUwgPSBwcmVmaXggKyBodG1sICsgc3VmZml4O1xuICB3aGlsZSAoZGVwdGgtLSkgZWwgPSBlbC5sYXN0Q2hpbGQ7XG5cbiAgLy8gb25lIGVsZW1lbnRcbiAgaWYgKGVsLmZpcnN0Q2hpbGQgPT0gZWwubGFzdENoaWxkKSB7XG4gICAgcmV0dXJuIGVsLnJlbW92ZUNoaWxkKGVsLmZpcnN0Q2hpbGQpO1xuICB9XG5cbiAgLy8gc2V2ZXJhbCBlbGVtZW50c1xuICB2YXIgZnJhZ21lbnQgPSBkb2MuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuICB3aGlsZSAoZWwuZmlyc3RDaGlsZCkge1xuICAgIGZyYWdtZW50LmFwcGVuZENoaWxkKGVsLnJlbW92ZUNoaWxkKGVsLmZpcnN0Q2hpbGQpKTtcbiAgfVxuXG4gIHJldHVybiBmcmFnbWVudDtcbn1cblxuZnVuY3Rpb24gcXVlcnkoc2VsZWN0b3IsIGVsKSB7XG4gIGVsID0gZWwgfHwgZG9jdW1lbnQ7XG5cbiAgcmV0dXJuIGVsLnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xufVxuXG5mdW5jdGlvbiBhbGwoc2VsZWN0b3IsIGVsKSB7XG4gIGVsID0gZWwgfHwgZG9jdW1lbnQ7XG5cbiAgcmV0dXJuIGVsLnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xufVxuXG5mdW5jdGlvbiByZW1vdmUoZWwpIHtcbiAgZWwucGFyZW50Tm9kZSAmJiBlbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsKTtcbn1cblxuZXhwb3J0IHsgYXR0ciwgY2xhc3NlcywgY2xlYXIsIGNsb3Nlc3QsIGRlbGVnYXRlLCBkb21pZnksIGNvbXBvbmVudEV2ZW50IGFzIGV2ZW50LCBtYXRjaGVzU2VsZWN0b3IgYXMgbWF0Y2hlcywgcXVlcnksIGFsbCBhcyBxdWVyeUFsbCwgcmVtb3ZlIH07XG4iLCJmdW5jdGlvbiBlbnN1cmVJbXBvcnRlZChlbGVtZW50LCB0YXJnZXQpIHtcblxuICBpZiAoZWxlbWVudC5vd25lckRvY3VtZW50ICE9PSB0YXJnZXQub3duZXJEb2N1bWVudCkge1xuICAgIHRyeSB7XG4gICAgICAvLyBtYXkgZmFpbCBvbiB3ZWJraXRcbiAgICAgIHJldHVybiB0YXJnZXQub3duZXJEb2N1bWVudC5pbXBvcnROb2RlKGVsZW1lbnQsIHRydWUpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIGlnbm9yZVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBlbGVtZW50O1xufVxuXG4vKipcbiAqIGFwcGVuZFRvIHV0aWxpdHlcbiAqL1xuXG4vKipcbiAqIEFwcGVuZCBhIG5vZGUgdG8gYSB0YXJnZXQgZWxlbWVudCBhbmQgcmV0dXJuIHRoZSBhcHBlbmRlZCBub2RlLlxuICpcbiAqIEBwYXJhbSAge1NWR0VsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSAge1NWR0VsZW1lbnR9IHRhcmdldFxuICpcbiAqIEByZXR1cm4ge1NWR0VsZW1lbnR9IHRoZSBhcHBlbmRlZCBub2RlXG4gKi9cbmZ1bmN0aW9uIGFwcGVuZFRvKGVsZW1lbnQsIHRhcmdldCkge1xuICByZXR1cm4gdGFyZ2V0LmFwcGVuZENoaWxkKGVuc3VyZUltcG9ydGVkKGVsZW1lbnQsIHRhcmdldCkpO1xufVxuXG4vKipcbiAqIGFwcGVuZCB1dGlsaXR5XG4gKi9cblxuLyoqXG4gKiBBcHBlbmQgYSBub2RlIHRvIGFuIGVsZW1lbnRcbiAqXG4gKiBAcGFyYW0gIHtTVkdFbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0gIHtTVkdFbGVtZW50fSBub2RlXG4gKlxuICogQHJldHVybiB7U1ZHRWxlbWVudH0gdGhlIGVsZW1lbnRcbiAqL1xuZnVuY3Rpb24gYXBwZW5kKHRhcmdldCwgbm9kZSkge1xuICBhcHBlbmRUbyhub2RlLCB0YXJnZXQpO1xuICByZXR1cm4gdGFyZ2V0O1xufVxuXG4vKipcbiAqIGF0dHJpYnV0ZSBhY2Nlc3NvciB1dGlsaXR5XG4gKi9cblxudmFyIExFTkdUSF9BVFRSID0gMjtcblxudmFyIENTU19QUk9QRVJUSUVTID0ge1xuICAnYWxpZ25tZW50LWJhc2VsaW5lJzogMSxcbiAgJ2Jhc2VsaW5lLXNoaWZ0JzogMSxcbiAgJ2NsaXAnOiAxLFxuICAnY2xpcC1wYXRoJzogMSxcbiAgJ2NsaXAtcnVsZSc6IDEsXG4gICdjb2xvcic6IDEsXG4gICdjb2xvci1pbnRlcnBvbGF0aW9uJzogMSxcbiAgJ2NvbG9yLWludGVycG9sYXRpb24tZmlsdGVycyc6IDEsXG4gICdjb2xvci1wcm9maWxlJzogMSxcbiAgJ2NvbG9yLXJlbmRlcmluZyc6IDEsXG4gICdjdXJzb3InOiAxLFxuICAnZGlyZWN0aW9uJzogMSxcbiAgJ2Rpc3BsYXknOiAxLFxuICAnZG9taW5hbnQtYmFzZWxpbmUnOiAxLFxuICAnZW5hYmxlLWJhY2tncm91bmQnOiAxLFxuICAnZmlsbCc6IDEsXG4gICdmaWxsLW9wYWNpdHknOiAxLFxuICAnZmlsbC1ydWxlJzogMSxcbiAgJ2ZpbHRlcic6IDEsXG4gICdmbG9vZC1jb2xvcic6IDEsXG4gICdmbG9vZC1vcGFjaXR5JzogMSxcbiAgJ2ZvbnQnOiAxLFxuICAnZm9udC1mYW1pbHknOiAxLFxuICAnZm9udC1zaXplJzogTEVOR1RIX0FUVFIsXG4gICdmb250LXNpemUtYWRqdXN0JzogMSxcbiAgJ2ZvbnQtc3RyZXRjaCc6IDEsXG4gICdmb250LXN0eWxlJzogMSxcbiAgJ2ZvbnQtdmFyaWFudCc6IDEsXG4gICdmb250LXdlaWdodCc6IDEsXG4gICdnbHlwaC1vcmllbnRhdGlvbi1ob3Jpem9udGFsJzogMSxcbiAgJ2dseXBoLW9yaWVudGF0aW9uLXZlcnRpY2FsJzogMSxcbiAgJ2ltYWdlLXJlbmRlcmluZyc6IDEsXG4gICdrZXJuaW5nJzogMSxcbiAgJ2xldHRlci1zcGFjaW5nJzogMSxcbiAgJ2xpZ2h0aW5nLWNvbG9yJzogMSxcbiAgJ21hcmtlcic6IDEsXG4gICdtYXJrZXItZW5kJzogMSxcbiAgJ21hcmtlci1taWQnOiAxLFxuICAnbWFya2VyLXN0YXJ0JzogMSxcbiAgJ21hc2snOiAxLFxuICAnb3BhY2l0eSc6IDEsXG4gICdvdmVyZmxvdyc6IDEsXG4gICdwb2ludGVyLWV2ZW50cyc6IDEsXG4gICdzaGFwZS1yZW5kZXJpbmcnOiAxLFxuICAnc3RvcC1jb2xvcic6IDEsXG4gICdzdG9wLW9wYWNpdHknOiAxLFxuICAnc3Ryb2tlJzogMSxcbiAgJ3N0cm9rZS1kYXNoYXJyYXknOiAxLFxuICAnc3Ryb2tlLWRhc2hvZmZzZXQnOiAxLFxuICAnc3Ryb2tlLWxpbmVjYXAnOiAxLFxuICAnc3Ryb2tlLWxpbmVqb2luJzogMSxcbiAgJ3N0cm9rZS1taXRlcmxpbWl0JzogMSxcbiAgJ3N0cm9rZS1vcGFjaXR5JzogMSxcbiAgJ3N0cm9rZS13aWR0aCc6IExFTkdUSF9BVFRSLFxuICAndGV4dC1hbmNob3InOiAxLFxuICAndGV4dC1kZWNvcmF0aW9uJzogMSxcbiAgJ3RleHQtcmVuZGVyaW5nJzogMSxcbiAgJ3VuaWNvZGUtYmlkaSc6IDEsXG4gICd2aXNpYmlsaXR5JzogMSxcbiAgJ3dvcmQtc3BhY2luZyc6IDEsXG4gICd3cml0aW5nLW1vZGUnOiAxXG59O1xuXG5cbmZ1bmN0aW9uIGdldEF0dHJpYnV0ZShub2RlLCBuYW1lKSB7XG4gIGlmIChDU1NfUFJPUEVSVElFU1tuYW1lXSkge1xuICAgIHJldHVybiBub2RlLnN0eWxlW25hbWVdO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBub2RlLmdldEF0dHJpYnV0ZU5TKG51bGwsIG5hbWUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHNldEF0dHJpYnV0ZShub2RlLCBuYW1lLCB2YWx1ZSkge1xuICB2YXIgaHlwaGVuYXRlZCA9IG5hbWUucmVwbGFjZSgvKFthLXpdKShbQS1aXSkvZywgJyQxLSQyJykudG9Mb3dlckNhc2UoKTtcblxuICB2YXIgdHlwZSA9IENTU19QUk9QRVJUSUVTW2h5cGhlbmF0ZWRdO1xuXG4gIGlmICh0eXBlKSB7XG4gICAgLy8gYXBwZW5kIHBpeGVsIHVuaXQsIHVubGVzcyBwcmVzZW50XG4gICAgaWYgKHR5cGUgPT09IExFTkdUSF9BVFRSICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgIHZhbHVlID0gU3RyaW5nKHZhbHVlKSArICdweCc7XG4gICAgfVxuXG4gICAgbm9kZS5zdHlsZVtoeXBoZW5hdGVkXSA9IHZhbHVlO1xuICB9IGVsc2Uge1xuICAgIG5vZGUuc2V0QXR0cmlidXRlTlMobnVsbCwgbmFtZSwgdmFsdWUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHNldEF0dHJpYnV0ZXMobm9kZSwgYXR0cnMpIHtcblxuICB2YXIgbmFtZXMgPSBPYmplY3Qua2V5cyhhdHRycyksIGksIG5hbWU7XG5cbiAgZm9yIChpID0gMCwgbmFtZTsgKG5hbWUgPSBuYW1lc1tpXSk7IGkrKykge1xuICAgIHNldEF0dHJpYnV0ZShub2RlLCBuYW1lLCBhdHRyc1tuYW1lXSk7XG4gIH1cbn1cblxuLyoqXG4gKiBHZXRzIG9yIHNldHMgcmF3IGF0dHJpYnV0ZXMgb24gYSBub2RlLlxuICpcbiAqIEBwYXJhbSAge1NWR0VsZW1lbnR9IG5vZGVcbiAqIEBwYXJhbSAge09iamVjdH0gW2F0dHJzXVxuICogQHBhcmFtICB7U3RyaW5nfSBbbmFtZV1cbiAqIEBwYXJhbSAge1N0cmluZ30gW3ZhbHVlXVxuICpcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqL1xuZnVuY3Rpb24gYXR0cihub2RlLCBuYW1lLCB2YWx1ZSkge1xuICBpZiAodHlwZW9mIG5hbWUgPT09ICdzdHJpbmcnKSB7XG4gICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHNldEF0dHJpYnV0ZShub2RlLCBuYW1lLCB2YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBnZXRBdHRyaWJ1dGUobm9kZSwgbmFtZSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHNldEF0dHJpYnV0ZXMobm9kZSwgbmFtZSk7XG4gIH1cblxuICByZXR1cm4gbm9kZTtcbn1cblxuLyoqXHJcbiAqIENsZWFyIHV0aWxpdHlcclxuICovXHJcbmZ1bmN0aW9uIGluZGV4KGFyciwgb2JqKSB7XHJcbiAgaWYgKGFyci5pbmRleE9mKSB7XHJcbiAgICByZXR1cm4gYXJyLmluZGV4T2Yob2JqKTtcclxuICB9XHJcblxyXG5cclxuICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7ICsraSkge1xyXG4gICAgaWYgKGFycltpXSA9PT0gb2JqKSB7XHJcbiAgICAgIHJldHVybiBpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIC0xO1xyXG59XHJcblxyXG52YXIgcmUgPSAvXFxzKy87XHJcblxyXG52YXIgdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xyXG5cclxuZnVuY3Rpb24gZGVmaW5lZChvKSB7XHJcbiAgcmV0dXJuIHR5cGVvZiBvICE9PSAndW5kZWZpbmVkJztcclxufVxyXG5cclxuLyoqXHJcbiAqIFdyYXAgYGVsYCBpbiBhIGBDbGFzc0xpc3RgLlxyXG4gKlxyXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsXHJcbiAqIEByZXR1cm4ge0NsYXNzTGlzdH1cclxuICogQGFwaSBwdWJsaWNcclxuICovXHJcblxyXG5mdW5jdGlvbiBjbGFzc2VzKGVsKSB7XHJcbiAgcmV0dXJuIG5ldyBDbGFzc0xpc3QoZWwpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBDbGFzc0xpc3QoZWwpIHtcclxuICBpZiAoIWVsIHx8ICFlbC5ub2RlVHlwZSkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKCdBIERPTSBlbGVtZW50IHJlZmVyZW5jZSBpcyByZXF1aXJlZCcpO1xyXG4gIH1cclxuICB0aGlzLmVsID0gZWw7XHJcbiAgdGhpcy5saXN0ID0gZWwuY2xhc3NMaXN0O1xyXG59XHJcblxyXG4vKipcclxuICogQWRkIGNsYXNzIGBuYW1lYCBpZiBub3QgYWxyZWFkeSBwcmVzZW50LlxyXG4gKlxyXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZVxyXG4gKiBAcmV0dXJuIHtDbGFzc0xpc3R9XHJcbiAqIEBhcGkgcHVibGljXHJcbiAqL1xyXG5cclxuQ2xhc3NMaXN0LnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbihuYW1lKSB7XHJcblxyXG4gIC8vIGNsYXNzTGlzdFxyXG4gIGlmICh0aGlzLmxpc3QpIHtcclxuICAgIHRoaXMubGlzdC5hZGQobmFtZSk7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8vIGZhbGxiYWNrXHJcbiAgdmFyIGFyciA9IHRoaXMuYXJyYXkoKTtcclxuICB2YXIgaSA9IGluZGV4KGFyciwgbmFtZSk7XHJcbiAgaWYgKCF+aSkge1xyXG4gICAgYXJyLnB1c2gobmFtZSk7XHJcbiAgfVxyXG5cclxuICBpZiAoZGVmaW5lZCh0aGlzLmVsLmNsYXNzTmFtZS5iYXNlVmFsKSkge1xyXG4gICAgdGhpcy5lbC5jbGFzc05hbWUuYmFzZVZhbCA9IGFyci5qb2luKCcgJyk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHRoaXMuZWwuY2xhc3NOYW1lID0gYXJyLmpvaW4oJyAnKTtcclxuICB9XHJcblxyXG4gIHJldHVybiB0aGlzO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFJlbW92ZSBjbGFzcyBgbmFtZWAgd2hlbiBwcmVzZW50LCBvclxyXG4gKiBwYXNzIGEgcmVndWxhciBleHByZXNzaW9uIHRvIHJlbW92ZVxyXG4gKiBhbnkgd2hpY2ggbWF0Y2guXHJcbiAqXHJcbiAqIEBwYXJhbSB7U3RyaW5nfFJlZ0V4cH0gbmFtZVxyXG4gKiBAcmV0dXJuIHtDbGFzc0xpc3R9XHJcbiAqIEBhcGkgcHVibGljXHJcbiAqL1xyXG5cclxuQ2xhc3NMaXN0LnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbihuYW1lKSB7XHJcbiAgaWYgKCdbb2JqZWN0IFJlZ0V4cF0nID09PSB0b1N0cmluZy5jYWxsKG5hbWUpKSB7XHJcbiAgICByZXR1cm4gdGhpcy5yZW1vdmVNYXRjaGluZyhuYW1lKTtcclxuICB9XHJcblxyXG4gIC8vIGNsYXNzTGlzdFxyXG4gIGlmICh0aGlzLmxpc3QpIHtcclxuICAgIHRoaXMubGlzdC5yZW1vdmUobmFtZSk7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8vIGZhbGxiYWNrXHJcbiAgdmFyIGFyciA9IHRoaXMuYXJyYXkoKTtcclxuICB2YXIgaSA9IGluZGV4KGFyciwgbmFtZSk7XHJcbiAgaWYgKH5pKSB7XHJcbiAgICBhcnIuc3BsaWNlKGksIDEpO1xyXG4gIH1cclxuICB0aGlzLmVsLmNsYXNzTmFtZS5iYXNlVmFsID0gYXJyLmpvaW4oJyAnKTtcclxuICByZXR1cm4gdGhpcztcclxufTtcclxuXHJcbi8qKlxyXG4gKiBSZW1vdmUgYWxsIGNsYXNzZXMgbWF0Y2hpbmcgYHJlYC5cclxuICpcclxuICogQHBhcmFtIHtSZWdFeHB9IHJlXHJcbiAqIEByZXR1cm4ge0NsYXNzTGlzdH1cclxuICogQGFwaSBwcml2YXRlXHJcbiAqL1xyXG5cclxuQ2xhc3NMaXN0LnByb3RvdHlwZS5yZW1vdmVNYXRjaGluZyA9IGZ1bmN0aW9uKHJlKSB7XHJcbiAgdmFyIGFyciA9IHRoaXMuYXJyYXkoKTtcclxuICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xyXG4gICAgaWYgKHJlLnRlc3QoYXJyW2ldKSkge1xyXG4gICAgICB0aGlzLnJlbW92ZShhcnJbaV0pO1xyXG4gICAgfVxyXG4gIH1cclxuICByZXR1cm4gdGhpcztcclxufTtcclxuXHJcbi8qKlxyXG4gKiBUb2dnbGUgY2xhc3MgYG5hbWVgLCBjYW4gZm9yY2Ugc3RhdGUgdmlhIGBmb3JjZWAuXHJcbiAqXHJcbiAqIEZvciBicm93c2VycyB0aGF0IHN1cHBvcnQgY2xhc3NMaXN0LCBidXQgZG8gbm90IHN1cHBvcnQgYGZvcmNlYCB5ZXQsXHJcbiAqIHRoZSBtaXN0YWtlIHdpbGwgYmUgZGV0ZWN0ZWQgYW5kIGNvcnJlY3RlZC5cclxuICpcclxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVcclxuICogQHBhcmFtIHtCb29sZWFufSBmb3JjZVxyXG4gKiBAcmV0dXJuIHtDbGFzc0xpc3R9XHJcbiAqIEBhcGkgcHVibGljXHJcbiAqL1xyXG5cclxuQ2xhc3NMaXN0LnByb3RvdHlwZS50b2dnbGUgPSBmdW5jdGlvbihuYW1lLCBmb3JjZSkge1xyXG4gIC8vIGNsYXNzTGlzdFxyXG4gIGlmICh0aGlzLmxpc3QpIHtcclxuICAgIGlmIChkZWZpbmVkKGZvcmNlKSkge1xyXG4gICAgICBpZiAoZm9yY2UgIT09IHRoaXMubGlzdC50b2dnbGUobmFtZSwgZm9yY2UpKSB7XHJcbiAgICAgICAgdGhpcy5saXN0LnRvZ2dsZShuYW1lKTsgLy8gdG9nZ2xlIGFnYWluIHRvIGNvcnJlY3RcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5saXN0LnRvZ2dsZShuYW1lKTtcclxuICAgIH1cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLy8gZmFsbGJhY2tcclxuICBpZiAoZGVmaW5lZChmb3JjZSkpIHtcclxuICAgIGlmICghZm9yY2UpIHtcclxuICAgICAgdGhpcy5yZW1vdmUobmFtZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmFkZChuYW1lKTtcclxuICAgIH1cclxuICB9IGVsc2Uge1xyXG4gICAgaWYgKHRoaXMuaGFzKG5hbWUpKSB7XHJcbiAgICAgIHRoaXMucmVtb3ZlKG5hbWUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5hZGQobmFtZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gdGhpcztcclxufTtcclxuXHJcbi8qKlxyXG4gKiBSZXR1cm4gYW4gYXJyYXkgb2YgY2xhc3Nlcy5cclxuICpcclxuICogQHJldHVybiB7QXJyYXl9XHJcbiAqIEBhcGkgcHVibGljXHJcbiAqL1xyXG5cclxuQ2xhc3NMaXN0LnByb3RvdHlwZS5hcnJheSA9IGZ1bmN0aW9uKCkge1xyXG4gIHZhciBjbGFzc05hbWUgPSB0aGlzLmVsLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSB8fCAnJztcclxuICB2YXIgc3RyID0gY2xhc3NOYW1lLnJlcGxhY2UoL15cXHMrfFxccyskL2csICcnKTtcclxuICB2YXIgYXJyID0gc3RyLnNwbGl0KHJlKTtcclxuICBpZiAoJycgPT09IGFyclswXSkge1xyXG4gICAgYXJyLnNoaWZ0KCk7XHJcbiAgfVxyXG4gIHJldHVybiBhcnI7XHJcbn07XHJcblxyXG4vKipcclxuICogQ2hlY2sgaWYgY2xhc3MgYG5hbWVgIGlzIHByZXNlbnQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lXHJcbiAqIEByZXR1cm4ge0NsYXNzTGlzdH1cclxuICogQGFwaSBwdWJsaWNcclxuICovXHJcblxyXG5DbGFzc0xpc3QucHJvdG90eXBlLmhhcyA9XHJcbkNsYXNzTGlzdC5wcm90b3R5cGUuY29udGFpbnMgPSBmdW5jdGlvbihuYW1lKSB7XHJcbiAgcmV0dXJuIChcclxuICAgIHRoaXMubGlzdCA/XHJcbiAgICAgIHRoaXMubGlzdC5jb250YWlucyhuYW1lKSA6XHJcbiAgICAgICEhIH5pbmRleCh0aGlzLmFycmF5KCksIG5hbWUpXHJcbiAgKTtcclxufTtcblxuZnVuY3Rpb24gcmVtb3ZlKGVsZW1lbnQpIHtcbiAgdmFyIHBhcmVudCA9IGVsZW1lbnQucGFyZW50Tm9kZTtcblxuICBpZiAocGFyZW50KSB7XG4gICAgcGFyZW50LnJlbW92ZUNoaWxkKGVsZW1lbnQpO1xuICB9XG5cbiAgcmV0dXJuIGVsZW1lbnQ7XG59XG5cbi8qKlxuICogQ2xlYXIgdXRpbGl0eVxuICovXG5cbi8qKlxuICogUmVtb3ZlcyBhbGwgY2hpbGRyZW4gZnJvbSB0aGUgZ2l2ZW4gZWxlbWVudFxuICpcbiAqIEBwYXJhbSAge0RPTUVsZW1lbnR9IGVsZW1lbnRcbiAqIEByZXR1cm4ge0RPTUVsZW1lbnR9IHRoZSBlbGVtZW50IChmb3IgY2hhaW5pbmcpXG4gKi9cbmZ1bmN0aW9uIGNsZWFyKGVsZW1lbnQpIHtcbiAgdmFyIGNoaWxkO1xuXG4gIHdoaWxlICgoY2hpbGQgPSBlbGVtZW50LmZpcnN0Q2hpbGQpKSB7XG4gICAgcmVtb3ZlKGNoaWxkKTtcbiAgfVxuXG4gIHJldHVybiBlbGVtZW50O1xufVxuXG5mdW5jdGlvbiBjbG9uZShlbGVtZW50KSB7XG4gIHJldHVybiBlbGVtZW50LmNsb25lTm9kZSh0cnVlKTtcbn1cblxudmFyIG5zID0ge1xuICBzdmc6ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zydcbn07XG5cbi8qKlxuICogRE9NIHBhcnNpbmcgdXRpbGl0eVxuICovXG5cbnZhciBTVkdfU1RBUlQgPSAnPHN2ZyB4bWxucz1cIicgKyBucy5zdmcgKyAnXCInO1xuXG5mdW5jdGlvbiBwYXJzZShzdmcpIHtcblxuICB2YXIgdW53cmFwID0gZmFsc2U7XG5cbiAgLy8gZW5zdXJlIHdlIGltcG9ydCBhIHZhbGlkIHN2ZyBkb2N1bWVudFxuICBpZiAoc3ZnLnN1YnN0cmluZygwLCA0KSA9PT0gJzxzdmcnKSB7XG4gICAgaWYgKHN2Zy5pbmRleE9mKG5zLnN2ZykgPT09IC0xKSB7XG4gICAgICBzdmcgPSBTVkdfU1RBUlQgKyBzdmcuc3Vic3RyaW5nKDQpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBuYW1lc3BhY2Ugc3ZnXG4gICAgc3ZnID0gU1ZHX1NUQVJUICsgJz4nICsgc3ZnICsgJzwvc3ZnPic7XG4gICAgdW53cmFwID0gdHJ1ZTtcbiAgfVxuXG4gIHZhciBwYXJzZWQgPSBwYXJzZURvY3VtZW50KHN2Zyk7XG5cbiAgaWYgKCF1bndyYXApIHtcbiAgICByZXR1cm4gcGFyc2VkO1xuICB9XG5cbiAgdmFyIGZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuXG4gIHZhciBwYXJlbnQgPSBwYXJzZWQuZmlyc3RDaGlsZDtcblxuICB3aGlsZSAocGFyZW50LmZpcnN0Q2hpbGQpIHtcbiAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChwYXJlbnQuZmlyc3RDaGlsZCk7XG4gIH1cblxuICByZXR1cm4gZnJhZ21lbnQ7XG59XG5cbmZ1bmN0aW9uIHBhcnNlRG9jdW1lbnQoc3ZnKSB7XG5cbiAgdmFyIHBhcnNlcjtcblxuICAvLyBwYXJzZVxuICBwYXJzZXIgPSBuZXcgRE9NUGFyc2VyKCk7XG4gIHBhcnNlci5hc3luYyA9IGZhbHNlO1xuXG4gIHJldHVybiBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKHN2ZywgJ3RleHQveG1sJyk7XG59XG5cbi8qKlxuICogQ3JlYXRlIHV0aWxpdHkgZm9yIFNWRyBlbGVtZW50c1xuICovXG5cblxuLyoqXG4gKiBDcmVhdGUgYSBzcGVjaWZpYyB0eXBlIGZyb20gbmFtZSBvciBTVkcgbWFya3VwLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIHRoZSBuYW1lIG9yIG1hcmt1cCBvZiB0aGUgZWxlbWVudFxuICogQHBhcmFtIHtPYmplY3R9IFthdHRyc10gYXR0cmlidXRlcyB0byBzZXQgb24gdGhlIGVsZW1lbnRcbiAqXG4gKiBAcmV0dXJucyB7U1ZHRWxlbWVudH1cbiAqL1xuZnVuY3Rpb24gY3JlYXRlKG5hbWUsIGF0dHJzKSB7XG4gIHZhciBlbGVtZW50O1xuXG4gIGlmIChuYW1lLmNoYXJBdCgwKSA9PT0gJzwnKSB7XG4gICAgZWxlbWVudCA9IHBhcnNlKG5hbWUpLmZpcnN0Q2hpbGQ7XG4gICAgZWxlbWVudCA9IGRvY3VtZW50LmltcG9ydE5vZGUoZWxlbWVudCwgdHJ1ZSk7XG4gIH0gZWxzZSB7XG4gICAgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhucy5zdmcsIG5hbWUpO1xuICB9XG5cbiAgaWYgKGF0dHJzKSB7XG4gICAgYXR0cihlbGVtZW50LCBhdHRycyk7XG4gIH1cblxuICByZXR1cm4gZWxlbWVudDtcbn1cblxuLyoqXG4gKiBFdmVudHMgaGFuZGxpbmcgdXRpbGl0eVxuICovXG5cbmZ1bmN0aW9uIG9uKG5vZGUsIGV2ZW50LCBsaXN0ZW5lciwgdXNlQ2FwdHVyZSkge1xuICBub2RlLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyLCB1c2VDYXB0dXJlKTtcbn1cblxuZnVuY3Rpb24gb2ZmKG5vZGUsIGV2ZW50LCBsaXN0ZW5lciwgdXNlQ2FwdHVyZSkge1xuICBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyLCB1c2VDYXB0dXJlKTtcbn1cblxuLyoqXG4gKiBHZW9tZXRyeSBoZWxwZXJzXG4gKi9cblxuLy8gZmFrZSBub2RlIHVzZWQgdG8gaW5zdGFudGlhdGUgc3ZnIGdlb21ldHJ5IGVsZW1lbnRzXG52YXIgbm9kZSA9IGNyZWF0ZSgnc3ZnJyk7XG5cbmZ1bmN0aW9uIGV4dGVuZChvYmplY3QsIHByb3BzKSB7XG4gIHZhciBpLCBrLCBrZXlzID0gT2JqZWN0LmtleXMocHJvcHMpO1xuXG4gIGZvciAoaSA9IDA7IChrID0ga2V5c1tpXSk7IGkrKykge1xuICAgIG9iamVjdFtrXSA9IHByb3BzW2tdO1xuICB9XG5cbiAgcmV0dXJuIG9iamVjdDtcbn1cblxuXG5mdW5jdGlvbiBjcmVhdGVQb2ludCh4LCB5KSB7XG4gIHZhciBwb2ludCA9IG5vZGUuY3JlYXRlU1ZHUG9pbnQoKTtcblxuICBzd2l0Y2ggKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgY2FzZSAwOlxuICAgIHJldHVybiBwb2ludDtcbiAgY2FzZSAyOlxuICAgIHggPSB7XG4gICAgICB4OiB4LFxuICAgICAgeTogeVxuICAgIH07XG4gICAgYnJlYWs7XG4gIH1cblxuICByZXR1cm4gZXh0ZW5kKHBvaW50LCB4KTtcbn1cblxuLyoqXG4gKiBDcmVhdGUgbWF0cml4IHZpYSBhcmdzLlxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogY3JlYXRlTWF0cml4KHsgYTogMSwgYjogMSB9KTtcbiAqIGNyZWF0ZU1hdHJpeCgpO1xuICogY3JlYXRlTWF0cml4KDEsIDIsIDAsIDAsIDMwLCAyMCk7XG4gKlxuICogQHJldHVybiB7U1ZHTWF0cml4fVxuICovXG5mdW5jdGlvbiBjcmVhdGVNYXRyaXgoYSwgYiwgYywgZCwgZSwgZikge1xuICB2YXIgbWF0cml4ID0gbm9kZS5jcmVhdGVTVkdNYXRyaXgoKTtcblxuICBzd2l0Y2ggKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgY2FzZSAwOlxuICAgIHJldHVybiBtYXRyaXg7XG4gIGNhc2UgMTpcbiAgICByZXR1cm4gZXh0ZW5kKG1hdHJpeCwgYSk7XG4gIGNhc2UgNjpcbiAgICByZXR1cm4gZXh0ZW5kKG1hdHJpeCwge1xuICAgICAgYTogYSxcbiAgICAgIGI6IGIsXG4gICAgICBjOiBjLFxuICAgICAgZDogZCxcbiAgICAgIGU6IGUsXG4gICAgICBmOiBmXG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlVHJhbnNmb3JtKG1hdHJpeCkge1xuICBpZiAobWF0cml4KSB7XG4gICAgcmV0dXJuIG5vZGUuY3JlYXRlU1ZHVHJhbnNmb3JtRnJvbU1hdHJpeChtYXRyaXgpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBub2RlLmNyZWF0ZVNWR1RyYW5zZm9ybSgpO1xuICB9XG59XG5cbi8qKlxuICogU2VyaWFsaXphdGlvbiB1dGlsXG4gKi9cblxudmFyIFRFWFRfRU5USVRJRVMgPSAvKFsmPD5dezF9KS9nO1xudmFyIEFUVFJfRU5USVRJRVMgPSAvKFtcXG5cXHJcIl17MX0pL2c7XG5cbnZhciBFTlRJVFlfUkVQTEFDRU1FTlQgPSB7XG4gICcmJzogJyZhbXA7JyxcbiAgJzwnOiAnJmx0OycsXG4gICc+JzogJyZndDsnLFxuICAnXCInOiAnXFwnJ1xufTtcblxuZnVuY3Rpb24gZXNjYXBlKHN0ciwgcGF0dGVybikge1xuXG4gIGZ1bmN0aW9uIHJlcGxhY2VGbihtYXRjaCwgZW50aXR5KSB7XG4gICAgcmV0dXJuIEVOVElUWV9SRVBMQUNFTUVOVFtlbnRpdHldIHx8IGVudGl0eTtcbiAgfVxuXG4gIHJldHVybiBzdHIucmVwbGFjZShwYXR0ZXJuLCByZXBsYWNlRm4pO1xufVxuXG5mdW5jdGlvbiBzZXJpYWxpemUobm9kZSwgb3V0cHV0KSB7XG5cbiAgdmFyIGksIGxlbiwgYXR0ck1hcCwgYXR0ck5vZGUsIGNoaWxkTm9kZXM7XG5cbiAgc3dpdGNoIChub2RlLm5vZGVUeXBlKSB7XG4gIC8vIFRFWFRcbiAgY2FzZSAzOlxuICAgIC8vIHJlcGxhY2Ugc3BlY2lhbCBYTUwgY2hhcmFjdGVyc1xuICAgIG91dHB1dC5wdXNoKGVzY2FwZShub2RlLnRleHRDb250ZW50LCBURVhUX0VOVElUSUVTKSk7XG4gICAgYnJlYWs7XG5cbiAgLy8gRUxFTUVOVFxuICBjYXNlIDE6XG4gICAgb3V0cHV0LnB1c2goJzwnLCBub2RlLnRhZ05hbWUpO1xuXG4gICAgaWYgKG5vZGUuaGFzQXR0cmlidXRlcygpKSB7XG4gICAgICBhdHRyTWFwID0gbm9kZS5hdHRyaWJ1dGVzO1xuICAgICAgZm9yIChpID0gMCwgbGVuID0gYXR0ck1hcC5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuICAgICAgICBhdHRyTm9kZSA9IGF0dHJNYXAuaXRlbShpKTtcbiAgICAgICAgb3V0cHV0LnB1c2goJyAnLCBhdHRyTm9kZS5uYW1lLCAnPVwiJywgZXNjYXBlKGF0dHJOb2RlLnZhbHVlLCBBVFRSX0VOVElUSUVTKSwgJ1wiJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG5vZGUuaGFzQ2hpbGROb2RlcygpKSB7XG4gICAgICBvdXRwdXQucHVzaCgnPicpO1xuICAgICAgY2hpbGROb2RlcyA9IG5vZGUuY2hpbGROb2RlcztcbiAgICAgIGZvciAoaSA9IDAsIGxlbiA9IGNoaWxkTm9kZXMubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgc2VyaWFsaXplKGNoaWxkTm9kZXMuaXRlbShpKSwgb3V0cHV0KTtcbiAgICAgIH1cbiAgICAgIG91dHB1dC5wdXNoKCc8LycsIG5vZGUudGFnTmFtZSwgJz4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3V0cHV0LnB1c2goJy8+Jyk7XG4gICAgfVxuICAgIGJyZWFrO1xuXG4gIC8vIENPTU1FTlRcbiAgY2FzZSA4OlxuICAgIG91dHB1dC5wdXNoKCc8IS0tJywgZXNjYXBlKG5vZGUubm9kZVZhbHVlLCBURVhUX0VOVElUSUVTKSwgJy0tPicpO1xuICAgIGJyZWFrO1xuXG4gIC8vIENEQVRBXG4gIGNhc2UgNDpcbiAgICBvdXRwdXQucHVzaCgnPCFbQ0RBVEFbJywgbm9kZS5ub2RlVmFsdWUsICddXT4nKTtcbiAgICBicmVhaztcblxuICBkZWZhdWx0OlxuICAgIHRocm93IG5ldyBFcnJvcigndW5hYmxlIHRvIGhhbmRsZSBub2RlICcgKyBub2RlLm5vZGVUeXBlKTtcbiAgfVxuXG4gIHJldHVybiBvdXRwdXQ7XG59XG5cbi8qKlxuICogaW5uZXJIVE1MIGxpa2UgZnVuY3Rpb25hbGl0eSBmb3IgU1ZHIGVsZW1lbnRzLlxuICogYmFzZWQgb24gaW5uZXJTVkcgKGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvaW5uZXJzdmcpXG4gKi9cblxuXG5mdW5jdGlvbiBzZXQoZWxlbWVudCwgc3ZnKSB7XG5cbiAgdmFyIHBhcnNlZCA9IHBhcnNlKHN2Zyk7XG5cbiAgLy8gY2xlYXIgZWxlbWVudCBjb250ZW50c1xuICBjbGVhcihlbGVtZW50KTtcblxuICBpZiAoIXN2Zykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmICghaXNGcmFnbWVudChwYXJzZWQpKSB7XG4gICAgLy8gZXh0cmFjdCA8c3ZnPiBmcm9tIHBhcnNlZCBkb2N1bWVudFxuICAgIHBhcnNlZCA9IHBhcnNlZC5kb2N1bWVudEVsZW1lbnQ7XG4gIH1cblxuICB2YXIgbm9kZXMgPSBzbGljZShwYXJzZWQuY2hpbGROb2Rlcyk7XG5cbiAgLy8gaW1wb3J0ICsgYXBwZW5kIGVhY2ggbm9kZVxuICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgYXBwZW5kVG8obm9kZXNbaV0sIGVsZW1lbnQpO1xuICB9XG5cbn1cblxuZnVuY3Rpb24gZ2V0KGVsZW1lbnQpIHtcbiAgdmFyIGNoaWxkID0gZWxlbWVudC5maXJzdENoaWxkLFxuICAgICAgb3V0cHV0ID0gW107XG5cbiAgd2hpbGUgKGNoaWxkKSB7XG4gICAgc2VyaWFsaXplKGNoaWxkLCBvdXRwdXQpO1xuICAgIGNoaWxkID0gY2hpbGQubmV4dFNpYmxpbmc7XG4gIH1cblxuICByZXR1cm4gb3V0cHV0LmpvaW4oJycpO1xufVxuXG5mdW5jdGlvbiBpc0ZyYWdtZW50KG5vZGUpIHtcbiAgcmV0dXJuIG5vZGUubm9kZU5hbWUgPT09ICcjZG9jdW1lbnQtZnJhZ21lbnQnO1xufVxuXG5mdW5jdGlvbiBpbm5lclNWRyhlbGVtZW50LCBzdmcpIHtcblxuICBpZiAoc3ZnICE9PSB1bmRlZmluZWQpIHtcblxuICAgIHRyeSB7XG4gICAgICBzZXQoZWxlbWVudCwgc3ZnKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2Vycm9yIHBhcnNpbmcgU1ZHOiAnICsgZS5tZXNzYWdlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZ2V0KGVsZW1lbnQpO1xuICB9XG59XG5cblxuZnVuY3Rpb24gc2xpY2UoYXJyKSB7XG4gIHJldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcnIpO1xufVxuXG4vKipcbiAqIFNlbGVjdGlvbiB1dGlsaXRpZXNcbiAqL1xuXG5mdW5jdGlvbiBzZWxlY3Qobm9kZSwgc2VsZWN0b3IpIHtcbiAgcmV0dXJuIG5vZGUucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XG59XG5cbmZ1bmN0aW9uIHNlbGVjdEFsbChub2RlLCBzZWxlY3Rvcikge1xuICB2YXIgbm9kZXMgPSBub2RlLnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xuXG4gIHJldHVybiBbXS5tYXAuY2FsbChub2RlcywgZnVuY3Rpb24oZWxlbWVudCkge1xuICAgIHJldHVybiBlbGVtZW50O1xuICB9KTtcbn1cblxuLyoqXG4gKiBwcmVwZW5kVG8gdXRpbGl0eVxuICovXG5cbi8qKlxuICogUHJlcGVuZCBhIG5vZGUgdG8gYSB0YXJnZXQgZWxlbWVudCBhbmQgcmV0dXJuIHRoZSBwcmVwZW5kZWQgbm9kZS5cbiAqXG4gKiBAcGFyYW0gIHtTVkdFbGVtZW50fSBub2RlXG4gKiBAcGFyYW0gIHtTVkdFbGVtZW50fSB0YXJnZXRcbiAqXG4gKiBAcmV0dXJuIHtTVkdFbGVtZW50fSB0aGUgcHJlcGVuZGVkIG5vZGVcbiAqL1xuZnVuY3Rpb24gcHJlcGVuZFRvKG5vZGUsIHRhcmdldCkge1xuICByZXR1cm4gdGFyZ2V0Lmluc2VydEJlZm9yZShlbnN1cmVJbXBvcnRlZChub2RlLCB0YXJnZXQpLCB0YXJnZXQuZmlyc3RDaGlsZCB8fCBudWxsKTtcbn1cblxuLyoqXG4gKiBwcmVwZW5kIHV0aWxpdHlcbiAqL1xuXG4vKipcbiAqIFByZXBlbmQgYSBub2RlIHRvIGEgdGFyZ2V0IGVsZW1lbnRcbiAqXG4gKiBAcGFyYW0gIHtTVkdFbGVtZW50fSB0YXJnZXRcbiAqIEBwYXJhbSAge1NWR0VsZW1lbnR9IG5vZGVcbiAqXG4gKiBAcmV0dXJuIHtTVkdFbGVtZW50fSB0aGUgdGFyZ2V0IGVsZW1lbnRcbiAqL1xuZnVuY3Rpb24gcHJlcGVuZCh0YXJnZXQsIG5vZGUpIHtcbiAgcHJlcGVuZFRvKG5vZGUsIHRhcmdldCk7XG4gIHJldHVybiB0YXJnZXQ7XG59XG5cbi8qKlxuICogUmVwbGFjZSB1dGlsaXR5XG4gKi9cblxuZnVuY3Rpb24gcmVwbGFjZShlbGVtZW50LCByZXBsYWNlbWVudCkge1xuICBlbGVtZW50LnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKGVuc3VyZUltcG9ydGVkKHJlcGxhY2VtZW50LCBlbGVtZW50KSwgZWxlbWVudCk7XG4gIHJldHVybiByZXBsYWNlbWVudDtcbn1cblxuLyoqXG4gKiB0cmFuc2Zvcm0gYWNjZXNzb3IgdXRpbGl0eVxuICovXG5cbmZ1bmN0aW9uIHdyYXBNYXRyaXgodHJhbnNmb3JtTGlzdCwgdHJhbnNmb3JtKSB7XG4gIGlmICh0cmFuc2Zvcm0gaW5zdGFuY2VvZiBTVkdNYXRyaXgpIHtcbiAgICByZXR1cm4gdHJhbnNmb3JtTGlzdC5jcmVhdGVTVkdUcmFuc2Zvcm1Gcm9tTWF0cml4KHRyYW5zZm9ybSk7XG4gIH1cblxuICByZXR1cm4gdHJhbnNmb3JtO1xufVxuXG5cbmZ1bmN0aW9uIHNldFRyYW5zZm9ybXModHJhbnNmb3JtTGlzdCwgdHJhbnNmb3Jtcykge1xuICB2YXIgaSwgdDtcblxuICB0cmFuc2Zvcm1MaXN0LmNsZWFyKCk7XG5cbiAgZm9yIChpID0gMDsgKHQgPSB0cmFuc2Zvcm1zW2ldKTsgaSsrKSB7XG4gICAgdHJhbnNmb3JtTGlzdC5hcHBlbmRJdGVtKHdyYXBNYXRyaXgodHJhbnNmb3JtTGlzdCwgdCkpO1xuICB9XG59XG5cbi8qKlxuICogR2V0IG9yIHNldCB0aGUgdHJhbnNmb3JtcyBvbiB0aGUgZ2l2ZW4gbm9kZS5cbiAqXG4gKiBAcGFyYW0ge1NWR0VsZW1lbnR9IG5vZGVcbiAqIEBwYXJhbSAge1NWR1RyYW5zZm9ybXxTVkdNYXRyaXh8QXJyYXk8U1ZHVHJhbnNmb3JtfFNWR01hdHJpeD59IFt0cmFuc2Zvcm1zXVxuICpcbiAqIEByZXR1cm4ge1NWR1RyYW5zZm9ybX0gdGhlIGNvbnNvbGlkYXRlZCB0cmFuc2Zvcm1cbiAqL1xuZnVuY3Rpb24gdHJhbnNmb3JtKG5vZGUsIHRyYW5zZm9ybXMpIHtcbiAgdmFyIHRyYW5zZm9ybUxpc3QgPSBub2RlLnRyYW5zZm9ybS5iYXNlVmFsO1xuXG4gIGlmICh0cmFuc2Zvcm1zKSB7XG5cbiAgICBpZiAoIUFycmF5LmlzQXJyYXkodHJhbnNmb3JtcykpIHtcbiAgICAgIHRyYW5zZm9ybXMgPSBbIHRyYW5zZm9ybXMgXTtcbiAgICB9XG5cbiAgICBzZXRUcmFuc2Zvcm1zKHRyYW5zZm9ybUxpc3QsIHRyYW5zZm9ybXMpO1xuICB9XG5cbiAgcmV0dXJuIHRyYW5zZm9ybUxpc3QuY29uc29saWRhdGUoKTtcbn1cblxuZXhwb3J0IHsgYXBwZW5kLCBhcHBlbmRUbywgYXR0ciwgY2xhc3NlcywgY2xlYXIsIGNsb25lLCBjcmVhdGUsIGlubmVyU1ZHLCBwcmVwZW5kLCBwcmVwZW5kVG8sIHJlbW92ZSwgcmVwbGFjZSwgdHJhbnNmb3JtLCBvbiwgb2ZmLCBjcmVhdGVQb2ludCwgY3JlYXRlTWF0cml4LCBjcmVhdGVUcmFuc2Zvcm0sIHNlbGVjdCwgc2VsZWN0QWxsIH07XG4iLCJ2YXIgQ0xBU1NfUEFUVEVSTiA9IC9eY2xhc3MgLztcblxuZnVuY3Rpb24gaXNDbGFzcyhmbikge1xuICByZXR1cm4gQ0xBU1NfUEFUVEVSTi50ZXN0KGZuLnRvU3RyaW5nKCkpO1xufVxuXG5mdW5jdGlvbiBpc0FycmF5KG9iaikge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IEFycmF5XSc7XG59XG5cbmZ1bmN0aW9uIGhhc093blByb3Aob2JqLCBwcm9wKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTtcbn1cblxuZnVuY3Rpb24gYW5ub3RhdGUoKSB7XG4gIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcblxuICBpZiAoYXJncy5sZW5ndGggPT09IDEgJiYgaXNBcnJheShhcmdzWzBdKSkge1xuICAgIGFyZ3MgPSBhcmdzWzBdO1xuICB9XG5cbiAgdmFyIGZuID0gYXJncy5wb3AoKTtcblxuICBmbi4kaW5qZWN0ID0gYXJncztcblxuICByZXR1cm4gZm47XG59XG5cblxuLy8gQ3VycmVudCBsaW1pdGF0aW9uczpcbi8vIC0gY2FuJ3QgcHV0IGludG8gXCJmdW5jdGlvbiBhcmdcIiBjb21tZW50c1xuLy8gZnVuY3Rpb24gLyogKG5vIHBhcmVudGhlc2lzIGxpa2UgdGhpcykgKi8gKCl7fVxuLy8gZnVuY3Rpb24gYWJjKCAvKiB4eCAobm8gcGFyZW50aGVzaXMgbGlrZSB0aGlzKSAqLyBhLCBiKSB7fVxuLy9cbi8vIEp1c3QgcHV0IHRoZSBjb21tZW50IGJlZm9yZSBmdW5jdGlvbiBvciBpbnNpZGU6XG4vLyAvKiAoKCh0aGlzIGlzIGZpbmUpKSkgKi8gZnVuY3Rpb24oYSwgYikge31cbi8vIGZ1bmN0aW9uIGFiYyhhKSB7IC8qICgoKHRoaXMgaXMgZmluZSkpKSAqL31cbi8vXG4vLyAtIGNhbid0IHJlbGlhYmx5IGF1dG8tYW5ub3RhdGUgY29uc3RydWN0b3I7IHdlJ2xsIG1hdGNoIHRoZVxuLy8gZmlyc3QgY29uc3RydWN0b3IoLi4uKSBwYXR0ZXJuIGZvdW5kIHdoaWNoIG1heSBiZSB0aGUgb25lXG4vLyBvZiBhIG5lc3RlZCBjbGFzcywgdG9vLlxuXG52YXIgQ09OU1RSVUNUT1JfQVJHUyA9IC9jb25zdHJ1Y3RvclxccypbXihdKlxcKFxccyooW14pXSopXFwpL207XG52YXIgRk5fQVJHUyA9IC9eKD86YXN5bmMgKT8oPzpmdW5jdGlvblxccyopP1teKF0qXFwoXFxzKihbXildKilcXCkvbTtcbnZhciBGTl9BUkcgPSAvXFwvXFwqKFteKl0qKVxcKlxcLy9tO1xuXG5mdW5jdGlvbiBwYXJzZUFubm90YXRpb25zKGZuKSB7XG5cbiAgaWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGFubm90YXRlIFwiJyArIGZuICsgJ1wiLiBFeHBlY3RlZCBhIGZ1bmN0aW9uIScpO1xuICB9XG5cbiAgdmFyIG1hdGNoID0gZm4udG9TdHJpbmcoKS5tYXRjaChpc0NsYXNzKGZuKSA/IENPTlNUUlVDVE9SX0FSR1MgOiBGTl9BUkdTKTtcblxuICAvLyBtYXkgcGFyc2UgY2xhc3Mgd2l0aG91dCBjb25zdHJ1Y3RvclxuICBpZiAoIW1hdGNoKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG5cbiAgcmV0dXJuIG1hdGNoWzFdICYmIG1hdGNoWzFdLnNwbGl0KCcsJykubWFwKGZ1bmN0aW9uKGFyZykge1xuICAgIG1hdGNoID0gYXJnLm1hdGNoKEZOX0FSRyk7XG4gICAgcmV0dXJuIG1hdGNoID8gbWF0Y2hbMV0udHJpbSgpIDogYXJnLnRyaW0oKTtcbiAgfSkgfHwgW107XG59XG5cbmZ1bmN0aW9uIE1vZHVsZSgpIHtcbiAgdmFyIHByb3ZpZGVycyA9IFtdO1xuXG4gIHRoaXMuZmFjdG9yeSA9IGZ1bmN0aW9uKG5hbWUsIGZhY3RvcnkpIHtcbiAgICBwcm92aWRlcnMucHVzaChbbmFtZSwgJ2ZhY3RvcnknLCBmYWN0b3J5XSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgdGhpcy52YWx1ZSA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgcHJvdmlkZXJzLnB1c2goW25hbWUsICd2YWx1ZScsIHZhbHVlXSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgdGhpcy50eXBlID0gZnVuY3Rpb24obmFtZSwgdHlwZSkge1xuICAgIHByb3ZpZGVycy5wdXNoKFtuYW1lLCAndHlwZScsIHR5cGVdKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICB0aGlzLmZvckVhY2ggPSBmdW5jdGlvbihpdGVyYXRvcikge1xuICAgIHByb3ZpZGVycy5mb3JFYWNoKGl0ZXJhdG9yKTtcbiAgfTtcblxufVxuXG5mdW5jdGlvbiBJbmplY3Rvcihtb2R1bGVzLCBwYXJlbnQpIHtcbiAgcGFyZW50ID0gcGFyZW50IHx8IHtcbiAgICBnZXQ6IGZ1bmN0aW9uKG5hbWUsIHN0cmljdCkge1xuICAgICAgY3VycmVudGx5UmVzb2x2aW5nLnB1c2gobmFtZSk7XG5cbiAgICAgIGlmIChzdHJpY3QgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgZXJyb3IoJ05vIHByb3ZpZGVyIGZvciBcIicgKyBuYW1lICsgJ1wiIScpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB2YXIgY3VycmVudGx5UmVzb2x2aW5nID0gW107XG4gIHZhciBwcm92aWRlcnMgPSB0aGlzLl9wcm92aWRlcnMgPSBPYmplY3QuY3JlYXRlKHBhcmVudC5fcHJvdmlkZXJzIHx8IG51bGwpO1xuICB2YXIgaW5zdGFuY2VzID0gdGhpcy5faW5zdGFuY2VzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuICB2YXIgc2VsZiA9IGluc3RhbmNlcy5pbmplY3RvciA9IHRoaXM7XG5cbiAgdmFyIGVycm9yID0gZnVuY3Rpb24obXNnKSB7XG4gICAgdmFyIHN0YWNrID0gY3VycmVudGx5UmVzb2x2aW5nLmpvaW4oJyAtPiAnKTtcbiAgICBjdXJyZW50bHlSZXNvbHZpbmcubGVuZ3RoID0gMDtcbiAgICByZXR1cm4gbmV3IEVycm9yKHN0YWNrID8gbXNnICsgJyAoUmVzb2x2aW5nOiAnICsgc3RhY2sgKyAnKScgOiBtc2cpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm4gYSBuYW1lZCBzZXJ2aWNlLlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZVxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtzdHJpY3Q9dHJ1ZV0gaWYgZmFsc2UsIHJlc29sdmUgbWlzc2luZyBzZXJ2aWNlcyB0byBudWxsXG4gICAqXG4gICAqIEByZXR1cm4ge09iamVjdH1cbiAgICovXG4gIHZhciBnZXQgPSBmdW5jdGlvbihuYW1lLCBzdHJpY3QpIHtcbiAgICBpZiAoIXByb3ZpZGVyc1tuYW1lXSAmJiBuYW1lLmluZGV4T2YoJy4nKSAhPT0gLTEpIHtcbiAgICAgIHZhciBwYXJ0cyA9IG5hbWUuc3BsaXQoJy4nKTtcbiAgICAgIHZhciBwaXZvdCA9IGdldChwYXJ0cy5zaGlmdCgpKTtcblxuICAgICAgd2hpbGUgKHBhcnRzLmxlbmd0aCkge1xuICAgICAgICBwaXZvdCA9IHBpdm90W3BhcnRzLnNoaWZ0KCldO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcGl2b3Q7XG4gICAgfVxuXG4gICAgaWYgKGhhc093blByb3AoaW5zdGFuY2VzLCBuYW1lKSkge1xuICAgICAgcmV0dXJuIGluc3RhbmNlc1tuYW1lXTtcbiAgICB9XG5cbiAgICBpZiAoaGFzT3duUHJvcChwcm92aWRlcnMsIG5hbWUpKSB7XG4gICAgICBpZiAoY3VycmVudGx5UmVzb2x2aW5nLmluZGV4T2YobmFtZSkgIT09IC0xKSB7XG4gICAgICAgIGN1cnJlbnRseVJlc29sdmluZy5wdXNoKG5hbWUpO1xuICAgICAgICB0aHJvdyBlcnJvcignQ2Fubm90IHJlc29sdmUgY2lyY3VsYXIgZGVwZW5kZW5jeSEnKTtcbiAgICAgIH1cblxuICAgICAgY3VycmVudGx5UmVzb2x2aW5nLnB1c2gobmFtZSk7XG4gICAgICBpbnN0YW5jZXNbbmFtZV0gPSBwcm92aWRlcnNbbmFtZV1bMF0ocHJvdmlkZXJzW25hbWVdWzFdKTtcbiAgICAgIGN1cnJlbnRseVJlc29sdmluZy5wb3AoKTtcblxuICAgICAgcmV0dXJuIGluc3RhbmNlc1tuYW1lXTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGFyZW50LmdldChuYW1lLCBzdHJpY3QpO1xuICB9O1xuXG4gIHZhciBmbkRlZiA9IGZ1bmN0aW9uKGZuLCBsb2NhbHMpIHtcblxuICAgIGlmICh0eXBlb2YgbG9jYWxzID09PSAndW5kZWZpbmVkJykge1xuICAgICAgbG9jYWxzID0ge307XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgaWYgKGlzQXJyYXkoZm4pKSB7XG4gICAgICAgIGZuID0gYW5ub3RhdGUoZm4uc2xpY2UoKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBpbnZva2UgXCInICsgZm4gKyAnXCIuIEV4cGVjdGVkIGEgZnVuY3Rpb24hJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGluamVjdCA9IGZuLiRpbmplY3QgfHwgcGFyc2VBbm5vdGF0aW9ucyhmbik7XG4gICAgdmFyIGRlcGVuZGVuY2llcyA9IGluamVjdC5tYXAoZnVuY3Rpb24oZGVwKSB7XG4gICAgICBpZiAoaGFzT3duUHJvcChsb2NhbHMsIGRlcCkpIHtcbiAgICAgICAgcmV0dXJuIGxvY2Fsc1tkZXBdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGdldChkZXApO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGZuOiBmbixcbiAgICAgIGRlcGVuZGVuY2llczogZGVwZW5kZW5jaWVzXG4gICAgfTtcbiAgfTtcblxuICB2YXIgaW5zdGFudGlhdGUgPSBmdW5jdGlvbihUeXBlKSB7XG4gICAgdmFyIGRlZiA9IGZuRGVmKFR5cGUpO1xuXG4gICAgdmFyIGZuID0gZGVmLmZuLFxuICAgICAgICBkZXBlbmRlbmNpZXMgPSBkZWYuZGVwZW5kZW5jaWVzO1xuXG4gICAgLy8gaW5zdGFudGlhdGUgdmFyIGFyZ3MgY29uc3RydWN0b3JcbiAgICB2YXIgQ29uc3RydWN0b3IgPSBGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5hcHBseShmbiwgWyBudWxsIF0uY29uY2F0KGRlcGVuZGVuY2llcykpO1xuXG4gICAgcmV0dXJuIG5ldyBDb25zdHJ1Y3RvcigpO1xuICB9O1xuXG4gIHZhciBpbnZva2UgPSBmdW5jdGlvbihmdW5jLCBjb250ZXh0LCBsb2NhbHMpIHtcbiAgICB2YXIgZGVmID0gZm5EZWYoZnVuYywgbG9jYWxzKTtcblxuICAgIHZhciBmbiA9IGRlZi5mbixcbiAgICAgICAgZGVwZW5kZW5jaWVzID0gZGVmLmRlcGVuZGVuY2llcztcblxuICAgIHJldHVybiBmbi5hcHBseShjb250ZXh0LCBkZXBlbmRlbmNpZXMpO1xuICB9O1xuXG5cbiAgdmFyIGNyZWF0ZVByaXZhdGVJbmplY3RvckZhY3RvcnkgPSBmdW5jdGlvbihwcml2YXRlQ2hpbGRJbmplY3Rvcikge1xuICAgIHJldHVybiBhbm5vdGF0ZShmdW5jdGlvbihrZXkpIHtcbiAgICAgIHJldHVybiBwcml2YXRlQ2hpbGRJbmplY3Rvci5nZXQoa2V5KTtcbiAgICB9KTtcbiAgfTtcblxuICB2YXIgY3JlYXRlQ2hpbGQgPSBmdW5jdGlvbihtb2R1bGVzLCBmb3JjZU5ld0luc3RhbmNlcykge1xuICAgIGlmIChmb3JjZU5ld0luc3RhbmNlcyAmJiBmb3JjZU5ld0luc3RhbmNlcy5sZW5ndGgpIHtcbiAgICAgIHZhciBmcm9tUGFyZW50TW9kdWxlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgIHZhciBtYXRjaGVkU2NvcGVzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuICAgICAgdmFyIHByaXZhdGVJbmplY3RvcnNDYWNoZSA9IFtdO1xuICAgICAgdmFyIHByaXZhdGVDaGlsZEluamVjdG9ycyA9IFtdO1xuICAgICAgdmFyIHByaXZhdGVDaGlsZEZhY3RvcmllcyA9IFtdO1xuXG4gICAgICB2YXIgcHJvdmlkZXI7XG4gICAgICB2YXIgY2FjaGVJZHg7XG4gICAgICB2YXIgcHJpdmF0ZUNoaWxkSW5qZWN0b3I7XG4gICAgICB2YXIgcHJpdmF0ZUNoaWxkSW5qZWN0b3JGYWN0b3J5O1xuICAgICAgZm9yICh2YXIgbmFtZSBpbiBwcm92aWRlcnMpIHtcbiAgICAgICAgcHJvdmlkZXIgPSBwcm92aWRlcnNbbmFtZV07XG5cbiAgICAgICAgaWYgKGZvcmNlTmV3SW5zdGFuY2VzLmluZGV4T2YobmFtZSkgIT09IC0xKSB7XG4gICAgICAgICAgaWYgKHByb3ZpZGVyWzJdID09PSAncHJpdmF0ZScpIHtcbiAgICAgICAgICAgIGNhY2hlSWR4ID0gcHJpdmF0ZUluamVjdG9yc0NhY2hlLmluZGV4T2YocHJvdmlkZXJbM10pO1xuICAgICAgICAgICAgaWYgKGNhY2hlSWR4ID09PSAtMSkge1xuICAgICAgICAgICAgICBwcml2YXRlQ2hpbGRJbmplY3RvciA9IHByb3ZpZGVyWzNdLmNyZWF0ZUNoaWxkKFtdLCBmb3JjZU5ld0luc3RhbmNlcyk7XG4gICAgICAgICAgICAgIHByaXZhdGVDaGlsZEluamVjdG9yRmFjdG9yeSA9IGNyZWF0ZVByaXZhdGVJbmplY3RvckZhY3RvcnkocHJpdmF0ZUNoaWxkSW5qZWN0b3IpO1xuICAgICAgICAgICAgICBwcml2YXRlSW5qZWN0b3JzQ2FjaGUucHVzaChwcm92aWRlclszXSk7XG4gICAgICAgICAgICAgIHByaXZhdGVDaGlsZEluamVjdG9ycy5wdXNoKHByaXZhdGVDaGlsZEluamVjdG9yKTtcbiAgICAgICAgICAgICAgcHJpdmF0ZUNoaWxkRmFjdG9yaWVzLnB1c2gocHJpdmF0ZUNoaWxkSW5qZWN0b3JGYWN0b3J5KTtcbiAgICAgICAgICAgICAgZnJvbVBhcmVudE1vZHVsZVtuYW1lXSA9IFtwcml2YXRlQ2hpbGRJbmplY3RvckZhY3RvcnksIG5hbWUsICdwcml2YXRlJywgcHJpdmF0ZUNoaWxkSW5qZWN0b3JdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZnJvbVBhcmVudE1vZHVsZVtuYW1lXSA9IFtwcml2YXRlQ2hpbGRGYWN0b3JpZXNbY2FjaGVJZHhdLCBuYW1lLCAncHJpdmF0ZScsIHByaXZhdGVDaGlsZEluamVjdG9yc1tjYWNoZUlkeF1dO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmcm9tUGFyZW50TW9kdWxlW25hbWVdID0gW3Byb3ZpZGVyWzJdLCBwcm92aWRlclsxXV07XG4gICAgICAgICAgfVxuICAgICAgICAgIG1hdGNoZWRTY29wZXNbbmFtZV0gPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKChwcm92aWRlclsyXSA9PT0gJ2ZhY3RvcnknIHx8IHByb3ZpZGVyWzJdID09PSAndHlwZScpICYmIHByb3ZpZGVyWzFdLiRzY29wZSkge1xuICAgICAgICAgIC8qIGpzaGludCAtVzA4MyAqL1xuICAgICAgICAgIGZvcmNlTmV3SW5zdGFuY2VzLmZvckVhY2goZnVuY3Rpb24oc2NvcGUpIHtcbiAgICAgICAgICAgIGlmIChwcm92aWRlclsxXS4kc2NvcGUuaW5kZXhPZihzY29wZSkgIT09IC0xKSB7XG4gICAgICAgICAgICAgIGZyb21QYXJlbnRNb2R1bGVbbmFtZV0gPSBbcHJvdmlkZXJbMl0sIHByb3ZpZGVyWzFdXTtcbiAgICAgICAgICAgICAgbWF0Y2hlZFNjb3Blc1tzY29wZV0gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZvcmNlTmV3SW5zdGFuY2VzLmZvckVhY2goZnVuY3Rpb24oc2NvcGUpIHtcbiAgICAgICAgaWYgKCFtYXRjaGVkU2NvcGVzW3Njb3BlXSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gcHJvdmlkZXIgZm9yIFwiJyArIHNjb3BlICsgJ1wiLiBDYW5ub3QgdXNlIHByb3ZpZGVyIGZyb20gdGhlIHBhcmVudCEnKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIG1vZHVsZXMudW5zaGlmdChmcm9tUGFyZW50TW9kdWxlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IEluamVjdG9yKG1vZHVsZXMsIHNlbGYpO1xuICB9O1xuXG4gIHZhciBmYWN0b3J5TWFwID0ge1xuICAgIGZhY3Rvcnk6IGludm9rZSxcbiAgICB0eXBlOiBpbnN0YW50aWF0ZSxcbiAgICB2YWx1ZTogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gIH07XG5cbiAgbW9kdWxlcy5mb3JFYWNoKGZ1bmN0aW9uKG1vZHVsZSkge1xuXG4gICAgZnVuY3Rpb24gYXJyYXlVbndyYXAodHlwZSwgdmFsdWUpIHtcbiAgICAgIGlmICh0eXBlICE9PSAndmFsdWUnICYmIGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIHZhbHVlID0gYW5ub3RhdGUodmFsdWUuc2xpY2UoKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICAvLyBUT0RPKHZvanRhKTogaGFuZGxlIHdyb25nIGlucHV0cyAobW9kdWxlcylcbiAgICBpZiAobW9kdWxlIGluc3RhbmNlb2YgTW9kdWxlKSB7XG4gICAgICBtb2R1bGUuZm9yRWFjaChmdW5jdGlvbihwcm92aWRlcikge1xuICAgICAgICB2YXIgbmFtZSA9IHByb3ZpZGVyWzBdO1xuICAgICAgICB2YXIgdHlwZSA9IHByb3ZpZGVyWzFdO1xuICAgICAgICB2YXIgdmFsdWUgPSBwcm92aWRlclsyXTtcblxuICAgICAgICBwcm92aWRlcnNbbmFtZV0gPSBbZmFjdG9yeU1hcFt0eXBlXSwgYXJyYXlVbndyYXAodHlwZSwgdmFsdWUpLCB0eXBlXTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGlmIChtb2R1bGUuX19leHBvcnRzX18pIHtcbiAgICAgICAgdmFyIGNsb25lZE1vZHVsZSA9IE9iamVjdC5rZXlzKG1vZHVsZSkucmVkdWNlKGZ1bmN0aW9uKG0sIGtleSkge1xuICAgICAgICAgIGlmIChrZXkuc3Vic3RyaW5nKDAsIDIpICE9PSAnX18nKSB7XG4gICAgICAgICAgICBtW2tleV0gPSBtb2R1bGVba2V5XTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG07XG4gICAgICAgIH0sIE9iamVjdC5jcmVhdGUobnVsbCkpO1xuXG4gICAgICAgIHZhciBwcml2YXRlSW5qZWN0b3IgPSBuZXcgSW5qZWN0b3IoKG1vZHVsZS5fX21vZHVsZXNfXyB8fCBbXSkuY29uY2F0KFtjbG9uZWRNb2R1bGVdKSwgc2VsZik7XG4gICAgICAgIHZhciBnZXRGcm9tUHJpdmF0ZUluamVjdG9yID0gYW5ub3RhdGUoZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgcmV0dXJuIHByaXZhdGVJbmplY3Rvci5nZXQoa2V5KTtcbiAgICAgICAgfSk7XG4gICAgICAgIG1vZHVsZS5fX2V4cG9ydHNfXy5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgIHByb3ZpZGVyc1trZXldID0gW2dldEZyb21Qcml2YXRlSW5qZWN0b3IsIGtleSwgJ3ByaXZhdGUnLCBwcml2YXRlSW5qZWN0b3JdO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIE9iamVjdC5rZXlzKG1vZHVsZSkuZm9yRWFjaChmdW5jdGlvbihuYW1lKSB7XG4gICAgICAgICAgaWYgKG1vZHVsZVtuYW1lXVsyXSA9PT0gJ3ByaXZhdGUnKSB7XG4gICAgICAgICAgICBwcm92aWRlcnNbbmFtZV0gPSBtb2R1bGVbbmFtZV07XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIHR5cGUgPSBtb2R1bGVbbmFtZV1bMF07XG4gICAgICAgICAgdmFyIHZhbHVlID0gbW9kdWxlW25hbWVdWzFdO1xuXG4gICAgICAgICAgcHJvdmlkZXJzW25hbWVdID0gW2ZhY3RvcnlNYXBbdHlwZV0sIGFycmF5VW53cmFwKHR5cGUsIHZhbHVlKSwgdHlwZV07XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgLy8gcHVibGljIEFQSVxuICB0aGlzLmdldCA9IGdldDtcbiAgdGhpcy5pbnZva2UgPSBpbnZva2U7XG4gIHRoaXMuaW5zdGFudGlhdGUgPSBpbnN0YW50aWF0ZTtcbiAgdGhpcy5jcmVhdGVDaGlsZCA9IGNyZWF0ZUNoaWxkO1xufVxuXG5leHBvcnQgeyBhbm5vdGF0ZSwgcGFyc2VBbm5vdGF0aW9ucywgTW9kdWxlLCBJbmplY3RvciB9O1xuIiwidmFyIERFRkFVTFRfUkVOREVSX1BSSU9SSVRZID0gMTAwMDtcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBzaGFwZSBhbmQgY29ubmVjdGlvbiByZW5kZXJlcnMuXG4gKlxuICogQHBhcmFtIHtFdmVudEJ1c30gZXZlbnRCdXNcbiAqIEBwYXJhbSB7bnVtYmVyfSBbcmVuZGVyUHJpb3JpdHk9MTAwMF1cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQmFzZVJlbmRlcmVyKGV2ZW50QnVzLCByZW5kZXJQcmlvcml0eSkge1xuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgcmVuZGVyUHJpb3JpdHkgPSByZW5kZXJQcmlvcml0eSB8fCBERUZBVUxUX1JFTkRFUl9QUklPUklUWTtcblxuICBldmVudEJ1cy5vbihbICdyZW5kZXIuc2hhcGUnLCAncmVuZGVyLmNvbm5lY3Rpb24nIF0sIHJlbmRlclByaW9yaXR5LCBmdW5jdGlvbihldnQsIGNvbnRleHQpIHtcbiAgICB2YXIgdHlwZSA9IGV2dC50eXBlLFxuICAgICAgICBlbGVtZW50ID0gY29udGV4dC5lbGVtZW50LFxuICAgICAgICB2aXN1YWxzID0gY29udGV4dC5nZng7XG5cbiAgICBpZiAoc2VsZi5jYW5SZW5kZXIoZWxlbWVudCkpIHtcbiAgICAgIGlmICh0eXBlID09PSAncmVuZGVyLnNoYXBlJykge1xuICAgICAgICByZXR1cm4gc2VsZi5kcmF3U2hhcGUodmlzdWFscywgZWxlbWVudCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gc2VsZi5kcmF3Q29ubmVjdGlvbih2aXN1YWxzLCBlbGVtZW50KTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKFsgJ3JlbmRlci5nZXRTaGFwZVBhdGgnLCAncmVuZGVyLmdldENvbm5lY3Rpb25QYXRoJ10sIHJlbmRlclByaW9yaXR5LCBmdW5jdGlvbihldnQsIGVsZW1lbnQpIHtcbiAgICBpZiAoc2VsZi5jYW5SZW5kZXIoZWxlbWVudCkpIHtcbiAgICAgIGlmIChldnQudHlwZSA9PT0gJ3JlbmRlci5nZXRTaGFwZVBhdGgnKSB7XG4gICAgICAgIHJldHVybiBzZWxmLmdldFNoYXBlUGF0aChlbGVtZW50KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBzZWxmLmdldENvbm5lY3Rpb25QYXRoKGVsZW1lbnQpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59XG5cbi8qKlxuICogU2hvdWxkIGNoZWNrIHdoZXRoZXIgKnRoaXMqIHJlbmRlcmVyIGNhbiByZW5kZXJcbiAqIHRoZSBlbGVtZW50L2Nvbm5lY3Rpb24uXG4gKlxuICogQHBhcmFtIHtlbGVtZW50fSBlbGVtZW50XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbkJhc2VSZW5kZXJlci5wcm90b3R5cGUuY2FuUmVuZGVyID0gZnVuY3Rpb24oKSB7fTtcblxuLyoqXG4gKiBQcm92aWRlcyB0aGUgc2hhcGUncyBzbmFwIHN2ZyBlbGVtZW50IHRvIGJlIGRyYXduIG9uIHRoZSBgY2FudmFzYC5cbiAqXG4gKiBAcGFyYW0ge2Rqcy5HcmFwaGljc30gdmlzdWFsc1xuICogQHBhcmFtIHtTaGFwZX0gc2hhcGVcbiAqXG4gKiBAcmV0dXJucyB7U25hcC5zdmd9IFtyZXR1cm5zIGEgU25hcC5zdmcgcGFwZXIgZWxlbWVudCBdXG4gKi9cbkJhc2VSZW5kZXJlci5wcm90b3R5cGUuZHJhd1NoYXBlID0gZnVuY3Rpb24oKSB7fTtcblxuLyoqXG4gKiBQcm92aWRlcyB0aGUgc2hhcGUncyBzbmFwIHN2ZyBlbGVtZW50IHRvIGJlIGRyYXduIG9uIHRoZSBgY2FudmFzYC5cbiAqXG4gKiBAcGFyYW0ge2Rqcy5HcmFwaGljc30gdmlzdWFsc1xuICogQHBhcmFtIHtDb25uZWN0aW9ufSBjb25uZWN0aW9uXG4gKlxuICogQHJldHVybnMge1NuYXAuc3ZnfSBbcmV0dXJucyBhIFNuYXAuc3ZnIHBhcGVyIGVsZW1lbnQgXVxuICovXG5CYXNlUmVuZGVyZXIucHJvdG90eXBlLmRyYXdDb25uZWN0aW9uID0gZnVuY3Rpb24oKSB7fTtcblxuLyoqXG4gKiBHZXRzIHRoZSBTVkcgcGF0aCBvZiBhIHNoYXBlIHRoYXQgcmVwcmVzZW50cyBpdCdzIHZpc3VhbCBib3VuZHMuXG4gKlxuICogQHBhcmFtIHtTaGFwZX0gc2hhcGVcbiAqXG4gKiBAcmV0dXJuIHtzdHJpbmd9IHN2ZyBwYXRoXG4gKi9cbkJhc2VSZW5kZXJlci5wcm90b3R5cGUuZ2V0U2hhcGVQYXRoID0gZnVuY3Rpb24oKSB7fTtcblxuLyoqXG4gKiBHZXRzIHRoZSBTVkcgcGF0aCBvZiBhIGNvbm5lY3Rpb24gdGhhdCByZXByZXNlbnRzIGl0J3MgdmlzdWFsIGJvdW5kcy5cbiAqXG4gKiBAcGFyYW0ge0Nvbm5lY3Rpb259IGNvbm5lY3Rpb25cbiAqXG4gKiBAcmV0dXJuIHtzdHJpbmd9IHN2ZyBwYXRoXG4gKi9cbkJhc2VSZW5kZXJlci5wcm90b3R5cGUuZ2V0Q29ubmVjdGlvblBhdGggPSBmdW5jdGlvbigpIHt9O1xuIiwiaW1wb3J0IHtcbiAgYXR0ciBhcyBzdmdBdHRyLFxuICBjcmVhdGUgYXMgc3ZnQ3JlYXRlXG59IGZyb20gJ3Rpbnktc3ZnJztcblxuXG5leHBvcnQgZnVuY3Rpb24gY29tcG9uZW50c1RvUGF0aChlbGVtZW50cykge1xuICByZXR1cm4gZWxlbWVudHMuam9pbignLCcpLnJlcGxhY2UoLyw/KFtBLXpdKSw/L2csICckMScpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdG9TVkdQb2ludHMocG9pbnRzKSB7XG4gIHZhciByZXN1bHQgPSAnJztcblxuICBmb3IgKHZhciBpID0gMCwgcDsgKHAgPSBwb2ludHNbaV0pOyBpKyspIHtcbiAgICByZXN1bHQgKz0gcC54ICsgJywnICsgcC55ICsgJyAnO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUxpbmUocG9pbnRzLCBhdHRycykge1xuXG4gIHZhciBsaW5lID0gc3ZnQ3JlYXRlKCdwb2x5bGluZScpO1xuICBzdmdBdHRyKGxpbmUsIHsgcG9pbnRzOiB0b1NWR1BvaW50cyhwb2ludHMpIH0pO1xuXG4gIGlmIChhdHRycykge1xuICAgIHN2Z0F0dHIobGluZSwgYXR0cnMpO1xuICB9XG5cbiAgcmV0dXJuIGxpbmU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVMaW5lKGdmeCwgcG9pbnRzKSB7XG4gIHN2Z0F0dHIoZ2Z4LCB7IHBvaW50czogdG9TVkdQb2ludHMocG9pbnRzKSB9KTtcblxuICByZXR1cm4gZ2Z4O1xufVxuIiwiaW1wb3J0IHtcbiAgYXNzaWduLFxuICBmaWx0ZXIsXG4gIGZpbmQsXG4gIGlzQXJyYXksXG4gIGlzTnVtYmVyLFxuICBpc09iamVjdCxcbiAgaXNVbmRlZmluZWQsXG4gIGdyb3VwQnksXG4gIGZvckVhY2hcbn0gZnJvbSAnbWluLWRhc2gnO1xuXG5cbi8qKlxuICogR2V0IHBhcmVudCBlbGVtZW50cy5cbiAqXG4gKiBAcGFyYW0ge0FycmF5PGRqcy5tb2RlbC5iYXNlPn0gZWxlbWVudHNcbiAqXG4gKiBAcmV0dXJucyB7QXJyYXk8ZGpzLm1vZGVsLkJhc2U+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0UGFyZW50cyhlbGVtZW50cykge1xuXG4gIC8vIGZpbmQgZWxlbWVudHMgdGhhdCBhcmUgbm90IGNoaWxkcmVuIG9mIGFueSBvdGhlciBlbGVtZW50c1xuICByZXR1cm4gZmlsdGVyKGVsZW1lbnRzLCBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgcmV0dXJuICFmaW5kKGVsZW1lbnRzLCBmdW5jdGlvbihlKSB7XG4gICAgICByZXR1cm4gZSAhPT0gZWxlbWVudCAmJiBnZXRQYXJlbnQoZWxlbWVudCwgZSk7XG4gICAgfSk7XG4gIH0pO1xufVxuXG5cbmZ1bmN0aW9uIGdldFBhcmVudChlbGVtZW50LCBwYXJlbnQpIHtcbiAgaWYgKCFwYXJlbnQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoZWxlbWVudCA9PT0gcGFyZW50KSB7XG4gICAgcmV0dXJuIHBhcmVudDtcbiAgfVxuXG4gIGlmICghZWxlbWVudC5wYXJlbnQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICByZXR1cm4gZ2V0UGFyZW50KGVsZW1lbnQucGFyZW50LCBwYXJlbnQpO1xufVxuXG5cbi8qKlxuICogQWRkcyBhbiBlbGVtZW50IHRvIGEgY29sbGVjdGlvbiBhbmQgcmV0dXJucyB0cnVlIGlmIHRoZVxuICogZWxlbWVudCB3YXMgYWRkZWQuXG4gKlxuICogQHBhcmFtIHtBcnJheTxPYmplY3Q+fSBlbGVtZW50c1xuICogQHBhcmFtIHtPYmplY3R9IGVcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gdW5pcXVlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGQoZWxlbWVudHMsIGUsIHVuaXF1ZSkge1xuICB2YXIgY2FuQWRkID0gIXVuaXF1ZSB8fCBlbGVtZW50cy5pbmRleE9mKGUpID09PSAtMTtcblxuICBpZiAoY2FuQWRkKSB7XG4gICAgZWxlbWVudHMucHVzaChlKTtcbiAgfVxuXG4gIHJldHVybiBjYW5BZGQ7XG59XG5cblxuLyoqXG4gKiBJdGVyYXRlIG92ZXIgZWFjaCBlbGVtZW50IGluIGEgY29sbGVjdGlvbiwgY2FsbGluZyB0aGUgaXRlcmF0b3IgZnVuY3Rpb24gYGZuYFxuICogd2l0aCAoZWxlbWVudCwgaW5kZXgsIHJlY3Vyc2lvbkRlcHRoKS5cbiAqXG4gKiBSZWN1cnNlIGludG8gYWxsIGVsZW1lbnRzIHRoYXQgYXJlIHJldHVybmVkIGJ5IGBmbmAuXG4gKlxuICogQHBhcmFtICB7T2JqZWN0fEFycmF5PE9iamVjdD59IGVsZW1lbnRzXG4gKiBAcGFyYW0gIHtGdW5jdGlvbn0gZm4gaXRlcmF0b3IgZnVuY3Rpb24gY2FsbGVkIHdpdGggKGVsZW1lbnQsIGluZGV4LCByZWN1cnNpb25EZXB0aClcbiAqIEBwYXJhbSAge251bWJlcn0gW2RlcHRoXSBtYXhpbXVtIHJlY3Vyc2lvbiBkZXB0aFxuICovXG5leHBvcnQgZnVuY3Rpb24gZWFjaEVsZW1lbnQoZWxlbWVudHMsIGZuLCBkZXB0aCkge1xuXG4gIGRlcHRoID0gZGVwdGggfHwgMDtcblxuICBpZiAoIWlzQXJyYXkoZWxlbWVudHMpKSB7XG4gICAgZWxlbWVudHMgPSBbIGVsZW1lbnRzIF07XG4gIH1cblxuICBmb3JFYWNoKGVsZW1lbnRzLCBmdW5jdGlvbihzLCBpKSB7XG4gICAgdmFyIGZpbHRlciA9IGZuKHMsIGksIGRlcHRoKTtcblxuICAgIGlmIChpc0FycmF5KGZpbHRlcikgJiYgZmlsdGVyLmxlbmd0aCkge1xuICAgICAgZWFjaEVsZW1lbnQoZmlsdGVyLCBmbiwgZGVwdGggKyAxKTtcbiAgICB9XG4gIH0pO1xufVxuXG5cbi8qKlxuICogQ29sbGVjdHMgc2VsZiArIGNoaWxkIGVsZW1lbnRzIHVwIHRvIGEgZ2l2ZW4gZGVwdGggZnJvbSBhIGxpc3Qgb2YgZWxlbWVudHMuXG4gKlxuICogQHBhcmFtICB7ZGpzLm1vZGVsLkJhc2V8QXJyYXk8ZGpzLm1vZGVsLkJhc2U+fSBlbGVtZW50cyB0aGUgZWxlbWVudHMgdG8gc2VsZWN0IHRoZSBjaGlsZHJlbiBmcm9tXG4gKiBAcGFyYW0gIHtib29sZWFufSB1bmlxdWUgd2hldGhlciB0byByZXR1cm4gYSB1bmlxdWUgcmVzdWx0IHNldCAobm8gZHVwbGljYXRlcylcbiAqIEBwYXJhbSAge251bWJlcn0gbWF4RGVwdGggdGhlIGRlcHRoIHRvIHNlYXJjaCB0aHJvdWdoIG9yIC0xIGZvciBpbmZpbml0ZVxuICpcbiAqIEByZXR1cm4ge0FycmF5PGRqcy5tb2RlbC5CYXNlPn0gZm91bmQgZWxlbWVudHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNlbGZBbmRDaGlsZHJlbihlbGVtZW50cywgdW5pcXVlLCBtYXhEZXB0aCkge1xuICB2YXIgcmVzdWx0ID0gW10sXG4gICAgICBwcm9jZXNzZWRDaGlsZHJlbiA9IFtdO1xuXG4gIGVhY2hFbGVtZW50KGVsZW1lbnRzLCBmdW5jdGlvbihlbGVtZW50LCBpLCBkZXB0aCkge1xuICAgIGFkZChyZXN1bHQsIGVsZW1lbnQsIHVuaXF1ZSk7XG5cbiAgICB2YXIgY2hpbGRyZW4gPSBlbGVtZW50LmNoaWxkcmVuO1xuXG4gICAgLy8gbWF4IHRyYXZlcnNhbCBkZXB0aCBub3QgcmVhY2hlZCB5ZXRcbiAgICBpZiAobWF4RGVwdGggPT09IC0xIHx8IGRlcHRoIDwgbWF4RGVwdGgpIHtcblxuICAgICAgLy8gY2hpbGRyZW4gZXhpc3QgJiYgY2hpbGRyZW4gbm90IHlldCBwcm9jZXNzZWRcbiAgICAgIGlmIChjaGlsZHJlbiAmJiBhZGQocHJvY2Vzc2VkQ2hpbGRyZW4sIGNoaWxkcmVuLCB1bmlxdWUpKSB7XG4gICAgICAgIHJldHVybiBjaGlsZHJlbjtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogUmV0dXJuIHNlbGYgKyBkaXJlY3QgY2hpbGRyZW4gZm9yIGEgbnVtYmVyIG9mIGVsZW1lbnRzXG4gKlxuICogQHBhcmFtICB7QXJyYXk8ZGpzLm1vZGVsLkJhc2U+fSBlbGVtZW50cyB0byBxdWVyeVxuICogQHBhcmFtICB7Ym9vbGVhbn0gYWxsb3dEdXBsaWNhdGVzIHRvIGFsbG93IGR1cGxpY2F0ZXMgaW4gdGhlIHJlc3VsdCBzZXRcbiAqXG4gKiBAcmV0dXJuIHtBcnJheTxkanMubW9kZWwuQmFzZT59IHRoZSBjb2xsZWN0ZWQgZWxlbWVudHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNlbGZBbmREaXJlY3RDaGlsZHJlbihlbGVtZW50cywgYWxsb3dEdXBsaWNhdGVzKSB7XG4gIHJldHVybiBzZWxmQW5kQ2hpbGRyZW4oZWxlbWVudHMsICFhbGxvd0R1cGxpY2F0ZXMsIDEpO1xufVxuXG5cbi8qKlxuICogUmV0dXJuIHNlbGYgKyBBTEwgY2hpbGRyZW4gZm9yIGEgbnVtYmVyIG9mIGVsZW1lbnRzXG4gKlxuICogQHBhcmFtICB7QXJyYXk8ZGpzLm1vZGVsLkJhc2U+fSBlbGVtZW50cyB0byBxdWVyeVxuICogQHBhcmFtICB7Ym9vbGVhbn0gYWxsb3dEdXBsaWNhdGVzIHRvIGFsbG93IGR1cGxpY2F0ZXMgaW4gdGhlIHJlc3VsdCBzZXRcbiAqXG4gKiBAcmV0dXJuIHtBcnJheTxkanMubW9kZWwuQmFzZT59IHRoZSBjb2xsZWN0ZWQgZWxlbWVudHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNlbGZBbmRBbGxDaGlsZHJlbihlbGVtZW50cywgYWxsb3dEdXBsaWNhdGVzKSB7XG4gIHJldHVybiBzZWxmQW5kQ2hpbGRyZW4oZWxlbWVudHMsICFhbGxvd0R1cGxpY2F0ZXMsIC0xKTtcbn1cblxuXG4vKipcbiAqIEdldHMgdGhlIHRoZSBjbG9zdXJlIGZvciBhbGwgc2VsZWN0ZWQgZWxlbWVudHMsXG4gKiB0aGVpciBlbmNsb3NlZCBjaGlsZHJlbiBhbmQgY29ubmVjdGlvbnMuXG4gKlxuICogQHBhcmFtIHtBcnJheTxkanMubW9kZWwuQmFzZT59IGVsZW1lbnRzXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtpc1RvcExldmVsPXRydWVdXG4gKiBAcGFyYW0ge09iamVjdH0gW2V4aXN0aW5nQ2xvc3VyZV1cbiAqXG4gKiBAcmV0dXJuIHtPYmplY3R9IG5ld0Nsb3N1cmVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldENsb3N1cmUoZWxlbWVudHMsIGlzVG9wTGV2ZWwsIGNsb3N1cmUpIHtcblxuICBpZiAoaXNVbmRlZmluZWQoaXNUb3BMZXZlbCkpIHtcbiAgICBpc1RvcExldmVsID0gdHJ1ZTtcbiAgfVxuXG4gIGlmIChpc09iamVjdChpc1RvcExldmVsKSkge1xuICAgIGNsb3N1cmUgPSBpc1RvcExldmVsO1xuICAgIGlzVG9wTGV2ZWwgPSB0cnVlO1xuICB9XG5cblxuICBjbG9zdXJlID0gY2xvc3VyZSB8fCB7fTtcblxuICB2YXIgYWxsU2hhcGVzID0gY29weU9iamVjdChjbG9zdXJlLmFsbFNoYXBlcyksXG4gICAgICBhbGxDb25uZWN0aW9ucyA9IGNvcHlPYmplY3QoY2xvc3VyZS5hbGxDb25uZWN0aW9ucyksXG4gICAgICBlbmNsb3NlZEVsZW1lbnRzID0gY29weU9iamVjdChjbG9zdXJlLmVuY2xvc2VkRWxlbWVudHMpLFxuICAgICAgZW5jbG9zZWRDb25uZWN0aW9ucyA9IGNvcHlPYmplY3QoY2xvc3VyZS5lbmNsb3NlZENvbm5lY3Rpb25zKTtcblxuICB2YXIgdG9wTGV2ZWwgPSBjb3B5T2JqZWN0KFxuICAgIGNsb3N1cmUudG9wTGV2ZWwsXG4gICAgaXNUb3BMZXZlbCAmJiBncm91cEJ5KGVsZW1lbnRzLCBmdW5jdGlvbihlKSB7IHJldHVybiBlLmlkOyB9KVxuICApO1xuXG5cbiAgZnVuY3Rpb24gaGFuZGxlQ29ubmVjdGlvbihjKSB7XG4gICAgaWYgKHRvcExldmVsW2Muc291cmNlLmlkXSAmJiB0b3BMZXZlbFtjLnRhcmdldC5pZF0pIHtcbiAgICAgIHRvcExldmVsW2MuaWRdID0gWyBjIF07XG4gICAgfVxuXG4gICAgLy8gbm90IGVuY2xvc2VkIGFzIGEgY2hpbGQsIGJ1dCBtYXliZSBsb2dpY2FsbHlcbiAgICAvLyAoY29ubmVjdGluZyB0d28gbW92ZWQgZWxlbWVudHM/KVxuICAgIGlmIChhbGxTaGFwZXNbYy5zb3VyY2UuaWRdICYmIGFsbFNoYXBlc1tjLnRhcmdldC5pZF0pIHtcbiAgICAgIGVuY2xvc2VkQ29ubmVjdGlvbnNbYy5pZF0gPSBlbmNsb3NlZEVsZW1lbnRzW2MuaWRdID0gYztcbiAgICB9XG5cbiAgICBhbGxDb25uZWN0aW9uc1tjLmlkXSA9IGM7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVFbGVtZW50KGVsZW1lbnQpIHtcblxuICAgIGVuY2xvc2VkRWxlbWVudHNbZWxlbWVudC5pZF0gPSBlbGVtZW50O1xuXG4gICAgaWYgKGVsZW1lbnQud2F5cG9pbnRzKSB7XG5cbiAgICAgIC8vIHJlbWVtYmVyIGNvbm5lY3Rpb25cbiAgICAgIGVuY2xvc2VkQ29ubmVjdGlvbnNbZWxlbWVudC5pZF0gPSBhbGxDb25uZWN0aW9uc1tlbGVtZW50LmlkXSA9IGVsZW1lbnQ7XG4gICAgfSBlbHNlIHtcblxuICAgICAgLy8gcmVtZW1iZXIgc2hhcGVcbiAgICAgIGFsbFNoYXBlc1tlbGVtZW50LmlkXSA9IGVsZW1lbnQ7XG5cbiAgICAgIC8vIHJlbWVtYmVyIGFsbCBjb25uZWN0aW9uc1xuICAgICAgZm9yRWFjaChlbGVtZW50LmluY29taW5nLCBoYW5kbGVDb25uZWN0aW9uKTtcblxuICAgICAgZm9yRWFjaChlbGVtZW50Lm91dGdvaW5nLCBoYW5kbGVDb25uZWN0aW9uKTtcblxuICAgICAgLy8gcmVjdXJzZSBpbnRvIGNoaWxkcmVuXG4gICAgICByZXR1cm4gZWxlbWVudC5jaGlsZHJlbjtcbiAgICB9XG4gIH1cblxuICBlYWNoRWxlbWVudChlbGVtZW50cywgaGFuZGxlRWxlbWVudCk7XG5cbiAgcmV0dXJuIHtcbiAgICBhbGxTaGFwZXM6IGFsbFNoYXBlcyxcbiAgICBhbGxDb25uZWN0aW9uczogYWxsQ29ubmVjdGlvbnMsXG4gICAgdG9wTGV2ZWw6IHRvcExldmVsLFxuICAgIGVuY2xvc2VkQ29ubmVjdGlvbnM6IGVuY2xvc2VkQ29ubmVjdGlvbnMsXG4gICAgZW5jbG9zZWRFbGVtZW50czogZW5jbG9zZWRFbGVtZW50c1xuICB9O1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIHN1cnJvdW5kaW5nIGJib3ggZm9yIGFsbCBlbGVtZW50cyBpblxuICogdGhlIGFycmF5IG9yIHRoZSBlbGVtZW50IHByaW1pdGl2ZS5cbiAqXG4gKiBAcGFyYW0ge0FycmF5PGRqcy5tb2RlbC5TaGFwZT58ZGpzLm1vZGVsLlNoYXBlfSBlbGVtZW50c1xuICogQHBhcmFtIHtib29sZWFufSBzdG9wUmVjdXJzaW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRCQm94KGVsZW1lbnRzLCBzdG9wUmVjdXJzaW9uKSB7XG5cbiAgc3RvcFJlY3Vyc2lvbiA9ICEhc3RvcFJlY3Vyc2lvbjtcbiAgaWYgKCFpc0FycmF5KGVsZW1lbnRzKSkge1xuICAgIGVsZW1lbnRzID0gW2VsZW1lbnRzXTtcbiAgfVxuXG4gIHZhciBtaW5YLFxuICAgICAgbWluWSxcbiAgICAgIG1heFgsXG4gICAgICBtYXhZO1xuXG4gIGZvckVhY2goZWxlbWVudHMsIGZ1bmN0aW9uKGVsZW1lbnQpIHtcblxuICAgIC8vIElmIGVsZW1lbnQgaXMgYSBjb25uZWN0aW9uIHRoZSBiYm94IG11c3QgYmUgY29tcHV0ZWQgZmlyc3RcbiAgICB2YXIgYmJveCA9IGVsZW1lbnQ7XG4gICAgaWYgKGVsZW1lbnQud2F5cG9pbnRzICYmICFzdG9wUmVjdXJzaW9uKSB7XG4gICAgICBiYm94ID0gZ2V0QkJveChlbGVtZW50LndheXBvaW50cywgdHJ1ZSk7XG4gICAgfVxuXG4gICAgdmFyIHggPSBiYm94LngsXG4gICAgICAgIHkgPSBiYm94LnksXG4gICAgICAgIGhlaWdodCA9IGJib3guaGVpZ2h0IHx8IDAsXG4gICAgICAgIHdpZHRoID0gYmJveC53aWR0aCB8fCAwO1xuXG4gICAgaWYgKHggPCBtaW5YIHx8IG1pblggPT09IHVuZGVmaW5lZCkge1xuICAgICAgbWluWCA9IHg7XG4gICAgfVxuICAgIGlmICh5IDwgbWluWSB8fCBtaW5ZID09PSB1bmRlZmluZWQpIHtcbiAgICAgIG1pblkgPSB5O1xuICAgIH1cblxuICAgIGlmICgoeCArIHdpZHRoKSA+IG1heFggfHwgbWF4WCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBtYXhYID0geCArIHdpZHRoO1xuICAgIH1cbiAgICBpZiAoKHkgKyBoZWlnaHQpID4gbWF4WSB8fCBtYXhZID09PSB1bmRlZmluZWQpIHtcbiAgICAgIG1heFkgPSB5ICsgaGVpZ2h0O1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHtcbiAgICB4OiBtaW5YLFxuICAgIHk6IG1pblksXG4gICAgaGVpZ2h0OiBtYXhZIC0gbWluWSxcbiAgICB3aWR0aDogbWF4WCAtIG1pblhcbiAgfTtcbn1cblxuXG4vKipcbiAqIFJldHVybnMgYWxsIGVsZW1lbnRzIHRoYXQgYXJlIGVuY2xvc2VkIGZyb20gdGhlIGJvdW5kaW5nIGJveC5cbiAqXG4gKiAgICogSWYgYmJveC4od2lkdGh8aGVpZ2h0KSBpcyBub3Qgc3BlY2lmaWVkIHRoZSBtZXRob2QgcmV0dXJuc1xuICogICAgIGFsbCBlbGVtZW50cyB3aXRoIGVsZW1lbnQueC95ID4gYmJveC54L3lcbiAqICAgKiBJZiBvbmx5IGJib3gueCBvciBiYm94LnkgaXMgc3BlY2lmaWVkLCBtZXRob2QgcmV0dXJuIGFsbCBlbGVtZW50cyB3aXRoXG4gKiAgICAgZS54ID4gYmJveC54IG9yIGUueSA+IGJib3gueVxuICpcbiAqIEBwYXJhbSB7QXJyYXk8ZGpzLm1vZGVsLlNoYXBlPn0gZWxlbWVudHMgTGlzdCBvZiBFbGVtZW50cyB0byBzZWFyY2ggdGhyb3VnaFxuICogQHBhcmFtIHtkanMubW9kZWwuU2hhcGV9IGJib3ggdGhlIGVuY2xvc2luZyBiYm94LlxuICpcbiAqIEByZXR1cm4ge0FycmF5PGRqcy5tb2RlbC5TaGFwZT59IGVuY2xvc2VkIGVsZW1lbnRzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRFbmNsb3NlZEVsZW1lbnRzKGVsZW1lbnRzLCBiYm94KSB7XG5cbiAgdmFyIGZpbHRlcmVkRWxlbWVudHMgPSB7fTtcblxuICBmb3JFYWNoKGVsZW1lbnRzLCBmdW5jdGlvbihlbGVtZW50KSB7XG5cbiAgICB2YXIgZSA9IGVsZW1lbnQ7XG5cbiAgICBpZiAoZS53YXlwb2ludHMpIHtcbiAgICAgIGUgPSBnZXRCQm94KGUpO1xuICAgIH1cblxuICAgIGlmICghaXNOdW1iZXIoYmJveC55KSAmJiAoZS54ID4gYmJveC54KSkge1xuICAgICAgZmlsdGVyZWRFbGVtZW50c1tlbGVtZW50LmlkXSA9IGVsZW1lbnQ7XG4gICAgfVxuICAgIGlmICghaXNOdW1iZXIoYmJveC54KSAmJiAoZS55ID4gYmJveC55KSkge1xuICAgICAgZmlsdGVyZWRFbGVtZW50c1tlbGVtZW50LmlkXSA9IGVsZW1lbnQ7XG4gICAgfVxuICAgIGlmIChlLnggPiBiYm94LnggJiYgZS55ID4gYmJveC55KSB7XG4gICAgICBpZiAoaXNOdW1iZXIoYmJveC53aWR0aCkgJiYgaXNOdW1iZXIoYmJveC5oZWlnaHQpICYmXG4gICAgICAgICAgZS53aWR0aCArIGUueCA8IGJib3gud2lkdGggKyBiYm94LnggJiZcbiAgICAgICAgICBlLmhlaWdodCArIGUueSA8IGJib3guaGVpZ2h0ICsgYmJveC55KSB7XG5cbiAgICAgICAgZmlsdGVyZWRFbGVtZW50c1tlbGVtZW50LmlkXSA9IGVsZW1lbnQ7XG4gICAgICB9IGVsc2UgaWYgKCFpc051bWJlcihiYm94LndpZHRoKSB8fCAhaXNOdW1iZXIoYmJveC5oZWlnaHQpKSB7XG4gICAgICAgIGZpbHRlcmVkRWxlbWVudHNbZWxlbWVudC5pZF0gPSBlbGVtZW50O1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIGZpbHRlcmVkRWxlbWVudHM7XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFR5cGUoZWxlbWVudCkge1xuXG4gIGlmICgnd2F5cG9pbnRzJyBpbiBlbGVtZW50KSB7XG4gICAgcmV0dXJuICdjb25uZWN0aW9uJztcbiAgfVxuXG4gIGlmICgneCcgaW4gZWxlbWVudCkge1xuICAgIHJldHVybiAnc2hhcGUnO1xuICB9XG5cbiAgcmV0dXJuICdyb290Jztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzRnJhbWVFbGVtZW50KGVsZW1lbnQpIHtcblxuICByZXR1cm4gISEoZWxlbWVudCAmJiBlbGVtZW50LmlzRnJhbWUpO1xufVxuXG4vLyBoZWxwZXJzIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuZnVuY3Rpb24gY29weU9iamVjdChzcmMxLCBzcmMyKSB7XG4gIHJldHVybiBhc3NpZ24oe30sIHNyYzEgfHwge30sIHNyYzIgfHwge30pO1xufSIsImltcG9ydCBpbmhlcml0cyBmcm9tICdpbmhlcml0cyc7XG5cbmltcG9ydCBCYXNlUmVuZGVyZXIgZnJvbSAnLi9CYXNlUmVuZGVyZXInO1xuXG5pbXBvcnQge1xuICBjb21wb25lbnRzVG9QYXRoLFxuICBjcmVhdGVMaW5lXG59IGZyb20gJy4uL3V0aWwvUmVuZGVyVXRpbCc7XG5cbmltcG9ydCB7XG4gIGFwcGVuZCBhcyBzdmdBcHBlbmQsXG4gIGF0dHIgYXMgc3ZnQXR0cixcbiAgY3JlYXRlIGFzIHN2Z0NyZWF0ZVxufSBmcm9tICd0aW55LXN2Zyc7XG5cbmltcG9ydCB7XG4gIGlzRnJhbWVFbGVtZW50XG59IGZyb20gJy4uL3V0aWwvRWxlbWVudHMnO1xuXG4vLyBhcHBseSBkZWZhdWx0IHJlbmRlcmVyIHdpdGggbG93ZXN0IHBvc3NpYmxlIHByaW9yaXR5XG4vLyBzbyB0aGF0IGl0IG9ubHkga2lja3MgaW4gaWYgbm9vbmUgZWxzZSBjb3VsZCByZW5kZXJcbnZhciBERUZBVUxUX1JFTkRFUl9QUklPUklUWSA9IDE7XG5cbi8qKlxuICogVGhlIGRlZmF1bHQgcmVuZGVyZXIgdXNlZCBmb3Igc2hhcGVzIGFuZCBjb25uZWN0aW9ucy5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50QnVzfSBldmVudEJ1c1xuICogQHBhcmFtIHtTdHlsZXN9IHN0eWxlc1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBEZWZhdWx0UmVuZGVyZXIoZXZlbnRCdXMsIHN0eWxlcykge1xuXG4gIC8vXG4gIEJhc2VSZW5kZXJlci5jYWxsKHRoaXMsIGV2ZW50QnVzLCBERUZBVUxUX1JFTkRFUl9QUklPUklUWSk7XG5cbiAgdGhpcy5DT05ORUNUSU9OX1NUWUxFID0gc3R5bGVzLnN0eWxlKFsgJ25vLWZpbGwnIF0sIHsgc3Ryb2tlV2lkdGg6IDUsIHN0cm9rZTogJ2Z1Y2hzaWEnIH0pO1xuICB0aGlzLlNIQVBFX1NUWUxFID0gc3R5bGVzLnN0eWxlKHsgZmlsbDogJ3doaXRlJywgc3Ryb2tlOiAnZnVjaHNpYScsIHN0cm9rZVdpZHRoOiAyIH0pO1xuICB0aGlzLkZSQU1FX1NUWUxFID0gc3R5bGVzLnN0eWxlKFsgJ25vLWZpbGwnIF0sIHsgc3Ryb2tlOiAnZnVjaHNpYScsIHN0cm9rZURhc2hhcnJheTogNCwgc3Ryb2tlV2lkdGg6IDIgfSk7XG59XG5cbmluaGVyaXRzKERlZmF1bHRSZW5kZXJlciwgQmFzZVJlbmRlcmVyKTtcblxuXG5EZWZhdWx0UmVuZGVyZXIucHJvdG90eXBlLmNhblJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdHJ1ZTtcbn07XG5cbkRlZmF1bHRSZW5kZXJlci5wcm90b3R5cGUuZHJhd1NoYXBlID0gZnVuY3Rpb24gZHJhd1NoYXBlKHZpc3VhbHMsIGVsZW1lbnQpIHtcbiAgdmFyIHJlY3QgPSBzdmdDcmVhdGUoJ3JlY3QnKTtcblxuICBzdmdBdHRyKHJlY3QsIHtcbiAgICB4OiAwLFxuICAgIHk6IDAsXG4gICAgd2lkdGg6IGVsZW1lbnQud2lkdGggfHwgMCxcbiAgICBoZWlnaHQ6IGVsZW1lbnQuaGVpZ2h0IHx8IDBcbiAgfSk7XG5cbiAgaWYgKGlzRnJhbWVFbGVtZW50KGVsZW1lbnQpKSB7XG4gICAgc3ZnQXR0cihyZWN0LCB0aGlzLkZSQU1FX1NUWUxFKTtcbiAgfSBlbHNlIHtcbiAgICBzdmdBdHRyKHJlY3QsIHRoaXMuU0hBUEVfU1RZTEUpO1xuICB9XG5cbiAgc3ZnQXBwZW5kKHZpc3VhbHMsIHJlY3QpO1xuXG4gIHJldHVybiByZWN0O1xufTtcblxuRGVmYXVsdFJlbmRlcmVyLnByb3RvdHlwZS5kcmF3Q29ubmVjdGlvbiA9IGZ1bmN0aW9uIGRyYXdDb25uZWN0aW9uKHZpc3VhbHMsIGNvbm5lY3Rpb24pIHtcblxuICB2YXIgbGluZSA9IGNyZWF0ZUxpbmUoY29ubmVjdGlvbi53YXlwb2ludHMsIHRoaXMuQ09OTkVDVElPTl9TVFlMRSk7XG4gIHN2Z0FwcGVuZCh2aXN1YWxzLCBsaW5lKTtcblxuICByZXR1cm4gbGluZTtcbn07XG5cbkRlZmF1bHRSZW5kZXJlci5wcm90b3R5cGUuZ2V0U2hhcGVQYXRoID0gZnVuY3Rpb24gZ2V0U2hhcGVQYXRoKHNoYXBlKSB7XG5cbiAgdmFyIHggPSBzaGFwZS54LFxuICAgICAgeSA9IHNoYXBlLnksXG4gICAgICB3aWR0aCA9IHNoYXBlLndpZHRoLFxuICAgICAgaGVpZ2h0ID0gc2hhcGUuaGVpZ2h0O1xuXG4gIHZhciBzaGFwZVBhdGggPSBbXG4gICAgWydNJywgeCwgeV0sXG4gICAgWydsJywgd2lkdGgsIDBdLFxuICAgIFsnbCcsIDAsIGhlaWdodF0sXG4gICAgWydsJywgLXdpZHRoLCAwXSxcbiAgICBbJ3onXVxuICBdO1xuXG4gIHJldHVybiBjb21wb25lbnRzVG9QYXRoKHNoYXBlUGF0aCk7XG59O1xuXG5EZWZhdWx0UmVuZGVyZXIucHJvdG90eXBlLmdldENvbm5lY3Rpb25QYXRoID0gZnVuY3Rpb24gZ2V0Q29ubmVjdGlvblBhdGgoY29ubmVjdGlvbikge1xuICB2YXIgd2F5cG9pbnRzID0gY29ubmVjdGlvbi53YXlwb2ludHM7XG5cbiAgdmFyIGlkeCwgcG9pbnQsIGNvbm5lY3Rpb25QYXRoID0gW107XG5cbiAgZm9yIChpZHggPSAwOyAocG9pbnQgPSB3YXlwb2ludHNbaWR4XSk7IGlkeCsrKSB7XG5cbiAgICAvLyB0YWtlIGludmlzaWJsZSBkb2NraW5nIGludG8gYWNjb3VudFxuICAgIC8vIHdoZW4gY3JlYXRpbmcgdGhlIHBhdGhcbiAgICBwb2ludCA9IHBvaW50Lm9yaWdpbmFsIHx8IHBvaW50O1xuXG4gICAgY29ubmVjdGlvblBhdGgucHVzaChbIGlkeCA9PT0gMCA/ICdNJyA6ICdMJywgcG9pbnQueCwgcG9pbnQueSBdKTtcbiAgfVxuXG4gIHJldHVybiBjb21wb25lbnRzVG9QYXRoKGNvbm5lY3Rpb25QYXRoKTtcbn07XG5cblxuRGVmYXVsdFJlbmRlcmVyLiRpbmplY3QgPSBbICdldmVudEJ1cycsICdzdHlsZXMnIF07XG4iLCJpbXBvcnQgRGVmYXVsdFJlbmRlcmVyIGZyb20gJy4vRGVmYXVsdFJlbmRlcmVyJztcbmltcG9ydCBTdHlsZXMgZnJvbSAnLi9TdHlsZXMnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9faW5pdF9fOiBbICdkZWZhdWx0UmVuZGVyZXInIF0sXG4gIGRlZmF1bHRSZW5kZXJlcjogWyAndHlwZScsIERlZmF1bHRSZW5kZXJlciBdLFxuICBzdHlsZXM6IFsgJ3R5cGUnLCBTdHlsZXMgXVxufTtcbiIsImltcG9ydCB7XG4gIGlzQXJyYXksXG4gIGFzc2lnbixcbiAgcmVkdWNlXG59IGZyb20gJ21pbi1kYXNoJztcblxuXG4vKipcbiAqIEEgY29tcG9uZW50IHRoYXQgbWFuYWdlcyBzaGFwZSBzdHlsZXNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gU3R5bGVzKCkge1xuXG4gIHZhciBkZWZhdWx0VHJhaXRzID0ge1xuXG4gICAgJ25vLWZpbGwnOiB7XG4gICAgICBmaWxsOiAnbm9uZSdcbiAgICB9LFxuICAgICduby1ib3JkZXInOiB7XG4gICAgICBzdHJva2VPcGFjaXR5OiAwLjBcbiAgICB9LFxuICAgICduby1ldmVudHMnOiB7XG4gICAgICBwb2ludGVyRXZlbnRzOiAnbm9uZSdcbiAgICB9XG4gIH07XG5cbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIC8qKlxuICAgKiBCdWlsZHMgYSBzdHlsZSBkZWZpbml0aW9uIGZyb20gYSBjbGFzc05hbWUsIGEgbGlzdCBvZiB0cmFpdHMgYW5kIGFuIG9iamVjdCBvZiBhZGRpdGlvbmFsIGF0dHJpYnV0ZXMuXG4gICAqXG4gICAqIEBwYXJhbSAge3N0cmluZ30gY2xhc3NOYW1lXG4gICAqIEBwYXJhbSAge0FycmF5PHN0cmluZz59IHRyYWl0c1xuICAgKiBAcGFyYW0gIHtPYmplY3R9IGFkZGl0aW9uYWxBdHRyc1xuICAgKlxuICAgKiBAcmV0dXJuIHtPYmplY3R9IHRoZSBzdHlsZSBkZWZpbnRpb25cbiAgICovXG4gIHRoaXMuY2xzID0gZnVuY3Rpb24oY2xhc3NOYW1lLCB0cmFpdHMsIGFkZGl0aW9uYWxBdHRycykge1xuICAgIHZhciBhdHRycyA9IHRoaXMuc3R5bGUodHJhaXRzLCBhZGRpdGlvbmFsQXR0cnMpO1xuXG4gICAgcmV0dXJuIGFzc2lnbihhdHRycywgeyAnY2xhc3MnOiBjbGFzc05hbWUgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEJ1aWxkcyBhIHN0eWxlIGRlZmluaXRpb24gZnJvbSBhIGxpc3Qgb2YgdHJhaXRzIGFuZCBhbiBvYmplY3Qgb2YgYWRkaXRpb25hbCBhdHRyaWJ1dGVzLlxuICAgKlxuICAgKiBAcGFyYW0gIHtBcnJheTxzdHJpbmc+fSB0cmFpdHNcbiAgICogQHBhcmFtICB7T2JqZWN0fSBhZGRpdGlvbmFsQXR0cnNcbiAgICpcbiAgICogQHJldHVybiB7T2JqZWN0fSB0aGUgc3R5bGUgZGVmaW50aW9uXG4gICAqL1xuICB0aGlzLnN0eWxlID0gZnVuY3Rpb24odHJhaXRzLCBhZGRpdGlvbmFsQXR0cnMpIHtcblxuICAgIGlmICghaXNBcnJheSh0cmFpdHMpICYmICFhZGRpdGlvbmFsQXR0cnMpIHtcbiAgICAgIGFkZGl0aW9uYWxBdHRycyA9IHRyYWl0cztcbiAgICAgIHRyYWl0cyA9IFtdO1xuICAgIH1cblxuICAgIHZhciBhdHRycyA9IHJlZHVjZSh0cmFpdHMsIGZ1bmN0aW9uKGF0dHJzLCB0KSB7XG4gICAgICByZXR1cm4gYXNzaWduKGF0dHJzLCBkZWZhdWx0VHJhaXRzW3RdIHx8IHt9KTtcbiAgICB9LCB7fSk7XG5cbiAgICByZXR1cm4gYWRkaXRpb25hbEF0dHJzID8gYXNzaWduKGF0dHJzLCBhZGRpdGlvbmFsQXR0cnMpIDogYXR0cnM7XG4gIH07XG5cbiAgdGhpcy5jb21wdXRlU3R5bGUgPSBmdW5jdGlvbihjdXN0b20sIHRyYWl0cywgZGVmYXVsdFN0eWxlcykge1xuICAgIGlmICghaXNBcnJheSh0cmFpdHMpKSB7XG4gICAgICBkZWZhdWx0U3R5bGVzID0gdHJhaXRzO1xuICAgICAgdHJhaXRzID0gW107XG4gICAgfVxuXG4gICAgcmV0dXJuIHNlbGYuc3R5bGUodHJhaXRzIHx8IFtdLCBhc3NpZ24oe30sIGRlZmF1bHRTdHlsZXMsIGN1c3RvbSB8fCB7fSkpO1xuICB9O1xufVxuIiwiLyoqXG4gKiBGYWlsc2FmZSByZW1vdmUgYW4gZWxlbWVudCBmcm9tIGEgY29sbGVjdGlvblxuICpcbiAqIEBwYXJhbSAge0FycmF5PE9iamVjdD59IFtjb2xsZWN0aW9uXVxuICogQHBhcmFtICB7T2JqZWN0fSBbZWxlbWVudF1cbiAqXG4gKiBAcmV0dXJuIHtudW1iZXJ9IHRoZSBwcmV2aW91cyBpbmRleCBvZiB0aGUgZWxlbWVudFxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlKGNvbGxlY3Rpb24sIGVsZW1lbnQpIHtcblxuICBpZiAoIWNvbGxlY3Rpb24gfHwgIWVsZW1lbnQpIHtcbiAgICByZXR1cm4gLTE7XG4gIH1cblxuICB2YXIgaWR4ID0gY29sbGVjdGlvbi5pbmRleE9mKGVsZW1lbnQpO1xuXG4gIGlmIChpZHggIT09IC0xKSB7XG4gICAgY29sbGVjdGlvbi5zcGxpY2UoaWR4LCAxKTtcbiAgfVxuXG4gIHJldHVybiBpZHg7XG59XG5cbi8qKlxuICogRmFpbCBzYXZlIGFkZCBhbiBlbGVtZW50IHRvIHRoZSBnaXZlbiBjb25uZWN0aW9uLCBlbnN1cmluZ1xuICogaXQgZG9lcyBub3QgeWV0IGV4aXN0LlxuICpcbiAqIEBwYXJhbSB7QXJyYXk8T2JqZWN0Pn0gY29sbGVjdGlvblxuICogQHBhcmFtIHtPYmplY3R9IGVsZW1lbnRcbiAqIEBwYXJhbSB7bnVtYmVyfSBpZHhcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZChjb2xsZWN0aW9uLCBlbGVtZW50LCBpZHgpIHtcblxuICBpZiAoIWNvbGxlY3Rpb24gfHwgIWVsZW1lbnQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAodHlwZW9mIGlkeCAhPT0gJ251bWJlcicpIHtcbiAgICBpZHggPSAtMTtcbiAgfVxuXG4gIHZhciBjdXJyZW50SWR4ID0gY29sbGVjdGlvbi5pbmRleE9mKGVsZW1lbnQpO1xuXG4gIGlmIChjdXJyZW50SWR4ICE9PSAtMSkge1xuXG4gICAgaWYgKGN1cnJlbnRJZHggPT09IGlkeCkge1xuXG4gICAgICAvLyBub3RoaW5nIHRvIGRvLCBwb3NpdGlvbiBoYXMgbm90IGNoYW5nZWRcbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2Uge1xuXG4gICAgICBpZiAoaWR4ICE9PSAtMSkge1xuXG4gICAgICAgIC8vIHJlbW92ZSBmcm9tIGN1cnJlbnQgcG9zaXRpb25cbiAgICAgICAgY29sbGVjdGlvbi5zcGxpY2UoY3VycmVudElkeCwgMSk7XG4gICAgICB9IGVsc2Uge1xuXG4gICAgICAgIC8vIGFscmVhZHkgZXhpc3RzIGluIGNvbGxlY3Rpb25cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGlmIChpZHggIT09IC0xKSB7XG5cbiAgICAvLyBpbnNlcnQgYXQgc3BlY2lmaWVkIHBvc2l0aW9uXG4gICAgY29sbGVjdGlvbi5zcGxpY2UoaWR4LCAwLCBlbGVtZW50KTtcbiAgfSBlbHNlIHtcblxuICAgIC8vIHB1c2ggdG8gZW5kXG4gICAgY29sbGVjdGlvbi5wdXNoKGVsZW1lbnQpO1xuICB9XG59XG5cblxuLyoqXG4gKiBGYWlsIHNhdmUgZ2V0IHRoZSBpbmRleCBvZiBhbiBlbGVtZW50IGluIGEgY29sbGVjdGlvbi5cbiAqXG4gKiBAcGFyYW0ge0FycmF5PE9iamVjdD59IGNvbGxlY3Rpb25cbiAqIEBwYXJhbSB7T2JqZWN0fSBlbGVtZW50XG4gKlxuICogQHJldHVybiB7bnVtYmVyfSB0aGUgaW5kZXggb3IgLTEgaWYgY29sbGVjdGlvbiBvciBlbGVtZW50IGRvXG4gKiAgICAgICAgICAgICAgICAgIG5vdCBleGlzdCBvciB0aGUgZWxlbWVudCBpcyBub3QgY29udGFpbmVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5kZXhPZihjb2xsZWN0aW9uLCBlbGVtZW50KSB7XG5cbiAgaWYgKCFjb2xsZWN0aW9uIHx8ICFlbGVtZW50KSB7XG4gICAgcmV0dXJuIC0xO1xuICB9XG5cbiAgcmV0dXJuIGNvbGxlY3Rpb24uaW5kZXhPZihlbGVtZW50KTtcbn1cbiIsImltcG9ydCB7XG4gIGlzTnVtYmVyLFxuICBhc3NpZ24sXG4gIGZvckVhY2gsXG4gIGV2ZXJ5LFxuICBkZWJvdW5jZSxcbiAgYmluZCxcbiAgcmVkdWNlXG59IGZyb20gJ21pbi1kYXNoJztcblxuaW1wb3J0IHtcbiAgYWRkIGFzIGNvbGxlY3Rpb25BZGQsXG4gIHJlbW92ZSBhcyBjb2xsZWN0aW9uUmVtb3ZlXG59IGZyb20gJy4uL3V0aWwvQ29sbGVjdGlvbnMnO1xuXG5pbXBvcnQge1xuICBnZXRUeXBlXG59IGZyb20gJy4uL3V0aWwvRWxlbWVudHMnO1xuXG5pbXBvcnQge1xuICBhcHBlbmQgYXMgc3ZnQXBwZW5kLFxuICBhdHRyIGFzIHN2Z0F0dHIsXG4gIGNsYXNzZXMgYXMgc3ZnQ2xhc3NlcyxcbiAgY3JlYXRlIGFzIHN2Z0NyZWF0ZSxcbiAgdHJhbnNmb3JtIGFzIHN2Z1RyYW5zZm9ybVxufSBmcm9tICd0aW55LXN2Zyc7XG5cbmltcG9ydCB7IGNyZWF0ZU1hdHJpeCBhcyBjcmVhdGVNYXRyaXggfSBmcm9tICd0aW55LXN2Zyc7XG5cblxuZnVuY3Rpb24gcm91bmQobnVtYmVyLCByZXNvbHV0aW9uKSB7XG4gIHJldHVybiBNYXRoLnJvdW5kKG51bWJlciAqIHJlc29sdXRpb24pIC8gcmVzb2x1dGlvbjtcbn1cblxuZnVuY3Rpb24gZW5zdXJlUHgobnVtYmVyKSB7XG4gIHJldHVybiBpc051bWJlcihudW1iZXIpID8gbnVtYmVyICsgJ3B4JyA6IG51bWJlcjtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgSFRNTCBjb250YWluZXIgZWxlbWVudCBmb3IgYSBTVkcgZWxlbWVudCB3aXRoXG4gKiB0aGUgZ2l2ZW4gY29uZmlndXJhdGlvblxuICpcbiAqIEBwYXJhbSAge09iamVjdH0gb3B0aW9uc1xuICogQHJldHVybiB7SFRNTEVsZW1lbnR9IHRoZSBjb250YWluZXIgZWxlbWVudFxuICovXG5mdW5jdGlvbiBjcmVhdGVDb250YWluZXIob3B0aW9ucykge1xuXG4gIG9wdGlvbnMgPSBhc3NpZ24oe30sIHsgd2lkdGg6ICcxMDAlJywgaGVpZ2h0OiAnMTAwJScgfSwgb3B0aW9ucyk7XG5cbiAgdmFyIGNvbnRhaW5lciA9IG9wdGlvbnMuY29udGFpbmVyIHx8IGRvY3VtZW50LmJvZHk7XG5cbiAgLy8gY3JlYXRlIGEgPGRpdj4gYXJvdW5kIHRoZSBzdmcgZWxlbWVudCB3aXRoIHRoZSByZXNwZWN0aXZlIHNpemVcbiAgLy8gdGhpcyB3YXkgd2UgY2FuIGFsd2F5cyBnZXQgdGhlIGNvcnJlY3QgY29udGFpbmVyIHNpemVcbiAgLy8gKHRoaXMgaXMgaW1wb3NzaWJsZSBmb3IgPHN2Zz4gZWxlbWVudHMgYXQgdGhlIG1vbWVudClcbiAgdmFyIHBhcmVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBwYXJlbnQuc2V0QXR0cmlidXRlKCdjbGFzcycsICdkanMtY29udGFpbmVyJyk7XG5cbiAgYXNzaWduKHBhcmVudC5zdHlsZSwge1xuICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgIG92ZXJmbG93OiAnaGlkZGVuJyxcbiAgICB3aWR0aDogZW5zdXJlUHgob3B0aW9ucy53aWR0aCksXG4gICAgaGVpZ2h0OiBlbnN1cmVQeChvcHRpb25zLmhlaWdodClcbiAgfSk7XG5cbiAgY29udGFpbmVyLmFwcGVuZENoaWxkKHBhcmVudCk7XG5cbiAgcmV0dXJuIHBhcmVudDtcbn1cblxuZnVuY3Rpb24gY3JlYXRlR3JvdXAocGFyZW50LCBjbHMsIGNoaWxkSW5kZXgpIHtcbiAgdmFyIGdyb3VwID0gc3ZnQ3JlYXRlKCdnJyk7XG4gIHN2Z0NsYXNzZXMoZ3JvdXApLmFkZChjbHMpO1xuXG4gIHZhciBpbmRleCA9IGNoaWxkSW5kZXggIT09IHVuZGVmaW5lZCA/IGNoaWxkSW5kZXggOiBwYXJlbnQuY2hpbGROb2Rlcy5sZW5ndGggLSAxO1xuXG4gIC8vIG11c3QgZW5zdXJlIHNlY29uZCBhcmd1bWVudCBpcyBub2RlIG9yIF9udWxsX1xuICAvLyBjZi4gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL05vZGUvaW5zZXJ0QmVmb3JlXG4gIHBhcmVudC5pbnNlcnRCZWZvcmUoZ3JvdXAsIHBhcmVudC5jaGlsZE5vZGVzW2luZGV4XSB8fCBudWxsKTtcblxuICByZXR1cm4gZ3JvdXA7XG59XG5cbnZhciBCQVNFX0xBWUVSID0gJ2Jhc2UnO1xuXG5cbnZhciBSRVFVSVJFRF9NT0RFTF9BVFRSUyA9IHtcbiAgc2hhcGU6IFsgJ3gnLCAneScsICd3aWR0aCcsICdoZWlnaHQnIF0sXG4gIGNvbm5lY3Rpb246IFsgJ3dheXBvaW50cycgXVxufTtcblxuLyoqXG4gKiBUaGUgbWFpbiBkcmF3aW5nIGNhbnZhcy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBjb25zdHJ1Y3RvclxuICpcbiAqIEBlbWl0cyBDYW52YXMjY2FudmFzLmluaXRcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnXG4gKiBAcGFyYW0ge0V2ZW50QnVzfSBldmVudEJ1c1xuICogQHBhcmFtIHtHcmFwaGljc0ZhY3Rvcnl9IGdyYXBoaWNzRmFjdG9yeVxuICogQHBhcmFtIHtFbGVtZW50UmVnaXN0cnl9IGVsZW1lbnRSZWdpc3RyeVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDYW52YXMoY29uZmlnLCBldmVudEJ1cywgZ3JhcGhpY3NGYWN0b3J5LCBlbGVtZW50UmVnaXN0cnkpIHtcblxuICB0aGlzLl9ldmVudEJ1cyA9IGV2ZW50QnVzO1xuICB0aGlzLl9lbGVtZW50UmVnaXN0cnkgPSBlbGVtZW50UmVnaXN0cnk7XG4gIHRoaXMuX2dyYXBoaWNzRmFjdG9yeSA9IGdyYXBoaWNzRmFjdG9yeTtcblxuICB0aGlzLl9pbml0KGNvbmZpZyB8fCB7fSk7XG59XG5cbkNhbnZhcy4kaW5qZWN0ID0gW1xuICAnY29uZmlnLmNhbnZhcycsXG4gICdldmVudEJ1cycsXG4gICdncmFwaGljc0ZhY3RvcnknLFxuICAnZWxlbWVudFJlZ2lzdHJ5J1xuXTtcblxuXG5DYW52YXMucHJvdG90eXBlLl9pbml0ID0gZnVuY3Rpb24oY29uZmlnKSB7XG5cbiAgdmFyIGV2ZW50QnVzID0gdGhpcy5fZXZlbnRCdXM7XG5cbiAgLy8gQ3JlYXRlcyBhIDxzdmc+IGVsZW1lbnQgdGhhdCBpcyB3cmFwcGVkIGludG8gYSA8ZGl2Pi5cbiAgLy8gVGhpcyB3YXkgd2UgYXJlIGFsd2F5cyBhYmxlIHRvIGNvcnJlY3RseSBmaWd1cmUgb3V0IHRoZSBzaXplIG9mIHRoZSBzdmcgZWxlbWVudFxuICAvLyBieSBxdWVyeWluZyB0aGUgcGFyZW50IG5vZGUuXG4gIC8vXG4gIC8vIChJdCBpcyBub3QgcG9zc2libGUgdG8gZ2V0IHRoZSBzaXplIG9mIGEgc3ZnIGVsZW1lbnQgY3Jvc3MgYnJvd3NlciBAIDIwMTQtMDQtMDEpXG4gIC8vXG4gIC8vIDxkaXYgY2xhc3M9XCJkanMtY29udGFpbmVyXCIgc3R5bGU9XCJ3aWR0aDoge2Rlc2lyZWQtd2lkdGh9LCBoZWlnaHQ6IHtkZXNpcmVkLWhlaWdodH1cIj5cbiAgLy8gICA8c3ZnIHdpZHRoPVwiMTAwJVwiIGhlaWdodD1cIjEwMCVcIj5cbiAgLy8gICAgLi4uXG4gIC8vICAgPC9zdmc+XG4gIC8vIDwvZGl2PlxuXG4gIC8vIGh0bWwgY29udGFpbmVyXG4gIHZhciBjb250YWluZXIgPSB0aGlzLl9jb250YWluZXIgPSBjcmVhdGVDb250YWluZXIoY29uZmlnKTtcblxuICB2YXIgc3ZnID0gdGhpcy5fc3ZnID0gc3ZnQ3JlYXRlKCdzdmcnKTtcbiAgc3ZnQXR0cihzdmcsIHsgd2lkdGg6ICcxMDAlJywgaGVpZ2h0OiAnMTAwJScgfSk7XG5cbiAgc3ZnQXBwZW5kKGNvbnRhaW5lciwgc3ZnKTtcblxuICB2YXIgdmlld3BvcnQgPSB0aGlzLl92aWV3cG9ydCA9IGNyZWF0ZUdyb3VwKHN2ZywgJ3ZpZXdwb3J0Jyk7XG5cbiAgdGhpcy5fbGF5ZXJzID0ge307XG5cbiAgLy8gZGVib3VuY2UgY2FudmFzLnZpZXdib3guY2hhbmdlZCBldmVudHNcbiAgLy8gZm9yIHNtb290aGVyIGRpYWdyYW0gaW50ZXJhY3Rpb25cbiAgaWYgKGNvbmZpZy5kZWZlclVwZGF0ZSAhPT0gZmFsc2UpIHtcbiAgICB0aGlzLl92aWV3Ym94Q2hhbmdlZCA9IGRlYm91bmNlKGJpbmQodGhpcy5fdmlld2JveENoYW5nZWQsIHRoaXMpLCAzMDApO1xuICB9XG5cbiAgZXZlbnRCdXMub24oJ2RpYWdyYW0uaW5pdCcsIGZ1bmN0aW9uKCkge1xuXG4gICAgLyoqXG4gICAgICogQW4gZXZlbnQgaW5kaWNhdGluZyB0aGF0IHRoZSBjYW52YXMgaXMgcmVhZHkgdG8gYmUgZHJhd24gb24uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyT2YgQ2FudmFzXG4gICAgICpcbiAgICAgKiBAZXZlbnQgY2FudmFzLmluaXRcbiAgICAgKlxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICogQHByb3BlcnR5IHtTVkdFbGVtZW50fSBzdmcgdGhlIGNyZWF0ZWQgc3ZnIGVsZW1lbnRcbiAgICAgKiBAcHJvcGVydHkge1NWR0VsZW1lbnR9IHZpZXdwb3J0IHRoZSBkaXJlY3QgcGFyZW50IG9mIGRpYWdyYW0gZWxlbWVudHMgYW5kIHNoYXBlc1xuICAgICAqL1xuICAgIGV2ZW50QnVzLmZpcmUoJ2NhbnZhcy5pbml0Jywge1xuICAgICAgc3ZnOiBzdmcsXG4gICAgICB2aWV3cG9ydDogdmlld3BvcnRcbiAgICB9KTtcblxuICB9LCB0aGlzKTtcblxuICAvLyByZXNldCB2aWV3Ym94IG9uIHNoYXBlIGNoYW5nZXMgdG9cbiAgLy8gcmVjb21wdXRlIHRoZSB2aWV3Ym94XG4gIGV2ZW50QnVzLm9uKFtcbiAgICAnc2hhcGUuYWRkZWQnLFxuICAgICdjb25uZWN0aW9uLmFkZGVkJyxcbiAgICAnc2hhcGUucmVtb3ZlZCcsXG4gICAgJ2Nvbm5lY3Rpb24ucmVtb3ZlZCcsXG4gICAgJ2VsZW1lbnRzLmNoYW5nZWQnXG4gIF0sIGZ1bmN0aW9uKCkge1xuICAgIGRlbGV0ZSB0aGlzLl9jYWNoZWRWaWV3Ym94O1xuICB9LCB0aGlzKTtcblxuICBldmVudEJ1cy5vbignZGlhZ3JhbS5kZXN0cm95JywgNTAwLCB0aGlzLl9kZXN0cm95LCB0aGlzKTtcbiAgZXZlbnRCdXMub24oJ2RpYWdyYW0uY2xlYXInLCA1MDAsIHRoaXMuX2NsZWFyLCB0aGlzKTtcbn07XG5cbkNhbnZhcy5wcm90b3R5cGUuX2Rlc3Ryb3kgPSBmdW5jdGlvbihlbWl0KSB7XG4gIHRoaXMuX2V2ZW50QnVzLmZpcmUoJ2NhbnZhcy5kZXN0cm95Jywge1xuICAgIHN2ZzogdGhpcy5fc3ZnLFxuICAgIHZpZXdwb3J0OiB0aGlzLl92aWV3cG9ydFxuICB9KTtcblxuICB2YXIgcGFyZW50ID0gdGhpcy5fY29udGFpbmVyLnBhcmVudE5vZGU7XG5cbiAgaWYgKHBhcmVudCkge1xuICAgIHBhcmVudC5yZW1vdmVDaGlsZCh0aGlzLl9jb250YWluZXIpO1xuICB9XG5cbiAgZGVsZXRlIHRoaXMuX3N2ZztcbiAgZGVsZXRlIHRoaXMuX2NvbnRhaW5lcjtcbiAgZGVsZXRlIHRoaXMuX2xheWVycztcbiAgZGVsZXRlIHRoaXMuX3Jvb3RFbGVtZW50O1xuICBkZWxldGUgdGhpcy5fdmlld3BvcnQ7XG59O1xuXG5DYW52YXMucHJvdG90eXBlLl9jbGVhciA9IGZ1bmN0aW9uKCkge1xuXG4gIHZhciBzZWxmID0gdGhpcztcblxuICB2YXIgYWxsRWxlbWVudHMgPSB0aGlzLl9lbGVtZW50UmVnaXN0cnkuZ2V0QWxsKCk7XG5cbiAgLy8gcmVtb3ZlIGFsbCBlbGVtZW50c1xuICBhbGxFbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICB2YXIgdHlwZSA9IGdldFR5cGUoZWxlbWVudCk7XG5cbiAgICBpZiAodHlwZSA9PT0gJ3Jvb3QnKSB7XG4gICAgICBzZWxmLnNldFJvb3RFbGVtZW50KG51bGwsIHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZWxmLl9yZW1vdmVFbGVtZW50KGVsZW1lbnQsIHR5cGUpO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gZm9yY2UgcmVjb21wdXRhdGlvbiBvZiB2aWV3IGJveFxuICBkZWxldGUgdGhpcy5fY2FjaGVkVmlld2JveDtcbn07XG5cbi8qKlxuICogUmV0dXJucyB0aGUgZGVmYXVsdCBsYXllciBvbiB3aGljaFxuICogYWxsIGVsZW1lbnRzIGFyZSBkcmF3bi5cbiAqXG4gKiBAcmV0dXJucyB7U1ZHRWxlbWVudH1cbiAqL1xuQ2FudmFzLnByb3RvdHlwZS5nZXREZWZhdWx0TGF5ZXIgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuZ2V0TGF5ZXIoQkFTRV9MQVlFUiwgMCk7XG59O1xuXG4vKipcbiAqIFJldHVybnMgYSBsYXllciB0aGF0IGlzIHVzZWQgdG8gZHJhdyBlbGVtZW50c1xuICogb3IgYW5ub3RhdGlvbnMgb24gaXQuXG4gKlxuICogTm9uLWV4aXN0aW5nIGxheWVycyByZXRyaWV2ZWQgdGhyb3VnaCB0aGlzIG1ldGhvZFxuICogd2lsbCBiZSBjcmVhdGVkLiBEdXJpbmcgY3JlYXRpb24sIHRoZSBvcHRpb25hbCBpbmRleFxuICogbWF5IGJlIHVzZWQgdG8gY3JlYXRlIGxheWVycyBiZWxvdyBvciBhYm92ZSBleGlzdGluZyBsYXllcnMuXG4gKiBBIGxheWVyIHdpdGggYSBjZXJ0YWluIGluZGV4IGlzIGFsd2F5cyBjcmVhdGVkIGFib3ZlIGFsbFxuICogZXhpc3RpbmcgbGF5ZXJzIHdpdGggdGhlIHNhbWUgaW5kZXguXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleFxuICpcbiAqIEByZXR1cm5zIHtTVkdFbGVtZW50fVxuICovXG5DYW52YXMucHJvdG90eXBlLmdldExheWVyID0gZnVuY3Rpb24obmFtZSwgaW5kZXgpIHtcblxuICBpZiAoIW5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ211c3Qgc3BlY2lmeSBhIG5hbWUnKTtcbiAgfVxuXG4gIHZhciBsYXllciA9IHRoaXMuX2xheWVyc1tuYW1lXTtcblxuICBpZiAoIWxheWVyKSB7XG4gICAgbGF5ZXIgPSB0aGlzLl9sYXllcnNbbmFtZV0gPSB0aGlzLl9jcmVhdGVMYXllcihuYW1lLCBpbmRleCk7XG4gIH1cblxuICAvLyB0aHJvdyBhbiBlcnJvciBpZiBsYXllciBjcmVhdGlvbiAvIHJldHJpdmFsIGlzXG4gIC8vIHJlcXVlc3RlZCBvbiBkaWZmZXJlbnQgaW5kZXhcbiAgaWYgKHR5cGVvZiBpbmRleCAhPT0gJ3VuZGVmaW5lZCcgJiYgbGF5ZXIuaW5kZXggIT09IGluZGV4KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdsYXllciA8JyArIG5hbWUgKyAnPiBhbHJlYWR5IGNyZWF0ZWQgYXQgaW5kZXggPCcgKyBpbmRleCArICc+Jyk7XG4gIH1cblxuICByZXR1cm4gbGF5ZXIuZ3JvdXA7XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBnaXZlbiBsYXllciBhbmQgcmV0dXJucyBpdC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICogQHBhcmFtIHtudW1iZXJ9IFtpbmRleD0wXVxuICpcbiAqIEByZXR1cm4ge09iamVjdH0gbGF5ZXIgZGVzY3JpcHRvciB3aXRoIHsgaW5kZXgsIGdyb3VwOiBTVkdHcm91cCB9XG4gKi9cbkNhbnZhcy5wcm90b3R5cGUuX2NyZWF0ZUxheWVyID0gZnVuY3Rpb24obmFtZSwgaW5kZXgpIHtcblxuICBpZiAoIWluZGV4KSB7XG4gICAgaW5kZXggPSAwO1xuICB9XG5cbiAgdmFyIGNoaWxkSW5kZXggPSByZWR1Y2UodGhpcy5fbGF5ZXJzLCBmdW5jdGlvbihjaGlsZEluZGV4LCBsYXllcikge1xuICAgIGlmIChpbmRleCA+PSBsYXllci5pbmRleCkge1xuICAgICAgY2hpbGRJbmRleCsrO1xuICAgIH1cblxuICAgIHJldHVybiBjaGlsZEluZGV4O1xuICB9LCAwKTtcblxuICByZXR1cm4ge1xuICAgIGdyb3VwOiBjcmVhdGVHcm91cCh0aGlzLl92aWV3cG9ydCwgJ2xheWVyLScgKyBuYW1lLCBjaGlsZEluZGV4KSxcbiAgICBpbmRleDogaW5kZXhcbiAgfTtcblxufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBodG1sIGVsZW1lbnQgdGhhdCBlbmNsb3NlcyB0aGVcbiAqIGRyYXdpbmcgY2FudmFzLlxuICpcbiAqIEByZXR1cm4ge0RPTU5vZGV9XG4gKi9cbkNhbnZhcy5wcm90b3R5cGUuZ2V0Q29udGFpbmVyID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLl9jb250YWluZXI7XG59O1xuXG5cbi8vIG1hcmtlcnMgLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5DYW52YXMucHJvdG90eXBlLl91cGRhdGVNYXJrZXIgPSBmdW5jdGlvbihlbGVtZW50LCBtYXJrZXIsIGFkZCkge1xuICB2YXIgY29udGFpbmVyO1xuXG4gIGlmICghZWxlbWVudC5pZCkge1xuICAgIGVsZW1lbnQgPSB0aGlzLl9lbGVtZW50UmVnaXN0cnkuZ2V0KGVsZW1lbnQpO1xuICB9XG5cbiAgLy8gd2UgbmVlZCB0byBhY2Nlc3MgYWxsXG4gIGNvbnRhaW5lciA9IHRoaXMuX2VsZW1lbnRSZWdpc3RyeS5fZWxlbWVudHNbZWxlbWVudC5pZF07XG5cbiAgaWYgKCFjb250YWluZXIpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBmb3JFYWNoKFsgY29udGFpbmVyLmdmeCwgY29udGFpbmVyLnNlY29uZGFyeUdmeCBdLCBmdW5jdGlvbihnZngpIHtcbiAgICBpZiAoZ2Z4KSB7XG5cbiAgICAgIC8vIGludm9rZSBlaXRoZXIgYWRkQ2xhc3Mgb3IgcmVtb3ZlQ2xhc3MgYmFzZWQgb24gbW9kZVxuICAgICAgaWYgKGFkZCkge1xuICAgICAgICBzdmdDbGFzc2VzKGdmeCkuYWRkKG1hcmtlcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdmdDbGFzc2VzKGdmeCkucmVtb3ZlKG1hcmtlcik7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICAvKipcbiAgICogQW4gZXZlbnQgaW5kaWNhdGluZyB0aGF0IGEgbWFya2VyIGhhcyBiZWVuIHVwZGF0ZWQgZm9yIGFuIGVsZW1lbnRcbiAgICpcbiAgICogQGV2ZW50IGVsZW1lbnQubWFya2VyLnVwZGF0ZVxuICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgKiBAcHJvcGVydHkge2Rqcy5tb2RlbC5FbGVtZW50fSBlbGVtZW50IHRoZSBzaGFwZVxuICAgKiBAcHJvcGVydHkge09iamVjdH0gZ2Z4IHRoZSBncmFwaGljYWwgcmVwcmVzZW50YXRpb24gb2YgdGhlIHNoYXBlXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBtYXJrZXJcbiAgICogQHByb3BlcnR5IHtib29sZWFufSBhZGQgdHJ1ZSBpZiB0aGUgbWFya2VyIHdhcyBhZGRlZCwgZmFsc2UgaWYgaXQgZ290IHJlbW92ZWRcbiAgICovXG4gIHRoaXMuX2V2ZW50QnVzLmZpcmUoJ2VsZW1lbnQubWFya2VyLnVwZGF0ZScsIHsgZWxlbWVudDogZWxlbWVudCwgZ2Z4OiBjb250YWluZXIuZ2Z4LCBtYXJrZXI6IG1hcmtlciwgYWRkOiAhIWFkZCB9KTtcbn07XG5cblxuLyoqXG4gKiBBZGRzIGEgbWFya2VyIHRvIGFuIGVsZW1lbnQgKGJhc2ljYWxseSBhIGNzcyBjbGFzcykuXG4gKlxuICogRmlyZXMgdGhlIGVsZW1lbnQubWFya2VyLnVwZGF0ZSBldmVudCwgbWFraW5nIGl0IHBvc3NpYmxlIHRvXG4gKiBpbnRlZ3JhdGUgZXh0ZW5zaW9uIGludG8gdGhlIG1hcmtlciBsaWZlLWN5Y2xlLCB0b28uXG4gKlxuICogQGV4YW1wbGVcbiAqIGNhbnZhcy5hZGRNYXJrZXIoJ2ZvbycsICdzb21lLW1hcmtlcicpO1xuICpcbiAqIHZhciBmb29HZnggPSBjYW52YXMuZ2V0R3JhcGhpY3MoJ2ZvbycpO1xuICpcbiAqIGZvb0dmeDsgLy8gPGcgY2xhc3M9XCIuLi4gc29tZS1tYXJrZXJcIj4gLi4uIDwvZz5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ3xkanMubW9kZWwuQmFzZX0gZWxlbWVudFxuICogQHBhcmFtIHtzdHJpbmd9IG1hcmtlclxuICovXG5DYW52YXMucHJvdG90eXBlLmFkZE1hcmtlciA9IGZ1bmN0aW9uKGVsZW1lbnQsIG1hcmtlcikge1xuICB0aGlzLl91cGRhdGVNYXJrZXIoZWxlbWVudCwgbWFya2VyLCB0cnVlKTtcbn07XG5cblxuLyoqXG4gKiBSZW1vdmUgYSBtYXJrZXIgZnJvbSBhbiBlbGVtZW50LlxuICpcbiAqIEZpcmVzIHRoZSBlbGVtZW50Lm1hcmtlci51cGRhdGUgZXZlbnQsIG1ha2luZyBpdCBwb3NzaWJsZSB0b1xuICogaW50ZWdyYXRlIGV4dGVuc2lvbiBpbnRvIHRoZSBtYXJrZXIgbGlmZS1jeWNsZSwgdG9vLlxuICpcbiAqIEBwYXJhbSAge3N0cmluZ3xkanMubW9kZWwuQmFzZX0gZWxlbWVudFxuICogQHBhcmFtICB7c3RyaW5nfSBtYXJrZXJcbiAqL1xuQ2FudmFzLnByb3RvdHlwZS5yZW1vdmVNYXJrZXIgPSBmdW5jdGlvbihlbGVtZW50LCBtYXJrZXIpIHtcbiAgdGhpcy5fdXBkYXRlTWFya2VyKGVsZW1lbnQsIG1hcmtlciwgZmFsc2UpO1xufTtcblxuLyoqXG4gKiBDaGVjayB0aGUgZXhpc3RlbmNlIG9mIGEgbWFya2VyIG9uIGVsZW1lbnQuXG4gKlxuICogQHBhcmFtICB7c3RyaW5nfGRqcy5tb2RlbC5CYXNlfSBlbGVtZW50XG4gKiBAcGFyYW0gIHtzdHJpbmd9IG1hcmtlclxuICovXG5DYW52YXMucHJvdG90eXBlLmhhc01hcmtlciA9IGZ1bmN0aW9uKGVsZW1lbnQsIG1hcmtlcikge1xuICBpZiAoIWVsZW1lbnQuaWQpIHtcbiAgICBlbGVtZW50ID0gdGhpcy5fZWxlbWVudFJlZ2lzdHJ5LmdldChlbGVtZW50KTtcbiAgfVxuXG4gIHZhciBnZnggPSB0aGlzLmdldEdyYXBoaWNzKGVsZW1lbnQpO1xuXG4gIHJldHVybiBzdmdDbGFzc2VzKGdmeCkuaGFzKG1hcmtlcik7XG59O1xuXG4vKipcbiAqIFRvZ2dsZXMgYSBtYXJrZXIgb24gYW4gZWxlbWVudC5cbiAqXG4gKiBGaXJlcyB0aGUgZWxlbWVudC5tYXJrZXIudXBkYXRlIGV2ZW50LCBtYWtpbmcgaXQgcG9zc2libGUgdG9cbiAqIGludGVncmF0ZSBleHRlbnNpb24gaW50byB0aGUgbWFya2VyIGxpZmUtY3ljbGUsIHRvby5cbiAqXG4gKiBAcGFyYW0gIHtzdHJpbmd8ZGpzLm1vZGVsLkJhc2V9IGVsZW1lbnRcbiAqIEBwYXJhbSAge3N0cmluZ30gbWFya2VyXG4gKi9cbkNhbnZhcy5wcm90b3R5cGUudG9nZ2xlTWFya2VyID0gZnVuY3Rpb24oZWxlbWVudCwgbWFya2VyKSB7XG4gIGlmICh0aGlzLmhhc01hcmtlcihlbGVtZW50LCBtYXJrZXIpKSB7XG4gICAgdGhpcy5yZW1vdmVNYXJrZXIoZWxlbWVudCwgbWFya2VyKTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLmFkZE1hcmtlcihlbGVtZW50LCBtYXJrZXIpO1xuICB9XG59O1xuXG5DYW52YXMucHJvdG90eXBlLmdldFJvb3RFbGVtZW50ID0gZnVuY3Rpb24oKSB7XG4gIGlmICghdGhpcy5fcm9vdEVsZW1lbnQpIHtcbiAgICB0aGlzLnNldFJvb3RFbGVtZW50KHsgaWQ6ICdfX2ltcGxpY2l0cm9vdCcsIGNoaWxkcmVuOiBbXSB9KTtcbiAgfVxuXG4gIHJldHVybiB0aGlzLl9yb290RWxlbWVudDtcbn07XG5cblxuXG4vLyByb290IGVsZW1lbnQgaGFuZGxpbmcgLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4vKipcbiAqIFNldHMgYSBnaXZlbiBlbGVtZW50IGFzIHRoZSBuZXcgcm9vdCBlbGVtZW50IGZvciB0aGUgY2FudmFzXG4gKiBhbmQgcmV0dXJucyB0aGUgbmV3IHJvb3QgZWxlbWVudC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdHxkanMubW9kZWwuUm9vdH0gZWxlbWVudFxuICogQHBhcmFtIHtib29sZWFufSBbb3ZlcnJpZGVdIHdoZXRoZXIgdG8gb3ZlcnJpZGUgdGhlIGN1cnJlbnQgcm9vdCBlbGVtZW50LCBpZiBhbnlcbiAqXG4gKiBAcmV0dXJuIHtPYmplY3R8ZGpzLm1vZGVsLlJvb3R9IG5ldyByb290IGVsZW1lbnRcbiAqL1xuQ2FudmFzLnByb3RvdHlwZS5zZXRSb290RWxlbWVudCA9IGZ1bmN0aW9uKGVsZW1lbnQsIG92ZXJyaWRlKSB7XG5cbiAgaWYgKGVsZW1lbnQpIHtcbiAgICB0aGlzLl9lbnN1cmVWYWxpZCgncm9vdCcsIGVsZW1lbnQpO1xuICB9XG5cbiAgdmFyIGN1cnJlbnRSb290ID0gdGhpcy5fcm9vdEVsZW1lbnQsXG4gICAgICBlbGVtZW50UmVnaXN0cnkgPSB0aGlzLl9lbGVtZW50UmVnaXN0cnksXG4gICAgICBldmVudEJ1cyA9IHRoaXMuX2V2ZW50QnVzO1xuXG4gIGlmIChjdXJyZW50Um9vdCkge1xuICAgIGlmICghb3ZlcnJpZGUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcigncm9vdEVsZW1lbnQgYWxyZWFkeSBzZXQsIG5lZWQgdG8gc3BlY2lmeSBvdmVycmlkZScpO1xuICAgIH1cblxuICAgIC8vIHNpbXVsYXRlIGVsZW1lbnQgcmVtb3ZlIGV2ZW50IHNlcXVlbmNlXG4gICAgZXZlbnRCdXMuZmlyZSgncm9vdC5yZW1vdmUnLCB7IGVsZW1lbnQ6IGN1cnJlbnRSb290IH0pO1xuICAgIGV2ZW50QnVzLmZpcmUoJ3Jvb3QucmVtb3ZlZCcsIHsgZWxlbWVudDogY3VycmVudFJvb3QgfSk7XG5cbiAgICBlbGVtZW50UmVnaXN0cnkucmVtb3ZlKGN1cnJlbnRSb290KTtcbiAgfVxuXG4gIGlmIChlbGVtZW50KSB7XG4gICAgdmFyIGdmeCA9IHRoaXMuZ2V0RGVmYXVsdExheWVyKCk7XG5cbiAgICAvLyByZXNlbWJsZSBlbGVtZW50IGFkZCBldmVudCBzZXF1ZW5jZVxuICAgIGV2ZW50QnVzLmZpcmUoJ3Jvb3QuYWRkJywgeyBlbGVtZW50OiBlbGVtZW50IH0pO1xuXG4gICAgZWxlbWVudFJlZ2lzdHJ5LmFkZChlbGVtZW50LCBnZngsIHRoaXMuX3N2Zyk7XG5cbiAgICBldmVudEJ1cy5maXJlKCdyb290LmFkZGVkJywgeyBlbGVtZW50OiBlbGVtZW50LCBnZng6IGdmeCB9KTtcbiAgfVxuXG4gIHRoaXMuX3Jvb3RFbGVtZW50ID0gZWxlbWVudDtcblxuICByZXR1cm4gZWxlbWVudDtcbn07XG5cblxuXG4vLyBhZGQgZnVuY3Rpb25hbGl0eSAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbkNhbnZhcy5wcm90b3R5cGUuX2Vuc3VyZVZhbGlkID0gZnVuY3Rpb24odHlwZSwgZWxlbWVudCkge1xuICBpZiAoIWVsZW1lbnQuaWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2VsZW1lbnQgbXVzdCBoYXZlIGFuIGlkJyk7XG4gIH1cblxuICBpZiAodGhpcy5fZWxlbWVudFJlZ2lzdHJ5LmdldChlbGVtZW50LmlkKSkge1xuICAgIHRocm93IG5ldyBFcnJvcignZWxlbWVudCB3aXRoIGlkICcgKyBlbGVtZW50LmlkICsgJyBhbHJlYWR5IGV4aXN0cycpO1xuICB9XG5cbiAgdmFyIHJlcXVpcmVkQXR0cnMgPSBSRVFVSVJFRF9NT0RFTF9BVFRSU1t0eXBlXTtcblxuICB2YXIgdmFsaWQgPSBldmVyeShyZXF1aXJlZEF0dHJzLCBmdW5jdGlvbihhdHRyKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBlbGVtZW50W2F0dHJdICE9PSAndW5kZWZpbmVkJztcbiAgfSk7XG5cbiAgaWYgKCF2YWxpZCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICdtdXN0IHN1cHBseSB7ICcgKyByZXF1aXJlZEF0dHJzLmpvaW4oJywgJykgKyAnIH0gd2l0aCAnICsgdHlwZSk7XG4gIH1cbn07XG5cbkNhbnZhcy5wcm90b3R5cGUuX3NldFBhcmVudCA9IGZ1bmN0aW9uKGVsZW1lbnQsIHBhcmVudCwgcGFyZW50SW5kZXgpIHtcbiAgY29sbGVjdGlvbkFkZChwYXJlbnQuY2hpbGRyZW4sIGVsZW1lbnQsIHBhcmVudEluZGV4KTtcbiAgZWxlbWVudC5wYXJlbnQgPSBwYXJlbnQ7XG59O1xuXG4vKipcbiAqIEFkZHMgYW4gZWxlbWVudCB0byB0aGUgY2FudmFzLlxuICpcbiAqIFRoaXMgd2lyZXMgdGhlIHBhcmVudCA8LT4gY2hpbGQgcmVsYXRpb25zaGlwIGJldHdlZW4gdGhlIGVsZW1lbnQgYW5kXG4gKiBhIGV4cGxpY2l0bHkgc3BlY2lmaWVkIHBhcmVudCBvciBhbiBpbXBsaWNpdCByb290IGVsZW1lbnQuXG4gKlxuICogRHVyaW5nIGFkZCBpdCBlbWl0cyB0aGUgZXZlbnRzXG4gKlxuICogICogPHt0eXBlfS5hZGQ+IChlbGVtZW50LCBwYXJlbnQpXG4gKiAgKiA8e3R5cGV9LmFkZGVkPiAoZWxlbWVudCwgZ2Z4KVxuICpcbiAqIEV4dGVuc2lvbnMgbWF5IGhvb2sgaW50byB0aGVzZSBldmVudHMgdG8gcGVyZm9ybSB0aGVpciBtYWdpYy5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZVxuICogQHBhcmFtIHtPYmplY3R8ZGpzLm1vZGVsLkJhc2V9IGVsZW1lbnRcbiAqIEBwYXJhbSB7T2JqZWN0fGRqcy5tb2RlbC5CYXNlfSBbcGFyZW50XVxuICogQHBhcmFtIHtudW1iZXJ9IFtwYXJlbnRJbmRleF1cbiAqXG4gKiBAcmV0dXJuIHtPYmplY3R8ZGpzLm1vZGVsLkJhc2V9IHRoZSBhZGRlZCBlbGVtZW50XG4gKi9cbkNhbnZhcy5wcm90b3R5cGUuX2FkZEVsZW1lbnQgPSBmdW5jdGlvbih0eXBlLCBlbGVtZW50LCBwYXJlbnQsIHBhcmVudEluZGV4KSB7XG5cbiAgcGFyZW50ID0gcGFyZW50IHx8IHRoaXMuZ2V0Um9vdEVsZW1lbnQoKTtcblxuICB2YXIgZXZlbnRCdXMgPSB0aGlzLl9ldmVudEJ1cyxcbiAgICAgIGdyYXBoaWNzRmFjdG9yeSA9IHRoaXMuX2dyYXBoaWNzRmFjdG9yeTtcblxuICB0aGlzLl9lbnN1cmVWYWxpZCh0eXBlLCBlbGVtZW50KTtcblxuICBldmVudEJ1cy5maXJlKHR5cGUgKyAnLmFkZCcsIHsgZWxlbWVudDogZWxlbWVudCwgcGFyZW50OiBwYXJlbnQgfSk7XG5cbiAgdGhpcy5fc2V0UGFyZW50KGVsZW1lbnQsIHBhcmVudCwgcGFyZW50SW5kZXgpO1xuXG4gIC8vIGNyZWF0ZSBncmFwaGljc1xuICB2YXIgZ2Z4ID0gZ3JhcGhpY3NGYWN0b3J5LmNyZWF0ZSh0eXBlLCBlbGVtZW50LCBwYXJlbnRJbmRleCk7XG5cbiAgdGhpcy5fZWxlbWVudFJlZ2lzdHJ5LmFkZChlbGVtZW50LCBnZngpO1xuXG4gIC8vIHVwZGF0ZSBpdHMgdmlzdWFsXG4gIGdyYXBoaWNzRmFjdG9yeS51cGRhdGUodHlwZSwgZWxlbWVudCwgZ2Z4KTtcblxuICBldmVudEJ1cy5maXJlKHR5cGUgKyAnLmFkZGVkJywgeyBlbGVtZW50OiBlbGVtZW50LCBnZng6IGdmeCB9KTtcblxuICByZXR1cm4gZWxlbWVudDtcbn07XG5cbi8qKlxuICogQWRkcyBhIHNoYXBlIHRvIHRoZSBjYW52YXNcbiAqXG4gKiBAcGFyYW0ge09iamVjdHxkanMubW9kZWwuU2hhcGV9IHNoYXBlIHRvIGFkZCB0byB0aGUgZGlhZ3JhbVxuICogQHBhcmFtIHtkanMubW9kZWwuQmFzZX0gW3BhcmVudF1cbiAqIEBwYXJhbSB7bnVtYmVyfSBbcGFyZW50SW5kZXhdXG4gKlxuICogQHJldHVybiB7ZGpzLm1vZGVsLlNoYXBlfSB0aGUgYWRkZWQgc2hhcGVcbiAqL1xuQ2FudmFzLnByb3RvdHlwZS5hZGRTaGFwZSA9IGZ1bmN0aW9uKHNoYXBlLCBwYXJlbnQsIHBhcmVudEluZGV4KSB7XG4gIHJldHVybiB0aGlzLl9hZGRFbGVtZW50KCdzaGFwZScsIHNoYXBlLCBwYXJlbnQsIHBhcmVudEluZGV4KTtcbn07XG5cbi8qKlxuICogQWRkcyBhIGNvbm5lY3Rpb24gdG8gdGhlIGNhbnZhc1xuICpcbiAqIEBwYXJhbSB7T2JqZWN0fGRqcy5tb2RlbC5Db25uZWN0aW9ufSBjb25uZWN0aW9uIHRvIGFkZCB0byB0aGUgZGlhZ3JhbVxuICogQHBhcmFtIHtkanMubW9kZWwuQmFzZX0gW3BhcmVudF1cbiAqIEBwYXJhbSB7bnVtYmVyfSBbcGFyZW50SW5kZXhdXG4gKlxuICogQHJldHVybiB7ZGpzLm1vZGVsLkNvbm5lY3Rpb259IHRoZSBhZGRlZCBjb25uZWN0aW9uXG4gKi9cbkNhbnZhcy5wcm90b3R5cGUuYWRkQ29ubmVjdGlvbiA9IGZ1bmN0aW9uKGNvbm5lY3Rpb24sIHBhcmVudCwgcGFyZW50SW5kZXgpIHtcbiAgcmV0dXJuIHRoaXMuX2FkZEVsZW1lbnQoJ2Nvbm5lY3Rpb24nLCBjb25uZWN0aW9uLCBwYXJlbnQsIHBhcmVudEluZGV4KTtcbn07XG5cblxuLyoqXG4gKiBJbnRlcm5hbCByZW1vdmUgZWxlbWVudFxuICovXG5DYW52YXMucHJvdG90eXBlLl9yZW1vdmVFbGVtZW50ID0gZnVuY3Rpb24oZWxlbWVudCwgdHlwZSkge1xuXG4gIHZhciBlbGVtZW50UmVnaXN0cnkgPSB0aGlzLl9lbGVtZW50UmVnaXN0cnksXG4gICAgICBncmFwaGljc0ZhY3RvcnkgPSB0aGlzLl9ncmFwaGljc0ZhY3RvcnksXG4gICAgICBldmVudEJ1cyA9IHRoaXMuX2V2ZW50QnVzO1xuXG4gIGVsZW1lbnQgPSBlbGVtZW50UmVnaXN0cnkuZ2V0KGVsZW1lbnQuaWQgfHwgZWxlbWVudCk7XG5cbiAgaWYgKCFlbGVtZW50KSB7XG5cbiAgICAvLyBlbGVtZW50IHdhcyByZW1vdmVkIGFscmVhZHlcbiAgICByZXR1cm47XG4gIH1cblxuICBldmVudEJ1cy5maXJlKHR5cGUgKyAnLnJlbW92ZScsIHsgZWxlbWVudDogZWxlbWVudCB9KTtcblxuICBncmFwaGljc0ZhY3RvcnkucmVtb3ZlKGVsZW1lbnQpO1xuXG4gIC8vIHVuc2V0IHBhcmVudCA8LT4gY2hpbGQgcmVsYXRpb25zaGlwXG4gIGNvbGxlY3Rpb25SZW1vdmUoZWxlbWVudC5wYXJlbnQgJiYgZWxlbWVudC5wYXJlbnQuY2hpbGRyZW4sIGVsZW1lbnQpO1xuICBlbGVtZW50LnBhcmVudCA9IG51bGw7XG5cbiAgZXZlbnRCdXMuZmlyZSh0eXBlICsgJy5yZW1vdmVkJywgeyBlbGVtZW50OiBlbGVtZW50IH0pO1xuXG4gIGVsZW1lbnRSZWdpc3RyeS5yZW1vdmUoZWxlbWVudCk7XG5cbiAgcmV0dXJuIGVsZW1lbnQ7XG59O1xuXG5cbi8qKlxuICogUmVtb3ZlcyBhIHNoYXBlIGZyb20gdGhlIGNhbnZhc1xuICpcbiAqIEBwYXJhbSB7c3RyaW5nfGRqcy5tb2RlbC5TaGFwZX0gc2hhcGUgb3Igc2hhcGUgaWQgdG8gYmUgcmVtb3ZlZFxuICpcbiAqIEByZXR1cm4ge2Rqcy5tb2RlbC5TaGFwZX0gdGhlIHJlbW92ZWQgc2hhcGVcbiAqL1xuQ2FudmFzLnByb3RvdHlwZS5yZW1vdmVTaGFwZSA9IGZ1bmN0aW9uKHNoYXBlKSB7XG5cbiAgLyoqXG4gICAqIEFuIGV2ZW50IGluZGljYXRpbmcgdGhhdCBhIHNoYXBlIGlzIGFib3V0IHRvIGJlIHJlbW92ZWQgZnJvbSB0aGUgY2FudmFzLlxuICAgKlxuICAgKiBAbWVtYmVyT2YgQ2FudmFzXG4gICAqXG4gICAqIEBldmVudCBzaGFwZS5yZW1vdmVcbiAgICogQHR5cGUge09iamVjdH1cbiAgICogQHByb3BlcnR5IHtkanMubW9kZWwuU2hhcGV9IGVsZW1lbnQgdGhlIHNoYXBlIGRlc2NyaXB0b3JcbiAgICogQHByb3BlcnR5IHtPYmplY3R9IGdmeCB0aGUgZ3JhcGhpY2FsIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBzaGFwZVxuICAgKi9cblxuICAvKipcbiAgICogQW4gZXZlbnQgaW5kaWNhdGluZyB0aGF0IGEgc2hhcGUgaGFzIGJlZW4gcmVtb3ZlZCBmcm9tIHRoZSBjYW52YXMuXG4gICAqXG4gICAqIEBtZW1iZXJPZiBDYW52YXNcbiAgICpcbiAgICogQGV2ZW50IHNoYXBlLnJlbW92ZWRcbiAgICogQHR5cGUge09iamVjdH1cbiAgICogQHByb3BlcnR5IHtkanMubW9kZWwuU2hhcGV9IGVsZW1lbnQgdGhlIHNoYXBlIGRlc2NyaXB0b3JcbiAgICogQHByb3BlcnR5IHtPYmplY3R9IGdmeCB0aGUgZ3JhcGhpY2FsIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBzaGFwZVxuICAgKi9cbiAgcmV0dXJuIHRoaXMuX3JlbW92ZUVsZW1lbnQoc2hhcGUsICdzaGFwZScpO1xufTtcblxuXG4vKipcbiAqIFJlbW92ZXMgYSBjb25uZWN0aW9uIGZyb20gdGhlIGNhbnZhc1xuICpcbiAqIEBwYXJhbSB7c3RyaW5nfGRqcy5tb2RlbC5Db25uZWN0aW9ufSBjb25uZWN0aW9uIG9yIGNvbm5lY3Rpb24gaWQgdG8gYmUgcmVtb3ZlZFxuICpcbiAqIEByZXR1cm4ge2Rqcy5tb2RlbC5Db25uZWN0aW9ufSB0aGUgcmVtb3ZlZCBjb25uZWN0aW9uXG4gKi9cbkNhbnZhcy5wcm90b3R5cGUucmVtb3ZlQ29ubmVjdGlvbiA9IGZ1bmN0aW9uKGNvbm5lY3Rpb24pIHtcblxuICAvKipcbiAgICogQW4gZXZlbnQgaW5kaWNhdGluZyB0aGF0IGEgY29ubmVjdGlvbiBpcyBhYm91dCB0byBiZSByZW1vdmVkIGZyb20gdGhlIGNhbnZhcy5cbiAgICpcbiAgICogQG1lbWJlck9mIENhbnZhc1xuICAgKlxuICAgKiBAZXZlbnQgY29ubmVjdGlvbi5yZW1vdmVcbiAgICogQHR5cGUge09iamVjdH1cbiAgICogQHByb3BlcnR5IHtkanMubW9kZWwuQ29ubmVjdGlvbn0gZWxlbWVudCB0aGUgY29ubmVjdGlvbiBkZXNjcmlwdG9yXG4gICAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBnZnggdGhlIGdyYXBoaWNhbCByZXByZXNlbnRhdGlvbiBvZiB0aGUgY29ubmVjdGlvblxuICAgKi9cblxuICAvKipcbiAgICogQW4gZXZlbnQgaW5kaWNhdGluZyB0aGF0IGEgY29ubmVjdGlvbiBoYXMgYmVlbiByZW1vdmVkIGZyb20gdGhlIGNhbnZhcy5cbiAgICpcbiAgICogQG1lbWJlck9mIENhbnZhc1xuICAgKlxuICAgKiBAZXZlbnQgY29ubmVjdGlvbi5yZW1vdmVkXG4gICAqIEB0eXBlIHtPYmplY3R9XG4gICAqIEBwcm9wZXJ0eSB7ZGpzLm1vZGVsLkNvbm5lY3Rpb259IGVsZW1lbnQgdGhlIGNvbm5lY3Rpb24gZGVzY3JpcHRvclxuICAgKiBAcHJvcGVydHkge09iamVjdH0gZ2Z4IHRoZSBncmFwaGljYWwgcmVwcmVzZW50YXRpb24gb2YgdGhlIGNvbm5lY3Rpb25cbiAgICovXG4gIHJldHVybiB0aGlzLl9yZW1vdmVFbGVtZW50KGNvbm5lY3Rpb24sICdjb25uZWN0aW9uJyk7XG59O1xuXG5cbi8qKlxuICogUmV0dXJuIHRoZSBncmFwaGljYWwgb2JqZWN0IHVuZGVybGF5aW5nIGEgY2VydGFpbiBkaWFncmFtIGVsZW1lbnRcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ3xkanMubW9kZWwuQmFzZX0gZWxlbWVudCBkZXNjcmlwdG9yIG9mIHRoZSBlbGVtZW50XG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtzZWNvbmRhcnk9ZmFsc2VdIHdoZXRoZXIgdG8gcmV0dXJuIHRoZSBzZWNvbmRhcnkgY29ubmVjdGVkIGVsZW1lbnRcbiAqXG4gKiBAcmV0dXJuIHtTVkdFbGVtZW50fVxuICovXG5DYW52YXMucHJvdG90eXBlLmdldEdyYXBoaWNzID0gZnVuY3Rpb24oZWxlbWVudCwgc2Vjb25kYXJ5KSB7XG4gIHJldHVybiB0aGlzLl9lbGVtZW50UmVnaXN0cnkuZ2V0R3JhcGhpY3MoZWxlbWVudCwgc2Vjb25kYXJ5KTtcbn07XG5cblxuLyoqXG4gKiBQZXJmb3JtIGEgdmlld2JveCB1cGRhdGUgdmlhIGEgZ2l2ZW4gY2hhbmdlIGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNoYW5nZUZuXG4gKi9cbkNhbnZhcy5wcm90b3R5cGUuX2NoYW5nZVZpZXdib3ggPSBmdW5jdGlvbihjaGFuZ2VGbikge1xuXG4gIC8vIG5vdGlmeSBvdGhlcnMgb2YgdGhlIHVwY29taW5nIHZpZXdib3ggY2hhbmdlXG4gIHRoaXMuX2V2ZW50QnVzLmZpcmUoJ2NhbnZhcy52aWV3Ym94LmNoYW5naW5nJyk7XG5cbiAgLy8gcGVyZm9ybSBhY3R1YWwgY2hhbmdlXG4gIGNoYW5nZUZuLmFwcGx5KHRoaXMpO1xuXG4gIC8vIHJlc2V0IHRoZSBjYWNoZWQgdmlld2JveCBzbyB0aGF0XG4gIC8vIGEgbmV3IGdldCBvcGVyYXRpb24gb24gdmlld2JveCBvciB6b29tXG4gIC8vIHRyaWdnZXJzIGEgdmlld2JveCByZS1jb21wdXRhdGlvblxuICB0aGlzLl9jYWNoZWRWaWV3Ym94ID0gbnVsbDtcblxuICAvLyBub3RpZnkgb3RoZXJzIG9mIHRoZSBjaGFuZ2U7IHRoaXMgc3RlcFxuICAvLyBtYXkgb3IgbWF5IG5vdCBiZSBkZWJvdW5jZWRcbiAgdGhpcy5fdmlld2JveENoYW5nZWQoKTtcbn07XG5cbkNhbnZhcy5wcm90b3R5cGUuX3ZpZXdib3hDaGFuZ2VkID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuX2V2ZW50QnVzLmZpcmUoJ2NhbnZhcy52aWV3Ym94LmNoYW5nZWQnLCB7IHZpZXdib3g6IHRoaXMudmlld2JveCgpIH0pO1xufTtcblxuXG4vKipcbiAqIEdldHMgb3Igc2V0cyB0aGUgdmlldyBib3ggb2YgdGhlIGNhbnZhcywgaS5lLiB0aGVcbiAqIGFyZWEgdGhhdCBpcyBjdXJyZW50bHkgZGlzcGxheWVkLlxuICpcbiAqIFRoZSBnZXR0ZXIgbWF5IHJldHVybiBhIGNhY2hlZCB2aWV3Ym94IChpZiBpdCBpcyBjdXJyZW50bHlcbiAqIGNoYW5naW5nKS4gVG8gZm9yY2UgYSByZWNvbXB1dGF0aW9uLCBwYXNzIGBmYWxzZWAgYXMgdGhlIGZpcnN0IGFyZ3VtZW50LlxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogY2FudmFzLnZpZXdib3goeyB4OiAxMDAsIHk6IDEwMCwgd2lkdGg6IDUwMCwgaGVpZ2h0OiA1MDAgfSlcbiAqXG4gKiAvLyBzZXRzIHRoZSB2aXNpYmxlIGFyZWEgb2YgdGhlIGRpYWdyYW0gdG8gKDEwMHwxMDApIC0+ICg2MDB8MTAwKVxuICogLy8gYW5kIGFuZCBzY2FsZXMgaXQgYWNjb3JkaW5nIHRvIHRoZSBkaWFncmFtIHdpZHRoXG4gKlxuICogdmFyIHZpZXdib3ggPSBjYW52YXMudmlld2JveCgpOyAvLyBwYXNzIGBmYWxzZWAgdG8gZm9yY2UgcmVjb21wdXRpbmcgdGhlIGJveC5cbiAqXG4gKiBjb25zb2xlLmxvZyh2aWV3Ym94KTtcbiAqIC8vIHtcbiAqIC8vICAgaW5uZXI6IERpbWVuc2lvbnMsXG4gKiAvLyAgIG91dGVyOiBEaW1lbnNpb25zLFxuICogLy8gICBzY2FsZSxcbiAqIC8vICAgeCwgeSxcbiAqIC8vICAgd2lkdGgsIGhlaWdodFxuICogLy8gfVxuICpcbiAqIC8vIGlmIHRoZSBjdXJyZW50IGRpYWdyYW0gaXMgem9vbWVkIGFuZCBzY3JvbGxlZCwgeW91IG1heSByZXNldCBpdCB0byB0aGVcbiAqIC8vIGRlZmF1bHQgem9vbSB2aWEgdGhpcyBtZXRob2QsIHRvbzpcbiAqXG4gKiB2YXIgem9vbWVkQW5kU2Nyb2xsZWRWaWV3Ym94ID0gY2FudmFzLnZpZXdib3goKTtcbiAqXG4gKiBjYW52YXMudmlld2JveCh7XG4gKiAgIHg6IDAsXG4gKiAgIHk6IDAsXG4gKiAgIHdpZHRoOiB6b29tZWRBbmRTY3JvbGxlZFZpZXdib3gub3V0ZXIud2lkdGgsXG4gKiAgIGhlaWdodDogem9vbWVkQW5kU2Nyb2xsZWRWaWV3Ym94Lm91dGVyLmhlaWdodFxuICogfSk7XG4gKlxuICogQHBhcmFtICB7T2JqZWN0fSBbYm94XSB0aGUgbmV3IHZpZXcgYm94IHRvIHNldFxuICogQHBhcmFtICB7bnVtYmVyfSBib3gueCB0aGUgdG9wIGxlZnQgWCBjb29yZGluYXRlIG9mIHRoZSBjYW52YXMgdmlzaWJsZSBpbiB2aWV3IGJveFxuICogQHBhcmFtICB7bnVtYmVyfSBib3gueSB0aGUgdG9wIGxlZnQgWSBjb29yZGluYXRlIG9mIHRoZSBjYW52YXMgdmlzaWJsZSBpbiB2aWV3IGJveFxuICogQHBhcmFtICB7bnVtYmVyfSBib3gud2lkdGggdGhlIHZpc2libGUgd2lkdGhcbiAqIEBwYXJhbSAge251bWJlcn0gYm94LmhlaWdodFxuICpcbiAqIEByZXR1cm4ge09iamVjdH0gdGhlIGN1cnJlbnQgdmlldyBib3hcbiAqL1xuQ2FudmFzLnByb3RvdHlwZS52aWV3Ym94ID0gZnVuY3Rpb24oYm94KSB7XG5cbiAgaWYgKGJveCA9PT0gdW5kZWZpbmVkICYmIHRoaXMuX2NhY2hlZFZpZXdib3gpIHtcbiAgICByZXR1cm4gdGhpcy5fY2FjaGVkVmlld2JveDtcbiAgfVxuXG4gIHZhciB2aWV3cG9ydCA9IHRoaXMuX3ZpZXdwb3J0LFxuICAgICAgaW5uZXJCb3gsXG4gICAgICBvdXRlckJveCA9IHRoaXMuZ2V0U2l6ZSgpLFxuICAgICAgbWF0cml4LFxuICAgICAgdHJhbnNmb3JtLFxuICAgICAgc2NhbGUsXG4gICAgICB4LCB5O1xuXG4gIGlmICghYm94KSB7XG5cbiAgICAvLyBjb21wdXRlIHRoZSBpbm5lciBib3ggYmFzZWQgb24gdGhlXG4gICAgLy8gZGlhZ3JhbXMgZGVmYXVsdCBsYXllci4gVGhpcyBhbGxvd3MgdXMgdG8gZXhjbHVkZVxuICAgIC8vIGV4dGVybmFsIGNvbXBvbmVudHMsIHN1Y2ggYXMgb3ZlcmxheXNcbiAgICBpbm5lckJveCA9IHRoaXMuZ2V0RGVmYXVsdExheWVyKCkuZ2V0QkJveCgpO1xuXG4gICAgdHJhbnNmb3JtID0gc3ZnVHJhbnNmb3JtKHZpZXdwb3J0KTtcbiAgICBtYXRyaXggPSB0cmFuc2Zvcm0gPyB0cmFuc2Zvcm0ubWF0cml4IDogY3JlYXRlTWF0cml4KCk7XG4gICAgc2NhbGUgPSByb3VuZChtYXRyaXguYSwgMTAwMCk7XG5cbiAgICB4ID0gcm91bmQoLW1hdHJpeC5lIHx8IDAsIDEwMDApO1xuICAgIHkgPSByb3VuZCgtbWF0cml4LmYgfHwgMCwgMTAwMCk7XG5cbiAgICBib3ggPSB0aGlzLl9jYWNoZWRWaWV3Ym94ID0ge1xuICAgICAgeDogeCA/IHggLyBzY2FsZSA6IDAsXG4gICAgICB5OiB5ID8geSAvIHNjYWxlIDogMCxcbiAgICAgIHdpZHRoOiBvdXRlckJveC53aWR0aCAvIHNjYWxlLFxuICAgICAgaGVpZ2h0OiBvdXRlckJveC5oZWlnaHQgLyBzY2FsZSxcbiAgICAgIHNjYWxlOiBzY2FsZSxcbiAgICAgIGlubmVyOiB7XG4gICAgICAgIHdpZHRoOiBpbm5lckJveC53aWR0aCxcbiAgICAgICAgaGVpZ2h0OiBpbm5lckJveC5oZWlnaHQsXG4gICAgICAgIHg6IGlubmVyQm94LngsXG4gICAgICAgIHk6IGlubmVyQm94LnlcbiAgICAgIH0sXG4gICAgICBvdXRlcjogb3V0ZXJCb3hcbiAgICB9O1xuXG4gICAgcmV0dXJuIGJveDtcbiAgfSBlbHNlIHtcblxuICAgIHRoaXMuX2NoYW5nZVZpZXdib3goZnVuY3Rpb24oKSB7XG4gICAgICBzY2FsZSA9IE1hdGgubWluKG91dGVyQm94LndpZHRoIC8gYm94LndpZHRoLCBvdXRlckJveC5oZWlnaHQgLyBib3guaGVpZ2h0KTtcblxuICAgICAgdmFyIG1hdHJpeCA9IHRoaXMuX3N2Zy5jcmVhdGVTVkdNYXRyaXgoKVxuICAgICAgICAuc2NhbGUoc2NhbGUpXG4gICAgICAgIC50cmFuc2xhdGUoLWJveC54LCAtYm94LnkpO1xuXG4gICAgICBzdmdUcmFuc2Zvcm0odmlld3BvcnQsIG1hdHJpeCk7XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gYm94O1xufTtcblxuXG4vKipcbiAqIEdldHMgb3Igc2V0cyB0aGUgc2Nyb2xsIG9mIHRoZSBjYW52YXMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IFtkZWx0YV0gdGhlIG5ldyBzY3JvbGwgdG8gYXBwbHkuXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IFtkZWx0YS5keF1cbiAqIEBwYXJhbSB7bnVtYmVyfSBbZGVsdGEuZHldXG4gKi9cbkNhbnZhcy5wcm90b3R5cGUuc2Nyb2xsID0gZnVuY3Rpb24oZGVsdGEpIHtcblxuICB2YXIgbm9kZSA9IHRoaXMuX3ZpZXdwb3J0O1xuICB2YXIgbWF0cml4ID0gbm9kZS5nZXRDVE0oKTtcblxuICBpZiAoZGVsdGEpIHtcbiAgICB0aGlzLl9jaGFuZ2VWaWV3Ym94KGZ1bmN0aW9uKCkge1xuICAgICAgZGVsdGEgPSBhc3NpZ24oeyBkeDogMCwgZHk6IDAgfSwgZGVsdGEgfHwge30pO1xuXG4gICAgICBtYXRyaXggPSB0aGlzLl9zdmcuY3JlYXRlU1ZHTWF0cml4KCkudHJhbnNsYXRlKGRlbHRhLmR4LCBkZWx0YS5keSkubXVsdGlwbHkobWF0cml4KTtcblxuICAgICAgc2V0Q1RNKG5vZGUsIG1hdHJpeCk7XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4geyB4OiBtYXRyaXguZSwgeTogbWF0cml4LmYgfTtcbn07XG5cblxuLyoqXG4gKiBHZXRzIG9yIHNldHMgdGhlIGN1cnJlbnQgem9vbSBvZiB0aGUgY2FudmFzLCBvcHRpb25hbGx5IHpvb21pbmdcbiAqIHRvIHRoZSBzcGVjaWZpZWQgcG9zaXRpb24uXG4gKlxuICogVGhlIGdldHRlciBtYXkgcmV0dXJuIGEgY2FjaGVkIHpvb20gbGV2ZWwuIENhbGwgaXQgd2l0aCBgZmFsc2VgIGFzXG4gKiB0aGUgZmlyc3QgYXJndW1lbnQgdG8gZm9yY2UgcmVjb21wdXRhdGlvbiBvZiB0aGUgY3VycmVudCBsZXZlbC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IFtuZXdTY2FsZV0gdGhlIG5ldyB6b29tIGxldmVsLCBlaXRoZXIgYSBudW1iZXIsIGkuZS4gMC45LFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yIGBmaXQtdmlld3BvcnRgIHRvIGFkanVzdCB0aGUgc2l6ZSB0byBmaXQgdGhlIGN1cnJlbnQgdmlld3BvcnRcbiAqIEBwYXJhbSB7c3RyaW5nfFBvaW50fSBbY2VudGVyXSB0aGUgcmVmZXJlbmNlIHBvaW50IHsgeDogLi4sIHk6IC4ufSB0byB6b29tIHRvLCAnYXV0bycgdG8gem9vbSBpbnRvIG1pZCBvciBudWxsXG4gKlxuICogQHJldHVybiB7bnVtYmVyfSB0aGUgY3VycmVudCBzY2FsZVxuICovXG5DYW52YXMucHJvdG90eXBlLnpvb20gPSBmdW5jdGlvbihuZXdTY2FsZSwgY2VudGVyKSB7XG5cbiAgaWYgKCFuZXdTY2FsZSkge1xuICAgIHJldHVybiB0aGlzLnZpZXdib3gobmV3U2NhbGUpLnNjYWxlO1xuICB9XG5cbiAgaWYgKG5ld1NjYWxlID09PSAnZml0LXZpZXdwb3J0Jykge1xuICAgIHJldHVybiB0aGlzLl9maXRWaWV3cG9ydChjZW50ZXIpO1xuICB9XG5cbiAgdmFyIG91dGVyLFxuICAgICAgbWF0cml4O1xuXG4gIHRoaXMuX2NoYW5nZVZpZXdib3goZnVuY3Rpb24oKSB7XG5cbiAgICBpZiAodHlwZW9mIGNlbnRlciAhPT0gJ29iamVjdCcpIHtcbiAgICAgIG91dGVyID0gdGhpcy52aWV3Ym94KCkub3V0ZXI7XG5cbiAgICAgIGNlbnRlciA9IHtcbiAgICAgICAgeDogb3V0ZXIud2lkdGggLyAyLFxuICAgICAgICB5OiBvdXRlci5oZWlnaHQgLyAyXG4gICAgICB9O1xuICAgIH1cblxuICAgIG1hdHJpeCA9IHRoaXMuX3NldFpvb20obmV3U2NhbGUsIGNlbnRlcik7XG4gIH0pO1xuXG4gIHJldHVybiByb3VuZChtYXRyaXguYSwgMTAwMCk7XG59O1xuXG5mdW5jdGlvbiBzZXRDVE0obm9kZSwgbSkge1xuICB2YXIgbXN0ciA9ICdtYXRyaXgoJyArIG0uYSArICcsJyArIG0uYiArICcsJyArIG0uYyArICcsJyArIG0uZCArICcsJyArIG0uZSArICcsJyArIG0uZiArICcpJztcbiAgbm9kZS5zZXRBdHRyaWJ1dGUoJ3RyYW5zZm9ybScsIG1zdHIpO1xufVxuXG5DYW52YXMucHJvdG90eXBlLl9maXRWaWV3cG9ydCA9IGZ1bmN0aW9uKGNlbnRlcikge1xuXG4gIHZhciB2Ym94ID0gdGhpcy52aWV3Ym94KCksXG4gICAgICBvdXRlciA9IHZib3gub3V0ZXIsXG4gICAgICBpbm5lciA9IHZib3guaW5uZXIsXG4gICAgICBuZXdTY2FsZSxcbiAgICAgIG5ld1ZpZXdib3g7XG5cbiAgLy8gZGlzcGxheSB0aGUgY29tcGxldGUgZGlhZ3JhbSB3aXRob3V0IHpvb21pbmcgaW4uXG4gIC8vIGluc3RlYWQgb2YgcmVseWluZyBvbiBpbnRlcm5hbCB6b29tLCB3ZSBwZXJmb3JtIGFcbiAgLy8gaGFyZCByZXNldCBvbiB0aGUgY2FudmFzIHZpZXdib3ggdG8gcmVhbGl6ZSB0aGlzXG4gIC8vXG4gIC8vIGlmIGRpYWdyYW0gZG9lcyBub3QgbmVlZCB0byBiZSB6b29tZWQgaW4sIHdlIGZvY3VzIGl0IGFyb3VuZFxuICAvLyB0aGUgZGlhZ3JhbSBvcmlnaW4gaW5zdGVhZFxuXG4gIGlmIChpbm5lci54ID49IDAgJiZcbiAgICAgIGlubmVyLnkgPj0gMCAmJlxuICAgICAgaW5uZXIueCArIGlubmVyLndpZHRoIDw9IG91dGVyLndpZHRoICYmXG4gICAgICBpbm5lci55ICsgaW5uZXIuaGVpZ2h0IDw9IG91dGVyLmhlaWdodCAmJlxuICAgICAgIWNlbnRlcikge1xuXG4gICAgbmV3Vmlld2JveCA9IHtcbiAgICAgIHg6IDAsXG4gICAgICB5OiAwLFxuICAgICAgd2lkdGg6IE1hdGgubWF4KGlubmVyLndpZHRoICsgaW5uZXIueCwgb3V0ZXIud2lkdGgpLFxuICAgICAgaGVpZ2h0OiBNYXRoLm1heChpbm5lci5oZWlnaHQgKyBpbm5lci55LCBvdXRlci5oZWlnaHQpXG4gICAgfTtcbiAgfSBlbHNlIHtcblxuICAgIG5ld1NjYWxlID0gTWF0aC5taW4oMSwgb3V0ZXIud2lkdGggLyBpbm5lci53aWR0aCwgb3V0ZXIuaGVpZ2h0IC8gaW5uZXIuaGVpZ2h0KTtcbiAgICBuZXdWaWV3Ym94ID0ge1xuICAgICAgeDogaW5uZXIueCArIChjZW50ZXIgPyBpbm5lci53aWR0aCAvIDIgLSBvdXRlci53aWR0aCAvIG5ld1NjYWxlIC8gMiA6IDApLFxuICAgICAgeTogaW5uZXIueSArIChjZW50ZXIgPyBpbm5lci5oZWlnaHQgLyAyIC0gb3V0ZXIuaGVpZ2h0IC8gbmV3U2NhbGUgLyAyIDogMCksXG4gICAgICB3aWR0aDogb3V0ZXIud2lkdGggLyBuZXdTY2FsZSxcbiAgICAgIGhlaWdodDogb3V0ZXIuaGVpZ2h0IC8gbmV3U2NhbGVcbiAgICB9O1xuICB9XG5cbiAgdGhpcy52aWV3Ym94KG5ld1ZpZXdib3gpO1xuXG4gIHJldHVybiB0aGlzLnZpZXdib3goZmFsc2UpLnNjYWxlO1xufTtcblxuXG5DYW52YXMucHJvdG90eXBlLl9zZXRab29tID0gZnVuY3Rpb24oc2NhbGUsIGNlbnRlcikge1xuXG4gIHZhciBzdmcgPSB0aGlzLl9zdmcsXG4gICAgICB2aWV3cG9ydCA9IHRoaXMuX3ZpZXdwb3J0O1xuXG4gIHZhciBtYXRyaXggPSBzdmcuY3JlYXRlU1ZHTWF0cml4KCk7XG4gIHZhciBwb2ludCA9IHN2Zy5jcmVhdGVTVkdQb2ludCgpO1xuXG4gIHZhciBjZW50ZXJQb2ludCxcbiAgICAgIG9yaWdpbmFsUG9pbnQsXG4gICAgICBjdXJyZW50TWF0cml4LFxuICAgICAgc2NhbGVNYXRyaXgsXG4gICAgICBuZXdNYXRyaXg7XG5cbiAgY3VycmVudE1hdHJpeCA9IHZpZXdwb3J0LmdldENUTSgpO1xuXG4gIHZhciBjdXJyZW50U2NhbGUgPSBjdXJyZW50TWF0cml4LmE7XG5cbiAgaWYgKGNlbnRlcikge1xuICAgIGNlbnRlclBvaW50ID0gYXNzaWduKHBvaW50LCBjZW50ZXIpO1xuXG4gICAgLy8gcmV2ZXJ0IGFwcGxpZWQgdmlld3BvcnQgdHJhbnNmb3JtYXRpb25zXG4gICAgb3JpZ2luYWxQb2ludCA9IGNlbnRlclBvaW50Lm1hdHJpeFRyYW5zZm9ybShjdXJyZW50TWF0cml4LmludmVyc2UoKSk7XG5cbiAgICAvLyBjcmVhdGUgc2NhbGUgbWF0cml4XG4gICAgc2NhbGVNYXRyaXggPSBtYXRyaXhcbiAgICAgIC50cmFuc2xhdGUob3JpZ2luYWxQb2ludC54LCBvcmlnaW5hbFBvaW50LnkpXG4gICAgICAuc2NhbGUoMSAvIGN1cnJlbnRTY2FsZSAqIHNjYWxlKVxuICAgICAgLnRyYW5zbGF0ZSgtb3JpZ2luYWxQb2ludC54LCAtb3JpZ2luYWxQb2ludC55KTtcblxuICAgIG5ld01hdHJpeCA9IGN1cnJlbnRNYXRyaXgubXVsdGlwbHkoc2NhbGVNYXRyaXgpO1xuICB9IGVsc2Uge1xuICAgIG5ld01hdHJpeCA9IG1hdHJpeC5zY2FsZShzY2FsZSk7XG4gIH1cblxuICBzZXRDVE0odGhpcy5fdmlld3BvcnQsIG5ld01hdHJpeCk7XG5cbiAgcmV0dXJuIG5ld01hdHJpeDtcbn07XG5cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBzaXplIG9mIHRoZSBjYW52YXNcbiAqXG4gKiBAcmV0dXJuIHtEaW1lbnNpb25zfVxuICovXG5DYW52YXMucHJvdG90eXBlLmdldFNpemUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICB3aWR0aDogdGhpcy5fY29udGFpbmVyLmNsaWVudFdpZHRoLFxuICAgIGhlaWdodDogdGhpcy5fY29udGFpbmVyLmNsaWVudEhlaWdodFxuICB9O1xufTtcblxuXG4vKipcbiAqIFJldHVybiB0aGUgYWJzb2x1dGUgYm91bmRpbmcgYm94IGZvciB0aGUgZ2l2ZW4gZWxlbWVudFxuICpcbiAqIFRoZSBhYnNvbHV0ZSBib3VuZGluZyBib3ggbWF5IGJlIHVzZWQgdG8gZGlzcGxheSBvdmVybGF5cyBpbiB0aGVcbiAqIGNhbGxlcnMgKGJyb3dzZXIpIGNvb3JkaW5hdGUgc3lzdGVtIHJhdGhlciB0aGFuIHRoZSB6b29tZWQgaW4vb3V0XG4gKiBjYW52YXMgY29vcmRpbmF0ZXMuXG4gKlxuICogQHBhcmFtICB7RWxlbWVudERlc2NyaXB0b3J9IGVsZW1lbnRcbiAqIEByZXR1cm4ge0JvdW5kc30gdGhlIGFic29sdXRlIGJvdW5kaW5nIGJveFxuICovXG5DYW52YXMucHJvdG90eXBlLmdldEFic29sdXRlQkJveCA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgdmFyIHZib3ggPSB0aGlzLnZpZXdib3goKTtcbiAgdmFyIGJib3g7XG5cbiAgLy8gY29ubmVjdGlvblxuICAvLyB1c2Ugc3ZnIGJib3hcbiAgaWYgKGVsZW1lbnQud2F5cG9pbnRzKSB7XG4gICAgdmFyIGdmeCA9IHRoaXMuZ2V0R3JhcGhpY3MoZWxlbWVudCk7XG5cbiAgICBiYm94ID0gZ2Z4LmdldEJCb3goKTtcbiAgfVxuXG4gIC8vIHNoYXBlc1xuICAvLyB1c2UgZGF0YVxuICBlbHNlIHtcbiAgICBiYm94ID0gZWxlbWVudDtcbiAgfVxuXG4gIHZhciB4ID0gYmJveC54ICogdmJveC5zY2FsZSAtIHZib3gueCAqIHZib3guc2NhbGU7XG4gIHZhciB5ID0gYmJveC55ICogdmJveC5zY2FsZSAtIHZib3gueSAqIHZib3guc2NhbGU7XG5cbiAgdmFyIHdpZHRoID0gYmJveC53aWR0aCAqIHZib3guc2NhbGU7XG4gIHZhciBoZWlnaHQgPSBiYm94LmhlaWdodCAqIHZib3guc2NhbGU7XG5cbiAgcmV0dXJuIHtcbiAgICB4OiB4LFxuICAgIHk6IHksXG4gICAgd2lkdGg6IHdpZHRoLFxuICAgIGhlaWdodDogaGVpZ2h0XG4gIH07XG59O1xuXG4vKipcbiAqIEZpcmVzIGFuIGV2ZW50IGluIG9yZGVyIG90aGVyIG1vZHVsZXMgY2FuIHJlYWN0IHRvIHRoZVxuICogY2FudmFzIHJlc2l6aW5nXG4gKi9cbkNhbnZhcy5wcm90b3R5cGUucmVzaXplZCA9IGZ1bmN0aW9uKCkge1xuXG4gIC8vIGZvcmNlIHJlY29tcHV0YXRpb24gb2YgdmlldyBib3hcbiAgZGVsZXRlIHRoaXMuX2NhY2hlZFZpZXdib3g7XG5cbiAgdGhpcy5fZXZlbnRCdXMuZmlyZSgnY2FudmFzLnJlc2l6ZWQnKTtcbn07XG4iLCJ2YXIgRUxFTUVOVF9JRCA9ICdkYXRhLWVsZW1lbnQtaWQnO1xuXG5pbXBvcnQgeyBhdHRyIGFzIHN2Z0F0dHIgfSBmcm9tICd0aW55LXN2Zyc7XG5cblxuLyoqXG4gKiBAY2xhc3NcbiAqXG4gKiBBIHJlZ2lzdHJ5IHRoYXQga2VlcHMgdHJhY2sgb2YgYWxsIHNoYXBlcyBpbiB0aGUgZGlhZ3JhbS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gRWxlbWVudFJlZ2lzdHJ5KGV2ZW50QnVzKSB7XG4gIHRoaXMuX2VsZW1lbnRzID0ge307XG5cbiAgdGhpcy5fZXZlbnRCdXMgPSBldmVudEJ1cztcbn1cblxuRWxlbWVudFJlZ2lzdHJ5LiRpbmplY3QgPSBbICdldmVudEJ1cycgXTtcblxuLyoqXG4gKiBSZWdpc3RlciBhIHBhaXIgb2YgKGVsZW1lbnQsIGdmeCwgKHNlY29uZGFyeUdmeCkpLlxuICpcbiAqIEBwYXJhbSB7ZGpzLm1vZGVsLkJhc2V9IGVsZW1lbnRcbiAqIEBwYXJhbSB7U1ZHRWxlbWVudH0gZ2Z4XG4gKiBAcGFyYW0ge1NWR0VsZW1lbnR9IFtzZWNvbmRhcnlHZnhdIG9wdGlvbmFsIG90aGVyIGVsZW1lbnQgdG8gcmVnaXN0ZXIsIHRvb1xuICovXG5FbGVtZW50UmVnaXN0cnkucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uKGVsZW1lbnQsIGdmeCwgc2Vjb25kYXJ5R2Z4KSB7XG5cbiAgdmFyIGlkID0gZWxlbWVudC5pZDtcblxuICB0aGlzLl92YWxpZGF0ZUlkKGlkKTtcblxuICAvLyBhc3NvY2lhdGUgZG9tIG5vZGUgd2l0aCBlbGVtZW50XG4gIHN2Z0F0dHIoZ2Z4LCBFTEVNRU5UX0lELCBpZCk7XG5cbiAgaWYgKHNlY29uZGFyeUdmeCkge1xuICAgIHN2Z0F0dHIoc2Vjb25kYXJ5R2Z4LCBFTEVNRU5UX0lELCBpZCk7XG4gIH1cblxuICB0aGlzLl9lbGVtZW50c1tpZF0gPSB7IGVsZW1lbnQ6IGVsZW1lbnQsIGdmeDogZ2Z4LCBzZWNvbmRhcnlHZng6IHNlY29uZGFyeUdmeCB9O1xufTtcblxuLyoqXG4gKiBSZW1vdmVzIGFuIGVsZW1lbnQgZnJvbSB0aGUgcmVnaXN0cnkuXG4gKlxuICogQHBhcmFtIHtkanMubW9kZWwuQmFzZX0gZWxlbWVudFxuICovXG5FbGVtZW50UmVnaXN0cnkucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgdmFyIGVsZW1lbnRzID0gdGhpcy5fZWxlbWVudHMsXG4gICAgICBpZCA9IGVsZW1lbnQuaWQgfHwgZWxlbWVudCxcbiAgICAgIGNvbnRhaW5lciA9IGlkICYmIGVsZW1lbnRzW2lkXTtcblxuICBpZiAoY29udGFpbmVyKSB7XG5cbiAgICAvLyB1bnNldCBlbGVtZW50IGlkIG9uIGdmeFxuICAgIHN2Z0F0dHIoY29udGFpbmVyLmdmeCwgRUxFTUVOVF9JRCwgJycpO1xuXG4gICAgaWYgKGNvbnRhaW5lci5zZWNvbmRhcnlHZngpIHtcbiAgICAgIHN2Z0F0dHIoY29udGFpbmVyLnNlY29uZGFyeUdmeCwgRUxFTUVOVF9JRCwgJycpO1xuICAgIH1cblxuICAgIGRlbGV0ZSBlbGVtZW50c1tpZF07XG4gIH1cbn07XG5cbi8qKlxuICogVXBkYXRlIHRoZSBpZCBvZiBhbiBlbGVtZW50XG4gKlxuICogQHBhcmFtIHtkanMubW9kZWwuQmFzZX0gZWxlbWVudFxuICogQHBhcmFtIHtzdHJpbmd9IG5ld0lkXG4gKi9cbkVsZW1lbnRSZWdpc3RyeS5wcm90b3R5cGUudXBkYXRlSWQgPSBmdW5jdGlvbihlbGVtZW50LCBuZXdJZCkge1xuXG4gIHRoaXMuX3ZhbGlkYXRlSWQobmV3SWQpO1xuXG4gIGlmICh0eXBlb2YgZWxlbWVudCA9PT0gJ3N0cmluZycpIHtcbiAgICBlbGVtZW50ID0gdGhpcy5nZXQoZWxlbWVudCk7XG4gIH1cblxuICB0aGlzLl9ldmVudEJ1cy5maXJlKCdlbGVtZW50LnVwZGF0ZUlkJywge1xuICAgIGVsZW1lbnQ6IGVsZW1lbnQsXG4gICAgbmV3SWQ6IG5ld0lkXG4gIH0pO1xuXG4gIHZhciBnZnggPSB0aGlzLmdldEdyYXBoaWNzKGVsZW1lbnQpLFxuICAgICAgc2Vjb25kYXJ5R2Z4ID0gdGhpcy5nZXRHcmFwaGljcyhlbGVtZW50LCB0cnVlKTtcblxuICB0aGlzLnJlbW92ZShlbGVtZW50KTtcblxuICBlbGVtZW50LmlkID0gbmV3SWQ7XG5cbiAgdGhpcy5hZGQoZWxlbWVudCwgZ2Z4LCBzZWNvbmRhcnlHZngpO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gdGhlIG1vZGVsIGVsZW1lbnQgZm9yIGEgZ2l2ZW4gaWQgb3IgZ3JhcGhpY3MuXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBlbGVtZW50UmVnaXN0cnkuZ2V0KCdTb21lRWxlbWVudElkXzEnKTtcbiAqIGVsZW1lbnRSZWdpc3RyeS5nZXQoZ2Z4KTtcbiAqXG4gKlxuICogQHBhcmFtIHtzdHJpbmd8U1ZHRWxlbWVudH0gZmlsdGVyIGZvciBzZWxlY3RpbmcgdGhlIGVsZW1lbnRcbiAqXG4gKiBAcmV0dXJuIHtkanMubW9kZWwuQmFzZX1cbiAqL1xuRWxlbWVudFJlZ2lzdHJ5LnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbihmaWx0ZXIpIHtcbiAgdmFyIGlkO1xuXG4gIGlmICh0eXBlb2YgZmlsdGVyID09PSAnc3RyaW5nJykge1xuICAgIGlkID0gZmlsdGVyO1xuICB9IGVsc2Uge1xuICAgIGlkID0gZmlsdGVyICYmIHN2Z0F0dHIoZmlsdGVyLCBFTEVNRU5UX0lEKTtcbiAgfVxuXG4gIHZhciBjb250YWluZXIgPSB0aGlzLl9lbGVtZW50c1tpZF07XG4gIHJldHVybiBjb250YWluZXIgJiYgY29udGFpbmVyLmVsZW1lbnQ7XG59O1xuXG4vKipcbiAqIFJldHVybiBhbGwgZWxlbWVudHMgdGhhdCBtYXRjaCBhIGdpdmVuIGZpbHRlciBmdW5jdGlvbi5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICpcbiAqIEByZXR1cm4ge0FycmF5PGRqcy5tb2RlbC5CYXNlPn1cbiAqL1xuRWxlbWVudFJlZ2lzdHJ5LnByb3RvdHlwZS5maWx0ZXIgPSBmdW5jdGlvbihmbikge1xuXG4gIHZhciBmaWx0ZXJlZCA9IFtdO1xuXG4gIHRoaXMuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50LCBnZngpIHtcbiAgICBpZiAoZm4oZWxlbWVudCwgZ2Z4KSkge1xuICAgICAgZmlsdGVyZWQucHVzaChlbGVtZW50KTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBmaWx0ZXJlZDtcbn07XG5cbi8qKlxuICogUmV0dXJuIHRoZSBmaXJzdCBlbGVtZW50IHRoYXQgc2F0aXNmaWVzIHRoZSBwcm92aWRlZCB0ZXN0aW5nIGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gKlxuICogQHJldHVybiB7ZGpzLm1vZGVsLkJhc2V9XG4gKi9cbkVsZW1lbnRSZWdpc3RyeS5wcm90b3R5cGUuZmluZCA9IGZ1bmN0aW9uKGZuKSB7XG4gIHZhciBtYXAgPSB0aGlzLl9lbGVtZW50cyxcbiAgICAgIGtleXMgPSBPYmplY3Qua2V5cyhtYXApO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBpZCA9IGtleXNbaV0sXG4gICAgICAgIGNvbnRhaW5lciA9IG1hcFtpZF0sXG4gICAgICAgIGVsZW1lbnQgPSBjb250YWluZXIuZWxlbWVudCxcbiAgICAgICAgZ2Z4ID0gY29udGFpbmVyLmdmeDtcblxuICAgIGlmIChmbihlbGVtZW50LCBnZngpKSB7XG4gICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9XG4gIH1cbn07XG5cbi8qKlxuICogUmV0dXJuIGFsbCByZW5kZXJlZCBtb2RlbCBlbGVtZW50cy5cbiAqXG4gKiBAcmV0dXJuIHtBcnJheTxkanMubW9kZWwuQmFzZT59XG4gKi9cbkVsZW1lbnRSZWdpc3RyeS5wcm90b3R5cGUuZ2V0QWxsID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmZpbHRlcihmdW5jdGlvbihlKSB7IHJldHVybiBlOyB9KTtcbn07XG5cbi8qKlxuICogSXRlcmF0ZSBvdmVyIGFsbCBkaWFncmFtIGVsZW1lbnRzLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gKi9cbkVsZW1lbnRSZWdpc3RyeS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uKGZuKSB7XG5cbiAgdmFyIG1hcCA9IHRoaXMuX2VsZW1lbnRzO1xuXG4gIE9iamVjdC5rZXlzKG1hcCkuZm9yRWFjaChmdW5jdGlvbihpZCkge1xuICAgIHZhciBjb250YWluZXIgPSBtYXBbaWRdLFxuICAgICAgICBlbGVtZW50ID0gY29udGFpbmVyLmVsZW1lbnQsXG4gICAgICAgIGdmeCA9IGNvbnRhaW5lci5nZng7XG5cbiAgICByZXR1cm4gZm4oZWxlbWVudCwgZ2Z4KTtcbiAgfSk7XG59O1xuXG4vKipcbiAqIFJldHVybiB0aGUgZ3JhcGhpY2FsIHJlcHJlc2VudGF0aW9uIG9mIGFuIGVsZW1lbnQgb3IgaXRzIGlkLlxuICpcbiAqIEBleGFtcGxlXG4gKiBlbGVtZW50UmVnaXN0cnkuZ2V0R3JhcGhpY3MoJ1NvbWVFbGVtZW50SWRfMScpO1xuICogZWxlbWVudFJlZ2lzdHJ5LmdldEdyYXBoaWNzKHJvb3RFbGVtZW50KTsgLy8gPGcgLi4uPlxuICpcbiAqIGVsZW1lbnRSZWdpc3RyeS5nZXRHcmFwaGljcyhyb290RWxlbWVudCwgdHJ1ZSk7IC8vIDxzdmcgLi4uPlxuICpcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ3xkanMubW9kZWwuQmFzZX0gZmlsdGVyXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtzZWNvbmRhcnk9ZmFsc2VdIHdoZXRoZXIgdG8gcmV0dXJuIHRoZSBzZWNvbmRhcnkgY29ubmVjdGVkIGVsZW1lbnRcbiAqXG4gKiBAcmV0dXJuIHtTVkdFbGVtZW50fVxuICovXG5FbGVtZW50UmVnaXN0cnkucHJvdG90eXBlLmdldEdyYXBoaWNzID0gZnVuY3Rpb24oZmlsdGVyLCBzZWNvbmRhcnkpIHtcbiAgdmFyIGlkID0gZmlsdGVyLmlkIHx8IGZpbHRlcjtcblxuICB2YXIgY29udGFpbmVyID0gdGhpcy5fZWxlbWVudHNbaWRdO1xuICByZXR1cm4gY29udGFpbmVyICYmIChzZWNvbmRhcnkgPyBjb250YWluZXIuc2Vjb25kYXJ5R2Z4IDogY29udGFpbmVyLmdmeCk7XG59O1xuXG4vKipcbiAqIFZhbGlkYXRlIHRoZSBzdWl0YWJpbGl0eSBvZiB0aGUgZ2l2ZW4gaWQgYW5kIHNpZ25hbHMgYSBwcm9ibGVtXG4gKiB3aXRoIGFuIGV4Y2VwdGlvbi5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gaWRcbiAqXG4gKiBAdGhyb3dzIHtFcnJvcn0gaWYgaWQgaXMgZW1wdHkgb3IgYWxyZWFkeSBhc3NpZ25lZFxuICovXG5FbGVtZW50UmVnaXN0cnkucHJvdG90eXBlLl92YWxpZGF0ZUlkID0gZnVuY3Rpb24oaWQpIHtcbiAgaWYgKCFpZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignZWxlbWVudCBtdXN0IGhhdmUgYW4gaWQnKTtcbiAgfVxuXG4gIGlmICh0aGlzLl9lbGVtZW50c1tpZF0pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2VsZW1lbnQgd2l0aCBpZCAnICsgaWQgKyAnIGFscmVhZHkgYWRkZWQnKTtcbiAgfVxufTtcbiIsImltcG9ydCB7IGFzc2lnbiB9IGZyb20gJ21pbi1kYXNoJztcbmltcG9ydCBpbmhlcml0cyBmcm9tICdpbmhlcml0cyc7XG5cbmltcG9ydCBSZWZzIGZyb20gJ29iamVjdC1yZWZzJztcblxudmFyIHBhcmVudFJlZnMgPSBuZXcgUmVmcyh7IG5hbWU6ICdjaGlsZHJlbicsIGVudW1lcmFibGU6IHRydWUsIGNvbGxlY3Rpb246IHRydWUgfSwgeyBuYW1lOiAncGFyZW50JyB9KSxcbiAgICBsYWJlbFJlZnMgPSBuZXcgUmVmcyh7IG5hbWU6ICdsYWJlbHMnLCBlbnVtZXJhYmxlOiB0cnVlLCBjb2xsZWN0aW9uOiB0cnVlIH0sIHsgbmFtZTogJ2xhYmVsVGFyZ2V0JyB9KSxcbiAgICBhdHRhY2hlclJlZnMgPSBuZXcgUmVmcyh7IG5hbWU6ICdhdHRhY2hlcnMnLCBjb2xsZWN0aW9uOiB0cnVlIH0sIHsgbmFtZTogJ2hvc3QnIH0pLFxuICAgIG91dGdvaW5nUmVmcyA9IG5ldyBSZWZzKHsgbmFtZTogJ291dGdvaW5nJywgY29sbGVjdGlvbjogdHJ1ZSB9LCB7IG5hbWU6ICdzb3VyY2UnIH0pLFxuICAgIGluY29taW5nUmVmcyA9IG5ldyBSZWZzKHsgbmFtZTogJ2luY29taW5nJywgY29sbGVjdGlvbjogdHJ1ZSB9LCB7IG5hbWU6ICd0YXJnZXQnIH0pO1xuXG4vKipcbiAqIEBuYW1lc3BhY2UgZGpzLm1vZGVsXG4gKi9cblxuLyoqXG4gKiBAbWVtYmVyT2YgZGpzLm1vZGVsXG4gKi9cblxuLyoqXG4gKiBUaGUgYmFzaWMgZ3JhcGhpY2FsIHJlcHJlc2VudGF0aW9uXG4gKlxuICogQGNsYXNzXG4gKlxuICogQGFic3RyYWN0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBCYXNlKCkge1xuXG4gIC8qKlxuICAgKiBUaGUgb2JqZWN0IHRoYXQgYmFja3MgdXAgdGhlIHNoYXBlXG4gICAqXG4gICAqIEBuYW1lIEJhc2UjYnVzaW5lc3NPYmplY3RcbiAgICogQHR5cGUgT2JqZWN0XG4gICAqL1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ2J1c2luZXNzT2JqZWN0Jywge1xuICAgIHdyaXRhYmxlOiB0cnVlXG4gIH0pO1xuXG5cbiAgLyoqXG4gICAqIFNpbmdsZSBsYWJlbCBzdXBwb3J0LCB3aWxsIG1hcHBlZCB0byBtdWx0aSBsYWJlbCBhcnJheVxuICAgKlxuICAgKiBAbmFtZSBCYXNlI2xhYmVsXG4gICAqIEB0eXBlIE9iamVjdFxuICAgKi9cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdsYWJlbCcsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMubGFiZWxzWzBdO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbihuZXdMYWJlbCkge1xuXG4gICAgICB2YXIgbGFiZWwgPSB0aGlzLmxhYmVsLFxuICAgICAgICAgIGxhYmVscyA9IHRoaXMubGFiZWxzO1xuXG4gICAgICBpZiAoIW5ld0xhYmVsICYmIGxhYmVsKSB7XG4gICAgICAgIGxhYmVscy5yZW1vdmUobGFiZWwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGFiZWxzLmFkZChuZXdMYWJlbCwgMCk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICAvKipcbiAgICogVGhlIHBhcmVudCBzaGFwZVxuICAgKlxuICAgKiBAbmFtZSBCYXNlI3BhcmVudFxuICAgKiBAdHlwZSBTaGFwZVxuICAgKi9cbiAgcGFyZW50UmVmcy5iaW5kKHRoaXMsICdwYXJlbnQnKTtcblxuICAvKipcbiAgICogVGhlIGxpc3Qgb2YgbGFiZWxzXG4gICAqXG4gICAqIEBuYW1lIEJhc2UjbGFiZWxzXG4gICAqIEB0eXBlIExhYmVsXG4gICAqL1xuICBsYWJlbFJlZnMuYmluZCh0aGlzLCAnbGFiZWxzJyk7XG5cbiAgLyoqXG4gICAqIFRoZSBsaXN0IG9mIG91dGdvaW5nIGNvbm5lY3Rpb25zXG4gICAqXG4gICAqIEBuYW1lIEJhc2Ujb3V0Z29pbmdcbiAgICogQHR5cGUgQXJyYXk8Q29ubmVjdGlvbj5cbiAgICovXG4gIG91dGdvaW5nUmVmcy5iaW5kKHRoaXMsICdvdXRnb2luZycpO1xuXG4gIC8qKlxuICAgKiBUaGUgbGlzdCBvZiBpbmNvbWluZyBjb25uZWN0aW9uc1xuICAgKlxuICAgKiBAbmFtZSBCYXNlI2luY29taW5nXG4gICAqIEB0eXBlIEFycmF5PENvbm5lY3Rpb24+XG4gICAqL1xuICBpbmNvbWluZ1JlZnMuYmluZCh0aGlzLCAnaW5jb21pbmcnKTtcbn1cblxuXG4vKipcbiAqIEEgZ3JhcGhpY2FsIG9iamVjdFxuICpcbiAqIEBjbGFzc1xuICogQGNvbnN0cnVjdG9yXG4gKlxuICogQGV4dGVuZHMgQmFzZVxuICovXG5leHBvcnQgZnVuY3Rpb24gU2hhcGUoKSB7XG4gIEJhc2UuY2FsbCh0aGlzKTtcblxuICAvKipcbiAgICogSW5kaWNhdGVzIGZyYW1lIHNoYXBlc1xuICAgKlxuICAgKiBAbmFtZSBTaGFwZSNpc0ZyYW1lXG4gICAqIEB0eXBlIGJvb2xlYW5cbiAgICovXG5cbiAgLyoqXG4gICAqIFRoZSBsaXN0IG9mIGNoaWxkcmVuXG4gICAqXG4gICAqIEBuYW1lIFNoYXBlI2NoaWxkcmVuXG4gICAqIEB0eXBlIEFycmF5PEJhc2U+XG4gICAqL1xuICBwYXJlbnRSZWZzLmJpbmQodGhpcywgJ2NoaWxkcmVuJyk7XG5cbiAgLyoqXG4gICAqIEBuYW1lIFNoYXBlI2hvc3RcbiAgICogQHR5cGUgU2hhcGVcbiAgICovXG4gIGF0dGFjaGVyUmVmcy5iaW5kKHRoaXMsICdob3N0Jyk7XG5cbiAgLyoqXG4gICAqIEBuYW1lIFNoYXBlI2F0dGFjaGVyc1xuICAgKiBAdHlwZSBTaGFwZVxuICAgKi9cbiAgYXR0YWNoZXJSZWZzLmJpbmQodGhpcywgJ2F0dGFjaGVycycpO1xufVxuXG5pbmhlcml0cyhTaGFwZSwgQmFzZSk7XG5cblxuLyoqXG4gKiBBIHJvb3QgZ3JhcGhpY2FsIG9iamVjdFxuICpcbiAqIEBjbGFzc1xuICogQGNvbnN0cnVjdG9yXG4gKlxuICogQGV4dGVuZHMgU2hhcGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFJvb3QoKSB7XG4gIFNoYXBlLmNhbGwodGhpcyk7XG59XG5cbmluaGVyaXRzKFJvb3QsIFNoYXBlKTtcblxuXG4vKipcbiAqIEEgbGFiZWwgZm9yIGFuIGVsZW1lbnRcbiAqXG4gKiBAY2xhc3NcbiAqIEBjb25zdHJ1Y3RvclxuICpcbiAqIEBleHRlbmRzIFNoYXBlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBMYWJlbCgpIHtcbiAgU2hhcGUuY2FsbCh0aGlzKTtcblxuICAvKipcbiAgICogVGhlIGxhYmVsZWQgZWxlbWVudFxuICAgKlxuICAgKiBAbmFtZSBMYWJlbCNsYWJlbFRhcmdldFxuICAgKiBAdHlwZSBCYXNlXG4gICAqL1xuICBsYWJlbFJlZnMuYmluZCh0aGlzLCAnbGFiZWxUYXJnZXQnKTtcbn1cblxuaW5oZXJpdHMoTGFiZWwsIFNoYXBlKTtcblxuXG4vKipcbiAqIEEgY29ubmVjdGlvbiBiZXR3ZWVuIHR3byBlbGVtZW50c1xuICpcbiAqIEBjbGFzc1xuICogQGNvbnN0cnVjdG9yXG4gKlxuICogQGV4dGVuZHMgQmFzZVxuICovXG5leHBvcnQgZnVuY3Rpb24gQ29ubmVjdGlvbigpIHtcbiAgQmFzZS5jYWxsKHRoaXMpO1xuXG4gIC8qKlxuICAgKiBUaGUgZWxlbWVudCB0aGlzIGNvbm5lY3Rpb24gb3JpZ2luYXRlcyBmcm9tXG4gICAqXG4gICAqIEBuYW1lIENvbm5lY3Rpb24jc291cmNlXG4gICAqIEB0eXBlIEJhc2VcbiAgICovXG4gIG91dGdvaW5nUmVmcy5iaW5kKHRoaXMsICdzb3VyY2UnKTtcblxuICAvKipcbiAgICogVGhlIGVsZW1lbnQgdGhpcyBjb25uZWN0aW9uIHBvaW50cyB0b1xuICAgKlxuICAgKiBAbmFtZSBDb25uZWN0aW9uI3RhcmdldFxuICAgKiBAdHlwZSBCYXNlXG4gICAqL1xuICBpbmNvbWluZ1JlZnMuYmluZCh0aGlzLCAndGFyZ2V0Jyk7XG59XG5cbmluaGVyaXRzKENvbm5lY3Rpb24sIEJhc2UpO1xuXG5cbnZhciB0eXBlcyA9IHtcbiAgY29ubmVjdGlvbjogQ29ubmVjdGlvbixcbiAgc2hhcGU6IFNoYXBlLFxuICBsYWJlbDogTGFiZWwsXG4gIHJvb3Q6IFJvb3Rcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBtb2RlbCBlbGVtZW50IG9mIHRoZSBzcGVjaWZpZWQgdHlwZVxuICpcbiAqIEBtZXRob2QgY3JlYXRlXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgc2hhcGUxID0gTW9kZWwuY3JlYXRlKCdzaGFwZScsIHsgeDogMTAsIHk6IDEwLCB3aWR0aDogMTAwLCBoZWlnaHQ6IDEwMCB9KTtcbiAqIHZhciBzaGFwZTIgPSBNb2RlbC5jcmVhdGUoJ3NoYXBlJywgeyB4OiAyMTAsIHk6IDIxMCwgd2lkdGg6IDEwMCwgaGVpZ2h0OiAxMDAgfSk7XG4gKlxuICogdmFyIGNvbm5lY3Rpb24gPSBNb2RlbC5jcmVhdGUoJ2Nvbm5lY3Rpb24nLCB7IHdheXBvaW50czogWyB7IHg6IDExMCwgeTogNTUgfSwge3g6IDIxMCwgeTogNTUgfSBdIH0pO1xuICpcbiAqIEBwYXJhbSAge3N0cmluZ30gdHlwZSBsb3dlci1jYXNlZCBtb2RlbCBuYW1lXG4gKiBAcGFyYW0gIHtPYmplY3R9IGF0dHJzIGF0dHJpYnV0ZXMgdG8gaW5pdGlhbGl6ZSB0aGUgbmV3IG1vZGVsIGluc3RhbmNlIHdpdGhcbiAqXG4gKiBAcmV0dXJuIHtCYXNlfSB0aGUgbmV3IG1vZGVsIGluc3RhbmNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUodHlwZSwgYXR0cnMpIHtcbiAgdmFyIFR5cGUgPSB0eXBlc1t0eXBlXTtcbiAgaWYgKCFUeXBlKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCd1bmtub3duIHR5cGU6IDwnICsgdHlwZSArICc+Jyk7XG4gIH1cbiAgcmV0dXJuIGFzc2lnbihuZXcgVHlwZSgpLCBhdHRycyk7XG59IiwiaW1wb3J0IHtcbiAgY3JlYXRlXG59IGZyb20gJy4uL21vZGVsJztcblxuaW1wb3J0IHsgYXNzaWduIH0gZnJvbSAnbWluLWRhc2gnO1xuXG4vKipcbiAqIEEgZmFjdG9yeSBmb3IgZGlhZ3JhbS1qcyBzaGFwZXNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gRWxlbWVudEZhY3RvcnkoKSB7XG4gIHRoaXMuX3VpZCA9IDEyO1xufVxuXG5cbkVsZW1lbnRGYWN0b3J5LnByb3RvdHlwZS5jcmVhdGVSb290ID0gZnVuY3Rpb24oYXR0cnMpIHtcbiAgcmV0dXJuIHRoaXMuY3JlYXRlKCdyb290JywgYXR0cnMpO1xufTtcblxuRWxlbWVudEZhY3RvcnkucHJvdG90eXBlLmNyZWF0ZUxhYmVsID0gZnVuY3Rpb24oYXR0cnMpIHtcbiAgcmV0dXJuIHRoaXMuY3JlYXRlKCdsYWJlbCcsIGF0dHJzKTtcbn07XG5cbkVsZW1lbnRGYWN0b3J5LnByb3RvdHlwZS5jcmVhdGVTaGFwZSA9IGZ1bmN0aW9uKGF0dHJzKSB7XG4gIHJldHVybiB0aGlzLmNyZWF0ZSgnc2hhcGUnLCBhdHRycyk7XG59O1xuXG5FbGVtZW50RmFjdG9yeS5wcm90b3R5cGUuY3JlYXRlQ29ubmVjdGlvbiA9IGZ1bmN0aW9uKGF0dHJzKSB7XG4gIHJldHVybiB0aGlzLmNyZWF0ZSgnY29ubmVjdGlvbicsIGF0dHJzKTtcbn07XG5cbi8qKlxuICogQ3JlYXRlIGEgbW9kZWwgZWxlbWVudCB3aXRoIHRoZSBnaXZlbiB0eXBlIGFuZFxuICogYSBudW1iZXIgb2YgcHJlLXNldCBhdHRyaWJ1dGVzLlxuICpcbiAqIEBwYXJhbSAge3N0cmluZ30gdHlwZVxuICogQHBhcmFtICB7T2JqZWN0fSBhdHRyc1xuICogQHJldHVybiB7ZGpzLm1vZGVsLkJhc2V9IHRoZSBuZXdseSBjcmVhdGVkIG1vZGVsIGluc3RhbmNlXG4gKi9cbkVsZW1lbnRGYWN0b3J5LnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbih0eXBlLCBhdHRycykge1xuXG4gIGF0dHJzID0gYXNzaWduKHt9LCBhdHRycyB8fCB7fSk7XG5cbiAgaWYgKCFhdHRycy5pZCkge1xuICAgIGF0dHJzLmlkID0gdHlwZSArICdfJyArICh0aGlzLl91aWQrKyk7XG4gIH1cblxuICByZXR1cm4gY3JlYXRlKHR5cGUsIGF0dHJzKTtcbn07IiwiaW1wb3J0IHtcbiAgaXNGdW5jdGlvbixcbiAgaXNBcnJheSxcbiAgaXNOdW1iZXIsXG4gIGJpbmQsXG4gIGFzc2lnblxufSBmcm9tICdtaW4tZGFzaCc7XG5cbnZhciBGTl9SRUYgPSAnX19mbic7XG5cbnZhciBERUZBVUxUX1BSSU9SSVRZID0gMTAwMDtcblxudmFyIHNsaWNlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlO1xuXG4vKipcbiAqIEEgZ2VuZXJhbCBwdXJwb3NlIGV2ZW50IGJ1cy5cbiAqXG4gKiBUaGlzIGNvbXBvbmVudCBpcyB1c2VkIHRvIGNvbW11bmljYXRlIGFjcm9zcyBhIGRpYWdyYW0gaW5zdGFuY2UuXG4gKiBPdGhlciBwYXJ0cyBvZiBhIGRpYWdyYW0gY2FuIHVzZSBpdCB0byBsaXN0ZW4gdG8gYW5kIGJyb2FkY2FzdCBldmVudHMuXG4gKlxuICpcbiAqICMjIFJlZ2lzdGVyaW5nIGZvciBFdmVudHNcbiAqXG4gKiBUaGUgZXZlbnQgYnVzIHByb3ZpZGVzIHRoZSB7QGxpbmsgRXZlbnRCdXMjb259IGFuZCB7QGxpbmsgRXZlbnRCdXMjb25jZX1cbiAqIG1ldGhvZHMgdG8gcmVnaXN0ZXIgZm9yIGV2ZW50cy4ge0BsaW5rIEV2ZW50QnVzI29mZn0gY2FuIGJlIHVzZWQgdG9cbiAqIHJlbW92ZSBldmVudCByZWdpc3RyYXRpb25zLiBMaXN0ZW5lcnMgcmVjZWl2ZSBhbiBpbnN0YW5jZSBvZiB7QGxpbmsgRXZlbnR9XG4gKiBhcyB0aGUgZmlyc3QgYXJndW1lbnQuIEl0IGFsbG93cyB0aGVtIHRvIGhvb2sgaW50byB0aGUgZXZlbnQgZXhlY3V0aW9uLlxuICpcbiAqIGBgYGphdmFzY3JpcHRcbiAqXG4gKiAvLyBsaXN0ZW4gZm9yIGV2ZW50XG4gKiBldmVudEJ1cy5vbignZm9vJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAqXG4gKiAgIC8vIGFjY2VzcyBldmVudCB0eXBlXG4gKiAgIGV2ZW50LnR5cGU7IC8vICdmb28nXG4gKlxuICogICAvLyBzdG9wIHByb3BhZ2F0aW9uIHRvIG90aGVyIGxpc3RlbmVyc1xuICogICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAqXG4gKiAgIC8vIHByZXZlbnQgZXZlbnQgZGVmYXVsdFxuICogICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICogfSk7XG4gKlxuICogLy8gbGlzdGVuIGZvciBldmVudCB3aXRoIGN1c3RvbSBwYXlsb2FkXG4gKiBldmVudEJ1cy5vbignYmFyJywgZnVuY3Rpb24oZXZlbnQsIHBheWxvYWQpIHtcbiAqICAgY29uc29sZS5sb2cocGF5bG9hZCk7XG4gKiB9KTtcbiAqXG4gKiAvLyBsaXN0ZW4gZm9yIGV2ZW50IHJldHVybmluZyB2YWx1ZVxuICogZXZlbnRCdXMub24oJ2Zvb2JhcicsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gKlxuICogICAvLyBzdG9wIGV2ZW50IHByb3BhZ2F0aW9uICsgcHJldmVudCBkZWZhdWx0XG4gKiAgIHJldHVybiBmYWxzZTtcbiAqXG4gKiAgIC8vIHN0b3AgZXZlbnQgcHJvcGFnYXRpb24gKyByZXR1cm4gY3VzdG9tIHJlc3VsdFxuICogICByZXR1cm4ge1xuICogICAgIGNvbXBsZXg6ICdsaXN0ZW5pbmcgcmVzdWx0J1xuICogICB9O1xuICogfSk7XG4gKlxuICpcbiAqIC8vIGxpc3RlbiB3aXRoIGN1c3RvbSBwcmlvcml0eSAoZGVmYXVsdD0xMDAwLCBoaWdoZXIgaXMgYmV0dGVyKVxuICogZXZlbnRCdXMub24oJ3ByaW9yaXR5Zm9vJywgMTUwMCwgZnVuY3Rpb24oZXZlbnQpIHtcbiAqICAgY29uc29sZS5sb2coJ2ludm9rZWQgZmlyc3QhJyk7XG4gKiB9KTtcbiAqXG4gKlxuICogLy8gbGlzdGVuIGZvciBldmVudCBhbmQgcGFzcyB0aGUgY29udGV4dCAoYHRoaXNgKVxuICogZXZlbnRCdXMub24oJ2Zvb2JhcicsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gKiAgIHRoaXMuZm9vKCk7XG4gKiB9LCB0aGlzKTtcbiAqIGBgYFxuICpcbiAqXG4gKiAjIyBFbWl0dGluZyBFdmVudHNcbiAqXG4gKiBFdmVudHMgY2FuIGJlIGVtaXR0ZWQgdmlhIHRoZSBldmVudCBidXMgdXNpbmcge0BsaW5rIEV2ZW50QnVzI2ZpcmV9LlxuICpcbiAqIGBgYGphdmFzY3JpcHRcbiAqXG4gKiAvLyBmYWxzZSBpbmRpY2F0ZXMgdGhhdCB0aGUgZGVmYXVsdCBhY3Rpb25cbiAqIC8vIHdhcyBwcmV2ZW50ZWQgYnkgbGlzdGVuZXJzXG4gKiBpZiAoZXZlbnRCdXMuZmlyZSgnZm9vJykgPT09IGZhbHNlKSB7XG4gKiAgIGNvbnNvbGUubG9nKCdkZWZhdWx0IGhhcyBiZWVuIHByZXZlbnRlZCEnKTtcbiAqIH07XG4gKlxuICpcbiAqIC8vIGN1c3RvbSBhcmdzICsgcmV0dXJuIHZhbHVlIGxpc3RlbmVyXG4gKiBldmVudEJ1cy5vbignc3VtJywgZnVuY3Rpb24oZXZlbnQsIGEsIGIpIHtcbiAqICAgcmV0dXJuIGEgKyBiO1xuICogfSk7XG4gKlxuICogLy8geW91IGNhbiBwYXNzIGN1c3RvbSBhcmd1bWVudHMgKyByZXRyaWV2ZSByZXN1bHQgdmFsdWVzLlxuICogdmFyIHN1bSA9IGV2ZW50QnVzLmZpcmUoJ3N1bScsIDEsIDIpO1xuICogY29uc29sZS5sb2coc3VtKTsgLy8gM1xuICogYGBgXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEV2ZW50QnVzKCkge1xuICB0aGlzLl9saXN0ZW5lcnMgPSB7fTtcblxuICAvLyBjbGVhbnVwIG9uIGRlc3Ryb3kgb24gbG93ZXN0IHByaW9yaXR5IHRvIGFsbG93XG4gIC8vIG1lc3NhZ2UgcGFzc2luZyB1bnRpbCB0aGUgYml0dGVyIGVuZFxuICB0aGlzLm9uKCdkaWFncmFtLmRlc3Ryb3knLCAxLCB0aGlzLl9kZXN0cm95LCB0aGlzKTtcbn1cblxuXG4vKipcbiAqIFJlZ2lzdGVyIGFuIGV2ZW50IGxpc3RlbmVyIGZvciBldmVudHMgd2l0aCB0aGUgZ2l2ZW4gbmFtZS5cbiAqXG4gKiBUaGUgY2FsbGJhY2sgd2lsbCBiZSBpbnZva2VkIHdpdGggYGV2ZW50LCAuLi5hZGRpdGlvbmFsQXJndW1lbnRzYFxuICogdGhhdCBoYXZlIGJlZW4gcGFzc2VkIHRvIHtAbGluayBFdmVudEJ1cyNmaXJlfS5cbiAqXG4gKiBSZXR1cm5pbmcgZmFsc2UgZnJvbSBhIGxpc3RlbmVyIHdpbGwgcHJldmVudCB0aGUgZXZlbnRzIGRlZmF1bHQgYWN0aW9uXG4gKiAoaWYgYW55IGlzIHNwZWNpZmllZCkuIFRvIHN0b3AgYW4gZXZlbnQgZnJvbSBiZWluZyBwcm9jZXNzZWQgZnVydGhlciBpblxuICogb3RoZXIgbGlzdGVuZXJzIGV4ZWN1dGUge0BsaW5rIEV2ZW50I3N0b3BQcm9wYWdhdGlvbn0uXG4gKlxuICogUmV0dXJuaW5nIGFueXRoaW5nIGJ1dCBgdW5kZWZpbmVkYCBmcm9tIGEgbGlzdGVuZXIgd2lsbCBzdG9wIHRoZSBsaXN0ZW5lciBwcm9wYWdhdGlvbi5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ3xBcnJheTxzdHJpbmc+fSBldmVudHNcbiAqIEBwYXJhbSB7bnVtYmVyfSBbcHJpb3JpdHk9MTAwMF0gdGhlIHByaW9yaXR5IGluIHdoaWNoIHRoaXMgbGlzdGVuZXIgaXMgY2FsbGVkLCBsYXJnZXIgaXMgaGlnaGVyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICogQHBhcmFtIHtPYmplY3R9IFt0aGF0XSBQYXNzIGNvbnRleHQgKGB0aGlzYCkgdG8gdGhlIGNhbGxiYWNrXG4gKi9cbkV2ZW50QnVzLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uKGV2ZW50cywgcHJpb3JpdHksIGNhbGxiYWNrLCB0aGF0KSB7XG5cbiAgZXZlbnRzID0gaXNBcnJheShldmVudHMpID8gZXZlbnRzIDogWyBldmVudHMgXTtcblxuICBpZiAoaXNGdW5jdGlvbihwcmlvcml0eSkpIHtcbiAgICB0aGF0ID0gY2FsbGJhY2s7XG4gICAgY2FsbGJhY2sgPSBwcmlvcml0eTtcbiAgICBwcmlvcml0eSA9IERFRkFVTFRfUFJJT1JJVFk7XG4gIH1cblxuICBpZiAoIWlzTnVtYmVyKHByaW9yaXR5KSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJpb3JpdHkgbXVzdCBiZSBhIG51bWJlcicpO1xuICB9XG5cbiAgdmFyIGFjdHVhbENhbGxiYWNrID0gY2FsbGJhY2s7XG5cbiAgaWYgKHRoYXQpIHtcbiAgICBhY3R1YWxDYWxsYmFjayA9IGJpbmQoY2FsbGJhY2ssIHRoYXQpO1xuXG4gICAgLy8gbWFrZSBzdXJlIHdlIHJlbWVtYmVyIGFuZCBhcmUgYWJsZSB0byByZW1vdmVcbiAgICAvLyBib3VuZCBjYWxsYmFja3MgdmlhIHtAbGluayAjb2ZmfSB1c2luZyB0aGUgb3JpZ2luYWxcbiAgICAvLyBjYWxsYmFja1xuICAgIGFjdHVhbENhbGxiYWNrW0ZOX1JFRl0gPSBjYWxsYmFja1tGTl9SRUZdIHx8IGNhbGxiYWNrO1xuICB9XG5cbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIGV2ZW50cy5mb3JFYWNoKGZ1bmN0aW9uKGUpIHtcbiAgICBzZWxmLl9hZGRMaXN0ZW5lcihlLCB7XG4gICAgICBwcmlvcml0eTogcHJpb3JpdHksXG4gICAgICBjYWxsYmFjazogYWN0dWFsQ2FsbGJhY2ssXG4gICAgICBuZXh0OiBudWxsXG4gICAgfSk7XG4gIH0pO1xufTtcblxuXG4vKipcbiAqIFJlZ2lzdGVyIGFuIGV2ZW50IGxpc3RlbmVyIHRoYXQgaXMgZXhlY3V0ZWQgb25seSBvbmNlLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBldmVudCB0aGUgZXZlbnQgbmFtZSB0byByZWdpc3RlciBmb3JcbiAqIEBwYXJhbSB7bnVtYmVyfSBbcHJpb3JpdHk9MTAwMF0gdGhlIHByaW9yaXR5IGluIHdoaWNoIHRoaXMgbGlzdGVuZXIgaXMgY2FsbGVkLCBsYXJnZXIgaXMgaGlnaGVyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayB0aGUgY2FsbGJhY2sgdG8gZXhlY3V0ZVxuICogQHBhcmFtIHtPYmplY3R9IFt0aGF0XSBQYXNzIGNvbnRleHQgKGB0aGlzYCkgdG8gdGhlIGNhbGxiYWNrXG4gKi9cbkV2ZW50QnVzLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24oZXZlbnQsIHByaW9yaXR5LCBjYWxsYmFjaywgdGhhdCkge1xuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgaWYgKGlzRnVuY3Rpb24ocHJpb3JpdHkpKSB7XG4gICAgdGhhdCA9IGNhbGxiYWNrO1xuICAgIGNhbGxiYWNrID0gcHJpb3JpdHk7XG4gICAgcHJpb3JpdHkgPSBERUZBVUxUX1BSSU9SSVRZO1xuICB9XG5cbiAgaWYgKCFpc051bWJlcihwcmlvcml0eSkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3ByaW9yaXR5IG11c3QgYmUgYSBudW1iZXInKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHdyYXBwZWRDYWxsYmFjaygpIHtcbiAgICB3cmFwcGVkQ2FsbGJhY2suX19pc1RvbWIgPSB0cnVlO1xuXG4gICAgdmFyIHJlc3VsdCA9IGNhbGxiYWNrLmFwcGx5KHRoYXQsIGFyZ3VtZW50cyk7XG5cbiAgICBzZWxmLm9mZihldmVudCwgd3JhcHBlZENhbGxiYWNrKTtcblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvLyBtYWtlIHN1cmUgd2UgcmVtZW1iZXIgYW5kIGFyZSBhYmxlIHRvIHJlbW92ZVxuICAvLyBib3VuZCBjYWxsYmFja3MgdmlhIHtAbGluayAjb2ZmfSB1c2luZyB0aGUgb3JpZ2luYWxcbiAgLy8gY2FsbGJhY2tcbiAgd3JhcHBlZENhbGxiYWNrW0ZOX1JFRl0gPSBjYWxsYmFjaztcblxuICB0aGlzLm9uKGV2ZW50LCBwcmlvcml0eSwgd3JhcHBlZENhbGxiYWNrKTtcbn07XG5cblxuLyoqXG4gKiBSZW1vdmVzIGV2ZW50IGxpc3RlbmVycyBieSBldmVudCBhbmQgY2FsbGJhY2suXG4gKlxuICogSWYgbm8gY2FsbGJhY2sgaXMgZ2l2ZW4sIGFsbCBsaXN0ZW5lcnMgZm9yIGEgZ2l2ZW4gZXZlbnQgbmFtZSBhcmUgYmVpbmcgcmVtb3ZlZC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ3xBcnJheTxzdHJpbmc+fSBldmVudHNcbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja11cbiAqL1xuRXZlbnRCdXMucHJvdG90eXBlLm9mZiA9IGZ1bmN0aW9uKGV2ZW50cywgY2FsbGJhY2spIHtcblxuICBldmVudHMgPSBpc0FycmF5KGV2ZW50cykgPyBldmVudHMgOiBbIGV2ZW50cyBdO1xuXG4gIHZhciBzZWxmID0gdGhpcztcblxuICBldmVudHMuZm9yRWFjaChmdW5jdGlvbihldmVudCkge1xuICAgIHNlbGYuX3JlbW92ZUxpc3RlbmVyKGV2ZW50LCBjYWxsYmFjayk7XG4gIH0pO1xuXG59O1xuXG5cbi8qKlxuICogQ3JlYXRlIGFuIEV2ZW50QnVzIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhXG4gKlxuICogQHJldHVybiB7T2JqZWN0fSBldmVudCwgcmVjb2duaXplZCBieSB0aGUgZXZlbnRCdXNcbiAqL1xuRXZlbnRCdXMucHJvdG90eXBlLmNyZWF0ZUV2ZW50ID0gZnVuY3Rpb24oZGF0YSkge1xuICB2YXIgZXZlbnQgPSBuZXcgSW50ZXJuYWxFdmVudCgpO1xuXG4gIGV2ZW50LmluaXQoZGF0YSk7XG5cbiAgcmV0dXJuIGV2ZW50O1xufTtcblxuXG4vKipcbiAqIEZpcmVzIGEgbmFtZWQgZXZlbnQuXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiAvLyBmaXJlIGV2ZW50IGJ5IG5hbWVcbiAqIGV2ZW50cy5maXJlKCdmb28nKTtcbiAqXG4gKiAvLyBmaXJlIGV2ZW50IG9iamVjdCB3aXRoIG5lc3RlZCB0eXBlXG4gKiB2YXIgZXZlbnQgPSB7IHR5cGU6ICdmb28nIH07XG4gKiBldmVudHMuZmlyZShldmVudCk7XG4gKlxuICogLy8gZmlyZSBldmVudCB3aXRoIGV4cGxpY2l0IHR5cGVcbiAqIHZhciBldmVudCA9IHsgeDogMTAsIHk6IDIwIH07XG4gKiBldmVudHMuZmlyZSgnZWxlbWVudC5tb3ZlZCcsIGV2ZW50KTtcbiAqXG4gKiAvLyBwYXNzIGFkZGl0aW9uYWwgYXJndW1lbnRzIHRvIHRoZSBldmVudFxuICogZXZlbnRzLm9uKCdmb28nLCBmdW5jdGlvbihldmVudCwgYmFyKSB7XG4gKiAgIGFsZXJ0KGJhcik7XG4gKiB9KTtcbiAqXG4gKiBldmVudHMuZmlyZSh7IHR5cGU6ICdmb28nIH0sICdJIGFtIGJhciEnKTtcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gW25hbWVdIHRoZSBvcHRpb25hbCBldmVudCBuYW1lXG4gKiBAcGFyYW0ge09iamVjdH0gW2V2ZW50XSB0aGUgZXZlbnQgb2JqZWN0XG4gKiBAcGFyYW0gey4uLk9iamVjdH0gYWRkaXRpb25hbCBhcmd1bWVudHMgdG8gYmUgcGFzc2VkIHRvIHRoZSBjYWxsYmFjayBmdW5jdGlvbnNcbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufSB0aGUgZXZlbnRzIHJldHVybiB2YWx1ZSwgaWYgc3BlY2lmaWVkIG9yIGZhbHNlIGlmIHRoZVxuICogICAgICAgICAgICAgICAgICAgZGVmYXVsdCBhY3Rpb24gd2FzIHByZXZlbnRlZCBieSBsaXN0ZW5lcnNcbiAqL1xuRXZlbnRCdXMucHJvdG90eXBlLmZpcmUgPSBmdW5jdGlvbih0eXBlLCBkYXRhKSB7XG4gIHZhciBldmVudCxcbiAgICAgIGZpcnN0TGlzdGVuZXIsXG4gICAgICByZXR1cm5WYWx1ZSxcbiAgICAgIGFyZ3M7XG5cbiAgYXJncyA9IHNsaWNlLmNhbGwoYXJndW1lbnRzKTtcblxuICBpZiAodHlwZW9mIHR5cGUgPT09ICdvYmplY3QnKSB7XG4gICAgZGF0YSA9IHR5cGU7XG4gICAgdHlwZSA9IGRhdGEudHlwZTtcbiAgfVxuXG4gIGlmICghdHlwZSkge1xuICAgIHRocm93IG5ldyBFcnJvcignbm8gZXZlbnQgdHlwZSBzcGVjaWZpZWQnKTtcbiAgfVxuXG4gIGZpcnN0TGlzdGVuZXIgPSB0aGlzLl9saXN0ZW5lcnNbdHlwZV07XG5cbiAgaWYgKCFmaXJzdExpc3RlbmVyKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gd2UgbWFrZSBzdXJlIHdlIGZpcmUgaW5zdGFuY2VzIG9mIG91ciBob21lIG1hZGVcbiAgLy8gZXZlbnRzIGhlcmUuIFdlIHdyYXAgdGhlbSBvbmx5IG9uY2UsIHRob3VnaFxuICBpZiAoZGF0YSBpbnN0YW5jZW9mIEludGVybmFsRXZlbnQpIHtcblxuICAgIC8vIHdlIGFyZSBmaW5lLCB3ZSBhbHJlYWQgaGF2ZSBhbiBldmVudFxuICAgIGV2ZW50ID0gZGF0YTtcbiAgfSBlbHNlIHtcbiAgICBldmVudCA9IHRoaXMuY3JlYXRlRXZlbnQoZGF0YSk7XG4gIH1cblxuICAvLyBlbnN1cmUgd2UgcGFzcyB0aGUgZXZlbnQgYXMgdGhlIGZpcnN0IHBhcmFtZXRlclxuICBhcmdzWzBdID0gZXZlbnQ7XG5cbiAgLy8gb3JpZ2luYWwgZXZlbnQgdHlwZSAoaW4gY2FzZSB3ZSBkZWxlZ2F0ZSlcbiAgdmFyIG9yaWdpbmFsVHlwZSA9IGV2ZW50LnR5cGU7XG5cbiAgLy8gdXBkYXRlIGV2ZW50IHR5cGUgYmVmb3JlIGRlbGVnYXRpb25cbiAgaWYgKHR5cGUgIT09IG9yaWdpbmFsVHlwZSkge1xuICAgIGV2ZW50LnR5cGUgPSB0eXBlO1xuICB9XG5cbiAgdHJ5IHtcbiAgICByZXR1cm5WYWx1ZSA9IHRoaXMuX2ludm9rZUxpc3RlbmVycyhldmVudCwgYXJncywgZmlyc3RMaXN0ZW5lcik7XG4gIH0gZmluYWxseSB7XG5cbiAgICAvLyByZXNldCBldmVudCB0eXBlIGFmdGVyIGRlbGVnYXRpb25cbiAgICBpZiAodHlwZSAhPT0gb3JpZ2luYWxUeXBlKSB7XG4gICAgICBldmVudC50eXBlID0gb3JpZ2luYWxUeXBlO1xuICAgIH1cbiAgfVxuXG4gIC8vIHNldCB0aGUgcmV0dXJuIHZhbHVlIHRvIGZhbHNlIGlmIHRoZSBldmVudCBkZWZhdWx0XG4gIC8vIGdvdCBwcmV2ZW50ZWQgYW5kIG5vIG90aGVyIHJldHVybiB2YWx1ZSBleGlzdHNcbiAgaWYgKHJldHVyblZhbHVlID09PSB1bmRlZmluZWQgJiYgZXZlbnQuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgIHJldHVyblZhbHVlID0gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gcmV0dXJuVmFsdWU7XG59O1xuXG5cbkV2ZW50QnVzLnByb3RvdHlwZS5oYW5kbGVFcnJvciA9IGZ1bmN0aW9uKGVycm9yKSB7XG4gIHJldHVybiB0aGlzLmZpcmUoJ2Vycm9yJywgeyBlcnJvcjogZXJyb3IgfSkgPT09IGZhbHNlO1xufTtcblxuXG5FdmVudEJ1cy5wcm90b3R5cGUuX2Rlc3Ryb3kgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5fbGlzdGVuZXJzID0ge307XG59O1xuXG5FdmVudEJ1cy5wcm90b3R5cGUuX2ludm9rZUxpc3RlbmVycyA9IGZ1bmN0aW9uKGV2ZW50LCBhcmdzLCBsaXN0ZW5lcikge1xuXG4gIHZhciByZXR1cm5WYWx1ZTtcblxuICB3aGlsZSAobGlzdGVuZXIpIHtcblxuICAgIC8vIGhhbmRsZSBzdG9wcGVkIHByb3BhZ2F0aW9uXG4gICAgaWYgKGV2ZW50LmNhbmNlbEJ1YmJsZSkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgcmV0dXJuVmFsdWUgPSB0aGlzLl9pbnZva2VMaXN0ZW5lcihldmVudCwgYXJncywgbGlzdGVuZXIpO1xuXG4gICAgbGlzdGVuZXIgPSBsaXN0ZW5lci5uZXh0O1xuICB9XG5cbiAgcmV0dXJuIHJldHVyblZhbHVlO1xufTtcblxuRXZlbnRCdXMucHJvdG90eXBlLl9pbnZva2VMaXN0ZW5lciA9IGZ1bmN0aW9uKGV2ZW50LCBhcmdzLCBsaXN0ZW5lcikge1xuXG4gIHZhciByZXR1cm5WYWx1ZTtcblxuICBpZiAobGlzdGVuZXIuY2FsbGJhY2suX19pc1RvbWIpIHtcbiAgICByZXR1cm4gcmV0dXJuVmFsdWU7XG4gIH1cblxuICB0cnkge1xuXG4gICAgLy8gcmV0dXJuaW5nIGZhbHNlIHByZXZlbnRzIHRoZSBkZWZhdWx0IGFjdGlvblxuICAgIHJldHVyblZhbHVlID0gaW52b2tlRnVuY3Rpb24obGlzdGVuZXIuY2FsbGJhY2ssIGFyZ3MpO1xuXG4gICAgLy8gc3RvcCBwcm9wYWdhdGlvbiBvbiByZXR1cm4gdmFsdWVcbiAgICBpZiAocmV0dXJuVmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgZXZlbnQucmV0dXJuVmFsdWUgPSByZXR1cm5WYWx1ZTtcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH1cblxuICAgIC8vIHByZXZlbnQgZGVmYXVsdCBvbiByZXR1cm4gZmFsc2VcbiAgICBpZiAocmV0dXJuVmFsdWUgPT09IGZhbHNlKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgfSBjYXRjaCAoZSkge1xuICAgIGlmICghdGhpcy5oYW5kbGVFcnJvcihlKSkge1xuICAgICAgY29uc29sZS5lcnJvcigndW5oYW5kbGVkIGVycm9yIGluIGV2ZW50IGxpc3RlbmVyJyk7XG4gICAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuXG4gICAgICB0aHJvdyBlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXR1cm5WYWx1ZTtcbn07XG5cbi8qXG4gKiBBZGQgbmV3IGxpc3RlbmVyIHdpdGggYSBjZXJ0YWluIHByaW9yaXR5IHRvIHRoZSBsaXN0XG4gKiBvZiBsaXN0ZW5lcnMgKGZvciB0aGUgZ2l2ZW4gZXZlbnQpLlxuICpcbiAqIFRoZSBzZW1hbnRpY3Mgb2YgbGlzdGVuZXIgcmVnaXN0cmF0aW9uIC8gbGlzdGVuZXIgZXhlY3V0aW9uIGFyZVxuICogZmlyc3QgcmVnaXN0ZXIsIGZpcnN0IHNlcnZlOiBOZXcgbGlzdGVuZXJzIHdpbGwgYWx3YXlzIGJlIGluc2VydGVkXG4gKiBhZnRlciBleGlzdGluZyBsaXN0ZW5lcnMgd2l0aCB0aGUgc2FtZSBwcmlvcml0eS5cbiAqXG4gKiBFeGFtcGxlOiBJbnNlcnRpbmcgdHdvIGxpc3RlbmVycyB3aXRoIHByaW9yaXR5IDEwMDAgYW5kIDEzMDBcbiAqXG4gKiAgICAqIGJlZm9yZTogWyAxNTAwLCAxNTAwLCAxMDAwLCAxMDAwIF1cbiAqICAgICogYWZ0ZXI6IFsgMTUwMCwgMTUwMCwgKG5ldz0xMzAwKSwgMTAwMCwgMTAwMCwgKG5ldz0xMDAwKSBdXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50XG4gKiBAcGFyYW0ge09iamVjdH0gbGlzdGVuZXIgeyBwcmlvcml0eSwgY2FsbGJhY2sgfVxuICovXG5FdmVudEJ1cy5wcm90b3R5cGUuX2FkZExpc3RlbmVyID0gZnVuY3Rpb24oZXZlbnQsIG5ld0xpc3RlbmVyKSB7XG5cbiAgdmFyIGxpc3RlbmVyID0gdGhpcy5fZ2V0TGlzdGVuZXJzKGV2ZW50KSxcbiAgICAgIHByZXZpb3VzTGlzdGVuZXI7XG5cbiAgLy8gbm8gcHJpb3IgbGlzdGVuZXJzXG4gIGlmICghbGlzdGVuZXIpIHtcbiAgICB0aGlzLl9zZXRMaXN0ZW5lcnMoZXZlbnQsIG5ld0xpc3RlbmVyKTtcblxuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIGVuc3VyZSB3ZSBvcmRlciBsaXN0ZW5lcnMgYnkgcHJpb3JpdHkgZnJvbVxuICAvLyAwIChoaWdoKSB0byBuID4gMCAobG93KVxuICB3aGlsZSAobGlzdGVuZXIpIHtcblxuICAgIGlmIChsaXN0ZW5lci5wcmlvcml0eSA8IG5ld0xpc3RlbmVyLnByaW9yaXR5KSB7XG5cbiAgICAgIG5ld0xpc3RlbmVyLm5leHQgPSBsaXN0ZW5lcjtcblxuICAgICAgaWYgKHByZXZpb3VzTGlzdGVuZXIpIHtcbiAgICAgICAgcHJldmlvdXNMaXN0ZW5lci5uZXh0ID0gbmV3TGlzdGVuZXI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9zZXRMaXN0ZW5lcnMoZXZlbnQsIG5ld0xpc3RlbmVyKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHByZXZpb3VzTGlzdGVuZXIgPSBsaXN0ZW5lcjtcbiAgICBsaXN0ZW5lciA9IGxpc3RlbmVyLm5leHQ7XG4gIH1cblxuICAvLyBhZGQgbmV3IGxpc3RlbmVyIHRvIGJhY2tcbiAgcHJldmlvdXNMaXN0ZW5lci5uZXh0ID0gbmV3TGlzdGVuZXI7XG59O1xuXG5cbkV2ZW50QnVzLnByb3RvdHlwZS5fZ2V0TGlzdGVuZXJzID0gZnVuY3Rpb24obmFtZSkge1xuICByZXR1cm4gdGhpcy5fbGlzdGVuZXJzW25hbWVdO1xufTtcblxuRXZlbnRCdXMucHJvdG90eXBlLl9zZXRMaXN0ZW5lcnMgPSBmdW5jdGlvbihuYW1lLCBsaXN0ZW5lcikge1xuICB0aGlzLl9saXN0ZW5lcnNbbmFtZV0gPSBsaXN0ZW5lcjtcbn07XG5cbkV2ZW50QnVzLnByb3RvdHlwZS5fcmVtb3ZlTGlzdGVuZXIgPSBmdW5jdGlvbihldmVudCwgY2FsbGJhY2spIHtcblxuICB2YXIgbGlzdGVuZXIgPSB0aGlzLl9nZXRMaXN0ZW5lcnMoZXZlbnQpLFxuICAgICAgbmV4dExpc3RlbmVyLFxuICAgICAgcHJldmlvdXNMaXN0ZW5lcixcbiAgICAgIGxpc3RlbmVyQ2FsbGJhY2s7XG5cbiAgaWYgKCFjYWxsYmFjaykge1xuXG4gICAgLy8gY2xlYXIgbGlzdGVuZXJzXG4gICAgdGhpcy5fc2V0TGlzdGVuZXJzKGV2ZW50LCBudWxsKTtcblxuICAgIHJldHVybjtcbiAgfVxuXG4gIHdoaWxlIChsaXN0ZW5lcikge1xuXG4gICAgbmV4dExpc3RlbmVyID0gbGlzdGVuZXIubmV4dDtcblxuICAgIGxpc3RlbmVyQ2FsbGJhY2sgPSBsaXN0ZW5lci5jYWxsYmFjaztcblxuICAgIGlmIChsaXN0ZW5lckNhbGxiYWNrID09PSBjYWxsYmFjayB8fCBsaXN0ZW5lckNhbGxiYWNrW0ZOX1JFRl0gPT09IGNhbGxiYWNrKSB7XG4gICAgICBpZiAocHJldmlvdXNMaXN0ZW5lcikge1xuICAgICAgICBwcmV2aW91c0xpc3RlbmVyLm5leHQgPSBuZXh0TGlzdGVuZXI7XG4gICAgICB9IGVsc2Uge1xuXG4gICAgICAgIC8vIG5ldyBmaXJzdCBsaXN0ZW5lclxuICAgICAgICB0aGlzLl9zZXRMaXN0ZW5lcnMoZXZlbnQsIG5leHRMaXN0ZW5lcik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcHJldmlvdXNMaXN0ZW5lciA9IGxpc3RlbmVyO1xuICAgIGxpc3RlbmVyID0gbmV4dExpc3RlbmVyO1xuICB9XG59O1xuXG4vKipcbiAqIEEgZXZlbnQgdGhhdCBpcyBlbWl0dGVkIHZpYSB0aGUgZXZlbnQgYnVzLlxuICovXG5mdW5jdGlvbiBJbnRlcm5hbEV2ZW50KCkgeyB9XG5cbkludGVybmFsRXZlbnQucHJvdG90eXBlLnN0b3BQcm9wYWdhdGlvbiA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmNhbmNlbEJ1YmJsZSA9IHRydWU7XG59O1xuXG5JbnRlcm5hbEV2ZW50LnByb3RvdHlwZS5wcmV2ZW50RGVmYXVsdCA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmRlZmF1bHRQcmV2ZW50ZWQgPSB0cnVlO1xufTtcblxuSW50ZXJuYWxFdmVudC5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgYXNzaWduKHRoaXMsIGRhdGEgfHwge30pO1xufTtcblxuXG4vKipcbiAqIEludm9rZSBmdW5jdGlvbi4gQmUgZmFzdC4uLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gKiBAcGFyYW0ge0FycmF5PE9iamVjdD59IGFyZ3NcbiAqXG4gKiBAcmV0dXJuIHtBbnl9XG4gKi9cbmZ1bmN0aW9uIGludm9rZUZ1bmN0aW9uKGZuLCBhcmdzKSB7XG4gIHJldHVybiBmbi5hcHBseShudWxsLCBhcmdzKTtcbn1cbiIsIi8qKlxuICogU1ZHcyBmb3IgZWxlbWVudHMgYXJlIGdlbmVyYXRlZCBieSB0aGUge0BsaW5rIEdyYXBoaWNzRmFjdG9yeX0uXG4gKlxuICogVGhpcyB1dGlsaXR5IGdpdmVzIHF1aWNrIGFjY2VzcyB0byB0aGUgaW1wb3J0YW50IHNlbWFudGljXG4gKiBwYXJ0cyBvZiBhbiBlbGVtZW50LlxuICovXG5cbi8qKlxuICogUmV0dXJucyB0aGUgdmlzdWFsIHBhcnQgb2YgYSBkaWFncmFtIGVsZW1lbnRcbiAqXG4gKiBAcGFyYW0ge1NuYXA8U1ZHRWxlbWVudD59IGdmeFxuICpcbiAqIEByZXR1cm4ge1NuYXA8U1ZHRWxlbWVudD59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRWaXN1YWwoZ2Z4KSB7XG4gIHJldHVybiBnZnguY2hpbGROb2Rlc1swXTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBjaGlsZHJlbiBmb3IgYSBnaXZlbiBkaWFncmFtIGVsZW1lbnQuXG4gKlxuICogQHBhcmFtIHtTbmFwPFNWR0VsZW1lbnQ+fSBnZnhcbiAqIEByZXR1cm4ge1NuYXA8U1ZHRWxlbWVudD59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRDaGlsZHJlbihnZngpIHtcbiAgcmV0dXJuIGdmeC5wYXJlbnROb2RlLmNoaWxkTm9kZXNbMV07XG59IiwiaW1wb3J0IHtcclxuICB0cmFuc2Zvcm0gYXMgc3ZnVHJhbnNmb3JtLFxyXG4gIGNyZWF0ZVRyYW5zZm9ybVxyXG59IGZyb20gJ3Rpbnktc3ZnJztcclxuXHJcblxyXG4vKipcclxuICogQHBhcmFtIHs8U1ZHRWxlbWVudD59IGVsZW1lbnRcclxuICogQHBhcmFtIHtudW1iZXJ9IHhcclxuICogQHBhcmFtIHtudW1iZXJ9IHlcclxuICogQHBhcmFtIHtudW1iZXJ9IGFuZ2xlXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnRcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm0oZ2Z4LCB4LCB5LCBhbmdsZSwgYW1vdW50KSB7XHJcbiAgdmFyIHRyYW5zbGF0ZSA9IGNyZWF0ZVRyYW5zZm9ybSgpO1xyXG4gIHRyYW5zbGF0ZS5zZXRUcmFuc2xhdGUoeCwgeSk7XHJcblxyXG4gIHZhciByb3RhdGUgPSBjcmVhdGVUcmFuc2Zvcm0oKTtcclxuICByb3RhdGUuc2V0Um90YXRlKGFuZ2xlIHx8IDAsIDAsIDApO1xyXG5cclxuICB2YXIgc2NhbGUgPSBjcmVhdGVUcmFuc2Zvcm0oKTtcclxuICBzY2FsZS5zZXRTY2FsZShhbW91bnQgfHwgMSwgYW1vdW50IHx8IDEpO1xyXG5cclxuICBzdmdUcmFuc2Zvcm0oZ2Z4LCBbIHRyYW5zbGF0ZSwgcm90YXRlLCBzY2FsZSBdKTtcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiBAcGFyYW0ge1NWR0VsZW1lbnR9IGVsZW1lbnRcclxuICogQHBhcmFtIHtudW1iZXJ9IHhcclxuICogQHBhcmFtIHtudW1iZXJ9IHlcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2xhdGUoZ2Z4LCB4LCB5KSB7XHJcbiAgdmFyIHRyYW5zbGF0ZSA9IGNyZWF0ZVRyYW5zZm9ybSgpO1xyXG4gIHRyYW5zbGF0ZS5zZXRUcmFuc2xhdGUoeCwgeSk7XHJcblxyXG4gIHN2Z1RyYW5zZm9ybShnZngsIHRyYW5zbGF0ZSk7XHJcbn1cclxuXHJcblxyXG4vKipcclxuICogQHBhcmFtIHtTVkdFbGVtZW50fSBlbGVtZW50XHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBhbmdsZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZShnZngsIGFuZ2xlKSB7XHJcbiAgdmFyIHJvdGF0ZSA9IGNyZWF0ZVRyYW5zZm9ybSgpO1xyXG4gIHJvdGF0ZS5zZXRSb3RhdGUoYW5nbGUsIDAsIDApO1xyXG5cclxuICBzdmdUcmFuc2Zvcm0oZ2Z4LCByb3RhdGUpO1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7U1ZHRWxlbWVudH0gZWxlbWVudFxyXG4gKiBAcGFyYW0ge251bWJlcn0gYW1vdW50XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gc2NhbGUoZ2Z4LCBhbW91bnQpIHtcclxuICB2YXIgc2NhbGUgPSBjcmVhdGVUcmFuc2Zvcm0oKTtcclxuICBzY2FsZS5zZXRTY2FsZShhbW91bnQsIGFtb3VudCk7XHJcblxyXG4gIHN2Z1RyYW5zZm9ybShnZngsIHNjYWxlKTtcclxufSIsImltcG9ydCB7XG4gIGZvckVhY2gsXG4gIHJlZHVjZVxufSBmcm9tICdtaW4tZGFzaCc7XG5cbmltcG9ydCB7XG4gIGdldENoaWxkcmVuLFxuICBnZXRWaXN1YWxcbn0gZnJvbSAnLi4vdXRpbC9HcmFwaGljc1V0aWwnO1xuXG5pbXBvcnQgeyB0cmFuc2xhdGUgfSBmcm9tICcuLi91dGlsL1N2Z1RyYW5zZm9ybVV0aWwnO1xuXG5pbXBvcnQgeyBjbGVhciBhcyBkb21DbGVhciB9IGZyb20gJ21pbi1kb20nO1xuXG5pbXBvcnQge1xuICBhcHBlbmQgYXMgc3ZnQXBwZW5kLFxuICBhdHRyIGFzIHN2Z0F0dHIsXG4gIGNsYXNzZXMgYXMgc3ZnQ2xhc3NlcyxcbiAgY3JlYXRlIGFzIHN2Z0NyZWF0ZSxcbiAgcmVtb3ZlIGFzIHN2Z1JlbW92ZVxufSBmcm9tICd0aW55LXN2Zyc7XG5cbmltcG9ydCB7XG4gIGlzRnJhbWVFbGVtZW50XG59IGZyb20gJy4uL3V0aWwvRWxlbWVudHMnO1xuXG4vKipcbiAqIEEgZmFjdG9yeSB0aGF0IGNyZWF0ZXMgZ3JhcGhpY2FsIGVsZW1lbnRzXG4gKlxuICogQHBhcmFtIHtFdmVudEJ1c30gZXZlbnRCdXNcbiAqIEBwYXJhbSB7RWxlbWVudFJlZ2lzdHJ5fSBlbGVtZW50UmVnaXN0cnlcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gR3JhcGhpY3NGYWN0b3J5KGV2ZW50QnVzLCBlbGVtZW50UmVnaXN0cnkpIHtcbiAgdGhpcy5fZXZlbnRCdXMgPSBldmVudEJ1cztcbiAgdGhpcy5fZWxlbWVudFJlZ2lzdHJ5ID0gZWxlbWVudFJlZ2lzdHJ5O1xufVxuXG5HcmFwaGljc0ZhY3RvcnkuJGluamVjdCA9IFsgJ2V2ZW50QnVzJyAsICdlbGVtZW50UmVnaXN0cnknIF07XG5cblxuR3JhcGhpY3NGYWN0b3J5LnByb3RvdHlwZS5fZ2V0Q2hpbGRyZW5Db250YWluZXIgPSBmdW5jdGlvbihlbGVtZW50KSB7XG5cbiAgdmFyIGdmeCA9IHRoaXMuX2VsZW1lbnRSZWdpc3RyeS5nZXRHcmFwaGljcyhlbGVtZW50KTtcblxuICB2YXIgY2hpbGRyZW5HZng7XG5cbiAgLy8gcm9vdCBlbGVtZW50XG4gIGlmICghZWxlbWVudC5wYXJlbnQpIHtcbiAgICBjaGlsZHJlbkdmeCA9IGdmeDtcbiAgfSBlbHNlIHtcbiAgICBjaGlsZHJlbkdmeCA9IGdldENoaWxkcmVuKGdmeCk7XG4gICAgaWYgKCFjaGlsZHJlbkdmeCkge1xuICAgICAgY2hpbGRyZW5HZnggPSBzdmdDcmVhdGUoJ2cnKTtcbiAgICAgIHN2Z0NsYXNzZXMoY2hpbGRyZW5HZngpLmFkZCgnZGpzLWNoaWxkcmVuJyk7XG5cbiAgICAgIHN2Z0FwcGVuZChnZngucGFyZW50Tm9kZSwgY2hpbGRyZW5HZngpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBjaGlsZHJlbkdmeDtcbn07XG5cbi8qKlxuICogQ2xlYXJzIHRoZSBncmFwaGljYWwgcmVwcmVzZW50YXRpb24gb2YgdGhlIGVsZW1lbnQgYW5kIHJldHVybnMgdGhlXG4gKiBjbGVhcmVkIHZpc3VhbCAodGhlIDxnIGNsYXNzPVwiZGpzLXZpc3VhbFwiIC8+IGVsZW1lbnQpLlxuICovXG5HcmFwaGljc0ZhY3RvcnkucHJvdG90eXBlLl9jbGVhciA9IGZ1bmN0aW9uKGdmeCkge1xuICB2YXIgdmlzdWFsID0gZ2V0VmlzdWFsKGdmeCk7XG5cbiAgZG9tQ2xlYXIodmlzdWFsKTtcblxuICByZXR1cm4gdmlzdWFsO1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgZ2Z4IGNvbnRhaW5lciBmb3Igc2hhcGVzIGFuZCBjb25uZWN0aW9uc1xuICpcbiAqIFRoZSBsYXlvdXQgaXMgYXMgZm9sbG93czpcbiAqXG4gKiA8ZyBjbGFzcz1cImRqcy1ncm91cFwiPlxuICpcbiAqICAgPCEtLSB0aGUgZ2Z4IC0tPlxuICogICA8ZyBjbGFzcz1cImRqcy1lbGVtZW50IGRqcy0oc2hhcGV8Y29ubmVjdGlvbnxmcmFtZSlcIj5cbiAqICAgICA8ZyBjbGFzcz1cImRqcy12aXN1YWxcIj5cbiAqICAgICAgIDwhLS0gdGhlIHJlbmRlcmVyIGRyYXdzIGluIGhlcmUgLS0+XG4gKiAgICAgPC9nPlxuICpcbiAqICAgICA8IS0tIGV4dGVuc2lvbnMgKG92ZXJsYXlzLCBjbGljayBib3gsIC4uLikgZ29lcyBoZXJlXG4gKiAgIDwvZz5cbiAqXG4gKiAgIDwhLS0gdGhlIGdmeCBjaGlsZCBub2RlcyAtLT5cbiAqICAgPGcgY2xhc3M9XCJkanMtY2hpbGRyZW5cIj48L2c+XG4gKiA8L2c+XG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgdGhlIHR5cGUgb2YgdGhlIGVsZW1lbnQsIGkuZS4gc2hhcGUgfCBjb25uZWN0aW9uXG4gKiBAcGFyYW0ge1NWR0VsZW1lbnR9IFtjaGlsZHJlbkdmeF1cbiAqIEBwYXJhbSB7bnVtYmVyfSBbcGFyZW50SW5kZXhdIHBvc2l0aW9uIHRvIGNyZWF0ZSBjb250YWluZXIgaW4gcGFyZW50XG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0ZyYW1lXSBpcyBmcmFtZSBlbGVtZW50XG4gKlxuICogQHJldHVybiB7U1ZHRWxlbWVudH1cbiAqL1xuR3JhcGhpY3NGYWN0b3J5LnByb3RvdHlwZS5fY3JlYXRlQ29udGFpbmVyID0gZnVuY3Rpb24oXG4gICAgdHlwZSwgY2hpbGRyZW5HZngsIHBhcmVudEluZGV4LCBpc0ZyYW1lXG4pIHtcbiAgdmFyIG91dGVyR2Z4ID0gc3ZnQ3JlYXRlKCdnJyk7XG4gIHN2Z0NsYXNzZXMob3V0ZXJHZngpLmFkZCgnZGpzLWdyb3VwJyk7XG5cbiAgLy8gaW5zZXJ0IG5vZGUgYXQgcG9zaXRpb25cbiAgaWYgKHR5cGVvZiBwYXJlbnRJbmRleCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBwcmVwZW5kVG8ob3V0ZXJHZngsIGNoaWxkcmVuR2Z4LCBjaGlsZHJlbkdmeC5jaGlsZE5vZGVzW3BhcmVudEluZGV4XSk7XG4gIH0gZWxzZSB7XG4gICAgc3ZnQXBwZW5kKGNoaWxkcmVuR2Z4LCBvdXRlckdmeCk7XG4gIH1cblxuICB2YXIgZ2Z4ID0gc3ZnQ3JlYXRlKCdnJyk7XG4gIHN2Z0NsYXNzZXMoZ2Z4KS5hZGQoJ2Rqcy1lbGVtZW50Jyk7XG4gIHN2Z0NsYXNzZXMoZ2Z4KS5hZGQoJ2Rqcy0nICsgdHlwZSk7XG5cbiAgaWYgKGlzRnJhbWUpIHtcbiAgICBzdmdDbGFzc2VzKGdmeCkuYWRkKCdkanMtZnJhbWUnKTtcbiAgfVxuXG4gIHN2Z0FwcGVuZChvdXRlckdmeCwgZ2Z4KTtcblxuICAvLyBjcmVhdGUgdmlzdWFsXG4gIHZhciB2aXN1YWwgPSBzdmdDcmVhdGUoJ2cnKTtcbiAgc3ZnQ2xhc3Nlcyh2aXN1YWwpLmFkZCgnZGpzLXZpc3VhbCcpO1xuXG4gIHN2Z0FwcGVuZChnZngsIHZpc3VhbCk7XG5cbiAgcmV0dXJuIGdmeDtcbn07XG5cbkdyYXBoaWNzRmFjdG9yeS5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24odHlwZSwgZWxlbWVudCwgcGFyZW50SW5kZXgpIHtcbiAgdmFyIGNoaWxkcmVuR2Z4ID0gdGhpcy5fZ2V0Q2hpbGRyZW5Db250YWluZXIoZWxlbWVudC5wYXJlbnQpO1xuICByZXR1cm4gdGhpcy5fY3JlYXRlQ29udGFpbmVyKHR5cGUsIGNoaWxkcmVuR2Z4LCBwYXJlbnRJbmRleCwgaXNGcmFtZUVsZW1lbnQoZWxlbWVudCkpO1xufTtcblxuR3JhcGhpY3NGYWN0b3J5LnByb3RvdHlwZS51cGRhdGVDb250YWlubWVudHMgPSBmdW5jdGlvbihlbGVtZW50cykge1xuXG4gIHZhciBzZWxmID0gdGhpcyxcbiAgICAgIGVsZW1lbnRSZWdpc3RyeSA9IHRoaXMuX2VsZW1lbnRSZWdpc3RyeSxcbiAgICAgIHBhcmVudHM7XG5cbiAgcGFyZW50cyA9IHJlZHVjZShlbGVtZW50cywgZnVuY3Rpb24obWFwLCBlKSB7XG5cbiAgICBpZiAoZS5wYXJlbnQpIHtcbiAgICAgIG1hcFtlLnBhcmVudC5pZF0gPSBlLnBhcmVudDtcbiAgICB9XG5cbiAgICByZXR1cm4gbWFwO1xuICB9LCB7fSk7XG5cbiAgLy8gdXBkYXRlIGFsbCBwYXJlbnRzIG9mIGNoYW5nZWQgYW5kIHJlb3JnYW5pemVkIHRoZWlyIGNoaWxkcmVuXG4gIC8vIGluIHRoZSBjb3JyZWN0IG9yZGVyIChhcyBpbmRpY2F0ZWQgaW4gb3VyIG1vZGVsKVxuICBmb3JFYWNoKHBhcmVudHMsIGZ1bmN0aW9uKHBhcmVudCkge1xuXG4gICAgdmFyIGNoaWxkcmVuID0gcGFyZW50LmNoaWxkcmVuO1xuXG4gICAgaWYgKCFjaGlsZHJlbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBjaGlsZHJlbkdmeCA9IHNlbGYuX2dldENoaWxkcmVuQ29udGFpbmVyKHBhcmVudCk7XG5cbiAgICBmb3JFYWNoKGNoaWxkcmVuLnNsaWNlKCkucmV2ZXJzZSgpLCBmdW5jdGlvbihjaGlsZCkge1xuICAgICAgdmFyIGNoaWxkR2Z4ID0gZWxlbWVudFJlZ2lzdHJ5LmdldEdyYXBoaWNzKGNoaWxkKTtcblxuICAgICAgcHJlcGVuZFRvKGNoaWxkR2Z4LnBhcmVudE5vZGUsIGNoaWxkcmVuR2Z4KTtcbiAgICB9KTtcbiAgfSk7XG59O1xuXG5HcmFwaGljc0ZhY3RvcnkucHJvdG90eXBlLmRyYXdTaGFwZSA9IGZ1bmN0aW9uKHZpc3VhbCwgZWxlbWVudCkge1xuICB2YXIgZXZlbnRCdXMgPSB0aGlzLl9ldmVudEJ1cztcblxuICByZXR1cm4gZXZlbnRCdXMuZmlyZSgncmVuZGVyLnNoYXBlJywgeyBnZng6IHZpc3VhbCwgZWxlbWVudDogZWxlbWVudCB9KTtcbn07XG5cbkdyYXBoaWNzRmFjdG9yeS5wcm90b3R5cGUuZ2V0U2hhcGVQYXRoID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICB2YXIgZXZlbnRCdXMgPSB0aGlzLl9ldmVudEJ1cztcblxuICByZXR1cm4gZXZlbnRCdXMuZmlyZSgncmVuZGVyLmdldFNoYXBlUGF0aCcsIGVsZW1lbnQpO1xufTtcblxuR3JhcGhpY3NGYWN0b3J5LnByb3RvdHlwZS5kcmF3Q29ubmVjdGlvbiA9IGZ1bmN0aW9uKHZpc3VhbCwgZWxlbWVudCkge1xuICB2YXIgZXZlbnRCdXMgPSB0aGlzLl9ldmVudEJ1cztcblxuICByZXR1cm4gZXZlbnRCdXMuZmlyZSgncmVuZGVyLmNvbm5lY3Rpb24nLCB7IGdmeDogdmlzdWFsLCBlbGVtZW50OiBlbGVtZW50IH0pO1xufTtcblxuR3JhcGhpY3NGYWN0b3J5LnByb3RvdHlwZS5nZXRDb25uZWN0aW9uUGF0aCA9IGZ1bmN0aW9uKHdheXBvaW50cykge1xuICB2YXIgZXZlbnRCdXMgPSB0aGlzLl9ldmVudEJ1cztcblxuICByZXR1cm4gZXZlbnRCdXMuZmlyZSgncmVuZGVyLmdldENvbm5lY3Rpb25QYXRoJywgd2F5cG9pbnRzKTtcbn07XG5cbkdyYXBoaWNzRmFjdG9yeS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24odHlwZSwgZWxlbWVudCwgZ2Z4KSB7XG5cbiAgLy8gZG8gTk9UIHVwZGF0ZSByb290IGVsZW1lbnRcbiAgaWYgKCFlbGVtZW50LnBhcmVudCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciB2aXN1YWwgPSB0aGlzLl9jbGVhcihnZngpO1xuXG4gIC8vIHJlZHJhd1xuICBpZiAodHlwZSA9PT0gJ3NoYXBlJykge1xuICAgIHRoaXMuZHJhd1NoYXBlKHZpc3VhbCwgZWxlbWVudCk7XG5cbiAgICAvLyB1cGRhdGUgcG9zaXRpb25pbmdcbiAgICB0cmFuc2xhdGUoZ2Z4LCBlbGVtZW50LngsIGVsZW1lbnQueSk7XG4gIH0gZWxzZVxuICBpZiAodHlwZSA9PT0gJ2Nvbm5lY3Rpb24nKSB7XG4gICAgdGhpcy5kcmF3Q29ubmVjdGlvbih2aXN1YWwsIGVsZW1lbnQpO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcigndW5rbm93biB0eXBlOiAnICsgdHlwZSk7XG4gIH1cblxuICBpZiAoZWxlbWVudC5oaWRkZW4pIHtcbiAgICBzdmdBdHRyKGdmeCwgJ2Rpc3BsYXknLCAnbm9uZScpO1xuICB9IGVsc2Uge1xuICAgIHN2Z0F0dHIoZ2Z4LCAnZGlzcGxheScsICdibG9jaycpO1xuICB9XG59O1xuXG5HcmFwaGljc0ZhY3RvcnkucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgdmFyIGdmeCA9IHRoaXMuX2VsZW1lbnRSZWdpc3RyeS5nZXRHcmFwaGljcyhlbGVtZW50KTtcblxuICAvLyByZW1vdmVcbiAgc3ZnUmVtb3ZlKGdmeC5wYXJlbnROb2RlKTtcbn07XG5cblxuLy8gaGVscGVycyAvLy8vLy8vLy8vXG5cbmZ1bmN0aW9uIHByZXBlbmRUbyhuZXdOb2RlLCBwYXJlbnROb2RlLCBzaWJsaW5nTm9kZSkge1xuICB2YXIgbm9kZSA9IHNpYmxpbmdOb2RlIHx8IHBhcmVudE5vZGUuZmlyc3RDaGlsZDtcblxuICAvLyBkbyBub3QgcHJlcGVuZCBub2RlIHRvIGl0c2VsZiB0byBwcmV2ZW50IElFIGZyb20gY3Jhc2hpbmdcbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2JwbW4taW8vYnBtbi1qcy9pc3N1ZXMvNzQ2XG4gIGlmIChuZXdOb2RlID09PSBub2RlKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgcGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobmV3Tm9kZSwgbm9kZSk7XG59XG4iLCJpbXBvcnQgRHJhd01vZHVsZSBmcm9tICcuLi9kcmF3JztcblxuaW1wb3J0IENhbnZhcyBmcm9tICcuL0NhbnZhcyc7XG5pbXBvcnQgRWxlbWVudFJlZ2lzdHJ5IGZyb20gJy4vRWxlbWVudFJlZ2lzdHJ5JztcbmltcG9ydCBFbGVtZW50RmFjdG9yeSBmcm9tICcuL0VsZW1lbnRGYWN0b3J5JztcbmltcG9ydCBFdmVudEJ1cyBmcm9tICcuL0V2ZW50QnVzJztcbmltcG9ydCBHcmFwaGljc0ZhY3RvcnkgZnJvbSAnLi9HcmFwaGljc0ZhY3RvcnknO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9fZGVwZW5kc19fOiBbIERyYXdNb2R1bGUgXSxcbiAgX19pbml0X186IFsgJ2NhbnZhcycgXSxcbiAgY2FudmFzOiBbICd0eXBlJywgQ2FudmFzIF0sXG4gIGVsZW1lbnRSZWdpc3RyeTogWyAndHlwZScsIEVsZW1lbnRSZWdpc3RyeSBdLFxuICBlbGVtZW50RmFjdG9yeTogWyAndHlwZScsIEVsZW1lbnRGYWN0b3J5IF0sXG4gIGV2ZW50QnVzOiBbICd0eXBlJywgRXZlbnRCdXMgXSxcbiAgZ3JhcGhpY3NGYWN0b3J5OiBbICd0eXBlJywgR3JhcGhpY3NGYWN0b3J5IF1cbn07IiwiaW1wb3J0IHsgSW5qZWN0b3IgfSBmcm9tICdkaWRpJztcblxuaW1wb3J0IENvcmVNb2R1bGUgZnJvbSAnLi9jb3JlJztcblxuXG4vKipcbiAqIEJvb3RzdHJhcCBhbiBpbmplY3RvciBmcm9tIGEgbGlzdCBvZiBtb2R1bGVzLCBpbnN0YW50aWF0aW5nIGEgbnVtYmVyIG9mIGRlZmF1bHQgY29tcG9uZW50c1xuICpcbiAqIEBpZ25vcmVcbiAqIEBwYXJhbSB7QXJyYXk8ZGlkaS5Nb2R1bGU+fSBib290c3RyYXBNb2R1bGVzXG4gKlxuICogQHJldHVybiB7ZGlkaS5JbmplY3Rvcn0gYSBpbmplY3RvciB0byB1c2UgdG8gYWNjZXNzIHRoZSBjb21wb25lbnRzXG4gKi9cbmZ1bmN0aW9uIGJvb3RzdHJhcChib290c3RyYXBNb2R1bGVzKSB7XG5cbiAgdmFyIG1vZHVsZXMgPSBbXSxcbiAgICAgIGNvbXBvbmVudHMgPSBbXTtcblxuICBmdW5jdGlvbiBoYXNNb2R1bGUobSkge1xuICAgIHJldHVybiBtb2R1bGVzLmluZGV4T2YobSkgPj0gMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZE1vZHVsZShtKSB7XG4gICAgbW9kdWxlcy5wdXNoKG0pO1xuICB9XG5cbiAgZnVuY3Rpb24gdmlzaXQobSkge1xuICAgIGlmIChoYXNNb2R1bGUobSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAobS5fX2RlcGVuZHNfXyB8fCBbXSkuZm9yRWFjaCh2aXNpdCk7XG5cbiAgICBpZiAoaGFzTW9kdWxlKG0pKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgYWRkTW9kdWxlKG0pO1xuXG4gICAgKG0uX19pbml0X18gfHwgW10pLmZvckVhY2goZnVuY3Rpb24oYykge1xuICAgICAgY29tcG9uZW50cy5wdXNoKGMpO1xuICAgIH0pO1xuICB9XG5cbiAgYm9vdHN0cmFwTW9kdWxlcy5mb3JFYWNoKHZpc2l0KTtcblxuICB2YXIgaW5qZWN0b3IgPSBuZXcgSW5qZWN0b3IobW9kdWxlcyk7XG5cbiAgY29tcG9uZW50cy5mb3JFYWNoKGZ1bmN0aW9uKGMpIHtcblxuICAgIHRyeSB7XG5cbiAgICAgIC8vIGVhZ2VybHkgcmVzb2x2ZSBjb21wb25lbnQgKGZuIG9yIHN0cmluZylcbiAgICAgIGluamVjdG9yW3R5cGVvZiBjID09PSAnc3RyaW5nJyA/ICdnZXQnIDogJ2ludm9rZSddKGMpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBpbnN0YW50aWF0ZSBjb21wb25lbnQnKTtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG5cbiAgICAgIHRocm93IGU7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gaW5qZWN0b3I7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBpbmplY3RvciBmcm9tIHBhc3NlZCBvcHRpb25zLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwYXJhbSAge09iamVjdH0gb3B0aW9uc1xuICogQHJldHVybiB7ZGlkaS5JbmplY3Rvcn1cbiAqL1xuZnVuY3Rpb24gY3JlYXRlSW5qZWN0b3Iob3B0aW9ucykge1xuXG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gIHZhciBjb25maWdNb2R1bGUgPSB7XG4gICAgJ2NvbmZpZyc6IFsndmFsdWUnLCBvcHRpb25zXVxuICB9O1xuXG4gIHZhciBtb2R1bGVzID0gWyBjb25maWdNb2R1bGUsIENvcmVNb2R1bGUgXS5jb25jYXQob3B0aW9ucy5tb2R1bGVzIHx8IFtdKTtcblxuICByZXR1cm4gYm9vdHN0cmFwKG1vZHVsZXMpO1xufVxuXG5cbi8qKlxuICogVGhlIG1haW4gZGlhZ3JhbS1qcyBlbnRyeSBwb2ludCB0aGF0IGJvb3RzdHJhcHMgdGhlIGRpYWdyYW0gd2l0aCB0aGUgZ2l2ZW5cbiAqIGNvbmZpZ3VyYXRpb24uXG4gKlxuICogVG8gcmVnaXN0ZXIgZXh0ZW5zaW9ucyB3aXRoIHRoZSBkaWFncmFtLCBwYXNzIHRoZW0gYXMgQXJyYXk8ZGlkaS5Nb2R1bGU+IHRvIHRoZSBjb25zdHJ1Y3Rvci5cbiAqXG4gKiBAY2xhc3MgZGpzLkRpYWdyYW1cbiAqIEBtZW1iZXJPZiBkanNcbiAqIEBjb25zdHJ1Y3RvclxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogPGNhcHRpb24+Q3JlYXRpbmcgYSBwbHVnLWluIHRoYXQgbG9ncyB3aGVuZXZlciBhIHNoYXBlIGlzIGFkZGVkIHRvIHRoZSBjYW52YXMuPC9jYXB0aW9uPlxuICpcbiAqIC8vIHBsdWctaW4gaW1wbGVtZW5lbnRhdGlvblxuICogZnVuY3Rpb24gTXlMb2dnaW5nUGx1Z2luKGV2ZW50QnVzKSB7XG4gKiAgIGV2ZW50QnVzLm9uKCdzaGFwZS5hZGRlZCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gKiAgICAgY29uc29sZS5sb2coJ3NoYXBlICcsIGV2ZW50LnNoYXBlLCAnIHdhcyBhZGRlZCB0byB0aGUgZGlhZ3JhbScpO1xuICogICB9KTtcbiAqIH1cbiAqXG4gKiAvLyBleHBvcnQgYXMgbW9kdWxlXG4gKiBleHBvcnQgZGVmYXVsdCB7XG4gKiAgIF9faW5pdF9fOiBbICdteUxvZ2dpbmdQbHVnaW4nIF0sXG4gKiAgICAgbXlMb2dnaW5nUGx1Z2luOiBbICd0eXBlJywgTXlMb2dnaW5nUGx1Z2luIF1cbiAqIH07XG4gKlxuICpcbiAqIC8vIGluc3RhbnRpYXRlIHRoZSBkaWFncmFtIHdpdGggdGhlIG5ldyBwbHVnLWluXG4gKlxuICogaW1wb3J0IE15TG9nZ2luZ01vZHVsZSBmcm9tICdwYXRoLXRvLW15LWxvZ2dpbmctcGx1Z2luJztcbiAqXG4gKiB2YXIgZGlhZ3JhbSA9IG5ldyBEaWFncmFtKHtcbiAqICAgbW9kdWxlczogW1xuICogICAgIE15TG9nZ2luZ01vZHVsZVxuICogICBdXG4gKiB9KTtcbiAqXG4gKiBkaWFncmFtLmludm9rZShbICdjYW52YXMnLCBmdW5jdGlvbihjYW52YXMpIHtcbiAqICAgLy8gYWRkIHNoYXBlIHRvIGRyYXdpbmcgY2FudmFzXG4gKiAgIGNhbnZhcy5hZGRTaGFwZSh7IHg6IDEwLCB5OiAxMCB9KTtcbiAqIH0pO1xuICpcbiAqIC8vICdzaGFwZSAuLi4gd2FzIGFkZGVkIHRvIHRoZSBkaWFncmFtJyBsb2dnZWQgdG8gY29uc29sZVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gKiBAcGFyYW0ge0FycmF5PGRpZGkuTW9kdWxlPn0gW29wdGlvbnMubW9kdWxlc10gZXh0ZXJuYWwgbW9kdWxlcyB0byBpbnN0YW50aWF0ZSB3aXRoIHRoZSBkaWFncmFtXG4gKiBAcGFyYW0ge2RpZGkuSW5qZWN0b3J9IFtpbmplY3Rvcl0gYW4gKG9wdGlvbmFsKSBpbmplY3RvciB0byBib290c3RyYXAgdGhlIGRpYWdyYW0gd2l0aFxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBEaWFncmFtKG9wdGlvbnMsIGluamVjdG9yKSB7XG5cbiAgLy8gY3JlYXRlIGluamVjdG9yIHVubGVzcyBleHBsaWNpdGx5IHNwZWNpZmllZFxuICB0aGlzLmluamVjdG9yID0gaW5qZWN0b3IgPSBpbmplY3RvciB8fCBjcmVhdGVJbmplY3RvcihvcHRpb25zKTtcblxuICAvLyBBUElcblxuICAvKipcbiAgICogUmVzb2x2ZXMgYSBkaWFncmFtIHNlcnZpY2VcbiAgICpcbiAgICogQG1ldGhvZCBEaWFncmFtI2dldFxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSB0aGUgbmFtZSBvZiB0aGUgZGlhZ3JhbSBzZXJ2aWNlIHRvIGJlIHJldHJpZXZlZFxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtzdHJpY3Q9dHJ1ZV0gaWYgZmFsc2UsIHJlc29sdmUgbWlzc2luZyBzZXJ2aWNlcyB0byBudWxsXG4gICAqL1xuICB0aGlzLmdldCA9IGluamVjdG9yLmdldDtcblxuICAvKipcbiAgICogRXhlY3V0ZXMgYSBmdW5jdGlvbiBpbnRvIHdoaWNoIGRpYWdyYW0gc2VydmljZXMgYXJlIGluamVjdGVkXG4gICAqXG4gICAqIEBtZXRob2QgRGlhZ3JhbSNpbnZva2VcbiAgICpcbiAgICogQHBhcmFtIHtGdW5jdGlvbnxPYmplY3RbXX0gZm4gdGhlIGZ1bmN0aW9uIHRvIHJlc29sdmVcbiAgICogQHBhcmFtIHtPYmplY3R9IGxvY2FscyBhIG51bWJlciBvZiBsb2NhbHMgdG8gdXNlIHRvIHJlc29sdmUgY2VydGFpbiBkZXBlbmRlbmNpZXNcbiAgICovXG4gIHRoaXMuaW52b2tlID0gaW5qZWN0b3IuaW52b2tlO1xuXG4gIC8vIGluaXRcblxuICAvLyBpbmRpY2F0ZSB2aWEgZXZlbnRcblxuXG4gIC8qKlxuICAgKiBBbiBldmVudCBpbmRpY2F0aW5nIHRoYXQgYWxsIHBsdWctaW5zIGFyZSBsb2FkZWQuXG4gICAqXG4gICAqIFVzZSB0aGlzIGV2ZW50IHRvIGZpcmUgb3RoZXIgZXZlbnRzIHRvIGludGVyZXN0ZWQgcGx1Zy1pbnNcbiAgICpcbiAgICogQG1lbWJlck9mIERpYWdyYW1cbiAgICpcbiAgICogQGV2ZW50IGRpYWdyYW0uaW5pdFxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiBldmVudEJ1cy5vbignZGlhZ3JhbS5pbml0JywgZnVuY3Rpb24oKSB7XG4gICAqICAgZXZlbnRCdXMuZmlyZSgnbXktY3VzdG9tLWV2ZW50JywgeyBmb286ICdCQVInIH0pO1xuICAgKiB9KTtcbiAgICpcbiAgICogQHR5cGUge09iamVjdH1cbiAgICovXG4gIHRoaXMuZ2V0KCdldmVudEJ1cycpLmZpcmUoJ2RpYWdyYW0uaW5pdCcpO1xufVxuXG5cbi8qKlxuICogRGVzdHJveXMgdGhlIGRpYWdyYW1cbiAqXG4gKiBAbWV0aG9kICBEaWFncmFtI2Rlc3Ryb3lcbiAqL1xuRGlhZ3JhbS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmdldCgnZXZlbnRCdXMnKS5maXJlKCdkaWFncmFtLmRlc3Ryb3knKTtcbn07XG5cbi8qKlxuICogQ2xlYXIgdGhlIGRpYWdyYW0sIHJlbW92aW5nIGFsbCBjb250ZW50cy5cbiAqL1xuRGlhZ3JhbS5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5nZXQoJ2V2ZW50QnVzJykuZmlyZSgnZGlhZ3JhbS5jbGVhcicpO1xufTtcbiIsImltcG9ydCB7IGZvckVhY2gsIGJpbmQsIHBpY2ssIGFzc2lnbiwgaXNTdHJpbmcsIGlzT2JqZWN0IH0gZnJvbSAnbWluLWRhc2gnO1xuXG4vKipcbiAqIE1vZGRsZSBiYXNlIGVsZW1lbnQuXG4gKi9cbmZ1bmN0aW9uIEJhc2UoKSB7IH1cblxuQmFzZS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24obmFtZSkge1xuICByZXR1cm4gdGhpcy4kbW9kZWwucHJvcGVydGllcy5nZXQodGhpcywgbmFtZSk7XG59O1xuXG5CYXNlLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICB0aGlzLiRtb2RlbC5wcm9wZXJ0aWVzLnNldCh0aGlzLCBuYW1lLCB2YWx1ZSk7XG59O1xuXG4vKipcbiAqIEEgbW9kZWwgZWxlbWVudCBmYWN0b3J5LlxuICpcbiAqIEBwYXJhbSB7TW9kZGxlfSBtb2RlbFxuICogQHBhcmFtIHtQcm9wZXJ0aWVzfSBwcm9wZXJ0aWVzXG4gKi9cbmZ1bmN0aW9uIEZhY3RvcnkobW9kZWwsIHByb3BlcnRpZXMpIHtcbiAgdGhpcy5tb2RlbCA9IG1vZGVsO1xuICB0aGlzLnByb3BlcnRpZXMgPSBwcm9wZXJ0aWVzO1xufVxuXG5cbkZhY3RvcnkucHJvdG90eXBlLmNyZWF0ZVR5cGUgPSBmdW5jdGlvbihkZXNjcmlwdG9yKSB7XG5cbiAgdmFyIG1vZGVsID0gdGhpcy5tb2RlbDtcblxuICB2YXIgcHJvcHMgPSB0aGlzLnByb3BlcnRpZXMsXG4gICAgICBwcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEJhc2UucHJvdG90eXBlKTtcblxuICAvLyBpbml0aWFsaXplIGRlZmF1bHQgdmFsdWVzXG4gIGZvckVhY2goZGVzY3JpcHRvci5wcm9wZXJ0aWVzLCBmdW5jdGlvbihwKSB7XG4gICAgaWYgKCFwLmlzTWFueSAmJiBwLmRlZmF1bHQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcHJvdG90eXBlW3AubmFtZV0gPSBwLmRlZmF1bHQ7XG4gICAgfVxuICB9KTtcblxuICBwcm9wcy5kZWZpbmVNb2RlbChwcm90b3R5cGUsIG1vZGVsKTtcbiAgcHJvcHMuZGVmaW5lRGVzY3JpcHRvcihwcm90b3R5cGUsIGRlc2NyaXB0b3IpO1xuXG4gIHZhciBuYW1lID0gZGVzY3JpcHRvci5ucy5uYW1lO1xuXG4gIC8qKlxuICAgKiBUaGUgbmV3IHR5cGUgY29uc3RydWN0b3JcbiAgICovXG4gIGZ1bmN0aW9uIE1vZGRsZUVsZW1lbnQoYXR0cnMpIHtcbiAgICBwcm9wcy5kZWZpbmUodGhpcywgJyR0eXBlJywgeyB2YWx1ZTogbmFtZSwgZW51bWVyYWJsZTogdHJ1ZSB9KTtcbiAgICBwcm9wcy5kZWZpbmUodGhpcywgJyRhdHRycycsIHsgdmFsdWU6IHt9IH0pO1xuICAgIHByb3BzLmRlZmluZSh0aGlzLCAnJHBhcmVudCcsIHsgd3JpdGFibGU6IHRydWUgfSk7XG5cbiAgICBmb3JFYWNoKGF0dHJzLCBiaW5kKGZ1bmN0aW9uKHZhbCwga2V5KSB7XG4gICAgICB0aGlzLnNldChrZXksIHZhbCk7XG4gICAgfSwgdGhpcykpO1xuICB9XG5cbiAgTW9kZGxlRWxlbWVudC5wcm90b3R5cGUgPSBwcm90b3R5cGU7XG5cbiAgTW9kZGxlRWxlbWVudC5oYXNUeXBlID0gcHJvdG90eXBlLiRpbnN0YW5jZU9mID0gdGhpcy5tb2RlbC5oYXNUeXBlO1xuXG4gIC8vIHN0YXRpYyBsaW5rc1xuICBwcm9wcy5kZWZpbmVNb2RlbChNb2RkbGVFbGVtZW50LCBtb2RlbCk7XG4gIHByb3BzLmRlZmluZURlc2NyaXB0b3IoTW9kZGxlRWxlbWVudCwgZGVzY3JpcHRvcik7XG5cbiAgcmV0dXJuIE1vZGRsZUVsZW1lbnQ7XG59O1xuXG4vKipcbiAqIEJ1aWx0LWluIG1vZGRsZSB0eXBlc1xuICovXG52YXIgQlVJTFRJTlMgPSB7XG4gIFN0cmluZzogdHJ1ZSxcbiAgQm9vbGVhbjogdHJ1ZSxcbiAgSW50ZWdlcjogdHJ1ZSxcbiAgUmVhbDogdHJ1ZSxcbiAgRWxlbWVudDogdHJ1ZVxufTtcblxuLyoqXG4gKiBDb252ZXJ0ZXJzIGZvciBidWlsdCBpbiB0eXBlcyBmcm9tIHN0cmluZyByZXByZXNlbnRhdGlvbnNcbiAqL1xudmFyIFRZUEVfQ09OVkVSVEVSUyA9IHtcbiAgU3RyaW5nOiBmdW5jdGlvbihzKSB7IHJldHVybiBzOyB9LFxuICBCb29sZWFuOiBmdW5jdGlvbihzKSB7IHJldHVybiBzID09PSAndHJ1ZSc7IH0sXG4gIEludGVnZXI6IGZ1bmN0aW9uKHMpIHsgcmV0dXJuIHBhcnNlSW50KHMsIDEwKTsgfSxcbiAgUmVhbDogZnVuY3Rpb24ocykgeyByZXR1cm4gcGFyc2VGbG9hdChzLCAxMCk7IH1cbn07XG5cbi8qKlxuICogQ29udmVydCBhIHR5cGUgdG8gaXRzIHJlYWwgcmVwcmVzZW50YXRpb25cbiAqL1xuZnVuY3Rpb24gY29lcmNlVHlwZSh0eXBlLCB2YWx1ZSkge1xuXG4gIHZhciBjb252ZXJ0ZXIgPSBUWVBFX0NPTlZFUlRFUlNbdHlwZV07XG5cbiAgaWYgKGNvbnZlcnRlcikge1xuICAgIHJldHVybiBjb252ZXJ0ZXIodmFsdWUpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxufVxuXG4vKipcbiAqIFJldHVybiB3aGV0aGVyIHRoZSBnaXZlbiB0eXBlIGlzIGJ1aWx0LWluXG4gKi9cbmZ1bmN0aW9uIGlzQnVpbHRJbih0eXBlKSB7XG4gIHJldHVybiAhIUJVSUxUSU5TW3R5cGVdO1xufVxuXG4vKipcbiAqIFJldHVybiB3aGV0aGVyIHRoZSBnaXZlbiB0eXBlIGlzIHNpbXBsZVxuICovXG5mdW5jdGlvbiBpc1NpbXBsZSh0eXBlKSB7XG4gIHJldHVybiAhIVRZUEVfQ09OVkVSVEVSU1t0eXBlXTtcbn1cblxuLyoqXG4gKiBQYXJzZXMgYSBuYW1lc3BhY2VkIGF0dHJpYnV0ZSBuYW1lIG9mIHRoZSBmb3JtIChuczopbG9jYWxOYW1lIHRvIGFuIG9iamVjdCxcbiAqIGdpdmVuIGEgZGVmYXVsdCBwcmVmaXggdG8gYXNzdW1lIGluIGNhc2Ugbm8gZXhwbGljaXQgbmFtZXNwYWNlIGlzIGdpdmVuLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lXG4gKiBAcGFyYW0ge1N0cmluZ30gW2RlZmF1bHRQcmVmaXhdIHRoZSBkZWZhdWx0IHByZWZpeCB0byB0YWtlLCBpZiBub25lIGlzIHByZXNlbnQuXG4gKlxuICogQHJldHVybiB7T2JqZWN0fSB0aGUgcGFyc2VkIG5hbWVcbiAqL1xuZnVuY3Rpb24gcGFyc2VOYW1lKG5hbWUsIGRlZmF1bHRQcmVmaXgpIHtcbiAgdmFyIHBhcnRzID0gbmFtZS5zcGxpdCgvOi8pLFxuICAgICAgbG9jYWxOYW1lLCBwcmVmaXg7XG5cbiAgLy8gbm8gcHJlZml4IChpLmUuIG9ubHkgbG9jYWwgbmFtZSlcbiAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMSkge1xuICAgIGxvY2FsTmFtZSA9IG5hbWU7XG4gICAgcHJlZml4ID0gZGVmYXVsdFByZWZpeDtcbiAgfSBlbHNlXG4gIC8vIHByZWZpeCArIGxvY2FsIG5hbWVcbiAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMikge1xuICAgIGxvY2FsTmFtZSA9IHBhcnRzWzFdO1xuICAgIHByZWZpeCA9IHBhcnRzWzBdO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcignZXhwZWN0ZWQgPHByZWZpeDpsb2NhbE5hbWU+IG9yIDxsb2NhbE5hbWU+LCBnb3QgJyArIG5hbWUpO1xuICB9XG5cbiAgbmFtZSA9IChwcmVmaXggPyBwcmVmaXggKyAnOicgOiAnJykgKyBsb2NhbE5hbWU7XG5cbiAgcmV0dXJuIHtcbiAgICBuYW1lOiBuYW1lLFxuICAgIHByZWZpeDogcHJlZml4LFxuICAgIGxvY2FsTmFtZTogbG9jYWxOYW1lXG4gIH07XG59XG5cbi8qKlxuICogQSB1dGlsaXR5IHRvIGJ1aWxkIGVsZW1lbnQgZGVzY3JpcHRvcnMuXG4gKi9cbmZ1bmN0aW9uIERlc2NyaXB0b3JCdWlsZGVyKG5hbWVOcykge1xuICB0aGlzLm5zID0gbmFtZU5zO1xuICB0aGlzLm5hbWUgPSBuYW1lTnMubmFtZTtcbiAgdGhpcy5hbGxUeXBlcyA9IFtdO1xuICB0aGlzLmFsbFR5cGVzQnlOYW1lID0ge307XG4gIHRoaXMucHJvcGVydGllcyA9IFtdO1xuICB0aGlzLnByb3BlcnRpZXNCeU5hbWUgPSB7fTtcbn1cblxuXG5EZXNjcmlwdG9yQnVpbGRlci5wcm90b3R5cGUuYnVpbGQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHBpY2sodGhpcywgW1xuICAgICducycsXG4gICAgJ25hbWUnLFxuICAgICdhbGxUeXBlcycsXG4gICAgJ2FsbFR5cGVzQnlOYW1lJyxcbiAgICAncHJvcGVydGllcycsXG4gICAgJ3Byb3BlcnRpZXNCeU5hbWUnLFxuICAgICdib2R5UHJvcGVydHknLFxuICAgICdpZFByb3BlcnR5J1xuICBdKTtcbn07XG5cbi8qKlxuICogQWRkIHByb3BlcnR5IGF0IGdpdmVuIGluZGV4LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBwXG4gKiBAcGFyYW0ge051bWJlcn0gW2lkeF1cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW3ZhbGlkYXRlPXRydWVdXG4gKi9cbkRlc2NyaXB0b3JCdWlsZGVyLnByb3RvdHlwZS5hZGRQcm9wZXJ0eSA9IGZ1bmN0aW9uKHAsIGlkeCwgdmFsaWRhdGUpIHtcblxuICBpZiAodHlwZW9mIGlkeCA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgdmFsaWRhdGUgPSBpZHg7XG4gICAgaWR4ID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgdGhpcy5hZGROYW1lZFByb3BlcnR5KHAsIHZhbGlkYXRlICE9PSBmYWxzZSk7XG5cbiAgdmFyIHByb3BlcnRpZXMgPSB0aGlzLnByb3BlcnRpZXM7XG5cbiAgaWYgKGlkeCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcHJvcGVydGllcy5zcGxpY2UoaWR4LCAwLCBwKTtcbiAgfSBlbHNlIHtcbiAgICBwcm9wZXJ0aWVzLnB1c2gocCk7XG4gIH1cbn07XG5cblxuRGVzY3JpcHRvckJ1aWxkZXIucHJvdG90eXBlLnJlcGxhY2VQcm9wZXJ0eSA9IGZ1bmN0aW9uKG9sZFByb3BlcnR5LCBuZXdQcm9wZXJ0eSwgcmVwbGFjZSkge1xuICB2YXIgb2xkTmFtZU5zID0gb2xkUHJvcGVydHkubnM7XG5cbiAgdmFyIHByb3BzID0gdGhpcy5wcm9wZXJ0aWVzLFxuICAgICAgcHJvcGVydGllc0J5TmFtZSA9IHRoaXMucHJvcGVydGllc0J5TmFtZSxcbiAgICAgIHJlbmFtZSA9IG9sZFByb3BlcnR5Lm5hbWUgIT09IG5ld1Byb3BlcnR5Lm5hbWU7XG5cbiAgaWYgKG9sZFByb3BlcnR5LmlzSWQpIHtcbiAgICBpZiAoIW5ld1Byb3BlcnR5LmlzSWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ3Byb3BlcnR5IDwnICsgbmV3UHJvcGVydHkubnMubmFtZSArICc+IG11c3QgYmUgaWQgcHJvcGVydHkgJyArXG4gICAgICAgICd0byByZWZpbmUgPCcgKyBvbGRQcm9wZXJ0eS5ucy5uYW1lICsgJz4nKTtcbiAgICB9XG5cbiAgICB0aGlzLnNldElkUHJvcGVydHkobmV3UHJvcGVydHksIGZhbHNlKTtcbiAgfVxuXG4gIGlmIChvbGRQcm9wZXJ0eS5pc0JvZHkpIHtcblxuICAgIGlmICghbmV3UHJvcGVydHkuaXNCb2R5KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdwcm9wZXJ0eSA8JyArIG5ld1Byb3BlcnR5Lm5zLm5hbWUgKyAnPiBtdXN0IGJlIGJvZHkgcHJvcGVydHkgJyArXG4gICAgICAgICd0byByZWZpbmUgPCcgKyBvbGRQcm9wZXJ0eS5ucy5uYW1lICsgJz4nKTtcbiAgICB9XG5cbiAgICAvLyBUT0RPOiBDaGVjayBjb21wYXRpYmlsaXR5XG4gICAgdGhpcy5zZXRCb2R5UHJvcGVydHkobmV3UHJvcGVydHksIGZhbHNlKTtcbiAgfVxuXG4gIC8vIHZhbGlkYXRlIGV4aXN0ZW5jZSBhbmQgZ2V0IGxvY2F0aW9uIG9mIG9sZCBwcm9wZXJ0eVxuICB2YXIgaWR4ID0gcHJvcHMuaW5kZXhPZihvbGRQcm9wZXJ0eSk7XG4gIGlmIChpZHggPT09IC0xKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9wZXJ0eSA8JyArIG9sZE5hbWVOcy5uYW1lICsgJz4gbm90IGZvdW5kIGluIHByb3BlcnR5IGxpc3QnKTtcbiAgfVxuXG4gIC8vIHJlbW92ZSBvbGQgcHJvcGVydHlcbiAgcHJvcHMuc3BsaWNlKGlkeCwgMSk7XG5cbiAgLy8gcmVwbGFjaW5nIHRoZSBuYW1lZCBwcm9wZXJ0eSBpcyBpbnRlbnRpb25hbFxuICAvL1xuICAvLyAgKiB2YWxpZGF0ZSBvbmx5IGlmIHRoaXMgaXMgYSBcInJlbmFtZVwiIG9wZXJhdGlvblxuICAvLyAgKiBhZGQgYXQgc3BlY2lmaWMgaW5kZXggdW5sZXNzIHdlIFwicmVwbGFjZVwiXG4gIC8vXG4gIHRoaXMuYWRkUHJvcGVydHkobmV3UHJvcGVydHksIHJlcGxhY2UgPyB1bmRlZmluZWQgOiBpZHgsIHJlbmFtZSk7XG5cbiAgLy8gbWFrZSBuZXcgcHJvcGVydHkgYXZhaWxhYmxlIHVuZGVyIG9sZCBuYW1lXG4gIHByb3BlcnRpZXNCeU5hbWVbb2xkTmFtZU5zLm5hbWVdID0gcHJvcGVydGllc0J5TmFtZVtvbGROYW1lTnMubG9jYWxOYW1lXSA9IG5ld1Byb3BlcnR5O1xufTtcblxuXG5EZXNjcmlwdG9yQnVpbGRlci5wcm90b3R5cGUucmVkZWZpbmVQcm9wZXJ0eSA9IGZ1bmN0aW9uKHAsIHRhcmdldFByb3BlcnR5TmFtZSwgcmVwbGFjZSkge1xuXG4gIHZhciBuc1ByZWZpeCA9IHAubnMucHJlZml4O1xuICB2YXIgcGFydHMgPSB0YXJnZXRQcm9wZXJ0eU5hbWUuc3BsaXQoJyMnKTtcblxuICB2YXIgbmFtZSA9IHBhcnNlTmFtZShwYXJ0c1swXSwgbnNQcmVmaXgpO1xuICB2YXIgYXR0ck5hbWUgPSBwYXJzZU5hbWUocGFydHNbMV0sIG5hbWUucHJlZml4KS5uYW1lO1xuXG4gIHZhciByZWRlZmluZWRQcm9wZXJ0eSA9IHRoaXMucHJvcGVydGllc0J5TmFtZVthdHRyTmFtZV07XG4gIGlmICghcmVkZWZpbmVkUHJvcGVydHkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3JlZmluZWQgcHJvcGVydHkgPCcgKyBhdHRyTmFtZSArICc+IG5vdCBmb3VuZCcpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMucmVwbGFjZVByb3BlcnR5KHJlZGVmaW5lZFByb3BlcnR5LCBwLCByZXBsYWNlKTtcbiAgfVxuXG4gIGRlbGV0ZSBwLnJlZGVmaW5lcztcbn07XG5cbkRlc2NyaXB0b3JCdWlsZGVyLnByb3RvdHlwZS5hZGROYW1lZFByb3BlcnR5ID0gZnVuY3Rpb24ocCwgdmFsaWRhdGUpIHtcbiAgdmFyIG5zID0gcC5ucyxcbiAgICAgIHByb3BzQnlOYW1lID0gdGhpcy5wcm9wZXJ0aWVzQnlOYW1lO1xuXG4gIGlmICh2YWxpZGF0ZSkge1xuICAgIHRoaXMuYXNzZXJ0Tm90RGVmaW5lZChwLCBucy5uYW1lKTtcbiAgICB0aGlzLmFzc2VydE5vdERlZmluZWQocCwgbnMubG9jYWxOYW1lKTtcbiAgfVxuXG4gIHByb3BzQnlOYW1lW25zLm5hbWVdID0gcHJvcHNCeU5hbWVbbnMubG9jYWxOYW1lXSA9IHA7XG59O1xuXG5EZXNjcmlwdG9yQnVpbGRlci5wcm90b3R5cGUucmVtb3ZlTmFtZWRQcm9wZXJ0eSA9IGZ1bmN0aW9uKHApIHtcbiAgdmFyIG5zID0gcC5ucyxcbiAgICAgIHByb3BzQnlOYW1lID0gdGhpcy5wcm9wZXJ0aWVzQnlOYW1lO1xuXG4gIGRlbGV0ZSBwcm9wc0J5TmFtZVtucy5uYW1lXTtcbiAgZGVsZXRlIHByb3BzQnlOYW1lW25zLmxvY2FsTmFtZV07XG59O1xuXG5EZXNjcmlwdG9yQnVpbGRlci5wcm90b3R5cGUuc2V0Qm9keVByb3BlcnR5ID0gZnVuY3Rpb24ocCwgdmFsaWRhdGUpIHtcblxuICBpZiAodmFsaWRhdGUgJiYgdGhpcy5ib2R5UHJvcGVydHkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAnYm9keSBwcm9wZXJ0eSBkZWZpbmVkIG11bHRpcGxlIHRpbWVzICcgK1xuICAgICAgJyg8JyArIHRoaXMuYm9keVByb3BlcnR5Lm5zLm5hbWUgKyAnPiwgPCcgKyBwLm5zLm5hbWUgKyAnPiknKTtcbiAgfVxuXG4gIHRoaXMuYm9keVByb3BlcnR5ID0gcDtcbn07XG5cbkRlc2NyaXB0b3JCdWlsZGVyLnByb3RvdHlwZS5zZXRJZFByb3BlcnR5ID0gZnVuY3Rpb24ocCwgdmFsaWRhdGUpIHtcblxuICBpZiAodmFsaWRhdGUgJiYgdGhpcy5pZFByb3BlcnR5KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgJ2lkIHByb3BlcnR5IGRlZmluZWQgbXVsdGlwbGUgdGltZXMgJyArXG4gICAgICAnKDwnICsgdGhpcy5pZFByb3BlcnR5Lm5zLm5hbWUgKyAnPiwgPCcgKyBwLm5zLm5hbWUgKyAnPiknKTtcbiAgfVxuXG4gIHRoaXMuaWRQcm9wZXJ0eSA9IHA7XG59O1xuXG5EZXNjcmlwdG9yQnVpbGRlci5wcm90b3R5cGUuYXNzZXJ0Tm90RGVmaW5lZCA9IGZ1bmN0aW9uKHAsIG5hbWUpIHtcbiAgdmFyIHByb3BlcnR5TmFtZSA9IHAubmFtZSxcbiAgICAgIGRlZmluZWRQcm9wZXJ0eSA9IHRoaXMucHJvcGVydGllc0J5TmFtZVtwcm9wZXJ0eU5hbWVdO1xuXG4gIGlmIChkZWZpbmVkUHJvcGVydHkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAncHJvcGVydHkgPCcgKyBwcm9wZXJ0eU5hbWUgKyAnPiBhbHJlYWR5IGRlZmluZWQ7ICcgK1xuICAgICAgJ292ZXJyaWRlIG9mIDwnICsgZGVmaW5lZFByb3BlcnR5LmRlZmluZWRCeS5ucy5uYW1lICsgJyMnICsgZGVmaW5lZFByb3BlcnR5Lm5zLm5hbWUgKyAnPiBieSAnICtcbiAgICAgICc8JyArIHAuZGVmaW5lZEJ5Lm5zLm5hbWUgKyAnIycgKyBwLm5zLm5hbWUgKyAnPiBub3QgYWxsb3dlZCB3aXRob3V0IHJlZGVmaW5lcycpO1xuICB9XG59O1xuXG5EZXNjcmlwdG9yQnVpbGRlci5wcm90b3R5cGUuaGFzUHJvcGVydHkgPSBmdW5jdGlvbihuYW1lKSB7XG4gIHJldHVybiB0aGlzLnByb3BlcnRpZXNCeU5hbWVbbmFtZV07XG59O1xuXG5EZXNjcmlwdG9yQnVpbGRlci5wcm90b3R5cGUuYWRkVHJhaXQgPSBmdW5jdGlvbih0LCBpbmhlcml0ZWQpIHtcblxuICB2YXIgdHlwZXNCeU5hbWUgPSB0aGlzLmFsbFR5cGVzQnlOYW1lLFxuICAgICAgdHlwZXMgPSB0aGlzLmFsbFR5cGVzO1xuXG4gIHZhciB0eXBlTmFtZSA9IHQubmFtZTtcblxuICBpZiAodHlwZU5hbWUgaW4gdHlwZXNCeU5hbWUpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBmb3JFYWNoKHQucHJvcGVydGllcywgYmluZChmdW5jdGlvbihwKSB7XG5cbiAgICAvLyBjbG9uZSBwcm9wZXJ0eSB0byBhbGxvdyBleHRlbnNpb25zXG4gICAgcCA9IGFzc2lnbih7fSwgcCwge1xuICAgICAgbmFtZTogcC5ucy5sb2NhbE5hbWUsXG4gICAgICBpbmhlcml0ZWQ6IGluaGVyaXRlZFxuICAgIH0pO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHAsICdkZWZpbmVkQnknLCB7XG4gICAgICB2YWx1ZTogdFxuICAgIH0pO1xuXG4gICAgdmFyIHJlcGxhY2VzID0gcC5yZXBsYWNlcyxcbiAgICAgICAgcmVkZWZpbmVzID0gcC5yZWRlZmluZXM7XG5cbiAgICAvLyBhZGQgcmVwbGFjZS9yZWRlZmluZSBzdXBwb3J0XG4gICAgaWYgKHJlcGxhY2VzIHx8IHJlZGVmaW5lcykge1xuICAgICAgdGhpcy5yZWRlZmluZVByb3BlcnR5KHAsIHJlcGxhY2VzIHx8IHJlZGVmaW5lcywgcmVwbGFjZXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAocC5pc0JvZHkpIHtcbiAgICAgICAgdGhpcy5zZXRCb2R5UHJvcGVydHkocCk7XG4gICAgICB9XG4gICAgICBpZiAocC5pc0lkKSB7XG4gICAgICAgIHRoaXMuc2V0SWRQcm9wZXJ0eShwKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuYWRkUHJvcGVydHkocCk7XG4gICAgfVxuICB9LCB0aGlzKSk7XG5cbiAgdHlwZXMucHVzaCh0KTtcbiAgdHlwZXNCeU5hbWVbdHlwZU5hbWVdID0gdDtcbn07XG5cbi8qKlxuICogQSByZWdpc3RyeSBvZiBNb2RkbGUgcGFja2FnZXMuXG4gKlxuICogQHBhcmFtIHtBcnJheTxQYWNrYWdlPn0gcGFja2FnZXNcbiAqIEBwYXJhbSB7UHJvcGVydGllc30gcHJvcGVydGllc1xuICovXG5mdW5jdGlvbiBSZWdpc3RyeShwYWNrYWdlcywgcHJvcGVydGllcykge1xuICB0aGlzLnBhY2thZ2VNYXAgPSB7fTtcbiAgdGhpcy50eXBlTWFwID0ge307XG5cbiAgdGhpcy5wYWNrYWdlcyA9IFtdO1xuXG4gIHRoaXMucHJvcGVydGllcyA9IHByb3BlcnRpZXM7XG5cbiAgZm9yRWFjaChwYWNrYWdlcywgYmluZCh0aGlzLnJlZ2lzdGVyUGFja2FnZSwgdGhpcykpO1xufVxuXG5cblJlZ2lzdHJ5LnByb3RvdHlwZS5nZXRQYWNrYWdlID0gZnVuY3Rpb24odXJpT3JQcmVmaXgpIHtcbiAgcmV0dXJuIHRoaXMucGFja2FnZU1hcFt1cmlPclByZWZpeF07XG59O1xuXG5SZWdpc3RyeS5wcm90b3R5cGUuZ2V0UGFja2FnZXMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMucGFja2FnZXM7XG59O1xuXG5cblJlZ2lzdHJ5LnByb3RvdHlwZS5yZWdpc3RlclBhY2thZ2UgPSBmdW5jdGlvbihwa2cpIHtcblxuICAvLyBjb3B5IHBhY2thZ2VcbiAgcGtnID0gYXNzaWduKHt9LCBwa2cpO1xuXG4gIHZhciBwa2dNYXAgPSB0aGlzLnBhY2thZ2VNYXA7XG5cbiAgZW5zdXJlQXZhaWxhYmxlKHBrZ01hcCwgcGtnLCAncHJlZml4Jyk7XG4gIGVuc3VyZUF2YWlsYWJsZShwa2dNYXAsIHBrZywgJ3VyaScpO1xuXG4gIC8vIHJlZ2lzdGVyIHR5cGVzXG4gIGZvckVhY2gocGtnLnR5cGVzLCBiaW5kKGZ1bmN0aW9uKGRlc2NyaXB0b3IpIHtcbiAgICB0aGlzLnJlZ2lzdGVyVHlwZShkZXNjcmlwdG9yLCBwa2cpO1xuICB9LCB0aGlzKSk7XG5cbiAgcGtnTWFwW3BrZy51cmldID0gcGtnTWFwW3BrZy5wcmVmaXhdID0gcGtnO1xuICB0aGlzLnBhY2thZ2VzLnB1c2gocGtnKTtcbn07XG5cblxuLyoqXG4gKiBSZWdpc3RlciBhIHR5cGUgZnJvbSBhIHNwZWNpZmljIHBhY2thZ2Ugd2l0aCB1c1xuICovXG5SZWdpc3RyeS5wcm90b3R5cGUucmVnaXN0ZXJUeXBlID0gZnVuY3Rpb24odHlwZSwgcGtnKSB7XG5cbiAgdHlwZSA9IGFzc2lnbih7fSwgdHlwZSwge1xuICAgIHN1cGVyQ2xhc3M6ICh0eXBlLnN1cGVyQ2xhc3MgfHwgW10pLnNsaWNlKCksXG4gICAgZXh0ZW5kczogKHR5cGUuZXh0ZW5kcyB8fCBbXSkuc2xpY2UoKSxcbiAgICBwcm9wZXJ0aWVzOiAodHlwZS5wcm9wZXJ0aWVzIHx8IFtdKS5zbGljZSgpLFxuICAgIG1ldGE6IGFzc2lnbigodHlwZS5tZXRhIHx8IHt9KSlcbiAgfSk7XG5cbiAgdmFyIG5zID0gcGFyc2VOYW1lKHR5cGUubmFtZSwgcGtnLnByZWZpeCksXG4gICAgICBuYW1lID0gbnMubmFtZSxcbiAgICAgIHByb3BlcnRpZXNCeU5hbWUgPSB7fTtcblxuICAvLyBwYXJzZSBwcm9wZXJ0aWVzXG4gIGZvckVhY2godHlwZS5wcm9wZXJ0aWVzLCBiaW5kKGZ1bmN0aW9uKHApIHtcblxuICAgIC8vIG5hbWVzcGFjZSBwcm9wZXJ0eSBuYW1lc1xuICAgIHZhciBwcm9wZXJ0eU5zID0gcGFyc2VOYW1lKHAubmFtZSwgbnMucHJlZml4KSxcbiAgICAgICAgcHJvcGVydHlOYW1lID0gcHJvcGVydHlOcy5uYW1lO1xuXG4gICAgLy8gbmFtZXNwYWNlIHByb3BlcnR5IHR5cGVzXG4gICAgaWYgKCFpc0J1aWx0SW4ocC50eXBlKSkge1xuICAgICAgcC50eXBlID0gcGFyc2VOYW1lKHAudHlwZSwgcHJvcGVydHlOcy5wcmVmaXgpLm5hbWU7XG4gICAgfVxuXG4gICAgYXNzaWduKHAsIHtcbiAgICAgIG5zOiBwcm9wZXJ0eU5zLFxuICAgICAgbmFtZTogcHJvcGVydHlOYW1lXG4gICAgfSk7XG5cbiAgICBwcm9wZXJ0aWVzQnlOYW1lW3Byb3BlcnR5TmFtZV0gPSBwO1xuICB9LCB0aGlzKSk7XG5cbiAgLy8gdXBkYXRlIG5zICsgbmFtZVxuICBhc3NpZ24odHlwZSwge1xuICAgIG5zOiBucyxcbiAgICBuYW1lOiBuYW1lLFxuICAgIHByb3BlcnRpZXNCeU5hbWU6IHByb3BlcnRpZXNCeU5hbWVcbiAgfSk7XG5cbiAgZm9yRWFjaCh0eXBlLmV4dGVuZHMsIGJpbmQoZnVuY3Rpb24oZXh0ZW5kc05hbWUpIHtcbiAgICB2YXIgZXh0ZW5kZWQgPSB0aGlzLnR5cGVNYXBbZXh0ZW5kc05hbWVdO1xuXG4gICAgZXh0ZW5kZWQudHJhaXRzID0gZXh0ZW5kZWQudHJhaXRzIHx8IFtdO1xuICAgIGV4dGVuZGVkLnRyYWl0cy5wdXNoKG5hbWUpO1xuICB9LCB0aGlzKSk7XG5cbiAgLy8gbGluayB0byBwYWNrYWdlXG4gIHRoaXMuZGVmaW5lUGFja2FnZSh0eXBlLCBwa2cpO1xuXG4gIC8vIHJlZ2lzdGVyXG4gIHRoaXMudHlwZU1hcFtuYW1lXSA9IHR5cGU7XG59O1xuXG5cbi8qKlxuICogVHJhdmVyc2UgdGhlIHR5cGUgaGllcmFyY2h5IGZyb20gYm90dG9tIHRvIHRvcCxcbiAqIGNhbGxpbmcgaXRlcmF0b3Igd2l0aCAodHlwZSwgaW5oZXJpdGVkKSBmb3IgYWxsIGVsZW1lbnRzIGluXG4gKiB0aGUgaW5oZXJpdGFuY2UgY2hhaW4uXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG5zTmFtZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0b3JcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW3RyYWl0PWZhbHNlXVxuICovXG5SZWdpc3RyeS5wcm90b3R5cGUubWFwVHlwZXMgPSBmdW5jdGlvbihuc05hbWUsIGl0ZXJhdG9yLCB0cmFpdCkge1xuXG4gIHZhciB0eXBlID0gaXNCdWlsdEluKG5zTmFtZS5uYW1lKSA/IHsgbmFtZTogbnNOYW1lLm5hbWUgfSA6IHRoaXMudHlwZU1hcFtuc05hbWUubmFtZV07XG5cbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIC8qKlxuICAgKiBUcmF2ZXJzZSB0aGUgc2VsZWN0ZWQgdHJhaXQuXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBjbHNcbiAgICovXG4gIGZ1bmN0aW9uIHRyYXZlcnNlVHJhaXQoY2xzKSB7XG4gICAgcmV0dXJuIHRyYXZlcnNlU3VwZXIoY2xzLCB0cnVlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUcmF2ZXJzZSB0aGUgc2VsZWN0ZWQgc3VwZXIgdHlwZSBvciB0cmFpdFxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gY2xzXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gW3RyYWl0PWZhbHNlXVxuICAgKi9cbiAgZnVuY3Rpb24gdHJhdmVyc2VTdXBlcihjbHMsIHRyYWl0KSB7XG4gICAgdmFyIHBhcmVudE5zID0gcGFyc2VOYW1lKGNscywgaXNCdWlsdEluKGNscykgPyAnJyA6IG5zTmFtZS5wcmVmaXgpO1xuICAgIHNlbGYubWFwVHlwZXMocGFyZW50TnMsIGl0ZXJhdG9yLCB0cmFpdCk7XG4gIH1cblxuICBpZiAoIXR5cGUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Vua25vd24gdHlwZSA8JyArIG5zTmFtZS5uYW1lICsgJz4nKTtcbiAgfVxuXG4gIGZvckVhY2godHlwZS5zdXBlckNsYXNzLCB0cmFpdCA/IHRyYXZlcnNlVHJhaXQgOiB0cmF2ZXJzZVN1cGVyKTtcblxuICAvLyBjYWxsIGl0ZXJhdG9yIHdpdGggKHR5cGUsIGluaGVyaXRlZD0hdHJhaXQpXG4gIGl0ZXJhdG9yKHR5cGUsICF0cmFpdCk7XG5cbiAgZm9yRWFjaCh0eXBlLnRyYWl0cywgdHJhdmVyc2VUcmFpdCk7XG59O1xuXG5cbi8qKlxuICogUmV0dXJucyB0aGUgZWZmZWN0aXZlIGRlc2NyaXB0b3IgZm9yIGEgdHlwZS5cbiAqXG4gKiBAcGFyYW0gIHtTdHJpbmd9IHR5cGUgdGhlIG5hbWVzcGFjZWQgbmFtZSAobnM6bG9jYWxOYW1lKSBvZiB0aGUgdHlwZVxuICpcbiAqIEByZXR1cm4ge0Rlc2NyaXB0b3J9IHRoZSByZXN1bHRpbmcgZWZmZWN0aXZlIGRlc2NyaXB0b3JcbiAqL1xuUmVnaXN0cnkucHJvdG90eXBlLmdldEVmZmVjdGl2ZURlc2NyaXB0b3IgPSBmdW5jdGlvbihuYW1lKSB7XG5cbiAgdmFyIG5zTmFtZSA9IHBhcnNlTmFtZShuYW1lKTtcblxuICB2YXIgYnVpbGRlciA9IG5ldyBEZXNjcmlwdG9yQnVpbGRlcihuc05hbWUpO1xuXG4gIHRoaXMubWFwVHlwZXMobnNOYW1lLCBmdW5jdGlvbih0eXBlLCBpbmhlcml0ZWQpIHtcbiAgICBidWlsZGVyLmFkZFRyYWl0KHR5cGUsIGluaGVyaXRlZCk7XG4gIH0pO1xuXG4gIHZhciBkZXNjcmlwdG9yID0gYnVpbGRlci5idWlsZCgpO1xuXG4gIC8vIGRlZmluZSBwYWNrYWdlIGxpbmtcbiAgdGhpcy5kZWZpbmVQYWNrYWdlKGRlc2NyaXB0b3IsIGRlc2NyaXB0b3IuYWxsVHlwZXNbZGVzY3JpcHRvci5hbGxUeXBlcy5sZW5ndGggLSAxXS4kcGtnKTtcblxuICByZXR1cm4gZGVzY3JpcHRvcjtcbn07XG5cblxuUmVnaXN0cnkucHJvdG90eXBlLmRlZmluZVBhY2thZ2UgPSBmdW5jdGlvbih0YXJnZXQsIHBrZykge1xuICB0aGlzLnByb3BlcnRpZXMuZGVmaW5lKHRhcmdldCwgJyRwa2cnLCB7IHZhbHVlOiBwa2cgfSk7XG59O1xuXG5cblxuLy8vLy8vLy8vIGhlbHBlcnMgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5mdW5jdGlvbiBlbnN1cmVBdmFpbGFibGUocGFja2FnZU1hcCwgcGtnLCBpZGVudGlmaWVyS2V5KSB7XG5cbiAgdmFyIHZhbHVlID0gcGtnW2lkZW50aWZpZXJLZXldO1xuXG4gIGlmICh2YWx1ZSBpbiBwYWNrYWdlTWFwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwYWNrYWdlIHdpdGggJyArIGlkZW50aWZpZXJLZXkgKyAnIDwnICsgdmFsdWUgKyAnPiBhbHJlYWR5IGRlZmluZWQnKTtcbiAgfVxufVxuXG4vKipcbiAqIEEgdXRpbGl0eSB0aGF0IGdldHMgYW5kIHNldHMgcHJvcGVydGllcyBvZiBtb2RlbCBlbGVtZW50cy5cbiAqXG4gKiBAcGFyYW0ge01vZGVsfSBtb2RlbFxuICovXG5mdW5jdGlvbiBQcm9wZXJ0aWVzKG1vZGVsKSB7XG4gIHRoaXMubW9kZWwgPSBtb2RlbDtcbn1cblxuXG4vKipcbiAqIFNldHMgYSBuYW1lZCBwcm9wZXJ0eSBvbiB0aGUgdGFyZ2V0IGVsZW1lbnQuXG4gKiBJZiB0aGUgdmFsdWUgaXMgdW5kZWZpbmVkLCB0aGUgcHJvcGVydHkgZ2V0cyBkZWxldGVkLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXRcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsdWVcbiAqL1xuUHJvcGVydGllcy5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24odGFyZ2V0LCBuYW1lLCB2YWx1ZSkge1xuXG4gIHZhciBwcm9wZXJ0eSA9IHRoaXMubW9kZWwuZ2V0UHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwgbmFtZSk7XG5cbiAgdmFyIHByb3BlcnR5TmFtZSA9IHByb3BlcnR5ICYmIHByb3BlcnR5Lm5hbWU7XG5cbiAgaWYgKGlzVW5kZWZpbmVkKHZhbHVlKSkge1xuICAgIC8vIHVuc2V0IHRoZSBwcm9wZXJ0eSwgaWYgdGhlIHNwZWNpZmllZCB2YWx1ZSBpcyB1bmRlZmluZWQ7XG4gICAgLy8gZGVsZXRlIGZyb20gJGF0dHJzIChmb3IgZXh0ZW5zaW9ucykgb3IgdGhlIHRhcmdldCBpdHNlbGZcbiAgICBpZiAocHJvcGVydHkpIHtcbiAgICAgIGRlbGV0ZSB0YXJnZXRbcHJvcGVydHlOYW1lXTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVsZXRlIHRhcmdldC4kYXR0cnNbbmFtZV07XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIHNldCB0aGUgcHJvcGVydHksIGRlZmluaW5nIHdlbGwgZGVmaW5lZCBwcm9wZXJ0aWVzIG9uIHRoZSBmbHlcbiAgICAvLyBvciBzaW1wbHkgdXBkYXRpbmcgdGhlbSBpbiB0YXJnZXQuJGF0dHJzIChmb3IgZXh0ZW5zaW9ucylcbiAgICBpZiAocHJvcGVydHkpIHtcbiAgICAgIGlmIChwcm9wZXJ0eU5hbWUgaW4gdGFyZ2V0KSB7XG4gICAgICAgIHRhcmdldFtwcm9wZXJ0eU5hbWVdID0gdmFsdWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRhcmdldC4kYXR0cnNbbmFtZV0gPSB2YWx1ZTtcbiAgICB9XG4gIH1cbn07XG5cbi8qKlxuICogUmV0dXJucyB0aGUgbmFtZWQgcHJvcGVydHkgb2YgdGhlIGdpdmVuIGVsZW1lbnRcbiAqXG4gKiBAcGFyYW0gIHtPYmplY3R9IHRhcmdldFxuICogQHBhcmFtICB7U3RyaW5nfSBuYW1lXG4gKlxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5Qcm9wZXJ0aWVzLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbih0YXJnZXQsIG5hbWUpIHtcblxuICB2YXIgcHJvcGVydHkgPSB0aGlzLm1vZGVsLmdldFByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIG5hbWUpO1xuXG4gIGlmICghcHJvcGVydHkpIHtcbiAgICByZXR1cm4gdGFyZ2V0LiRhdHRyc1tuYW1lXTtcbiAgfVxuXG4gIHZhciBwcm9wZXJ0eU5hbWUgPSBwcm9wZXJ0eS5uYW1lO1xuXG4gIC8vIGNoZWNrIGlmIGFjY2VzcyB0byBjb2xsZWN0aW9uIHByb3BlcnR5IGFuZCBsYXppbHkgaW5pdGlhbGl6ZSBpdFxuICBpZiAoIXRhcmdldFtwcm9wZXJ0eU5hbWVdICYmIHByb3BlcnR5LmlzTWFueSkge1xuICAgIGRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIFtdKTtcbiAgfVxuXG4gIHJldHVybiB0YXJnZXRbcHJvcGVydHlOYW1lXTtcbn07XG5cblxuLyoqXG4gKiBEZWZpbmUgYSBwcm9wZXJ0eSBvbiB0aGUgdGFyZ2V0IGVsZW1lbnRcbiAqXG4gKiBAcGFyYW0gIHtPYmplY3R9IHRhcmdldFxuICogQHBhcmFtICB7U3RyaW5nfSBuYW1lXG4gKiBAcGFyYW0gIHtPYmplY3R9IG9wdGlvbnNcbiAqL1xuUHJvcGVydGllcy5wcm90b3R5cGUuZGVmaW5lID0gZnVuY3Rpb24odGFyZ2V0LCBuYW1lLCBvcHRpb25zKSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIG5hbWUsIG9wdGlvbnMpO1xufTtcblxuXG4vKipcbiAqIERlZmluZSB0aGUgZGVzY3JpcHRvciBmb3IgYW4gZWxlbWVudFxuICovXG5Qcm9wZXJ0aWVzLnByb3RvdHlwZS5kZWZpbmVEZXNjcmlwdG9yID0gZnVuY3Rpb24odGFyZ2V0LCBkZXNjcmlwdG9yKSB7XG4gIHRoaXMuZGVmaW5lKHRhcmdldCwgJyRkZXNjcmlwdG9yJywgeyB2YWx1ZTogZGVzY3JpcHRvciB9KTtcbn07XG5cbi8qKlxuICogRGVmaW5lIHRoZSBtb2RlbCBmb3IgYW4gZWxlbWVudFxuICovXG5Qcm9wZXJ0aWVzLnByb3RvdHlwZS5kZWZpbmVNb2RlbCA9IGZ1bmN0aW9uKHRhcmdldCwgbW9kZWwpIHtcbiAgdGhpcy5kZWZpbmUodGFyZ2V0LCAnJG1vZGVsJywgeyB2YWx1ZTogbW9kZWwgfSk7XG59O1xuXG5cbmZ1bmN0aW9uIGlzVW5kZWZpbmVkKHZhbCkge1xuICByZXR1cm4gdHlwZW9mIHZhbCA9PT0gJ3VuZGVmaW5lZCc7XG59XG5cbmZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIHZhbHVlKSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5Lm5hbWUsIHtcbiAgICBlbnVtZXJhYmxlOiAhcHJvcGVydHkuaXNSZWZlcmVuY2UsXG4gICAgd3JpdGFibGU6IHRydWUsXG4gICAgdmFsdWU6IHZhbHVlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICB9KTtcbn1cblxuLy8vLyBNb2RkbGUgaW1wbGVtZW50YXRpb24gLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4vKipcbiAqIEBjbGFzcyBNb2RkbGVcbiAqXG4gKiBBIG1vZGVsIHRoYXQgY2FuIGJlIHVzZWQgdG8gY3JlYXRlIGVsZW1lbnRzIG9mIGEgc3BlY2lmaWMgdHlwZS5cbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBNb2RkbGUgPSByZXF1aXJlKCdtb2RkbGUnKTtcbiAqXG4gKiB2YXIgcGtnID0ge1xuICogICBuYW1lOiAnbXlwYWNrYWdlJyxcbiAqICAgcHJlZml4OiAnbXknLFxuICogICB0eXBlczogW1xuICogICAgIHsgbmFtZTogJ1Jvb3QnIH1cbiAqICAgXVxuICogfTtcbiAqXG4gKiB2YXIgbW9kZGxlID0gbmV3IE1vZGRsZShbcGtnXSk7XG4gKlxuICogQHBhcmFtIHtBcnJheTxQYWNrYWdlPn0gcGFja2FnZXMgdGhlIHBhY2thZ2VzIHRvIGNvbnRhaW5cbiAqL1xuZnVuY3Rpb24gTW9kZGxlKHBhY2thZ2VzKSB7XG5cbiAgdGhpcy5wcm9wZXJ0aWVzID0gbmV3IFByb3BlcnRpZXModGhpcyk7XG5cbiAgdGhpcy5mYWN0b3J5ID0gbmV3IEZhY3RvcnkodGhpcywgdGhpcy5wcm9wZXJ0aWVzKTtcbiAgdGhpcy5yZWdpc3RyeSA9IG5ldyBSZWdpc3RyeShwYWNrYWdlcywgdGhpcy5wcm9wZXJ0aWVzKTtcblxuICB0aGlzLnR5cGVDYWNoZSA9IHt9O1xufVxuXG5cbi8qKlxuICogQ3JlYXRlIGFuIGluc3RhbmNlIG9mIHRoZSBzcGVjaWZpZWQgdHlwZS5cbiAqXG4gKiBAbWV0aG9kIE1vZGRsZSNjcmVhdGVcbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBmb28gPSBtb2RkbGUuY3JlYXRlKCdteTpGb28nKTtcbiAqIHZhciBiYXIgPSBtb2RkbGUuY3JlYXRlKCdteTpCYXInLCB7IGlkOiAnQkFSXzEnIH0pO1xuICpcbiAqIEBwYXJhbSAge1N0cmluZ3xPYmplY3R9IGRlc2NyaXB0b3IgdGhlIHR5cGUgZGVzY3JpcHRvciBvciBuYW1lIGtub3cgdG8gdGhlIG1vZGVsXG4gKiBAcGFyYW0gIHtPYmplY3R9IGF0dHJzICAgYSBudW1iZXIgb2YgYXR0cmlidXRlcyB0byBpbml0aWFsaXplIHRoZSBtb2RlbCBpbnN0YW5jZSB3aXRoXG4gKiBAcmV0dXJuIHtPYmplY3R9ICAgICAgICAgbW9kZWwgaW5zdGFuY2VcbiAqL1xuTW9kZGxlLnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbihkZXNjcmlwdG9yLCBhdHRycykge1xuICB2YXIgVHlwZSA9IHRoaXMuZ2V0VHlwZShkZXNjcmlwdG9yKTtcblxuICBpZiAoIVR5cGUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Vua25vd24gdHlwZSA8JyArIGRlc2NyaXB0b3IgKyAnPicpO1xuICB9XG5cbiAgcmV0dXJuIG5ldyBUeXBlKGF0dHJzKTtcbn07XG5cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSB0eXBlIHJlcHJlc2VudGluZyBhIGdpdmVuIGRlc2NyaXB0b3JcbiAqXG4gKiBAbWV0aG9kIE1vZGRsZSNnZXRUeXBlXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgRm9vID0gbW9kZGxlLmdldFR5cGUoJ215OkZvbycpO1xuICogdmFyIGZvbyA9IG5ldyBGb28oeyAnaWQnIDogJ0ZPT18xJyB9KTtcbiAqXG4gKiBAcGFyYW0gIHtTdHJpbmd8T2JqZWN0fSBkZXNjcmlwdG9yIHRoZSB0eXBlIGRlc2NyaXB0b3Igb3IgbmFtZSBrbm93IHRvIHRoZSBtb2RlbFxuICogQHJldHVybiB7T2JqZWN0fSAgICAgICAgIHRoZSB0eXBlIHJlcHJlc2VudGluZyB0aGUgZGVzY3JpcHRvclxuICovXG5Nb2RkbGUucHJvdG90eXBlLmdldFR5cGUgPSBmdW5jdGlvbihkZXNjcmlwdG9yKSB7XG5cbiAgdmFyIGNhY2hlID0gdGhpcy50eXBlQ2FjaGU7XG5cbiAgdmFyIG5hbWUgPSBpc1N0cmluZyhkZXNjcmlwdG9yKSA/IGRlc2NyaXB0b3IgOiBkZXNjcmlwdG9yLm5zLm5hbWU7XG5cbiAgdmFyIHR5cGUgPSBjYWNoZVtuYW1lXTtcblxuICBpZiAoIXR5cGUpIHtcbiAgICBkZXNjcmlwdG9yID0gdGhpcy5yZWdpc3RyeS5nZXRFZmZlY3RpdmVEZXNjcmlwdG9yKG5hbWUpO1xuICAgIHR5cGUgPSBjYWNoZVtuYW1lXSA9IHRoaXMuZmFjdG9yeS5jcmVhdGVUeXBlKGRlc2NyaXB0b3IpO1xuICB9XG5cbiAgcmV0dXJuIHR5cGU7XG59O1xuXG5cbi8qKlxuICogQ3JlYXRlcyBhbiBhbnktZWxlbWVudCB0eXBlIHRvIGJlIHVzZWQgd2l0aGluIG1vZGVsIGluc3RhbmNlcy5cbiAqXG4gKiBUaGlzIGNhbiBiZSB1c2VkIHRvIGNyZWF0ZSBjdXN0b20gZWxlbWVudHMgdGhhdCBsaWUgb3V0c2lkZSB0aGUgbWV0YS1tb2RlbC5cbiAqIFRoZSBjcmVhdGVkIGVsZW1lbnQgY29udGFpbnMgYWxsIHRoZSBtZXRhLWRhdGEgcmVxdWlyZWQgdG8gc2VyaWFsaXplIGl0XG4gKiBhcyBwYXJ0IG9mIG1ldGEtbW9kZWwgZWxlbWVudHMuXG4gKlxuICogQG1ldGhvZCBNb2RkbGUjY3JlYXRlQW55XG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgZm9vID0gbW9kZGxlLmNyZWF0ZUFueSgndmVuZG9yOkZvbycsICdodHRwOi8vdmVuZG9yJywge1xuICogICB2YWx1ZTogJ2JhcidcbiAqIH0pO1xuICpcbiAqIHZhciBjb250YWluZXIgPSBtb2RkbGUuY3JlYXRlKCdteTpDb250YWluZXInLCAnaHR0cDovL215Jywge1xuICogICBhbnk6IFsgZm9vIF1cbiAqIH0pO1xuICpcbiAqIC8vIGdvIGFoZWFkIGFuZCBzZXJpYWxpemUgdGhlIHN0dWZmXG4gKlxuICpcbiAqIEBwYXJhbSAge1N0cmluZ30gbmFtZSAgdGhlIG5hbWUgb2YgdGhlIGVsZW1lbnRcbiAqIEBwYXJhbSAge1N0cmluZ30gbnNVcmkgdGhlIG5hbWVzcGFjZSB1cmkgb2YgdGhlIGVsZW1lbnRcbiAqIEBwYXJhbSAge09iamVjdH0gW3Byb3BlcnRpZXNdIGEgbWFwIG9mIHByb3BlcnRpZXMgdG8gaW5pdGlhbGl6ZSB0aGUgaW5zdGFuY2Ugd2l0aFxuICogQHJldHVybiB7T2JqZWN0fSB0aGUgYW55IHR5cGUgaW5zdGFuY2VcbiAqL1xuTW9kZGxlLnByb3RvdHlwZS5jcmVhdGVBbnkgPSBmdW5jdGlvbihuYW1lLCBuc1VyaSwgcHJvcGVydGllcykge1xuXG4gIHZhciBuYW1lTnMgPSBwYXJzZU5hbWUobmFtZSk7XG5cbiAgdmFyIGVsZW1lbnQgPSB7XG4gICAgJHR5cGU6IG5hbWUsXG4gICAgJGluc3RhbmNlT2Y6IGZ1bmN0aW9uKHR5cGUpIHtcbiAgICAgIHJldHVybiB0eXBlID09PSB0aGlzLiR0eXBlO1xuICAgIH1cbiAgfTtcblxuICB2YXIgZGVzY3JpcHRvciA9IHtcbiAgICBuYW1lOiBuYW1lLFxuICAgIGlzR2VuZXJpYzogdHJ1ZSxcbiAgICBuczoge1xuICAgICAgcHJlZml4OiBuYW1lTnMucHJlZml4LFxuICAgICAgbG9jYWxOYW1lOiBuYW1lTnMubG9jYWxOYW1lLFxuICAgICAgdXJpOiBuc1VyaVxuICAgIH1cbiAgfTtcblxuICB0aGlzLnByb3BlcnRpZXMuZGVmaW5lRGVzY3JpcHRvcihlbGVtZW50LCBkZXNjcmlwdG9yKTtcbiAgdGhpcy5wcm9wZXJ0aWVzLmRlZmluZU1vZGVsKGVsZW1lbnQsIHRoaXMpO1xuICB0aGlzLnByb3BlcnRpZXMuZGVmaW5lKGVsZW1lbnQsICckcGFyZW50JywgeyBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUgfSk7XG5cbiAgZm9yRWFjaChwcm9wZXJ0aWVzLCBmdW5jdGlvbihhLCBrZXkpIHtcbiAgICBpZiAoaXNPYmplY3QoYSkgJiYgYS52YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBlbGVtZW50W2EubmFtZV0gPSBhLnZhbHVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbGVtZW50W2tleV0gPSBhO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIGVsZW1lbnQ7XG59O1xuXG4vKipcbiAqIFJldHVybnMgYSByZWdpc3RlcmVkIHBhY2thZ2UgYnkgdXJpIG9yIHByZWZpeFxuICpcbiAqIEByZXR1cm4ge09iamVjdH0gdGhlIHBhY2thZ2VcbiAqL1xuTW9kZGxlLnByb3RvdHlwZS5nZXRQYWNrYWdlID0gZnVuY3Rpb24odXJpT3JQcmVmaXgpIHtcbiAgcmV0dXJuIHRoaXMucmVnaXN0cnkuZ2V0UGFja2FnZSh1cmlPclByZWZpeCk7XG59O1xuXG4vKipcbiAqIFJldHVybnMgYSBzbmFwc2hvdCBvZiBhbGwga25vd24gcGFja2FnZXNcbiAqXG4gKiBAcmV0dXJuIHtPYmplY3R9IHRoZSBwYWNrYWdlXG4gKi9cbk1vZGRsZS5wcm90b3R5cGUuZ2V0UGFja2FnZXMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMucmVnaXN0cnkuZ2V0UGFja2FnZXMoKTtcbn07XG5cbi8qKlxuICogUmV0dXJucyB0aGUgZGVzY3JpcHRvciBmb3IgYW4gZWxlbWVudFxuICovXG5Nb2RkbGUucHJvdG90eXBlLmdldEVsZW1lbnREZXNjcmlwdG9yID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICByZXR1cm4gZWxlbWVudC4kZGVzY3JpcHRvcjtcbn07XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiBkZXNjcmlwdG9yIG9yIGluc3RhbmNlXG4gKiByZXByZXNlbnRzIHRoZSBnaXZlbiB0eXBlLlxuICpcbiAqIE1heSBiZSBhcHBsaWVkIHRvIHRoaXMsIGlmIGVsZW1lbnQgaXMgb21pdHRlZC5cbiAqL1xuTW9kZGxlLnByb3RvdHlwZS5oYXNUeXBlID0gZnVuY3Rpb24oZWxlbWVudCwgdHlwZSkge1xuICBpZiAodHlwZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdHlwZSA9IGVsZW1lbnQ7XG4gICAgZWxlbWVudCA9IHRoaXM7XG4gIH1cblxuICB2YXIgZGVzY3JpcHRvciA9IGVsZW1lbnQuJG1vZGVsLmdldEVsZW1lbnREZXNjcmlwdG9yKGVsZW1lbnQpO1xuXG4gIHJldHVybiAodHlwZSBpbiBkZXNjcmlwdG9yLmFsbFR5cGVzQnlOYW1lKTtcbn07XG5cbi8qKlxuICogUmV0dXJucyB0aGUgZGVzY3JpcHRvciBvZiBhbiBlbGVtZW50cyBuYW1lZCBwcm9wZXJ0eVxuICovXG5Nb2RkbGUucHJvdG90eXBlLmdldFByb3BlcnR5RGVzY3JpcHRvciA9IGZ1bmN0aW9uKGVsZW1lbnQsIHByb3BlcnR5KSB7XG4gIHJldHVybiB0aGlzLmdldEVsZW1lbnREZXNjcmlwdG9yKGVsZW1lbnQpLnByb3BlcnRpZXNCeU5hbWVbcHJvcGVydHldO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIGEgbWFwcGVkIHR5cGUncyBkZXNjcmlwdG9yXG4gKi9cbk1vZGRsZS5wcm90b3R5cGUuZ2V0VHlwZURlc2NyaXB0b3IgPSBmdW5jdGlvbih0eXBlKSB7XG4gIHJldHVybiB0aGlzLnJlZ2lzdHJ5LnR5cGVNYXBbdHlwZV07XG59O1xuXG5leHBvcnQgeyBNb2RkbGUsIGNvZXJjZVR5cGUsIGlzQnVpbHRJbiBhcyBpc0J1aWx0SW5UeXBlLCBpc1NpbXBsZSBhcyBpc1NpbXBsZVR5cGUsIHBhcnNlTmFtZSBhcyBwYXJzZU5hbWVOUyB9O1xuIiwidmFyIGZyb21DaGFyQ29kZSA9IFN0cmluZy5mcm9tQ2hhckNvZGU7XG5cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cbnZhciBFTlRJVFlfUEFUVEVSTiA9IC8mIyhcXGQrKTt8JiN4KFswLTlhLWZdKyk7fCYoXFx3Kyk7L2lnO1xuXG52YXIgRU5USVRZX01BUFBJTkcgPSB7XG4gICdhbXAnOiAnJicsXG4gICdhcG9zJzogJ1xcJycsXG4gICdndCc6ICc+JyxcbiAgJ2x0JzogJzwnLFxuICAncXVvdCc6ICdcIidcbn07XG5cbi8vIG1hcCBVUFBFUkNBU0UgdmFyaWFudHMgb2Ygc3VwcG9ydGVkIHNwZWNpYWwgY2hhcnNcbk9iamVjdC5rZXlzKEVOVElUWV9NQVBQSU5HKS5mb3JFYWNoKGZ1bmN0aW9uKGspIHtcbiAgRU5USVRZX01BUFBJTkdbay50b1VwcGVyQ2FzZSgpXSA9IEVOVElUWV9NQVBQSU5HW2tdO1xufSk7XG5cblxuZnVuY3Rpb24gcmVwbGFjZUVudGl0aWVzKF8sIGQsIHgsIHopIHtcblxuICAvLyByZXNlcnZlZCBuYW1lcywgaS5lLiAmbmJzcDtcbiAgaWYgKHopIHtcbiAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChFTlRJVFlfTUFQUElORywgeikpIHtcbiAgICAgIHJldHVybiBFTlRJVFlfTUFQUElOR1t6XTtcbiAgICB9IGVsc2Uge1xuXG4gICAgICAvLyBmYWxsIGJhY2sgdG8gb3JpZ2luYWwgdmFsdWVcbiAgICAgIHJldHVybiAnJicgKyB6ICsgJzsnO1xuICAgIH1cbiAgfVxuXG4gIC8vIGRlY2ltYWwgZW5jb2RlZCBjaGFyXG4gIGlmIChkKSB7XG4gICAgcmV0dXJuIGZyb21DaGFyQ29kZShkKTtcbiAgfVxuXG4gIC8vIGhleCBlbmNvZGVkIGNoYXJcbiAgcmV0dXJuIGZyb21DaGFyQ29kZShwYXJzZUludCh4LCAxNikpO1xufVxuXG5cbi8qKlxuICogQSBiYXNpYyBlbnRpdHkgZGVjb2RlciB0aGF0IGNhbiBkZWNvZGUgYSBtaW5pbWFsXG4gKiBzdWItc2V0IG9mIHJlc2VydmVkIG5hbWVzICgmYW1wOykgYXMgd2VsbCBhc1xuICogaGV4ICgmI3hhYWY7KSBhbmQgZGVjaW1hbCAoJiMxMjMxOykgZW5jb2RlZCBjaGFyYWN0ZXJzLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJcbiAqXG4gKiBAcmV0dXJuIHtzdHJpbmd9IGRlY29kZWQgc3RyaW5nXG4gKi9cbmZ1bmN0aW9uIGRlY29kZUVudGl0aWVzKHMpIHtcbiAgaWYgKHMubGVuZ3RoID4gMyAmJiBzLmluZGV4T2YoJyYnKSAhPT0gLTEpIHtcbiAgICByZXR1cm4gcy5yZXBsYWNlKEVOVElUWV9QQVRURVJOLCByZXBsYWNlRW50aXRpZXMpO1xuICB9XG5cbiAgcmV0dXJuIHM7XG59XG5cbnZhciBYU0lfVVJJID0gJ2h0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hLWluc3RhbmNlJztcbnZhciBYU0lfUFJFRklYID0gJ3hzaSc7XG52YXIgWFNJX1RZUEUgPSAneHNpOnR5cGUnO1xuXG52YXIgTk9OX1dISVRFU1BBQ0VfT1VUU0lERV9ST09UX05PREUgPSAnbm9uLXdoaXRlc3BhY2Ugb3V0c2lkZSBvZiByb290IG5vZGUnO1xuXG5mdW5jdGlvbiBlcnJvcihtc2cpIHtcbiAgcmV0dXJuIG5ldyBFcnJvcihtc2cpO1xufVxuXG5mdW5jdGlvbiBtaXNzaW5nTmFtZXNwYWNlRm9yUHJlZml4KHByZWZpeCkge1xuICByZXR1cm4gJ21pc3NpbmcgbmFtZXNwYWNlIGZvciBwcmVmaXggPCcgKyBwcmVmaXggKyAnPic7XG59XG5cbmZ1bmN0aW9uIGdldHRlcihnZXRGbikge1xuICByZXR1cm4ge1xuICAgICdnZXQnOiBnZXRGbixcbiAgICAnZW51bWVyYWJsZSc6IHRydWVcbiAgfTtcbn1cblxuZnVuY3Rpb24gY2xvbmVOc01hdHJpeChuc01hdHJpeCkge1xuICB2YXIgY2xvbmUgPSB7fSwga2V5O1xuICBmb3IgKGtleSBpbiBuc01hdHJpeCkge1xuICAgIGNsb25lW2tleV0gPSBuc01hdHJpeFtrZXldO1xuICB9XG4gIHJldHVybiBjbG9uZTtcbn1cblxuZnVuY3Rpb24gdXJpUHJlZml4KHByZWZpeCkge1xuICByZXR1cm4gcHJlZml4ICsgJyR1cmknO1xufVxuXG5mdW5jdGlvbiBidWlsZE5zTWF0cml4KG5zVXJpVG9QcmVmaXgpIHtcbiAgdmFyIG5zTWF0cml4ID0ge30sXG4gICAgICB1cmksXG4gICAgICBwcmVmaXg7XG5cbiAgZm9yICh1cmkgaW4gbnNVcmlUb1ByZWZpeCkge1xuICAgIHByZWZpeCA9IG5zVXJpVG9QcmVmaXhbdXJpXTtcbiAgICBuc01hdHJpeFtwcmVmaXhdID0gcHJlZml4O1xuICAgIG5zTWF0cml4W3VyaVByZWZpeChwcmVmaXgpXSA9IHVyaTtcbiAgfVxuXG4gIHJldHVybiBuc01hdHJpeDtcbn1cblxuZnVuY3Rpb24gbm9vcEdldENvbnRleHQoKSB7XG4gIHJldHVybiB7ICdsaW5lJzogMCwgJ2NvbHVtbic6IDAgfTtcbn1cblxuZnVuY3Rpb24gdGhyb3dGdW5jKGVycikge1xuICB0aHJvdyBlcnI7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBwYXJzZXIgd2l0aCB0aGUgZ2l2ZW4gb3B0aW9ucy5cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqXG4gKiBAcGFyYW0gIHshT2JqZWN0PHN0cmluZywgPz49fSBvcHRpb25zXG4gKi9cbmZ1bmN0aW9uIFBhcnNlcihvcHRpb25zKSB7XG5cbiAgaWYgKCF0aGlzKSB7XG4gICAgcmV0dXJuIG5ldyBQYXJzZXIob3B0aW9ucyk7XG4gIH1cblxuICB2YXIgcHJveHkgPSBvcHRpb25zICYmIG9wdGlvbnNbJ3Byb3h5J107XG5cbiAgdmFyIG9uVGV4dCxcbiAgICAgIG9uT3BlblRhZyxcbiAgICAgIG9uQ2xvc2VUYWcsXG4gICAgICBvbkNEQVRBLFxuICAgICAgb25FcnJvciA9IHRocm93RnVuYyxcbiAgICAgIG9uV2FybmluZyxcbiAgICAgIG9uQ29tbWVudCxcbiAgICAgIG9uUXVlc3Rpb24sXG4gICAgICBvbkF0dGVudGlvbjtcblxuICB2YXIgZ2V0Q29udGV4dCA9IG5vb3BHZXRDb250ZXh0O1xuXG4gIC8qKlxuICAgKiBEbyB3ZSBuZWVkIHRvIHBhcnNlIHRoZSBjdXJyZW50IGVsZW1lbnRzIGF0dHJpYnV0ZXMgZm9yIG5hbWVzcGFjZXM/XG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKi9cbiAgdmFyIG1heWJlTlMgPSBmYWxzZTtcblxuICAvKipcbiAgICogRG8gd2UgcHJvY2VzcyBuYW1lc3BhY2VzIGF0IGFsbD9cbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqL1xuICB2YXIgaXNOYW1lc3BhY2UgPSBmYWxzZTtcblxuICAvKipcbiAgICogVGhlIGNhdWdodCBlcnJvciByZXR1cm5lZCBvbiBwYXJzZSBlbmRcbiAgICpcbiAgICogQHR5cGUge0Vycm9yfVxuICAgKi9cbiAgdmFyIHJldHVybkVycm9yID0gbnVsbDtcblxuICAvKipcbiAgICogU2hvdWxkIHdlIHN0b3AgcGFyc2luZz9cbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqL1xuICB2YXIgcGFyc2VTdG9wID0gZmFsc2U7XG5cbiAgLyoqXG4gICAqIEEgbWFwIG9mIHsgdXJpOiBwcmVmaXggfSB1c2VkIGJ5IHRoZSBwYXJzZXIuXG4gICAqXG4gICAqIFRoaXMgbWFwIHdpbGwgZW5zdXJlIHdlIGNhbiBub3JtYWxpemUgcHJlZml4ZXMgZHVyaW5nIHByb2Nlc3Npbmc7XG4gICAqIGZvciBlYWNoIHVyaSwgb25seSBvbmUgcHJlZml4IHdpbGwgYmUgZXhwb3NlZCB0byB0aGUgaGFuZGxlcnMuXG4gICAqXG4gICAqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgc3RyaW5nPn19XG4gICAqL1xuICB2YXIgbnNVcmlUb1ByZWZpeDtcblxuICAvKipcbiAgICogSGFuZGxlIHBhcnNlIGVycm9yLlxuICAgKlxuICAgKiBAcGFyYW0gIHtzdHJpbmd8RXJyb3J9IGVyclxuICAgKi9cbiAgZnVuY3Rpb24gaGFuZGxlRXJyb3IoZXJyKSB7XG4gICAgaWYgKCEoZXJyIGluc3RhbmNlb2YgRXJyb3IpKSB7XG4gICAgICBlcnIgPSBlcnJvcihlcnIpO1xuICAgIH1cblxuICAgIHJldHVybkVycm9yID0gZXJyO1xuXG4gICAgb25FcnJvcihlcnIsIGdldENvbnRleHQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBwYXJzZSBlcnJvci5cbiAgICpcbiAgICogQHBhcmFtICB7c3RyaW5nfEVycm9yfSBlcnJcbiAgICovXG4gIGZ1bmN0aW9uIGhhbmRsZVdhcm5pbmcoZXJyKSB7XG5cbiAgICBpZiAoIW9uV2FybmluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghKGVyciBpbnN0YW5jZW9mIEVycm9yKSkge1xuICAgICAgZXJyID0gZXJyb3IoZXJyKTtcbiAgICB9XG5cbiAgICBvbldhcm5pbmcoZXJyLCBnZXRDb250ZXh0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWdpc3RlciBwYXJzZSBsaXN0ZW5lci5cbiAgICpcbiAgICogQHBhcmFtICB7c3RyaW5nfSAgIG5hbWVcbiAgICogQHBhcmFtICB7RnVuY3Rpb259IGNiXG4gICAqXG4gICAqIEByZXR1cm4ge1BhcnNlcn1cbiAgICovXG4gIHRoaXNbJ29uJ10gPSBmdW5jdGlvbihuYW1lLCBjYikge1xuXG4gICAgaWYgKHR5cGVvZiBjYiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgZXJyb3IoJ3JlcXVpcmVkIGFyZ3MgPG5hbWUsIGNiPicpO1xuICAgIH1cblxuICAgIHN3aXRjaCAobmFtZSkge1xuICAgIGNhc2UgJ29wZW5UYWcnOiBvbk9wZW5UYWcgPSBjYjsgYnJlYWs7XG4gICAgY2FzZSAndGV4dCc6IG9uVGV4dCA9IGNiOyBicmVhaztcbiAgICBjYXNlICdjbG9zZVRhZyc6IG9uQ2xvc2VUYWcgPSBjYjsgYnJlYWs7XG4gICAgY2FzZSAnZXJyb3InOiBvbkVycm9yID0gY2I7IGJyZWFrO1xuICAgIGNhc2UgJ3dhcm4nOiBvbldhcm5pbmcgPSBjYjsgYnJlYWs7XG4gICAgY2FzZSAnY2RhdGEnOiBvbkNEQVRBID0gY2I7IGJyZWFrO1xuICAgIGNhc2UgJ2F0dGVudGlvbic6IG9uQXR0ZW50aW9uID0gY2I7IGJyZWFrOyAvLyA8IVhYWFhYIHp6eno9XCJlZWVlXCI+XG4gICAgY2FzZSAncXVlc3Rpb24nOiBvblF1ZXN0aW9uID0gY2I7IGJyZWFrOyAvLyA8PyAuLi4uICA/PlxuICAgIGNhc2UgJ2NvbW1lbnQnOiBvbkNvbW1lbnQgPSBjYjsgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IGVycm9yKCd1bnN1cHBvcnRlZCBldmVudDogJyArIG5hbWUpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTZXQgdGhlIG5hbWVzcGFjZSB0byBwcmVmaXggbWFwcGluZy5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICpcbiAgICogcGFyc2VyLm5zKHtcbiAgICogICAnaHR0cDovL2Zvbyc6ICdmb28nLFxuICAgKiAgICdodHRwOi8vYmFyJzogJ2JhcidcbiAgICogfSk7XG4gICAqXG4gICAqIEBwYXJhbSAgeyFPYmplY3Q8c3RyaW5nLCBzdHJpbmc+fSBuc01hcFxuICAgKlxuICAgKiBAcmV0dXJuIHtQYXJzZXJ9XG4gICAqL1xuICB0aGlzWyducyddID0gZnVuY3Rpb24obnNNYXApIHtcblxuICAgIGlmICh0eXBlb2YgbnNNYXAgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBuc01hcCA9IHt9O1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgbnNNYXAgIT09ICdvYmplY3QnKSB7XG4gICAgICB0aHJvdyBlcnJvcigncmVxdWlyZWQgYXJncyA8bnNNYXA9e30+Jyk7XG4gICAgfVxuXG4gICAgdmFyIF9uc1VyaVRvUHJlZml4ID0ge30sIGs7XG5cbiAgICBmb3IgKGsgaW4gbnNNYXApIHtcbiAgICAgIF9uc1VyaVRvUHJlZml4W2tdID0gbnNNYXBba107XG4gICAgfVxuXG4gICAgLy8gRk9SQ0UgZGVmYXVsdCBtYXBwaW5nIGZvciBzY2hlbWEgaW5zdGFuY2VcbiAgICBfbnNVcmlUb1ByZWZpeFtYU0lfVVJJXSA9IFhTSV9QUkVGSVg7XG5cbiAgICBpc05hbWVzcGFjZSA9IHRydWU7XG4gICAgbnNVcmlUb1ByZWZpeCA9IF9uc1VyaVRvUHJlZml4O1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIFBhcnNlIHhtbCBzdHJpbmcuXG4gICAqXG4gICAqIEBwYXJhbSAge3N0cmluZ30geG1sXG4gICAqXG4gICAqIEByZXR1cm4ge0Vycm9yfSByZXR1cm5FcnJvciwgaWYgbm90IHRocm93blxuICAgKi9cbiAgdGhpc1sncGFyc2UnXSA9IGZ1bmN0aW9uKHhtbCkge1xuICAgIGlmICh0eXBlb2YgeG1sICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgZXJyb3IoJ3JlcXVpcmVkIGFyZ3MgPHhtbD1zdHJpbmc+Jyk7XG4gICAgfVxuXG4gICAgcmV0dXJuRXJyb3IgPSBudWxsO1xuXG4gICAgcGFyc2UoeG1sKTtcblxuICAgIGdldENvbnRleHQgPSBub29wR2V0Q29udGV4dDtcbiAgICBwYXJzZVN0b3AgPSBmYWxzZTtcblxuICAgIHJldHVybiByZXR1cm5FcnJvcjtcbiAgfTtcblxuICAvKipcbiAgICogU3RvcCBwYXJzaW5nLlxuICAgKi9cbiAgdGhpc1snc3RvcCddID0gZnVuY3Rpb24oKSB7XG4gICAgcGFyc2VTdG9wID0gdHJ1ZTtcbiAgfTtcblxuICAvKipcbiAgICogUGFyc2Ugc3RyaW5nLCBpbnZva2luZyBjb25maWd1cmVkIGxpc3RlbmVycyBvbiBlbGVtZW50LlxuICAgKlxuICAgKiBAcGFyYW0gIHtzdHJpbmd9IHhtbFxuICAgKi9cbiAgZnVuY3Rpb24gcGFyc2UoeG1sKSB7XG4gICAgdmFyIG5zTWF0cml4U3RhY2sgPSBpc05hbWVzcGFjZSA/IFtdIDogbnVsbCxcbiAgICAgICAgbnNNYXRyaXggPSBpc05hbWVzcGFjZSA/IGJ1aWxkTnNNYXRyaXgobnNVcmlUb1ByZWZpeCkgOiBudWxsLFxuICAgICAgICBfbnNNYXRyaXgsXG4gICAgICAgIG5vZGVTdGFjayA9IFtdLFxuICAgICAgICBhbm9ueW1vdXNOc0NvdW50ID0gMCxcbiAgICAgICAgdGFnU3RhcnQgPSBmYWxzZSxcbiAgICAgICAgdGFnRW5kID0gZmFsc2UsXG4gICAgICAgIGkgPSAwLCBqID0gMCxcbiAgICAgICAgeCwgeSwgcSwgdywgdixcbiAgICAgICAgeG1sbnMsXG4gICAgICAgIGVsZW1lbnROYW1lLFxuICAgICAgICBfZWxlbWVudE5hbWUsXG4gICAgICAgIGVsZW1lbnRQcm94eVxuICAgICAgICA7XG5cbiAgICB2YXIgYXR0cnNTdHJpbmcgPSAnJyxcbiAgICAgICAgYXR0cnNTdGFydCA9IDAsXG4gICAgICAgIGNhY2hlZEF0dHJzIC8vIGZhbHNlID0gcGFyc2VkIHdpdGggZXJyb3JzLCBudWxsID0gbmVlZHMgcGFyc2luZ1xuICAgICAgICA7XG5cbiAgICAvKipcbiAgICAgKiBQYXJzZSBhdHRyaWJ1dGVzIG9uIGRlbWFuZCBhbmQgcmV0dXJucyB0aGUgcGFyc2VkIGF0dHJpYnV0ZXMuXG4gICAgICpcbiAgICAgKiBSZXR1cm4gc2VtYW50aWNzOiAoMSkgYGZhbHNlYCBvbiBhdHRyaWJ1dGUgcGFyc2UgZXJyb3IsXG4gICAgICogKDIpIG9iamVjdCBoYXNoIG9uIGV4dHJhY3RlZCBhdHRycy5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW58T2JqZWN0fVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldEF0dHJzKCkge1xuICAgICAgaWYgKGNhY2hlZEF0dHJzICE9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBjYWNoZWRBdHRycztcbiAgICAgIH1cblxuICAgICAgdmFyIG5zVXJpLFxuICAgICAgICAgIG5zVXJpUHJlZml4LFxuICAgICAgICAgIG5zTmFtZSxcbiAgICAgICAgICBkZWZhdWx0QWxpYXMgPSBpc05hbWVzcGFjZSAmJiBuc01hdHJpeFsneG1sbnMnXSxcbiAgICAgICAgICBhdHRyTGlzdCA9IGlzTmFtZXNwYWNlICYmIG1heWJlTlMgPyBbXSA6IG51bGwsXG4gICAgICAgICAgaSA9IGF0dHJzU3RhcnQsXG4gICAgICAgICAgcyA9IGF0dHJzU3RyaW5nLFxuICAgICAgICAgIGwgPSBzLmxlbmd0aCxcbiAgICAgICAgICBoYXNOZXdNYXRyaXgsXG4gICAgICAgICAgbmV3YWxpYXMsXG4gICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgYWxpYXMsXG4gICAgICAgICAgbmFtZSxcbiAgICAgICAgICBhdHRycyA9IHt9LFxuICAgICAgICAgIHNlZW5BdHRycyA9IHt9LFxuICAgICAgICAgIHNraXBBdHRyLFxuICAgICAgICAgIHcsXG4gICAgICAgICAgajtcblxuICAgICAgcGFyc2VBdHRyOlxuICAgICAgZm9yICg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgc2tpcEF0dHIgPSBmYWxzZTtcbiAgICAgICAgdyA9IHMuY2hhckNvZGVBdChpKTtcblxuICAgICAgICBpZiAodyA9PT0gMzIgfHwgKHcgPCAxNCAmJiB3ID4gOCkpIHsgLy8gV0hJVEVTUEFDRT17IFxcZlxcblxcclxcdFxcdn1cbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHdhaXQgZm9yIG5vbiB3aGl0ZXNwYWNlIGNoYXJhY3RlclxuICAgICAgICBpZiAodyA8IDY1IHx8IHcgPiAxMjIgfHwgKHcgPiA5MCAmJiB3IDwgOTcpKSB7XG4gICAgICAgICAgaWYgKHcgIT09IDk1ICYmIHcgIT09IDU4KSB7IC8vIGNoYXIgOTVcIl9cIiA1OFwiOlwiXG4gICAgICAgICAgICBoYW5kbGVXYXJuaW5nKCdpbGxlZ2FsIGZpcnN0IGNoYXIgYXR0cmlidXRlIG5hbWUnKTtcbiAgICAgICAgICAgIHNraXBBdHRyID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBwYXJzZSBhdHRyaWJ1dGUgbmFtZVxuICAgICAgICBmb3IgKGogPSBpICsgMTsgaiA8IGw7IGorKykge1xuICAgICAgICAgIHcgPSBzLmNoYXJDb2RlQXQoaik7XG5cbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICB3ID4gOTYgJiYgdyA8IDEyMyB8fFxuICAgICAgICAgICAgdyA+IDY0ICYmIHcgPCA5MSB8fFxuICAgICAgICAgICAgdyA+IDQ3ICYmIHcgPCA1OSB8fFxuICAgICAgICAgICAgdyA9PT0gNDYgfHwgLy8gJy4nXG4gICAgICAgICAgICB3ID09PSA0NSB8fCAvLyAnLSdcbiAgICAgICAgICAgIHcgPT09IDk1IC8vICdfJ1xuICAgICAgICAgICkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gdW5leHBlY3RlZCB3aGl0ZXNwYWNlXG4gICAgICAgICAgaWYgKHcgPT09IDMyIHx8ICh3IDwgMTQgJiYgdyA+IDgpKSB7IC8vIFdISVRFU1BBQ0VcbiAgICAgICAgICAgIGhhbmRsZVdhcm5pbmcoJ21pc3NpbmcgYXR0cmlidXRlIHZhbHVlJyk7XG4gICAgICAgICAgICBpID0gajtcblxuICAgICAgICAgICAgY29udGludWUgcGFyc2VBdHRyO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIGV4cGVjdGVkIFwiPVwiXG4gICAgICAgICAgaWYgKHcgPT09IDYxKSB7IC8vIFwiPVwiID09IDYxXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBoYW5kbGVXYXJuaW5nKCdpbGxlZ2FsIGF0dHJpYnV0ZSBuYW1lIGNoYXInKTtcbiAgICAgICAgICBza2lwQXR0ciA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBuYW1lID0gcy5zdWJzdHJpbmcoaSwgaik7XG5cbiAgICAgICAgaWYgKG5hbWUgPT09ICd4bWxuczp4bWxucycpIHtcbiAgICAgICAgICBoYW5kbGVXYXJuaW5nKCdpbGxlZ2FsIGRlY2xhcmF0aW9uIG9mIHhtbG5zJyk7XG4gICAgICAgICAgc2tpcEF0dHIgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdyA9IHMuY2hhckNvZGVBdChqICsgMSk7XG5cbiAgICAgICAgaWYgKHcgPT09IDM0KSB7IC8vICdcIidcbiAgICAgICAgICBqID0gcy5pbmRleE9mKCdcIicsIGkgPSBqICsgMik7XG5cbiAgICAgICAgICBpZiAoaiA9PT0gLTEpIHtcbiAgICAgICAgICAgIGogPSBzLmluZGV4T2YoJ1xcJycsIGkpO1xuXG4gICAgICAgICAgICBpZiAoaiAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgaGFuZGxlV2FybmluZygnYXR0cmlidXRlIHZhbHVlIHF1b3RlIG1pc3NtYXRjaCcpO1xuICAgICAgICAgICAgICBza2lwQXR0ciA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgIH0gZWxzZSBpZiAodyA9PT0gMzkpIHsgLy8gXCInXCJcbiAgICAgICAgICBqID0gcy5pbmRleE9mKCdcXCcnLCBpID0gaiArIDIpO1xuXG4gICAgICAgICAgaWYgKGogPT09IC0xKSB7XG4gICAgICAgICAgICBqID0gcy5pbmRleE9mKCdcIicsIGkpO1xuXG4gICAgICAgICAgICBpZiAoaiAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgaGFuZGxlV2FybmluZygnYXR0cmlidXRlIHZhbHVlIHF1b3RlIG1pc3NtYXRjaCcpO1xuICAgICAgICAgICAgICBza2lwQXR0ciA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaGFuZGxlV2FybmluZygnbWlzc2luZyBhdHRyaWJ1dGUgdmFsdWUgcXVvdGVzJyk7XG4gICAgICAgICAgc2tpcEF0dHIgPSB0cnVlO1xuXG4gICAgICAgICAgLy8gc2tpcCB0byBuZXh0IHNwYWNlXG4gICAgICAgICAgZm9yIChqID0gaiArIDE7IGogPCBsOyBqKyspIHtcbiAgICAgICAgICAgIHcgPSBzLmNoYXJDb2RlQXQoaiArIDEpO1xuXG4gICAgICAgICAgICBpZiAodyA9PT0gMzIgfHwgKHcgPCAxNCAmJiB3ID4gOCkpIHsgLy8gV0hJVEVTUEFDRVxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChqID09PSAtMSkge1xuICAgICAgICAgIGhhbmRsZVdhcm5pbmcoJ21pc3NpbmcgY2xvc2luZyBxdW90ZXMnKTtcblxuICAgICAgICAgIGogPSBsO1xuICAgICAgICAgIHNraXBBdHRyID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghc2tpcEF0dHIpIHtcbiAgICAgICAgICB2YWx1ZSA9IHMuc3Vic3RyaW5nKGksIGopO1xuICAgICAgICB9XG5cbiAgICAgICAgaSA9IGo7XG5cbiAgICAgICAgLy8gZW5zdXJlIFNQQUNFIGZvbGxvd3MgYXR0cmlidXRlXG4gICAgICAgIC8vIHNraXAgaWxsZWdhbCBjb250ZW50IG90aGVyd2lzZVxuICAgICAgICAvLyBleGFtcGxlIGE9XCJiXCJjXG4gICAgICAgIGZvciAoOyBqICsgMSA8IGw7IGorKykge1xuICAgICAgICAgIHcgPSBzLmNoYXJDb2RlQXQoaiArIDEpO1xuXG4gICAgICAgICAgaWYgKHcgPT09IDMyIHx8ICh3IDwgMTQgJiYgdyA+IDgpKSB7IC8vIFdISVRFU1BBQ0VcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIEZJUlNUIElMTEVHQUwgQ0hBUlxuICAgICAgICAgIGlmIChpID09PSBqKSB7XG4gICAgICAgICAgICBoYW5kbGVXYXJuaW5nKCdpbGxlZ2FsIGNoYXJhY3RlciBhZnRlciBhdHRyaWJ1dGUgZW5kJyk7XG4gICAgICAgICAgICBza2lwQXR0ciA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gYWR2YW5jZSBjdXJzb3IgdG8gbmV4dCBhdHRyaWJ1dGVcbiAgICAgICAgaSA9IGogKyAxO1xuXG4gICAgICAgIGlmIChza2lwQXR0cikge1xuICAgICAgICAgIGNvbnRpbnVlIHBhcnNlQXR0cjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNoZWNrIGF0dHJpYnV0ZSByZS1kZWNsYXJhdGlvblxuICAgICAgICBpZiAobmFtZSBpbiBzZWVuQXR0cnMpIHtcbiAgICAgICAgICBoYW5kbGVXYXJuaW5nKCdhdHRyaWJ1dGUgPCcgKyBuYW1lICsgJz4gYWxyZWFkeSBkZWZpbmVkJyk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBzZWVuQXR0cnNbbmFtZV0gPSB0cnVlO1xuXG4gICAgICAgIGlmICghaXNOYW1lc3BhY2UpIHtcbiAgICAgICAgICBhdHRyc1tuYW1lXSA9IHZhbHVlO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdHJ5IHRvIGV4dHJhY3QgbmFtZXNwYWNlIGluZm9ybWF0aW9uXG4gICAgICAgIGlmIChtYXliZU5TKSB7XG4gICAgICAgICAgbmV3YWxpYXMgPSAoXG4gICAgICAgICAgICBuYW1lID09PSAneG1sbnMnXG4gICAgICAgICAgICAgID8gJ3htbG5zJ1xuICAgICAgICAgICAgICA6IChuYW1lLmNoYXJDb2RlQXQoMCkgPT09IDEyMCAmJiBuYW1lLnN1YnN0cigwLCA2KSA9PT0gJ3htbG5zOicpXG4gICAgICAgICAgICAgICAgPyBuYW1lLnN1YnN0cig2KVxuICAgICAgICAgICAgICAgIDogbnVsbFxuICAgICAgICAgICk7XG5cbiAgICAgICAgICAvLyBoYW5kbGUgeG1sbnMoOmFsaWFzKSBhc3NpZ25tZW50XG4gICAgICAgICAgaWYgKG5ld2FsaWFzICE9PSBudWxsKSB7XG4gICAgICAgICAgICBuc1VyaSA9IGRlY29kZUVudGl0aWVzKHZhbHVlKTtcbiAgICAgICAgICAgIG5zVXJpUHJlZml4ID0gdXJpUHJlZml4KG5ld2FsaWFzKTtcblxuICAgICAgICAgICAgYWxpYXMgPSBuc1VyaVRvUHJlZml4W25zVXJpXTtcblxuICAgICAgICAgICAgaWYgKCFhbGlhcykge1xuXG4gICAgICAgICAgICAgIC8vIG5vIHByZWZpeCBkZWZpbmVkIG9yIHByZWZpeCBjb2xsaXNpb25cbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIChuZXdhbGlhcyA9PT0gJ3htbG5zJykgfHxcbiAgICAgICAgICAgICAgICAobnNVcmlQcmVmaXggaW4gbnNNYXRyaXggJiYgbnNNYXRyaXhbbnNVcmlQcmVmaXhdICE9PSBuc1VyaSlcbiAgICAgICAgICAgICAgKSB7XG5cbiAgICAgICAgICAgICAgICAvLyBhbG9jYXRlIGZyZWUgbnMgcHJlZml4XG4gICAgICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgICAgYWxpYXMgPSAnbnMnICsgKGFub255bW91c05zQ291bnQrKyk7XG4gICAgICAgICAgICAgICAgfSB3aGlsZSAodHlwZW9mIG5zTWF0cml4W2FsaWFzXSAhPT0gJ3VuZGVmaW5lZCcpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGFsaWFzID0gbmV3YWxpYXM7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBuc1VyaVRvUHJlZml4W25zVXJpXSA9IGFsaWFzO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobnNNYXRyaXhbbmV3YWxpYXNdICE9PSBhbGlhcykge1xuICAgICAgICAgICAgICBpZiAoIWhhc05ld01hdHJpeCkge1xuICAgICAgICAgICAgICAgIG5zTWF0cml4ID0gY2xvbmVOc01hdHJpeChuc01hdHJpeCk7XG4gICAgICAgICAgICAgICAgaGFzTmV3TWF0cml4ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIG5zTWF0cml4W25ld2FsaWFzXSA9IGFsaWFzO1xuICAgICAgICAgICAgICBpZiAobmV3YWxpYXMgPT09ICd4bWxucycpIHtcbiAgICAgICAgICAgICAgICBuc01hdHJpeFt1cmlQcmVmaXgoYWxpYXMpXSA9IG5zVXJpO1xuICAgICAgICAgICAgICAgIGRlZmF1bHRBbGlhcyA9IGFsaWFzO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgbnNNYXRyaXhbbnNVcmlQcmVmaXhdID0gbnNVcmk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGV4cG9zZSB4bWxucyg6YXNkKT1cIi4uLlwiIGluIGF0dHJpYnV0ZXNcbiAgICAgICAgICAgIGF0dHJzW25hbWVdID0gdmFsdWU7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBjb2xsZWN0IGF0dHJpYnV0ZXMgdW50aWwgYWxsIG5hbWVzcGFjZVxuICAgICAgICAgIC8vIGRlY2xhcmF0aW9ucyBhcmUgcHJvY2Vzc2VkXG4gICAgICAgICAgYXR0ckxpc3QucHVzaChuYW1lLCB2YWx1ZSk7XG4gICAgICAgICAgY29udGludWU7XG5cbiAgICAgICAgfSAvKiogZW5kIGlmIChtYXliZU5zKSAqL1xuXG4gICAgICAgIC8vIGhhbmRsZSBhdHRyaWJ1dGVzIG9uIGVsZW1lbnQgd2l0aG91dFxuICAgICAgICAvLyBuYW1lc3BhY2UgZGVjbGFyYXRpb25zXG4gICAgICAgIHcgPSBuYW1lLmluZGV4T2YoJzonKTtcbiAgICAgICAgaWYgKHcgPT09IC0xKSB7XG4gICAgICAgICAgYXR0cnNbbmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG5vcm1hbGl6ZSBucyBhdHRyaWJ1dGUgbmFtZVxuICAgICAgICBpZiAoIShuc05hbWUgPSBuc01hdHJpeFtuYW1lLnN1YnN0cmluZygwLCB3KV0pKSB7XG4gICAgICAgICAgaGFuZGxlV2FybmluZyhtaXNzaW5nTmFtZXNwYWNlRm9yUHJlZml4KG5hbWUuc3Vic3RyaW5nKDAsIHcpKSk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBuYW1lID0gZGVmYXVsdEFsaWFzID09PSBuc05hbWVcbiAgICAgICAgICA/IG5hbWUuc3Vic3RyKHcgKyAxKVxuICAgICAgICAgIDogbnNOYW1lICsgbmFtZS5zdWJzdHIodyk7XG5cbiAgICAgICAgLy8gZW5kOiBub3JtYWxpemUgbnMgYXR0cmlidXRlIG5hbWVcblxuICAgICAgICAvLyBub3JtYWxpemUgeHNpOnR5cGUgbnMgYXR0cmlidXRlIHZhbHVlXG4gICAgICAgIGlmIChuYW1lID09PSBYU0lfVFlQRSkge1xuICAgICAgICAgIHcgPSB2YWx1ZS5pbmRleE9mKCc6Jyk7XG5cbiAgICAgICAgICBpZiAodyAhPT0gLTEpIHtcbiAgICAgICAgICAgIG5zTmFtZSA9IHZhbHVlLnN1YnN0cmluZygwLCB3KTtcblxuICAgICAgICAgICAgLy8gaGFuZGxlIGRlZmF1bHQgcHJlZml4ZXMsIGkuZS4geHM6U3RyaW5nIGdyYWNlZnVsbHlcbiAgICAgICAgICAgIG5zTmFtZSA9IG5zTWF0cml4W25zTmFtZV0gfHwgbnNOYW1lO1xuICAgICAgICAgICAgdmFsdWUgPSBuc05hbWUgKyB2YWx1ZS5zdWJzdHJpbmcodyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhbHVlID0gZGVmYXVsdEFsaWFzICsgJzonICsgdmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gZW5kOiBub3JtYWxpemUgeHNpOnR5cGUgbnMgYXR0cmlidXRlIHZhbHVlXG5cbiAgICAgICAgYXR0cnNbbmFtZV0gPSB2YWx1ZTtcbiAgICAgIH1cblxuXG4gICAgICAvLyBoYW5kbGUgZGVmZXJyZWQsIHBvc3NpYmx5IG5hbWVzcGFjZWQgYXR0cmlidXRlc1xuICAgICAgaWYgKG1heWJlTlMpIHtcblxuICAgICAgICAvLyBub3JtYWxpemUgY2FwdHVyZWQgYXR0cmlidXRlc1xuICAgICAgICBmb3IgKGkgPSAwLCBsID0gYXR0ckxpc3QubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG5cbiAgICAgICAgICBuYW1lID0gYXR0ckxpc3RbaSsrXTtcbiAgICAgICAgICB2YWx1ZSA9IGF0dHJMaXN0W2ldO1xuXG4gICAgICAgICAgdyA9IG5hbWUuaW5kZXhPZignOicpO1xuXG4gICAgICAgICAgaWYgKHcgIT09IC0xKSB7XG5cbiAgICAgICAgICAgIC8vIG5vcm1hbGl6ZSBucyBhdHRyaWJ1dGUgbmFtZVxuICAgICAgICAgICAgaWYgKCEobnNOYW1lID0gbnNNYXRyaXhbbmFtZS5zdWJzdHJpbmcoMCwgdyldKSkge1xuICAgICAgICAgICAgICBoYW5kbGVXYXJuaW5nKG1pc3NpbmdOYW1lc3BhY2VGb3JQcmVmaXgobmFtZS5zdWJzdHJpbmcoMCwgdykpKTtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG5hbWUgPSBkZWZhdWx0QWxpYXMgPT09IG5zTmFtZVxuICAgICAgICAgICAgICA/IG5hbWUuc3Vic3RyKHcgKyAxKVxuICAgICAgICAgICAgICA6IG5zTmFtZSArIG5hbWUuc3Vic3RyKHcpO1xuXG4gICAgICAgICAgICAvLyBlbmQ6IG5vcm1hbGl6ZSBucyBhdHRyaWJ1dGUgbmFtZVxuXG4gICAgICAgICAgICAvLyBub3JtYWxpemUgeHNpOnR5cGUgbnMgYXR0cmlidXRlIHZhbHVlXG4gICAgICAgICAgICBpZiAobmFtZSA9PT0gWFNJX1RZUEUpIHtcbiAgICAgICAgICAgICAgdyA9IHZhbHVlLmluZGV4T2YoJzonKTtcblxuICAgICAgICAgICAgICBpZiAodyAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBuc05hbWUgPSB2YWx1ZS5zdWJzdHJpbmcoMCwgdyk7XG5cbiAgICAgICAgICAgICAgICAvLyBoYW5kbGUgZGVmYXVsdCBwcmVmaXhlcywgaS5lLiB4czpTdHJpbmcgZ3JhY2VmdWxseVxuICAgICAgICAgICAgICAgIG5zTmFtZSA9IG5zTWF0cml4W25zTmFtZV0gfHwgbnNOYW1lO1xuICAgICAgICAgICAgICAgIHZhbHVlID0gbnNOYW1lICsgdmFsdWUuc3Vic3RyaW5nKHcpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gZGVmYXVsdEFsaWFzICsgJzonICsgdmFsdWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gZW5kOiBub3JtYWxpemUgeHNpOnR5cGUgbnMgYXR0cmlidXRlIHZhbHVlXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYXR0cnNbbmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGVuZDogbm9ybWFsaXplIGNhcHR1cmVkIGF0dHJpYnV0ZXNcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNhY2hlZEF0dHJzID0gYXR0cnM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXh0cmFjdCB0aGUgcGFyc2UgY29udGV4dCB7IGxpbmUsIGNvbHVtbiwgcGFydCB9XG4gICAgICogZnJvbSB0aGUgY3VycmVudCBwYXJzZXIgcG9zaXRpb24uXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IHBhcnNlIGNvbnRleHRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRQYXJzZUNvbnRleHQoKSB7XG4gICAgICB2YXIgc3BsaXRzUmUgPSAvKFxcclxcbnxcXHJ8XFxuKS9nO1xuXG4gICAgICB2YXIgbGluZSA9IDA7XG4gICAgICB2YXIgY29sdW1uID0gMDtcbiAgICAgIHZhciBzdGFydE9mTGluZSA9IDA7XG4gICAgICB2YXIgZW5kT2ZMaW5lID0gajtcbiAgICAgIHZhciBtYXRjaDtcbiAgICAgIHZhciBkYXRhO1xuXG4gICAgICB3aGlsZSAoaSA+PSBzdGFydE9mTGluZSkge1xuXG4gICAgICAgIG1hdGNoID0gc3BsaXRzUmUuZXhlYyh4bWwpO1xuXG4gICAgICAgIGlmICghbWF0Y2gpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGVuZCBvZiBsaW5lID0gKGJyZWFrIGlkeCArIGJyZWFrIGNoYXJzKVxuICAgICAgICBlbmRPZkxpbmUgPSBtYXRjaFswXS5sZW5ndGggKyBtYXRjaC5pbmRleDtcblxuICAgICAgICBpZiAoZW5kT2ZMaW5lID4gaSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYWR2YW5jZSB0byBuZXh0IGxpbmVcbiAgICAgICAgbGluZSArPSAxO1xuXG4gICAgICAgIHN0YXJ0T2ZMaW5lID0gZW5kT2ZMaW5lO1xuICAgICAgfVxuXG4gICAgICAvLyBFT0YgZXJyb3JzXG4gICAgICBpZiAoaSA9PSAtMSkge1xuICAgICAgICBjb2x1bW4gPSBlbmRPZkxpbmU7XG4gICAgICAgIGRhdGEgPSB4bWwuc3Vic3RyaW5nKGopO1xuICAgICAgfSBlbHNlXG5cbiAgICAgIC8vIHN0YXJ0IGVycm9yc1xuICAgICAgaWYgKGogPT09IDApIHtcbiAgICAgICAgZGF0YSA9IHhtbC5zdWJzdHJpbmcoaiwgaSk7XG4gICAgICB9XG5cbiAgICAgIC8vIG90aGVyIGVycm9yc1xuICAgICAgZWxzZSB7XG4gICAgICAgIGNvbHVtbiA9IGkgLSBzdGFydE9mTGluZTtcbiAgICAgICAgZGF0YSA9IChqID09IC0xID8geG1sLnN1YnN0cmluZyhpKSA6IHhtbC5zdWJzdHJpbmcoaSwgaiArIDEpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgJ2RhdGEnOiBkYXRhLFxuICAgICAgICAnbGluZSc6IGxpbmUsXG4gICAgICAgICdjb2x1bW4nOiBjb2x1bW5cbiAgICAgIH07XG4gICAgfVxuXG4gICAgZ2V0Q29udGV4dCA9IGdldFBhcnNlQ29udGV4dDtcblxuXG4gICAgaWYgKHByb3h5KSB7XG4gICAgICBlbGVtZW50UHJveHkgPSBPYmplY3QuY3JlYXRlKHt9LCB7XG4gICAgICAgICduYW1lJzogZ2V0dGVyKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBlbGVtZW50TmFtZTtcbiAgICAgICAgfSksXG4gICAgICAgICdvcmlnaW5hbE5hbWUnOiBnZXR0ZXIoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIF9lbGVtZW50TmFtZTtcbiAgICAgICAgfSksXG4gICAgICAgICdhdHRycyc6IGdldHRlcihnZXRBdHRycyksXG4gICAgICAgICducyc6IGdldHRlcihmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gbnNNYXRyaXg7XG4gICAgICAgIH0pXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBhY3R1YWwgcGFyc2UgbG9naWNcbiAgICB3aGlsZSAoaiAhPT0gLTEpIHtcblxuICAgICAgaWYgKHhtbC5jaGFyQ29kZUF0KGopID09PSA2MCkgeyAvLyBcIjxcIlxuICAgICAgICBpID0gajtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGkgPSB4bWwuaW5kZXhPZignPCcsIGopO1xuICAgICAgfVxuXG4gICAgICAvLyBwYXJzZSBlbmRcbiAgICAgIGlmIChpID09PSAtMSkge1xuICAgICAgICBpZiAobm9kZVN0YWNrLmxlbmd0aCkge1xuICAgICAgICAgIHJldHVybiBoYW5kbGVFcnJvcigndW5leHBlY3RlZCBlbmQgb2YgZmlsZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGogPT09IDApIHtcbiAgICAgICAgICByZXR1cm4gaGFuZGxlRXJyb3IoJ21pc3Npbmcgc3RhcnQgdGFnJyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaiA8IHhtbC5sZW5ndGgpIHtcbiAgICAgICAgICBpZiAoeG1sLnN1YnN0cmluZyhqKS50cmltKCkpIHtcbiAgICAgICAgICAgIGhhbmRsZVdhcm5pbmcoTk9OX1dISVRFU1BBQ0VfT1VUU0lERV9ST09UX05PREUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gcGFyc2UgdGV4dFxuICAgICAgaWYgKGogIT09IGkpIHtcblxuICAgICAgICBpZiAobm9kZVN0YWNrLmxlbmd0aCkge1xuICAgICAgICAgIGlmIChvblRleHQpIHtcbiAgICAgICAgICAgIG9uVGV4dCh4bWwuc3Vic3RyaW5nKGosIGkpLCBkZWNvZGVFbnRpdGllcywgZ2V0Q29udGV4dCk7XG5cbiAgICAgICAgICAgIGlmIChwYXJzZVN0b3ApIHtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoeG1sLnN1YnN0cmluZyhqLCBpKS50cmltKCkpIHtcbiAgICAgICAgICAgIGhhbmRsZVdhcm5pbmcoTk9OX1dISVRFU1BBQ0VfT1VUU0lERV9ST09UX05PREUpO1xuXG4gICAgICAgICAgICBpZiAocGFyc2VTdG9wKSB7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdyA9IHhtbC5jaGFyQ29kZUF0KGkrMSk7XG5cbiAgICAgIC8vIHBhcnNlIGNvbW1lbnRzICsgQ0RBVEFcbiAgICAgIGlmICh3ID09PSAzMykgeyAvLyBcIiFcIlxuICAgICAgICBxID0geG1sLmNoYXJDb2RlQXQoaSsyKTtcblxuICAgICAgICAvLyBDREFUQSBzZWN0aW9uXG4gICAgICAgIGlmIChxID09PSA5MSAmJiB4bWwuc3Vic3RyKGkgKyAzLCA2KSA9PT0gJ0NEQVRBWycpIHsgLy8gOTEgPT0gXCJbXCJcbiAgICAgICAgICBqID0geG1sLmluZGV4T2YoJ11dPicsIGkpO1xuICAgICAgICAgIGlmIChqID09PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZUVycm9yKCd1bmNsb3NlZCBjZGF0YScpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChvbkNEQVRBKSB7XG4gICAgICAgICAgICBvbkNEQVRBKHhtbC5zdWJzdHJpbmcoaSArIDksIGopLCBnZXRDb250ZXh0KTtcbiAgICAgICAgICAgIGlmIChwYXJzZVN0b3ApIHtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGogKz0gMztcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNvbW1lbnRcbiAgICAgICAgaWYgKHEgPT09IDQ1ICYmIHhtbC5jaGFyQ29kZUF0KGkgKyAzKSA9PT0gNDUpIHsgLy8gNDUgPT0gXCItXCJcbiAgICAgICAgICBqID0geG1sLmluZGV4T2YoJy0tPicsIGkpO1xuICAgICAgICAgIGlmIChqID09PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZUVycm9yKCd1bmNsb3NlZCBjb21tZW50Jyk7XG4gICAgICAgICAgfVxuXG5cbiAgICAgICAgICBpZiAob25Db21tZW50KSB7XG4gICAgICAgICAgICBvbkNvbW1lbnQoeG1sLnN1YnN0cmluZyhpICsgNCwgaiksIGRlY29kZUVudGl0aWVzLCBnZXRDb250ZXh0KTtcbiAgICAgICAgICAgIGlmIChwYXJzZVN0b3ApIHtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGogKz0gMztcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBwYXJzZSBxdWVzdGlvbiA8PyAuLi4gPz5cbiAgICAgIGlmICh3ID09PSA2MykgeyAvLyBcIj9cIlxuICAgICAgICBqID0geG1sLmluZGV4T2YoJz8+JywgaSk7XG4gICAgICAgIGlmIChqID09PSAtMSkge1xuICAgICAgICAgIHJldHVybiBoYW5kbGVFcnJvcigndW5jbG9zZWQgcXVlc3Rpb24nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvblF1ZXN0aW9uKSB7XG4gICAgICAgICAgb25RdWVzdGlvbih4bWwuc3Vic3RyaW5nKGksIGogKyAyKSwgZ2V0Q29udGV4dCk7XG4gICAgICAgICAgaWYgKHBhcnNlU3RvcCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGogKz0gMjtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIC8vIGZpbmQgbWF0Y2hpbmcgY2xvc2luZyB0YWcgZm9yIGF0dGVudGlvbiBvciBzdGFuZGFyZCB0YWdzXG4gICAgICAvLyBmb3IgdGhhdCB3ZSBtdXN0IHNraXAgdGhyb3VnaCBhdHRyaWJ1dGUgdmFsdWVzXG4gICAgICAvLyAoZW5jbG9zZWQgaW4gc2luZ2xlIG9yIGRvdWJsZSBxdW90ZXMpXG4gICAgICBmb3IgKHggPSBpICsgMTsgOyB4KyspIHtcbiAgICAgICAgdiA9IHhtbC5jaGFyQ29kZUF0KHgpO1xuICAgICAgICBpZiAoaXNOYU4odikpIHtcbiAgICAgICAgICBqID0gLTE7XG4gICAgICAgICAgcmV0dXJuIGhhbmRsZUVycm9yKCd1bmNsb3NlZCB0YWcnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFsxMF0gQXR0VmFsdWUgOjo9ICdcIicgKFtePCZcIl0gfCBSZWZlcmVuY2UpKiAnXCInIHwgXCInXCIgKFtePCYnXSB8IFJlZmVyZW5jZSkqIFwiJ1wiXG4gICAgICAgIC8vIHNraXBzIHRoZSBxdW90ZWQgc3RyaW5nXG4gICAgICAgIC8vIChkb3VibGUgcXVvdGVzKSBkb2VzIG5vdCBhcHBlYXIgaW4gYSBsaXRlcmFsIGVuY2xvc2VkIGJ5IChkb3VibGUgcXVvdGVzKVxuICAgICAgICAvLyAoc2luZ2xlIHF1b3RlKSBkb2VzIG5vdCBhcHBlYXIgaW4gYSBsaXRlcmFsIGVuY2xvc2VkIGJ5IChzaW5nbGUgcXVvdGUpXG4gICAgICAgIGlmICh2ID09PSAzNCkgeyAvLyAgJ1wiJ1xuICAgICAgICAgIHEgPSB4bWwuaW5kZXhPZignXCInLCB4ICsgMSk7XG4gICAgICAgICAgeCA9IHEgIT09IC0xID8gcSA6IHg7XG4gICAgICAgIH0gZWxzZSBpZiAodiA9PT0gMzkpIHsgLy8gXCInXCJcbiAgICAgICAgICBxID0geG1sLmluZGV4T2YoXCInXCIsIHggKyAxKTtcbiAgICAgICAgICB4ID0gcSAhPT0gLTEgPyBxIDogeDtcbiAgICAgICAgfSBlbHNlIGlmICh2ID09PSA2MikgeyAvLyAnPidcbiAgICAgICAgICBqID0geDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG5cbiAgICAgIC8vIHBhcnNlIGF0dGVudGlvbiA8ISAuLi4+XG4gICAgICAvLyBwcmV2aW91c2x5IGNvbW1lbnQgYW5kIENEQVRBIGhhdmUgYWxyZWFkeSBiZWVuIHBhcnNlZFxuICAgICAgaWYgKHcgPT09IDMzKSB7IC8vIFwiIVwiXG5cbiAgICAgICAgaWYgKG9uQXR0ZW50aW9uKSB7XG4gICAgICAgICAgb25BdHRlbnRpb24oeG1sLnN1YnN0cmluZyhpLCBqICsgMSksIGRlY29kZUVudGl0aWVzLCBnZXRDb250ZXh0KTtcbiAgICAgICAgICBpZiAocGFyc2VTdG9wKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaiArPSAxO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgLy8gZG9uJ3QgcHJvY2VzcyBhdHRyaWJ1dGVzO1xuICAgICAgLy8gdGhlcmUgYXJlIG5vbmVcbiAgICAgIGNhY2hlZEF0dHJzID0ge307XG5cbiAgICAgIC8vIGlmICh4bWwuY2hhckNvZGVBdChpKzEpID09PSA0NykgeyAvLyA8Ly4uLlxuICAgICAgaWYgKHcgPT09IDQ3KSB7IC8vIDwvLi4uXG4gICAgICAgIHRhZ1N0YXJ0ID0gZmFsc2U7XG4gICAgICAgIHRhZ0VuZCA9IHRydWU7XG5cbiAgICAgICAgaWYgKCFub2RlU3RhY2subGVuZ3RoKSB7XG4gICAgICAgICAgcmV0dXJuIGhhbmRsZUVycm9yKCdtaXNzaW5nIG9wZW4gdGFnJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB2ZXJpZnkgb3BlbiA8LT4gY2xvc2UgdGFnIG1hdGNoXG4gICAgICAgIHggPSBlbGVtZW50TmFtZSA9IG5vZGVTdGFjay5wb3AoKTtcbiAgICAgICAgcSA9IGkgKyAyICsgeC5sZW5ndGg7XG5cbiAgICAgICAgaWYgKHhtbC5zdWJzdHJpbmcoaSArIDIsIHEpICE9PSB4KSB7XG4gICAgICAgICAgcmV0dXJuIGhhbmRsZUVycm9yKCdjbG9zaW5nIHRhZyBtaXNtYXRjaCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdmVyaWZ5IGNoYXJzIGluIGNsb3NlIHRhZ1xuICAgICAgICBmb3IgKDsgcSA8IGo7IHErKykge1xuICAgICAgICAgIHcgPSB4bWwuY2hhckNvZGVBdChxKTtcblxuICAgICAgICAgIGlmICh3ID09PSAzMiB8fCAodyA+IDggJiYgdyA8IDE0KSkgeyAvLyBcXGZcXG5cXHJcXHRcXHYgc3BhY2VcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBoYW5kbGVFcnJvcignY2xvc2UgdGFnJyk7XG4gICAgICAgIH1cblxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHhtbC5jaGFyQ29kZUF0KGogLSAxKSA9PT0gNDcpIHsgLy8gLi4uLz5cbiAgICAgICAgICB4ID0gZWxlbWVudE5hbWUgPSB4bWwuc3Vic3RyaW5nKGkgKyAxLCBqIC0gMSk7XG5cbiAgICAgICAgICB0YWdTdGFydCA9IHRydWU7XG4gICAgICAgICAgdGFnRW5kID0gdHJ1ZTtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHggPSBlbGVtZW50TmFtZSA9IHhtbC5zdWJzdHJpbmcoaSArIDEsIGopO1xuXG4gICAgICAgICAgdGFnU3RhcnQgPSB0cnVlO1xuICAgICAgICAgIHRhZ0VuZCA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCEodyA+IDk2ICYmIHcgPCAxMjMgfHwgdyA+IDY0ICYmIHcgPCA5MSB8fCB3ID09PSA5NSB8fCB3ID09PSA1OCkpIHsgLy8gY2hhciA5NVwiX1wiIDU4XCI6XCJcbiAgICAgICAgICByZXR1cm4gaGFuZGxlRXJyb3IoJ2lsbGVnYWwgZmlyc3QgY2hhciBub2RlTmFtZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChxID0gMSwgeSA9IHgubGVuZ3RoOyBxIDwgeTsgcSsrKSB7XG4gICAgICAgICAgdyA9IHguY2hhckNvZGVBdChxKTtcblxuICAgICAgICAgIGlmICh3ID4gOTYgJiYgdyA8IDEyMyB8fCB3ID4gNjQgJiYgdyA8IDkxIHx8IHcgPiA0NyAmJiB3IDwgNTkgfHwgdyA9PT0gNDUgfHwgdyA9PT0gOTUgfHwgdyA9PSA0Nikge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHcgPT09IDMyIHx8ICh3IDwgMTQgJiYgdyA+IDgpKSB7IC8vIFxcZlxcblxcclxcdFxcdiBzcGFjZVxuICAgICAgICAgICAgZWxlbWVudE5hbWUgPSB4LnN1YnN0cmluZygwLCBxKTtcblxuICAgICAgICAgICAgLy8gbWF5YmUgdGhlcmUgYXJlIGF0dHJpYnV0ZXNcbiAgICAgICAgICAgIGNhY2hlZEF0dHJzID0gbnVsbDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBoYW5kbGVFcnJvcignaW52YWxpZCBub2RlTmFtZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0YWdFbmQpIHtcbiAgICAgICAgICBub2RlU3RhY2sucHVzaChlbGVtZW50TmFtZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGlzTmFtZXNwYWNlKSB7XG5cbiAgICAgICAgX25zTWF0cml4ID0gbnNNYXRyaXg7XG5cbiAgICAgICAgaWYgKHRhZ1N0YXJ0KSB7XG5cbiAgICAgICAgICAvLyByZW1lbWJlciBvbGQgbmFtZXNwYWNlXG4gICAgICAgICAgLy8gdW5sZXNzIHdlJ3JlIHNlbGYtY2xvc2luZ1xuICAgICAgICAgIGlmICghdGFnRW5kKSB7XG4gICAgICAgICAgICBuc01hdHJpeFN0YWNrLnB1c2goX25zTWF0cml4KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoY2FjaGVkQXR0cnMgPT09IG51bGwpIHtcblxuICAgICAgICAgICAgLy8gcXVpY2sgY2hlY2ssIHdoZXRoZXIgdGhlcmUgbWF5IGJlIG5hbWVzcGFjZVxuICAgICAgICAgICAgLy8gZGVjbGFyYXRpb25zIG9uIHRoZSBub2RlOyBpZiB0aGF0IGlzIHRoZSBjYXNlXG4gICAgICAgICAgICAvLyB3ZSBuZWVkIHRvIGVhZ2VybHkgcGFyc2UgdGhlIG5vZGUgYXR0cmlidXRlc1xuICAgICAgICAgICAgaWYgKChtYXliZU5TID0geC5pbmRleE9mKCd4bWxucycsIHEpICE9PSAtMSkpIHtcbiAgICAgICAgICAgICAgYXR0cnNTdGFydCA9IHE7XG4gICAgICAgICAgICAgIGF0dHJzU3RyaW5nID0geDtcblxuICAgICAgICAgICAgICBnZXRBdHRycygpO1xuXG4gICAgICAgICAgICAgIG1heWJlTlMgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBfZWxlbWVudE5hbWUgPSBlbGVtZW50TmFtZTtcblxuICAgICAgICB3ID0gZWxlbWVudE5hbWUuaW5kZXhPZignOicpO1xuICAgICAgICBpZiAodyAhPT0gLTEpIHtcbiAgICAgICAgICB4bWxucyA9IG5zTWF0cml4W2VsZW1lbnROYW1lLnN1YnN0cmluZygwLCB3KV07XG5cbiAgICAgICAgICAvLyBwcmVmaXggZ2l2ZW47IG5hbWVzcGFjZSBtdXN0IGV4aXN0XG4gICAgICAgICAgaWYgKCF4bWxucykge1xuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZUVycm9yKCdtaXNzaW5nIG5hbWVzcGFjZSBvbiA8JyArIF9lbGVtZW50TmFtZSArICc+Jyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZWxlbWVudE5hbWUgPSBlbGVtZW50TmFtZS5zdWJzdHIodyArIDEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHhtbG5zID0gbnNNYXRyaXhbJ3htbG5zJ107XG5cbiAgICAgICAgICAvLyBpZiBubyBkZWZhdWx0IG5hbWVzcGFjZSBpcyBkZWZpbmVkLFxuICAgICAgICAgIC8vIHdlJ2xsIGltcG9ydCB0aGUgZWxlbWVudCBhcyBhbm9ueW1vdXMuXG4gICAgICAgICAgLy9cbiAgICAgICAgICAvLyBpdCBpcyB1cCB0byB1c2VycyB0byBjb3JyZWN0IHRoYXQgdG8gdGhlIGRvY3VtZW50IGRlZmluZWRcbiAgICAgICAgICAvLyB0YXJnZXROYW1lc3BhY2UsIG9yIHdoYXRldmVyIHRoZWlyIHVuZGVyc2FuZGluZyBvZiB0aGVcbiAgICAgICAgICAvLyBYTUwgc3BlYyBtYW5kYXRlcy5cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGFkanVzdCBuYW1lc3BhY2UgcHJlZml4cyBhcyBjb25maWd1cmVkXG4gICAgICAgIGlmICh4bWxucykge1xuICAgICAgICAgIGVsZW1lbnROYW1lID0geG1sbnMgKyAnOicgKyBlbGVtZW50TmFtZTtcbiAgICAgICAgfVxuXG4gICAgICB9XG5cbiAgICAgIGlmICh0YWdTdGFydCkge1xuICAgICAgICBhdHRyc1N0YXJ0ID0gcTtcbiAgICAgICAgYXR0cnNTdHJpbmcgPSB4O1xuXG4gICAgICAgIGlmIChvbk9wZW5UYWcpIHtcbiAgICAgICAgICBpZiAocHJveHkpIHtcbiAgICAgICAgICAgIG9uT3BlblRhZyhlbGVtZW50UHJveHksIGRlY29kZUVudGl0aWVzLCB0YWdFbmQsIGdldENvbnRleHQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvbk9wZW5UYWcoZWxlbWVudE5hbWUsIGdldEF0dHJzLCBkZWNvZGVFbnRpdGllcywgdGFnRW5kLCBnZXRDb250ZXh0KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAocGFyc2VTdG9wKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgIH1cblxuICAgICAgaWYgKHRhZ0VuZCkge1xuXG4gICAgICAgIGlmIChvbkNsb3NlVGFnKSB7XG4gICAgICAgICAgb25DbG9zZVRhZyhwcm94eSA/IGVsZW1lbnRQcm94eSA6IGVsZW1lbnROYW1lLCBkZWNvZGVFbnRpdGllcywgdGFnU3RhcnQsIGdldENvbnRleHQpO1xuXG4gICAgICAgICAgaWYgKHBhcnNlU3RvcCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJlc3RvcmUgb2xkIG5hbWVzcGFjZVxuICAgICAgICBpZiAoaXNOYW1lc3BhY2UpIHtcbiAgICAgICAgICBpZiAoIXRhZ1N0YXJ0KSB7XG4gICAgICAgICAgICBuc01hdHJpeCA9IG5zTWF0cml4U3RhY2sucG9wKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5zTWF0cml4ID0gX25zTWF0cml4O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBqICs9IDE7XG4gICAgfVxuICB9IC8qKiBlbmQgcGFyc2UgKi9cblxufVxuXG5leHBvcnQgeyBQYXJzZXIsIGRlY29kZUVudGl0aWVzIGFzIGRlY29kZSB9O1xuIiwiaW1wb3J0IHsgZm9yRWFjaCwgYXNzaWduLCBmaW5kLCBmaWx0ZXIsIGhhcywgaXNTdHJpbmcsIG1hcCB9IGZyb20gJ21pbi1kYXNoJztcbmltcG9ydCB7IFBhcnNlciB9IGZyb20gJ3NheGVuJztcbmltcG9ydCB7IGNvZXJjZVR5cGUsIHBhcnNlTmFtZU5TLCBpc1NpbXBsZVR5cGUsIE1vZGRsZSB9IGZyb20gJ21vZGRsZSc7XG5cbmZ1bmN0aW9uIGhhc0xvd2VyQ2FzZUFsaWFzKHBrZykge1xuICByZXR1cm4gcGtnLnhtbCAmJiBwa2cueG1sLnRhZ0FsaWFzID09PSAnbG93ZXJDYXNlJztcbn1cblxudmFyIERFRkFVTFRfTlNfTUFQID0ge1xuICAneHNpJzogJ2h0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hLWluc3RhbmNlJyxcbiAgJ3htbCc6ICdodHRwOi8vd3d3LnczLm9yZy9YTUwvMTk5OC9uYW1lc3BhY2UnXG59O1xuXG52YXIgWFNJX1RZUEUgPSAneHNpOnR5cGUnO1xuXG5mdW5jdGlvbiBzZXJpYWxpemVGb3JtYXQoZWxlbWVudCkge1xuICByZXR1cm4gZWxlbWVudC54bWwgJiYgZWxlbWVudC54bWwuc2VyaWFsaXplO1xufVxuXG5mdW5jdGlvbiBzZXJpYWxpemVBc1R5cGUoZWxlbWVudCkge1xuICByZXR1cm4gc2VyaWFsaXplRm9ybWF0KGVsZW1lbnQpID09PSBYU0lfVFlQRTtcbn1cblxuZnVuY3Rpb24gc2VyaWFsaXplQXNQcm9wZXJ0eShlbGVtZW50KSB7XG4gIHJldHVybiBzZXJpYWxpemVGb3JtYXQoZWxlbWVudCkgPT09ICdwcm9wZXJ0eSc7XG59XG5cbmZ1bmN0aW9uIGNhcGl0YWxpemUoc3RyKSB7XG4gIHJldHVybiBzdHIuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzdHIuc2xpY2UoMSk7XG59XG5cbmZ1bmN0aW9uIGFsaWFzVG9OYW1lKGFsaWFzTnMsIHBrZykge1xuXG4gIGlmICghaGFzTG93ZXJDYXNlQWxpYXMocGtnKSkge1xuICAgIHJldHVybiBhbGlhc05zLm5hbWU7XG4gIH1cblxuICByZXR1cm4gYWxpYXNOcy5wcmVmaXggKyAnOicgKyBjYXBpdGFsaXplKGFsaWFzTnMubG9jYWxOYW1lKTtcbn1cblxuZnVuY3Rpb24gcHJlZml4ZWRUb05hbWUobmFtZU5zLCBwa2cpIHtcblxuICB2YXIgbmFtZSA9IG5hbWVOcy5uYW1lLFxuICAgICAgbG9jYWxOYW1lID0gbmFtZU5zLmxvY2FsTmFtZTtcblxuICB2YXIgdHlwZVByZWZpeCA9IHBrZy54bWwgJiYgcGtnLnhtbC50eXBlUHJlZml4O1xuXG4gIGlmICh0eXBlUHJlZml4ICYmIGxvY2FsTmFtZS5pbmRleE9mKHR5cGVQcmVmaXgpID09PSAwKSB7XG4gICAgcmV0dXJuIG5hbWVOcy5wcmVmaXggKyAnOicgKyBsb2NhbE5hbWUuc2xpY2UodHlwZVByZWZpeC5sZW5ndGgpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBuYW1lO1xuICB9XG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZVhzaVR5cGVOYW1lKG5hbWUsIG1vZGVsKSB7XG5cbiAgdmFyIG5hbWVOcyA9IHBhcnNlTmFtZU5TKG5hbWUpO1xuICB2YXIgcGtnID0gbW9kZWwuZ2V0UGFja2FnZShuYW1lTnMucHJlZml4KTtcblxuICByZXR1cm4gcHJlZml4ZWRUb05hbWUobmFtZU5zLCBwa2cpO1xufVxuXG5mdW5jdGlvbiBlcnJvcihtZXNzYWdlKSB7XG4gIHJldHVybiBuZXcgRXJyb3IobWVzc2FnZSk7XG59XG5cbi8qKlxuICogR2V0IHRoZSBtb2RkbGUgZGVzY3JpcHRvciBmb3IgYSBnaXZlbiBpbnN0YW5jZSBvciB0eXBlLlxuICpcbiAqIEBwYXJhbSAge01vZGRsZUVsZW1lbnR8RnVuY3Rpb259IGVsZW1lbnRcbiAqXG4gKiBAcmV0dXJuIHtPYmplY3R9IHRoZSBtb2RkbGUgZGVzY3JpcHRvclxuICovXG5mdW5jdGlvbiBnZXRNb2RkbGVEZXNjcmlwdG9yKGVsZW1lbnQpIHtcbiAgcmV0dXJuIGVsZW1lbnQuJGRlc2NyaXB0b3I7XG59XG5cblxuLyoqXG4gKiBBIHBhcnNlIGNvbnRleHQuXG4gKlxuICogQGNsYXNzXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAqIEBwYXJhbSB7RWxlbWVudEhhbmRsZXJ9IG9wdGlvbnMucm9vdEhhbmRsZXIgdGhlIHJvb3QgaGFuZGxlciBmb3IgcGFyc2luZyBhIGRvY3VtZW50XG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmxheD1mYWxzZV0gd2hldGhlciBvciBub3QgdG8gaWdub3JlIGludmFsaWQgZWxlbWVudHNcbiAqL1xuZnVuY3Rpb24gQ29udGV4dChvcHRpb25zKSB7XG5cbiAgLyoqXG4gICAqIEBwcm9wZXJ0eSB7RWxlbWVudEhhbmRsZXJ9IHJvb3RIYW5kbGVyXG4gICAqL1xuXG4gIC8qKlxuICAgKiBAcHJvcGVydHkge0Jvb2xlYW59IGxheFxuICAgKi9cblxuICBhc3NpZ24odGhpcywgb3B0aW9ucyk7XG5cbiAgdGhpcy5lbGVtZW50c0J5SWQgPSB7fTtcbiAgdGhpcy5yZWZlcmVuY2VzID0gW107XG4gIHRoaXMud2FybmluZ3MgPSBbXTtcblxuICAvKipcbiAgICogQWRkIGFuIHVucmVzb2x2ZWQgcmVmZXJlbmNlLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gcmVmZXJlbmNlXG4gICAqL1xuICB0aGlzLmFkZFJlZmVyZW5jZSA9IGZ1bmN0aW9uKHJlZmVyZW5jZSkge1xuICAgIHRoaXMucmVmZXJlbmNlcy5wdXNoKHJlZmVyZW5jZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEFkZCBhIHByb2Nlc3NlZCBlbGVtZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge01vZGRsZUVsZW1lbnR9IGVsZW1lbnRcbiAgICovXG4gIHRoaXMuYWRkRWxlbWVudCA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcblxuICAgIGlmICghZWxlbWVudCkge1xuICAgICAgdGhyb3cgZXJyb3IoJ2V4cGVjdGVkIGVsZW1lbnQnKTtcbiAgICB9XG5cbiAgICB2YXIgZWxlbWVudHNCeUlkID0gdGhpcy5lbGVtZW50c0J5SWQ7XG5cbiAgICB2YXIgZGVzY3JpcHRvciA9IGdldE1vZGRsZURlc2NyaXB0b3IoZWxlbWVudCk7XG5cbiAgICB2YXIgaWRQcm9wZXJ0eSA9IGRlc2NyaXB0b3IuaWRQcm9wZXJ0eSxcbiAgICAgICAgaWQ7XG5cbiAgICBpZiAoaWRQcm9wZXJ0eSkge1xuICAgICAgaWQgPSBlbGVtZW50LmdldChpZFByb3BlcnR5Lm5hbWUpO1xuXG4gICAgICBpZiAoaWQpIHtcblxuICAgICAgICAvLyBmb3IgUU5hbWUgdmFsaWRhdGlvbiBhcyBwZXIgaHR0cDovL3d3dy53My5vcmcvVFIvUkVDLXhtbC8jTlQtTmFtZUNoYXJcbiAgICAgICAgaWYgKCEvXihbYS16XVtcXHctLl0qOik/W2Etel9dW1xcdy0uXSokL2kudGVzdChpZCkpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2lsbGVnYWwgSUQgPCcgKyBpZCArICc+Jyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZWxlbWVudHNCeUlkW2lkXSkge1xuICAgICAgICAgIHRocm93IGVycm9yKCdkdXBsaWNhdGUgSUQgPCcgKyBpZCArICc+Jyk7XG4gICAgICAgIH1cblxuICAgICAgICBlbGVtZW50c0J5SWRbaWRdID0gZWxlbWVudDtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEFkZCBhbiBpbXBvcnQgd2FybmluZy5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IHdhcm5pbmdcbiAgICogQHBhcmFtIHtTdHJpbmd9IHdhcm5pbmcubWVzc2FnZVxuICAgKiBAcGFyYW0ge0Vycm9yfSBbd2FybmluZy5lcnJvcl1cbiAgICovXG4gIHRoaXMuYWRkV2FybmluZyA9IGZ1bmN0aW9uKHdhcm5pbmcpIHtcbiAgICB0aGlzLndhcm5pbmdzLnB1c2god2FybmluZyk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIEJhc2VIYW5kbGVyKCkge31cblxuQmFzZUhhbmRsZXIucHJvdG90eXBlLmhhbmRsZUVuZCA9IGZ1bmN0aW9uKCkge307XG5CYXNlSGFuZGxlci5wcm90b3R5cGUuaGFuZGxlVGV4dCA9IGZ1bmN0aW9uKCkge307XG5CYXNlSGFuZGxlci5wcm90b3R5cGUuaGFuZGxlTm9kZSA9IGZ1bmN0aW9uKCkge307XG5cblxuLyoqXG4gKiBBIHNpbXBsZSBwYXNzIHRocm91Z2ggaGFuZGxlciB0aGF0IGRvZXMgbm90aGluZyBleGNlcHQgZm9yXG4gKiBpZ25vcmluZyBhbGwgaW5wdXQgaXQgcmVjZWl2ZXMuXG4gKlxuICogVGhpcyBpcyB1c2VkIHRvIGlnbm9yZSB1bmtub3duIGVsZW1lbnRzIGFuZFxuICogYXR0cmlidXRlcy5cbiAqL1xuZnVuY3Rpb24gTm9vcEhhbmRsZXIoKSB7IH1cblxuTm9vcEhhbmRsZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShCYXNlSGFuZGxlci5wcm90b3R5cGUpO1xuXG5Ob29wSGFuZGxlci5wcm90b3R5cGUuaGFuZGxlTm9kZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcztcbn07XG5cbmZ1bmN0aW9uIEJvZHlIYW5kbGVyKCkge31cblxuQm9keUhhbmRsZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShCYXNlSGFuZGxlci5wcm90b3R5cGUpO1xuXG5Cb2R5SGFuZGxlci5wcm90b3R5cGUuaGFuZGxlVGV4dCA9IGZ1bmN0aW9uKHRleHQpIHtcbiAgdGhpcy5ib2R5ID0gKHRoaXMuYm9keSB8fCAnJykgKyB0ZXh0O1xufTtcblxuZnVuY3Rpb24gUmVmZXJlbmNlSGFuZGxlcihwcm9wZXJ0eSwgY29udGV4dCkge1xuICB0aGlzLnByb3BlcnR5ID0gcHJvcGVydHk7XG4gIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG59XG5cblJlZmVyZW5jZUhhbmRsZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShCb2R5SGFuZGxlci5wcm90b3R5cGUpO1xuXG5SZWZlcmVuY2VIYW5kbGVyLnByb3RvdHlwZS5oYW5kbGVOb2RlID0gZnVuY3Rpb24obm9kZSkge1xuXG4gIGlmICh0aGlzLmVsZW1lbnQpIHtcbiAgICB0aHJvdyBlcnJvcignZXhwZWN0ZWQgbm8gc3ViIG5vZGVzJyk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5lbGVtZW50ID0gdGhpcy5jcmVhdGVSZWZlcmVuY2Uobm9kZSk7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cblJlZmVyZW5jZUhhbmRsZXIucHJvdG90eXBlLmhhbmRsZUVuZCA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmVsZW1lbnQuaWQgPSB0aGlzLmJvZHk7XG59O1xuXG5SZWZlcmVuY2VIYW5kbGVyLnByb3RvdHlwZS5jcmVhdGVSZWZlcmVuY2UgPSBmdW5jdGlvbihub2RlKSB7XG4gIHJldHVybiB7XG4gICAgcHJvcGVydHk6IHRoaXMucHJvcGVydHkubnMubmFtZSxcbiAgICBpZDogJydcbiAgfTtcbn07XG5cbmZ1bmN0aW9uIFZhbHVlSGFuZGxlcihwcm9wZXJ0eURlc2MsIGVsZW1lbnQpIHtcbiAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgdGhpcy5wcm9wZXJ0eURlc2MgPSBwcm9wZXJ0eURlc2M7XG59XG5cblZhbHVlSGFuZGxlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEJvZHlIYW5kbGVyLnByb3RvdHlwZSk7XG5cblZhbHVlSGFuZGxlci5wcm90b3R5cGUuaGFuZGxlRW5kID0gZnVuY3Rpb24oKSB7XG5cbiAgdmFyIHZhbHVlID0gdGhpcy5ib2R5IHx8ICcnLFxuICAgICAgZWxlbWVudCA9IHRoaXMuZWxlbWVudCxcbiAgICAgIHByb3BlcnR5RGVzYyA9IHRoaXMucHJvcGVydHlEZXNjO1xuXG4gIHZhbHVlID0gY29lcmNlVHlwZShwcm9wZXJ0eURlc2MudHlwZSwgdmFsdWUpO1xuXG4gIGlmIChwcm9wZXJ0eURlc2MuaXNNYW55KSB7XG4gICAgZWxlbWVudC5nZXQocHJvcGVydHlEZXNjLm5hbWUpLnB1c2godmFsdWUpO1xuICB9IGVsc2Uge1xuICAgIGVsZW1lbnQuc2V0KHByb3BlcnR5RGVzYy5uYW1lLCB2YWx1ZSk7XG4gIH1cbn07XG5cblxuZnVuY3Rpb24gQmFzZUVsZW1lbnRIYW5kbGVyKCkge31cblxuQmFzZUVsZW1lbnRIYW5kbGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQm9keUhhbmRsZXIucHJvdG90eXBlKTtcblxuQmFzZUVsZW1lbnRIYW5kbGVyLnByb3RvdHlwZS5oYW5kbGVOb2RlID0gZnVuY3Rpb24obm9kZSkge1xuICB2YXIgcGFyc2VyID0gdGhpcyxcbiAgICAgIGVsZW1lbnQgPSB0aGlzLmVsZW1lbnQ7XG5cbiAgaWYgKCFlbGVtZW50KSB7XG4gICAgZWxlbWVudCA9IHRoaXMuZWxlbWVudCA9IHRoaXMuY3JlYXRlRWxlbWVudChub2RlKTtcblxuICAgIHRoaXMuY29udGV4dC5hZGRFbGVtZW50KGVsZW1lbnQpO1xuICB9IGVsc2Uge1xuICAgIHBhcnNlciA9IHRoaXMuaGFuZGxlQ2hpbGQobm9kZSk7XG4gIH1cblxuICByZXR1cm4gcGFyc2VyO1xufTtcblxuLyoqXG4gKiBAY2xhc3MgUmVhZGVyLkVsZW1lbnRIYW5kbGVyXG4gKlxuICovXG5mdW5jdGlvbiBFbGVtZW50SGFuZGxlcihtb2RlbCwgdHlwZU5hbWUsIGNvbnRleHQpIHtcbiAgdGhpcy5tb2RlbCA9IG1vZGVsO1xuICB0aGlzLnR5cGUgPSBtb2RlbC5nZXRUeXBlKHR5cGVOYW1lKTtcbiAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbn1cblxuRWxlbWVudEhhbmRsZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShCYXNlRWxlbWVudEhhbmRsZXIucHJvdG90eXBlKTtcblxuRWxlbWVudEhhbmRsZXIucHJvdG90eXBlLmFkZFJlZmVyZW5jZSA9IGZ1bmN0aW9uKHJlZmVyZW5jZSkge1xuICB0aGlzLmNvbnRleHQuYWRkUmVmZXJlbmNlKHJlZmVyZW5jZSk7XG59O1xuXG5FbGVtZW50SGFuZGxlci5wcm90b3R5cGUuaGFuZGxlVGV4dCA9IGZ1bmN0aW9uKHRleHQpIHtcblxuICB2YXIgZWxlbWVudCA9IHRoaXMuZWxlbWVudCxcbiAgICAgIGRlc2NyaXB0b3IgPSBnZXRNb2RkbGVEZXNjcmlwdG9yKGVsZW1lbnQpLFxuICAgICAgYm9keVByb3BlcnR5ID0gZGVzY3JpcHRvci5ib2R5UHJvcGVydHk7XG5cbiAgaWYgKCFib2R5UHJvcGVydHkpIHtcbiAgICB0aHJvdyBlcnJvcigndW5leHBlY3RlZCBib2R5IHRleHQgPCcgKyB0ZXh0ICsgJz4nKTtcbiAgfVxuXG4gIEJvZHlIYW5kbGVyLnByb3RvdHlwZS5oYW5kbGVUZXh0LmNhbGwodGhpcywgdGV4dCk7XG59O1xuXG5FbGVtZW50SGFuZGxlci5wcm90b3R5cGUuaGFuZGxlRW5kID0gZnVuY3Rpb24oKSB7XG5cbiAgdmFyIHZhbHVlID0gdGhpcy5ib2R5LFxuICAgICAgZWxlbWVudCA9IHRoaXMuZWxlbWVudCxcbiAgICAgIGRlc2NyaXB0b3IgPSBnZXRNb2RkbGVEZXNjcmlwdG9yKGVsZW1lbnQpLFxuICAgICAgYm9keVByb3BlcnR5ID0gZGVzY3JpcHRvci5ib2R5UHJvcGVydHk7XG5cbiAgaWYgKGJvZHlQcm9wZXJ0eSAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdmFsdWUgPSBjb2VyY2VUeXBlKGJvZHlQcm9wZXJ0eS50eXBlLCB2YWx1ZSk7XG4gICAgZWxlbWVudC5zZXQoYm9keVByb3BlcnR5Lm5hbWUsIHZhbHVlKTtcbiAgfVxufTtcblxuLyoqXG4gKiBDcmVhdGUgYW4gaW5zdGFuY2Ugb2YgdGhlIG1vZGVsIGZyb20gdGhlIGdpdmVuIG5vZGUuXG4gKlxuICogQHBhcmFtICB7RWxlbWVudH0gbm9kZSB0aGUgeG1sIG5vZGVcbiAqL1xuRWxlbWVudEhhbmRsZXIucHJvdG90eXBlLmNyZWF0ZUVsZW1lbnQgPSBmdW5jdGlvbihub2RlKSB7XG4gIHZhciBhdHRyaWJ1dGVzID0gbm9kZS5hdHRyaWJ1dGVzLFxuICAgICAgVHlwZSA9IHRoaXMudHlwZSxcbiAgICAgIGRlc2NyaXB0b3IgPSBnZXRNb2RkbGVEZXNjcmlwdG9yKFR5cGUpLFxuICAgICAgY29udGV4dCA9IHRoaXMuY29udGV4dCxcbiAgICAgIGluc3RhbmNlID0gbmV3IFR5cGUoe30pLFxuICAgICAgbW9kZWwgPSB0aGlzLm1vZGVsLFxuICAgICAgcHJvcE5hbWVOcztcblxuICBmb3JFYWNoKGF0dHJpYnV0ZXMsIGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XG5cbiAgICB2YXIgcHJvcCA9IGRlc2NyaXB0b3IucHJvcGVydGllc0J5TmFtZVtuYW1lXSxcbiAgICAgICAgdmFsdWVzO1xuXG4gICAgaWYgKHByb3AgJiYgcHJvcC5pc1JlZmVyZW5jZSkge1xuXG4gICAgICBpZiAoIXByb3AuaXNNYW55KSB7XG4gICAgICAgIGNvbnRleHQuYWRkUmVmZXJlbmNlKHtcbiAgICAgICAgICBlbGVtZW50OiBpbnN0YW5jZSxcbiAgICAgICAgICBwcm9wZXJ0eTogcHJvcC5ucy5uYW1lLFxuICAgICAgICAgIGlkOiB2YWx1ZVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgLy8gSURSRUZTOiBwYXJzZSByZWZlcmVuY2VzIGFzIHdoaXRlc3BhY2Utc2VwYXJhdGVkIGxpc3RcbiAgICAgICAgdmFsdWVzID0gdmFsdWUuc3BsaXQoJyAnKTtcblxuICAgICAgICBmb3JFYWNoKHZhbHVlcywgZnVuY3Rpb24odikge1xuICAgICAgICAgIGNvbnRleHQuYWRkUmVmZXJlbmNlKHtcbiAgICAgICAgICAgIGVsZW1lbnQ6IGluc3RhbmNlLFxuICAgICAgICAgICAgcHJvcGVydHk6IHByb3AubnMubmFtZSxcbiAgICAgICAgICAgIGlkOiB2XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChwcm9wKSB7XG4gICAgICAgIHZhbHVlID0gY29lcmNlVHlwZShwcm9wLnR5cGUsIHZhbHVlKTtcbiAgICAgIH0gZWxzZVxuICAgICAgaWYgKG5hbWUgIT09ICd4bWxucycpIHtcbiAgICAgICAgcHJvcE5hbWVOcyA9IHBhcnNlTmFtZU5TKG5hbWUsIGRlc2NyaXB0b3IubnMucHJlZml4KTtcblxuICAgICAgICAvLyBjaGVjayB3aGV0aGVyIGF0dHJpYnV0ZSBpcyBkZWZpbmVkIGluIGEgd2VsbC1rbm93biBuYW1lc3BhY2VcbiAgICAgICAgLy8gaWYgdGhhdCBpcyB0aGUgY2FzZSB3ZSBlbWl0IGEgd2FybmluZyB0byBpbmRpY2F0ZSBwb3RlbnRpYWwgbWlzdXNlXG4gICAgICAgIGlmIChtb2RlbC5nZXRQYWNrYWdlKHByb3BOYW1lTnMucHJlZml4KSkge1xuXG4gICAgICAgICAgY29udGV4dC5hZGRXYXJuaW5nKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6ICd1bmtub3duIGF0dHJpYnV0ZSA8JyArIG5hbWUgKyAnPicsXG4gICAgICAgICAgICBlbGVtZW50OiBpbnN0YW5jZSxcbiAgICAgICAgICAgIHByb3BlcnR5OiBuYW1lLFxuICAgICAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaW5zdGFuY2Uuc2V0KG5hbWUsIHZhbHVlKTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBpbnN0YW5jZTtcbn07XG5cbkVsZW1lbnRIYW5kbGVyLnByb3RvdHlwZS5nZXRQcm9wZXJ0eUZvck5vZGUgPSBmdW5jdGlvbihub2RlKSB7XG5cbiAgdmFyIG5hbWUgPSBub2RlLm5hbWU7XG4gIHZhciBuYW1lTnMgPSBwYXJzZU5hbWVOUyhuYW1lKTtcblxuICB2YXIgdHlwZSA9IHRoaXMudHlwZSxcbiAgICAgIG1vZGVsID0gdGhpcy5tb2RlbCxcbiAgICAgIGRlc2NyaXB0b3IgPSBnZXRNb2RkbGVEZXNjcmlwdG9yKHR5cGUpO1xuXG4gIHZhciBwcm9wZXJ0eU5hbWUgPSBuYW1lTnMubmFtZSxcbiAgICAgIHByb3BlcnR5ID0gZGVzY3JpcHRvci5wcm9wZXJ0aWVzQnlOYW1lW3Byb3BlcnR5TmFtZV0sXG4gICAgICBlbGVtZW50VHlwZU5hbWUsXG4gICAgICBlbGVtZW50VHlwZTtcblxuICAvLyBzZWFyY2ggZm9yIHByb3BlcnRpZXMgYnkgbmFtZSBmaXJzdFxuXG4gIGlmIChwcm9wZXJ0eSAmJiAhcHJvcGVydHkuaXNBdHRyKSB7XG5cbiAgICBpZiAoc2VyaWFsaXplQXNUeXBlKHByb3BlcnR5KSkge1xuICAgICAgZWxlbWVudFR5cGVOYW1lID0gbm9kZS5hdHRyaWJ1dGVzW1hTSV9UWVBFXTtcblxuICAgICAgLy8geHNpIHR5cGUgaXMgb3B0aW9uYWwsIGlmIGl0IGRvZXMgbm90IGV4aXN0cyB0aGVcbiAgICAgIC8vIGRlZmF1bHQgdHlwZSBpcyBhc3N1bWVkXG4gICAgICBpZiAoZWxlbWVudFR5cGVOYW1lKSB7XG5cbiAgICAgICAgLy8gdGFrZSBwb3NzaWJsZSB0eXBlIHByZWZpeGVzIGZyb20gWE1MXG4gICAgICAgIC8vIGludG8gYWNjb3VudCwgaS5lLjogeHNpOnR5cGU9XCJ0e0FjdHVhbFR5cGV9XCJcbiAgICAgICAgZWxlbWVudFR5cGVOYW1lID0gbm9ybWFsaXplWHNpVHlwZU5hbWUoZWxlbWVudFR5cGVOYW1lLCBtb2RlbCk7XG5cbiAgICAgICAgZWxlbWVudFR5cGUgPSBtb2RlbC5nZXRUeXBlKGVsZW1lbnRUeXBlTmFtZSk7XG5cbiAgICAgICAgcmV0dXJuIGFzc2lnbih7fSwgcHJvcGVydHksIHtcbiAgICAgICAgICBlZmZlY3RpdmVUeXBlOiBnZXRNb2RkbGVEZXNjcmlwdG9yKGVsZW1lbnRUeXBlKS5uYW1lXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIHNlYXJjaCBmb3IgcHJvcGVydGllcyBieSBuYW1lIGZpcnN0XG4gICAgcmV0dXJuIHByb3BlcnR5O1xuICB9XG5cbiAgdmFyIHBrZyA9IG1vZGVsLmdldFBhY2thZ2UobmFtZU5zLnByZWZpeCk7XG5cbiAgaWYgKHBrZykge1xuICAgIGVsZW1lbnRUeXBlTmFtZSA9IGFsaWFzVG9OYW1lKG5hbWVOcywgcGtnKTtcbiAgICBlbGVtZW50VHlwZSA9IG1vZGVsLmdldFR5cGUoZWxlbWVudFR5cGVOYW1lKTtcblxuICAgIC8vIHNlYXJjaCBmb3IgY29sbGVjdGlvbiBtZW1iZXJzIGxhdGVyXG4gICAgcHJvcGVydHkgPSBmaW5kKGRlc2NyaXB0b3IucHJvcGVydGllcywgZnVuY3Rpb24ocCkge1xuICAgICAgcmV0dXJuICFwLmlzVmlydHVhbCAmJiAhcC5pc1JlZmVyZW5jZSAmJiAhcC5pc0F0dHJpYnV0ZSAmJiBlbGVtZW50VHlwZS5oYXNUeXBlKHAudHlwZSk7XG4gICAgfSk7XG5cbiAgICBpZiAocHJvcGVydHkpIHtcbiAgICAgIHJldHVybiBhc3NpZ24oe30sIHByb3BlcnR5LCB7XG4gICAgICAgIGVmZmVjdGl2ZVR5cGU6IGdldE1vZGRsZURlc2NyaXB0b3IoZWxlbWVudFR5cGUpLm5hbWVcbiAgICAgIH0pO1xuICAgIH1cbiAgfSBlbHNlIHtcblxuICAgIC8vIHBhcnNlIHVua25vd24gZWxlbWVudCAobWF5YmUgZXh0ZW5zaW9uKVxuICAgIHByb3BlcnR5ID0gZmluZChkZXNjcmlwdG9yLnByb3BlcnRpZXMsIGZ1bmN0aW9uKHApIHtcbiAgICAgIHJldHVybiAhcC5pc1JlZmVyZW5jZSAmJiAhcC5pc0F0dHJpYnV0ZSAmJiBwLnR5cGUgPT09ICdFbGVtZW50JztcbiAgICB9KTtcblxuICAgIGlmIChwcm9wZXJ0eSkge1xuICAgICAgcmV0dXJuIHByb3BlcnR5O1xuICAgIH1cbiAgfVxuXG4gIHRocm93IGVycm9yKCd1bnJlY29nbml6ZWQgZWxlbWVudCA8JyArIG5hbWVOcy5uYW1lICsgJz4nKTtcbn07XG5cbkVsZW1lbnRIYW5kbGVyLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gJ0VsZW1lbnREZXNjcmlwdG9yWycgKyBnZXRNb2RkbGVEZXNjcmlwdG9yKHRoaXMudHlwZSkubmFtZSArICddJztcbn07XG5cbkVsZW1lbnRIYW5kbGVyLnByb3RvdHlwZS52YWx1ZUhhbmRsZXIgPSBmdW5jdGlvbihwcm9wZXJ0eURlc2MsIGVsZW1lbnQpIHtcbiAgcmV0dXJuIG5ldyBWYWx1ZUhhbmRsZXIocHJvcGVydHlEZXNjLCBlbGVtZW50KTtcbn07XG5cbkVsZW1lbnRIYW5kbGVyLnByb3RvdHlwZS5yZWZlcmVuY2VIYW5kbGVyID0gZnVuY3Rpb24ocHJvcGVydHlEZXNjKSB7XG4gIHJldHVybiBuZXcgUmVmZXJlbmNlSGFuZGxlcihwcm9wZXJ0eURlc2MsIHRoaXMuY29udGV4dCk7XG59O1xuXG5FbGVtZW50SGFuZGxlci5wcm90b3R5cGUuaGFuZGxlciA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgaWYgKHR5cGUgPT09ICdFbGVtZW50Jykge1xuICAgIHJldHVybiBuZXcgR2VuZXJpY0VsZW1lbnRIYW5kbGVyKHRoaXMubW9kZWwsIHR5cGUsIHRoaXMuY29udGV4dCk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG5ldyBFbGVtZW50SGFuZGxlcih0aGlzLm1vZGVsLCB0eXBlLCB0aGlzLmNvbnRleHQpO1xuICB9XG59O1xuXG4vKipcbiAqIEhhbmRsZSB0aGUgY2hpbGQgZWxlbWVudCBwYXJzaW5nXG4gKlxuICogQHBhcmFtICB7RWxlbWVudH0gbm9kZSB0aGUgeG1sIG5vZGVcbiAqL1xuRWxlbWVudEhhbmRsZXIucHJvdG90eXBlLmhhbmRsZUNoaWxkID0gZnVuY3Rpb24obm9kZSkge1xuICB2YXIgcHJvcGVydHlEZXNjLCB0eXBlLCBlbGVtZW50LCBjaGlsZEhhbmRsZXI7XG5cbiAgcHJvcGVydHlEZXNjID0gdGhpcy5nZXRQcm9wZXJ0eUZvck5vZGUobm9kZSk7XG4gIGVsZW1lbnQgPSB0aGlzLmVsZW1lbnQ7XG5cbiAgdHlwZSA9IHByb3BlcnR5RGVzYy5lZmZlY3RpdmVUeXBlIHx8IHByb3BlcnR5RGVzYy50eXBlO1xuXG4gIGlmIChpc1NpbXBsZVR5cGUodHlwZSkpIHtcbiAgICByZXR1cm4gdGhpcy52YWx1ZUhhbmRsZXIocHJvcGVydHlEZXNjLCBlbGVtZW50KTtcbiAgfVxuXG4gIGlmIChwcm9wZXJ0eURlc2MuaXNSZWZlcmVuY2UpIHtcbiAgICBjaGlsZEhhbmRsZXIgPSB0aGlzLnJlZmVyZW5jZUhhbmRsZXIocHJvcGVydHlEZXNjKS5oYW5kbGVOb2RlKG5vZGUpO1xuICB9IGVsc2Uge1xuICAgIGNoaWxkSGFuZGxlciA9IHRoaXMuaGFuZGxlcih0eXBlKS5oYW5kbGVOb2RlKG5vZGUpO1xuICB9XG5cbiAgdmFyIG5ld0VsZW1lbnQgPSBjaGlsZEhhbmRsZXIuZWxlbWVudDtcblxuICAvLyBjaGlsZCBoYW5kbGVzIG1heSBkZWNpZGUgdG8gc2tpcCBlbGVtZW50c1xuICAvLyBieSBub3QgcmV0dXJuaW5nIGFueXRoaW5nXG4gIGlmIChuZXdFbGVtZW50ICE9PSB1bmRlZmluZWQpIHtcblxuICAgIGlmIChwcm9wZXJ0eURlc2MuaXNNYW55KSB7XG4gICAgICBlbGVtZW50LmdldChwcm9wZXJ0eURlc2MubmFtZSkucHVzaChuZXdFbGVtZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZWxlbWVudC5zZXQocHJvcGVydHlEZXNjLm5hbWUsIG5ld0VsZW1lbnQpO1xuICAgIH1cblxuICAgIGlmIChwcm9wZXJ0eURlc2MuaXNSZWZlcmVuY2UpIHtcbiAgICAgIGFzc2lnbihuZXdFbGVtZW50LCB7XG4gICAgICAgIGVsZW1lbnQ6IGVsZW1lbnRcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLmNvbnRleHQuYWRkUmVmZXJlbmNlKG5ld0VsZW1lbnQpO1xuICAgIH0gZWxzZSB7XG5cbiAgICAgIC8vIGVzdGFibGlzaCBjaGlsZCAtPiBwYXJlbnQgcmVsYXRpb25zaGlwXG4gICAgICBuZXdFbGVtZW50LiRwYXJlbnQgPSBlbGVtZW50O1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBjaGlsZEhhbmRsZXI7XG59O1xuXG4vKipcbiAqIEFuIGVsZW1lbnQgaGFuZGxlciB0aGF0IHBlcmZvcm1zIHNwZWNpYWwgdmFsaWRhdGlvblxuICogdG8gZW5zdXJlIHRoZSBub2RlIGl0IGdldHMgaW5pdGlhbGl6ZWQgd2l0aCBtYXRjaGVzXG4gKiB0aGUgaGFuZGxlcnMgdHlwZSAobmFtZXNwYWNlIHdpc2UpLlxuICpcbiAqIEBwYXJhbSB7TW9kZGxlfSBtb2RlbFxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVOYW1lXG4gKiBAcGFyYW0ge0NvbnRleHR9IGNvbnRleHRcbiAqL1xuZnVuY3Rpb24gUm9vdEVsZW1lbnRIYW5kbGVyKG1vZGVsLCB0eXBlTmFtZSwgY29udGV4dCkge1xuICBFbGVtZW50SGFuZGxlci5jYWxsKHRoaXMsIG1vZGVsLCB0eXBlTmFtZSwgY29udGV4dCk7XG59XG5cblJvb3RFbGVtZW50SGFuZGxlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEVsZW1lbnRIYW5kbGVyLnByb3RvdHlwZSk7XG5cblJvb3RFbGVtZW50SGFuZGxlci5wcm90b3R5cGUuY3JlYXRlRWxlbWVudCA9IGZ1bmN0aW9uKG5vZGUpIHtcblxuICB2YXIgbmFtZSA9IG5vZGUubmFtZSxcbiAgICAgIG5hbWVOcyA9IHBhcnNlTmFtZU5TKG5hbWUpLFxuICAgICAgbW9kZWwgPSB0aGlzLm1vZGVsLFxuICAgICAgdHlwZSA9IHRoaXMudHlwZSxcbiAgICAgIHBrZyA9IG1vZGVsLmdldFBhY2thZ2UobmFtZU5zLnByZWZpeCksXG4gICAgICB0eXBlTmFtZSA9IHBrZyAmJiBhbGlhc1RvTmFtZShuYW1lTnMsIHBrZykgfHwgbmFtZTtcblxuICAvLyB2ZXJpZnkgdGhlIGNvcnJlY3QgbmFtZXNwYWNlIGlmIHdlIHBhcnNlXG4gIC8vIHRoZSBmaXJzdCBlbGVtZW50IGluIHRoZSBoYW5kbGVyIHRyZWVcbiAgLy9cbiAgLy8gdGhpcyBlbnN1cmVzIHdlIGRvbid0IG1pc3Rha2VubHkgaW1wb3J0IHdyb25nIG5hbWVzcGFjZSBlbGVtZW50c1xuICBpZiAoIXR5cGUuaGFzVHlwZSh0eXBlTmFtZSkpIHtcbiAgICB0aHJvdyBlcnJvcigndW5leHBlY3RlZCBlbGVtZW50IDwnICsgbm9kZS5vcmlnaW5hbE5hbWUgKyAnPicpO1xuICB9XG5cbiAgcmV0dXJuIEVsZW1lbnRIYW5kbGVyLnByb3RvdHlwZS5jcmVhdGVFbGVtZW50LmNhbGwodGhpcywgbm9kZSk7XG59O1xuXG5cbmZ1bmN0aW9uIEdlbmVyaWNFbGVtZW50SGFuZGxlcihtb2RlbCwgdHlwZU5hbWUsIGNvbnRleHQpIHtcbiAgdGhpcy5tb2RlbCA9IG1vZGVsO1xuICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xufVxuXG5HZW5lcmljRWxlbWVudEhhbmRsZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShCYXNlRWxlbWVudEhhbmRsZXIucHJvdG90eXBlKTtcblxuR2VuZXJpY0VsZW1lbnRIYW5kbGVyLnByb3RvdHlwZS5jcmVhdGVFbGVtZW50ID0gZnVuY3Rpb24obm9kZSkge1xuXG4gIHZhciBuYW1lID0gbm9kZS5uYW1lLFxuICAgICAgbnMgPSBwYXJzZU5hbWVOUyhuYW1lKSxcbiAgICAgIHByZWZpeCA9IG5zLnByZWZpeCxcbiAgICAgIHVyaSA9IG5vZGUubnNbcHJlZml4ICsgJyR1cmknXSxcbiAgICAgIGF0dHJpYnV0ZXMgPSBub2RlLmF0dHJpYnV0ZXM7XG5cbiAgcmV0dXJuIHRoaXMubW9kZWwuY3JlYXRlQW55KG5hbWUsIHVyaSwgYXR0cmlidXRlcyk7XG59O1xuXG5HZW5lcmljRWxlbWVudEhhbmRsZXIucHJvdG90eXBlLmhhbmRsZUNoaWxkID0gZnVuY3Rpb24obm9kZSkge1xuXG4gIHZhciBoYW5kbGVyID0gbmV3IEdlbmVyaWNFbGVtZW50SGFuZGxlcih0aGlzLm1vZGVsLCAnRWxlbWVudCcsIHRoaXMuY29udGV4dCkuaGFuZGxlTm9kZShub2RlKSxcbiAgICAgIGVsZW1lbnQgPSB0aGlzLmVsZW1lbnQ7XG5cbiAgdmFyIG5ld0VsZW1lbnQgPSBoYW5kbGVyLmVsZW1lbnQsXG4gICAgICBjaGlsZHJlbjtcblxuICBpZiAobmV3RWxlbWVudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgY2hpbGRyZW4gPSBlbGVtZW50LiRjaGlsZHJlbiA9IGVsZW1lbnQuJGNoaWxkcmVuIHx8IFtdO1xuICAgIGNoaWxkcmVuLnB1c2gobmV3RWxlbWVudCk7XG5cbiAgICAvLyBlc3RhYmxpc2ggY2hpbGQgLT4gcGFyZW50IHJlbGF0aW9uc2hpcFxuICAgIG5ld0VsZW1lbnQuJHBhcmVudCA9IGVsZW1lbnQ7XG4gIH1cblxuICByZXR1cm4gaGFuZGxlcjtcbn07XG5cbkdlbmVyaWNFbGVtZW50SGFuZGxlci5wcm90b3R5cGUuaGFuZGxlRW5kID0gZnVuY3Rpb24oKSB7XG4gIGlmICh0aGlzLmJvZHkpIHtcbiAgICB0aGlzLmVsZW1lbnQuJGJvZHkgPSB0aGlzLmJvZHk7XG4gIH1cbn07XG5cbi8qKlxuICogQSByZWFkZXIgZm9yIGEgbWV0YS1tb2RlbFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gKiBAcGFyYW0ge01vZGVsfSBvcHRpb25zLm1vZGVsIHVzZWQgdG8gcmVhZCB4bWwgZmlsZXNcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gb3B0aW9ucy5sYXggd2hldGhlciB0byBtYWtlIHBhcnNlIGVycm9ycyB3YXJuaW5nc1xuICovXG5mdW5jdGlvbiBSZWFkZXIob3B0aW9ucykge1xuXG4gIGlmIChvcHRpb25zIGluc3RhbmNlb2YgTW9kZGxlKSB7XG4gICAgb3B0aW9ucyA9IHtcbiAgICAgIG1vZGVsOiBvcHRpb25zXG4gICAgfTtcbiAgfVxuXG4gIGFzc2lnbih0aGlzLCB7IGxheDogZmFsc2UgfSwgb3B0aW9ucyk7XG59XG5cbi8qKlxuICogVGhlIGZyb21YTUwgcmVzdWx0LlxuICpcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFBhcnNlUmVzdWx0XG4gKlxuICogQHByb3BlcnR5IHtNb2RkbGVFbGVtZW50fSByb290RWxlbWVudFxuICogQHByb3BlcnR5IHtBcnJheTxPYmplY3Q+fSByZWZlcmVuY2VzXG4gKiBAcHJvcGVydHkge0FycmF5PEVycm9yPn0gd2FybmluZ3NcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBlbGVtZW50c0J5SWQgLSBhIG1hcHBpbmcgY29udGFpbmluZyBlYWNoIElEIC0+IE1vZGRsZUVsZW1lbnRcbiAqL1xuXG4vKipcbiAqIFRoZSBmcm9tWE1MIHJlc3VsdC5cbiAqXG4gKiBAdHlwZWRlZiB7RXJyb3J9IFBhcnNlRXJyb3JcbiAqXG4gKiBAcHJvcGVydHkge0FycmF5PEVycm9yPn0gd2FybmluZ3NcbiAqL1xuXG4vKipcbiAqIFBhcnNlIHRoZSBnaXZlbiBYTUwgaW50byBhIG1vZGRsZSBkb2N1bWVudCB0cmVlLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSB4bWxcbiAqIEBwYXJhbSB7RWxlbWVudEhhbmRsZXJ8T2JqZWN0fSBvcHRpb25zIG9yIHJvb3RIYW5kbGVyXG4gKlxuICogQHJldHVybnMge1Byb21pc2U8UGFyc2VSZXN1bHQsIFBhcnNlRXJyb3I+fVxuICovXG5SZWFkZXIucHJvdG90eXBlLmZyb21YTUwgPSBmdW5jdGlvbih4bWwsIG9wdGlvbnMsIGRvbmUpIHtcblxuICB2YXIgcm9vdEhhbmRsZXIgPSBvcHRpb25zLnJvb3RIYW5kbGVyO1xuXG4gIGlmIChvcHRpb25zIGluc3RhbmNlb2YgRWxlbWVudEhhbmRsZXIpIHtcblxuICAgIC8vIHJvb3QgaGFuZGxlciBwYXNzZWQgdmlhICh4bWwsIHsgcm9vdEhhbmRsZXI6IEVsZW1lbnRIYW5kbGVyIH0sIC4uLilcbiAgICByb290SGFuZGxlciA9IG9wdGlvbnM7XG4gICAgb3B0aW9ucyA9IHt9O1xuICB9IGVsc2Uge1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ3N0cmluZycpIHtcblxuICAgICAgLy8gcm9vdEhhbmRsZXIgcGFzc2VkIHZpYSAoeG1sLCAnc29tZVN0cmluZycsIC4uLilcbiAgICAgIHJvb3RIYW5kbGVyID0gdGhpcy5oYW5kbGVyKG9wdGlvbnMpO1xuICAgICAgb3B0aW9ucyA9IHt9O1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHJvb3RIYW5kbGVyID09PSAnc3RyaW5nJykge1xuXG4gICAgICAvLyByb290SGFuZGxlciBwYXNzZWQgdmlhICh4bWwsIHsgcm9vdEhhbmRsZXI6ICdzb21lU3RyaW5nJyB9LCAuLi4pXG4gICAgICByb290SGFuZGxlciA9IHRoaXMuaGFuZGxlcihyb290SGFuZGxlcik7XG4gICAgfVxuICB9XG5cbiAgdmFyIG1vZGVsID0gdGhpcy5tb2RlbCxcbiAgICAgIGxheCA9IHRoaXMubGF4O1xuXG4gIHZhciBjb250ZXh0ID0gbmV3IENvbnRleHQoYXNzaWduKHt9LCBvcHRpb25zLCB7IHJvb3RIYW5kbGVyOiByb290SGFuZGxlciB9KSksXG4gICAgICBwYXJzZXIgPSBuZXcgUGFyc2VyKHsgcHJveHk6IHRydWUgfSksXG4gICAgICBzdGFjayA9IGNyZWF0ZVN0YWNrKCk7XG5cbiAgcm9vdEhhbmRsZXIuY29udGV4dCA9IGNvbnRleHQ7XG5cbiAgLy8gcHVzaCByb290IGhhbmRsZXJcbiAgc3RhY2sucHVzaChyb290SGFuZGxlcik7XG5cblxuICAvKipcbiAgICogSGFuZGxlIGVycm9yLlxuICAgKlxuICAgKiBAcGFyYW0gIHtFcnJvcn0gZXJyXG4gICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBnZXRDb250ZXh0XG4gICAqIEBwYXJhbSAge2Jvb2xlYW59IGxheFxuICAgKlxuICAgKiBAcmV0dXJuIHtib29sZWFufSB0cnVlIGlmIGhhbmRsZWRcbiAgICovXG4gIGZ1bmN0aW9uIGhhbmRsZUVycm9yKGVyciwgZ2V0Q29udGV4dCwgbGF4KSB7XG5cbiAgICB2YXIgY3R4ID0gZ2V0Q29udGV4dCgpO1xuXG4gICAgdmFyIGxpbmUgPSBjdHgubGluZSxcbiAgICAgICAgY29sdW1uID0gY3R4LmNvbHVtbixcbiAgICAgICAgZGF0YSA9IGN0eC5kYXRhO1xuXG4gICAgLy8gd2UgcmVjZWl2ZSB0aGUgZnVsbCBjb250ZXh0IGRhdGEgaGVyZSxcbiAgICAvLyBmb3IgZWxlbWVudHMgdHJpbSBkb3duIHRoZSBpbmZvcm1hdGlvblxuICAgIC8vIHRvIHRoZSB0YWcgbmFtZSwgb25seVxuICAgIGlmIChkYXRhLmNoYXJBdCgwKSA9PT0gJzwnICYmIGRhdGEuaW5kZXhPZignICcpICE9PSAtMSkge1xuICAgICAgZGF0YSA9IGRhdGEuc2xpY2UoMCwgZGF0YS5pbmRleE9mKCcgJykpICsgJz4nO1xuICAgIH1cblxuICAgIHZhciBtZXNzYWdlID1cbiAgICAgICd1bnBhcnNhYmxlIGNvbnRlbnQgJyArIChkYXRhID8gZGF0YSArICcgJyA6ICcnKSArICdkZXRlY3RlZFxcblxcdCcgK1xuICAgICAgICAnbGluZTogJyArIGxpbmUgKyAnXFxuXFx0JyArXG4gICAgICAgICdjb2x1bW46ICcgKyBjb2x1bW4gKyAnXFxuXFx0JyArXG4gICAgICAgICduZXN0ZWQgZXJyb3I6ICcgKyBlcnIubWVzc2FnZTtcblxuICAgIGlmIChsYXgpIHtcbiAgICAgIGNvbnRleHQuYWRkV2FybmluZyh7XG4gICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsXG4gICAgICAgIGVycm9yOiBlcnJcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgZXJyb3IobWVzc2FnZSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlV2FybmluZyhlcnIsIGdldENvbnRleHQpIHtcblxuICAgIC8vIGp1c3QgbGlrZSBoYW5kbGluZyBlcnJvcnMgaW4gPGxheD10cnVlPiBtb2RlXG4gICAgcmV0dXJuIGhhbmRsZUVycm9yKGVyciwgZ2V0Q29udGV4dCwgdHJ1ZSk7XG4gIH1cblxuICAvKipcbiAgICogUmVzb2x2ZSBjb2xsZWN0ZWQgcmVmZXJlbmNlcyBvbiBwYXJzZSBlbmQuXG4gICAqL1xuICBmdW5jdGlvbiByZXNvbHZlUmVmZXJlbmNlcygpIHtcblxuICAgIHZhciBlbGVtZW50c0J5SWQgPSBjb250ZXh0LmVsZW1lbnRzQnlJZDtcbiAgICB2YXIgcmVmZXJlbmNlcyA9IGNvbnRleHQucmVmZXJlbmNlcztcblxuICAgIHZhciBpLCByO1xuXG4gICAgZm9yIChpID0gMDsgKHIgPSByZWZlcmVuY2VzW2ldKTsgaSsrKSB7XG4gICAgICB2YXIgZWxlbWVudCA9IHIuZWxlbWVudDtcbiAgICAgIHZhciByZWZlcmVuY2UgPSBlbGVtZW50c0J5SWRbci5pZF07XG4gICAgICB2YXIgcHJvcGVydHkgPSBnZXRNb2RkbGVEZXNjcmlwdG9yKGVsZW1lbnQpLnByb3BlcnRpZXNCeU5hbWVbci5wcm9wZXJ0eV07XG5cbiAgICAgIGlmICghcmVmZXJlbmNlKSB7XG4gICAgICAgIGNvbnRleHQuYWRkV2FybmluZyh7XG4gICAgICAgICAgbWVzc2FnZTogJ3VucmVzb2x2ZWQgcmVmZXJlbmNlIDwnICsgci5pZCArICc+JyxcbiAgICAgICAgICBlbGVtZW50OiByLmVsZW1lbnQsXG4gICAgICAgICAgcHJvcGVydHk6IHIucHJvcGVydHksXG4gICAgICAgICAgdmFsdWU6IHIuaWRcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChwcm9wZXJ0eS5pc01hbnkpIHtcbiAgICAgICAgdmFyIGNvbGxlY3Rpb24gPSBlbGVtZW50LmdldChwcm9wZXJ0eS5uYW1lKSxcbiAgICAgICAgICAgIGlkeCA9IGNvbGxlY3Rpb24uaW5kZXhPZihyKTtcblxuICAgICAgICAvLyB3ZSByZXBsYWNlIGFuIGV4aXN0aW5nIHBsYWNlIGhvbGRlciAoaWR4ICE9IC0xKSBvclxuICAgICAgICAvLyBhcHBlbmQgdG8gdGhlIGNvbGxlY3Rpb24gaW5zdGVhZFxuICAgICAgICBpZiAoaWR4ID09PSAtMSkge1xuICAgICAgICAgIGlkeCA9IGNvbGxlY3Rpb24ubGVuZ3RoO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFyZWZlcmVuY2UpIHtcblxuICAgICAgICAgIC8vIHJlbW92ZSB1bnJlc29sdmFibGUgcmVmZXJlbmNlXG4gICAgICAgICAgY29sbGVjdGlvbi5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgIC8vIGFkZCBvciB1cGRhdGUgcmVmZXJlbmNlIGluIGNvbGxlY3Rpb25cbiAgICAgICAgICBjb2xsZWN0aW9uW2lkeF0gPSByZWZlcmVuY2U7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVsZW1lbnQuc2V0KHByb3BlcnR5Lm5hbWUsIHJlZmVyZW5jZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlQ2xvc2UoKSB7XG4gICAgc3RhY2sucG9wKCkuaGFuZGxlRW5kKCk7XG4gIH1cblxuICB2YXIgUFJFQU1CTEVfU1RBUlRfUEFUVEVSTiA9IC9ePFxcP3htbCAvaTtcblxuICB2YXIgRU5DT0RJTkdfUEFUVEVSTiA9IC8gZW5jb2Rpbmc9XCIoW15cIl0rKVwiL2k7XG5cbiAgdmFyIFVURl84X1BBVFRFUk4gPSAvXnV0Zi04JC9pO1xuXG4gIGZ1bmN0aW9uIGhhbmRsZVF1ZXN0aW9uKHF1ZXN0aW9uKSB7XG5cbiAgICBpZiAoIVBSRUFNQkxFX1NUQVJUX1BBVFRFUk4udGVzdChxdWVzdGlvbikpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgbWF0Y2ggPSBFTkNPRElOR19QQVRURVJOLmV4ZWMocXVlc3Rpb24pO1xuICAgIHZhciBlbmNvZGluZyA9IG1hdGNoICYmIG1hdGNoWzFdO1xuXG4gICAgaWYgKCFlbmNvZGluZyB8fCBVVEZfOF9QQVRURVJOLnRlc3QoZW5jb2RpbmcpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29udGV4dC5hZGRXYXJuaW5nKHtcbiAgICAgIG1lc3NhZ2U6XG4gICAgICAgICd1bnN1cHBvcnRlZCBkb2N1bWVudCBlbmNvZGluZyA8JyArIGVuY29kaW5nICsgJz4sICcgK1xuICAgICAgICAnZmFsbGluZyBiYWNrIHRvIFVURi04J1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlT3Blbihub2RlLCBnZXRDb250ZXh0KSB7XG4gICAgdmFyIGhhbmRsZXIgPSBzdGFjay5wZWVrKCk7XG5cbiAgICB0cnkge1xuICAgICAgc3RhY2sucHVzaChoYW5kbGVyLmhhbmRsZU5vZGUobm9kZSkpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuXG4gICAgICBpZiAoaGFuZGxlRXJyb3IoZXJyLCBnZXRDb250ZXh0LCBsYXgpKSB7XG4gICAgICAgIHN0YWNrLnB1c2gobmV3IE5vb3BIYW5kbGVyKCkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZUNEYXRhKHRleHQsIGdldENvbnRleHQpIHtcblxuICAgIHRyeSB7XG4gICAgICBzdGFjay5wZWVrKCkuaGFuZGxlVGV4dCh0ZXh0KTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGhhbmRsZVdhcm5pbmcoZXJyLCBnZXRDb250ZXh0KTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVUZXh0KHRleHQsIGdldENvbnRleHQpIHtcblxuICAgIC8vIHN0cmlwIHdoaXRlc3BhY2Ugb25seSBub2RlcywgaS5lLiBiZWZvcmVcbiAgICAvLyA8IUNEQVRBWyAuLi4gXT4gc2VjdGlvbnMgYW5kIGluIGJldHdlZW4gdGFnc1xuICAgIHRleHQgPSB0ZXh0LnRyaW0oKTtcblxuICAgIGlmICghdGV4dCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGhhbmRsZUNEYXRhKHRleHQsIGdldENvbnRleHQpO1xuICB9XG5cbiAgdmFyIHVyaU1hcCA9IG1vZGVsLmdldFBhY2thZ2VzKCkucmVkdWNlKGZ1bmN0aW9uKHVyaU1hcCwgcCkge1xuICAgIHVyaU1hcFtwLnVyaV0gPSBwLnByZWZpeDtcblxuICAgIHJldHVybiB1cmlNYXA7XG4gIH0sIHtcbiAgICAnaHR0cDovL3d3dy53My5vcmcvWE1MLzE5OTgvbmFtZXNwYWNlJzogJ3htbCcgLy8gYWRkIGRlZmF1bHQgeG1sIG5zXG4gIH0pO1xuICBwYXJzZXJcbiAgICAubnModXJpTWFwKVxuICAgIC5vbignb3BlblRhZycsIGZ1bmN0aW9uKG9iaiwgZGVjb2RlU3RyLCBzZWxmQ2xvc2luZywgZ2V0Q29udGV4dCkge1xuXG4gICAgICAvLyBncmFjZWZ1bGx5IGhhbmRsZSB1bnBhcnNhYmxlIGF0dHJpYnV0ZXMgKGF0dHJzPWZhbHNlKVxuICAgICAgdmFyIGF0dHJzID0gb2JqLmF0dHJzIHx8IHt9O1xuXG4gICAgICB2YXIgZGVjb2RlZEF0dHJzID0gT2JqZWN0LmtleXMoYXR0cnMpLnJlZHVjZShmdW5jdGlvbihkLCBrZXkpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gZGVjb2RlU3RyKGF0dHJzW2tleV0pO1xuXG4gICAgICAgIGRba2V5XSA9IHZhbHVlO1xuXG4gICAgICAgIHJldHVybiBkO1xuICAgICAgfSwge30pO1xuXG4gICAgICB2YXIgbm9kZSA9IHtcbiAgICAgICAgbmFtZTogb2JqLm5hbWUsXG4gICAgICAgIG9yaWdpbmFsTmFtZTogb2JqLm9yaWdpbmFsTmFtZSxcbiAgICAgICAgYXR0cmlidXRlczogZGVjb2RlZEF0dHJzLFxuICAgICAgICBuczogb2JqLm5zXG4gICAgICB9O1xuXG4gICAgICBoYW5kbGVPcGVuKG5vZGUsIGdldENvbnRleHQpO1xuICAgIH0pXG4gICAgLm9uKCdxdWVzdGlvbicsIGhhbmRsZVF1ZXN0aW9uKVxuICAgIC5vbignY2xvc2VUYWcnLCBoYW5kbGVDbG9zZSlcbiAgICAub24oJ2NkYXRhJywgaGFuZGxlQ0RhdGEpXG4gICAgLm9uKCd0ZXh0JywgZnVuY3Rpb24odGV4dCwgZGVjb2RlRW50aXRpZXMsIGdldENvbnRleHQpIHtcbiAgICAgIGhhbmRsZVRleHQoZGVjb2RlRW50aXRpZXModGV4dCksIGdldENvbnRleHQpO1xuICAgIH0pXG4gICAgLm9uKCdlcnJvcicsIGhhbmRsZUVycm9yKVxuICAgIC5vbignd2FybicsIGhhbmRsZVdhcm5pbmcpO1xuXG4gIC8vIGFzeW5jIFhNTCBwYXJzaW5nIHRvIG1ha2Ugc3VyZSB0aGUgZXhlY3V0aW9uIGVudmlyb25tZW50XG4gIC8vIChub2RlIG9yIGJyb3dlcikgaXMga2VwdCByZXNwb25zaXZlIGFuZCB0aGF0IGNlcnRhaW4gb3B0aW1pemF0aW9uXG4gIC8vIHN0cmF0ZWdpZXMgY2FuIGtpY2sgaW4uXG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcblxuICAgIHZhciBlcnI7XG5cbiAgICB0cnkge1xuICAgICAgcGFyc2VyLnBhcnNlKHhtbCk7XG5cbiAgICAgIHJlc29sdmVSZWZlcmVuY2VzKCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgZXJyID0gZTtcbiAgICB9XG5cbiAgICB2YXIgcm9vdEVsZW1lbnQgPSByb290SGFuZGxlci5lbGVtZW50O1xuXG4gICAgaWYgKCFlcnIgJiYgIXJvb3RFbGVtZW50KSB7XG4gICAgICBlcnIgPSBlcnJvcignZmFpbGVkIHRvIHBhcnNlIGRvY3VtZW50IGFzIDwnICsgcm9vdEhhbmRsZXIudHlwZS4kZGVzY3JpcHRvci5uYW1lICsgJz4nKTtcbiAgICB9XG5cbiAgICB2YXIgd2FybmluZ3MgPSBjb250ZXh0Lndhcm5pbmdzO1xuICAgIHZhciByZWZlcmVuY2VzID0gY29udGV4dC5yZWZlcmVuY2VzO1xuICAgIHZhciBlbGVtZW50c0J5SWQgPSBjb250ZXh0LmVsZW1lbnRzQnlJZDtcblxuICAgIGlmIChlcnIpIHtcbiAgICAgIGVyci53YXJuaW5ncyA9IHdhcm5pbmdzO1xuXG4gICAgICByZXR1cm4gcmVqZWN0KGVycik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiByZXNvbHZlKHtcbiAgICAgICAgcm9vdEVsZW1lbnQ6IHJvb3RFbGVtZW50LFxuICAgICAgICBlbGVtZW50c0J5SWQ6IGVsZW1lbnRzQnlJZCxcbiAgICAgICAgcmVmZXJlbmNlczogcmVmZXJlbmNlcyxcbiAgICAgICAgd2FybmluZ3M6IHdhcm5pbmdzXG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xufTtcblxuUmVhZGVyLnByb3RvdHlwZS5oYW5kbGVyID0gZnVuY3Rpb24obmFtZSkge1xuICByZXR1cm4gbmV3IFJvb3RFbGVtZW50SGFuZGxlcih0aGlzLm1vZGVsLCBuYW1lKTtcbn07XG5cblxuLy8gaGVscGVycyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5mdW5jdGlvbiBjcmVhdGVTdGFjaygpIHtcbiAgdmFyIHN0YWNrID0gW107XG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHN0YWNrLCAncGVlaycsIHtcbiAgICB2YWx1ZTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpc1t0aGlzLmxlbmd0aCAtIDFdO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHN0YWNrO1xufVxuXG52YXIgWE1MX1BSRUFNQkxFID0gJzw/eG1sIHZlcnNpb249XCIxLjBcIiBlbmNvZGluZz1cIlVURi04XCI/Plxcbic7XG5cbnZhciBFU0NBUEVfQVRUUl9DSEFSUyA9IC88fD58J3xcInwmfFxcblxccnxcXG4vZztcbnZhciBFU0NBUEVfQ0hBUlMgPSAvPHw+fCYvZztcblxuXG5mdW5jdGlvbiBOYW1lc3BhY2VzKHBhcmVudCkge1xuXG4gIHZhciBwcmVmaXhNYXAgPSB7fTtcbiAgdmFyIHVyaU1hcCA9IHt9O1xuICB2YXIgdXNlZCA9IHt9O1xuXG4gIHZhciB3ZWxsa25vd24gPSBbXTtcbiAgdmFyIGN1c3RvbSA9IFtdO1xuXG4gIC8vIEFQSVxuXG4gIHRoaXMuYnlVcmkgPSBmdW5jdGlvbih1cmkpIHtcbiAgICByZXR1cm4gdXJpTWFwW3VyaV0gfHwgKFxuICAgICAgcGFyZW50ICYmIHBhcmVudC5ieVVyaSh1cmkpXG4gICAgKTtcbiAgfTtcblxuICB0aGlzLmFkZCA9IGZ1bmN0aW9uKG5zLCBpc1dlbGxrbm93bikge1xuXG4gICAgdXJpTWFwW25zLnVyaV0gPSBucztcblxuICAgIGlmIChpc1dlbGxrbm93bikge1xuICAgICAgd2VsbGtub3duLnB1c2gobnMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjdXN0b20ucHVzaChucyk7XG4gICAgfVxuXG4gICAgdGhpcy5tYXBQcmVmaXgobnMucHJlZml4LCBucy51cmkpO1xuICB9O1xuXG4gIHRoaXMudXJpQnlQcmVmaXggPSBmdW5jdGlvbihwcmVmaXgpIHtcbiAgICByZXR1cm4gcHJlZml4TWFwW3ByZWZpeCB8fCAneG1sbnMnXTtcbiAgfTtcblxuICB0aGlzLm1hcFByZWZpeCA9IGZ1bmN0aW9uKHByZWZpeCwgdXJpKSB7XG4gICAgcHJlZml4TWFwW3ByZWZpeCB8fCAneG1sbnMnXSA9IHVyaTtcbiAgfTtcblxuICB0aGlzLmdldE5TS2V5ID0gZnVuY3Rpb24obnMpIHtcbiAgICByZXR1cm4gKG5zLnByZWZpeCAhPT0gdW5kZWZpbmVkKSA/IChucy51cmkgKyAnfCcgKyBucy5wcmVmaXgpIDogbnMudXJpO1xuICB9O1xuXG4gIHRoaXMubG9nVXNlZCA9IGZ1bmN0aW9uKG5zKSB7XG5cbiAgICB2YXIgdXJpID0gbnMudXJpO1xuICAgIHZhciBuc0tleSA9IHRoaXMuZ2V0TlNLZXkobnMpO1xuXG4gICAgdXNlZFtuc0tleV0gPSB0aGlzLmJ5VXJpKHVyaSk7XG5cbiAgICAvLyBJbmZvcm0gcGFyZW50IHJlY3Vyc2l2ZWx5IGFib3V0IHRoZSB1c2FnZSBvZiB0aGlzIE5TXG4gICAgaWYgKHBhcmVudCkge1xuICAgICAgcGFyZW50LmxvZ1VzZWQobnMpO1xuICAgIH1cbiAgfTtcblxuICB0aGlzLmdldFVzZWQgPSBmdW5jdGlvbihucykge1xuXG4gICAgZnVuY3Rpb24gaXNVc2VkKG5zKSB7XG4gICAgICB2YXIgbnNLZXkgPSBzZWxmLmdldE5TS2V5KG5zKTtcblxuICAgICAgcmV0dXJuIHVzZWRbbnNLZXldO1xuICAgIH1cblxuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIHZhciBhbGxOcyA9IFtdLmNvbmNhdCh3ZWxsa25vd24sIGN1c3RvbSk7XG5cbiAgICByZXR1cm4gYWxsTnMuZmlsdGVyKGlzVXNlZCk7XG4gIH07XG5cbn1cblxuZnVuY3Rpb24gbG93ZXIoc3RyaW5nKSB7XG4gIHJldHVybiBzdHJpbmcuY2hhckF0KDApLnRvTG93ZXJDYXNlKCkgKyBzdHJpbmcuc2xpY2UoMSk7XG59XG5cbmZ1bmN0aW9uIG5hbWVUb0FsaWFzKG5hbWUsIHBrZykge1xuICBpZiAoaGFzTG93ZXJDYXNlQWxpYXMocGtnKSkge1xuICAgIHJldHVybiBsb3dlcihuYW1lKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbmFtZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpbmhlcml0cyhjdG9yLCBzdXBlckN0b3IpIHtcbiAgY3Rvci5zdXBlcl8gPSBzdXBlckN0b3I7XG4gIGN0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckN0b3IucHJvdG90eXBlLCB7XG4gICAgY29uc3RydWN0b3I6IHtcbiAgICAgIHZhbHVlOiBjdG9yLFxuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIG5zTmFtZShucykge1xuICBpZiAoaXNTdHJpbmcobnMpKSB7XG4gICAgcmV0dXJuIG5zO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiAobnMucHJlZml4ID8gbnMucHJlZml4ICsgJzonIDogJycpICsgbnMubG9jYWxOYW1lO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldE5zQXR0cnMobmFtZXNwYWNlcykge1xuXG4gIHJldHVybiBtYXAobmFtZXNwYWNlcy5nZXRVc2VkKCksIGZ1bmN0aW9uKG5zKSB7XG4gICAgdmFyIG5hbWUgPSAneG1sbnMnICsgKG5zLnByZWZpeCA/ICc6JyArIG5zLnByZWZpeCA6ICcnKTtcbiAgICByZXR1cm4geyBuYW1lOiBuYW1lLCB2YWx1ZTogbnMudXJpIH07XG4gIH0pO1xuXG59XG5cbmZ1bmN0aW9uIGdldEVsZW1lbnROcyhucywgZGVzY3JpcHRvcikge1xuICBpZiAoZGVzY3JpcHRvci5pc0dlbmVyaWMpIHtcbiAgICByZXR1cm4gYXNzaWduKHsgbG9jYWxOYW1lOiBkZXNjcmlwdG9yLm5zLmxvY2FsTmFtZSB9LCBucyk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGFzc2lnbih7IGxvY2FsTmFtZTogbmFtZVRvQWxpYXMoZGVzY3JpcHRvci5ucy5sb2NhbE5hbWUsIGRlc2NyaXB0b3IuJHBrZykgfSwgbnMpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldFByb3BlcnR5TnMobnMsIGRlc2NyaXB0b3IpIHtcbiAgcmV0dXJuIGFzc2lnbih7IGxvY2FsTmFtZTogZGVzY3JpcHRvci5ucy5sb2NhbE5hbWUgfSwgbnMpO1xufVxuXG5mdW5jdGlvbiBnZXRTZXJpYWxpemFibGVQcm9wZXJ0aWVzKGVsZW1lbnQpIHtcbiAgdmFyIGRlc2NyaXB0b3IgPSBlbGVtZW50LiRkZXNjcmlwdG9yO1xuXG4gIHJldHVybiBmaWx0ZXIoZGVzY3JpcHRvci5wcm9wZXJ0aWVzLCBmdW5jdGlvbihwKSB7XG4gICAgdmFyIG5hbWUgPSBwLm5hbWU7XG5cbiAgICBpZiAocC5pc1ZpcnR1YWwpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBkbyBub3Qgc2VyaWFsaXplIGRlZmF1bHRzXG4gICAgaWYgKCFoYXMoZWxlbWVudCwgbmFtZSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgdmFsdWUgPSBlbGVtZW50W25hbWVdO1xuXG4gICAgLy8gZG8gbm90IHNlcmlhbGl6ZSBkZWZhdWx0IGVxdWFsc1xuICAgIGlmICh2YWx1ZSA9PT0gcC5kZWZhdWx0KSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gZG8gbm90IHNlcmlhbGl6ZSBudWxsIHByb3BlcnRpZXNcbiAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gcC5pc01hbnkgPyB2YWx1ZS5sZW5ndGggOiB0cnVlO1xuICB9KTtcbn1cblxudmFyIEVTQ0FQRV9BVFRSX01BUCA9IHtcbiAgJ1xcbic6ICcjMTAnLFxuICAnXFxuXFxyJzogJyMxMCcsXG4gICdcIic6ICcjMzQnLFxuICAnXFwnJzogJyMzOScsXG4gICc8JzogJyM2MCcsXG4gICc+JzogJyM2MicsXG4gICcmJzogJyMzOCdcbn07XG5cbnZhciBFU0NBUEVfTUFQID0ge1xuICAnPCc6ICdsdCcsXG4gICc+JzogJ2d0JyxcbiAgJyYnOiAnYW1wJ1xufTtcblxuZnVuY3Rpb24gZXNjYXBlKHN0ciwgY2hhclBhdHRlcm4sIHJlcGxhY2VNYXApIHtcblxuICAvLyBlbnN1cmUgd2UgYXJlIGhhbmRsaW5nIHN0cmluZ3MgaGVyZVxuICBzdHIgPSBpc1N0cmluZyhzdHIpID8gc3RyIDogJycgKyBzdHI7XG5cbiAgcmV0dXJuIHN0ci5yZXBsYWNlKGNoYXJQYXR0ZXJuLCBmdW5jdGlvbihzKSB7XG4gICAgcmV0dXJuICcmJyArIHJlcGxhY2VNYXBbc10gKyAnOyc7XG4gIH0pO1xufVxuXG4vKipcbiAqIEVzY2FwZSBhIHN0cmluZyBhdHRyaWJ1dGUgdG8gbm90IGNvbnRhaW4gYW55IGJhZCB2YWx1ZXMgKGxpbmUgYnJlYWtzLCAnXCInLCAuLi4pXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0ciB0aGUgc3RyaW5nIHRvIGVzY2FwZVxuICogQHJldHVybiB7U3RyaW5nfSB0aGUgZXNjYXBlZCBzdHJpbmdcbiAqL1xuZnVuY3Rpb24gZXNjYXBlQXR0cihzdHIpIHtcbiAgcmV0dXJuIGVzY2FwZShzdHIsIEVTQ0FQRV9BVFRSX0NIQVJTLCBFU0NBUEVfQVRUUl9NQVApO1xufVxuXG5mdW5jdGlvbiBlc2NhcGVCb2R5KHN0cikge1xuICByZXR1cm4gZXNjYXBlKHN0ciwgRVNDQVBFX0NIQVJTLCBFU0NBUEVfTUFQKTtcbn1cblxuZnVuY3Rpb24gZmlsdGVyQXR0cmlidXRlcyhwcm9wcykge1xuICByZXR1cm4gZmlsdGVyKHByb3BzLCBmdW5jdGlvbihwKSB7IHJldHVybiBwLmlzQXR0cjsgfSk7XG59XG5cbmZ1bmN0aW9uIGZpbHRlckNvbnRhaW5lZChwcm9wcykge1xuICByZXR1cm4gZmlsdGVyKHByb3BzLCBmdW5jdGlvbihwKSB7IHJldHVybiAhcC5pc0F0dHI7IH0pO1xufVxuXG5cbmZ1bmN0aW9uIFJlZmVyZW5jZVNlcmlhbGl6ZXIodGFnTmFtZSkge1xuICB0aGlzLnRhZ05hbWUgPSB0YWdOYW1lO1xufVxuXG5SZWZlcmVuY2VTZXJpYWxpemVyLnByb3RvdHlwZS5idWlsZCA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5SZWZlcmVuY2VTZXJpYWxpemVyLnByb3RvdHlwZS5zZXJpYWxpemVUbyA9IGZ1bmN0aW9uKHdyaXRlcikge1xuICB3cml0ZXJcbiAgICAuYXBwZW5kSW5kZW50KClcbiAgICAuYXBwZW5kKCc8JyArIHRoaXMudGFnTmFtZSArICc+JyArIHRoaXMuZWxlbWVudC5pZCArICc8LycgKyB0aGlzLnRhZ05hbWUgKyAnPicpXG4gICAgLmFwcGVuZE5ld0xpbmUoKTtcbn07XG5cbmZ1bmN0aW9uIEJvZHlTZXJpYWxpemVyKCkge31cblxuQm9keVNlcmlhbGl6ZXIucHJvdG90eXBlLnNlcmlhbGl6ZVZhbHVlID1cbkJvZHlTZXJpYWxpemVyLnByb3RvdHlwZS5zZXJpYWxpemVUbyA9IGZ1bmN0aW9uKHdyaXRlcikge1xuICB3cml0ZXIuYXBwZW5kKFxuICAgIHRoaXMuZXNjYXBlXG4gICAgICA/IGVzY2FwZUJvZHkodGhpcy52YWx1ZSlcbiAgICAgIDogdGhpcy52YWx1ZVxuICApO1xufTtcblxuQm9keVNlcmlhbGl6ZXIucHJvdG90eXBlLmJ1aWxkID0gZnVuY3Rpb24ocHJvcCwgdmFsdWUpIHtcbiAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuXG4gIGlmIChwcm9wLnR5cGUgPT09ICdTdHJpbmcnICYmIHZhbHVlLnNlYXJjaChFU0NBUEVfQ0hBUlMpICE9PSAtMSkge1xuICAgIHRoaXMuZXNjYXBlID0gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuZnVuY3Rpb24gVmFsdWVTZXJpYWxpemVyKHRhZ05hbWUpIHtcbiAgdGhpcy50YWdOYW1lID0gdGFnTmFtZTtcbn1cblxuaW5oZXJpdHMoVmFsdWVTZXJpYWxpemVyLCBCb2R5U2VyaWFsaXplcik7XG5cblZhbHVlU2VyaWFsaXplci5wcm90b3R5cGUuc2VyaWFsaXplVG8gPSBmdW5jdGlvbih3cml0ZXIpIHtcblxuICB3cml0ZXJcbiAgICAuYXBwZW5kSW5kZW50KClcbiAgICAuYXBwZW5kKCc8JyArIHRoaXMudGFnTmFtZSArICc+Jyk7XG5cbiAgdGhpcy5zZXJpYWxpemVWYWx1ZSh3cml0ZXIpO1xuXG4gIHdyaXRlclxuICAgIC5hcHBlbmQoJzwvJyArIHRoaXMudGFnTmFtZSArICc+JylcbiAgICAuYXBwZW5kTmV3TGluZSgpO1xufTtcblxuZnVuY3Rpb24gRWxlbWVudFNlcmlhbGl6ZXIocGFyZW50LCBwcm9wZXJ0eURlc2NyaXB0b3IpIHtcbiAgdGhpcy5ib2R5ID0gW107XG4gIHRoaXMuYXR0cnMgPSBbXTtcblxuICB0aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgdGhpcy5wcm9wZXJ0eURlc2NyaXB0b3IgPSBwcm9wZXJ0eURlc2NyaXB0b3I7XG59XG5cbkVsZW1lbnRTZXJpYWxpemVyLnByb3RvdHlwZS5idWlsZCA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcblxuICB2YXIgZWxlbWVudERlc2NyaXB0b3IgPSBlbGVtZW50LiRkZXNjcmlwdG9yLFxuICAgICAgcHJvcGVydHlEZXNjcmlwdG9yID0gdGhpcy5wcm9wZXJ0eURlc2NyaXB0b3I7XG5cbiAgdmFyIG90aGVyQXR0cnMsXG4gICAgICBwcm9wZXJ0aWVzO1xuXG4gIHZhciBpc0dlbmVyaWMgPSBlbGVtZW50RGVzY3JpcHRvci5pc0dlbmVyaWM7XG5cbiAgaWYgKGlzR2VuZXJpYykge1xuICAgIG90aGVyQXR0cnMgPSB0aGlzLnBhcnNlR2VuZXJpYyhlbGVtZW50KTtcbiAgfSBlbHNlIHtcbiAgICBvdGhlckF0dHJzID0gdGhpcy5wYXJzZU5zQXR0cmlidXRlcyhlbGVtZW50KTtcbiAgfVxuXG4gIGlmIChwcm9wZXJ0eURlc2NyaXB0b3IpIHtcbiAgICB0aGlzLm5zID0gdGhpcy5uc1Byb3BlcnR5VGFnTmFtZShwcm9wZXJ0eURlc2NyaXB0b3IpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMubnMgPSB0aGlzLm5zVGFnTmFtZShlbGVtZW50RGVzY3JpcHRvcik7XG4gIH1cblxuICAvLyBjb21wdXRlIHRhZyBuYW1lXG4gIHRoaXMudGFnTmFtZSA9IHRoaXMuYWRkVGFnTmFtZSh0aGlzLm5zKTtcblxuICBpZiAoIWlzR2VuZXJpYykge1xuICAgIHByb3BlcnRpZXMgPSBnZXRTZXJpYWxpemFibGVQcm9wZXJ0aWVzKGVsZW1lbnQpO1xuXG4gICAgdGhpcy5wYXJzZUF0dHJpYnV0ZXMoZmlsdGVyQXR0cmlidXRlcyhwcm9wZXJ0aWVzKSk7XG4gICAgdGhpcy5wYXJzZUNvbnRhaW5tZW50cyhmaWx0ZXJDb250YWluZWQocHJvcGVydGllcykpO1xuICB9XG5cbiAgdGhpcy5wYXJzZUdlbmVyaWNBdHRyaWJ1dGVzKGVsZW1lbnQsIG90aGVyQXR0cnMpO1xuXG4gIHJldHVybiB0aGlzO1xufTtcblxuRWxlbWVudFNlcmlhbGl6ZXIucHJvdG90eXBlLm5zVGFnTmFtZSA9IGZ1bmN0aW9uKGRlc2NyaXB0b3IpIHtcbiAgdmFyIGVmZmVjdGl2ZU5zID0gdGhpcy5sb2dOYW1lc3BhY2VVc2VkKGRlc2NyaXB0b3IubnMpO1xuICByZXR1cm4gZ2V0RWxlbWVudE5zKGVmZmVjdGl2ZU5zLCBkZXNjcmlwdG9yKTtcbn07XG5cbkVsZW1lbnRTZXJpYWxpemVyLnByb3RvdHlwZS5uc1Byb3BlcnR5VGFnTmFtZSA9IGZ1bmN0aW9uKGRlc2NyaXB0b3IpIHtcbiAgdmFyIGVmZmVjdGl2ZU5zID0gdGhpcy5sb2dOYW1lc3BhY2VVc2VkKGRlc2NyaXB0b3IubnMpO1xuICByZXR1cm4gZ2V0UHJvcGVydHlOcyhlZmZlY3RpdmVOcywgZGVzY3JpcHRvcik7XG59O1xuXG5FbGVtZW50U2VyaWFsaXplci5wcm90b3R5cGUuaXNMb2NhbE5zID0gZnVuY3Rpb24obnMpIHtcbiAgcmV0dXJuIG5zLnVyaSA9PT0gdGhpcy5ucy51cmk7XG59O1xuXG4vKipcbiAqIEdldCB0aGUgYWN0dWFsIG5zIGF0dHJpYnV0ZSBuYW1lIGZvciB0aGUgZ2l2ZW4gZWxlbWVudC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gZWxlbWVudFxuICogQHBhcmFtIHtCb29sZWFufSBbZWxlbWVudC5pbmhlcml0ZWQ9ZmFsc2VdXG4gKlxuICogQHJldHVybiB7T2JqZWN0fSBuc05hbWVcbiAqL1xuRWxlbWVudFNlcmlhbGl6ZXIucHJvdG90eXBlLm5zQXR0cmlidXRlTmFtZSA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcblxuICB2YXIgbnM7XG5cbiAgaWYgKGlzU3RyaW5nKGVsZW1lbnQpKSB7XG4gICAgbnMgPSBwYXJzZU5hbWVOUyhlbGVtZW50KTtcbiAgfSBlbHNlIHtcbiAgICBucyA9IGVsZW1lbnQubnM7XG4gIH1cblxuICAvLyByZXR1cm4ganVzdCBsb2NhbCBuYW1lIGZvciBpbmhlcml0ZWQgYXR0cmlidXRlc1xuICBpZiAoZWxlbWVudC5pbmhlcml0ZWQpIHtcbiAgICByZXR1cm4geyBsb2NhbE5hbWU6IG5zLmxvY2FsTmFtZSB9O1xuICB9XG5cbiAgLy8gcGFyc2UgKyBsb2cgZWZmZWN0aXZlIG5zXG4gIHZhciBlZmZlY3RpdmVOcyA9IHRoaXMubG9nTmFtZXNwYWNlVXNlZChucyk7XG5cbiAgLy8gTE9HIEFDVFVBTCBuYW1lc3BhY2UgdXNlXG4gIHRoaXMuZ2V0TmFtZXNwYWNlcygpLmxvZ1VzZWQoZWZmZWN0aXZlTnMpO1xuXG4gIC8vIHN0cmlwIHByZWZpeCBpZiBzYW1lIG5hbWVzcGFjZSBsaWtlIHBhcmVudFxuICBpZiAodGhpcy5pc0xvY2FsTnMoZWZmZWN0aXZlTnMpKSB7XG4gICAgcmV0dXJuIHsgbG9jYWxOYW1lOiBucy5sb2NhbE5hbWUgfTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gYXNzaWduKHsgbG9jYWxOYW1lOiBucy5sb2NhbE5hbWUgfSwgZWZmZWN0aXZlTnMpO1xuICB9XG59O1xuXG5FbGVtZW50U2VyaWFsaXplci5wcm90b3R5cGUucGFyc2VHZW5lcmljID0gZnVuY3Rpb24oZWxlbWVudCkge1xuXG4gIHZhciBzZWxmID0gdGhpcyxcbiAgICAgIGJvZHkgPSB0aGlzLmJvZHk7XG5cbiAgdmFyIGF0dHJpYnV0ZXMgPSBbXTtcblxuICBmb3JFYWNoKGVsZW1lbnQsIGZ1bmN0aW9uKHZhbCwga2V5KSB7XG5cbiAgICB2YXIgbm9uTnNBdHRyO1xuXG4gICAgaWYgKGtleSA9PT0gJyRib2R5Jykge1xuICAgICAgYm9keS5wdXNoKG5ldyBCb2R5U2VyaWFsaXplcigpLmJ1aWxkKHsgdHlwZTogJ1N0cmluZycgfSwgdmFsKSk7XG4gICAgfSBlbHNlXG4gICAgaWYgKGtleSA9PT0gJyRjaGlsZHJlbicpIHtcbiAgICAgIGZvckVhY2godmFsLCBmdW5jdGlvbihjaGlsZCkge1xuICAgICAgICBib2R5LnB1c2gobmV3IEVsZW1lbnRTZXJpYWxpemVyKHNlbGYpLmJ1aWxkKGNoaWxkKSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2VcbiAgICBpZiAoa2V5LmluZGV4T2YoJyQnKSAhPT0gMCkge1xuICAgICAgbm9uTnNBdHRyID0gc2VsZi5wYXJzZU5zQXR0cmlidXRlKGVsZW1lbnQsIGtleSwgdmFsKTtcblxuICAgICAgaWYgKG5vbk5zQXR0cikge1xuICAgICAgICBhdHRyaWJ1dGVzLnB1c2goeyBuYW1lOiBrZXksIHZhbHVlOiB2YWwgfSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gYXR0cmlidXRlcztcbn07XG5cbkVsZW1lbnRTZXJpYWxpemVyLnByb3RvdHlwZS5wYXJzZU5zQXR0cmlidXRlID0gZnVuY3Rpb24oZWxlbWVudCwgbmFtZSwgdmFsdWUpIHtcbiAgdmFyIG1vZGVsID0gZWxlbWVudC4kbW9kZWw7XG5cbiAgdmFyIG5hbWVOcyA9IHBhcnNlTmFtZU5TKG5hbWUpO1xuXG4gIHZhciBucztcblxuICAvLyBwYXJzZSB4bWxuczpmb289XCJodHRwOi8vZm9vLmJhclwiXG4gIGlmIChuYW1lTnMucHJlZml4ID09PSAneG1sbnMnKSB7XG4gICAgbnMgPSB7IHByZWZpeDogbmFtZU5zLmxvY2FsTmFtZSwgdXJpOiB2YWx1ZSB9O1xuICB9XG5cbiAgLy8gcGFyc2UgeG1sbnM9XCJodHRwOi8vZm9vLmJhclwiXG4gIGlmICghbmFtZU5zLnByZWZpeCAmJiBuYW1lTnMubG9jYWxOYW1lID09PSAneG1sbnMnKSB7XG4gICAgbnMgPSB7IHVyaTogdmFsdWUgfTtcbiAgfVxuXG4gIGlmICghbnMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogbmFtZSxcbiAgICAgIHZhbHVlOiB2YWx1ZVxuICAgIH07XG4gIH1cblxuICBpZiAobW9kZWwgJiYgbW9kZWwuZ2V0UGFja2FnZSh2YWx1ZSkpIHtcblxuICAgIC8vIHJlZ2lzdGVyIHdlbGwga25vd24gbmFtZXNwYWNlXG4gICAgdGhpcy5sb2dOYW1lc3BhY2UobnMsIHRydWUsIHRydWUpO1xuICB9IGVsc2Uge1xuXG4gICAgLy8gbG9nIGN1c3RvbSBuYW1lc3BhY2UgZGlyZWN0bHkgYXMgdXNlZFxuICAgIHZhciBhY3R1YWxOcyA9IHRoaXMubG9nTmFtZXNwYWNlVXNlZChucywgdHJ1ZSk7XG5cbiAgICB0aGlzLmdldE5hbWVzcGFjZXMoKS5sb2dVc2VkKGFjdHVhbE5zKTtcbiAgfVxufTtcblxuXG4vKipcbiAqIFBhcnNlIG5hbWVzcGFjZXMgYW5kIHJldHVybiBhIGxpc3Qgb2YgbGVmdCBvdmVyIGdlbmVyaWMgYXR0cmlidXRlc1xuICpcbiAqIEBwYXJhbSAge09iamVjdH0gZWxlbWVudFxuICogQHJldHVybiB7QXJyYXk8T2JqZWN0Pn1cbiAqL1xuRWxlbWVudFNlcmlhbGl6ZXIucHJvdG90eXBlLnBhcnNlTnNBdHRyaWJ1dGVzID0gZnVuY3Rpb24oZWxlbWVudCwgYXR0cnMpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIHZhciBnZW5lcmljQXR0cnMgPSBlbGVtZW50LiRhdHRycztcblxuICB2YXIgYXR0cmlidXRlcyA9IFtdO1xuXG4gIC8vIHBhcnNlIG5hbWVzcGFjZSBhdHRyaWJ1dGVzIGZpcnN0XG4gIC8vIGFuZCBsb2cgdGhlbS4gcHVzaCBub24gbmFtZXNwYWNlIGF0dHJpYnV0ZXMgdG8gYSBsaXN0XG4gIC8vIGFuZCBwcm9jZXNzIHRoZW0gbGF0ZXJcbiAgZm9yRWFjaChnZW5lcmljQXR0cnMsIGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XG5cbiAgICB2YXIgbm9uTnNBdHRyID0gc2VsZi5wYXJzZU5zQXR0cmlidXRlKGVsZW1lbnQsIG5hbWUsIHZhbHVlKTtcblxuICAgIGlmIChub25Oc0F0dHIpIHtcbiAgICAgIGF0dHJpYnV0ZXMucHVzaChub25Oc0F0dHIpO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIGF0dHJpYnV0ZXM7XG59O1xuXG5FbGVtZW50U2VyaWFsaXplci5wcm90b3R5cGUucGFyc2VHZW5lcmljQXR0cmlidXRlcyA9IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHJpYnV0ZXMpIHtcblxuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgZm9yRWFjaChhdHRyaWJ1dGVzLCBmdW5jdGlvbihhdHRyKSB7XG5cbiAgICAvLyBkbyBub3Qgc2VyaWFsaXplIHhzaTp0eXBlIGF0dHJpYnV0ZVxuICAgIC8vIGl0IGlzIHNldCBtYW51YWxseSBiYXNlZCBvbiB0aGUgYWN0dWFsIGltcGxlbWVudGF0aW9uIHR5cGVcbiAgICBpZiAoYXR0ci5uYW1lID09PSBYU0lfVFlQRSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBzZWxmLmFkZEF0dHJpYnV0ZShzZWxmLm5zQXR0cmlidXRlTmFtZShhdHRyLm5hbWUpLCBhdHRyLnZhbHVlKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICdtaXNzaW5nIG5hbWVzcGFjZSBpbmZvcm1hdGlvbiBmb3IgJyxcbiAgICAgICAgYXR0ci5uYW1lLCAnPScsIGF0dHIudmFsdWUsICdvbicsIGVsZW1lbnQsXG4gICAgICAgIGUpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5FbGVtZW50U2VyaWFsaXplci5wcm90b3R5cGUucGFyc2VDb250YWlubWVudHMgPSBmdW5jdGlvbihwcm9wZXJ0aWVzKSB7XG5cbiAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgYm9keSA9IHRoaXMuYm9keSxcbiAgICAgIGVsZW1lbnQgPSB0aGlzLmVsZW1lbnQ7XG5cbiAgZm9yRWFjaChwcm9wZXJ0aWVzLCBmdW5jdGlvbihwKSB7XG4gICAgdmFyIHZhbHVlID0gZWxlbWVudC5nZXQocC5uYW1lKSxcbiAgICAgICAgaXNSZWZlcmVuY2UgPSBwLmlzUmVmZXJlbmNlLFxuICAgICAgICBpc01hbnkgPSBwLmlzTWFueTtcblxuICAgIGlmICghaXNNYW55KSB7XG4gICAgICB2YWx1ZSA9IFsgdmFsdWUgXTtcbiAgICB9XG5cbiAgICBpZiAocC5pc0JvZHkpIHtcbiAgICAgIGJvZHkucHVzaChuZXcgQm9keVNlcmlhbGl6ZXIoKS5idWlsZChwLCB2YWx1ZVswXSkpO1xuICAgIH0gZWxzZVxuICAgIGlmIChpc1NpbXBsZVR5cGUocC50eXBlKSkge1xuICAgICAgZm9yRWFjaCh2YWx1ZSwgZnVuY3Rpb24odikge1xuICAgICAgICBib2R5LnB1c2gobmV3IFZhbHVlU2VyaWFsaXplcihzZWxmLmFkZFRhZ05hbWUoc2VsZi5uc1Byb3BlcnR5VGFnTmFtZShwKSkpLmJ1aWxkKHAsIHYpKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZVxuICAgIGlmIChpc1JlZmVyZW5jZSkge1xuICAgICAgZm9yRWFjaCh2YWx1ZSwgZnVuY3Rpb24odikge1xuICAgICAgICBib2R5LnB1c2gobmV3IFJlZmVyZW5jZVNlcmlhbGl6ZXIoc2VsZi5hZGRUYWdOYW1lKHNlbGYubnNQcm9wZXJ0eVRhZ05hbWUocCkpKS5idWlsZCh2KSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuXG4gICAgICAvLyBhbGxvdyBzZXJpYWxpemF0aW9uIHZpYSB0eXBlXG4gICAgICAvLyByYXRoZXIgdGhhbiBlbGVtZW50IG5hbWVcbiAgICAgIHZhciBhc1R5cGUgPSBzZXJpYWxpemVBc1R5cGUocCksXG4gICAgICAgICAgYXNQcm9wZXJ0eSA9IHNlcmlhbGl6ZUFzUHJvcGVydHkocCk7XG5cbiAgICAgIGZvckVhY2godmFsdWUsIGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgdmFyIHNlcmlhbGl6ZXI7XG5cbiAgICAgICAgaWYgKGFzVHlwZSkge1xuICAgICAgICAgIHNlcmlhbGl6ZXIgPSBuZXcgVHlwZVNlcmlhbGl6ZXIoc2VsZiwgcCk7XG4gICAgICAgIH0gZWxzZVxuICAgICAgICBpZiAoYXNQcm9wZXJ0eSkge1xuICAgICAgICAgIHNlcmlhbGl6ZXIgPSBuZXcgRWxlbWVudFNlcmlhbGl6ZXIoc2VsZiwgcCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VyaWFsaXplciA9IG5ldyBFbGVtZW50U2VyaWFsaXplcihzZWxmKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJvZHkucHVzaChzZXJpYWxpemVyLmJ1aWxkKHYpKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG59O1xuXG5FbGVtZW50U2VyaWFsaXplci5wcm90b3R5cGUuZ2V0TmFtZXNwYWNlcyA9IGZ1bmN0aW9uKGxvY2FsKSB7XG5cbiAgdmFyIG5hbWVzcGFjZXMgPSB0aGlzLm5hbWVzcGFjZXMsXG4gICAgICBwYXJlbnQgPSB0aGlzLnBhcmVudCxcbiAgICAgIHBhcmVudE5hbWVzcGFjZXM7XG5cbiAgaWYgKCFuYW1lc3BhY2VzKSB7XG4gICAgcGFyZW50TmFtZXNwYWNlcyA9IHBhcmVudCAmJiBwYXJlbnQuZ2V0TmFtZXNwYWNlcygpO1xuXG4gICAgaWYgKGxvY2FsIHx8ICFwYXJlbnROYW1lc3BhY2VzKSB7XG4gICAgICB0aGlzLm5hbWVzcGFjZXMgPSBuYW1lc3BhY2VzID0gbmV3IE5hbWVzcGFjZXMocGFyZW50TmFtZXNwYWNlcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5hbWVzcGFjZXMgPSBwYXJlbnROYW1lc3BhY2VzO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuYW1lc3BhY2VzO1xufTtcblxuRWxlbWVudFNlcmlhbGl6ZXIucHJvdG90eXBlLmxvZ05hbWVzcGFjZSA9IGZ1bmN0aW9uKG5zLCB3ZWxsa25vd24sIGxvY2FsKSB7XG4gIHZhciBuYW1lc3BhY2VzID0gdGhpcy5nZXROYW1lc3BhY2VzKGxvY2FsKTtcblxuICB2YXIgbnNVcmkgPSBucy51cmksXG4gICAgICBuc1ByZWZpeCA9IG5zLnByZWZpeDtcblxuICB2YXIgZXhpc3RpbmcgPSBuYW1lc3BhY2VzLmJ5VXJpKG5zVXJpKTtcblxuICBpZiAobnNQcmVmaXggIT09ICd4bWwnICYmICghZXhpc3RpbmcgfHwgbG9jYWwpKSB7XG4gICAgbmFtZXNwYWNlcy5hZGQobnMsIHdlbGxrbm93bik7XG4gIH1cblxuICBuYW1lc3BhY2VzLm1hcFByZWZpeChuc1ByZWZpeCwgbnNVcmkpO1xuXG4gIHJldHVybiBucztcbn07XG5cbkVsZW1lbnRTZXJpYWxpemVyLnByb3RvdHlwZS5sb2dOYW1lc3BhY2VVc2VkID0gZnVuY3Rpb24obnMsIGxvY2FsKSB7XG4gIHZhciBlbGVtZW50ID0gdGhpcy5lbGVtZW50LFxuICAgICAgbW9kZWwgPSBlbGVtZW50LiRtb2RlbCxcbiAgICAgIG5hbWVzcGFjZXMgPSB0aGlzLmdldE5hbWVzcGFjZXMobG9jYWwpO1xuXG4gIC8vIG5zIG1heSBiZVxuICAvL1xuICAvLyAgICogcHJlZml4IG9ubHlcbiAgLy8gICAqIHByZWZpeDp1cmlcbiAgLy8gICAqIGxvY2FsTmFtZSBvbmx5XG5cbiAgdmFyIHByZWZpeCA9IG5zLnByZWZpeCxcbiAgICAgIHVyaSA9IG5zLnVyaSxcbiAgICAgIG5ld1ByZWZpeCwgaWR4LFxuICAgICAgd2VsbGtub3duVXJpO1xuXG4gIC8vIGhhbmRsZSBhbm9ueW1vdXMgbmFtZXNwYWNlcyAoZWxlbWVudEZvcm09dW5xdWFsaWZpZWQpLCBjZi4gIzIzXG4gIGlmICghcHJlZml4ICYmICF1cmkpIHtcbiAgICByZXR1cm4geyBsb2NhbE5hbWU6IG5zLmxvY2FsTmFtZSB9O1xuICB9XG5cbiAgd2VsbGtub3duVXJpID0gREVGQVVMVF9OU19NQVBbcHJlZml4XSB8fCBtb2RlbCAmJiAobW9kZWwuZ2V0UGFja2FnZShwcmVmaXgpIHx8IHt9KS51cmk7XG5cbiAgdXJpID0gdXJpIHx8IHdlbGxrbm93blVyaSB8fCBuYW1lc3BhY2VzLnVyaUJ5UHJlZml4KHByZWZpeCk7XG5cbiAgaWYgKCF1cmkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ25vIG5hbWVzcGFjZSB1cmkgZ2l2ZW4gZm9yIHByZWZpeCA8JyArIHByZWZpeCArICc+Jyk7XG4gIH1cblxuICBucyA9IG5hbWVzcGFjZXMuYnlVcmkodXJpKTtcblxuICBpZiAoIW5zKSB7XG4gICAgbmV3UHJlZml4ID0gcHJlZml4O1xuICAgIGlkeCA9IDE7XG5cbiAgICAvLyBmaW5kIGEgcHJlZml4IHRoYXQgaXMgbm90IG1hcHBlZCB5ZXRcbiAgICB3aGlsZSAobmFtZXNwYWNlcy51cmlCeVByZWZpeChuZXdQcmVmaXgpKSB7XG4gICAgICBuZXdQcmVmaXggPSBwcmVmaXggKyAnXycgKyBpZHgrKztcbiAgICB9XG5cbiAgICBucyA9IHRoaXMubG9nTmFtZXNwYWNlKHsgcHJlZml4OiBuZXdQcmVmaXgsIHVyaTogdXJpIH0sIHdlbGxrbm93blVyaSA9PT0gdXJpKTtcbiAgfVxuXG4gIGlmIChwcmVmaXgpIHtcbiAgICBuYW1lc3BhY2VzLm1hcFByZWZpeChwcmVmaXgsIHVyaSk7XG4gIH1cblxuICByZXR1cm4gbnM7XG59O1xuXG5FbGVtZW50U2VyaWFsaXplci5wcm90b3R5cGUucGFyc2VBdHRyaWJ1dGVzID0gZnVuY3Rpb24ocHJvcGVydGllcykge1xuICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICBlbGVtZW50ID0gdGhpcy5lbGVtZW50O1xuXG4gIGZvckVhY2gocHJvcGVydGllcywgZnVuY3Rpb24ocCkge1xuXG4gICAgdmFyIHZhbHVlID0gZWxlbWVudC5nZXQocC5uYW1lKTtcblxuICAgIGlmIChwLmlzUmVmZXJlbmNlKSB7XG5cbiAgICAgIGlmICghcC5pc01hbnkpIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZS5pZDtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB2YXIgdmFsdWVzID0gW107XG4gICAgICAgIGZvckVhY2godmFsdWUsIGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgICB2YWx1ZXMucHVzaCh2LmlkKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gSURSRUZTIGlzIGEgd2hpdGVzcGFjZS1zZXBhcmF0ZWQgbGlzdCBvZiByZWZlcmVuY2VzLlxuICAgICAgICB2YWx1ZSA9IHZhbHVlcy5qb2luKCcgJyk7XG4gICAgICB9XG5cbiAgICB9XG5cbiAgICBzZWxmLmFkZEF0dHJpYnV0ZShzZWxmLm5zQXR0cmlidXRlTmFtZShwKSwgdmFsdWUpO1xuICB9KTtcbn07XG5cbkVsZW1lbnRTZXJpYWxpemVyLnByb3RvdHlwZS5hZGRUYWdOYW1lID0gZnVuY3Rpb24obnNUYWdOYW1lKSB7XG4gIHZhciBhY3R1YWxOcyA9IHRoaXMubG9nTmFtZXNwYWNlVXNlZChuc1RhZ05hbWUpO1xuXG4gIHRoaXMuZ2V0TmFtZXNwYWNlcygpLmxvZ1VzZWQoYWN0dWFsTnMpO1xuXG4gIHJldHVybiBuc05hbWUobnNUYWdOYW1lKTtcbn07XG5cbkVsZW1lbnRTZXJpYWxpemVyLnByb3RvdHlwZS5hZGRBdHRyaWJ1dGUgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICB2YXIgYXR0cnMgPSB0aGlzLmF0dHJzO1xuXG4gIGlmIChpc1N0cmluZyh2YWx1ZSkpIHtcbiAgICB2YWx1ZSA9IGVzY2FwZUF0dHIodmFsdWUpO1xuICB9XG5cbiAgYXR0cnMucHVzaCh7IG5hbWU6IG5hbWUsIHZhbHVlOiB2YWx1ZSB9KTtcbn07XG5cbkVsZW1lbnRTZXJpYWxpemVyLnByb3RvdHlwZS5zZXJpYWxpemVBdHRyaWJ1dGVzID0gZnVuY3Rpb24od3JpdGVyKSB7XG4gIHZhciBhdHRycyA9IHRoaXMuYXR0cnMsXG4gICAgICBuYW1lc3BhY2VzID0gdGhpcy5uYW1lc3BhY2VzO1xuXG4gIGlmIChuYW1lc3BhY2VzKSB7XG4gICAgYXR0cnMgPSBnZXROc0F0dHJzKG5hbWVzcGFjZXMpLmNvbmNhdChhdHRycyk7XG4gIH1cblxuICBmb3JFYWNoKGF0dHJzLCBmdW5jdGlvbihhKSB7XG4gICAgd3JpdGVyXG4gICAgICAuYXBwZW5kKCcgJylcbiAgICAgIC5hcHBlbmQobnNOYW1lKGEubmFtZSkpLmFwcGVuZCgnPVwiJykuYXBwZW5kKGEudmFsdWUpLmFwcGVuZCgnXCInKTtcbiAgfSk7XG59O1xuXG5FbGVtZW50U2VyaWFsaXplci5wcm90b3R5cGUuc2VyaWFsaXplVG8gPSBmdW5jdGlvbih3cml0ZXIpIHtcbiAgdmFyIGZpcnN0Qm9keSA9IHRoaXMuYm9keVswXSxcbiAgICAgIGluZGVudCA9IGZpcnN0Qm9keSAmJiBmaXJzdEJvZHkuY29uc3RydWN0b3IgIT09IEJvZHlTZXJpYWxpemVyO1xuXG4gIHdyaXRlclxuICAgIC5hcHBlbmRJbmRlbnQoKVxuICAgIC5hcHBlbmQoJzwnICsgdGhpcy50YWdOYW1lKTtcblxuICB0aGlzLnNlcmlhbGl6ZUF0dHJpYnV0ZXMod3JpdGVyKTtcblxuICB3cml0ZXIuYXBwZW5kKGZpcnN0Qm9keSA/ICc+JyA6ICcgLz4nKTtcblxuICBpZiAoZmlyc3RCb2R5KSB7XG5cbiAgICBpZiAoaW5kZW50KSB7XG4gICAgICB3cml0ZXJcbiAgICAgICAgLmFwcGVuZE5ld0xpbmUoKVxuICAgICAgICAuaW5kZW50KCk7XG4gICAgfVxuXG4gICAgZm9yRWFjaCh0aGlzLmJvZHksIGZ1bmN0aW9uKGIpIHtcbiAgICAgIGIuc2VyaWFsaXplVG8od3JpdGVyKTtcbiAgICB9KTtcblxuICAgIGlmIChpbmRlbnQpIHtcbiAgICAgIHdyaXRlclxuICAgICAgICAudW5pbmRlbnQoKVxuICAgICAgICAuYXBwZW5kSW5kZW50KCk7XG4gICAgfVxuXG4gICAgd3JpdGVyLmFwcGVuZCgnPC8nICsgdGhpcy50YWdOYW1lICsgJz4nKTtcbiAgfVxuXG4gIHdyaXRlci5hcHBlbmROZXdMaW5lKCk7XG59O1xuXG4vKipcbiAqIEEgc2VyaWFsaXplciBmb3IgdHlwZXMgdGhhdCBoYW5kbGVzIHNlcmlhbGl6YXRpb24gb2YgZGF0YSB0eXBlc1xuICovXG5mdW5jdGlvbiBUeXBlU2VyaWFsaXplcihwYXJlbnQsIHByb3BlcnR5RGVzY3JpcHRvcikge1xuICBFbGVtZW50U2VyaWFsaXplci5jYWxsKHRoaXMsIHBhcmVudCwgcHJvcGVydHlEZXNjcmlwdG9yKTtcbn1cblxuaW5oZXJpdHMoVHlwZVNlcmlhbGl6ZXIsIEVsZW1lbnRTZXJpYWxpemVyKTtcblxuVHlwZVNlcmlhbGl6ZXIucHJvdG90eXBlLnBhcnNlTnNBdHRyaWJ1dGVzID0gZnVuY3Rpb24oZWxlbWVudCkge1xuXG4gIC8vIGV4dHJhY3RlZCBhdHRyaWJ1dGVzXG4gIHZhciBhdHRyaWJ1dGVzID0gRWxlbWVudFNlcmlhbGl6ZXIucHJvdG90eXBlLnBhcnNlTnNBdHRyaWJ1dGVzLmNhbGwodGhpcywgZWxlbWVudCk7XG5cbiAgdmFyIGRlc2NyaXB0b3IgPSBlbGVtZW50LiRkZXNjcmlwdG9yO1xuXG4gIC8vIG9ubHkgc2VyaWFsaXplIHhzaTp0eXBlIGlmIG5lY2Vzc2FyeVxuICBpZiAoZGVzY3JpcHRvci5uYW1lID09PSB0aGlzLnByb3BlcnR5RGVzY3JpcHRvci50eXBlKSB7XG4gICAgcmV0dXJuIGF0dHJpYnV0ZXM7XG4gIH1cblxuICB2YXIgdHlwZU5zID0gdGhpcy50eXBlTnMgPSB0aGlzLm5zVGFnTmFtZShkZXNjcmlwdG9yKTtcbiAgdGhpcy5nZXROYW1lc3BhY2VzKCkubG9nVXNlZCh0aGlzLnR5cGVOcyk7XG5cbiAgLy8gYWRkIHhzaTp0eXBlIGF0dHJpYnV0ZSB0byByZXByZXNlbnQgdGhlIGVsZW1lbnRzXG4gIC8vIGFjdHVhbCB0eXBlXG5cbiAgdmFyIHBrZyA9IGVsZW1lbnQuJG1vZGVsLmdldFBhY2thZ2UodHlwZU5zLnVyaSksXG4gICAgICB0eXBlUHJlZml4ID0gKHBrZy54bWwgJiYgcGtnLnhtbC50eXBlUHJlZml4KSB8fCAnJztcblxuICB0aGlzLmFkZEF0dHJpYnV0ZShcbiAgICB0aGlzLm5zQXR0cmlidXRlTmFtZShYU0lfVFlQRSksXG4gICAgKHR5cGVOcy5wcmVmaXggPyB0eXBlTnMucHJlZml4ICsgJzonIDogJycpICsgdHlwZVByZWZpeCArIGRlc2NyaXB0b3IubnMubG9jYWxOYW1lXG4gICk7XG5cbiAgcmV0dXJuIGF0dHJpYnV0ZXM7XG59O1xuXG5UeXBlU2VyaWFsaXplci5wcm90b3R5cGUuaXNMb2NhbE5zID0gZnVuY3Rpb24obnMpIHtcbiAgcmV0dXJuIG5zLnVyaSA9PT0gKHRoaXMudHlwZU5zIHx8IHRoaXMubnMpLnVyaTtcbn07XG5cbmZ1bmN0aW9uIFNhdmluZ1dyaXRlcigpIHtcbiAgdGhpcy52YWx1ZSA9ICcnO1xuXG4gIHRoaXMud3JpdGUgPSBmdW5jdGlvbihzdHIpIHtcbiAgICB0aGlzLnZhbHVlICs9IHN0cjtcbiAgfTtcbn1cblxuZnVuY3Rpb24gRm9ybWF0aW5nV3JpdGVyKG91dCwgZm9ybWF0KSB7XG5cbiAgdmFyIGluZGVudCA9IFsnJ107XG5cbiAgdGhpcy5hcHBlbmQgPSBmdW5jdGlvbihzdHIpIHtcbiAgICBvdXQud3JpdGUoc3RyKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIHRoaXMuYXBwZW5kTmV3TGluZSA9IGZ1bmN0aW9uKCkge1xuICAgIGlmIChmb3JtYXQpIHtcbiAgICAgIG91dC53cml0ZSgnXFxuJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgdGhpcy5hcHBlbmRJbmRlbnQgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoZm9ybWF0KSB7XG4gICAgICBvdXQud3JpdGUoaW5kZW50LmpvaW4oJyAgJykpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIHRoaXMuaW5kZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgaW5kZW50LnB1c2goJycpO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIHRoaXMudW5pbmRlbnQgPSBmdW5jdGlvbigpIHtcbiAgICBpbmRlbnQucG9wKCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG59XG5cbi8qKlxuICogQSB3cml0ZXIgZm9yIG1ldGEtbW9kZWwgYmFja2VkIGRvY3VtZW50IHRyZWVzXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgb3V0cHV0IG9wdGlvbnMgdG8gcGFzcyBpbnRvIHRoZSB3cml0ZXJcbiAqL1xuZnVuY3Rpb24gV3JpdGVyKG9wdGlvbnMpIHtcblxuICBvcHRpb25zID0gYXNzaWduKHsgZm9ybWF0OiBmYWxzZSwgcHJlYW1ibGU6IHRydWUgfSwgb3B0aW9ucyB8fCB7fSk7XG5cbiAgZnVuY3Rpb24gdG9YTUwodHJlZSwgd3JpdGVyKSB7XG4gICAgdmFyIGludGVybmFsV3JpdGVyID0gd3JpdGVyIHx8IG5ldyBTYXZpbmdXcml0ZXIoKTtcbiAgICB2YXIgZm9ybWF0aW5nV3JpdGVyID0gbmV3IEZvcm1hdGluZ1dyaXRlcihpbnRlcm5hbFdyaXRlciwgb3B0aW9ucy5mb3JtYXQpO1xuXG4gICAgaWYgKG9wdGlvbnMucHJlYW1ibGUpIHtcbiAgICAgIGZvcm1hdGluZ1dyaXRlci5hcHBlbmQoWE1MX1BSRUFNQkxFKTtcbiAgICB9XG5cbiAgICBuZXcgRWxlbWVudFNlcmlhbGl6ZXIoKS5idWlsZCh0cmVlKS5zZXJpYWxpemVUbyhmb3JtYXRpbmdXcml0ZXIpO1xuXG4gICAgaWYgKCF3cml0ZXIpIHtcbiAgICAgIHJldHVybiBpbnRlcm5hbFdyaXRlci52YWx1ZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHRvWE1MOiB0b1hNTFxuICB9O1xufVxuXG5leHBvcnQgeyBSZWFkZXIsIFdyaXRlciB9O1xuIiwiaW1wb3J0IHsgaXNTdHJpbmcsIGFzc2lnbiB9IGZyb20gJ21pbi1kYXNoJztcblxuaW1wb3J0IHsgTW9kZGxlIH0gZnJvbSAnbW9kZGxlJztcblxuaW1wb3J0IHsgUmVhZGVyLCBXcml0ZXIgfSBmcm9tICdtb2RkbGUteG1sJztcblxuLyoqXG4gKiBBIHN1YiBjbGFzcyBvZiB7QGxpbmsgTW9kZGxlfSB3aXRoIHN1cHBvcnQgZm9yIGltcG9ydCBhbmQgZXhwb3J0IG9mIFBvc3RpdC1qcyB4bWwgZmlsZXMuXG4gKlxuICogQGNsYXNzIFBvc3RpdE1vZGRsZVxuICpcbiAqIEBleHRlbmRzIE1vZGRsZVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fEFycmF5fSBwYWNrYWdlcyB0byB1c2UgZm9yIGluc3RhbnRpYXRpbmcgdGhlIG1vZGVsXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIGFkZGl0aW9uYWwgb3B0aW9ucyB0byBwYXNzIG92ZXJcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUG9zdGl0TW9kZGxlKHBhY2thZ2VzLCBvcHRpb25zKSB7XG4gIE1vZGRsZS5jYWxsKHRoaXMsIHBhY2thZ2VzLCBvcHRpb25zKTtcbn1cblxuUG9zdGl0TW9kZGxlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoTW9kZGxlLnByb3RvdHlwZSk7XG5cbi8qKlxuICogVGhlIGZyb21YTUwgcmVzdWx0LlxuICpcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFBhcnNlUmVzdWx0XG4gKlxuICogQHByb3BlcnR5IHtNb2RkbGVFbGVtZW50fSByb290RWxlbWVudFxuICogQHByb3BlcnR5IHtBcnJheTxPYmplY3Q+fSByZWZlcmVuY2VzXG4gKiBAcHJvcGVydHkge0FycmF5PEVycm9yPn0gd2FybmluZ3NcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBlbGVtZW50c0J5SWQgLSBhIG1hcHBpbmcgY29udGFpbmluZyBlYWNoIElEIC0+IE1vZGRsZUVsZW1lbnRcbiAqL1xuXG4vKipcbiAqIFRoZSBmcm9tWE1MIGVycm9yLlxuICpcbiAqIEB0eXBlZGVmIHtFcnJvcn0gUGFyc2VFcnJvclxuICpcbiAqIEBwcm9wZXJ0eSB7QXJyYXk8RXJyb3I+fSB3YXJuaW5nc1xuICovXG5cbi8qKlxuICogSW5zdGFudGlhdGVzIGEgUG9zdGl0IG1vZGVsIHRyZWUgZnJvbSBhIGdpdmVuIHhtbCBzdHJpbmcuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9ICAgeG1sU3RyXG4gKiBAcGFyYW0ge1N0cmluZ30gICBbdHlwZU5hbWU9J3Bvc3RpdDpEZWZpbml0aW9ucyddIG5hbWUgb2YgdGhlIHJvb3QgZWxlbWVudFxuICogQHBhcmFtIHtPYmplY3R9ICAgW29wdGlvbnNdICBvcHRpb25zIHRvIHBhc3MgdG8gdGhlIHVuZGVybHlpbmcgcmVhZGVyXG4gKlxuICogQHJldHVybnMge1Byb21pc2U8UGFyc2VSZXN1bHQsIFBhcnNlRXJyb3I+fVxuICovXG5Qb3N0aXRNb2RkbGUucHJvdG90eXBlLmZyb21YTUwgPSBmdW5jdGlvbih4bWxTdHIsIHR5cGVOYW1lLCBvcHRpb25zKSB7XG4gIGlmICghaXNTdHJpbmcodHlwZU5hbWUpKSB7XG4gICAgb3B0aW9ucyA9IHR5cGVOYW1lO1xuICAgIHR5cGVOYW1lID0gJ3Bvc3RpdDpEZWZpbml0aW9ucyc7XG4gIH1cblxuICB2YXIgcmVhZGVyID0gbmV3IFJlYWRlcihhc3NpZ24oeyBtb2RlbDogdGhpcywgbGF4OiB0cnVlIH0sIG9wdGlvbnMpKTtcbiAgdmFyIHJvb3RIYW5kbGVyID0gcmVhZGVyLmhhbmRsZXIodHlwZU5hbWUpO1xuXG4gIHJldHVybiByZWFkZXIuZnJvbVhNTCh4bWxTdHIsIHJvb3RIYW5kbGVyKTtcbn07XG5cbi8qKlxuICogVGhlIHRvWE1MIHJlc3VsdC5cbiAqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBTZXJpYWxpemF0aW9uUmVzdWx0XG4gKlxuICogQHByb3BlcnR5IHtTdHJpbmd9IHhtbFxuICovXG5cbi8qKlxuICogU2VyaWFsaXplcyBhIFBvc3RpdCBvYmplY3QgdHJlZSB0byBYTUwuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9ICAgZWxlbWVudCAgICB0aGUgcm9vdCBlbGVtZW50LCB0eXBpY2FsbHkgYW4gaW5zdGFuY2Ugb2YgYHBvc3RpdDpEZWZpbml0aW9uc2BcbiAqIEBwYXJhbSB7T2JqZWN0fSAgIFtvcHRpb25zXSAgdG8gcGFzcyB0byB0aGUgdW5kZXJseWluZyB3cml0ZXJcbiAqXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxTZXJpYWxpemF0aW9uUmVzdWx0LCBFcnJvcj59XG4gKi9cblBvc3RpdE1vZGRsZS5wcm90b3R5cGUudG9YTUwgPSBmdW5jdGlvbihlbGVtZW50LCBvcHRpb25zKSB7XG4gIHZhciB3cml0ZXIgPSBuZXcgV3JpdGVyKG9wdGlvbnMpO1xuXG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICB0cnkge1xuICAgICAgdmFyIHJlc3VsdCA9IHdyaXRlci50b1hNTChlbGVtZW50KTtcblxuICAgICAgcmV0dXJuIHJlc29sdmUoe1xuICAgICAgICB4bWw6IHJlc3VsdFxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICByZXR1cm4gcmVqZWN0KGVycik7XG4gICAgfVxuICB9KTtcbn07XG4iLCJcbmltcG9ydCB7XG4gIGFzc2lnblxufSBmcm9tICdtaW4tZGFzaCc7XG5cbmltcG9ydCBNb2RkbGUgZnJvbSAnLi9Nb2RkbGUnO1xuXG5pbXBvcnQgUG9zdGl0RGVzY3JpcHRvcnMgZnJvbSAnLi9yZXNvdXJjZXMvcG9zdGl0Lmpzb24nO1xuaW1wb3J0IERpRGVzY3JpcHRvcnMgZnJvbSAnLi9yZXNvdXJjZXMvcG9zdGl0RGkuanNvbic7XG5pbXBvcnQgRGNEZXNjcmlwdG9ycyBmcm9tICcuL3Jlc291cmNlcy9kYy5qc29uJztcblxudmFyIHBhY2thZ2VzID0ge1xuICBwb3N0aXQ6IFBvc3RpdERlc2NyaXB0b3JzLFxuICBwb3N0aXREaTogRGlEZXNjcmlwdG9ycyxcbiAgZGM6IERjRGVzY3JpcHRvcnMsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihhZGRpdGlvbmFsUGFja2FnZXMsIG9wdGlvbnMpIHtcbiAgdmFyIHBrcyA9IGFzc2lnbih7fSwgcGFja2FnZXMsIGFkZGl0aW9uYWxQYWNrYWdlcyk7XG5cbiAgcmV0dXJuIG5ldyBNb2RkbGUocGtzLCBvcHRpb25zKTtcbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBlbGVtZW50VG9TdHJpbmcoZSkge1xuICBpZiAoIWUpIHtcbiAgICByZXR1cm4gJzxudWxsPic7XG4gIH1cblxuICByZXR1cm4gJzwnICsgZS4kdHlwZSArIChlLmlkID8gJyBpZD1cIicgKyBlLmlkIDogJycpICsgJ1wiIC8+Jztcbn0iLCJpbXBvcnQge1xuICBmaW5kLFxuICBmb3JFYWNoXG59IGZyb20gJ21pbi1kYXNoJztcblxuaW1wb3J0IFJlZnMgZnJvbSAnb2JqZWN0LXJlZnMnO1xuXG5pbXBvcnQge1xuICBlbGVtZW50VG9TdHJpbmdcbn0gZnJvbSAnLi9VdGlsJztcblxudmFyIGRpUmVmcyA9IG5ldyBSZWZzKFxuICB7IG5hbWU6ICdib2FyZEVsZW1lbnQnLCBlbnVtZXJhYmxlOiB0cnVlIH0sXG4gIHsgbmFtZTogJ2RpJywgY29uZmlndXJhYmxlOiB0cnVlIH1cbik7XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIGFuIGVsZW1lbnQgaGFzIHRoZSBnaXZlbiBtZXRhLW1vZGVsIHR5cGVcbiAqXG4gKiBAcGFyYW0gIHtNb2RkbGVFbGVtZW50fSAgZWxlbWVudFxuICogQHBhcmFtICB7U3RyaW5nfSAgICAgICAgIHR5cGVcbiAqXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICovXG5mdW5jdGlvbiBpcyhlbGVtZW50LCB0eXBlKSB7XG4gIHJldHVybiBlbGVtZW50LiRpbnN0YW5jZU9mKHR5cGUpO1xufVxuXG5cbi8qKlxuICogRmluZCBhIHN1aXRhYmxlIGRpc3BsYXkgY2FuZGlkYXRlIGZvciBkZWZpbml0aW9ucyB3aGVyZSB0aGUgREkgZG9lcyBub3RcbiAqIGNvcnJlY3RseSBzcGVjaWZ5IG9uZS5cbiAqL1xuZnVuY3Rpb24gZmluZERpc3BsYXlDYW5kaWRhdGUoZGVmaW5pdGlvbnMpIHtcbiAgcmV0dXJuIGZpbmQoZGVmaW5pdGlvbnMucm9vdEVsZW1lbnRzLCBmdW5jdGlvbihlKSB7XG4gICAgcmV0dXJuIGlzKGUsICdwb3N0aXQ6UG9zdGl0Qm9hcmQnKTtcbiAgfSk7XG59XG5cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUG9zdGl0VHJlZVdhbGtlcihoYW5kbGVyLCB0cmFuc2xhdGUpIHtcblxuICAvLyBsaXN0IG9mIGNvbnRhaW5lcnMgYWxyZWFkeSB3YWxrZWRcbiAgdmFyIGhhbmRsZWRFbGVtZW50cyA9IHt9O1xuXG4gIC8vIGxpc3Qgb2YgZWxlbWVudHMgdG8gaGFuZGxlIGRlZmVycmVkIHRvIGVuc3VyZVxuICAvLyBwcmVyZXF1aXNpdGVzIGFyZSBkcmF3blxuICB2YXIgZGVmZXJyZWQgPSBbXTtcblxuICAvLyBIZWxwZXJzIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICBmdW5jdGlvbiB2aXNpdFJvb3QoZWxlbWVudCwgZGlhZ3JhbSkge1xuICAgIHJldHVybiBoYW5kbGVyLnJvb3QoZWxlbWVudCwgZGlhZ3JhbSk7XG4gIH1cblxuICBmdW5jdGlvbiB2aXNpdChlbGVtZW50LCBjdHgpIHtcblxuICAgIHZhciBnZnggPSBlbGVtZW50LmdmeDtcblxuICAgIC8vIGF2b2lkIG11bHRpcGxlIHJlbmRlcmluZyBvZiBlbGVtZW50c1xuICAgIGlmIChnZngpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgdHJhbnNsYXRlKCdhbHJlYWR5IHJlbmRlcmVkIHtlbGVtZW50fScsIHsgZWxlbWVudDogZWxlbWVudFRvU3RyaW5nKGVsZW1lbnQpIH0pXG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIGNhbGwgaGFuZGxlclxuICAgIHJldHVybiBoYW5kbGVyLmVsZW1lbnQoZWxlbWVudCwgY3R4KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHZpc2l0SWZEaShlbGVtZW50LCBjdHgpIHtcblxuICAgIHRyeSB7XG4gICAgICB2YXIgZ2Z4ID0gZWxlbWVudC5kaSAmJiB2aXNpdChlbGVtZW50LCBjdHgpO1xuXG4gICAgICBoYW5kbGVkKGVsZW1lbnQpO1xuXG4gICAgICByZXR1cm4gZ2Z4O1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGxvZ0Vycm9yKGUubWVzc2FnZSwgeyBlbGVtZW50OiBlbGVtZW50LCBlcnJvcjogZSB9KTtcblxuICAgICAgY29uc29sZS5lcnJvcih0cmFuc2xhdGUoJ2ZhaWxlZCB0byBpbXBvcnQge2VsZW1lbnR9JywgeyBlbGVtZW50OiBlbGVtZW50VG9TdHJpbmcoZWxlbWVudCkgfSkpO1xuICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBsb2dFcnJvcihtZXNzYWdlLCBjb250ZXh0KSB7XG4gICAgaGFuZGxlci5lcnJvcihtZXNzYWdlLCBjb250ZXh0KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZWQoZWxlbWVudCkge1xuICAgIGhhbmRsZWRFbGVtZW50c1tlbGVtZW50LmlkXSA9IGVsZW1lbnQ7XG4gIH1cblxuICAvLyBESSBoYW5kbGluZyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgZnVuY3Rpb24gcmVnaXN0ZXJEaShkaSkge1xuICAgIHZhciBib2FyZEVsZW1lbnQgPSBkaS5ib2FyZEVsZW1lbnQ7XG5cbiAgICBpZiAoYm9hcmRFbGVtZW50KSB7XG4gICAgICBpZiAoYm9hcmRFbGVtZW50LmRpKSB7XG4gICAgICAgIGxvZ0Vycm9yKFxuICAgICAgICAgIHRyYW5zbGF0ZSgnbXVsdGlwbGUgREkgZWxlbWVudHMgZGVmaW5lZCBmb3Ige2VsZW1lbnR9Jywge1xuICAgICAgICAgICAgZWxlbWVudDogZWxlbWVudFRvU3RyaW5nKGJvYXJkRWxlbWVudClcbiAgICAgICAgICB9KSxcbiAgICAgICAgICB7IGVsZW1lbnQ6IGJvYXJkRWxlbWVudCB9XG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkaVJlZnMuYmluZChib2FyZEVsZW1lbnQsICdkaScpO1xuICAgICAgICBib2FyZEVsZW1lbnQuZGkgPSBkaTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbG9nRXJyb3IoXG4gICAgICAgIHRyYW5zbGF0ZSgnbm8gYm9hcmRFbGVtZW50IHJlZmVyZW5jZWQgaW4ge2VsZW1lbnR9Jywge1xuICAgICAgICAgIGVsZW1lbnQ6IGVsZW1lbnRUb1N0cmluZyhkaSlcbiAgICAgICAgfSksXG4gICAgICAgIHsgZWxlbWVudDogZGkgfVxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVCb2FyZChkaWFncmFtKSB7XG4gICAgaGFuZGxlUGxhbmUoZGlhZ3JhbS5wbGFuZSk7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVQbGFuZShwbGFuZSkge1xuICAgIHJlZ2lzdGVyRGkocGxhbmUpO1xuXG4gICAgZm9yRWFjaChwbGFuZS5wbGFuZUVsZW1lbnQsIGhhbmRsZVBsYW5lRWxlbWVudCk7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVQbGFuZUVsZW1lbnQocGxhbmVFbGVtZW50KSB7XG4gICAgcmVnaXN0ZXJEaShwbGFuZUVsZW1lbnQpO1xuICB9XG5cblxuICAvLyBTZW1hbnRpYyBoYW5kbGluZyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgLyoqXG4gICAqIEhhbmRsZSBkZWZpbml0aW9ucyBhbmQgcmV0dXJuIHRoZSByZW5kZXJlZCBib2FyZCAoaWYgYW55KVxuICAgKlxuICAgKiBAcGFyYW0ge01vZGRsZUVsZW1lbnR9IGRlZmluaXRpb25zIHRvIHdhbGsgYW5kIGltcG9ydFxuICAgKiBAcGFyYW0ge01vZGRsZUVsZW1lbnR9IFtyb290Qm9hcmRdIHNwZWNpZmljIGJvYXJkIHRvIGltcG9ydCBhbmQgZGlzcGxheVxuICAgKlxuICAgKiBAdGhyb3dzIHtFcnJvcn0gaWYgbm8gZGlhZ3JhbSB0byBkaXNwbGF5IGNvdWxkIGJlIGZvdW5kXG4gICAqL1xuICBmdW5jdGlvbiBoYW5kbGVEZWZpbml0aW9ucyhkZWZpbml0aW9ucywgcm9vdEJvYXJkKSB7XG5cbiAgICAvLyBtYWtlIHN1cmUgd2Ugd2FsayB0aGUgY29ycmVjdCBib2FyZEVsZW1lbnRcblxuICAgIHZhciByb290Qm9hcmRzID0gZGVmaW5pdGlvbnMucm9vdEJvYXJkcztcblxuICAgIGlmIChyb290Qm9hcmQgJiYgcm9vdEJvYXJkcy5pbmRleE9mKHJvb3RCb2FyZCkgPT09IC0xKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IodHJhbnNsYXRlKCdyb290Qm9hcmQgbm90IHBhcnQgb2YgcG9zdGl0OkRlZmluaXRpb25zJykpO1xuICAgIH1cblxuICAgIGlmICghcm9vdEJvYXJkICYmIHJvb3RCb2FyZHMgJiYgcm9vdEJvYXJkcy5sZW5ndGgpIHtcbiAgICAgIHJvb3RCb2FyZCA9IHJvb3RCb2FyZHNbMF07XG4gICAgfVxuXG4gICAgLy8gbm8gcm9vdCBib2FyZCAtPiBub3RoaW5nIHRvIGltcG9ydFxuICAgIGlmICghcm9vdEJvYXJkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IodHJhbnNsYXRlKCdubyByb290Qm9hcmQgdG8gZGlzcGxheScpKTtcbiAgICB9XG5cbiAgICAvLyBsb2FkIERJIGZyb20gc2VsZWN0ZWQgcm9vdCBib2FyZCBvbmx5XG4gICAgaGFuZGxlQm9hcmQocm9vdEJvYXJkKTtcblxuICAgIHZhciBwbGFuZSA9IHJvb3RCb2FyZC5wbGFuZTtcblxuICAgIGlmICghcGxhbmUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcih0cmFuc2xhdGUoXG4gICAgICAgICdubyBwbGFuZSBmb3Ige2VsZW1lbnR9JyxcbiAgICAgICAgeyBlbGVtZW50OiBlbGVtZW50VG9TdHJpbmcocm9vdEJvYXJkKSB9XG4gICAgICApKTtcbiAgICB9XG5cbiAgICB2YXIgcm9vdEVsZW1lbnQgPSBwbGFuZS5ib2FyZEVsZW1lbnQ7XG5cbiAgICAvLyBlbnN1cmUgd2UgZGVmYXVsdCB0byBhIHN1aXRhYmxlIGRpc3BsYXkgY2FuZGlkYXRlIChib2FyZCksXG4gICAgLy8gZXZlbiBpZiBub24gaXMgc3BlY2lmaWVkIGluIERJXG4gICAgaWYgKCFyb290RWxlbWVudCkge1xuICAgICAgcm9vdEVsZW1lbnQgPSBmaW5kRGlzcGxheUNhbmRpZGF0ZShkZWZpbml0aW9ucyk7XG5cbiAgICAgIGlmICghcm9vdEVsZW1lbnQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHRyYW5zbGF0ZSgnbm8gYm9hcmQgdG8gZGlzcGxheScpKTtcbiAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgbG9nRXJyb3IoXG4gICAgICAgICAgdHJhbnNsYXRlKCdjb3JyZWN0aW5nIG1pc3NpbmcgYm9hcmRFbGVtZW50IG9uIHtwbGFuZX0gdG8ge3Jvb3RFbGVtZW50fScsIHtcbiAgICAgICAgICAgIHBsYW5lOiBlbGVtZW50VG9TdHJpbmcocGxhbmUpLFxuICAgICAgICAgICAgcm9vdEVsZW1lbnQ6IGVsZW1lbnRUb1N0cmluZyhyb290RWxlbWVudClcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuXG4gICAgICAgIC8vIGNvcnJlY3QgREkgb24gdGhlIGZseVxuICAgICAgICBwbGFuZS5ib2FyZEVsZW1lbnQgPSByb290RWxlbWVudDtcbiAgICAgICAgcmVnaXN0ZXJEaShwbGFuZSk7XG4gICAgICB9XG4gICAgfVxuXG5cbiAgICB2YXIgY3R4ID0gdmlzaXRSb290KHJvb3RFbGVtZW50LCBwbGFuZSk7XG5cbiAgICBpZiAoaXMocm9vdEVsZW1lbnQsICdwb3N0aXQ6UG9zdGl0Qm9hcmQnKSkge1xuICAgICAgaGFuZGxlUG9zdGl0Qm9hcmQocm9vdEVsZW1lbnQsIGN0eCk7XG4gICAgfVxuXG4gICAgLy8gaGFuZGxlIGFsbCBkZWZlcnJlZCBlbGVtZW50c1xuICAgIGhhbmRsZURlZmVycmVkKGRlZmVycmVkKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZUJvYXJkRWxlbWVudHMoYm9hcmRFbGVtZW50cywgY29udGV4dCkge1xuICAgIGZvckVhY2goYm9hcmRFbGVtZW50cywgZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgdmlzaXRJZkRpKGVsZW1lbnQsIGNvbnRleHQpO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlUG9zdGl0Qm9hcmQoYm9hcmQsIGNvbnRleHQpIHtcbiAgICBoYW5kbGVCb2FyZEVsZW1lbnRzKGJvYXJkLmJvYXJkRWxlbWVudHMsIGNvbnRleHQpO1xuXG4gICAgLy8gbG9nIGJvYXJkIGhhbmRsZWRcbiAgICBoYW5kbGVkKGJvYXJkKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZURlZmVycmVkKCkge1xuXG4gICAgdmFyIGZuO1xuXG4gICAgLy8gZHJhaW4gZGVmZXJyZWQgdW50aWwgZW1wdHlcbiAgICB3aGlsZSAoZGVmZXJyZWQubGVuZ3RoKSB7XG4gICAgICBmbiA9IGRlZmVycmVkLnNoaWZ0KCk7XG5cbiAgICAgIGZuKCk7XG4gICAgfVxuICB9XG5cblxuXG5cbiAgLy8gQVBJIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICByZXR1cm4ge1xuICAgIGhhbmRsZURlZmVycmVkOiBoYW5kbGVEZWZlcnJlZCxcbiAgICBoYW5kbGVEZWZpbml0aW9uczogaGFuZGxlRGVmaW5pdGlvbnMsXG4gICAgcmVnaXN0ZXJEaTogcmVnaXN0ZXJEaVxuICB9O1xufSIsIi8qKlxuICogVGhlIGNvZGUgaW4gdGhlIDxwcm9qZWN0LWxvZ28+PC9wcm9qZWN0LWxvZ28+IGFyZWFcbiAqIG11c3Qgbm90IGJlIGNoYW5nZWQuXG4gKlxuICogQHNlZSBodHRwOi8vYnBtbi5pby9saWNlbnNlIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICovXG5pbXBvcnQge1xuICBhc3NpZ24sXG4gIGZpbmQsXG4gIGlzTnVtYmVyLFxuICBvbWl0XG59IGZyb20gJ21pbi1kYXNoJztcblxuaW1wb3J0IHtcbiAgZG9taWZ5LFxuICBxdWVyeSBhcyBkb21RdWVyeSxcbiAgcmVtb3ZlIGFzIGRvbVJlbW92ZVxufSBmcm9tICdtaW4tZG9tJztcblxuaW1wb3J0IHtcbiAgaW5uZXJTVkdcbn0gZnJvbSAndGlueS1zdmcnO1xuXG5pbXBvcnQgRGlhZ3JhbSBmcm9tICdkaWFncmFtLWpzJztcbmltcG9ydCBNb2RkbGUgZnJvbSAnLi9tb2RkbGUnO1xuXG5pbXBvcnQgaW5oZXJpdHMgZnJvbSAnaW5oZXJpdHMnO1xuXG5pbXBvcnQge1xuICBpbXBvcnRQb3N0aXREaWFncmFtXG59IGZyb20gJy4vaW1wb3J0L0ltcG9ydGVyJztcblxuXG5cblxuLyoqXG4gKiBBIGJhc2Ugdmlld2VyIGZvciBQb3N0aXQgYm9hcmRzLlxuICpcbiAqIEhhdmUgYSBsb29rIGF0IHtAbGluayBWaWV3ZXJ9LCB7QGxpbmsgTmF2aWdhdGVkVmlld2VyfSBvciB7QGxpbmsgTW9kZWxlcn0gZm9yXG4gKiBidW5kbGVzIHRoYXQgaW5jbHVkZSBhY3R1YWwgZmVhdHVyZXMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBjb25maWd1cmF0aW9uIG9wdGlvbnMgdG8gcGFzcyB0byB0aGUgdmlld2VyXG4gKiBAcGFyYW0ge0RPTUVsZW1lbnR9IFtvcHRpb25zLmNvbnRhaW5lcl0gdGhlIGNvbnRhaW5lciB0byByZW5kZXIgdGhlIHZpZXdlciBpbiwgZGVmYXVsdHMgdG8gYm9keS5cbiAqIEBwYXJhbSB7U3RyaW5nfE51bWJlcn0gW29wdGlvbnMud2lkdGhdIHRoZSB3aWR0aCBvZiB0aGUgdmlld2VyXG4gKiBAcGFyYW0ge1N0cmluZ3xOdW1iZXJ9IFtvcHRpb25zLmhlaWdodF0gdGhlIGhlaWdodCBvZiB0aGUgdmlld2VyXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMubW9kZGxlRXh0ZW5zaW9uc10gZXh0ZW5zaW9uIHBhY2thZ2VzIHRvIHByb3ZpZGVcbiAqIEBwYXJhbSB7QXJyYXk8ZGlkaS5Nb2R1bGU+fSBbb3B0aW9ucy5tb2R1bGVzXSBhIGxpc3Qgb2YgbW9kdWxlcyB0byBvdmVycmlkZSB0aGUgZGVmYXVsdCBtb2R1bGVzXG4gKiBAcGFyYW0ge0FycmF5PGRpZGkuTW9kdWxlPn0gW29wdGlvbnMuYWRkaXRpb25hbE1vZHVsZXNdIGEgbGlzdCBvZiBtb2R1bGVzIHRvIHVzZSB3aXRoIHRoZSBkZWZhdWx0IG1vZHVsZXNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQmFzZVZpZXdlcihvcHRpb25zKSB7XG5cbiAgb3B0aW9ucyA9IGFzc2lnbih7fSwgREVGQVVMVF9PUFRJT05TLCBvcHRpb25zKTtcblxuICB0aGlzLl9tb2RkbGUgPSB0aGlzLl9jcmVhdGVNb2RkbGUob3B0aW9ucyk7XG5cbiAgdGhpcy5fY29udGFpbmVyID0gdGhpcy5fY3JlYXRlQ29udGFpbmVyKG9wdGlvbnMpO1xuXG4gIHRoaXMuX2luaXQodGhpcy5fY29udGFpbmVyLCB0aGlzLl9tb2RkbGUsIG9wdGlvbnMpO1xufVxuXG5pbmhlcml0cyhCYXNlVmlld2VyLCBEaWFncmFtKTtcblxuLyoqXG4qIFRoZSBpbXBvcnRYTUwgcmVzdWx0LlxuKlxuKiBAdHlwZWRlZiB7T2JqZWN0fSBJbXBvcnRYTUxSZXN1bHRcbipcbiogQHByb3BlcnR5IHtBcnJheTxzdHJpbmc+fSB3YXJuaW5nc1xuKi9cblxuLyoqXG4qIFRoZSBpbXBvcnRYTUwgZXJyb3IuXG4qXG4qIEB0eXBlZGVmIHtFcnJvcn0gSW1wb3J0WE1MRXJyb3JcbipcbiogQHByb3BlcnR5IHtBcnJheTxzdHJpbmc+fSB3YXJuaW5nc1xuKi9cblxuXG4vKipcbiAqIFBhcnNlIGFuZCByZW5kZXIgYSBQb3N0aXQgZGlhZ3JhbS5cbiAqXG4gKiBPbmNlIGZpbmlzaGVkIHRoZSB2aWV3ZXIgcmVwb3J0cyBiYWNrIHRoZSByZXN1bHQgdG8gdGhlXG4gKiBwcm92aWRlZCBjYWxsYmFjayBmdW5jdGlvbiB3aXRoIChlcnIsIHdhcm5pbmdzKS5cbiAqXG4gKiAjIyBMaWZlLUN5Y2xlIEV2ZW50c1xuICpcbiAqIER1cmluZyBpbXBvcnQgdGhlIHZpZXdlciB3aWxsIGZpcmUgbGlmZS1jeWNsZSBldmVudHM6XG4gKlxuICogICAqIGltcG9ydC5wYXJzZS5zdGFydCAoYWJvdXQgdG8gcmVhZCBtb2RlbCBmcm9tIHhtbClcbiAqICAgKiBpbXBvcnQucGFyc2UuY29tcGxldGUgKG1vZGVsIHJlYWQ7IG1heSBoYXZlIHdvcmtlZCBvciBub3QpXG4gKiAgICogaW1wb3J0LnJlbmRlci5zdGFydCAoZ3JhcGhpY2FsIGltcG9ydCBzdGFydClcbiAqICAgKiBpbXBvcnQucmVuZGVyLmNvbXBsZXRlIChncmFwaGljYWwgaW1wb3J0IGZpbmlzaGVkKVxuICogICAqIGltcG9ydC5kb25lIChldmVyeXRoaW5nIGRvbmUpXG4gKlxuICogWW91IGNhbiB1c2UgdGhlc2UgZXZlbnRzIHRvIGhvb2sgaW50byB0aGUgbGlmZS1jeWNsZS5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30geG1sIHRoZSBQb3N0aXQgeG1sXG4gKiBAcGFyYW0ge01vZGRsZUVsZW1lbnQ8UG9zdGl0Um9vdEJvYXJkPnxTdHJpbmd9IFtyb290Qm9hcmRdIFBvc3RpdCBib2FyZCBvciBpZCBvZiBib2FyZCB0byByZW5kZXIgKGlmIG5vdCBwcm92aWRlZCwgdGhlIGZpcnN0IG9uZSB3aWxsIGJlIHJlbmRlcmVkKVxuICpcbiAqIEByZXR1cm5zIHtQcm9taXNlPEltcG9ydFhNTFJlc3VsdCwgSW1wb3J0WE1MRXJyb3I+fVxuICovXG5CYXNlVmlld2VyLnByb3RvdHlwZS5pbXBvcnRYTUwgPSBmdW5jdGlvbih4bWwsIHJvb3RCb2FyZCkge1xuXG4gIHZhciBzZWxmID0gdGhpcztcblxuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cbiAgICAvLyBob29rIGluIHByZS1wYXJzZSBsaXN0ZW5lcnMgK1xuICAgIC8vIGFsbG93IHhtbCBtYW5pcHVsYXRpb25cbiAgICB4bWwgPSBzZWxmLl9lbWl0KCdpbXBvcnQucGFyc2Uuc3RhcnQnLCB7IHhtbDogeG1sIH0pIHx8IHhtbDtcblxuICAgIHNlbGYuX21vZGRsZS5mcm9tWE1MKHhtbCwgJ3Bvc3RpdDpEZWZpbml0aW9ucycpLnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7XG5cbiAgICAgIHZhciBkZWZpbml0aW9ucyA9IHJlc3VsdC5yb290RWxlbWVudDtcbiAgICAgIHZhciByZWZlcmVuY2VzID0gcmVzdWx0LnJlZmVyZW5jZXM7XG4gICAgICB2YXIgcGFyc2VXYXJuaW5ncyA9IHJlc3VsdC53YXJuaW5ncztcbiAgICAgIHZhciBlbGVtZW50c0J5SWQgPSByZXN1bHQuZWxlbWVudHNCeUlkO1xuXG4gICAgICB2YXIgY29udGV4dCA9IHtcbiAgICAgICAgcmVmZXJlbmNlczogcmVmZXJlbmNlcyxcbiAgICAgICAgZWxlbWVudHNCeUlkOiBlbGVtZW50c0J5SWQsXG4gICAgICAgIHdhcm5pbmdzOiBwYXJzZVdhcm5pbmdzXG4gICAgICB9O1xuXG4gICAgICAvLyBob29rIGluIHBvc3QgcGFyc2UgbGlzdGVuZXJzICtcbiAgICAgIC8vIGFsbG93IGRlZmluaXRpb25zIG1hbmlwdWxhdGlvblxuICAgICAgZGVmaW5pdGlvbnMgPSBzZWxmLl9lbWl0KCdpbXBvcnQucGFyc2UuY29tcGxldGUnLCB7XG4gICAgICAgIGRlZmluaXRpb25zOiBkZWZpbml0aW9ucyxcbiAgICAgICAgY29udGV4dDogY29udGV4dFxuICAgICAgfSkgfHwgZGVmaW5pdGlvbnM7XG5cbiAgICAgIHNlbGYuaW1wb3J0RGVmaW5pdGlvbnMoZGVmaW5pdGlvbnMsIHJvb3RCb2FyZCkudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgdmFyIGFsbFdhcm5pbmdzID0gW10uY29uY2F0KHBhcnNlV2FybmluZ3MsIHJlc3VsdC53YXJuaW5ncyB8fCBbXSk7XG5cbiAgICAgICAgc2VsZi5fZW1pdCgnaW1wb3J0LmRvbmUnLCB7IGVycm9yOiBudWxsLCB3YXJuaW5nczogYWxsV2FybmluZ3MgfSk7XG5cbiAgICAgICAgcmV0dXJuIHJlc29sdmUoeyB3YXJuaW5nczogYWxsV2FybmluZ3MgfSk7XG4gICAgICB9KS5jYXRjaChmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgdmFyIGFsbFdhcm5pbmdzID0gW10uY29uY2F0KHBhcnNlV2FybmluZ3MsIGVyci53YXJuaW5ncyB8fCBbXSk7XG5cbiAgICAgICAgc2VsZi5fZW1pdCgnaW1wb3J0LmRvbmUnLCB7IGVycm9yOiBlcnIsIHdhcm5pbmdzOiBhbGxXYXJuaW5ncyB9KTtcblxuICAgICAgICByZXR1cm4gcmVqZWN0KGFkZFdhcm5pbmdzVG9FcnJvcihlcnIsIGFsbFdhcm5pbmdzKSk7XG4gICAgICB9KTtcbiAgICB9KS5jYXRjaChmdW5jdGlvbihlcnIpIHtcblxuICAgICAgc2VsZi5fZW1pdCgnaW1wb3J0LnBhcnNlLmNvbXBsZXRlJywge1xuICAgICAgICBlcnJvcjogZXJyXG4gICAgICB9KTtcblxuICAgICAgZXJyID0gY2hlY2tWYWxpZGF0aW9uRXJyb3IoZXJyKTtcblxuICAgICAgc2VsZi5fZW1pdCgnaW1wb3J0LmRvbmUnLCB7IGVycm9yOiBlcnIsIHdhcm5pbmdzOiBlcnIud2FybmluZ3MgfSk7XG5cbiAgICAgIHJldHVybiByZWplY3QoZXJyKTtcbiAgICB9KTtcblxuICB9KTtcbn07XG5cbi8qKlxuKiBUaGUgaW1wb3J0RGVmaW5pdGlvbnMgcmVzdWx0LlxuKlxuKiBAdHlwZWRlZiB7T2JqZWN0fSBJbXBvcnREZWZpbml0aW9uc1Jlc3VsdFxuKlxuKiBAcHJvcGVydHkge0FycmF5PHN0cmluZz59IHdhcm5pbmdzXG4qL1xuXG4vKipcbiogVGhlIGltcG9ydERlZmluaXRpb25zIGVycm9yLlxuKlxuKiBAdHlwZWRlZiB7RXJyb3J9IEltcG9ydERlZmluaXRpb25zRXJyb3JcbipcbiogQHByb3BlcnR5IHtBcnJheTxzdHJpbmc+fSB3YXJuaW5nc1xuKi9cblxuLyoqXG4gKiBJbXBvcnQgcGFyc2VkIGRlZmluaXRpb25zIGFuZCByZW5kZXIgYSBQb3N0aXQgZGlhZ3JhbS5cbiAqXG4gKiBPbmNlIGZpbmlzaGVkIHRoZSB2aWV3ZXIgcmVwb3J0cyBiYWNrIHRoZSByZXN1bHQgdG8gdGhlXG4gKiBwcm92aWRlZCBjYWxsYmFjayBmdW5jdGlvbiB3aXRoIChlcnIsIHdhcm5pbmdzKS5cbiAqXG4gKiAjIyBMaWZlLUN5Y2xlIEV2ZW50c1xuICpcbiAqIER1cmluZyBpbXBvcnQgdGhlIHZpZXdlciB3aWxsIGZpcmUgbGlmZS1jeWNsZSBldmVudHM6XG4gKlxuICogICAqIGltcG9ydC5yZW5kZXIuc3RhcnQgKGdyYXBoaWNhbCBpbXBvcnQgc3RhcnQpXG4gKiAgICogaW1wb3J0LnJlbmRlci5jb21wbGV0ZSAoZ3JhcGhpY2FsIGltcG9ydCBmaW5pc2hlZClcbiAqXG4gKiBZb3UgY2FuIHVzZSB0aGVzZSBldmVudHMgdG8gaG9vayBpbnRvIHRoZSBsaWZlLWN5Y2xlLlxuICpcbiAqIEBwYXJhbSB7TW9kZGxlRWxlbWVudDxEZWZpbml0aW9ucz59IGRlZmluaXRpb25zIHBhcnNlZCBQb3N0aXQgZGVmaW5pdGlvbnNcbiAqIEBwYXJhbSB7TW9kZGxlRWxlbWVudDxQb3N0aXRSb290Qm9hcmQ+fFN0cmluZ30gW3Jvb3RCb2FyZF0gUG9zdGl0IGJvYXJkIG9yIGlkIG9mIGJvYXJkIHRvIHJlbmRlciAoaWYgbm90IHByb3ZpZGVkLCB0aGUgZmlyc3Qgb25lIHdpbGwgYmUgcmVuZGVyZWQpXG4gKlxuICogcmV0dXJucyB7UHJvbWlzZTxJbXBvcnREZWZpbml0aW9uc1Jlc3VsdCwgSW1wb3J0RGVmaW5pdGlvbnNFcnJvcj59XG4gKi9cbkJhc2VWaWV3ZXIucHJvdG90eXBlLmltcG9ydERlZmluaXRpb25zID0gZnVuY3Rpb24oZGVmaW5pdGlvbnMsIHJvb3RCb2FyZCkge1xuXG4gIHZhciBzZWxmID0gdGhpcztcblxuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cbiAgICBzZWxmLl9zZXREZWZpbml0aW9ucyhkZWZpbml0aW9ucyk7XG5cbiAgICBzZWxmLm9wZW4ocm9vdEJvYXJkKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCkge1xuXG4gICAgICB2YXIgd2FybmluZ3MgPSByZXN1bHQud2FybmluZ3M7XG5cbiAgICAgIHJldHVybiByZXNvbHZlKHsgd2FybmluZ3M6IHdhcm5pbmdzIH0pO1xuICAgIH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xuXG4gICAgICByZXR1cm4gcmVqZWN0KGVycik7XG4gICAgfSk7XG4gIH0pO1xufTtcblxuLyoqXG4gKiBUaGUgb3BlbiByZXN1bHQuXG4gKlxuICogQHR5cGVkZWYge09iamVjdH0gT3BlblJlc3VsdFxuICpcbiAqIEBwcm9wZXJ0eSB7QXJyYXk8c3RyaW5nPn0gd2FybmluZ3NcbiAqL1xuXG4vKipcbiogVGhlIG9wZW4gZXJyb3IuXG4qXG4qIEB0eXBlZGVmIHtFcnJvcn0gT3BlbkVycm9yXG4qXG4qIEBwcm9wZXJ0eSB7QXJyYXk8c3RyaW5nPn0gd2FybmluZ3NcbiovXG5cbi8qKlxuICogT3BlbiBib2FyZCBvZiBwcmV2aW91c2x5IGltcG9ydGVkIFhNTC5cbiAqXG4gKiBPbmNlIGZpbmlzaGVkIHRoZSB2aWV3ZXIgcmVwb3J0cyBiYWNrIHRoZSByZXN1bHQgdG8gdGhlXG4gKiBwcm92aWRlZCBjYWxsYmFjayBmdW5jdGlvbiB3aXRoIChlcnIsIHdhcm5pbmdzKS5cbiAqXG4gKiAjIyBMaWZlLUN5Y2xlIEV2ZW50c1xuICpcbiAqIER1cmluZyBzd2l0Y2ggdGhlIHZpZXdlciB3aWxsIGZpcmUgbGlmZS1jeWNsZSBldmVudHM6XG4gKlxuICogICAqIGltcG9ydC5yZW5kZXIuc3RhcnQgKGdyYXBoaWNhbCBpbXBvcnQgc3RhcnQpXG4gKiAgICogaW1wb3J0LnJlbmRlci5jb21wbGV0ZSAoZ3JhcGhpY2FsIGltcG9ydCBmaW5pc2hlZClcbiAqXG4gKiBZb3UgY2FuIHVzZSB0aGVzZSBldmVudHMgdG8gaG9vayBpbnRvIHRoZSBsaWZlLWN5Y2xlLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfE1vZGRsZUVsZW1lbnQ8UG9zdGl0Um9vdEJvYXJkPn0gW3Jvb3RCb2FyZE9ySWRdIGlkIG9yIHRoZSBkaWFncmFtIHRvIG9wZW5cbiAqXG4gKiByZXR1cm5zIHtQcm9taXNlPE9wZW5SZXN1bHQsIE9wZW5FcnJvcj59XG4gKi9cbkJhc2VWaWV3ZXIucHJvdG90eXBlLm9wZW4gPSBmdW5jdGlvbihyb290Qm9hcmRPcklkKSB7XG5cbiAgdmFyIGRlZmluaXRpb25zID0gdGhpcy5fZGVmaW5pdGlvbnM7XG4gIHZhciByb290Qm9yZCA9IHJvb3RCb2FyZE9ySWQ7XG5cbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICBpZiAoIWRlZmluaXRpb25zKSB7XG4gICAgICB2YXIgZXJyMSA9IG5ldyBFcnJvcignbm8gWE1MIGltcG9ydGVkJyk7XG5cbiAgICAgIHJldHVybiByZWplY3QoYWRkV2FybmluZ3NUb0Vycm9yKGVycjEsIFtdKSk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiByb290Qm9hcmRPcklkID09PSAnc3RyaW5nJykge1xuICAgICAgcm9vdEJvcmQgPSBmaW5kUm9vdEJvYXJkKGRlZmluaXRpb25zLCByb290Qm9hcmRPcklkKTtcblxuICAgICAgaWYgKCFyb290Qm9yZCkge1xuICAgICAgICB2YXIgZXJyMiA9IG5ldyBFcnJvcignUG9zdGl0Um9vdEJvYXJkIDwnICsgcm9vdEJvYXJkT3JJZCArICc+IG5vdCBmb3VuZCcpO1xuXG4gICAgICAgIHJldHVybiByZWplY3QoYWRkV2FybmluZ3NUb0Vycm9yKGVycjIsIFtdKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gY2xlYXIgZXhpc3RpbmcgcmVuZGVyZWQgZGlhZ3JhbVxuICAgIC8vIGNhdGNoIHN5bmNocm9ub3VzIGV4Y2VwdGlvbnMgZHVyaW5nICNjbGVhcigpXG4gICAgdHJ5IHtcbiAgICAgIHNlbGYuY2xlYXIoKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuXG4gICAgICByZXR1cm4gcmVqZWN0KGFkZFdhcm5pbmdzVG9FcnJvcihlcnJvciwgW10pKTtcbiAgICB9XG5cbiAgICAvLyBwZXJmb3JtIGdyYXBoaWNhbCBpbXBvcnRcbiAgICBpbXBvcnRQb3N0aXREaWFncmFtKHNlbGYsIGRlZmluaXRpb25zLCByb290Qm9yZCkudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcblxuICAgICAgdmFyIHdhcm5pbmdzID0gcmVzdWx0Lndhcm5pbmdzO1xuXG4gICAgICByZXR1cm4gcmVzb2x2ZSh7IHdhcm5pbmdzOiB3YXJuaW5ncyB9KTtcbiAgICB9KS5jYXRjaChmdW5jdGlvbihlcnIpIHtcblxuICAgICAgcmV0dXJuIHJlamVjdChlcnIpO1xuICAgIH0pO1xuICB9KTtcbn07XG5cbi8qKlxuICogVGhlIHNhdmVYTUwgcmVzdWx0LlxuICpcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFNhdmVYTUxSZXN1bHRcbiAqXG4gKiBAcHJvcGVydHkge3N0cmluZ30geG1sXG4gKi9cblxuLyoqXG4gKiBFeHBvcnQgdGhlIGN1cnJlbnRseSBkaXNwbGF5ZWQgUG9zdGl0IGRpYWdyYW0gYXNcbiAqIGEgUG9zdGl0IFhNTCBkb2N1bWVudC5cbiAqXG4gKiAjIyBMaWZlLUN5Y2xlIEV2ZW50c1xuICpcbiAqIER1cmluZyBYTUwgc2F2aW5nIHRoZSB2aWV3ZXIgd2lsbCBmaXJlIGxpZmUtY3ljbGUgZXZlbnRzOlxuICpcbiAqICAgKiBzYXZlWE1MLnN0YXJ0IChiZWZvcmUgc2VyaWFsaXphdGlvbilcbiAqICAgKiBzYXZlWE1MLnNlcmlhbGl6ZWQgKGFmdGVyIHhtbCBnZW5lcmF0aW9uKVxuICogICAqIHNhdmVYTUwuZG9uZSAoZXZlcnl0aGluZyBkb25lKVxuICpcbiAqIFlvdSBjYW4gdXNlIHRoZXNlIGV2ZW50cyB0byBob29rIGludG8gdGhlIGxpZmUtY3ljbGUuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBleHBvcnQgb3B0aW9uc1xuICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5mb3JtYXQ9ZmFsc2VdIG91dHB1dCBmb3JtYXR0ZWQgWE1MXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLnByZWFtYmxlPXRydWVdIG91dHB1dCBwcmVhbWJsZVxuICpcbiAqIHJldHVybnMge1Byb21pc2U8U2F2ZVhNTFJlc3VsdCwgRXJyb3I+fVxuICovXG5CYXNlVmlld2VyLnByb3RvdHlwZS5zYXZlWE1MID0gZnVuY3Rpb24ob3B0aW9ucykge1xuXG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gIHZhciBzZWxmID0gdGhpcztcblxuICB2YXIgZGVmaW5pdGlvbnMgPSB0aGlzLl9kZWZpbml0aW9ucztcblxuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cbiAgICBpZiAoIWRlZmluaXRpb25zKSB7XG4gICAgICB2YXIgZXJyID0gbmV3IEVycm9yKCdubyBkZWZpbml0aW9ucyBsb2FkZWQnKTtcblxuICAgICAgcmV0dXJuIHJlamVjdChlcnIpO1xuICAgIH1cblxuICAgIC8vIGFsbG93IHRvIGZpZGRsZSBhcm91bmQgd2l0aCBkZWZpbml0aW9uc1xuICAgIGRlZmluaXRpb25zID0gc2VsZi5fZW1pdCgnc2F2ZVhNTC5zdGFydCcsIHtcbiAgICAgIGRlZmluaXRpb25zOiBkZWZpbml0aW9uc1xuICAgIH0pIHx8IGRlZmluaXRpb25zO1xuXG4gICAgc2VsZi5fbW9kZGxlLnRvWE1MKGRlZmluaXRpb25zLCBvcHRpb25zKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCkge1xuXG4gICAgICB2YXIgeG1sID0gcmVzdWx0LnhtbDtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgeG1sID0gc2VsZi5fZW1pdCgnc2F2ZVhNTC5zZXJpYWxpemVkJywge1xuICAgICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICAgIHhtbDogeG1sXG4gICAgICAgIH0pIHx8IHhtbDtcblxuICAgICAgICBzZWxmLl9lbWl0KCdzYXZlWE1MLmRvbmUnLCB7XG4gICAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgICAgeG1sOiB4bWxcbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ2Vycm9yIGluIHNhdmVYTUwgbGlmZS1jeWNsZSBsaXN0ZW5lcicsIGUpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzb2x2ZSh7IHhtbDogeG1sIH0pO1xuICAgIH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xuXG4gICAgICByZXR1cm4gcmVqZWN0KGVycik7XG4gICAgfSk7XG4gIH0pO1xufTtcblxuLyoqXG4gKiBUaGUgc2F2ZVNWRyByZXN1bHQuXG4gKlxuICogQHR5cGVkZWYge09iamVjdH0gU2F2ZVNWR1Jlc3VsdFxuICpcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBzdmdcbiAqL1xuXG4vKipcbiAqIEV4cG9ydCB0aGUgY3VycmVudGx5IGRpc3BsYXllZCBQb3N0aXQgZGlhZ3JhbSBhc1xuICogYW4gU1ZHIGltYWdlLlxuICpcbiAqICMjIExpZmUtQ3ljbGUgRXZlbnRzXG4gKlxuICogRHVyaW5nIFNWRyBzYXZpbmcgdGhlIHZpZXdlciB3aWxsIGZpcmUgbGlmZS1jeWNsZSBldmVudHM6XG4gKlxuICogICAqIHNhdmVTVkcuc3RhcnQgKGJlZm9yZSBzZXJpYWxpemF0aW9uKVxuICogICAqIHNhdmVTVkcuZG9uZSAoZXZlcnl0aGluZyBkb25lKVxuICpcbiAqIFlvdSBjYW4gdXNlIHRoZXNlIGV2ZW50cyB0byBob29rIGludG8gdGhlIGxpZmUtY3ljbGUuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICpcbiAqIHJldHVybnMge1Byb21pc2U8U2F2ZVNWR1Jlc3VsdCwgRXJyb3I+fVxuICovXG5CYXNlVmlld2VyLnByb3RvdHlwZS5zYXZlU1ZHID0gZnVuY3Rpb24ob3B0aW9ucykge1xuXG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gIHZhciBzZWxmID0gdGhpcztcblxuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cbiAgICBzZWxmLl9lbWl0KCdzYXZlU1ZHLnN0YXJ0Jyk7XG5cbiAgICB2YXIgc3ZnLCBlcnI7XG5cbiAgICB0cnkge1xuICAgICAgdmFyIGNhbnZhcyA9IHNlbGYuZ2V0KCdjYW52YXMnKTtcblxuICAgICAgdmFyIGNvbnRlbnROb2RlID0gY2FudmFzLmdldERlZmF1bHRMYXllcigpLFxuICAgICAgICAgIGRlZnNOb2RlID0gZG9tUXVlcnkoJ2RlZnMnLCBjYW52YXMuX3N2Zyk7XG5cbiAgICAgIHZhciBjb250ZW50cyA9IGlubmVyU1ZHKGNvbnRlbnROb2RlKSxcbiAgICAgICAgICBkZWZzID0gZGVmc05vZGUgPyAnPGRlZnM+JyArIGlubmVyU1ZHKGRlZnNOb2RlKSArICc8L2RlZnM+JyA6ICcnO1xuXG4gICAgICB2YXIgYmJveCA9IGNvbnRlbnROb2RlLmdldEJCb3goKTtcblxuICAgICAgc3ZnID1cbiAgICAgICAgJzw/eG1sIHZlcnNpb249XCIxLjBcIiBlbmNvZGluZz1cInV0Zi04XCI/PlxcbicgK1xuICAgICAgICAnPCEtLSBjcmVhdGVkIHdpdGggZGlhZ3JhbS1qcyAvIGh0dHA6Ly9icG1uLmlvIC0tPlxcbicgK1xuICAgICAgICAnPCFET0NUWVBFIHN2ZyBQVUJMSUMgXCItLy9XM0MvL0RURCBTVkcgMS4xLy9FTlwiIFwiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkXCI+XFxuJyArXG4gICAgICAgICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB4bWxuczp4bGluaz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIiAnICtcbiAgICAgICAgICAgICAnd2lkdGg9XCInICsgYmJveC53aWR0aCArICdcIiBoZWlnaHQ9XCInICsgYmJveC5oZWlnaHQgKyAnXCIgJyArXG4gICAgICAgICAgICAgJ3ZpZXdCb3g9XCInICsgYmJveC54ICsgJyAnICsgYmJveC55ICsgJyAnICsgYmJveC53aWR0aCArICcgJyArIGJib3guaGVpZ2h0ICsgJ1wiIHZlcnNpb249XCIxLjFcIj4nICtcbiAgICAgICAgICBkZWZzICsgY29udGVudHMgK1xuICAgICAgICAnPC9zdmc+JztcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBlcnIgPSBlO1xuICAgIH1cblxuICAgIHNlbGYuX2VtaXQoJ3NhdmVTVkcuZG9uZScsIHtcbiAgICAgIGVycm9yOiBlcnIsXG4gICAgICBzdmc6IHN2Z1xuICAgIH0pO1xuXG4gICAgaWYgKCFlcnIpIHtcbiAgICAgIHJldHVybiByZXNvbHZlKHsgc3ZnOiBzdmcgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlamVjdChlcnIpO1xuICB9KTtcbn07XG5cbi8qKlxuICogR2V0IGEgbmFtZWQgZGlhZ3JhbSBzZXJ2aWNlLlxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIGVsZW1lbnRSZWdpc3RyeSA9IHZpZXdlci5nZXQoJ2VsZW1lbnRSZWdpc3RyeScpO1xuICogdmFyIHN0YXJ0RXZlbnRTaGFwZSA9IGVsZW1lbnRSZWdpc3RyeS5nZXQoJ1N0YXJ0RXZlbnRfMScpO1xuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lXG4gKlxuICogQHJldHVybiB7T2JqZWN0fSBkaWFncmFtIHNlcnZpY2UgaW5zdGFuY2VcbiAqXG4gKiBAbWV0aG9kIEJhc2VWaWV3ZXIjZ2V0XG4gKi9cblxuLyoqXG4gKiBJbnZva2UgYSBmdW5jdGlvbiBpbiB0aGUgY29udGV4dCBvZiB0aGlzIHZpZXdlci5cbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZpZXdlci5pbnZva2UoZnVuY3Rpb24oZWxlbWVudFJlZ2lzdHJ5KSB7XG4gKiAgIHZhciBzdGFydEV2ZW50U2hhcGUgPSBlbGVtZW50UmVnaXN0cnkuZ2V0KCdTdGFydEV2ZW50XzEnKTtcbiAqIH0pO1xuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIHRvIGJlIGludm9rZWRcbiAqXG4gKiBAcmV0dXJuIHtPYmplY3R9IHRoZSBmdW5jdGlvbnMgcmV0dXJuIHZhbHVlXG4gKlxuICogQG1ldGhvZCBCYXNlVmlld2VyI2ludm9rZVxuICovXG5cblxuQmFzZVZpZXdlci5wcm90b3R5cGUuX3NldERlZmluaXRpb25zID0gZnVuY3Rpb24oZGVmaW5pdGlvbnMpIHtcbiAgdGhpcy5fZGVmaW5pdGlvbnMgPSBkZWZpbml0aW9ucztcbn07XG5cbkJhc2VWaWV3ZXIucHJvdG90eXBlLmdldE1vZHVsZXMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuX21vZHVsZXM7XG59O1xuXG4vKipcbiAqIFJlbW92ZSBhbGwgZHJhd24gZWxlbWVudHMgZnJvbSB0aGUgdmlld2VyLlxuICpcbiAqIEFmdGVyIGNhbGxpbmcgdGhpcyBtZXRob2QgdGhlIHZpZXdlciBjYW4gc3RpbGxcbiAqIGJlIHJldXNlZCBmb3Igb3BlbmluZyBhbm90aGVyIGRpYWdyYW0uXG4gKlxuICogQG1ldGhvZCBCYXNlVmlld2VyI2NsZWFyXG4gKi9cbkJhc2VWaWV3ZXIucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24oKSB7XG4gIGlmICghdGhpcy5nZXREZWZpbml0aW9ucygpKSB7XG5cbiAgICAvLyBubyBkaWFncmFtIHRvIGNsZWFyXG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gcmVtb3ZlIGJ1c2luZXNzT2JqZWN0I2RpIGJpbmRpbmdcbiAgLy9cbiAgLy8gdGhpcyBpcyBuZWNlc3NhcnksIGFzIHdlIGVzdGFibGlzaCB0aGUgYmluZGluZ3NcbiAgLy8gaW4gdGhlIFBvc3RpdFRyZWVXYWxrZXIgKGFuZCBhc3N1bWUgbm9uZSBhcmUgZ2l2ZW5cbiAgLy8gb24gcmVpbXBvcnQpXG4gIHRoaXMuZ2V0KCdlbGVtZW50UmVnaXN0cnknKS5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICB2YXIgYm8gPSBlbGVtZW50LmJ1c2luZXNzT2JqZWN0O1xuXG4gICAgaWYgKGJvICYmIGJvLmRpKSB7XG4gICAgICBkZWxldGUgYm8uZGk7XG4gICAgfVxuICB9KTtcblxuICAvLyByZW1vdmUgZHJhd24gZWxlbWVudHNcbiAgRGlhZ3JhbS5wcm90b3R5cGUuY2xlYXIuY2FsbCh0aGlzKTtcbn07XG5cbi8qKlxuICogRGVzdHJveSB0aGUgdmlld2VyIGluc3RhbmNlIGFuZCByZW1vdmUgYWxsIGl0c1xuICogcmVtYWluZGVycyBmcm9tIHRoZSBkb2N1bWVudCB0cmVlLlxuICovXG5CYXNlVmlld2VyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XG5cbiAgLy8gZGlhZ3JhbSBkZXN0cm95XG4gIERpYWdyYW0ucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTtcblxuICAvLyBkb20gZGV0YWNoXG4gIGRvbVJlbW92ZSh0aGlzLl9jb250YWluZXIpO1xufTtcblxuLyoqXG4gKiBSZWdpc3RlciBhbiBldmVudCBsaXN0ZW5lclxuICpcbiAqIFJlbW92ZSBhIHByZXZpb3VzbHkgYWRkZWQgbGlzdGVuZXIgdmlhIHtAbGluayAjb2ZmKGV2ZW50LCBjYWxsYmFjayl9LlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IFtwcmlvcml0eV1cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gKiBAcGFyYW0ge09iamVjdH0gW3RoYXRdXG4gKi9cbkJhc2VWaWV3ZXIucHJvdG90eXBlLm9uID0gZnVuY3Rpb24oZXZlbnQsIHByaW9yaXR5LCBjYWxsYmFjaywgdGFyZ2V0KSB7XG4gIHJldHVybiB0aGlzLmdldCgnZXZlbnRCdXMnKS5vbihldmVudCwgcHJpb3JpdHksIGNhbGxiYWNrLCB0YXJnZXQpO1xufTtcblxuLyoqXG4gKiBEZS1yZWdpc3RlciBhbiBldmVudCBsaXN0ZW5lclxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqL1xuQmFzZVZpZXdlci5wcm90b3R5cGUub2ZmID0gZnVuY3Rpb24oZXZlbnQsIGNhbGxiYWNrKSB7XG4gIHRoaXMuZ2V0KCdldmVudEJ1cycpLm9mZihldmVudCwgY2FsbGJhY2spO1xufTtcblxuQmFzZVZpZXdlci5wcm90b3R5cGUuYXR0YWNoVG8gPSBmdW5jdGlvbihwYXJlbnROb2RlKSB7XG5cbiAgaWYgKCFwYXJlbnROb2RlKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwYXJlbnROb2RlIHJlcXVpcmVkJyk7XG4gIH1cblxuICAvLyBlbnN1cmUgd2UgZGV0YWNoIGZyb20gdGhlXG4gIC8vIHByZXZpb3VzLCBvbGQgcGFyZW50XG4gIHRoaXMuZGV0YWNoKCk7XG5cbiAgLy8gdW53cmFwIGpRdWVyeSBpZiBwcm92aWRlZFxuICBpZiAocGFyZW50Tm9kZS5nZXQgJiYgcGFyZW50Tm9kZS5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuanF1ZXJ5KSB7XG4gICAgcGFyZW50Tm9kZSA9IHBhcmVudE5vZGUuZ2V0KDApO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBwYXJlbnROb2RlID09PSAnc3RyaW5nJykge1xuICAgIHBhcmVudE5vZGUgPSBkb21RdWVyeShwYXJlbnROb2RlKTtcbiAgfVxuXG4gIHBhcmVudE5vZGUuYXBwZW5kQ2hpbGQodGhpcy5fY29udGFpbmVyKTtcblxuICB0aGlzLl9lbWl0KCdhdHRhY2gnLCB7fSk7XG5cbiAgdGhpcy5nZXQoJ2NhbnZhcycpLnJlc2l6ZWQoKTtcbn07XG5cbkJhc2VWaWV3ZXIucHJvdG90eXBlLmdldERlZmluaXRpb25zID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLl9kZWZpbml0aW9ucztcbn07XG5cbkJhc2VWaWV3ZXIucHJvdG90eXBlLmRldGFjaCA9IGZ1bmN0aW9uKCkge1xuXG4gIHZhciBjb250YWluZXIgPSB0aGlzLl9jb250YWluZXIsXG4gICAgICBwYXJlbnROb2RlID0gY29udGFpbmVyLnBhcmVudE5vZGU7XG5cbiAgaWYgKCFwYXJlbnROb2RlKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdGhpcy5fZW1pdCgnZGV0YWNoJywge30pO1xuXG4gIHBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoY29udGFpbmVyKTtcbn07XG5cbkJhc2VWaWV3ZXIucHJvdG90eXBlLl9pbml0ID0gZnVuY3Rpb24oY29udGFpbmVyLCBtb2RkbGUsIG9wdGlvbnMpIHtcblxuICB2YXIgYmFzZU1vZHVsZXMgPSBvcHRpb25zLm1vZHVsZXMgfHwgdGhpcy5nZXRNb2R1bGVzKCksXG4gICAgICBhZGRpdGlvbmFsTW9kdWxlcyA9IG9wdGlvbnMuYWRkaXRpb25hbE1vZHVsZXMgfHwgW10sXG4gICAgICBzdGF0aWNNb2R1bGVzID0gW1xuICAgICAgICB7XG4gICAgICAgICAgcG9zdGl0anM6IFsgJ3ZhbHVlJywgdGhpcyBdLFxuICAgICAgICAgIG1vZGRsZTogWyAndmFsdWUnLCBtb2RkbGUgXVxuICAgICAgICB9XG4gICAgICBdO1xuXG4gIHZhciBkaWFncmFtTW9kdWxlcyA9IFtdLmNvbmNhdChzdGF0aWNNb2R1bGVzLCBiYXNlTW9kdWxlcywgYWRkaXRpb25hbE1vZHVsZXMpO1xuXG4gIHZhciBkaWFncmFtT3B0aW9ucyA9IGFzc2lnbihvbWl0KG9wdGlvbnMsIFsgJ2FkZGl0aW9uYWxNb2R1bGVzJyBdKSwge1xuICAgIGNhbnZhczogYXNzaWduKHt9LCBvcHRpb25zLmNhbnZhcywgeyBjb250YWluZXI6IGNvbnRhaW5lciB9KSxcbiAgICBtb2R1bGVzOiBkaWFncmFtTW9kdWxlc1xuICB9KTtcblxuICAvLyBpbnZva2UgZGlhZ3JhbSBjb25zdHJ1Y3RvclxuICBEaWFncmFtLmNhbGwodGhpcywgZGlhZ3JhbU9wdGlvbnMpO1xuXG4gIGlmIChvcHRpb25zICYmIG9wdGlvbnMuY29udGFpbmVyKSB7XG4gICAgdGhpcy5hdHRhY2hUbyhvcHRpb25zLmNvbnRhaW5lcik7XG4gIH1cbn07XG5cbi8qKlxuICogRW1pdCBhbiBldmVudCBvbiB0aGUgdW5kZXJseWluZyB7QGxpbmsgRXZlbnRCdXN9XG4gKlxuICogQHBhcmFtICB7U3RyaW5nfSB0eXBlXG4gKiBAcGFyYW0gIHtPYmplY3R9IGV2ZW50XG4gKlxuICogQHJldHVybiB7T2JqZWN0fSBldmVudCBwcm9jZXNzaW5nIHJlc3VsdCAoaWYgYW55KVxuICovXG5CYXNlVmlld2VyLnByb3RvdHlwZS5fZW1pdCA9IGZ1bmN0aW9uKHR5cGUsIGV2ZW50KSB7XG4gIHJldHVybiB0aGlzLmdldCgnZXZlbnRCdXMnKS5maXJlKHR5cGUsIGV2ZW50KTtcbn07XG5cbkJhc2VWaWV3ZXIucHJvdG90eXBlLl9jcmVhdGVDb250YWluZXIgPSBmdW5jdGlvbihvcHRpb25zKSB7XG5cbiAgdmFyIGNvbnRhaW5lciA9IGRvbWlmeSgnPGRpdiBjbGFzcz1cInBqcy1jb250YWluZXJcIj48L2Rpdj4nKTtcblxuICBhc3NpZ24oY29udGFpbmVyLnN0eWxlLCB7XG4gICAgd2lkdGg6IGVuc3VyZVVuaXQob3B0aW9ucy53aWR0aCksXG4gICAgaGVpZ2h0OiBlbnN1cmVVbml0KG9wdGlvbnMuaGVpZ2h0KSxcbiAgICBwb3NpdGlvbjogb3B0aW9ucy5wb3NpdGlvblxuICB9KTtcblxuICByZXR1cm4gY29udGFpbmVyO1xufTtcblxuQmFzZVZpZXdlci5wcm90b3R5cGUuX2NyZWF0ZU1vZGRsZSA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgdmFyIG1vZGRsZU9wdGlvbnMgPSBhc3NpZ24oe30sIHRoaXMuX21vZGRsZUV4dGVuc2lvbnMsIG9wdGlvbnMubW9kZGxlRXh0ZW5zaW9ucyk7XG5cbiAgcmV0dXJuIG5ldyBNb2RkbGUobW9kZGxlT3B0aW9ucyk7XG59O1xuXG5CYXNlVmlld2VyLnByb3RvdHlwZS5fbW9kdWxlcyA9IFtdO1xuXG5CYXNlVmlld2VyLnByb3RvdHlwZS5fbW9kZGxlRXh0ZW5zaW9ucyA9IHt9O1xuXG5cbi8vIGhlbHBlcnMgLy8vLy8vLy8vLy8vLy8vXG5cbmZ1bmN0aW9uIGFkZFdhcm5pbmdzVG9FcnJvcihlcnIsIHdhcm5pbmdzQXJ5KSB7XG4gIGVyci53YXJuaW5ncyA9IHdhcm5pbmdzQXJ5O1xuICByZXR1cm4gZXJyO1xufVxuXG5mdW5jdGlvbiBjaGVja1ZhbGlkYXRpb25FcnJvcihlcnIpIHtcblxuICAvLyBjaGVjayBpZiB3ZSBjYW4gaGVscCB0aGUgdXNlciBieSBpbmRpY2F0aW5nIHdyb25nIFBvc3RpdCB4bWxcbiAgLy8gKGluIGNhc2UgaGUgb3IgdGhlIGV4cG9ydGluZyB0b29sIGRpZCBub3QgZ2V0IHRoYXQgcmlnaHQpXG5cbiAgdmFyIHBhdHRlcm4gPSAvdW5wYXJzYWJsZSBjb250ZW50IDwoW14+XSspPiBkZXRlY3RlZChbXFxzXFxTXSopJC87XG4gIHZhciBtYXRjaCA9IHBhdHRlcm4uZXhlYyhlcnIubWVzc2FnZSk7XG5cbiAgaWYgKG1hdGNoKSB7XG4gICAgZXJyLm1lc3NhZ2UgPVxuICAgICAgJ3VucGFyc2FibGUgY29udGVudCA8JyArIG1hdGNoWzFdICsgJz4gZGV0ZWN0ZWQ7ICcgK1xuICAgICAgJ3RoaXMgbWF5IGluZGljYXRlIGFuIGludmFsaWQgUG9zdGl0IGJvYXJkIGZpbGUnICsgbWF0Y2hbMl07XG4gIH1cblxuICByZXR1cm4gZXJyO1xufVxuXG52YXIgREVGQVVMVF9PUFRJT05TID0ge1xuICB3aWR0aDogJzEwMCUnLFxuICBoZWlnaHQ6ICcxMDAlJyxcbiAgcG9zaXRpb246ICdyZWxhdGl2ZSdcbn07XG5cblxuLyoqXG4gKiBFbnN1cmUgdGhlIHBhc3NlZCBhcmd1bWVudCBpcyBhIHByb3BlciB1bml0IChkZWZhdWx0aW5nIHRvIHB4KVxuICovXG5mdW5jdGlvbiBlbnN1cmVVbml0KHZhbCkge1xuICByZXR1cm4gdmFsICsgKGlzTnVtYmVyKHZhbCkgPyAncHgnIDogJycpO1xufVxuXG5cbi8qKlxuICogRmluZCBSb290Qm9hcmQgaW4gZGVmaW5pdGlvbnMgYnkgSURcbiAqXG4gKiBAcGFyYW0ge01vZGRsZUVsZW1lbnQ8RGVmaW5pdGlvbnM+fSBkZWZpbml0aW9uc1xuICogQHBhcmFtIHtTdHJpbmd9IGJvYXJkSWRcbiAqXG4gKiBAcmV0dXJuIHtNb2RkbGVFbGVtZW50PFBvc3RpdFJvb3RCb2FyZD58bnVsbH1cbiAqL1xuZnVuY3Rpb24gZmluZFJvb3RCb2FyZChkZWZpbml0aW9ucywgYm9hcmRJZCkge1xuICBpZiAoIWJvYXJkSWQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiBmaW5kKGRlZmluaXRpb25zLnJvb3RCb2FyZHMsIGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICByZXR1cm4gZWxlbWVudC5pZCA9PT0gYm9hcmRJZDtcbiAgfSkgfHwgbnVsbDtcbn1cblxuXG5pbXBvcnQge1xuICBldmVudCBhcyBkb21FdmVudFxufSBmcm9tICdtaW4tZG9tJztcbiIsImltcG9ydCBQb3N0aXRUcmVlV2Fsa2VyIGZyb20gJy4vUG9zdGl0VHJlZVdhbGtlcic7XG5cbi8qKlxuICogVGhlIGltcG9ydFBvc3RpdERpYWdyYW0gcmVzdWx0LlxuICpcbiAqIEB0eXBlZGVmIHtPYmplY3R9IGltcG9ydFBvc3RpdERpYWdyYW1SZXN1bHRcbiAqXG4gKiBAcHJvcGVydHkge0FycmF5PHN0cmluZz59IHdhcm5pbmdzXG4gKi9cblxuLyoqXG4qIFRoZSBpbXBvcnRQb3N0aXREaWFncmFtIGVycm9yLlxuKlxuKiBAdHlwZWRlZiB7RXJyb3J9IGltcG9ydFBvc3RpdERpYWdyYW1FcnJvclxuKlxuKiBAcHJvcGVydHkge0FycmF5PHN0cmluZz59IHdhcm5pbmdzXG4qL1xuXG4vKipcbiAqIEltcG9ydCB0aGUgZGVmaW5pdGlvbnMgaW50byBhIGRpYWdyYW0uXG4gKlxuICogRXJyb3JzIGFuZCB3YXJuaW5ncyBhcmUgcmVwb3J0ZWQgdGhyb3VnaCB0aGUgc3BlY2lmaWVkIGNhbGxiYWNrLlxuICpcbiAqIEBwYXJhbSAge2Rqcy5EaWFncmFtfSBkaWFncmFtXG4gKiBAcGFyYW0gIHtNb2RkbGVFbGVtZW50PERlZmluaXRpb25zPn0gZGVmaW5pdGlvbnNcbiAqIEBwYXJhbSAge01vZGRsZUVsZW1lbnQ8UG90aXRSb290Qm9hcmQ+fSBbcm9vdEJvYXJkXSB0aGUgZGlhZ3JhbSB0byBiZSByZW5kZXJlZFxuICogKGlmIG5vdCBwcm92aWRlZCwgdGhlIGZpcnN0IG9uZSB3aWxsIGJlIHJlbmRlcmVkKVxuICpcbiAqIFJldHVybnMge1Byb21pc2U8aW1wb3J0UG9zdGl0RGlhZ3JhbVJlc3VsdCwgaW1wb3J0UG9zdGl0RGlhZ3JhbUVycm9yPn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGltcG9ydFBvc3RpdERpYWdyYW0oZGlhZ3JhbSwgZGVmaW5pdGlvbnMsIHJvb3RCb2FyZCkge1xuXG4gIHZhciBpbXBvcnRlcixcbiAgICAgIGV2ZW50QnVzLFxuICAgICAgdHJhbnNsYXRlO1xuXG4gIHZhciBlcnJvcixcbiAgICAgIHdhcm5pbmdzID0gW107XG5cbiAgLyoqXG4gICAqIFdhbGsgdGhlIGRpYWdyYW0gc2VtYW50aWNhbGx5LCBpbXBvcnRpbmcgKD1kcmF3aW5nKVxuICAgKiBhbGwgZWxlbWVudHMgeW91IGVuY291bnRlci5cbiAgICpcbiAgICogQHBhcmFtIHtNb2RkbGVFbGVtZW50PERlZmluaXRpb25zPn0gZGVmaW5pdGlvbnNcbiAgICogQHBhcmFtIHtNb2RkbGVFbGVtZW50PFBvc3RpdFJvb3RCb2FyZD59IHJvb3RCb2FyZFxuICAgKi9cbiAgZnVuY3Rpb24gcmVuZGVyKGRlZmluaXRpb25zLCByb290Qm9hcmQpIHtcblxuICAgIHZhciB2aXNpdG9yID0ge1xuXG4gICAgICByb290OiBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICAgIHJldHVybiBpbXBvcnRlci5hZGQoZWxlbWVudCk7XG4gICAgICB9LFxuXG4gICAgICBlbGVtZW50OiBmdW5jdGlvbihlbGVtZW50LCBwYXJlbnRTaGFwZSkge1xuICAgICAgICByZXR1cm4gaW1wb3J0ZXIuYWRkKGVsZW1lbnQsIHBhcmVudFNoYXBlKTtcbiAgICAgIH0sXG5cbiAgICAgIGVycm9yOiBmdW5jdGlvbihtZXNzYWdlLCBjb250ZXh0KSB7XG4gICAgICAgIHdhcm5pbmdzLnB1c2goeyBtZXNzYWdlOiBtZXNzYWdlLCBjb250ZXh0OiBjb250ZXh0IH0pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgd2Fsa2VyID0gbmV3IFBvc3RpdFRyZWVXYWxrZXIodmlzaXRvciwgdHJhbnNsYXRlKTtcblxuICAgIC8vIHRyYXZlcnNlIHhtbCBkb2N1bWVudCBtb2RlbCxcbiAgICAvLyBzdGFydGluZyBhdCBkZWZpbml0aW9uc1xuICAgIHdhbGtlci5oYW5kbGVEZWZpbml0aW9ucyhkZWZpbml0aW9ucywgcm9vdEJvYXJkKTtcbiAgfVxuXG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICB0cnkge1xuICAgICAgaW1wb3J0ZXIgPSBkaWFncmFtLmdldCgncG9zdGl0SW1wb3J0ZXInKTtcbiAgICAgIGV2ZW50QnVzID0gZGlhZ3JhbS5nZXQoJ2V2ZW50QnVzJyk7XG4gICAgICB0cmFuc2xhdGUgPSBkaWFncmFtLmdldCgndHJhbnNsYXRlJyk7XG5cbiAgICAgIGV2ZW50QnVzLmZpcmUoJ2ltcG9ydC5yZW5kZXIuc3RhcnQnLCB7IGRlZmluaXRpb25zOiBkZWZpbml0aW9ucyB9KTtcblxuICAgICAgcmVuZGVyKGRlZmluaXRpb25zLCByb290Qm9hcmQpO1xuXG4gICAgICBldmVudEJ1cy5maXJlKCdpbXBvcnQucmVuZGVyLmNvbXBsZXRlJywge1xuICAgICAgICBlcnJvcjogZXJyb3IsXG4gICAgICAgIHdhcm5pbmdzOiB3YXJuaW5nc1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiByZXNvbHZlKHsgd2FybmluZ3M6IHdhcm5pbmdzIH0pO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiByZWplY3QoZSk7XG4gICAgfVxuICB9KTtcbn0iLCJpbXBvcnQgaW5oZXJpdHMgZnJvbSAnaW5oZXJpdHMnO1xuXG5pbXBvcnQgSWRzIGZyb20gJ2lkcyc7XG5cbmltcG9ydCBCYXNlVmlld2VyIGZyb20gJy4vQmFzZVZpZXdlcic7XG5cblxuLyoqXG4gKiBBIGJhc2UgbW9kZWxlciBmb3IgcG9zdGl0LWpzIGJvYXJkcy5cbiAqXG4gKiBIYXZlIGEgbG9vayBhdCB7QGxpbmsgTW9kZWxlcn0gZm9yIGEgYnVuZGxlIHRoYXQgaW5jbHVkZXMgYWN0dWFsIGZlYXR1cmVzLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gY29uZmlndXJhdGlvbiBvcHRpb25zIHRvIHBhc3MgdG8gdGhlIHZpZXdlclxuICogQHBhcmFtIHtET01FbGVtZW50fSBbb3B0aW9ucy5jb250YWluZXJdIHRoZSBjb250YWluZXIgdG8gcmVuZGVyIHRoZSB2aWV3ZXIgaW4sIGRlZmF1bHRzIHRvIGJvZHkuXG4gKiBAcGFyYW0ge1N0cmluZ3xOdW1iZXJ9IFtvcHRpb25zLndpZHRoXSB0aGUgd2lkdGggb2YgdGhlIHZpZXdlclxuICogQHBhcmFtIHtTdHJpbmd8TnVtYmVyfSBbb3B0aW9ucy5oZWlnaHRdIHRoZSBoZWlnaHQgb2YgdGhlIHZpZXdlclxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLm1vZGRsZUV4dGVuc2lvbnNdIGV4dGVuc2lvbiBwYWNrYWdlcyB0byBwcm92aWRlXG4gKiBAcGFyYW0ge0FycmF5PGRpZGkuTW9kdWxlPn0gW29wdGlvbnMubW9kdWxlc10gYSBsaXN0IG9mIG1vZHVsZXMgdG8gb3ZlcnJpZGUgdGhlIGRlZmF1bHQgbW9kdWxlc1xuICogQHBhcmFtIHtBcnJheTxkaWRpLk1vZHVsZT59IFtvcHRpb25zLmFkZGl0aW9uYWxNb2R1bGVzXSBhIGxpc3Qgb2YgbW9kdWxlcyB0byB1c2Ugd2l0aCB0aGUgZGVmYXVsdCBtb2R1bGVzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEJhc2VNb2RlbGVyKG9wdGlvbnMpIHtcbiAgQmFzZVZpZXdlci5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuXG4gIC8vIGhvb2sgSUQgY29sbGVjdGlvbiBpbnRvIHRoZSBtb2RlbGVyXG4gIHRoaXMub24oJ2ltcG9ydC5wYXJzZS5jb21wbGV0ZScsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgaWYgKCFldmVudC5lcnJvcikge1xuICAgICAgdGhpcy5fY29sbGVjdElkcyhldmVudC5kZWZpbml0aW9ucywgZXZlbnQuY29udGV4dCk7XG4gICAgfVxuICB9LCB0aGlzKTtcblxuICB0aGlzLm9uKCdkaWFncmFtLmRlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmdldCgnbW9kZGxlJykuaWRzLmNsZWFyKCk7XG4gIH0sIHRoaXMpO1xufVxuXG5pbmhlcml0cyhCYXNlTW9kZWxlciwgQmFzZVZpZXdlcik7XG5cblxuLyoqXG4gKiBDcmVhdGUgYSBtb2RkbGUgaW5zdGFuY2UsIGF0dGFjaGluZyBpZHMgdG8gaXQuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAqL1xuQmFzZU1vZGVsZXIucHJvdG90eXBlLl9jcmVhdGVNb2RkbGUgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gIHZhciBtb2RkbGUgPSBCYXNlVmlld2VyLnByb3RvdHlwZS5fY3JlYXRlTW9kZGxlLmNhbGwodGhpcywgb3B0aW9ucyk7XG5cbiAgLy8gYXR0YWNoIGlkcyB0byBtb2RkbGUgdG8gYmUgYWJsZSB0byB0cmFja1xuICAvLyBhbmQgdmFsaWRhdGVkIGlkcyBpbiB0aGUgWE1MIGRvY3VtZW50XG4gIC8vIHRyZWVcbiAgbW9kZGxlLmlkcyA9IG5ldyBJZHMoWyAzMiwgMzYsIDEgXSk7XG5cbiAgcmV0dXJuIG1vZGRsZTtcbn07XG5cbi8qKlxuICogQ29sbGVjdCBpZHMgcHJvY2Vzc2VkIGR1cmluZyBwYXJzaW5nIG9mIHRoZVxuICogZGVmaW5pdGlvbnMgb2JqZWN0LlxuICpcbiAqIEBwYXJhbSB7TW9kZGxlRWxlbWVudH0gZGVmaW5pdGlvbnNcbiAqIEBwYXJhbSB7Q29udGV4dH0gY29udGV4dFxuICovXG5CYXNlTW9kZWxlci5wcm90b3R5cGUuX2NvbGxlY3RJZHMgPSBmdW5jdGlvbihkZWZpbml0aW9ucywgY29udGV4dCkge1xuXG4gIHZhciBtb2RkbGUgPSBkZWZpbml0aW9ucy4kbW9kZWwsXG4gICAgICBpZHMgPSBtb2RkbGUuaWRzLFxuICAgICAgaWQ7XG5cbiAgLy8gcmVtb3ZlIHJlZmVyZW5jZXMgZnJvbSBwcmV2aW91cyBpbXBvcnRcbiAgaWRzLmNsZWFyKCk7XG5cbiAgZm9yIChpZCBpbiBjb250ZXh0LmVsZW1lbnRzQnlJZCkge1xuICAgIGlkcy5jbGFpbShpZCwgY29udGV4dC5lbGVtZW50c0J5SWRbaWRdKTtcbiAgfVxufTtcbiIsIi8qKlxuICogSXMgYW4gZWxlbWVudCBvZiB0aGUgZ2l2ZW4gcG9zdGl0IHR5cGU/XG4gKlxuICogQHBhcmFtICB7ZGpzLm1vZGVsLkJhc2V8TW9kZGxlRWxlbWVudH0gZWxlbWVudFxuICogQHBhcmFtICB7U3RyaW5nfSB0eXBlXG4gKlxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzKGVsZW1lbnQsIHR5cGUpIHtcbiAgdmFyIGJvID0gZ2V0QnVzaW5lc3NPYmplY3QoZWxlbWVudCk7XG5cbiAgcmV0dXJuIGJvICYmICh0eXBlb2YgYm8uJGluc3RhbmNlT2YgPT09ICdmdW5jdGlvbicpICYmIGJvLiRpbnN0YW5jZU9mKHR5cGUpO1xufVxuXG5cbi8qKlxuICogUmV0dXJuIHRoZSBidXNpbmVzcyBvYmplY3QgZm9yIGEgZ2l2ZW4gZWxlbWVudC5cbiAqXG4gKiBAcGFyYW0gIHtkanMubW9kZWwuQmFzZXxNb2RkbGVFbGVtZW50fSBlbGVtZW50XG4gKlxuICogQHJldHVybiB7TW9kZGxlRWxlbWVudH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEJ1c2luZXNzT2JqZWN0KGVsZW1lbnQpIHtcbiAgcmV0dXJuIChlbGVtZW50ICYmIGVsZW1lbnQuYnVzaW5lc3NPYmplY3QpIHx8IGVsZW1lbnQ7XG59IiwiaW1wb3J0IHtcbiAgc29tZVxufSBmcm9tICdtaW4tZGFzaCc7XG5cbmltcG9ydCB7IGlzIH0gZnJvbSAnLi4vLi4vLi4vdXRpbC9Nb2RlbFV0aWwnO1xuXG5cbi8qKlxuICogUmV0dXJuIHRydWUgaWYgZWxlbWVudCBoYXMgYW55IG9mIHRoZSBnaXZlbiB0eXBlcy5cbiAqXG4gKiBAcGFyYW0ge2Rqcy5tb2RlbC5CYXNlfSBlbGVtZW50XG4gKiBAcGFyYW0ge0FycmF5PFN0cmluZz59IHR5cGVzXG4gKlxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzQW55KGVsZW1lbnQsIHR5cGVzKSB7XG4gIHJldHVybiBzb21lKHR5cGVzLCBmdW5jdGlvbih0KSB7XG4gICAgcmV0dXJuIGlzKGVsZW1lbnQsIHQpO1xuICB9KTtcbn1cblxuXG4vKipcbiAqIFJldHVybiB0aGUgcGFyZW50IG9mIHRoZSBlbGVtZW50IHdpdGggYW55IG9mIHRoZSBnaXZlbiB0eXBlcy5cbiAqXG4gKiBAcGFyYW0ge2Rqcy5tb2RlbC5CYXNlfSBlbGVtZW50XG4gKiBAcGFyYW0ge1N0cmluZ3xBcnJheTxTdHJpbmc+fSBhbnlUeXBlXG4gKlxuICogQHJldHVybiB7ZGpzLm1vZGVsLkJhc2V9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRQYXJlbnQoZWxlbWVudCwgYW55VHlwZSkge1xuXG4gIGlmICh0eXBlb2YgYW55VHlwZSA9PT0gJ3N0cmluZycpIHtcbiAgICBhbnlUeXBlID0gWyBhbnlUeXBlIF07XG4gIH1cblxuICB3aGlsZSAoKGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudCkpIHtcbiAgICBpZiAoaXNBbnkoZWxlbWVudCwgYW55VHlwZSkpIHtcbiAgICAgIHJldHVybiBlbGVtZW50O1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBudWxsO1xufSIsImltcG9ydCB7IGlzQW55IH0gZnJvbSAnLi4vbW9kZWxpbmcvdXRpbC9Nb2RlbGluZ1V0aWwnO1xuXG5mdW5jdGlvbiBnZXRMYWJlbEF0dHIoc2VtYW50aWMpIHtcbiAgaWYgKGlzQW55KHNlbWFudGljLCBbICdwb3N0aXQ6UG9zdGl0JywgJ3Bvc3RpdDpUZXh0Qm94JywgJ3Bvc3RpdDpHcm91cCcgXSkpIHtcbiAgICByZXR1cm4gJ25hbWUnO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRMYWJlbChlbGVtZW50KSB7XG4gIHZhciBzZW1hbnRpYyA9IGVsZW1lbnQuYnVzaW5lc3NPYmplY3QsXG4gICAgICBhdHRyID0gZ2V0TGFiZWxBdHRyKHNlbWFudGljKTtcblxuICBpZiAoYXR0cikge1xuICAgIHJldHVybiBzZW1hbnRpY1thdHRyXSB8fCAnJztcbiAgfVxufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRMYWJlbChlbGVtZW50LCB0ZXh0KSB7XG4gIHZhciBzZW1hbnRpYyA9IGVsZW1lbnQuYnVzaW5lc3NPYmplY3QsXG4gICAgICBhdHRyID0gZ2V0TGFiZWxBdHRyKHNlbWFudGljKTtcblxuICBpZiAoYXR0cikge1xuICAgIHNlbWFudGljW2F0dHJdID0gdGV4dDtcbiAgfVxuXG4gIHJldHVybiBlbGVtZW50O1xufSIsImltcG9ydCB7XG4gIGV2ZXJ5LFxuICBzb21lXG59IGZyb20gJ21pbi1kYXNoJztcblxuaW1wb3J0IHtcbiAgY29tcG9uZW50c1RvUGF0aFxufSBmcm9tICdkaWFncmFtLWpzL2xpYi91dGlsL1JlbmRlclV0aWwnO1xuXG5pbXBvcnQge1xuICBnZXRCdXNpbmVzc09iamVjdFxufSBmcm9tICcuLi91dGlsL01vZGVsVXRpbCc7XG5cblxuLy8gZWxlbWVudCB1dGlscyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbi8qKlxuICogQ2hlY2tzIGlmIGV2ZW50RGVmaW5pdGlvbiBvZiB0aGUgZ2l2ZW4gZWxlbWVudCBtYXRjaGVzIHdpdGggc2VtYW50aWMgdHlwZS5cbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufSB0cnVlIGlmIGVsZW1lbnQgaXMgb2YgdGhlIGdpdmVuIHNlbWFudGljIHR5cGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzVHlwZWRFdmVudChldmVudCwgZXZlbnREZWZpbml0aW9uVHlwZSwgZmlsdGVyKSB7XG5cbiAgZnVuY3Rpb24gbWF0Y2hlcyhkZWZpbml0aW9uLCBmaWx0ZXIpIHtcbiAgICByZXR1cm4gZXZlcnkoZmlsdGVyLCBmdW5jdGlvbih2YWwsIGtleSkge1xuXG4gICAgICAvLyB3ZSB3YW50IGEgPT0gY29udmVyc2lvbiBoZXJlLCB0byBiZSBhYmxlIHRvIGNhdGNoXG4gICAgICAvLyB1bmRlZmluZWQgPT0gZmFsc2UgYW5kIGZyaWVuZHNcbiAgICAgIC8qIGpzaGludCAtVzExNiAqL1xuICAgICAgcmV0dXJuIGRlZmluaXRpb25ba2V5XSA9PSB2YWw7XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gc29tZShldmVudC5ldmVudERlZmluaXRpb25zLCBmdW5jdGlvbihkZWZpbml0aW9uKSB7XG4gICAgcmV0dXJuIGRlZmluaXRpb24uJHR5cGUgPT09IGV2ZW50RGVmaW5pdGlvblR5cGUgJiYgbWF0Y2hlcyhldmVudCwgZmlsdGVyKTtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXREaShlbGVtZW50KSB7XG4gIHJldHVybiBlbGVtZW50LmJ1c2luZXNzT2JqZWN0LmRpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2VtYW50aWMoZWxlbWVudCkge1xuICByZXR1cm4gZWxlbWVudC5idXNpbmVzc09iamVjdDtcbn1cblxuXG4vLyBjb2xvciBhY2Nlc3MgLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RmlsbENvbG9yKGVsZW1lbnQsIGRlZmF1bHRDb2xvcikge1xuICByZXR1cm4gKFxuICAgIGdldENvbG9yKGVsZW1lbnQpIHx8XG4gICAgZ2V0RGkoZWxlbWVudCkuZ2V0KCdiaW9jOmZpbGwnKSB8fFxuICAgIGRlZmF1bHRDb2xvciB8fFxuICAgICd3aGl0ZSdcbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFN0cm9rZUNvbG9yKGVsZW1lbnQsIGRlZmF1bHRDb2xvcikge1xuICByZXR1cm4gKFxuICAgIGdldENvbG9yKGVsZW1lbnQpIHx8XG4gICAgZ2V0RGkoZWxlbWVudCkuZ2V0KCdiaW9jOnN0cm9rZScpIHx8XG4gICAgZGVmYXVsdENvbG9yIHx8XG4gICAgJ2JsYWNrJ1xuICApO1xufVxuXG5cbi8vIGNyb3BwaW5nIHBhdGggY3VzdG9taXphdGlvbnMgLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2lyY2xlUGF0aChzaGFwZSkge1xuXG4gIHZhciBjeCA9IHNoYXBlLnggKyBzaGFwZS53aWR0aCAvIDIsXG4gICAgICBjeSA9IHNoYXBlLnkgKyBzaGFwZS5oZWlnaHQgLyAyLFxuICAgICAgcmFkaXVzID0gc2hhcGUud2lkdGggLyAyO1xuXG4gIHZhciBjaXJjbGVQYXRoID0gW1xuICAgIFsnTScsIGN4LCBjeV0sXG4gICAgWydtJywgMCwgLXJhZGl1c10sXG4gICAgWydhJywgcmFkaXVzLCByYWRpdXMsIDAsIDEsIDEsIDAsIDIgKiByYWRpdXNdLFxuICAgIFsnYScsIHJhZGl1cywgcmFkaXVzLCAwLCAxLCAxLCAwLCAtMiAqIHJhZGl1c10sXG4gICAgWyd6J11cbiAgXTtcblxuICByZXR1cm4gY29tcG9uZW50c1RvUGF0aChjaXJjbGVQYXRoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFJvdW5kUmVjdFBhdGgoc2hhcGUsIGJvcmRlclJhZGl1cykge1xuXG4gIHZhciB4ID0gc2hhcGUueCxcbiAgICAgIHkgPSBzaGFwZS55LFxuICAgICAgd2lkdGggPSBzaGFwZS53aWR0aCxcbiAgICAgIGhlaWdodCA9IHNoYXBlLmhlaWdodDtcblxuICB2YXIgcm91bmRSZWN0UGF0aCA9IFtcbiAgICBbJ00nLCB4ICsgYm9yZGVyUmFkaXVzLCB5XSxcbiAgICBbJ2wnLCB3aWR0aCAtIGJvcmRlclJhZGl1cyAqIDIsIDBdLFxuICAgIFsnYScsIGJvcmRlclJhZGl1cywgYm9yZGVyUmFkaXVzLCAwLCAwLCAxLCBib3JkZXJSYWRpdXMsIGJvcmRlclJhZGl1c10sXG4gICAgWydsJywgMCwgaGVpZ2h0IC0gYm9yZGVyUmFkaXVzICogMl0sXG4gICAgWydhJywgYm9yZGVyUmFkaXVzLCBib3JkZXJSYWRpdXMsIDAsIDAsIDEsIC1ib3JkZXJSYWRpdXMsIGJvcmRlclJhZGl1c10sXG4gICAgWydsJywgYm9yZGVyUmFkaXVzICogMiAtIHdpZHRoLCAwXSxcbiAgICBbJ2EnLCBib3JkZXJSYWRpdXMsIGJvcmRlclJhZGl1cywgMCwgMCwgMSwgLWJvcmRlclJhZGl1cywgLWJvcmRlclJhZGl1c10sXG4gICAgWydsJywgMCwgYm9yZGVyUmFkaXVzICogMiAtIGhlaWdodF0sXG4gICAgWydhJywgYm9yZGVyUmFkaXVzLCBib3JkZXJSYWRpdXMsIDAsIDAsIDEsIGJvcmRlclJhZGl1cywgLWJvcmRlclJhZGl1c10sXG4gICAgWyd6J11cbiAgXTtcblxuICByZXR1cm4gY29tcG9uZW50c1RvUGF0aChyb3VuZFJlY3RQYXRoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldERpYW1vbmRQYXRoKHNoYXBlKSB7XG5cbiAgdmFyIHdpZHRoID0gc2hhcGUud2lkdGgsXG4gICAgICBoZWlnaHQgPSBzaGFwZS5oZWlnaHQsXG4gICAgICB4ID0gc2hhcGUueCxcbiAgICAgIHkgPSBzaGFwZS55LFxuICAgICAgaGFsZldpZHRoID0gd2lkdGggLyAyLFxuICAgICAgaGFsZkhlaWdodCA9IGhlaWdodCAvIDI7XG5cbiAgdmFyIGRpYW1vbmRQYXRoID0gW1xuICAgIFsnTScsIHggKyBoYWxmV2lkdGgsIHldLFxuICAgIFsnbCcsIGhhbGZXaWR0aCwgaGFsZkhlaWdodF0sXG4gICAgWydsJywgLWhhbGZXaWR0aCwgaGFsZkhlaWdodF0sXG4gICAgWydsJywgLWhhbGZXaWR0aCwgLWhhbGZIZWlnaHRdLFxuICAgIFsneiddXG4gIF07XG5cbiAgcmV0dXJuIGNvbXBvbmVudHNUb1BhdGgoZGlhbW9uZFBhdGgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmVjdFBhdGgoc2hhcGUpIHtcbiAgdmFyIHggPSBzaGFwZS54LFxuICAgICAgeSA9IHNoYXBlLnksXG4gICAgICB3aWR0aCA9IHNoYXBlLndpZHRoLFxuICAgICAgaGVpZ2h0ID0gc2hhcGUuaGVpZ2h0O1xuXG4gIHZhciByZWN0UGF0aCA9IFtcbiAgICBbJ00nLCB4LCB5XSxcbiAgICBbJ2wnLCB3aWR0aCwgMF0sXG4gICAgWydsJywgMCwgaGVpZ2h0XSxcbiAgICBbJ2wnLCAtd2lkdGgsIDBdLFxuICAgIFsneiddXG4gIF07XG5cbiAgcmV0dXJuIGNvbXBvbmVudHNUb1BhdGgocmVjdFBhdGgpO1xufVxuXG4vLyBoZWxwZXJzIC8vLy8vLy8vLy9cblxuZnVuY3Rpb24gZ2V0Q29sb3IoZWxlbWVudCkge1xuICB2YXIgYm8gPSBnZXRCdXNpbmVzc09iamVjdChlbGVtZW50KTtcblxuICByZXR1cm4gYm8uY29sb3IgfHwgZWxlbWVudC5jb2xvcjtcbn0iLCJpbXBvcnQgaW5oZXJpdHMgZnJvbSAnaW5oZXJpdHMnO1xuXG5pbXBvcnQge1xuICBpc09iamVjdCxcbiAgYXNzaWduXG59IGZyb20gJ21pbi1kYXNoJztcblxuaW1wb3J0IHtcbiAgYXBwZW5kIGFzIHN2Z0FwcGVuZCxcbiAgYXR0ciBhcyBzdmdBdHRyLFxuICBjcmVhdGUgYXMgc3ZnQ3JlYXRlLFxuICBjbGFzc2VzIGFzIHN2Z0NsYXNzZXNcbn0gZnJvbSAndGlueS1zdmcnO1xuXG5pbXBvcnQgQmFzZVJlbmRlcmVyIGZyb20gJ2RpYWdyYW0tanMvbGliL2RyYXcvQmFzZVJlbmRlcmVyJztcblxuaW1wb3J0IHtcbiAgZ2V0TGFiZWxcbn0gZnJvbSAnLi4vZmVhdHVyZXMvbGFiZWwtZWRpdGluZy9MYWJlbFV0aWwnO1xuXG5pbXBvcnQge1xuICBnZXRCdXNpbmVzc09iamVjdCxcbiAgaXNcbn0gZnJvbSAnLi4vdXRpbC9Nb2RlbFV0aWwnO1xuXG5pbXBvcnQge1xuICBnZXRTZW1hbnRpYyxcbiAgZ2V0UmVjdFBhdGgsXG4gIGdldEZpbGxDb2xvcixcbiAgZ2V0U3Ryb2tlQ29sb3Jcbn0gZnJvbSAnLi9Qb3N0aXRSZW5kZXJlclV0aWwnO1xuXG52YXIgREVGQVVMVF9GSUxMX09QQUNJVFkgPSAuOTU7XG5cbnZhciBUQVNLX0JPUkRFUl9SQURJVVMgPSAxMDtcblxudmFyIERFRkFVTFRfVEVYVF9TSVpFID0gMTY7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFBvc3RpdFJlbmRlcmVyKFxuICAgIGNvbmZpZywgZXZlbnRCdXMsIHN0eWxlcywgcGF0aE1hcCxcbiAgICBjYW52YXMsIHRleHRSZW5kZXJlciwgcHJpb3JpdHkpIHtcblxuICBCYXNlUmVuZGVyZXIuY2FsbCh0aGlzLCBldmVudEJ1cywgcHJpb3JpdHkpO1xuXG4gIHZhciBkZWZhdWx0RmlsbENvbG9yID0gY29uZmlnICYmIGNvbmZpZy5kZWZhdWx0RmlsbENvbG9yLFxuICAgICAgZGVmYXVsdFN0cm9rZUNvbG9yID0gY29uZmlnICYmIGNvbmZpZy5kZWZhdWx0U3Ryb2tlQ29sb3I7XG5cbiAgdmFyIGNvbXB1dGVTdHlsZSA9IHN0eWxlcy5jb21wdXRlU3R5bGU7XG5cbiAgZnVuY3Rpb24gZHJhd0NpcmNsZShwYXJlbnRHZngsIHdpZHRoLCBoZWlnaHQsIG9mZnNldCwgYXR0cnMpIHtcblxuICAgIGlmIChpc09iamVjdChvZmZzZXQpKSB7XG4gICAgICBhdHRycyA9IG9mZnNldDtcbiAgICAgIG9mZnNldCA9IDA7XG4gICAgfVxuXG4gICAgb2Zmc2V0ID0gb2Zmc2V0IHx8IDA7XG5cbiAgICBhdHRycyA9IGNvbXB1dGVTdHlsZShhdHRycywge1xuICAgICAgc3Ryb2tlOiAnYmxhY2snLFxuICAgICAgc3Ryb2tlV2lkdGg6IDIsXG4gICAgICBmaWxsOiAnd2hpdGUnXG4gICAgfSk7XG5cbiAgICBpZiAoYXR0cnMuZmlsbCA9PT0gJ25vbmUnKSB7XG4gICAgICBkZWxldGUgYXR0cnMuZmlsbE9wYWNpdHk7XG4gICAgfVxuXG4gICAgdmFyIGN4ID0gd2lkdGggLyAyLFxuICAgICAgICBjeSA9IGhlaWdodCAvIDI7XG5cbiAgICB2YXIgY2lyY2xlID0gc3ZnQ3JlYXRlKCdjaXJjbGUnKTtcbiAgICBzdmdBdHRyKGNpcmNsZSwge1xuICAgICAgY3g6IGN4LFxuICAgICAgY3k6IGN5LFxuICAgICAgcjogTWF0aC5yb3VuZCgod2lkdGggKyBoZWlnaHQpIC8gNCAtIG9mZnNldClcbiAgICB9KTtcbiAgICBzdmdBdHRyKGNpcmNsZSwgYXR0cnMpO1xuXG4gICAgc3ZnQXBwZW5kKHBhcmVudEdmeCwgY2lyY2xlKTtcblxuICAgIHJldHVybiBjaXJjbGU7XG4gIH1cblxuICBmdW5jdGlvbiBkcmF3UmVjdChwYXJlbnRHZngsIHdpZHRoLCBoZWlnaHQsIHIsIG9mZnNldCwgYXR0cnMpIHtcblxuICAgIGlmIChpc09iamVjdChvZmZzZXQpKSB7XG4gICAgICBhdHRycyA9IG9mZnNldDtcbiAgICAgIG9mZnNldCA9IDA7XG4gICAgfVxuXG4gICAgb2Zmc2V0ID0gb2Zmc2V0IHx8IDA7XG5cbiAgICBhdHRycyA9IGNvbXB1dGVTdHlsZShhdHRycywge1xuICAgICAgc3Ryb2tlOiAnYmxhY2snLFxuICAgICAgc3Ryb2tlV2lkdGg6IDIsXG4gICAgICBmaWxsOiAnd2hpdGUnXG4gICAgfSk7XG5cbiAgICB2YXIgcmVjdCA9IHN2Z0NyZWF0ZSgncmVjdCcpO1xuICAgIHN2Z0F0dHIocmVjdCwge1xuICAgICAgeDogb2Zmc2V0LFxuICAgICAgeTogb2Zmc2V0LFxuICAgICAgd2lkdGg6IHdpZHRoIC0gb2Zmc2V0ICogMixcbiAgICAgIGhlaWdodDogaGVpZ2h0IC0gb2Zmc2V0ICogMixcbiAgICAgIHJ4OiByLFxuICAgICAgcnk6IHJcbiAgICB9KTtcbiAgICBzdmdBdHRyKHJlY3QsIGF0dHJzKTtcblxuICAgIHN2Z0FwcGVuZChwYXJlbnRHZngsIHJlY3QpO1xuXG4gICAgcmV0dXJuIHJlY3Q7XG4gIH1cblxuICBmdW5jdGlvbiBkcmF3UGF0aChwYXJlbnRHZngsIGQsIGF0dHJzKSB7XG5cbiAgICBhdHRycyA9IGNvbXB1dGVTdHlsZShhdHRycywgWyAnbm8tZmlsbCcgXSwge1xuICAgICAgc3Ryb2tlV2lkdGg6IDIsXG4gICAgICBzdHJva2U6ICdibGFjaydcbiAgICB9KTtcblxuICAgIHZhciBwYXRoID0gc3ZnQ3JlYXRlKCdwYXRoJyk7XG4gICAgc3ZnQXR0cihwYXRoLCB7IGQ6IGQgfSk7XG4gICAgc3ZnQXR0cihwYXRoLCBhdHRycyk7XG5cbiAgICBzdmdBcHBlbmQocGFyZW50R2Z4LCBwYXRoKTtcblxuICAgIHJldHVybiBwYXRoO1xuICB9XG5cblxuICBmdW5jdGlvbiByZW5kZXJMYWJlbChwYXJlbnRHZngsIGxhYmVsLCBvcHRpb25zKSB7XG5cbiAgICBvcHRpb25zID0gYXNzaWduKHtcbiAgICAgIHNpemU6IHtcbiAgICAgICAgd2lkdGg6IDEwMFxuICAgICAgfVxuICAgIH0sIG9wdGlvbnMpO1xuXG4gICAgdmFyIHRleHQgPSB0ZXh0UmVuZGVyZXIuY3JlYXRlVGV4dChsYWJlbCB8fCAnJywgb3B0aW9ucyk7XG5cbiAgICBzdmdDbGFzc2VzKHRleHQpLmFkZCgnZGpzLWxhYmVsJyk7XG5cbiAgICBzdmdBcHBlbmQocGFyZW50R2Z4LCB0ZXh0KTtcblxuICAgIHJldHVybiB0ZXh0O1xuICB9XG5cbiAgZnVuY3Rpb24gcmVuZGVyRW1iZWRkZWRMYWJlbChwYXJlbnRHZngsIGVsZW1lbnQsIGFsaWduLCBmb250U2l6ZSkge1xuICAgIHZhciBzZW1hbnRpYyA9IGdldFNlbWFudGljKGVsZW1lbnQpO1xuXG4gICAgcmV0dXJuIHJlbmRlckxhYmVsKHBhcmVudEdmeCwgc2VtYW50aWMubmFtZSwge1xuICAgICAgYm94OiBlbGVtZW50LFxuICAgICAgYWxpZ246IGFsaWduLFxuICAgICAgcGFkZGluZzogNSxcbiAgICAgIHN0eWxlOiB7XG4gICAgICAgIGZpbGw6IGdldENvbG9yKGVsZW1lbnQpID09PSAnYmxhY2snID8gJ3doaXRlJyA6ICdibGFjaycsXG4gICAgICAgIGZvbnRTaXplOiBmb250U2l6ZSB8fCBERUZBVUxUX1RFWFRfU0laRVxuICAgICAgfSxcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbmRlckV4dGVybmFsTGFiZWwocGFyZW50R2Z4LCBlbGVtZW50KSB7XG5cbiAgICB2YXIgYm94ID0ge1xuICAgICAgd2lkdGg6IDkwLFxuICAgICAgaGVpZ2h0OiAzMCxcbiAgICAgIHg6IGVsZW1lbnQud2lkdGggLyAyICsgZWxlbWVudC54LFxuICAgICAgeTogZWxlbWVudC5oZWlnaHQgLyAyICsgZWxlbWVudC55XG4gICAgfTtcblxuICAgIHJldHVybiByZW5kZXJMYWJlbChwYXJlbnRHZngsIGdldExhYmVsKGVsZW1lbnQpLCB7XG4gICAgICBib3g6IGJveCxcbiAgICAgIGZpdEJveDogdHJ1ZSxcbiAgICAgIHN0eWxlOiBhc3NpZ24oXG4gICAgICAgIHt9LFxuICAgICAgICB0ZXh0UmVuZGVyZXIuZ2V0RXh0ZXJuYWxTdHlsZSgpLFxuICAgICAgICB7XG4gICAgICAgICAgZmlsbDogJ2JsYWNrJ1xuICAgICAgICB9XG4gICAgICApXG4gICAgfSk7XG4gIH1cblxuICB0aGlzLmhhbmRsZXJzID0ge1xuICAgICdwb3N0aXQ6U3F1YXJlUG9zdGl0JzogZnVuY3Rpb24ocGFyZW50R2Z4LCBlbGVtZW50KSB7XG5cbiAgICAgIHZhciBhdHRycyA9IHtcbiAgICAgICAgZmlsbDogZ2V0RmlsbENvbG9yKGVsZW1lbnQsIGRlZmF1bHRGaWxsQ29sb3IpLFxuICAgICAgICBzdHJva2U6IGdldFN0cm9rZUNvbG9yKGVsZW1lbnQsIGRlZmF1bHRTdHJva2VDb2xvcilcbiAgICAgIH07XG5cbiAgICAgIGlmICghKCdmaWxsT3BhY2l0eScgaW4gYXR0cnMpKSB7XG4gICAgICAgIGF0dHJzLmZpbGxPcGFjaXR5ID0gREVGQVVMVF9GSUxMX09QQUNJVFk7XG4gICAgICB9XG5cbiAgICAgIHZhciByZWN0ID0gZHJhd1JlY3QocGFyZW50R2Z4LCBlbGVtZW50LndpZHRoLCBlbGVtZW50LmhlaWdodCwgMCwgYXR0cnMpO1xuXG4gICAgICByZW5kZXJFbWJlZGRlZExhYmVsKHBhcmVudEdmeCwgZWxlbWVudCwgJ2NlbnRlci1taWRkbGUnKTtcblxuICAgICAgcmV0dXJuIHJlY3Q7XG4gICAgfSxcblxuICAgICdwb3N0aXQ6R3JvdXAnOiBmdW5jdGlvbihwYXJlbnRHZngsIGVsZW1lbnQpIHtcblxuICAgICAgdmFyIGdyb3VwID0gZHJhd1JlY3QocGFyZW50R2Z4LCBlbGVtZW50LndpZHRoLCBlbGVtZW50LmhlaWdodCwgVEFTS19CT1JERVJfUkFESVVTLCB7XG4gICAgICAgIHN0cm9rZTogJ2JsYWNrJyxcbiAgICAgICAgc3Ryb2tlV2lkdGg6IDEsXG4gICAgICAgIHN0cm9rZURhc2hhcnJheTogJzgsMywxLDMnLFxuICAgICAgICBmaWxsOiAnbm9uZScsXG4gICAgICAgIHBvaW50ZXJFdmVudHM6ICdub25lJ1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBncm91cDtcbiAgICB9LFxuXG4gICAgJ3Bvc3RpdDpDaXJjbGVQb3N0aXQnOiBmdW5jdGlvbihwYXJlbnRHZngsIGVsZW1lbnQpIHtcbiAgICAgIHZhciBhdHRycyA9IHtcbiAgICAgICAgZmlsbDogZ2V0RmlsbENvbG9yKGVsZW1lbnQsIGRlZmF1bHRGaWxsQ29sb3IpLFxuICAgICAgICBzdHJva2U6IGdldFN0cm9rZUNvbG9yKGVsZW1lbnQsIGRlZmF1bHRTdHJva2VDb2xvcilcbiAgICAgIH07XG5cbiAgICAgIGlmICghKCdmaWxsT3BhY2l0eScgaW4gYXR0cnMpKSB7XG4gICAgICAgIGF0dHJzLmZpbGxPcGFjaXR5ID0gREVGQVVMVF9GSUxMX09QQUNJVFk7XG4gICAgICB9XG5cbiAgICAgIHZhciByZWN0ID0gZHJhd0NpcmNsZShwYXJlbnRHZngsIGVsZW1lbnQud2lkdGgsIGVsZW1lbnQuaGVpZ2h0LCBhdHRycyk7XG5cbiAgICAgIHJlbmRlckVtYmVkZGVkTGFiZWwocGFyZW50R2Z4LCBlbGVtZW50LCAnY2VudGVyLW1pZGRsZScpO1xuXG4gICAgICByZXR1cm4gcmVjdDtcbiAgICB9LFxuICAgICdwb3N0aXQ6VGV4dEJveCc6IGZ1bmN0aW9uKHBhcmVudEdmeCwgZWxlbWVudCkge1xuICAgICAgdmFyIGF0dHJzID0ge1xuICAgICAgICBmaWxsOiAnbm9uZScsXG4gICAgICAgIHN0cm9rZTogJ25vbmUnXG4gICAgICB9O1xuXG4gICAgICB2YXIgdGV4dFNpemUgPSBlbGVtZW50LnRleHRTaXplIHx8IERFRkFVTFRfVEVYVF9TSVpFO1xuXG4gICAgICB2YXIgcmVjdCA9IGRyYXdSZWN0KHBhcmVudEdmeCwgZWxlbWVudC53aWR0aCwgZWxlbWVudC5oZWlnaHQsIDAsIGF0dHJzKTtcblxuICAgICAgcmVuZGVyRW1iZWRkZWRMYWJlbChwYXJlbnRHZngsIGVsZW1lbnQsICdjZW50ZXItbWlkZGxlJywgdGV4dFNpemUpO1xuXG4gICAgICByZXR1cm4gcmVjdDtcbiAgICB9LFxuICAgICdwb3N0aXQ6SW1hZ2UnOiBmdW5jdGlvbihwYXJlbnRHZngsIGVsZW1lbnQpIHtcbiAgICAgIHZhciBpbWFnZVNvdXJjZSA9IGdldEltYWdlU291cmNlKGVsZW1lbnQpO1xuXG4gICAgICB2YXIgZ2Z4O1xuICAgICAgaWYgKCFpbWFnZVNvdXJjZSkge1xuXG4gICAgICAgIC8vIGRlZmF1bHQgcGxhY2Vob2xkZXJcbiAgICAgICAgZ2Z4ID0gZHJhd1JlY3QocGFyZW50R2Z4LCBlbGVtZW50LndpZHRoLCBlbGVtZW50LmhlaWdodCwgMCwge1xuICAgICAgICAgIGZpbGw6ICcjY2NjJyxcbiAgICAgICAgICBzdHJva2U6ICcjY2NjJ1xuICAgICAgICB9KTtcblxuICAgICAgICByZW5kZXJMYWJlbChwYXJlbnRHZngsICdJbWFnZSBQbGFjZWhvbGRlcicsIHtcbiAgICAgICAgICBib3g6IGVsZW1lbnQsXG4gICAgICAgICAgYWxpZ246ICdjZW50ZXItbWlkZGxlJyxcbiAgICAgICAgICBwYWRkaW5nOiA1LFxuICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICBmaWxsOiAnYmxhY2snLFxuICAgICAgICAgICAgZm9udFNpemU6IERFRkFVTFRfVEVYVF9TSVpFXG4gICAgICAgICAgfSxcbiAgICAgICAgfSk7XG5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGdmeCA9IHN2Z0NyZWF0ZSgnaW1hZ2UnLCB7XG4gICAgICAgICAgeDogMCxcbiAgICAgICAgICB5OiAwLFxuICAgICAgICAgIHdpZHRoOiBlbGVtZW50LndpZHRoLFxuICAgICAgICAgIGhlaWdodDogZWxlbWVudC5oZWlnaHQsXG4gICAgICAgICAgaHJlZjogZ2V0SW1hZ2VTb3VyY2UoZWxlbWVudClcbiAgICAgICAgfSk7XG5cbiAgICAgICAgc3ZnQXBwZW5kKHBhcmVudEdmeCwgZ2Z4KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGdmeDtcbiAgICB9LFxuXG4gICAgJ2xhYmVsJzogZnVuY3Rpb24ocGFyZW50R2Z4LCBlbGVtZW50KSB7XG4gICAgICByZXR1cm4gcmVuZGVyRXh0ZXJuYWxMYWJlbChwYXJlbnRHZngsIGVsZW1lbnQpO1xuICAgIH1cbiAgfTtcblxuXG4gIC8vIGV4dGVuc2lvbiBBUEksIHVzZSBhdCB5b3VyIG93biByaXNrXG4gIHRoaXMuX2RyYXdQYXRoID0gZHJhd1BhdGg7XG5cbn1cblxuXG5pbmhlcml0cyhQb3N0aXRSZW5kZXJlciwgQmFzZVJlbmRlcmVyKTtcblxuUG9zdGl0UmVuZGVyZXIuJGluamVjdCA9IFtcbiAgJ2NvbmZpZy5wb3N0aXQnLFxuICAnZXZlbnRCdXMnLFxuICAnc3R5bGVzJyxcbiAgJ3BhdGhNYXAnLFxuICAnY2FudmFzJyxcbiAgJ3RleHRSZW5kZXJlcidcbl07XG5cblxuUG9zdGl0UmVuZGVyZXIucHJvdG90eXBlLmNhblJlbmRlciA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgcmV0dXJuIGlzKGVsZW1lbnQsICdwb3N0aXQ6Qm9hcmRFbGVtZW50Jyk7XG59O1xuXG5Qb3N0aXRSZW5kZXJlci5wcm90b3R5cGUuZHJhd1NoYXBlID0gZnVuY3Rpb24ocGFyZW50R2Z4LCBlbGVtZW50KSB7XG4gIHZhciB0eXBlID0gZWxlbWVudC50eXBlO1xuICB2YXIgaCA9IHRoaXMuaGFuZGxlcnNbdHlwZV07XG5cbiAgLyoganNoaW50IC1XMDQwICovXG4gIHJldHVybiBoKHBhcmVudEdmeCwgZWxlbWVudCk7XG59O1xuXG5Qb3N0aXRSZW5kZXJlci5wcm90b3R5cGUuZ2V0U2hhcGVQYXRoID0gZnVuY3Rpb24oZWxlbWVudCkge1xuXG4gIHJldHVybiBnZXRSZWN0UGF0aChlbGVtZW50KTtcbn07XG5cbi8vIGhlbHBlcnMgLy8vLy8vLy8vL1xuXG5mdW5jdGlvbiBnZXRDb2xvcihlbGVtZW50KSB7XG4gIHZhciBibyA9IGdldEJ1c2luZXNzT2JqZWN0KGVsZW1lbnQpO1xuXG4gIHJldHVybiBiby5jb2xvciB8fCBlbGVtZW50LmNvbG9yO1xufVxuXG5mdW5jdGlvbiBnZXRJbWFnZVNvdXJjZShlbGVtZW50KSB7XG4gIHZhciBibyA9IGdldEJ1c2luZXNzT2JqZWN0KGVsZW1lbnQpO1xuXG4gIHJldHVybiBiby5zb3VyY2UgfHwgZWxlbWVudC5zb3VyY2U7XG59XG5cbiIsImltcG9ydCB7XG4gIGlzT2JqZWN0LFxuICBhc3NpZ24sXG4gIGZvckVhY2gsXG4gIHJlZHVjZVxufSBmcm9tICdtaW4tZGFzaCc7XG5cbmltcG9ydCB7XG4gIGFwcGVuZCBhcyBzdmdBcHBlbmQsXG4gIGF0dHIgYXMgc3ZnQXR0cixcbiAgY3JlYXRlIGFzIHN2Z0NyZWF0ZSxcbiAgcmVtb3ZlIGFzIHN2Z1JlbW92ZVxufSBmcm9tICd0aW55LXN2Zyc7XG5cbnZhciBERUZBVUxUX0JPWF9QQURESU5HID0gMDtcblxudmFyIERFRkFVTFRfTEFCRUxfU0laRSA9IHtcbiAgd2lkdGg6IDE1MCxcbiAgaGVpZ2h0OiA1MFxufTtcblxuXG5mdW5jdGlvbiBwYXJzZUFsaWduKGFsaWduKSB7XG5cbiAgdmFyIHBhcnRzID0gYWxpZ24uc3BsaXQoJy0nKTtcblxuICByZXR1cm4ge1xuICAgIGhvcml6b250YWw6IHBhcnRzWzBdIHx8ICdjZW50ZXInLFxuICAgIHZlcnRpY2FsOiBwYXJ0c1sxXSB8fCAndG9wJ1xuICB9O1xufVxuXG5mdW5jdGlvbiBwYXJzZVBhZGRpbmcocGFkZGluZykge1xuXG4gIGlmIChpc09iamVjdChwYWRkaW5nKSkge1xuICAgIHJldHVybiBhc3NpZ24oeyB0b3A6IDAsIGxlZnQ6IDAsIHJpZ2h0OiAwLCBib3R0b206IDAgfSwgcGFkZGluZyk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRvcDogcGFkZGluZyxcbiAgICAgIGxlZnQ6IHBhZGRpbmcsXG4gICAgICByaWdodDogcGFkZGluZyxcbiAgICAgIGJvdHRvbTogcGFkZGluZ1xuICAgIH07XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0VGV4dEJCb3godGV4dCwgZmFrZVRleHQpIHtcblxuICBmYWtlVGV4dC50ZXh0Q29udGVudCA9IHRleHQ7XG5cbiAgdmFyIHRleHRCQm94O1xuXG4gIHRyeSB7XG4gICAgdmFyIGJib3gsXG4gICAgICAgIGVtcHR5TGluZSA9IHRleHQgPT09ICcnO1xuXG4gICAgLy8gYWRkIGR1bW15IHRleHQsIHdoZW4gbGluZSBpcyBlbXB0eSB0b1xuICAgIC8vIGRldGVybWluZSBjb3JyZWN0IGhlaWdodFxuICAgIGZha2VUZXh0LnRleHRDb250ZW50ID0gZW1wdHlMaW5lID8gJ2R1bW15JyA6IHRleHQ7XG5cbiAgICB0ZXh0QkJveCA9IGZha2VUZXh0LmdldEJCb3goKTtcblxuICAgIC8vIHRha2UgdGV4dCByZW5kZXJpbmcgcmVsYXRlZCBob3Jpem9udGFsXG4gICAgLy8gcGFkZGluZyBpbnRvIGFjY291bnRcbiAgICBiYm94ID0ge1xuICAgICAgd2lkdGg6IHRleHRCQm94LndpZHRoICsgdGV4dEJCb3gueCAqIDIsXG4gICAgICBoZWlnaHQ6IHRleHRCQm94LmhlaWdodFxuICAgIH07XG5cbiAgICBpZiAoZW1wdHlMaW5lKSB7XG5cbiAgICAgIC8vIGNvcnJlY3Qgd2lkdGhcbiAgICAgIGJib3gud2lkdGggPSAwO1xuICAgIH1cblxuICAgIHJldHVybiBiYm94O1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIHsgd2lkdGg6IDAsIGhlaWdodDogMCB9O1xuICB9XG59XG5cblxuLyoqXG4gKiBMYXlvdXQgdGhlIG5leHQgbGluZSBhbmQgcmV0dXJuIHRoZSBsYXlvdXRlZCBlbGVtZW50LlxuICpcbiAqIEFsdGVycyB0aGUgbGluZXMgcGFzc2VkLlxuICpcbiAqIEBwYXJhbSAge0FycmF5PHN0cmluZz59IGxpbmVzXG4gKiBAcmV0dXJuIHtPYmplY3R9IHRoZSBsaW5lIGRlc2NyaXB0b3IsIGFuIG9iamVjdCB7IHdpZHRoLCBoZWlnaHQsIHRleHQgfVxuICovXG5mdW5jdGlvbiBsYXlvdXROZXh0KGxpbmVzLCBtYXhXaWR0aCwgZmFrZVRleHQpIHtcblxuICB2YXIgb3JpZ2luYWxMaW5lID0gbGluZXMuc2hpZnQoKSxcbiAgICAgIGZpdExpbmUgPSBvcmlnaW5hbExpbmU7XG5cbiAgdmFyIHRleHRCQm94O1xuXG4gIGZvciAoOzspIHtcbiAgICB0ZXh0QkJveCA9IGdldFRleHRCQm94KGZpdExpbmUsIGZha2VUZXh0KTtcblxuICAgIHRleHRCQm94LndpZHRoID0gZml0TGluZSA/IHRleHRCQm94LndpZHRoIDogMDtcblxuICAgIC8vIHRyeSB0byBmaXRcbiAgICBpZiAoZml0TGluZSA9PT0gJyAnIHx8IGZpdExpbmUgPT09ICcnIHx8IHRleHRCQm94LndpZHRoIDwgTWF0aC5yb3VuZChtYXhXaWR0aCkgfHwgZml0TGluZS5sZW5ndGggPCAyKSB7XG4gICAgICByZXR1cm4gZml0KGxpbmVzLCBmaXRMaW5lLCBvcmlnaW5hbExpbmUsIHRleHRCQm94KTtcbiAgICB9XG5cbiAgICBmaXRMaW5lID0gc2hvcnRlbkxpbmUoZml0TGluZSwgdGV4dEJCb3gud2lkdGgsIG1heFdpZHRoKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBmaXQobGluZXMsIGZpdExpbmUsIG9yaWdpbmFsTGluZSwgdGV4dEJCb3gpIHtcbiAgaWYgKGZpdExpbmUubGVuZ3RoIDwgb3JpZ2luYWxMaW5lLmxlbmd0aCkge1xuICAgIHZhciByZW1haW5kZXIgPSBvcmlnaW5hbExpbmUuc2xpY2UoZml0TGluZS5sZW5ndGgpLnRyaW0oKTtcblxuICAgIGxpbmVzLnVuc2hpZnQocmVtYWluZGVyKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgd2lkdGg6IHRleHRCQm94LndpZHRoLFxuICAgIGhlaWdodDogdGV4dEJCb3guaGVpZ2h0LFxuICAgIHRleHQ6IGZpdExpbmVcbiAgfTtcbn1cblxudmFyIFNPRlRfQlJFQUsgPSAnXFx1MDBBRCc7XG5cblxuLyoqXG4gKiBTaG9ydGVucyBhIGxpbmUgYmFzZWQgb24gc3BhY2luZyBhbmQgaHlwaGVucy5cbiAqIFJldHVybnMgdGhlIHNob3J0ZW5lZCByZXN1bHQgb24gc3VjY2Vzcy5cbiAqXG4gKiBAcGFyYW0gIHtzdHJpbmd9IGxpbmVcbiAqIEBwYXJhbSAge251bWJlcn0gbWF4TGVuZ3RoIHRoZSBtYXhpbXVtIGNoYXJhY3RlcnMgb2YgdGhlIHN0cmluZ1xuICogQHJldHVybiB7c3RyaW5nfSB0aGUgc2hvcnRlbmVkIHN0cmluZ1xuICovXG5mdW5jdGlvbiBzZW1hbnRpY1Nob3J0ZW4obGluZSwgbWF4TGVuZ3RoKSB7XG5cbiAgdmFyIHBhcnRzID0gbGluZS5zcGxpdCgvKFxcc3wtfFxcdTAwQUQpL2cpLFxuICAgICAgcGFydCxcbiAgICAgIHNob3J0ZW5lZFBhcnRzID0gW10sXG4gICAgICBsZW5ndGggPSAwO1xuXG4gIC8vIHRyeSB0byBzaG9ydGVuIHZpYSBicmVhayBjaGFyc1xuICBpZiAocGFydHMubGVuZ3RoID4gMSkge1xuXG4gICAgd2hpbGUgKChwYXJ0ID0gcGFydHMuc2hpZnQoKSkpIHtcbiAgICAgIGlmIChwYXJ0Lmxlbmd0aCArIGxlbmd0aCA8IG1heExlbmd0aCkge1xuICAgICAgICBzaG9ydGVuZWRQYXJ0cy5wdXNoKHBhcnQpO1xuICAgICAgICBsZW5ndGggKz0gcGFydC5sZW5ndGg7XG4gICAgICB9IGVsc2Uge1xuXG4gICAgICAgIC8vIHJlbW92ZSBwcmV2aW91cyBwYXJ0LCB0b28gaWYgaHlwaGVuIGRvZXMgbm90IGZpdCBhbnltb3JlXG4gICAgICAgIGlmIChwYXJ0ID09PSAnLScgfHwgcGFydCA9PT0gU09GVF9CUkVBSykge1xuICAgICAgICAgIHNob3J0ZW5lZFBhcnRzLnBvcCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgdmFyIGxhc3QgPSBzaG9ydGVuZWRQYXJ0c1tzaG9ydGVuZWRQYXJ0cy5sZW5ndGggLSAxXTtcblxuICAvLyB0cmFuc2xhdGUgdHJhaWxpbmcgc29mdCBicmVhayB0byBhY3R1YWwgaHlwaGVuXG4gIGlmIChsYXN0ICYmIGxhc3QgPT09IFNPRlRfQlJFQUspIHtcbiAgICBzaG9ydGVuZWRQYXJ0c1tzaG9ydGVuZWRQYXJ0cy5sZW5ndGggLSAxXSA9ICctJztcbiAgfVxuXG4gIHJldHVybiBzaG9ydGVuZWRQYXJ0cy5qb2luKCcnKTtcbn1cblxuXG5mdW5jdGlvbiBzaG9ydGVuTGluZShsaW5lLCB3aWR0aCwgbWF4V2lkdGgpIHtcbiAgdmFyIGxlbmd0aCA9IE1hdGgubWF4KGxpbmUubGVuZ3RoICogKG1heFdpZHRoIC8gd2lkdGgpLCAxKTtcblxuICAvLyB0cnkgdG8gc2hvcnRlbiBzZW1hbnRpY2FsbHkgKGkuZS4gYmFzZWQgb24gc3BhY2VzIGFuZCBoeXBoZW5zKVxuICB2YXIgc2hvcnRlbmVkTGluZSA9IHNlbWFudGljU2hvcnRlbihsaW5lLCBsZW5ndGgpO1xuXG4gIGlmICghc2hvcnRlbmVkTGluZSkge1xuXG4gICAgLy8gZm9yY2Ugc2hvcnRlbiBieSBjdXR0aW5nIHRoZSBsb25nIHdvcmRcbiAgICBzaG9ydGVuZWRMaW5lID0gbGluZS5zbGljZSgwLCBNYXRoLm1heChNYXRoLnJvdW5kKGxlbmd0aCAtIDEpLCAxKSk7XG4gIH1cblxuICByZXR1cm4gc2hvcnRlbmVkTGluZTtcbn1cblxuXG5mdW5jdGlvbiBnZXRIZWxwZXJTdmcoKSB7XG4gIHZhciBoZWxwZXJTdmcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGVscGVyLXN2ZycpO1xuXG4gIGlmICghaGVscGVyU3ZnKSB7XG4gICAgaGVscGVyU3ZnID0gc3ZnQ3JlYXRlKCdzdmcnKTtcblxuICAgIHN2Z0F0dHIoaGVscGVyU3ZnLCB7XG4gICAgICBpZDogJ2hlbHBlci1zdmcnLFxuICAgICAgd2lkdGg6IDAsXG4gICAgICBoZWlnaHQ6IDAsXG4gICAgICBzdHlsZTogJ3Zpc2liaWxpdHk6IGhpZGRlbjsgcG9zaXRpb246IGZpeGVkJ1xuICAgIH0pO1xuXG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChoZWxwZXJTdmcpO1xuICB9XG5cbiAgcmV0dXJuIGhlbHBlclN2Zztcbn1cblxuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgbGFiZWwgdXRpbGl0eVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWdcbiAqIEBwYXJhbSB7RGltZW5zaW9uc30gY29uZmlnLnNpemVcbiAqIEBwYXJhbSB7bnVtYmVyfSBjb25maWcucGFkZGluZ1xuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZy5zdHlsZVxuICogQHBhcmFtIHtzdHJpbmd9IGNvbmZpZy5hbGlnblxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBUZXh0KGNvbmZpZykge1xuXG4gIHRoaXMuX2NvbmZpZyA9IGFzc2lnbih7fSwge1xuICAgIHNpemU6IERFRkFVTFRfTEFCRUxfU0laRSxcbiAgICBwYWRkaW5nOiBERUZBVUxUX0JPWF9QQURESU5HLFxuICAgIHN0eWxlOiB7fSxcbiAgICBhbGlnbjogJ2NlbnRlci10b3AnXG4gIH0sIGNvbmZpZyB8fCB7fSk7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgbGF5b3V0ZWQgdGV4dCBhcyBhbiBTVkcgZWxlbWVudC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dFxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAqXG4gKiBAcmV0dXJuIHtTVkdFbGVtZW50fVxuICovXG5UZXh0LnByb3RvdHlwZS5jcmVhdGVUZXh0ID0gZnVuY3Rpb24odGV4dCwgb3B0aW9ucykge1xuICByZXR1cm4gdGhpcy5sYXlvdXRUZXh0KHRleHQsIG9wdGlvbnMpLmVsZW1lbnQ7XG59O1xuXG4vKipcbiAqIFJldHVybnMgYSBsYWJlbHMgbGF5b3V0ZWQgZGltZW5zaW9ucy5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dCB0byBsYXlvdXRcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gKlxuICogQHJldHVybiB7RGltZW5zaW9uc31cbiAqL1xuVGV4dC5wcm90b3R5cGUuZ2V0RGltZW5zaW9ucyA9IGZ1bmN0aW9uKHRleHQsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIHRoaXMubGF5b3V0VGV4dCh0ZXh0LCBvcHRpb25zKS5kaW1lbnNpb25zO1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIGFuZCByZXR1cm5zIGEgbGFiZWwgYW5kIGl0cyBib3VuZGluZyBib3guXG4gKlxuICogQG1ldGhvZCBUZXh0I2NyZWF0ZVRleHRcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dCB0aGUgdGV4dCB0byByZW5kZXIgb24gdGhlIGxhYmVsXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMuYWxpZ24gaG93IHRvIGFsaWduIGluIHRoZSBib3VuZGluZyBib3guXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbnkgb2YgeyAnY2VudGVyLW1pZGRsZScsICdjZW50ZXItdG9wJyB9LFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdHMgdG8gJ2NlbnRlci10b3AnLlxuICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMuc3R5bGUgc3R5bGUgdG8gYmUgYXBwbGllZCB0byB0aGUgdGV4dFxuICogQHBhcmFtIHtib29sZWFufSBvcHRpb25zLmZpdEJveCBpbmRpY2F0ZXMgaWYgYm94IHdpbGwgYmUgcmVjYWxjdWxhdGVkIHRvXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpdCB0ZXh0XG4gKlxuICogQHJldHVybiB7T2JqZWN0fSB7IGVsZW1lbnQsIGRpbWVuc2lvbnMgfVxuICovXG5UZXh0LnByb3RvdHlwZS5sYXlvdXRUZXh0ID0gZnVuY3Rpb24odGV4dCwgb3B0aW9ucykge1xuICB2YXIgYm94ID0gYXNzaWduKHt9LCB0aGlzLl9jb25maWcuc2l6ZSwgb3B0aW9ucy5ib3gpLFxuICAgICAgc3R5bGUgPSBhc3NpZ24oe30sIHRoaXMuX2NvbmZpZy5zdHlsZSwgb3B0aW9ucy5zdHlsZSksXG4gICAgICBhbGlnbiA9IHBhcnNlQWxpZ24ob3B0aW9ucy5hbGlnbiB8fCB0aGlzLl9jb25maWcuYWxpZ24pLFxuICAgICAgcGFkZGluZyA9IHBhcnNlUGFkZGluZyhvcHRpb25zLnBhZGRpbmcgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMucGFkZGluZyA6IHRoaXMuX2NvbmZpZy5wYWRkaW5nKSxcbiAgICAgIGZpdEJveCA9IG9wdGlvbnMuZml0Qm94IHx8IGZhbHNlO1xuXG4gIHZhciBsaW5lSGVpZ2h0ID0gZ2V0TGluZUhlaWdodChzdHlsZSk7XG5cbiAgLy8gd2Ugc3BsaXQgdGV4dCBieSBsaW5lcyBhbmQgbm9ybWFsaXplXG4gIC8vIHtzb2Z0IGJyZWFrfSArIHtsaW5lIGJyZWFrfSA9PiB7IGxpbmUgYnJlYWsgfVxuICB2YXIgbGluZXMgPSB0ZXh0LnNwbGl0KC9cXHUwMEFEP1xccj9cXG4vKSxcbiAgICAgIGxheW91dGVkID0gW107XG5cbiAgdmFyIG1heFdpZHRoID0gYm94LndpZHRoIC0gcGFkZGluZy5sZWZ0IC0gcGFkZGluZy5yaWdodDtcblxuICAvLyBlbnN1cmUgY29ycmVjdCByZW5kZXJpbmcgYnkgYXR0YWNoaW5nIGhlbHBlciB0ZXh0IG5vZGUgdG8gaW52aXNpYmxlIFNWR1xuICB2YXIgaGVscGVyVGV4dCA9IHN2Z0NyZWF0ZSgndGV4dCcpO1xuICBzdmdBdHRyKGhlbHBlclRleHQsIHsgeDogMCwgeTogMCB9KTtcbiAgc3ZnQXR0cihoZWxwZXJUZXh0LCBzdHlsZSk7XG5cbiAgdmFyIGhlbHBlclN2ZyA9IGdldEhlbHBlclN2ZygpO1xuXG4gIHN2Z0FwcGVuZChoZWxwZXJTdmcsIGhlbHBlclRleHQpO1xuXG4gIHdoaWxlIChsaW5lcy5sZW5ndGgpIHtcbiAgICBsYXlvdXRlZC5wdXNoKGxheW91dE5leHQobGluZXMsIG1heFdpZHRoLCBoZWxwZXJUZXh0KSk7XG4gIH1cblxuICBpZiAoYWxpZ24udmVydGljYWwgPT09ICdtaWRkbGUnKSB7XG4gICAgcGFkZGluZy50b3AgPSBwYWRkaW5nLmJvdHRvbSA9IDA7XG4gIH1cblxuICB2YXIgdG90YWxIZWlnaHQgPSByZWR1Y2UobGF5b3V0ZWQsIGZ1bmN0aW9uKHN1bSwgbGluZSwgaWR4KSB7XG4gICAgcmV0dXJuIHN1bSArIChsaW5lSGVpZ2h0IHx8IGxpbmUuaGVpZ2h0KTtcbiAgfSwgMCkgKyBwYWRkaW5nLnRvcCArIHBhZGRpbmcuYm90dG9tO1xuXG4gIHZhciBtYXhMaW5lV2lkdGggPSByZWR1Y2UobGF5b3V0ZWQsIGZ1bmN0aW9uKHN1bSwgbGluZSwgaWR4KSB7XG4gICAgcmV0dXJuIGxpbmUud2lkdGggPiBzdW0gPyBsaW5lLndpZHRoIDogc3VtO1xuICB9LCAwKTtcblxuICAvLyB0aGUgeSBwb3NpdGlvbiBvZiB0aGUgbmV4dCBsaW5lXG4gIHZhciB5ID0gcGFkZGluZy50b3A7XG5cbiAgaWYgKGFsaWduLnZlcnRpY2FsID09PSAnbWlkZGxlJykge1xuICAgIHkgKz0gKGJveC5oZWlnaHQgLSB0b3RhbEhlaWdodCkgLyAyO1xuICB9XG5cbiAgLy8gbWFnaWMgbnVtYmVyIGluaXRpYWwgb2Zmc2V0XG4gIHkgLT0gKGxpbmVIZWlnaHQgfHwgbGF5b3V0ZWRbMF0uaGVpZ2h0KSAvIDQ7XG5cblxuICB2YXIgdGV4dEVsZW1lbnQgPSBzdmdDcmVhdGUoJ3RleHQnKTtcblxuICBzdmdBdHRyKHRleHRFbGVtZW50LCBzdHlsZSk7XG5cbiAgLy8gbGF5b3V0IGVhY2ggbGluZSB0YWtpbmcgaW50byBhY2NvdW50IHRoYXQgcGFyZW50XG4gIC8vIHNoYXBlIG1pZ2h0IHJlc2l6ZSB0byBmaXQgdGV4dCBzaXplXG4gIGZvckVhY2gobGF5b3V0ZWQsIGZ1bmN0aW9uKGxpbmUpIHtcblxuICAgIHZhciB4O1xuXG4gICAgeSArPSAobGluZUhlaWdodCB8fCBsaW5lLmhlaWdodCk7XG5cbiAgICBzd2l0Y2ggKGFsaWduLmhvcml6b250YWwpIHtcbiAgICBjYXNlICdsZWZ0JzpcbiAgICAgIHggPSBwYWRkaW5nLmxlZnQ7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ3JpZ2h0JzpcbiAgICAgIHggPSAoKGZpdEJveCA/IG1heExpbmVXaWR0aCA6IG1heFdpZHRoKVxuICAgICAgICAtIHBhZGRpbmcucmlnaHQgLSBsaW5lLndpZHRoKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgZGVmYXVsdDpcblxuICAgICAgLy8gYWthIGNlbnRlclxuICAgICAgeCA9IE1hdGgubWF4KCgoKGZpdEJveCA/IG1heExpbmVXaWR0aCA6IG1heFdpZHRoKVxuICAgICAgICAtIGxpbmUud2lkdGgpIC8gMiArIHBhZGRpbmcubGVmdCksIDApO1xuICAgIH1cblxuICAgIHZhciB0c3BhbiA9IHN2Z0NyZWF0ZSgndHNwYW4nKTtcbiAgICBzdmdBdHRyKHRzcGFuLCB7IHg6IHgsIHk6IHkgfSk7XG5cbiAgICB0c3Bhbi50ZXh0Q29udGVudCA9IGxpbmUudGV4dDtcblxuICAgIHN2Z0FwcGVuZCh0ZXh0RWxlbWVudCwgdHNwYW4pO1xuICB9KTtcblxuICBzdmdSZW1vdmUoaGVscGVyVGV4dCk7XG5cbiAgdmFyIGRpbWVuc2lvbnMgPSB7XG4gICAgd2lkdGg6IG1heExpbmVXaWR0aCxcbiAgICBoZWlnaHQ6IHRvdGFsSGVpZ2h0XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICBkaW1lbnNpb25zOiBkaW1lbnNpb25zLFxuICAgIGVsZW1lbnQ6IHRleHRFbGVtZW50XG4gIH07XG59O1xuXG5cbmZ1bmN0aW9uIGdldExpbmVIZWlnaHQoc3R5bGUpIHtcbiAgaWYgKCdmb250U2l6ZScgaW4gc3R5bGUgJiYgJ2xpbmVIZWlnaHQnIGluIHN0eWxlKSB7XG4gICAgcmV0dXJuIHN0eWxlLmxpbmVIZWlnaHQgKiBwYXJzZUludChzdHlsZS5mb250U2l6ZSwgMTApO1xuICB9XG59IiwiaW1wb3J0IHsgYXNzaWduIH0gZnJvbSAnbWluLWRhc2gnO1xuXG5pbXBvcnQgVGV4dFV0aWwgZnJvbSAnZGlhZ3JhbS1qcy9saWIvdXRpbC9UZXh0JztcblxudmFyIERFRkFVTFRfRk9OVF9TSVpFID0gMTY7XG52YXIgTElORV9IRUlHSFRfUkFUSU8gPSAxLjI7XG5cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gVGV4dFJlbmRlcmVyKGNvbmZpZykge1xuXG4gIHZhciBkZWZhdWx0U3R5bGUgPSBhc3NpZ24oe1xuICAgIGZvbnRGYW1pbHk6ICdJQk0gUGxleCwgc2Fucy1zZXJpZicsXG4gICAgZm9udFNpemU6IERFRkFVTFRfRk9OVF9TSVpFLFxuICAgIGZvbnRXZWlnaHQ6ICdub3JtYWwnLFxuICAgIGxpbmVIZWlnaHQ6IExJTkVfSEVJR0hUX1JBVElPXG4gIH0sIGNvbmZpZyAmJiBjb25maWcuZGVmYXVsdFN0eWxlIHx8IHt9KTtcblxuICB2YXIgZm9udFNpemUgPSBwYXJzZUludChkZWZhdWx0U3R5bGUuZm9udFNpemUsIDEwKSAtIDE7XG5cbiAgdmFyIGV4dGVybmFsU3R5bGUgPSBhc3NpZ24oe30sIGRlZmF1bHRTdHlsZSwge1xuICAgIGZvbnRTaXplOiBmb250U2l6ZVxuICB9LCBjb25maWcgJiYgY29uZmlnLmV4dGVybmFsU3R5bGUgfHwge30pO1xuXG4gIHZhciB0ZXh0VXRpbCA9IG5ldyBUZXh0VXRpbCh7XG4gICAgc3R5bGU6IGRlZmF1bHRTdHlsZVxuICB9KTtcblxuICAvKipcbiAgICogR2V0IHRoZSBuZXcgYm91bmRzIG9mIGFuIGV4dGVybmFsbHkgcmVuZGVyZWQsXG4gICAqIGxheW91dGVkIGxhYmVsLlxuICAgKlxuICAgKiBAcGFyYW0gIHtCb3VuZHN9IGJvdW5kc1xuICAgKiBAcGFyYW0gIHtTdHJpbmd9IHRleHRcbiAgICpcbiAgICogQHJldHVybiB7Qm91bmRzfVxuICAgKi9cbiAgdGhpcy5nZXRFeHRlcm5hbExhYmVsQm91bmRzID0gZnVuY3Rpb24oYm91bmRzLCB0ZXh0KSB7XG5cbiAgICB2YXIgbGF5b3V0ZWREaW1lbnNpb25zID0gdGV4dFV0aWwuZ2V0RGltZW5zaW9ucyh0ZXh0LCB7XG4gICAgICBib3g6IHtcbiAgICAgICAgd2lkdGg6IDkwLFxuICAgICAgICBoZWlnaHQ6IDMwLFxuICAgICAgICB4OiBib3VuZHMud2lkdGggLyAyICsgYm91bmRzLngsXG4gICAgICAgIHk6IGJvdW5kcy5oZWlnaHQgLyAyICsgYm91bmRzLnlcbiAgICAgIH0sXG4gICAgICBzdHlsZTogZXh0ZXJuYWxTdHlsZVxuICAgIH0pO1xuXG4gICAgLy8gcmVzaXplIGxhYmVsIHNoYXBlIHRvIGZpdCBsYWJlbCB0ZXh0XG4gICAgcmV0dXJuIHtcbiAgICAgIHg6IE1hdGgucm91bmQoYm91bmRzLnggKyBib3VuZHMud2lkdGggLyAyIC0gbGF5b3V0ZWREaW1lbnNpb25zLndpZHRoIC8gMiksXG4gICAgICB5OiBNYXRoLnJvdW5kKGJvdW5kcy55KSxcbiAgICAgIHdpZHRoOiBNYXRoLmNlaWwobGF5b3V0ZWREaW1lbnNpb25zLndpZHRoKSxcbiAgICAgIGhlaWdodDogTWF0aC5jZWlsKGxheW91dGVkRGltZW5zaW9ucy5oZWlnaHQpXG4gICAgfTtcblxuICB9O1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBsYXlvdXRlZCB0ZXh0IGVsZW1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB0ZXh0XG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAgICpcbiAgICogQHJldHVybiB7U1ZHRWxlbWVudH0gcmVuZGVyZWQgdGV4dFxuICAgKi9cbiAgdGhpcy5jcmVhdGVUZXh0ID0gZnVuY3Rpb24odGV4dCwgb3B0aW9ucykge1xuICAgIHJldHVybiB0ZXh0VXRpbC5jcmVhdGVUZXh0KHRleHQsIG9wdGlvbnMgfHwge30pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQgZGVmYXVsdCB0ZXh0IHN0eWxlLlxuICAgKi9cbiAgdGhpcy5nZXREZWZhdWx0U3R5bGUgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZGVmYXVsdFN0eWxlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGV4dGVybmFsIHRleHQgc3R5bGUuXG4gICAqL1xuICB0aGlzLmdldEV4dGVybmFsU3R5bGUgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZXh0ZXJuYWxTdHlsZTtcbiAgfTtcblxufVxuXG5UZXh0UmVuZGVyZXIuJGluamVjdCA9IFtcbiAgJ2NvbmZpZy50ZXh0UmVuZGVyZXInXG5dOyIsIi8qKlxuICogTWFwIGNvbnRhaW5pbmcgU1ZHIHBhdGhzIG5lZWRlZCBieSBQb3N0aXRSZW5kZXJlci5cbiAqL1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBQYXRoTWFwKCkge1xuXG4gIC8qKlxuICAgKiBDb250YWlucyBhIG1hcCBvZiBwYXRoIGVsZW1lbnRzXG4gICAqXG4gICAqIDxoMT5QYXRoIGRlZmluaXRpb248L2gxPlxuICAgKiBBIHBhcmFtZXRlcml6ZWQgcGF0aCBpcyBkZWZpbmVkIGxpa2UgdGhpczpcbiAgICogPHByZT5cbiAgICogJ0dBVEVXQVlfUEFSQUxMRUwnOiB7XG4gICAqICAgZDogJ20ge214fSx7bXl9IHtlLngwfSwwIDAse2UueDF9IHtlLngxfSwwIDAse2UueTB9IC17ZS54MX0sMCAwLHtlLnkxfSAnICtcbiAgICAgICAgICAnLXtlLngwfSwwIDAsLXtlLnkxfSAte2UueDF9LDAgMCwte2UueTB9IHtlLngxfSwwIHonLFxuICAgKiAgIGhlaWdodDogMTcuNSxcbiAgICogICB3aWR0aDogIDE3LjUsXG4gICAqICAgaGVpZ2h0RWxlbWVudHM6IFsyLjUsIDcuNV0sXG4gICAqICAgd2lkdGhFbGVtZW50czogWzIuNSwgNy41XVxuICAgKiB9XG4gICAqIDwvcHJlPlxuICAgKiA8cD5JdCdzIGltcG9ydGFudCB0byBzcGVjaWZ5IGEgY29ycmVjdCA8Yj5oZWlnaHQgYW5kIHdpZHRoPC9iPiBmb3IgdGhlIHBhdGggYXMgdGhlIHNjYWxpbmdcbiAgICogaXMgYmFzZWQgb24gdGhlIHJhdGlvIGJldHdlZW4gdGhlIHNwZWNpZmllZCBoZWlnaHQgYW5kIHdpZHRoIGluIHRoaXMgb2JqZWN0IGFuZCB0aGVcbiAgICogaGVpZ2h0IGFuZCB3aWR0aCB0aGF0IGlzIHNldCBhcyBzY2FsZSB0YXJnZXQgKE5vdGUgeCx5IGNvb3JkaW5hdGVzIHdpbGwgYmUgc2NhbGVkIHdpdGhcbiAgICogaW5kaXZpZHVhbCByYXRpb3MpLjwvcD5cbiAgICogPHA+VGhlICc8Yj5oZWlnaHRFbGVtZW50czwvYj4nIGFuZCAnPGI+d2lkdGhFbGVtZW50czwvYj4nIGFycmF5IG11c3QgY29udGFpbiB0aGUgdmFsdWVzIHRoYXQgd2lsbCBiZSBzY2FsZWQuXG4gICAqIFRoZSBzY2FsaW5nIGlzIGJhc2VkIG9uIHRoZSBjb21wdXRlZCByYXRpb3MuXG4gICAqIENvb3JkaW5hdGVzIG9uIHRoZSB5IGF4aXMgc2hvdWxkIGJlIGluIHRoZSA8Yj5oZWlnaHRFbGVtZW50PC9iPidzIGFycmF5LCB0aGV5IHdpbGwgYmUgc2NhbGVkIHVzaW5nXG4gICAqIHRoZSBjb21wdXRlZCByYXRpbyBjb2VmZmljaWVudC5cbiAgICogSW4gdGhlIHBhcmFtZXRlcml6ZWQgcGF0aCB0aGUgc2NhbGVkIHZhbHVlcyBjYW4gYmUgYWNjZXNzZWQgdGhyb3VnaCB0aGUgJ2UnIG9iamVjdCBpbiB7fSBicmFja2V0cy5cbiAgICogICA8dWw+XG4gICAqICAgIDxsaT5UaGUgdmFsdWVzIGZvciB0aGUgeSBheGlzIGNhbiBiZSBhY2Nlc3NlZCBpbiB0aGUgcGF0aCBzdHJpbmcgdXNpbmcge2UueTB9LCB7ZS55MX0sIC4uLi48L2xpPlxuICAgKiAgICA8bGk+VGhlIHZhbHVlcyBmb3IgdGhlIHggYXhpcyBjYW4gYmUgYWNjZXNzZWQgaW4gdGhlIHBhdGggc3RyaW5nIHVzaW5nIHtlLngwfSwge2UueDF9LCAuLi4uPC9saT5cbiAgICogICA8L3VsPlxuICAgKiAgIFRoZSBudW1iZXJzIHgwLCB4MSByZXNwZWN0aXZlbHkgeTAsIHkxLCAuLi4gbWFwIHRvIHRoZSBjb3JyZXNwb25kaW5nIGFycmF5IGluZGV4LlxuICAgKiA8L3A+XG4gICAqL1xuICB0aGlzLnBhdGhNYXAgPSB7XG4gICAgJ0VWRU5UX01FU1NBR0UnOiB7XG4gICAgICBkOiAnbSB7bXh9LHtteX0gbCAwLHtlLnkxfSBsIHtlLngxfSwwIGwgMCwte2UueTF9IHogbCB7ZS54MH0se2UueTB9IGwge2UueDB9LC17ZS55MH0nLFxuICAgICAgaGVpZ2h0OiAzNixcbiAgICAgIHdpZHRoOiAgMzYsXG4gICAgICBoZWlnaHRFbGVtZW50czogWzYsIDE0XSxcbiAgICAgIHdpZHRoRWxlbWVudHM6IFsxMC41LCAyMV1cbiAgICB9LFxuICAgICdFVkVOVF9TSUdOQUwnOiB7XG4gICAgICBkOiAnTSB7bXh9LHtteX0gbCB7ZS54MH0se2UueTB9IGwgLXtlLngxfSwwIFonLFxuICAgICAgaGVpZ2h0OiAzNixcbiAgICAgIHdpZHRoOiAzNixcbiAgICAgIGhlaWdodEVsZW1lbnRzOiBbMThdLFxuICAgICAgd2lkdGhFbGVtZW50czogWzEwLCAyMF1cbiAgICB9LFxuICAgICdFVkVOVF9FU0NBTEFUSU9OJzoge1xuICAgICAgZDogJ00ge214fSx7bXl9IGwge2UueDB9LHtlLnkwfSBsIC17ZS54MH0sLXtlLnkxfSBsIC17ZS54MH0se2UueTF9IFonLFxuICAgICAgaGVpZ2h0OiAzNixcbiAgICAgIHdpZHRoOiAzNixcbiAgICAgIGhlaWdodEVsZW1lbnRzOiBbMjAsIDddLFxuICAgICAgd2lkdGhFbGVtZW50czogWzhdXG4gICAgfSxcbiAgICAnRVZFTlRfQ09ORElUSU9OQUwnOiB7XG4gICAgICBkOiAnTSB7ZS54MH0se2UueTB9IGwge2UueDF9LDAgbCAwLHtlLnkyfSBsIC17ZS54MX0sMCBaICcgK1xuICAgICAgICAgJ00ge2UueDJ9LHtlLnkzfSBsIHtlLngwfSwwICcgK1xuICAgICAgICAgJ00ge2UueDJ9LHtlLnk0fSBsIHtlLngwfSwwICcgK1xuICAgICAgICAgJ00ge2UueDJ9LHtlLnk1fSBsIHtlLngwfSwwICcgK1xuICAgICAgICAgJ00ge2UueDJ9LHtlLnk2fSBsIHtlLngwfSwwICcgK1xuICAgICAgICAgJ00ge2UueDJ9LHtlLnk3fSBsIHtlLngwfSwwICcgK1xuICAgICAgICAgJ00ge2UueDJ9LHtlLnk4fSBsIHtlLngwfSwwICcsXG4gICAgICBoZWlnaHQ6IDM2LFxuICAgICAgd2lkdGg6ICAzNixcbiAgICAgIGhlaWdodEVsZW1lbnRzOiBbOC41LCAxNC41LCAxOCwgMTEuNSwgMTQuNSwgMTcuNSwgMjAuNSwgMjMuNSwgMjYuNV0sXG4gICAgICB3aWR0aEVsZW1lbnRzOiAgWzEwLjUsIDE0LjUsIDEyLjVdXG4gICAgfSxcbiAgICAnRVZFTlRfTElOSyc6IHtcbiAgICAgIGQ6ICdtIHtteH0se215fSAwLHtlLnkwfSAte2UueDF9LDAgMCx7ZS55MX0ge2UueDF9LDAgMCx7ZS55MH0ge2UueDB9LC17ZS55Mn0gLXtlLngwfSwte2UueTJ9IHonLFxuICAgICAgaGVpZ2h0OiAzNixcbiAgICAgIHdpZHRoOiAzNixcbiAgICAgIGhlaWdodEVsZW1lbnRzOiBbNC40Mzc1LCA2Ljc1LCA3LjgxMjVdLFxuICAgICAgd2lkdGhFbGVtZW50czogWzkuODQzNzUsIDEzLjVdXG4gICAgfSxcbiAgICAnRVZFTlRfRVJST1InOiB7XG4gICAgICBkOiAnbSB7bXh9LHtteX0ge2UueDB9LC17ZS55MH0ge2UueDF9LC17ZS55MX0ge2UueDJ9LHtlLnkyfSB7ZS54M30sLXtlLnkzfSAte2UueDR9LHtlLnk0fSAte2UueDV9LC17ZS55NX0geicsXG4gICAgICBoZWlnaHQ6IDM2LFxuICAgICAgd2lkdGg6IDM2LFxuICAgICAgaGVpZ2h0RWxlbWVudHM6IFswLjAyMywgOC43MzcsIDguMTUxLCAxNi41NjQsIDEwLjU5MSwgOC43MTRdLFxuICAgICAgd2lkdGhFbGVtZW50czogWzAuMDg1LCA2LjY3MiwgNi45NywgNC4yNzMsIDUuMzM3LCA2LjYzNl1cbiAgICB9LFxuICAgICdFVkVOVF9DQU5DRUxfNDUnOiB7XG4gICAgICBkOiAnbSB7bXh9LHtteX0gLXtlLngxfSwwIDAse2UueDB9IHtlLngxfSwwIDAse2UueTF9IHtlLngwfSwwICcgK1xuICAgICAgICAnMCwte2UueTF9IHtlLngxfSwwIDAsLXtlLnkwfSAte2UueDF9LDAgMCwte2UueTF9IC17ZS54MH0sMCB6JyxcbiAgICAgIGhlaWdodDogMzYsXG4gICAgICB3aWR0aDogMzYsXG4gICAgICBoZWlnaHRFbGVtZW50czogWzQuNzUsIDguNV0sXG4gICAgICB3aWR0aEVsZW1lbnRzOiBbNC43NSwgOC41XVxuICAgIH0sXG4gICAgJ0VWRU5UX0NPTVBFTlNBVElPTic6IHtcbiAgICAgIGQ6ICdtIHtteH0se215fSB7ZS54MH0sLXtlLnkwfSAwLHtlLnkxfSB6IG0ge2UueDF9LC17ZS55Mn0ge2UueDJ9LC17ZS55M30gMCx7ZS55MX0gLXtlLngyfSwte2UueTN9IHonLFxuICAgICAgaGVpZ2h0OiAzNixcbiAgICAgIHdpZHRoOiAzNixcbiAgICAgIGhlaWdodEVsZW1lbnRzOiBbNi41LCAxMywgMC40LCA2LjFdLFxuICAgICAgd2lkdGhFbGVtZW50czogWzksIDkuMywgOC43XVxuICAgIH0sXG4gICAgJ0VWRU5UX1RJTUVSX1dIJzoge1xuICAgICAgZDogJ00ge214fSx7bXl9IGwge2UueDB9LC17ZS55MH0gbSAte2UueDB9LHtlLnkwfSBsIHtlLngxfSx7ZS55MX0gJyxcbiAgICAgIGhlaWdodDogMzYsXG4gICAgICB3aWR0aDogIDM2LFxuICAgICAgaGVpZ2h0RWxlbWVudHM6IFsxMCwgMl0sXG4gICAgICB3aWR0aEVsZW1lbnRzOiBbMywgN11cbiAgICB9LFxuICAgICdFVkVOVF9USU1FUl9MSU5FJzoge1xuICAgICAgZDogICdNIHtteH0se215fSAnICtcbiAgICAgICAgICAnbSB7ZS54MH0se2UueTB9IGwgLXtlLngxfSx7ZS55MX0gJyxcbiAgICAgIGhlaWdodDogMzYsXG4gICAgICB3aWR0aDogIDM2LFxuICAgICAgaGVpZ2h0RWxlbWVudHM6IFsxMCwgM10sXG4gICAgICB3aWR0aEVsZW1lbnRzOiBbMCwgMF1cbiAgICB9LFxuICAgICdFVkVOVF9NVUxUSVBMRSc6IHtcbiAgICAgIGQ6J20ge214fSx7bXl9IHtlLngxfSwte2UueTB9IHtlLngxfSx7ZS55MH0gLXtlLngwfSx7ZS55MX0gLXtlLngyfSwwIHonLFxuICAgICAgaGVpZ2h0OiAzNixcbiAgICAgIHdpZHRoOiAgMzYsXG4gICAgICBoZWlnaHRFbGVtZW50czogWzYuMjgwOTksIDEyLjU2MTk5XSxcbiAgICAgIHdpZHRoRWxlbWVudHM6IFszLjE0MDUsIDkuNDIxNDksIDEyLjU2MTk4XVxuICAgIH0sXG4gICAgJ0VWRU5UX1BBUkFMTEVMX01VTFRJUExFJzoge1xuICAgICAgZDonbSB7bXh9LHtteX0ge2UueDB9LDAgMCx7ZS55MX0ge2UueDF9LDAgMCx7ZS55MH0gLXtlLngxfSwwIDAse2UueTF9ICcgK1xuICAgICAgICAnLXtlLngwfSwwIDAsLXtlLnkxfSAte2UueDF9LDAgMCwte2UueTB9IHtlLngxfSwwIHonLFxuICAgICAgaGVpZ2h0OiAzNixcbiAgICAgIHdpZHRoOiAgMzYsXG4gICAgICBoZWlnaHRFbGVtZW50czogWzIuNTYyMjgsIDcuNjg2ODNdLFxuICAgICAgd2lkdGhFbGVtZW50czogWzIuNTYyMjgsIDcuNjg2ODNdXG4gICAgfSxcbiAgICAnR0FURVdBWV9FWENMVVNJVkUnOiB7XG4gICAgICBkOidtIHtteH0se215fSB7ZS54MH0se2UueTB9IHtlLngxfSx7ZS55MH0ge2UueDJ9LDAge2UueDR9LHtlLnkyfSAnICtcbiAgICAgICAgICAgICAgICAgICAgJ3tlLng0fSx7ZS55MX0ge2UueDJ9LDAge2UueDF9LHtlLnkzfSB7ZS54MH0se2UueTN9ICcgK1xuICAgICAgICAgICAgICAgICAgICAne2UueDN9LDAge2UueDV9LHtlLnkxfSB7ZS54NX0se2UueTJ9IHtlLngzfSwwIHonLFxuICAgICAgaGVpZ2h0OiAxNy41LFxuICAgICAgd2lkdGg6ICAxNy41LFxuICAgICAgaGVpZ2h0RWxlbWVudHM6IFs4LjUsIDYuNTMxMiwgLTYuNTMxMiwgLTguNV0sXG4gICAgICB3aWR0aEVsZW1lbnRzOiAgWzYuNSwgLTYuNSwgMywgLTMsIDUsIC01XVxuICAgIH0sXG4gICAgJ0dBVEVXQVlfUEFSQUxMRUwnOiB7XG4gICAgICBkOidtIHtteH0se215fSAwLHtlLnkxfSAte2UueDF9LDAgMCx7ZS55MH0ge2UueDF9LDAgMCx7ZS55MX0ge2UueDB9LDAgJyArXG4gICAgICAgICcwLC17ZS55MX0ge2UueDF9LDAgMCwte2UueTB9IC17ZS54MX0sMCAwLC17ZS55MX0gLXtlLngwfSwwIHonLFxuICAgICAgaGVpZ2h0OiAzMCxcbiAgICAgIHdpZHRoOiAgMzAsXG4gICAgICBoZWlnaHRFbGVtZW50czogWzUsIDEyLjVdLFxuICAgICAgd2lkdGhFbGVtZW50czogWzUsIDEyLjVdXG4gICAgfSxcbiAgICAnR0FURVdBWV9FVkVOVF9CQVNFRCc6IHtcbiAgICAgIGQ6J20ge214fSx7bXl9IHtlLngwfSx7ZS55MH0ge2UueDB9LHtlLnkxfSB7ZS54MX0se2UueTJ9IHtlLngyfSwwIHonLFxuICAgICAgaGVpZ2h0OiAxMSxcbiAgICAgIHdpZHRoOiAgMTEsXG4gICAgICBoZWlnaHRFbGVtZW50czogWy02LCA2LCAxMiwgLTEyXSxcbiAgICAgIHdpZHRoRWxlbWVudHM6IFs5LCAtMywgLTEyXVxuICAgIH0sXG4gICAgJ0dBVEVXQVlfQ09NUExFWCc6IHtcbiAgICAgIGQ6J20ge214fSx7bXl9IDAse2UueTB9IC17ZS54MH0sLXtlLnkxfSAte2UueDF9LHtlLnkyfSB7ZS54MH0se2UueTF9IC17ZS54Mn0sMCAwLHtlLnkzfSAnICtcbiAgICAgICAgJ3tlLngyfSwwICAte2UueDB9LHtlLnkxfSBsIHtlLngxfSx7ZS55Mn0ge2UueDB9LC17ZS55MX0gMCx7ZS55MH0ge2UueDN9LDAgMCwte2UueTB9IHtlLngwfSx7ZS55MX0gJyArXG4gICAgICAgICd7ZS54MX0sLXtlLnkyfSAte2UueDB9LC17ZS55MX0ge2UueDJ9LDAgMCwte2UueTN9IC17ZS54Mn0sMCB7ZS54MH0sLXtlLnkxfSAte2UueDF9LC17ZS55Mn0gJyArXG4gICAgICAgICcte2UueDB9LHtlLnkxfSAwLC17ZS55MH0gLXtlLngzfSwwIHonLFxuICAgICAgaGVpZ2h0OiAxNy4xMjUsXG4gICAgICB3aWR0aDogIDE3LjEyNSxcbiAgICAgIGhlaWdodEVsZW1lbnRzOiBbNC44NzUsIDMuNDM3NSwgMi4xMjUsIDNdLFxuICAgICAgd2lkdGhFbGVtZW50czogWzMuNDM3NSwgMi4xMjUsIDQuODc1LCAzXVxuICAgIH0sXG4gICAgJ0RBVEFfT0JKRUNUX1BBVEgnOiB7XG4gICAgICBkOidtIDAsMCB7ZS54MX0sMCB7ZS54MH0se2UueTB9IDAse2UueTF9IC17ZS54Mn0sMCAwLC17ZS55Mn0ge2UueDF9LDAgMCx7ZS55MH0ge2UueDB9LDAnLFxuICAgICAgaGVpZ2h0OiA2MSxcbiAgICAgIHdpZHRoOiAgNTEsXG4gICAgICBoZWlnaHRFbGVtZW50czogWzEwLCA1MCwgNjBdLFxuICAgICAgd2lkdGhFbGVtZW50czogWzEwLCA0MCwgNTAsIDYwXVxuICAgIH0sXG4gICAgJ0RBVEFfT0JKRUNUX0NPTExFQ1RJT05fUEFUSCc6IHtcbiAgICAgIGQ6J20ge214fSwge215fSAnICtcbiAgICAgICAgJ20gIDAgMTUgIGwgMCAtMTUgJyArXG4gICAgICAgICdtICA0IDE1ICBsIDAgLTE1ICcgK1xuICAgICAgICAnbSAgNCAxNSAgbCAwIC0xNSAnLFxuICAgICAgaGVpZ2h0OiA2MSxcbiAgICAgIHdpZHRoOiAgNTEsXG4gICAgICBoZWlnaHRFbGVtZW50czogWzEyXSxcbiAgICAgIHdpZHRoRWxlbWVudHM6IFsxLCA2LCAxMiwgMTVdXG4gICAgfSxcbiAgICAnREFUQV9BUlJPVyc6IHtcbiAgICAgIGQ6J20gNSw5IDksMCAwLC0zIDUsNSAtNSw1IDAsLTMgLTksMCB6JyxcbiAgICAgIGhlaWdodDogNjEsXG4gICAgICB3aWR0aDogIDUxLFxuICAgICAgaGVpZ2h0RWxlbWVudHM6IFtdLFxuICAgICAgd2lkdGhFbGVtZW50czogW11cbiAgICB9LFxuICAgICdEQVRBX1NUT1JFJzoge1xuICAgICAgZDonbSAge214fSx7bXl9ICcgK1xuICAgICAgICAnbCAgMCx7ZS55Mn0gJyArXG4gICAgICAgICdjICB7ZS54MH0se2UueTF9IHtlLngxfSx7ZS55MX0gIHtlLngyfSwwICcgK1xuICAgICAgICAnbCAgMCwte2UueTJ9ICcgK1xuICAgICAgICAnYyAte2UueDB9LC17ZS55MX0gLXtlLngxfSwte2UueTF9IC17ZS54Mn0sMCcgK1xuICAgICAgICAnYyAge2UueDB9LHtlLnkxfSB7ZS54MX0se2UueTF9ICB7ZS54Mn0sMCAnICtcbiAgICAgICAgJ20gIC17ZS54Mn0se2UueTB9JyArXG4gICAgICAgICdjICB7ZS54MH0se2UueTF9IHtlLngxfSx7ZS55MX0ge2UueDJ9LDAnICtcbiAgICAgICAgJ20gIC17ZS54Mn0se2UueTB9JyArXG4gICAgICAgICdjICB7ZS54MH0se2UueTF9IHtlLngxfSx7ZS55MX0gIHtlLngyfSwwJyxcbiAgICAgIGhlaWdodDogNjEsXG4gICAgICB3aWR0aDogIDYxLFxuICAgICAgaGVpZ2h0RWxlbWVudHM6IFs3LCAxMCwgNDVdLFxuICAgICAgd2lkdGhFbGVtZW50czogIFsyLCA1OCwgNjBdXG4gICAgfSxcbiAgICAnVEVYVF9BTk5PVEFUSU9OJzoge1xuICAgICAgZDogJ20ge214fSwge215fSBtIDEwLDAgbCAtMTAsMCBsIDAse2UueTB9IGwgMTAsMCcsXG4gICAgICBoZWlnaHQ6IDMwLFxuICAgICAgd2lkdGg6IDEwLFxuICAgICAgaGVpZ2h0RWxlbWVudHM6IFszMF0sXG4gICAgICB3aWR0aEVsZW1lbnRzOiBbMTBdXG4gICAgfSxcbiAgICAnTUFSS0VSX1NVQl9QUk9DRVNTJzoge1xuICAgICAgZDogJ217bXh9LHtteX0gbSA3LDIgbCAwLDEwIG0gLTUsLTUgbCAxMCwwJyxcbiAgICAgIGhlaWdodDogMTAsXG4gICAgICB3aWR0aDogMTAsXG4gICAgICBoZWlnaHRFbGVtZW50czogW10sXG4gICAgICB3aWR0aEVsZW1lbnRzOiBbXVxuICAgIH0sXG4gICAgJ01BUktFUl9QQVJBTExFTCc6IHtcbiAgICAgIGQ6ICdte214fSx7bXl9IG0gMywyIGwgMCwxMCBtIDMsLTEwIGwgMCwxMCBtIDMsLTEwIGwgMCwxMCcsXG4gICAgICBoZWlnaHQ6IDEwLFxuICAgICAgd2lkdGg6IDEwLFxuICAgICAgaGVpZ2h0RWxlbWVudHM6IFtdLFxuICAgICAgd2lkdGhFbGVtZW50czogW11cbiAgICB9LFxuICAgICdNQVJLRVJfU0VRVUVOVElBTCc6IHtcbiAgICAgIGQ6ICdte214fSx7bXl9IG0gMCwzIGwgMTAsMCBtIC0xMCwzIGwgMTAsMCBtIC0xMCwzIGwgMTAsMCcsXG4gICAgICBoZWlnaHQ6IDEwLFxuICAgICAgd2lkdGg6IDEwLFxuICAgICAgaGVpZ2h0RWxlbWVudHM6IFtdLFxuICAgICAgd2lkdGhFbGVtZW50czogW11cbiAgICB9LFxuICAgICdNQVJLRVJfQ09NUEVOU0FUSU9OJzoge1xuICAgICAgZDogJ20ge214fSx7bXl9IDcsLTUgMCwxMCB6IG0gNy4xLC0wLjMgNi45LC00LjcgMCwxMCAtNi45LC00LjcgeicsXG4gICAgICBoZWlnaHQ6IDEwLFxuICAgICAgd2lkdGg6IDIxLFxuICAgICAgaGVpZ2h0RWxlbWVudHM6IFtdLFxuICAgICAgd2lkdGhFbGVtZW50czogW11cbiAgICB9LFxuICAgICdNQVJLRVJfTE9PUCc6IHtcbiAgICAgIGQ6ICdtIHtteH0se215fSBjIDMuNTI2OTc5LDAgNi4zODYxNjEsLTIuODI5ODU4IDYuMzg2MTYxLC02LjMyMDY2MSAwLC0zLjQ5MDgwNiAtMi44NTkxODIsLTYuMzIwNjYxICcgK1xuICAgICAgICAnLTYuMzg2MTYxLC02LjMyMDY2MSAtMy41MjY5NzgsMCAtNi4zODYxNiwyLjgyOTg1NSAtNi4zODYxNiw2LjMyMDY2MSAwLDEuNzQ1NDAyICcgK1xuICAgICAgICAnMC43MTQ3OTcsMy4zMjU1NjcgMS44NzA0NjMsNC40NjkzODEgMC41Nzc4MzQsMC41NzE5MDggMS4yNjU4ODUsMS4wMzQ3MjggMi4wMjk5MTYsMS4zNTQ1NyAnICtcbiAgICAgICAgJ2wgLTAuNzE4MTYzLC0zLjkwOTc5MyBtIDAuNzE4MTYzLDMuOTA5NzkzIC0zLjg4NTIxMSwwLjgwMjkwMicsXG4gICAgICBoZWlnaHQ6IDEzLjksXG4gICAgICB3aWR0aDogMTMuNyxcbiAgICAgIGhlaWdodEVsZW1lbnRzOiBbXSxcbiAgICAgIHdpZHRoRWxlbWVudHM6IFtdXG4gICAgfSxcbiAgICAnTUFSS0VSX0FESE9DJzoge1xuICAgICAgZDogJ20ge214fSx7bXl9IG0gMC44NDQ2MSwyLjY0NDExIGMgMS4wNTUzMywtMS4yMzc4MDk5NiAyLjY0MzM3LC0yLjA3ODgyIDQuMjk2NTMsLTEuOTc5OTc5OTYgMi4wNTE2MywwLjA4MDUgJyArXG4gICAgICAgICczLjg1NTc5LDEuMTU4MDMgNS43NjA4MiwxLjc5MTA3IDEuMDYzODUsMC4zNDEzOTk5NiAyLjI0NDU0LDAuMTQzOCAzLjE4NzU5LC0wLjQzNzY3IDAuNjE3NDMsLTAuMzM2NDIgJyArXG4gICAgICAgICcxLjI3NzUsLTAuNjQwNzggMS43NTQyLC0xLjE3NTExIDAsMC41NjAyMyAwLDEuMTIwNDYgMCwxLjY4MDcgLTAuOTg3MDYsMC45NjIzNzk5NiAtMi4yOTc5MiwxLjYyMzkzOTk2ICcgK1xuICAgICAgICAnLTMuNjkxOCwxLjY2MTgxOTk2IC0xLjI0NDU5LDAuMDkyNyAtMi40NjY3MSwtMC4yNDkxIC0zLjU5NTA1LC0wLjc0ODEyIC0xLjM1Nzg5LC0wLjU1OTY1ICcgK1xuICAgICAgICAnLTIuNzUxMzMsLTEuMzM0MzY5OTYgLTQuMjcwMjcsLTEuMTgxMjE5OTYgLTEuMzc3NDEsMC4xNDYwMSAtMi40MTg0MiwxLjEzNjg1OTk2IC0zLjQ0Mjg4LDEuOTY3ODI5OTYgeicsXG4gICAgICBoZWlnaHQ6IDQsXG4gICAgICB3aWR0aDogMTUsXG4gICAgICBoZWlnaHRFbGVtZW50czogW10sXG4gICAgICB3aWR0aEVsZW1lbnRzOiBbXVxuICAgIH0sXG4gICAgJ1RBU0tfVFlQRV9TRU5EJzoge1xuICAgICAgZDogJ20ge214fSx7bXl9IGwgMCx7ZS55MX0gbCB7ZS54MX0sMCBsIDAsLXtlLnkxfSB6IGwge2UueDB9LHtlLnkwfSBsIHtlLngwfSwte2UueTB9JyxcbiAgICAgIGhlaWdodDogMTQsXG4gICAgICB3aWR0aDogIDIxLFxuICAgICAgaGVpZ2h0RWxlbWVudHM6IFs2LCAxNF0sXG4gICAgICB3aWR0aEVsZW1lbnRzOiBbMTAuNSwgMjFdXG4gICAgfSxcbiAgICAnVEFTS19UWVBFX1NDUklQVCc6IHtcbiAgICAgIGQ6ICdtIHtteH0se215fSBjIDkuOTY2NTUzLC02LjI3Mjc2IC04LjAwMDkyNiwtNy45MTkzMiAyLjk2ODk2OCwtMTQuOTM4IGwgLTguODAyNzI4LDAgJyArXG4gICAgICAgICdjIC0xMC45Njk4OTQsNy4wMTg2OCA2Ljk5NzU4NSw4LjY2NTI0IC0yLjk2ODk2NywxNC45MzggeiAnICtcbiAgICAgICAgJ20gLTcsLTEyIGwgNSwwICcgK1xuICAgICAgICAnbSAtNC41LDMgbCA0LjUsMCAnICtcbiAgICAgICAgJ20gLTMsMyBsIDUsMCcgK1xuICAgICAgICAnbSAtNCwzIGwgNSwwJyxcbiAgICAgIGhlaWdodDogMTUsXG4gICAgICB3aWR0aDogIDEyLjYsXG4gICAgICBoZWlnaHRFbGVtZW50czogWzYsIDE0XSxcbiAgICAgIHdpZHRoRWxlbWVudHM6IFsxMC41LCAyMV1cbiAgICB9LFxuICAgICdUQVNLX1RZUEVfVVNFUl8xJzoge1xuICAgICAgZDogJ20ge214fSx7bXl9IGMgMC45MDksLTAuODQ1IDEuNTk0LC0yLjA0OSAxLjU5NCwtMy4zODUgMCwtMi41NTQgLTEuODA1LC00LjYyMTk5OTk5ICcgK1xuICAgICAgICAnLTQuMzU3LC00LjYyMTk5OTk5IC0yLjU1MTk5OTk4LDAgLTQuMjg3OTk5OTgsMi4wNjc5OTk5OSAtNC4yODc5OTk5OCw0LjYyMTk5OTk5IDAsMS4zNDggJyArXG4gICAgICAgICcwLjk3NCwyLjU2MiAxLjg5NTk5OTk4LDMuNDA1IC0wLjUyODk5OTk4LDAuMTg3IC01LjY2OSwyLjA5NyAtNS43OTQsNC43NTYwMDA1IHYgNi43MTggJyArXG4gICAgICAgICdoIDE3IHYgLTYuNzE4IGMgMCwtMi4yOTgwMDA1IC01LjUyNzk5OTYsLTQuNTk1MDAwNSAtNi4wNTA5OTk2LC00Ljc3NjAwMDUgeicgK1xuICAgICAgICAnbSAtOCw2IGwgMCw1LjUgbSAxMSwwIGwgMCwtNSdcbiAgICB9LFxuICAgICdUQVNLX1RZUEVfVVNFUl8yJzoge1xuICAgICAgZDogJ20ge214fSx7bXl9IG0gMi4xNjIsMS4wMDkgYyAwLDIuNDQ3MDAwNSAtMi4xNTgsNC40MzEwMDA1IC00LjgyMSw0LjQzMTAwMDUgJyArXG4gICAgICAgICctMi42NjQ5OTk5OCwwIC00LjgyMiwtMS45ODEgLTQuODIyLC00LjQzMTAwMDUgJ1xuICAgIH0sXG4gICAgJ1RBU0tfVFlQRV9VU0VSXzMnOiB7XG4gICAgICBkOiAnbSB7bXh9LHtteX0gbSAtNi45LC0zLjgwIGMgMCwwIDIuMjUwOTk5OTgsLTIuMzU4IDQuMjczOTk5OTgsLTEuMTc3IDIuMDI0LDEuMTgxIDQuMjIxLDEuNTM3ICcgK1xuICAgICAgICAnNC4xMjQsMC45NjUgLTAuMDk4LC0wLjU3IC0wLjExNywtMy43OTA5OTk5OSAtNC4xOTEsLTQuMTM1OTk5OTkgLTMuNTc0OTk5OTgsMC4wMDEgJyArXG4gICAgICAgICctNC4yMDc5OTk5OCwzLjM2Njk5OTk5IC00LjIwNjk5OTk4LDQuMzQ3OTk5OTkgeidcbiAgICB9LFxuICAgICdUQVNLX1RZUEVfTUFOVUFMJzoge1xuICAgICAgZDogJ20ge214fSx7bXl9IGMgMC4yMzQsLTAuMDEgNS42MDQsMC4wMDggOC4wMjksMC4wMDQgMC44MDgsMCAxLjI3MSwtMC4xNzIgMS40MTcsLTAuNzUyIDAuMjI3LC0wLjg5OCAnICtcbiAgICAgICAgJy0wLjMzNCwtMS4zMTQgLTEuMzM4LC0xLjMxNiAtMi40NjcsLTAuMDEgLTcuODg2LC0wLjAwNCAtOC4xMDgsLTAuMDA0IC0wLjAxNCwtMC4wNzkgMC4wMTYsLTAuNTMzIDAsLTAuNjEgJyArXG4gICAgICAgICcwLjE5NSwtMC4wNDIgOC41MDcsMC4wMDYgOS42MTYsMC4wMDIgMC44NzcsLTAuMDA3IDEuMzUsLTAuNDM4IDEuMzUzLC0xLjIwOCAwLjAwMywtMC43NjggLTAuNDc5LC0xLjA5ICcgK1xuICAgICAgICAnLTEuMzUsLTEuMDkxIC0yLjk2OCwtMC4wMDIgLTkuNjE5LC0wLjAxMyAtOS42MTksLTAuMDEzIHYgLTAuNTkxIGMgMCwwIDUuMDUyLC0wLjAxNiA3LjIyNSwtMC4wMTYgJyArXG4gICAgICAgICcwLjg4OCwtMC4wMDIgMS4zNTQsLTAuNDE2IDEuMzUxLC0xLjE5MyAtMC4wMDYsLTAuNzYxIC0wLjQ5MiwtMS4xOTYgLTEuMzYxLC0xLjE5NiAtMy40NzMsLTAuMDA1ICcgK1xuICAgICAgICAnLTEwLjg2LC0wLjAwMyAtMTEuMDgyOTk5NSwtMC4wMDMgLTAuMDIyLC0wLjA0NyAtMC4wNDUsLTAuMDk0IC0wLjA2OSwtMC4xMzkgMC4zOTM5OTk1LC0wLjMxOSAnICtcbiAgICAgICAgJzIuMDQwOTk5NSwtMS42MjYgMi40MTQ5OTk1LC0yLjAxNyAwLjQ2OSwtMC40ODcwMDA1IDAuNTE5LC0xLjE2NTAwMDUgMC4xNjIsLTEuNjA0MDAwNSAtMC40MTQsLTAuNTExICcgK1xuICAgICAgICAnLTAuOTczLC0wLjUgLTEuNDgsLTAuMjM2IC0xLjQ2MDk5OTUsMC43NjQgLTYuNTk5OTk5NSwzLjY0MzAwMDUgLTcuNzMyOTk5NSw0LjI3MTAwMDUgLTAuOSwwLjQ5OSAnICtcbiAgICAgICAgJy0xLjUxNiwxLjI1MyAtMS44ODIsMi4xOSAtMC4zNzAwMDAwMiwwLjk1IC0wLjE3LDIuMDEgLTAuMTY2LDIuOTc5IDAuMDA0LDAuNzE4IC0wLjI3MzAwMDAyLDEuMzQ1ICcgK1xuICAgICAgICAnLTAuMDU1LDIuMDYzIDAuNjI5LDIuMDg3IDIuNDI1LDMuMzEyIDQuODU5LDMuMzE4IDQuNjE3OTk5NSwwLjAxNCA5LjIzNzk5OTUsLTAuMTM5IDEzLjg1Njk5OTUsLTAuMTU4ICcgK1xuICAgICAgICAnMC43NTUsLTAuMDA0IDEuMTcxLC0wLjMwMSAxLjE4MiwtMS4wMzMgMC4wMTIsLTAuNzU0IC0wLjQyMywtMC45NjkgLTEuMTgzLC0wLjk3MyAtMS43NzgsLTAuMDEgJyArXG4gICAgICAgICctNS44MjQsLTAuMDA0IC02LjA0LC0wLjAwNCAxMGUtNCwtMC4wODQgMC4wMDMsLTAuNTg2IDEwZS00LC0wLjY3IHonXG4gICAgfSxcbiAgICAnVEFTS19UWVBFX0lOU1RBTlRJQVRJTkdfU0VORCc6IHtcbiAgICAgIGQ6ICdtIHtteH0se215fSBsIDAsOC40IGwgMTIuNiwwIGwgMCwtOC40IHogbCA2LjMsMy42IGwgNi4zLC0zLjYnXG4gICAgfSxcbiAgICAnVEFTS19UWVBFX1NFUlZJQ0UnOiB7XG4gICAgICBkOiAnbSB7bXh9LHtteX0gdiAtMS43MTMzNSBjIDAuMzUyMzI2LC0wLjA3MDUgMC43MDM5MzIsLTAuMTc4MzggMS4wNDc2MjgsLTAuMzIxMzMgJyArXG4gICAgICAgICcwLjM0NDQxNiwtMC4xNDQ2NSAwLjY2NTgyMiwtMC4zMjEzMyAwLjk2NjM3NywtMC41MjE0NSBsIDEuMTk0MzEsMS4xODAwNSAxLjU2NzQ4NywtMS41NzY4OCAnICtcbiAgICAgICAgJy0xLjE5NTAyOCwtMS4xODAxNCBjIDAuNDAzMzc2LC0wLjYxMzk0IDAuNjgzMDc5LC0xLjI5OTA4IDAuODI1NDQ3LC0yLjAxODI0IGwgMS42MjIxMzMsLTAuMDEgJyArXG4gICAgICAgICd2IC0yLjIxOTYgbCAtMS42MzY1MTQsMC4wMSBjIC0wLjA3MzMzLC0wLjM1MTUzIC0wLjE3ODMxOSwtMC43MDAyNCAtMC4zMjM1NjQsLTEuMDQzNzIgJyArXG4gICAgICAgICctMC4xNDUyNDQsLTAuMzQ0MDYgLTAuMzIxNDA3LC0wLjY2NDQgLTAuNTIyNzM1LC0wLjk2MjE3IGwgMS4xMzEwMzUsLTEuMTM2MzEgLTEuNTgzMzA1LC0xLjU2MjkzICcgK1xuICAgICAgICAnLTEuMTI5NTk4LDEuMTM1ODkgYyAtMC42MTQwNTIsLTAuNDAxMDggLTEuMzAyODgzLC0wLjY4MDkzIC0yLjAyMjYzMywtMC44MjI0NyBsIDAuMDA5MywtMS42MTg1MiAnICtcbiAgICAgICAgJ2ggLTIuMjQxMTczIGwgMC4wMDQyLDEuNjMxMjQgYyAtMC4zNTM3NjMsMC4wNzM2IC0wLjcwNTM2OSwwLjE3OTc3IC0xLjA0OTc4NSwwLjMyMzcxIC0wLjM0NDQxNSwwLjE0NDM3ICcgK1xuICAgICAgICAnLTAuNjY1MTAyLDAuMzIwOTIgLTAuOTYzNTAwNiwwLjUyMDQ2IGwgLTEuMTY5ODYyOCwtMS4xNTgyMyAtMS41NjY3NjkxLDEuNTc5MiAxLjE2ODQyNjUsMS4xNTY2OSAnICtcbiAgICAgICAgJ2MgLTAuNDAyNjU3MywwLjYxMjgzIC0wLjY4MzA4LDEuMjk3OTcgLTAuODI0NzI4NywyLjAxNzEzIGwgLTEuNjU4ODA0MSwwLjAwMyB2IDIuMjIxNzQgJyArXG4gICAgICAgICdsIDEuNjcyNDY0OCwtMC4wMDYgYyAwLjA3MzMyNywwLjM1MDc3IDAuMTc5NzU5OCwwLjcwMjQzIDAuMzI0Mjg1MSwxLjA0NDcyIDAuMTQ1MjQyOCwwLjM0NDQ4ICcgK1xuICAgICAgICAnMC4zMjE0MDY0LDAuNjY0NCAwLjUyMjczMzksMC45NjA2NiBsIC0xLjE5OTM0MzEsMS4xOTcyMyAxLjU4NDAyNTYsMS41NjAxMSAxLjE5NjQ2NjgsLTEuMTkzNDggJyArXG4gICAgICAgICdjIDAuNjE0MDUxNywwLjQwMzQ2IDEuMzAyODgyNywwLjY4MjMyIDIuMDIzMzUxNywwLjgyMzMxIGwgNy4xOWUtNCwxLjY5ODkyIGggMi4yMjY4NDggeiAnICtcbiAgICAgICAgJ20gMC4yMjE0NjIsLTMuOTk1NyBjIC0xLjc4ODk0OCwwLjc1MDIgLTMuODU3NiwtMC4wOTI4IC00LjYwOTcwNTUsLTEuODc0MzggLTAuNzUyMTA2NSwtMS43ODMyMSAnICtcbiAgICAgICAgJzAuMDkwNTk4LC0zLjg0NjI3IDEuODgwMjY0NSwtNC41OTYwNCAxLjc4ODIzLC0wLjc0OTM2IDMuODU2ODgxLDAuMDkyOSA0LjYwODk4NywxLjg3NDM3ICcgK1xuICAgICAgICAnMC43NTIxMDYsMS43ODE2NSAtMC4wOTA2LDMuODQ2MTIgLTEuODc5NTQ2LDQuNTk2MDUgeidcbiAgICB9LFxuICAgICdUQVNLX1RZUEVfU0VSVklDRV9GSUxMJzoge1xuICAgICAgZDogJ20ge214fSx7bXl9IGMgLTEuNzg4OTQ4LDAuNzUwMiAtMy44NTc2LC0wLjA5MjggLTQuNjA5NzA1NSwtMS44NzQzOCAtMC43NTIxMDY1LC0xLjc4MzIxICcgK1xuICAgICAgICAnMC4wOTA1OTgsLTMuODQ2MjcgMS44ODAyNjQ1LC00LjU5NjA0IDEuNzg4MjMsLTAuNzQ5MzYgMy44NTY4ODEsMC4wOTI5IDQuNjA4OTg3LDEuODc0MzcgJyArXG4gICAgICAgICcwLjc1MjEwNiwxLjc4MTY1IC0wLjA5MDYsMy44NDYxMiAtMS44Nzk1NDYsNC41OTYwNSB6J1xuICAgIH0sXG4gICAgJ1RBU0tfVFlQRV9CVVNJTkVTU19SVUxFX0hFQURFUic6IHtcbiAgICAgIGQ6ICdtIHtteH0se215fSAwLDQgMjAsMCAwLC00IHonXG4gICAgfSxcbiAgICAnVEFTS19UWVBFX0JVU0lORVNTX1JVTEVfTUFJTic6IHtcbiAgICAgIGQ6ICdtIHtteH0se215fSAwLDEyIDIwLDAgMCwtMTIgeicgK1xuICAgICAgICAnbSAwLDggbCAyMCwwICcgK1xuICAgICAgICAnbSAtMTMsLTQgbCAwLDgnXG4gICAgfSxcbiAgICAnTUVTU0FHRV9GTE9XX01BUktFUic6IHtcbiAgICAgIGQ6ICdtIHtteH0se215fSBtIC0xMC41ICwtNyBsIDAsMTQgbCAyMSwwIGwgMCwtMTQgeiBsIDEwLjUsNiBsIDEwLjUsLTYnXG4gICAgfVxuICB9O1xuXG4gIHRoaXMuZ2V0UmF3UGF0aCA9IGZ1bmN0aW9uIGdldFJhd1BhdGgocGF0aElkKSB7XG4gICAgcmV0dXJuIHRoaXMucGF0aE1hcFtwYXRoSWRdLmQ7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNjYWxlcyB0aGUgcGF0aCB0byB0aGUgZ2l2ZW4gaGVpZ2h0IGFuZCB3aWR0aC5cbiAgICogPGgxPlVzZSBjYXNlPC9oMT5cbiAgICogPHA+VXNlIGNhc2UgaXMgdG8gc2NhbGUgdGhlIGNvbnRlbnQgb2YgZWxlbWVudHMgKGV2ZW50LCBnYXRld2F5cykgYmFzZWRcbiAgICogb24gdGhlIGVsZW1lbnQgYm91bmRpbmcgYm94J3Mgc2l6ZS5cbiAgICogPC9wPlxuICAgKiA8aDE+V2h5IG5vdCB0cmFuc2Zvcm08L2gxPlxuICAgKiA8cD5TY2FsaW5nIGEgcGF0aCB3aXRoIHRyYW5zZm9ybSgpIHdpbGwgYWxzbyBzY2FsZSB0aGUgc3Ryb2tlIGFuZCBJRSBkb2VzIG5vdCBzdXBwb3J0XG4gICAqIHRoZSBvcHRpb24gJ25vbi1zY2FsaW5nLXN0cm9rZScgdG8gcHJldmVudCB0aGlzLlxuICAgKiBBbHNvIHRoZXJlIGFyZSB1c2UgY2FzZXMgd2hlcmUgb25seSBzb21lIHBhcnRzIG9mIGEgcGF0aCBzaG91bGQgYmVcbiAgICogc2NhbGVkLjwvcD5cbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IHBhdGhJZCBUaGUgSUQgb2YgdGhlIHBhdGguXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbSA8cD5cbiAgICogICBFeGFtcGxlIHBhcmFtIG9iamVjdCBzY2FsZXMgdGhlIHBhdGggdG8gNjAlIHNpemUgb2YgdGhlIGNvbnRhaW5lciAoZGF0YS53aWR0aCwgZGF0YS5oZWlnaHQpLlxuICAgKiAgIDxwcmU+XG4gICAqICAge1xuICAgKiAgICAgeFNjYWxlRmFjdG9yOiAwLjYsXG4gICAqICAgICB5U2NhbGVGYWN0b3I6MC42LFxuICAgKiAgICAgY29udGFpbmVyV2lkdGg6IGRhdGEud2lkdGgsXG4gICAqICAgICBjb250YWluZXJIZWlnaHQ6IGRhdGEuaGVpZ2h0LFxuICAgKiAgICAgcG9zaXRpb246IHtcbiAgICogICAgICAgbXg6IDAuNDYsXG4gICAqICAgICAgIG15OiAwLjIsXG4gICAqICAgICB9XG4gICAqICAgfVxuICAgKiAgIDwvcHJlPlxuICAgKiAgIDx1bD5cbiAgICogICAgPGxpPnRhcmdldHBhdGh3aWR0aCA9IHhTY2FsZUZhY3RvciAqIGNvbnRhaW5lcldpZHRoPC9saT5cbiAgICogICAgPGxpPnRhcmdldHBhdGhoZWlnaHQgPSB5U2NhbGVGYWN0b3IgKiBjb250YWluZXJIZWlnaHQ8L2xpPlxuICAgKiAgICA8bGk+UG9zaXRpb24gaXMgdXNlZCB0byBzZXQgdGhlIHN0YXJ0aW5nIGNvb3JkaW5hdGUgb2YgdGhlIHBhdGguIE0gaXMgY29tcHV0ZWQ6XG4gICAgKiAgICA8dWw+XG4gICAgKiAgICAgIDxsaT5wb3NpdGlvbi54ICogY29udGFpbmVyV2lkdGg8L2xpPlxuICAgICogICAgICA8bGk+cG9zaXRpb24ueSAqIGNvbnRhaW5lckhlaWdodDwvbGk+XG4gICAgKiAgICA8L3VsPlxuICAgICogICAgQ2VudGVyIG9mIHRoZSBjb250YWluZXIgPHByZT4gcG9zaXRpb246IHtcbiAgICogICAgICAgbXg6IDAuNSxcbiAgICogICAgICAgbXk6IDAuNSxcbiAgICogICAgIH08L3ByZT5cbiAgICogICAgIFVwcGVyIGxlZnQgY29ybmVyIG9mIHRoZSBjb250YWluZXJcbiAgICogICAgIDxwcmU+IHBvc2l0aW9uOiB7XG4gICAqICAgICAgIG14OiAwLjAsXG4gICAqICAgICAgIG15OiAwLjAsXG4gICAqICAgICB9PC9wcmU+XG4gICAqICAgIDwvbGk+XG4gICAqICAgPC91bD5cbiAgICogPC9wPlxuICAgKlxuICAgKi9cbiAgdGhpcy5nZXRTY2FsZWRQYXRoID0gZnVuY3Rpb24gZ2V0U2NhbGVkUGF0aChwYXRoSWQsIHBhcmFtKSB7XG4gICAgdmFyIHJhd1BhdGggPSB0aGlzLnBhdGhNYXBbcGF0aElkXTtcblxuICAgIC8vIHBvc2l0aW9uaW5nXG4gICAgLy8gY29tcHV0ZSB0aGUgc3RhcnQgcG9pbnQgb2YgdGhlIHBhdGhcbiAgICB2YXIgbXgsIG15O1xuXG4gICAgaWYgKHBhcmFtLmFic3Bvcykge1xuICAgICAgbXggPSBwYXJhbS5hYnNwb3MueDtcbiAgICAgIG15ID0gcGFyYW0uYWJzcG9zLnk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG14ID0gcGFyYW0uY29udGFpbmVyV2lkdGggKiBwYXJhbS5wb3NpdGlvbi5teDtcbiAgICAgIG15ID0gcGFyYW0uY29udGFpbmVySGVpZ2h0ICogcGFyYW0ucG9zaXRpb24ubXk7XG4gICAgfVxuXG4gICAgdmFyIGNvb3JkaW5hdGVzID0ge307IC8vIG1hcCBmb3IgdGhlIHNjYWxlZCBjb29yZGluYXRlc1xuICAgIGlmIChwYXJhbS5wb3NpdGlvbikge1xuXG4gICAgICAvLyBwYXRoXG4gICAgICB2YXIgaGVpZ2h0UmF0aW8gPSAocGFyYW0uY29udGFpbmVySGVpZ2h0IC8gcmF3UGF0aC5oZWlnaHQpICogcGFyYW0ueVNjYWxlRmFjdG9yO1xuICAgICAgdmFyIHdpZHRoUmF0aW8gPSAocGFyYW0uY29udGFpbmVyV2lkdGggLyByYXdQYXRoLndpZHRoKSAqIHBhcmFtLnhTY2FsZUZhY3RvcjtcblxuXG4gICAgICAvLyBBcHBseSBoZWlnaHQgcmF0aW9cbiAgICAgIGZvciAodmFyIGhlaWdodEluZGV4ID0gMDsgaGVpZ2h0SW5kZXggPCByYXdQYXRoLmhlaWdodEVsZW1lbnRzLmxlbmd0aDsgaGVpZ2h0SW5kZXgrKykge1xuICAgICAgICBjb29yZGluYXRlc1sneScgKyBoZWlnaHRJbmRleF0gPSByYXdQYXRoLmhlaWdodEVsZW1lbnRzW2hlaWdodEluZGV4XSAqIGhlaWdodFJhdGlvO1xuICAgICAgfVxuXG4gICAgICAvLyBBcHBseSB3aWR0aCByYXRpb1xuICAgICAgZm9yICh2YXIgd2lkdGhJbmRleCA9IDA7IHdpZHRoSW5kZXggPCByYXdQYXRoLndpZHRoRWxlbWVudHMubGVuZ3RoOyB3aWR0aEluZGV4KyspIHtcbiAgICAgICAgY29vcmRpbmF0ZXNbJ3gnICsgd2lkdGhJbmRleF0gPSByYXdQYXRoLndpZHRoRWxlbWVudHNbd2lkdGhJbmRleF0gKiB3aWR0aFJhdGlvO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEFwcGx5IHZhbHVlIHRvIHJhdyBwYXRoXG4gICAgdmFyIHBhdGggPSBmb3JtYXQoXG4gICAgICByYXdQYXRoLmQsIHtcbiAgICAgICAgbXg6IG14LFxuICAgICAgICBteTogbXksXG4gICAgICAgIGU6IGNvb3JkaW5hdGVzXG4gICAgICB9XG4gICAgKTtcbiAgICByZXR1cm4gcGF0aDtcbiAgfTtcbn1cblxuLy8gaGVscGVycyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbi8vIGNvcGllZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9hZG9iZS13ZWJwbGF0Zm9ybS9TbmFwLnN2Zy9ibG9iL21hc3Rlci9zcmMvc3ZnLmpzXG52YXIgdG9rZW5SZWdleCA9IC9cXHsoW159XSspXFx9L2csXG4gICAgb2JqTm90YXRpb25SZWdleCA9IC8oPzooPzpefFxcLikoLis/KSg/PVxcW3xcXC58JHxcXCgpfFxcWygnfFwiKSguKz8pXFwyXFxdKShcXChcXCkpPy9nOyAvLyBtYXRjaGVzIC54eHh4eCBvciBbXCJ4eHh4eFwiXSB0byBydW4gb3ZlciBvYmplY3QgcHJvcGVydGllc1xuXG5mdW5jdGlvbiByZXBsYWNlcihhbGwsIGtleSwgb2JqKSB7XG4gIHZhciByZXMgPSBvYmo7XG4gIGtleS5yZXBsYWNlKG9iak5vdGF0aW9uUmVnZXgsIGZ1bmN0aW9uKGFsbCwgbmFtZSwgcXVvdGUsIHF1b3RlZE5hbWUsIGlzRnVuYykge1xuICAgIG5hbWUgPSBuYW1lIHx8IHF1b3RlZE5hbWU7XG4gICAgaWYgKHJlcykge1xuICAgICAgaWYgKG5hbWUgaW4gcmVzKSB7XG4gICAgICAgIHJlcyA9IHJlc1tuYW1lXTtcbiAgICAgIH1cbiAgICAgIHR5cGVvZiByZXMgPT0gJ2Z1bmN0aW9uJyAmJiBpc0Z1bmMgJiYgKHJlcyA9IHJlcygpKTtcbiAgICB9XG4gIH0pO1xuICByZXMgPSAocmVzID09IG51bGwgfHwgcmVzID09IG9iaiA/IGFsbCA6IHJlcykgKyAnJztcblxuICByZXR1cm4gcmVzO1xufVxuXG5mdW5jdGlvbiBmb3JtYXQoc3RyLCBvYmopIHtcbiAgcmV0dXJuIFN0cmluZyhzdHIpLnJlcGxhY2UodG9rZW5SZWdleCwgZnVuY3Rpb24oYWxsLCBrZXkpIHtcbiAgICByZXR1cm4gcmVwbGFjZXIoYWxsLCBrZXksIG9iaik7XG4gIH0pO1xufVxuIiwiaW1wb3J0IFBvc3RpdFJlbmRlcmVyIGZyb20gJy4vUG9zdGl0UmVuZGVyZXInO1xuaW1wb3J0IFRleHRSZW5kZXJlciBmcm9tICcuL1RleHRSZW5kZXJlcic7XG5cbmltcG9ydCBQYXRoTWFwIGZyb20gJy4vUGF0aE1hcCc7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgX19pbml0X186IFsgJ3Bvc3RpdFJlbmRlcmVyJyBdLFxuICBwb3N0aXRSZW5kZXJlcjogWyAndHlwZScsIFBvc3RpdFJlbmRlcmVyIF0sXG4gIHRleHRSZW5kZXJlcjogWyAndHlwZScsIFRleHRSZW5kZXJlciBdLFxuICBwYXRoTWFwOiBbICd0eXBlJywgUGF0aE1hcCBdXG59O1xuIiwiaW1wb3J0IHRyYW5zbGF0ZSBmcm9tICcuL3RyYW5zbGF0ZSc7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgdHJhbnNsYXRlOiBbICd2YWx1ZScsIHRyYW5zbGF0ZSBdXG59OyIsIi8qKlxuICogQSBzaW1wbGUgdHJhbnNsYXRpb24gc3R1YiB0byBiZSB1c2VkIGZvciBtdWx0aS1sYW5ndWFnZSBzdXBwb3J0XG4gKiBpbiBkaWFncmFtcy4gQ2FuIGJlIGVhc2lseSByZXBsYWNlZCB3aXRoIGEgbW9yZSBzb3BoaXN0aWNhdGVkXG4gKiBzb2x1dGlvbi5cbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIC8vIHVzZSBpdCBpbnNpZGUgYW55IGRpYWdyYW0gY29tcG9uZW50IGJ5IGluamVjdGluZyBgdHJhbnNsYXRlYC5cbiAqXG4gKiBmdW5jdGlvbiBNeVNlcnZpY2UodHJhbnNsYXRlKSB7XG4gKiAgIGFsZXJ0KHRyYW5zbGF0ZSgnSEVMTE8ge3lvdX0nLCB7IHlvdTogJ1lvdSEnIH0pKTtcbiAqIH1cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdGVtcGxhdGUgdG8gaW50ZXJwb2xhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBbcmVwbGFjZW1lbnRzXSBhIG1hcCB3aXRoIHN1YnN0aXR1dGVzXG4gKlxuICogQHJldHVybiB7c3RyaW5nfSB0aGUgdHJhbnNsYXRlZCBzdHJpbmdcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdHJhbnNsYXRlKHRlbXBsYXRlLCByZXBsYWNlbWVudHMpIHtcblxuICByZXBsYWNlbWVudHMgPSByZXBsYWNlbWVudHMgfHwge307XG5cbiAgcmV0dXJuIHRlbXBsYXRlLnJlcGxhY2UoL3soW159XSspfS9nLCBmdW5jdGlvbihfLCBrZXkpIHtcbiAgICByZXR1cm4gcmVwbGFjZW1lbnRzW2tleV0gfHwgJ3snICsga2V5ICsgJ30nO1xuICB9KTtcbn0iLCJpbXBvcnQge1xuICBhc3NpZ25cbn0gZnJvbSAnbWluLWRhc2gnO1xuXG5pbXBvcnQgeyBpcyB9IGZyb20gJy4vTW9kZWxVdGlsJztcblxuXG5leHBvcnQgdmFyIERFRkFVTFRfTEFCRUxfU0laRSA9IHtcbiAgd2lkdGg6IDkwLFxuICBoZWlnaHQ6IDIwXG59O1xuXG5leHBvcnQgdmFyIEZMT1dfTEFCRUxfSU5ERU5UID0gMTU7XG5cblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHNlbWFudGljIGhhcyBhbiBleHRlcm5hbCBsYWJlbFxuICpcbiAqIEBwYXJhbSB7Qm9hcmRFbGVtZW50fSBzZW1hbnRpY1xuICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZSBpZiBoYXMgbGFiZWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzTGFiZWxFeHRlcm5hbChzZW1hbnRpYykge1xuICByZXR1cm4gaXMoc2VtYW50aWMsICdwb3N0aXQ6R3JvdXAnKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIGVsZW1lbnQgaGFzIGFuIGV4dGVybmFsIGxhYmVsXG4gKlxuICogQHBhcmFtIHtkanMubW9kZWwuc2hhcGV9IGVsZW1lbnRcbiAqIEByZXR1cm4ge0Jvb2xlYW59IHRydWUgaWYgaGFzIGxhYmVsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoYXNFeHRlcm5hbExhYmVsKGVsZW1lbnQpIHtcbiAgcmV0dXJuIGlzTGFiZWwoZWxlbWVudC5sYWJlbCk7XG59XG5cblxuLyoqXG4gKiBHZXQgdGhlIG1pZGRsZSBvZiBhIG51bWJlciBvZiB3YXlwb2ludHNcbiAqXG4gKiBAcGFyYW0gIHtBcnJheTxQb2ludD59IHdheXBvaW50c1xuICogQHJldHVybiB7UG9pbnR9IHRoZSBtaWQgcG9pbnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFdheXBvaW50c01pZCh3YXlwb2ludHMpIHtcblxuICB2YXIgbWlkID0gd2F5cG9pbnRzLmxlbmd0aCAvIDIgLSAxO1xuXG4gIHZhciBmaXJzdCA9IHdheXBvaW50c1tNYXRoLmZsb29yKG1pZCldO1xuICB2YXIgc2Vjb25kID0gd2F5cG9pbnRzW01hdGguY2VpbChtaWQgKyAwLjAxKV07XG5cbiAgcmV0dXJuIHtcbiAgICB4OiBmaXJzdC54ICsgKHNlY29uZC54IC0gZmlyc3QueCkgLyAyLFxuICAgIHk6IGZpcnN0LnkgKyAoc2Vjb25kLnkgLSBmaXJzdC55KSAvIDJcbiAgfTtcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RXh0ZXJuYWxMYWJlbE1pZChlbGVtZW50KSB7XG5cbiAgaWYgKGlzKGVsZW1lbnQsICdwb3N0aXQ6R3JvdXAnKSkge1xuICAgIHJldHVybiB7XG4gICAgICB4OiBlbGVtZW50LnggKyBlbGVtZW50LndpZHRoIC8gMixcbiAgICAgIHk6IGVsZW1lbnQueSArIERFRkFVTFRfTEFCRUxfU0laRS5oZWlnaHQgLyAyXG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4ge1xuICAgICAgeDogZWxlbWVudC54ICsgZWxlbWVudC53aWR0aCAvIDIsXG4gICAgICB5OiBlbGVtZW50LnkgKyBlbGVtZW50LmhlaWdodCArIERFRkFVTFRfTEFCRUxfU0laRS5oZWlnaHQgLyAyXG4gICAgfTtcbiAgfVxufVxuXG5cbi8qKlxuICogUmV0dXJucyB0aGUgYm91bmRzIG9mIGFuIGVsZW1lbnRzIGxhYmVsLCBwYXJzZWQgZnJvbSB0aGUgZWxlbWVudHMgREkgb3JcbiAqIGdlbmVyYXRlZCBmcm9tIGl0cyBib3VuZHMuXG4gKlxuICogQHBhcmFtIHtCb2FyZEVsZW1lbnR9IHNlbWFudGljXG4gKiBAcGFyYW0ge2Rqcy5tb2RlbC5CYXNlfSBlbGVtZW50XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRFeHRlcm5hbExhYmVsQm91bmRzKHNlbWFudGljLCBlbGVtZW50KSB7XG5cbiAgdmFyIG1pZCxcbiAgICAgIHNpemUsXG4gICAgICBib3VuZHMsXG4gICAgICBkaSA9IHNlbWFudGljLmRpLFxuICAgICAgbGFiZWwgPSBkaS5sYWJlbDtcblxuICBpZiAobGFiZWwgJiYgbGFiZWwuYm91bmRzKSB7XG4gICAgYm91bmRzID0gbGFiZWwuYm91bmRzO1xuXG4gICAgc2l6ZSA9IHtcbiAgICAgIHdpZHRoOiBNYXRoLm1heChERUZBVUxUX0xBQkVMX1NJWkUud2lkdGgsIGJvdW5kcy53aWR0aCksXG4gICAgICBoZWlnaHQ6IGJvdW5kcy5oZWlnaHRcbiAgICB9O1xuXG4gICAgbWlkID0ge1xuICAgICAgeDogYm91bmRzLnggKyBib3VuZHMud2lkdGggLyAyLFxuICAgICAgeTogYm91bmRzLnkgKyBib3VuZHMuaGVpZ2h0IC8gMlxuICAgIH07XG4gIH0gZWxzZSB7XG5cbiAgICBtaWQgPSBnZXRFeHRlcm5hbExhYmVsTWlkKGVsZW1lbnQpO1xuXG4gICAgc2l6ZSA9IERFRkFVTFRfTEFCRUxfU0laRTtcbiAgfVxuXG4gIHJldHVybiBhc3NpZ24oe1xuICAgIHg6IG1pZC54IC0gc2l6ZS53aWR0aCAvIDIsXG4gICAgeTogbWlkLnkgLSBzaXplLmhlaWdodCAvIDJcbiAgfSwgc2l6ZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0xhYmVsKGVsZW1lbnQpIHtcbiAgcmV0dXJuIGVsZW1lbnQgJiYgISFlbGVtZW50LmxhYmVsVGFyZ2V0O1xufVxuIiwiaW1wb3J0IHtcbiAgYXNzaWduXG59IGZyb20gJ21pbi1kYXNoJztcblxuaW1wb3J0IHsgaXMgfSBmcm9tICcuLi91dGlsL01vZGVsVXRpbCc7XG5cbmltcG9ydCB7XG4gIGlzTGFiZWxFeHRlcm5hbCxcbiAgZ2V0RXh0ZXJuYWxMYWJlbEJvdW5kc1xufSBmcm9tICcuLi91dGlsL0xhYmVsVXRpbCc7XG5cbmltcG9ydCB7XG4gIGdldExhYmVsXG59IGZyb20gJy4uL2ZlYXR1cmVzL2xhYmVsLWVkaXRpbmcvTGFiZWxVdGlsJztcblxuaW1wb3J0IHtcbiAgZWxlbWVudFRvU3RyaW5nXG59IGZyb20gJy4vVXRpbCc7XG5cblxuZnVuY3Rpb24gZWxlbWVudERhdGEoc2VtYW50aWMsIGF0dHJzKSB7XG4gIHJldHVybiBhc3NpZ24oe1xuICAgIGlkOiBzZW1hbnRpYy5pZCxcbiAgICB0eXBlOiBzZW1hbnRpYy4kdHlwZSxcbiAgICBidXNpbmVzc09iamVjdDogc2VtYW50aWNcbiAgfSwgYXR0cnMpO1xufVxuXG5mdW5jdGlvbiBub3RZZXREcmF3bih0cmFuc2xhdGUsIHNlbWFudGljLCByZWZTZW1hbnRpYywgcHJvcGVydHkpIHtcbiAgcmV0dXJuIG5ldyBFcnJvcih0cmFuc2xhdGUoJ2VsZW1lbnQge2VsZW1lbnR9IHJlZmVyZW5jZWQgYnkge3JlZmVyZW5jZWR9I3twcm9wZXJ0eX0gbm90IHlldCBkcmF3bicsIHtcbiAgICBlbGVtZW50OiBlbGVtZW50VG9TdHJpbmcocmVmU2VtYW50aWMpLFxuICAgIHJlZmVyZW5jZWQ6IGVsZW1lbnRUb1N0cmluZyhzZW1hbnRpYyksXG4gICAgcHJvcGVydHk6IHByb3BlcnR5XG4gIH0pKTtcbn1cblxuXG4vKipcbiAqIEFuIGltcG9ydGVyIHRoYXQgYWRkcyBwb3N0aXQgZWxlbWVudHMgdG8gdGhlIGNhbnZhc1xuICpcbiAqIEBwYXJhbSB7RXZlbnRCdXN9IGV2ZW50QnVzXG4gKiBAcGFyYW0ge0NhbnZhc30gY2FudmFzXG4gKiBAcGFyYW0ge0VsZW1lbnRGYWN0b3J5fSBlbGVtZW50RmFjdG9yeVxuICogQHBhcmFtIHtFbGVtZW50UmVnaXN0cnl9IGVsZW1lbnRSZWdpc3RyeVxuICogQHBhcmFtIHtGdW5jdGlvbn0gdHJhbnNsYXRlXG4gKiBAcGFyYW0ge1RleHRSZW5kZXJlcn0gdGV4dFJlbmRlcmVyXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFBvc3RpdEltcG9ydGVyKFxuICAgIGV2ZW50QnVzLCBjYW52YXMsIGVsZW1lbnRGYWN0b3J5LFxuICAgIGVsZW1lbnRSZWdpc3RyeSwgdHJhbnNsYXRlLCB0ZXh0UmVuZGVyZXIpIHtcblxuICB0aGlzLl9ldmVudEJ1cyA9IGV2ZW50QnVzO1xuICB0aGlzLl9jYW52YXMgPSBjYW52YXM7XG4gIHRoaXMuX2VsZW1lbnRGYWN0b3J5ID0gZWxlbWVudEZhY3Rvcnk7XG4gIHRoaXMuX2VsZW1lbnRSZWdpc3RyeSA9IGVsZW1lbnRSZWdpc3RyeTtcbiAgdGhpcy5fdHJhbnNsYXRlID0gdHJhbnNsYXRlO1xuICB0aGlzLl90ZXh0UmVuZGVyZXIgPSB0ZXh0UmVuZGVyZXI7XG59XG5cblBvc3RpdEltcG9ydGVyLiRpbmplY3QgPSBbXG4gICdldmVudEJ1cycsXG4gICdjYW52YXMnLFxuICAnZWxlbWVudEZhY3RvcnknLFxuICAnZWxlbWVudFJlZ2lzdHJ5JyxcbiAgJ3RyYW5zbGF0ZScsXG4gICd0ZXh0UmVuZGVyZXInXG5dO1xuXG5cbi8qKlxuICogQWRkIHBvc3RpdCBlbGVtZW50IChzZW1hbnRpYykgdG8gdGhlIGNhbnZhcyBvbnRvIHRoZVxuICogc3BlY2lmaWVkIHBhcmVudCBzaGFwZS5cbiAqL1xuUG9zdGl0SW1wb3J0ZXIucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uKHNlbWFudGljLCBwYXJlbnRFbGVtZW50KSB7XG5cbiAgdmFyIGRpID0gc2VtYW50aWMuZGksXG4gICAgICBlbGVtZW50LFxuICAgICAgdHJhbnNsYXRlID0gdGhpcy5fdHJhbnNsYXRlLFxuICAgICAgaGlkZGVuO1xuXG4gIHZhciBwYXJlbnRJbmRleDtcblxuICAvLyBST09UIEVMRU1FTlRcbiAgLy8gaGFuZGxlIHRoZSBzcGVjaWFsIGNhc2UgdGhhdCB3ZSBkZWFsIHdpdGggYVxuICAvLyBpbnZpc2libGUgcm9vdCBlbGVtZW50XG4gIGlmIChpcyhkaSwgJ3Bvc3RpdERpOlBvc3RpdFBsYW5lJykpIHtcblxuICAgIC8vIGFkZCBhIHZpcnR1YWwgZWxlbWVudCAobm90IGJlaW5nIGRyYXduKVxuICAgIGVsZW1lbnQgPSB0aGlzLl9lbGVtZW50RmFjdG9yeS5jcmVhdGVSb290KGVsZW1lbnREYXRhKHNlbWFudGljKSk7XG5cbiAgICB0aGlzLl9jYW52YXMuc2V0Um9vdEVsZW1lbnQoZWxlbWVudCk7XG4gIH1cblxuICAvLyBTSEFQRVxuICBlbHNlIGlmIChpcyhkaSwgJ3Bvc3RpdERpOlBvc3RpdFNoYXBlJykpIHtcblxuICAgIHZhciBpc0ZyYW1lID0gaXNGcmFtZUVsZW1lbnQoc2VtYW50aWMpO1xuXG4gICAgaGlkZGVuID0gcGFyZW50RWxlbWVudCAmJiAocGFyZW50RWxlbWVudC5oaWRkZW4gfHwgcGFyZW50RWxlbWVudC5jb2xsYXBzZWQpO1xuXG4gICAgdmFyIGJvdW5kcyA9IHNlbWFudGljLmRpLmJvdW5kcztcblxuICAgIGVsZW1lbnQgPSB0aGlzLl9lbGVtZW50RmFjdG9yeS5jcmVhdGVTaGFwZShlbGVtZW50RGF0YShzZW1hbnRpYywge1xuICAgICAgaGlkZGVuOiBoaWRkZW4sXG4gICAgICB4OiBNYXRoLnJvdW5kKGJvdW5kcy54KSxcbiAgICAgIHk6IE1hdGgucm91bmQoYm91bmRzLnkpLFxuICAgICAgd2lkdGg6IE1hdGgucm91bmQoYm91bmRzLndpZHRoKSxcbiAgICAgIGhlaWdodDogTWF0aC5yb3VuZChib3VuZHMuaGVpZ2h0KSxcbiAgICAgIGlzRnJhbWU6IGlzRnJhbWVcbiAgICB9KSk7XG5cbiAgICB0aGlzLl9jYW52YXMuYWRkU2hhcGUoZWxlbWVudCwgcGFyZW50RWxlbWVudCwgcGFyZW50SW5kZXgpO1xuICB9XG5cbiAgZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKHRyYW5zbGF0ZSgndW5rbm93biBkaSB7ZGl9IGZvciBlbGVtZW50IHtzZW1hbnRpY30nLCB7XG4gICAgICBkaTogZWxlbWVudFRvU3RyaW5nKGRpKSxcbiAgICAgIHNlbWFudGljOiBlbGVtZW50VG9TdHJpbmcoc2VtYW50aWMpXG4gICAgfSkpO1xuICB9XG5cbiAgLy8gKG9wdGlvbmFsKSBMQUJFTFxuICBpZiAoaXNMYWJlbEV4dGVybmFsKHNlbWFudGljKSAmJiBnZXRMYWJlbChlbGVtZW50KSkge1xuICAgIHRoaXMuYWRkTGFiZWwoc2VtYW50aWMsIGVsZW1lbnQpO1xuICB9XG5cblxuICB0aGlzLl9ldmVudEJ1cy5maXJlKCdib2FyZEVsZW1lbnQuYWRkZWQnLCB7IGVsZW1lbnQ6IGVsZW1lbnQgfSk7XG5cbiAgcmV0dXJuIGVsZW1lbnQ7XG59O1xuXG5cbi8qKlxuICogQXR0YWNoIHRoZSBib3VuZGFyeSBlbGVtZW50IHRvIHRoZSBnaXZlbiBob3N0XG4gKlxuICogQHBhcmFtIHtNb2RkbGVFbGVtZW50fSBib3VuZGFyeVNlbWFudGljXG4gKiBAcGFyYW0ge2Rqcy5tb2RlbC5CYXNlfSBib3VuZGFyeUVsZW1lbnRcbiAqL1xuUG9zdGl0SW1wb3J0ZXIucHJvdG90eXBlLl9hdHRhY2hCb3VuZGFyeSA9IGZ1bmN0aW9uKGJvdW5kYXJ5U2VtYW50aWMsIGJvdW5kYXJ5RWxlbWVudCkge1xuICB2YXIgdHJhbnNsYXRlID0gdGhpcy5fdHJhbnNsYXRlO1xuICB2YXIgaG9zdFNlbWFudGljID0gYm91bmRhcnlTZW1hbnRpYy5hdHRhY2hlZFRvUmVmO1xuXG4gIGlmICghaG9zdFNlbWFudGljKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKHRyYW5zbGF0ZSgnbWlzc2luZyB7c2VtYW50aWN9I2F0dGFjaGVkVG9SZWYnLCB7XG4gICAgICBzZW1hbnRpYzogZWxlbWVudFRvU3RyaW5nKGJvdW5kYXJ5U2VtYW50aWMpXG4gICAgfSkpO1xuICB9XG5cbiAgdmFyIGhvc3QgPSB0aGlzLl9lbGVtZW50UmVnaXN0cnkuZ2V0KGhvc3RTZW1hbnRpYy5pZCksXG4gICAgICBhdHRhY2hlcnMgPSBob3N0ICYmIGhvc3QuYXR0YWNoZXJzO1xuXG4gIGlmICghaG9zdCkge1xuICAgIHRocm93IG5vdFlldERyYXduKHRyYW5zbGF0ZSwgYm91bmRhcnlTZW1hbnRpYywgaG9zdFNlbWFudGljLCAnYXR0YWNoZWRUb1JlZicpO1xuICB9XG5cbiAgLy8gd2lyZSBlbGVtZW50Lmhvc3QgPD4gaG9zdC5hdHRhY2hlcnNcbiAgYm91bmRhcnlFbGVtZW50Lmhvc3QgPSBob3N0O1xuXG4gIGlmICghYXR0YWNoZXJzKSB7XG4gICAgaG9zdC5hdHRhY2hlcnMgPSBhdHRhY2hlcnMgPSBbXTtcbiAgfVxuXG4gIGlmIChhdHRhY2hlcnMuaW5kZXhPZihib3VuZGFyeUVsZW1lbnQpID09PSAtMSkge1xuICAgIGF0dGFjaGVycy5wdXNoKGJvdW5kYXJ5RWxlbWVudCk7XG4gIH1cbn07XG5cblxuLyoqXG4gKiBhZGQgbGFiZWwgZm9yIGFuIGVsZW1lbnRcbiAqL1xuUG9zdGl0SW1wb3J0ZXIucHJvdG90eXBlLmFkZExhYmVsID0gZnVuY3Rpb24oc2VtYW50aWMsIGVsZW1lbnQpIHtcbiAgdmFyIGJvdW5kcyxcbiAgICAgIHRleHQsXG4gICAgICBsYWJlbDtcblxuICBib3VuZHMgPSBnZXRFeHRlcm5hbExhYmVsQm91bmRzKHNlbWFudGljLCBlbGVtZW50KTtcblxuICB0ZXh0ID0gZ2V0TGFiZWwoZWxlbWVudCk7XG5cbiAgaWYgKHRleHQpIHtcblxuICAgIC8vIGdldCBjb3JyZWN0ZWQgYm91bmRzIGZyb20gYWN0dWFsIGxheW91dGVkIHRleHRcbiAgICBib3VuZHMgPSB0aGlzLl90ZXh0UmVuZGVyZXIuZ2V0RXh0ZXJuYWxMYWJlbEJvdW5kcyhib3VuZHMsIHRleHQpO1xuICB9XG5cbiAgbGFiZWwgPSB0aGlzLl9lbGVtZW50RmFjdG9yeS5jcmVhdGVMYWJlbChlbGVtZW50RGF0YShzZW1hbnRpYywge1xuICAgIGlkOiBzZW1hbnRpYy5pZCArICdfbGFiZWwnLFxuICAgIGxhYmVsVGFyZ2V0OiBlbGVtZW50LFxuICAgIHR5cGU6ICdsYWJlbCcsXG4gICAgaGlkZGVuOiBlbGVtZW50LmhpZGRlbiB8fCAhZ2V0TGFiZWwoZWxlbWVudCksXG4gICAgeDogTWF0aC5yb3VuZChib3VuZHMueCksXG4gICAgeTogTWF0aC5yb3VuZChib3VuZHMueSksXG4gICAgd2lkdGg6IE1hdGgucm91bmQoYm91bmRzLndpZHRoKSxcbiAgICBoZWlnaHQ6IE1hdGgucm91bmQoYm91bmRzLmhlaWdodClcbiAgfSkpO1xuXG4gIHJldHVybiB0aGlzLl9jYW52YXMuYWRkU2hhcGUobGFiZWwsIGVsZW1lbnQucGFyZW50KTtcbn07XG5cbi8qKlxuICogUmV0dXJuIHRoZSBkcmF3biBjb25uZWN0aW9uIGVuZCBiYXNlZCBvbiB0aGUgZ2l2ZW4gc2lkZS5cbiAqXG4gKiBAdGhyb3dzIHtFcnJvcn0gaWYgdGhlIGVuZCBpcyBub3QgeWV0IGRyYXduXG4gKi9cblBvc3RpdEltcG9ydGVyLnByb3RvdHlwZS5fZ2V0RW5kID0gZnVuY3Rpb24oc2VtYW50aWMsIHNpZGUpIHtcblxuICB2YXIgZWxlbWVudCxcbiAgICAgIHJlZlNlbWFudGljLFxuICAgICAgdHJhbnNsYXRlID0gdGhpcy5fdHJhbnNsYXRlO1xuXG4gIHJlZlNlbWFudGljID0gc2VtYW50aWNbc2lkZSArICdSZWYnXTtcblxuXG4gIGVsZW1lbnQgPSByZWZTZW1hbnRpYyAmJiB0aGlzLl9nZXRFbGVtZW50KHJlZlNlbWFudGljKTtcblxuICBpZiAoZWxlbWVudCkge1xuICAgIHJldHVybiBlbGVtZW50O1xuICB9XG5cbiAgaWYgKHJlZlNlbWFudGljKSB7XG4gICAgdGhyb3cgbm90WWV0RHJhd24odHJhbnNsYXRlLCBzZW1hbnRpYywgcmVmU2VtYW50aWMsIHNpZGUgKyAnUmVmJyk7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKHRyYW5zbGF0ZSgne3NlbWFudGljfSN7c2lkZX0gUmVmIG5vdCBzcGVjaWZpZWQnLCB7XG4gICAgICBzZW1hbnRpYzogZWxlbWVudFRvU3RyaW5nKHNlbWFudGljKSxcbiAgICAgIHNpZGU6IHNpZGVcbiAgICB9KSk7XG4gIH1cbn07XG5cblBvc3RpdEltcG9ydGVyLnByb3RvdHlwZS5fZ2V0U291cmNlID0gZnVuY3Rpb24oc2VtYW50aWMpIHtcbiAgcmV0dXJuIHRoaXMuX2dldEVuZChzZW1hbnRpYywgJ3NvdXJjZScpO1xufTtcblxuUG9zdGl0SW1wb3J0ZXIucHJvdG90eXBlLl9nZXRUYXJnZXQgPSBmdW5jdGlvbihzZW1hbnRpYykge1xuICByZXR1cm4gdGhpcy5fZ2V0RW5kKHNlbWFudGljLCAndGFyZ2V0Jyk7XG59O1xuXG5cblBvc3RpdEltcG9ydGVyLnByb3RvdHlwZS5fZ2V0RWxlbWVudCA9IGZ1bmN0aW9uKHNlbWFudGljKSB7XG4gIHJldHVybiB0aGlzLl9lbGVtZW50UmVnaXN0cnkuZ2V0KHNlbWFudGljLmlkKTtcbn07XG5cblxuLy8gaGVscGVycyAvLy8vLy8vLy8vXG5cbmZ1bmN0aW9uIGlzRnJhbWVFbGVtZW50KHNlbWFudGljKSB7XG4gIHJldHVybiBpcyhzZW1hbnRpYywgJ3Bvc3RpdDpHcm91cCcpO1xufSIsImltcG9ydCB0cmFuc2xhdGUgZnJvbSAnZGlhZ3JhbS1qcy9saWIvaTE4bi90cmFuc2xhdGUnO1xuXG5pbXBvcnQgUG9zdGl0SW1wb3J0ZXIgZnJvbSAnLi9Qb3N0aXRJbXBvcnRlcic7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgX19kZXBlbmRzX186IFtcbiAgICB0cmFuc2xhdGVcbiAgXSxcbiAgcG9zdGl0SW1wb3J0ZXI6IFsgJ3R5cGUnLCBQb3N0aXRJbXBvcnRlciBdXG59OyIsImltcG9ydCBEcmF3TW9kdWxlIGZyb20gJy4uL2RyYXcnO1xuaW1wb3J0IEltcG9ydE1vZHVsZSBmcm9tICcuLi9pbXBvcnQnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9fZGVwZW5kc19fOiBbXG4gICAgRHJhd01vZHVsZSxcbiAgICBJbXBvcnRNb2R1bGVcbiAgXVxufTsiLCJmdW5jdGlvbiBfX3N0b3BQcm9wYWdhdGlvbihldmVudCkge1xuICBpZiAoIWV2ZW50IHx8IHR5cGVvZiBldmVudC5zdG9wUHJvcGFnYXRpb24gIT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0T3JpZ2luYWwoZXZlbnQpIHtcbiAgcmV0dXJuIGV2ZW50Lm9yaWdpbmFsRXZlbnQgfHwgZXZlbnQuc3JjRXZlbnQ7XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIHN0b3BQcm9wYWdhdGlvbihldmVudCwgaW1tZWRpYXRlKSB7XG4gIF9fc3RvcFByb3BhZ2F0aW9uKGV2ZW50LCBpbW1lZGlhdGUpO1xuICBfX3N0b3BQcm9wYWdhdGlvbihnZXRPcmlnaW5hbChldmVudCksIGltbWVkaWF0ZSk7XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIHRvUG9pbnQoZXZlbnQpIHtcblxuICBpZiAoZXZlbnQucG9pbnRlcnMgJiYgZXZlbnQucG9pbnRlcnMubGVuZ3RoKSB7XG4gICAgZXZlbnQgPSBldmVudC5wb2ludGVyc1swXTtcbiAgfVxuXG4gIGlmIChldmVudC50b3VjaGVzICYmIGV2ZW50LnRvdWNoZXMubGVuZ3RoKSB7XG4gICAgZXZlbnQgPSBldmVudC50b3VjaGVzWzBdO1xuICB9XG5cbiAgcmV0dXJuIGV2ZW50ID8ge1xuICAgIHg6IGV2ZW50LmNsaWVudFgsXG4gICAgeTogZXZlbnQuY2xpZW50WVxuICB9IDogbnVsbDtcbn0iLCJpbXBvcnQge1xuICBnZXRPcmlnaW5hbCBhcyBnZXRPcmlnaW5hbEV2ZW50XG59IGZyb20gJy4vRXZlbnQnO1xuXG5pbXBvcnQge1xuICBpc01hY1xufSBmcm9tICcuL1BsYXRmb3JtJztcblxuZXhwb3J0IHtcbiAgaXNNYWNcbn0gZnJvbSAnLi9QbGF0Zm9ybSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0J1dHRvbihldmVudCwgYnV0dG9uKSB7XG4gIHJldHVybiAoZ2V0T3JpZ2luYWxFdmVudChldmVudCkgfHwgZXZlbnQpLmJ1dHRvbiA9PT0gYnV0dG9uO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNQcmltYXJ5QnV0dG9uKGV2ZW50KSB7XG5cbiAgLy8gYnV0dG9uID09PSAwIC0+IGxlZnQgw6FrYSBwcmltYXJ5IG1vdXNlIGJ1dHRvblxuICByZXR1cm4gaXNCdXR0b24oZXZlbnQsIDApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNBdXhpbGlhcnlCdXR0b24oZXZlbnQpIHtcblxuICAvLyBidXR0b24gPT09IDEgLT4gYXV4aWxpYXJ5IMOha2Egd2hlZWwgYnV0dG9uXG4gIHJldHVybiBpc0J1dHRvbihldmVudCwgMSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1NlY29uZGFyeUJ1dHRvbihldmVudCkge1xuXG4gIC8vIGJ1dHRvbiA9PT0gMiAtPiByaWdodCDDoWthIHNlY29uZGFyeSBidXR0b25cbiAgcmV0dXJuIGlzQnV0dG9uKGV2ZW50LCAyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhhc1ByaW1hcnlNb2RpZmllcihldmVudCkge1xuICB2YXIgb3JpZ2luYWxFdmVudCA9IGdldE9yaWdpbmFsRXZlbnQoZXZlbnQpIHx8IGV2ZW50O1xuXG4gIGlmICghaXNQcmltYXJ5QnV0dG9uKGV2ZW50KSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIFVzZSBjbWQgYXMgcHJpbWFyeSBtb2RpZmllciBrZXkgZm9yIG1hYyBPU1xuICBpZiAoaXNNYWMoKSkge1xuICAgIHJldHVybiBvcmlnaW5hbEV2ZW50Lm1ldGFLZXk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG9yaWdpbmFsRXZlbnQuY3RybEtleTtcbiAgfVxufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBoYXNTZWNvbmRhcnlNb2RpZmllcihldmVudCkge1xuICB2YXIgb3JpZ2luYWxFdmVudCA9IGdldE9yaWdpbmFsRXZlbnQoZXZlbnQpIHx8IGV2ZW50O1xuXG4gIHJldHVybiBpc1ByaW1hcnlCdXR0b24oZXZlbnQpICYmIG9yaWdpbmFsRXZlbnQuc2hpZnRLZXk7XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gaXNNYWMoKSB7XG4gIHJldHVybiAoL21hYy9pKS50ZXN0KG5hdmlnYXRvci5wbGF0Zm9ybSk7XG59IiwiaW1wb3J0IHtcbiAgZm9yRWFjaCxcbiAgYXNzaWduXG59IGZyb20gJ21pbi1kYXNoJztcblxuaW1wb3J0IHtcbiAgZGVsZWdhdGUgYXMgZG9tRGVsZWdhdGUsXG4gIHF1ZXJ5IGFzIGRvbVF1ZXJ5LFxuICBxdWVyeUFsbCBhcyBkb21RdWVyeUFsbFxufSBmcm9tICdtaW4tZG9tJztcblxuaW1wb3J0IHtcbiAgaXNQcmltYXJ5QnV0dG9uLFxuICBpc0F1eGlsaWFyeUJ1dHRvblxufSBmcm9tICcuLi8uLi91dGlsL01vdXNlJztcblxuaW1wb3J0IHtcbiAgYXBwZW5kIGFzIHN2Z0FwcGVuZCxcbiAgYXR0ciBhcyBzdmdBdHRyLFxuICBjcmVhdGUgYXMgc3ZnQ3JlYXRlLFxuICByZW1vdmUgYXMgc3ZnUmVtb3ZlXG59IGZyb20gJ3Rpbnktc3ZnJztcblxuaW1wb3J0IHtcbiAgY3JlYXRlTGluZSxcbiAgdXBkYXRlTGluZVxufSBmcm9tICcuLi8uLi91dGlsL1JlbmRlclV0aWwnO1xuXG5mdW5jdGlvbiBhbGxvd0FsbChldmVudCkgeyByZXR1cm4gdHJ1ZTsgfVxuXG5mdW5jdGlvbiBhbGxvd1ByaW1hcnlBbmRBdXhpbGlhcnkoZXZlbnQpIHtcbiAgcmV0dXJuIGlzUHJpbWFyeUJ1dHRvbihldmVudCkgfHwgaXNBdXhpbGlhcnlCdXR0b24oZXZlbnQpO1xufVxuXG52YXIgTE9XX1BSSU9SSVRZID0gNTAwO1xuXG5cbi8qKlxuICogQSBwbHVnaW4gdGhhdCBwcm92aWRlcyBpbnRlcmFjdGlvbiBldmVudHMgZm9yIGRpYWdyYW0gZWxlbWVudHMuXG4gKlxuICogSXQgZW1pdHMgdGhlIGZvbGxvd2luZyBldmVudHM6XG4gKlxuICogICAqIGVsZW1lbnQuY2xpY2tcbiAqICAgKiBlbGVtZW50LmNvbnRleHRtZW51XG4gKiAgICogZWxlbWVudC5kYmxjbGlja1xuICogICAqIGVsZW1lbnQuaG92ZXJcbiAqICAgKiBlbGVtZW50Lm1vdXNlZG93blxuICogICAqIGVsZW1lbnQubW91c2Vtb3ZlXG4gKiAgICogZWxlbWVudC5tb3VzZXVwXG4gKiAgICogZWxlbWVudC5vdXRcbiAqXG4gKiBFYWNoIGV2ZW50IGlzIGEgdHVwbGUgeyBlbGVtZW50LCBnZngsIG9yaWdpbmFsRXZlbnQgfS5cbiAqXG4gKiBDYW5jZWxpbmcgdGhlIGV2ZW50IHZpYSBFdmVudCNwcmV2ZW50RGVmYXVsdCgpXG4gKiBwcmV2ZW50cyB0aGUgb3JpZ2luYWwgRE9NIG9wZXJhdGlvbi5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50QnVzfSBldmVudEJ1c1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBJbnRlcmFjdGlvbkV2ZW50cyhldmVudEJ1cywgZWxlbWVudFJlZ2lzdHJ5LCBzdHlsZXMpIHtcblxuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgLyoqXG4gICAqIEZpcmUgYW4gaW50ZXJhY3Rpb24gZXZlbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIGxvY2FsIGV2ZW50IG5hbWUsIGUuZy4gZWxlbWVudC5jbGljay5cbiAgICogQHBhcmFtIHtET01FdmVudH0gZXZlbnQgbmF0aXZlIGV2ZW50XG4gICAqIEBwYXJhbSB7ZGpzLm1vZGVsLkJhc2V9IFtlbGVtZW50XSB0aGUgZGlhZ3JhbSBlbGVtZW50IHRvIGVtaXQgdGhlIGV2ZW50IG9uO1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdHMgdG8gdGhlIGV2ZW50IHRhcmdldFxuICAgKi9cbiAgZnVuY3Rpb24gZmlyZSh0eXBlLCBldmVudCwgZWxlbWVudCkge1xuXG4gICAgaWYgKGlzSWdub3JlZCh0eXBlLCBldmVudCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgdGFyZ2V0LCBnZngsIHJldHVyblZhbHVlO1xuXG4gICAgaWYgKCFlbGVtZW50KSB7XG4gICAgICB0YXJnZXQgPSBldmVudC5kZWxlZ2F0ZVRhcmdldCB8fCBldmVudC50YXJnZXQ7XG5cbiAgICAgIGlmICh0YXJnZXQpIHtcbiAgICAgICAgZ2Z4ID0gdGFyZ2V0O1xuICAgICAgICBlbGVtZW50ID0gZWxlbWVudFJlZ2lzdHJ5LmdldChnZngpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBnZnggPSBlbGVtZW50UmVnaXN0cnkuZ2V0R3JhcGhpY3MoZWxlbWVudCk7XG4gICAgfVxuXG4gICAgaWYgKCFnZnggfHwgIWVsZW1lbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICByZXR1cm5WYWx1ZSA9IGV2ZW50QnVzLmZpcmUodHlwZSwge1xuICAgICAgZWxlbWVudDogZWxlbWVudCxcbiAgICAgIGdmeDogZ2Z4LFxuICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnRcbiAgICB9KTtcblxuICAgIGlmIChyZXR1cm5WYWx1ZSA9PT0gZmFsc2UpIHtcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gIH1cblxuICAvLyBUT0RPKG5pa2t1KTogZG9jdW1lbnQgdGhpc1xuICB2YXIgaGFuZGxlcnMgPSB7fTtcblxuICBmdW5jdGlvbiBtb3VzZUhhbmRsZXIobG9jYWxFdmVudE5hbWUpIHtcbiAgICByZXR1cm4gaGFuZGxlcnNbbG9jYWxFdmVudE5hbWVdO1xuICB9XG5cbiAgZnVuY3Rpb24gaXNJZ25vcmVkKGxvY2FsRXZlbnROYW1lLCBldmVudCkge1xuXG4gICAgdmFyIGZpbHRlciA9IGlnbm9yZWRGaWx0ZXJzW2xvY2FsRXZlbnROYW1lXSB8fCBpc1ByaW1hcnlCdXR0b247XG5cbiAgICAvLyBvbmx5IHJlYWN0IG9uIGxlZnQgbW91c2UgYnV0dG9uIGludGVyYWN0aW9uc1xuICAgIC8vIGV4Y2VwdCBmb3IgaW50ZXJhY3Rpb24gZXZlbnRzIHRoYXQgYXJlIGVuYWJsZWRcbiAgICAvLyBmb3Igc2VjdW5kYXJ5IG1vdXNlIGJ1dHRvblxuICAgIHJldHVybiAhZmlsdGVyKGV2ZW50KTtcbiAgfVxuXG4gIHZhciBiaW5kaW5ncyA9IHtcbiAgICBjbGljazogJ2VsZW1lbnQuY2xpY2snLFxuICAgIGNvbnRleHRtZW51OiAnZWxlbWVudC5jb250ZXh0bWVudScsXG4gICAgZGJsY2xpY2s6ICdlbGVtZW50LmRibGNsaWNrJyxcbiAgICBtb3VzZWRvd246ICdlbGVtZW50Lm1vdXNlZG93bicsXG4gICAgbW91c2Vtb3ZlOiAnZWxlbWVudC5tb3VzZW1vdmUnLFxuICAgIG1vdXNlb3ZlcjogJ2VsZW1lbnQuaG92ZXInLFxuICAgIG1vdXNlb3V0OiAnZWxlbWVudC5vdXQnLFxuICAgIG1vdXNldXA6ICdlbGVtZW50Lm1vdXNldXAnLFxuICB9O1xuXG4gIHZhciBpZ25vcmVkRmlsdGVycyA9IHtcbiAgICAnZWxlbWVudC5jb250ZXh0bWVudSc6IGFsbG93QWxsLFxuICAgICdlbGVtZW50Lm1vdXNlZG93bic6IGFsbG93UHJpbWFyeUFuZEF1eGlsaWFyeSxcbiAgICAnZWxlbWVudC5tb3VzZXVwJzogYWxsb3dQcmltYXJ5QW5kQXV4aWxpYXJ5LFxuICAgICdlbGVtZW50LmNsaWNrJzogYWxsb3dQcmltYXJ5QW5kQXV4aWxpYXJ5LFxuICAgICdlbGVtZW50LmRibGNsaWNrJzogYWxsb3dQcmltYXJ5QW5kQXV4aWxpYXJ5XG4gIH07XG5cblxuICAvLyBtYW51YWwgZXZlbnQgdHJpZ2dlciAvLy8vLy8vLy8vXG5cbiAgLyoqXG4gICAqIFRyaWdnZXIgYW4gaW50ZXJhY3Rpb24gZXZlbnQgKGJhc2VkIG9uIGEgbmF0aXZlIGRvbSBldmVudClcbiAgICogb24gdGhlIHRhcmdldCBzaGFwZSBvciBjb25uZWN0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnROYW1lIHRoZSBuYW1lIG9mIHRoZSB0cmlnZ2VyZWQgRE9NIGV2ZW50XG4gICAqIEBwYXJhbSB7TW91c2VFdmVudH0gZXZlbnRcbiAgICogQHBhcmFtIHtkanMubW9kZWwuQmFzZX0gdGFyZ2V0RWxlbWVudFxuICAgKi9cbiAgZnVuY3Rpb24gdHJpZ2dlck1vdXNlRXZlbnQoZXZlbnROYW1lLCBldmVudCwgdGFyZ2V0RWxlbWVudCkge1xuXG4gICAgLy8gaS5lLiBlbGVtZW50Lm1vdXNlZG93bi4uLlxuICAgIHZhciBsb2NhbEV2ZW50TmFtZSA9IGJpbmRpbmdzW2V2ZW50TmFtZV07XG5cbiAgICBpZiAoIWxvY2FsRXZlbnROYW1lKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ3VubWFwcGVkIERPTSBldmVudCBuYW1lIDwnICsgZXZlbnROYW1lICsgJz4nKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmlyZShsb2NhbEV2ZW50TmFtZSwgZXZlbnQsIHRhcmdldEVsZW1lbnQpO1xuICB9XG5cblxuICB2YXIgRUxFTUVOVF9TRUxFQ1RPUiA9ICdzdmcsIC5kanMtZWxlbWVudCc7XG5cbiAgLy8gZXZlbnQgaGFuZGxpbmcgLy8vLy8vL1xuXG4gIGZ1bmN0aW9uIHJlZ2lzdGVyRXZlbnQobm9kZSwgZXZlbnQsIGxvY2FsRXZlbnQsIGlnbm9yZWRGaWx0ZXIpIHtcblxuICAgIHZhciBoYW5kbGVyID0gaGFuZGxlcnNbbG9jYWxFdmVudF0gPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgZmlyZShsb2NhbEV2ZW50LCBldmVudCk7XG4gICAgfTtcblxuICAgIGlmIChpZ25vcmVkRmlsdGVyKSB7XG4gICAgICBpZ25vcmVkRmlsdGVyc1tsb2NhbEV2ZW50XSA9IGlnbm9yZWRGaWx0ZXI7XG4gICAgfVxuXG4gICAgaGFuZGxlci4kZGVsZWdhdGUgPSBkb21EZWxlZ2F0ZS5iaW5kKG5vZGUsIEVMRU1FTlRfU0VMRUNUT1IsIGV2ZW50LCBoYW5kbGVyKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVucmVnaXN0ZXJFdmVudChub2RlLCBldmVudCwgbG9jYWxFdmVudCkge1xuXG4gICAgdmFyIGhhbmRsZXIgPSBtb3VzZUhhbmRsZXIobG9jYWxFdmVudCk7XG5cbiAgICBpZiAoIWhhbmRsZXIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBkb21EZWxlZ2F0ZS51bmJpbmQobm9kZSwgZXZlbnQsIGhhbmRsZXIuJGRlbGVnYXRlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlZ2lzdGVyRXZlbnRzKHN2Zykge1xuICAgIGZvckVhY2goYmluZGluZ3MsIGZ1bmN0aW9uKHZhbCwga2V5KSB7XG4gICAgICByZWdpc3RlckV2ZW50KHN2Zywga2V5LCB2YWwpO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gdW5yZWdpc3RlckV2ZW50cyhzdmcpIHtcbiAgICBmb3JFYWNoKGJpbmRpbmdzLCBmdW5jdGlvbih2YWwsIGtleSkge1xuICAgICAgdW5yZWdpc3RlckV2ZW50KHN2Zywga2V5LCB2YWwpO1xuICAgIH0pO1xuICB9XG5cbiAgZXZlbnRCdXMub24oJ2NhbnZhcy5kZXN0cm95JywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB1bnJlZ2lzdGVyRXZlbnRzKGV2ZW50LnN2Zyk7XG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKCdjYW52YXMuaW5pdCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgcmVnaXN0ZXJFdmVudHMoZXZlbnQuc3ZnKTtcbiAgfSk7XG5cblxuICAvLyBoaXQgYm94IHVwZGF0aW5nIC8vLy8vLy8vLy8vLy8vLy9cblxuICBldmVudEJ1cy5vbihbICdzaGFwZS5hZGRlZCcsICdjb25uZWN0aW9uLmFkZGVkJyBdLCBmdW5jdGlvbihldmVudCkge1xuICAgIHZhciBlbGVtZW50ID0gZXZlbnQuZWxlbWVudCxcbiAgICAgICAgZ2Z4ID0gZXZlbnQuZ2Z4O1xuXG4gICAgZXZlbnRCdXMuZmlyZSgnaW50ZXJhY3Rpb25FdmVudHMuY3JlYXRlSGl0JywgeyBlbGVtZW50OiBlbGVtZW50LCBnZng6IGdmeCB9KTtcbiAgfSk7XG5cbiAgLy8gVXBkYXRlIGRqcy1oaXQgb24gY2hhbmdlLlxuICAvLyBBIGxvdyBwcmlvcnRpdHkgaXMgbmVjZXNzYXJ5LCBiZWNhdXNlIGRqcy1oaXQgb2YgbGFiZWxzIGhhcyB0byBiZSB1cGRhdGVkXG4gIC8vIGFmdGVyIHRoZSBsYWJlbCBib3VuZHMgaGF2ZSBiZWVuIHVwZGF0ZWQgaW4gdGhlIHJlbmRlcmVyLlxuICBldmVudEJ1cy5vbihbXG4gICAgJ3NoYXBlLmNoYW5nZWQnLFxuICAgICdjb25uZWN0aW9uLmNoYW5nZWQnXG4gIF0sIExPV19QUklPUklUWSwgZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgIHZhciBlbGVtZW50ID0gZXZlbnQuZWxlbWVudCxcbiAgICAgICAgZ2Z4ID0gZXZlbnQuZ2Z4O1xuXG4gICAgZXZlbnRCdXMuZmlyZSgnaW50ZXJhY3Rpb25FdmVudHMudXBkYXRlSGl0JywgeyBlbGVtZW50OiBlbGVtZW50LCBnZng6IGdmeCB9KTtcbiAgfSk7XG5cbiAgZXZlbnRCdXMub24oJ2ludGVyYWN0aW9uRXZlbnRzLmNyZWF0ZUhpdCcsIExPV19QUklPUklUWSwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgZWxlbWVudCA9IGV2ZW50LmVsZW1lbnQsXG4gICAgICAgIGdmeCA9IGV2ZW50LmdmeDtcblxuICAgIHNlbGYuY3JlYXRlRGVmYXVsdEhpdChlbGVtZW50LCBnZngpO1xuICB9KTtcblxuICBldmVudEJ1cy5vbignaW50ZXJhY3Rpb25FdmVudHMudXBkYXRlSGl0JywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgZWxlbWVudCA9IGV2ZW50LmVsZW1lbnQsXG4gICAgICAgIGdmeCA9IGV2ZW50LmdmeDtcblxuICAgIHNlbGYudXBkYXRlRGVmYXVsdEhpdChlbGVtZW50LCBnZngpO1xuICB9KTtcblxuXG4gIC8vIGhpdCBzdHlsZXMgLy8vLy8vLy8vLy8vXG5cbiAgdmFyIFNUUk9LRV9ISVRfU1RZTEUgPSBjcmVhdGVIaXRTdHlsZSgnZGpzLWhpdCBkanMtaGl0LXN0cm9rZScpO1xuXG4gIHZhciBDTElDS19TVFJPS0VfSElUX1NUWUxFID0gY3JlYXRlSGl0U3R5bGUoJ2Rqcy1oaXQgZGpzLWhpdC1jbGljay1zdHJva2UnKTtcblxuICB2YXIgQUxMX0hJVF9TVFlMRSA9IGNyZWF0ZUhpdFN0eWxlKCdkanMtaGl0IGRqcy1oaXQtYWxsJyk7XG5cbiAgdmFyIEhJVF9UWVBFUyA9IHtcbiAgICAnYWxsJzogQUxMX0hJVF9TVFlMRSxcbiAgICAnY2xpY2stc3Ryb2tlJzogQ0xJQ0tfU1RST0tFX0hJVF9TVFlMRSxcbiAgICAnc3Ryb2tlJzogU1RST0tFX0hJVF9TVFlMRVxuICB9O1xuXG4gIGZ1bmN0aW9uIGNyZWF0ZUhpdFN0eWxlKGNsYXNzTmFtZXMsIGF0dHJzKSB7XG5cbiAgICBhdHRycyA9IGFzc2lnbih7XG4gICAgICBzdHJva2U6ICd3aGl0ZScsXG4gICAgICBzdHJva2VXaWR0aDogMTVcbiAgICB9LCBhdHRycyB8fCB7fSk7XG5cbiAgICByZXR1cm4gc3R5bGVzLmNscyhjbGFzc05hbWVzLCBbICduby1maWxsJywgJ25vLWJvcmRlcicgXSwgYXR0cnMpO1xuICB9XG5cblxuICAvLyBzdHlsZSBoZWxwZXJzIC8vLy8vLy8vLy8vLy8vL1xuXG4gIGZ1bmN0aW9uIGFwcGx5U3R5bGUoaGl0LCB0eXBlKSB7XG5cbiAgICB2YXIgYXR0cnMgPSBISVRfVFlQRVNbdHlwZV07XG5cbiAgICBpZiAoIWF0dHJzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgaGl0IHR5cGUgPCcgKyB0eXBlICsgJz4nKTtcbiAgICB9XG5cbiAgICBzdmdBdHRyKGhpdCwgYXR0cnMpO1xuXG4gICAgcmV0dXJuIGhpdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFwcGVuZEhpdChnZngsIGhpdCkge1xuICAgIHN2Z0FwcGVuZChnZngsIGhpdCk7XG4gIH1cblxuXG4gIC8vIEFQSVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgaGludHMgb24gdGhlIGdpdmVuIGdyYXBoaWNzLlxuICAgKlxuICAgKiBAcGFyYW0ge1NWR0VsZW1lbnR9IGdmeFxuICAgKi9cbiAgdGhpcy5yZW1vdmVIaXRzID0gZnVuY3Rpb24oZ2Z4KSB7XG4gICAgdmFyIGhpdHMgPSBkb21RdWVyeUFsbCgnLmRqcy1oaXQnLCBnZngpO1xuXG4gICAgZm9yRWFjaChoaXRzLCBzdmdSZW1vdmUpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgZGVmYXVsdCBoaXQgZm9yIHRoZSBnaXZlbiBlbGVtZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge2Rqcy5tb2RlbC5CYXNlfSBlbGVtZW50XG4gICAqIEBwYXJhbSB7U1ZHRWxlbWVudH0gZ2Z4XG4gICAqXG4gICAqIEByZXR1cm4ge1NWR0VsZW1lbnR9IGNyZWF0ZWQgaGl0XG4gICAqL1xuICB0aGlzLmNyZWF0ZURlZmF1bHRIaXQgPSBmdW5jdGlvbihlbGVtZW50LCBnZngpIHtcbiAgICB2YXIgd2F5cG9pbnRzID0gZWxlbWVudC53YXlwb2ludHMsXG4gICAgICAgIGlzRnJhbWUgPSBlbGVtZW50LmlzRnJhbWUsXG4gICAgICAgIGJveFR5cGU7XG5cbiAgICBpZiAod2F5cG9pbnRzKSB7XG4gICAgICByZXR1cm4gdGhpcy5jcmVhdGVXYXlwb2ludHNIaXQoZ2Z4LCB3YXlwb2ludHMpO1xuICAgIH0gZWxzZSB7XG5cbiAgICAgIGJveFR5cGUgPSBpc0ZyYW1lID8gJ3N0cm9rZScgOiAnYWxsJztcblxuICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlQm94SGl0KGdmeCwgYm94VHlwZSwge1xuICAgICAgICB3aWR0aDogZWxlbWVudC53aWR0aCxcbiAgICAgICAgaGVpZ2h0OiBlbGVtZW50LmhlaWdodFxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgaGl0cyBmb3IgdGhlIGdpdmVuIHdheXBvaW50cy5cbiAgICpcbiAgICogQHBhcmFtIHtTVkdFbGVtZW50fSBnZnhcbiAgICogQHBhcmFtIHtBcnJheTxQb2ludD59IHdheXBvaW50c1xuICAgKlxuICAgKiBAcmV0dXJuIHtTVkdFbGVtZW50fVxuICAgKi9cbiAgdGhpcy5jcmVhdGVXYXlwb2ludHNIaXQgPSBmdW5jdGlvbihnZngsIHdheXBvaW50cykge1xuXG4gICAgdmFyIGhpdCA9IGNyZWF0ZUxpbmUod2F5cG9pbnRzKTtcblxuICAgIGFwcGx5U3R5bGUoaGl0LCAnc3Ryb2tlJyk7XG5cbiAgICBhcHBlbmRIaXQoZ2Z4LCBoaXQpO1xuXG4gICAgcmV0dXJuIGhpdDtcbiAgfTtcblxuICAvKipcbiAgICogQ3JlYXRlIGhpdHMgZm9yIGEgYm94LlxuICAgKlxuICAgKiBAcGFyYW0ge1NWR0VsZW1lbnR9IGdmeFxuICAgKiBAcGFyYW0ge3N0cmluZ30gaGl0VHlwZVxuICAgKiBAcGFyYW0ge09iamVjdH0gYXR0cnNcbiAgICpcbiAgICogQHJldHVybiB7U1ZHRWxlbWVudH1cbiAgICovXG4gIHRoaXMuY3JlYXRlQm94SGl0ID0gZnVuY3Rpb24oZ2Z4LCB0eXBlLCBhdHRycykge1xuXG4gICAgYXR0cnMgPSBhc3NpZ24oe1xuICAgICAgeDogMCxcbiAgICAgIHk6IDBcbiAgICB9LCBhdHRycyk7XG5cbiAgICB2YXIgaGl0ID0gc3ZnQ3JlYXRlKCdyZWN0Jyk7XG5cbiAgICBhcHBseVN0eWxlKGhpdCwgdHlwZSk7XG5cbiAgICBzdmdBdHRyKGhpdCwgYXR0cnMpO1xuXG4gICAgYXBwZW5kSGl0KGdmeCwgaGl0KTtcblxuICAgIHJldHVybiBoaXQ7XG4gIH07XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSBkZWZhdWx0IGhpdCBvZiB0aGUgZWxlbWVudC5cbiAgICpcbiAgICogQHBhcmFtICB7ZGpzLm1vZGVsLkJhc2V9IGVsZW1lbnRcbiAgICogQHBhcmFtICB7U1ZHRWxlbWVudH0gZ2Z4XG4gICAqXG4gICAqIEByZXR1cm4ge1NWR0VsZW1lbnR9IHVwZGF0ZWQgaGl0XG4gICAqL1xuICB0aGlzLnVwZGF0ZURlZmF1bHRIaXQgPSBmdW5jdGlvbihlbGVtZW50LCBnZngpIHtcblxuICAgIHZhciBoaXQgPSBkb21RdWVyeSgnLmRqcy1oaXQnLCBnZngpO1xuXG4gICAgaWYgKCFoaXQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoZWxlbWVudC53YXlwb2ludHMpIHtcbiAgICAgIHVwZGF0ZUxpbmUoaGl0LCBlbGVtZW50LndheXBvaW50cyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN2Z0F0dHIoaGl0LCB7XG4gICAgICAgIHdpZHRoOiBlbGVtZW50LndpZHRoLFxuICAgICAgICBoZWlnaHQ6IGVsZW1lbnQuaGVpZ2h0XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gaGl0O1xuICB9O1xuXG4gIHRoaXMuZmlyZSA9IGZpcmU7XG5cbiAgdGhpcy50cmlnZ2VyTW91c2VFdmVudCA9IHRyaWdnZXJNb3VzZUV2ZW50O1xuXG4gIHRoaXMubW91c2VIYW5kbGVyID0gbW91c2VIYW5kbGVyO1xuXG4gIHRoaXMucmVnaXN0ZXJFdmVudCA9IHJlZ2lzdGVyRXZlbnQ7XG4gIHRoaXMudW5yZWdpc3RlckV2ZW50ID0gdW5yZWdpc3RlckV2ZW50O1xufVxuXG5cbkludGVyYWN0aW9uRXZlbnRzLiRpbmplY3QgPSBbXG4gICdldmVudEJ1cycsXG4gICdlbGVtZW50UmVnaXN0cnknLFxuICAnc3R5bGVzJ1xuXTtcblxuXG4vKipcbiAqIEFuIGV2ZW50IGluZGljYXRpbmcgdGhhdCB0aGUgbW91c2UgaG92ZXJlZCBvdmVyIGFuIGVsZW1lbnRcbiAqXG4gKiBAZXZlbnQgZWxlbWVudC5ob3ZlclxuICpcbiAqIEB0eXBlIHtPYmplY3R9XG4gKiBAcHJvcGVydHkge2Rqcy5tb2RlbC5CYXNlfSBlbGVtZW50XG4gKiBAcHJvcGVydHkge1NWR0VsZW1lbnR9IGdmeFxuICogQHByb3BlcnR5IHtFdmVudH0gb3JpZ2luYWxFdmVudFxuICovXG5cbi8qKlxuICogQW4gZXZlbnQgaW5kaWNhdGluZyB0aGF0IHRoZSBtb3VzZSBoYXMgbGVmdCBhbiBlbGVtZW50XG4gKlxuICogQGV2ZW50IGVsZW1lbnQub3V0XG4gKlxuICogQHR5cGUge09iamVjdH1cbiAqIEBwcm9wZXJ0eSB7ZGpzLm1vZGVsLkJhc2V9IGVsZW1lbnRcbiAqIEBwcm9wZXJ0eSB7U1ZHRWxlbWVudH0gZ2Z4XG4gKiBAcHJvcGVydHkge0V2ZW50fSBvcmlnaW5hbEV2ZW50XG4gKi9cblxuLyoqXG4gKiBBbiBldmVudCBpbmRpY2F0aW5nIHRoYXQgdGhlIG1vdXNlIGhhcyBjbGlja2VkIGFuIGVsZW1lbnRcbiAqXG4gKiBAZXZlbnQgZWxlbWVudC5jbGlja1xuICpcbiAqIEB0eXBlIHtPYmplY3R9XG4gKiBAcHJvcGVydHkge2Rqcy5tb2RlbC5CYXNlfSBlbGVtZW50XG4gKiBAcHJvcGVydHkge1NWR0VsZW1lbnR9IGdmeFxuICogQHByb3BlcnR5IHtFdmVudH0gb3JpZ2luYWxFdmVudFxuICovXG5cbi8qKlxuICogQW4gZXZlbnQgaW5kaWNhdGluZyB0aGF0IHRoZSBtb3VzZSBoYXMgZG91YmxlIGNsaWNrZWQgYW4gZWxlbWVudFxuICpcbiAqIEBldmVudCBlbGVtZW50LmRibGNsaWNrXG4gKlxuICogQHR5cGUge09iamVjdH1cbiAqIEBwcm9wZXJ0eSB7ZGpzLm1vZGVsLkJhc2V9IGVsZW1lbnRcbiAqIEBwcm9wZXJ0eSB7U1ZHRWxlbWVudH0gZ2Z4XG4gKiBAcHJvcGVydHkge0V2ZW50fSBvcmlnaW5hbEV2ZW50XG4gKi9cblxuLyoqXG4gKiBBbiBldmVudCBpbmRpY2F0aW5nIHRoYXQgdGhlIG1vdXNlIGhhcyBnb25lIGRvd24gb24gYW4gZWxlbWVudC5cbiAqXG4gKiBAZXZlbnQgZWxlbWVudC5tb3VzZWRvd25cbiAqXG4gKiBAdHlwZSB7T2JqZWN0fVxuICogQHByb3BlcnR5IHtkanMubW9kZWwuQmFzZX0gZWxlbWVudFxuICogQHByb3BlcnR5IHtTVkdFbGVtZW50fSBnZnhcbiAqIEBwcm9wZXJ0eSB7RXZlbnR9IG9yaWdpbmFsRXZlbnRcbiAqL1xuXG4vKipcbiAqIEFuIGV2ZW50IGluZGljYXRpbmcgdGhhdCB0aGUgbW91c2UgaGFzIGdvbmUgdXAgb24gYW4gZWxlbWVudC5cbiAqXG4gKiBAZXZlbnQgZWxlbWVudC5tb3VzZXVwXG4gKlxuICogQHR5cGUge09iamVjdH1cbiAqIEBwcm9wZXJ0eSB7ZGpzLm1vZGVsLkJhc2V9IGVsZW1lbnRcbiAqIEBwcm9wZXJ0eSB7U1ZHRWxlbWVudH0gZ2Z4XG4gKiBAcHJvcGVydHkge0V2ZW50fSBvcmlnaW5hbEV2ZW50XG4gKi9cblxuLyoqXG4gKiBBbiBldmVudCBpbmRpY2F0aW5nIHRoYXQgdGhlIGNvbnRleHQgbWVudSBhY3Rpb24gaXMgdHJpZ2dlcmVkXG4gKiB2aWEgbW91c2Ugb3IgdG91Y2ggY29udHJvbHMuXG4gKlxuICogQGV2ZW50IGVsZW1lbnQuY29udGV4dG1lbnVcbiAqXG4gKiBAdHlwZSB7T2JqZWN0fVxuICogQHByb3BlcnR5IHtkanMubW9kZWwuQmFzZX0gZWxlbWVudFxuICogQHByb3BlcnR5IHtTVkdFbGVtZW50fSBnZnhcbiAqIEBwcm9wZXJ0eSB7RXZlbnR9IG9yaWdpbmFsRXZlbnRcbiAqLyIsImltcG9ydCBJbnRlcmFjdGlvbkV2ZW50cyBmcm9tICcuL0ludGVyYWN0aW9uRXZlbnRzJztcblxuZXhwb3J0IGRlZmF1bHQge1xuICBfX2luaXRfXzogWyAnaW50ZXJhY3Rpb25FdmVudHMnIF0sXG4gIGludGVyYWN0aW9uRXZlbnRzOiBbICd0eXBlJywgSW50ZXJhY3Rpb25FdmVudHMgXVxufTsiLCJpbXBvcnQgeyBnZXRCQm94IH0gZnJvbSAnLi4vLi4vdXRpbC9FbGVtZW50cyc7XG5cbnZhciBMT1dfUFJJT1JJVFkgPSA1MDA7XG5cbmltcG9ydCB7XG4gIGFwcGVuZCBhcyBzdmdBcHBlbmQsXG4gIGF0dHIgYXMgc3ZnQXR0cixcbiAgY3JlYXRlIGFzIHN2Z0NyZWF0ZVxufSBmcm9tICd0aW55LXN2Zyc7XG5cbmltcG9ydCB7XG4gIHF1ZXJ5IGFzIGRvbVF1ZXJ5XG59IGZyb20gJ21pbi1kb20nO1xuXG5pbXBvcnQge1xuICBhc3NpZ25cbn0gZnJvbSAnbWluLWRhc2gnO1xuXG5cbi8qKlxuICogQGNsYXNzXG4gKlxuICogQSBwbHVnaW4gdGhhdCBhZGRzIGFuIG91dGxpbmUgdG8gc2hhcGVzIGFuZCBjb25uZWN0aW9ucyB0aGF0IG1heSBiZSBhY3RpdmF0ZWQgYW5kIHN0eWxlZFxuICogdmlhIENTUyBjbGFzc2VzLlxuICpcbiAqIEBwYXJhbSB7RXZlbnRCdXN9IGV2ZW50QnVzXG4gKiBAcGFyYW0ge1N0eWxlc30gc3R5bGVzXG4gKiBAcGFyYW0ge0VsZW1lbnRSZWdpc3RyeX0gZWxlbWVudFJlZ2lzdHJ5XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIE91dGxpbmUoZXZlbnRCdXMsIHN0eWxlcywgZWxlbWVudFJlZ2lzdHJ5KSB7XG5cbiAgdGhpcy5vZmZzZXQgPSA2O1xuXG4gIHZhciBPVVRMSU5FX1NUWUxFID0gc3R5bGVzLmNscygnZGpzLW91dGxpbmUnLCBbICduby1maWxsJyBdKTtcblxuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgZnVuY3Rpb24gY3JlYXRlT3V0bGluZShnZngsIGJvdW5kcykge1xuICAgIHZhciBvdXRsaW5lID0gc3ZnQ3JlYXRlKCdyZWN0Jyk7XG5cbiAgICBzdmdBdHRyKG91dGxpbmUsIGFzc2lnbih7XG4gICAgICB4OiAxMCxcbiAgICAgIHk6IDEwLFxuICAgICAgd2lkdGg6IDEwMCxcbiAgICAgIGhlaWdodDogMTAwXG4gICAgfSwgT1VUTElORV9TVFlMRSkpO1xuXG4gICAgc3ZnQXBwZW5kKGdmeCwgb3V0bGluZSk7XG5cbiAgICByZXR1cm4gb3V0bGluZTtcbiAgfVxuXG4gIC8vIEEgbG93IHByaW9ydGl0eSBpcyBuZWNlc3NhcnksIGJlY2F1c2Ugb3V0bGluZXMgb2YgbGFiZWxzIGhhdmUgdG8gYmUgdXBkYXRlZFxuICAvLyBhZnRlciB0aGUgbGFiZWwgYm91bmRzIGhhdmUgYmVlbiB1cGRhdGVkIGluIHRoZSByZW5kZXJlci5cbiAgZXZlbnRCdXMub24oWyAnc2hhcGUuYWRkZWQnLCAnc2hhcGUuY2hhbmdlZCcgXSwgTE9XX1BSSU9SSVRZLCBmdW5jdGlvbihldmVudCkge1xuICAgIHZhciBlbGVtZW50ID0gZXZlbnQuZWxlbWVudCxcbiAgICAgICAgZ2Z4ID0gZXZlbnQuZ2Z4O1xuXG4gICAgdmFyIG91dGxpbmUgPSBkb21RdWVyeSgnLmRqcy1vdXRsaW5lJywgZ2Z4KTtcblxuICAgIGlmICghb3V0bGluZSkge1xuICAgICAgb3V0bGluZSA9IGNyZWF0ZU91dGxpbmUoZ2Z4LCBlbGVtZW50KTtcbiAgICB9XG5cbiAgICBzZWxmLnVwZGF0ZVNoYXBlT3V0bGluZShvdXRsaW5lLCBlbGVtZW50KTtcbiAgfSk7XG5cbiAgZXZlbnRCdXMub24oWyAnY29ubmVjdGlvbi5hZGRlZCcsICdjb25uZWN0aW9uLmNoYW5nZWQnIF0sIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIGVsZW1lbnQgPSBldmVudC5lbGVtZW50LFxuICAgICAgICBnZnggPSBldmVudC5nZng7XG5cbiAgICB2YXIgb3V0bGluZSA9IGRvbVF1ZXJ5KCcuZGpzLW91dGxpbmUnLCBnZngpO1xuXG4gICAgaWYgKCFvdXRsaW5lKSB7XG4gICAgICBvdXRsaW5lID0gY3JlYXRlT3V0bGluZShnZngsIGVsZW1lbnQpO1xuICAgIH1cblxuICAgIHNlbGYudXBkYXRlQ29ubmVjdGlvbk91dGxpbmUob3V0bGluZSwgZWxlbWVudCk7XG4gIH0pO1xufVxuXG5cbi8qKlxuICogVXBkYXRlcyB0aGUgb3V0bGluZSBvZiBhIHNoYXBlIHJlc3BlY3RpbmcgdGhlIGRpbWVuc2lvbiBvZiB0aGVcbiAqIGVsZW1lbnQgYW5kIGFuIG91dGxpbmUgb2Zmc2V0LlxuICpcbiAqIEBwYXJhbSAge1NWR0VsZW1lbnR9IG91dGxpbmVcbiAqIEBwYXJhbSAge2Rqcy5tb2RlbC5CYXNlfSBlbGVtZW50XG4gKi9cbk91dGxpbmUucHJvdG90eXBlLnVwZGF0ZVNoYXBlT3V0bGluZSA9IGZ1bmN0aW9uKG91dGxpbmUsIGVsZW1lbnQpIHtcblxuICBzdmdBdHRyKG91dGxpbmUsIHtcbiAgICB4OiAtdGhpcy5vZmZzZXQsXG4gICAgeTogLXRoaXMub2Zmc2V0LFxuICAgIHdpZHRoOiBlbGVtZW50LndpZHRoICsgdGhpcy5vZmZzZXQgKiAyLFxuICAgIGhlaWdodDogZWxlbWVudC5oZWlnaHQgKyB0aGlzLm9mZnNldCAqIDJcbiAgfSk7XG5cbn07XG5cblxuLyoqXG4gKiBVcGRhdGVzIHRoZSBvdXRsaW5lIG9mIGEgY29ubmVjdGlvbiByZXNwZWN0aW5nIHRoZSBib3VuZGluZyBib3ggb2ZcbiAqIHRoZSBjb25uZWN0aW9uIGFuZCBhbiBvdXRsaW5lIG9mZnNldC5cbiAqXG4gKiBAcGFyYW0gIHtTVkdFbGVtZW50fSBvdXRsaW5lXG4gKiBAcGFyYW0gIHtkanMubW9kZWwuQmFzZX0gZWxlbWVudFxuICovXG5PdXRsaW5lLnByb3RvdHlwZS51cGRhdGVDb25uZWN0aW9uT3V0bGluZSA9IGZ1bmN0aW9uKG91dGxpbmUsIGNvbm5lY3Rpb24pIHtcblxuICB2YXIgYmJveCA9IGdldEJCb3goY29ubmVjdGlvbik7XG5cbiAgc3ZnQXR0cihvdXRsaW5lLCB7XG4gICAgeDogYmJveC54IC0gdGhpcy5vZmZzZXQsXG4gICAgeTogYmJveC55IC0gdGhpcy5vZmZzZXQsXG4gICAgd2lkdGg6IGJib3gud2lkdGggKyB0aGlzLm9mZnNldCAqIDIsXG4gICAgaGVpZ2h0OiBiYm94LmhlaWdodCArIHRoaXMub2Zmc2V0ICogMlxuICB9KTtcblxufTtcblxuXG5PdXRsaW5lLiRpbmplY3QgPSBbJ2V2ZW50QnVzJywgJ3N0eWxlcycsICdlbGVtZW50UmVnaXN0cnknXTsiLCJpbXBvcnQgT3V0bGluZSBmcm9tICcuL091dGxpbmUnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9faW5pdF9fOiBbICdvdXRsaW5lJyBdLFxuICBvdXRsaW5lOiBbICd0eXBlJywgT3V0bGluZSBdXG59OyIsImltcG9ydCB7XG4gIGlzQXJyYXksXG4gIGZvckVhY2hcbn0gZnJvbSAnbWluLWRhc2gnO1xuXG5cbi8qKlxuICogQSBzZXJ2aWNlIHRoYXQgb2ZmZXJzIHRoZSBjdXJyZW50IHNlbGVjdGlvbiBpbiBhIGRpYWdyYW0uXG4gKiBPZmZlcnMgdGhlIGFwaSB0byBjb250cm9sIHRoZSBzZWxlY3Rpb24sIHRvby5cbiAqXG4gKiBAY2xhc3NcbiAqXG4gKiBAcGFyYW0ge0V2ZW50QnVzfSBldmVudEJ1cyB0aGUgZXZlbnQgYnVzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFNlbGVjdGlvbihldmVudEJ1cykge1xuXG4gIHRoaXMuX2V2ZW50QnVzID0gZXZlbnRCdXM7XG5cbiAgdGhpcy5fc2VsZWN0ZWRFbGVtZW50cyA9IFtdO1xuXG4gIHZhciBzZWxmID0gdGhpcztcblxuICBldmVudEJ1cy5vbihbICdzaGFwZS5yZW1vdmUnLCAnY29ubmVjdGlvbi5yZW1vdmUnIF0sIGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgZWxlbWVudCA9IGUuZWxlbWVudDtcbiAgICBzZWxmLmRlc2VsZWN0KGVsZW1lbnQpO1xuICB9KTtcblxuICBldmVudEJ1cy5vbihbICdkaWFncmFtLmNsZWFyJyBdLCBmdW5jdGlvbihlKSB7XG4gICAgc2VsZi5zZWxlY3QobnVsbCk7XG4gIH0pO1xufVxuXG5TZWxlY3Rpb24uJGluamVjdCA9IFsgJ2V2ZW50QnVzJyBdO1xuXG5cblNlbGVjdGlvbi5wcm90b3R5cGUuZGVzZWxlY3QgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gIHZhciBzZWxlY3RlZEVsZW1lbnRzID0gdGhpcy5fc2VsZWN0ZWRFbGVtZW50cztcblxuICB2YXIgaWR4ID0gc2VsZWN0ZWRFbGVtZW50cy5pbmRleE9mKGVsZW1lbnQpO1xuXG4gIGlmIChpZHggIT09IC0xKSB7XG4gICAgdmFyIG9sZFNlbGVjdGlvbiA9IHNlbGVjdGVkRWxlbWVudHMuc2xpY2UoKTtcblxuICAgIHNlbGVjdGVkRWxlbWVudHMuc3BsaWNlKGlkeCwgMSk7XG5cbiAgICB0aGlzLl9ldmVudEJ1cy5maXJlKCdzZWxlY3Rpb24uY2hhbmdlZCcsIHsgb2xkU2VsZWN0aW9uOiBvbGRTZWxlY3Rpb24sIG5ld1NlbGVjdGlvbjogc2VsZWN0ZWRFbGVtZW50cyB9KTtcbiAgfVxufTtcblxuXG5TZWxlY3Rpb24ucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5fc2VsZWN0ZWRFbGVtZW50cztcbn07XG5cblNlbGVjdGlvbi5wcm90b3R5cGUuaXNTZWxlY3RlZCA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgcmV0dXJuIHRoaXMuX3NlbGVjdGVkRWxlbWVudHMuaW5kZXhPZihlbGVtZW50KSAhPT0gLTE7XG59O1xuXG5cbi8qKlxuICogVGhpcyBtZXRob2Qgc2VsZWN0cyBvbmUgb3IgbW9yZSBlbGVtZW50cyBvbiB0aGUgZGlhZ3JhbS5cbiAqXG4gKiBCeSBwYXNzaW5nIGFuIGFkZGl0aW9uYWwgYWRkIHBhcmFtZXRlciB5b3UgY2FuIGRlY2lkZSB3aGV0aGVyIG9yIG5vdCB0aGUgZWxlbWVudChzKVxuICogc2hvdWxkIGJlIGFkZGVkIHRvIHRoZSBhbHJlYWR5IGV4aXN0aW5nIHNlbGVjdGlvbiBvciBub3QuXG4gKlxuICogQG1ldGhvZCBTZWxlY3Rpb24jc2VsZWN0XG4gKlxuICogQHBhcmFtICB7T2JqZWN0fE9iamVjdFtdfSBlbGVtZW50cyBlbGVtZW50IG9yIGFycmF5IG9mIGVsZW1lbnRzIHRvIGJlIHNlbGVjdGVkXG4gKiBAcGFyYW0gIHtib29sZWFufSBbYWRkXSB3aGV0aGVyIHRoZSBlbGVtZW50KHMpIHNob3VsZCBiZSBhcHBlbmRlZCB0byB0aGUgY3VycmVudCBzZWxlY3Rpb24sIGRlZmF1bHRzIHRvIGZhbHNlXG4gKi9cblNlbGVjdGlvbi5wcm90b3R5cGUuc2VsZWN0ID0gZnVuY3Rpb24oZWxlbWVudHMsIGFkZCkge1xuICB2YXIgc2VsZWN0ZWRFbGVtZW50cyA9IHRoaXMuX3NlbGVjdGVkRWxlbWVudHMsXG4gICAgICBvbGRTZWxlY3Rpb24gPSBzZWxlY3RlZEVsZW1lbnRzLnNsaWNlKCk7XG5cbiAgaWYgKCFpc0FycmF5KGVsZW1lbnRzKSkge1xuICAgIGVsZW1lbnRzID0gZWxlbWVudHMgPyBbIGVsZW1lbnRzIF0gOiBbXTtcbiAgfVxuXG4gIC8vIHNlbGVjdGlvbiBtYXkgYmUgY2xlYXJlZCBieSBwYXNzaW5nIGFuIGVtcHR5IGFycmF5IG9yIG51bGxcbiAgLy8gdG8gdGhlIG1ldGhvZFxuICBpZiAoYWRkKSB7XG4gICAgZm9yRWFjaChlbGVtZW50cywgZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgaWYgKHNlbGVjdGVkRWxlbWVudHMuaW5kZXhPZihlbGVtZW50KSAhPT0gLTEpIHtcblxuICAgICAgICAvLyBhbHJlYWR5IHNlbGVjdGVkXG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNlbGVjdGVkRWxlbWVudHMucHVzaChlbGVtZW50KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLl9zZWxlY3RlZEVsZW1lbnRzID0gc2VsZWN0ZWRFbGVtZW50cyA9IGVsZW1lbnRzLnNsaWNlKCk7XG4gIH1cblxuICB0aGlzLl9ldmVudEJ1cy5maXJlKCdzZWxlY3Rpb24uY2hhbmdlZCcsIHsgb2xkU2VsZWN0aW9uOiBvbGRTZWxlY3Rpb24sIG5ld1NlbGVjdGlvbjogc2VsZWN0ZWRFbGVtZW50cyB9KTtcbn07XG4iLCJpbXBvcnQge1xuICBmb3JFYWNoXG59IGZyb20gJ21pbi1kYXNoJztcblxudmFyIE1BUktFUl9IT1ZFUiA9ICdob3ZlcicsXG4gICAgTUFSS0VSX1NFTEVDVEVEID0gJ3NlbGVjdGVkJztcblxuXG4vKipcbiAqIEEgcGx1Z2luIHRoYXQgYWRkcyBhIHZpc2libGUgc2VsZWN0aW9uIFVJIHRvIHNoYXBlcyBhbmQgY29ubmVjdGlvbnNcbiAqIGJ5IGFwcGVuZGluZyB0aGUgPGNvZGU+aG92ZXI8L2NvZGU+IGFuZCA8Y29kZT5zZWxlY3RlZDwvY29kZT4gY2xhc3NlcyB0byB0aGVtLlxuICpcbiAqIEBjbGFzc1xuICpcbiAqIE1ha2VzIGVsZW1lbnRzIHNlbGVjdGFibGUsIHRvby5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50QnVzfSBldmVudHNcbiAqIEBwYXJhbSB7U2VsZWN0aW9uU2VydmljZX0gc2VsZWN0aW9uXG4gKiBAcGFyYW0ge0NhbnZhc30gY2FudmFzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFNlbGVjdGlvblZpc3VhbHMoZXZlbnRzLCBjYW52YXMsIHNlbGVjdGlvbiwgc3R5bGVzKSB7XG5cbiAgdGhpcy5fbXVsdGlTZWxlY3Rpb25Cb3ggPSBudWxsO1xuXG4gIGZ1bmN0aW9uIGFkZE1hcmtlcihlLCBjbHMpIHtcbiAgICBjYW52YXMuYWRkTWFya2VyKGUsIGNscyk7XG4gIH1cblxuICBmdW5jdGlvbiByZW1vdmVNYXJrZXIoZSwgY2xzKSB7XG4gICAgY2FudmFzLnJlbW92ZU1hcmtlcihlLCBjbHMpO1xuICB9XG5cbiAgZXZlbnRzLm9uKCdlbGVtZW50LmhvdmVyJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBhZGRNYXJrZXIoZXZlbnQuZWxlbWVudCwgTUFSS0VSX0hPVkVSKTtcbiAgfSk7XG5cbiAgZXZlbnRzLm9uKCdlbGVtZW50Lm91dCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgcmVtb3ZlTWFya2VyKGV2ZW50LmVsZW1lbnQsIE1BUktFUl9IT1ZFUik7XG4gIH0pO1xuXG4gIGV2ZW50cy5vbignc2VsZWN0aW9uLmNoYW5nZWQnLCBmdW5jdGlvbihldmVudCkge1xuXG4gICAgZnVuY3Rpb24gZGVzZWxlY3Qocykge1xuICAgICAgcmVtb3ZlTWFya2VyKHMsIE1BUktFUl9TRUxFQ1RFRCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2VsZWN0KHMpIHtcbiAgICAgIGFkZE1hcmtlcihzLCBNQVJLRVJfU0VMRUNURUQpO1xuICAgIH1cblxuICAgIHZhciBvbGRTZWxlY3Rpb24gPSBldmVudC5vbGRTZWxlY3Rpb24sXG4gICAgICAgIG5ld1NlbGVjdGlvbiA9IGV2ZW50Lm5ld1NlbGVjdGlvbjtcblxuICAgIGZvckVhY2gob2xkU2VsZWN0aW9uLCBmdW5jdGlvbihlKSB7XG4gICAgICBpZiAobmV3U2VsZWN0aW9uLmluZGV4T2YoZSkgPT09IC0xKSB7XG4gICAgICAgIGRlc2VsZWN0KGUpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgZm9yRWFjaChuZXdTZWxlY3Rpb24sIGZ1bmN0aW9uKGUpIHtcbiAgICAgIGlmIChvbGRTZWxlY3Rpb24uaW5kZXhPZihlKSA9PT0gLTEpIHtcbiAgICAgICAgc2VsZWN0KGUpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbn1cblxuU2VsZWN0aW9uVmlzdWFscy4kaW5qZWN0ID0gW1xuICAnZXZlbnRCdXMnLFxuICAnY2FudmFzJyxcbiAgJ3NlbGVjdGlvbicsXG4gICdzdHlsZXMnXG5dOyIsImltcG9ydCB7XG4gIGhhc1ByaW1hcnlNb2RpZmllcixcbiAgaGFzU2Vjb25kYXJ5TW9kaWZpZXIsXG4gIGlzUHJpbWFyeUJ1dHRvblxufSBmcm9tICcuLi8uLi91dGlsL01vdXNlJztcblxuaW1wb3J0IHtcbiAgZmluZCxcbiAgaXNBcnJheVxufSBmcm9tICdtaW4tZGFzaCc7XG5cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gU2VsZWN0aW9uQmVoYXZpb3IoZXZlbnRCdXMsIHNlbGVjdGlvbiwgY2FudmFzLCBlbGVtZW50UmVnaXN0cnkpIHtcblxuICAvLyBTZWxlY3QgZWxlbWVudHMgb24gY3JlYXRlXG4gIGV2ZW50QnVzLm9uKCdjcmVhdGUuZW5kJywgNTAwLCBmdW5jdGlvbihldmVudCkge1xuICAgIHZhciBjb250ZXh0ID0gZXZlbnQuY29udGV4dCxcbiAgICAgICAgY2FuRXhlY3V0ZSA9IGNvbnRleHQuY2FuRXhlY3V0ZSxcbiAgICAgICAgZWxlbWVudHMgPSBjb250ZXh0LmVsZW1lbnRzLFxuICAgICAgICBoaW50cyA9IGNvbnRleHQuaGludHMgfHwge30sXG4gICAgICAgIGF1dG9TZWxlY3QgPSBoaW50cy5hdXRvU2VsZWN0O1xuXG4gICAgaWYgKGNhbkV4ZWN1dGUpIHtcbiAgICAgIGlmIChhdXRvU2VsZWN0ID09PSBmYWxzZSkge1xuXG4gICAgICAgIC8vIFNlbGVjdCBubyBlbGVtZW50c1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChpc0FycmF5KGF1dG9TZWxlY3QpKSB7XG4gICAgICAgIHNlbGVjdGlvbi5zZWxlY3QoYXV0b1NlbGVjdCk7XG4gICAgICB9IGVsc2Uge1xuXG4gICAgICAgIC8vIFNlbGVjdCBhbGwgZWxlbWVudHMgYnkgZGVmYXVsdFxuICAgICAgICBzZWxlY3Rpb24uc2VsZWN0KGVsZW1lbnRzLmZpbHRlcihpc1Nob3duKSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICAvLyBTZWxlY3QgY29ubmVjdGlvbiB0YXJnZXRzIG9uIGNvbm5lY3RcbiAgZXZlbnRCdXMub24oJ2Nvbm5lY3QuZW5kJywgNTAwLCBmdW5jdGlvbihldmVudCkge1xuICAgIHZhciBjb250ZXh0ID0gZXZlbnQuY29udGV4dCxcbiAgICAgICAgY2FuRXhlY3V0ZSA9IGNvbnRleHQuY2FuRXhlY3V0ZSxcbiAgICAgICAgaG92ZXIgPSBjb250ZXh0LmhvdmVyO1xuXG4gICAgaWYgKGNhbkV4ZWN1dGUgJiYgaG92ZXIpIHtcbiAgICAgIHNlbGVjdGlvbi5zZWxlY3QoaG92ZXIpO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gU2VsZWN0IHNoYXBlcyBvbiBtb3ZlXG4gIGV2ZW50QnVzLm9uKCdzaGFwZS5tb3ZlLmVuZCcsIDUwMCwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgcHJldmlvdXNTZWxlY3Rpb24gPSBldmVudC5wcmV2aW91c1NlbGVjdGlvbiB8fCBbXTtcblxuICAgIHZhciBzaGFwZSA9IGVsZW1lbnRSZWdpc3RyeS5nZXQoZXZlbnQuY29udGV4dC5zaGFwZS5pZCk7XG5cbiAgICAvLyBBbHdheXMgc2VsZWN0IG1haW4gc2hhcGUgb24gbW92ZVxuICAgIHZhciBpc1NlbGVjdGVkID0gZmluZChwcmV2aW91c1NlbGVjdGlvbiwgZnVuY3Rpb24oc2VsZWN0ZWRTaGFwZSkge1xuICAgICAgcmV0dXJuIHNoYXBlLmlkID09PSBzZWxlY3RlZFNoYXBlLmlkO1xuICAgIH0pO1xuXG4gICAgaWYgKCFpc1NlbGVjdGVkKSB7XG4gICAgICBzZWxlY3Rpb24uc2VsZWN0KHNoYXBlKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIFNlbGVjdCBlbGVtZW50cyBvbiBjbGlja1xuICBldmVudEJ1cy5vbignZWxlbWVudC5jbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICBpZiAoIWlzUHJpbWFyeUJ1dHRvbihldmVudCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgZWxlbWVudCA9IGV2ZW50LmVsZW1lbnQ7XG5cbiAgICBpZiAoZWxlbWVudCA9PT0gY2FudmFzLmdldFJvb3RFbGVtZW50KCkpIHtcbiAgICAgIGVsZW1lbnQgPSBudWxsO1xuICAgIH1cblxuICAgIHZhciBpc1NlbGVjdGVkID0gc2VsZWN0aW9uLmlzU2VsZWN0ZWQoZWxlbWVudCksXG4gICAgICAgIGlzTXVsdGlTZWxlY3QgPSBzZWxlY3Rpb24uZ2V0KCkubGVuZ3RoID4gMTtcblxuICAgIC8vIEFkZCB0byBzZWxlY3Rpb24gaWYgQ1RSTCBvciBTSElGVCBwcmVzc2VkXG4gICAgdmFyIGFkZCA9IGhhc1ByaW1hcnlNb2RpZmllcihldmVudCkgfHwgaGFzU2Vjb25kYXJ5TW9kaWZpZXIoZXZlbnQpO1xuXG4gICAgaWYgKGlzU2VsZWN0ZWQgJiYgaXNNdWx0aVNlbGVjdCkge1xuICAgICAgaWYgKGFkZCkge1xuXG4gICAgICAgIC8vIERlc2VsZWN0IGVsZW1lbnRcbiAgICAgICAgcmV0dXJuIHNlbGVjdGlvbi5kZXNlbGVjdChlbGVtZW50KTtcbiAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgLy8gU2VsZWN0IGVsZW1lbnQgb25seVxuICAgICAgICByZXR1cm4gc2VsZWN0aW9uLnNlbGVjdChlbGVtZW50KTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCFpc1NlbGVjdGVkKSB7XG5cbiAgICAgIC8vIFNlbGVjdCBlbGVtZW50XG4gICAgICBzZWxlY3Rpb24uc2VsZWN0KGVsZW1lbnQsIGFkZCk7XG4gICAgfSBlbHNlIHtcblxuICAgICAgLy8gRGVzZWxlY3QgZWxlbWVudFxuICAgICAgc2VsZWN0aW9uLmRlc2VsZWN0KGVsZW1lbnQpO1xuICAgIH1cbiAgfSk7XG59XG5cblNlbGVjdGlvbkJlaGF2aW9yLiRpbmplY3QgPSBbXG4gICdldmVudEJ1cycsXG4gICdzZWxlY3Rpb24nLFxuICAnY2FudmFzJyxcbiAgJ2VsZW1lbnRSZWdpc3RyeSdcbl07XG5cblxuZnVuY3Rpb24gaXNTaG93bihlbGVtZW50KSB7XG4gIHJldHVybiAhZWxlbWVudC5oaWRkZW47XG59XG4iLCJpbXBvcnQgSW50ZXJhY3Rpb25FdmVudHNNb2R1bGUgZnJvbSAnLi4vaW50ZXJhY3Rpb24tZXZlbnRzJztcbmltcG9ydCBPdXRsaW5lTW9kdWxlIGZyb20gJy4uL291dGxpbmUnO1xuXG5pbXBvcnQgU2VsZWN0aW9uIGZyb20gJy4vU2VsZWN0aW9uJztcbmltcG9ydCBTZWxlY3Rpb25WaXN1YWxzIGZyb20gJy4vU2VsZWN0aW9uVmlzdWFscyc7XG5pbXBvcnQgU2VsZWN0aW9uQmVoYXZpb3IgZnJvbSAnLi9TZWxlY3Rpb25CZWhhdmlvcic7XG5cblxuZXhwb3J0IGRlZmF1bHQge1xuICBfX2luaXRfXzogWyAnc2VsZWN0aW9uVmlzdWFscycsICdzZWxlY3Rpb25CZWhhdmlvcicgXSxcbiAgX19kZXBlbmRzX186IFtcbiAgICBJbnRlcmFjdGlvbkV2ZW50c01vZHVsZSxcbiAgICBPdXRsaW5lTW9kdWxlXG4gIF0sXG4gIHNlbGVjdGlvbjogWyAndHlwZScsIFNlbGVjdGlvbiBdLFxuICBzZWxlY3Rpb25WaXN1YWxzOiBbICd0eXBlJywgU2VsZWN0aW9uVmlzdWFscyBdLFxuICBzZWxlY3Rpb25CZWhhdmlvcjogWyAndHlwZScsIFNlbGVjdGlvbkJlaGF2aW9yIF1cbn07XG4iLCIvKipcbiAqIFV0aWwgdGhhdCBwcm92aWRlcyB1bmlxdWUgSURzLlxuICpcbiAqIEBjbGFzcyBkanMudXRpbC5JZEdlbmVyYXRvclxuICogQGNvbnN0cnVjdG9yXG4gKiBAbWVtYmVyT2YgZGpzLnV0aWxcbiAqXG4gKiBUaGUgaWRzIGNhbiBiZSBjdXN0b21pemVkIHZpYSBhIGdpdmVuIHByZWZpeCBhbmQgY29udGFpbiBhIHJhbmRvbSB2YWx1ZSB0byBhdm9pZCBjb2xsaXNpb25zLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcmVmaXggYSBwcmVmaXggdG8gcHJlcGVuZCB0byBnZW5lcmF0ZWQgaWRzIChmb3IgYmV0dGVyIHJlYWRhYmlsaXR5KVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBJZEdlbmVyYXRvcihwcmVmaXgpIHtcblxuICB0aGlzLl9jb3VudGVyID0gMDtcbiAgdGhpcy5fcHJlZml4ID0gKHByZWZpeCA/IHByZWZpeCArICctJyA6ICcnKSArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDAwMDAwMDApICsgJy0nO1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBuZXh0IHVuaXF1ZSBJRC5cbiAqXG4gKiBAbWV0aG9kIGRqcy51dGlsLklkR2VuZXJhdG9yI25leHRcbiAqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSB0aGUgaWRcbiAqL1xuSWRHZW5lcmF0b3IucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuX3ByZWZpeCArICgrK3RoaXMuX2NvdW50ZXIpO1xufTtcbiIsImltcG9ydCB7XG4gIGlzQXJyYXksXG4gIGlzU3RyaW5nLFxuICBpc09iamVjdCxcbiAgYXNzaWduLFxuICBmb3JFYWNoLFxuICBmaW5kLFxuICBmaWx0ZXIsXG4gIG1hdGNoUGF0dGVybixcbiAgaXNEZWZpbmVkXG59IGZyb20gJ21pbi1kYXNoJztcblxuaW1wb3J0IHtcbiAgZG9taWZ5LFxuICBjbGFzc2VzIGFzIGRvbUNsYXNzZXMsXG4gIGF0dHIgYXMgZG9tQXR0cixcbiAgcmVtb3ZlIGFzIGRvbVJlbW92ZSxcbiAgY2xlYXIgYXMgZG9tQ2xlYXJcbn0gZnJvbSAnbWluLWRvbSc7XG5cbmltcG9ydCB7XG4gIGdldEJCb3hcbn0gZnJvbSAnLi4vLi4vdXRpbC9FbGVtZW50cyc7XG5cbmltcG9ydCBJZHMgZnJvbSAnLi4vLi4vdXRpbC9JZEdlbmVyYXRvcic7XG5cbi8vIGRvY3VtZW50IHdpZGUgdW5pcXVlIG92ZXJsYXkgaWRzXG52YXIgaWRzID0gbmV3IElkcygnb3YnKTtcblxudmFyIExPV19QUklPUklUWSA9IDUwMDtcblxuXG4vKipcbiAqIEEgc2VydmljZSB0aGF0IGFsbG93cyB1c2VycyB0byBhdHRhY2ggb3ZlcmxheXMgdG8gZGlhZ3JhbSBlbGVtZW50cy5cbiAqXG4gKiBUaGUgb3ZlcmxheSBzZXJ2aWNlIHdpbGwgdGFrZSBjYXJlIG9mIG92ZXJsYXkgcG9zaXRpb25pbmcgZHVyaW5nIHVwZGF0ZXMuXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiAvLyBhZGQgYSBwaW5rIGJhZGdlIG9uIHRoZSB0b3AgbGVmdCBvZiB0aGUgc2hhcGVcbiAqIG92ZXJsYXlzLmFkZChzb21lU2hhcGUsIHtcbiAqICAgcG9zaXRpb246IHtcbiAqICAgICB0b3A6IC01LFxuICogICAgIGxlZnQ6IC01XG4gKiAgIH0sXG4gKiAgIGh0bWw6ICc8ZGl2IHN0eWxlPVwid2lkdGg6IDEwcHg7IGJhY2tncm91bmQ6IGZ1Y2hzaWE7IGNvbG9yOiB3aGl0ZTtcIj4wPC9kaXY+J1xuICogfSk7XG4gKlxuICogLy8gb3IgYWRkIHZpYSBzaGFwZSBpZFxuICpcbiAqIG92ZXJsYXlzLmFkZCgnc29tZS1lbGVtZW50LWlkJywge1xuICogICBwb3NpdGlvbjoge1xuICogICAgIHRvcDogLTUsXG4gKiAgICAgbGVmdDogLTVcbiAqICAgfVxuICogICBodG1sOiAnPGRpdiBzdHlsZT1cIndpZHRoOiAxMHB4OyBiYWNrZ3JvdW5kOiBmdWNoc2lhOyBjb2xvcjogd2hpdGU7XCI+MDwvZGl2PidcbiAqIH0pO1xuICpcbiAqIC8vIG9yIGFkZCB3aXRoIG9wdGlvbmFsIHR5cGVcbiAqXG4gKiBvdmVybGF5cy5hZGQoc29tZVNoYXBlLCAnYmFkZ2UnLCB7XG4gKiAgIHBvc2l0aW9uOiB7XG4gKiAgICAgdG9wOiAtNSxcbiAqICAgICBsZWZ0OiAtNVxuICogICB9XG4gKiAgIGh0bWw6ICc8ZGl2IHN0eWxlPVwid2lkdGg6IDEwcHg7IGJhY2tncm91bmQ6IGZ1Y2hzaWE7IGNvbG9yOiB3aGl0ZTtcIj4wPC9kaXY+J1xuICogfSk7XG4gKlxuICpcbiAqIC8vIHJlbW92ZSBhbiBvdmVybGF5XG4gKlxuICogdmFyIGlkID0gb3ZlcmxheXMuYWRkKC4uLik7XG4gKiBvdmVybGF5cy5yZW1vdmUoaWQpO1xuICpcbiAqXG4gKiBZb3UgbWF5IGNvbmZpZ3VyZSBvdmVybGF5IGRlZmF1bHRzIGR1cmluZyB0b29sIGJ5IHByb3ZpZGluZyBhIGBjb25maWdgIG1vZHVsZVxuICogd2l0aCBgb3ZlcmxheXMuZGVmYXVsdHNgIGFzIGFuIGVudHJ5OlxuICpcbiAqIHtcbiAqICAgb3ZlcmxheXM6IHtcbiAqICAgICBkZWZhdWx0czoge1xuICogICAgICAgc2hvdzoge1xuICogICAgICAgICBtaW5ab29tOiAwLjcsXG4gKiAgICAgICAgIG1heFpvb206IDUuMFxuICogICAgICAgfSxcbiAqICAgICAgIHNjYWxlOiB7XG4gKiAgICAgICAgIG1pbjogMVxuICogICAgICAgfVxuICogICAgIH1cbiAqIH1cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnXG4gKiBAcGFyYW0ge0V2ZW50QnVzfSBldmVudEJ1c1xuICogQHBhcmFtIHtDYW52YXN9IGNhbnZhc1xuICogQHBhcmFtIHtFbGVtZW50UmVnaXN0cnl9IGVsZW1lbnRSZWdpc3RyeVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBPdmVybGF5cyhjb25maWcsIGV2ZW50QnVzLCBjYW52YXMsIGVsZW1lbnRSZWdpc3RyeSkge1xuXG4gIHRoaXMuX2V2ZW50QnVzID0gZXZlbnRCdXM7XG4gIHRoaXMuX2NhbnZhcyA9IGNhbnZhcztcbiAgdGhpcy5fZWxlbWVudFJlZ2lzdHJ5ID0gZWxlbWVudFJlZ2lzdHJ5O1xuXG4gIHRoaXMuX2lkcyA9IGlkcztcblxuICB0aGlzLl9vdmVybGF5RGVmYXVsdHMgPSBhc3NpZ24oe1xuXG4gICAgLy8gbm8gc2hvdyBjb25zdHJhaW50c1xuICAgIHNob3c6IG51bGwsXG5cbiAgICAvLyBhbHdheXMgc2NhbGVcbiAgICBzY2FsZTogdHJ1ZVxuICB9LCBjb25maWcgJiYgY29uZmlnLmRlZmF1bHRzKTtcblxuICAvKipcbiAgICogTWFwcGluZyBvdmVybGF5SWQgLT4gb3ZlcmxheVxuICAgKi9cbiAgdGhpcy5fb3ZlcmxheXMgPSB7fTtcblxuICAvKipcbiAgICogTWFwcGluZyBlbGVtZW50SWQgLT4gb3ZlcmxheSBjb250YWluZXJcbiAgICovXG4gIHRoaXMuX292ZXJsYXlDb250YWluZXJzID0gW107XG5cbiAgLy8gcm9vdCBodG1sIGVsZW1lbnQgZm9yIGFsbCBvdmVybGF5c1xuICB0aGlzLl9vdmVybGF5Um9vdCA9IGNyZWF0ZVJvb3QoY2FudmFzLmdldENvbnRhaW5lcigpKTtcblxuICB0aGlzLl9pbml0KCk7XG59XG5cblxuT3ZlcmxheXMuJGluamVjdCA9IFtcbiAgJ2NvbmZpZy5vdmVybGF5cycsXG4gICdldmVudEJ1cycsXG4gICdjYW52YXMnLFxuICAnZWxlbWVudFJlZ2lzdHJ5J1xuXTtcblxuXG4vKipcbiAqIFJldHVybnMgdGhlIG92ZXJsYXkgd2l0aCB0aGUgc3BlY2lmaWVkIGlkIG9yIGEgbGlzdCBvZiBvdmVybGF5c1xuICogZm9yIGFuIGVsZW1lbnQgd2l0aCBhIGdpdmVuIHR5cGUuXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiAvLyByZXR1cm4gdGhlIHNpbmdsZSBvdmVybGF5IHdpdGggdGhlIGdpdmVuIGlkXG4gKiBvdmVybGF5cy5nZXQoJ3NvbWUtaWQnKTtcbiAqXG4gKiAvLyByZXR1cm4gYWxsIG92ZXJsYXlzIGZvciB0aGUgc2hhcGVcbiAqIG92ZXJsYXlzLmdldCh7IGVsZW1lbnQ6IHNvbWVTaGFwZSB9KTtcbiAqXG4gKiAvLyByZXR1cm4gYWxsIG92ZXJsYXlzIG9uIHNoYXBlIHdpdGggdHlwZSAnYmFkZ2UnXG4gKiBvdmVybGF5cy5nZXQoeyBlbGVtZW50OiBzb21lU2hhcGUsIHR5cGU6ICdiYWRnZScgfSk7XG4gKlxuICogLy8gc2hhcGUgY2FuIGFsc28gYmUgc3BlY2lmaWVkIGFzIGlkXG4gKiBvdmVybGF5cy5nZXQoeyBlbGVtZW50OiAnZWxlbWVudC1pZCcsIHR5cGU6ICdiYWRnZScgfSk7XG4gKlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBzZWFyY2hcbiAqIEBwYXJhbSB7c3RyaW5nfSBbc2VhcmNoLmlkXVxuICogQHBhcmFtIHtzdHJpbmd8ZGpzLm1vZGVsLkJhc2V9IFtzZWFyY2guZWxlbWVudF1cbiAqIEBwYXJhbSB7c3RyaW5nfSBbc2VhcmNoLnR5cGVdXG4gKlxuICogQHJldHVybiB7T2JqZWN0fEFycmF5PE9iamVjdD59IHRoZSBvdmVybGF5KHMpXG4gKi9cbk92ZXJsYXlzLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbihzZWFyY2gpIHtcblxuICBpZiAoaXNTdHJpbmcoc2VhcmNoKSkge1xuICAgIHNlYXJjaCA9IHsgaWQ6IHNlYXJjaCB9O1xuICB9XG5cbiAgaWYgKGlzU3RyaW5nKHNlYXJjaC5lbGVtZW50KSkge1xuICAgIHNlYXJjaC5lbGVtZW50ID0gdGhpcy5fZWxlbWVudFJlZ2lzdHJ5LmdldChzZWFyY2guZWxlbWVudCk7XG4gIH1cblxuICBpZiAoc2VhcmNoLmVsZW1lbnQpIHtcbiAgICB2YXIgY29udGFpbmVyID0gdGhpcy5fZ2V0T3ZlcmxheUNvbnRhaW5lcihzZWFyY2guZWxlbWVudCwgdHJ1ZSk7XG5cbiAgICAvLyByZXR1cm4gYSBsaXN0IG9mIG92ZXJsYXlzIHdoZW4gc2VhcmNoaW5nIGJ5IGVsZW1lbnQgKCt0eXBlKVxuICAgIGlmIChjb250YWluZXIpIHtcbiAgICAgIHJldHVybiBzZWFyY2gudHlwZSA/IGZpbHRlcihjb250YWluZXIub3ZlcmxheXMsIG1hdGNoUGF0dGVybih7IHR5cGU6IHNlYXJjaC50eXBlIH0pKSA6IGNvbnRhaW5lci5vdmVybGF5cy5zbGljZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICB9IGVsc2VcbiAgaWYgKHNlYXJjaC50eXBlKSB7XG4gICAgcmV0dXJuIGZpbHRlcih0aGlzLl9vdmVybGF5cywgbWF0Y2hQYXR0ZXJuKHsgdHlwZTogc2VhcmNoLnR5cGUgfSkpO1xuICB9IGVsc2Uge1xuXG4gICAgLy8gcmV0dXJuIHNpbmdsZSBlbGVtZW50IHdoZW4gc2VhcmNoaW5nIGJ5IGlkXG4gICAgcmV0dXJuIHNlYXJjaC5pZCA/IHRoaXMuX292ZXJsYXlzW3NlYXJjaC5pZF0gOiBudWxsO1xuICB9XG59O1xuXG4vKipcbiAqIEFkZHMgYSBIVE1MIG92ZXJsYXkgdG8gYW4gZWxlbWVudC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ3xkanMubW9kZWwuQmFzZX0gICBlbGVtZW50ICAgYXR0YWNoIG92ZXJsYXkgdG8gdGhpcyBzaGFwZVxuICogQHBhcmFtIHtzdHJpbmd9ICAgICAgICAgICAgICAgICAgW3R5cGVdICAgIG9wdGlvbmFsIHR5cGUgdG8gYXNzaWduIHRvIHRoZSBvdmVybGF5XG4gKiBAcGFyYW0ge09iamVjdH0gICAgICAgICAgICAgICAgICBvdmVybGF5ICAgdGhlIG92ZXJsYXkgY29uZmlndXJhdGlvblxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfERPTUVsZW1lbnR9ICAgICAgIG92ZXJsYXkuaHRtbCAgICAgICAgICAgICAgICAgaHRtbCBlbGVtZW50IHRvIHVzZSBhcyBhbiBvdmVybGF5XG4gKiBAcGFyYW0ge09iamVjdH0gICAgICAgICAgICAgICAgICBbb3ZlcmxheS5zaG93XSAgICAgICAgICAgICAgIHNob3cgY29uZmlndXJhdGlvblxuICogQHBhcmFtIHtudW1iZXJ9ICAgICAgICAgICAgICAgICAgW292ZXJsYXkuc2hvdy5taW5ab29tXSAgICAgICBtaW5pbWFsIHpvb20gbGV2ZWwgdG8gc2hvdyB0aGUgb3ZlcmxheVxuICogQHBhcmFtIHtudW1iZXJ9ICAgICAgICAgICAgICAgICAgW292ZXJsYXkuc2hvdy5tYXhab29tXSAgICAgICBtYXhpbXVtIHpvb20gbGV2ZWwgdG8gc2hvdyB0aGUgb3ZlcmxheVxuICogQHBhcmFtIHtPYmplY3R9ICAgICAgICAgICAgICAgICAgb3ZlcmxheS5wb3NpdGlvbiAgICAgICAgICAgICB3aGVyZSB0byBhdHRhY2ggdGhlIG92ZXJsYXlcbiAqIEBwYXJhbSB7bnVtYmVyfSAgICAgICAgICAgICAgICAgIFtvdmVybGF5LnBvc2l0aW9uLmxlZnRdICAgICAgcmVsYXRpdmUgdG8gZWxlbWVudCBiYm94IGxlZnQgYXR0YWNobWVudFxuICogQHBhcmFtIHtudW1iZXJ9ICAgICAgICAgICAgICAgICAgW292ZXJsYXkucG9zaXRpb24udG9wXSAgICAgICByZWxhdGl2ZSB0byBlbGVtZW50IGJib3ggdG9wIGF0dGFjaG1lbnRcbiAqIEBwYXJhbSB7bnVtYmVyfSAgICAgICAgICAgICAgICAgIFtvdmVybGF5LnBvc2l0aW9uLmJvdHRvbV0gICAgcmVsYXRpdmUgdG8gZWxlbWVudCBiYm94IGJvdHRvbSBhdHRhY2htZW50XG4gKiBAcGFyYW0ge251bWJlcn0gICAgICAgICAgICAgICAgICBbb3ZlcmxheS5wb3NpdGlvbi5yaWdodF0gICAgIHJlbGF0aXZlIHRvIGVsZW1lbnQgYmJveCByaWdodCBhdHRhY2htZW50XG4gKiBAcGFyYW0ge2Jvb2xlYW58T2JqZWN0fSAgICAgICAgICBbb3ZlcmxheS5zY2FsZT10cnVlXSAgICAgICAgIGZhbHNlIHRvIHByZXNlcnZlIHRoZSBzYW1lIHNpemUgcmVnYXJkbGVzcyBvZlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWFncmFtIHpvb21cbiAqIEBwYXJhbSB7bnVtYmVyfSAgICAgICAgICAgICAgICAgIFtvdmVybGF5LnNjYWxlLm1pbl1cbiAqIEBwYXJhbSB7bnVtYmVyfSAgICAgICAgICAgICAgICAgIFtvdmVybGF5LnNjYWxlLm1heF1cbiAqXG4gKiBAcmV0dXJuIHtzdHJpbmd9ICAgICAgICAgICAgICAgICBpZCB0aGF0IG1heSBiZSB1c2VkIHRvIHJlZmVyZW5jZSB0aGUgb3ZlcmxheSBmb3IgdXBkYXRlIG9yIHJlbW92YWxcbiAqL1xuT3ZlcmxheXMucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uKGVsZW1lbnQsIHR5cGUsIG92ZXJsYXkpIHtcblxuICBpZiAoaXNPYmplY3QodHlwZSkpIHtcbiAgICBvdmVybGF5ID0gdHlwZTtcbiAgICB0eXBlID0gbnVsbDtcbiAgfVxuXG4gIGlmICghZWxlbWVudC5pZCkge1xuICAgIGVsZW1lbnQgPSB0aGlzLl9lbGVtZW50UmVnaXN0cnkuZ2V0KGVsZW1lbnQpO1xuICB9XG5cbiAgaWYgKCFvdmVybGF5LnBvc2l0aW9uKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdtdXN0IHNwZWNpZml5IG92ZXJsYXkgcG9zaXRpb24nKTtcbiAgfVxuXG4gIGlmICghb3ZlcmxheS5odG1sKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdtdXN0IHNwZWNpZml5IG92ZXJsYXkgaHRtbCcpO1xuICB9XG5cbiAgaWYgKCFlbGVtZW50KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIGVsZW1lbnQgc3BlY2lmaWVkJyk7XG4gIH1cblxuICB2YXIgaWQgPSB0aGlzLl9pZHMubmV4dCgpO1xuXG4gIG92ZXJsYXkgPSBhc3NpZ24oe30sIHRoaXMuX292ZXJsYXlEZWZhdWx0cywgb3ZlcmxheSwge1xuICAgIGlkOiBpZCxcbiAgICB0eXBlOiB0eXBlLFxuICAgIGVsZW1lbnQ6IGVsZW1lbnQsXG4gICAgaHRtbDogb3ZlcmxheS5odG1sXG4gIH0pO1xuXG4gIHRoaXMuX2FkZE92ZXJsYXkob3ZlcmxheSk7XG5cbiAgcmV0dXJuIGlkO1xufTtcblxuXG4vKipcbiAqIFJlbW92ZSBhbiBvdmVybGF5IHdpdGggdGhlIGdpdmVuIGlkIG9yIGFsbCBvdmVybGF5cyBtYXRjaGluZyB0aGUgZ2l2ZW4gZmlsdGVyLlxuICpcbiAqIEBzZWUgT3ZlcmxheXMjZ2V0IGZvciBmaWx0ZXIgb3B0aW9ucy5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gW2lkXVxuICogQHBhcmFtIHtPYmplY3R9IFtmaWx0ZXJdXG4gKi9cbk92ZXJsYXlzLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbihmaWx0ZXIpIHtcblxuICB2YXIgb3ZlcmxheXMgPSB0aGlzLmdldChmaWx0ZXIpIHx8IFtdO1xuXG4gIGlmICghaXNBcnJheShvdmVybGF5cykpIHtcbiAgICBvdmVybGF5cyA9IFsgb3ZlcmxheXMgXTtcbiAgfVxuXG4gIHZhciBzZWxmID0gdGhpcztcblxuICBmb3JFYWNoKG92ZXJsYXlzLCBmdW5jdGlvbihvdmVybGF5KSB7XG5cbiAgICB2YXIgY29udGFpbmVyID0gc2VsZi5fZ2V0T3ZlcmxheUNvbnRhaW5lcihvdmVybGF5LmVsZW1lbnQsIHRydWUpO1xuXG4gICAgaWYgKG92ZXJsYXkpIHtcbiAgICAgIGRvbVJlbW92ZShvdmVybGF5Lmh0bWwpO1xuICAgICAgZG9tUmVtb3ZlKG92ZXJsYXkuaHRtbENvbnRhaW5lcik7XG5cbiAgICAgIGRlbGV0ZSBvdmVybGF5Lmh0bWxDb250YWluZXI7XG4gICAgICBkZWxldGUgb3ZlcmxheS5lbGVtZW50O1xuXG4gICAgICBkZWxldGUgc2VsZi5fb3ZlcmxheXNbb3ZlcmxheS5pZF07XG4gICAgfVxuXG4gICAgaWYgKGNvbnRhaW5lcikge1xuICAgICAgdmFyIGlkeCA9IGNvbnRhaW5lci5vdmVybGF5cy5pbmRleE9mKG92ZXJsYXkpO1xuICAgICAgaWYgKGlkeCAhPT0gLTEpIHtcbiAgICAgICAgY29udGFpbmVyLm92ZXJsYXlzLnNwbGljZShpZHgsIDEpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbn07XG5cblxuT3ZlcmxheXMucHJvdG90eXBlLnNob3cgPSBmdW5jdGlvbigpIHtcbiAgc2V0VmlzaWJsZSh0aGlzLl9vdmVybGF5Um9vdCk7XG59O1xuXG5cbk92ZXJsYXlzLnByb3RvdHlwZS5oaWRlID0gZnVuY3Rpb24oKSB7XG4gIHNldFZpc2libGUodGhpcy5fb3ZlcmxheVJvb3QsIGZhbHNlKTtcbn07XG5cbk92ZXJsYXlzLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLl9vdmVybGF5cyA9IHt9O1xuXG4gIHRoaXMuX292ZXJsYXlDb250YWluZXJzID0gW107XG5cbiAgZG9tQ2xlYXIodGhpcy5fb3ZlcmxheVJvb3QpO1xufTtcblxuT3ZlcmxheXMucHJvdG90eXBlLl91cGRhdGVPdmVybGF5Q29udGFpbmVyID0gZnVuY3Rpb24oY29udGFpbmVyKSB7XG4gIHZhciBlbGVtZW50ID0gY29udGFpbmVyLmVsZW1lbnQsXG4gICAgICBodG1sID0gY29udGFpbmVyLmh0bWw7XG5cbiAgLy8gdXBkYXRlIGNvbnRhaW5lciBsZWZ0LHRvcCBhY2NvcmRpbmcgdG8gdGhlIGVsZW1lbnRzIHgseSBjb29yZGluYXRlc1xuICAvLyB0aGlzIGVuc3VyZXMgd2UgY2FuIGF0dGFjaCBjaGlsZCBlbGVtZW50cyByZWxhdGl2ZSB0byB0aGlzIGNvbnRhaW5lclxuXG4gIHZhciB4ID0gZWxlbWVudC54LFxuICAgICAgeSA9IGVsZW1lbnQueTtcblxuICBpZiAoZWxlbWVudC53YXlwb2ludHMpIHtcbiAgICB2YXIgYmJveCA9IGdldEJCb3goZWxlbWVudCk7XG4gICAgeCA9IGJib3gueDtcbiAgICB5ID0gYmJveC55O1xuICB9XG5cbiAgc2V0UG9zaXRpb24oaHRtbCwgeCwgeSk7XG5cbiAgZG9tQXR0cihjb250YWluZXIuaHRtbCwgJ2RhdGEtY29udGFpbmVyLWlkJywgZWxlbWVudC5pZCk7XG59O1xuXG5cbk92ZXJsYXlzLnByb3RvdHlwZS5fdXBkYXRlT3ZlcmxheSA9IGZ1bmN0aW9uKG92ZXJsYXkpIHtcblxuICB2YXIgcG9zaXRpb24gPSBvdmVybGF5LnBvc2l0aW9uLFxuICAgICAgaHRtbENvbnRhaW5lciA9IG92ZXJsYXkuaHRtbENvbnRhaW5lcixcbiAgICAgIGVsZW1lbnQgPSBvdmVybGF5LmVsZW1lbnQ7XG5cbiAgLy8gdXBkYXRlIG92ZXJsYXkgaHRtbCByZWxhdGl2ZSB0byBzaGFwZSBiZWNhdXNlXG4gIC8vIGl0IGlzIGFscmVhZHkgcG9zaXRpb25lZCBvbiB0aGUgZWxlbWVudFxuXG4gIC8vIHVwZGF0ZSByZWxhdGl2ZVxuICB2YXIgbGVmdCA9IHBvc2l0aW9uLmxlZnQsXG4gICAgICB0b3AgPSBwb3NpdGlvbi50b3A7XG5cbiAgaWYgKHBvc2l0aW9uLnJpZ2h0ICE9PSB1bmRlZmluZWQpIHtcblxuICAgIHZhciB3aWR0aDtcblxuICAgIGlmIChlbGVtZW50LndheXBvaW50cykge1xuICAgICAgd2lkdGggPSBnZXRCQm94KGVsZW1lbnQpLndpZHRoO1xuICAgIH0gZWxzZSB7XG4gICAgICB3aWR0aCA9IGVsZW1lbnQud2lkdGg7XG4gICAgfVxuXG4gICAgbGVmdCA9IHBvc2l0aW9uLnJpZ2h0ICogLTEgKyB3aWR0aDtcbiAgfVxuXG4gIGlmIChwb3NpdGlvbi5ib3R0b20gIT09IHVuZGVmaW5lZCkge1xuXG4gICAgdmFyIGhlaWdodDtcblxuICAgIGlmIChlbGVtZW50LndheXBvaW50cykge1xuICAgICAgaGVpZ2h0ID0gZ2V0QkJveChlbGVtZW50KS5oZWlnaHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGhlaWdodCA9IGVsZW1lbnQuaGVpZ2h0O1xuICAgIH1cblxuICAgIHRvcCA9IHBvc2l0aW9uLmJvdHRvbSAqIC0xICsgaGVpZ2h0O1xuICB9XG5cbiAgc2V0UG9zaXRpb24oaHRtbENvbnRhaW5lciwgbGVmdCB8fCAwLCB0b3AgfHwgMCk7XG59O1xuXG5cbk92ZXJsYXlzLnByb3RvdHlwZS5fY3JlYXRlT3ZlcmxheUNvbnRhaW5lciA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgdmFyIGh0bWwgPSBkb21pZnkoJzxkaXYgY2xhc3M9XCJkanMtb3ZlcmxheXNcIiBzdHlsZT1cInBvc2l0aW9uOiBhYnNvbHV0ZVwiIC8+Jyk7XG5cbiAgdGhpcy5fb3ZlcmxheVJvb3QuYXBwZW5kQ2hpbGQoaHRtbCk7XG5cbiAgdmFyIGNvbnRhaW5lciA9IHtcbiAgICBodG1sOiBodG1sLFxuICAgIGVsZW1lbnQ6IGVsZW1lbnQsXG4gICAgb3ZlcmxheXM6IFtdXG4gIH07XG5cbiAgdGhpcy5fdXBkYXRlT3ZlcmxheUNvbnRhaW5lcihjb250YWluZXIpO1xuXG4gIHRoaXMuX292ZXJsYXlDb250YWluZXJzLnB1c2goY29udGFpbmVyKTtcblxuICByZXR1cm4gY29udGFpbmVyO1xufTtcblxuXG5PdmVybGF5cy5wcm90b3R5cGUuX3VwZGF0ZVJvb3QgPSBmdW5jdGlvbih2aWV3Ym94KSB7XG4gIHZhciBzY2FsZSA9IHZpZXdib3guc2NhbGUgfHwgMTtcblxuICB2YXIgbWF0cml4ID0gJ21hdHJpeCgnICtcbiAgW1xuICAgIHNjYWxlLFxuICAgIDAsXG4gICAgMCxcbiAgICBzY2FsZSxcbiAgICAtMSAqIHZpZXdib3gueCAqIHNjYWxlLFxuICAgIC0xICogdmlld2JveC55ICogc2NhbGVcbiAgXS5qb2luKCcsJykgK1xuICAnKSc7XG5cbiAgc2V0VHJhbnNmb3JtKHRoaXMuX292ZXJsYXlSb290LCBtYXRyaXgpO1xufTtcblxuXG5PdmVybGF5cy5wcm90b3R5cGUuX2dldE92ZXJsYXlDb250YWluZXIgPSBmdW5jdGlvbihlbGVtZW50LCByYXcpIHtcbiAgdmFyIGNvbnRhaW5lciA9IGZpbmQodGhpcy5fb3ZlcmxheUNvbnRhaW5lcnMsIGZ1bmN0aW9uKGMpIHtcbiAgICByZXR1cm4gYy5lbGVtZW50ID09PSBlbGVtZW50O1xuICB9KTtcblxuXG4gIGlmICghY29udGFpbmVyICYmICFyYXcpIHtcbiAgICByZXR1cm4gdGhpcy5fY3JlYXRlT3ZlcmxheUNvbnRhaW5lcihlbGVtZW50KTtcbiAgfVxuXG4gIHJldHVybiBjb250YWluZXI7XG59O1xuXG5cbk92ZXJsYXlzLnByb3RvdHlwZS5fYWRkT3ZlcmxheSA9IGZ1bmN0aW9uKG92ZXJsYXkpIHtcblxuICB2YXIgaWQgPSBvdmVybGF5LmlkLFxuICAgICAgZWxlbWVudCA9IG92ZXJsYXkuZWxlbWVudCxcbiAgICAgIGh0bWwgPSBvdmVybGF5Lmh0bWwsXG4gICAgICBodG1sQ29udGFpbmVyLFxuICAgICAgb3ZlcmxheUNvbnRhaW5lcjtcblxuICAvLyB1bndyYXAganF1ZXJ5IChmb3IgdGhvc2Ugd2hvIG5lZWQgaXQpXG4gIGlmIChodG1sLmdldCAmJiBodG1sLmNvbnN0cnVjdG9yLnByb3RvdHlwZS5qcXVlcnkpIHtcbiAgICBodG1sID0gaHRtbC5nZXQoMCk7XG4gIH1cblxuICAvLyBjcmVhdGUgcHJvcGVyIGh0bWwgZWxlbWVudHMgZnJvbVxuICAvLyBvdmVybGF5IEhUTUwgc3RyaW5nc1xuICBpZiAoaXNTdHJpbmcoaHRtbCkpIHtcbiAgICBodG1sID0gZG9taWZ5KGh0bWwpO1xuICB9XG5cbiAgb3ZlcmxheUNvbnRhaW5lciA9IHRoaXMuX2dldE92ZXJsYXlDb250YWluZXIoZWxlbWVudCk7XG5cbiAgaHRtbENvbnRhaW5lciA9IGRvbWlmeSgnPGRpdiBjbGFzcz1cImRqcy1vdmVybGF5XCIgZGF0YS1vdmVybGF5LWlkPVwiJyArIGlkICsgJ1wiIHN0eWxlPVwicG9zaXRpb246IGFic29sdXRlXCI+Jyk7XG5cbiAgaHRtbENvbnRhaW5lci5hcHBlbmRDaGlsZChodG1sKTtcblxuICBpZiAob3ZlcmxheS50eXBlKSB7XG4gICAgZG9tQ2xhc3NlcyhodG1sQ29udGFpbmVyKS5hZGQoJ2Rqcy1vdmVybGF5LScgKyBvdmVybGF5LnR5cGUpO1xuICB9XG5cbiAgb3ZlcmxheS5odG1sQ29udGFpbmVyID0gaHRtbENvbnRhaW5lcjtcblxuICBvdmVybGF5Q29udGFpbmVyLm92ZXJsYXlzLnB1c2gob3ZlcmxheSk7XG4gIG92ZXJsYXlDb250YWluZXIuaHRtbC5hcHBlbmRDaGlsZChodG1sQ29udGFpbmVyKTtcblxuICB0aGlzLl9vdmVybGF5c1tpZF0gPSBvdmVybGF5O1xuXG4gIHRoaXMuX3VwZGF0ZU92ZXJsYXkob3ZlcmxheSk7XG4gIHRoaXMuX3VwZGF0ZU92ZXJsYXlWaXNpYmlsdHkob3ZlcmxheSwgdGhpcy5fY2FudmFzLnZpZXdib3goKSk7XG59O1xuXG5cbk92ZXJsYXlzLnByb3RvdHlwZS5fdXBkYXRlT3ZlcmxheVZpc2liaWx0eSA9IGZ1bmN0aW9uKG92ZXJsYXksIHZpZXdib3gpIHtcbiAgdmFyIHNob3cgPSBvdmVybGF5LnNob3csXG4gICAgICBtaW5ab29tID0gc2hvdyAmJiBzaG93Lm1pblpvb20sXG4gICAgICBtYXhab29tID0gc2hvdyAmJiBzaG93Lm1heFpvb20sXG4gICAgICBodG1sQ29udGFpbmVyID0gb3ZlcmxheS5odG1sQ29udGFpbmVyLFxuICAgICAgdmlzaWJsZSA9IHRydWU7XG5cbiAgaWYgKHNob3cpIHtcbiAgICBpZiAoXG4gICAgICAoaXNEZWZpbmVkKG1pblpvb20pICYmIG1pblpvb20gPiB2aWV3Ym94LnNjYWxlKSB8fFxuICAgICAgKGlzRGVmaW5lZChtYXhab29tKSAmJiBtYXhab29tIDwgdmlld2JveC5zY2FsZSlcbiAgICApIHtcbiAgICAgIHZpc2libGUgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBzZXRWaXNpYmxlKGh0bWxDb250YWluZXIsIHZpc2libGUpO1xuICB9XG5cbiAgdGhpcy5fdXBkYXRlT3ZlcmxheVNjYWxlKG92ZXJsYXksIHZpZXdib3gpO1xufTtcblxuXG5PdmVybGF5cy5wcm90b3R5cGUuX3VwZGF0ZU92ZXJsYXlTY2FsZSA9IGZ1bmN0aW9uKG92ZXJsYXksIHZpZXdib3gpIHtcbiAgdmFyIHNob3VsZFNjYWxlID0gb3ZlcmxheS5zY2FsZSxcbiAgICAgIG1pblNjYWxlLFxuICAgICAgbWF4U2NhbGUsXG4gICAgICBodG1sQ29udGFpbmVyID0gb3ZlcmxheS5odG1sQ29udGFpbmVyO1xuXG4gIHZhciBzY2FsZSwgdHJhbnNmb3JtID0gJyc7XG5cbiAgaWYgKHNob3VsZFNjYWxlICE9PSB0cnVlKSB7XG5cbiAgICBpZiAoc2hvdWxkU2NhbGUgPT09IGZhbHNlKSB7XG4gICAgICBtaW5TY2FsZSA9IDE7XG4gICAgICBtYXhTY2FsZSA9IDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1pblNjYWxlID0gc2hvdWxkU2NhbGUubWluO1xuICAgICAgbWF4U2NhbGUgPSBzaG91bGRTY2FsZS5tYXg7XG4gICAgfVxuXG4gICAgaWYgKGlzRGVmaW5lZChtaW5TY2FsZSkgJiYgdmlld2JveC5zY2FsZSA8IG1pblNjYWxlKSB7XG4gICAgICBzY2FsZSA9ICgxIC8gdmlld2JveC5zY2FsZSB8fCAxKSAqIG1pblNjYWxlO1xuICAgIH1cblxuICAgIGlmIChpc0RlZmluZWQobWF4U2NhbGUpICYmIHZpZXdib3guc2NhbGUgPiBtYXhTY2FsZSkge1xuICAgICAgc2NhbGUgPSAoMSAvIHZpZXdib3guc2NhbGUgfHwgMSkgKiBtYXhTY2FsZTtcbiAgICB9XG4gIH1cblxuICBpZiAoaXNEZWZpbmVkKHNjYWxlKSkge1xuICAgIHRyYW5zZm9ybSA9ICdzY2FsZSgnICsgc2NhbGUgKyAnLCcgKyBzY2FsZSArICcpJztcbiAgfVxuXG4gIHNldFRyYW5zZm9ybShodG1sQ29udGFpbmVyLCB0cmFuc2Zvcm0pO1xufTtcblxuXG5PdmVybGF5cy5wcm90b3R5cGUuX3VwZGF0ZU92ZXJsYXlzVmlzaWJpbHR5ID0gZnVuY3Rpb24odmlld2JveCkge1xuXG4gIHZhciBzZWxmID0gdGhpcztcblxuICBmb3JFYWNoKHRoaXMuX292ZXJsYXlzLCBmdW5jdGlvbihvdmVybGF5KSB7XG4gICAgc2VsZi5fdXBkYXRlT3ZlcmxheVZpc2liaWx0eShvdmVybGF5LCB2aWV3Ym94KTtcbiAgfSk7XG59O1xuXG5cbk92ZXJsYXlzLnByb3RvdHlwZS5faW5pdCA9IGZ1bmN0aW9uKCkge1xuXG4gIHZhciBldmVudEJ1cyA9IHRoaXMuX2V2ZW50QnVzO1xuXG4gIHZhciBzZWxmID0gdGhpcztcblxuXG4gIC8vIHNjcm9sbC96b29tIGludGVncmF0aW9uXG5cbiAgZnVuY3Rpb24gdXBkYXRlVmlld2JveCh2aWV3Ym94KSB7XG4gICAgc2VsZi5fdXBkYXRlUm9vdCh2aWV3Ym94KTtcbiAgICBzZWxmLl91cGRhdGVPdmVybGF5c1Zpc2liaWx0eSh2aWV3Ym94KTtcblxuICAgIHNlbGYuc2hvdygpO1xuICB9XG5cbiAgZXZlbnRCdXMub24oJ2NhbnZhcy52aWV3Ym94LmNoYW5naW5nJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBzZWxmLmhpZGUoKTtcbiAgfSk7XG5cbiAgZXZlbnRCdXMub24oJ2NhbnZhcy52aWV3Ym94LmNoYW5nZWQnLCBmdW5jdGlvbihldmVudCkge1xuICAgIHVwZGF0ZVZpZXdib3goZXZlbnQudmlld2JveCk7XG4gIH0pO1xuXG5cbiAgLy8gcmVtb3ZlIGludGVncmF0aW9uXG5cbiAgZXZlbnRCdXMub24oWyAnc2hhcGUucmVtb3ZlJywgJ2Nvbm5lY3Rpb24ucmVtb3ZlJyBdLCBmdW5jdGlvbihlKSB7XG4gICAgdmFyIGVsZW1lbnQgPSBlLmVsZW1lbnQ7XG4gICAgdmFyIG92ZXJsYXlzID0gc2VsZi5nZXQoeyBlbGVtZW50OiBlbGVtZW50IH0pO1xuXG4gICAgZm9yRWFjaChvdmVybGF5cywgZnVuY3Rpb24obykge1xuICAgICAgc2VsZi5yZW1vdmUoby5pZCk7XG4gICAgfSk7XG5cbiAgICB2YXIgY29udGFpbmVyID0gc2VsZi5fZ2V0T3ZlcmxheUNvbnRhaW5lcihlbGVtZW50KTtcblxuICAgIGlmIChjb250YWluZXIpIHtcbiAgICAgIGRvbVJlbW92ZShjb250YWluZXIuaHRtbCk7XG4gICAgICB2YXIgaSA9IHNlbGYuX292ZXJsYXlDb250YWluZXJzLmluZGV4T2YoY29udGFpbmVyKTtcbiAgICAgIGlmIChpICE9PSAtMSkge1xuICAgICAgICBzZWxmLl9vdmVybGF5Q29udGFpbmVycy5zcGxpY2UoaSwgMSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuXG4gIC8vIG1vdmUgaW50ZWdyYXRpb25cblxuICBldmVudEJ1cy5vbignZWxlbWVudC5jaGFuZ2VkJywgTE9XX1BSSU9SSVRZLCBmdW5jdGlvbihlKSB7XG4gICAgdmFyIGVsZW1lbnQgPSBlLmVsZW1lbnQ7XG5cbiAgICB2YXIgY29udGFpbmVyID0gc2VsZi5fZ2V0T3ZlcmxheUNvbnRhaW5lcihlbGVtZW50LCB0cnVlKTtcblxuICAgIGlmIChjb250YWluZXIpIHtcbiAgICAgIGZvckVhY2goY29udGFpbmVyLm92ZXJsYXlzLCBmdW5jdGlvbihvdmVybGF5KSB7XG4gICAgICAgIHNlbGYuX3VwZGF0ZU92ZXJsYXkob3ZlcmxheSk7XG4gICAgICB9KTtcblxuICAgICAgc2VsZi5fdXBkYXRlT3ZlcmxheUNvbnRhaW5lcihjb250YWluZXIpO1xuICAgIH1cbiAgfSk7XG5cblxuICAvLyBtYXJrZXIgaW50ZWdyYXRpb24sIHNpbXBseSBhZGQgdGhlbSBvbiB0aGUgb3ZlcmxheXMgYXMgY2xhc3NlcywgdG9vLlxuXG4gIGV2ZW50QnVzLm9uKCdlbGVtZW50Lm1hcmtlci51cGRhdGUnLCBmdW5jdGlvbihlKSB7XG4gICAgdmFyIGNvbnRhaW5lciA9IHNlbGYuX2dldE92ZXJsYXlDb250YWluZXIoZS5lbGVtZW50LCB0cnVlKTtcbiAgICBpZiAoY29udGFpbmVyKSB7XG4gICAgICBkb21DbGFzc2VzKGNvbnRhaW5lci5odG1sKVtlLmFkZCA/ICdhZGQnIDogJ3JlbW92ZSddKGUubWFya2VyKTtcbiAgICB9XG4gIH0pO1xuXG5cbiAgLy8gY2xlYXIgb3ZlcmxheXMgd2l0aCBkaWFncmFtXG5cbiAgZXZlbnRCdXMub24oJ2RpYWdyYW0uY2xlYXInLCB0aGlzLmNsZWFyLCB0aGlzKTtcbn07XG5cblxuXG4vLyBoZWxwZXJzIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbmZ1bmN0aW9uIGNyZWF0ZVJvb3QocGFyZW50Tm9kZSkge1xuICB2YXIgcm9vdCA9IGRvbWlmeShcbiAgICAnPGRpdiBjbGFzcz1cImRqcy1vdmVybGF5LWNvbnRhaW5lclwiIHN0eWxlPVwicG9zaXRpb246IGFic29sdXRlOyB3aWR0aDogMDsgaGVpZ2h0OiAwO1wiIC8+J1xuICApO1xuXG4gIHBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHJvb3QsIHBhcmVudE5vZGUuZmlyc3RDaGlsZCk7XG5cbiAgcmV0dXJuIHJvb3Q7XG59XG5cbmZ1bmN0aW9uIHNldFBvc2l0aW9uKGVsLCB4LCB5KSB7XG4gIGFzc2lnbihlbC5zdHlsZSwgeyBsZWZ0OiB4ICsgJ3B4JywgdG9wOiB5ICsgJ3B4JyB9KTtcbn1cblxuZnVuY3Rpb24gc2V0VmlzaWJsZShlbCwgdmlzaWJsZSkge1xuICBlbC5zdHlsZS5kaXNwbGF5ID0gdmlzaWJsZSA9PT0gZmFsc2UgPyAnbm9uZScgOiAnJztcbn1cblxuZnVuY3Rpb24gc2V0VHJhbnNmb3JtKGVsLCB0cmFuc2Zvcm0pIHtcblxuICBlbC5zdHlsZVsndHJhbnNmb3JtLW9yaWdpbiddID0gJ3RvcCBsZWZ0JztcblxuICBbICcnLCAnLW1zLScsICctd2Via2l0LScgXS5mb3JFYWNoKGZ1bmN0aW9uKHByZWZpeCkge1xuICAgIGVsLnN0eWxlW3ByZWZpeCArICd0cmFuc2Zvcm0nXSA9IHRyYW5zZm9ybTtcbiAgfSk7XG59IiwiaW1wb3J0IE92ZXJsYXlzIGZyb20gJy4vT3ZlcmxheXMnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9faW5pdF9fOiBbICdvdmVybGF5cycgXSxcbiAgb3ZlcmxheXM6IFsgJ3R5cGUnLCBPdmVybGF5cyBdXG59OyIsImltcG9ydCBpbmhlcml0cyBmcm9tICdpbmhlcml0cyc7XG5cbmltcG9ydCBDb3JlTW9kdWxlIGZyb20gJy4vY29yZSc7XG5pbXBvcnQgVHJhbnNsYXRlTW9kdWxlIGZyb20gJ2RpYWdyYW0tanMvbGliL2kxOG4vdHJhbnNsYXRlJztcbmltcG9ydCBTZWxlY3Rpb25Nb2R1bGUgZnJvbSAnZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvc2VsZWN0aW9uJztcbmltcG9ydCBPdmVybGF5c01vZHVsZSBmcm9tICdkaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9vdmVybGF5cyc7XG5cbmltcG9ydCBCYXNlVmlld2VyIGZyb20gJy4vQmFzZVZpZXdlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFZpZXdlcihvcHRpb25zKSB7XG4gIEJhc2VWaWV3ZXIuY2FsbCh0aGlzLCBvcHRpb25zKTtcbn1cblxuaW5oZXJpdHMoVmlld2VyLCBCYXNlVmlld2VyKTtcblxuLy8gbW9kdWxlcyB0aGUgdmlld2VyIGlzIGNvbXBvc2VkIG9mXG5WaWV3ZXIucHJvdG90eXBlLl9tb2R1bGVzID0gW1xuICBDb3JlTW9kdWxlLFxuICBUcmFuc2xhdGVNb2R1bGUsXG4gIFNlbGVjdGlvbk1vZHVsZSxcbiAgT3ZlcmxheXNNb2R1bGVcbl07XG5cbi8vIGRlZmF1bHQgbW9kZGxlIGV4dGVuc2lvbnMgdGhlIHZpZXdlciBpcyBjb21wb3NlZCBvZlxuVmlld2VyLnByb3RvdHlwZS5fbW9kZGxlRXh0ZW5zaW9ucyA9IHt9OyIsImltcG9ydCB7IGlzQXJyYXkgfSBmcm9tICdtaW4tZGFzaCc7XHJcblxyXG4vKipcclxuICogUmV0dXJucyB0cnVlIGlmIGV2ZW50IHdhcyB0cmlnZ2VyZWQgd2l0aCBhbnkgbW9kaWZpZXJcclxuICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBldmVudFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGhhc01vZGlmaWVyKGV2ZW50KSB7XHJcbiAgcmV0dXJuIChldmVudC5jdHJsS2V5IHx8IGV2ZW50Lm1ldGFLZXkgfHwgZXZlbnQuc2hpZnRLZXkgfHwgZXZlbnQuYWx0S2V5KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZXZlbnRcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0NtZChldmVudCkge1xyXG5cclxuICAvLyBlbnN1cmUgd2UgZG9uJ3QgcmVhY3QgdG8gQWx0R3JcclxuICAvLyAobWFwcGVkIHRvIENUUkwgKyBBTFQpXHJcbiAgaWYgKGV2ZW50LmFsdEtleSkge1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQubWV0YUtleTtcclxufVxyXG5cclxuLyoqXHJcbiAqIENoZWNrcyBpZiBrZXkgcHJlc3NlZCBpcyBvbmUgb2YgcHJvdmlkZWQga2V5cy5cclxuICpcclxuICogQHBhcmFtIHtzdHJpbmd8QXJyYXk8c3RyaW5nPn0ga2V5c1xyXG4gKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGV2ZW50XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXNLZXkoa2V5cywgZXZlbnQpIHtcclxuICBrZXlzID0gaXNBcnJheShrZXlzKSA/IGtleXMgOiBbIGtleXMgXTtcclxuXHJcbiAgcmV0dXJuIGtleXMuaW5kZXhPZihldmVudC5rZXkpICE9PSAtMSB8fCBrZXlzLmluZGV4T2YoZXZlbnQua2V5Q29kZSkgIT09IC0xO1xyXG59XHJcblxyXG4vKipcclxuICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBldmVudFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzU2hpZnQoZXZlbnQpIHtcclxuICByZXR1cm4gZXZlbnQuc2hpZnRLZXk7XHJcbn0iLCJpbXBvcnQge1xuICBpc0Z1bmN0aW9uXG59IGZyb20gJ21pbi1kYXNoJztcblxuaW1wb3J0IHtcbiAgZXZlbnQgYXMgZG9tRXZlbnQsXG4gIG1hdGNoZXMgYXMgZG9tTWF0Y2hlc1xufSBmcm9tICdtaW4tZG9tJztcblxuaW1wb3J0IHtcbiAgaGFzTW9kaWZpZXIsXG4gIGlzQ21kLFxuICBpc0tleSxcbiAgaXNTaGlmdFxufSBmcm9tICcuL0tleWJvYXJkVXRpbCc7XG5cbnZhciBLRVlET1dOX0VWRU5UID0gJ2tleWJvYXJkLmtleWRvd24nLFxuICAgIEtFWVVQX0VWRU5UID0gJ2tleWJvYXJkLmtleXVwJztcblxudmFyIERFRkFVTFRfUFJJT1JJVFkgPSAxMDAwO1xuXG5cbi8qKlxuICogQSBrZXlib2FyZCBhYnN0cmFjdGlvbiB0aGF0IG1heSBiZSBhY3RpdmF0ZWQgYW5kXG4gKiBkZWFjdGl2YXRlZCBieSB1c2VycyBhdCB3aWxsLCBjb25zdW1pbmcga2V5IGV2ZW50c1xuICogYW5kIHRyaWdnZXJpbmcgZGlhZ3JhbSBhY3Rpb25zLlxuICpcbiAqIEZvciBrZXlzIHByZXNzZWQgZG93biwga2V5Ym9hcmQgZmlyZXMgYGtleWJvYXJkLmtleWRvd25gIGV2ZW50LlxuICogVGhlIGV2ZW50IGNvbnRleHQgY29udGFpbnMgb25lIGZpZWxkIHdoaWNoIGlzIGBLZXlib2FyZEV2ZW50YCBldmVudC5cbiAqXG4gKiBUaGUgaW1wbGVtZW50YXRpb24gZmlyZXMgdGhlIGZvbGxvd2luZyBrZXkgZXZlbnRzIHRoYXQgYWxsb3dcbiAqIG90aGVyIGNvbXBvbmVudHMgdG8gaG9vayBpbnRvIGtleSBoYW5kbGluZzpcbiAqXG4gKiAgLSBrZXlib2FyZC5iaW5kXG4gKiAgLSBrZXlib2FyZC51bmJpbmRcbiAqICAtIGtleWJvYXJkLmluaXRcbiAqICAtIGtleWJvYXJkLmRlc3Ryb3lcbiAqXG4gKiBBbGwgZXZlbnRzIGNvbnRhaW4gb25lIGZpZWxkIHdoaWNoIGlzIG5vZGUuXG4gKlxuICogQSBkZWZhdWx0IGJpbmRpbmcgZm9yIHRoZSBrZXlib2FyZCBtYXkgYmUgc3BlY2lmaWVkIHZpYSB0aGVcbiAqIGBrZXlib2FyZC5iaW5kVG9gIGNvbmZpZ3VyYXRpb24gb3B0aW9uLlxuICpcbiAqIEBwYXJhbSB7Q29uZmlnfSBjb25maWdcbiAqIEBwYXJhbSB7RXZlbnRCdXN9IGV2ZW50QnVzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEtleWJvYXJkKGNvbmZpZywgZXZlbnRCdXMpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIHRoaXMuX2NvbmZpZyA9IGNvbmZpZyB8fCB7fTtcbiAgdGhpcy5fZXZlbnRCdXMgPSBldmVudEJ1cztcblxuICB0aGlzLl9rZXlkb3duSGFuZGxlciA9IHRoaXMuX2tleWRvd25IYW5kbGVyLmJpbmQodGhpcyk7XG4gIHRoaXMuX2tleXVwSGFuZGxlciA9IHRoaXMuX2tleXVwSGFuZGxlci5iaW5kKHRoaXMpO1xuXG4gIC8vIHByb3Blcmx5IGNsZWFuIGRvbSByZWdpc3RyYXRpb25zXG4gIGV2ZW50QnVzLm9uKCdkaWFncmFtLmRlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICBzZWxmLl9maXJlKCdkZXN0cm95Jyk7XG5cbiAgICBzZWxmLnVuYmluZCgpO1xuICB9KTtcblxuICBldmVudEJ1cy5vbignZGlhZ3JhbS5pbml0JywgZnVuY3Rpb24oKSB7XG4gICAgc2VsZi5fZmlyZSgnaW5pdCcpO1xuICB9KTtcblxuICBldmVudEJ1cy5vbignYXR0YWNoJywgZnVuY3Rpb24oKSB7XG4gICAgaWYgKGNvbmZpZyAmJiBjb25maWcuYmluZFRvKSB7XG4gICAgICBzZWxmLmJpbmQoY29uZmlnLmJpbmRUbyk7XG4gICAgfVxuICB9KTtcblxuICBldmVudEJ1cy5vbignZGV0YWNoJywgZnVuY3Rpb24oKSB7XG4gICAgc2VsZi51bmJpbmQoKTtcbiAgfSk7XG59XG5cbktleWJvYXJkLiRpbmplY3QgPSBbXG4gICdjb25maWcua2V5Ym9hcmQnLFxuICAnZXZlbnRCdXMnXG5dO1xuXG5LZXlib2FyZC5wcm90b3R5cGUuX2tleWRvd25IYW5kbGVyID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgdGhpcy5fa2V5SGFuZGxlcihldmVudCwgS0VZRE9XTl9FVkVOVCk7XG59O1xuXG5LZXlib2FyZC5wcm90b3R5cGUuX2tleXVwSGFuZGxlciA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gIHRoaXMuX2tleUhhbmRsZXIoZXZlbnQsIEtFWVVQX0VWRU5UKTtcbn07XG5cbktleWJvYXJkLnByb3RvdHlwZS5fa2V5SGFuZGxlciA9IGZ1bmN0aW9uKGV2ZW50LCB0eXBlKSB7XG4gIHZhciB0YXJnZXQgPSBldmVudC50YXJnZXQsXG4gICAgICBldmVudEJ1c1Jlc3VsdDtcblxuICBpZiAoaXNJbnB1dCh0YXJnZXQpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIGNvbnRleHQgPSB7XG4gICAga2V5RXZlbnQ6IGV2ZW50XG4gIH07XG5cbiAgZXZlbnRCdXNSZXN1bHQgPSB0aGlzLl9ldmVudEJ1cy5maXJlKHR5cGUgfHwgS0VZRE9XTl9FVkVOVCwgY29udGV4dCk7XG5cbiAgaWYgKGV2ZW50QnVzUmVzdWx0KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgfVxufTtcblxuS2V5Ym9hcmQucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbihub2RlKSB7XG5cbiAgLy8gbWFrZSBzdXJlIHRoYXQgdGhlIGtleWJvYXJkIGlzIG9ubHkgYm91bmQgb25jZSB0byB0aGUgRE9NXG4gIHRoaXMudW5iaW5kKCk7XG5cbiAgdGhpcy5fbm9kZSA9IG5vZGU7XG5cbiAgLy8gYmluZCBrZXkgZXZlbnRzXG4gIGRvbUV2ZW50LmJpbmQobm9kZSwgJ2tleWRvd24nLCB0aGlzLl9rZXlkb3duSGFuZGxlciwgdHJ1ZSk7XG4gIGRvbUV2ZW50LmJpbmQobm9kZSwgJ2tleXVwJywgdGhpcy5fa2V5dXBIYW5kbGVyLCB0cnVlKTtcblxuICB0aGlzLl9maXJlKCdiaW5kJyk7XG59O1xuXG5LZXlib2FyZC5wcm90b3R5cGUuZ2V0QmluZGluZyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5fbm9kZTtcbn07XG5cbktleWJvYXJkLnByb3RvdHlwZS51bmJpbmQgPSBmdW5jdGlvbigpIHtcbiAgdmFyIG5vZGUgPSB0aGlzLl9ub2RlO1xuXG4gIGlmIChub2RlKSB7XG4gICAgdGhpcy5fZmlyZSgndW5iaW5kJyk7XG5cbiAgICAvLyB1bmJpbmQga2V5IGV2ZW50c1xuICAgIGRvbUV2ZW50LnVuYmluZChub2RlLCAna2V5ZG93bicsIHRoaXMuX2tleWRvd25IYW5kbGVyLCB0cnVlKTtcbiAgICBkb21FdmVudC51bmJpbmQobm9kZSwgJ2tleXVwJywgdGhpcy5fa2V5dXBIYW5kbGVyLCB0cnVlKTtcbiAgfVxuXG4gIHRoaXMuX25vZGUgPSBudWxsO1xufTtcblxuS2V5Ym9hcmQucHJvdG90eXBlLl9maXJlID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgdGhpcy5fZXZlbnRCdXMuZmlyZSgna2V5Ym9hcmQuJyArIGV2ZW50LCB7IG5vZGU6IHRoaXMuX25vZGUgfSk7XG59O1xuXG4vKipcbiAqIEFkZCBhIGxpc3RlbmVyIGZ1bmN0aW9uIHRoYXQgaXMgbm90aWZpZWQgd2l0aCBgS2V5Ym9hcmRFdmVudGAgd2hlbmV2ZXJcbiAqIHRoZSBrZXlib2FyZCBpcyBib3VuZCBhbmQgdGhlIHVzZXIgcHJlc3NlcyBhIGtleS4gSWYgbm8gcHJpb3JpdHkgaXNcbiAqIHByb3ZpZGVkLCB0aGUgZGVmYXVsdCB2YWx1ZSBvZiAxMDAwIGlzIHVzZWQuXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IFtwcmlvcml0eV1cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGxpc3RlbmVyXG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZVxuICovXG5LZXlib2FyZC5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBmdW5jdGlvbihwcmlvcml0eSwgbGlzdGVuZXIsIHR5cGUpIHtcbiAgaWYgKGlzRnVuY3Rpb24ocHJpb3JpdHkpKSB7XG4gICAgdHlwZSA9IGxpc3RlbmVyO1xuICAgIGxpc3RlbmVyID0gcHJpb3JpdHk7XG4gICAgcHJpb3JpdHkgPSBERUZBVUxUX1BSSU9SSVRZO1xuICB9XG5cbiAgdGhpcy5fZXZlbnRCdXMub24odHlwZSB8fCBLRVlET1dOX0VWRU5ULCBwcmlvcml0eSwgbGlzdGVuZXIpO1xufTtcblxuS2V5Ym9hcmQucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID0gZnVuY3Rpb24obGlzdGVuZXIsIHR5cGUpIHtcbiAgdGhpcy5fZXZlbnRCdXMub2ZmKHR5cGUgfHwgS0VZRE9XTl9FVkVOVCwgbGlzdGVuZXIpO1xufTtcblxuS2V5Ym9hcmQucHJvdG90eXBlLmhhc01vZGlmaWVyID0gaGFzTW9kaWZpZXI7XG5LZXlib2FyZC5wcm90b3R5cGUuaXNDbWQgPSBpc0NtZDtcbktleWJvYXJkLnByb3RvdHlwZS5pc1NoaWZ0ID0gaXNTaGlmdDtcbktleWJvYXJkLnByb3RvdHlwZS5pc0tleSA9IGlzS2V5O1xuXG5cblxuLy8gaGVscGVycyAvLy8vLy8vXG5cbmZ1bmN0aW9uIGlzSW5wdXQodGFyZ2V0KSB7XG4gIHJldHVybiB0YXJnZXQgJiYgKGRvbU1hdGNoZXModGFyZ2V0LCAnaW5wdXQsIHRleHRhcmVhJykgfHwgdGFyZ2V0LmNvbnRlbnRFZGl0YWJsZSA9PT0gJ3RydWUnKTtcbn1cbiIsImltcG9ydCB7XG4gIGlzQ21kLFxuICBpc0tleSxcbiAgaXNTaGlmdFxufSBmcm9tICcuL0tleWJvYXJkVXRpbCc7XG5cbnZhciBMT1dfUFJJT1JJVFkgPSA1MDA7XG5cbmV4cG9ydCB2YXIgS0VZQ09ERV9DID0gNjc7XG5leHBvcnQgdmFyIEtFWUNPREVfViA9IDg2O1xuZXhwb3J0IHZhciBLRVlDT0RFX1kgPSA4OTtcbmV4cG9ydCB2YXIgS0VZQ09ERV9aID0gOTA7XG5cbmV4cG9ydCB2YXIgS0VZU19DT1BZID0gWydjJywgJ0MnLCBLRVlDT0RFX0MgXTtcbmV4cG9ydCB2YXIgS0VZU19QQVNURSA9IFsgJ3YnLCAnVicsIEtFWUNPREVfViBdO1xuZXhwb3J0IHZhciBLRVlTX1JFRE8gPSBbICd5JywgJ1knLCBLRVlDT0RFX1kgXTtcbmV4cG9ydCB2YXIgS0VZU19VTkRPID0gWyAneicsICdaJywgS0VZQ09ERV9aIF07XG5cblxuLyoqXG4gKiBBZGRzIGRlZmF1bHQga2V5Ym9hcmQgYmluZGluZ3MuXG4gKlxuICogVGhpcyBkb2VzIG5vdCBwdWxsIGluIGFueSBmZWF0dXJlcyB3aWxsIGJpbmQgb25seSBhY3Rpb25zIHRoYXRcbiAqIGhhdmUgcHJldmlvdXNseSBiZWVuIHJlZ2lzdGVyZWQgYWdhaW5zdCB0aGUgZWRpdG9yQWN0aW9ucyBjb21wb25lbnQuXG4gKlxuICogQHBhcmFtIHtFdmVudEJ1c30gZXZlbnRCdXNcbiAqIEBwYXJhbSB7S2V5Ym9hcmR9IGtleWJvYXJkXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEtleWJvYXJkQmluZGluZ3MoZXZlbnRCdXMsIGtleWJvYXJkKSB7XG5cbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIGV2ZW50QnVzLm9uKCdlZGl0b3JBY3Rpb25zLmluaXQnLCBMT1dfUFJJT1JJVFksIGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICB2YXIgZWRpdG9yQWN0aW9ucyA9IGV2ZW50LmVkaXRvckFjdGlvbnM7XG5cbiAgICBzZWxmLnJlZ2lzdGVyQmluZGluZ3Moa2V5Ym9hcmQsIGVkaXRvckFjdGlvbnMpO1xuICB9KTtcbn1cblxuS2V5Ym9hcmRCaW5kaW5ncy4kaW5qZWN0ID0gW1xuICAnZXZlbnRCdXMnLFxuICAna2V5Ym9hcmQnXG5dO1xuXG5cbi8qKlxuICogUmVnaXN0ZXIgYXZhaWxhYmxlIGtleWJvYXJkIGJpbmRpbmdzLlxuICpcbiAqIEBwYXJhbSB7S2V5Ym9hcmR9IGtleWJvYXJkXG4gKiBAcGFyYW0ge0VkaXRvckFjdGlvbnN9IGVkaXRvckFjdGlvbnNcbiAqL1xuS2V5Ym9hcmRCaW5kaW5ncy5wcm90b3R5cGUucmVnaXN0ZXJCaW5kaW5ncyA9IGZ1bmN0aW9uKGtleWJvYXJkLCBlZGl0b3JBY3Rpb25zKSB7XG5cbiAgLyoqXG4gICAqIEFkZCBrZXlib2FyZCBiaW5kaW5nIGlmIHJlc3BlY3RpdmUgZWRpdG9yIGFjdGlvblxuICAgKiBpcyByZWdpc3RlcmVkLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gYWN0aW9uIG5hbWVcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gdGhhdCBpbXBsZW1lbnRzIHRoZSBrZXkgYmluZGluZ1xuICAgKi9cbiAgZnVuY3Rpb24gYWRkTGlzdGVuZXIoYWN0aW9uLCBmbikge1xuXG4gICAgaWYgKGVkaXRvckFjdGlvbnMuaXNSZWdpc3RlcmVkKGFjdGlvbikpIHtcbiAgICAgIGtleWJvYXJkLmFkZExpc3RlbmVyKGZuKTtcbiAgICB9XG4gIH1cblxuXG4gIC8vIHVuZG9cbiAgLy8gKENUUkx8Q01EKSArIFpcbiAgYWRkTGlzdGVuZXIoJ3VuZG8nLCBmdW5jdGlvbihjb250ZXh0KSB7XG5cbiAgICB2YXIgZXZlbnQgPSBjb250ZXh0LmtleUV2ZW50O1xuXG4gICAgaWYgKGlzQ21kKGV2ZW50KSAmJiAhaXNTaGlmdChldmVudCkgJiYgaXNLZXkoS0VZU19VTkRPLCBldmVudCkpIHtcbiAgICAgIGVkaXRvckFjdGlvbnMudHJpZ2dlcigndW5kbycpO1xuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIHJlZG9cbiAgLy8gQ1RSTCArIFlcbiAgLy8gQ01EICsgU0hJRlQgKyBaXG4gIGFkZExpc3RlbmVyKCdyZWRvJywgZnVuY3Rpb24oY29udGV4dCkge1xuXG4gICAgdmFyIGV2ZW50ID0gY29udGV4dC5rZXlFdmVudDtcblxuICAgIGlmIChpc0NtZChldmVudCkgJiYgKGlzS2V5KEtFWVNfUkVETywgZXZlbnQpIHx8IChpc0tleShLRVlTX1VORE8sIGV2ZW50KSAmJiBpc1NoaWZ0KGV2ZW50KSkpKSB7XG4gICAgICBlZGl0b3JBY3Rpb25zLnRyaWdnZXIoJ3JlZG8nKTtcblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9KTtcblxuICAvLyBjb3B5XG4gIC8vIENUUkwvQ01EICsgQ1xuICBhZGRMaXN0ZW5lcignY29weScsIGZ1bmN0aW9uKGNvbnRleHQpIHtcblxuICAgIHZhciBldmVudCA9IGNvbnRleHQua2V5RXZlbnQ7XG5cbiAgICBpZiAoaXNDbWQoZXZlbnQpICYmIGlzS2V5KEtFWVNfQ09QWSwgZXZlbnQpKSB7XG4gICAgICBlZGl0b3JBY3Rpb25zLnRyaWdnZXIoJ2NvcHknKTtcblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9KTtcblxuICAvLyBwYXN0ZVxuICAvLyBDVFJML0NNRCArIFZcbiAgYWRkTGlzdGVuZXIoJ3Bhc3RlJywgZnVuY3Rpb24oY29udGV4dCkge1xuXG4gICAgdmFyIGV2ZW50ID0gY29udGV4dC5rZXlFdmVudDtcblxuICAgIGlmIChpc0NtZChldmVudCkgJiYgaXNLZXkoS0VZU19QQVNURSwgZXZlbnQpKSB7XG4gICAgICBlZGl0b3JBY3Rpb25zLnRyaWdnZXIoJ3Bhc3RlJyk7XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gem9vbSBpbiBvbmUgc3RlcFxuICAvLyBDVFJML0NNRCArICtcbiAgYWRkTGlzdGVuZXIoJ3N0ZXBab29tJywgZnVuY3Rpb24oY29udGV4dCkge1xuXG4gICAgdmFyIGV2ZW50ID0gY29udGV4dC5rZXlFdmVudDtcblxuICAgIC8vIHF1aXJrOiBpdCBoYXMgdG8gYmUgdHJpZ2dlcmVkIGJ5IGA9YCBhcyB3ZWxsIHRvIHdvcmsgb24gaW50ZXJuYXRpb25hbCBrZXlib2FyZCBsYXlvdXRcbiAgICAvLyBjZjogaHR0cHM6Ly9naXRodWIuY29tL2JwbW4taW8vYnBtbi1qcy9pc3N1ZXMvMTM2MiNpc3N1ZWNvbW1lbnQtNzIyOTg5NzU0XG4gICAgaWYgKGlzS2V5KFsgJysnLCAnQWRkJywgJz0nIF0sIGV2ZW50KSAmJiBpc0NtZChldmVudCkpIHtcbiAgICAgIGVkaXRvckFjdGlvbnMudHJpZ2dlcignc3RlcFpvb20nLCB7IHZhbHVlOiAxIH0pO1xuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIHpvb20gb3V0IG9uZSBzdGVwXG4gIC8vIENUUkwgKyAtXG4gIGFkZExpc3RlbmVyKCdzdGVwWm9vbScsIGZ1bmN0aW9uKGNvbnRleHQpIHtcblxuICAgIHZhciBldmVudCA9IGNvbnRleHQua2V5RXZlbnQ7XG5cbiAgICBpZiAoaXNLZXkoWyAnLScsICdTdWJ0cmFjdCcgXSwgZXZlbnQpICYmIGlzQ21kKGV2ZW50KSkge1xuICAgICAgZWRpdG9yQWN0aW9ucy50cmlnZ2VyKCdzdGVwWm9vbScsIHsgdmFsdWU6IC0xIH0pO1xuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIHpvb20gdG8gdGhlIGRlZmF1bHQgbGV2ZWxcbiAgLy8gQ1RSTCArIDBcbiAgYWRkTGlzdGVuZXIoJ3pvb20nLCBmdW5jdGlvbihjb250ZXh0KSB7XG5cbiAgICB2YXIgZXZlbnQgPSBjb250ZXh0LmtleUV2ZW50O1xuXG4gICAgaWYgKGlzS2V5KCcwJywgZXZlbnQpICYmIGlzQ21kKGV2ZW50KSkge1xuICAgICAgZWRpdG9yQWN0aW9ucy50cmlnZ2VyKCd6b29tJywgeyB2YWx1ZTogMSB9KTtcblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9KTtcblxuICAvLyBkZWxldGUgc2VsZWN0ZWQgZWxlbWVudFxuICAvLyBERUxcbiAgYWRkTGlzdGVuZXIoJ3JlbW92ZVNlbGVjdGlvbicsIGZ1bmN0aW9uKGNvbnRleHQpIHtcblxuICAgIHZhciBldmVudCA9IGNvbnRleHQua2V5RXZlbnQ7XG5cbiAgICBpZiAoaXNLZXkoWydCYWNrc3BhY2UnLCAnRGVsZXRlJywgJ0RlbCcgXSwgZXZlbnQpKSB7XG4gICAgICBlZGl0b3JBY3Rpb25zLnRyaWdnZXIoJ3JlbW92ZVNlbGVjdGlvbicpO1xuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0pO1xufTsiLCJpbXBvcnQgS2V5Ym9hcmQgZnJvbSAnLi9LZXlib2FyZCc7XG5pbXBvcnQgS2V5Ym9hcmRCaW5kaW5ncyBmcm9tICcuL0tleWJvYXJkQmluZGluZ3MnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9faW5pdF9fOiBbICdrZXlib2FyZCcsICdrZXlib2FyZEJpbmRpbmdzJyBdLFxuICBrZXlib2FyZDogWyAndHlwZScsIEtleWJvYXJkIF0sXG4gIGtleWJvYXJkQmluZGluZ3M6IFsgJ3R5cGUnLCBLZXlib2FyZEJpbmRpbmdzIF1cbn07XG4iLCJpbXBvcnQgeyBhc3NpZ24gfSBmcm9tICdtaW4tZGFzaCc7XG5cblxudmFyIERFRkFVTFRfQ09ORklHID0ge1xuICBtb3ZlU3BlZWQ6IDUwLFxuICBtb3ZlU3BlZWRBY2NlbGVyYXRlZDogMjAwXG59O1xuXG5cbi8qKlxuICogQSBmZWF0dXJlIHRoYXQgYWxsb3dzIHVzZXJzIHRvIG1vdmUgdGhlIGNhbnZhcyB1c2luZyB0aGUga2V5Ym9hcmQuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZ1xuICogQHBhcmFtIHtudW1iZXJ9IFtjb25maWcubW92ZVNwZWVkPTUwXVxuICogQHBhcmFtIHtudW1iZXJ9IFtjb25maWcubW92ZVNwZWVkQWNjZWxlcmF0ZWQ9MjAwXVxuICogQHBhcmFtIHtLZXlib2FyZH0ga2V5Ym9hcmRcbiAqIEBwYXJhbSB7Q2FudmFzfSBjYW52YXNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gS2V5Ym9hcmRNb3ZlKFxuICAgIGNvbmZpZyxcbiAgICBrZXlib2FyZCxcbiAgICBjYW52YXNcbikge1xuXG4gIHZhciBzZWxmID0gdGhpcztcblxuICB0aGlzLl9jb25maWcgPSBhc3NpZ24oe30sIERFRkFVTFRfQ09ORklHLCBjb25maWcgfHwge30pO1xuXG4gIGtleWJvYXJkLmFkZExpc3RlbmVyKGFycm93c0xpc3RlbmVyKTtcblxuXG4gIGZ1bmN0aW9uIGFycm93c0xpc3RlbmVyKGNvbnRleHQpIHtcblxuICAgIHZhciBldmVudCA9IGNvbnRleHQua2V5RXZlbnQsXG4gICAgICAgIGNvbmZpZyA9IHNlbGYuX2NvbmZpZztcblxuICAgIGlmICgha2V5Ym9hcmQuaXNDbWQoZXZlbnQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGtleWJvYXJkLmlzS2V5KFtcbiAgICAgICdBcnJvd0xlZnQnLCAnTGVmdCcsXG4gICAgICAnQXJyb3dVcCcsICdVcCcsXG4gICAgICAnQXJyb3dEb3duJywgJ0Rvd24nLFxuICAgICAgJ0Fycm93UmlnaHQnLCAnUmlnaHQnXG4gICAgXSwgZXZlbnQpKSB7XG5cbiAgICAgIHZhciBzcGVlZCA9IChcbiAgICAgICAga2V5Ym9hcmQuaXNTaGlmdChldmVudCkgP1xuICAgICAgICAgIGNvbmZpZy5tb3ZlU3BlZWRBY2NlbGVyYXRlZCA6XG4gICAgICAgICAgY29uZmlnLm1vdmVTcGVlZFxuICAgICAgKTtcblxuICAgICAgdmFyIGRpcmVjdGlvbjtcblxuICAgICAgc3dpdGNoIChldmVudC5rZXkpIHtcbiAgICAgIGNhc2UgJ0Fycm93TGVmdCc6XG4gICAgICBjYXNlICdMZWZ0JzpcbiAgICAgICAgZGlyZWN0aW9uID0gJ2xlZnQnO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ0Fycm93VXAnOlxuICAgICAgY2FzZSAnVXAnOlxuICAgICAgICBkaXJlY3Rpb24gPSAndXAnO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ0Fycm93UmlnaHQnOlxuICAgICAgY2FzZSAnUmlnaHQnOlxuICAgICAgICBkaXJlY3Rpb24gPSAncmlnaHQnO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ0Fycm93RG93bic6XG4gICAgICBjYXNlICdEb3duJzpcbiAgICAgICAgZGlyZWN0aW9uID0gJ2Rvd24nO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgc2VsZi5tb3ZlQ2FudmFzKHtcbiAgICAgICAgc3BlZWQ6IHNwZWVkLFxuICAgICAgICBkaXJlY3Rpb246IGRpcmVjdGlvblxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHRoaXMubW92ZUNhbnZhcyA9IGZ1bmN0aW9uKG9wdHMpIHtcblxuICAgIHZhciBkeCA9IDAsXG4gICAgICAgIGR5ID0gMCxcbiAgICAgICAgc3BlZWQgPSBvcHRzLnNwZWVkO1xuXG4gICAgdmFyIGFjdHVhbFNwZWVkID0gc3BlZWQgLyBNYXRoLm1pbihNYXRoLnNxcnQoY2FudmFzLnZpZXdib3goKS5zY2FsZSksIDEpO1xuXG4gICAgc3dpdGNoIChvcHRzLmRpcmVjdGlvbikge1xuICAgIGNhc2UgJ2xlZnQnOiAvLyBMZWZ0XG4gICAgICBkeCA9IGFjdHVhbFNwZWVkO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAndXAnOiAvLyBVcFxuICAgICAgZHkgPSBhY3R1YWxTcGVlZDtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3JpZ2h0JzogLy8gUmlnaHRcbiAgICAgIGR4ID0gLWFjdHVhbFNwZWVkO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnZG93bic6IC8vIERvd25cbiAgICAgIGR5ID0gLWFjdHVhbFNwZWVkO1xuICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgY2FudmFzLnNjcm9sbCh7XG4gICAgICBkeDogZHgsXG4gICAgICBkeTogZHlcbiAgICB9KTtcbiAgfTtcblxufVxuXG5cbktleWJvYXJkTW92ZS4kaW5qZWN0ID0gW1xuICAnY29uZmlnLmtleWJvYXJkTW92ZScsXG4gICdrZXlib2FyZCcsXG4gICdjYW52YXMnXG5dO1xuIiwiaW1wb3J0IEtleWJvYXJkTW9kdWxlIGZyb20gJy4uLy4uL2ZlYXR1cmVzL2tleWJvYXJkJztcblxuaW1wb3J0IEtleWJvYXJkTW92ZSBmcm9tICcuL0tleWJvYXJkTW92ZSc7XG5cblxuZXhwb3J0IGRlZmF1bHQge1xuICBfX2RlcGVuZHNfXzogW1xuICAgIEtleWJvYXJkTW9kdWxlXG4gIF0sXG4gIF9faW5pdF9fOiBbICdrZXlib2FyZE1vdmUnIF0sXG4gIGtleWJvYXJkTW92ZTogWyAndHlwZScsIEtleWJvYXJkTW92ZSBdXG59OyIsImltcG9ydCB7XG4gIGNsYXNzZXMgYXMgZG9tQ2xhc3Nlc1xufSBmcm9tICdtaW4tZG9tJztcblxudmFyIENVUlNPUl9DTFNfUEFUVEVSTiA9IC9eZGpzLWN1cnNvci0uKiQvO1xuXG5cbmV4cG9ydCBmdW5jdGlvbiBzZXQobW9kZSkge1xuICB2YXIgY2xhc3NlcyA9IGRvbUNsYXNzZXMoZG9jdW1lbnQuYm9keSk7XG5cbiAgY2xhc3Nlcy5yZW1vdmVNYXRjaGluZyhDVVJTT1JfQ0xTX1BBVFRFUk4pO1xuXG4gIGlmIChtb2RlKSB7XG4gICAgY2xhc3Nlcy5hZGQoJ2Rqcy1jdXJzb3ItJyArIG1vZGUpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1bnNldCgpIHtcbiAgc2V0KG51bGwpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaGFzKG1vZGUpIHtcbiAgdmFyIGNsYXNzZXMgPSBkb21DbGFzc2VzKGRvY3VtZW50LmJvZHkpO1xuXG4gIHJldHVybiBjbGFzc2VzLmhhcygnZGpzLWN1cnNvci0nICsgbW9kZSk7XG59XG4iLCJ2YXIgVFJBUF9QUklPUklUWSA9IDUwMDA7XG5cbi8qKlxuICogSW5zdGFsbHMgYSBjbGljayB0cmFwIHRoYXQgcHJldmVudHMgYSBnaG9zdCBjbGljayBmb2xsb3dpbmcgYSBkcmFnZ2luZyBvcGVyYXRpb24uXG4gKlxuICogQHJldHVybiB7RnVuY3Rpb259IGEgZnVuY3Rpb24gdG8gaW1tZWRpYXRlbHkgcmVtb3ZlIHRoZSBpbnN0YWxsZWQgdHJhcC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluc3RhbGwoZXZlbnRCdXMsIGV2ZW50TmFtZSkge1xuXG4gIGV2ZW50TmFtZSA9IGV2ZW50TmFtZSB8fCAnZWxlbWVudC5jbGljayc7XG5cbiAgZnVuY3Rpb24gdHJhcCgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBldmVudEJ1cy5vbmNlKGV2ZW50TmFtZSwgVFJBUF9QUklPUklUWSwgdHJhcCk7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIGV2ZW50QnVzLm9mZihldmVudE5hbWUsIHRyYXApO1xuICB9O1xufSIsImV4cG9ydCBmdW5jdGlvbiBjZW50ZXIoYm91bmRzKSB7XG4gIHJldHVybiB7XG4gICAgeDogYm91bmRzLnggKyAoYm91bmRzLndpZHRoIC8gMiksXG4gICAgeTogYm91bmRzLnkgKyAoYm91bmRzLmhlaWdodCAvIDIpXG4gIH07XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGRlbHRhKGEsIGIpIHtcbiAgcmV0dXJuIHtcbiAgICB4OiBhLnggLSBiLngsXG4gICAgeTogYS55IC0gYi55XG4gIH07XG59IiwiaW1wb3J0IHtcbiAgc2V0IGFzIGN1cnNvclNldCxcbiAgdW5zZXQgYXMgY3Vyc29yVW5zZXRcbn0gZnJvbSAnLi4vLi4vdXRpbC9DdXJzb3InO1xuXG5pbXBvcnQge1xuICBpbnN0YWxsIGFzIGluc3RhbGxDbGlja1RyYXBcbn0gZnJvbSAnLi4vLi4vdXRpbC9DbGlja1RyYXAnO1xuXG5pbXBvcnQge1xuICBkZWx0YSBhcyBkZWx0YVBvc1xufSBmcm9tICcuLi8uLi91dGlsL1Bvc2l0aW9uVXRpbCc7XG5cbmltcG9ydCB7XG4gIGV2ZW50IGFzIGRvbUV2ZW50LFxuICBjbG9zZXN0IGFzIGRvbUNsb3Nlc3Rcbn0gZnJvbSAnbWluLWRvbSc7XG5cbmltcG9ydCB7XG4gIHRvUG9pbnRcbn0gZnJvbSAnLi4vLi4vdXRpbC9FdmVudCc7XG5cblxudmFyIFRIUkVTSE9MRCA9IDE1O1xuXG5cbi8qKlxuICogTW92ZSB0aGUgY2FudmFzIHZpYSBtb3VzZS5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50QnVzfSBldmVudEJ1c1xuICogQHBhcmFtIHtDYW52YXN9IGNhbnZhc1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBNb3ZlQ2FudmFzKGV2ZW50QnVzLCBjYW52YXMpIHtcblxuICB2YXIgY29udGV4dDtcblxuXG4gIC8vIGxpc3RlbiBmb3IgbW92ZSBvbiBlbGVtZW50IG1vdXNlIGRvd247XG4gIC8vIGFsbG93IG90aGVycyB0byBob29rIGludG8gdGhlIGV2ZW50IGJlZm9yZSB1cyB0aG91Z2hcbiAgLy8gKGRyYWdnaW5nIC8gZWxlbWVudCBtb3Zpbmcgd2lsbCBkbyB0aGlzKVxuICBldmVudEJ1cy5vbignZWxlbWVudC5tb3VzZWRvd24nLCA1MDAsIGZ1bmN0aW9uKGUpIHtcbiAgICByZXR1cm4gaGFuZGxlU3RhcnQoZS5vcmlnaW5hbEV2ZW50KTtcbiAgfSk7XG5cblxuICBmdW5jdGlvbiBoYW5kbGVNb3ZlKGV2ZW50KSB7XG5cbiAgICB2YXIgc3RhcnQgPSBjb250ZXh0LnN0YXJ0LFxuICAgICAgICBidXR0b24gPSBjb250ZXh0LmJ1dHRvbixcbiAgICAgICAgcG9zaXRpb24gPSB0b1BvaW50KGV2ZW50KSxcbiAgICAgICAgZGVsdGEgPSBkZWx0YVBvcyhwb3NpdGlvbiwgc3RhcnQpO1xuXG4gICAgaWYgKCFjb250ZXh0LmRyYWdnaW5nICYmIGxlbmd0aChkZWx0YSkgPiBUSFJFU0hPTEQpIHtcbiAgICAgIGNvbnRleHQuZHJhZ2dpbmcgPSB0cnVlO1xuXG4gICAgICBpZiAoYnV0dG9uID09PSAwKSB7XG4gICAgICAgIGluc3RhbGxDbGlja1RyYXAoZXZlbnRCdXMpO1xuICAgICAgfVxuXG4gICAgICBjdXJzb3JTZXQoJ2dyYWInKTtcbiAgICB9XG5cbiAgICBpZiAoY29udGV4dC5kcmFnZ2luZykge1xuXG4gICAgICB2YXIgbGFzdFBvc2l0aW9uID0gY29udGV4dC5sYXN0IHx8IGNvbnRleHQuc3RhcnQ7XG5cbiAgICAgIGRlbHRhID0gZGVsdGFQb3MocG9zaXRpb24sIGxhc3RQb3NpdGlvbik7XG5cbiAgICAgIGNhbnZhcy5zY3JvbGwoe1xuICAgICAgICBkeDogZGVsdGEueCxcbiAgICAgICAgZHk6IGRlbHRhLnlcbiAgICAgIH0pO1xuXG4gICAgICBjb250ZXh0Lmxhc3QgPSBwb3NpdGlvbjtcbiAgICB9XG5cbiAgICAvLyBwcmV2ZW50IHNlbGVjdFxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gIH1cblxuXG4gIGZ1bmN0aW9uIGhhbmRsZUVuZChldmVudCkge1xuICAgIGRvbUV2ZW50LnVuYmluZChkb2N1bWVudCwgJ21vdXNlbW92ZScsIGhhbmRsZU1vdmUpO1xuICAgIGRvbUV2ZW50LnVuYmluZChkb2N1bWVudCwgJ21vdXNldXAnLCBoYW5kbGVFbmQpO1xuXG4gICAgY29udGV4dCA9IG51bGw7XG5cbiAgICBjdXJzb3JVbnNldCgpO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlU3RhcnQoZXZlbnQpIHtcblxuICAgIC8vIGV2ZW50IGlzIGFscmVhZHkgaGFuZGxlZCBieSAnLmRqcy1kcmFnZ2FibGUnXG4gICAgaWYgKGRvbUNsb3Nlc3QoZXZlbnQudGFyZ2V0LCAnLmRqcy1kcmFnZ2FibGUnKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBidXR0b24gPSBldmVudC5idXR0b247XG5cbiAgICAvLyByZWplY3QgcmlnaHQgbW91c2UgYnV0dG9uIG9yIG1vZGlmaWVyIGtleVxuICAgIGlmIChidXR0b24gPj0gMiB8fCBldmVudC5jdHJsS2V5IHx8IGV2ZW50LnNoaWZ0S2V5IHx8IGV2ZW50LmFsdEtleSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnRleHQgPSB7XG4gICAgICBidXR0b246IGJ1dHRvbixcbiAgICAgIHN0YXJ0OiB0b1BvaW50KGV2ZW50KVxuICAgIH07XG5cbiAgICBkb21FdmVudC5iaW5kKGRvY3VtZW50LCAnbW91c2Vtb3ZlJywgaGFuZGxlTW92ZSk7XG4gICAgZG9tRXZlbnQuYmluZChkb2N1bWVudCwgJ21vdXNldXAnLCBoYW5kbGVFbmQpO1xuXG4gICAgLy8gd2UndmUgaGFuZGxlZCB0aGUgZXZlbnRcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHRoaXMuaXNBY3RpdmUgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gISFjb250ZXh0O1xuICB9O1xuXG59XG5cblxuTW92ZUNhbnZhcy4kaW5qZWN0ID0gW1xuICAnZXZlbnRCdXMnLFxuICAnY2FudmFzJ1xuXTtcblxuXG5cbi8vIGhlbHBlcnMgLy8vLy8vL1xuXG5mdW5jdGlvbiBsZW5ndGgocG9pbnQpIHtcbiAgcmV0dXJuIE1hdGguc3FydChNYXRoLnBvdyhwb2ludC54LCAyKSArIE1hdGgucG93KHBvaW50LnksIDIpKTtcbn1cbiIsImltcG9ydCBNb3ZlQ2FudmFzIGZyb20gJy4vTW92ZUNhbnZhcyc7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgX19pbml0X186IFsgJ21vdmVDYW52YXMnIF0sXG4gIG1vdmVDYW52YXM6IFsgJ3R5cGUnLCBNb3ZlQ2FudmFzIF1cbn07IiwiLyoqXG4gKiBHZXQgdGhlIGxvZ2FyaXRobSBvZiB4IHdpdGggYmFzZSAxMFxuICogQHBhcmFtICB7SW50ZWdlcn0gdmFsdWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxvZzEwKHgpIHtcbiAgcmV0dXJuIE1hdGgubG9nKHgpIC8gTWF0aC5sb2coMTApO1xufVxuXG5leHBvcnQgeyBkZWx0YSBhcyBzdWJzdHJhY3QgfSBmcm9tICcuL1Bvc2l0aW9uVXRpbCc7XG4iLCJpbXBvcnQge1xuICBsb2cxMFxufSBmcm9tICcuLi8uLi91dGlsL01hdGgnO1xuXG4vKipcbiAqIEdldCBzdGVwIHNpemUgZm9yIGdpdmVuIHJhbmdlIGFuZCBudW1iZXIgb2Ygc3RlcHMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHJhbmdlXG4gKiBAcGFyYW0ge251bWJlcn0gcmFuZ2UubWluXG4gKiBAcGFyYW0ge251bWJlcn0gcmFuZ2UubWF4XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTdGVwU2l6ZShyYW5nZSwgc3RlcHMpIHtcblxuICB2YXIgbWluTGluZWFyUmFuZ2UgPSBsb2cxMChyYW5nZS5taW4pLFxuICAgICAgbWF4TGluZWFyUmFuZ2UgPSBsb2cxMChyYW5nZS5tYXgpO1xuXG4gIHZhciBhYnNvbHV0ZUxpbmVhclJhbmdlID0gTWF0aC5hYnMobWluTGluZWFyUmFuZ2UpICsgTWF0aC5hYnMobWF4TGluZWFyUmFuZ2UpO1xuXG4gIHJldHVybiBhYnNvbHV0ZUxpbmVhclJhbmdlIC8gc3RlcHM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjYXAocmFuZ2UsIHNjYWxlKSB7XG4gIHJldHVybiBNYXRoLm1heChyYW5nZS5taW4sIE1hdGgubWluKHJhbmdlLm1heCwgc2NhbGUpKTtcbn1cbiIsImltcG9ydCB7XG4gIGV2ZW50IGFzIGRvbUV2ZW50LFxuICBjbG9zZXN0IGFzIGRvbUNsb3Nlc3Rcbn0gZnJvbSAnbWluLWRvbSc7XG5cbmltcG9ydCB7XG4gIGdldFN0ZXBTaXplLFxuICBjYXBcbn0gZnJvbSAnLi9ab29tVXRpbCc7XG5cbmltcG9ydCB7XG4gIGxvZzEwXG59IGZyb20gJy4uLy4uL3V0aWwvTWF0aCc7XG5cbmltcG9ydCB7XG4gIGJpbmRcbn0gZnJvbSAnbWluLWRhc2gnO1xuXG52YXIgc2lnbiA9IE1hdGguc2lnbiB8fCBmdW5jdGlvbihuKSB7XG4gIHJldHVybiBuID49IDAgPyAxIDogLTE7XG59O1xuXG52YXIgUkFOR0UgPSB7IG1pbjogMC4yLCBtYXg6IDQgfSxcbiAgICBOVU1fU1RFUFMgPSAxMDtcblxudmFyIERFTFRBX1RIUkVTSE9MRCA9IDAuMTtcblxudmFyIERFRkFVTFRfU0NBTEUgPSAwLjc1O1xuXG4vKipcbiAqIEFuIGltcGxlbWVudGF0aW9uIG9mIHpvb21pbmcgYW5kIHNjcm9sbGluZyB3aXRoaW4gdGhlXG4gKiB7QGxpbmsgQ2FudmFzfSB2aWEgdGhlIG1vdXNlIHdoZWVsLlxuICpcbiAqIE1vdXNlIHdoZWVsIHpvb21pbmcgLyBzY3JvbGxpbmcgbWF5IGJlIGRpc2FibGVkIHVzaW5nXG4gKiB0aGUge0BsaW5rIHRvZ2dsZShlbmFibGVkKX0gbWV0aG9kLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnXVxuICogQHBhcmFtIHtib29sZWFufSBbY29uZmlnLmVuYWJsZWQ9dHJ1ZV0gZGVmYXVsdCBlbmFibGVkIHN0YXRlXG4gKiBAcGFyYW0ge251bWJlcn0gW2NvbmZpZy5zY2FsZT0uNzVdIHNjcm9sbCBzZW5zaXZpdHlcbiAqIEBwYXJhbSB7RXZlbnRCdXN9IGV2ZW50QnVzXG4gKiBAcGFyYW0ge0NhbnZhc30gY2FudmFzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFpvb21TY3JvbGwoY29uZmlnLCBldmVudEJ1cywgY2FudmFzKSB7XG5cbiAgY29uZmlnID0gY29uZmlnIHx8IHt9O1xuXG4gIHRoaXMuX2VuYWJsZWQgPSBmYWxzZTtcblxuICB0aGlzLl9jYW52YXMgPSBjYW52YXM7XG4gIHRoaXMuX2NvbnRhaW5lciA9IGNhbnZhcy5fY29udGFpbmVyO1xuXG4gIHRoaXMuX2hhbmRsZVdoZWVsID0gYmluZCh0aGlzLl9oYW5kbGVXaGVlbCwgdGhpcyk7XG5cbiAgdGhpcy5fdG90YWxEZWx0YSA9IDA7XG4gIHRoaXMuX3NjYWxlID0gY29uZmlnLnNjYWxlIHx8IERFRkFVTFRfU0NBTEU7XG5cbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIGV2ZW50QnVzLm9uKCdjYW52YXMuaW5pdCcsIGZ1bmN0aW9uKGUpIHtcbiAgICBzZWxmLl9pbml0KGNvbmZpZy5lbmFibGVkICE9PSBmYWxzZSk7XG4gIH0pO1xufVxuXG5ab29tU2Nyb2xsLiRpbmplY3QgPSBbXG4gICdjb25maWcuem9vbVNjcm9sbCcsXG4gICdldmVudEJ1cycsXG4gICdjYW52YXMnXG5dO1xuXG5ab29tU2Nyb2xsLnByb3RvdHlwZS5zY3JvbGwgPSBmdW5jdGlvbiBzY3JvbGwoZGVsdGEpIHtcbiAgdGhpcy5fY2FudmFzLnNjcm9sbChkZWx0YSk7XG59O1xuXG5cblpvb21TY3JvbGwucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gcmVzZXQoKSB7XG4gIHRoaXMuX2NhbnZhcy56b29tKCdmaXQtdmlld3BvcnQnKTtcbn07XG5cbi8qKlxuICogWm9vbSBkZXBlbmRpbmcgb24gZGVsdGEuXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhXG4gKiBAcGFyYW0ge09iamVjdH0gcG9zaXRpb25cbiAqL1xuWm9vbVNjcm9sbC5wcm90b3R5cGUuem9vbSA9IGZ1bmN0aW9uIHpvb20oZGVsdGEsIHBvc2l0aW9uKSB7XG5cbiAgLy8gem9vbSB3aXRoIGhhbGYgdGhlIHN0ZXAgc2l6ZSBvZiBzdGVwWm9vbVxuICB2YXIgc3RlcFNpemUgPSBnZXRTdGVwU2l6ZShSQU5HRSwgTlVNX1NURVBTICogMik7XG5cbiAgLy8gYWRkIHVudGlsIHRocmVzaG9sZCByZWFjaGVkXG4gIHRoaXMuX3RvdGFsRGVsdGEgKz0gZGVsdGE7XG5cbiAgaWYgKE1hdGguYWJzKHRoaXMuX3RvdGFsRGVsdGEpID4gREVMVEFfVEhSRVNIT0xEKSB7XG4gICAgdGhpcy5fem9vbShkZWx0YSwgcG9zaXRpb24sIHN0ZXBTaXplKTtcblxuICAgIC8vIHJlc2V0XG4gICAgdGhpcy5fdG90YWxEZWx0YSA9IDA7XG4gIH1cbn07XG5cblxuWm9vbVNjcm9sbC5wcm90b3R5cGUuX2hhbmRsZVdoZWVsID0gZnVuY3Rpb24gaGFuZGxlV2hlZWwoZXZlbnQpIHtcblxuICAvLyBldmVudCBpcyBhbHJlYWR5IGhhbmRsZWQgYnkgJy5kanMtc2Nyb2xsYWJsZSdcbiAgaWYgKGRvbUNsb3Nlc3QoZXZlbnQudGFyZ2V0LCAnLmRqcy1zY3JvbGxhYmxlJywgdHJ1ZSkpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgZWxlbWVudCA9IHRoaXMuX2NvbnRhaW5lcjtcblxuICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gIC8vIHBpbmNoIHRvIHpvb20gaXMgbWFwcGVkIHRvIHdoZWVsICsgY3RybEtleSA9IHRydWVcbiAgLy8gaW4gbW9kZXJuIGJyb3dzZXJzICghKVxuXG4gIHZhciBpc1pvb20gPSBldmVudC5jdHJsS2V5O1xuXG4gIHZhciBpc0hvcml6b250YWxTY3JvbGwgPSBldmVudC5zaGlmdEtleTtcblxuICB2YXIgZmFjdG9yID0gLTEgKiB0aGlzLl9zY2FsZSxcbiAgICAgIGRlbHRhO1xuXG4gIGlmIChpc1pvb20pIHtcbiAgICBmYWN0b3IgKj0gZXZlbnQuZGVsdGFNb2RlID09PSAwID8gMC4wMjAgOiAwLjMyO1xuICB9IGVsc2Uge1xuICAgIGZhY3RvciAqPSBldmVudC5kZWx0YU1vZGUgPT09IDAgPyAxLjAgOiAxNi4wO1xuICB9XG5cbiAgaWYgKGlzWm9vbSkge1xuICAgIHZhciBlbGVtZW50UmVjdCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICB2YXIgb2Zmc2V0ID0ge1xuICAgICAgeDogZXZlbnQuY2xpZW50WCAtIGVsZW1lbnRSZWN0LmxlZnQsXG4gICAgICB5OiBldmVudC5jbGllbnRZIC0gZWxlbWVudFJlY3QudG9wXG4gICAgfTtcblxuICAgIGRlbHRhID0gKFxuICAgICAgTWF0aC5zcXJ0KFxuICAgICAgICBNYXRoLnBvdyhldmVudC5kZWx0YVksIDIpICtcbiAgICAgICAgTWF0aC5wb3coZXZlbnQuZGVsdGFYLCAyKVxuICAgICAgKSAqIHNpZ24oZXZlbnQuZGVsdGFZKSAqIGZhY3RvclxuICAgICk7XG5cbiAgICAvLyB6b29tIGluIHJlbGF0aXZlIHRvIGRpYWdyYW0ge3gseX0gY29vcmRpbmF0ZXNcbiAgICB0aGlzLnpvb20oZGVsdGEsIG9mZnNldCk7XG4gIH0gZWxzZSB7XG5cbiAgICBpZiAoaXNIb3Jpem9udGFsU2Nyb2xsKSB7XG4gICAgICBkZWx0YSA9IHtcbiAgICAgICAgZHg6IGZhY3RvciAqIGV2ZW50LmRlbHRhWSxcbiAgICAgICAgZHk6IDBcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlbHRhID0ge1xuICAgICAgICBkeDogZmFjdG9yICogZXZlbnQuZGVsdGFYLFxuICAgICAgICBkeTogZmFjdG9yICogZXZlbnQuZGVsdGFZXG4gICAgICB9O1xuICAgIH1cblxuICAgIHRoaXMuc2Nyb2xsKGRlbHRhKTtcbiAgfVxufTtcblxuLyoqXG4gKiBab29tIHdpdGggZml4ZWQgc3RlcCBzaXplLlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YSAtIFpvb20gZGVsdGEgKDEgZm9yIHpvb21pbmcgaW4sIC0xIGZvciBvdXQpLlxuICogQHBhcmFtIHtPYmplY3R9IHBvc2l0aW9uXG4gKi9cblpvb21TY3JvbGwucHJvdG90eXBlLnN0ZXBab29tID0gZnVuY3Rpb24gc3RlcFpvb20oZGVsdGEsIHBvc2l0aW9uKSB7XG5cbiAgdmFyIHN0ZXBTaXplID0gZ2V0U3RlcFNpemUoUkFOR0UsIE5VTV9TVEVQUyk7XG5cbiAgdGhpcy5fem9vbShkZWx0YSwgcG9zaXRpb24sIHN0ZXBTaXplKTtcbn07XG5cblxuLyoqXG4gKiBab29tIGluL291dCBnaXZlbiBhIHN0ZXAgc2l6ZS5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gZGVsdGFcbiAqIEBwYXJhbSB7T2JqZWN0fSBwb3NpdGlvblxuICogQHBhcmFtIHtudW1iZXJ9IHN0ZXBTaXplXG4gKi9cblpvb21TY3JvbGwucHJvdG90eXBlLl96b29tID0gZnVuY3Rpb24oZGVsdGEsIHBvc2l0aW9uLCBzdGVwU2l6ZSkge1xuICB2YXIgY2FudmFzID0gdGhpcy5fY2FudmFzO1xuXG4gIHZhciBkaXJlY3Rpb24gPSBkZWx0YSA+IDAgPyAxIDogLTE7XG5cbiAgdmFyIGN1cnJlbnRMaW5lYXJab29tTGV2ZWwgPSBsb2cxMChjYW52YXMuem9vbSgpKTtcblxuICAvLyBzbmFwIHRvIGEgcHJveGltYXRlIHpvb20gc3RlcFxuICB2YXIgbmV3TGluZWFyWm9vbUxldmVsID0gTWF0aC5yb3VuZChjdXJyZW50TGluZWFyWm9vbUxldmVsIC8gc3RlcFNpemUpICogc3RlcFNpemU7XG5cbiAgLy8gaW5jcmVhc2Ugb3IgZGVjcmVhc2Ugb25lIHpvb20gc3RlcCBpbiB0aGUgZ2l2ZW4gZGlyZWN0aW9uXG4gIG5ld0xpbmVhclpvb21MZXZlbCArPSBzdGVwU2l6ZSAqIGRpcmVjdGlvbjtcblxuICAvLyBjYWxjdWxhdGUgdGhlIGFic29sdXRlIGxvZ2FyaXRobWljIHpvb20gbGV2ZWwgYmFzZWQgb24gdGhlIGxpbmVhciB6b29tIGxldmVsXG4gIC8vIChlLmcuIDIgZm9yIGFuIGFic29sdXRlIHgyIHpvb20pXG4gIHZhciBuZXdMb2dab29tTGV2ZWwgPSBNYXRoLnBvdygxMCwgbmV3TGluZWFyWm9vbUxldmVsKTtcblxuICBjYW52YXMuem9vbShjYXAoUkFOR0UsIG5ld0xvZ1pvb21MZXZlbCksIHBvc2l0aW9uKTtcbn07XG5cblxuLyoqXG4gKiBUb2dnbGUgdGhlIHpvb20gc2Nyb2xsIGFiaWxpdHkgdmlhIG1vdXNlIHdoZWVsLlxuICpcbiAqIEBwYXJhbSAge2Jvb2xlYW59IFtuZXdFbmFibGVkXSBuZXcgZW5hYmxlZCBzdGF0ZVxuICovXG5ab29tU2Nyb2xsLnByb3RvdHlwZS50b2dnbGUgPSBmdW5jdGlvbiB0b2dnbGUobmV3RW5hYmxlZCkge1xuXG4gIHZhciBlbGVtZW50ID0gdGhpcy5fY29udGFpbmVyO1xuICB2YXIgaGFuZGxlV2hlZWwgPSB0aGlzLl9oYW5kbGVXaGVlbDtcblxuICB2YXIgb2xkRW5hYmxlZCA9IHRoaXMuX2VuYWJsZWQ7XG5cbiAgaWYgKHR5cGVvZiBuZXdFbmFibGVkID09PSAndW5kZWZpbmVkJykge1xuICAgIG5ld0VuYWJsZWQgPSAhb2xkRW5hYmxlZDtcbiAgfVxuXG4gIC8vIG9ubHkgcmVhY3Qgb24gYWN0dWFsIGNoYW5nZXNcbiAgaWYgKG9sZEVuYWJsZWQgIT09IG5ld0VuYWJsZWQpIHtcblxuICAgIC8vIGFkZCBvciByZW1vdmUgd2hlZWwgbGlzdGVuZXIgYmFzZWQgb25cbiAgICAvLyBjaGFuZ2VkIGVuYWJsZWQgc3RhdGVcbiAgICBkb21FdmVudFtuZXdFbmFibGVkID8gJ2JpbmQnIDogJ3VuYmluZCddKGVsZW1lbnQsICd3aGVlbCcsIGhhbmRsZVdoZWVsLCBmYWxzZSk7XG4gIH1cblxuICB0aGlzLl9lbmFibGVkID0gbmV3RW5hYmxlZDtcblxuICByZXR1cm4gbmV3RW5hYmxlZDtcbn07XG5cblxuWm9vbVNjcm9sbC5wcm90b3R5cGUuX2luaXQgPSBmdW5jdGlvbihuZXdFbmFibGVkKSB7XG4gIHRoaXMudG9nZ2xlKG5ld0VuYWJsZWQpO1xufTtcbiIsImltcG9ydCBab29tU2Nyb2xsIGZyb20gJy4vWm9vbVNjcm9sbCc7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgX19pbml0X186IFsgJ3pvb21TY3JvbGwnIF0sXG4gIHpvb21TY3JvbGw6IFsgJ3R5cGUnLCBab29tU2Nyb2xsIF1cbn07IiwiaW1wb3J0IGluaGVyaXRzIGZyb20gJ2luaGVyaXRzJztcblxuaW1wb3J0IFZpZXdlciBmcm9tICcuL1ZpZXdlcic7XG5cbmltcG9ydCBLZXlib2FyZE1vdmVNb2R1bGUgZnJvbSAnZGlhZ3JhbS1qcy9saWIvbmF2aWdhdGlvbi9rZXlib2FyZC1tb3ZlJztcbmltcG9ydCBNb3ZlQ2FudmFzTW9kdWxlIGZyb20gJ2RpYWdyYW0tanMvbGliL25hdmlnYXRpb24vbW92ZWNhbnZhcyc7XG5pbXBvcnQgWm9vbVNjcm9sbE1vZHVsZSBmcm9tICdkaWFncmFtLWpzL2xpYi9uYXZpZ2F0aW9uL3pvb21zY3JvbGwnO1xuXG5cbi8qKlxuICogQSB2aWV3ZXIgdGhhdCBpbmNsdWRlcyBtb3VzZSBuYXZpZ2F0aW9uIGZhY2lsaXRpZXNcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBOYXZpZ2F0ZWRWaWV3ZXIob3B0aW9ucykge1xuICBWaWV3ZXIuY2FsbCh0aGlzLCBvcHRpb25zKTtcbn1cblxuaW5oZXJpdHMoTmF2aWdhdGVkVmlld2VyLCBWaWV3ZXIpO1xuXG5cbk5hdmlnYXRlZFZpZXdlci5wcm90b3R5cGUuX25hdmlnYXRpb25Nb2R1bGVzID0gW1xuICBLZXlib2FyZE1vdmVNb2R1bGUsXG4gIE1vdmVDYW52YXNNb2R1bGUsXG4gIFpvb21TY3JvbGxNb2R1bGVcbl07XG5cbk5hdmlnYXRlZFZpZXdlci5wcm90b3R5cGUuX21vZHVsZXMgPSBbXS5jb25jYXQoXG4gIFZpZXdlci5wcm90b3R5cGUuX21vZHVsZXMsXG4gIE5hdmlnYXRlZFZpZXdlci5wcm90b3R5cGUuX25hdmlnYXRpb25Nb2R1bGVzXG4pOyIsImltcG9ydCB7XG4gIGZvckVhY2hcbn0gZnJvbSAnbWluLWRhc2gnO1xuXG5pbXBvcnQge1xuICBldmVudCBhcyBkb21FdmVudCxcbiAgY2xvc2VzdCBhcyBkb21DbG9zZXN0XG59IGZyb20gJ21pbi1kb20nO1xuXG5pbXBvcnQgSGFtbWVyIGZyb20gJ2hhbW1lcmpzJztcblxuaW1wb3J0IHtcbiAgdG9Qb2ludFxufSBmcm9tICcuLi8uLi91dGlsL0V2ZW50JztcblxudmFyIE1JTl9aT09NID0gMC4yLFxuICAgIE1BWF9aT09NID0gNDtcblxudmFyIG1vdXNlRXZlbnRzID0gW1xuICAnbW91c2Vkb3duJyxcbiAgJ21vdXNldXAnLFxuICAnbW91c2VvdmVyJyxcbiAgJ21vdXNlb3V0JyxcbiAgJ2NsaWNrJyxcbiAgJ2RibGNsaWNrJ1xuXTtcblxuZnVuY3Rpb24gbG9nKCkge1xuXG4gIC8vIGNvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsIGFyZ3VtZW50cyk7XG59XG5cbmZ1bmN0aW9uIGdldChzZXJ2aWNlLCBpbmplY3Rvcikge1xuICByZXR1cm4gaW5qZWN0b3IuZ2V0KHNlcnZpY2UsIGZhbHNlKTtcbn1cblxuZnVuY3Rpb24gc3RvcEV2ZW50KGV2ZW50KSB7XG5cbiAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICBpZiAodHlwZW9mIGV2ZW50LnN0b3BQcm9wYWdhdGlvbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICB9IGVsc2UgaWYgKGV2ZW50LnNyY0V2ZW50ICYmIHR5cGVvZiBldmVudC5zcmNFdmVudC5zdG9wUHJvcGFnYXRpb24gPT09ICdmdW5jdGlvbicpIHtcblxuICAgIC8vIGlQaG9uZSAmIGlQYWRcbiAgICBldmVudC5zcmNFdmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uID09PSAnZnVuY3Rpb24nKSB7XG4gICAgZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gIH1cbn1cblxuXG5mdW5jdGlvbiBjcmVhdGVUb3VjaFJlY29nbml6ZXIobm9kZSkge1xuXG4gIGZ1bmN0aW9uIHN0b3BNb3VzZShldmVudCkge1xuXG4gICAgZm9yRWFjaChtb3VzZUV2ZW50cywgZnVuY3Rpb24oZSkge1xuICAgICAgZG9tRXZlbnQuYmluZChub2RlLCBlLCBzdG9wRXZlbnQsIHRydWUpO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gYWxsb3dNb3VzZShldmVudCkge1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICBmb3JFYWNoKG1vdXNlRXZlbnRzLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIGRvbUV2ZW50LnVuYmluZChub2RlLCBlLCBzdG9wRXZlbnQsIHRydWUpO1xuICAgICAgfSk7XG4gICAgfSwgNTAwKTtcbiAgfVxuXG4gIGRvbUV2ZW50LmJpbmQobm9kZSwgJ3RvdWNoc3RhcnQnLCBzdG9wTW91c2UsIHRydWUpO1xuICBkb21FdmVudC5iaW5kKG5vZGUsICd0b3VjaGVuZCcsIGFsbG93TW91c2UsIHRydWUpO1xuICBkb21FdmVudC5iaW5kKG5vZGUsICd0b3VjaGNhbmNlbCcsIGFsbG93TW91c2UsIHRydWUpO1xuXG4gIC8vIEEgdG91Y2ggZXZlbnQgcmVjb2duaXplciB0aGF0IGhhbmRsZXNcbiAgLy8gdG91Y2ggZXZlbnRzIG9ubHkgKHdlIGtub3csIHdlIGNhbiBhbHJlYWR5IGhhbmRsZVxuICAvLyBtb3VzZSBldmVudHMgb3V0IG9mIHRoZSBib3gpXG5cbiAgdmFyIHJlY29nbml6ZXIgPSBuZXcgSGFtbWVyLk1hbmFnZXIobm9kZSwge1xuICAgIGlucHV0Q2xhc3M6IEhhbW1lci5Ub3VjaElucHV0LFxuICAgIHJlY29nbml6ZXJzOiBbXSxcbiAgICBkb21FdmVudHM6IHRydWVcbiAgfSk7XG5cblxuICB2YXIgdGFwID0gbmV3IEhhbW1lci5UYXAoKTtcbiAgdmFyIHBhbiA9IG5ldyBIYW1tZXIuUGFuKHsgdGhyZXNob2xkOiAxMCB9KTtcbiAgdmFyIHByZXNzID0gbmV3IEhhbW1lci5QcmVzcygpO1xuICB2YXIgcGluY2ggPSBuZXcgSGFtbWVyLlBpbmNoKCk7XG5cbiAgdmFyIGRvdWJsZVRhcCA9IG5ldyBIYW1tZXIuVGFwKHsgZXZlbnQ6ICdkb3VibGV0YXAnLCB0YXBzOiAyIH0pO1xuXG4gIHBpbmNoLnJlcXVpcmVGYWlsdXJlKHBhbik7XG4gIHBpbmNoLnJlcXVpcmVGYWlsdXJlKHByZXNzKTtcblxuICByZWNvZ25pemVyLmFkZChbIHBhbiwgcHJlc3MsIHBpbmNoLCBkb3VibGVUYXAsIHRhcCBdKTtcblxuICByZWNvZ25pemVyLnJlc2V0ID0gZnVuY3Rpb24oZm9yY2UpIHtcbiAgICB2YXIgcmVjb2duaXplcnMgPSB0aGlzLnJlY29nbml6ZXJzLFxuICAgICAgICBzZXNzaW9uID0gdGhpcy5zZXNzaW9uO1xuXG4gICAgaWYgKHNlc3Npb24uc3RvcHBlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxvZygncmVjb2duaXplcicsICdzdG9wJyk7XG5cbiAgICByZWNvZ25pemVyLnN0b3AoZm9yY2UpO1xuXG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgIHZhciBpLCByO1xuXG4gICAgICBsb2coJ3JlY29nbml6ZXInLCAncmVzZXQnKTtcbiAgICAgIGZvciAoaSA9IDA7IChyID0gcmVjb2duaXplcnNbaV0pOyBpKyspIHtcbiAgICAgICAgci5yZXNldCgpO1xuICAgICAgICByLnN0YXRlID0gODsgLy8gRkFJTEVEIFNUQVRFXG4gICAgICB9XG5cbiAgICAgIHNlc3Npb24uY3VyUmVjb2duaXplciA9IG51bGw7XG4gICAgfSwgMCk7XG4gIH07XG5cbiAgcmVjb2duaXplci5vbignaGFtbWVyLmlucHV0JywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQuc3JjRXZlbnQuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgcmVjb2duaXplci5yZXNldCh0cnVlKTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiByZWNvZ25pemVyO1xufVxuXG4vKipcbiAqIEEgcGx1Z2luIHRoYXQgcHJvdmlkZXMgdG91Y2ggZXZlbnRzIGZvciBlbGVtZW50cy5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50QnVzfSBldmVudEJ1c1xuICogQHBhcmFtIHtJbnRlcmFjdGlvbkV2ZW50c30gaW50ZXJhY3Rpb25FdmVudHNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gVG91Y2hJbnRlcmFjdGlvbkV2ZW50cyhcbiAgICBpbmplY3RvciwgY2FudmFzLCBldmVudEJ1cyxcbiAgICBlbGVtZW50UmVnaXN0cnksIGludGVyYWN0aW9uRXZlbnRzKSB7XG5cbiAgLy8gb3B0aW9uYWwgaW50ZWdyYXRpb25zXG4gIHZhciBkcmFnZ2luZyA9IGdldCgnZHJhZ2dpbmcnLCBpbmplY3RvciksXG4gICAgICBtb3ZlID0gZ2V0KCdtb3ZlJywgaW5qZWN0b3IpLFxuICAgICAgY29udGV4dFBhZCA9IGdldCgnY29udGV4dFBhZCcsIGluamVjdG9yKSxcbiAgICAgIHBhbGV0dGUgPSBnZXQoJ3BhbGV0dGUnLCBpbmplY3Rvcik7XG5cbiAgLy8gdGhlIHRvdWNoIHJlY29nbml6ZXJcbiAgdmFyIHJlY29nbml6ZXI7XG5cbiAgZnVuY3Rpb24gaGFuZGxlcih0eXBlKSB7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIGxvZygnZWxlbWVudCcsIHR5cGUsIGV2ZW50KTtcblxuICAgICAgaW50ZXJhY3Rpb25FdmVudHMuZmlyZSh0eXBlLCBldmVudCk7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEdmeCh0YXJnZXQpIHtcbiAgICB2YXIgbm9kZSA9IGRvbUNsb3Nlc3QodGFyZ2V0LCAnc3ZnLCAuZGpzLWVsZW1lbnQnLCB0cnVlKTtcbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXRFdmVudHMoc3ZnKSB7XG5cbiAgICAvLyB0b3VjaCByZWNvZ25pemVyXG4gICAgcmVjb2duaXplciA9IGNyZWF0ZVRvdWNoUmVjb2duaXplcihzdmcpO1xuXG4gICAgcmVjb2duaXplci5vbignZG91YmxldGFwJywgaGFuZGxlcignZWxlbWVudC5kYmxjbGljaycpKTtcblxuICAgIHJlY29nbml6ZXIub24oJ3RhcCcsIGhhbmRsZXIoJ2VsZW1lbnQuY2xpY2snKSk7XG5cbiAgICBmdW5jdGlvbiBzdGFydEdyYWJDYW52YXMoZXZlbnQpIHtcblxuICAgICAgbG9nKCdjYW52YXMnLCAnZ3JhYiBzdGFydCcpO1xuXG4gICAgICB2YXIgbHggPSAwLCBseSA9IDA7XG5cbiAgICAgIGZ1bmN0aW9uIHVwZGF0ZShlKSB7XG5cbiAgICAgICAgdmFyIGR4ID0gZS5kZWx0YVggLSBseCxcbiAgICAgICAgICAgIGR5ID0gZS5kZWx0YVkgLSBseTtcblxuICAgICAgICBjYW52YXMuc2Nyb2xsKHsgZHg6IGR4LCBkeTogZHkgfSk7XG5cbiAgICAgICAgbHggPSBlLmRlbHRhWDtcbiAgICAgICAgbHkgPSBlLmRlbHRhWTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZW5kKGUpIHtcbiAgICAgICAgcmVjb2duaXplci5vZmYoJ3Bhbm1vdmUnLCB1cGRhdGUpO1xuICAgICAgICByZWNvZ25pemVyLm9mZigncGFuZW5kJywgZW5kKTtcbiAgICAgICAgcmVjb2duaXplci5vZmYoJ3BhbmNhbmNlbCcsIGVuZCk7XG5cbiAgICAgICAgbG9nKCdjYW52YXMnLCAnZ3JhYiBlbmQnKTtcbiAgICAgIH1cblxuICAgICAgcmVjb2duaXplci5vbigncGFubW92ZScsIHVwZGF0ZSk7XG4gICAgICByZWNvZ25pemVyLm9uKCdwYW5lbmQnLCBlbmQpO1xuICAgICAgcmVjb2duaXplci5vbigncGFuY2FuY2VsJywgZW5kKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzdGFydEdyYWIoZXZlbnQpIHtcblxuICAgICAgdmFyIGdmeCA9IGdldEdmeChldmVudC50YXJnZXQpLFxuICAgICAgICAgIGVsZW1lbnQgPSBnZnggJiYgZWxlbWVudFJlZ2lzdHJ5LmdldChnZngpO1xuXG4gICAgICAvLyByZWNvZ25pemVyXG4gICAgICBpZiAobW92ZSAmJiBjYW52YXMuZ2V0Um9vdEVsZW1lbnQoKSAhPT0gZWxlbWVudCkge1xuICAgICAgICBsb2coJ2VsZW1lbnQnLCAnbW92ZSBzdGFydCcsIGVsZW1lbnQsIGV2ZW50LCB0cnVlKTtcbiAgICAgICAgcmV0dXJuIG1vdmUuc3RhcnQoZXZlbnQsIGVsZW1lbnQsIHRydWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RhcnRHcmFiQ2FudmFzKGV2ZW50KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzdGFydFpvb20oZSkge1xuXG4gICAgICBsb2coJ2NhbnZhcycsICd6b29tIHN0YXJ0Jyk7XG5cbiAgICAgIHZhciB6b29tID0gY2FudmFzLnpvb20oKSxcbiAgICAgICAgICBtaWQgPSBlLmNlbnRlcjtcblxuICAgICAgZnVuY3Rpb24gdXBkYXRlKGUpIHtcblxuICAgICAgICB2YXIgcmF0aW8gPSAxIC0gKDEgLSBlLnNjYWxlKSAvIDEuNTAsXG4gICAgICAgICAgICBuZXdab29tID0gTWF0aC5tYXgoTUlOX1pPT00sIE1hdGgubWluKE1BWF9aT09NLCByYXRpbyAqIHpvb20pKTtcblxuICAgICAgICBjYW52YXMuem9vbShuZXdab29tLCBtaWQpO1xuXG4gICAgICAgIHN0b3BFdmVudChlKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZW5kKGUpIHtcbiAgICAgICAgcmVjb2duaXplci5vZmYoJ3BpbmNobW92ZScsIHVwZGF0ZSk7XG4gICAgICAgIHJlY29nbml6ZXIub2ZmKCdwaW5jaGVuZCcsIGVuZCk7XG4gICAgICAgIHJlY29nbml6ZXIub2ZmKCdwaW5jaGNhbmNlbCcsIGVuZCk7XG5cbiAgICAgICAgcmVjb2duaXplci5yZXNldCh0cnVlKTtcblxuICAgICAgICBsb2coJ2NhbnZhcycsICd6b29tIGVuZCcpO1xuICAgICAgfVxuXG4gICAgICByZWNvZ25pemVyLm9uKCdwaW5jaG1vdmUnLCB1cGRhdGUpO1xuICAgICAgcmVjb2duaXplci5vbigncGluY2hlbmQnLCBlbmQpO1xuICAgICAgcmVjb2duaXplci5vbigncGluY2hjYW5jZWwnLCBlbmQpO1xuICAgIH1cblxuICAgIHJlY29nbml6ZXIub24oJ3BhbnN0YXJ0Jywgc3RhcnRHcmFiKTtcbiAgICByZWNvZ25pemVyLm9uKCdwcmVzcycsIHN0YXJ0R3JhYik7XG5cbiAgICByZWNvZ25pemVyLm9uKCdwaW5jaHN0YXJ0Jywgc3RhcnRab29tKTtcbiAgfVxuXG4gIGlmIChkcmFnZ2luZykge1xuXG4gICAgLy8gc2ltdWxhdGUgaG92ZXIgZHVyaW5nIGRyYWdnaW5nXG4gICAgZXZlbnRCdXMub24oJ2RyYWcubW92ZScsIGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICAgIHZhciBvcmlnaW5hbEV2ZW50ID0gZXZlbnQub3JpZ2luYWxFdmVudDtcblxuICAgICAgaWYgKCFvcmlnaW5hbEV2ZW50IHx8IG9yaWdpbmFsRXZlbnQgaW5zdGFuY2VvZiBNb3VzZUV2ZW50KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIHBvc2l0aW9uID0gdG9Qb2ludChvcmlnaW5hbEV2ZW50KTtcblxuICAgICAgLy8gdGhpcyBnZXRzIHJlYWxseSBleHBlbnNpdmUgLi4uXG4gICAgICB2YXIgbm9kZSA9IGRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQocG9zaXRpb24ueCwgcG9zaXRpb24ueSksXG4gICAgICAgICAgZ2Z4ID0gZ2V0R2Z4KG5vZGUpLFxuICAgICAgICAgIGVsZW1lbnQgPSBnZnggJiYgZWxlbWVudFJlZ2lzdHJ5LmdldChnZngpO1xuXG4gICAgICBpZiAoZWxlbWVudCAhPT0gZXZlbnQuaG92ZXIpIHtcbiAgICAgICAgaWYgKGV2ZW50LmhvdmVyKSB7XG4gICAgICAgICAgZHJhZ2dpbmcub3V0KGV2ZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgICAgZHJhZ2dpbmcuaG92ZXIoeyBlbGVtZW50OiBlbGVtZW50LCBnZng6IGdmeCB9KTtcblxuICAgICAgICAgIGV2ZW50LmhvdmVyID0gZWxlbWVudDtcbiAgICAgICAgICBldmVudC5ob3ZlckdmeCA9IGdmeDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgaWYgKGNvbnRleHRQYWQpIHtcblxuICAgIGV2ZW50QnVzLm9uKCdjb250ZXh0UGFkLmNyZWF0ZScsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICB2YXIgbm9kZSA9IGV2ZW50LnBhZC5odG1sO1xuXG4gICAgICAvLyB0b3VjaCByZWNvZ25pemVyXG4gICAgICB2YXIgcGFkUmVjb2duaXplciA9IGNyZWF0ZVRvdWNoUmVjb2duaXplcihub2RlKTtcblxuICAgICAgcGFkUmVjb2duaXplci5vbigncGFuc3RhcnQnLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICBsb2coJ2NvbnRleHQtcGFkJywgJ3BhbnN0YXJ0JywgZXZlbnQpO1xuICAgICAgICBjb250ZXh0UGFkLnRyaWdnZXIoJ2RyYWdzdGFydCcsIGV2ZW50LCB0cnVlKTtcbiAgICAgIH0pO1xuXG4gICAgICBwYWRSZWNvZ25pemVyLm9uKCdwcmVzcycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIGxvZygnY29udGV4dC1wYWQnLCAncHJlc3MnLCBldmVudCk7XG4gICAgICAgIGNvbnRleHRQYWQudHJpZ2dlcignZHJhZ3N0YXJ0JywgZXZlbnQsIHRydWUpO1xuICAgICAgfSk7XG5cbiAgICAgIHBhZFJlY29nbml6ZXIub24oJ3RhcCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIGxvZygnY29udGV4dC1wYWQnLCAndGFwJywgZXZlbnQpO1xuICAgICAgICBjb250ZXh0UGFkLnRyaWdnZXIoJ2NsaWNrJywgZXZlbnQpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBpZiAocGFsZXR0ZSkge1xuICAgIGV2ZW50QnVzLm9uKCdwYWxldHRlLmNyZWF0ZScsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICB2YXIgbm9kZSA9IGV2ZW50LmNvbnRhaW5lcjtcblxuICAgICAgLy8gdG91Y2ggcmVjb2duaXplclxuICAgICAgdmFyIHBhZFJlY29nbml6ZXIgPSBjcmVhdGVUb3VjaFJlY29nbml6ZXIobm9kZSk7XG5cbiAgICAgIHBhZFJlY29nbml6ZXIub24oJ3BhbnN0YXJ0JywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgbG9nKCdwYWxldHRlJywgJ3BhbnN0YXJ0JywgZXZlbnQpO1xuICAgICAgICBwYWxldHRlLnRyaWdnZXIoJ2RyYWdzdGFydCcsIGV2ZW50LCB0cnVlKTtcbiAgICAgIH0pO1xuXG4gICAgICBwYWRSZWNvZ25pemVyLm9uKCdwcmVzcycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIGxvZygncGFsZXR0ZScsICdwcmVzcycsIGV2ZW50KTtcbiAgICAgICAgcGFsZXR0ZS50cmlnZ2VyKCdkcmFnc3RhcnQnLCBldmVudCwgdHJ1ZSk7XG4gICAgICB9KTtcblxuICAgICAgcGFkUmVjb2duaXplci5vbigndGFwJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgbG9nKCdwYWxldHRlJywgJ3RhcCcsIGV2ZW50KTtcbiAgICAgICAgcGFsZXR0ZS50cmlnZ2VyKCdjbGljaycsIGV2ZW50KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZXZlbnRCdXMub24oJ2NhbnZhcy5pbml0JywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBpbml0RXZlbnRzKGV2ZW50LnN2Zyk7XG4gIH0pO1xufVxuXG5cblRvdWNoSW50ZXJhY3Rpb25FdmVudHMuJGluamVjdCA9IFtcbiAgJ2luamVjdG9yJyxcbiAgJ2NhbnZhcycsXG4gICdldmVudEJ1cycsXG4gICdlbGVtZW50UmVnaXN0cnknLFxuICAnaW50ZXJhY3Rpb25FdmVudHMnLFxuICAndG91Y2hGaXgnXG5dO1xuIiwiaW1wb3J0IHtcbiAgYXBwZW5kIGFzIHN2Z0FwcGVuZCxcbiAgYXR0ciBhcyBzdmdBdHRyLFxuICBjcmVhdGUgYXMgc3ZnQ3JlYXRlXG59IGZyb20gJ3Rpbnktc3ZnJztcblxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBUb3VjaEZpeChjYW52YXMsIGV2ZW50QnVzKSB7XG5cbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIGV2ZW50QnVzLm9uKCdjYW52YXMuaW5pdCcsIGZ1bmN0aW9uKGUpIHtcbiAgICBzZWxmLmFkZEJCb3hNYXJrZXIoZS5zdmcpO1xuICB9KTtcbn1cblxuVG91Y2hGaXguJGluamVjdCA9IFsgJ2NhbnZhcycsICdldmVudEJ1cycgXTtcblxuXG4vKipcbiAqIFNhZmFyaSBtb2JpbGUgKGlPUyA3KSBkb2VzIG5vdCBmaXJlIHRvdWNoc3RhcnQgZXZlbnQgaW4gPFNWRz4gZWxlbWVudFxuICogaWYgdGhlcmUgaXMgbm8gc2hhcGUgYmV0d2VlbiAwLDAgYW5kIHZpZXdwb3J0IGVsZW1lbnRzIG9yaWdpbi5cbiAqXG4gKiBTbyB0b3VjaHN0YXJ0IGV2ZW50IGlzIG9ubHkgZmlyZWQgd2hlbiB0aGUgPGcgY2xhc3M9XCJ2aWV3cG9ydFwiPiBlbGVtZW50IHdhcyBoaXQuXG4gKiBQdXR0aW5nIGFuIGVsZW1lbnQgb3ZlciBhbmQgYmVsb3cgdGhlICd2aWV3cG9ydCcgZml4ZXMgdGhhdCBiZWhhdmlvci5cbiAqL1xuVG91Y2hGaXgucHJvdG90eXBlLmFkZEJCb3hNYXJrZXIgPSBmdW5jdGlvbihzdmcpIHtcblxuICB2YXIgbWFya2VyU3R5bGUgPSB7XG4gICAgZmlsbDogJ25vbmUnLFxuICAgIGNsYXNzOiAnb3V0ZXItYm91bmQtbWFya2VyJ1xuICB9O1xuXG4gIHZhciByZWN0MSA9IHN2Z0NyZWF0ZSgncmVjdCcpO1xuICBzdmdBdHRyKHJlY3QxLCB7XG4gICAgeDogLTEwMDAwLFxuICAgIHk6IDEwMDAwLFxuICAgIHdpZHRoOiAxMCxcbiAgICBoZWlnaHQ6IDEwXG4gIH0pO1xuICBzdmdBdHRyKHJlY3QxLCBtYXJrZXJTdHlsZSk7XG5cbiAgc3ZnQXBwZW5kKHN2ZywgcmVjdDEpO1xuXG4gIHZhciByZWN0MiA9IHN2Z0NyZWF0ZSgncmVjdCcpO1xuICBzdmdBdHRyKHJlY3QyLCB7XG4gICAgeDogMTAwMDAsXG4gICAgeTogMTAwMDAsXG4gICAgd2lkdGg6IDEwLFxuICAgIGhlaWdodDogMTBcbiAgfSk7XG4gIHN2Z0F0dHIocmVjdDIsIG1hcmtlclN0eWxlKTtcblxuICBzdmdBcHBlbmQoc3ZnLCByZWN0Mik7XG59O1xuIiwiaW1wb3J0IEludGVyYWN0aW9uRXZlbnRzTW9kdWxlIGZyb20gJy4uL2ludGVyYWN0aW9uLWV2ZW50cyc7XG5cbmltcG9ydCBUb3VjaEludGVyYWN0aW9uRXZlbnRzIGZyb20gJy4vVG91Y2hJbnRlcmFjdGlvbkV2ZW50cyc7XG5pbXBvcnQgVG91Y2hGaXggZnJvbSAnLi9Ub3VjaEZpeCc7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgX19kZXBlbmRzX186IFsgSW50ZXJhY3Rpb25FdmVudHNNb2R1bGUgXSxcbiAgX19pbml0X186IFsgJ3RvdWNoSW50ZXJhY3Rpb25FdmVudHMnIF0sXG4gIHRvdWNoSW50ZXJhY3Rpb25FdmVudHM6IFsgJ3R5cGUnLCBUb3VjaEludGVyYWN0aW9uRXZlbnRzIF0sXG4gIHRvdWNoRml4OiBbICd0eXBlJywgVG91Y2hGaXggXVxufTsiLCJpbXBvcnQgVG91Y2hNb2R1bGUgZnJvbSAnLi4vLi4vZmVhdHVyZXMvdG91Y2gnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9fZGVwZW5kc19fOiBbXG4gICAgVG91Y2hNb2R1bGVcbiAgXVxufTsiLCJpbXBvcnQge1xuICBmaWx0ZXIsXG4gIGZvckVhY2gsXG4gIHNvcnRCeVxufSBmcm9tICdtaW4tZGFzaCc7XG5cbmZ1bmN0aW9uIGxhc3QoYXJyKSB7XG4gIHJldHVybiBhcnIgJiYgYXJyW2Fyci5sZW5ndGggLSAxXTtcbn1cblxuZnVuY3Rpb24gc29ydFRvcE9yTWlkZGxlKGVsZW1lbnQpIHtcbiAgcmV0dXJuIGVsZW1lbnQueTtcbn1cblxuZnVuY3Rpb24gc29ydExlZnRPckNlbnRlcihlbGVtZW50KSB7XG4gIHJldHVybiBlbGVtZW50Lng7XG59XG5cbi8qKlxuICogU29ydGluZyBmdW5jdGlvbnMgZm9yIGRpZmZlcmVudCB0eXBlcyBvZiBhbGlnbm1lbnRcbiAqXG4gKiBAdHlwZSB7T2JqZWN0fVxuICpcbiAqIEByZXR1cm4ge0Z1bmN0aW9ufVxuICovXG52YXIgQUxJR05NRU5UX1NPUlRJTkcgPSB7XG4gIGxlZnQ6IHNvcnRMZWZ0T3JDZW50ZXIsXG4gIGNlbnRlcjogc29ydExlZnRPckNlbnRlcixcbiAgcmlnaHQ6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICByZXR1cm4gZWxlbWVudC54ICsgZWxlbWVudC53aWR0aDtcbiAgfSxcbiAgdG9wOiBzb3J0VG9wT3JNaWRkbGUsXG4gIG1pZGRsZTogc29ydFRvcE9yTWlkZGxlLFxuICBib3R0b206IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICByZXR1cm4gZWxlbWVudC55ICsgZWxlbWVudC5oZWlnaHQ7XG4gIH1cbn07XG5cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQWxpZ25FbGVtZW50cyhtb2RlbGluZykge1xuICB0aGlzLl9tb2RlbGluZyA9IG1vZGVsaW5nO1xufVxuXG5BbGlnbkVsZW1lbnRzLiRpbmplY3QgPSBbICdtb2RlbGluZycgXTtcblxuXG4vKipcbiAqIEdldCB0aGUgcmVsZXZhbnQgXCJheGlzXCIgYW5kIFwiZGltZW5zaW9uXCIgcmVsYXRlZCB0byB0aGUgY3VycmVudCB0eXBlIG9mIGFsaWdubWVudFxuICpcbiAqIEBwYXJhbSAge3N0cmluZ30gdHlwZSBsZWZ0fHJpZ2h0fGNlbnRlcnx0b3B8Ym90dG9tfG1pZGRsZVxuICpcbiAqIEByZXR1cm4ge09iamVjdH0geyBheGlzLCBkaW1lbnNpb24gfVxuICovXG5BbGlnbkVsZW1lbnRzLnByb3RvdHlwZS5fZ2V0T3JpZW50YXRpb25EZXRhaWxzID0gZnVuY3Rpb24odHlwZSkge1xuICB2YXIgdmVydGljYWwgPSBbICd0b3AnLCAnYm90dG9tJywgJ21pZGRsZScgXSxcbiAgICAgIGF4aXMgPSAneCcsXG4gICAgICBkaW1lbnNpb24gPSAnd2lkdGgnO1xuXG4gIGlmICh2ZXJ0aWNhbC5pbmRleE9mKHR5cGUpICE9PSAtMSkge1xuICAgIGF4aXMgPSAneSc7XG4gICAgZGltZW5zaW9uID0gJ2hlaWdodCc7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGF4aXM6IGF4aXMsXG4gICAgZGltZW5zaW9uOiBkaW1lbnNpb25cbiAgfTtcbn07XG5cbkFsaWduRWxlbWVudHMucHJvdG90eXBlLl9pc1R5cGUgPSBmdW5jdGlvbih0eXBlLCB0eXBlcykge1xuICByZXR1cm4gdHlwZXMuaW5kZXhPZih0eXBlKSAhPT0gLTE7XG59O1xuXG4vKipcbiAqIEdldCBhIHBvaW50IG9uIHRoZSByZWxldmFudCBheGlzIHdoZXJlIGVsZW1lbnRzIHNob3VsZCBhbGlnbiB0b1xuICpcbiAqIEBwYXJhbSAge3N0cmluZ30gdHlwZSBsZWZ0fHJpZ2h0fGNlbnRlcnx0b3B8Ym90dG9tfG1pZGRsZVxuICogQHBhcmFtICB7QXJyYXl9IHNvcnRlZEVsZW1lbnRzXG4gKlxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5BbGlnbkVsZW1lbnRzLnByb3RvdHlwZS5fYWxpZ25tZW50UG9zaXRpb24gPSBmdW5jdGlvbih0eXBlLCBzb3J0ZWRFbGVtZW50cykge1xuICB2YXIgb3JpZW50YXRpb24gPSB0aGlzLl9nZXRPcmllbnRhdGlvbkRldGFpbHModHlwZSksXG4gICAgICBheGlzID0gb3JpZW50YXRpb24uYXhpcyxcbiAgICAgIGRpbWVuc2lvbiA9IG9yaWVudGF0aW9uLmRpbWVuc2lvbixcbiAgICAgIGFsaWdubWVudCA9IHt9LFxuICAgICAgY2VudGVycyA9IHt9LFxuICAgICAgaGFzU2hhcmVkQ2VudGVycyA9IGZhbHNlLFxuICAgICAgY2VudGVyZWRFbGVtZW50cyxcbiAgICAgIGZpcnN0RWxlbWVudCxcbiAgICAgIGxhc3RFbGVtZW50O1xuXG4gIGZ1bmN0aW9uIGdldE1pZGRsZU9yVG9wKGZpcnN0LCBsYXN0KSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQoKGZpcnN0W2F4aXNdICsgbGFzdFtheGlzXSArIGxhc3RbZGltZW5zaW9uXSkgLyAyKTtcbiAgfVxuXG4gIGlmICh0aGlzLl9pc1R5cGUodHlwZSwgWyAnbGVmdCcsICd0b3AnIF0pKSB7XG4gICAgYWxpZ25tZW50W3R5cGVdID0gc29ydGVkRWxlbWVudHNbMF1bYXhpc107XG5cbiAgfSBlbHNlIGlmICh0aGlzLl9pc1R5cGUodHlwZSwgWyAncmlnaHQnLCAnYm90dG9tJyBdKSkge1xuICAgIGxhc3RFbGVtZW50ID0gbGFzdChzb3J0ZWRFbGVtZW50cyk7XG5cbiAgICBhbGlnbm1lbnRbdHlwZV0gPSBsYXN0RWxlbWVudFtheGlzXSArIGxhc3RFbGVtZW50W2RpbWVuc2lvbl07XG5cbiAgfSBlbHNlIGlmICh0aGlzLl9pc1R5cGUodHlwZSwgWyAnY2VudGVyJywgJ21pZGRsZScgXSkpIHtcblxuICAgIC8vIGNoZWNrIGlmIHRoZXJlIGlzIGEgY2VudGVyIHNoYXJlZCBieSBtb3JlIHRoYW4gb25lIHNoYXBlXG4gICAgLy8gaWYgbm90LCBqdXN0IHRha2UgdGhlIG1pZGRsZSBvZiB0aGUgcmFuZ2VcbiAgICBmb3JFYWNoKHNvcnRlZEVsZW1lbnRzLCBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICB2YXIgY2VudGVyID0gZWxlbWVudFtheGlzXSArIE1hdGgucm91bmQoZWxlbWVudFtkaW1lbnNpb25dIC8gMik7XG5cbiAgICAgIGlmIChjZW50ZXJzW2NlbnRlcl0pIHtcbiAgICAgICAgY2VudGVyc1tjZW50ZXJdLmVsZW1lbnRzLnB1c2goZWxlbWVudCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjZW50ZXJzW2NlbnRlcl0gPSB7XG4gICAgICAgICAgZWxlbWVudHM6IFsgZWxlbWVudCBdLFxuICAgICAgICAgIGNlbnRlcjogY2VudGVyXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBjZW50ZXJlZEVsZW1lbnRzID0gc29ydEJ5KGNlbnRlcnMsIGZ1bmN0aW9uKGNlbnRlcikge1xuICAgICAgaWYgKGNlbnRlci5lbGVtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGhhc1NoYXJlZENlbnRlcnMgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY2VudGVyLmVsZW1lbnRzLmxlbmd0aDtcbiAgICB9KTtcblxuICAgIGlmIChoYXNTaGFyZWRDZW50ZXJzKSB7XG4gICAgICBhbGlnbm1lbnRbdHlwZV0gPSBsYXN0KGNlbnRlcmVkRWxlbWVudHMpLmNlbnRlcjtcblxuICAgICAgcmV0dXJuIGFsaWdubWVudDtcbiAgICB9XG5cbiAgICBmaXJzdEVsZW1lbnQgPSBzb3J0ZWRFbGVtZW50c1swXTtcblxuICAgIHNvcnRlZEVsZW1lbnRzID0gc29ydEJ5KHNvcnRlZEVsZW1lbnRzLCBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICByZXR1cm4gZWxlbWVudFtheGlzXSArIGVsZW1lbnRbZGltZW5zaW9uXTtcbiAgICB9KTtcblxuICAgIGxhc3RFbGVtZW50ID0gbGFzdChzb3J0ZWRFbGVtZW50cyk7XG5cbiAgICBhbGlnbm1lbnRbdHlwZV0gPSBnZXRNaWRkbGVPclRvcChmaXJzdEVsZW1lbnQsIGxhc3RFbGVtZW50KTtcbiAgfVxuXG4gIHJldHVybiBhbGlnbm1lbnQ7XG59O1xuXG4vKipcbiAqIEV4ZWN1dGVzIHRoZSBhbGlnbm1lbnQgb2YgYSBzZWxlY3Rpb24gb2YgZWxlbWVudHNcbiAqXG4gKiBAcGFyYW0gIHtBcnJheX0gZWxlbWVudHMgW2Rlc2NyaXB0aW9uXVxuICogQHBhcmFtICB7c3RyaW5nfSB0eXBlIGxlZnR8cmlnaHR8Y2VudGVyfHRvcHxib3R0b218bWlkZGxlXG4gKi9cbkFsaWduRWxlbWVudHMucHJvdG90eXBlLnRyaWdnZXIgPSBmdW5jdGlvbihlbGVtZW50cywgdHlwZSkge1xuICB2YXIgbW9kZWxpbmcgPSB0aGlzLl9tb2RlbGluZztcblxuICB2YXIgZmlsdGVyZWRFbGVtZW50cyA9IGZpbHRlcihlbGVtZW50cywgZnVuY3Rpb24oZWxlbWVudCkge1xuICAgIHJldHVybiAhKGVsZW1lbnQud2F5cG9pbnRzIHx8IGVsZW1lbnQuaG9zdCB8fCBlbGVtZW50LmxhYmVsVGFyZ2V0KTtcbiAgfSk7XG5cbiAgaWYgKGZpbHRlcmVkRWxlbWVudHMubGVuZ3RoIDwgMikge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBzb3J0Rm4gPSBBTElHTk1FTlRfU09SVElOR1t0eXBlXTtcblxuICB2YXIgc29ydGVkRWxlbWVudHMgPSBzb3J0QnkoZmlsdGVyZWRFbGVtZW50cywgc29ydEZuKTtcblxuICB2YXIgYWxpZ25tZW50ID0gdGhpcy5fYWxpZ25tZW50UG9zaXRpb24odHlwZSwgc29ydGVkRWxlbWVudHMpO1xuXG4gIG1vZGVsaW5nLmFsaWduRWxlbWVudHMoc29ydGVkRWxlbWVudHMsIGFsaWdubWVudCk7XG59O1xuIiwiaW1wb3J0IEFsaWduRWxlbWVudHMgZnJvbSAnLi9BbGlnbkVsZW1lbnRzJztcblxuZXhwb3J0IGRlZmF1bHQge1xuICBfX2luaXRfXzogWyAnYWxpZ25FbGVtZW50cycgXSxcbiAgYWxpZ25FbGVtZW50czogWyAndHlwZScsIEFsaWduRWxlbWVudHMgXVxufTtcbiIsImltcG9ydCB7XG4gIGNsb3Nlc3QgYXMgZG9tQ2xvc2VzdFxufSBmcm9tICdtaW4tZG9tJztcblxuaW1wb3J0IHtcbiAgdG9Qb2ludFxufSBmcm9tICcuLi8uLi91dGlsL0V2ZW50JztcblxudmFyIEhJR0hfUFJJT1JJVFkgPSAxNTAwO1xuXG5cbi8qKlxuICogQnJvd3NlcnMgbWF5IHN3YWxsb3cgY2VydGFpbiBldmVudHMgKGhvdmVyLCBvdXQgLi4uKSBpZiB1c2VycyBhcmUgdG9cbiAqIGZhc3Qgd2l0aCB0aGUgbW91c2UuXG4gKlxuICogQHNlZSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzc0NDg0Njgvd2h5LWNhbnQtaS1yZWxpYWJseS1jYXB0dXJlLWEtbW91c2VvdXQtZXZlbnRcbiAqXG4gKiBUaGUgZml4IGltcGxlbWVudGVkIGluIHRoaXMgY29tcG9uZW50IGVuc3VyZSB0aGF0IHdlXG4gKlxuICogMSkgaGF2ZSBhIGhvdmVyIHN0YXRlIGFmdGVyIGEgc3VjY2Vzc2Z1bCBkcmFnLm1vdmUgZXZlbnRcbiAqIDIpIGhhdmUgYW4gb3V0IGV2ZW50IHdoZW4gZHJhZ2dpbmcgbGVhdmVzIGFuIGVsZW1lbnRcbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnRSZWdpc3RyeX0gZWxlbWVudFJlZ2lzdHJ5XG4gKiBAcGFyYW0ge0V2ZW50QnVzfSBldmVudEJ1c1xuICogQHBhcmFtIHtJbmplY3Rvcn0gaW5qZWN0b3JcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gSG92ZXJGaXgoZWxlbWVudFJlZ2lzdHJ5LCBldmVudEJ1cywgaW5qZWN0b3IpIHtcblxuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgdmFyIGRyYWdnaW5nID0gaW5qZWN0b3IuZ2V0KCdkcmFnZ2luZycsIGZhbHNlKTtcblxuICAvKipcbiAgICogTWFrZSBzdXJlIHdlIGFyZSBnb2QgZGFtbiBob3ZlcmluZyFcbiAgICpcbiAgICogQHBhcmFtIHtFdmVudH0gZHJhZ2dpbmcgZXZlbnRcbiAgICovXG4gIGZ1bmN0aW9uIGVuc3VyZUhvdmVyKGV2ZW50KSB7XG5cbiAgICBpZiAoZXZlbnQuaG92ZXIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgb3JpZ2luYWxFdmVudCA9IGV2ZW50Lm9yaWdpbmFsRXZlbnQ7XG5cbiAgICB2YXIgZ2Z4ID0gc2VsZi5fZmluZFRhcmdldEdmeChvcmlnaW5hbEV2ZW50KTtcblxuICAgIHZhciBlbGVtZW50ID0gZ2Z4ICYmIGVsZW1lbnRSZWdpc3RyeS5nZXQoZ2Z4KTtcblxuICAgIGlmIChnZnggJiYgZWxlbWVudCkge1xuXG4gICAgICAvLyAxKSBjYW5jZWwgY3VycmVudCBtb3VzZW1vdmVcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAvLyAyKSBlbWl0IGZha2UgaG92ZXIgZm9yIG5ldyB0YXJnZXRcbiAgICAgIGRyYWdnaW5nLmhvdmVyKHsgZWxlbWVudDogZWxlbWVudCwgZ2Z4OiBnZnggfSk7XG5cbiAgICAgIC8vIDMpIHJlLXRyaWdnZXIgbW92ZSBldmVudFxuICAgICAgZHJhZ2dpbmcubW92ZShvcmlnaW5hbEV2ZW50KTtcbiAgICB9XG4gIH1cblxuXG4gIGlmIChkcmFnZ2luZykge1xuXG4gICAgLyoqXG4gICAgICogV2Ugd2FpdCBmb3IgYSBzcGVjaWZpYyBzZXF1ZW5jZSBvZiBldmVudHMgYmVmb3JlXG4gICAgICogZW1pdHRpbmcgYSBmYWtlIGRyYWcuaG92ZXIgZXZlbnQuXG4gICAgICpcbiAgICAgKiBFdmVudCBTZXF1ZW5jZTpcbiAgICAgKlxuICAgICAqIGRyYWcuc3RhcnRcbiAgICAgKiBkcmFnLm1vdmUgPj4gZW5zdXJlIHdlIGFyZSBob3ZlcmluZ1xuICAgICAqL1xuICAgIGV2ZW50QnVzLm9uKCdkcmFnLnN0YXJ0JywgZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgICAgZXZlbnRCdXMub25jZSgnZHJhZy5tb3ZlJywgSElHSF9QUklPUklUWSwgZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgICAgICBlbnN1cmVIb3ZlcihldmVudCk7XG5cbiAgICAgIH0pO1xuXG4gICAgfSk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBXZSBtYWtlIHN1cmUgdGhhdCBlbGVtZW50Lm91dCBpcyBhbHdheXMgZmlyZWQsIGV2ZW4gaWYgdGhlXG4gICAqIGJyb3dzZXIgc3dhbGxvd3MgYW4gZWxlbWVudC5vdXQgZXZlbnQuXG4gICAqXG4gICAqIEV2ZW50IHNlcXVlbmNlOlxuICAgKlxuICAgKiBlbGVtZW50LmhvdmVyXG4gICAqIChlbGVtZW50Lm91dCA+PiBzb21ldGltZXMgc3dhbGxvd2VkKVxuICAgKiBlbGVtZW50LmhvdmVyID4+IGVuc3VyZSB3ZSBmaXJlZCBlbGVtZW50Lm91dFxuICAgKi9cbiAgKGZ1bmN0aW9uKCkge1xuICAgIHZhciBob3ZlckdmeDtcbiAgICB2YXIgaG92ZXI7XG5cbiAgICBldmVudEJ1cy5vbignZWxlbWVudC5ob3ZlcicsIGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICAgIC8vICgxKSByZW1lbWJlciBjdXJyZW50IGhvdmVyIGVsZW1lbnRcbiAgICAgIGhvdmVyR2Z4ID0gZXZlbnQuZ2Z4O1xuICAgICAgaG92ZXIgPSBldmVudC5lbGVtZW50O1xuICAgIH0pO1xuXG4gICAgZXZlbnRCdXMub24oJ2VsZW1lbnQuaG92ZXInLCBISUdIX1BSSU9SSVRZLCBmdW5jdGlvbihldmVudCkge1xuXG4gICAgICAvLyAoMykgYW0gSSBvbiBhbiBlbGVtZW50IHN0aWxsP1xuICAgICAgaWYgKGhvdmVyKSB7XG5cbiAgICAgICAgLy8gKDQpIHRoYXQgaXMgYSBwcm9ibGVtLCBnb3R0YSBcInNpbXVsYXRlIHRoZSBvdXRcIlxuICAgICAgICBldmVudEJ1cy5maXJlKCdlbGVtZW50Lm91dCcsIHtcbiAgICAgICAgICBlbGVtZW50OiBob3ZlcixcbiAgICAgICAgICBnZng6IGhvdmVyR2Z4XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgfSk7XG5cbiAgICBldmVudEJ1cy5vbignZWxlbWVudC5vdXQnLCBmdW5jdGlvbigpIHtcblxuICAgICAgLy8gKDIpIHVuc2V0IGhvdmVyIHN0YXRlIGlmIHdlIGNvcnJlY3RseSBvdXRlZCB1cyAqR0cqXG4gICAgICBob3ZlckdmeCA9IG51bGw7XG4gICAgICBob3ZlciA9IG51bGw7XG4gICAgfSk7XG5cbiAgfSkoKTtcblxuICB0aGlzLl9maW5kVGFyZ2V0R2Z4ID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgcG9zaXRpb24sXG4gICAgICAgIHRhcmdldDtcblxuICAgIGlmICghKGV2ZW50IGluc3RhbmNlb2YgTW91c2VFdmVudCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBwb3NpdGlvbiA9IHRvUG9pbnQoZXZlbnQpO1xuXG4gICAgLy8gZGFtbiBleHBlbnNpdmUgb3BlcmF0aW9uLCBvdWNoIVxuICAgIHRhcmdldCA9IGRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQocG9zaXRpb24ueCwgcG9zaXRpb24ueSk7XG5cbiAgICByZXR1cm4gZ2V0R2Z4KHRhcmdldCk7XG4gIH07XG5cbn1cblxuSG92ZXJGaXguJGluamVjdCA9IFtcbiAgJ2VsZW1lbnRSZWdpc3RyeScsXG4gICdldmVudEJ1cycsXG4gICdpbmplY3Rvcidcbl07XG5cblxuLy8gaGVscGVycyAvLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuZnVuY3Rpb24gZ2V0R2Z4KHRhcmdldCkge1xuICByZXR1cm4gZG9tQ2xvc2VzdCh0YXJnZXQsICdzdmcsIC5kanMtZWxlbWVudCcsIHRydWUpO1xufSIsImltcG9ydCBIb3ZlckZpeCBmcm9tICcuL0hvdmVyRml4JztcblxuZXhwb3J0IGRlZmF1bHQge1xuICBfX2luaXRfXzogW1xuICAgICdob3ZlckZpeCdcbiAgXSxcbiAgaG92ZXJGaXg6IFsgJ3R5cGUnLCBIb3ZlckZpeCBdLFxufTsiLCJ2YXIgcm91bmQgPSBNYXRoLnJvdW5kO1xuXG5pbXBvcnQgeyBhc3NpZ24gfSBmcm9tICdtaW4tZGFzaCc7XG5cbmltcG9ydCB7XG4gIGV2ZW50IGFzIGRvbUV2ZW50XG59IGZyb20gJ21pbi1kb20nO1xuXG5pbXBvcnQge1xuICBnZXRPcmlnaW5hbCxcbiAgdG9Qb2ludCxcbiAgc3RvcFByb3BhZ2F0aW9uXG59IGZyb20gJy4uLy4uL3V0aWwvRXZlbnQnO1xuXG5pbXBvcnQge1xuICBzZXQgYXMgY3Vyc29yU2V0LFxuICB1bnNldCBhcyBjdXJzb3JVbnNldFxufSBmcm9tICcuLi8uLi91dGlsL0N1cnNvcic7XG5cbmltcG9ydCB7XG4gIGluc3RhbGwgYXMgaW5zdGFsbENsaWNrVHJhcFxufSBmcm9tICcuLi8uLi91dGlsL0NsaWNrVHJhcCc7XG5cbmltcG9ydCB7XG4gIGRlbHRhIGFzIGRlbHRhUG9zXG59IGZyb20gJy4uLy4uL3V0aWwvUG9zaXRpb25VdGlsJztcblxudmFyIERSQUdfQUNUSVZFX0NMUyA9ICdkanMtZHJhZy1hY3RpdmUnO1xuXG5cbmZ1bmN0aW9uIHByZXZlbnREZWZhdWx0KGV2ZW50KSB7XG4gIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG59XG5cbmZ1bmN0aW9uIGlzVG91Y2hFdmVudChldmVudCkge1xuXG4gIC8vIGNoZWNrIGZvciBUb3VjaEV2ZW50IGJlaW5nIGF2YWlsYWJsZSBmaXJzdFxuICAvLyAoaS5lLiBub3QgYXZhaWxhYmxlIG9uIGRlc2t0b3AgRmlyZWZveClcbiAgcmV0dXJuIHR5cGVvZiBUb3VjaEV2ZW50ICE9PSAndW5kZWZpbmVkJyAmJiBldmVudCBpbnN0YW5jZW9mIFRvdWNoRXZlbnQ7XG59XG5cbmZ1bmN0aW9uIGdldExlbmd0aChwb2ludCkge1xuICByZXR1cm4gTWF0aC5zcXJ0KE1hdGgucG93KHBvaW50LngsIDIpICsgTWF0aC5wb3cocG9pbnQueSwgMikpO1xufVxuXG4vKipcbiAqIEEgaGVscGVyIHRoYXQgZmlyZXMgY2FudmFzIGxvY2FsaXplZCBkcmFnIGV2ZW50cyBhbmQgcmVhbGl6ZXNcbiAqIHRoZSBnZW5lcmFsIFwiZHJhZy1hbmQtZHJvcFwiIGxvb2sgYW5kIGZlZWwuXG4gKlxuICogQ2FsbGluZyB7QGxpbmsgRHJhZ2dpbmcjYWN0aXZhdGV9IGFjdGl2YXRlcyBkcmFnZ2luZyBvbiBhIGNhbnZhcy5cbiAqXG4gKiBJdCBwcm92aWRlcyB0aGUgZm9sbG93aW5nOlxuICpcbiAqICAgKiBlbWl0cyBsaWZlIGN5Y2xlIGV2ZW50cywgbmFtZXNwYWNlZCB3aXRoIGEgcHJlZml4IGFzc2lnbmVkXG4gKiAgICAgZHVyaW5nIGRyYWdnaW5nIGFjdGl2YXRpb25cbiAqICAgKiBzZXRzIGFuZCByZXN0b3JlcyB0aGUgY3Vyc29yXG4gKiAgICogc2V0cyBhbmQgcmVzdG9yZXMgdGhlIHNlbGVjdGlvbiBpZiBlbGVtZW50cyBzdGlsbCBleGlzdFxuICogICAqIGVuc3VyZXMgdGhlcmUgY2FuIGJlIG9ubHkgb25lIGRyYWcgb3BlcmF0aW9uIGFjdGl2ZSBhdCBhIHRpbWVcbiAqXG4gKiBEcmFnZ2luZyBtYXkgYmUgY2FuY2VsZWQgbWFudWFsbHkgYnkgY2FsbGluZyB7QGxpbmsgRHJhZ2dpbmcjY2FuY2VsfVxuICogb3IgYnkgcHJlc3NpbmcgRVNDLlxuICpcbiAqXG4gKiAjIyBMaWZlLWN5Y2xlIGV2ZW50c1xuICpcbiAqIERyYWdnaW5nIGNhbiBiZSBpbiB0aHJlZSBkaWZmZXJlbnQgc3RhdGVzLCBvZmYsIGluaXRpYWxpemVkXG4gKiBhbmQgYWN0aXZlLlxuICpcbiAqICgxKSBvZmY6IG5vIGRyYWdnaW5nIG9wZXJhdGlvbiBpcyBpbiBwcm9ncmVzc1xuICogKDIpIGluaXRpYWxpemVkOiBhIG5ldyBkcmFnIG9wZXJhdGlvbiBnb3QgaW5pdGlhbGl6ZWQgYnV0IG5vdCB5ZXRcbiAqICAgICAgICAgICAgICAgICAgc3RhcnRlZCAoaS5lLiBiZWNhdXNlIG9mIG5vIGluaXRpYWwgbW92ZSlcbiAqICgzKSBzdGFydGVkOiBkcmFnZ2luZyBpcyBpbiBwcm9ncmVzc1xuICpcbiAqIEV2ZW50dWFsbHkgZHJhZ2dpbmcgd2lsbCBiZSBvZmYgYWdhaW4gYWZ0ZXIgYSBkcmFnIG9wZXJhdGlvbiBoYXNcbiAqIGJlZW4gZW5kZWQgb3IgY2FuY2VsZWQgdmlhIHVzZXIgY2xpY2sgb3IgRVNDIGtleSBwcmVzcy5cbiAqXG4gKiBUbyBpbmRpY2F0ZSB0cmFuc2l0aW9ucyBiZXR3ZWVuIHRoZXNlIHN0YXRlcyBkcmFnZ2luZyBlbWl0cyBnZW5lcmljXG4gKiBsaWZlLWN5Y2xlIGV2ZW50cyB3aXRoIHRoZSBgZHJhZy5gIHByZWZpeCBfYW5kXyBldmVudHMgbmFtZXNwYWNlZFxuICogdG8gYSBwcmVmaXggY2hvb3NlbiBieSBhIHVzZXIgZHVyaW5nIGRyYWcgaW5pdGlhbGl6YXRpb24uXG4gKlxuICogVGhlIGZvbGxvd2luZyBldmVudHMgYXJlIGVtaXR0ZWQgKGFwcHJvcHJpYXRlbHkgcHJlZml4ZWQpIHZpYVxuICogdGhlIHtAbGluayBFdmVudEJ1c30uXG4gKlxuICogKiBgaW5pdGBcbiAqICogYHN0YXJ0YFxuICogKiBgbW92ZWBcbiAqICogYGVuZGBcbiAqICogYGVuZGVkYCAoZHJhZ2dpbmcgYWxyZWFkeSBpbiBvZmYgc3RhdGUpXG4gKiAqIGBjYW5jZWxgIChvbmx5IGlmIHByZXZpb3VzbHkgc3RhcnRlZClcbiAqICogYGNhbmNlbGVkYCAoZHJhZ2dpbmcgYWxyZWFkeSBpbiBvZmYgc3RhdGUsIG9ubHkgaWYgcHJldmlvdXNseSBzdGFydGVkKVxuICogKiBgY2xlYW51cGBcbiAqXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBmdW5jdGlvbiBNeURyYWdDb21wb25lbnQoZXZlbnRCdXMsIGRyYWdnaW5nKSB7XG4gKlxuICogICBldmVudEJ1cy5vbignbXlkcmFnLnN0YXJ0JywgZnVuY3Rpb24oZXZlbnQpIHtcbiAqICAgICBjb25zb2xlLmxvZygneWVzLCB3ZSBzdGFydCBkcmFnZ2luZycpO1xuICogICB9KTtcbiAqXG4gKiAgIGV2ZW50QnVzLm9uKCdteWRyYWcubW92ZScsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gKiAgICAgY29uc29sZS5sb2coJ2NhbnZhcyBsb2NhbCBjb29yZGluYXRlcycsIGV2ZW50LngsIGV2ZW50LnksIGV2ZW50LmR4LCBldmVudC5keSk7XG4gKlxuICogICAgIC8vIGxvY2FsIGRyYWcgZGF0YSBpcyBwYXNzZWQgd2l0aCB0aGUgZXZlbnRcbiAqICAgICBldmVudC5jb250ZXh0LmZvbzsgLy8gXCJCQVJcIlxuICpcbiAqICAgICAvLyB0aGUgb3JpZ2luYWwgbW91c2UgZXZlbnQsIHRvb1xuICogICAgIGV2ZW50Lm9yaWdpbmFsRXZlbnQ7IC8vIE1vdXNlRXZlbnQoLi4uKVxuICogICB9KTtcbiAqXG4gKiAgIGV2ZW50QnVzLm9uKCdlbGVtZW50LmNsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAqICAgICBkcmFnZ2luZy5pbml0KGV2ZW50LCAnbXlkcmFnJywge1xuICogICAgICAgY3Vyc29yOiAnZ3JhYmJpbmcnLFxuICogICAgICAgZGF0YToge1xuICogICAgICAgICBjb250ZXh0OiB7XG4gKiAgICAgICAgICAgZm9vOiBcIkJBUlwiXG4gKiAgICAgICAgIH1cbiAqICAgICAgIH1cbiAqICAgICB9KTtcbiAqICAgfSk7XG4gKiB9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIERyYWdnaW5nKGV2ZW50QnVzLCBjYW52YXMsIHNlbGVjdGlvbiwgZWxlbWVudFJlZ2lzdHJ5KSB7XG5cbiAgdmFyIGRlZmF1bHRPcHRpb25zID0ge1xuICAgIHRocmVzaG9sZDogNSxcbiAgICB0cmFwQ2xpY2s6IHRydWVcbiAgfTtcblxuICAvLyB0aGUgY3VycmVudGx5IGFjdGl2ZSBkcmFnIG9wZXJhdGlvblxuICAvLyBkcmFnZ2luZyBpcyBhY3RpdmUgYXMgc29vbiBhcyB0aGlzIGNvbnRleHQgZXhpc3RzLlxuICAvL1xuICAvLyBpdCBpcyB2aXN1YWxseSBfYWN0aXZlXyBvbmx5IHdoZW4gYSBjb250ZXh0LmFjdGl2ZSBmbGFnIGlzIHNldCB0byB0cnVlLlxuICB2YXIgY29udGV4dDtcblxuICAvKiBjb252ZXJ0IGEgZ2xvYmFsIGV2ZW50IGludG8gbG9jYWwgY29vcmRpbmF0ZXMgKi9cbiAgZnVuY3Rpb24gdG9Mb2NhbFBvaW50KGdsb2JhbFBvc2l0aW9uKSB7XG5cbiAgICB2YXIgdmlld2JveCA9IGNhbnZhcy52aWV3Ym94KCk7XG5cbiAgICB2YXIgY2xpZW50UmVjdCA9IGNhbnZhcy5fY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHg6IHZpZXdib3gueCArIChnbG9iYWxQb3NpdGlvbi54IC0gY2xpZW50UmVjdC5sZWZ0KSAvIHZpZXdib3guc2NhbGUsXG4gICAgICB5OiB2aWV3Ym94LnkgKyAoZ2xvYmFsUG9zaXRpb24ueSAtIGNsaWVudFJlY3QudG9wKSAvIHZpZXdib3guc2NhbGVcbiAgICB9O1xuICB9XG5cbiAgLy8gaGVscGVyc1xuXG4gIGZ1bmN0aW9uIGZpcmUodHlwZSwgZHJhZ0NvbnRleHQpIHtcbiAgICBkcmFnQ29udGV4dCA9IGRyYWdDb250ZXh0IHx8IGNvbnRleHQ7XG5cbiAgICB2YXIgZXZlbnQgPSBldmVudEJ1cy5jcmVhdGVFdmVudChcbiAgICAgIGFzc2lnbihcbiAgICAgICAge30sXG4gICAgICAgIGRyYWdDb250ZXh0LnBheWxvYWQsXG4gICAgICAgIGRyYWdDb250ZXh0LmRhdGEsXG4gICAgICAgIHsgaXNUb3VjaDogZHJhZ0NvbnRleHQuaXNUb3VjaCB9XG4gICAgICApXG4gICAgKTtcblxuICAgIC8vIGRlZmF1bHQgaW50ZWdyYXRpb25cbiAgICBpZiAoZXZlbnRCdXMuZmlyZSgnZHJhZy4nICsgdHlwZSwgZXZlbnQpID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiBldmVudEJ1cy5maXJlKGRyYWdDb250ZXh0LnByZWZpeCArICcuJyArIHR5cGUsIGV2ZW50KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc3RvcmVTZWxlY3Rpb24ocHJldmlvdXNTZWxlY3Rpb24pIHtcbiAgICB2YXIgZXhpc3RpbmdTZWxlY3Rpb24gPSBwcmV2aW91c1NlbGVjdGlvbi5maWx0ZXIoZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgcmV0dXJuIGVsZW1lbnRSZWdpc3RyeS5nZXQoZWxlbWVudC5pZCk7XG4gICAgfSk7XG5cbiAgICBleGlzdGluZ1NlbGVjdGlvbi5sZW5ndGggJiYgc2VsZWN0aW9uLnNlbGVjdChleGlzdGluZ1NlbGVjdGlvbik7XG4gIH1cblxuICAvLyBldmVudCBsaXN0ZW5lcnNcblxuICBmdW5jdGlvbiBtb3ZlKGV2ZW50LCBhY3RpdmF0ZSkge1xuICAgIHZhciBwYXlsb2FkID0gY29udGV4dC5wYXlsb2FkLFxuICAgICAgICBkaXNwbGFjZW1lbnQgPSBjb250ZXh0LmRpc3BsYWNlbWVudDtcblxuICAgIHZhciBnbG9iYWxTdGFydCA9IGNvbnRleHQuZ2xvYmFsU3RhcnQsXG4gICAgICAgIGdsb2JhbEN1cnJlbnQgPSB0b1BvaW50KGV2ZW50KSxcbiAgICAgICAgZ2xvYmFsRGVsdGEgPSBkZWx0YVBvcyhnbG9iYWxDdXJyZW50LCBnbG9iYWxTdGFydCk7XG5cbiAgICB2YXIgbG9jYWxTdGFydCA9IGNvbnRleHQubG9jYWxTdGFydCxcbiAgICAgICAgbG9jYWxDdXJyZW50ID0gdG9Mb2NhbFBvaW50KGdsb2JhbEN1cnJlbnQpLFxuICAgICAgICBsb2NhbERlbHRhID0gZGVsdGFQb3MobG9jYWxDdXJyZW50LCBsb2NhbFN0YXJ0KTtcblxuXG4gICAgLy8gYWN0aXZhdGUgY29udGV4dCBleHBsaWNpdGx5IG9yIG9uY2UgdGhyZXNob2xkIGlzIHJlYWNoZWRcbiAgICBpZiAoIWNvbnRleHQuYWN0aXZlICYmIChhY3RpdmF0ZSB8fCBnZXRMZW5ndGgoZ2xvYmFsRGVsdGEpID4gY29udGV4dC50aHJlc2hvbGQpKSB7XG5cbiAgICAgIC8vIGZpcmUgc3RhcnQgZXZlbnQgd2l0aCBvcmlnaW5hbFxuICAgICAgLy8gc3RhcnRpbmcgY29vcmRpbmF0ZXNcblxuICAgICAgYXNzaWduKHBheWxvYWQsIHtcbiAgICAgICAgeDogcm91bmQobG9jYWxTdGFydC54ICsgZGlzcGxhY2VtZW50LngpLFxuICAgICAgICB5OiByb3VuZChsb2NhbFN0YXJ0LnkgKyBkaXNwbGFjZW1lbnQueSksXG4gICAgICAgIGR4OiAwLFxuICAgICAgICBkeTogMFxuICAgICAgfSwgeyBvcmlnaW5hbEV2ZW50OiBldmVudCB9KTtcblxuICAgICAgaWYgKGZhbHNlID09PSBmaXJlKCdzdGFydCcpKSB7XG4gICAgICAgIHJldHVybiBjYW5jZWwoKTtcbiAgICAgIH1cblxuICAgICAgY29udGV4dC5hY3RpdmUgPSB0cnVlO1xuXG4gICAgICAvLyB1bnNldCBzZWxlY3Rpb24gYW5kIHJlbWVtYmVyIG9sZCBzZWxlY3Rpb25cbiAgICAgIC8vIHRoZSBwcmV2aW91cyAob2xkKSBzZWxlY3Rpb24gd2lsbCBhbHdheXMgcGFzc2VkXG4gICAgICAvLyB3aXRoIHRoZSBldmVudCB2aWEgdGhlIGV2ZW50LnByZXZpb3VzU2VsZWN0aW9uIHByb3BlcnR5XG4gICAgICBpZiAoIWNvbnRleHQua2VlcFNlbGVjdGlvbikge1xuICAgICAgICBwYXlsb2FkLnByZXZpb3VzU2VsZWN0aW9uID0gc2VsZWN0aW9uLmdldCgpO1xuICAgICAgICBzZWxlY3Rpb24uc2VsZWN0KG51bGwpO1xuICAgICAgfVxuXG4gICAgICAvLyBhbGxvdyBjdXN0b20gY3Vyc29yXG4gICAgICBpZiAoY29udGV4dC5jdXJzb3IpIHtcbiAgICAgICAgY3Vyc29yU2V0KGNvbnRleHQuY3Vyc29yKTtcbiAgICAgIH1cblxuICAgICAgLy8gaW5kaWNhdGUgZHJhZ2dpbmcgdmlhIG1hcmtlciBvbiByb290IGVsZW1lbnRcbiAgICAgIGNhbnZhcy5hZGRNYXJrZXIoY2FudmFzLmdldFJvb3RFbGVtZW50KCksIERSQUdfQUNUSVZFX0NMUyk7XG4gICAgfVxuXG4gICAgc3RvcFByb3BhZ2F0aW9uKGV2ZW50KTtcblxuICAgIGlmIChjb250ZXh0LmFjdGl2ZSkge1xuXG4gICAgICAvLyB1cGRhdGUgcGF5bG9hZCB3aXRoIGFjdHVhbCBjb29yZGluYXRlc1xuICAgICAgYXNzaWduKHBheWxvYWQsIHtcbiAgICAgICAgeDogcm91bmQobG9jYWxDdXJyZW50LnggKyBkaXNwbGFjZW1lbnQueCksXG4gICAgICAgIHk6IHJvdW5kKGxvY2FsQ3VycmVudC55ICsgZGlzcGxhY2VtZW50LnkpLFxuICAgICAgICBkeDogcm91bmQobG9jYWxEZWx0YS54KSxcbiAgICAgICAgZHk6IHJvdW5kKGxvY2FsRGVsdGEueSlcbiAgICAgIH0sIHsgb3JpZ2luYWxFdmVudDogZXZlbnQgfSk7XG5cbiAgICAgIC8vIGVtaXQgbW92ZSBldmVudFxuICAgICAgZmlyZSgnbW92ZScpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGVuZChldmVudCkge1xuICAgIHZhciBwcmV2aW91c0NvbnRleHQsXG4gICAgICAgIHJldHVyblZhbHVlID0gdHJ1ZTtcblxuICAgIGlmIChjb250ZXh0LmFjdGl2ZSkge1xuXG4gICAgICBpZiAoZXZlbnQpIHtcbiAgICAgICAgY29udGV4dC5wYXlsb2FkLm9yaWdpbmFsRXZlbnQgPSBldmVudDtcblxuICAgICAgICAvLyBzdXBwcmVzcyBvcmlnaW5hbCBldmVudCAoY2xpY2ssIC4uLilcbiAgICAgICAgLy8gYmVjYXVzZSB3ZSBqdXN0IGVuZGVkIGEgZHJhZyBvcGVyYXRpb25cbiAgICAgICAgc3RvcFByb3BhZ2F0aW9uKGV2ZW50KTtcbiAgICAgIH1cblxuICAgICAgLy8gaW1wbGVtZW50YXRpb25zIG1heSBzdG9wIHJlc3RvcmluZyB0aGVcbiAgICAgIC8vIG9yaWdpbmFsIHN0YXRlIChzZWxlY3Rpb25zLCAuLi4pIGJ5IHByZXZlbnRpbmcgdGhlXG4gICAgICAvLyBlbmQgZXZlbnRzIGRlZmF1bHQgYWN0aW9uXG4gICAgICByZXR1cm5WYWx1ZSA9IGZpcmUoJ2VuZCcpO1xuICAgIH1cblxuICAgIGlmIChyZXR1cm5WYWx1ZSA9PT0gZmFsc2UpIHtcbiAgICAgIGZpcmUoJ3JlamVjdGVkJyk7XG4gICAgfVxuXG4gICAgcHJldmlvdXNDb250ZXh0ID0gY2xlYW51cChyZXR1cm5WYWx1ZSAhPT0gdHJ1ZSk7XG5cbiAgICAvLyBsYXN0IGV2ZW50IHRvIGJlIGZpcmVkIHdoZW4gYWxsIGRyYWcgb3BlcmF0aW9ucyBhcmUgZG9uZVxuICAgIC8vIGF0IHRoaXMgcG9pbnQgaW4gdGltZSBubyBkcmFnIG9wZXJhdGlvbiBpcyBpbiBwcm9ncmVzcyBhbnltb3JlXG4gICAgZmlyZSgnZW5kZWQnLCBwcmV2aW91c0NvbnRleHQpO1xuICB9XG5cblxuICAvLyBjYW5jZWwgYWN0aXZlIGRyYWcgb3BlcmF0aW9uIGlmIHRoZSB1c2VyIHByZXNzZXNcbiAgLy8gdGhlIEVTQyBrZXkgb24gdGhlIGtleWJvYXJkXG5cbiAgZnVuY3Rpb24gY2hlY2tDYW5jZWwoZXZlbnQpIHtcblxuICAgIGlmIChldmVudC53aGljaCA9PT0gMjcpIHtcbiAgICAgIHByZXZlbnREZWZhdWx0KGV2ZW50KTtcblxuICAgICAgY2FuY2VsKCk7XG4gICAgfVxuICB9XG5cblxuICAvLyBwcmV2ZW50IGdob3N0IGNsaWNrIHRoYXQgbWlnaHQgb2NjdXIgYWZ0ZXIgYSBmaW5pc2hlZFxuICAvLyBkcmFnIGFuZCBkcm9wIHNlc3Npb25cblxuICBmdW5jdGlvbiB0cmFwQ2xpY2tBbmRFbmQoZXZlbnQpIHtcblxuICAgIHZhciB1bnRyYXA7XG5cbiAgICAvLyB0cmFwIHRoZSBjbGljayBpbiBjYXNlIHdlIGFyZSBwYXJ0IG9mIGFuIGFjdGl2ZVxuICAgIC8vIGRyYWcgb3BlcmF0aW9uLiBUaGlzIHdpbGwgZWZmZWN0aXZlbHkgcHJldmVudFxuICAgIC8vIHRoZSBnaG9zdCBjbGljayB0aGF0IGNhbm5vdCBiZSBjYW5jZWxlZCBvdGhlcndpc2UuXG4gICAgaWYgKGNvbnRleHQuYWN0aXZlKSB7XG5cbiAgICAgIHVudHJhcCA9IGluc3RhbGxDbGlja1RyYXAoZXZlbnRCdXMpO1xuXG4gICAgICAvLyByZW1vdmUgdHJhcCBhZnRlciBtaW5pbWFsIGRlbGF5XG4gICAgICBzZXRUaW1lb3V0KHVudHJhcCwgNDAwKTtcblxuICAgICAgLy8gcHJldmVudCBkZWZhdWx0IGFjdGlvbiAoY2xpY2spXG4gICAgICBwcmV2ZW50RGVmYXVsdChldmVudCk7XG4gICAgfVxuXG4gICAgZW5kKGV2ZW50KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRyYXBUb3VjaChldmVudCkge1xuICAgIG1vdmUoZXZlbnQpO1xuICB9XG5cbiAgLy8gdXBkYXRlIHRoZSBkcmFnIGV2ZW50cyBob3ZlciAoZGpzLm1vZGVsLkJhc2UpIGFuZCBob3ZlckdmeCAoU25hcDxTVkdFbGVtZW50PilcbiAgLy8gcHJvcGVydGllcyBkdXJpbmcgaG92ZXIgYW5kIG91dCBhbmQgZmlyZSB7cHJlZml4fS5ob3ZlciBhbmQge3ByZWZpeH0ub3V0IHByb3BlcnRpZXNcbiAgLy8gcmVzcGVjdGl2ZWx5XG5cbiAgZnVuY3Rpb24gaG92ZXIoZXZlbnQpIHtcbiAgICB2YXIgcGF5bG9hZCA9IGNvbnRleHQucGF5bG9hZDtcblxuICAgIHBheWxvYWQuaG92ZXJHZnggPSBldmVudC5nZng7XG4gICAgcGF5bG9hZC5ob3ZlciA9IGV2ZW50LmVsZW1lbnQ7XG5cbiAgICBmaXJlKCdob3ZlcicpO1xuICB9XG5cbiAgZnVuY3Rpb24gb3V0KGV2ZW50KSB7XG4gICAgZmlyZSgnb3V0Jyk7XG5cbiAgICB2YXIgcGF5bG9hZCA9IGNvbnRleHQucGF5bG9hZDtcblxuICAgIHBheWxvYWQuaG92ZXJHZnggPSBudWxsO1xuICAgIHBheWxvYWQuaG92ZXIgPSBudWxsO1xuICB9XG5cblxuICAvLyBsaWZlLWN5Y2xlIG1ldGhvZHNcblxuICBmdW5jdGlvbiBjYW5jZWwocmVzdG9yZSkge1xuICAgIHZhciBwcmV2aW91c0NvbnRleHQ7XG5cbiAgICBpZiAoIWNvbnRleHQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgd2FzQWN0aXZlID0gY29udGV4dC5hY3RpdmU7XG5cbiAgICBpZiAod2FzQWN0aXZlKSB7XG4gICAgICBmaXJlKCdjYW5jZWwnKTtcbiAgICB9XG5cbiAgICBwcmV2aW91c0NvbnRleHQgPSBjbGVhbnVwKHJlc3RvcmUpO1xuXG4gICAgaWYgKHdhc0FjdGl2ZSkge1xuXG4gICAgICAvLyBsYXN0IGV2ZW50IHRvIGJlIGZpcmVkIHdoZW4gYWxsIGRyYWcgb3BlcmF0aW9ucyBhcmUgZG9uZVxuICAgICAgLy8gYXQgdGhpcyBwb2ludCBpbiB0aW1lIG5vIGRyYWcgb3BlcmF0aW9uIGlzIGluIHByb2dyZXNzIGFueW1vcmVcbiAgICAgIGZpcmUoJ2NhbmNlbGVkJywgcHJldmlvdXNDb250ZXh0KTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjbGVhbnVwKHJlc3RvcmUpIHtcbiAgICB2YXIgcHJldmlvdXNDb250ZXh0LFxuICAgICAgICBlbmREcmFnO1xuXG4gICAgZmlyZSgnY2xlYW51cCcpO1xuXG4gICAgLy8gcmVzZXQgY3Vyc29yXG4gICAgY3Vyc29yVW5zZXQoKTtcblxuICAgIGlmIChjb250ZXh0LnRyYXBDbGljaykge1xuICAgICAgZW5kRHJhZyA9IHRyYXBDbGlja0FuZEVuZDtcbiAgICB9IGVsc2Uge1xuICAgICAgZW5kRHJhZyA9IGVuZDtcbiAgICB9XG5cbiAgICAvLyByZXNldCBkb20gbGlzdGVuZXJzXG4gICAgZG9tRXZlbnQudW5iaW5kKGRvY3VtZW50LCAnbW91c2Vtb3ZlJywgbW92ZSk7XG5cbiAgICBkb21FdmVudC51bmJpbmQoZG9jdW1lbnQsICdkcmFnc3RhcnQnLCBwcmV2ZW50RGVmYXVsdCk7XG4gICAgZG9tRXZlbnQudW5iaW5kKGRvY3VtZW50LCAnc2VsZWN0c3RhcnQnLCBwcmV2ZW50RGVmYXVsdCk7XG5cbiAgICBkb21FdmVudC51bmJpbmQoZG9jdW1lbnQsICdtb3VzZWRvd24nLCBlbmREcmFnLCB0cnVlKTtcbiAgICBkb21FdmVudC51bmJpbmQoZG9jdW1lbnQsICdtb3VzZXVwJywgZW5kRHJhZywgdHJ1ZSk7XG5cbiAgICBkb21FdmVudC51bmJpbmQoZG9jdW1lbnQsICdrZXl1cCcsIGNoZWNrQ2FuY2VsKTtcblxuICAgIGRvbUV2ZW50LnVuYmluZChkb2N1bWVudCwgJ3RvdWNoc3RhcnQnLCB0cmFwVG91Y2gsIHRydWUpO1xuICAgIGRvbUV2ZW50LnVuYmluZChkb2N1bWVudCwgJ3RvdWNoY2FuY2VsJywgY2FuY2VsLCB0cnVlKTtcbiAgICBkb21FdmVudC51bmJpbmQoZG9jdW1lbnQsICd0b3VjaG1vdmUnLCBtb3ZlLCB0cnVlKTtcbiAgICBkb21FdmVudC51bmJpbmQoZG9jdW1lbnQsICd0b3VjaGVuZCcsIGVuZCwgdHJ1ZSk7XG5cbiAgICBldmVudEJ1cy5vZmYoJ2VsZW1lbnQuaG92ZXInLCBob3Zlcik7XG4gICAgZXZlbnRCdXMub2ZmKCdlbGVtZW50Lm91dCcsIG91dCk7XG5cbiAgICAvLyByZW1vdmUgZHJhZyBtYXJrZXIgb24gcm9vdCBlbGVtZW50XG4gICAgY2FudmFzLnJlbW92ZU1hcmtlcihjYW52YXMuZ2V0Um9vdEVsZW1lbnQoKSwgRFJBR19BQ1RJVkVfQ0xTKTtcblxuICAgIC8vIHJlc3RvcmUgc2VsZWN0aW9uLCB1bmxlc3MgaXQgaGFzIGNoYW5nZWRcbiAgICB2YXIgcHJldmlvdXNTZWxlY3Rpb24gPSBjb250ZXh0LnBheWxvYWQucHJldmlvdXNTZWxlY3Rpb247XG5cbiAgICBpZiAocmVzdG9yZSAhPT0gZmFsc2UgJiYgcHJldmlvdXNTZWxlY3Rpb24gJiYgIXNlbGVjdGlvbi5nZXQoKS5sZW5ndGgpIHtcbiAgICAgIHJlc3RvcmVTZWxlY3Rpb24ocHJldmlvdXNTZWxlY3Rpb24pO1xuICAgIH1cblxuICAgIHByZXZpb3VzQ29udGV4dCA9IGNvbnRleHQ7XG5cbiAgICBjb250ZXh0ID0gbnVsbDtcblxuICAgIHJldHVybiBwcmV2aW91c0NvbnRleHQ7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZSBhIGRyYWcgb3BlcmF0aW9uLlxuICAgKlxuICAgKiBJZiBgbG9jYWxQb3NpdGlvbmAgaXMgZ2l2ZW4sIGRyYWcgZXZlbnRzIHdpbGwgYmUgZW1pdHRlZFxuICAgKiByZWxhdGl2ZSB0byBpdC5cbiAgICpcbiAgICogQHBhcmFtIHtNb3VzZUV2ZW50fFRvdWNoRXZlbnR9IFtldmVudF1cbiAgICogQHBhcmFtIHtQb2ludH0gW2xvY2FsUG9zaXRpb25dIGFjdHVhbCBkaWFncmFtIGxvY2FsIHBvc2l0aW9uIHRoaXMgZHJhZyBvcGVyYXRpb24gc2hvdWxkIHN0YXJ0IGF0XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwcmVmaXhcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICAgKi9cbiAgZnVuY3Rpb24gaW5pdChldmVudCwgcmVsYXRpdmVUbywgcHJlZml4LCBvcHRpb25zKSB7XG5cbiAgICAvLyBvbmx5IG9uZSBkcmFnIG9wZXJhdGlvbiBtYXkgYmUgYWN0aXZlLCBhdCBhIHRpbWVcbiAgICBpZiAoY29udGV4dCkge1xuICAgICAgY2FuY2VsKGZhbHNlKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHJlbGF0aXZlVG8gPT09ICdzdHJpbmcnKSB7XG4gICAgICBvcHRpb25zID0gcHJlZml4O1xuICAgICAgcHJlZml4ID0gcmVsYXRpdmVUbztcbiAgICAgIHJlbGF0aXZlVG8gPSBudWxsO1xuICAgIH1cblxuICAgIG9wdGlvbnMgPSBhc3NpZ24oe30sIGRlZmF1bHRPcHRpb25zLCBvcHRpb25zIHx8IHt9KTtcblxuICAgIHZhciBkYXRhID0gb3B0aW9ucy5kYXRhIHx8IHt9LFxuICAgICAgICBvcmlnaW5hbEV2ZW50LFxuICAgICAgICBnbG9iYWxTdGFydCxcbiAgICAgICAgbG9jYWxTdGFydCxcbiAgICAgICAgZW5kRHJhZyxcbiAgICAgICAgaXNUb3VjaDtcblxuICAgIGlmIChvcHRpb25zLnRyYXBDbGljaykge1xuICAgICAgZW5kRHJhZyA9IHRyYXBDbGlja0FuZEVuZDtcbiAgICB9IGVsc2Uge1xuICAgICAgZW5kRHJhZyA9IGVuZDtcbiAgICB9XG5cbiAgICBpZiAoZXZlbnQpIHtcbiAgICAgIG9yaWdpbmFsRXZlbnQgPSBnZXRPcmlnaW5hbChldmVudCkgfHwgZXZlbnQ7XG4gICAgICBnbG9iYWxTdGFydCA9IHRvUG9pbnQoZXZlbnQpO1xuXG4gICAgICBzdG9wUHJvcGFnYXRpb24oZXZlbnQpO1xuXG4gICAgICAvLyBwcmV2ZW50IGRlZmF1bHQgYnJvd3NlciBkcmFnZ2luZyBiZWhhdmlvclxuICAgICAgaWYgKG9yaWdpbmFsRXZlbnQudHlwZSA9PT0gJ2RyYWdzdGFydCcpIHtcbiAgICAgICAgcHJldmVudERlZmF1bHQob3JpZ2luYWxFdmVudCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG9yaWdpbmFsRXZlbnQgPSBudWxsO1xuICAgICAgZ2xvYmFsU3RhcnQgPSB7IHg6IDAsIHk6IDAgfTtcbiAgICB9XG5cbiAgICBsb2NhbFN0YXJ0ID0gdG9Mb2NhbFBvaW50KGdsb2JhbFN0YXJ0KTtcblxuICAgIGlmICghcmVsYXRpdmVUbykge1xuICAgICAgcmVsYXRpdmVUbyA9IGxvY2FsU3RhcnQ7XG4gICAgfVxuXG4gICAgaXNUb3VjaCA9IGlzVG91Y2hFdmVudChvcmlnaW5hbEV2ZW50KTtcblxuICAgIGNvbnRleHQgPSBhc3NpZ24oe1xuICAgICAgcHJlZml4OiBwcmVmaXgsXG4gICAgICBkYXRhOiBkYXRhLFxuICAgICAgcGF5bG9hZDoge30sXG4gICAgICBnbG9iYWxTdGFydDogZ2xvYmFsU3RhcnQsXG4gICAgICBkaXNwbGFjZW1lbnQ6IGRlbHRhUG9zKHJlbGF0aXZlVG8sIGxvY2FsU3RhcnQpLFxuICAgICAgbG9jYWxTdGFydDogbG9jYWxTdGFydCxcbiAgICAgIGlzVG91Y2g6IGlzVG91Y2hcbiAgICB9LCBvcHRpb25zKTtcblxuICAgIC8vIHNraXAgZG9tIHJlZ2lzdHJhdGlvbiBpZiB0cmlnZ2VyXG4gICAgLy8gaXMgc2V0IHRvIG1hbnVhbCAoZHVyaW5nIHRlc3RpbmcpXG4gICAgaWYgKCFvcHRpb25zLm1hbnVhbCkge1xuXG4gICAgICAvLyBhZGQgZG9tIGxpc3RlbmVyc1xuXG4gICAgICBpZiAoaXNUb3VjaCkge1xuICAgICAgICBkb21FdmVudC5iaW5kKGRvY3VtZW50LCAndG91Y2hzdGFydCcsIHRyYXBUb3VjaCwgdHJ1ZSk7XG4gICAgICAgIGRvbUV2ZW50LmJpbmQoZG9jdW1lbnQsICd0b3VjaGNhbmNlbCcsIGNhbmNlbCwgdHJ1ZSk7XG4gICAgICAgIGRvbUV2ZW50LmJpbmQoZG9jdW1lbnQsICd0b3VjaG1vdmUnLCBtb3ZlLCB0cnVlKTtcbiAgICAgICAgZG9tRXZlbnQuYmluZChkb2N1bWVudCwgJ3RvdWNoZW5kJywgZW5kLCB0cnVlKTtcbiAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgLy8gYXNzdW1lIHdlIHVzZSB0aGUgbW91c2UgdG8gaW50ZXJhY3QgcGVyIGRlZmF1bHRcbiAgICAgICAgZG9tRXZlbnQuYmluZChkb2N1bWVudCwgJ21vdXNlbW92ZScsIG1vdmUpO1xuXG4gICAgICAgIC8vIHByZXZlbnQgZGVmYXVsdCBicm93c2VyIGRyYWcgYW5kIHRleHQgc2VsZWN0aW9uIGJlaGF2aW9yXG4gICAgICAgIGRvbUV2ZW50LmJpbmQoZG9jdW1lbnQsICdkcmFnc3RhcnQnLCBwcmV2ZW50RGVmYXVsdCk7XG4gICAgICAgIGRvbUV2ZW50LmJpbmQoZG9jdW1lbnQsICdzZWxlY3RzdGFydCcsIHByZXZlbnREZWZhdWx0KTtcblxuICAgICAgICBkb21FdmVudC5iaW5kKGRvY3VtZW50LCAnbW91c2Vkb3duJywgZW5kRHJhZywgdHJ1ZSk7XG4gICAgICAgIGRvbUV2ZW50LmJpbmQoZG9jdW1lbnQsICdtb3VzZXVwJywgZW5kRHJhZywgdHJ1ZSk7XG4gICAgICB9XG5cbiAgICAgIGRvbUV2ZW50LmJpbmQoZG9jdW1lbnQsICdrZXl1cCcsIGNoZWNrQ2FuY2VsKTtcblxuICAgICAgZXZlbnRCdXMub24oJ2VsZW1lbnQuaG92ZXInLCBob3Zlcik7XG4gICAgICBldmVudEJ1cy5vbignZWxlbWVudC5vdXQnLCBvdXQpO1xuICAgIH1cblxuICAgIGZpcmUoJ2luaXQnKTtcblxuICAgIGlmIChvcHRpb25zLmF1dG9BY3RpdmF0ZSkge1xuICAgICAgbW92ZShldmVudCwgdHJ1ZSk7XG4gICAgfVxuICB9XG5cbiAgLy8gY2FuY2VsIG9uIGRpYWdyYW0gZGVzdHJ1Y3Rpb25cbiAgZXZlbnRCdXMub24oJ2RpYWdyYW0uZGVzdHJveScsIGNhbmNlbCk7XG5cblxuICAvLyBBUElcblxuICB0aGlzLmluaXQgPSBpbml0O1xuICB0aGlzLm1vdmUgPSBtb3ZlO1xuICB0aGlzLmhvdmVyID0gaG92ZXI7XG4gIHRoaXMub3V0ID0gb3V0O1xuICB0aGlzLmVuZCA9IGVuZDtcblxuICB0aGlzLmNhbmNlbCA9IGNhbmNlbDtcblxuICAvLyBmb3IgaW50cm9zcGVjdGlvblxuXG4gIHRoaXMuY29udGV4dCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBjb250ZXh0O1xuICB9O1xuXG4gIHRoaXMuc2V0T3B0aW9ucyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICBhc3NpZ24oZGVmYXVsdE9wdGlvbnMsIG9wdGlvbnMpO1xuICB9O1xufVxuXG5EcmFnZ2luZy4kaW5qZWN0ID0gW1xuICAnZXZlbnRCdXMnLFxuICAnY2FudmFzJyxcbiAgJ3NlbGVjdGlvbicsXG4gICdlbGVtZW50UmVnaXN0cnknXG5dO1xuIiwiaW1wb3J0IEhvdmVyRml4TW9kdWxlIGZyb20gJy4uL2hvdmVyLWZpeCc7XG5pbXBvcnQgU2VsZWN0aW9uTW9kdWxlIGZyb20gJy4uL3NlbGVjdGlvbic7XG5cbmltcG9ydCBEcmFnZ2luZyBmcm9tICcuL0RyYWdnaW5nJztcblxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9fZGVwZW5kc19fOiBbXG4gICAgSG92ZXJGaXhNb2R1bGUsXG4gICAgU2VsZWN0aW9uTW9kdWxlLFxuICBdLFxuICBkcmFnZ2luZzogWyAndHlwZScsIERyYWdnaW5nIF0sXG59OyIsImltcG9ydCB7IGFzc2lnbiB9IGZyb20gJ21pbi1kYXNoJztcblxuaW1wb3J0IHtcbiAgdG9Qb2ludFxufSBmcm9tICcuLi8uLi91dGlsL0V2ZW50JztcblxuXG4vKipcbiAqIEluaXRpYXRlcyBjYW52YXMgc2Nyb2xsaW5nIGlmIGN1cnJlbnQgY3Vyc29yIHBvaW50IGlzIGNsb3NlIHRvIGEgYm9yZGVyLlxuICogQ2FuY2VsbGVkIHdoZW4gY3VycmVudCBwb2ludCBtb3ZlcyBiYWNrIGluc2lkZSB0aGUgc2Nyb2xsaW5nIGJvcmRlcnNcbiAqIG9yIGNhbmNlbGxlZCBtYW51YWxseS5cbiAqXG4gKiBEZWZhdWx0IG9wdGlvbnMgOlxuICogICBzY3JvbGxUaHJlc2hvbGRJbjogWyAyMCwgMjAsIDIwLCAyMCBdLFxuICogICBzY3JvbGxUaHJlc2hvbGRPdXQ6IFsgMCwgMCwgMCwgMCBdLFxuICogICBzY3JvbGxSZXBlYXRUaW1lb3V0OiAxNSxcbiAqICAgc2Nyb2xsU3RlcDogMTBcbiAqXG4gKiBUaHJlc2hvbGQgb3JkZXI6XG4gKiAgIFsgbGVmdCwgdG9wLCByaWdodCwgYm90dG9tIF1cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQXV0b1Njcm9sbChjb25maWcsIGV2ZW50QnVzLCBjYW52YXMpIHtcblxuICB0aGlzLl9jYW52YXMgPSBjYW52YXM7XG5cbiAgdGhpcy5fb3B0cyA9IGFzc2lnbih7XG4gICAgc2Nyb2xsVGhyZXNob2xkSW46IFsgMjAsIDIwLCAyMCwgMjAgXSxcbiAgICBzY3JvbGxUaHJlc2hvbGRPdXQ6IFsgMCwgMCwgMCwgMCBdLFxuICAgIHNjcm9sbFJlcGVhdFRpbWVvdXQ6IDE1LFxuICAgIHNjcm9sbFN0ZXA6IDEwXG4gIH0sIGNvbmZpZyk7XG5cbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIGV2ZW50QnVzLm9uKCdkcmFnLm1vdmUnLCBmdW5jdGlvbihlKSB7XG4gICAgdmFyIHBvaW50ID0gc2VsZi5fdG9Cb3JkZXJQb2ludChlKTtcblxuICAgIHNlbGYuc3RhcnRTY3JvbGwocG9pbnQpO1xuICB9KTtcblxuICBldmVudEJ1cy5vbihbICdkcmFnLmNsZWFudXAnIF0sIGZ1bmN0aW9uKCkge1xuICAgIHNlbGYuc3RvcFNjcm9sbCgpO1xuICB9KTtcbn1cblxuQXV0b1Njcm9sbC4kaW5qZWN0ID0gW1xuICAnY29uZmlnLmF1dG9TY3JvbGwnLFxuICAnZXZlbnRCdXMnLFxuICAnY2FudmFzJ1xuXTtcblxuXG4vKipcbiAqIFN0YXJ0cyBzY3JvbGxpbmcgbG9vcC5cbiAqIFBvaW50IGlzIGdpdmVuIGluIGdsb2JhbCBzY2FsZSBpbiBjYW52YXMgY29udGFpbmVyIGJveCBwbGFuZS5cbiAqXG4gKiBAcGFyYW0gIHtPYmplY3R9IHBvaW50IHsgeDogWCwgeTogWSB9XG4gKi9cbkF1dG9TY3JvbGwucHJvdG90eXBlLnN0YXJ0U2Nyb2xsID0gZnVuY3Rpb24ocG9pbnQpIHtcblxuICB2YXIgY2FudmFzID0gdGhpcy5fY2FudmFzO1xuICB2YXIgb3B0cyA9IHRoaXMuX29wdHM7XG4gIHZhciBzZWxmID0gdGhpcztcblxuICB2YXIgY2xpZW50UmVjdCA9IGNhbnZhcy5nZXRDb250YWluZXIoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICB2YXIgZGlmZiA9IFtcbiAgICBwb2ludC54LFxuICAgIHBvaW50LnksXG4gICAgY2xpZW50UmVjdC53aWR0aCAtIHBvaW50LngsXG4gICAgY2xpZW50UmVjdC5oZWlnaHQgLSBwb2ludC55XG4gIF07XG5cbiAgdGhpcy5zdG9wU2Nyb2xsKCk7XG5cbiAgdmFyIGR4ID0gMCxcbiAgICAgIGR5ID0gMDtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IDQ7IGkrKykge1xuICAgIGlmIChiZXR3ZWVuKGRpZmZbaV0sIG9wdHMuc2Nyb2xsVGhyZXNob2xkT3V0W2ldLCBvcHRzLnNjcm9sbFRocmVzaG9sZEluW2ldKSkge1xuICAgICAgaWYgKGkgPT09IDApIHtcbiAgICAgICAgZHggPSBvcHRzLnNjcm9sbFN0ZXA7XG4gICAgICB9IGVsc2UgaWYgKGkgPT0gMSkge1xuICAgICAgICBkeSA9IG9wdHMuc2Nyb2xsU3RlcDtcbiAgICAgIH0gZWxzZSBpZiAoaSA9PSAyKSB7XG4gICAgICAgIGR4ID0gLW9wdHMuc2Nyb2xsU3RlcDtcbiAgICAgIH0gZWxzZSBpZiAoaSA9PSAzKSB7XG4gICAgICAgIGR5ID0gLW9wdHMuc2Nyb2xsU3RlcDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpZiAoZHggIT09IDAgfHwgZHkgIT09IDApIHtcbiAgICBjYW52YXMuc2Nyb2xsKHsgZHg6IGR4LCBkeTogZHkgfSk7XG5cbiAgICB0aGlzLl9zY3JvbGxpbmcgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgc2VsZi5zdGFydFNjcm9sbChwb2ludCk7XG4gICAgfSwgb3B0cy5zY3JvbGxSZXBlYXRUaW1lb3V0KTtcbiAgfVxufTtcblxuZnVuY3Rpb24gYmV0d2Vlbih2YWwsIHN0YXJ0LCBlbmQpIHtcbiAgaWYgKHN0YXJ0IDwgdmFsICYmIHZhbCA8IGVuZCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5cbi8qKlxuICogU3RvcHMgc2Nyb2xsaW5nIGxvb3AuXG4gKi9cbkF1dG9TY3JvbGwucHJvdG90eXBlLnN0b3BTY3JvbGwgPSBmdW5jdGlvbigpIHtcbiAgY2xlYXJUaW1lb3V0KHRoaXMuX3Njcm9sbGluZyk7XG59O1xuXG5cbi8qKlxuICogT3ZlcnJpZGVzIGRlZmF1bHRzIG9wdGlvbnMuXG4gKlxuICogQHBhcmFtICB7T2JqZWN0fSBvcHRpb25zXG4gKi9cbkF1dG9TY3JvbGwucHJvdG90eXBlLnNldE9wdGlvbnMgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gIHRoaXMuX29wdHMgPSBhc3NpZ24oe30sIHRoaXMuX29wdHMsIG9wdGlvbnMpO1xufTtcblxuXG4vKipcbiAqIENvbnZlcnRzIGV2ZW50IHRvIGEgcG9pbnQgaW4gY2FudmFzIGNvbnRhaW5lciBwbGFuZSBpbiBnbG9iYWwgc2NhbGUuXG4gKlxuICogQHBhcmFtICB7RXZlbnR9IGV2ZW50XG4gKiBAcmV0dXJuIHtQb2ludH1cbiAqL1xuQXV0b1Njcm9sbC5wcm90b3R5cGUuX3RvQm9yZGVyUG9pbnQgPSBmdW5jdGlvbihldmVudCkge1xuICB2YXIgY2xpZW50UmVjdCA9IHRoaXMuX2NhbnZhcy5fY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gIHZhciBnbG9iYWxQb3NpdGlvbiA9IHRvUG9pbnQoZXZlbnQub3JpZ2luYWxFdmVudCk7XG5cbiAgcmV0dXJuIHtcbiAgICB4OiBnbG9iYWxQb3NpdGlvbi54IC0gY2xpZW50UmVjdC5sZWZ0LFxuICAgIHk6IGdsb2JhbFBvc2l0aW9uLnkgLSBjbGllbnRSZWN0LnRvcFxuICB9O1xufTsiLCJpbXBvcnQgRHJhZ2dpbmdNb2R1bGUgZnJvbSAnLi4vZHJhZ2dpbmcnO1xuXG5pbXBvcnQgQXV0b1Njcm9sbCBmcm9tICcuL0F1dG9TY3JvbGwnO1xuXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgX19kZXBlbmRzX186IFtcbiAgICBEcmFnZ2luZ01vZHVsZSxcbiAgXSxcbiAgX19pbml0X186IFsgJ2F1dG9TY3JvbGwnIF0sXG4gIGF1dG9TY3JvbGw6IFsgJ3R5cGUnLCBBdXRvU2Nyb2xsIF1cbn07IiwiLyoqXG4gKiBBIHNlcnZpY2UgdGhhdCBwcm92aWRlcyBydWxlcyBmb3IgY2VydGFpbiBkaWFncmFtIGFjdGlvbnMuXG4gKlxuICogVGhlIGRlZmF1bHQgaW1wbGVtZW50YXRpb24gd2lsbCBob29rIGludG8gdGhlIHtAbGluayBDb21tYW5kU3RhY2t9XG4gKiB0byBwZXJmb3JtIHRoZSBhY3R1YWwgcnVsZSBldmFsdWF0aW9uLiBNYWtlIHN1cmUgdG8gcHJvdmlkZSB0aGVcbiAqIGBjb21tYW5kU3RhY2tgIHNlcnZpY2Ugd2l0aCB0aGlzIG1vZHVsZSBpZiB5b3UgcGxhbiB0byB1c2UgaXQuXG4gKlxuICogVG9nZXRoZXIgd2l0aCB0aGlzIGltcGxlbWVudGF0aW9uIHlvdSBtYXkgdXNlIHRoZSB7QGxpbmsgUnVsZVByb3ZpZGVyfVxuICogdG8gaW1wbGVtZW50IHlvdXIgb3duIHJ1bGUgY2hlY2tlcnMuXG4gKlxuICogVGhpcyBtb2R1bGUgaXMgbWVudCB0byBiZSBlYXNpbHkgcmVwbGFjZWQsIHRodXMgdGhlIHRpbnkgZm9vdCBwcmludC5cbiAqXG4gKiBAcGFyYW0ge0luamVjdG9yfSBpbmplY3RvclxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBSdWxlcyhpbmplY3Rvcikge1xuICB0aGlzLl9jb21tYW5kU3RhY2sgPSBpbmplY3Rvci5nZXQoJ2NvbW1hbmRTdGFjaycsIGZhbHNlKTtcbn1cblxuUnVsZXMuJGluamVjdCA9IFsgJ2luamVjdG9yJyBdO1xuXG5cbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCBhIGdpdmVuIG1vZGVsaW5nIGFjdGlvbiBjYW4gYmUgZXhlY3V0ZWRcbiAqIGluIHRoZSBzcGVjaWZpZWQgY29udGV4dC5cbiAqXG4gKiBUaGlzIGltcGxlbWVudGF0aW9uIHdpbGwgcmVzcG9uZCB3aXRoIGFsbG93IHVubGVzcyBhbnlvbmVcbiAqIG9iamVjdHMuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGFjdGlvbiB0aGUgYWN0aW9uIHRvIGJlIGNoZWNrZWRcbiAqIEBwYXJhbSB7T2JqZWN0fSBbY29udGV4dF0gdGhlIGNvbnRleHQgdG8gY2hlY2sgdGhlIGFjdGlvbiBpblxuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59IHJldHVybnMgdHJ1ZSwgZmFsc2Ugb3IgbnVsbCBkZXBlbmRpbmcgb24gd2hldGhlciB0aGVcbiAqICAgICAgICAgICAgICAgICAgIG9wZXJhdGlvbiBpcyBhbGxvd2VkLCBub3QgYWxsb3dlZCBvciBzaG91bGQgYmUgaWdub3JlZC5cbiAqL1xuUnVsZXMucHJvdG90eXBlLmFsbG93ZWQgPSBmdW5jdGlvbihhY3Rpb24sIGNvbnRleHQpIHtcbiAgdmFyIGFsbG93ZWQgPSB0cnVlO1xuXG4gIHZhciBjb21tYW5kU3RhY2sgPSB0aGlzLl9jb21tYW5kU3RhY2s7XG5cbiAgaWYgKGNvbW1hbmRTdGFjaykge1xuICAgIGFsbG93ZWQgPSBjb21tYW5kU3RhY2suY2FuRXhlY3V0ZShhY3Rpb24sIGNvbnRleHQpO1xuICB9XG5cbiAgLy8gbWFwIHVuZGVmaW5lZCB0byB0cnVlLCBpLmUuIG5vIHJ1bGVzXG4gIHJldHVybiBhbGxvd2VkID09PSB1bmRlZmluZWQgPyB0cnVlIDogYWxsb3dlZDtcbn07IiwiaW1wb3J0IFJ1bGVzIGZyb20gJy4vUnVsZXMnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9faW5pdF9fOiBbICdydWxlcycgXSxcbiAgcnVsZXM6IFsgJ3R5cGUnLCBSdWxlcyBdXG59O1xuIiwiaW1wb3J0IHtcbiAgZXZlcnksXG4gIGlzQXJyYXlcbn0gZnJvbSAnbWluLWRhc2gnO1xuXG4vKipcbiAqIENvbXB1dGVzIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIHR3byBwb2ludHNcbiAqXG4gKiBAcGFyYW0gIHtQb2ludH0gIHBcbiAqIEBwYXJhbSAge1BvaW50fSAgcVxuICpcbiAqIEByZXR1cm4ge251bWJlcn0gIGRpc3RhbmNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwb2ludERpc3RhbmNlKGEsIGIpIHtcbiAgaWYgKCFhIHx8ICFiKSB7XG4gICAgcmV0dXJuIC0xO1xuICB9XG5cbiAgcmV0dXJuIE1hdGguc3FydChcbiAgICBNYXRoLnBvdyhhLnggLSBiLngsIDIpICtcbiAgICBNYXRoLnBvdyhhLnkgLSBiLnksIDIpXG4gICk7XG59XG5cblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIHBvaW50IHIgaXMgb24gdGhlIGxpbmUgYmV0d2VlbiBwIGFuZCBxXG4gKlxuICogQHBhcmFtICB7UG9pbnR9ICBwXG4gKiBAcGFyYW0gIHtQb2ludH0gIHFcbiAqIEBwYXJhbSAge1BvaW50fSAgclxuICogQHBhcmFtICB7bnVtYmVyfSBbYWNjdXJhY3k9NV0gYWNjdXJhY3kgZm9yIHBvaW50cyBvbiBsaW5lIGNoZWNrIChsb3dlciBpcyBiZXR0ZXIpXG4gKlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBvaW50c09uTGluZShwLCBxLCByLCBhY2N1cmFjeSkge1xuXG4gIGlmICh0eXBlb2YgYWNjdXJhY3kgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgYWNjdXJhY3kgPSA1O1xuICB9XG5cbiAgaWYgKCFwIHx8ICFxIHx8ICFyKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdmFyIHZhbCA9IChxLnggLSBwLngpICogKHIueSAtIHAueSkgLSAocS55IC0gcC55KSAqIChyLnggLSBwLngpLFxuICAgICAgZGlzdCA9IHBvaW50RGlzdGFuY2UocCwgcSk7XG5cbiAgLy8gQHNlZSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS85MDc0OTEvNDEyMTkwXG4gIHJldHVybiBNYXRoLmFicyh2YWwgLyBkaXN0KSA8PSBhY2N1cmFjeTtcbn1cblxuXG52YXIgQUxJR05FRF9USFJFU0hPTEQgPSAyO1xuXG4vKipcbiAqIENoZWNrIHdoZXRoZXIgdHdvIHBvaW50cyBhcmUgaG9yaXpvbnRhbGx5IG9yIHZlcnRpY2FsbHkgYWxpZ25lZC5cbiAqXG4gKiBAcGFyYW0ge0FycmF5PFBvaW50PnxQb2ludH1cbiAqIEBwYXJhbSB7UG9pbnR9XG4gKlxuICogQHJldHVybiB7c3RyaW5nfGJvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwb2ludHNBbGlnbmVkKGEsIGIpIHtcbiAgdmFyIHBvaW50cztcblxuICBpZiAoaXNBcnJheShhKSkge1xuICAgIHBvaW50cyA9IGE7XG4gIH0gZWxzZSB7XG4gICAgcG9pbnRzID0gWyBhLCBiIF07XG4gIH1cblxuICBpZiAocG9pbnRzQWxpZ25lZEhvcml6b250YWxseShwb2ludHMpKSB7XG4gICAgcmV0dXJuICdoJztcbiAgfVxuXG4gIGlmIChwb2ludHNBbGlnbmVkVmVydGljYWxseShwb2ludHMpKSB7XG4gICAgcmV0dXJuICd2JztcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBvaW50c0FsaWduZWRIb3Jpem9udGFsbHkoYSwgYikge1xuICB2YXIgcG9pbnRzO1xuXG4gIGlmIChpc0FycmF5KGEpKSB7XG4gICAgcG9pbnRzID0gYTtcbiAgfSBlbHNlIHtcbiAgICBwb2ludHMgPSBbIGEsIGIgXTtcbiAgfVxuXG4gIHZhciBmaXJzdFBvaW50ID0gcG9pbnRzLnNsaWNlKCkuc2hpZnQoKTtcblxuICByZXR1cm4gZXZlcnkocG9pbnRzLCBmdW5jdGlvbihwb2ludCkge1xuICAgIHJldHVybiBNYXRoLmFicyhmaXJzdFBvaW50LnkgLSBwb2ludC55KSA8PSBBTElHTkVEX1RIUkVTSE9MRDtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwb2ludHNBbGlnbmVkVmVydGljYWxseShhLCBiKSB7XG4gIHZhciBwb2ludHM7XG5cbiAgaWYgKGlzQXJyYXkoYSkpIHtcbiAgICBwb2ludHMgPSBhO1xuICB9IGVsc2Uge1xuICAgIHBvaW50cyA9IFsgYSwgYiBdO1xuICB9XG5cbiAgdmFyIGZpcnN0UG9pbnQgPSBwb2ludHMuc2xpY2UoKS5zaGlmdCgpO1xuXG4gIHJldHVybiBldmVyeShwb2ludHMsIGZ1bmN0aW9uKHBvaW50KSB7XG4gICAgcmV0dXJuIE1hdGguYWJzKGZpcnN0UG9pbnQueCAtIHBvaW50LngpIDw9IEFMSUdORURfVEhSRVNIT0xEO1xuICB9KTtcbn1cblxuXG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBwb2ludCBwIGlzIGluc2lkZSB0aGUgcmVjdGFuZ2xlIHJlY3RcbiAqXG4gKiBAcGFyYW0gIHtQb2ludH0gIHBcbiAqIEBwYXJhbSAge1JlY3R9IHJlY3RcbiAqIEBwYXJhbSAge251bWJlcn0gdG9sZXJhbmNlXG4gKlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBvaW50SW5SZWN0KHAsIHJlY3QsIHRvbGVyYW5jZSkge1xuICB0b2xlcmFuY2UgPSB0b2xlcmFuY2UgfHwgMDtcblxuICByZXR1cm4gcC54ID4gcmVjdC54IC0gdG9sZXJhbmNlICYmXG4gICAgICAgICBwLnkgPiByZWN0LnkgLSB0b2xlcmFuY2UgJiZcbiAgICAgICAgIHAueCA8IHJlY3QueCArIHJlY3Qud2lkdGggKyB0b2xlcmFuY2UgJiZcbiAgICAgICAgIHAueSA8IHJlY3QueSArIHJlY3QuaGVpZ2h0ICsgdG9sZXJhbmNlO1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBwb2ludCBpbiB0aGUgbWlkZGxlIG9mIHBvaW50cyBwIGFuZCBxXG4gKlxuICogQHBhcmFtICB7UG9pbnR9ICBwXG4gKiBAcGFyYW0gIHtQb2ludH0gIHFcbiAqXG4gKiBAcmV0dXJuIHtQb2ludH0gbWlkZGxlIHBvaW50XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRNaWRQb2ludChwLCBxKSB7XG4gIHJldHVybiB7XG4gICAgeDogTWF0aC5yb3VuZChwLnggKyAoKHEueCAtIHAueCkgLyAyLjApKSxcbiAgICB5OiBNYXRoLnJvdW5kKHAueSArICgocS55IC0gcC55KSAvIDIuMCkpXG4gIH07XG59XG4iLCJpbXBvcnQge1xuICBwb2ludERpc3RhbmNlXG59IGZyb20gJy4vR2VvbWV0cnknO1xuXG5pbXBvcnQgaW50ZXJzZWN0UGF0aHMgZnJvbSAncGF0aC1pbnRlcnNlY3Rpb24nO1xuXG52YXIgcm91bmQgPSBNYXRoLnJvdW5kLFxuICAgIG1heCA9IE1hdGgubWF4O1xuXG5cbmZ1bmN0aW9uIGNpcmNsZVBhdGgoY2VudGVyLCByKSB7XG4gIHZhciB4ID0gY2VudGVyLngsXG4gICAgICB5ID0gY2VudGVyLnk7XG5cbiAgcmV0dXJuIFtcbiAgICBbJ00nLCB4LCB5XSxcbiAgICBbJ20nLCAwLCAtcl0sXG4gICAgWydhJywgciwgciwgMCwgMSwgMSwgMCwgMiAqIHJdLFxuICAgIFsnYScsIHIsIHIsIDAsIDEsIDEsIDAsIC0yICogcl0sXG4gICAgWyd6J11cbiAgXTtcbn1cblxuZnVuY3Rpb24gbGluZVBhdGgocG9pbnRzKSB7XG4gIHZhciBzZWdtZW50cyA9IFtdO1xuXG4gIHBvaW50cy5mb3JFYWNoKGZ1bmN0aW9uKHAsIGlkeCkge1xuICAgIHNlZ21lbnRzLnB1c2goWyBpZHggPT09IDAgPyAnTScgOiAnTCcsIHAueCwgcC55IF0pO1xuICB9KTtcblxuICByZXR1cm4gc2VnbWVudHM7XG59XG5cblxudmFyIElOVEVSU0VDVElPTl9USFJFU0hPTEQgPSAxMDtcblxuZnVuY3Rpb24gZ2V0QmVuZHBvaW50SW50ZXJzZWN0aW9uKHdheXBvaW50cywgcmVmZXJlbmNlKSB7XG5cbiAgdmFyIGksIHc7XG5cbiAgZm9yIChpID0gMDsgKHcgPSB3YXlwb2ludHNbaV0pOyBpKyspIHtcblxuICAgIGlmIChwb2ludERpc3RhbmNlKHcsIHJlZmVyZW5jZSkgPD0gSU5URVJTRUNUSU9OX1RIUkVTSE9MRCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcG9pbnQ6IHdheXBvaW50c1tpXSxcbiAgICAgICAgYmVuZHBvaW50OiB0cnVlLFxuICAgICAgICBpbmRleDogaVxuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gZ2V0UGF0aEludGVyc2VjdGlvbih3YXlwb2ludHMsIHJlZmVyZW5jZSkge1xuXG4gIHZhciBpbnRlcnNlY3Rpb25zID0gaW50ZXJzZWN0UGF0aHMoY2lyY2xlUGF0aChyZWZlcmVuY2UsIElOVEVSU0VDVElPTl9USFJFU0hPTEQpLCBsaW5lUGF0aCh3YXlwb2ludHMpKTtcblxuICB2YXIgYSA9IGludGVyc2VjdGlvbnNbMF0sXG4gICAgICBiID0gaW50ZXJzZWN0aW9uc1tpbnRlcnNlY3Rpb25zLmxlbmd0aCAtIDFdLFxuICAgICAgaWR4O1xuXG4gIGlmICghYSkge1xuXG4gICAgLy8gbm8gaW50ZXJzZWN0aW9uXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBpZiAoYSAhPT0gYikge1xuXG4gICAgaWYgKGEuc2VnbWVudDIgIT09IGIuc2VnbWVudDIpIHtcblxuICAgICAgLy8gd2UgdXNlIHRoZSBiZW5kcG9pbnQgaW4gYmV0d2VlbiBib3RoIHNlZ21lbnRzXG4gICAgICAvLyBhcyB0aGUgaW50ZXJzZWN0aW9uIHBvaW50XG5cbiAgICAgIGlkeCA9IG1heChhLnNlZ21lbnQyLCBiLnNlZ21lbnQyKSAtIDE7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHBvaW50OiB3YXlwb2ludHNbaWR4XSxcbiAgICAgICAgYmVuZHBvaW50OiB0cnVlLFxuICAgICAgICBpbmRleDogaWR4XG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBwb2ludDoge1xuICAgICAgICB4OiAocm91bmQoYS54ICsgYi54KSAvIDIpLFxuICAgICAgICB5OiAocm91bmQoYS55ICsgYi55KSAvIDIpXG4gICAgICB9LFxuICAgICAgaW5kZXg6IGEuc2VnbWVudDJcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBwb2ludDoge1xuICAgICAgeDogcm91bmQoYS54KSxcbiAgICAgIHk6IHJvdW5kKGEueSlcbiAgICB9LFxuICAgIGluZGV4OiBhLnNlZ21lbnQyXG4gIH07XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgY2xvc2VzdCBwb2ludCBvbiB0aGUgY29ubmVjdGlvbiB0b3dhcmRzIGEgZ2l2ZW4gcmVmZXJlbmNlIHBvaW50LlxuICpcbiAqIEBwYXJhbSAge0FycmF5PFBvaW50Pn0gd2F5cG9pbnRzXG4gKiBAcGFyYW0gIHtQb2ludH0gcmVmZXJlbmNlXG4gKlxuICogQHJldHVybiB7T2JqZWN0fSBpbnRlcnNlY3Rpb24gZGF0YSAoc2VnbWVudCwgcG9pbnQpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRBcHByb3hJbnRlcnNlY3Rpb24od2F5cG9pbnRzLCByZWZlcmVuY2UpIHtcbiAgcmV0dXJuIGdldEJlbmRwb2ludEludGVyc2VjdGlvbih3YXlwb2ludHMsIHJlZmVyZW5jZSkgfHwgZ2V0UGF0aEludGVyc2VjdGlvbih3YXlwb2ludHMsIHJlZmVyZW5jZSk7XG59XG4iLCJpbXBvcnQge1xuICB0b1BvaW50XG59IGZyb20gJy4uLy4uL3V0aWwvRXZlbnQnO1xuXG5pbXBvcnQge1xuICBnZXRNaWRQb2ludCxcbiAgcG9pbnRzQWxpZ25lZFxufSBmcm9tICcuLi8uLi91dGlsL0dlb21ldHJ5JztcblxuaW1wb3J0IHtcbiAgYXBwZW5kIGFzIHN2Z0FwcGVuZCxcbiAgYXR0ciBhcyBzdmdBdHRyLFxuICBjbGFzc2VzIGFzIHN2Z0NsYXNzZXMsXG4gIGNyZWF0ZSBhcyBzdmdDcmVhdGVcbn0gZnJvbSAndGlueS1zdmcnO1xuXG5pbXBvcnQge1xuICByb3RhdGUsXG4gIHRyYW5zbGF0ZVxufSBmcm9tICcuLi8uLi91dGlsL1N2Z1RyYW5zZm9ybVV0aWwnO1xuXG5pbXBvcnQge1xuICBnZXRBcHByb3hJbnRlcnNlY3Rpb25cbn0gZnJvbSAnLi4vLi4vdXRpbC9MaW5lSW50ZXJzZWN0aW9uJztcblxuZXhwb3J0IHZhciBCRU5EUE9JTlRfQ0xTID0gJ2Rqcy1iZW5kcG9pbnQnO1xuZXhwb3J0IHZhciBTRUdNRU5UX0RSQUdHRVJfQ0xTID0gJ2Rqcy1zZWdtZW50LWRyYWdnZXInO1xuXG5leHBvcnQgZnVuY3Rpb24gdG9DYW52YXNDb29yZGluYXRlcyhjYW52YXMsIGV2ZW50KSB7XG5cbiAgdmFyIHBvc2l0aW9uID0gdG9Qb2ludChldmVudCksXG4gICAgICBjbGllbnRSZWN0ID0gY2FudmFzLl9jb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksXG4gICAgICBvZmZzZXQ7XG5cbiAgLy8gY2FudmFzIHJlbGF0aXZlIHBvc2l0aW9uXG5cbiAgb2Zmc2V0ID0ge1xuICAgIHg6IGNsaWVudFJlY3QubGVmdCxcbiAgICB5OiBjbGllbnRSZWN0LnRvcFxuICB9O1xuXG4gIC8vIHVwZGF0ZSBhY3R1YWwgZXZlbnQgcGF5bG9hZCB3aXRoIGNhbnZhcyByZWxhdGl2ZSBtZWFzdXJlc1xuXG4gIHZhciB2aWV3Ym94ID0gY2FudmFzLnZpZXdib3goKTtcblxuICByZXR1cm4ge1xuICAgIHg6IHZpZXdib3gueCArIChwb3NpdGlvbi54IC0gb2Zmc2V0LngpIC8gdmlld2JveC5zY2FsZSxcbiAgICB5OiB2aWV3Ym94LnkgKyAocG9zaXRpb24ueSAtIG9mZnNldC55KSAvIHZpZXdib3guc2NhbGVcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldENvbm5lY3Rpb25JbnRlcnNlY3Rpb24oY2FudmFzLCB3YXlwb2ludHMsIGV2ZW50KSB7XG4gIHZhciBsb2NhbFBvc2l0aW9uID0gdG9DYW52YXNDb29yZGluYXRlcyhjYW52YXMsIGV2ZW50KSxcbiAgICAgIGludGVyc2VjdGlvbiA9IGdldEFwcHJveEludGVyc2VjdGlvbih3YXlwb2ludHMsIGxvY2FsUG9zaXRpb24pO1xuXG4gIHJldHVybiBpbnRlcnNlY3Rpb247XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRCZW5kcG9pbnQocGFyZW50R2Z4LCBjbHMpIHtcbiAgdmFyIGdyb3VwR2Z4ID0gc3ZnQ3JlYXRlKCdnJyk7XG4gIHN2Z0NsYXNzZXMoZ3JvdXBHZngpLmFkZChCRU5EUE9JTlRfQ0xTKTtcblxuICBzdmdBcHBlbmQocGFyZW50R2Z4LCBncm91cEdmeCk7XG5cbiAgdmFyIHZpc3VhbCA9IHN2Z0NyZWF0ZSgnY2lyY2xlJyk7XG4gIHN2Z0F0dHIodmlzdWFsLCB7XG4gICAgY3g6IDAsXG4gICAgY3k6IDAsXG4gICAgcjogNFxuICB9KTtcbiAgc3ZnQ2xhc3Nlcyh2aXN1YWwpLmFkZCgnZGpzLXZpc3VhbCcpO1xuXG4gIHN2Z0FwcGVuZChncm91cEdmeCwgdmlzdWFsKTtcblxuICB2YXIgaGl0ID0gc3ZnQ3JlYXRlKCdjaXJjbGUnKTtcbiAgc3ZnQXR0cihoaXQsIHtcbiAgICBjeDogMCxcbiAgICBjeTogMCxcbiAgICByOiAxMFxuICB9KTtcbiAgc3ZnQ2xhc3NlcyhoaXQpLmFkZCgnZGpzLWhpdCcpO1xuXG4gIHN2Z0FwcGVuZChncm91cEdmeCwgaGl0KTtcblxuICBpZiAoY2xzKSB7XG4gICAgc3ZnQ2xhc3Nlcyhncm91cEdmeCkuYWRkKGNscyk7XG4gIH1cblxuICByZXR1cm4gZ3JvdXBHZng7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVBhcmFsbGVsRHJhZ2dlcihwYXJlbnRHZngsIHNlZ21lbnRTdGFydCwgc2VnbWVudEVuZCwgYWxpZ25tZW50KSB7XG4gIHZhciBkcmFnZ2VyR2Z4ID0gc3ZnQ3JlYXRlKCdnJyk7XG5cbiAgc3ZnQXBwZW5kKHBhcmVudEdmeCwgZHJhZ2dlckdmeCk7XG5cbiAgdmFyIHdpZHRoID0gMTQsXG4gICAgICBoZWlnaHQgPSAzLFxuICAgICAgcGFkZGluZyA9IDExLFxuICAgICAgaGl0V2lkdGggPSBjYWxjdWxhdGVIaXRXaWR0aChzZWdtZW50U3RhcnQsIHNlZ21lbnRFbmQsIGFsaWdubWVudCksXG4gICAgICBoaXRIZWlnaHQgPSBoZWlnaHQgKyBwYWRkaW5nO1xuXG4gIHZhciB2aXN1YWwgPSBzdmdDcmVhdGUoJ3JlY3QnKTtcbiAgc3ZnQXR0cih2aXN1YWwsIHtcbiAgICB4OiAtd2lkdGggLyAyLFxuICAgIHk6IC1oZWlnaHQgLyAyLFxuICAgIHdpZHRoOiB3aWR0aCxcbiAgICBoZWlnaHQ6IGhlaWdodFxuICB9KTtcbiAgc3ZnQ2xhc3Nlcyh2aXN1YWwpLmFkZCgnZGpzLXZpc3VhbCcpO1xuXG4gIHN2Z0FwcGVuZChkcmFnZ2VyR2Z4LCB2aXN1YWwpO1xuXG4gIHZhciBoaXQgPSBzdmdDcmVhdGUoJ3JlY3QnKTtcbiAgc3ZnQXR0cihoaXQsIHtcbiAgICB4OiAtaGl0V2lkdGggLyAyLFxuICAgIHk6IC1oaXRIZWlnaHQgLyAyLFxuICAgIHdpZHRoOiBoaXRXaWR0aCxcbiAgICBoZWlnaHQ6IGhpdEhlaWdodFxuICB9KTtcbiAgc3ZnQ2xhc3NlcyhoaXQpLmFkZCgnZGpzLWhpdCcpO1xuXG4gIHN2Z0FwcGVuZChkcmFnZ2VyR2Z4LCBoaXQpO1xuXG4gIHJvdGF0ZShkcmFnZ2VyR2Z4LCBhbGlnbm1lbnQgPT09ICd2JyA/IDkwIDogMCwgMCwgMCk7XG5cbiAgcmV0dXJuIGRyYWdnZXJHZng7XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZFNlZ21lbnREcmFnZ2VyKHBhcmVudEdmeCwgc2VnbWVudFN0YXJ0LCBzZWdtZW50RW5kKSB7XG5cbiAgdmFyIGdyb3VwR2Z4ID0gc3ZnQ3JlYXRlKCdnJyksXG4gICAgICBtaWQgPSBnZXRNaWRQb2ludChzZWdtZW50U3RhcnQsIHNlZ21lbnRFbmQpLFxuICAgICAgYWxpZ25tZW50ID0gcG9pbnRzQWxpZ25lZChzZWdtZW50U3RhcnQsIHNlZ21lbnRFbmQpO1xuXG4gIHN2Z0FwcGVuZChwYXJlbnRHZngsIGdyb3VwR2Z4KTtcblxuICBjcmVhdGVQYXJhbGxlbERyYWdnZXIoZ3JvdXBHZngsIHNlZ21lbnRTdGFydCwgc2VnbWVudEVuZCwgYWxpZ25tZW50KTtcblxuICBzdmdDbGFzc2VzKGdyb3VwR2Z4KS5hZGQoU0VHTUVOVF9EUkFHR0VSX0NMUyk7XG4gIHN2Z0NsYXNzZXMoZ3JvdXBHZngpLmFkZChhbGlnbm1lbnQgPT09ICdoJyA/ICdob3Jpem9udGFsJyA6ICd2ZXJ0aWNhbCcpO1xuXG4gIHRyYW5zbGF0ZShncm91cEdmeCwgbWlkLngsIG1pZC55KTtcblxuICByZXR1cm4gZ3JvdXBHZng7XG59XG5cbi8qKlxuICogQ2FsY3VsYXRlcyByZWdpb24gZm9yIHNlZ21lbnQgbW92ZSB3aGljaCBpcyAyLzMgb2YgdGhlIGZ1bGwgc2VnbWVudCBsZW5ndGhcbiAqIEBwYXJhbSB7bnVtYmVyfSBzZWdtZW50TGVuZ3RoXG4gKlxuICogQHJldHVybiB7bnVtYmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlU2VnbWVudE1vdmVSZWdpb24oc2VnbWVudExlbmd0aCkge1xuICByZXR1cm4gTWF0aC5hYnMoTWF0aC5yb3VuZChzZWdtZW50TGVuZ3RoICogMiAvIDMpKTtcbn1cblxuLy8gaGVscGVyIC8vLy8vLy8vLy9cblxuZnVuY3Rpb24gY2FsY3VsYXRlSGl0V2lkdGgoc2VnbWVudFN0YXJ0LCBzZWdtZW50RW5kLCBhbGlnbm1lbnQpIHtcbiAgdmFyIHNlZ21lbnRMZW5ndGhYQXhpcyA9IHNlZ21lbnRFbmQueCAtIHNlZ21lbnRTdGFydC54LFxuICAgICAgc2VnbWVudExlbmd0aFlBeGlzID0gc2VnbWVudEVuZC55IC0gc2VnbWVudFN0YXJ0Lnk7XG5cbiAgcmV0dXJuIGFsaWdubWVudCA9PT0gJ2gnID9cbiAgICBjYWxjdWxhdGVTZWdtZW50TW92ZVJlZ2lvbihzZWdtZW50TGVuZ3RoWEF4aXMpIDpcbiAgICBjYWxjdWxhdGVTZWdtZW50TW92ZVJlZ2lvbihzZWdtZW50TGVuZ3RoWUF4aXMpO1xufVxuIiwiaW1wb3J0IHsgZm9yRWFjaCB9IGZyb20gJ21pbi1kYXNoJztcblxuaW1wb3J0IHtcbiAgZXZlbnQgYXMgZG9tRXZlbnQsXG4gIHF1ZXJ5IGFzIGRvbVF1ZXJ5LFxuICBxdWVyeUFsbCBhcyBkb21RdWVyeUFsbFxufSBmcm9tICdtaW4tZG9tJztcblxuaW1wb3J0IHtcbiAgQkVORFBPSU5UX0NMUyxcbiAgU0VHTUVOVF9EUkFHR0VSX0NMUyxcbiAgYWRkQmVuZHBvaW50LFxuICBhZGRTZWdtZW50RHJhZ2dlcixcbiAgY2FsY3VsYXRlU2VnbWVudE1vdmVSZWdpb24sXG4gIGdldENvbm5lY3Rpb25JbnRlcnNlY3Rpb25cbn0gZnJvbSAnLi9CZW5kcG9pbnRVdGlsJztcblxuaW1wb3J0IHtcbiAgZXNjYXBlQ1NTXG59IGZyb20gJy4uLy4uL3V0aWwvRXNjYXBlVXRpbCc7XG5cbmltcG9ydCB7XG4gIHBvaW50c0FsaWduZWQsXG4gIGdldE1pZFBvaW50XG59IGZyb20gJy4uLy4uL3V0aWwvR2VvbWV0cnknO1xuXG5pbXBvcnQge1xuICBpc1ByaW1hcnlCdXR0b25cbn0gZnJvbSAnLi4vLi4vdXRpbC9Nb3VzZSc7XG5cbmltcG9ydCB7XG4gIGFwcGVuZCBhcyBzdmdBcHBlbmQsXG4gIGF0dHIgYXMgc3ZnQXR0cixcbiAgY2xhc3NlcyBhcyBzdmdDbGFzc2VzLFxuICBjcmVhdGUgYXMgc3ZnQ3JlYXRlLFxuICByZW1vdmUgYXMgc3ZnUmVtb3ZlXG59IGZyb20gJ3Rpbnktc3ZnJztcblxuaW1wb3J0IHtcbiAgdHJhbnNsYXRlXG59IGZyb20gJy4uLy4uL3V0aWwvU3ZnVHJhbnNmb3JtVXRpbCc7XG5cblxuLyoqXG4gKiBBIHNlcnZpY2UgdGhhdCBhZGRzIGVkaXRhYmxlIGJlbmRwb2ludHMgdG8gY29ubmVjdGlvbnMuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEJlbmRwb2ludHMoXG4gICAgZXZlbnRCdXMsIGNhbnZhcywgaW50ZXJhY3Rpb25FdmVudHMsXG4gICAgYmVuZHBvaW50TW92ZSwgY29ubmVjdGlvblNlZ21lbnRNb3ZlKSB7XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdHJ1ZSBpZiBpbnRlcnNlY3Rpb24gcG9pbnQgaXMgaW5zaWRlIG1pZGRsZSByZWdpb24gb2Ygc2VnbWVudCwgYWRqdXN0ZWQgYnlcbiAgICogb3B0aW9uYWwgdGhyZXNob2xkXG4gICAqL1xuICBmdW5jdGlvbiBpc0ludGVyc2VjdGlvbk1pZGRsZShpbnRlcnNlY3Rpb24sIHdheXBvaW50cywgdHJlc2hvbGQpIHtcbiAgICB2YXIgaWR4ID0gaW50ZXJzZWN0aW9uLmluZGV4LFxuICAgICAgICBwID0gaW50ZXJzZWN0aW9uLnBvaW50LFxuICAgICAgICBwMCwgcDEsIG1pZCwgYWxpZ25lZCwgeERlbHRhLCB5RGVsdGE7XG5cbiAgICBpZiAoaWR4IDw9IDAgfHwgaW50ZXJzZWN0aW9uLmJlbmRwb2ludCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHAwID0gd2F5cG9pbnRzW2lkeCAtIDFdO1xuICAgIHAxID0gd2F5cG9pbnRzW2lkeF07XG4gICAgbWlkID0gZ2V0TWlkUG9pbnQocDAsIHAxKSxcbiAgICBhbGlnbmVkID0gcG9pbnRzQWxpZ25lZChwMCwgcDEpO1xuICAgIHhEZWx0YSA9IE1hdGguYWJzKHAueCAtIG1pZC54KTtcbiAgICB5RGVsdGEgPSBNYXRoLmFicyhwLnkgLSBtaWQueSk7XG5cbiAgICByZXR1cm4gYWxpZ25lZCAmJiB4RGVsdGEgPD0gdHJlc2hvbGQgJiYgeURlbHRhIDw9IHRyZXNob2xkO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGN1bGF0ZXMgdGhlIHRocmVzaG9sZCBmcm9tIGEgY29ubmVjdGlvbidzIG1pZGRsZSB3aGljaCBmaXRzIHRoZSB0d28tdGhpcmQtcmVnaW9uXG4gICAqL1xuICBmdW5jdGlvbiBjYWxjdWxhdGVJbnRlcnNlY3Rpb25UaHJlc2hvbGQoY29ubmVjdGlvbiwgaW50ZXJzZWN0aW9uKSB7XG4gICAgdmFyIHdheXBvaW50cyA9IGNvbm5lY3Rpb24ud2F5cG9pbnRzLFxuICAgICAgICByZWxldmFudFNlZ21lbnQsIGFsaWdubWVudCwgc2VnbWVudExlbmd0aCwgdGhyZXNob2xkO1xuXG4gICAgaWYgKGludGVyc2VjdGlvbi5pbmRleCA8PSAwIHx8IGludGVyc2VjdGlvbi5iZW5kcG9pbnQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8vIHNlZ21lbnQgcmVsYXRpdmUgdG8gY29ubmVjdGlvbiBpbnRlcnNlY3Rpb25cbiAgICByZWxldmFudFNlZ21lbnQgPSB7XG4gICAgICBzdGFydDogd2F5cG9pbnRzW2ludGVyc2VjdGlvbi5pbmRleCAtIDFdLFxuICAgICAgZW5kOiB3YXlwb2ludHNbaW50ZXJzZWN0aW9uLmluZGV4XVxuICAgIH07XG5cbiAgICBhbGlnbm1lbnQgPSBwb2ludHNBbGlnbmVkKHJlbGV2YW50U2VnbWVudC5zdGFydCwgcmVsZXZhbnRTZWdtZW50LmVuZCk7XG5cbiAgICBpZiAoIWFsaWdubWVudCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgaWYgKGFsaWdubWVudCA9PT0gJ2gnKSB7XG4gICAgICBzZWdtZW50TGVuZ3RoID0gcmVsZXZhbnRTZWdtZW50LmVuZC54IC0gcmVsZXZhbnRTZWdtZW50LnN0YXJ0Lng7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNlZ21lbnRMZW5ndGggPSByZWxldmFudFNlZ21lbnQuZW5kLnkgLSByZWxldmFudFNlZ21lbnQuc3RhcnQueTtcbiAgICB9XG5cbiAgICAvLyBjYWxjdWxhdGUgdGhyZXNob2xkIHJlbGF0aXZlIHRvIDIvMyBvZiBzZWdtZW50IGxlbmd0aFxuICAgIHRocmVzaG9sZCA9IGNhbGN1bGF0ZVNlZ21lbnRNb3ZlUmVnaW9uKHNlZ21lbnRMZW5ndGgpIC8gMjtcblxuICAgIHJldHVybiB0aHJlc2hvbGQ7XG4gIH1cblxuICBmdW5jdGlvbiBhY3RpdmF0ZUJlbmRwb2ludE1vdmUoZXZlbnQsIGNvbm5lY3Rpb24pIHtcbiAgICB2YXIgd2F5cG9pbnRzID0gY29ubmVjdGlvbi53YXlwb2ludHMsXG4gICAgICAgIGludGVyc2VjdGlvbiA9IGdldENvbm5lY3Rpb25JbnRlcnNlY3Rpb24oY2FudmFzLCB3YXlwb2ludHMsIGV2ZW50KSxcbiAgICAgICAgdGhyZXNob2xkO1xuXG4gICAgaWYgKCFpbnRlcnNlY3Rpb24pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aHJlc2hvbGQgPSBjYWxjdWxhdGVJbnRlcnNlY3Rpb25UaHJlc2hvbGQoY29ubmVjdGlvbiwgaW50ZXJzZWN0aW9uKTtcblxuICAgIGlmIChpc0ludGVyc2VjdGlvbk1pZGRsZShpbnRlcnNlY3Rpb24sIHdheXBvaW50cywgdGhyZXNob2xkKSkge1xuICAgICAgY29ubmVjdGlvblNlZ21lbnRNb3ZlLnN0YXJ0KGV2ZW50LCBjb25uZWN0aW9uLCBpbnRlcnNlY3Rpb24uaW5kZXgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBiZW5kcG9pbnRNb3ZlLnN0YXJ0KGV2ZW50LCBjb25uZWN0aW9uLCBpbnRlcnNlY3Rpb24uaW5kZXgsICFpbnRlcnNlY3Rpb24uYmVuZHBvaW50KTtcbiAgICB9XG5cbiAgICAvLyB3ZSd2ZSBoYW5kbGVkIHRoZSBldmVudFxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgZnVuY3Rpb24gYmluZEludGVyYWN0aW9uRXZlbnRzKG5vZGUsIGV2ZW50TmFtZSwgZWxlbWVudCkge1xuXG4gICAgZG9tRXZlbnQuYmluZChub2RlLCBldmVudE5hbWUsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICBpbnRlcmFjdGlvbkV2ZW50cy50cmlnZ2VyTW91c2VFdmVudChldmVudE5hbWUsIGV2ZW50LCBlbGVtZW50KTtcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0QmVuZHBvaW50c0NvbnRhaW5lcihlbGVtZW50LCBjcmVhdGUpIHtcblxuICAgIHZhciBsYXllciA9IGNhbnZhcy5nZXRMYXllcignb3ZlcmxheXMnKSxcbiAgICAgICAgZ2Z4ID0gZG9tUXVlcnkoJy5kanMtYmVuZHBvaW50c1tkYXRhLWVsZW1lbnQtaWQ9XCInICsgZXNjYXBlQ1NTKGVsZW1lbnQuaWQpICsgJ1wiXScsIGxheWVyKTtcblxuICAgIGlmICghZ2Z4ICYmIGNyZWF0ZSkge1xuICAgICAgZ2Z4ID0gc3ZnQ3JlYXRlKCdnJyk7XG4gICAgICBzdmdBdHRyKGdmeCwgeyAnZGF0YS1lbGVtZW50LWlkJzogZWxlbWVudC5pZCB9KTtcbiAgICAgIHN2Z0NsYXNzZXMoZ2Z4KS5hZGQoJ2Rqcy1iZW5kcG9pbnRzJyk7XG5cbiAgICAgIHN2Z0FwcGVuZChsYXllciwgZ2Z4KTtcblxuICAgICAgYmluZEludGVyYWN0aW9uRXZlbnRzKGdmeCwgJ21vdXNlZG93bicsIGVsZW1lbnQpO1xuICAgICAgYmluZEludGVyYWN0aW9uRXZlbnRzKGdmeCwgJ2NsaWNrJywgZWxlbWVudCk7XG4gICAgICBiaW5kSW50ZXJhY3Rpb25FdmVudHMoZ2Z4LCAnZGJsY2xpY2snLCBlbGVtZW50KTtcbiAgICB9XG5cbiAgICByZXR1cm4gZ2Z4O1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0U2VnbWVudERyYWdnZXIoaWR4LCBwYXJlbnRHZngpIHtcbiAgICByZXR1cm4gZG9tUXVlcnkoXG4gICAgICAnLmRqcy1zZWdtZW50LWRyYWdnZXJbZGF0YS1zZWdtZW50LWlkeD1cIicgKyBpZHggKyAnXCJdJyxcbiAgICAgIHBhcmVudEdmeFxuICAgICk7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVCZW5kcG9pbnRzKGdmeCwgY29ubmVjdGlvbikge1xuICAgIGNvbm5lY3Rpb24ud2F5cG9pbnRzLmZvckVhY2goZnVuY3Rpb24ocCwgaWR4KSB7XG4gICAgICB2YXIgYmVuZHBvaW50ID0gYWRkQmVuZHBvaW50KGdmeCk7XG5cbiAgICAgIHN2Z0FwcGVuZChnZngsIGJlbmRwb2ludCk7XG5cbiAgICAgIHRyYW5zbGF0ZShiZW5kcG9pbnQsIHAueCwgcC55KTtcbiAgICB9KTtcblxuICAgIC8vIGFkZCBmbG9hdGluZyBiZW5kcG9pbnRcbiAgICBhZGRCZW5kcG9pbnQoZ2Z4LCAnZmxvYXRpbmcnKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZVNlZ21lbnREcmFnZ2VycyhnZngsIGNvbm5lY3Rpb24pIHtcblxuICAgIHZhciB3YXlwb2ludHMgPSBjb25uZWN0aW9uLndheXBvaW50cztcblxuICAgIHZhciBzZWdtZW50U3RhcnQsXG4gICAgICAgIHNlZ21lbnRFbmQsXG4gICAgICAgIHNlZ21lbnREcmFnZ2VyR2Z4O1xuXG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCB3YXlwb2ludHMubGVuZ3RoOyBpKyspIHtcblxuICAgICAgc2VnbWVudFN0YXJ0ID0gd2F5cG9pbnRzW2kgLSAxXTtcbiAgICAgIHNlZ21lbnRFbmQgPSB3YXlwb2ludHNbaV07XG5cbiAgICAgIGlmIChwb2ludHNBbGlnbmVkKHNlZ21lbnRTdGFydCwgc2VnbWVudEVuZCkpIHtcbiAgICAgICAgc2VnbWVudERyYWdnZXJHZnggPSBhZGRTZWdtZW50RHJhZ2dlcihnZngsIHNlZ21lbnRTdGFydCwgc2VnbWVudEVuZCk7XG5cbiAgICAgICAgc3ZnQXR0cihzZWdtZW50RHJhZ2dlckdmeCwgeyAnZGF0YS1zZWdtZW50LWlkeCc6IGkgfSk7XG5cbiAgICAgICAgYmluZEludGVyYWN0aW9uRXZlbnRzKHNlZ21lbnREcmFnZ2VyR2Z4LCAnbW91c2Vtb3ZlJywgY29ubmVjdGlvbik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY2xlYXJCZW5kcG9pbnRzKGdmeCkge1xuICAgIGZvckVhY2goZG9tUXVlcnlBbGwoJy4nICsgQkVORFBPSU5UX0NMUywgZ2Z4KSwgZnVuY3Rpb24obm9kZSkge1xuICAgICAgc3ZnUmVtb3ZlKG5vZGUpO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gY2xlYXJTZWdtZW50RHJhZ2dlcnMoZ2Z4KSB7XG4gICAgZm9yRWFjaChkb21RdWVyeUFsbCgnLicgKyBTRUdNRU5UX0RSQUdHRVJfQ0xTLCBnZngpLCBmdW5jdGlvbihub2RlKSB7XG4gICAgICBzdmdSZW1vdmUobm9kZSk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBhZGRIYW5kbGVzKGNvbm5lY3Rpb24pIHtcblxuICAgIHZhciBnZnggPSBnZXRCZW5kcG9pbnRzQ29udGFpbmVyKGNvbm5lY3Rpb24pO1xuXG4gICAgaWYgKCFnZngpIHtcbiAgICAgIGdmeCA9IGdldEJlbmRwb2ludHNDb250YWluZXIoY29ubmVjdGlvbiwgdHJ1ZSk7XG5cbiAgICAgIGNyZWF0ZUJlbmRwb2ludHMoZ2Z4LCBjb25uZWN0aW9uKTtcbiAgICAgIGNyZWF0ZVNlZ21lbnREcmFnZ2VycyhnZngsIGNvbm5lY3Rpb24pO1xuICAgIH1cblxuICAgIHJldHVybiBnZng7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVIYW5kbGVzKGNvbm5lY3Rpb24pIHtcblxuICAgIHZhciBnZnggPSBnZXRCZW5kcG9pbnRzQ29udGFpbmVyKGNvbm5lY3Rpb24pO1xuXG4gICAgaWYgKGdmeCkge1xuICAgICAgY2xlYXJTZWdtZW50RHJhZ2dlcnMoZ2Z4KTtcbiAgICAgIGNsZWFyQmVuZHBvaW50cyhnZngpO1xuICAgICAgY3JlYXRlU2VnbWVudERyYWdnZXJzKGdmeCwgY29ubmVjdGlvbik7XG4gICAgICBjcmVhdGVCZW5kcG9pbnRzKGdmeCwgY29ubmVjdGlvbik7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlRmxvYXRpbmdCZW5kcG9pbnRQb3NpdGlvbihwYXJlbnRHZngsIGludGVyc2VjdGlvbikge1xuICAgIHZhciBmbG9hdGluZyA9IGRvbVF1ZXJ5KCcuZmxvYXRpbmcnLCBwYXJlbnRHZngpLFxuICAgICAgICBwb2ludCA9IGludGVyc2VjdGlvbi5wb2ludDtcblxuICAgIGlmICghZmxvYXRpbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0cmFuc2xhdGUoZmxvYXRpbmcsIHBvaW50LngsIHBvaW50LnkpO1xuXG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVTZWdtZW50RHJhZ2dlclBvc2l0aW9uKHBhcmVudEdmeCwgaW50ZXJzZWN0aW9uLCB3YXlwb2ludHMpIHtcblxuICAgIHZhciBkcmFnZ2VyR2Z4ID0gZ2V0U2VnbWVudERyYWdnZXIoaW50ZXJzZWN0aW9uLmluZGV4LCBwYXJlbnRHZngpLFxuICAgICAgICBzZWdtZW50U3RhcnQgPSB3YXlwb2ludHNbaW50ZXJzZWN0aW9uLmluZGV4IC0gMV0sXG4gICAgICAgIHNlZ21lbnRFbmQgPSB3YXlwb2ludHNbaW50ZXJzZWN0aW9uLmluZGV4XSxcbiAgICAgICAgcG9pbnQgPSBpbnRlcnNlY3Rpb24ucG9pbnQsXG4gICAgICAgIG1pZCA9IGdldE1pZFBvaW50KHNlZ21lbnRTdGFydCwgc2VnbWVudEVuZCksXG4gICAgICAgIGFsaWdubWVudCA9IHBvaW50c0FsaWduZWQoc2VnbWVudFN0YXJ0LCBzZWdtZW50RW5kKSxcbiAgICAgICAgZHJhZ2dlclZpc3VhbCwgcmVsYXRpdmVQb3NpdGlvbjtcblxuICAgIGlmICghZHJhZ2dlckdmeCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGRyYWdnZXJWaXN1YWwgPSBnZXREcmFnZ2VyVmlzdWFsKGRyYWdnZXJHZngpO1xuXG4gICAgcmVsYXRpdmVQb3NpdGlvbiA9IHtcbiAgICAgIHg6IHBvaW50LnggLSBtaWQueCxcbiAgICAgIHk6IHBvaW50LnkgLSBtaWQueVxuICAgIH07XG5cbiAgICBpZiAoYWxpZ25tZW50ID09PSAndicpIHtcblxuICAgICAgLy8gcm90YXRlIHBvc2l0aW9uXG4gICAgICByZWxhdGl2ZVBvc2l0aW9uID0ge1xuICAgICAgICB4OiByZWxhdGl2ZVBvc2l0aW9uLnksXG4gICAgICAgIHk6IHJlbGF0aXZlUG9zaXRpb24ueFxuICAgICAgfTtcbiAgICB9XG5cbiAgICB0cmFuc2xhdGUoZHJhZ2dlclZpc3VhbCwgcmVsYXRpdmVQb3NpdGlvbi54LCByZWxhdGl2ZVBvc2l0aW9uLnkpO1xuICB9XG5cbiAgZXZlbnRCdXMub24oJ2Nvbm5lY3Rpb24uY2hhbmdlZCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdXBkYXRlSGFuZGxlcyhldmVudC5lbGVtZW50KTtcbiAgfSk7XG5cbiAgZXZlbnRCdXMub24oJ2Nvbm5lY3Rpb24ucmVtb3ZlJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgZ2Z4ID0gZ2V0QmVuZHBvaW50c0NvbnRhaW5lcihldmVudC5lbGVtZW50KTtcblxuICAgIGlmIChnZngpIHtcbiAgICAgIHN2Z1JlbW92ZShnZngpO1xuICAgIH1cbiAgfSk7XG5cbiAgZXZlbnRCdXMub24oJ2VsZW1lbnQubWFya2VyLnVwZGF0ZScsIGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICB2YXIgZWxlbWVudCA9IGV2ZW50LmVsZW1lbnQsXG4gICAgICAgIGJlbmRwb2ludHNHZng7XG5cbiAgICBpZiAoIWVsZW1lbnQud2F5cG9pbnRzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgYmVuZHBvaW50c0dmeCA9IGFkZEhhbmRsZXMoZWxlbWVudCk7XG5cbiAgICBpZiAoZXZlbnQuYWRkKSB7XG4gICAgICBzdmdDbGFzc2VzKGJlbmRwb2ludHNHZngpLmFkZChldmVudC5tYXJrZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdmdDbGFzc2VzKGJlbmRwb2ludHNHZngpLnJlbW92ZShldmVudC5tYXJrZXIpO1xuICAgIH1cbiAgfSk7XG5cbiAgZXZlbnRCdXMub24oJ2VsZW1lbnQubW91c2Vtb3ZlJywgZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgIHZhciBlbGVtZW50ID0gZXZlbnQuZWxlbWVudCxcbiAgICAgICAgd2F5cG9pbnRzID0gZWxlbWVudC53YXlwb2ludHMsXG4gICAgICAgIGJlbmRwb2ludHNHZngsXG4gICAgICAgIGludGVyc2VjdGlvbjtcblxuICAgIGlmICh3YXlwb2ludHMpIHtcbiAgICAgIGJlbmRwb2ludHNHZnggPSBnZXRCZW5kcG9pbnRzQ29udGFpbmVyKGVsZW1lbnQsIHRydWUpO1xuXG4gICAgICBpbnRlcnNlY3Rpb24gPSBnZXRDb25uZWN0aW9uSW50ZXJzZWN0aW9uKGNhbnZhcywgd2F5cG9pbnRzLCBldmVudC5vcmlnaW5hbEV2ZW50KTtcblxuICAgICAgaWYgKCFpbnRlcnNlY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB1cGRhdGVGbG9hdGluZ0JlbmRwb2ludFBvc2l0aW9uKGJlbmRwb2ludHNHZngsIGludGVyc2VjdGlvbik7XG5cbiAgICAgIGlmICghaW50ZXJzZWN0aW9uLmJlbmRwb2ludCkge1xuICAgICAgICB1cGRhdGVTZWdtZW50RHJhZ2dlclBvc2l0aW9uKGJlbmRwb2ludHNHZngsIGludGVyc2VjdGlvbiwgd2F5cG9pbnRzKTtcbiAgICAgIH1cblxuICAgIH1cbiAgfSk7XG5cbiAgZXZlbnRCdXMub24oJ2VsZW1lbnQubW91c2Vkb3duJywgZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgIGlmICghaXNQcmltYXJ5QnV0dG9uKGV2ZW50KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBvcmlnaW5hbEV2ZW50ID0gZXZlbnQub3JpZ2luYWxFdmVudCxcbiAgICAgICAgZWxlbWVudCA9IGV2ZW50LmVsZW1lbnQ7XG5cbiAgICBpZiAoIWVsZW1lbnQud2F5cG9pbnRzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcmV0dXJuIGFjdGl2YXRlQmVuZHBvaW50TW92ZShvcmlnaW5hbEV2ZW50LCBlbGVtZW50KTtcbiAgfSk7XG5cbiAgZXZlbnRCdXMub24oJ3NlbGVjdGlvbi5jaGFuZ2VkJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgbmV3U2VsZWN0aW9uID0gZXZlbnQubmV3U2VsZWN0aW9uLFxuICAgICAgICBwcmltYXJ5ID0gbmV3U2VsZWN0aW9uWzBdO1xuXG4gICAgaWYgKHByaW1hcnkgJiYgcHJpbWFyeS53YXlwb2ludHMpIHtcbiAgICAgIGFkZEhhbmRsZXMocHJpbWFyeSk7XG4gICAgfVxuICB9KTtcblxuICBldmVudEJ1cy5vbignZWxlbWVudC5ob3ZlcicsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIGVsZW1lbnQgPSBldmVudC5lbGVtZW50O1xuXG4gICAgaWYgKGVsZW1lbnQud2F5cG9pbnRzKSB7XG4gICAgICBhZGRIYW5kbGVzKGVsZW1lbnQpO1xuICAgICAgaW50ZXJhY3Rpb25FdmVudHMucmVnaXN0ZXJFdmVudChldmVudC5nZngsICdtb3VzZW1vdmUnLCAnZWxlbWVudC5tb3VzZW1vdmUnKTtcbiAgICB9XG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKCdlbGVtZW50Lm91dCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgaW50ZXJhY3Rpb25FdmVudHMudW5yZWdpc3RlckV2ZW50KGV2ZW50LmdmeCwgJ21vdXNlbW92ZScsICdlbGVtZW50Lm1vdXNlbW92ZScpO1xuICB9KTtcblxuICAvLyB1cGRhdGUgYmVuZHBvaW50IGNvbnRhaW5lciBkYXRhIGF0dHJpYnV0ZSBvbiBlbGVtZW50IElEIGNoYW5nZVxuICBldmVudEJ1cy5vbignZWxlbWVudC51cGRhdGVJZCcsIGZ1bmN0aW9uKGNvbnRleHQpIHtcbiAgICB2YXIgZWxlbWVudCA9IGNvbnRleHQuZWxlbWVudCxcbiAgICAgICAgbmV3SWQgPSBjb250ZXh0Lm5ld0lkO1xuXG4gICAgaWYgKGVsZW1lbnQud2F5cG9pbnRzKSB7XG4gICAgICB2YXIgYmVuZHBvaW50Q29udGFpbmVyID0gZ2V0QmVuZHBvaW50c0NvbnRhaW5lcihlbGVtZW50KTtcblxuICAgICAgaWYgKGJlbmRwb2ludENvbnRhaW5lcikge1xuICAgICAgICBzdmdBdHRyKGJlbmRwb2ludENvbnRhaW5lciwgeyAnZGF0YS1lbGVtZW50LWlkJzogbmV3SWQgfSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICAvLyBBUElcblxuICB0aGlzLmFkZEhhbmRsZXMgPSBhZGRIYW5kbGVzO1xuICB0aGlzLnVwZGF0ZUhhbmRsZXMgPSB1cGRhdGVIYW5kbGVzO1xuICB0aGlzLmdldEJlbmRwb2ludHNDb250YWluZXIgPSBnZXRCZW5kcG9pbnRzQ29udGFpbmVyO1xuICB0aGlzLmdldFNlZ21lbnREcmFnZ2VyID0gZ2V0U2VnbWVudERyYWdnZXI7XG59XG5cbkJlbmRwb2ludHMuJGluamVjdCA9IFtcbiAgJ2V2ZW50QnVzJyxcbiAgJ2NhbnZhcycsXG4gICdpbnRlcmFjdGlvbkV2ZW50cycsXG4gICdiZW5kcG9pbnRNb3ZlJyxcbiAgJ2Nvbm5lY3Rpb25TZWdtZW50TW92ZSdcbl07XG5cblxuXG4vLyBoZWxwZXIgLy8vLy8vLy8vLy8vL1xuXG5mdW5jdGlvbiBnZXREcmFnZ2VyVmlzdWFsKGRyYWdnZXJHZngpIHtcbiAgcmV0dXJuIGRvbVF1ZXJ5KCcuZGpzLXZpc3VhbCcsIGRyYWdnZXJHZngpO1xufSIsImltcG9ydCB7XG4gIGlzT2JqZWN0LFxuICBzb3J0Qnlcbn0gZnJvbSAnbWluLWRhc2gnO1xuXG5pbXBvcnQge1xuICBwb2ludERpc3RhbmNlLFxuICBwb2ludHNPbkxpbmVcbn0gZnJvbSAnLi4vdXRpbC9HZW9tZXRyeSc7XG5cbmltcG9ydCBpbnRlcnNlY3RQYXRocyBmcm9tICdwYXRoLWludGVyc2VjdGlvbic7XG5cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdW5kQm91bmRzKGJvdW5kcykge1xuICByZXR1cm4ge1xuICAgIHg6IE1hdGgucm91bmQoYm91bmRzLngpLFxuICAgIHk6IE1hdGgucm91bmQoYm91bmRzLnkpLFxuICAgIHdpZHRoOiBNYXRoLnJvdW5kKGJvdW5kcy53aWR0aCksXG4gICAgaGVpZ2h0OiBNYXRoLnJvdW5kKGJvdW5kcy5oZWlnaHQpXG4gIH07XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdW5kUG9pbnQocG9pbnQpIHtcblxuICByZXR1cm4ge1xuICAgIHg6IE1hdGgucm91bmQocG9pbnQueCksXG4gICAgeTogTWF0aC5yb3VuZChwb2ludC55KVxuICB9O1xufVxuXG5cbi8qKlxuICogQ29udmVydCB0aGUgZ2l2ZW4gYm91bmRzIHRvIGEgeyB0b3AsIGxlZnQsIGJvdHRvbSwgcmlnaHQgfSBkZXNjcmlwdG9yLlxuICpcbiAqIEBwYXJhbSB7Qm91bmRzfFBvaW50fSBib3VuZHNcbiAqXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc1RSQkwoYm91bmRzKSB7XG4gIHJldHVybiB7XG4gICAgdG9wOiBib3VuZHMueSxcbiAgICByaWdodDogYm91bmRzLnggKyAoYm91bmRzLndpZHRoIHx8IDApLFxuICAgIGJvdHRvbTogYm91bmRzLnkgKyAoYm91bmRzLmhlaWdodCB8fCAwKSxcbiAgICBsZWZ0OiBib3VuZHMueFxuICB9O1xufVxuXG5cbi8qKlxuICogQ29udmVydCBhIHsgdG9wLCBsZWZ0LCBib3R0b20sIHJpZ2h0IH0gdG8gYW4gb2JqZWN0cyBib3VuZHMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHRyYmxcbiAqXG4gKiBAcmV0dXJuIHtCb3VuZHN9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc0JvdW5kcyh0cmJsKSB7XG4gIHJldHVybiB7XG4gICAgeDogdHJibC5sZWZ0LFxuICAgIHk6IHRyYmwudG9wLFxuICAgIHdpZHRoOiB0cmJsLnJpZ2h0IC0gdHJibC5sZWZ0LFxuICAgIGhlaWdodDogdHJibC5ib3R0b20gLSB0cmJsLnRvcFxuICB9O1xufVxuXG5cbi8qKlxuICogR2V0IHRoZSBtaWQgb2YgdGhlIGdpdmVuIGJvdW5kcyBvciBwb2ludC5cbiAqXG4gKiBAcGFyYW0ge0JvdW5kc3xQb2ludH0gYm91bmRzXG4gKlxuICogQHJldHVybiB7UG9pbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRNaWQoYm91bmRzKSB7XG4gIHJldHVybiByb3VuZFBvaW50KHtcbiAgICB4OiBib3VuZHMueCArIChib3VuZHMud2lkdGggfHwgMCkgLyAyLFxuICAgIHk6IGJvdW5kcy55ICsgKGJvdW5kcy5oZWlnaHQgfHwgMCkgLyAyXG4gIH0pO1xufVxuXG5cbi8vIG9yaWVudGF0aW9uIHV0aWxzIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLyoqXG4gKiBHZXQgb3JpZW50YXRpb24gb2YgdGhlIGdpdmVuIHJlY3RhbmdsZSB3aXRoIHJlc3BlY3QgdG9cbiAqIHRoZSByZWZlcmVuY2UgcmVjdGFuZ2xlLlxuICpcbiAqIEEgcGFkZGluZyAocG9zaXRpdmUgb3IgbmVnYXRpdmUpIG1heSBiZSBwYXNzZWQgdG8gaW5mbHVlbmNlXG4gKiBob3Jpem9udGFsIC8gdmVydGljYWwgb3JpZW50YXRpb24gYW5kIGludGVyc2VjdGlvbi5cbiAqXG4gKiBAcGFyYW0ge0JvdW5kc30gcmVjdFxuICogQHBhcmFtIHtCb3VuZHN9IHJlZmVyZW5jZVxuICogQHBhcmFtIHtQb2ludHxudW1iZXJ9IHBhZGRpbmdcbiAqXG4gKiBAcmV0dXJuIHtzdHJpbmd9IHRoZSBvcmllbnRhdGlvbjsgb25lIG9mIHRvcCwgdG9wLWxlZnQsIGxlZnQsIC4uLiwgYm90dG9tLCByaWdodCBvciBpbnRlcnNlY3QuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRPcmllbnRhdGlvbihyZWN0LCByZWZlcmVuY2UsIHBhZGRpbmcpIHtcblxuICBwYWRkaW5nID0gcGFkZGluZyB8fCAwO1xuXG4gIC8vIG1ha2Ugc3VyZSB3ZSBjYW4gdXNlIGFuIG9iamVjdCwgdG9vXG4gIC8vIGZvciBpbmRpdmlkdWFsIHsgeCwgeSB9IHBhZGRpbmdcbiAgaWYgKCFpc09iamVjdChwYWRkaW5nKSkge1xuICAgIHBhZGRpbmcgPSB7IHg6IHBhZGRpbmcsIHk6IHBhZGRpbmcgfTtcbiAgfVxuXG5cbiAgdmFyIHJlY3RPcmllbnRhdGlvbiA9IGFzVFJCTChyZWN0KSxcbiAgICAgIHJlZmVyZW5jZU9yaWVudGF0aW9uID0gYXNUUkJMKHJlZmVyZW5jZSk7XG5cbiAgdmFyIHRvcCA9IHJlY3RPcmllbnRhdGlvbi5ib3R0b20gKyBwYWRkaW5nLnkgPD0gcmVmZXJlbmNlT3JpZW50YXRpb24udG9wLFxuICAgICAgcmlnaHQgPSByZWN0T3JpZW50YXRpb24ubGVmdCAtIHBhZGRpbmcueCA+PSByZWZlcmVuY2VPcmllbnRhdGlvbi5yaWdodCxcbiAgICAgIGJvdHRvbSA9IHJlY3RPcmllbnRhdGlvbi50b3AgLSBwYWRkaW5nLnkgPj0gcmVmZXJlbmNlT3JpZW50YXRpb24uYm90dG9tLFxuICAgICAgbGVmdCA9IHJlY3RPcmllbnRhdGlvbi5yaWdodCArIHBhZGRpbmcueCA8PSByZWZlcmVuY2VPcmllbnRhdGlvbi5sZWZ0O1xuXG4gIHZhciB2ZXJ0aWNhbCA9IHRvcCA/ICd0b3AnIDogKGJvdHRvbSA/ICdib3R0b20nIDogbnVsbCksXG4gICAgICBob3Jpem9udGFsID0gbGVmdCA/ICdsZWZ0JyA6IChyaWdodCA/ICdyaWdodCcgOiBudWxsKTtcblxuICBpZiAoaG9yaXpvbnRhbCAmJiB2ZXJ0aWNhbCkge1xuICAgIHJldHVybiB2ZXJ0aWNhbCArICctJyArIGhvcml6b250YWw7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGhvcml6b250YWwgfHwgdmVydGljYWwgfHwgJ2ludGVyc2VjdCc7XG4gIH1cbn1cblxuXG4vLyBpbnRlcnNlY3Rpb24gdXRpbHMgLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4vKipcbiAqIEdldCBpbnRlcnNlY3Rpb24gYmV0d2VlbiBhbiBlbGVtZW50IGFuZCBhIGxpbmUgcGF0aC5cbiAqXG4gKiBAcGFyYW0ge1BhdGhEZWZ9IGVsZW1lbnRQYXRoXG4gKiBAcGFyYW0ge1BhdGhEZWZ9IGxpbmVQYXRoXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGNyb3BTdGFydCBjcm9wIGZyb20gc3RhcnQgb3IgZW5kXG4gKlxuICogQHJldHVybiB7UG9pbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRFbGVtZW50TGluZUludGVyc2VjdGlvbihlbGVtZW50UGF0aCwgbGluZVBhdGgsIGNyb3BTdGFydCkge1xuXG4gIHZhciBpbnRlcnNlY3Rpb25zID0gZ2V0SW50ZXJzZWN0aW9ucyhlbGVtZW50UGF0aCwgbGluZVBhdGgpO1xuXG4gIC8vIHJlY29nbml6ZSBpbnRlcnNlY3Rpb25zXG4gIC8vIG9ubHkgb25lIC0+IGNob29zZVxuICAvLyB0d28gY2xvc2UgdG9nZXRoZXIgLT4gY2hvb3NlIGZpcnN0XG4gIC8vIHR3byBvciBtb3JlIGRpc3RpbmN0IC0+IHB1bGwgb3V0IGFwcHJvcHJpYXRlIG9uZVxuICAvLyBub25lIC0+IG9rIChmYWxsYmFjayB0byBwb2ludCBpdHNlbGYpXG4gIGlmIChpbnRlcnNlY3Rpb25zLmxlbmd0aCA9PT0gMSkge1xuICAgIHJldHVybiByb3VuZFBvaW50KGludGVyc2VjdGlvbnNbMF0pO1xuICB9IGVsc2UgaWYgKGludGVyc2VjdGlvbnMubGVuZ3RoID09PSAyICYmIHBvaW50RGlzdGFuY2UoaW50ZXJzZWN0aW9uc1swXSwgaW50ZXJzZWN0aW9uc1sxXSkgPCAxKSB7XG4gICAgcmV0dXJuIHJvdW5kUG9pbnQoaW50ZXJzZWN0aW9uc1swXSk7XG4gIH0gZWxzZSBpZiAoaW50ZXJzZWN0aW9ucy5sZW5ndGggPiAxKSB7XG5cbiAgICAvLyBzb3J0IGJ5IGludGVyc2VjdGlvbnMgYmFzZWQgb24gY29ubmVjdGlvbiBzZWdtZW50ICtcbiAgICAvLyBkaXN0YW5jZSBmcm9tIHN0YXJ0XG4gICAgaW50ZXJzZWN0aW9ucyA9IHNvcnRCeShpbnRlcnNlY3Rpb25zLCBmdW5jdGlvbihpKSB7XG4gICAgICB2YXIgZGlzdGFuY2UgPSBNYXRoLmZsb29yKGkudDIgKiAxMDApIHx8IDE7XG5cbiAgICAgIGRpc3RhbmNlID0gMTAwIC0gZGlzdGFuY2U7XG5cbiAgICAgIGRpc3RhbmNlID0gKGRpc3RhbmNlIDwgMTAgPyAnMCcgOiAnJykgKyBkaXN0YW5jZTtcblxuICAgICAgLy8gY3JlYXRlIGEgc29ydCBzdHJpbmcgdGhhdCBtYWtlcyBzdXJlIHdlIHNvcnRcbiAgICAgIC8vIGxpbmUgc2VnbWVudCBBU0MgKyBsaW5lIHNlZ21lbnQgcG9zaXRpb24gREVTQyAoZm9yIGNyb3BTdGFydClcbiAgICAgIC8vIGxpbmUgc2VnbWVudCBBU0MgKyBsaW5lIHNlZ21lbnQgcG9zaXRpb24gQVNDIChmb3IgY3JvcEVuZClcbiAgICAgIHJldHVybiBpLnNlZ21lbnQyICsgJyMnICsgZGlzdGFuY2U7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcm91bmRQb2ludChpbnRlcnNlY3Rpb25zW2Nyb3BTdGFydCA/IDAgOiBpbnRlcnNlY3Rpb25zLmxlbmd0aCAtIDFdKTtcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRJbnRlcnNlY3Rpb25zKGEsIGIpIHtcbiAgcmV0dXJuIGludGVyc2VjdFBhdGhzKGEsIGIpO1xufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBmaWx0ZXJSZWR1bmRhbnRXYXlwb2ludHMod2F5cG9pbnRzKSB7XG5cbiAgLy8gYWx0ZXIgY29weSBvZiB3YXlwb2ludHMsIG5vdCBvcmlnaW5hbFxuICB3YXlwb2ludHMgPSB3YXlwb2ludHMuc2xpY2UoKTtcblxuICB2YXIgaWR4ID0gMCxcbiAgICAgIHBvaW50LFxuICAgICAgcHJldmlvdXNQb2ludCxcbiAgICAgIG5leHRQb2ludDtcblxuICB3aGlsZSAod2F5cG9pbnRzW2lkeF0pIHtcbiAgICBwb2ludCA9IHdheXBvaW50c1tpZHhdO1xuICAgIHByZXZpb3VzUG9pbnQgPSB3YXlwb2ludHNbaWR4IC0gMV07XG4gICAgbmV4dFBvaW50ID0gd2F5cG9pbnRzW2lkeCArIDFdO1xuXG4gICAgaWYgKHBvaW50RGlzdGFuY2UocG9pbnQsIG5leHRQb2ludCkgPT09IDAgfHxcbiAgICAgICAgcG9pbnRzT25MaW5lKHByZXZpb3VzUG9pbnQsIG5leHRQb2ludCwgcG9pbnQpKSB7XG5cbiAgICAgIC8vIHJlbW92ZSBwb2ludCwgaWYgb3ZlcmxhcHBpbmcgd2l0aCB7bmV4dFBvaW50fVxuICAgICAgLy8gb3Igb24gbGluZSB3aXRoIHtwcmV2aW91c1BvaW50fSAtPiB7cG9pbnR9IC0+IHtuZXh0UG9pbnR9XG4gICAgICB3YXlwb2ludHMuc3BsaWNlKGlkeCwgMSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlkeCsrO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB3YXlwb2ludHM7XG59XG4iLCJpbXBvcnQgeyBmaWx0ZXJSZWR1bmRhbnRXYXlwb2ludHMgfSBmcm9tICcuLi8uLi9sYXlvdXQvTGF5b3V0VXRpbCc7XG5cbnZhciByb3VuZCA9IE1hdGgucm91bmQ7XG5cbnZhciBSRUNPTk5FQ1RfU1RBUlQgPSAncmVjb25uZWN0U3RhcnQnLFxuICAgIFJFQ09OTkVDVF9FTkQgPSAncmVjb25uZWN0RW5kJyxcbiAgICBVUERBVEVfV0FZUE9JTlRTID0gJ3VwZGF0ZVdheXBvaW50cyc7XG5cblxuLyoqXG4gKiBNb3ZlIGJlbmRwb2ludHMgdGhyb3VnaCBkcmFnIGFuZCBkcm9wIHRvIGFkZC9yZW1vdmUgYmVuZHBvaW50cyBvciByZWNvbm5lY3QgY29ubmVjdGlvbi5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQmVuZHBvaW50TW92ZShpbmplY3RvciwgZXZlbnRCdXMsIGNhbnZhcywgZHJhZ2dpbmcsIHJ1bGVzLCBtb2RlbGluZykge1xuICB0aGlzLl9pbmplY3RvciA9IGluamVjdG9yO1xuXG4gIHRoaXMuc3RhcnQgPSBmdW5jdGlvbihldmVudCwgY29ubmVjdGlvbiwgYmVuZHBvaW50SW5kZXgsIGluc2VydCkge1xuICAgIHZhciBnZnggPSBjYW52YXMuZ2V0R3JhcGhpY3MoY29ubmVjdGlvbiksXG4gICAgICAgIHNvdXJjZSA9IGNvbm5lY3Rpb24uc291cmNlLFxuICAgICAgICB0YXJnZXQgPSBjb25uZWN0aW9uLnRhcmdldCxcbiAgICAgICAgd2F5cG9pbnRzID0gY29ubmVjdGlvbi53YXlwb2ludHMsXG4gICAgICAgIHR5cGU7XG5cbiAgICBpZiAoIWluc2VydCAmJiBiZW5kcG9pbnRJbmRleCA9PT0gMCkge1xuICAgICAgdHlwZSA9IFJFQ09OTkVDVF9TVEFSVDtcbiAgICB9IGVsc2VcbiAgICBpZiAoIWluc2VydCAmJiBiZW5kcG9pbnRJbmRleCA9PT0gd2F5cG9pbnRzLmxlbmd0aCAtIDEpIHtcbiAgICAgIHR5cGUgPSBSRUNPTk5FQ1RfRU5EO1xuICAgIH0gZWxzZSB7XG4gICAgICB0eXBlID0gVVBEQVRFX1dBWVBPSU5UUztcbiAgICB9XG5cbiAgICB2YXIgY29tbWFuZCA9IHR5cGUgPT09IFVQREFURV9XQVlQT0lOVFMgPyAnY29ubmVjdGlvbi51cGRhdGVXYXlwb2ludHMnIDogJ2Nvbm5lY3Rpb24ucmVjb25uZWN0JztcblxuICAgIHZhciBhbGxvd2VkID0gcnVsZXMuYWxsb3dlZChjb21tYW5kLCB7XG4gICAgICBjb25uZWN0aW9uOiBjb25uZWN0aW9uLFxuICAgICAgc291cmNlOiBzb3VyY2UsXG4gICAgICB0YXJnZXQ6IHRhcmdldFxuICAgIH0pO1xuXG4gICAgaWYgKGFsbG93ZWQgPT09IGZhbHNlKSB7XG4gICAgICBhbGxvd2VkID0gcnVsZXMuYWxsb3dlZChjb21tYW5kLCB7XG4gICAgICAgIGNvbm5lY3Rpb246IGNvbm5lY3Rpb24sXG4gICAgICAgIHNvdXJjZTogdGFyZ2V0LFxuICAgICAgICB0YXJnZXQ6IHNvdXJjZVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKGFsbG93ZWQgPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZHJhZ2dpbmcuaW5pdChldmVudCwgJ2JlbmRwb2ludC5tb3ZlJywge1xuICAgICAgZGF0YToge1xuICAgICAgICBjb25uZWN0aW9uOiBjb25uZWN0aW9uLFxuICAgICAgICBjb25uZWN0aW9uR2Z4OiBnZngsXG4gICAgICAgIGNvbnRleHQ6IHtcbiAgICAgICAgICBhbGxvd2VkOiBhbGxvd2VkLFxuICAgICAgICAgIGJlbmRwb2ludEluZGV4OiBiZW5kcG9pbnRJbmRleCxcbiAgICAgICAgICBjb25uZWN0aW9uOiBjb25uZWN0aW9uLFxuICAgICAgICAgIHNvdXJjZTogc291cmNlLFxuICAgICAgICAgIHRhcmdldDogdGFyZ2V0LFxuICAgICAgICAgIGluc2VydDogaW5zZXJ0LFxuICAgICAgICAgIHR5cGU6IHR5cGVcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIGV2ZW50QnVzLm9uKCdiZW5kcG9pbnQubW92ZS5ob3ZlcicsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0LFxuICAgICAgICBjb25uZWN0aW9uID0gY29udGV4dC5jb25uZWN0aW9uLFxuICAgICAgICBzb3VyY2UgPSBjb25uZWN0aW9uLnNvdXJjZSxcbiAgICAgICAgdGFyZ2V0ID0gY29ubmVjdGlvbi50YXJnZXQsXG4gICAgICAgIGhvdmVyID0gZXZlbnQuaG92ZXIsXG4gICAgICAgIHR5cGUgPSBjb250ZXh0LnR5cGU7XG5cbiAgICAvLyBjYWNoZSBob3ZlciBzdGF0ZVxuICAgIGNvbnRleHQuaG92ZXIgPSBob3ZlcjtcblxuICAgIHZhciBhbGxvd2VkO1xuXG4gICAgaWYgKCFob3Zlcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBjb21tYW5kID0gdHlwZSA9PT0gVVBEQVRFX1dBWVBPSU5UUyA/ICdjb25uZWN0aW9uLnVwZGF0ZVdheXBvaW50cycgOiAnY29ubmVjdGlvbi5yZWNvbm5lY3QnO1xuXG4gICAgYWxsb3dlZCA9IGNvbnRleHQuYWxsb3dlZCA9IHJ1bGVzLmFsbG93ZWQoY29tbWFuZCwge1xuICAgICAgY29ubmVjdGlvbjogY29ubmVjdGlvbixcbiAgICAgIHNvdXJjZTogdHlwZSA9PT0gUkVDT05ORUNUX1NUQVJUID8gaG92ZXIgOiBzb3VyY2UsXG4gICAgICB0YXJnZXQ6IHR5cGUgPT09IFJFQ09OTkVDVF9FTkQgPyBob3ZlciA6IHRhcmdldFxuICAgIH0pO1xuXG4gICAgaWYgKGFsbG93ZWQpIHtcbiAgICAgIGNvbnRleHQuc291cmNlID0gdHlwZSA9PT0gUkVDT05ORUNUX1NUQVJUID8gaG92ZXIgOiBzb3VyY2U7XG4gICAgICBjb250ZXh0LnRhcmdldCA9IHR5cGUgPT09IFJFQ09OTkVDVF9FTkQgPyBob3ZlciA6IHRhcmdldDtcblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChhbGxvd2VkID09PSBmYWxzZSkge1xuICAgICAgYWxsb3dlZCA9IGNvbnRleHQuYWxsb3dlZCA9IHJ1bGVzLmFsbG93ZWQoY29tbWFuZCwge1xuICAgICAgICBjb25uZWN0aW9uOiBjb25uZWN0aW9uLFxuICAgICAgICBzb3VyY2U6IHR5cGUgPT09IFJFQ09OTkVDVF9FTkQgPyBob3ZlciA6IHRhcmdldCxcbiAgICAgICAgdGFyZ2V0OiB0eXBlID09PSBSRUNPTk5FQ1RfU1RBUlQgPyBob3ZlciA6IHNvdXJjZVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKGFsbG93ZWQpIHtcbiAgICAgIGNvbnRleHQuc291cmNlID0gdHlwZSA9PT0gUkVDT05ORUNUX0VORCA/IGhvdmVyIDogdGFyZ2V0O1xuICAgICAgY29udGV4dC50YXJnZXQgPSB0eXBlID09PSBSRUNPTk5FQ1RfU1RBUlQgPyBob3ZlciA6IHNvdXJjZTtcbiAgICB9XG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKFsgJ2JlbmRwb2ludC5tb3ZlLm91dCcsICdiZW5kcG9pbnQubW92ZS5jbGVhbnVwJyBdLCBmdW5jdGlvbihldmVudCkge1xuICAgIHZhciBjb250ZXh0ID0gZXZlbnQuY29udGV4dCxcbiAgICAgICAgdHlwZSA9IGNvbnRleHQudHlwZTtcblxuICAgIGNvbnRleHQuaG92ZXIgPSBudWxsO1xuICAgIGNvbnRleHQuc291cmNlID0gbnVsbDtcbiAgICBjb250ZXh0LnRhcmdldCA9IG51bGw7XG5cbiAgICBpZiAodHlwZSAhPT0gVVBEQVRFX1dBWVBPSU5UUykge1xuICAgICAgY29udGV4dC5hbGxvd2VkID0gZmFsc2U7XG4gICAgfVxuICB9KTtcblxuICBldmVudEJ1cy5vbignYmVuZHBvaW50Lm1vdmUuZW5kJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgY29udGV4dCA9IGV2ZW50LmNvbnRleHQsXG4gICAgICAgIGFsbG93ZWQgPSBjb250ZXh0LmFsbG93ZWQsXG4gICAgICAgIGJlbmRwb2ludEluZGV4ID0gY29udGV4dC5iZW5kcG9pbnRJbmRleCxcbiAgICAgICAgY29ubmVjdGlvbiA9IGNvbnRleHQuY29ubmVjdGlvbixcbiAgICAgICAgaW5zZXJ0ID0gY29udGV4dC5pbnNlcnQsXG4gICAgICAgIG5ld1dheXBvaW50cyA9IGNvbm5lY3Rpb24ud2F5cG9pbnRzLnNsaWNlKCksXG4gICAgICAgIHNvdXJjZSA9IGNvbnRleHQuc291cmNlLFxuICAgICAgICB0YXJnZXQgPSBjb250ZXh0LnRhcmdldCxcbiAgICAgICAgdHlwZSA9IGNvbnRleHQudHlwZSxcbiAgICAgICAgaGludHMgPSBjb250ZXh0LmhpbnRzIHx8IHt9O1xuXG4gICAgLy8gZW5zdXJlIGludGVnZXIgdmFsdWVzIChpbXBvcnRhbnQgaWYgem9vbSBsZXZlbCB3YXMgPiAxIGR1cmluZyBtb3ZlKVxuICAgIHZhciBkb2NraW5nID0ge1xuICAgICAgeDogcm91bmQoZXZlbnQueCksXG4gICAgICB5OiByb3VuZChldmVudC55KVxuICAgIH07XG5cbiAgICBpZiAoIWFsbG93ZWQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAodHlwZSA9PT0gVVBEQVRFX1dBWVBPSU5UUykge1xuICAgICAgaWYgKGluc2VydCkge1xuXG4gICAgICAgIC8vIGluc2VydCBuZXcgYmVuZHBvaW50XG4gICAgICAgIG5ld1dheXBvaW50cy5zcGxpY2UoYmVuZHBvaW50SW5kZXgsIDAsIGRvY2tpbmcpO1xuICAgICAgfSBlbHNlIHtcblxuICAgICAgICAvLyBzd2FwIHByZXZpb3VzIHdheXBvaW50IHdpdGggbW92ZWQgb25lXG4gICAgICAgIG5ld1dheXBvaW50c1tiZW5kcG9pbnRJbmRleF0gPSBkb2NraW5nO1xuICAgICAgfVxuXG4gICAgICAvLyBwYXNzIGhpbnRzIGFib3V0IGFjdHVhbCBtb3ZlZCBiZW5kcG9pbnRcbiAgICAgIC8vIHVzZWZ1bCBmb3IgY29ubmVjdGlvbi9sYWJlbCBsYXlvdXRcbiAgICAgIGhpbnRzLmJlbmRwb2ludE1vdmUgPSB7XG4gICAgICAgIGluc2VydDogaW5zZXJ0LFxuICAgICAgICBiZW5kcG9pbnRJbmRleDogYmVuZHBvaW50SW5kZXhcbiAgICAgIH07XG5cbiAgICAgIG5ld1dheXBvaW50cyA9IHRoaXMuY3JvcFdheXBvaW50cyhjb25uZWN0aW9uLCBuZXdXYXlwb2ludHMpO1xuXG4gICAgICBtb2RlbGluZy51cGRhdGVXYXlwb2ludHMoY29ubmVjdGlvbiwgZmlsdGVyUmVkdW5kYW50V2F5cG9pbnRzKG5ld1dheXBvaW50cyksIGhpbnRzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHR5cGUgPT09IFJFQ09OTkVDVF9TVEFSVCkge1xuICAgICAgICBoaW50cy5kb2NraW5nID0gJ3NvdXJjZSc7XG5cbiAgICAgICAgaWYgKGlzUmV2ZXJzZShjb250ZXh0KSkge1xuICAgICAgICAgIGhpbnRzLmRvY2tpbmcgPSAndGFyZ2V0JztcblxuICAgICAgICAgIGhpbnRzLm5ld1dheXBvaW50cyA9IG5ld1dheXBvaW50cy5yZXZlcnNlKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gUkVDT05ORUNUX0VORCkge1xuICAgICAgICBoaW50cy5kb2NraW5nID0gJ3RhcmdldCc7XG5cbiAgICAgICAgaWYgKGlzUmV2ZXJzZShjb250ZXh0KSkge1xuICAgICAgICAgIGhpbnRzLmRvY2tpbmcgPSAnc291cmNlJztcblxuICAgICAgICAgIGhpbnRzLm5ld1dheXBvaW50cyA9IG5ld1dheXBvaW50cy5yZXZlcnNlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbW9kZWxpbmcucmVjb25uZWN0KGNvbm5lY3Rpb24sIHNvdXJjZSwgdGFyZ2V0LCBkb2NraW5nLCBoaW50cyk7XG4gICAgfVxuICB9LCB0aGlzKTtcbn1cblxuQmVuZHBvaW50TW92ZS4kaW5qZWN0ID0gW1xuICAnaW5qZWN0b3InLFxuICAnZXZlbnRCdXMnLFxuICAnY2FudmFzJyxcbiAgJ2RyYWdnaW5nJyxcbiAgJ3J1bGVzJyxcbiAgJ21vZGVsaW5nJ1xuXTtcblxuQmVuZHBvaW50TW92ZS5wcm90b3R5cGUuY3JvcFdheXBvaW50cyA9IGZ1bmN0aW9uKGNvbm5lY3Rpb24sIG5ld1dheXBvaW50cykge1xuICB2YXIgY29ubmVjdGlvbkRvY2tpbmcgPSB0aGlzLl9pbmplY3Rvci5nZXQoJ2Nvbm5lY3Rpb25Eb2NraW5nJywgZmFsc2UpO1xuXG4gIGlmICghY29ubmVjdGlvbkRvY2tpbmcpIHtcbiAgICByZXR1cm4gbmV3V2F5cG9pbnRzO1xuICB9XG5cbiAgdmFyIHdheXBvaW50cyA9IGNvbm5lY3Rpb24ud2F5cG9pbnRzO1xuXG4gIGNvbm5lY3Rpb24ud2F5cG9pbnRzID0gbmV3V2F5cG9pbnRzO1xuXG4gIGNvbm5lY3Rpb24ud2F5cG9pbnRzID0gY29ubmVjdGlvbkRvY2tpbmcuZ2V0Q3JvcHBlZFdheXBvaW50cyhjb25uZWN0aW9uKTtcblxuICBuZXdXYXlwb2ludHMgPSBjb25uZWN0aW9uLndheXBvaW50cztcblxuICBjb25uZWN0aW9uLndheXBvaW50cyA9IHdheXBvaW50cztcblxuICByZXR1cm4gbmV3V2F5cG9pbnRzO1xufTtcblxuXG4vLyBoZWxwZXJzIC8vLy8vLy8vLy9cblxuZXhwb3J0IGZ1bmN0aW9uIGlzUmV2ZXJzZShjb250ZXh0KSB7XG4gIHZhciBob3ZlciA9IGNvbnRleHQuaG92ZXIsXG4gICAgICBzb3VyY2UgPSBjb250ZXh0LnNvdXJjZSxcbiAgICAgIHRhcmdldCA9IGNvbnRleHQudGFyZ2V0LFxuICAgICAgdHlwZSA9IGNvbnRleHQudHlwZTtcblxuICBpZiAodHlwZSA9PT0gUkVDT05ORUNUX1NUQVJUKSB7XG4gICAgcmV0dXJuIGhvdmVyICYmIHRhcmdldCAmJiBob3ZlciA9PT0gdGFyZ2V0ICYmIHNvdXJjZSAhPT0gdGFyZ2V0O1xuICB9XG5cbiAgaWYgKHR5cGUgPT09IFJFQ09OTkVDVF9FTkQpIHtcbiAgICByZXR1cm4gaG92ZXIgJiYgc291cmNlICYmIGhvdmVyID09PSBzb3VyY2UgJiYgc291cmNlICE9PSB0YXJnZXQ7XG4gIH1cbn0iLCJpbXBvcnQge1xuICBjbGFzc2VzIGFzIHN2Z0NsYXNzZXMsXG4gIHJlbW92ZSBhcyBzdmdSZW1vdmVcbn0gZnJvbSAndGlueS1zdmcnO1xuXG5pbXBvcnQgeyBhZGRCZW5kcG9pbnQgfSBmcm9tICcuL0JlbmRwb2ludFV0aWwnO1xuXG5pbXBvcnQgeyB0cmFuc2xhdGUgfSBmcm9tICcuLi8uLi91dGlsL1N2Z1RyYW5zZm9ybVV0aWwnO1xuXG5pbXBvcnQgeyBpc1JldmVyc2UgfSBmcm9tICcuL0JlbmRwb2ludE1vdmUnO1xuXG52YXIgUkVDT05ORUNUX1NUQVJUID0gJ3JlY29ubmVjdFN0YXJ0JyxcbiAgICBSRUNPTk5FQ1RfRU5EID0gJ3JlY29ubmVjdEVuZCcsXG4gICAgVVBEQVRFX1dBWVBPSU5UUyA9ICd1cGRhdGVXYXlwb2ludHMnO1xuXG52YXIgTUFSS0VSX09LID0gJ2Nvbm5lY3Qtb2snLFxuICAgIE1BUktFUl9OT1RfT0sgPSAnY29ubmVjdC1ub3Qtb2snLFxuICAgIE1BUktFUl9DT05ORUNUX0hPVkVSID0gJ2Nvbm5lY3QtaG92ZXInLFxuICAgIE1BUktFUl9DT05ORUNUX1VQREFUSU5HID0gJ2Rqcy11cGRhdGluZycsXG4gICAgTUFSS0VSX0VMRU1FTlRfSElEREVOID0gJ2Rqcy1lbGVtZW50LWhpZGRlbic7XG5cbnZhciBISUdIX1BSSU9SSVRZID0gMTEwMDtcblxuLyoqXG4gKiBQcmV2aWV3IGNvbm5lY3Rpb24gd2hpbGUgbW92aW5nIGJlbmRwb2ludHMuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEJlbmRwb2ludE1vdmVQcmV2aWV3KGJlbmRwb2ludE1vdmUsIGluamVjdG9yLCBldmVudEJ1cywgY2FudmFzKSB7XG4gIHRoaXMuX2luamVjdG9yID0gaW5qZWN0b3I7XG5cbiAgdmFyIGNvbm5lY3Rpb25QcmV2aWV3ID0gaW5qZWN0b3IuZ2V0KCdjb25uZWN0aW9uUHJldmlldycsIGZhbHNlKTtcblxuICBldmVudEJ1cy5vbignYmVuZHBvaW50Lm1vdmUuc3RhcnQnLCBmdW5jdGlvbihldmVudCkge1xuICAgIHZhciBjb250ZXh0ID0gZXZlbnQuY29udGV4dCxcbiAgICAgICAgYmVuZHBvaW50SW5kZXggPSBjb250ZXh0LmJlbmRwb2ludEluZGV4LFxuICAgICAgICBjb25uZWN0aW9uID0gY29udGV4dC5jb25uZWN0aW9uLFxuICAgICAgICBpbnNlcnQgPSBjb250ZXh0Lmluc2VydCxcbiAgICAgICAgd2F5cG9pbnRzID0gY29ubmVjdGlvbi53YXlwb2ludHMsXG4gICAgICAgIG5ld1dheXBvaW50cyA9IHdheXBvaW50cy5zbGljZSgpO1xuXG4gICAgY29udGV4dC53YXlwb2ludHMgPSB3YXlwb2ludHM7XG5cbiAgICBpZiAoaW5zZXJ0KSB7XG5cbiAgICAgIC8vIGluc2VydCBwbGFjZWhvbGRlciBmb3IgbmV3IGJlbmRwb2ludFxuICAgICAgbmV3V2F5cG9pbnRzLnNwbGljZShiZW5kcG9pbnRJbmRleCwgMCwgeyB4OiBldmVudC54LCB5OiBldmVudC55IH0pO1xuICAgIH1cblxuICAgIGNvbm5lY3Rpb24ud2F5cG9pbnRzID0gbmV3V2F5cG9pbnRzO1xuXG4gICAgLy8gYWRkIGRyYWdnZXIgZ2Z4XG4gICAgdmFyIGRyYWdnZXJHZnggPSBjb250ZXh0LmRyYWdnZXJHZnggPSBhZGRCZW5kcG9pbnQoY2FudmFzLmdldExheWVyKCdvdmVybGF5cycpKTtcblxuICAgIHN2Z0NsYXNzZXMoZHJhZ2dlckdmeCkuYWRkKCdkanMtZHJhZ2dpbmcnKTtcblxuICAgIGNhbnZhcy5hZGRNYXJrZXIoY29ubmVjdGlvbiwgTUFSS0VSX0VMRU1FTlRfSElEREVOKTtcbiAgICBjYW52YXMuYWRkTWFya2VyKGNvbm5lY3Rpb24sIE1BUktFUl9DT05ORUNUX1VQREFUSU5HKTtcbiAgfSk7XG5cbiAgZXZlbnRCdXMub24oJ2JlbmRwb2ludC5tb3ZlLmhvdmVyJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgY29udGV4dCA9IGV2ZW50LmNvbnRleHQsXG4gICAgICAgIGFsbG93ZWQgPSBjb250ZXh0LmFsbG93ZWQsXG4gICAgICAgIGhvdmVyID0gY29udGV4dC5ob3ZlcixcbiAgICAgICAgdHlwZSA9IGNvbnRleHQudHlwZTtcblxuICAgIGlmIChob3Zlcikge1xuICAgICAgY2FudmFzLmFkZE1hcmtlcihob3ZlciwgTUFSS0VSX0NPTk5FQ1RfSE9WRVIpO1xuXG4gICAgICBpZiAodHlwZSA9PT0gVVBEQVRFX1dBWVBPSU5UUykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChhbGxvd2VkKSB7XG4gICAgICAgIGNhbnZhcy5yZW1vdmVNYXJrZXIoaG92ZXIsIE1BUktFUl9OT1RfT0spO1xuICAgICAgICBjYW52YXMuYWRkTWFya2VyKGhvdmVyLCBNQVJLRVJfT0spO1xuICAgICAgfSBlbHNlIGlmIChhbGxvd2VkID09PSBmYWxzZSkge1xuICAgICAgICBjYW52YXMucmVtb3ZlTWFya2VyKGhvdmVyLCBNQVJLRVJfT0spO1xuICAgICAgICBjYW52YXMuYWRkTWFya2VyKGhvdmVyLCBNQVJLRVJfTk9UX09LKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKFtcbiAgICAnYmVuZHBvaW50Lm1vdmUub3V0JyxcbiAgICAnYmVuZHBvaW50Lm1vdmUuY2xlYW51cCdcbiAgXSwgSElHSF9QUklPUklUWSwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgY29udGV4dCA9IGV2ZW50LmNvbnRleHQsXG4gICAgICAgIGhvdmVyID0gY29udGV4dC5ob3ZlcixcbiAgICAgICAgdGFyZ2V0ID0gY29udGV4dC50YXJnZXQ7XG5cbiAgICBpZiAoaG92ZXIpIHtcbiAgICAgIGNhbnZhcy5yZW1vdmVNYXJrZXIoaG92ZXIsIE1BUktFUl9DT05ORUNUX0hPVkVSKTtcbiAgICAgIGNhbnZhcy5yZW1vdmVNYXJrZXIoaG92ZXIsIHRhcmdldCA/IE1BUktFUl9PSyA6IE1BUktFUl9OT1RfT0spO1xuICAgIH1cbiAgfSk7XG5cbiAgZXZlbnRCdXMub24oJ2JlbmRwb2ludC5tb3ZlLm1vdmUnLCBmdW5jdGlvbihldmVudCkge1xuICAgIHZhciBjb250ZXh0ID0gZXZlbnQuY29udGV4dCxcbiAgICAgICAgYWxsb3dlZCA9IGNvbnRleHQuYWxsb3dlZCxcbiAgICAgICAgYmVuZHBvaW50SW5kZXggPSBjb250ZXh0LmJlbmRwb2ludEluZGV4LFxuICAgICAgICBkcmFnZ2VyR2Z4ID0gY29udGV4dC5kcmFnZ2VyR2Z4LFxuICAgICAgICBob3ZlciA9IGNvbnRleHQuaG92ZXIsXG4gICAgICAgIHR5cGUgPSBjb250ZXh0LnR5cGUsXG4gICAgICAgIGNvbm5lY3Rpb24gPSBjb250ZXh0LmNvbm5lY3Rpb24sXG4gICAgICAgIHNvdXJjZSA9IGNvbm5lY3Rpb24uc291cmNlLFxuICAgICAgICB0YXJnZXQgPSBjb25uZWN0aW9uLnRhcmdldCxcbiAgICAgICAgbmV3V2F5cG9pbnRzID0gY29ubmVjdGlvbi53YXlwb2ludHMuc2xpY2UoKSxcbiAgICAgICAgYmVuZHBvaW50ID0geyB4OiBldmVudC54LCB5OiBldmVudC55IH0sXG4gICAgICAgIGhpbnRzID0gY29udGV4dC5oaW50cyB8fCB7fSxcbiAgICAgICAgZHJhd1ByZXZpZXdIaW50cyA9IHt9O1xuXG4gICAgaWYgKGNvbm5lY3Rpb25QcmV2aWV3KSB7XG4gICAgICBpZiAoaGludHMuY29ubmVjdGlvblN0YXJ0KSB7XG4gICAgICAgIGRyYXdQcmV2aWV3SGludHMuY29ubmVjdGlvblN0YXJ0ID0gaGludHMuY29ubmVjdGlvblN0YXJ0O1xuICAgICAgfVxuXG4gICAgICBpZiAoaGludHMuY29ubmVjdGlvbkVuZCkge1xuICAgICAgICBkcmF3UHJldmlld0hpbnRzLmNvbm5lY3Rpb25FbmQgPSBoaW50cy5jb25uZWN0aW9uRW5kO1xuICAgICAgfVxuXG5cbiAgICAgIGlmICh0eXBlID09PSBSRUNPTk5FQ1RfU1RBUlQpIHtcbiAgICAgICAgaWYgKGlzUmV2ZXJzZShjb250ZXh0KSkge1xuICAgICAgICAgIGRyYXdQcmV2aWV3SGludHMuY29ubmVjdGlvbkVuZCA9IGRyYXdQcmV2aWV3SGludHMuY29ubmVjdGlvbkVuZCB8fCBiZW5kcG9pbnQ7XG5cbiAgICAgICAgICBkcmF3UHJldmlld0hpbnRzLnNvdXJjZSA9IHRhcmdldDtcbiAgICAgICAgICBkcmF3UHJldmlld0hpbnRzLnRhcmdldCA9IGhvdmVyIHx8IHNvdXJjZTtcblxuICAgICAgICAgIG5ld1dheXBvaW50cyA9IG5ld1dheXBvaW50cy5yZXZlcnNlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZHJhd1ByZXZpZXdIaW50cy5jb25uZWN0aW9uU3RhcnQgPSBkcmF3UHJldmlld0hpbnRzLmNvbm5lY3Rpb25TdGFydCB8fCBiZW5kcG9pbnQ7XG5cbiAgICAgICAgICBkcmF3UHJldmlld0hpbnRzLnNvdXJjZSA9IGhvdmVyIHx8IHNvdXJjZTtcbiAgICAgICAgICBkcmF3UHJldmlld0hpbnRzLnRhcmdldCA9IHRhcmdldDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0eXBlID09PSBSRUNPTk5FQ1RfRU5EKSB7XG4gICAgICAgIGlmIChpc1JldmVyc2UoY29udGV4dCkpIHtcbiAgICAgICAgICBkcmF3UHJldmlld0hpbnRzLmNvbm5lY3Rpb25TdGFydCA9IGRyYXdQcmV2aWV3SGludHMuY29ubmVjdGlvblN0YXJ0IHx8IGJlbmRwb2ludDtcblxuICAgICAgICAgIGRyYXdQcmV2aWV3SGludHMuc291cmNlID0gaG92ZXIgfHwgdGFyZ2V0O1xuICAgICAgICAgIGRyYXdQcmV2aWV3SGludHMudGFyZ2V0ID0gc291cmNlO1xuXG4gICAgICAgICAgbmV3V2F5cG9pbnRzID0gbmV3V2F5cG9pbnRzLnJldmVyc2UoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkcmF3UHJldmlld0hpbnRzLmNvbm5lY3Rpb25FbmQgPSBkcmF3UHJldmlld0hpbnRzLmNvbm5lY3Rpb25FbmQgfHwgYmVuZHBvaW50O1xuXG4gICAgICAgICAgZHJhd1ByZXZpZXdIaW50cy5zb3VyY2UgPSBzb3VyY2U7XG4gICAgICAgICAgZHJhd1ByZXZpZXdIaW50cy50YXJnZXQgPSBob3ZlciB8fCB0YXJnZXQ7XG4gICAgICAgIH1cblxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZHJhd1ByZXZpZXdIaW50cy5ub0Nyb3BwaW5nID0gdHJ1ZTtcbiAgICAgICAgZHJhd1ByZXZpZXdIaW50cy5ub0xheW91dCA9IHRydWU7XG4gICAgICAgIG5ld1dheXBvaW50c1sgYmVuZHBvaW50SW5kZXggXSA9IGJlbmRwb2ludDtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGUgPT09IFVQREFURV9XQVlQT0lOVFMpIHtcbiAgICAgICAgbmV3V2F5cG9pbnRzID0gYmVuZHBvaW50TW92ZS5jcm9wV2F5cG9pbnRzKGNvbm5lY3Rpb24sIG5ld1dheXBvaW50cyk7XG4gICAgICB9XG5cbiAgICAgIGRyYXdQcmV2aWV3SGludHMud2F5cG9pbnRzID0gbmV3V2F5cG9pbnRzO1xuXG4gICAgICBjb25uZWN0aW9uUHJldmlldy5kcmF3UHJldmlldyhjb250ZXh0LCBhbGxvd2VkLCBkcmF3UHJldmlld0hpbnRzKTtcbiAgICB9XG5cbiAgICB0cmFuc2xhdGUoZHJhZ2dlckdmeCwgZXZlbnQueCwgZXZlbnQueSk7XG4gIH0sIHRoaXMpO1xuXG4gIGV2ZW50QnVzLm9uKFtcbiAgICAnYmVuZHBvaW50Lm1vdmUuZW5kJyxcbiAgICAnYmVuZHBvaW50Lm1vdmUuY2FuY2VsJ1xuICBdLCBISUdIX1BSSU9SSVRZLCBmdW5jdGlvbihldmVudCkge1xuICAgIHZhciBjb250ZXh0ID0gZXZlbnQuY29udGV4dCxcbiAgICAgICAgY29ubmVjdGlvbiA9IGNvbnRleHQuY29ubmVjdGlvbixcbiAgICAgICAgZHJhZ2dlckdmeCA9IGNvbnRleHQuZHJhZ2dlckdmeCxcbiAgICAgICAgaG92ZXIgPSBjb250ZXh0LmhvdmVyLFxuICAgICAgICB0YXJnZXQgPSBjb250ZXh0LnRhcmdldCxcbiAgICAgICAgd2F5cG9pbnRzID0gY29udGV4dC53YXlwb2ludHM7XG5cbiAgICBjb25uZWN0aW9uLndheXBvaW50cyA9IHdheXBvaW50cztcblxuICAgIC8vIHJlbW92ZSBkcmFnZ2VyIGdmeFxuICAgIHN2Z1JlbW92ZShkcmFnZ2VyR2Z4KTtcblxuICAgIGNhbnZhcy5yZW1vdmVNYXJrZXIoY29ubmVjdGlvbiwgTUFSS0VSX0NPTk5FQ1RfVVBEQVRJTkcpO1xuICAgIGNhbnZhcy5yZW1vdmVNYXJrZXIoY29ubmVjdGlvbiwgTUFSS0VSX0VMRU1FTlRfSElEREVOKTtcblxuICAgIGlmIChob3Zlcikge1xuICAgICAgY2FudmFzLnJlbW92ZU1hcmtlcihob3ZlciwgTUFSS0VSX09LKTtcbiAgICAgIGNhbnZhcy5yZW1vdmVNYXJrZXIoaG92ZXIsIHRhcmdldCA/IE1BUktFUl9PSyA6IE1BUktFUl9OT1RfT0spO1xuICAgIH1cblxuICAgIGlmIChjb25uZWN0aW9uUHJldmlldykge1xuICAgICAgY29ubmVjdGlvblByZXZpZXcuY2xlYW5VcChjb250ZXh0KTtcbiAgICB9XG4gIH0pO1xufVxuXG5CZW5kcG9pbnRNb3ZlUHJldmlldy4kaW5qZWN0ID0gW1xuICAnYmVuZHBvaW50TW92ZScsXG4gICdpbmplY3RvcicsXG4gICdldmVudEJ1cycsXG4gICdjYW52YXMnXG5dOyIsImltcG9ydCB7XG4gIHBvaW50c0FsaWduZWQsXG4gIHBvaW50c09uTGluZVxufSBmcm9tICcuLi8uLi91dGlsL0dlb21ldHJ5JztcblxuaW1wb3J0IHtcbiAgYWRkU2VnbWVudERyYWdnZXIsXG4gIGdldENvbm5lY3Rpb25JbnRlcnNlY3Rpb25cbn0gZnJvbSAnLi9CZW5kcG9pbnRVdGlsJztcblxuaW1wb3J0IHtcbiAgZ2V0TWlkLFxuICBnZXRPcmllbnRhdGlvblxufSBmcm9tICcuLi8uLi9sYXlvdXQvTGF5b3V0VXRpbCc7XG5cbnZhciBNQVJLRVJfQ09OTkVDVF9IT1ZFUiA9ICdjb25uZWN0LWhvdmVyJyxcbiAgICBNQVJLRVJfQ09OTkVDVF9VUERBVElORyA9ICdkanMtdXBkYXRpbmcnO1xuXG5pbXBvcnQge1xuICBjbGFzc2VzIGFzIHN2Z0NsYXNzZXMsXG4gIHJlbW92ZSBhcyBzdmdSZW1vdmVcbn0gZnJvbSAndGlueS1zdmcnO1xuXG5pbXBvcnQge1xuICB0cmFuc2xhdGVcbn0gZnJvbSAnLi4vLi4vdXRpbC9TdmdUcmFuc2Zvcm1VdGlsJztcblxuXG5mdW5jdGlvbiBheGlzQWRkKHBvaW50LCBheGlzLCBkZWx0YSkge1xuICByZXR1cm4gYXhpc1NldChwb2ludCwgYXhpcywgcG9pbnRbYXhpc10gKyBkZWx0YSk7XG59XG5cbmZ1bmN0aW9uIGF4aXNTZXQocG9pbnQsIGF4aXMsIHZhbHVlKSB7XG4gIHJldHVybiB7XG4gICAgeDogKGF4aXMgPT09ICd4JyA/IHZhbHVlIDogcG9pbnQueCksXG4gICAgeTogKGF4aXMgPT09ICd5JyA/IHZhbHVlIDogcG9pbnQueSlcbiAgfTtcbn1cblxuZnVuY3Rpb24gYXhpc0ZlbmNlZChwb3NpdGlvbiwgc2VnbWVudFN0YXJ0LCBzZWdtZW50RW5kLCBheGlzKSB7XG5cbiAgdmFyIG1heFZhbHVlID0gTWF0aC5tYXgoc2VnbWVudFN0YXJ0W2F4aXNdLCBzZWdtZW50RW5kW2F4aXNdKSxcbiAgICAgIG1pblZhbHVlID0gTWF0aC5taW4oc2VnbWVudFN0YXJ0W2F4aXNdLCBzZWdtZW50RW5kW2F4aXNdKTtcblxuICB2YXIgcGFkZGluZyA9IDIwO1xuXG4gIHZhciBmZW5jZWRWYWx1ZSA9IE1hdGgubWluKE1hdGgubWF4KG1pblZhbHVlICsgcGFkZGluZywgcG9zaXRpb25bYXhpc10pLCBtYXhWYWx1ZSAtIHBhZGRpbmcpO1xuXG4gIHJldHVybiBheGlzU2V0KHNlZ21lbnRTdGFydCwgYXhpcywgZmVuY2VkVmFsdWUpO1xufVxuXG5mdW5jdGlvbiBmbGlwQXhpcyhheGlzKSB7XG4gIHJldHVybiBheGlzID09PSAneCcgPyAneScgOiAneCc7XG59XG5cbi8qKlxuICogR2V0IHRoZSBkb2NraW5nIHBvaW50IG9uIHRoZSBnaXZlbiBlbGVtZW50LlxuICpcbiAqIENvbXB1dGUgYSByZWFzb25hYmxlIGRvY2tpbmcsIGlmIG5vbiBleGlzdHMuXG4gKlxuICogQHBhcmFtICB7UG9pbnR9IHBvaW50XG4gKiBAcGFyYW0gIHtkanMubW9kZWwuU2hhcGV9IHJlZmVyZW5jZUVsZW1lbnRcbiAqIEBwYXJhbSAge3N0cmluZ30gbW92ZUF4aXMgKHh8eSlcbiAqXG4gKiBAcmV0dXJuIHtQb2ludH1cbiAqL1xuZnVuY3Rpb24gZ2V0RG9ja2luZyhwb2ludCwgcmVmZXJlbmNlRWxlbWVudCwgbW92ZUF4aXMpIHtcblxuICB2YXIgcmVmZXJlbmNlTWlkLFxuICAgICAgaW52ZXJzZUF4aXM7XG5cbiAgaWYgKHBvaW50Lm9yaWdpbmFsKSB7XG4gICAgcmV0dXJuIHBvaW50Lm9yaWdpbmFsO1xuICB9IGVsc2Uge1xuICAgIHJlZmVyZW5jZU1pZCA9IGdldE1pZChyZWZlcmVuY2VFbGVtZW50KTtcbiAgICBpbnZlcnNlQXhpcyA9IGZsaXBBeGlzKG1vdmVBeGlzKTtcblxuICAgIHJldHVybiBheGlzU2V0KHBvaW50LCBpbnZlcnNlQXhpcywgcmVmZXJlbmNlTWlkW2ludmVyc2VBeGlzXSk7XG4gIH1cbn1cblxuLyoqXG4gKiBBIGNvbXBvbmVudCB0aGF0IGltcGxlbWVudHMgbW92aW5nIG9mIGJlbmRwb2ludHNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ29ubmVjdGlvblNlZ21lbnRNb3ZlKFxuICAgIGluamVjdG9yLCBldmVudEJ1cywgY2FudmFzLFxuICAgIGRyYWdnaW5nLCBncmFwaGljc0ZhY3RvcnksIG1vZGVsaW5nKSB7XG5cbiAgLy8gb3B0aW9uYWwgY29ubmVjdGlvbiBkb2NraW5nIGludGVncmF0aW9uXG4gIHZhciBjb25uZWN0aW9uRG9ja2luZyA9IGluamVjdG9yLmdldCgnY29ubmVjdGlvbkRvY2tpbmcnLCBmYWxzZSk7XG5cblxuICAvLyBBUElcblxuICB0aGlzLnN0YXJ0ID0gZnVuY3Rpb24oZXZlbnQsIGNvbm5lY3Rpb24sIGlkeCkge1xuXG4gICAgdmFyIGNvbnRleHQsXG4gICAgICAgIGdmeCA9IGNhbnZhcy5nZXRHcmFwaGljcyhjb25uZWN0aW9uKSxcbiAgICAgICAgc2VnbWVudFN0YXJ0SW5kZXggPSBpZHggLSAxLFxuICAgICAgICBzZWdtZW50RW5kSW5kZXggPSBpZHgsXG4gICAgICAgIHdheXBvaW50cyA9IGNvbm5lY3Rpb24ud2F5cG9pbnRzLFxuICAgICAgICBzZWdtZW50U3RhcnQgPSB3YXlwb2ludHNbc2VnbWVudFN0YXJ0SW5kZXhdLFxuICAgICAgICBzZWdtZW50RW5kID0gd2F5cG9pbnRzW3NlZ21lbnRFbmRJbmRleF0sXG4gICAgICAgIGludGVyc2VjdGlvbiA9IGdldENvbm5lY3Rpb25JbnRlcnNlY3Rpb24oY2FudmFzLCB3YXlwb2ludHMsIGV2ZW50KSxcbiAgICAgICAgZGlyZWN0aW9uLCBheGlzLCBkcmFnUG9zaXRpb247XG5cbiAgICBkaXJlY3Rpb24gPSBwb2ludHNBbGlnbmVkKHNlZ21lbnRTdGFydCwgc2VnbWVudEVuZCk7XG5cbiAgICAvLyBkbyBub3QgbW92ZSBkaWFnb25hbCBjb25uZWN0aW9uXG4gICAgaWYgKCFkaXJlY3Rpb24pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyB0aGUgYXhpcyB3aGVyZSB3ZSBhcmUgZ29pbmcgdG8gbW92ZSB0aGluZ3NcbiAgICBheGlzID0gZGlyZWN0aW9uID09PSAndicgPyAneCcgOiAneSc7XG5cbiAgICBpZiAoc2VnbWVudFN0YXJ0SW5kZXggPT09IDApIHtcbiAgICAgIHNlZ21lbnRTdGFydCA9IGdldERvY2tpbmcoc2VnbWVudFN0YXJ0LCBjb25uZWN0aW9uLnNvdXJjZSwgYXhpcyk7XG4gICAgfVxuXG4gICAgaWYgKHNlZ21lbnRFbmRJbmRleCA9PT0gd2F5cG9pbnRzLmxlbmd0aCAtIDEpIHtcbiAgICAgIHNlZ21lbnRFbmQgPSBnZXREb2NraW5nKHNlZ21lbnRFbmQsIGNvbm5lY3Rpb24udGFyZ2V0LCBheGlzKTtcbiAgICB9XG5cbiAgICBpZiAoaW50ZXJzZWN0aW9uKSB7XG4gICAgICBkcmFnUG9zaXRpb24gPSBpbnRlcnNlY3Rpb24ucG9pbnQ7XG4gICAgfSBlbHNlIHtcblxuICAgICAgLy8gc2V0IHRvIHNlZ21lbnQgY2VudGVyIGFzIGRlZmF1bHRcbiAgICAgIGRyYWdQb3NpdGlvbiA9IHtcbiAgICAgICAgeDogKHNlZ21lbnRTdGFydC54ICsgc2VnbWVudEVuZC54KSAvIDIsXG4gICAgICAgIHk6IChzZWdtZW50U3RhcnQueSArIHNlZ21lbnRFbmQueSkgLyAyXG4gICAgICB9O1xuICAgIH1cblxuICAgIGNvbnRleHQgPSB7XG4gICAgICBjb25uZWN0aW9uOiBjb25uZWN0aW9uLFxuICAgICAgc2VnbWVudFN0YXJ0SW5kZXg6IHNlZ21lbnRTdGFydEluZGV4LFxuICAgICAgc2VnbWVudEVuZEluZGV4OiBzZWdtZW50RW5kSW5kZXgsXG4gICAgICBzZWdtZW50U3RhcnQ6IHNlZ21lbnRTdGFydCxcbiAgICAgIHNlZ21lbnRFbmQ6IHNlZ21lbnRFbmQsXG4gICAgICBheGlzOiBheGlzLFxuICAgICAgZHJhZ1Bvc2l0aW9uOiBkcmFnUG9zaXRpb25cbiAgICB9O1xuXG4gICAgZHJhZ2dpbmcuaW5pdChldmVudCwgZHJhZ1Bvc2l0aW9uLCAnY29ubmVjdGlvblNlZ21lbnQubW92ZScsIHtcbiAgICAgIGN1cnNvcjogYXhpcyA9PT0gJ3gnID8gJ3Jlc2l6ZS1ldycgOiAncmVzaXplLW5zJyxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgY29ubmVjdGlvbjogY29ubmVjdGlvbixcbiAgICAgICAgY29ubmVjdGlvbkdmeDogZ2Z4LFxuICAgICAgICBjb250ZXh0OiBjb250ZXh0XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIENyb3AgY29ubmVjdGlvbiBpZiBjb25uZWN0aW9uIGNyb3BwaW5nIGlzIHByb3ZpZGVkLlxuICAgKlxuICAgKiBAcGFyYW0ge0Nvbm5lY3Rpb259IGNvbm5lY3Rpb25cbiAgICogQHBhcmFtIHtBcnJheTxQb2ludD59IG5ld1dheXBvaW50c1xuICAgKlxuICAgKiBAcmV0dXJuIHtBcnJheTxQb2ludD59IGNyb3BwZWQgY29ubmVjdGlvbiB3YXlwb2ludHNcbiAgICovXG4gIGZ1bmN0aW9uIGNyb3BDb25uZWN0aW9uKGNvbm5lY3Rpb24sIG5ld1dheXBvaW50cykge1xuXG4gICAgLy8gY3JvcCBjb25uZWN0aW9uLCBpZiBkb2NraW5nIHNlcnZpY2UgaXMgcHJvdmlkZWQgb25seVxuICAgIGlmICghY29ubmVjdGlvbkRvY2tpbmcpIHtcbiAgICAgIHJldHVybiBuZXdXYXlwb2ludHM7XG4gICAgfVxuXG4gICAgdmFyIG9sZFdheXBvaW50cyA9IGNvbm5lY3Rpb24ud2F5cG9pbnRzLFxuICAgICAgICBjcm9wcGVkV2F5cG9pbnRzO1xuXG4gICAgLy8gdGVtcG9yYXJ5IHNldCBuZXcgd2F5cG9pbnRzXG4gICAgY29ubmVjdGlvbi53YXlwb2ludHMgPSBuZXdXYXlwb2ludHM7XG5cbiAgICBjcm9wcGVkV2F5cG9pbnRzID0gY29ubmVjdGlvbkRvY2tpbmcuZ2V0Q3JvcHBlZFdheXBvaW50cyhjb25uZWN0aW9uKTtcblxuICAgIC8vIHJlc3RvcmUgb2xkIHdheXBvaW50c1xuICAgIGNvbm5lY3Rpb24ud2F5cG9pbnRzID0gb2xkV2F5cG9pbnRzO1xuXG4gICAgcmV0dXJuIGNyb3BwZWRXYXlwb2ludHM7XG4gIH1cblxuICAvLyBEUkFHR0lORyBJTVBMRU1FTlRBVElPTlxuXG4gIGZ1bmN0aW9uIHJlZHJhd0Nvbm5lY3Rpb24oZGF0YSkge1xuICAgIGdyYXBoaWNzRmFjdG9yeS51cGRhdGUoJ2Nvbm5lY3Rpb24nLCBkYXRhLmNvbm5lY3Rpb24sIGRhdGEuY29ubmVjdGlvbkdmeCk7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVEcmFnZ2VyKGNvbnRleHQsIHNlZ21lbnRPZmZzZXQsIGV2ZW50KSB7XG5cbiAgICB2YXIgbmV3V2F5cG9pbnRzID0gY29udGV4dC5uZXdXYXlwb2ludHMsXG4gICAgICAgIHNlZ21lbnRTdGFydEluZGV4ID0gY29udGV4dC5zZWdtZW50U3RhcnRJbmRleCArIHNlZ21lbnRPZmZzZXQsXG4gICAgICAgIHNlZ21lbnRTdGFydCA9IG5ld1dheXBvaW50c1tzZWdtZW50U3RhcnRJbmRleF0sXG4gICAgICAgIHNlZ21lbnRFbmRJbmRleCA9IGNvbnRleHQuc2VnbWVudEVuZEluZGV4ICsgc2VnbWVudE9mZnNldCxcbiAgICAgICAgc2VnbWVudEVuZCA9IG5ld1dheXBvaW50c1tzZWdtZW50RW5kSW5kZXhdLFxuICAgICAgICBheGlzID0gZmxpcEF4aXMoY29udGV4dC5heGlzKTtcblxuICAgIC8vIG1ha2Ugc3VyZSB0aGUgZHJhZ2dlciBkb2VzIG5vdCBtb3ZlXG4gICAgLy8gb3V0c2lkZSB0aGUgY29ubmVjdGlvblxuICAgIHZhciBkcmFnZ2VyUG9zaXRpb24gPSBheGlzRmVuY2VkKGV2ZW50LCBzZWdtZW50U3RhcnQsIHNlZ21lbnRFbmQsIGF4aXMpO1xuXG4gICAgLy8gdXBkYXRlIGRyYWdnZXJcbiAgICB0cmFuc2xhdGUoY29udGV4dC5kcmFnZ2VyR2Z4LCBkcmFnZ2VyUG9zaXRpb24ueCwgZHJhZ2dlclBvc2l0aW9uLnkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEZpbHRlciB3YXlwb2ludHMgZm9yIHJlZHVuZGFudCBvbmVzIChpLmUuIG9uIHRoZSBzYW1lIGF4aXMpLlxuICAgKiBSZXR1cm5zIHRoZSBmaWx0ZXJlZCB3YXlwb2ludHMgYW5kIHRoZSBvZmZzZXQgcmVsYXRlZCB0byB0aGUgc2VnbWVudCBtb3ZlLlxuICAgKlxuICAgKiBAcGFyYW0ge0FycmF5PFBvaW50Pn0gd2F5cG9pbnRzXG4gICAqIEBwYXJhbSB7SW50ZWdlcn0gc2VnbWVudFN0YXJ0SW5kZXggb2YgbW92ZWQgc2VnbWVudCBzdGFydFxuICAgKlxuICAgKiBAcmV0dXJuIHtPYmplY3R9IHsgZmlsdGVyZWRXYXlwb2ludHMsIHNlZ21lbnRPZmZzZXQgfVxuICAgKi9cbiAgZnVuY3Rpb24gZmlsdGVyUmVkdW5kYW50V2F5cG9pbnRzKHdheXBvaW50cywgc2VnbWVudFN0YXJ0SW5kZXgpIHtcblxuICAgIHZhciBzZWdtZW50T2Zmc2V0ID0gMDtcblxuICAgIHZhciBmaWx0ZXJlZFdheXBvaW50cyA9IHdheXBvaW50cy5maWx0ZXIoZnVuY3Rpb24ociwgaWR4KSB7XG4gICAgICBpZiAocG9pbnRzT25MaW5lKHdheXBvaW50c1tpZHggLSAxXSwgd2F5cG9pbnRzW2lkeCArIDFdLCByKSkge1xuXG4gICAgICAgIC8vIHJlbW92ZSBwb2ludCBhbmQgaW5jcmVtZW50IG9mZnNldFxuICAgICAgICBzZWdtZW50T2Zmc2V0ID0gaWR4IDw9IHNlZ21lbnRTdGFydEluZGV4ID8gc2VnbWVudE9mZnNldCAtIDEgOiBzZWdtZW50T2Zmc2V0O1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIC8vIGRvbnQgcmVtb3ZlIHBvaW50XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9KTtcblxuICAgIHJldHVybiB7XG4gICAgICB3YXlwb2ludHM6IGZpbHRlcmVkV2F5cG9pbnRzLFxuICAgICAgc2VnbWVudE9mZnNldDogc2VnbWVudE9mZnNldFxuICAgIH07XG4gIH1cblxuICBldmVudEJ1cy5vbignY29ubmVjdGlvblNlZ21lbnQubW92ZS5zdGFydCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICB2YXIgY29udGV4dCA9IGV2ZW50LmNvbnRleHQsXG4gICAgICAgIGNvbm5lY3Rpb24gPSBldmVudC5jb25uZWN0aW9uLFxuICAgICAgICBsYXllciA9IGNhbnZhcy5nZXRMYXllcignb3ZlcmxheXMnKTtcblxuICAgIGNvbnRleHQub3JpZ2luYWxXYXlwb2ludHMgPSBjb25uZWN0aW9uLndheXBvaW50cy5zbGljZSgpO1xuXG4gICAgLy8gYWRkIGRyYWdnZXIgZ2Z4XG4gICAgY29udGV4dC5kcmFnZ2VyR2Z4ID0gYWRkU2VnbWVudERyYWdnZXIobGF5ZXIsIGNvbnRleHQuc2VnbWVudFN0YXJ0LCBjb250ZXh0LnNlZ21lbnRFbmQpO1xuICAgIHN2Z0NsYXNzZXMoY29udGV4dC5kcmFnZ2VyR2Z4KS5hZGQoJ2Rqcy1kcmFnZ2luZycpO1xuXG4gICAgY2FudmFzLmFkZE1hcmtlcihjb25uZWN0aW9uLCBNQVJLRVJfQ09OTkVDVF9VUERBVElORyk7XG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKCdjb25uZWN0aW9uU2VnbWVudC5tb3ZlLm1vdmUnLCBmdW5jdGlvbihldmVudCkge1xuXG4gICAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0LFxuICAgICAgICBjb25uZWN0aW9uID0gY29udGV4dC5jb25uZWN0aW9uLFxuICAgICAgICBzZWdtZW50U3RhcnRJbmRleCA9IGNvbnRleHQuc2VnbWVudFN0YXJ0SW5kZXgsXG4gICAgICAgIHNlZ21lbnRFbmRJbmRleCA9IGNvbnRleHQuc2VnbWVudEVuZEluZGV4LFxuICAgICAgICBzZWdtZW50U3RhcnQgPSBjb250ZXh0LnNlZ21lbnRTdGFydCxcbiAgICAgICAgc2VnbWVudEVuZCA9IGNvbnRleHQuc2VnbWVudEVuZCxcbiAgICAgICAgYXhpcyA9IGNvbnRleHQuYXhpcztcblxuICAgIHZhciBuZXdXYXlwb2ludHMgPSBjb250ZXh0Lm9yaWdpbmFsV2F5cG9pbnRzLnNsaWNlKCksXG4gICAgICAgIG5ld1NlZ21lbnRTdGFydCA9IGF4aXNBZGQoc2VnbWVudFN0YXJ0LCBheGlzLCBldmVudFsnZCcgKyBheGlzXSksXG4gICAgICAgIG5ld1NlZ21lbnRFbmQgPSBheGlzQWRkKHNlZ21lbnRFbmQsIGF4aXMsIGV2ZW50WydkJyArIGF4aXNdKTtcblxuICAgIC8vIG9yaWdpbmFsIHdheXBvaW50IGNvdW50IGFuZCBhZGRlZCAvIHJlbW92ZWRcbiAgICAvLyBmcm9tIHN0YXJ0IHdheXBvaW50IGRlbHRhLiBXZSB1c2UgdGhlIGxhdGVyXG4gICAgLy8gdG8gcmV0cmlldmUgdGhlIHVwZGF0ZWQgc2VnbWVudFN0YXJ0SW5kZXggLyBzZWdtZW50RW5kSW5kZXhcbiAgICB2YXIgd2F5cG9pbnRDb3VudCA9IG5ld1dheXBvaW50cy5sZW5ndGgsXG4gICAgICAgIHNlZ21lbnRPZmZzZXQgPSAwO1xuXG4gICAgLy8gbW92ZSBzZWdtZW50IHN0YXJ0IC8gZW5kIGJ5IGF4aXMgZGVsdGFcbiAgICBuZXdXYXlwb2ludHNbc2VnbWVudFN0YXJ0SW5kZXhdID0gbmV3U2VnbWVudFN0YXJ0O1xuICAgIG5ld1dheXBvaW50c1tzZWdtZW50RW5kSW5kZXhdID0gbmV3U2VnbWVudEVuZDtcblxuICAgIHZhciBzb3VyY2VUb1NlZ21lbnRPcmllbnRhdGlvbixcbiAgICAgICAgdGFyZ2V0VG9TZWdtZW50T3JpZW50YXRpb247XG5cbiAgICAvLyBoYW5kbGUgZmlyc3Qgc2VnbWVudFxuICAgIGlmIChzZWdtZW50U3RhcnRJbmRleCA8IDIpIHtcbiAgICAgIHNvdXJjZVRvU2VnbWVudE9yaWVudGF0aW9uID0gZ2V0T3JpZW50YXRpb24oY29ubmVjdGlvbi5zb3VyY2UsIG5ld1NlZ21lbnRTdGFydCk7XG5cbiAgICAgIC8vIGZpcnN0IGJlbmRwb2ludCwgcmVtb3ZlIGZpcnN0IHNlZ21lbnQgaWYgaW50ZXJzZWN0aW5nXG4gICAgICBpZiAoc2VnbWVudFN0YXJ0SW5kZXggPT09IDEpIHtcblxuICAgICAgICBpZiAoc291cmNlVG9TZWdtZW50T3JpZW50YXRpb24gPT09ICdpbnRlcnNlY3QnKSB7XG4gICAgICAgICAgbmV3V2F5cG9pbnRzLnNoaWZ0KCk7XG4gICAgICAgICAgbmV3V2F5cG9pbnRzWzBdID0gbmV3U2VnbWVudFN0YXJ0O1xuICAgICAgICAgIHNlZ21lbnRPZmZzZXQtLTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBkb2NraW5nIHBvaW50LCBhZGQgc2VnbWVudCBpZiBub3QgaW50ZXJzZWN0aW5nIGFueW1vcmVcbiAgICAgIGVsc2Uge1xuICAgICAgICBpZiAoc291cmNlVG9TZWdtZW50T3JpZW50YXRpb24gIT09ICdpbnRlcnNlY3QnKSB7XG4gICAgICAgICAgbmV3V2F5cG9pbnRzLnVuc2hpZnQoc2VnbWVudFN0YXJ0KTtcbiAgICAgICAgICBzZWdtZW50T2Zmc2V0Kys7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBoYW5kbGUgbGFzdCBzZWdtZW50XG4gICAgaWYgKHNlZ21lbnRFbmRJbmRleCA+IHdheXBvaW50Q291bnQgLSAzKSB7XG4gICAgICB0YXJnZXRUb1NlZ21lbnRPcmllbnRhdGlvbiA9IGdldE9yaWVudGF0aW9uKGNvbm5lY3Rpb24udGFyZ2V0LCBuZXdTZWdtZW50RW5kKTtcblxuICAgICAgLy8gbGFzdCBiZW5kcG9pbnQsIHJlbW92ZSBsYXN0IHNlZ21lbnQgaWYgaW50ZXJzZWN0aW5nXG4gICAgICBpZiAoc2VnbWVudEVuZEluZGV4ID09PSB3YXlwb2ludENvdW50IC0gMikge1xuXG4gICAgICAgIGlmICh0YXJnZXRUb1NlZ21lbnRPcmllbnRhdGlvbiA9PT0gJ2ludGVyc2VjdCcpIHtcbiAgICAgICAgICBuZXdXYXlwb2ludHMucG9wKCk7XG4gICAgICAgICAgbmV3V2F5cG9pbnRzW25ld1dheXBvaW50cy5sZW5ndGggLSAxXSA9IG5ld1NlZ21lbnRFbmQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gbGFzdCBiZW5kcG9pbnQsIHJlbW92ZSBsYXN0IHNlZ21lbnQgaWYgaW50ZXJzZWN0aW5nXG4gICAgICBlbHNlIHtcbiAgICAgICAgaWYgKHRhcmdldFRvU2VnbWVudE9yaWVudGF0aW9uICE9PSAnaW50ZXJzZWN0Jykge1xuICAgICAgICAgIG5ld1dheXBvaW50cy5wdXNoKHNlZ21lbnRFbmQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gdXBkYXRlIGNvbm5lY3Rpb24gd2F5cG9pbnRzXG4gICAgY29udGV4dC5uZXdXYXlwb2ludHMgPSBjb25uZWN0aW9uLndheXBvaW50cyA9IGNyb3BDb25uZWN0aW9uKGNvbm5lY3Rpb24sIG5ld1dheXBvaW50cyk7XG5cbiAgICAvLyB1cGRhdGUgZHJhZ2dlciBwb3NpdGlvblxuICAgIHVwZGF0ZURyYWdnZXIoY29udGV4dCwgc2VnbWVudE9mZnNldCwgZXZlbnQpO1xuXG4gICAgLy8gc2F2ZSBzZWdtZW50T2Zmc2V0IGluIGNvbnRleHRcbiAgICBjb250ZXh0Lm5ld1NlZ21lbnRTdGFydEluZGV4ID0gc2VnbWVudFN0YXJ0SW5kZXggKyBzZWdtZW50T2Zmc2V0O1xuXG4gICAgLy8gcmVkcmF3IGNvbm5lY3Rpb25cbiAgICByZWRyYXdDb25uZWN0aW9uKGV2ZW50KTtcbiAgfSk7XG5cbiAgZXZlbnRCdXMub24oJ2Nvbm5lY3Rpb25TZWdtZW50Lm1vdmUuaG92ZXInLCBmdW5jdGlvbihldmVudCkge1xuXG4gICAgZXZlbnQuY29udGV4dC5ob3ZlciA9IGV2ZW50LmhvdmVyO1xuICAgIGNhbnZhcy5hZGRNYXJrZXIoZXZlbnQuaG92ZXIsIE1BUktFUl9DT05ORUNUX0hPVkVSKTtcbiAgfSk7XG5cbiAgZXZlbnRCdXMub24oW1xuICAgICdjb25uZWN0aW9uU2VnbWVudC5tb3ZlLm91dCcsXG4gICAgJ2Nvbm5lY3Rpb25TZWdtZW50Lm1vdmUuY2xlYW51cCdcbiAgXSwgZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgIC8vIHJlbW92ZSBjb25uZWN0IG1hcmtlclxuICAgIC8vIGlmIGl0IHdhcyBhZGRlZFxuICAgIHZhciBob3ZlciA9IGV2ZW50LmNvbnRleHQuaG92ZXI7XG5cbiAgICBpZiAoaG92ZXIpIHtcbiAgICAgIGNhbnZhcy5yZW1vdmVNYXJrZXIoaG92ZXIsIE1BUktFUl9DT05ORUNUX0hPVkVSKTtcbiAgICB9XG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKCdjb25uZWN0aW9uU2VnbWVudC5tb3ZlLmNsZWFudXAnLCBmdW5jdGlvbihldmVudCkge1xuXG4gICAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0LFxuICAgICAgICBjb25uZWN0aW9uID0gY29udGV4dC5jb25uZWN0aW9uO1xuXG4gICAgLy8gcmVtb3ZlIGRyYWdnZXIgZ2Z4XG4gICAgaWYgKGNvbnRleHQuZHJhZ2dlckdmeCkge1xuICAgICAgc3ZnUmVtb3ZlKGNvbnRleHQuZHJhZ2dlckdmeCk7XG4gICAgfVxuXG4gICAgY2FudmFzLnJlbW92ZU1hcmtlcihjb25uZWN0aW9uLCBNQVJLRVJfQ09OTkVDVF9VUERBVElORyk7XG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKFtcbiAgICAnY29ubmVjdGlvblNlZ21lbnQubW92ZS5jYW5jZWwnLFxuICAgICdjb25uZWN0aW9uU2VnbWVudC5tb3ZlLmVuZCdcbiAgXSwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgY29udGV4dCA9IGV2ZW50LmNvbnRleHQsXG4gICAgICAgIGNvbm5lY3Rpb24gPSBjb250ZXh0LmNvbm5lY3Rpb247XG5cbiAgICBjb25uZWN0aW9uLndheXBvaW50cyA9IGNvbnRleHQub3JpZ2luYWxXYXlwb2ludHM7XG5cbiAgICByZWRyYXdDb25uZWN0aW9uKGV2ZW50KTtcbiAgfSk7XG5cbiAgZXZlbnRCdXMub24oJ2Nvbm5lY3Rpb25TZWdtZW50Lm1vdmUuZW5kJywgZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgIHZhciBjb250ZXh0ID0gZXZlbnQuY29udGV4dCxcbiAgICAgICAgY29ubmVjdGlvbiA9IGNvbnRleHQuY29ubmVjdGlvbixcbiAgICAgICAgbmV3V2F5cG9pbnRzID0gY29udGV4dC5uZXdXYXlwb2ludHMsXG4gICAgICAgIG5ld1NlZ21lbnRTdGFydEluZGV4ID0gY29udGV4dC5uZXdTZWdtZW50U3RhcnRJbmRleDtcblxuICAgIC8vIGVuc3VyZSB3ZSBoYXZlIGFjdHVhbCBwaXhlbCB2YWx1ZXMgYmVuZHBvaW50XG4gICAgLy8gY29vcmRpbmF0ZXMgKGltcG9ydGFudCB3aGVuIHpvb20gbGV2ZWwgd2FzID4gMSBkdXJpbmcgbW92ZSlcbiAgICBuZXdXYXlwb2ludHMgPSBuZXdXYXlwb2ludHMubWFwKGZ1bmN0aW9uKHApIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG9yaWdpbmFsOiBwLm9yaWdpbmFsLFxuICAgICAgICB4OiBNYXRoLnJvdW5kKHAueCksXG4gICAgICAgIHk6IE1hdGgucm91bmQocC55KVxuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIGFwcGx5IGZpbHRlciByZWR1bmFudCB3YXlwb2ludHNcbiAgICB2YXIgZmlsdGVyZWQgPSBmaWx0ZXJSZWR1bmRhbnRXYXlwb2ludHMobmV3V2F5cG9pbnRzLCBuZXdTZWdtZW50U3RhcnRJbmRleCk7XG5cbiAgICAvLyBnZXQgZmlsdGVyZWQgd2F5cG9pbnRzXG4gICAgdmFyIGZpbHRlcmVkV2F5cG9pbnRzID0gZmlsdGVyZWQud2F5cG9pbnRzLFxuICAgICAgICBjcm9wcGVkV2F5cG9pbnRzID0gY3JvcENvbm5lY3Rpb24oY29ubmVjdGlvbiwgZmlsdGVyZWRXYXlwb2ludHMpLFxuICAgICAgICBzZWdtZW50T2Zmc2V0ID0gZmlsdGVyZWQuc2VnbWVudE9mZnNldDtcblxuICAgIHZhciBoaW50cyA9IHtcbiAgICAgIHNlZ21lbnRNb3ZlOiB7XG4gICAgICAgIHNlZ21lbnRTdGFydEluZGV4OiBjb250ZXh0LnNlZ21lbnRTdGFydEluZGV4LFxuICAgICAgICBuZXdTZWdtZW50U3RhcnRJbmRleDogbmV3U2VnbWVudFN0YXJ0SW5kZXggKyBzZWdtZW50T2Zmc2V0XG4gICAgICB9XG4gICAgfTtcblxuICAgIG1vZGVsaW5nLnVwZGF0ZVdheXBvaW50cyhjb25uZWN0aW9uLCBjcm9wcGVkV2F5cG9pbnRzLCBoaW50cyk7XG4gIH0pO1xufVxuXG5Db25uZWN0aW9uU2VnbWVudE1vdmUuJGluamVjdCA9IFtcbiAgJ2luamVjdG9yJyxcbiAgJ2V2ZW50QnVzJyxcbiAgJ2NhbnZhcycsXG4gICdkcmFnZ2luZycsXG4gICdncmFwaGljc0ZhY3RvcnknLFxuICAnbW9kZWxpbmcnXG5dO1xuIiwidmFyIGFicyA9IE1hdGguYWJzLFxuICAgIHJvdW5kID0gTWF0aC5yb3VuZDtcblxuXG4vKipcbiAqIFNuYXAgdmFsdWUgdG8gYSBjb2xsZWN0aW9uIG9mIHJlZmVyZW5jZSB2YWx1ZXMuXG4gKlxuICogQHBhcmFtICB7bnVtYmVyfSB2YWx1ZVxuICogQHBhcmFtICB7QXJyYXk8bnVtYmVyPn0gdmFsdWVzXG4gKiBAcGFyYW0gIHtudW1iZXJ9IFt0b2xlcmFuY2U9MTBdXG4gKlxuICogQHJldHVybiB7bnVtYmVyfSB0aGUgdmFsdWUgd2Ugc25hcHBlZCB0byBvciBudWxsLCBpZiBub25lIHNuYXBwZWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNuYXBUbyh2YWx1ZSwgdmFsdWVzLCB0b2xlcmFuY2UpIHtcbiAgdG9sZXJhbmNlID0gdG9sZXJhbmNlID09PSB1bmRlZmluZWQgPyAxMCA6IHRvbGVyYW5jZTtcblxuICB2YXIgaWR4LCBzbmFwVmFsdWU7XG5cbiAgZm9yIChpZHggPSAwOyBpZHggPCB2YWx1ZXMubGVuZ3RoOyBpZHgrKykge1xuICAgIHNuYXBWYWx1ZSA9IHZhbHVlc1tpZHhdO1xuXG4gICAgaWYgKGFicyhzbmFwVmFsdWUgLSB2YWx1ZSkgPD0gdG9sZXJhbmNlKSB7XG4gICAgICByZXR1cm4gc25hcFZhbHVlO1xuICAgIH1cbiAgfVxufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiB0b3BMZWZ0KGJvdW5kcykge1xuICByZXR1cm4ge1xuICAgIHg6IGJvdW5kcy54LFxuICAgIHk6IGJvdW5kcy55XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b3BSaWdodChib3VuZHMpIHtcbiAgcmV0dXJuIHtcbiAgICB4OiBib3VuZHMueCArIGJvdW5kcy53aWR0aCxcbiAgICB5OiBib3VuZHMueVxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYm90dG9tTGVmdChib3VuZHMpIHtcbiAgcmV0dXJuIHtcbiAgICB4OiBib3VuZHMueCxcbiAgICB5OiBib3VuZHMueSArIGJvdW5kcy5oZWlnaHRcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJvdHRvbVJpZ2h0KGJvdW5kcykge1xuICByZXR1cm4ge1xuICAgIHg6IGJvdW5kcy54ICsgYm91bmRzLndpZHRoLFxuICAgIHk6IGJvdW5kcy55ICsgYm91bmRzLmhlaWdodFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWlkKGJvdW5kcywgZGVmYXVsdFZhbHVlKSB7XG5cbiAgaWYgKCFib3VuZHMgfHwgaXNOYU4oYm91bmRzLngpIHx8IGlzTmFOKGJvdW5kcy55KSkge1xuICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHg6IHJvdW5kKGJvdW5kcy54ICsgYm91bmRzLndpZHRoIC8gMiksXG4gICAgeTogcm91bmQoYm91bmRzLnkgKyBib3VuZHMuaGVpZ2h0IC8gMilcbiAgfTtcbn1cblxuXG4vKipcbiAqIFJldHJpZXZlIHRoZSBzbmFwIHN0YXRlIG9mIHRoZSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0gIHtFdmVudH0gZXZlbnRcbiAqIEBwYXJhbSAge3N0cmluZ30gYXhpc1xuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59IHRoZSBzbmFwcGVkIHN0YXRlXG4gKlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNTbmFwcGVkKGV2ZW50LCBheGlzKSB7XG4gIHZhciBzbmFwcGVkID0gZXZlbnQuc25hcHBlZDtcblxuICBpZiAoIXNuYXBwZWQpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAodHlwZW9mIGF4aXMgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHNuYXBwZWRbYXhpc107XG4gIH1cblxuICByZXR1cm4gc25hcHBlZC54ICYmIHNuYXBwZWQueTtcbn1cblxuXG4vKipcbiAqIFNldCB0aGUgZ2l2ZW4gZXZlbnQgYXMgc25hcHBlZC5cbiAqXG4gKiBUaGlzIG1ldGhvZCBtYXkgY2hhbmdlIHRoZSB4IGFuZC9vciB5IHBvc2l0aW9uIG9mIHRoZSBzaGFwZVxuICogZnJvbSB0aGUgZ2l2ZW4gZXZlbnQhXG4gKlxuICogQHBhcmFtIHtFdmVudH0gZXZlbnRcbiAqIEBwYXJhbSB7c3RyaW5nfSBheGlzXG4gKiBAcGFyYW0ge251bWJlcnxib29sZWFufSB2YWx1ZVxuICpcbiAqIEByZXR1cm4ge251bWJlcn0gb2xkIHZhbHVlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRTbmFwcGVkKGV2ZW50LCBheGlzLCB2YWx1ZSkge1xuICBpZiAodHlwZW9mIGF4aXMgIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdheGlzIG11c3QgYmUgaW4gW3gsIHldJyk7XG4gIH1cblxuICBpZiAodHlwZW9mIHZhbHVlICE9PSAnbnVtYmVyJyAmJiB2YWx1ZSAhPT0gZmFsc2UpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3ZhbHVlIG11c3QgYmUgTnVtYmVyIG9yIGZhbHNlJyk7XG4gIH1cblxuICB2YXIgZGVsdGEsXG4gICAgICBwcmV2aW91c1ZhbHVlID0gZXZlbnRbYXhpc107XG5cbiAgdmFyIHNuYXBwZWQgPSBldmVudC5zbmFwcGVkID0gKGV2ZW50LnNuYXBwZWQgfHwge30pO1xuXG5cbiAgaWYgKHZhbHVlID09PSBmYWxzZSkge1xuICAgIHNuYXBwZWRbYXhpc10gPSBmYWxzZTtcbiAgfSBlbHNlIHtcbiAgICBzbmFwcGVkW2F4aXNdID0gdHJ1ZTtcblxuICAgIGRlbHRhID0gdmFsdWUgLSBwcmV2aW91c1ZhbHVlO1xuXG4gICAgZXZlbnRbYXhpc10gKz0gZGVsdGE7XG4gICAgZXZlbnRbJ2QnICsgYXhpc10gKz0gZGVsdGE7XG4gIH1cblxuICByZXR1cm4gcHJldmlvdXNWYWx1ZTtcbn1cblxuLyoqXG4gKiBHZXQgY2hpbGRyZW4gb2YgYSBzaGFwZS5cbiAqXG4gKiBAcGFyYW0ge2Rqcy5tb2RlbC5TaGFwZX0gcGFyZW50XG4gKlxuICogQHJldHVybnMge0FycmF5PGRqcy5tb2RlbC5TaGFwZXxkanMubW9kZWwuQ29ubmVjdGlvbj59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRDaGlsZHJlbihwYXJlbnQpIHtcbiAgcmV0dXJuIHBhcmVudC5jaGlsZHJlbiB8fCBbXTtcbn0iLCJpbXBvcnQge1xuICBhc3NpZ24sXG4gIGZvckVhY2gsXG4gIGlzQXJyYXlcbn0gZnJvbSAnbWluLWRhc2gnO1xuXG5pbXBvcnQgeyBzZXRTbmFwcGVkIH0gZnJvbSAnLi4vc25hcHBpbmcvU25hcFV0aWwnO1xuXG52YXIgYWJzPSBNYXRoLmFicyxcbiAgICByb3VuZCA9IE1hdGgucm91bmQ7XG5cbnZhciBUT0xFUkFOQ0UgPSAxMDtcblxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBCZW5kcG9pbnRTbmFwcGluZyhldmVudEJ1cykge1xuXG4gIGZ1bmN0aW9uIHNuYXBUbyh2YWx1ZXMsIHZhbHVlKSB7XG5cbiAgICBpZiAoaXNBcnJheSh2YWx1ZXMpKSB7XG4gICAgICB2YXIgaSA9IHZhbHVlcy5sZW5ndGg7XG5cbiAgICAgIHdoaWxlIChpLS0pIGlmIChhYnModmFsdWVzW2ldIC0gdmFsdWUpIDw9IFRPTEVSQU5DRSkge1xuICAgICAgICByZXR1cm4gdmFsdWVzW2ldO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB2YWx1ZXMgPSArdmFsdWVzO1xuICAgICAgdmFyIHJlbSA9IHZhbHVlICUgdmFsdWVzO1xuXG4gICAgICBpZiAocmVtIDwgVE9MRVJBTkNFKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSAtIHJlbTtcbiAgICAgIH1cblxuICAgICAgaWYgKHJlbSA+IHZhbHVlcyAtIFRPTEVSQU5DRSkge1xuICAgICAgICByZXR1cm4gdmFsdWUgLSByZW0gKyB2YWx1ZXM7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG5cbiAgZnVuY3Rpb24gbWlkKGVsZW1lbnQpIHtcbiAgICBpZiAoZWxlbWVudC53aWR0aCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgeDogcm91bmQoZWxlbWVudC53aWR0aCAvIDIgKyBlbGVtZW50LngpLFxuICAgICAgICB5OiByb3VuZChlbGVtZW50LmhlaWdodCAvIDIgKyBlbGVtZW50LnkpXG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIC8vIGNvbm5lY3Rpb24gc2VnbWVudCBzbmFwcGluZyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgZnVuY3Rpb24gZ2V0Q29ubmVjdGlvblNlZ21lbnRTbmFwcyhjb250ZXh0KSB7XG5cbiAgICB2YXIgc25hcFBvaW50cyA9IGNvbnRleHQuc25hcFBvaW50cyxcbiAgICAgICAgY29ubmVjdGlvbiA9IGNvbnRleHQuY29ubmVjdGlvbixcbiAgICAgICAgd2F5cG9pbnRzID0gY29ubmVjdGlvbi53YXlwb2ludHMsXG4gICAgICAgIHNlZ21lbnRTdGFydCA9IGNvbnRleHQuc2VnbWVudFN0YXJ0LFxuICAgICAgICBzZWdtZW50U3RhcnRJbmRleCA9IGNvbnRleHQuc2VnbWVudFN0YXJ0SW5kZXgsXG4gICAgICAgIHNlZ21lbnRFbmQgPSBjb250ZXh0LnNlZ21lbnRFbmQsXG4gICAgICAgIHNlZ21lbnRFbmRJbmRleCA9IGNvbnRleHQuc2VnbWVudEVuZEluZGV4LFxuICAgICAgICBheGlzID0gY29udGV4dC5heGlzO1xuXG4gICAgaWYgKHNuYXBQb2ludHMpIHtcbiAgICAgIHJldHVybiBzbmFwUG9pbnRzO1xuICAgIH1cblxuICAgIHZhciByZWZlcmVuY2VXYXlwb2ludHMgPSBbXG4gICAgICB3YXlwb2ludHNbc2VnbWVudFN0YXJ0SW5kZXggLSAxXSxcbiAgICAgIHNlZ21lbnRTdGFydCxcbiAgICAgIHNlZ21lbnRFbmQsXG4gICAgICB3YXlwb2ludHNbc2VnbWVudEVuZEluZGV4ICsgMV1cbiAgICBdO1xuXG4gICAgaWYgKHNlZ21lbnRTdGFydEluZGV4IDwgMikge1xuICAgICAgcmVmZXJlbmNlV2F5cG9pbnRzLnVuc2hpZnQobWlkKGNvbm5lY3Rpb24uc291cmNlKSk7XG4gICAgfVxuXG4gICAgaWYgKHNlZ21lbnRFbmRJbmRleCA+IHdheXBvaW50cy5sZW5ndGggLSAzKSB7XG4gICAgICByZWZlcmVuY2VXYXlwb2ludHMudW5zaGlmdChtaWQoY29ubmVjdGlvbi50YXJnZXQpKTtcbiAgICB9XG5cbiAgICBjb250ZXh0LnNuYXBQb2ludHMgPSBzbmFwUG9pbnRzID0geyBob3Jpem9udGFsOiBbXSAsIHZlcnRpY2FsOiBbXSB9O1xuXG4gICAgZm9yRWFjaChyZWZlcmVuY2VXYXlwb2ludHMsIGZ1bmN0aW9uKHApIHtcblxuICAgICAgLy8gd2Ugc25hcCBvbiBleGlzdGluZyBiZW5kcG9pbnRzIG9ubHksXG4gICAgICAvLyBub3QgcGxhY2Vob2xkZXJzIHRoYXQgYXJlIGluc2VydGVkIGR1cmluZyBhZGRcbiAgICAgIGlmIChwKSB7XG4gICAgICAgIHAgPSBwLm9yaWdpbmFsIHx8IHA7XG5cbiAgICAgICAgaWYgKGF4aXMgPT09ICd5Jykge1xuICAgICAgICAgIHNuYXBQb2ludHMuaG9yaXpvbnRhbC5wdXNoKHAueSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYXhpcyA9PT0gJ3gnKSB7XG4gICAgICAgICAgc25hcFBvaW50cy52ZXJ0aWNhbC5wdXNoKHAueCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiBzbmFwUG9pbnRzO1xuICB9XG5cbiAgZXZlbnRCdXMub24oJ2Nvbm5lY3Rpb25TZWdtZW50Lm1vdmUubW92ZScsIDE1MDAsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0LFxuICAgICAgICBzbmFwUG9pbnRzID0gZ2V0Q29ubmVjdGlvblNlZ21lbnRTbmFwcyhjb250ZXh0KSxcbiAgICAgICAgeCA9IGV2ZW50LngsXG4gICAgICAgIHkgPSBldmVudC55LFxuICAgICAgICBzeCwgc3k7XG5cbiAgICBpZiAoIXNuYXBQb2ludHMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBzbmFwXG4gICAgc3ggPSBzbmFwVG8oc25hcFBvaW50cy52ZXJ0aWNhbCwgeCk7XG4gICAgc3kgPSBzbmFwVG8oc25hcFBvaW50cy5ob3Jpem9udGFsLCB5KTtcblxuXG4gICAgLy8gY29ycmVjdGlvbiB4L3lcbiAgICB2YXIgY3ggPSAoeCAtIHN4KSxcbiAgICAgICAgY3kgPSAoeSAtIHN5KTtcblxuICAgIC8vIHVwZGF0ZSBkZWx0YVxuICAgIGFzc2lnbihldmVudCwge1xuICAgICAgZHg6IGV2ZW50LmR4IC0gY3gsXG4gICAgICBkeTogZXZlbnQuZHkgLSBjeSxcbiAgICAgIHg6IHN4LFxuICAgICAgeTogc3lcbiAgICB9KTtcblxuICAgIC8vIG9ubHkgc2V0IHNuYXBwZWQgaWYgYWN0dWFsbHkgc25hcHBlZFxuICAgIGlmIChjeCB8fCBzbmFwUG9pbnRzLnZlcnRpY2FsLmluZGV4T2YoeCkgIT09IC0xKSB7XG4gICAgICBzZXRTbmFwcGVkKGV2ZW50LCAneCcsIHN4KTtcbiAgICB9XG5cbiAgICBpZiAoY3kgfHwgc25hcFBvaW50cy5ob3Jpem9udGFsLmluZGV4T2YoeSkgIT09IC0xKSB7XG4gICAgICBzZXRTbmFwcGVkKGV2ZW50LCAneScsIHN5KTtcbiAgICB9XG4gIH0pO1xuXG5cbiAgLy8gYmVuZHBvaW50IHNuYXBwaW5nIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICBmdW5jdGlvbiBnZXRCZW5kcG9pbnRTbmFwcyhjb250ZXh0KSB7XG5cbiAgICB2YXIgc25hcFBvaW50cyA9IGNvbnRleHQuc25hcFBvaW50cyxcbiAgICAgICAgd2F5cG9pbnRzID0gY29udGV4dC5jb25uZWN0aW9uLndheXBvaW50cyxcbiAgICAgICAgYmVuZHBvaW50SW5kZXggPSBjb250ZXh0LmJlbmRwb2ludEluZGV4O1xuXG4gICAgaWYgKHNuYXBQb2ludHMpIHtcbiAgICAgIHJldHVybiBzbmFwUG9pbnRzO1xuICAgIH1cblxuICAgIHZhciByZWZlcmVuY2VXYXlwb2ludHMgPSBbIHdheXBvaW50c1tiZW5kcG9pbnRJbmRleCAtIDFdLCB3YXlwb2ludHNbYmVuZHBvaW50SW5kZXggKyAxXSBdO1xuXG4gICAgY29udGV4dC5zbmFwUG9pbnRzID0gc25hcFBvaW50cyA9IHsgaG9yaXpvbnRhbDogW10gLCB2ZXJ0aWNhbDogW10gfTtcblxuICAgIGZvckVhY2gocmVmZXJlbmNlV2F5cG9pbnRzLCBmdW5jdGlvbihwKSB7XG5cbiAgICAgIC8vIHdlIHNuYXAgb24gZXhpc3RpbmcgYmVuZHBvaW50cyBvbmx5LFxuICAgICAgLy8gbm90IHBsYWNlaG9sZGVycyB0aGF0IGFyZSBpbnNlcnRlZCBkdXJpbmcgYWRkXG4gICAgICBpZiAocCkge1xuICAgICAgICBwID0gcC5vcmlnaW5hbCB8fCBwO1xuXG4gICAgICAgIHNuYXBQb2ludHMuaG9yaXpvbnRhbC5wdXNoKHAueSk7XG4gICAgICAgIHNuYXBQb2ludHMudmVydGljYWwucHVzaChwLngpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHNuYXBQb2ludHM7XG4gIH1cblxuXG4gIGV2ZW50QnVzLm9uKFsgJ2JlbmRwb2ludC5tb3ZlLm1vdmUnLCAnYmVuZHBvaW50Lm1vdmUuZW5kJyBdLCAxNTAwLCBmdW5jdGlvbihldmVudCkge1xuXG4gICAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0LFxuICAgICAgICBzbmFwUG9pbnRzID0gZ2V0QmVuZHBvaW50U25hcHMoY29udGV4dCksXG4gICAgICAgIGhvdmVyID0gY29udGV4dC5ob3ZlcixcbiAgICAgICAgaG92ZXJNaWQgPSBob3ZlciAmJiBtaWQoaG92ZXIpLFxuICAgICAgICB4ID0gZXZlbnQueCxcbiAgICAgICAgeSA9IGV2ZW50LnksXG4gICAgICAgIHN4LCBzeTtcblxuICAgIGlmICghc25hcFBvaW50cykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIHNuYXAgdG8gaG92ZXIgbWlkXG4gICAgc3ggPSBzbmFwVG8oaG92ZXJNaWQgPyBzbmFwUG9pbnRzLnZlcnRpY2FsLmNvbmNhdChbIGhvdmVyTWlkLnggXSkgOiBzbmFwUG9pbnRzLnZlcnRpY2FsLCB4KTtcbiAgICBzeSA9IHNuYXBUbyhob3Zlck1pZCA/IHNuYXBQb2ludHMuaG9yaXpvbnRhbC5jb25jYXQoWyBob3Zlck1pZC55IF0pIDogc25hcFBvaW50cy5ob3Jpem9udGFsLCB5KTtcblxuICAgIC8vIGNvcnJlY3Rpb24geC95XG4gICAgdmFyIGN4ID0gKHggLSBzeCksXG4gICAgICAgIGN5ID0gKHkgLSBzeSk7XG5cbiAgICAvLyB1cGRhdGUgZGVsdGFcbiAgICBhc3NpZ24oZXZlbnQsIHtcbiAgICAgIGR4OiBldmVudC5keCAtIGN4LFxuICAgICAgZHk6IGV2ZW50LmR5IC0gY3ksXG4gICAgICB4OiBldmVudC54IC0gY3gsXG4gICAgICB5OiBldmVudC55IC0gY3lcbiAgICB9KTtcblxuICAgIC8vIG9ubHkgc2V0IHNuYXBwZWQgaWYgYWN0dWFsbHkgc25hcHBlZFxuICAgIGlmIChjeCB8fCBzbmFwUG9pbnRzLnZlcnRpY2FsLmluZGV4T2YoeCkgIT09IC0xKSB7XG4gICAgICBzZXRTbmFwcGVkKGV2ZW50LCAneCcsIHN4KTtcbiAgICB9XG5cbiAgICBpZiAoY3kgfHwgc25hcFBvaW50cy5ob3Jpem9udGFsLmluZGV4T2YoeSkgIT09IC0xKSB7XG4gICAgICBzZXRTbmFwcGVkKGV2ZW50LCAneScsIHN5KTtcbiAgICB9XG4gIH0pO1xufVxuXG5cbkJlbmRwb2ludFNuYXBwaW5nLiRpbmplY3QgPSBbICdldmVudEJ1cycgXTsiLCJpbXBvcnQgRHJhZ2dpbmdNb2R1bGUgZnJvbSAnLi4vZHJhZ2dpbmcnO1xuaW1wb3J0IFJ1bGVzTW9kdWxlIGZyb20gJy4uL3J1bGVzJztcblxuaW1wb3J0IEJlbmRwb2ludHMgZnJvbSAnLi9CZW5kcG9pbnRzJztcbmltcG9ydCBCZW5kcG9pbnRNb3ZlIGZyb20gJy4vQmVuZHBvaW50TW92ZSc7XG5pbXBvcnQgQmVuZHBvaW50TW92ZVByZXZpZXcgZnJvbSAnLi9CZW5kcG9pbnRNb3ZlUHJldmlldyc7XG5pbXBvcnQgQ29ubmVjdGlvblNlZ21lbnRNb3ZlIGZyb20gJy4vQ29ubmVjdGlvblNlZ21lbnRNb3ZlJztcbmltcG9ydCBCZW5kcG9pbnRTbmFwcGluZyBmcm9tICcuL0JlbmRwb2ludFNuYXBwaW5nJztcblxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9fZGVwZW5kc19fOiBbXG4gICAgRHJhZ2dpbmdNb2R1bGUsXG4gICAgUnVsZXNNb2R1bGVcbiAgXSxcbiAgX19pbml0X186IFsgJ2JlbmRwb2ludHMnLCAnYmVuZHBvaW50U25hcHBpbmcnLCAnYmVuZHBvaW50TW92ZVByZXZpZXcnIF0sXG4gIGJlbmRwb2ludHM6IFsgJ3R5cGUnLCBCZW5kcG9pbnRzIF0sXG4gIGJlbmRwb2ludE1vdmU6IFsgJ3R5cGUnLCBCZW5kcG9pbnRNb3ZlIF0sXG4gIGJlbmRwb2ludE1vdmVQcmV2aWV3OiBbICd0eXBlJywgQmVuZHBvaW50TW92ZVByZXZpZXcgXSxcbiAgY29ubmVjdGlvblNlZ21lbnRNb3ZlOiBbICd0eXBlJywgQ29ubmVjdGlvblNlZ21lbnRNb3ZlIF0sXG4gIGJlbmRwb2ludFNuYXBwaW5nOiBbICd0eXBlJywgQmVuZHBvaW50U25hcHBpbmcgXVxufTtcbiIsImV4cG9ydCBkZWZhdWx0IHtcbiAgWUVMTE9XOiAnI0ZGRkY4OCcsXG4gIEdSRUVOOiAnIzdFQzg0NScsXG4gIFBJTks6ICcjRjQ2RjYwJyxcbiAgSUNFX0JMVUU6ICcjQjhENkY3JyxcbiAgQkxVRTogJyMyM0JGRTcnLFxuICBPUkFOR0U6ICcjRkY5RDQ4JyxcbiAgQkxBQ0s6ICdibGFjaydcbn07XG4iLCJpbXBvcnQge1xuICBkZWxlZ2F0ZSBhcyBkb21EZWxlZ2F0ZVxufSBmcm9tICdtaW4tZG9tJztcblxuaW1wb3J0IHtcbiAgYXNzaWduXG59IGZyb20gJ21pbi1kYXNoJztcblxuaW1wb3J0IHtcbiAgZ2V0QnVzaW5lc3NPYmplY3Rcbn0gZnJvbSAnLi4vLi4vdXRpbC9Nb2RlbFV0aWwnO1xuXG5pbXBvcnQgQ09MT1JTIGZyb20gJy4uLy4uL3V0aWwvQ29sb3JVdGlsJztcblxuaW1wb3J0IHtcbiAgdG9Qb2ludFxufSBmcm9tICdkaWFncmFtLWpzL2xpYi91dGlsL0V2ZW50JztcbmltcG9ydCB7IGlzQW55IH0gZnJvbSAnLi4vbW9kZWxpbmcvdXRpbC9Nb2RlbGluZ1V0aWwnO1xuXG52YXIgREVGQVVMVF9TSEFQRSA9IHtcbiAgdHlwZTogJ3Bvc3RpdDpTcXVhcmVQb3N0aXQnLFxuICBjb2xvcjogQ09MT1JTLllFTExPVyxcbiAgJGluc3RhbmNlT2Y6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdHJ1ZTsgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ2FudmFzQ3JlYXRlKFxuICAgIGV2ZW50QnVzLCBlbGVtZW50RmFjdG9yeSwgY2FudmFzLCBkaXJlY3RFZGl0aW5nLCBtb2RlbGluZykge1xuXG4gIHZhciBsYXN0Q3JlYXRlZFNoYXBlID0gREVGQVVMVF9TSEFQRTtcblxuICBmdW5jdGlvbiBfZ2V0TmV3U2hhcGVQb3NpdGlvbihldmVudCkge1xuICAgIHZhciBldmVudFBvaW50ID0gdG9Qb2ludChldmVudCk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgeDogZXZlbnRQb2ludC54LFxuICAgICAgeTogZXZlbnRQb2ludC55XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9hY3RpdmF0ZURpcmVjdEVkaXQoZWxlbWVudCkge1xuICAgIGlmIChpc0FueShlbGVtZW50LCBbICdwb3N0aXQ6UG9zdGl0JywgJ3Bvc3RpdDpHcm91cCcsICdwb3N0aXQ6VGV4dEJveCcgXSkpIHtcblxuICAgICAgZGlyZWN0RWRpdGluZy5hY3RpdmF0ZShlbGVtZW50KTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBfY3JlYXRlU2hhcGVPbkNhbnZhcyhldmVudCkge1xuICAgIHZhciBwb3NpdGlvbiA9IF9nZXROZXdTaGFwZVBvc2l0aW9uKGV2ZW50KTtcblxuICAgIHZhciBuZXdTaGFwZSA9IGVsZW1lbnRGYWN0b3J5LmNyZWF0ZVBvc3RpdEVsZW1lbnQoXG4gICAgICAnc2hhcGUnLCBhc3NpZ24obGFzdENyZWF0ZWRTaGFwZSwgcG9zaXRpb24pKTtcblxuICAgIHZhciByb290ID0gY2FudmFzLmdldFJvb3RFbGVtZW50KCk7XG5cbiAgICB2YXIgY3JlYXRlZFNoYXBlID0gbW9kZWxpbmcuY3JlYXRlU2hhcGUobmV3U2hhcGUsIHBvc2l0aW9uLCByb290KTtcblxuICAgIF9hY3RpdmF0ZURpcmVjdEVkaXQoY3JlYXRlZFNoYXBlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9zYXZlTGFzdENyZWF0ZWRTaGFwZShzaGFwZSkge1xuICAgIGlmICghc2hhcGUpIHtcbiAgICAgIGxhc3RDcmVhdGVkU2hhcGUgPSBERUZBVUxUX1NIQVBFO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBibyA9IGdldEJ1c2luZXNzT2JqZWN0KHNoYXBlKTtcblxuICAgIGxhc3RDcmVhdGVkU2hhcGUgPSB7XG4gICAgICB0eXBlOiBzaGFwZS50eXBlLFxuICAgICAgY29sb3I6IHNoYXBlLmNvbG9yIHx8IGJvLmNvbG9yLFxuICAgICAgJGluc3RhbmNlT2Y6IGZ1bmN0aW9uKHR5cGUpIHtcbiAgICAgICAgcmV0dXJuICh0eXBlb2YgYm8uJGluc3RhbmNlT2YgPT09ICdmdW5jdGlvbicpICYmIGJvLiRpbnN0YW5jZU9mKHR5cGUpO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuXG4gIGZ1bmN0aW9uIF9jcmVhdGVEcm9wU2hhZG93RmlsdGVyKHZpZXdwb3J0KSB7XG4gICAgdmlld3BvcnQuaW5uZXJIVE1MID0gJzxmaWx0ZXIgaWQ9XCJub3RlRHJvcFNoYWRvd1wiIHN0eWxlPVwiaGVpZ2h0OiAxMzAlO1wiPjxmZUdhdXNzaWFuQmx1ciBpbj1cIlNvdXJjZUFscGhhXCIgc3RkRGV2aWF0aW9uPVwiM1wiPjwvZmVHYXVzc2lhbkJsdXI+PGZlT2Zmc2V0IGR4PVwiMVwiIGR5PVwiMlwiIHJlc3VsdD1cIm9mZnNldGJsdXJcIj48L2ZlT2Zmc2V0PjxmZU1lcmdlPjxmZU1lcmdlTm9kZT48L2ZlTWVyZ2VOb2RlPjxmZU1lcmdlTm9kZSBpbj1cIlNvdXJjZUdyYXBoaWNcIj48L2ZlTWVyZ2VOb2RlPjwvZmVNZXJnZT48L2ZpbHRlcj4nO1xuICB9XG5cblxuICBldmVudEJ1cy5vbignY2FudmFzLmluaXQnLCBmdW5jdGlvbihjb250ZXh0KSB7XG4gICAgdmFyIHN2ZyA9IGNvbnRleHQuc3ZnO1xuXG4gICAgX2NyZWF0ZURyb3BTaGFkb3dGaWx0ZXIoY29udGV4dC52aWV3cG9ydCk7XG4gICAgZG9tRGVsZWdhdGUuYmluZChzdmcsICdzdmcnLCAnZGJsY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgaWYgKGV2ZW50LnRhcmdldCAhPT0gc3ZnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgX2NyZWF0ZVNoYXBlT25DYW52YXMoZXZlbnQpO1xuICAgIH0pO1xuXG4gICAgZXZlbnRCdXMub24oJ2NyZWF0ZS5lbmQnLCBmdW5jdGlvbihjb250ZXh0KSB7XG4gICAgICB2YXIgc2hhcGUgPSBjb250ZXh0LnNoYXBlO1xuICAgICAgX3NhdmVMYXN0Q3JlYXRlZFNoYXBlKHNoYXBlKTtcbiAgICB9KTtcbiAgfSk7XG59XG5cbkNhbnZhc0NyZWF0ZS5wcm90b3R5cGUuJGluamVjdCA9IFtcbiAgJ2V2ZW50QnVzJyxcbiAgJ2VsZW1lbnRGYWN0b3J5JyxcbiAgJ2NhbnZhcycsXG4gICdkaXJlY3RFZGl0aW5nJyxcbiAgJ21vZGVsaW5nJ1xuXTtcbiIsImltcG9ydCB7XG4gIGFzc2lnbixcbiAgYmluZCxcbiAgcGlja1xufSBmcm9tICdtaW4tZGFzaCc7XG5cbmltcG9ydCB7XG4gIGRvbWlmeSxcbiAgcXVlcnkgYXMgZG9tUXVlcnksXG4gIGV2ZW50IGFzIGRvbUV2ZW50LFxuICByZW1vdmUgYXMgZG9tUmVtb3ZlXG59IGZyb20gJ21pbi1kb20nO1xuXG52YXIgbWluID0gTWF0aC5taW4sXG4gICAgbWF4ID0gTWF0aC5tYXg7XG5cbmZ1bmN0aW9uIHByZXZlbnREZWZhdWx0KGUpIHtcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xufVxuXG5mdW5jdGlvbiBzdG9wUHJvcGFnYXRpb24oZSkge1xuICBlLnN0b3BQcm9wYWdhdGlvbigpO1xufVxuXG5mdW5jdGlvbiBpc1RleHROb2RlKG5vZGUpIHtcbiAgcmV0dXJuIG5vZGUubm9kZVR5cGUgPT09IE5vZGUuVEVYVF9OT0RFO1xufVxuXG5mdW5jdGlvbiB0b0FycmF5KG5vZGVMaXN0KSB7XG4gIHJldHVybiBbXS5zbGljZS5jYWxsKG5vZGVMaXN0KTtcbn1cblxuLyoqXG4gKiBJbml0aWFsaXplcyBhIGNvbnRhaW5lciBmb3IgYSBjb250ZW50IGVkaXRhYmxlIGRpdi5cbiAqXG4gKiBTdHJ1Y3R1cmU6XG4gKlxuICogY29udGFpbmVyXG4gKiAgIHBhcmVudFxuICogICAgIGNvbnRlbnRcbiAqICAgICByZXNpemUtaGFuZGxlXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnNcbiAqIEBwYXJhbSB7RE9NRWxlbWVudH0gb3B0aW9ucy5jb250YWluZXIgVGhlIERPTSBlbGVtZW50IHRvIGFwcGVuZCB0aGUgY29udGVudENvbnRhaW5lciB0b1xuICogQHBhcmFtIHtGdW5jdGlvbn0gb3B0aW9ucy5rZXlIYW5kbGVyIEhhbmRsZXIgZm9yIGtleSBldmVudHNcbiAqIEBwYXJhbSB7RnVuY3Rpb259IG9wdGlvbnMucmVzaXplSGFuZGxlciBIYW5kbGVyIGZvciByZXNpemUgZXZlbnRzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFRleHRCb3gob3B0aW9ucykge1xuICB0aGlzLmNvbnRhaW5lciA9IG9wdGlvbnMuY29udGFpbmVyO1xuXG4gIHRoaXMucGFyZW50ID0gZG9taWZ5KFxuICAgICc8ZGl2IGNsYXNzPVwiZGpzLWRpcmVjdC1lZGl0aW5nLXBhcmVudFwiPicgK1xuICAgICAgJzxkaXYgY2xhc3M9XCJkanMtZGlyZWN0LWVkaXRpbmctY29udGVudFwiIGNvbnRlbnRlZGl0YWJsZT1cInRydWVcIj48L2Rpdj4nICtcbiAgICAnPC9kaXY+J1xuICApO1xuXG4gIHRoaXMuY29udGVudCA9IGRvbVF1ZXJ5KCdbY29udGVudGVkaXRhYmxlXScsIHRoaXMucGFyZW50KTtcblxuICB0aGlzLmtleUhhbmRsZXIgPSBvcHRpb25zLmtleUhhbmRsZXIgfHwgZnVuY3Rpb24oKSB7fTtcbiAgdGhpcy5yZXNpemVIYW5kbGVyID0gb3B0aW9ucy5yZXNpemVIYW5kbGVyIHx8IGZ1bmN0aW9uKCkge307XG5cbiAgdGhpcy5hdXRvUmVzaXplID0gYmluZCh0aGlzLmF1dG9SZXNpemUsIHRoaXMpO1xuICB0aGlzLmhhbmRsZVBhc3RlID0gYmluZCh0aGlzLmhhbmRsZVBhc3RlLCB0aGlzKTtcbn1cblxuXG4vKipcbiAqIENyZWF0ZSBhIHRleHQgYm94IHdpdGggdGhlIGdpdmVuIHBvc2l0aW9uLCBzaXplLCBzdHlsZSBhbmQgdGV4dCBjb250ZW50XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGJvdW5kc1xuICogQHBhcmFtIHtOdW1iZXJ9IGJvdW5kcy54IGFic29sdXRlIHggcG9zaXRpb25cbiAqIEBwYXJhbSB7TnVtYmVyfSBib3VuZHMueSBhYnNvbHV0ZSB5IHBvc2l0aW9uXG4gKiBAcGFyYW0ge051bWJlcn0gW2JvdW5kcy53aWR0aF0gZml4ZWQgd2lkdGggdmFsdWVcbiAqIEBwYXJhbSB7TnVtYmVyfSBbYm91bmRzLmhlaWdodF0gZml4ZWQgaGVpZ2h0IHZhbHVlXG4gKiBAcGFyYW0ge051bWJlcn0gW2JvdW5kcy5tYXhXaWR0aF0gbWF4aW11bSB3aWR0aCB2YWx1ZVxuICogQHBhcmFtIHtOdW1iZXJ9IFtib3VuZHMubWF4SGVpZ2h0XSBtYXhpbXVtIGhlaWdodCB2YWx1ZVxuICogQHBhcmFtIHtOdW1iZXJ9IFtib3VuZHMubWluV2lkdGhdIG1pbmltdW0gd2lkdGggdmFsdWVcbiAqIEBwYXJhbSB7TnVtYmVyfSBbYm91bmRzLm1pbkhlaWdodF0gbWluaW11bSBoZWlnaHQgdmFsdWVcbiAqIEBwYXJhbSB7T2JqZWN0fSBbc3R5bGVdXG4gKiBAcGFyYW0ge1N0cmluZ30gdmFsdWUgdGV4dCBjb250ZW50XG4gKlxuICogQHJldHVybiB7RE9NRWxlbWVudH0gVGhlIGNyZWF0ZWQgY29udGVudCBET00gZWxlbWVudFxuICovXG5UZXh0Qm94LnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbihib3VuZHMsIHN0eWxlLCB2YWx1ZSwgb3B0aW9ucykge1xuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgdmFyIHBhcmVudCA9IHRoaXMucGFyZW50LFxuICAgICAgY29udGVudCA9IHRoaXMuY29udGVudCxcbiAgICAgIGNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyO1xuXG4gIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gIHN0eWxlID0gdGhpcy5zdHlsZSA9IHN0eWxlIHx8IHt9O1xuXG4gIHZhciBwYXJlbnRTdHlsZSA9IHBpY2soc3R5bGUsIFtcbiAgICAnd2lkdGgnLFxuICAgICdoZWlnaHQnLFxuICAgICdtYXhXaWR0aCcsXG4gICAgJ21heEhlaWdodCcsXG4gICAgJ21pbldpZHRoJyxcbiAgICAnbWluSGVpZ2h0JyxcbiAgICAnbGVmdCcsXG4gICAgJ3RvcCcsXG4gICAgJ2JhY2tncm91bmRDb2xvcicsXG4gICAgJ3Bvc2l0aW9uJyxcbiAgICAnb3ZlcmZsb3cnLFxuICAgICdib3JkZXInLFxuICAgICd3b3JkV3JhcCcsXG4gICAgJ3RleHRBbGlnbicsXG4gICAgJ291dGxpbmUnLFxuICAgICd0cmFuc2Zvcm0nXG4gIF0pO1xuXG4gIGFzc2lnbihwYXJlbnQuc3R5bGUsIHtcbiAgICB3aWR0aDogYm91bmRzLndpZHRoICsgJ3B4JyxcbiAgICBoZWlnaHQ6IGJvdW5kcy5oZWlnaHQgKyAncHgnLFxuICAgIG1heFdpZHRoOiBib3VuZHMubWF4V2lkdGggKyAncHgnLFxuICAgIG1heEhlaWdodDogYm91bmRzLm1heEhlaWdodCArICdweCcsXG4gICAgbWluV2lkdGg6IGJvdW5kcy5taW5XaWR0aCArICdweCcsXG4gICAgbWluSGVpZ2h0OiBib3VuZHMubWluSGVpZ2h0ICsgJ3B4JyxcbiAgICBsZWZ0OiBib3VuZHMueCArICdweCcsXG4gICAgdG9wOiBib3VuZHMueSArICdweCcsXG4gICAgYmFja2dyb3VuZENvbG9yOiAnI2ZmZmZmZicsXG4gICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgb3ZlcmZsb3c6ICd2aXNpYmxlJyxcbiAgICBib3JkZXI6ICcxcHggc29saWQgI2NjYycsXG4gICAgYm94U2l6aW5nOiAnYm9yZGVyLWJveCcsXG4gICAgd29yZFdyYXA6ICdub3JtYWwnLFxuICAgIHRleHRBbGlnbjogJ2NlbnRlcicsXG4gICAgb3V0bGluZTogJ25vbmUnXG4gIH0sIHBhcmVudFN0eWxlKTtcblxuICB2YXIgY29udGVudFN0eWxlID0gcGljayhzdHlsZSwgW1xuICAgICdmb250RmFtaWx5JyxcbiAgICAnZm9udFNpemUnLFxuICAgICdmb250V2VpZ2h0JyxcbiAgICAnbGluZUhlaWdodCcsXG4gICAgJ3BhZGRpbmcnLFxuICAgICdwYWRkaW5nVG9wJyxcbiAgICAncGFkZGluZ1JpZ2h0JyxcbiAgICAncGFkZGluZ0JvdHRvbScsXG4gICAgJ3BhZGRpbmdMZWZ0J1xuICBdKTtcblxuICBhc3NpZ24oY29udGVudC5zdHlsZSwge1xuICAgIGJveFNpemluZzogJ2JvcmRlci1ib3gnLFxuICAgIHdpZHRoOiAnMTAwJScsXG4gICAgb3V0bGluZTogJ25vbmUnLFxuICAgIHdvcmRXcmFwOiAnYnJlYWstd29yZCdcbiAgfSwgY29udGVudFN0eWxlKTtcblxuICBpZiAob3B0aW9ucy5jZW50ZXJWZXJ0aWNhbGx5KSB7XG4gICAgYXNzaWduKGNvbnRlbnQuc3R5bGUsIHtcbiAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgdG9wOiAnNTAlJyxcbiAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZSgwLCAtNTAlKSdcbiAgICB9LCBjb250ZW50U3R5bGUpO1xuICB9XG5cbiAgY29udGVudC5pbm5lclRleHQgPSB2YWx1ZTtcblxuICBkb21FdmVudC5iaW5kKGNvbnRlbnQsICdrZXlkb3duJywgdGhpcy5rZXlIYW5kbGVyKTtcbiAgZG9tRXZlbnQuYmluZChjb250ZW50LCAnbW91c2Vkb3duJywgc3RvcFByb3BhZ2F0aW9uKTtcbiAgZG9tRXZlbnQuYmluZChjb250ZW50LCAncGFzdGUnLCBzZWxmLmhhbmRsZVBhc3RlKTtcblxuICBpZiAob3B0aW9ucy5hdXRvUmVzaXplKSB7XG4gICAgZG9tRXZlbnQuYmluZChjb250ZW50LCAnaW5wdXQnLCB0aGlzLmF1dG9SZXNpemUpO1xuICB9XG5cbiAgaWYgKG9wdGlvbnMucmVzaXphYmxlKSB7XG4gICAgdGhpcy5yZXNpemFibGUoc3R5bGUpO1xuICB9XG5cbiAgY29udGFpbmVyLmFwcGVuZENoaWxkKHBhcmVudCk7XG5cbiAgLy8gc2V0IHNlbGVjdGlvbiB0byBlbmQgb2YgdGV4dFxuICB0aGlzLnNldFNlbGVjdGlvbihjb250ZW50Lmxhc3RDaGlsZCwgY29udGVudC5sYXN0Q2hpbGQgJiYgY29udGVudC5sYXN0Q2hpbGQubGVuZ3RoKTtcblxuICByZXR1cm4gcGFyZW50O1xufTtcblxuLyoqXG4gKiBJbnRlcmNlcHQgcGFzdGUgZXZlbnRzIHRvIHJlbW92ZSBmb3JtYXR0aW5nIGZyb20gcGFzdGVkIHRleHQuXG4gKi9cblRleHRCb3gucHJvdG90eXBlLmhhbmRsZVBhc3RlID0gZnVuY3Rpb24oZSkge1xuICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucyxcbiAgICAgIHN0eWxlID0gdGhpcy5zdHlsZTtcblxuICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgdmFyIHRleHQ7XG5cbiAgaWYgKGUuY2xpcGJvYXJkRGF0YSkge1xuXG4gICAgLy8gQ2hyb21lLCBGaXJlZm94LCBTYWZhcmlcbiAgICB0ZXh0ID0gZS5jbGlwYm9hcmREYXRhLmdldERhdGEoJ3RleHQvcGxhaW4nKTtcbiAgfSBlbHNlIHtcblxuICAgIC8vIEludGVybmV0IEV4cGxvcmVyXG4gICAgdGV4dCA9IHdpbmRvdy5jbGlwYm9hcmREYXRhLmdldERhdGEoJ1RleHQnKTtcbiAgfVxuXG4gIHRoaXMuaW5zZXJ0VGV4dCh0ZXh0KTtcblxuICBpZiAob3B0aW9ucy5hdXRvUmVzaXplKSB7XG4gICAgdmFyIGhhc1Jlc2l6ZWQgPSB0aGlzLmF1dG9SZXNpemUoc3R5bGUpO1xuXG4gICAgaWYgKGhhc1Jlc2l6ZWQpIHtcbiAgICAgIHRoaXMucmVzaXplSGFuZGxlcihoYXNSZXNpemVkKTtcbiAgICB9XG4gIH1cbn07XG5cblRleHRCb3gucHJvdG90eXBlLmluc2VydFRleHQgPSBmdW5jdGlvbih0ZXh0KSB7XG5cbiAgLy8gaW5zZXJ0VGV4dCBjb21tYW5kIG5vdCBzdXBwb3J0ZWQgYnkgSW50ZXJuZXQgRXhwbG9yZXJcbiAgdmFyIHN1Y2Nlc3MgPSBkb2N1bWVudC5leGVjQ29tbWFuZCgnaW5zZXJ0VGV4dCcsIGZhbHNlLCB0ZXh0KTtcblxuICBpZiAoc3VjY2Vzcykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHRoaXMuX2luc2VydFRleHRJRSh0ZXh0KTtcbn07XG5cblRleHRCb3gucHJvdG90eXBlLl9pbnNlcnRUZXh0SUUgPSBmdW5jdGlvbih0ZXh0KSB7XG5cbiAgLy8gSW50ZXJuZXQgRXhwbG9yZXJcbiAgdmFyIHJhbmdlID0gdGhpcy5nZXRTZWxlY3Rpb24oKSxcbiAgICAgIHN0YXJ0Q29udGFpbmVyID0gcmFuZ2Uuc3RhcnRDb250YWluZXIsXG4gICAgICBlbmRDb250YWluZXIgPSByYW5nZS5lbmRDb250YWluZXIsXG4gICAgICBzdGFydE9mZnNldCA9IHJhbmdlLnN0YXJ0T2Zmc2V0LFxuICAgICAgZW5kT2Zmc2V0ID0gcmFuZ2UuZW5kT2Zmc2V0LFxuICAgICAgY29tbW9uQW5jZXN0b3JDb250YWluZXIgPSByYW5nZS5jb21tb25BbmNlc3RvckNvbnRhaW5lcjtcblxuICB2YXIgY2hpbGROb2Rlc0FycmF5ID0gdG9BcnJheShjb21tb25BbmNlc3RvckNvbnRhaW5lci5jaGlsZE5vZGVzKTtcblxuICB2YXIgY29udGFpbmVyLFxuICAgICAgb2Zmc2V0O1xuXG4gIGlmIChpc1RleHROb2RlKGNvbW1vbkFuY2VzdG9yQ29udGFpbmVyKSkge1xuICAgIHZhciBjb250YWluZXJUZXh0Q29udGVudCA9IHN0YXJ0Q29udGFpbmVyLnRleHRDb250ZW50O1xuXG4gICAgc3RhcnRDb250YWluZXIudGV4dENvbnRlbnQgPVxuICAgICAgY29udGFpbmVyVGV4dENvbnRlbnQuc3Vic3RyaW5nKDAsIHN0YXJ0T2Zmc2V0KVxuICAgICAgKyB0ZXh0XG4gICAgICArIGNvbnRhaW5lclRleHRDb250ZW50LnN1YnN0cmluZyhlbmRPZmZzZXQpO1xuXG4gICAgY29udGFpbmVyID0gc3RhcnRDb250YWluZXI7XG4gICAgb2Zmc2V0ID0gc3RhcnRPZmZzZXQgKyB0ZXh0Lmxlbmd0aDtcblxuICB9IGVsc2UgaWYgKHN0YXJ0Q29udGFpbmVyID09PSB0aGlzLmNvbnRlbnQgJiYgZW5kQ29udGFpbmVyID09PSB0aGlzLmNvbnRlbnQpIHtcbiAgICB2YXIgdGV4dE5vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0ZXh0KTtcblxuICAgIHRoaXMuY29udGVudC5pbnNlcnRCZWZvcmUodGV4dE5vZGUsIGNoaWxkTm9kZXNBcnJheVtzdGFydE9mZnNldF0pO1xuXG4gICAgY29udGFpbmVyID0gdGV4dE5vZGU7XG4gICAgb2Zmc2V0ID0gdGV4dE5vZGUudGV4dENvbnRlbnQubGVuZ3RoO1xuICB9IGVsc2Uge1xuICAgIHZhciBzdGFydENvbnRhaW5lckNoaWxkSW5kZXggPSBjaGlsZE5vZGVzQXJyYXkuaW5kZXhPZihzdGFydENvbnRhaW5lciksXG4gICAgICAgIGVuZENvbnRhaW5lckNoaWxkSW5kZXggPSBjaGlsZE5vZGVzQXJyYXkuaW5kZXhPZihlbmRDb250YWluZXIpO1xuXG4gICAgY2hpbGROb2Rlc0FycmF5LmZvckVhY2goZnVuY3Rpb24oY2hpbGROb2RlLCBpbmRleCkge1xuXG4gICAgICBpZiAoaW5kZXggPT09IHN0YXJ0Q29udGFpbmVyQ2hpbGRJbmRleCkge1xuICAgICAgICBjaGlsZE5vZGUudGV4dENvbnRlbnQgPVxuICAgICAgICAgIHN0YXJ0Q29udGFpbmVyLnRleHRDb250ZW50LnN1YnN0cmluZygwLCBzdGFydE9mZnNldCkgK1xuICAgICAgICAgIHRleHQgK1xuICAgICAgICAgIGVuZENvbnRhaW5lci50ZXh0Q29udGVudC5zdWJzdHJpbmcoZW5kT2Zmc2V0KTtcbiAgICAgIH0gZWxzZSBpZiAoaW5kZXggPiBzdGFydENvbnRhaW5lckNoaWxkSW5kZXggJiYgaW5kZXggPD0gZW5kQ29udGFpbmVyQ2hpbGRJbmRleCkge1xuICAgICAgICBkb21SZW1vdmUoY2hpbGROb2RlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGNvbnRhaW5lciA9IHN0YXJ0Q29udGFpbmVyO1xuICAgIG9mZnNldCA9IHN0YXJ0T2Zmc2V0ICsgdGV4dC5sZW5ndGg7XG4gIH1cblxuICBpZiAoY29udGFpbmVyICYmIG9mZnNldCAhPT0gdW5kZWZpbmVkKSB7XG5cbiAgICAvLyBpcyBuZWNlc3NhcnkgaW4gSW50ZXJuZXQgRXhwbG9yZXJcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgc2VsZi5zZXRTZWxlY3Rpb24oY29udGFpbmVyLCBvZmZzZXQpO1xuICAgIH0pO1xuICB9XG59O1xuXG4vKipcbiAqIEF1dG9tYXRpY2FsbHkgcmVzaXplIGVsZW1lbnQgdmVydGljYWxseSB0byBmaXQgaXRzIGNvbnRlbnQuXG4gKi9cblRleHRCb3gucHJvdG90eXBlLmF1dG9SZXNpemUgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHBhcmVudCA9IHRoaXMucGFyZW50LFxuICAgICAgY29udGVudCA9IHRoaXMuY29udGVudDtcblxuICB2YXIgZm9udFNpemUgPSBwYXJzZUludCh0aGlzLnN0eWxlLmZvbnRTaXplKSB8fCAxMjtcblxuICBpZiAoY29udGVudC5zY3JvbGxIZWlnaHQgPiBwYXJlbnQub2Zmc2V0SGVpZ2h0IHx8XG4gICAgICBjb250ZW50LnNjcm9sbEhlaWdodCA8IHBhcmVudC5vZmZzZXRIZWlnaHQgLSBmb250U2l6ZSkge1xuICAgIHZhciBib3VuZHMgPSBwYXJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICB2YXIgaGVpZ2h0ID0gY29udGVudC5zY3JvbGxIZWlnaHQ7XG4gICAgcGFyZW50LnN0eWxlLmhlaWdodCA9IGhlaWdodCArICdweCc7XG5cbiAgICB0aGlzLnJlc2l6ZUhhbmRsZXIoe1xuICAgICAgd2lkdGg6IGJvdW5kcy53aWR0aCxcbiAgICAgIGhlaWdodDogYm91bmRzLmhlaWdodCxcbiAgICAgIGR4OiAwLFxuICAgICAgZHk6IGhlaWdodCAtIGJvdW5kcy5oZWlnaHRcbiAgICB9KTtcbiAgfVxufTtcblxuLyoqXG4gKiBNYWtlIGFuIGVsZW1lbnQgcmVzaXphYmxlIGJ5IGFkZGluZyBhIHJlc2l6ZSBoYW5kbGUuXG4gKi9cblRleHRCb3gucHJvdG90eXBlLnJlc2l6YWJsZSA9IGZ1bmN0aW9uKCkge1xuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgdmFyIHBhcmVudCA9IHRoaXMucGFyZW50LFxuICAgICAgcmVzaXplSGFuZGxlID0gdGhpcy5yZXNpemVIYW5kbGU7XG5cbiAgdmFyIG1pbldpZHRoID0gcGFyc2VJbnQodGhpcy5zdHlsZS5taW5XaWR0aCkgfHwgMCxcbiAgICAgIG1pbkhlaWdodCA9IHBhcnNlSW50KHRoaXMuc3R5bGUubWluSGVpZ2h0KSB8fCAwLFxuICAgICAgbWF4V2lkdGggPSBwYXJzZUludCh0aGlzLnN0eWxlLm1heFdpZHRoKSB8fCBJbmZpbml0eSxcbiAgICAgIG1heEhlaWdodCA9IHBhcnNlSW50KHRoaXMuc3R5bGUubWF4SGVpZ2h0KSB8fCBJbmZpbml0eTtcblxuICBpZiAoIXJlc2l6ZUhhbmRsZSkge1xuICAgIHJlc2l6ZUhhbmRsZSA9IHRoaXMucmVzaXplSGFuZGxlID0gZG9taWZ5KFxuICAgICAgJzxkaXYgY2xhc3M9XCJkanMtZGlyZWN0LWVkaXRpbmctcmVzaXplLWhhbmRsZVwiPjwvZGl2PidcbiAgICApO1xuXG4gICAgdmFyIHN0YXJ0WCwgc3RhcnRZLCBzdGFydFdpZHRoLCBzdGFydEhlaWdodDtcblxuICAgIHZhciBvbk1vdXNlRG93biA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgIHByZXZlbnREZWZhdWx0KGUpO1xuICAgICAgc3RvcFByb3BhZ2F0aW9uKGUpO1xuXG4gICAgICBzdGFydFggPSBlLmNsaWVudFg7XG4gICAgICBzdGFydFkgPSBlLmNsaWVudFk7XG5cbiAgICAgIHZhciBib3VuZHMgPSBwYXJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICAgIHN0YXJ0V2lkdGggPSBib3VuZHMud2lkdGg7XG4gICAgICBzdGFydEhlaWdodCA9IGJvdW5kcy5oZWlnaHQ7XG5cbiAgICAgIGRvbUV2ZW50LmJpbmQoZG9jdW1lbnQsICdtb3VzZW1vdmUnLCBvbk1vdXNlTW92ZSk7XG4gICAgICBkb21FdmVudC5iaW5kKGRvY3VtZW50LCAnbW91c2V1cCcsIG9uTW91c2VVcCk7XG4gICAgfTtcblxuICAgIHZhciBvbk1vdXNlTW92ZSA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgIHByZXZlbnREZWZhdWx0KGUpO1xuICAgICAgc3RvcFByb3BhZ2F0aW9uKGUpO1xuXG4gICAgICB2YXIgbmV3V2lkdGggPSBtaW4obWF4KHN0YXJ0V2lkdGggKyBlLmNsaWVudFggLSBzdGFydFgsIG1pbldpZHRoKSwgbWF4V2lkdGgpO1xuICAgICAgdmFyIG5ld0hlaWdodCA9IG1pbihtYXgoc3RhcnRIZWlnaHQgKyBlLmNsaWVudFkgLSBzdGFydFksIG1pbkhlaWdodCksIG1heEhlaWdodCk7XG5cbiAgICAgIHBhcmVudC5zdHlsZS53aWR0aCA9IG5ld1dpZHRoICsgJ3B4JztcbiAgICAgIHBhcmVudC5zdHlsZS5oZWlnaHQgPSBuZXdIZWlnaHQgKyAncHgnO1xuXG4gICAgICBzZWxmLnJlc2l6ZUhhbmRsZXIoe1xuICAgICAgICB3aWR0aDogc3RhcnRXaWR0aCxcbiAgICAgICAgaGVpZ2h0OiBzdGFydEhlaWdodCxcbiAgICAgICAgZHg6IGUuY2xpZW50WCAtIHN0YXJ0WCxcbiAgICAgICAgZHk6IGUuY2xpZW50WSAtIHN0YXJ0WVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZhciBvbk1vdXNlVXAgPSBmdW5jdGlvbihlKSB7XG4gICAgICBwcmV2ZW50RGVmYXVsdChlKTtcbiAgICAgIHN0b3BQcm9wYWdhdGlvbihlKTtcblxuICAgICAgZG9tRXZlbnQudW5iaW5kKGRvY3VtZW50LCdtb3VzZW1vdmUnLCBvbk1vdXNlTW92ZSwgZmFsc2UpO1xuICAgICAgZG9tRXZlbnQudW5iaW5kKGRvY3VtZW50LCAnbW91c2V1cCcsIG9uTW91c2VVcCwgZmFsc2UpO1xuICAgIH07XG5cbiAgICBkb21FdmVudC5iaW5kKHJlc2l6ZUhhbmRsZSwgJ21vdXNlZG93bicsIG9uTW91c2VEb3duKTtcbiAgfVxuXG4gIGFzc2lnbihyZXNpemVIYW5kbGUuc3R5bGUsIHtcbiAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICBib3R0b206ICcwcHgnLFxuICAgIHJpZ2h0OiAnMHB4JyxcbiAgICBjdXJzb3I6ICdud3NlLXJlc2l6ZScsXG4gICAgd2lkdGg6ICcwJyxcbiAgICBoZWlnaHQ6ICcwJyxcbiAgICBib3JkZXJUb3A6IChwYXJzZUludCh0aGlzLnN0eWxlLmZvbnRTaXplKSAvIDQgfHwgMykgKyAncHggc29saWQgdHJhbnNwYXJlbnQnLFxuICAgIGJvcmRlclJpZ2h0OiAocGFyc2VJbnQodGhpcy5zdHlsZS5mb250U2l6ZSkgLyA0IHx8IDMpICsgJ3B4IHNvbGlkICNjY2MnLFxuICAgIGJvcmRlckJvdHRvbTogKHBhcnNlSW50KHRoaXMuc3R5bGUuZm9udFNpemUpIC8gNCB8fCAzKSArICdweCBzb2xpZCAjY2NjJyxcbiAgICBib3JkZXJMZWZ0OiAocGFyc2VJbnQodGhpcy5zdHlsZS5mb250U2l6ZSkgLyA0IHx8IDMpICsgJ3B4IHNvbGlkIHRyYW5zcGFyZW50J1xuICB9KTtcblxuICBwYXJlbnQuYXBwZW5kQ2hpbGQocmVzaXplSGFuZGxlKTtcbn07XG5cblxuLyoqXG4gKiBDbGVhciBjb250ZW50IGFuZCBzdHlsZSBvZiB0aGUgdGV4dGJveCwgdW5iaW5kIGxpc3RlbmVycyBhbmRcbiAqIHJlc2V0IENTUyBzdHlsZS5cbiAqL1xuVGV4dEJveC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xuICB2YXIgcGFyZW50ID0gdGhpcy5wYXJlbnQsXG4gICAgICBjb250ZW50ID0gdGhpcy5jb250ZW50LFxuICAgICAgcmVzaXplSGFuZGxlID0gdGhpcy5yZXNpemVIYW5kbGU7XG5cbiAgLy8gY2xlYXIgY29udGVudFxuICBjb250ZW50LmlubmVyVGV4dCA9ICcnO1xuXG4gIC8vIGNsZWFyIHN0eWxlc1xuICBwYXJlbnQucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpO1xuICBjb250ZW50LnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTtcblxuICBkb21FdmVudC51bmJpbmQoY29udGVudCwgJ2tleWRvd24nLCB0aGlzLmtleUhhbmRsZXIpO1xuICBkb21FdmVudC51bmJpbmQoY29udGVudCwgJ21vdXNlZG93bicsIHN0b3BQcm9wYWdhdGlvbik7XG4gIGRvbUV2ZW50LnVuYmluZChjb250ZW50LCAnaW5wdXQnLCB0aGlzLmF1dG9SZXNpemUpO1xuICBkb21FdmVudC51bmJpbmQoY29udGVudCwgJ3Bhc3RlJywgdGhpcy5oYW5kbGVQYXN0ZSk7XG5cbiAgaWYgKHJlc2l6ZUhhbmRsZSkge1xuICAgIHJlc2l6ZUhhbmRsZS5yZW1vdmVBdHRyaWJ1dGUoJ3N0eWxlJyk7XG5cbiAgICBkb21SZW1vdmUocmVzaXplSGFuZGxlKTtcbiAgfVxuXG4gIGRvbVJlbW92ZShwYXJlbnQpO1xufTtcblxuXG5UZXh0Qm94LnByb3RvdHlwZS5nZXRWYWx1ZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5jb250ZW50LmlubmVyVGV4dC50cmltKCk7XG59O1xuXG5cblRleHRCb3gucHJvdG90eXBlLmdldFNlbGVjdGlvbiA9IGZ1bmN0aW9uKCkge1xuICB2YXIgc2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpLFxuICAgICAgcmFuZ2UgPSBzZWxlY3Rpb24uZ2V0UmFuZ2VBdCgwKTtcblxuICByZXR1cm4gcmFuZ2U7XG59O1xuXG5cblRleHRCb3gucHJvdG90eXBlLnNldFNlbGVjdGlvbiA9IGZ1bmN0aW9uKGNvbnRhaW5lciwgb2Zmc2V0KSB7XG4gIHZhciByYW5nZSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XG5cbiAgaWYgKGNvbnRhaW5lciA9PT0gbnVsbCkge1xuICAgIHJhbmdlLnNlbGVjdE5vZGVDb250ZW50cyh0aGlzLmNvbnRlbnQpO1xuICB9IGVsc2Uge1xuICAgIHJhbmdlLnNldFN0YXJ0KGNvbnRhaW5lciwgb2Zmc2V0KTtcbiAgICByYW5nZS5zZXRFbmQoY29udGFpbmVyLCBvZmZzZXQpO1xuICB9XG5cbiAgdmFyIHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcblxuICBzZWxlY3Rpb24ucmVtb3ZlQWxsUmFuZ2VzKCk7XG4gIHNlbGVjdGlvbi5hZGRSYW5nZShyYW5nZSk7XG59O1xuIiwiaW1wb3J0IHtcbiAgYmluZCxcbiAgZmluZFxufSBmcm9tICdtaW4tZGFzaCc7XG5cbmltcG9ydCBUZXh0Qm94IGZyb20gJy4vVGV4dEJveCc7XG5cblxuLyoqXG4gKiBBIGRpcmVjdCBlZGl0aW5nIGNvbXBvbmVudCB0aGF0IGFsbG93cyB1c2Vyc1xuICogdG8gZWRpdCBhbiBlbGVtZW50cyB0ZXh0IGRpcmVjdGx5IGluIHRoZSBkaWFncmFtXG4gKlxuICogQHBhcmFtIHtFdmVudEJ1c30gZXZlbnRCdXMgdGhlIGV2ZW50IGJ1c1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBEaXJlY3RFZGl0aW5nKGV2ZW50QnVzLCBjYW52YXMpIHtcblxuICB0aGlzLl9ldmVudEJ1cyA9IGV2ZW50QnVzO1xuXG4gIHRoaXMuX3Byb3ZpZGVycyA9IFtdO1xuICB0aGlzLl90ZXh0Ym94ID0gbmV3IFRleHRCb3goe1xuICAgIGNvbnRhaW5lcjogY2FudmFzLmdldENvbnRhaW5lcigpLFxuICAgIGtleUhhbmRsZXI6IGJpbmQodGhpcy5faGFuZGxlS2V5LCB0aGlzKSxcbiAgICByZXNpemVIYW5kbGVyOiBiaW5kKHRoaXMuX2hhbmRsZVJlc2l6ZSwgdGhpcylcbiAgfSk7XG59XG5cbkRpcmVjdEVkaXRpbmcuJGluamVjdCA9IFsgJ2V2ZW50QnVzJywgJ2NhbnZhcycgXTtcblxuXG4vKipcbiAqIFJlZ2lzdGVyIGEgZGlyZWN0IGVkaXRpbmcgcHJvdmlkZXJcblxuICogQHBhcmFtIHtPYmplY3R9IHByb3ZpZGVyIHRoZSBwcm92aWRlciwgbXVzdCBleHBvc2UgYW4gI2FjdGl2YXRlKGVsZW1lbnQpIG1ldGhvZCB0aGF0IHJldHVybnNcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICBhbiBhY3RpdmF0aW9uIGNvbnRleHQgKHsgYm91bmRzOiB7eCwgeSwgd2lkdGgsIGhlaWdodCB9LCB0ZXh0IH0pIGlmXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgZGlyZWN0IGVkaXRpbmcgaXMgYXZhaWxhYmxlIGZvciB0aGUgZ2l2ZW4gZWxlbWVudC5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICBBZGRpdGlvbmFsbHkgdGhlIHByb3ZpZGVyIG11c3QgZXhwb3NlIGEgI3VwZGF0ZShlbGVtZW50LCB2YWx1ZSkgbWV0aG9kXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgdG8gcmVjZWl2ZSBkaXJlY3QgZWRpdGluZyB1cGRhdGVzLlxuICovXG5EaXJlY3RFZGl0aW5nLnByb3RvdHlwZS5yZWdpc3RlclByb3ZpZGVyID0gZnVuY3Rpb24ocHJvdmlkZXIpIHtcbiAgdGhpcy5fcHJvdmlkZXJzLnB1c2gocHJvdmlkZXIpO1xufTtcblxuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiBkaXJlY3QgZWRpdGluZyBpcyBjdXJyZW50bHkgYWN0aXZlXG4gKlxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL1xuRGlyZWN0RWRpdGluZy5wcm90b3R5cGUuaXNBY3RpdmUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuICEhdGhpcy5fYWN0aXZlO1xufTtcblxuXG4vKipcbiAqIENhbmNlbCBkaXJlY3QgZWRpdGluZywgaWYgaXQgaXMgY3VycmVudGx5IGFjdGl2ZVxuICovXG5EaXJlY3RFZGl0aW5nLnByb3RvdHlwZS5jYW5jZWwgPSBmdW5jdGlvbigpIHtcbiAgaWYgKCF0aGlzLl9hY3RpdmUpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB0aGlzLl9maXJlKCdjYW5jZWwnKTtcbiAgdGhpcy5jbG9zZSgpO1xufTtcblxuXG5EaXJlY3RFZGl0aW5nLnByb3RvdHlwZS5fZmlyZSA9IGZ1bmN0aW9uKGV2ZW50LCBjb250ZXh0KSB7XG4gIHRoaXMuX2V2ZW50QnVzLmZpcmUoJ2RpcmVjdEVkaXRpbmcuJyArIGV2ZW50LCBjb250ZXh0IHx8IHsgYWN0aXZlOiB0aGlzLl9hY3RpdmUgfSk7XG59O1xuXG5EaXJlY3RFZGl0aW5nLnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLl90ZXh0Ym94LmRlc3Ryb3koKTtcblxuICB0aGlzLl9maXJlKCdkZWFjdGl2YXRlJyk7XG5cbiAgdGhpcy5fYWN0aXZlID0gbnVsbDtcblxuICB0aGlzLnJlc2l6YWJsZSA9IHVuZGVmaW5lZDtcbn07XG5cblxuRGlyZWN0RWRpdGluZy5wcm90b3R5cGUuY29tcGxldGUgPSBmdW5jdGlvbigpIHtcblxuICB2YXIgYWN0aXZlID0gdGhpcy5fYWN0aXZlO1xuXG4gIGlmICghYWN0aXZlKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIGNvbnRhaW5lckJvdW5kcyxcbiAgICAgIHByZXZpb3VzQm91bmRzID0gYWN0aXZlLmNvbnRleHQuYm91bmRzLFxuICAgICAgbmV3Qm91bmRzID0gdGhpcy4kdGV4dGJveC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbiAgICAgIG5ld1RleHQgPSB0aGlzLmdldFZhbHVlKCksXG4gICAgICBwcmV2aW91c1RleHQgPSBhY3RpdmUuY29udGV4dC50ZXh0O1xuXG4gIGlmIChcbiAgICBuZXdUZXh0ICE9PSBwcmV2aW91c1RleHQgfHxcbiAgICBuZXdCb3VuZHMuaGVpZ2h0ICE9PSBwcmV2aW91c0JvdW5kcy5oZWlnaHQgfHxcbiAgICBuZXdCb3VuZHMud2lkdGggIT09IHByZXZpb3VzQm91bmRzLndpZHRoXG4gICkge1xuICAgIGNvbnRhaW5lckJvdW5kcyA9IHRoaXMuX3RleHRib3guY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgYWN0aXZlLnByb3ZpZGVyLnVwZGF0ZShhY3RpdmUuZWxlbWVudCwgbmV3VGV4dCwgYWN0aXZlLmNvbnRleHQudGV4dCwge1xuICAgICAgeDogbmV3Qm91bmRzLmxlZnQgLSBjb250YWluZXJCb3VuZHMubGVmdCxcbiAgICAgIHk6IG5ld0JvdW5kcy50b3AgLSBjb250YWluZXJCb3VuZHMudG9wLFxuICAgICAgd2lkdGg6IG5ld0JvdW5kcy53aWR0aCxcbiAgICAgIGhlaWdodDogbmV3Qm91bmRzLmhlaWdodFxuICAgIH0pO1xuICB9XG5cbiAgdGhpcy5fZmlyZSgnY29tcGxldGUnKTtcblxuICB0aGlzLmNsb3NlKCk7XG59O1xuXG5cbkRpcmVjdEVkaXRpbmcucHJvdG90eXBlLmdldFZhbHVlID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLl90ZXh0Ym94LmdldFZhbHVlKCk7XG59O1xuXG5cbkRpcmVjdEVkaXRpbmcucHJvdG90eXBlLl9oYW5kbGVLZXkgPSBmdW5jdGlvbihlKSB7XG5cbiAgLy8gc3RvcCBidWJibGVcbiAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblxuICB2YXIga2V5ID0gZS5rZXlDb2RlIHx8IGUuY2hhckNvZGU7XG5cbiAgLy8gRVNDXG4gIGlmIChrZXkgPT09IDI3KSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHJldHVybiB0aGlzLmNhbmNlbCgpO1xuICB9XG5cbiAgLy8gRW50ZXJcbiAgaWYgKGtleSA9PT0gMTMgJiYgIWUuc2hpZnRLZXkpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgcmV0dXJuIHRoaXMuY29tcGxldGUoKTtcbiAgfVxufTtcblxuXG5EaXJlY3RFZGl0aW5nLnByb3RvdHlwZS5faGFuZGxlUmVzaXplID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgdGhpcy5fZmlyZSgncmVzaXplJywgZXZlbnQpO1xufTtcblxuXG4vKipcbiAqIEFjdGl2YXRlIGRpcmVjdCBlZGl0aW5nIG9uIHRoZSBnaXZlbiBlbGVtZW50XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IEVsZW1lbnREZXNjcmlwdG9yIHRoZSBkZXNjcmlwdG9yIGZvciBhIHNoYXBlIG9yIGNvbm5lY3Rpb25cbiAqIEByZXR1cm4ge0Jvb2xlYW59IHRydWUgaWYgdGhlIGFjdGl2YXRpb24gd2FzIHBvc3NpYmxlXG4gKi9cbkRpcmVjdEVkaXRpbmcucHJvdG90eXBlLmFjdGl2YXRlID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICBpZiAodGhpcy5pc0FjdGl2ZSgpKSB7XG4gICAgdGhpcy5jYW5jZWwoKTtcbiAgfVxuXG4gIC8vIHRoZSBkaXJlY3QgZWRpdGluZyBjb250ZXh0XG4gIHZhciBjb250ZXh0O1xuXG4gIHZhciBwcm92aWRlciA9IGZpbmQodGhpcy5fcHJvdmlkZXJzLCBmdW5jdGlvbihwKSB7XG4gICAgcmV0dXJuIChjb250ZXh0ID0gcC5hY3RpdmF0ZShlbGVtZW50KSkgPyBwIDogbnVsbDtcbiAgfSk7XG5cbiAgLy8gY2hlY2sgaWYgYWN0aXZhdGlvbiB0b29rIHBsYWNlXG4gIGlmIChjb250ZXh0KSB7XG4gICAgdGhpcy4kdGV4dGJveCA9IHRoaXMuX3RleHRib3guY3JlYXRlKFxuICAgICAgY29udGV4dC5ib3VuZHMsXG4gICAgICBjb250ZXh0LnN0eWxlLFxuICAgICAgY29udGV4dC50ZXh0LFxuICAgICAgY29udGV4dC5vcHRpb25zXG4gICAgKTtcblxuICAgIHRoaXMuX2FjdGl2ZSA9IHtcbiAgICAgIGVsZW1lbnQ6IGVsZW1lbnQsXG4gICAgICBjb250ZXh0OiBjb250ZXh0LFxuICAgICAgcHJvdmlkZXI6IHByb3ZpZGVyXG4gICAgfTtcblxuICAgIGlmIChjb250ZXh0Lm9wdGlvbnMgJiYgY29udGV4dC5vcHRpb25zLnJlc2l6YWJsZSkge1xuICAgICAgdGhpcy5yZXNpemFibGUgPSB0cnVlO1xuICAgIH1cblxuICAgIHRoaXMuX2ZpcmUoJ2FjdGl2YXRlJyk7XG4gIH1cblxuICByZXR1cm4gISFjb250ZXh0O1xufTtcbiIsImltcG9ydCBJbnRlcmFjdGlvbkV2ZW50c01vZHVsZSBmcm9tICdkaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9pbnRlcmFjdGlvbi1ldmVudHMnO1xuXG5pbXBvcnQgRGlyZWN0RWRpdGluZyBmcm9tICcuL2xpYi9EaXJlY3RFZGl0aW5nJztcblxuZXhwb3J0IGRlZmF1bHQge1xuICBfX2RlcGVuZHNfXzogW1xuICAgIEludGVyYWN0aW9uRXZlbnRzTW9kdWxlXG4gIF0sXG4gIF9faW5pdF9fOiBbICdkaXJlY3RFZGl0aW5nJyBdLFxuICBkaXJlY3RFZGl0aW5nOiBbICd0eXBlJywgRGlyZWN0RWRpdGluZyBdXG59OyIsImltcG9ydCBDYW52YXNDcmVhdGUgZnJvbSAnLi9DYW52YXNDcmVhdGUnO1xuaW1wb3J0IERpcmVjdEVkaXRpbmdNb2R1bGUgZnJvbSAnZGlhZ3JhbS1qcy1kaXJlY3QtZWRpdGluZyc7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgX19kZXBlbmRzX186IFtcbiAgICBEaXJlY3RFZGl0aW5nTW9kdWxlXG4gIF0sXG4gIF9faW5pdF9fOiBbICdjYW52YXNDcmVhdGUnIF0sXG4gIGNhbnZhc0NyZWF0ZTogWyAndHlwZScsIENhbnZhc0NyZWF0ZSBdXG59OyIsImltcG9ydCB7XG4gIGdldE1pZFxufSBmcm9tICcuLi8uLi9sYXlvdXQvTGF5b3V0VXRpbCc7XG5cbmltcG9ydCB7XG4gIGlzTmlsLFxuICBpc09iamVjdFxufSBmcm9tICdtaW4tZGFzaCc7XG5cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ29ubmVjdChldmVudEJ1cywgZHJhZ2dpbmcsIG1vZGVsaW5nLCBydWxlcykge1xuXG4gIC8vIHJ1bGVzXG5cbiAgZnVuY3Rpb24gY2FuQ29ubmVjdChzb3VyY2UsIHRhcmdldCkge1xuICAgIHJldHVybiBydWxlcy5hbGxvd2VkKCdjb25uZWN0aW9uLmNyZWF0ZScsIHtcbiAgICAgIHNvdXJjZTogc291cmNlLFxuICAgICAgdGFyZ2V0OiB0YXJnZXRcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNhbkNvbm5lY3RSZXZlcnNlKHNvdXJjZSwgdGFyZ2V0KSB7XG4gICAgcmV0dXJuIGNhbkNvbm5lY3QodGFyZ2V0LCBzb3VyY2UpO1xuICB9XG5cblxuICAvLyBldmVudCBoYW5kbGVyc1xuXG4gIGV2ZW50QnVzLm9uKCdjb25uZWN0LmhvdmVyJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgY29udGV4dCA9IGV2ZW50LmNvbnRleHQsXG4gICAgICAgIHN0YXJ0ID0gY29udGV4dC5zdGFydCxcbiAgICAgICAgaG92ZXIgPSBldmVudC5ob3ZlcixcbiAgICAgICAgY2FuRXhlY3V0ZTtcblxuICAgIC8vIGNhY2hlIGhvdmVyIHN0YXRlXG4gICAgY29udGV4dC5ob3ZlciA9IGhvdmVyO1xuXG4gICAgY2FuRXhlY3V0ZSA9IGNvbnRleHQuY2FuRXhlY3V0ZSA9IGNhbkNvbm5lY3Qoc3RhcnQsIGhvdmVyKTtcblxuICAgIC8vIGlnbm9yZSBob3ZlclxuICAgIGlmIChpc05pbChjYW5FeGVjdXRlKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChjYW5FeGVjdXRlICE9PSBmYWxzZSkge1xuICAgICAgY29udGV4dC5zb3VyY2UgPSBzdGFydDtcbiAgICAgIGNvbnRleHQudGFyZ2V0ID0gaG92ZXI7XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjYW5FeGVjdXRlID0gY29udGV4dC5jYW5FeGVjdXRlID0gY2FuQ29ubmVjdFJldmVyc2Uoc3RhcnQsIGhvdmVyKTtcblxuICAgIC8vIGlnbm9yZSBob3ZlclxuICAgIGlmIChpc05pbChjYW5FeGVjdXRlKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChjYW5FeGVjdXRlICE9PSBmYWxzZSkge1xuICAgICAgY29udGV4dC5zb3VyY2UgPSBob3ZlcjtcbiAgICAgIGNvbnRleHQudGFyZ2V0ID0gc3RhcnQ7XG4gICAgfVxuICB9KTtcblxuICBldmVudEJ1cy5vbihbICdjb25uZWN0Lm91dCcsICdjb25uZWN0LmNsZWFudXAnIF0sIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0O1xuXG4gICAgY29udGV4dC5ob3ZlciA9IG51bGw7XG4gICAgY29udGV4dC5zb3VyY2UgPSBudWxsO1xuICAgIGNvbnRleHQudGFyZ2V0ID0gbnVsbDtcblxuICAgIGNvbnRleHQuY2FuRXhlY3V0ZSA9IGZhbHNlO1xuICB9KTtcblxuICBldmVudEJ1cy5vbignY29ubmVjdC5lbmQnLCBmdW5jdGlvbihldmVudCkge1xuICAgIHZhciBjb250ZXh0ID0gZXZlbnQuY29udGV4dCxcbiAgICAgICAgY2FuRXhlY3V0ZSA9IGNvbnRleHQuY2FuRXhlY3V0ZSxcbiAgICAgICAgY29ubmVjdGlvblN0YXJ0ID0gY29udGV4dC5jb25uZWN0aW9uU3RhcnQsXG4gICAgICAgIGNvbm5lY3Rpb25FbmQgPSB7XG4gICAgICAgICAgeDogZXZlbnQueCxcbiAgICAgICAgICB5OiBldmVudC55XG4gICAgICAgIH0sXG4gICAgICAgIHNvdXJjZSA9IGNvbnRleHQuc291cmNlLFxuICAgICAgICB0YXJnZXQgPSBjb250ZXh0LnRhcmdldDtcblxuICAgIGlmICghY2FuRXhlY3V0ZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHZhciBhdHRycyA9IG51bGwsXG4gICAgICAgIGhpbnRzID0ge1xuICAgICAgICAgIGNvbm5lY3Rpb25TdGFydDogaXNSZXZlcnNlKGNvbnRleHQpID8gY29ubmVjdGlvbkVuZCA6IGNvbm5lY3Rpb25TdGFydCxcbiAgICAgICAgICBjb25uZWN0aW9uRW5kOiBpc1JldmVyc2UoY29udGV4dCkgPyBjb25uZWN0aW9uU3RhcnQgOiBjb25uZWN0aW9uRW5kXG4gICAgICAgIH07XG5cbiAgICBpZiAoaXNPYmplY3QoY2FuRXhlY3V0ZSkpIHtcbiAgICAgIGF0dHJzID0gY2FuRXhlY3V0ZTtcbiAgICB9XG5cbiAgICBtb2RlbGluZy5jb25uZWN0KHNvdXJjZSwgdGFyZ2V0LCBhdHRycywgaGludHMpO1xuICB9KTtcblxuXG4gIC8vIEFQSVxuXG4gIC8qKlxuICAgKiBTdGFydCBjb25uZWN0IG9wZXJhdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHtET01FdmVudH0gZXZlbnRcbiAgICogQHBhcmFtIHtkanMubW9kZWwuQmFzZX0gc3RhcnRcbiAgICogQHBhcmFtIHtQb2ludH0gW2Nvbm5lY3Rpb25TdGFydF1cbiAgICogQHBhcmFtIHtib29sZWFufSBbYXV0b0FjdGl2YXRlPWZhbHNlXVxuICAgKi9cbiAgdGhpcy5zdGFydCA9IGZ1bmN0aW9uKGV2ZW50LCBzdGFydCwgY29ubmVjdGlvblN0YXJ0LCBhdXRvQWN0aXZhdGUpIHtcbiAgICBpZiAoIWlzT2JqZWN0KGNvbm5lY3Rpb25TdGFydCkpIHtcbiAgICAgIGF1dG9BY3RpdmF0ZSA9IGNvbm5lY3Rpb25TdGFydDtcbiAgICAgIGNvbm5lY3Rpb25TdGFydCA9IGdldE1pZChzdGFydCk7XG4gICAgfVxuXG4gICAgZHJhZ2dpbmcuaW5pdChldmVudCwgJ2Nvbm5lY3QnLCB7XG4gICAgICBhdXRvQWN0aXZhdGU6IGF1dG9BY3RpdmF0ZSxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgc2hhcGU6IHN0YXJ0LFxuICAgICAgICBjb250ZXh0OiB7XG4gICAgICAgICAgc3RhcnQ6IHN0YXJ0LFxuICAgICAgICAgIGNvbm5lY3Rpb25TdGFydDogY29ubmVjdGlvblN0YXJ0XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbn1cblxuQ29ubmVjdC4kaW5qZWN0ID0gW1xuICAnZXZlbnRCdXMnLFxuICAnZHJhZ2dpbmcnLFxuICAnbW9kZWxpbmcnLFxuICAncnVsZXMnXG5dO1xuXG5cbi8vIGhlbHBlcnMgLy8vLy8vLy8vL1xuXG5leHBvcnQgZnVuY3Rpb24gaXNSZXZlcnNlKGNvbnRleHQpIHtcbiAgdmFyIGhvdmVyID0gY29udGV4dC5ob3ZlcixcbiAgICAgIHNvdXJjZSA9IGNvbnRleHQuc291cmNlLFxuICAgICAgdGFyZ2V0ID0gY29udGV4dC50YXJnZXQ7XG5cbiAgcmV0dXJuIGhvdmVyICYmIHNvdXJjZSAmJiBob3ZlciA9PT0gc291cmNlICYmIHNvdXJjZSAhPT0gdGFyZ2V0O1xufSIsImltcG9ydCB7IGlzUmV2ZXJzZSB9IGZyb20gJy4vQ29ubmVjdCc7XG5cbnZhciBISUdIX1BSSU9SSVRZID0gMTEwMCxcbiAgICBMT1dfUFJJT1JJVFkgPSA5MDA7XG5cbnZhciBNQVJLRVJfT0sgPSAnY29ubmVjdC1vaycsXG4gICAgTUFSS0VSX05PVF9PSyA9ICdjb25uZWN0LW5vdC1vayc7XG5cbi8qKlxuICogU2hvd3MgY29ubmVjdGlvbiBwcmV2aWV3IGR1cmluZyBjb25uZWN0LlxuICpcbiAqIEBwYXJhbSB7ZGlkaS5JbmplY3Rvcn0gaW5qZWN0b3JcbiAqIEBwYXJhbSB7RXZlbnRCdXN9IGV2ZW50QnVzXG4gKiBAcGFyYW0ge0NhbnZhc30gY2FudmFzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENvbm5lY3RQcmV2aWV3KGluamVjdG9yLCBldmVudEJ1cywgY2FudmFzKSB7XG4gIHZhciBjb25uZWN0aW9uUHJldmlldyA9IGluamVjdG9yLmdldCgnY29ubmVjdGlvblByZXZpZXcnLCBmYWxzZSk7XG5cbiAgY29ubmVjdGlvblByZXZpZXcgJiYgZXZlbnRCdXMub24oJ2Nvbm5lY3QubW92ZScsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0LFxuICAgICAgICBjYW5Db25uZWN0ID0gY29udGV4dC5jYW5FeGVjdXRlLFxuICAgICAgICBob3ZlciA9IGNvbnRleHQuaG92ZXIsXG4gICAgICAgIHNvdXJjZSA9IGNvbnRleHQuc291cmNlLFxuICAgICAgICBzdGFydCA9IGNvbnRleHQuc3RhcnQsXG4gICAgICAgIHN0YXJ0UG9zaXRpb24gPSBjb250ZXh0LnN0YXJ0UG9zaXRpb24sXG4gICAgICAgIGNvbm5lY3Rpb25TdGFydCA9IGNvbnRleHQuY29ubmVjdGlvblN0YXJ0LFxuICAgICAgICBjb25uZWN0aW9uRW5kID0gY29udGV4dC5jb25uZWN0aW9uRW5kLFxuICAgICAgICB0YXJnZXQgPSBjb250ZXh0LnRhcmdldDtcblxuICAgIGlmICghY29ubmVjdGlvblN0YXJ0KSB7XG4gICAgICBjb25uZWN0aW9uU3RhcnQgPSBpc1JldmVyc2UoY29udGV4dCkgPyB7XG4gICAgICAgIHg6IGV2ZW50LngsXG4gICAgICAgIHk6IGV2ZW50LnlcbiAgICAgIH0gOiBzdGFydFBvc2l0aW9uO1xuICAgIH1cblxuICAgIGlmICghY29ubmVjdGlvbkVuZCkge1xuICAgICAgY29ubmVjdGlvbkVuZCA9IGlzUmV2ZXJzZShjb250ZXh0KSA/IHN0YXJ0UG9zaXRpb24gOiB7XG4gICAgICAgIHg6IGV2ZW50LngsXG4gICAgICAgIHk6IGV2ZW50LnlcbiAgICAgIH07XG4gICAgfVxuXG4gICAgY29ubmVjdGlvblByZXZpZXcuZHJhd1ByZXZpZXcoY29udGV4dCwgY2FuQ29ubmVjdCwge1xuICAgICAgc291cmNlOiBzb3VyY2UgfHwgc3RhcnQsXG4gICAgICB0YXJnZXQ6IHRhcmdldCB8fCBob3ZlcixcbiAgICAgIGNvbm5lY3Rpb25TdGFydDogY29ubmVjdGlvblN0YXJ0LFxuICAgICAgY29ubmVjdGlvbkVuZDogY29ubmVjdGlvbkVuZFxuICAgIH0pO1xuICB9KTtcblxuICBldmVudEJ1cy5vbignY29ubmVjdC5ob3ZlcicsIExPV19QUklPUklUWSwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgY29udGV4dCA9IGV2ZW50LmNvbnRleHQsXG4gICAgICAgIGhvdmVyID0gZXZlbnQuaG92ZXIsXG4gICAgICAgIGNhbkV4ZWN1dGUgPSBjb250ZXh0LmNhbkV4ZWN1dGU7XG5cbiAgICAvLyBpZ25vcmUgaG92ZXJcbiAgICBpZiAoY2FuRXhlY3V0ZSA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNhbnZhcy5hZGRNYXJrZXIoaG92ZXIsIGNhbkV4ZWN1dGUgPyBNQVJLRVJfT0sgOiBNQVJLRVJfTk9UX09LKTtcbiAgfSk7XG5cbiAgZXZlbnRCdXMub24oW1xuICAgICdjb25uZWN0Lm91dCcsXG4gICAgJ2Nvbm5lY3QuY2xlYW51cCdcbiAgXSwgSElHSF9QUklPUklUWSwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgaG92ZXIgPSBldmVudC5ob3ZlcjtcblxuICAgIGlmIChob3Zlcikge1xuICAgICAgY2FudmFzLnJlbW92ZU1hcmtlcihob3ZlciwgTUFSS0VSX09LKTtcbiAgICAgIGNhbnZhcy5yZW1vdmVNYXJrZXIoaG92ZXIsIE1BUktFUl9OT1RfT0spO1xuICAgIH1cbiAgfSk7XG5cbiAgY29ubmVjdGlvblByZXZpZXcgJiYgZXZlbnRCdXMub24oJ2Nvbm5lY3QuY2xlYW51cCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgY29ubmVjdGlvblByZXZpZXcuY2xlYW5VcChldmVudC5jb250ZXh0KTtcbiAgfSk7XG59XG5cbkNvbm5lY3RQcmV2aWV3LiRpbmplY3QgPSBbXG4gICdpbmplY3RvcicsXG4gICdldmVudEJ1cycsXG4gICdjYW52YXMnXG5dO1xuIiwiaW1wb3J0IFNlbGVjdGlvbk1vZHVsZSBmcm9tICcuLi9zZWxlY3Rpb24nO1xuaW1wb3J0IFJ1bGVzTW9kdWxlIGZyb20gJy4uL3J1bGVzJztcbmltcG9ydCBEcmFnZ2luZ01vZHVsZSBmcm9tICcuLi9kcmFnZ2luZyc7XG5cbmltcG9ydCBDb25uZWN0IGZyb20gJy4vQ29ubmVjdCc7XG5pbXBvcnQgQ29ubmVjdFByZXZpZXcgZnJvbSAnLi9Db25uZWN0UHJldmlldyc7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgX19kZXBlbmRzX186IFtcbiAgICBTZWxlY3Rpb25Nb2R1bGUsXG4gICAgUnVsZXNNb2R1bGUsXG4gICAgRHJhZ2dpbmdNb2R1bGVcbiAgXSxcbiAgX19pbml0X186IFtcbiAgICAnY29ubmVjdFByZXZpZXcnXG4gIF0sXG4gIGNvbm5lY3Q6IFsgJ3R5cGUnLCBDb25uZWN0IF0sXG4gIGNvbm5lY3RQcmV2aWV3OiBbICd0eXBlJywgQ29ubmVjdFByZXZpZXcgXVxufTtcbiIsImltcG9ydCB7XG4gIGFwcGVuZCBhcyBzdmdBcHBlbmQsXG4gIGF0dHIgYXMgc3ZnQXR0cixcbiAgY2xhc3NlcyBhcyBzdmdDbGFzc2VzLFxuICBjcmVhdGUgYXMgc3ZnQ3JlYXRlLFxuICByZW1vdmUgYXMgc3ZnUmVtb3ZlLFxuICBjbGVhciBhcyBzdmdDbGVhclxufSBmcm9tICd0aW55LXN2Zyc7XG5cbmltcG9ydCB7XG4gIGlzT2JqZWN0XG59IGZyb20gJ21pbi1kYXNoJztcblxuaW1wb3J0IHtcbiAgZ2V0RWxlbWVudExpbmVJbnRlcnNlY3Rpb24sXG4gIGdldE1pZFxufSBmcm9tICcuLi8uLi9sYXlvdXQvTGF5b3V0VXRpbCc7XG5cblxudmFyIE1BUktFUl9DT05ORUNUSU9OX1BSRVZJRVcgPSAnZGpzLWNvbm5lY3Rpb24tcHJldmlldyc7XG5cbi8qKlxuICogRHJhd3MgY29ubmVjdGlvbiBwcmV2aWV3LiBPcHRpb25hbGx5LCB0aGlzIGNhbiB1c2UgbGF5b3V0ZXIgYW5kIGNvbm5lY3Rpb24gZG9ja2luZyB0byBkcmF3XG4gKiBiZXR0ZXIgbG9va2luZyBwcmV2aWV3cy5cbiAqXG4gKiBAcGFyYW0ge2RpZGkuSW5qZWN0b3J9IGluamVjdG9yXG4gKiBAcGFyYW0ge0NhbnZhc30gY2FudmFzXG4gKiBAcGFyYW0ge0dyYXBoaWNzRmFjdG9yeX0gZ3JhcGhpY3NGYWN0b3J5XG4gKiBAcGFyYW0ge0VsZW1lbnRGYWN0b3J5fSBlbGVtZW50RmFjdG9yeVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDb25uZWN0aW9uUHJldmlldyhcbiAgICBpbmplY3RvcixcbiAgICBjYW52YXMsXG4gICAgZ3JhcGhpY3NGYWN0b3J5LFxuICAgIGVsZW1lbnRGYWN0b3J5XG4pIHtcbiAgdGhpcy5fY2FudmFzID0gY2FudmFzO1xuICB0aGlzLl9ncmFwaGljc0ZhY3RvcnkgPSBncmFwaGljc0ZhY3Rvcnk7XG4gIHRoaXMuX2VsZW1lbnRGYWN0b3J5ID0gZWxlbWVudEZhY3Rvcnk7XG5cbiAgLy8gb3B0aW9uYWwgY29tcG9uZW50c1xuICB0aGlzLl9jb25uZWN0aW9uRG9ja2luZyA9IGluamVjdG9yLmdldCgnY29ubmVjdGlvbkRvY2tpbmcnLCBmYWxzZSk7XG4gIHRoaXMuX2xheW91dGVyID0gaW5qZWN0b3IuZ2V0KCdsYXlvdXRlcicsIGZhbHNlKTtcbn1cblxuQ29ubmVjdGlvblByZXZpZXcuJGluamVjdCA9IFtcbiAgJ2luamVjdG9yJyxcbiAgJ2NhbnZhcycsXG4gICdncmFwaGljc0ZhY3RvcnknLFxuICAnZWxlbWVudEZhY3RvcnknXG5dO1xuXG4vKipcbiAqIERyYXcgY29ubmVjdGlvbiBwcmV2aWV3LlxuICpcbiAqIFByb3ZpZGUgYXQgbGVhc3Qgb25lIG9mIDxzb3VyY2UsIGNvbm5lY3Rpb25TdGFydD4gYW5kIDx0YXJnZXQsIGNvbm5lY3Rpb25FbmQ+IHRvIGNyZWF0ZSBhIHByZXZpZXcuXG4gKiBJbiB0aGUgY2xlYW4gdXAgc3RhZ2UsIGNhbGwgYGNvbm5lY3Rpb25QcmV2aWV3I2NsZWFuVXBgIHdpdGggdGhlIGNvbnRleHQgdG8gcmVtb3ZlIHByZXZpZXcuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHRcbiAqIEBwYXJhbSB7T2JqZWN0fGJvb2xlYW59IGNhbkNvbm5lY3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBoaW50c1xuICogQHBhcmFtIHtkanMubW9kZWwuc2hhcGV9IFtoaW50cy5zb3VyY2VdIHNvdXJjZSBlbGVtZW50XG4gKiBAcGFyYW0ge2Rqcy5tb2RlbC5zaGFwZX0gW2hpbnRzLnRhcmdldF0gdGFyZ2V0IGVsZW1lbnRcbiAqIEBwYXJhbSB7UG9pbnR9IFtoaW50cy5jb25uZWN0aW9uU3RhcnRdIGNvbm5lY3Rpb24gcHJldmlldyBzdGFydFxuICogQHBhcmFtIHtQb2ludH0gW2hpbnRzLmNvbm5lY3Rpb25FbmRdIGNvbm5lY3Rpb24gcHJldmlldyBlbmRcbiAqIEBwYXJhbSB7QXJyYXk8UG9pbnQ+fSBbaGludHMud2F5cG9pbnRzXSBwcm92aWRlZCB3YXlwb2ludHMgZm9yIHByZXZpZXdcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2hpbnRzLm5vTGF5b3V0XSB0cnVlIGlmIHByZXZpZXcgc2hvdWxkIG5vdCBiZSBsYWlkIG91dFxuICogQHBhcmFtIHtib29sZWFufSBbaGludHMubm9Dcm9wcGluZ10gdHJ1ZSBpZiBwcmV2aWV3IHNob3VsZCBub3QgYmUgY3JvcHBlZFxuICogQHBhcmFtIHtib29sZWFufSBbaGludHMubm9Ob29wXSB0cnVlIGlmIHNpbXBsZSBjb25uZWN0aW9uIHNob3VsZCBub3QgYmUgZHJhd25cbiAqL1xuQ29ubmVjdGlvblByZXZpZXcucHJvdG90eXBlLmRyYXdQcmV2aWV3ID0gZnVuY3Rpb24oY29udGV4dCwgY2FuQ29ubmVjdCwgaGludHMpIHtcblxuICBoaW50cyA9IGhpbnRzIHx8IHt9O1xuXG4gIHZhciBjb25uZWN0aW9uUHJldmlld0dmeCA9IGNvbnRleHQuY29ubmVjdGlvblByZXZpZXdHZngsXG4gICAgICBnZXRDb25uZWN0aW9uID0gY29udGV4dC5nZXRDb25uZWN0aW9uLFxuICAgICAgc291cmNlID0gaGludHMuc291cmNlLFxuICAgICAgdGFyZ2V0ID0gaGludHMudGFyZ2V0LFxuICAgICAgd2F5cG9pbnRzID0gaGludHMud2F5cG9pbnRzLFxuICAgICAgY29ubmVjdGlvblN0YXJ0ID0gaGludHMuY29ubmVjdGlvblN0YXJ0LFxuICAgICAgY29ubmVjdGlvbkVuZCA9IGhpbnRzLmNvbm5lY3Rpb25FbmQsXG4gICAgICBub0xheW91dCA9IGhpbnRzLm5vTGF5b3V0LFxuICAgICAgbm9Dcm9wcGluZyA9IGhpbnRzLm5vQ3JvcHBpbmcsXG4gICAgICBub05vb3AgPSBoaW50cy5ub05vb3AsXG4gICAgICBjb25uZWN0aW9uO1xuXG4gIHZhciBzZWxmID0gdGhpcztcblxuICBpZiAoIWNvbm5lY3Rpb25QcmV2aWV3R2Z4KSB7XG4gICAgY29ubmVjdGlvblByZXZpZXdHZnggPSBjb250ZXh0LmNvbm5lY3Rpb25QcmV2aWV3R2Z4ID0gdGhpcy5jcmVhdGVDb25uZWN0aW9uUHJldmlld0dmeCgpO1xuICB9XG5cbiAgc3ZnQ2xlYXIoY29ubmVjdGlvblByZXZpZXdHZngpO1xuXG4gIGlmICghZ2V0Q29ubmVjdGlvbikge1xuICAgIGdldENvbm5lY3Rpb24gPSBjb250ZXh0LmdldENvbm5lY3Rpb24gPSBjYWNoZVJldHVyblZhbHVlcyhmdW5jdGlvbihjYW5Db25uZWN0LCBzb3VyY2UsIHRhcmdldCkge1xuICAgICAgcmV0dXJuIHNlbGYuZ2V0Q29ubmVjdGlvbihjYW5Db25uZWN0LCBzb3VyY2UsIHRhcmdldCk7XG4gICAgfSk7XG4gIH1cblxuICBpZiAoY2FuQ29ubmVjdCkge1xuICAgIGNvbm5lY3Rpb24gPSBnZXRDb25uZWN0aW9uKGNhbkNvbm5lY3QsIHNvdXJjZSwgdGFyZ2V0KTtcbiAgfVxuXG4gIGlmICghY29ubmVjdGlvbikge1xuICAgICFub05vb3AgJiYgdGhpcy5kcmF3Tm9vcFByZXZpZXcoY29ubmVjdGlvblByZXZpZXdHZngsIGhpbnRzKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25uZWN0aW9uLndheXBvaW50cyA9IHdheXBvaW50cyB8fCBbXTtcblxuICAvLyBvcHRpb25hbCBsYXlvdXRcbiAgaWYgKHRoaXMuX2xheW91dGVyICYmICFub0xheW91dCkge1xuICAgIGNvbm5lY3Rpb24ud2F5cG9pbnRzID0gdGhpcy5fbGF5b3V0ZXIubGF5b3V0Q29ubmVjdGlvbihjb25uZWN0aW9uLCB7XG4gICAgICBzb3VyY2U6IHNvdXJjZSxcbiAgICAgIHRhcmdldDogdGFyZ2V0LFxuICAgICAgY29ubmVjdGlvblN0YXJ0OiBjb25uZWN0aW9uU3RhcnQsXG4gICAgICBjb25uZWN0aW9uRW5kOiBjb25uZWN0aW9uRW5kLFxuICAgICAgd2F5cG9pbnRzOiBoaW50cy53YXlwb2ludHMgfHwgY29ubmVjdGlvbi53YXlwb2ludHNcbiAgICB9KTtcbiAgfVxuXG4gIC8vIGZhbGxiYWNrIGlmIG5vIHdheXBvaW50cyB3ZXJlIHByb3ZpZGVkIG5vciBjcmVhdGVkIHdpdGggbGF5b3V0ZXJcbiAgaWYgKCFjb25uZWN0aW9uLndheXBvaW50cyB8fCAhY29ubmVjdGlvbi53YXlwb2ludHMubGVuZ3RoKSB7XG4gICAgY29ubmVjdGlvbi53YXlwb2ludHMgPSBbXG4gICAgICBzb3VyY2UgPyBnZXRNaWQoc291cmNlKSA6IGNvbm5lY3Rpb25TdGFydCxcbiAgICAgIHRhcmdldCA/IGdldE1pZCh0YXJnZXQpIDogY29ubmVjdGlvbkVuZFxuICAgIF07XG4gIH1cblxuICAvLyBvcHRpb25hbCBjcm9wcGluZ1xuICBpZiAodGhpcy5fY29ubmVjdGlvbkRvY2tpbmcgJiYgKHNvdXJjZSB8fCB0YXJnZXQpICYmICFub0Nyb3BwaW5nKSB7XG4gICAgY29ubmVjdGlvbi53YXlwb2ludHMgPSB0aGlzLl9jb25uZWN0aW9uRG9ja2luZy5nZXRDcm9wcGVkV2F5cG9pbnRzKGNvbm5lY3Rpb24sIHNvdXJjZSwgdGFyZ2V0KTtcbiAgfVxuXG4gIHRoaXMuX2dyYXBoaWNzRmFjdG9yeS5kcmF3Q29ubmVjdGlvbihjb25uZWN0aW9uUHJldmlld0dmeCwgY29ubmVjdGlvbik7XG59O1xuXG4vKipcbiAqIERyYXcgc2ltcGxlIGNvbm5lY3Rpb24gYmV0d2VlbiBzb3VyY2UgYW5kIHRhcmdldCBvciBwcm92aWRlZCBwb2ludHMuXG4gKlxuICogQHBhcmFtIHtTVkdFbGVtZW50fSBjb25uZWN0aW9uUHJldmlld0dmeCBjb250YWluZXIgZm9yIHRoZSBjb25uZWN0aW9uXG4gKiBAcGFyYW0ge09iamVjdH0gaGludHNcbiAqIEBwYXJhbSB7ZGpzLm1vZGVsLnNoYXBlfSBbaGludHMuc291cmNlXSBzb3VyY2UgZWxlbWVudFxuICogQHBhcmFtIHtkanMubW9kZWwuc2hhcGV9IFtoaW50cy50YXJnZXRdIHRhcmdldCBlbGVtZW50XG4gKiBAcGFyYW0ge1BvaW50fSBbaGludHMuY29ubmVjdGlvblN0YXJ0XSByZXF1aXJlZCBpZiBzb3VyY2UgaXMgbm90IHByb3ZpZGVkXG4gKiBAcGFyYW0ge1BvaW50fSBbaGludHMuY29ubmVjdGlvbkVuZF0gcmVxdWlyZWQgaWYgdGFyZ2V0IGlzIG5vdCBwcm92aWRlZFxuICovXG5Db25uZWN0aW9uUHJldmlldy5wcm90b3R5cGUuZHJhd05vb3BQcmV2aWV3ID0gZnVuY3Rpb24oY29ubmVjdGlvblByZXZpZXdHZngsIGhpbnRzKSB7XG4gIHZhciBzb3VyY2UgPSBoaW50cy5zb3VyY2UsXG4gICAgICB0YXJnZXQgPSBoaW50cy50YXJnZXQsXG4gICAgICBzdGFydCA9IGhpbnRzLmNvbm5lY3Rpb25TdGFydCB8fCBnZXRNaWQoc291cmNlKSxcbiAgICAgIGVuZCA9IGhpbnRzLmNvbm5lY3Rpb25FbmQgfHwgZ2V0TWlkKHRhcmdldCk7XG5cbiAgdmFyIHdheXBvaW50cyA9IHRoaXMuY3JvcFdheXBvaW50cyhzdGFydCwgZW5kLCBzb3VyY2UsIHRhcmdldCk7XG5cbiAgdmFyIGNvbm5lY3Rpb24gPSB0aGlzLmNyZWF0ZU5vb3BDb25uZWN0aW9uKHdheXBvaW50c1swXSwgd2F5cG9pbnRzWzFdKTtcblxuICBzdmdBcHBlbmQoY29ubmVjdGlvblByZXZpZXdHZngsIGNvbm5lY3Rpb24pO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gY3JvcHBlZCB3YXlwb2ludHMuXG4gKlxuICogQHBhcmFtIHtQb2ludH0gc3RhcnRcbiAqIEBwYXJhbSB7UG9pbnR9IGVuZFxuICogQHBhcmFtIHtkanMubW9kZWwuc2hhcGV9IHNvdXJjZVxuICogQHBhcmFtIHtkanMubW9kZWwuc2hhcGV9IHRhcmdldFxuICpcbiAqIEByZXR1cm5zIHtBcnJheX1cbiAqL1xuQ29ubmVjdGlvblByZXZpZXcucHJvdG90eXBlLmNyb3BXYXlwb2ludHMgPSBmdW5jdGlvbihzdGFydCwgZW5kLCBzb3VyY2UsIHRhcmdldCkge1xuICB2YXIgZ3JhcGhpY3NGYWN0b3J5ID0gdGhpcy5fZ3JhcGhpY3NGYWN0b3J5LFxuICAgICAgc291cmNlUGF0aCA9IHNvdXJjZSAmJiBncmFwaGljc0ZhY3RvcnkuZ2V0U2hhcGVQYXRoKHNvdXJjZSksXG4gICAgICB0YXJnZXRQYXRoID0gdGFyZ2V0ICYmIGdyYXBoaWNzRmFjdG9yeS5nZXRTaGFwZVBhdGgodGFyZ2V0KSxcbiAgICAgIGNvbm5lY3Rpb25QYXRoID0gZ3JhcGhpY3NGYWN0b3J5LmdldENvbm5lY3Rpb25QYXRoKHsgd2F5cG9pbnRzOiBbIHN0YXJ0LCBlbmQgXSB9KTtcblxuICBzdGFydCA9IChzb3VyY2UgJiYgZ2V0RWxlbWVudExpbmVJbnRlcnNlY3Rpb24oc291cmNlUGF0aCwgY29ubmVjdGlvblBhdGgsIHRydWUpKSB8fCBzdGFydDtcbiAgZW5kID0gKHRhcmdldCAmJiBnZXRFbGVtZW50TGluZUludGVyc2VjdGlvbih0YXJnZXRQYXRoLCBjb25uZWN0aW9uUGF0aCwgZmFsc2UpKSB8fCBlbmQ7XG5cbiAgcmV0dXJuIFsgc3RhcnQsIGVuZCBdO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgY29ubmVjdGlvbiBwcmV2aWV3IGNvbnRhaW5lciBpZiBpdCBleGlzdHMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IFtjb250ZXh0XVxuICogQHBhcmFtIHtTVkdFbGVtZW50fSBbY29udGV4dC5jb25uZWN0aW9uUHJldmlld0dmeF0gcHJldmlldyBjb250YWluZXJcbiAqL1xuQ29ubmVjdGlvblByZXZpZXcucHJvdG90eXBlLmNsZWFuVXAgPSBmdW5jdGlvbihjb250ZXh0KSB7XG4gIGlmIChjb250ZXh0ICYmIGNvbnRleHQuY29ubmVjdGlvblByZXZpZXdHZngpIHtcbiAgICBzdmdSZW1vdmUoY29udGV4dC5jb25uZWN0aW9uUHJldmlld0dmeCk7XG4gIH1cbn07XG5cbi8qKlxuICogR2V0IGNvbm5lY3Rpb24gdGhhdCBjb25uZWN0cyBzb3VyY2UgYW5kIHRhcmdldC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdHxib29sZWFufSBjYW5Db25uZWN0XG4gKlxuICogQHJldHVybnMge2Rqcy5tb2RlbC5jb25uZWN0aW9ufVxuICovXG5Db25uZWN0aW9uUHJldmlldy5wcm90b3R5cGUuZ2V0Q29ubmVjdGlvbiA9IGZ1bmN0aW9uKGNhbkNvbm5lY3QpIHtcbiAgdmFyIGF0dHJzID0gZW5zdXJlQ29ubmVjdGlvbkF0dHJzKGNhbkNvbm5lY3QpO1xuXG4gIHJldHVybiB0aGlzLl9lbGVtZW50RmFjdG9yeS5jcmVhdGVDb25uZWN0aW9uKGF0dHJzKTtcbn07XG5cblxuLyoqXG4gKiBBZGQgYW5kIHJldHVybiBwcmV2aWV3IGdyYXBoaWNzLlxuICpcbiAqIEByZXR1cm5zIHtTVkdFbGVtZW50fVxuICovXG5Db25uZWN0aW9uUHJldmlldy5wcm90b3R5cGUuY3JlYXRlQ29ubmVjdGlvblByZXZpZXdHZnggPSBmdW5jdGlvbigpIHtcbiAgdmFyIGdmeCA9IHN2Z0NyZWF0ZSgnZycpO1xuXG4gIHN2Z0F0dHIoZ2Z4LCB7XG4gICAgcG9pbnRlckV2ZW50czogJ25vbmUnXG4gIH0pO1xuXG4gIHN2Z0NsYXNzZXMoZ2Z4KS5hZGQoTUFSS0VSX0NPTk5FQ1RJT05fUFJFVklFVyk7XG5cbiAgc3ZnQXBwZW5kKHRoaXMuX2NhbnZhcy5nZXREZWZhdWx0TGF5ZXIoKSwgZ2Z4KTtcblxuICByZXR1cm4gZ2Z4O1xufTtcblxuLyoqXG4gKiBDcmVhdGUgYW5kIHJldHVybiBzaW1wbGUgY29ubmVjdGlvbi5cbiAqXG4gKiBAcGFyYW0ge1BvaW50fSBzdGFydFxuICogQHBhcmFtIHtQb2ludH0gZW5kXG4gKlxuICogQHJldHVybnMge1NWR0VsZW1lbnR9XG4gKi9cbkNvbm5lY3Rpb25QcmV2aWV3LnByb3RvdHlwZS5jcmVhdGVOb29wQ29ubmVjdGlvbiA9IGZ1bmN0aW9uKHN0YXJ0LCBlbmQpIHtcbiAgdmFyIGNvbm5lY3Rpb24gPSBzdmdDcmVhdGUoJ3BvbHlsaW5lJyk7XG5cbiAgc3ZnQXR0cihjb25uZWN0aW9uLCB7XG4gICAgJ3N0cm9rZSc6ICcjMzMzJyxcbiAgICAnc3Ryb2tlRGFzaGFycmF5JzogWyAxIF0sXG4gICAgJ3N0cm9rZVdpZHRoJzogMixcbiAgICAncG9pbnRlci1ldmVudHMnOiAnbm9uZSdcbiAgfSk7XG5cbiAgc3ZnQXR0cihjb25uZWN0aW9uLCB7ICdwb2ludHMnOiBbIHN0YXJ0LngsIHN0YXJ0LnksIGVuZC54LCBlbmQueSBdIH0pO1xuXG4gIHJldHVybiBjb25uZWN0aW9uO1xufTtcblxuLy8gaGVscGVycyAvLy8vLy8vLy8vXG5cbi8qKlxuICogUmV0dXJucyBmdW5jdGlvbiB0aGF0IHJldHVybnMgY2FjaGVkIHJldHVybiB2YWx1ZXMgcmVmZXJlbmNlZCBieSBzdHJpbmdpZmllZCBmaXJzdCBhcmd1bWVudC5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICpcbiAqIEByZXR1cm4ge0Z1bmN0aW9ufVxuICovXG5mdW5jdGlvbiBjYWNoZVJldHVyblZhbHVlcyhmbikge1xuICB2YXIgcmV0dXJuVmFsdWVzID0ge307XG5cbiAgLyoqXG4gICAqIFJldHVybiBjYWNoZWQgcmV0dXJuIHZhbHVlIHJlZmVyZW5jZWQgYnkgc3RyaW5naWZpZWQgZmlyc3QgYXJndW1lbnQuXG4gICAqXG4gICAqIEByZXR1cm5zIHsqfVxuICAgKi9cbiAgcmV0dXJuIGZ1bmN0aW9uKGZpcnN0QXJndW1lbnQpIHtcbiAgICB2YXIga2V5ID0gSlNPTi5zdHJpbmdpZnkoZmlyc3RBcmd1bWVudCk7XG5cbiAgICB2YXIgcmV0dXJuVmFsdWUgPSByZXR1cm5WYWx1ZXNba2V5XTtcblxuICAgIGlmICghcmV0dXJuVmFsdWUpIHtcbiAgICAgIHJldHVyblZhbHVlID0gcmV0dXJuVmFsdWVzW2tleV0gPSBmbi5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICAgIH1cblxuICAgIHJldHVybiByZXR1cm5WYWx1ZTtcbiAgfTtcbn1cblxuLyoqXG4gKiBFbnN1cmUgY29ubmVjdGlvbiBhdHRyaWJ1dGVzIGlzIG9iamVjdC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdHxib29sZWFufSBjYW5Db25uZWN0XG4gKlxuICogQHJldHVybnMge09iamVjdH1cbiAqL1xuZnVuY3Rpb24gZW5zdXJlQ29ubmVjdGlvbkF0dHJzKGNhbkNvbm5lY3QpIHtcbiAgaWYgKGlzT2JqZWN0KGNhbkNvbm5lY3QpKSB7XG4gICAgcmV0dXJuIGNhbkNvbm5lY3Q7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHt9O1xuICB9XG59XG4iLCJpbXBvcnQgQ29ubmVjdGlvblByZXZpZXcgZnJvbSAnLi9Db25uZWN0aW9uUHJldmlldyc7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgX19pbml0X186IFsgJ2Nvbm5lY3Rpb25QcmV2aWV3JyBdLFxuICBjb25uZWN0aW9uUHJldmlldzogWyAndHlwZScsIENvbm5lY3Rpb25QcmV2aWV3IF1cbn07XG4iLCJpbXBvcnQge1xuICBhc3NpZ24sXG4gIGlzRnVuY3Rpb24sXG4gIGlzQXJyYXksXG4gIGZvckVhY2gsXG4gIGlzRGVmaW5lZFxufSBmcm9tICdtaW4tZGFzaCc7XG5cbmltcG9ydCB7XG4gIGRlbGVnYXRlIGFzIGRvbURlbGVnYXRlLFxuICBldmVudCBhcyBkb21FdmVudCxcbiAgYXR0ciBhcyBkb21BdHRyLFxuICBxdWVyeSBhcyBkb21RdWVyeSxcbiAgY2xhc3NlcyBhcyBkb21DbGFzc2VzLFxuICBkb21pZnkgYXMgZG9taWZ5XG59IGZyb20gJ21pbi1kb20nO1xuXG52YXIgZW50cnlTZWxlY3RvciA9ICcuZW50cnknO1xuXG52YXIgREVGQVVMVF9QUklPUklUWSA9IDEwMDA7XG5cblxuLyoqXG4gKiBBIGNvbnRleHQgcGFkIHRoYXQgZGlzcGxheXMgZWxlbWVudCBzcGVjaWZpYywgY29udGV4dHVhbCBhY3Rpb25zIG5leHRcbiAqIHRvIGEgZGlhZ3JhbSBlbGVtZW50LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWdcbiAqIEBwYXJhbSB7Ym9vbGVhbnxPYmplY3R9IFtjb25maWcuc2NhbGU9eyBtaW46IDEuMCwgbWF4OiAxLjUgfV1cbiAqIEBwYXJhbSB7bnVtYmVyfSBbY29uZmlnLnNjYWxlLm1pbl1cbiAqIEBwYXJhbSB7bnVtYmVyfSBbY29uZmlnLnNjYWxlLm1heF1cbiAqIEBwYXJhbSB7RXZlbnRCdXN9IGV2ZW50QnVzXG4gKiBAcGFyYW0ge092ZXJsYXlzfSBvdmVybGF5c1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDb250ZXh0UGFkKGNvbmZpZywgZXZlbnRCdXMsIG92ZXJsYXlzKSB7XG5cbiAgdGhpcy5fZXZlbnRCdXMgPSBldmVudEJ1cztcbiAgdGhpcy5fb3ZlcmxheXMgPSBvdmVybGF5cztcblxuICB2YXIgc2NhbGUgPSBpc0RlZmluZWQoY29uZmlnICYmIGNvbmZpZy5zY2FsZSkgPyBjb25maWcuc2NhbGUgOiB7XG4gICAgbWluOiAxLFxuICAgIG1heDogMS41XG4gIH07XG5cbiAgdGhpcy5fb3ZlcmxheXNDb25maWcgPSB7XG4gICAgcG9zaXRpb246IHtcbiAgICAgIHJpZ2h0OiAtOSxcbiAgICAgIHRvcDogLTZcbiAgICB9LFxuICAgIHNjYWxlOiBzY2FsZVxuICB9O1xuXG4gIHRoaXMuX2N1cnJlbnQgPSBudWxsO1xuXG4gIHRoaXMuX2luaXQoKTtcbn1cblxuQ29udGV4dFBhZC4kaW5qZWN0ID0gW1xuICAnY29uZmlnLmNvbnRleHRQYWQnLFxuICAnZXZlbnRCdXMnLFxuICAnb3ZlcmxheXMnXG5dO1xuXG5cbi8qKlxuICogUmVnaXN0ZXJzIGV2ZW50cyBuZWVkZWQgZm9yIGludGVyYWN0aW9uIHdpdGggb3RoZXIgY29tcG9uZW50c1xuICovXG5Db250ZXh0UGFkLnByb3RvdHlwZS5faW5pdCA9IGZ1bmN0aW9uKCkge1xuXG4gIHZhciBldmVudEJ1cyA9IHRoaXMuX2V2ZW50QnVzO1xuXG4gIHZhciBzZWxmID0gdGhpcztcblxuICBldmVudEJ1cy5vbignc2VsZWN0aW9uLmNoYW5nZWQnLCBmdW5jdGlvbihlKSB7XG5cbiAgICB2YXIgc2VsZWN0aW9uID0gZS5uZXdTZWxlY3Rpb247XG5cbiAgICBpZiAoc2VsZWN0aW9uLmxlbmd0aCA9PT0gMSkge1xuICAgICAgc2VsZi5vcGVuKHNlbGVjdGlvblswXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNlbGYuY2xvc2UoKTtcbiAgICB9XG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKCdlbGVtZW50cy5kZWxldGUnLCBmdW5jdGlvbihldmVudCkge1xuICAgIHZhciBlbGVtZW50cyA9IGV2ZW50LmVsZW1lbnRzO1xuXG4gICAgZm9yRWFjaChlbGVtZW50cywgZnVuY3Rpb24oZSkge1xuICAgICAgaWYgKHNlbGYuaXNPcGVuKGUpKSB7XG4gICAgICAgIHNlbGYuY2xvc2UoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG5cbiAgZXZlbnRCdXMub24oJ2VsZW1lbnQuY2hhbmdlZCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIGVsZW1lbnQgPSBldmVudC5lbGVtZW50LFxuICAgICAgICBjdXJyZW50ID0gc2VsZi5fY3VycmVudDtcblxuICAgIC8vIGZvcmNlIHJlb3BlbiBpZiBlbGVtZW50IGZvciB3aGljaCB3ZSBhcmUgY3VycmVudGx5IG9wZW5lZCBjaGFuZ2VkXG4gICAgaWYgKGN1cnJlbnQgJiYgY3VycmVudC5lbGVtZW50ID09PSBlbGVtZW50KSB7XG4gICAgICBzZWxmLm9wZW4oZWxlbWVudCwgdHJ1ZSk7XG4gICAgfVxuICB9KTtcbn07XG5cblxuLyoqXG4gKiBSZWdpc3RlciBhIHByb3ZpZGVyIHdpdGggdGhlIGNvbnRleHQgcGFkXG4gKlxuICogQHBhcmFtICB7bnVtYmVyfSBbcHJpb3JpdHk9MTAwMF1cbiAqIEBwYXJhbSAge0NvbnRleHRQYWRQcm92aWRlcn0gcHJvdmlkZXJcbiAqXG4gKiBAZXhhbXBsZVxuICogY29uc3QgY29udGV4dFBhZFByb3ZpZGVyID0ge1xuICAqICAgZ2V0Q29udGV4dFBhZEVudHJpZXM6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgKiAgICAgcmV0dXJuIGZ1bmN0aW9uKGVudHJpZXMpIHtcbiAgKiAgICAgICByZXR1cm4ge1xuICAqICAgICAgICAgLi4uZW50cmllcyxcbiAgKiAgICAgICAgICdlbnRyeS0xJzoge1xuICAqICAgICAgICAgICBsYWJlbDogJ015IEVudHJ5JyxcbiAgKiAgICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbigpIHsgYWxlcnQoXCJJIGhhdmUgYmVlbiBjbGlja2VkIVwiKTsgfVxuICAqICAgICAgICAgfVxuICAqICAgICAgIH07XG4gICogICAgIH1cbiAgKiAgIH1cbiAgKiB9O1xuICAqXG4gKiBjb250ZXh0UGFkLnJlZ2lzdGVyUHJvdmlkZXIoODAwLCBjb250ZXh0UGFkUHJvdmlkZXIpO1xuICovXG5Db250ZXh0UGFkLnByb3RvdHlwZS5yZWdpc3RlclByb3ZpZGVyID0gZnVuY3Rpb24ocHJpb3JpdHksIHByb3ZpZGVyKSB7XG4gIGlmICghcHJvdmlkZXIpIHtcbiAgICBwcm92aWRlciA9IHByaW9yaXR5O1xuICAgIHByaW9yaXR5ID0gREVGQVVMVF9QUklPUklUWTtcbiAgfVxuXG4gIHRoaXMuX2V2ZW50QnVzLm9uKCdjb250ZXh0UGFkLmdldFByb3ZpZGVycycsIHByaW9yaXR5LCBmdW5jdGlvbihldmVudCkge1xuICAgIGV2ZW50LnByb3ZpZGVycy5wdXNoKHByb3ZpZGVyKTtcbiAgfSk7XG59O1xuXG5cbi8qKlxuICogUmV0dXJucyB0aGUgY29udGV4dCBwYWQgZW50cmllcyBmb3IgYSBnaXZlbiBlbGVtZW50XG4gKlxuICogQHBhcmFtIHtkanMuZWxlbWVudC5CYXNlfSBlbGVtZW50XG4gKlxuICogQHJldHVybiB7QXJyYXk8Q29udGV4dFBhZEVudHJ5RGVzY3JpcHRvcj59IGxpc3Qgb2YgZW50cmllc1xuICovXG5Db250ZXh0UGFkLnByb3RvdHlwZS5nZXRFbnRyaWVzID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICB2YXIgcHJvdmlkZXJzID0gdGhpcy5fZ2V0UHJvdmlkZXJzKCk7XG5cbiAgdmFyIGVudHJpZXMgPSB7fTtcblxuICAvLyBsb29wIHRocm91Z2ggYWxsIHByb3ZpZGVycyBhbmQgdGhlaXIgZW50cmllcy5cbiAgLy8gZ3JvdXAgZW50cmllcyBieSBpZCBzbyB0aGF0IG92ZXJyaWRpbmcgYW4gZW50cnkgaXMgcG9zc2libGVcbiAgZm9yRWFjaChwcm92aWRlcnMsIGZ1bmN0aW9uKHByb3ZpZGVyKSB7XG4gICAgdmFyIGVudHJpZXNPclVwZGF0ZXIgPSBwcm92aWRlci5nZXRDb250ZXh0UGFkRW50cmllcyhlbGVtZW50KTtcblxuICAgIGlmIChpc0Z1bmN0aW9uKGVudHJpZXNPclVwZGF0ZXIpKSB7XG4gICAgICBlbnRyaWVzID0gZW50cmllc09yVXBkYXRlcihlbnRyaWVzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZm9yRWFjaChlbnRyaWVzT3JVcGRhdGVyLCBmdW5jdGlvbihlbnRyeSwgaWQpIHtcbiAgICAgICAgZW50cmllc1tpZF0gPSBlbnRyeTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIGVudHJpZXM7XG59O1xuXG5cbi8qKlxuICogVHJpZ2dlciBhbiBhY3Rpb24gYXZhaWxhYmxlIG9uIHRoZSBvcGVuZWQgY29udGV4dCBwYWRcbiAqXG4gKiBAcGFyYW0gIHtzdHJpbmd9IGFjdGlvblxuICogQHBhcmFtICB7RXZlbnR9IGV2ZW50XG4gKiBAcGFyYW0gIHtib29sZWFufSBbYXV0b0FjdGl2YXRlPWZhbHNlXVxuICovXG5Db250ZXh0UGFkLnByb3RvdHlwZS50cmlnZ2VyID0gZnVuY3Rpb24oYWN0aW9uLCBldmVudCwgYXV0b0FjdGl2YXRlKSB7XG5cbiAgdmFyIGVsZW1lbnQgPSB0aGlzLl9jdXJyZW50LmVsZW1lbnQsXG4gICAgICBlbnRyaWVzID0gdGhpcy5fY3VycmVudC5lbnRyaWVzLFxuICAgICAgZW50cnksXG4gICAgICBoYW5kbGVyLFxuICAgICAgb3JpZ2luYWxFdmVudCxcbiAgICAgIGJ1dHRvbiA9IGV2ZW50LmRlbGVnYXRlVGFyZ2V0IHx8IGV2ZW50LnRhcmdldDtcblxuICBpZiAoIWJ1dHRvbikge1xuICAgIHJldHVybiBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICB9XG5cbiAgZW50cnkgPSBlbnRyaWVzW2RvbUF0dHIoYnV0dG9uLCAnZGF0YS1hY3Rpb24nKV07XG4gIGhhbmRsZXIgPSBlbnRyeS5hY3Rpb247XG5cbiAgb3JpZ2luYWxFdmVudCA9IGV2ZW50Lm9yaWdpbmFsRXZlbnQgfHwgZXZlbnQ7XG5cbiAgLy8gc2ltcGxlIGFjdGlvbiAodmlhIGNhbGxiYWNrIGZ1bmN0aW9uKVxuICBpZiAoaXNGdW5jdGlvbihoYW5kbGVyKSkge1xuICAgIGlmIChhY3Rpb24gPT09ICdjbGljaycpIHtcbiAgICAgIHJldHVybiBoYW5kbGVyKG9yaWdpbmFsRXZlbnQsIGVsZW1lbnQsIGF1dG9BY3RpdmF0ZSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChoYW5kbGVyW2FjdGlvbl0pIHtcbiAgICAgIHJldHVybiBoYW5kbGVyW2FjdGlvbl0ob3JpZ2luYWxFdmVudCwgZWxlbWVudCwgYXV0b0FjdGl2YXRlKTtcbiAgICB9XG4gIH1cblxuICAvLyBzaWxlbmNlIG90aGVyIGFjdGlvbnNcbiAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbn07XG5cblxuLyoqXG4gKiBPcGVuIHRoZSBjb250ZXh0IHBhZCBmb3IgdGhlIGdpdmVuIGVsZW1lbnRcbiAqXG4gKiBAcGFyYW0ge2Rqcy5tb2RlbC5CYXNlfSBlbGVtZW50XG4gKiBAcGFyYW0ge2Jvb2xlYW59IGZvcmNlIGlmIHRydWUsIGZvcmNlIHJlb3BlbmluZyB0aGUgY29udGV4dCBwYWRcbiAqL1xuQ29udGV4dFBhZC5wcm90b3R5cGUub3BlbiA9IGZ1bmN0aW9uKGVsZW1lbnQsIGZvcmNlKSB7XG4gIGlmICghZm9yY2UgJiYgdGhpcy5pc09wZW4oZWxlbWVudCkpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB0aGlzLmNsb3NlKCk7XG4gIHRoaXMuX3VwZGF0ZUFuZE9wZW4oZWxlbWVudCk7XG59O1xuXG5Db250ZXh0UGFkLnByb3RvdHlwZS5fZ2V0UHJvdmlkZXJzID0gZnVuY3Rpb24oKSB7XG5cbiAgdmFyIGV2ZW50ID0gdGhpcy5fZXZlbnRCdXMuY3JlYXRlRXZlbnQoe1xuICAgIHR5cGU6ICdjb250ZXh0UGFkLmdldFByb3ZpZGVycycsXG4gICAgcHJvdmlkZXJzOiBbXVxuICB9KTtcblxuICB0aGlzLl9ldmVudEJ1cy5maXJlKGV2ZW50KTtcblxuICByZXR1cm4gZXZlbnQucHJvdmlkZXJzO1xufTtcblxuQ29udGV4dFBhZC5wcm90b3R5cGUuX3VwZGF0ZUFuZE9wZW4gPSBmdW5jdGlvbihlbGVtZW50KSB7XG5cbiAgdmFyIGVudHJpZXMgPSB0aGlzLmdldEVudHJpZXMoZWxlbWVudCksXG4gICAgICBwYWQgPSB0aGlzLmdldFBhZChlbGVtZW50KSxcbiAgICAgIGh0bWwgPSBwYWQuaHRtbDtcblxuICBmb3JFYWNoKGVudHJpZXMsIGZ1bmN0aW9uKGVudHJ5LCBpZCkge1xuICAgIHZhciBncm91cGluZyA9IGVudHJ5Lmdyb3VwIHx8ICdkZWZhdWx0JyxcbiAgICAgICAgY29udHJvbCA9IGRvbWlmeShlbnRyeS5odG1sIHx8ICc8ZGl2IGNsYXNzPVwiZW50cnlcIiBkcmFnZ2FibGU9XCJ0cnVlXCI+PC9kaXY+JyksXG4gICAgICAgIGNvbnRhaW5lcjtcblxuICAgIGRvbUF0dHIoY29udHJvbCwgJ2RhdGEtYWN0aW9uJywgaWQpO1xuXG4gICAgY29udGFpbmVyID0gZG9tUXVlcnkoJ1tkYXRhLWdyb3VwPScgKyBncm91cGluZyArICddJywgaHRtbCk7XG4gICAgaWYgKCFjb250YWluZXIpIHtcbiAgICAgIGNvbnRhaW5lciA9IGRvbWlmeSgnPGRpdiBjbGFzcz1cImdyb3VwXCIgZGF0YS1ncm91cD1cIicgKyBncm91cGluZyArICdcIj48L2Rpdj4nKTtcbiAgICAgIGh0bWwuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTtcbiAgICB9XG5cbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoY29udHJvbCk7XG5cbiAgICBpZiAoZW50cnkuY2xhc3NOYW1lKSB7XG4gICAgICBhZGRDbGFzc2VzKGNvbnRyb2wsIGVudHJ5LmNsYXNzTmFtZSk7XG4gICAgfVxuXG4gICAgaWYgKGVudHJ5LnRpdGxlKSB7XG4gICAgICBkb21BdHRyKGNvbnRyb2wsICd0aXRsZScsIGVudHJ5LnRpdGxlKTtcbiAgICB9XG5cbiAgICBpZiAoZW50cnkuaW1hZ2VVcmwpIHtcbiAgICAgIGNvbnRyb2wuYXBwZW5kQ2hpbGQoZG9taWZ5KCc8aW1nIHNyYz1cIicgKyBlbnRyeS5pbWFnZVVybCArICdcIj4nKSk7XG4gICAgfVxuICB9KTtcblxuICBkb21DbGFzc2VzKGh0bWwpLmFkZCgnb3BlbicpO1xuXG4gIHRoaXMuX2N1cnJlbnQgPSB7XG4gICAgZWxlbWVudDogZWxlbWVudCxcbiAgICBwYWQ6IHBhZCxcbiAgICBlbnRyaWVzOiBlbnRyaWVzXG4gIH07XG5cbiAgdGhpcy5fZXZlbnRCdXMuZmlyZSgnY29udGV4dFBhZC5vcGVuJywgeyBjdXJyZW50OiB0aGlzLl9jdXJyZW50IH0pO1xufTtcblxuXG5Db250ZXh0UGFkLnByb3RvdHlwZS5nZXRQYWQgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gIGlmICh0aGlzLmlzT3BlbigpKSB7XG4gICAgcmV0dXJuIHRoaXMuX2N1cnJlbnQucGFkO1xuICB9XG5cbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIHZhciBvdmVybGF5cyA9IHRoaXMuX292ZXJsYXlzO1xuXG4gIHZhciBodG1sID0gZG9taWZ5KCc8ZGl2IGNsYXNzPVwiZGpzLWNvbnRleHQtcGFkXCI+PC9kaXY+Jyk7XG5cbiAgdmFyIG92ZXJsYXlzQ29uZmlnID0gYXNzaWduKHtcbiAgICBodG1sOiBodG1sXG4gIH0sIHRoaXMuX292ZXJsYXlzQ29uZmlnKTtcblxuICBkb21EZWxlZ2F0ZS5iaW5kKGh0bWwsIGVudHJ5U2VsZWN0b3IsICdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgc2VsZi50cmlnZ2VyKCdjbGljaycsIGV2ZW50KTtcbiAgfSk7XG5cbiAgZG9tRGVsZWdhdGUuYmluZChodG1sLCBlbnRyeVNlbGVjdG9yLCAnZHJhZ3N0YXJ0JywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBzZWxmLnRyaWdnZXIoJ2RyYWdzdGFydCcsIGV2ZW50KTtcbiAgfSk7XG5cbiAgLy8gc3RvcCBwcm9wYWdhdGlvbiBvZiBtb3VzZSBldmVudHNcbiAgZG9tRXZlbnQuYmluZChodG1sLCAnbW91c2Vkb3duJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgfSk7XG5cbiAgdGhpcy5fb3ZlcmxheUlkID0gb3ZlcmxheXMuYWRkKGVsZW1lbnQsICdjb250ZXh0LXBhZCcsIG92ZXJsYXlzQ29uZmlnKTtcblxuICB2YXIgcGFkID0gb3ZlcmxheXMuZ2V0KHRoaXMuX292ZXJsYXlJZCk7XG5cbiAgdGhpcy5fZXZlbnRCdXMuZmlyZSgnY29udGV4dFBhZC5jcmVhdGUnLCB7IGVsZW1lbnQ6IGVsZW1lbnQsIHBhZDogcGFkIH0pO1xuXG4gIHJldHVybiBwYWQ7XG59O1xuXG5cbi8qKlxuICogQ2xvc2UgdGhlIGNvbnRleHQgcGFkXG4gKi9cbkNvbnRleHRQYWQucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24oKSB7XG4gIGlmICghdGhpcy5pc09wZW4oKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHRoaXMuX292ZXJsYXlzLnJlbW92ZSh0aGlzLl9vdmVybGF5SWQpO1xuXG4gIHRoaXMuX292ZXJsYXlJZCA9IG51bGw7XG5cbiAgdGhpcy5fZXZlbnRCdXMuZmlyZSgnY29udGV4dFBhZC5jbG9zZScsIHsgY3VycmVudDogdGhpcy5fY3VycmVudCB9KTtcblxuICB0aGlzLl9jdXJyZW50ID0gbnVsbDtcbn07XG5cbi8qKlxuICogQ2hlY2sgaWYgcGFkIGlzIG9wZW4uIElmIGVsZW1lbnQgaXMgZ2l2ZW4sIHdpbGwgY2hlY2tcbiAqIGlmIHBhZCBpcyBvcGVuZWQgd2l0aCBnaXZlbiBlbGVtZW50LlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudFxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuQ29udGV4dFBhZC5wcm90b3R5cGUuaXNPcGVuID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICByZXR1cm4gISF0aGlzLl9jdXJyZW50ICYmICghZWxlbWVudCA/IHRydWUgOiB0aGlzLl9jdXJyZW50LmVsZW1lbnQgPT09IGVsZW1lbnQpO1xufTtcblxuXG5cblxuLy8gaGVscGVycyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbmZ1bmN0aW9uIGFkZENsYXNzZXMoZWxlbWVudCwgY2xhc3NOYW1lcykge1xuXG4gIHZhciBjbGFzc2VzID0gZG9tQ2xhc3NlcyhlbGVtZW50KTtcblxuICB2YXIgYWN0dWFsQ2xhc3NOYW1lcyA9IGlzQXJyYXkoY2xhc3NOYW1lcykgPyBjbGFzc05hbWVzIDogY2xhc3NOYW1lcy5zcGxpdCgvXFxzKy9nKTtcbiAgYWN0dWFsQ2xhc3NOYW1lcy5mb3JFYWNoKGZ1bmN0aW9uKGNscykge1xuICAgIGNsYXNzZXMuYWRkKGNscyk7XG4gIH0pO1xufSIsImltcG9ydCBJbnRlcmFjdGlvbkV2ZW50c01vZHVsZSBmcm9tICcuLi9pbnRlcmFjdGlvbi1ldmVudHMnO1xuaW1wb3J0IE92ZXJsYXlzTW9kdWxlIGZyb20gJy4uL292ZXJsYXlzJztcblxuaW1wb3J0IENvbnRleHRQYWQgZnJvbSAnLi9Db250ZXh0UGFkJztcblxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9fZGVwZW5kc19fOiBbXG4gICAgSW50ZXJhY3Rpb25FdmVudHNNb2R1bGUsXG4gICAgT3ZlcmxheXNNb2R1bGVcbiAgXSxcbiAgY29udGV4dFBhZDogWyAndHlwZScsIENvbnRleHRQYWQgXVxufTsiLCJpbXBvcnQge1xyXG4gIGZvckVhY2hcclxufSBmcm9tICdtaW4tZGFzaCc7XHJcblxyXG5pbXBvcnQge1xyXG4gIGFwcGVuZCBhcyBzdmdBcHBlbmQsXHJcbiAgYXR0ciBhcyBzdmdBdHRyLFxyXG4gIGNsYXNzZXMgYXMgc3ZnQ2xhc3NlcyxcclxuICBjbG9uZSBhcyBzdmdDbG9uZSxcclxuICBjcmVhdGUgYXMgc3ZnQ3JlYXRlLFxyXG4gIHJlbW92ZSBhcyBzdmdSZW1vdmVcclxufSBmcm9tICd0aW55LXN2Zyc7XHJcblxyXG5pbXBvcnQgeyBxdWVyeSBhcyBkb21RdWVyeSB9IGZyb20gJ21pbi1kb20nO1xyXG5cclxuaW1wb3J0IHsgZ2V0VmlzdWFsIH0gZnJvbSAnLi4vLi4vdXRpbC9HcmFwaGljc1V0aWwnO1xyXG5cclxudmFyIE1BUktFUl9UWVBFUyA9IFtcclxuICAnbWFya2VyLXN0YXJ0JyxcclxuICAnbWFya2VyLW1pZCcsXHJcbiAgJ21hcmtlci1lbmQnXHJcbl07XHJcblxyXG52YXIgTk9ERVNfQ0FOX0hBVkVfTUFSS0VSID0gW1xyXG4gICdjaXJjbGUnLFxyXG4gICdlbGxpcHNlJyxcclxuICAnbGluZScsXHJcbiAgJ3BhdGgnLFxyXG4gICdwb2x5Z29uJyxcclxuICAncG9seWxpbmUnLFxyXG4gICdyZWN0J1xyXG5dO1xyXG5cclxuXHJcbi8qKlxyXG4gKiBBZGRzIHN1cHBvcnQgZm9yIHByZXZpZXdzIG9mIG1vdmluZy9yZXNpemluZyBlbGVtZW50cy5cclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFByZXZpZXdTdXBwb3J0KGVsZW1lbnRSZWdpc3RyeSwgZXZlbnRCdXMsIGNhbnZhcywgc3R5bGVzKSB7XHJcbiAgdGhpcy5fZWxlbWVudFJlZ2lzdHJ5ID0gZWxlbWVudFJlZ2lzdHJ5O1xyXG4gIHRoaXMuX2NhbnZhcyA9IGNhbnZhcztcclxuICB0aGlzLl9zdHlsZXMgPSBzdHlsZXM7XHJcblxyXG4gIHRoaXMuX2Nsb25lZE1hcmtlcnMgPSB7fTtcclxuXHJcbiAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICBldmVudEJ1cy5vbignZHJhZy5jbGVhbnVwJywgZnVuY3Rpb24oKSB7XHJcbiAgICBmb3JFYWNoKHNlbGYuX2Nsb25lZE1hcmtlcnMsIGZ1bmN0aW9uKGNsb25lZE1hcmtlcikge1xyXG4gICAgICBzdmdSZW1vdmUoY2xvbmVkTWFya2VyKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHNlbGYuX2Nsb25lZE1hcmtlcnMgPSB7fTtcclxuICB9KTtcclxufVxyXG5cclxuUHJldmlld1N1cHBvcnQuJGluamVjdCA9IFtcclxuICAnZWxlbWVudFJlZ2lzdHJ5JyxcclxuICAnZXZlbnRCdXMnLFxyXG4gICdjYW52YXMnLFxyXG4gICdzdHlsZXMnXHJcbl07XHJcblxyXG5cclxuLyoqXHJcbiAqIFJldHVybnMgZ3JhcGhpY3Mgb2YgYW4gZWxlbWVudC5cclxuICpcclxuICogQHBhcmFtIHtkanMubW9kZWwuQmFzZX0gZWxlbWVudFxyXG4gKlxyXG4gKiBAcmV0dXJuIHtTVkdFbGVtZW50fVxyXG4gKi9cclxuUHJldmlld1N1cHBvcnQucHJvdG90eXBlLmdldEdmeCA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcclxuICByZXR1cm4gdGhpcy5fZWxlbWVudFJlZ2lzdHJ5LmdldEdyYXBoaWNzKGVsZW1lbnQpO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIEFkZHMgYSBtb3ZlIHByZXZpZXcgb2YgYSBnaXZlbiBzaGFwZSB0byBhIGdpdmVuIHN2ZyBncm91cC5cclxuICpcclxuICogQHBhcmFtIHtkanMubW9kZWwuQmFzZX0gZWxlbWVudFxyXG4gKiBAcGFyYW0ge1NWR0VsZW1lbnR9IGdyb3VwXHJcbiAqIEBwYXJhbSB7U1ZHRWxlbWVudH0gW2dmeF1cclxuICpcclxuICogQHJldHVybiB7U1ZHRWxlbWVudH0gZHJhZ2dlclxyXG4gKi9cclxuUHJldmlld1N1cHBvcnQucHJvdG90eXBlLmFkZERyYWdnZXIgPSBmdW5jdGlvbihlbGVtZW50LCBncm91cCwgZ2Z4KSB7XHJcbiAgZ2Z4ID0gZ2Z4IHx8IHRoaXMuZ2V0R2Z4KGVsZW1lbnQpO1xyXG5cclxuICB2YXIgZHJhZ2dlciA9IHN2Z0Nsb25lKGdmeCk7XHJcbiAgdmFyIGJib3ggPSBnZnguZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcblxyXG4gIHRoaXMuX2Nsb25lTWFya2VycyhnZXRWaXN1YWwoZHJhZ2dlcikpO1xyXG5cclxuICBzdmdBdHRyKGRyYWdnZXIsIHRoaXMuX3N0eWxlcy5jbHMoJ2Rqcy1kcmFnZ2VyJywgW10sIHtcclxuICAgIHg6IGJib3gudG9wLFxyXG4gICAgeTogYmJveC5sZWZ0XHJcbiAgfSkpO1xyXG5cclxuICBzdmdBcHBlbmQoZ3JvdXAsIGRyYWdnZXIpO1xyXG5cclxuICByZXR1cm4gZHJhZ2dlcjtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBBZGRzIGEgcmVzaXplIHByZXZpZXcgb2YgYSBnaXZlbiBzaGFwZSB0byBhIGdpdmVuIHN2ZyBncm91cC5cclxuICpcclxuICogQHBhcmFtIHtkanMubW9kZWwuQmFzZX0gZWxlbWVudFxyXG4gKiBAcGFyYW0ge1NWR0VsZW1lbnR9IGdyb3VwXHJcbiAqXHJcbiAqIEByZXR1cm4ge1NWR0VsZW1lbnR9IGZyYW1lXHJcbiAqL1xyXG5QcmV2aWV3U3VwcG9ydC5wcm90b3R5cGUuYWRkRnJhbWUgPSBmdW5jdGlvbihzaGFwZSwgZ3JvdXApIHtcclxuXHJcbiAgdmFyIGZyYW1lID0gc3ZnQ3JlYXRlKCdyZWN0Jywge1xyXG4gICAgY2xhc3M6ICdkanMtcmVzaXplLW92ZXJsYXknLFxyXG4gICAgd2lkdGg6ICBzaGFwZS53aWR0aCxcclxuICAgIGhlaWdodDogc2hhcGUuaGVpZ2h0LFxyXG4gICAgeDogc2hhcGUueCxcclxuICAgIHk6IHNoYXBlLnlcclxuICB9KTtcclxuXHJcbiAgc3ZnQXBwZW5kKGdyb3VwLCBmcmFtZSk7XHJcblxyXG4gIHJldHVybiBmcmFtZTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBDbG9uZSBhbGwgbWFya2VycyByZWZlcmVuY2VkIGJ5IGEgbm9kZSBhbmQgaXRzIGNoaWxkIG5vZGVzLlxyXG4gKlxyXG4gKiBAcGFyYW0ge1NWR0VsZW1lbnR9IGdmeFxyXG4gKi9cclxuUHJldmlld1N1cHBvcnQucHJvdG90eXBlLl9jbG9uZU1hcmtlcnMgPSBmdW5jdGlvbihnZngpIHtcclxuICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gIGlmIChnZnguY2hpbGROb2Rlcykge1xyXG5cclxuICAgIC8vIFRPRE86IHVzZSBmb3JFYWNoIG9uY2Ugd2UgZHJvcCBQaGFudG9tSlNcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ2Z4LmNoaWxkTm9kZXMubGVuZ3RoOyBpKyspIHtcclxuXHJcbiAgICAgIC8vIHJlY3Vyc2l2ZWx5IGNsb25lIG1hcmtlcnMgb2YgY2hpbGQgbm9kZXNcclxuICAgICAgc2VsZi5fY2xvbmVNYXJrZXJzKGdmeC5jaGlsZE5vZGVzWyBpIF0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaWYgKCFjYW5IYXZlTWFya2VyKGdmeCkpIHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIE1BUktFUl9UWVBFUy5mb3JFYWNoKGZ1bmN0aW9uKG1hcmtlclR5cGUpIHtcclxuICAgIGlmIChzdmdBdHRyKGdmeCwgbWFya2VyVHlwZSkpIHtcclxuICAgICAgdmFyIG1hcmtlciA9IGdldE1hcmtlcihnZngsIG1hcmtlclR5cGUsIHNlbGYuX2NhbnZhcy5nZXRDb250YWluZXIoKSk7XHJcblxyXG4gICAgICBzZWxmLl9jbG9uZU1hcmtlcihnZngsIG1hcmtlciwgbWFya2VyVHlwZSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn07XHJcblxyXG4vKipcclxuICogQ2xvbmUgbWFya2VyIHJlZmVyZW5jZWQgYnkgYW4gZWxlbWVudC5cclxuICpcclxuICogQHBhcmFtIHtTVkdFbGVtZW50fSBnZnhcclxuICogQHBhcmFtIHtTVkdFbGVtZW50fSBtYXJrZXJcclxuICogQHBhcmFtIHtzdHJpbmd9IG1hcmtlclR5cGVcclxuICovXHJcblByZXZpZXdTdXBwb3J0LnByb3RvdHlwZS5fY2xvbmVNYXJrZXIgPSBmdW5jdGlvbihnZngsIG1hcmtlciwgbWFya2VyVHlwZSkge1xyXG4gIHZhciBtYXJrZXJJZCA9IG1hcmtlci5pZDtcclxuXHJcbiAgdmFyIGNsb25lZE1hcmtlciA9IHRoaXMuX2Nsb25lZE1hcmtlcnNbIG1hcmtlcklkIF07XHJcblxyXG4gIGlmICghY2xvbmVkTWFya2VyKSB7XHJcbiAgICBjbG9uZWRNYXJrZXIgPSBzdmdDbG9uZShtYXJrZXIpO1xyXG5cclxuICAgIHZhciBjbG9uZWRNYXJrZXJJZCA9IG1hcmtlcklkICsgJy1jbG9uZSc7XHJcblxyXG4gICAgY2xvbmVkTWFya2VyLmlkID0gY2xvbmVkTWFya2VySWQ7XHJcblxyXG4gICAgc3ZnQ2xhc3NlcyhjbG9uZWRNYXJrZXIpXHJcbiAgICAgIC5hZGQoJ2Rqcy1kcmFnZ2VyJylcclxuICAgICAgLmFkZCgnZGpzLWRyYWdnZXItbWFya2VyJyk7XHJcblxyXG4gICAgdGhpcy5fY2xvbmVkTWFya2Vyc1sgbWFya2VySWQgXSA9IGNsb25lZE1hcmtlcjtcclxuXHJcbiAgICB2YXIgZGVmcyA9IGRvbVF1ZXJ5KCdkZWZzJywgdGhpcy5fY2FudmFzLl9zdmcpO1xyXG5cclxuICAgIGlmICghZGVmcykge1xyXG4gICAgICBkZWZzID0gc3ZnQ3JlYXRlKCdkZWZzJyk7XHJcblxyXG4gICAgICBzdmdBcHBlbmQodGhpcy5fY2FudmFzLl9zdmcsIGRlZnMpO1xyXG4gICAgfVxyXG5cclxuICAgIHN2Z0FwcGVuZChkZWZzLCBjbG9uZWRNYXJrZXIpO1xyXG4gIH1cclxuXHJcbiAgdmFyIHJlZmVyZW5jZSA9IGlkVG9SZWZlcmVuY2UodGhpcy5fY2xvbmVkTWFya2Vyc1sgbWFya2VySWQgXS5pZCk7XHJcblxyXG4gIHN2Z0F0dHIoZ2Z4LCBtYXJrZXJUeXBlLCByZWZlcmVuY2UpO1xyXG59O1xyXG5cclxuLy8gaGVscGVycyAvLy8vLy8vLy8vXHJcblxyXG4vKipcclxuICogR2V0IG1hcmtlciBvZiBnaXZlbiB0eXBlIHJlZmVyZW5jZWQgYnkgbm9kZS5cclxuICpcclxuICogQHBhcmFtIHtOb2RlfSBub2RlXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBtYXJrZXJUeXBlXHJcbiAqIEBwYXJhbSB7Tm9kZX0gW3BhcmVudE5vZGVdXHJcbiAqXHJcbiAqIEBwYXJhbSB7Tm9kZX1cclxuICovXHJcbmZ1bmN0aW9uIGdldE1hcmtlcihub2RlLCBtYXJrZXJUeXBlLCBwYXJlbnROb2RlKSB7XHJcbiAgdmFyIGlkID0gcmVmZXJlbmNlVG9JZChzdmdBdHRyKG5vZGUsIG1hcmtlclR5cGUpKTtcclxuXHJcbiAgcmV0dXJuIGRvbVF1ZXJ5KCdtYXJrZXIjJyArIGlkLCBwYXJlbnROb2RlIHx8IGRvY3VtZW50KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEdldCBJRCBvZiBmcmFnbWVudCB3aXRoaW4gY3VycmVudCBkb2N1bWVudCBmcm9tIGl0cyBmdW5jdGlvbmFsIElSSSByZWZlcmVuY2UuXHJcbiAqIFJlZmVyZW5jZXMgbWF5IHVzZSBzaW5nbGUgb3IgZG91YmxlIHF1b3Rlcy5cclxuICpcclxuICogQHBhcmFtIHtzdHJpbmd9IHJlZmVyZW5jZVxyXG4gKlxyXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gKi9cclxuZnVuY3Rpb24gcmVmZXJlbmNlVG9JZChyZWZlcmVuY2UpIHtcclxuICByZXR1cm4gcmVmZXJlbmNlLm1hdGNoKC91cmxcXChbJ1wiXT8jKFteJ1wiXSopWydcIl0/XFwpLylbMV07XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHZXQgZnVuY3Rpb25hbCBJUkkgcmVmZXJlbmNlIGZvciBnaXZlbiBJRCBvZiBmcmFnbWVudCB3aXRoaW4gY3VycmVudCBkb2N1bWVudC5cclxuICpcclxuICogQHBhcmFtIHtzdHJpbmd9IGlkXHJcbiAqXHJcbiAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAqL1xyXG5mdW5jdGlvbiBpZFRvUmVmZXJlbmNlKGlkKSB7XHJcbiAgcmV0dXJuICd1cmwoIycgKyBpZCArICcpJztcclxufVxyXG5cclxuLyoqXHJcbiAqIENoZWNrIHdldGhlciBub2RlIHR5cGUgY2FuIGhhdmUgbWFya2VyIGF0dHJpYnV0ZXMuXHJcbiAqXHJcbiAqIEBwYXJhbSB7Tm9kZX0gbm9kZVxyXG4gKlxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICovXHJcbmZ1bmN0aW9uIGNhbkhhdmVNYXJrZXIobm9kZSkge1xyXG4gIHJldHVybiBOT0RFU19DQU5fSEFWRV9NQVJLRVIuaW5kZXhPZihub2RlLm5vZGVOYW1lKSAhPT0gLTE7XHJcbn0iLCJpbXBvcnQgUHJldmlld1N1cHBvcnQgZnJvbSAnLi9QcmV2aWV3U3VwcG9ydCc7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgX19pbml0X186IFsgJ3ByZXZpZXdTdXBwb3J0JyBdLFxuICBwcmV2aWV3U3VwcG9ydDogWyAndHlwZScsIFByZXZpZXdTdXBwb3J0IF1cbn07XG4iLCJ2YXIgTUFSS0VSX09LID0gJ2Ryb3Atb2snLFxuICAgIE1BUktFUl9OT1RfT0sgPSAnZHJvcC1ub3Qtb2snLFxuICAgIE1BUktFUl9BVFRBQ0ggPSAnYXR0YWNoLW9rJyxcbiAgICBNQVJLRVJfTkVXX1BBUkVOVCA9ICduZXctcGFyZW50JztcblxuaW1wb3J0IHtcbiAgYXNzaWduLFxuICBmaWx0ZXIsXG4gIGZpbmQsXG4gIGZvckVhY2gsXG4gIGlzQXJyYXksXG4gIGlzTnVtYmVyLFxuICBtYXBcbn0gZnJvbSAnbWluLWRhc2gnO1xuXG5pbXBvcnQgeyBnZXRCQm94IH0gZnJvbSAnLi4vLi4vdXRpbC9FbGVtZW50cyc7XG5cbnZhciBQUkVGSVggPSAnY3JlYXRlJztcblxudmFyIEhJR0hfUFJJT1JJVFkgPSAyMDAwO1xuXG5cbi8qKlxuICogQ3JlYXRlIG5ldyBlbGVtZW50cyB0aHJvdWdoIGRyYWcgYW5kIGRyb3AuXG4gKlxuICogQHBhcmFtIHtDYW52YXN9IGNhbnZhc1xuICogQHBhcmFtIHtEcmFnZ2luZ30gZHJhZ2dpbmdcbiAqIEBwYXJhbSB7RXZlbnRCdXN9IGV2ZW50QnVzXG4gKiBAcGFyYW0ge01vZGVsaW5nfSBtb2RlbGluZ1xuICogQHBhcmFtIHtSdWxlc30gcnVsZXNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ3JlYXRlKFxuICAgIGNhbnZhcyxcbiAgICBkcmFnZ2luZyxcbiAgICBldmVudEJ1cyxcbiAgICBtb2RlbGluZyxcbiAgICBydWxlc1xuKSB7XG5cbiAgLy8gcnVsZXMgLy8vLy8vLy8vL1xuXG4gIC8qKlxuICAgKiBDaGVjayB3ZXRoZXIgZWxlbWVudHMgY2FuIGJlIGNyZWF0ZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7QXJyYXk8ZGpzLm1vZGVsLkJhc2U+fSBlbGVtZW50c1xuICAgKiBAcGFyYW0ge2Rqcy5tb2RlbC5CYXNlfSB0YXJnZXRcbiAgICogQHBhcmFtIHtQb2ludH0gcG9zaXRpb25cbiAgICogQHBhcmFtIHtkanMubW9kZWwuQmFzZX0gW3NvdXJjZV1cbiAgICpcbiAgICogQHJldHVybnMge2Jvb2xlYW58bnVsbHxPYmplY3R9XG4gICAqL1xuICBmdW5jdGlvbiBjYW5DcmVhdGUoZWxlbWVudHMsIHRhcmdldCwgcG9zaXRpb24sIHNvdXJjZSwgaGludHMpIHtcbiAgICBpZiAoIXRhcmdldCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIGlnbm9yZSBjaGlsZCBlbGVtZW50cyBhbmQgZXh0ZXJuYWwgbGFiZWxzXG4gICAgZWxlbWVudHMgPSBmaWx0ZXIoZWxlbWVudHMsIGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgIHZhciBsYWJlbFRhcmdldCA9IGVsZW1lbnQubGFiZWxUYXJnZXQ7XG5cbiAgICAgIHJldHVybiAhZWxlbWVudC5wYXJlbnQgJiYgIShpc0xhYmVsKGVsZW1lbnQpICYmIGVsZW1lbnRzLmluZGV4T2YobGFiZWxUYXJnZXQpICE9PSAtMSk7XG4gICAgfSk7XG5cbiAgICB2YXIgc2hhcGUgPSBmaW5kKGVsZW1lbnRzLCBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICByZXR1cm4gIWlzQ29ubmVjdGlvbihlbGVtZW50KTtcbiAgICB9KTtcblxuICAgIHZhciBhdHRhY2ggPSBmYWxzZSxcbiAgICAgICAgY29ubmVjdCA9IGZhbHNlLFxuICAgICAgICBjcmVhdGUgPSBmYWxzZTtcblxuICAgIC8vICgxKSBhdHRhY2hpbmcgc2luZ2xlIHNoYXBlc1xuICAgIGlmIChpc1NpbmdsZVNoYXBlKGVsZW1lbnRzKSkge1xuICAgICAgYXR0YWNoID0gcnVsZXMuYWxsb3dlZCgnc2hhcGUuYXR0YWNoJywge1xuICAgICAgICBwb3NpdGlvbjogcG9zaXRpb24sXG4gICAgICAgIHNoYXBlOiBzaGFwZSxcbiAgICAgICAgdGFyZ2V0OiB0YXJnZXRcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmICghYXR0YWNoKSB7XG5cbiAgICAgIC8vICgyKSBjcmVhdGluZyBlbGVtZW50c1xuICAgICAgaWYgKGlzU2luZ2xlU2hhcGUoZWxlbWVudHMpKSB7XG4gICAgICAgIGNyZWF0ZSA9IHJ1bGVzLmFsbG93ZWQoJ3NoYXBlLmNyZWF0ZScsIHtcbiAgICAgICAgICBwb3NpdGlvbjogcG9zaXRpb24sXG4gICAgICAgICAgc2hhcGU6IHNoYXBlLFxuICAgICAgICAgIHNvdXJjZTogc291cmNlLFxuICAgICAgICAgIHRhcmdldDogdGFyZ2V0XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3JlYXRlID0gcnVsZXMuYWxsb3dlZCgnZWxlbWVudHMuY3JlYXRlJywge1xuICAgICAgICAgIGVsZW1lbnRzOiBlbGVtZW50cyxcbiAgICAgICAgICBwb3NpdGlvbjogcG9zaXRpb24sXG4gICAgICAgICAgdGFyZ2V0OiB0YXJnZXRcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICB9XG5cbiAgICB2YXIgY29ubmVjdGlvblRhcmdldCA9IGhpbnRzLmNvbm5lY3Rpb25UYXJnZXQ7XG5cbiAgICAvLyAoMykgYXBwZW5kaW5nIHNpbmdsZSBzaGFwZXNcbiAgICBpZiAoY3JlYXRlIHx8IGF0dGFjaCkge1xuICAgICAgaWYgKHNoYXBlICYmIHNvdXJjZSkge1xuICAgICAgICBjb25uZWN0ID0gcnVsZXMuYWxsb3dlZCgnY29ubmVjdGlvbi5jcmVhdGUnLCB7XG4gICAgICAgICAgc291cmNlOiBjb25uZWN0aW9uVGFyZ2V0ID09PSBzb3VyY2UgPyBzaGFwZSA6IHNvdXJjZSxcbiAgICAgICAgICB0YXJnZXQ6IGNvbm5lY3Rpb25UYXJnZXQgPT09IHNvdXJjZSA/IHNvdXJjZSA6IHNoYXBlLFxuICAgICAgICAgIGhpbnRzOiB7XG4gICAgICAgICAgICB0YXJnZXRQYXJlbnQ6IHRhcmdldCxcbiAgICAgICAgICAgIHRhcmdldEF0dGFjaDogYXR0YWNoXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYXR0YWNoOiBhdHRhY2gsXG4gICAgICAgIGNvbm5lY3Q6IGNvbm5lY3RcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gaWdub3JlIHdldGhlciBvciBub3QgZWxlbWVudHMgY2FuIGJlIGNyZWF0ZWRcbiAgICBpZiAoY3JlYXRlID09PSBudWxsIHx8IGF0dGFjaCA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0TWFya2VyKGVsZW1lbnQsIG1hcmtlcikge1xuICAgIFsgTUFSS0VSX0FUVEFDSCwgTUFSS0VSX09LLCBNQVJLRVJfTk9UX09LLCBNQVJLRVJfTkVXX1BBUkVOVCBdLmZvckVhY2goZnVuY3Rpb24obSkge1xuXG4gICAgICBpZiAobSA9PT0gbWFya2VyKSB7XG4gICAgICAgIGNhbnZhcy5hZGRNYXJrZXIoZWxlbWVudCwgbSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYW52YXMucmVtb3ZlTWFya2VyKGVsZW1lbnQsIG0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLy8gZXZlbnQgaGFuZGxpbmcgLy8vLy8vLy8vL1xuXG4gIGV2ZW50QnVzLm9uKFsgJ2NyZWF0ZS5tb3ZlJywgJ2NyZWF0ZS5ob3ZlcicgXSwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgY29udGV4dCA9IGV2ZW50LmNvbnRleHQsXG4gICAgICAgIGVsZW1lbnRzID0gY29udGV4dC5lbGVtZW50cyxcbiAgICAgICAgaG92ZXIgPSBldmVudC5ob3ZlcixcbiAgICAgICAgc291cmNlID0gY29udGV4dC5zb3VyY2UsXG4gICAgICAgIGhpbnRzID0gY29udGV4dC5oaW50cyB8fCB7fTtcblxuICAgIGlmICghaG92ZXIpIHtcbiAgICAgIGNvbnRleHQuY2FuRXhlY3V0ZSA9IGZhbHNlO1xuICAgICAgY29udGV4dC50YXJnZXQgPSBudWxsO1xuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZW5zdXJlQ29uc3RyYWludHMoZXZlbnQpO1xuXG4gICAgdmFyIHBvc2l0aW9uID0ge1xuICAgICAgeDogZXZlbnQueCxcbiAgICAgIHk6IGV2ZW50LnlcbiAgICB9O1xuXG4gICAgdmFyIGNhbkV4ZWN1dGUgPSBjb250ZXh0LmNhbkV4ZWN1dGUgPSBob3ZlciAmJiBjYW5DcmVhdGUoZWxlbWVudHMsIGhvdmVyLCBwb3NpdGlvbiwgc291cmNlLCBoaW50cyk7XG5cbiAgICBpZiAoaG92ZXIgJiYgY2FuRXhlY3V0ZSAhPT0gbnVsbCkge1xuICAgICAgY29udGV4dC50YXJnZXQgPSBob3ZlcjtcblxuICAgICAgaWYgKGNhbkV4ZWN1dGUgJiYgY2FuRXhlY3V0ZS5hdHRhY2gpIHtcbiAgICAgICAgc2V0TWFya2VyKGhvdmVyLCBNQVJLRVJfQVRUQUNIKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldE1hcmtlcihob3ZlciwgY2FuRXhlY3V0ZSA/IE1BUktFUl9ORVdfUEFSRU5UIDogTUFSS0VSX05PVF9PSyk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICBldmVudEJ1cy5vbihbICdjcmVhdGUuZW5kJywgJ2NyZWF0ZS5vdXQnLCAnY3JlYXRlLmNsZWFudXAnIF0sIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIGhvdmVyID0gZXZlbnQuaG92ZXI7XG5cbiAgICBpZiAoaG92ZXIpIHtcbiAgICAgIHNldE1hcmtlcihob3ZlciwgbnVsbCk7XG4gICAgfVxuICB9KTtcblxuICBldmVudEJ1cy5vbignY3JlYXRlLmVuZCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0LFxuICAgICAgICBzb3VyY2UgPSBjb250ZXh0LnNvdXJjZSxcbiAgICAgICAgc2hhcGUgPSBjb250ZXh0LnNoYXBlLFxuICAgICAgICBlbGVtZW50cyA9IGNvbnRleHQuZWxlbWVudHMsXG4gICAgICAgIHRhcmdldCA9IGNvbnRleHQudGFyZ2V0LFxuICAgICAgICBjYW5FeGVjdXRlID0gY29udGV4dC5jYW5FeGVjdXRlLFxuICAgICAgICBhdHRhY2ggPSBjYW5FeGVjdXRlICYmIGNhbkV4ZWN1dGUuYXR0YWNoLFxuICAgICAgICBjb25uZWN0ID0gY2FuRXhlY3V0ZSAmJiBjYW5FeGVjdXRlLmNvbm5lY3QsXG4gICAgICAgIGhpbnRzID0gY29udGV4dC5oaW50cyB8fCB7fTtcblxuICAgIGlmIChjYW5FeGVjdXRlID09PSBmYWxzZSB8fCAhdGFyZ2V0KSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgZW5zdXJlQ29uc3RyYWludHMoZXZlbnQpO1xuXG4gICAgdmFyIHBvc2l0aW9uID0ge1xuICAgICAgeDogZXZlbnQueCxcbiAgICAgIHk6IGV2ZW50LnlcbiAgICB9O1xuXG4gICAgaWYgKGNvbm5lY3QpIHtcbiAgICAgIHNoYXBlID0gbW9kZWxpbmcuYXBwZW5kU2hhcGUoc291cmNlLCBzaGFwZSwgcG9zaXRpb24sIHRhcmdldCwge1xuICAgICAgICBhdHRhY2g6IGF0dGFjaCxcbiAgICAgICAgY29ubmVjdGlvbjogY29ubmVjdCA9PT0gdHJ1ZSA/IHt9IDogY29ubmVjdCxcbiAgICAgICAgY29ubmVjdGlvblRhcmdldDogaGludHMuY29ubmVjdGlvblRhcmdldFxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsZW1lbnRzID0gbW9kZWxpbmcuY3JlYXRlRWxlbWVudHMoZWxlbWVudHMsIHBvc2l0aW9uLCB0YXJnZXQsIGFzc2lnbih7fSwgaGludHMsIHtcbiAgICAgICAgYXR0YWNoOiBhdHRhY2hcbiAgICAgIH0pKTtcblxuICAgICAgLy8gdXBkYXRlIHNoYXBlXG4gICAgICBzaGFwZSA9IGZpbmQoZWxlbWVudHMsIGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuICFpc0Nvbm5lY3Rpb24oZWxlbWVudCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyB1cGRhdGUgZWxlbWVudHMgYW5kIHNoYXBlXG4gICAgYXNzaWduKGNvbnRleHQsIHtcbiAgICAgIGVsZW1lbnRzOiBlbGVtZW50cyxcbiAgICAgIHNoYXBlOiBzaGFwZVxuICAgIH0pO1xuXG4gICAgYXNzaWduKGV2ZW50LCB7XG4gICAgICBlbGVtZW50czogZWxlbWVudHMsXG4gICAgICBzaGFwZTogc2hhcGVcbiAgICB9KTtcbiAgfSk7XG5cbiAgZnVuY3Rpb24gY2FuY2VsKCkge1xuICAgIHZhciBjb250ZXh0ID0gZHJhZ2dpbmcuY29udGV4dCgpO1xuXG4gICAgaWYgKGNvbnRleHQgJiYgY29udGV4dC5wcmVmaXggPT09IFBSRUZJWCkge1xuICAgICAgZHJhZ2dpbmcuY2FuY2VsKCk7XG4gICAgfVxuICB9XG5cbiAgLy8gY2FuY2VsIG9uIDxlbGVtZW50cy5jaGFuZ2VkPiB0aGF0IGlzIG5vdCByZXN1bHQgb2YgPGRyYWcuZW5kPlxuICBldmVudEJ1cy5vbignY3JlYXRlLmluaXQnLCBmdW5jdGlvbigpIHtcbiAgICBldmVudEJ1cy5vbignZWxlbWVudHMuY2hhbmdlZCcsIGNhbmNlbCk7XG5cbiAgICBldmVudEJ1cy5vbmNlKFsgJ2NyZWF0ZS5jYW5jZWwnLCAnY3JlYXRlLmVuZCcgXSwgSElHSF9QUklPUklUWSwgZnVuY3Rpb24oKSB7XG4gICAgICBldmVudEJ1cy5vZmYoJ2VsZW1lbnRzLmNoYW5nZWQnLCBjYW5jZWwpO1xuICAgIH0pO1xuICB9KTtcblxuICAvLyBBUEkgLy8vLy8vLy8vL1xuXG4gIHRoaXMuc3RhcnQgPSBmdW5jdGlvbihldmVudCwgZWxlbWVudHMsIGNvbnRleHQpIHtcbiAgICBpZiAoIWlzQXJyYXkoZWxlbWVudHMpKSB7XG4gICAgICBlbGVtZW50cyA9IFsgZWxlbWVudHMgXTtcbiAgICB9XG5cbiAgICB2YXIgc2hhcGUgPSBmaW5kKGVsZW1lbnRzLCBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICByZXR1cm4gIWlzQ29ubmVjdGlvbihlbGVtZW50KTtcbiAgICB9KTtcblxuICAgIGlmICghc2hhcGUpIHtcblxuICAgICAgLy8gYXQgbGVhc3Qgb25lIHNoYXBlIGlzIHJlcXVpcmVkXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29udGV4dCA9IGFzc2lnbih7XG4gICAgICBlbGVtZW50czogZWxlbWVudHMsXG4gICAgICBoaW50czoge30sXG4gICAgICBzaGFwZTogc2hhcGVcbiAgICB9LCBjb250ZXh0IHx8IHt9KTtcblxuICAgIC8vIG1ha2Ugc3VyZSBlYWNoIGVsZW1lbnQgaGFzIHggYW5kIHlcbiAgICBmb3JFYWNoKGVsZW1lbnRzLCBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICBpZiAoIWlzTnVtYmVyKGVsZW1lbnQueCkpIHtcbiAgICAgICAgZWxlbWVudC54ID0gMDtcbiAgICAgIH1cblxuICAgICAgaWYgKCFpc051bWJlcihlbGVtZW50LnkpKSB7XG4gICAgICAgIGVsZW1lbnQueSA9IDA7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB2YXIgYmJveCA9IGdldEJCb3goZWxlbWVudHMpO1xuXG4gICAgLy8gY2VudGVyIGVsZW1lbnRzIGFyb3VuZCBjdXJzb3JcbiAgICBmb3JFYWNoKGVsZW1lbnRzLCBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICBpZiAoaXNDb25uZWN0aW9uKGVsZW1lbnQpKSB7XG4gICAgICAgIGVsZW1lbnQud2F5cG9pbnRzID0gbWFwKGVsZW1lbnQud2F5cG9pbnRzLCBmdW5jdGlvbih3YXlwb2ludCkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4OiB3YXlwb2ludC54IC0gYmJveC54IC0gYmJveC53aWR0aCAvIDIsXG4gICAgICAgICAgICB5OiB3YXlwb2ludC55IC0gYmJveC55IC0gYmJveC5oZWlnaHQgLyAyXG4gICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGFzc2lnbihlbGVtZW50LCB7XG4gICAgICAgIHg6IGVsZW1lbnQueCAtIGJib3gueCAtIGJib3gud2lkdGggLyAyLFxuICAgICAgICB5OiBlbGVtZW50LnkgLSBiYm94LnkgLSBiYm94LmhlaWdodCAvIDJcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZHJhZ2dpbmcuaW5pdChldmVudCwgUFJFRklYLCB7XG4gICAgICBjdXJzb3I6ICdncmFiYmluZycsXG4gICAgICBhdXRvQWN0aXZhdGU6IHRydWUsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIHNoYXBlOiBzaGFwZSxcbiAgICAgICAgZWxlbWVudHM6IGVsZW1lbnRzLFxuICAgICAgICBjb250ZXh0OiBjb250ZXh0XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG59XG5cbkNyZWF0ZS4kaW5qZWN0ID0gW1xuICAnY2FudmFzJyxcbiAgJ2RyYWdnaW5nJyxcbiAgJ2V2ZW50QnVzJyxcbiAgJ21vZGVsaW5nJyxcbiAgJ3J1bGVzJ1xuXTtcblxuLy8gaGVscGVycyAvLy8vLy8vLy8vXG5cbmZ1bmN0aW9uIGVuc3VyZUNvbnN0cmFpbnRzKGV2ZW50KSB7XG4gIHZhciBjb250ZXh0ID0gZXZlbnQuY29udGV4dCxcbiAgICAgIGNyZWF0ZUNvbnN0cmFpbnRzID0gY29udGV4dC5jcmVhdGVDb25zdHJhaW50cztcblxuICBpZiAoIWNyZWF0ZUNvbnN0cmFpbnRzKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKGNyZWF0ZUNvbnN0cmFpbnRzLmxlZnQpIHtcbiAgICBldmVudC54ID0gTWF0aC5tYXgoZXZlbnQueCwgY3JlYXRlQ29uc3RyYWludHMubGVmdCk7XG4gIH1cblxuICBpZiAoY3JlYXRlQ29uc3RyYWludHMucmlnaHQpIHtcbiAgICBldmVudC54ID0gTWF0aC5taW4oZXZlbnQueCwgY3JlYXRlQ29uc3RyYWludHMucmlnaHQpO1xuICB9XG5cbiAgaWYgKGNyZWF0ZUNvbnN0cmFpbnRzLnRvcCkge1xuICAgIGV2ZW50LnkgPSBNYXRoLm1heChldmVudC55LCBjcmVhdGVDb25zdHJhaW50cy50b3ApO1xuICB9XG5cbiAgaWYgKGNyZWF0ZUNvbnN0cmFpbnRzLmJvdHRvbSkge1xuICAgIGV2ZW50LnkgPSBNYXRoLm1pbihldmVudC55LCBjcmVhdGVDb25zdHJhaW50cy5ib3R0b20pO1xuICB9XG59XG5cbmZ1bmN0aW9uIGlzQ29ubmVjdGlvbihlbGVtZW50KSB7XG4gIHJldHVybiAhIWVsZW1lbnQud2F5cG9pbnRzO1xufVxuXG5mdW5jdGlvbiBpc1NpbmdsZVNoYXBlKGVsZW1lbnRzKSB7XG4gIHJldHVybiBlbGVtZW50cyAmJiBlbGVtZW50cy5sZW5ndGggPT09IDEgJiYgIWlzQ29ubmVjdGlvbihlbGVtZW50c1swXSk7XG59XG5cbmZ1bmN0aW9uIGlzTGFiZWwoZWxlbWVudCkge1xuICByZXR1cm4gISFlbGVtZW50LmxhYmVsVGFyZ2V0O1xufVxuIiwiaW1wb3J0IHtcclxuICB0cmFuc2xhdGVcclxufSBmcm9tICcuLi8uLi91dGlsL1N2Z1RyYW5zZm9ybVV0aWwnO1xyXG5cclxuaW1wb3J0IHsgZ2V0VmlzdWFsIH0gZnJvbSAnLi4vLi4vdXRpbC9HcmFwaGljc1V0aWwnO1xyXG5cclxuaW1wb3J0IHtcclxuICBhcHBlbmQgYXMgc3ZnQXBwZW5kLFxyXG4gIGF0dHIgYXMgc3ZnQXR0cixcclxuICBjcmVhdGUgYXMgc3ZnQ3JlYXRlLFxyXG4gIHJlbW92ZSBhcyBzdmdSZW1vdmVcclxufSBmcm9tICd0aW55LXN2Zyc7XHJcblxyXG52YXIgTE9XX1BSSU9SSVRZID0gNzUwO1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENyZWF0ZVByZXZpZXcoXHJcbiAgICBjYW52YXMsXHJcbiAgICBldmVudEJ1cyxcclxuICAgIGdyYXBoaWNzRmFjdG9yeSxcclxuICAgIHByZXZpZXdTdXBwb3J0LFxyXG4gICAgc3R5bGVzXHJcbikge1xyXG4gIGZ1bmN0aW9uIGNyZWF0ZURyYWdHcm91cChlbGVtZW50cykge1xyXG4gICAgdmFyIGRyYWdHcm91cCA9IHN2Z0NyZWF0ZSgnZycpO1xyXG5cclxuICAgIHN2Z0F0dHIoZHJhZ0dyb3VwLCBzdHlsZXMuY2xzKCdkanMtZHJhZy1ncm91cCcsIFsgJ25vLWV2ZW50cycgXSkpO1xyXG5cclxuICAgIHZhciBjaGlsZHJlbkdmeCA9IHN2Z0NyZWF0ZSgnZycpO1xyXG5cclxuICAgIGVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkge1xyXG5cclxuICAgICAgLy8gY3JlYXRlIGdyYXBoaWNzXHJcbiAgICAgIHZhciBnZng7XHJcblxyXG4gICAgICBpZiAoZWxlbWVudC5oaWRkZW4pIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChlbGVtZW50LndheXBvaW50cykge1xyXG4gICAgICAgIGdmeCA9IGdyYXBoaWNzRmFjdG9yeS5fY3JlYXRlQ29udGFpbmVyKCdjb25uZWN0aW9uJywgY2hpbGRyZW5HZngpO1xyXG5cclxuICAgICAgICBncmFwaGljc0ZhY3RvcnkuZHJhd0Nvbm5lY3Rpb24oZ2V0VmlzdWFsKGdmeCksIGVsZW1lbnQpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGdmeCA9IGdyYXBoaWNzRmFjdG9yeS5fY3JlYXRlQ29udGFpbmVyKCdzaGFwZScsIGNoaWxkcmVuR2Z4KTtcclxuXHJcbiAgICAgICAgZ3JhcGhpY3NGYWN0b3J5LmRyYXdTaGFwZShnZXRWaXN1YWwoZ2Z4KSwgZWxlbWVudCk7XHJcblxyXG4gICAgICAgIHRyYW5zbGF0ZShnZngsIGVsZW1lbnQueCwgZWxlbWVudC55KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gYWRkIHByZXZpZXdcclxuICAgICAgcHJldmlld1N1cHBvcnQuYWRkRHJhZ2dlcihlbGVtZW50LCBkcmFnR3JvdXAsIGdmeCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gZHJhZ0dyb3VwO1xyXG4gIH1cclxuXHJcbiAgZXZlbnRCdXMub24oJ2NyZWF0ZS5tb3ZlJywgTE9XX1BSSU9SSVRZLCBmdW5jdGlvbihldmVudCkge1xyXG5cclxuICAgIHZhciBob3ZlciA9IGV2ZW50LmhvdmVyLFxyXG4gICAgICAgIGNvbnRleHQgPSBldmVudC5jb250ZXh0LFxyXG4gICAgICAgIGVsZW1lbnRzID0gY29udGV4dC5lbGVtZW50cyxcclxuICAgICAgICBkcmFnR3JvdXAgPSBjb250ZXh0LmRyYWdHcm91cDtcclxuXHJcbiAgICAvLyBsYXppbHkgY3JlYXRlIHByZXZpZXdzXHJcbiAgICBpZiAoIWRyYWdHcm91cCkge1xyXG4gICAgICBkcmFnR3JvdXAgPSBjb250ZXh0LmRyYWdHcm91cCA9IGNyZWF0ZURyYWdHcm91cChlbGVtZW50cyk7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGRlZmF1bHRMYXllcjtcclxuXHJcbiAgICBpZiAoaG92ZXIpIHtcclxuICAgICAgaWYgKCFkcmFnR3JvdXAucGFyZW50Tm9kZSkge1xyXG4gICAgICAgIGRlZmF1bHRMYXllciA9IGNhbnZhcy5nZXREZWZhdWx0TGF5ZXIoKTtcclxuXHJcbiAgICAgICAgc3ZnQXBwZW5kKGRlZmF1bHRMYXllciwgZHJhZ0dyb3VwKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdHJhbnNsYXRlKGRyYWdHcm91cCwgZXZlbnQueCwgZXZlbnQueSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBzdmdSZW1vdmUoZHJhZ0dyb3VwKTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgZXZlbnRCdXMub24oJ2NyZWF0ZS5jbGVhbnVwJywgZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgIHZhciBjb250ZXh0ID0gZXZlbnQuY29udGV4dCxcclxuICAgICAgICBkcmFnR3JvdXAgPSBjb250ZXh0LmRyYWdHcm91cDtcclxuXHJcbiAgICBpZiAoZHJhZ0dyb3VwKSB7XHJcbiAgICAgIHN2Z1JlbW92ZShkcmFnR3JvdXApO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59XHJcblxyXG5DcmVhdGVQcmV2aWV3LiRpbmplY3QgPSBbXHJcbiAgJ2NhbnZhcycsXHJcbiAgJ2V2ZW50QnVzJyxcclxuICAnZ3JhcGhpY3NGYWN0b3J5JyxcclxuICAncHJldmlld1N1cHBvcnQnLFxyXG4gICdzdHlsZXMnXHJcbl07XHJcbiIsImltcG9ydCBEcmFnZ2luZ01vZHVsZSBmcm9tICcuLi9kcmFnZ2luZyc7XG5pbXBvcnQgUHJldmlld1N1cHBvcnRNb2R1bGUgZnJvbSAnLi4vcHJldmlldy1zdXBwb3J0JztcbmltcG9ydCBSdWxlc01vZHVsZSBmcm9tICcuLi9ydWxlcyc7XG5pbXBvcnQgU2VsZWN0aW9uTW9kdWxlIGZyb20gJy4uL3NlbGVjdGlvbic7XG5cbmltcG9ydCBDcmVhdGUgZnJvbSAnLi9DcmVhdGUnO1xuaW1wb3J0IENyZWF0ZVByZXZpZXcgZnJvbSAnLi9DcmVhdGVQcmV2aWV3JztcblxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9fZGVwZW5kc19fOiBbXG4gICAgRHJhZ2dpbmdNb2R1bGUsXG4gICAgUHJldmlld1N1cHBvcnRNb2R1bGUsXG4gICAgUnVsZXNNb2R1bGUsXG4gICAgU2VsZWN0aW9uTW9kdWxlXG4gIF0sXG4gIF9faW5pdF9fOiBbXG4gICAgJ2NyZWF0ZScsXG4gICAgJ2NyZWF0ZVByZXZpZXcnXG4gIF0sXG4gIGNyZWF0ZTogWyAndHlwZScsIENyZWF0ZSBdLFxuICBjcmVhdGVQcmV2aWV3OiBbICd0eXBlJywgQ3JlYXRlUHJldmlldyBdXG59O1xuIiwiaW1wb3J0IHtcbiAgYXNzaWduLFxuICBmb3JFYWNoLFxuICBpc0Z1bmN0aW9uLFxuICBpc0RlZmluZWQsXG4gIG9taXQsXG4gIHNpemVcbn0gZnJvbSAnbWluLWRhc2gnO1xuXG5pbXBvcnQge1xuICBkZWxlZ2F0ZSBhcyBkb21EZWxlZ2F0ZSxcbiAgZG9taWZ5IGFzIGRvbWlmeSxcbiAgY2xhc3NlcyBhcyBkb21DbGFzc2VzLFxuICBhdHRyIGFzIGRvbUF0dHIsXG4gIHJlbW92ZSBhcyBkb21SZW1vdmVcbn0gZnJvbSAnbWluLWRvbSc7XG5cbnZhciBEQVRBX1JFRiA9ICdkYXRhLWlkJztcblxudmFyIENMT1NFX0VWRU5UUyA9IFtcbiAgJ2NvbnRleHRQYWQuY2xvc2UnLFxuICAnY2FudmFzLnZpZXdib3guY2hhbmdpbmcnLFxuICAnY29tbWFuZFN0YWNrLmNoYW5nZWQnXG5dO1xuXG52YXIgREVGQVVMVF9QUklPUklUWSA9IDEwMDA7XG5cblxuLyoqXG4gKiBBIHBvcHVwIG1lbnUgdGhhdCBjYW4gYmUgdXNlZCB0byBkaXNwbGF5IGEgbGlzdCBvZiBhY3Rpb25zIGFueXdoZXJlIGluIHRoZSBjYW52YXMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZ1xuICogQHBhcmFtIHtib29sZWFufE9iamVjdH0gW2NvbmZpZy5zY2FsZT17IG1pbjogMS4wLCBtYXg6IDEuNSB9XVxuICogQHBhcmFtIHtudW1iZXJ9IFtjb25maWcuc2NhbGUubWluXVxuICogQHBhcmFtIHtudW1iZXJ9IFtjb25maWcuc2NhbGUubWF4XVxuICogQHBhcmFtIHtFdmVudEJ1c30gZXZlbnRCdXNcbiAqIEBwYXJhbSB7Q2FudmFzfSBjYW52YXNcbiAqXG4gKiBAY2xhc3NcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBQb3B1cE1lbnUoY29uZmlnLCBldmVudEJ1cywgY2FudmFzKSB7XG5cbiAgdmFyIHNjYWxlID0gaXNEZWZpbmVkKGNvbmZpZyAmJiBjb25maWcuc2NhbGUpID8gY29uZmlnLnNjYWxlIDoge1xuICAgIG1pbjogMSxcbiAgICBtYXg6IDEuNVxuICB9O1xuXG4gIHRoaXMuX2NvbmZpZyA9IHtcbiAgICBzY2FsZTogc2NhbGVcbiAgfTtcblxuICB0aGlzLl9ldmVudEJ1cyA9IGV2ZW50QnVzO1xuICB0aGlzLl9jYW52YXMgPSBjYW52YXM7XG4gIHRoaXMuX3Byb3ZpZGVycyA9IHt9O1xuICB0aGlzLl9jdXJyZW50ID0ge307XG59XG5cblBvcHVwTWVudS4kaW5qZWN0ID0gW1xuICAnY29uZmlnLnBvcHVwTWVudScsXG4gICdldmVudEJ1cycsXG4gICdjYW52YXMnXG5dO1xuXG4vKipcbiAqIFJlZ2lzdGVycyBhIHBvcHVwIG1lbnUgcHJvdmlkZXJcbiAqXG4gKiBAcGFyYW0gIHtzdHJpbmd9IGlkXG4gKiBAcGFyYW0ge251bWJlcn0gW3ByaW9yaXR5PTEwMDBdXG4gKiBAcGFyYW0gIHtPYmplY3R9IHByb3ZpZGVyXG4gKlxuICogQGV4YW1wbGVcbiAqIGNvbnN0IHBvcHVwTWVudVByb3ZpZGVyID0ge1xuICogICBnZXRQb3B1cE1lbnVFbnRyaWVzOiBmdW5jdGlvbihlbGVtZW50KSB7XG4gKiAgICAgcmV0dXJuIHtcbiAqICAgICAgICdlbnRyeS0xJzoge1xuICogICAgICAgICBsYWJlbDogJ015IEVudHJ5JyxcbiAqICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbigpIHsgYWxlcnQoXCJJIGhhdmUgYmVlbiBjbGlja2VkIVwiKTsgfVxuICogICAgICAgfVxuICogICAgIH1cbiAqICAgfVxuICogfTtcbiAqXG4gKiBwb3B1cE1lbnUucmVnaXN0ZXJQcm92aWRlcignbXlNZW51SUQnLCBwb3B1cE1lbnVQcm92aWRlcik7XG4gKi9cblBvcHVwTWVudS5wcm90b3R5cGUucmVnaXN0ZXJQcm92aWRlciA9IGZ1bmN0aW9uKGlkLCBwcmlvcml0eSwgcHJvdmlkZXIpIHtcbiAgaWYgKCFwcm92aWRlcikge1xuICAgIHByb3ZpZGVyID0gcHJpb3JpdHk7XG4gICAgcHJpb3JpdHkgPSBERUZBVUxUX1BSSU9SSVRZO1xuICB9XG5cbiAgdGhpcy5fZXZlbnRCdXMub24oJ3BvcHVwTWVudS5nZXRQcm92aWRlcnMuJyArIGlkLCBwcmlvcml0eSwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBldmVudC5wcm92aWRlcnMucHVzaChwcm92aWRlcik7XG4gIH0pO1xufTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgdGhlIHBvcHVwIG1lbnUgaGFzIGVudHJpZXMuXG4gKlxuICogQHJldHVybiB7Ym9vbGVhbn0gdHJ1ZSBpZiBlbXB0eVxuICovXG5Qb3B1cE1lbnUucHJvdG90eXBlLmlzRW1wdHkgPSBmdW5jdGlvbihlbGVtZW50LCBwcm92aWRlcklkKSB7XG4gIGlmICghZWxlbWVudCkge1xuICAgIHRocm93IG5ldyBFcnJvcignZWxlbWVudCBwYXJhbWV0ZXIgaXMgbWlzc2luZycpO1xuICB9XG5cbiAgaWYgKCFwcm92aWRlcklkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm92aWRlcklkIHBhcmFtZXRlciBpcyBtaXNzaW5nJyk7XG4gIH1cblxuICB2YXIgcHJvdmlkZXJzID0gdGhpcy5fZ2V0UHJvdmlkZXJzKHByb3ZpZGVySWQpO1xuXG4gIGlmICghcHJvdmlkZXJzKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICB2YXIgZW50cmllcyA9IHRoaXMuX2dldEVudHJpZXMoZWxlbWVudCwgcHJvdmlkZXJzKSxcbiAgICAgIGhlYWRlckVudHJpZXMgPSB0aGlzLl9nZXRIZWFkZXJFbnRyaWVzKGVsZW1lbnQsIHByb3ZpZGVycyk7XG5cbiAgdmFyIGhhc0VudHJpZXMgPSBzaXplKGVudHJpZXMpID4gMCxcbiAgICAgIGhhc0hlYWRlckVudHJpZXMgPSBoZWFkZXJFbnRyaWVzICYmIHNpemUoaGVhZGVyRW50cmllcykgPiAwO1xuXG4gIHJldHVybiAhaGFzRW50cmllcyAmJiAhaGFzSGVhZGVyRW50cmllcztcbn07XG5cblxuLyoqXG4gKiBDcmVhdGUgZW50cmllcyBhbmQgb3BlbiBwb3B1cCBtZW51IGF0IGdpdmVuIHBvc2l0aW9uXG4gKlxuICogQHBhcmFtICB7T2JqZWN0fSBlbGVtZW50XG4gKiBAcGFyYW0gIHtzdHJpbmd9IGlkIHByb3ZpZGVyIGlkXG4gKiBAcGFyYW0gIHtPYmplY3R9IHBvc2l0aW9uXG4gKlxuICogQHJldHVybiB7T2JqZWN0fSBwb3B1cCBtZW51IGluc3RhbmNlXG4gKi9cblBvcHVwTWVudS5wcm90b3R5cGUub3BlbiA9IGZ1bmN0aW9uKGVsZW1lbnQsIGlkLCBwb3NpdGlvbikge1xuXG4gIHZhciBwcm92aWRlcnMgPSB0aGlzLl9nZXRQcm92aWRlcnMoaWQpO1xuXG4gIGlmICghZWxlbWVudCkge1xuICAgIHRocm93IG5ldyBFcnJvcignRWxlbWVudCBpcyBtaXNzaW5nJyk7XG4gIH1cblxuICBpZiAoIXByb3ZpZGVycyB8fCAhcHJvdmlkZXJzLmxlbmd0aCkge1xuICAgIHRocm93IG5ldyBFcnJvcignTm8gcmVnaXN0ZXJlZCBwcm92aWRlcnMgZm9yOiAnICsgaWQpO1xuICB9XG5cbiAgaWYgKCFwb3NpdGlvbikge1xuICAgIHRocm93IG5ldyBFcnJvcigndGhlIHBvc2l0aW9uIGFyZ3VtZW50IGlzIG1pc3NpbmcnKTtcbiAgfVxuXG4gIGlmICh0aGlzLmlzT3BlbigpKSB7XG4gICAgdGhpcy5jbG9zZSgpO1xuICB9XG5cbiAgdGhpcy5fZW1pdCgnb3BlbicpO1xuXG4gIHZhciBjdXJyZW50ID0gdGhpcy5fY3VycmVudCA9IHtcbiAgICBjbGFzc05hbWU6IGlkLFxuICAgIGVsZW1lbnQ6IGVsZW1lbnQsXG4gICAgcG9zaXRpb246IHBvc2l0aW9uXG4gIH07XG5cbiAgdmFyIGVudHJpZXMgPSB0aGlzLl9nZXRFbnRyaWVzKGVsZW1lbnQsIHByb3ZpZGVycyksXG4gICAgICBoZWFkZXJFbnRyaWVzID0gdGhpcy5fZ2V0SGVhZGVyRW50cmllcyhlbGVtZW50LCBwcm92aWRlcnMpO1xuXG4gIGN1cnJlbnQuZW50cmllcyA9IGFzc2lnbih7fSwgZW50cmllcywgaGVhZGVyRW50cmllcyk7XG5cbiAgY3VycmVudC5jb250YWluZXIgPSB0aGlzLl9jcmVhdGVDb250YWluZXIoKTtcblxuICBpZiAoc2l6ZShoZWFkZXJFbnRyaWVzKSkge1xuICAgIGN1cnJlbnQuY29udGFpbmVyLmFwcGVuZENoaWxkKFxuICAgICAgdGhpcy5fY3JlYXRlRW50cmllcyhoZWFkZXJFbnRyaWVzLCAnZGpzLXBvcHVwLWhlYWRlcicpXG4gICAgKTtcbiAgfVxuXG4gIGlmIChzaXplKGVudHJpZXMpKSB7XG4gICAgY3VycmVudC5jb250YWluZXIuYXBwZW5kQ2hpbGQoXG4gICAgICB0aGlzLl9jcmVhdGVFbnRyaWVzKGVudHJpZXMsICdkanMtcG9wdXAtYm9keScpXG4gICAgKTtcbiAgfVxuXG4gIHZhciBjYW52YXMgPSB0aGlzLl9jYW52YXMsXG4gICAgICBwYXJlbnQgPSBjYW52YXMuZ2V0Q29udGFpbmVyKCk7XG5cbiAgdGhpcy5fYXR0YWNoQ29udGFpbmVyKGN1cnJlbnQuY29udGFpbmVyLCBwYXJlbnQsIHBvc2l0aW9uLmN1cnNvcik7XG4gIHRoaXMuX2JpbmRBdXRvQ2xvc2UoKTtcbn07XG5cblxuLyoqXG4gKiBSZW1vdmVzIHRoZSBwb3B1cCBtZW51IGFuZCB1bmJpbmRzIHRoZSBldmVudCBoYW5kbGVycy5cbiAqL1xuUG9wdXBNZW51LnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uKCkge1xuXG4gIGlmICghdGhpcy5pc09wZW4oKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHRoaXMuX2VtaXQoJ2Nsb3NlJyk7XG5cbiAgdGhpcy5fdW5iaW5kQXV0b0Nsb3NlKCk7XG4gIGRvbVJlbW92ZSh0aGlzLl9jdXJyZW50LmNvbnRhaW5lcik7XG4gIHRoaXMuX2N1cnJlbnQuY29udGFpbmVyID0gbnVsbDtcbn07XG5cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYW4gb3BlbiBwb3B1cCBtZW51IGV4aXN0LlxuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59IHRydWUgaWYgb3BlblxuICovXG5Qb3B1cE1lbnUucHJvdG90eXBlLmlzT3BlbiA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gISF0aGlzLl9jdXJyZW50LmNvbnRhaW5lcjtcbn07XG5cblxuLyoqXG4gKiBUcmlnZ2VyIGFuIGFjdGlvbiBhc3NvY2lhdGVkIHdpdGggYW4gZW50cnkuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGV2ZW50XG4gKlxuICogQHJldHVybiB0aGUgcmVzdWx0IG9mIHRoZSBhY3Rpb24gY2FsbGJhY2ssIGlmIGFueVxuICovXG5Qb3B1cE1lbnUucHJvdG90eXBlLnRyaWdnZXIgPSBmdW5jdGlvbihldmVudCkge1xuXG4gIC8vIHNpbGVuY2Ugb3RoZXIgYWN0aW9uc1xuICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gIHZhciBlbGVtZW50ID0gZXZlbnQuZGVsZWdhdGVUYXJnZXQgfHwgZXZlbnQudGFyZ2V0LFxuICAgICAgZW50cnlJZCA9IGRvbUF0dHIoZWxlbWVudCwgREFUQV9SRUYpO1xuXG4gIHZhciBlbnRyeSA9IHRoaXMuX2dldEVudHJ5KGVudHJ5SWQpO1xuXG4gIGlmIChlbnRyeS5hY3Rpb24pIHtcbiAgICByZXR1cm4gZW50cnkuYWN0aW9uLmNhbGwobnVsbCwgZXZlbnQsIGVudHJ5KTtcbiAgfVxufTtcblxuUG9wdXBNZW51LnByb3RvdHlwZS5fZ2V0UHJvdmlkZXJzID0gZnVuY3Rpb24oaWQpIHtcblxuICB2YXIgZXZlbnQgPSB0aGlzLl9ldmVudEJ1cy5jcmVhdGVFdmVudCh7XG4gICAgdHlwZTogJ3BvcHVwTWVudS5nZXRQcm92aWRlcnMuJyArIGlkLFxuICAgIHByb3ZpZGVyczogW11cbiAgfSk7XG5cbiAgdGhpcy5fZXZlbnRCdXMuZmlyZShldmVudCk7XG5cbiAgcmV0dXJuIGV2ZW50LnByb3ZpZGVycztcbn07XG5cblBvcHVwTWVudS5wcm90b3R5cGUuX2dldEVudHJpZXMgPSBmdW5jdGlvbihlbGVtZW50LCBwcm92aWRlcnMpIHtcblxuICB2YXIgZW50cmllcyA9IHt9O1xuXG4gIGZvckVhY2gocHJvdmlkZXJzLCBmdW5jdGlvbihwcm92aWRlcikge1xuXG4gICAgLy8gaGFuZGxlIGxlZ2FjeSBtZXRob2RcbiAgICBpZiAoIXByb3ZpZGVyLmdldFBvcHVwTWVudUVudHJpZXMpIHtcbiAgICAgIGZvckVhY2gocHJvdmlkZXIuZ2V0RW50cmllcyhlbGVtZW50KSwgZnVuY3Rpb24oZW50cnkpIHtcbiAgICAgICAgdmFyIGlkID0gZW50cnkuaWQ7XG5cbiAgICAgICAgaWYgKCFpZCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignZXZlcnkgZW50cnkgbXVzdCBoYXZlIHRoZSBpZCBwcm9wZXJ0eSBzZXQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVudHJpZXNbaWRdID0gb21pdChlbnRyeSwgWyAnaWQnIF0pO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgZW50cmllc09yVXBkYXRlciA9IHByb3ZpZGVyLmdldFBvcHVwTWVudUVudHJpZXMoZWxlbWVudCk7XG5cbiAgICBpZiAoaXNGdW5jdGlvbihlbnRyaWVzT3JVcGRhdGVyKSkge1xuICAgICAgZW50cmllcyA9IGVudHJpZXNPclVwZGF0ZXIoZW50cmllcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvckVhY2goZW50cmllc09yVXBkYXRlciwgZnVuY3Rpb24oZW50cnksIGlkKSB7XG4gICAgICAgIGVudHJpZXNbaWRdID0gZW50cnk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBlbnRyaWVzO1xufTtcblxuUG9wdXBNZW51LnByb3RvdHlwZS5fZ2V0SGVhZGVyRW50cmllcyA9IGZ1bmN0aW9uKGVsZW1lbnQsIHByb3ZpZGVycykge1xuXG4gIHZhciBlbnRyaWVzID0ge307XG5cbiAgZm9yRWFjaChwcm92aWRlcnMsIGZ1bmN0aW9uKHByb3ZpZGVyKSB7XG5cbiAgICAvLyBoYW5kbGUgbGVnYWN5IG1ldGhvZFxuICAgIGlmICghcHJvdmlkZXIuZ2V0UG9wdXBNZW51SGVhZGVyRW50cmllcykge1xuICAgICAgaWYgKCFwcm92aWRlci5nZXRIZWFkZXJFbnRyaWVzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgZm9yRWFjaChwcm92aWRlci5nZXRIZWFkZXJFbnRyaWVzKGVsZW1lbnQpLCBmdW5jdGlvbihlbnRyeSkge1xuICAgICAgICB2YXIgaWQgPSBlbnRyeS5pZDtcblxuICAgICAgICBpZiAoIWlkKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdldmVyeSBlbnRyeSBtdXN0IGhhdmUgdGhlIGlkIHByb3BlcnR5IHNldCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgZW50cmllc1tpZF0gPSBvbWl0KGVudHJ5LCBbICdpZCcgXSk7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBlbnRyaWVzT3JVcGRhdGVyID0gcHJvdmlkZXIuZ2V0UG9wdXBNZW51SGVhZGVyRW50cmllcyhlbGVtZW50KTtcblxuICAgIGlmIChpc0Z1bmN0aW9uKGVudHJpZXNPclVwZGF0ZXIpKSB7XG4gICAgICBlbnRyaWVzID0gZW50cmllc09yVXBkYXRlcihlbnRyaWVzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZm9yRWFjaChlbnRyaWVzT3JVcGRhdGVyLCBmdW5jdGlvbihlbnRyeSwgaWQpIHtcbiAgICAgICAgZW50cmllc1tpZF0gPSBlbnRyeTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIGVudHJpZXM7XG5cblxufTtcblxuLyoqXG4gKiBHZXRzIGFuIGVudHJ5IGluc3RhbmNlIChlaXRoZXIgZW50cnkgb3IgaGVhZGVyRW50cnkpIGJ5IGlkLlxuICpcbiAqIEBwYXJhbSAge3N0cmluZ30gZW50cnlJZFxuICpcbiAqIEByZXR1cm4ge09iamVjdH0gZW50cnkgaW5zdGFuY2VcbiAqL1xuUG9wdXBNZW51LnByb3RvdHlwZS5fZ2V0RW50cnkgPSBmdW5jdGlvbihlbnRyeUlkKSB7XG5cbiAgdmFyIGVudHJ5ID0gdGhpcy5fY3VycmVudC5lbnRyaWVzW2VudHJ5SWRdO1xuXG4gIGlmICghZW50cnkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2VudHJ5IG5vdCBmb3VuZCcpO1xuICB9XG5cbiAgcmV0dXJuIGVudHJ5O1xufTtcblxuUG9wdXBNZW51LnByb3RvdHlwZS5fZW1pdCA9IGZ1bmN0aW9uKGV2ZW50TmFtZSkge1xuICB0aGlzLl9ldmVudEJ1cy5maXJlKCdwb3B1cE1lbnUuJyArIGV2ZW50TmFtZSk7XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgdGhlIHBvcHVwIG1lbnUgY29udGFpbmVyLlxuICpcbiAqIEByZXR1cm4ge09iamVjdH0gYSBET00gY29udGFpbmVyXG4gKi9cblBvcHVwTWVudS5wcm90b3R5cGUuX2NyZWF0ZUNvbnRhaW5lciA9IGZ1bmN0aW9uKCkge1xuICB2YXIgY29udGFpbmVyID0gZG9taWZ5KCc8ZGl2IGNsYXNzPVwiZGpzLXBvcHVwXCI+JyksXG4gICAgICBwb3NpdGlvbiA9IHRoaXMuX2N1cnJlbnQucG9zaXRpb24sXG4gICAgICBjbGFzc05hbWUgPSB0aGlzLl9jdXJyZW50LmNsYXNzTmFtZTtcblxuICBhc3NpZ24oY29udGFpbmVyLnN0eWxlLCB7XG4gICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgbGVmdDogcG9zaXRpb24ueCArICdweCcsXG4gICAgdG9wOiBwb3NpdGlvbi55ICsgJ3B4JyxcbiAgICB2aXNpYmlsaXR5OiAnaGlkZGVuJ1xuICB9KTtcblxuICBkb21DbGFzc2VzKGNvbnRhaW5lcikuYWRkKGNsYXNzTmFtZSk7XG5cbiAgcmV0dXJuIGNvbnRhaW5lcjtcbn07XG5cblxuLyoqXG4gKiBBdHRhY2hlcyB0aGUgY29udGFpbmVyIHRvIHRoZSBET00uXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGNvbnRhaW5lclxuICogQHBhcmFtIHtPYmplY3R9IHBhcmVudFxuICovXG5Qb3B1cE1lbnUucHJvdG90eXBlLl9hdHRhY2hDb250YWluZXIgPSBmdW5jdGlvbihjb250YWluZXIsIHBhcmVudCwgY3Vyc29yKSB7XG4gIHZhciBzZWxmID0gdGhpcztcblxuICAvLyBFdmVudCBoYW5kbGVyXG4gIGRvbURlbGVnYXRlLmJpbmQoY29udGFpbmVyLCAnLmVudHJ5JyAsJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBzZWxmLnRyaWdnZXIoZXZlbnQpO1xuICB9KTtcblxuICB0aGlzLl91cGRhdGVTY2FsZShjb250YWluZXIpO1xuXG4gIC8vIEF0dGFjaCB0byBET01cbiAgcGFyZW50LmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XG5cbiAgaWYgKGN1cnNvcikge1xuICAgIHRoaXMuX2Fzc3VyZUlzSW5ib3VuZHMoY29udGFpbmVyLCBjdXJzb3IpO1xuICB9XG59O1xuXG5cbi8qKlxuICogVXBkYXRlcyBwb3B1cCBzdHlsZS50cmFuc2Zvcm0gd2l0aCByZXNwZWN0IHRvIHRoZSBjb25maWcgYW5kIHpvb20gbGV2ZWwuXG4gKlxuICogQG1ldGhvZCBfdXBkYXRlU2NhbGVcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gY29udGFpbmVyXG4gKi9cblBvcHVwTWVudS5wcm90b3R5cGUuX3VwZGF0ZVNjYWxlID0gZnVuY3Rpb24oY29udGFpbmVyKSB7XG4gIHZhciB6b29tID0gdGhpcy5fY2FudmFzLnpvb20oKTtcblxuICB2YXIgc2NhbGVDb25maWcgPSB0aGlzLl9jb25maWcuc2NhbGUsXG4gICAgICBtaW5TY2FsZSxcbiAgICAgIG1heFNjYWxlLFxuICAgICAgc2NhbGUgPSB6b29tO1xuXG4gIGlmIChzY2FsZUNvbmZpZyAhPT0gdHJ1ZSkge1xuXG4gICAgaWYgKHNjYWxlQ29uZmlnID09PSBmYWxzZSkge1xuICAgICAgbWluU2NhbGUgPSAxO1xuICAgICAgbWF4U2NhbGUgPSAxO1xuICAgIH0gZWxzZSB7XG4gICAgICBtaW5TY2FsZSA9IHNjYWxlQ29uZmlnLm1pbjtcbiAgICAgIG1heFNjYWxlID0gc2NhbGVDb25maWcubWF4O1xuICAgIH1cblxuICAgIGlmIChpc0RlZmluZWQobWluU2NhbGUpICYmIHpvb20gPCBtaW5TY2FsZSkge1xuICAgICAgc2NhbGUgPSBtaW5TY2FsZTtcbiAgICB9XG5cbiAgICBpZiAoaXNEZWZpbmVkKG1heFNjYWxlKSAmJiB6b29tID4gbWF4U2NhbGUpIHtcbiAgICAgIHNjYWxlID0gbWF4U2NhbGU7XG4gICAgfVxuXG4gIH1cblxuICBzZXRUcmFuc2Zvcm0oY29udGFpbmVyLCAnc2NhbGUoJyArIHNjYWxlICsgJyknKTtcbn07XG5cblxuLyoqXG4gKiBNYWtlIHN1cmUgdGhhdCB0aGUgbWVudSBpcyBhbHdheXMgZnVsbHkgc2hvd25cbiAqXG4gKiBAbWV0aG9kIGZ1bmN0aW9uXG4gKlxuICogQHBhcmFtICB7T2JqZWN0fSBjb250YWluZXJcbiAqIEBwYXJhbSAge1Bvc2l0aW9ufSBjdXJzb3Ige3gsIHl9XG4gKi9cblBvcHVwTWVudS5wcm90b3R5cGUuX2Fzc3VyZUlzSW5ib3VuZHMgPSBmdW5jdGlvbihjb250YWluZXIsIGN1cnNvcikge1xuICB2YXIgY2FudmFzID0gdGhpcy5fY2FudmFzLFxuICAgICAgY2xpZW50UmVjdCA9IGNhbnZhcy5fY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gIHZhciBjb250YWluZXJYID0gY29udGFpbmVyLm9mZnNldExlZnQsXG4gICAgICBjb250YWluZXJZID0gY29udGFpbmVyLm9mZnNldFRvcCxcbiAgICAgIGNvbnRhaW5lcldpZHRoID0gY29udGFpbmVyLnNjcm9sbFdpZHRoLFxuICAgICAgY29udGFpbmVySGVpZ2h0ID0gY29udGFpbmVyLnNjcm9sbEhlaWdodCxcbiAgICAgIG92ZXJBeGlzID0ge30sXG4gICAgICBsZWZ0LCB0b3A7XG5cbiAgdmFyIGN1cnNvclBvc2l0aW9uID0ge1xuICAgIHg6IGN1cnNvci54IC0gY2xpZW50UmVjdC5sZWZ0LFxuICAgIHk6IGN1cnNvci55IC0gY2xpZW50UmVjdC50b3BcbiAgfTtcblxuICBpZiAoY29udGFpbmVyWCArIGNvbnRhaW5lcldpZHRoID4gY2xpZW50UmVjdC53aWR0aCkge1xuICAgIG92ZXJBeGlzLnggPSB0cnVlO1xuICB9XG5cbiAgaWYgKGNvbnRhaW5lclkgKyBjb250YWluZXJIZWlnaHQgPiBjbGllbnRSZWN0LmhlaWdodCkge1xuICAgIG92ZXJBeGlzLnkgPSB0cnVlO1xuICB9XG5cbiAgaWYgKG92ZXJBeGlzLnggJiYgb3ZlckF4aXMueSkge1xuICAgIGxlZnQgPSBjdXJzb3JQb3NpdGlvbi54IC0gY29udGFpbmVyV2lkdGggKyAncHgnO1xuICAgIHRvcCA9IGN1cnNvclBvc2l0aW9uLnkgLSBjb250YWluZXJIZWlnaHQgKyAncHgnO1xuICB9IGVsc2UgaWYgKG92ZXJBeGlzLngpIHtcbiAgICBsZWZ0ID0gY3Vyc29yUG9zaXRpb24ueCAtIGNvbnRhaW5lcldpZHRoICsgJ3B4JztcbiAgICB0b3AgPSBjdXJzb3JQb3NpdGlvbi55ICsgJ3B4JztcbiAgfSBlbHNlIGlmIChvdmVyQXhpcy55ICYmIGN1cnNvclBvc2l0aW9uLnkgPCBjb250YWluZXJIZWlnaHQpIHtcbiAgICBsZWZ0ID0gY3Vyc29yUG9zaXRpb24ueCArICdweCc7XG4gICAgdG9wID0gMTAgKyAncHgnO1xuICB9IGVsc2UgaWYgKG92ZXJBeGlzLnkpIHtcbiAgICBsZWZ0ID0gY3Vyc29yUG9zaXRpb24ueCArICdweCc7XG4gICAgdG9wID0gY3Vyc29yUG9zaXRpb24ueSAtIGNvbnRhaW5lckhlaWdodCArICdweCc7XG4gIH1cblxuICBhc3NpZ24oY29udGFpbmVyLnN0eWxlLCB7IGxlZnQ6IGxlZnQsIHRvcDogdG9wIH0sIHsgdmlzaWJpbGl0eTogJ3Zpc2libGUnLCAnei1pbmRleCc6IDEwMDAgfSk7XG59O1xuXG5cbi8qKlxuICogQ3JlYXRlcyBhIGxpc3Qgb2YgZW50cmllcyBhbmQgcmV0dXJucyB0aGVtIGFzIGEgRE9NIGNvbnRhaW5lci5cbiAqXG4gKiBAcGFyYW0ge0FycmF5PE9iamVjdD59IGVudHJpZXMgYW4gYXJyYXkgb2YgZW50cnkgb2JqZWN0c1xuICogQHBhcmFtIHtzdHJpbmd9IGNsYXNzTmFtZSB0aGUgY2xhc3MgbmFtZSBvZiB0aGUgZW50cnkgY29udGFpbmVyXG4gKlxuICogQHJldHVybiB7T2JqZWN0fSBhIERPTSBjb250YWluZXJcbiAqL1xuUG9wdXBNZW51LnByb3RvdHlwZS5fY3JlYXRlRW50cmllcyA9IGZ1bmN0aW9uKGVudHJpZXMsIGNsYXNzTmFtZSkge1xuXG4gIHZhciBlbnRyaWVzQ29udGFpbmVyID0gZG9taWZ5KCc8ZGl2PicpLFxuICAgICAgc2VsZiA9IHRoaXM7XG5cbiAgZG9tQ2xhc3NlcyhlbnRyaWVzQ29udGFpbmVyKS5hZGQoY2xhc3NOYW1lKTtcblxuICBmb3JFYWNoKGVudHJpZXMsIGZ1bmN0aW9uKGVudHJ5LCBpZCkge1xuICAgIHZhciBlbnRyeUNvbnRhaW5lciA9IHNlbGYuX2NyZWF0ZUVudHJ5KGVudHJ5LCBpZCk7XG4gICAgZW50cmllc0NvbnRhaW5lci5hcHBlbmRDaGlsZChlbnRyeUNvbnRhaW5lcik7XG4gIH0pO1xuXG4gIHJldHVybiBlbnRyaWVzQ29udGFpbmVyO1xufTtcblxuXG4vKipcbiAqIENyZWF0ZXMgYSBzaW5nbGUgZW50cnkgYW5kIHJldHVybnMgaXQgYXMgYSBET00gY29udGFpbmVyLlxuICpcbiAqIEBwYXJhbSAge09iamVjdH0gZW50cnlcbiAqXG4gKiBAcmV0dXJuIHtPYmplY3R9IGEgRE9NIGNvbnRhaW5lclxuICovXG5Qb3B1cE1lbnUucHJvdG90eXBlLl9jcmVhdGVFbnRyeSA9IGZ1bmN0aW9uKGVudHJ5LCBpZCkge1xuXG4gIHZhciBlbnRyeUNvbnRhaW5lciA9IGRvbWlmeSgnPGRpdj4nKSxcbiAgICAgIGVudHJ5Q2xhc3NlcyA9IGRvbUNsYXNzZXMoZW50cnlDb250YWluZXIpO1xuXG4gIGVudHJ5Q2xhc3Nlcy5hZGQoJ2VudHJ5Jyk7XG5cbiAgaWYgKGVudHJ5LmNsYXNzTmFtZSkge1xuICAgIGVudHJ5LmNsYXNzTmFtZS5zcGxpdCgnICcpLmZvckVhY2goZnVuY3Rpb24oY2xhc3NOYW1lKSB7XG4gICAgICBlbnRyeUNsYXNzZXMuYWRkKGNsYXNzTmFtZSk7XG4gICAgfSk7XG4gIH1cblxuICBkb21BdHRyKGVudHJ5Q29udGFpbmVyLCBEQVRBX1JFRiwgaWQpO1xuXG4gIGlmIChlbnRyeS5sYWJlbCkge1xuICAgIHZhciBsYWJlbCA9IGRvbWlmeSgnPHNwYW4+Jyk7XG4gICAgbGFiZWwudGV4dENvbnRlbnQgPSBlbnRyeS5sYWJlbDtcbiAgICBlbnRyeUNvbnRhaW5lci5hcHBlbmRDaGlsZChsYWJlbCk7XG4gIH1cblxuICBpZiAoZW50cnkuaW1hZ2VVcmwpIHtcbiAgICBlbnRyeUNvbnRhaW5lci5hcHBlbmRDaGlsZChkb21pZnkoJzxpbWcgc3JjPVwiJyArIGVudHJ5LmltYWdlVXJsICsgJ1wiIC8+JykpO1xuICB9XG5cbiAgaWYgKGVudHJ5LmFjdGl2ZSA9PT0gdHJ1ZSkge1xuICAgIGVudHJ5Q2xhc3Nlcy5hZGQoJ2FjdGl2ZScpO1xuICB9XG5cbiAgaWYgKGVudHJ5LmRpc2FibGVkID09PSB0cnVlKSB7XG4gICAgZW50cnlDbGFzc2VzLmFkZCgnZGlzYWJsZWQnKTtcbiAgfVxuXG4gIGlmIChlbnRyeS50aXRsZSkge1xuICAgIGVudHJ5Q29udGFpbmVyLnRpdGxlID0gZW50cnkudGl0bGU7XG4gIH1cblxuICByZXR1cm4gZW50cnlDb250YWluZXI7XG59O1xuXG5cbi8qKlxuICogU2V0IHVwIGxpc3RlbmVyIHRvIGNsb3NlIHBvcHVwIGF1dG9tYXRpY2FsbHkgb24gY2VydGFpbiBldmVudHMuXG4gKi9cblBvcHVwTWVudS5wcm90b3R5cGUuX2JpbmRBdXRvQ2xvc2UgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5fZXZlbnRCdXMub25jZShDTE9TRV9FVkVOVFMsIHRoaXMuY2xvc2UsIHRoaXMpO1xufTtcblxuXG4vKipcbiAqIFJlbW92ZSB0aGUgYXV0by1jbG9zaW5nIGxpc3RlbmVyLlxuICovXG5Qb3B1cE1lbnUucHJvdG90eXBlLl91bmJpbmRBdXRvQ2xvc2UgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5fZXZlbnRCdXMub2ZmKENMT1NFX0VWRU5UUywgdGhpcy5jbG9zZSwgdGhpcyk7XG59O1xuXG5cblxuLy8gaGVscGVycyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5mdW5jdGlvbiBzZXRUcmFuc2Zvcm0oZWxlbWVudCwgdHJhbnNmb3JtKSB7XG4gIGVsZW1lbnQuc3R5bGVbJ3RyYW5zZm9ybS1vcmlnaW4nXSA9ICd0b3AgbGVmdCc7XG5cbiAgWyAnJywgJy1tcy0nLCAnLXdlYmtpdC0nIF0uZm9yRWFjaChmdW5jdGlvbihwcmVmaXgpIHtcbiAgICBlbGVtZW50LnN0eWxlW3ByZWZpeCArICd0cmFuc2Zvcm0nXSA9IHRyYW5zZm9ybTtcbiAgfSk7XG59IiwiaW1wb3J0IFBvcHVwTWVudSBmcm9tICcuL1BvcHVwTWVudSc7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgX19pbml0X186IFsgJ3BvcHVwTWVudScgXSxcbiAgcG9wdXBNZW51OiBbICd0eXBlJywgUG9wdXBNZW51IF1cbn07XG4iLCIvKipcbiAqIEEgY2xpcCBib2FyZCBzdHViXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENsaXBib2FyZCgpIHt9XG5cblxuQ2xpcGJvYXJkLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuX2RhdGE7XG59O1xuXG5DbGlwYm9hcmQucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgdGhpcy5fZGF0YSA9IGRhdGE7XG59O1xuXG5DbGlwYm9hcmQucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24oKSB7XG4gIHZhciBkYXRhID0gdGhpcy5fZGF0YTtcblxuICBkZWxldGUgdGhpcy5fZGF0YTtcblxuICByZXR1cm4gZGF0YTtcbn07XG5cbkNsaXBib2FyZC5wcm90b3R5cGUuaXNFbXB0eSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gIXRoaXMuX2RhdGE7XG59OyIsImltcG9ydCBDbGlwYm9hcmQgZnJvbSAnLi9DbGlwYm9hcmQnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGNsaXBib2FyZDogWyAndHlwZScsIENsaXBib2FyZCBdXG59O1xuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTW91c2UoZXZlbnRCdXMpIHtcclxuICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gIHRoaXMuX2xhc3RNb3ZlRXZlbnQgPSBudWxsO1xyXG5cclxuICBmdW5jdGlvbiBzZXRMYXN0TW92ZUV2ZW50KG1vdXNlbW92ZUV2ZW50KSB7XHJcbiAgICBzZWxmLl9sYXN0TW92ZUV2ZW50ID0gbW91c2Vtb3ZlRXZlbnQ7XHJcbiAgfVxyXG5cclxuICBldmVudEJ1cy5vbignY2FudmFzLmluaXQnLCBmdW5jdGlvbihjb250ZXh0KSB7XHJcbiAgICB2YXIgc3ZnID0gc2VsZi5fc3ZnID0gY29udGV4dC5zdmc7XHJcblxyXG4gICAgc3ZnLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHNldExhc3RNb3ZlRXZlbnQpO1xyXG4gIH0pO1xyXG5cclxuICBldmVudEJ1cy5vbignY2FudmFzLmRlc3Ryb3knLCBmdW5jdGlvbigpIHtcclxuICAgIHNlbGYuX2xhc3RNb3VzZUV2ZW50ID0gbnVsbDtcclxuXHJcbiAgICBzZWxmLl9zdmcucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgc2V0TGFzdE1vdmVFdmVudCk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbk1vdXNlLiRpbmplY3QgPSBbICdldmVudEJ1cycgXTtcclxuXHJcbk1vdXNlLnByb3RvdHlwZS5nZXRMYXN0TW92ZUV2ZW50ID0gZnVuY3Rpb24oKSB7XHJcbiAgcmV0dXJuIHRoaXMuX2xhc3RNb3ZlRXZlbnQgfHwgY3JlYXRlTW92ZUV2ZW50KDAsIDApO1xyXG59O1xyXG5cclxuLy8gaGVscGVycyAvLy8vLy8vLy8vXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTW92ZUV2ZW50KHgsIHkpIHtcclxuICB2YXIgZXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnTW91c2VFdmVudCcpO1xyXG5cclxuICB2YXIgc2NyZWVuWCA9IHgsXHJcbiAgICAgIHNjcmVlblkgPSB5LFxyXG4gICAgICBjbGllbnRYID0geCxcclxuICAgICAgY2xpZW50WSA9IHk7XHJcblxyXG4gIGlmIChldmVudC5pbml0TW91c2VFdmVudCkge1xyXG4gICAgZXZlbnQuaW5pdE1vdXNlRXZlbnQoXHJcbiAgICAgICdtb3VzZW1vdmUnLFxyXG4gICAgICB0cnVlLFxyXG4gICAgICB0cnVlLFxyXG4gICAgICB3aW5kb3csXHJcbiAgICAgIDAsXHJcbiAgICAgIHNjcmVlblgsXHJcbiAgICAgIHNjcmVlblksXHJcbiAgICAgIGNsaWVudFgsXHJcbiAgICAgIGNsaWVudFksXHJcbiAgICAgIGZhbHNlLFxyXG4gICAgICBmYWxzZSxcclxuICAgICAgZmFsc2UsXHJcbiAgICAgIGZhbHNlLFxyXG4gICAgICAwLFxyXG4gICAgICBudWxsXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGV2ZW50O1xyXG59IiwiaW1wb3J0IE1vdXNlIGZyb20gJy4vTW91c2UnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9faW5pdF9fOiBbICdtb3VzZScgXSxcbiAgbW91c2U6IFsgJ3R5cGUnLCBNb3VzZSBdXG59O1xuIiwiaW1wb3J0IHtcbiAgYXNzaWduLFxuICBmaW5kLFxuICBmb3JFYWNoLFxuICBpc0FycmF5LFxuICBpc051bWJlcixcbiAgbWFwLFxuICBtYXRjaFBhdHRlcm4sXG4gIG9taXQsXG4gIHNvcnRCeVxufSBmcm9tICdtaW4tZGFzaCc7XG5cbmltcG9ydCB7XG4gIGdldEJCb3gsXG4gIGdldFBhcmVudHNcbn0gZnJvbSAnLi4vLi4vdXRpbC9FbGVtZW50cyc7XG5cbmltcG9ydCB7IGVhY2hFbGVtZW50IH0gZnJvbSAnLi4vLi4vdXRpbC9FbGVtZW50cyc7XG5cbi8qKlxuICogQHR5cGVkZWYge0Z1bmN0aW9ufSA8Y29weVBhc3RlLmNhbkNvcHlFbGVtZW50cz4gbGlzdGVuZXJcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gY29udGV4dFxuICogQHBhcmFtIHtBcnJheTxkanMubW9kZWwuQmFzZT59IGNvbnRleHQuZWxlbWVudHNcbiAqXG4gKiBAcmV0dXJucyB7QXJyYXk8ZGpzLm1vZGVsLkJhc2U+fGJvb2xlYW59IC0gUmV0dXJuIGVsZW1lbnRzIHRvIGJlIGNvcGllZCBvciBmYWxzZSB0byBkaXNhbGxvd1xuICogY29weWluZy5cbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtGdW5jdGlvbn0gPGNvcHlQYXN0ZS5jb3B5RWxlbWVudD4gbGlzdGVuZXJcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gY29udGV4dFxuICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHQuZGVzY3JpcHRvclxuICogQHBhcmFtIHtkanMubW9kZWwuQmFzZX0gY29udGV4dC5lbGVtZW50XG4gKiBAcGFyYW0ge0FycmF5PGRqcy5tb2RlbC5CYXNlPn0gY29udGV4dC5lbGVtZW50c1xuICovXG5cbi8qKlxuICogQHR5cGVkZWYge0Z1bmN0aW9ufSA8Y29weVBhc3RlLmVsZW1lbnRzQ29waWVkPiBsaXN0ZW5lclxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb250ZXh0XG4gKiBAcGFyYW0ge09iamVjdH0gY29udGV4dC5lbGVtZW50c1xuICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHQudHJlZVxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge0Z1bmN0aW9ufSA8Y29weVBhc3RlLnBhc3RlRWxlbWVudD4gbGlzdGVuZXJcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gY29udGV4dFxuICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHQuY2FjaGUgLSBBbHJlYWR5IGNyZWF0ZWQgZWxlbWVudHMuXG4gKiBAcGFyYW0ge09iamVjdH0gY29udGV4dC5kZXNjcmlwdG9yXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7RnVuY3Rpb259IDxjb3B5UGFzdGUucGFzdGVFbGVtZW50cz4gbGlzdGVuZXJcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gY29udGV4dFxuICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHQuaGludHMgLSBBZGQgaGludHMgYmVmb3JlIHBhc3RpbmcuXG4gKi9cblxuLyoqXG4gKiBDb3B5IGFuZCBwYXN0ZSBlbGVtZW50cy5cbiAqXG4gKiBAcGFyYW0ge0NhbnZhc30gY2FudmFzXG4gKiBAcGFyYW0ge0NyZWF0ZX0gY3JlYXRlXG4gKiBAcGFyYW0ge0NsaXBib2FyZH0gY2xpcGJvYXJkXG4gKiBAcGFyYW0ge0VsZW1lbnRGYWN0b3J5fSBlbGVtZW50RmFjdG9yeVxuICogQHBhcmFtIHtFdmVudEJ1c30gZXZlbnRCdXNcbiAqIEBwYXJhbSB7TW9kZWxpbmd9IG1vZGVsaW5nXG4gKiBAcGFyYW0ge01vdXNlfSBtb3VzZVxuICogQHBhcmFtIHtSdWxlc30gcnVsZXNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ29weVBhc3RlKFxuICAgIGNhbnZhcyxcbiAgICBjcmVhdGUsXG4gICAgY2xpcGJvYXJkLFxuICAgIGVsZW1lbnRGYWN0b3J5LFxuICAgIGV2ZW50QnVzLFxuICAgIG1vZGVsaW5nLFxuICAgIG1vdXNlLFxuICAgIHJ1bGVzXG4pIHtcblxuICB0aGlzLl9jYW52YXMgPSBjYW52YXM7XG4gIHRoaXMuX2NyZWF0ZSA9IGNyZWF0ZTtcbiAgdGhpcy5fY2xpcGJvYXJkID0gY2xpcGJvYXJkO1xuICB0aGlzLl9lbGVtZW50RmFjdG9yeSA9IGVsZW1lbnRGYWN0b3J5O1xuICB0aGlzLl9ldmVudEJ1cyA9IGV2ZW50QnVzO1xuICB0aGlzLl9tb2RlbGluZyA9IG1vZGVsaW5nO1xuICB0aGlzLl9tb3VzZSA9IG1vdXNlO1xuICB0aGlzLl9ydWxlcyA9IHJ1bGVzO1xuXG4gIGV2ZW50QnVzLm9uKCdjb3B5UGFzdGUuY29weUVsZW1lbnQnLCBmdW5jdGlvbihjb250ZXh0KSB7XG4gICAgdmFyIGRlc2NyaXB0b3IgPSBjb250ZXh0LmRlc2NyaXB0b3IsXG4gICAgICAgIGVsZW1lbnQgPSBjb250ZXh0LmVsZW1lbnQsXG4gICAgICAgIGVsZW1lbnRzID0gY29udGV4dC5lbGVtZW50cztcblxuICAgIC8vIGRlZmF1bHQgcHJpb3JpdHkgKHByaW9yaXR5ID0gMSlcbiAgICBkZXNjcmlwdG9yLnByaW9yaXR5ID0gMTtcblxuICAgIGRlc2NyaXB0b3IuaWQgPSBlbGVtZW50LmlkO1xuXG4gICAgdmFyIHBhcmVudENvcGllZCA9IGZpbmQoZWxlbWVudHMsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIHJldHVybiBlID09PSBlbGVtZW50LnBhcmVudDtcbiAgICB9KTtcblxuICAgIC8vIGRvIE5PVCByZWZlcmVuY2UgcGFyZW50IGlmIHBhcmVudCB3YXNuJ3QgY29waWVkXG4gICAgaWYgKHBhcmVudENvcGllZCkge1xuICAgICAgZGVzY3JpcHRvci5wYXJlbnQgPSBlbGVtZW50LnBhcmVudC5pZDtcbiAgICB9XG5cbiAgICAvLyBhdHRhY2hlcnMgKHByaW9yaXR5ID0gMilcbiAgICBpZiAoaXNBdHRhY2hlcihlbGVtZW50KSkge1xuICAgICAgZGVzY3JpcHRvci5wcmlvcml0eSA9IDI7XG5cbiAgICAgIGRlc2NyaXB0b3IuaG9zdCA9IGVsZW1lbnQuaG9zdC5pZDtcbiAgICB9XG5cbiAgICAvLyBjb25uZWN0aW9ucyAocHJpb3JpdHkgPSAzKVxuICAgIGlmIChpc0Nvbm5lY3Rpb24oZWxlbWVudCkpIHtcbiAgICAgIGRlc2NyaXB0b3IucHJpb3JpdHkgPSAzO1xuXG4gICAgICBkZXNjcmlwdG9yLnNvdXJjZSA9IGVsZW1lbnQuc291cmNlLmlkO1xuICAgICAgZGVzY3JpcHRvci50YXJnZXQgPSBlbGVtZW50LnRhcmdldC5pZDtcblxuICAgICAgZGVzY3JpcHRvci53YXlwb2ludHMgPSBjb3B5V2F5cG9pbnRzKGVsZW1lbnQpO1xuICAgIH1cblxuICAgIC8vIGxhYmVscyAocHJpb3JpdHkgPSA0KVxuICAgIGlmIChpc0xhYmVsKGVsZW1lbnQpKSB7XG4gICAgICBkZXNjcmlwdG9yLnByaW9yaXR5ID0gNDtcblxuICAgICAgZGVzY3JpcHRvci5sYWJlbFRhcmdldCA9IGVsZW1lbnQubGFiZWxUYXJnZXQuaWQ7XG4gICAgfVxuXG4gICAgZm9yRWFjaChbICd4JywgJ3knLCAnd2lkdGgnLCAnaGVpZ2h0JyBdLCBmdW5jdGlvbihwcm9wZXJ0eSkge1xuICAgICAgaWYgKGlzTnVtYmVyKGVsZW1lbnRbIHByb3BlcnR5IF0pKSB7XG4gICAgICAgIGRlc2NyaXB0b3JbIHByb3BlcnR5IF0gPSBlbGVtZW50WyBwcm9wZXJ0eSBdO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgZGVzY3JpcHRvci5oaWRkZW4gPSBlbGVtZW50LmhpZGRlbjtcbiAgICBkZXNjcmlwdG9yLmNvbGxhcHNlZCA9IGVsZW1lbnQuY29sbGFwc2VkO1xuXG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKCdjb3B5UGFzdGUucGFzdGVFbGVtZW50cycsIGZ1bmN0aW9uKGNvbnRleHQpIHtcbiAgICB2YXIgaGludHMgPSBjb250ZXh0LmhpbnRzO1xuXG4gICAgYXNzaWduKGhpbnRzLCB7XG4gICAgICBjcmVhdGVFbGVtZW50c0JlaGF2aW9yOiBmYWxzZVxuICAgIH0pO1xuICB9KTtcbn1cblxuQ29weVBhc3RlLiRpbmplY3QgPSBbXG4gICdjYW52YXMnLFxuICAnY3JlYXRlJyxcbiAgJ2NsaXBib2FyZCcsXG4gICdlbGVtZW50RmFjdG9yeScsXG4gICdldmVudEJ1cycsXG4gICdtb2RlbGluZycsXG4gICdtb3VzZScsXG4gICdydWxlcydcbl07XG5cblxuLyoqXG4gKiBDb3B5IGVsZW1lbnRzLlxuICpcbiAqIEBwYXJhbSB7QXJyYXk8ZGpzLm1vZGVsLkJhc2U+fSBlbGVtZW50c1xuICpcbiAqIEByZXR1cm5zIHtPYmplY3R9XG4gKi9cbkNvcHlQYXN0ZS5wcm90b3R5cGUuY29weSA9IGZ1bmN0aW9uKGVsZW1lbnRzKSB7XG4gIHZhciBhbGxvd2VkLFxuICAgICAgdHJlZTtcblxuICBpZiAoIWlzQXJyYXkoZWxlbWVudHMpKSB7XG4gICAgZWxlbWVudHMgPSBlbGVtZW50cyA/IFsgZWxlbWVudHMgXSA6IFtdO1xuICB9XG5cbiAgYWxsb3dlZCA9IHRoaXMuX2V2ZW50QnVzLmZpcmUoJ2NvcHlQYXN0ZS5jYW5Db3B5RWxlbWVudHMnLCB7XG4gICAgZWxlbWVudHM6IGVsZW1lbnRzXG4gIH0pO1xuXG4gIGlmIChhbGxvd2VkID09PSBmYWxzZSkge1xuICAgIHRyZWUgPSB7fTtcbiAgfSBlbHNlIHtcbiAgICB0cmVlID0gdGhpcy5jcmVhdGVUcmVlKGlzQXJyYXkoYWxsb3dlZCkgPyBhbGxvd2VkIDogZWxlbWVudHMpO1xuICB9XG5cbiAgLy8gd2Ugc2V0IGFuIGVtcHR5IHRyZWUsIHNlbGVjdGlvbiBvZiBlbGVtZW50c1xuICAvLyB0byBjb3B5IHdhcyBlbXB0eS5cbiAgdGhpcy5fY2xpcGJvYXJkLnNldCh0cmVlKTtcblxuICB0aGlzLl9ldmVudEJ1cy5maXJlKCdjb3B5UGFzdGUuZWxlbWVudHNDb3BpZWQnLCB7XG4gICAgZWxlbWVudHM6IGVsZW1lbnRzLFxuICAgIHRyZWU6IHRyZWVcbiAgfSk7XG5cbiAgcmV0dXJuIHRyZWU7XG59O1xuXG4vKipcbiAqIFBhc3RlIGVsZW1lbnRzLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBbY29udGV4dF1cbiAqIEBwYXJhbSB7ZGpzLm1vZGVsLmJhc2V9IFtjb250ZXh0LmVsZW1lbnRdIC0gUGFyZW50LlxuICogQHBhcmFtIHtQb2ludH0gW2NvbnRleHQucG9pbnRdIC0gUG9zaXRpb24uXG4gKiBAcGFyYW0ge09iamVjdH0gW2NvbnRleHQuaGludHNdIC0gSGludHMuXG4gKi9cbkNvcHlQYXN0ZS5wcm90b3R5cGUucGFzdGUgPSBmdW5jdGlvbihjb250ZXh0KSB7XG4gIHZhciB0cmVlID0gdGhpcy5fY2xpcGJvYXJkLmdldCgpO1xuXG4gIGlmICh0aGlzLl9jbGlwYm9hcmQuaXNFbXB0eSgpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIGhpbnRzID0gY29udGV4dCAmJiBjb250ZXh0LmhpbnRzIHx8IHt9O1xuXG4gIHRoaXMuX2V2ZW50QnVzLmZpcmUoJ2NvcHlQYXN0ZS5wYXN0ZUVsZW1lbnRzJywge1xuICAgIGhpbnRzOiBoaW50c1xuICB9KTtcblxuICB2YXIgZWxlbWVudHMgPSB0aGlzLl9jcmVhdGVFbGVtZW50cyh0cmVlKTtcblxuICAvLyBwYXN0ZSBkaXJlY3RseVxuICBpZiAoY29udGV4dCAmJiBjb250ZXh0LmVsZW1lbnQgJiYgY29udGV4dC5wb2ludCkge1xuICAgIHJldHVybiB0aGlzLl9wYXN0ZShlbGVtZW50cywgY29udGV4dC5lbGVtZW50LCBjb250ZXh0LnBvaW50LCBoaW50cyk7XG4gIH1cblxuICB0aGlzLl9jcmVhdGUuc3RhcnQodGhpcy5fbW91c2UuZ2V0TGFzdE1vdmVFdmVudCgpLCBlbGVtZW50cywge1xuICAgIGhpbnRzOiBoaW50cyB8fCB7fVxuICB9KTtcbn07XG5cbi8qKlxuICogUGFzdGUgZWxlbWVudHMgZGlyZWN0bHkuXG4gKlxuICogQHBhcmFtIHtBcnJheTxkanMubW9kZWwuQmFzZT59IGVsZW1lbnRzXG4gKiBAcGFyYW0ge2Rqcy5tb2RlbC5iYXNlfSB0YXJnZXRcbiAqIEBwYXJhbSB7UG9pbnR9IHBvc2l0aW9uXG4gKiBAcGFyYW0ge09iamVjdH0gW2hpbnRzXVxuICovXG5Db3B5UGFzdGUucHJvdG90eXBlLl9wYXN0ZSA9IGZ1bmN0aW9uKGVsZW1lbnRzLCB0YXJnZXQsIHBvc2l0aW9uLCBoaW50cykge1xuXG4gIC8vIG1ha2Ugc3VyZSBlYWNoIGVsZW1lbnQgaGFzIHggYW5kIHlcbiAgZm9yRWFjaChlbGVtZW50cywgZnVuY3Rpb24oZWxlbWVudCkge1xuICAgIGlmICghaXNOdW1iZXIoZWxlbWVudC54KSkge1xuICAgICAgZWxlbWVudC54ID0gMDtcbiAgICB9XG5cbiAgICBpZiAoIWlzTnVtYmVyKGVsZW1lbnQueSkpIHtcbiAgICAgIGVsZW1lbnQueSA9IDA7XG4gICAgfVxuICB9KTtcblxuICB2YXIgYmJveCA9IGdldEJCb3goZWxlbWVudHMpO1xuXG4gIC8vIGNlbnRlciBlbGVtZW50cyBhcm91bmQgY3Vyc29yXG4gIGZvckVhY2goZWxlbWVudHMsIGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICBpZiAoaXNDb25uZWN0aW9uKGVsZW1lbnQpKSB7XG4gICAgICBlbGVtZW50LndheXBvaW50cyA9IG1hcChlbGVtZW50LndheXBvaW50cywgZnVuY3Rpb24od2F5cG9pbnQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB4OiB3YXlwb2ludC54IC0gYmJveC54IC0gYmJveC53aWR0aCAvIDIsXG4gICAgICAgICAgeTogd2F5cG9pbnQueSAtIGJib3gueSAtIGJib3guaGVpZ2h0IC8gMlxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgYXNzaWduKGVsZW1lbnQsIHtcbiAgICAgIHg6IGVsZW1lbnQueCAtIGJib3gueCAtIGJib3gud2lkdGggLyAyLFxuICAgICAgeTogZWxlbWVudC55IC0gYmJveC55IC0gYmJveC5oZWlnaHQgLyAyXG4gICAgfSk7XG4gIH0pO1xuXG4gIHJldHVybiB0aGlzLl9tb2RlbGluZy5jcmVhdGVFbGVtZW50cyhlbGVtZW50cywgcG9zaXRpb24sIHRhcmdldCwgYXNzaWduKHt9LCBoaW50cykpO1xufTtcblxuLyoqXG4gKiBDcmVhdGUgZWxlbWVudHMgZnJvbSB0cmVlLlxuICovXG5Db3B5UGFzdGUucHJvdG90eXBlLl9jcmVhdGVFbGVtZW50cyA9IGZ1bmN0aW9uKHRyZWUpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIHZhciBldmVudEJ1cyA9IHRoaXMuX2V2ZW50QnVzO1xuXG4gIHZhciBjYWNoZSA9IHt9O1xuXG4gIHZhciBlbGVtZW50cyA9IFtdO1xuXG4gIGZvckVhY2godHJlZSwgZnVuY3Rpb24oYnJhbmNoLCBkZXB0aCkge1xuXG4gICAgZGVwdGggPSBwYXJzZUludChkZXB0aCwgMTApO1xuXG4gICAgLy8gc29ydCBieSBwcmlvcml0eVxuICAgIGJyYW5jaCA9IHNvcnRCeShicmFuY2gsICdwcmlvcml0eScpO1xuXG4gICAgZm9yRWFjaChicmFuY2gsIGZ1bmN0aW9uKGRlc2NyaXB0b3IpIHtcblxuICAgICAgLy8gcmVtb3ZlIHByaW9yaXR5XG4gICAgICB2YXIgYXR0cnMgPSBhc3NpZ24oe30sIG9taXQoZGVzY3JpcHRvciwgWyAncHJpb3JpdHknIF0pKTtcblxuICAgICAgaWYgKGNhY2hlWyBkZXNjcmlwdG9yLnBhcmVudCBdKSB7XG4gICAgICAgIGF0dHJzLnBhcmVudCA9IGNhY2hlWyBkZXNjcmlwdG9yLnBhcmVudCBdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGVsZXRlIGF0dHJzLnBhcmVudDtcbiAgICAgIH1cblxuICAgICAgZXZlbnRCdXMuZmlyZSgnY29weVBhc3RlLnBhc3RlRWxlbWVudCcsIHtcbiAgICAgICAgY2FjaGU6IGNhY2hlLFxuICAgICAgICBkZXNjcmlwdG9yOiBhdHRyc1xuICAgICAgfSk7XG5cbiAgICAgIHZhciBlbGVtZW50O1xuXG4gICAgICBpZiAoaXNDb25uZWN0aW9uKGF0dHJzKSkge1xuICAgICAgICBhdHRycy5zb3VyY2UgPSBjYWNoZVsgZGVzY3JpcHRvci5zb3VyY2UgXTtcbiAgICAgICAgYXR0cnMudGFyZ2V0ID0gY2FjaGVbIGRlc2NyaXB0b3IudGFyZ2V0IF07XG5cbiAgICAgICAgZWxlbWVudCA9IGNhY2hlWyBkZXNjcmlwdG9yLmlkIF0gPSBzZWxmLmNyZWF0ZUNvbm5lY3Rpb24oYXR0cnMpO1xuXG4gICAgICAgIGVsZW1lbnRzLnB1c2goZWxlbWVudCk7XG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNMYWJlbChhdHRycykpIHtcbiAgICAgICAgYXR0cnMubGFiZWxUYXJnZXQgPSBjYWNoZVsgYXR0cnMubGFiZWxUYXJnZXQgXTtcblxuICAgICAgICBlbGVtZW50ID0gY2FjaGVbIGRlc2NyaXB0b3IuaWQgXSA9IHNlbGYuY3JlYXRlTGFiZWwoYXR0cnMpO1xuXG4gICAgICAgIGVsZW1lbnRzLnB1c2goZWxlbWVudCk7XG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoYXR0cnMuaG9zdCkge1xuICAgICAgICBhdHRycy5ob3N0ID0gY2FjaGVbIGF0dHJzLmhvc3QgXTtcbiAgICAgIH1cblxuICAgICAgZWxlbWVudCA9IGNhY2hlWyBkZXNjcmlwdG9yLmlkIF0gPSBzZWxmLmNyZWF0ZVNoYXBlKGF0dHJzKTtcblxuICAgICAgZWxlbWVudHMucHVzaChlbGVtZW50KTtcbiAgICB9KTtcblxuICB9KTtcblxuICByZXR1cm4gZWxlbWVudHM7XG59O1xuXG5Db3B5UGFzdGUucHJvdG90eXBlLmNyZWF0ZUNvbm5lY3Rpb24gPSBmdW5jdGlvbihhdHRycykge1xuICB2YXIgY29ubmVjdGlvbiA9IHRoaXMuX2VsZW1lbnRGYWN0b3J5LmNyZWF0ZUNvbm5lY3Rpb24ob21pdChhdHRycywgWyAnaWQnIF0pKTtcblxuICByZXR1cm4gY29ubmVjdGlvbjtcbn07XG5cbkNvcHlQYXN0ZS5wcm90b3R5cGUuY3JlYXRlTGFiZWwgPSBmdW5jdGlvbihhdHRycykge1xuICB2YXIgbGFiZWwgPSB0aGlzLl9lbGVtZW50RmFjdG9yeS5jcmVhdGVMYWJlbChvbWl0KGF0dHJzLCBbICdpZCcgXSkpO1xuXG4gIHJldHVybiBsYWJlbDtcbn07XG5cbkNvcHlQYXN0ZS5wcm90b3R5cGUuY3JlYXRlU2hhcGUgPSBmdW5jdGlvbihhdHRycykge1xuICB2YXIgc2hhcGUgPSB0aGlzLl9lbGVtZW50RmFjdG9yeS5jcmVhdGVTaGFwZShvbWl0KGF0dHJzLCBbICdpZCcgXSkpO1xuXG4gIHJldHVybiBzaGFwZTtcbn07XG5cbi8qKlxuICogQ2hlY2sgd2V0aGVyIGVsZW1lbnQgaGFzIHJlbGF0aW9ucyB0byBvdGhlciBlbGVtZW50cyBlLmcuIGF0dGFjaGVycywgbGFiZWxzIGFuZCBjb25uZWN0aW9ucy5cbiAqXG4gKiBAcGFyYW0gIHtPYmplY3R9IGVsZW1lbnRcbiAqIEBwYXJhbSAge0FycmF5PGRqcy5tb2RlbC5CYXNlPn0gZWxlbWVudHNcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuQ29weVBhc3RlLnByb3RvdHlwZS5oYXNSZWxhdGlvbnMgPSBmdW5jdGlvbihlbGVtZW50LCBlbGVtZW50cykge1xuICB2YXIgbGFiZWxUYXJnZXQsXG4gICAgICBzb3VyY2UsXG4gICAgICB0YXJnZXQ7XG5cbiAgaWYgKGlzQ29ubmVjdGlvbihlbGVtZW50KSkge1xuICAgIHNvdXJjZSA9IGZpbmQoZWxlbWVudHMsIG1hdGNoUGF0dGVybih7IGlkOiBlbGVtZW50LnNvdXJjZS5pZCB9KSk7XG4gICAgdGFyZ2V0ID0gZmluZChlbGVtZW50cywgbWF0Y2hQYXR0ZXJuKHsgaWQ6IGVsZW1lbnQudGFyZ2V0LmlkIH0pKTtcblxuICAgIGlmICghc291cmNlIHx8ICF0YXJnZXQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBpZiAoaXNMYWJlbChlbGVtZW50KSkge1xuICAgIGxhYmVsVGFyZ2V0ID0gZmluZChlbGVtZW50cywgbWF0Y2hQYXR0ZXJuKHsgaWQ6IGVsZW1lbnQubGFiZWxUYXJnZXQuaWQgfSkpO1xuXG4gICAgaWYgKCFsYWJlbFRhcmdldCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcblxuLyoqXG4gKiBDcmVhdGUgYSB0cmVlLWxpa2Ugc3RydWN0dXJlIGZyb20gZWxlbWVudHMuXG4gKlxuICogQGV4YW1wbGVcbiAqIHRyZWU6IHtcbiAgKiAgMDogW1xuICAqICAgIHsgaWQ6ICdTaGFwZV8xJywgcHJpb3JpdHk6IDEsIC4uLiB9LFxuICAqICAgIHsgaWQ6ICdTaGFwZV8yJywgcHJpb3JpdHk6IDEsIC4uLiB9LFxuICAqICAgIHsgaWQ6ICdDb25uZWN0aW9uXzEnLCBzb3VyY2U6ICdTaGFwZV8xJywgdGFyZ2V0OiAnU2hhcGVfMicsIHByaW9yaXR5OiAzLCAuLi4gfSxcbiAgKiAgICAuLi5cbiAgKiAgXSxcbiAgKiAgMTogW1xuICAqICAgIHsgaWQ6ICdTaGFwZV8zJywgcGFyZW50OiAnU2hhcGUxJywgcHJpb3JpdHk6IDEsIC4uLiB9LFxuICAqICAgIC4uLlxuICAqICBdXG4gICogfTtcbiAgKlxuICAqIEBwYXJhbSAge0FycmF5PGRqcy5tb2RlbC5iYXNlPn0gZWxlbWVudHNcbiAgKlxuICAqIEByZXR1cm4ge09iamVjdH1cbiAgKi9cbkNvcHlQYXN0ZS5wcm90b3R5cGUuY3JlYXRlVHJlZSA9IGZ1bmN0aW9uKGVsZW1lbnRzKSB7XG4gIHZhciBydWxlcyA9IHRoaXMuX3J1bGVzLFxuICAgICAgc2VsZiA9IHRoaXM7XG5cbiAgdmFyIHRyZWUgPSB7fSxcbiAgICAgIGVsZW1lbnRzRGF0YSA9IFtdO1xuXG4gIHZhciBwYXJlbnRzID0gZ2V0UGFyZW50cyhlbGVtZW50cyk7XG5cbiAgZnVuY3Rpb24gY2FuQ29weShlbGVtZW50LCBlbGVtZW50cykge1xuICAgIHJldHVybiBydWxlcy5hbGxvd2VkKCdlbGVtZW50LmNvcHknLCB7XG4gICAgICBlbGVtZW50OiBlbGVtZW50LFxuICAgICAgZWxlbWVudHM6IGVsZW1lbnRzXG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBhZGRFbGVtZW50RGF0YShlbGVtZW50LCBkZXB0aCkge1xuXG4gICAgLy8gKDEpIGNoZWNrIHdldGhlciBlbGVtZW50IGhhcyBhbHJlYWR5IGJlZW4gYWRkZWRcbiAgICB2YXIgZm91bmRFbGVtZW50RGF0YSA9IGZpbmQoZWxlbWVudHNEYXRhLCBmdW5jdGlvbihlbGVtZW50c0RhdGEpIHtcbiAgICAgIHJldHVybiBlbGVtZW50ID09PSBlbGVtZW50c0RhdGEuZWxlbWVudDtcbiAgICB9KTtcblxuICAgIC8vICgyKSBhZGQgZWxlbWVudCBpZiBub3QgYWxyZWFkeSBhZGRlZFxuICAgIGlmICghZm91bmRFbGVtZW50RGF0YSkge1xuICAgICAgZWxlbWVudHNEYXRhLnB1c2goe1xuICAgICAgICBlbGVtZW50OiBlbGVtZW50LFxuICAgICAgICBkZXB0aDogZGVwdGhcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gKDMpIHVwZGF0ZSBkZXB0aFxuICAgIGlmIChmb3VuZEVsZW1lbnREYXRhLmRlcHRoIDwgZGVwdGgpIHtcbiAgICAgIGVsZW1lbnRzRGF0YSA9IHJlbW92ZUVsZW1lbnREYXRhKGZvdW5kRWxlbWVudERhdGEsIGVsZW1lbnRzRGF0YSk7XG5cbiAgICAgIGVsZW1lbnRzRGF0YS5wdXNoKHtcbiAgICAgICAgZWxlbWVudDogZm91bmRFbGVtZW50RGF0YS5lbGVtZW50LFxuICAgICAgICBkZXB0aDogZGVwdGhcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbW92ZUVsZW1lbnREYXRhKGVsZW1lbnREYXRhLCBlbGVtZW50c0RhdGEpIHtcbiAgICB2YXIgaW5kZXggPSBlbGVtZW50c0RhdGEuaW5kZXhPZihlbGVtZW50RGF0YSk7XG5cbiAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICBlbGVtZW50c0RhdGEuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZWxlbWVudHNEYXRhO1xuICB9XG5cbiAgLy8gKDEpIGFkZCBlbGVtZW50c1xuICBlYWNoRWxlbWVudChwYXJlbnRzLCBmdW5jdGlvbihlbGVtZW50LCBfaW5kZXgsIGRlcHRoKSB7XG5cbiAgICAvLyBkbyBOT1QgYWRkIGV4dGVybmFsIGxhYmVscyBkaXJlY3RseVxuICAgIGlmIChpc0xhYmVsKGVsZW1lbnQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gYWx3YXlzIGNvcHkgZXh0ZXJuYWwgbGFiZWxzXG4gICAgZm9yRWFjaChlbGVtZW50LmxhYmVscywgZnVuY3Rpb24obGFiZWwpIHtcbiAgICAgIGFkZEVsZW1lbnREYXRhKGxhYmVsLCBkZXB0aCk7XG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiBhZGRSZWxhdGVkRWxlbWVudHMoZWxlbWVudHMpIHtcbiAgICAgIGVsZW1lbnRzICYmIGVsZW1lbnRzLmxlbmd0aCAmJiBmb3JFYWNoKGVsZW1lbnRzLCBmdW5jdGlvbihlbGVtZW50KSB7XG5cbiAgICAgICAgLy8gYWRkIGV4dGVybmFsIGxhYmVsc1xuICAgICAgICBmb3JFYWNoKGVsZW1lbnQubGFiZWxzLCBmdW5jdGlvbihsYWJlbCkge1xuICAgICAgICAgIGFkZEVsZW1lbnREYXRhKGxhYmVsLCBkZXB0aCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGFkZEVsZW1lbnREYXRhKGVsZW1lbnQsIGRlcHRoKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGZvckVhY2goWyBlbGVtZW50LmF0dGFjaGVycywgZWxlbWVudC5pbmNvbWluZywgZWxlbWVudC5vdXRnb2luZyBdLCBhZGRSZWxhdGVkRWxlbWVudHMpO1xuXG4gICAgYWRkRWxlbWVudERhdGEoZWxlbWVudCwgZGVwdGgpO1xuXG4gICAgcmV0dXJuIGVsZW1lbnQuY2hpbGRyZW47XG4gIH0pO1xuXG4gIGVsZW1lbnRzID0gbWFwKGVsZW1lbnRzRGF0YSwgZnVuY3Rpb24oZWxlbWVudERhdGEpIHtcbiAgICByZXR1cm4gZWxlbWVudERhdGEuZWxlbWVudDtcbiAgfSk7XG5cbiAgLy8gKDIpIGNvcHkgZWxlbWVudHNcbiAgZWxlbWVudHNEYXRhID0gbWFwKGVsZW1lbnRzRGF0YSwgZnVuY3Rpb24oZWxlbWVudERhdGEpIHtcbiAgICBlbGVtZW50RGF0YS5kZXNjcmlwdG9yID0ge307XG5cbiAgICBzZWxmLl9ldmVudEJ1cy5maXJlKCdjb3B5UGFzdGUuY29weUVsZW1lbnQnLCB7XG4gICAgICBkZXNjcmlwdG9yOiBlbGVtZW50RGF0YS5kZXNjcmlwdG9yLFxuICAgICAgZWxlbWVudDogZWxlbWVudERhdGEuZWxlbWVudCxcbiAgICAgIGVsZW1lbnRzOiBlbGVtZW50c1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIGVsZW1lbnREYXRhO1xuICB9KTtcblxuICAvLyAoMykgc29ydCBlbGVtZW50cyBieSBwcmlvcml0eVxuICBlbGVtZW50c0RhdGEgPSBzb3J0QnkoZWxlbWVudHNEYXRhLCBmdW5jdGlvbihlbGVtZW50RGF0YSkge1xuICAgIHJldHVybiBlbGVtZW50RGF0YS5kZXNjcmlwdG9yLnByaW9yaXR5O1xuICB9KTtcblxuICBlbGVtZW50cyA9IG1hcChlbGVtZW50c0RhdGEsIGZ1bmN0aW9uKGVsZW1lbnREYXRhKSB7XG4gICAgcmV0dXJuIGVsZW1lbnREYXRhLmVsZW1lbnQ7XG4gIH0pO1xuXG4gIC8vICg0KSBjcmVhdGUgdHJlZVxuICBmb3JFYWNoKGVsZW1lbnRzRGF0YSwgZnVuY3Rpb24oZWxlbWVudERhdGEpIHtcbiAgICB2YXIgZGVwdGggPSBlbGVtZW50RGF0YS5kZXB0aDtcblxuICAgIGlmICghc2VsZi5oYXNSZWxhdGlvbnMoZWxlbWVudERhdGEuZWxlbWVudCwgZWxlbWVudHMpKSB7XG4gICAgICByZW1vdmVFbGVtZW50KGVsZW1lbnREYXRhLmVsZW1lbnQsIGVsZW1lbnRzKTtcblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghY2FuQ29weShlbGVtZW50RGF0YS5lbGVtZW50LCBlbGVtZW50cykpIHtcbiAgICAgIHJlbW92ZUVsZW1lbnQoZWxlbWVudERhdGEuZWxlbWVudCwgZWxlbWVudHMpO1xuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCF0cmVlW2RlcHRoXSkge1xuICAgICAgdHJlZVtkZXB0aF0gPSBbXTtcbiAgICB9XG5cbiAgICB0cmVlW2RlcHRoXS5wdXNoKGVsZW1lbnREYXRhLmRlc2NyaXB0b3IpO1xuICB9KTtcblxuICByZXR1cm4gdHJlZTtcbn07XG5cbi8vIGhlbHBlcnMgLy8vLy8vLy8vL1xuXG5mdW5jdGlvbiBpc0F0dGFjaGVyKGVsZW1lbnQpIHtcbiAgcmV0dXJuICEhZWxlbWVudC5ob3N0O1xufVxuXG5mdW5jdGlvbiBpc0Nvbm5lY3Rpb24oZWxlbWVudCkge1xuICByZXR1cm4gISFlbGVtZW50LndheXBvaW50cztcbn1cblxuZnVuY3Rpb24gaXNMYWJlbChlbGVtZW50KSB7XG4gIHJldHVybiAhIWVsZW1lbnQubGFiZWxUYXJnZXQ7XG59XG5cbmZ1bmN0aW9uIGNvcHlXYXlwb2ludHMoZWxlbWVudCkge1xuICByZXR1cm4gbWFwKGVsZW1lbnQud2F5cG9pbnRzLCBmdW5jdGlvbih3YXlwb2ludCkge1xuXG4gICAgd2F5cG9pbnQgPSBjb3B5V2F5cG9pbnQod2F5cG9pbnQpO1xuXG4gICAgaWYgKHdheXBvaW50Lm9yaWdpbmFsKSB7XG4gICAgICB3YXlwb2ludC5vcmlnaW5hbCA9IGNvcHlXYXlwb2ludCh3YXlwb2ludC5vcmlnaW5hbCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHdheXBvaW50O1xuICB9KTtcbn1cblxuZnVuY3Rpb24gY29weVdheXBvaW50KHdheXBvaW50KSB7XG4gIHJldHVybiBhc3NpZ24oe30sIHdheXBvaW50KTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlRWxlbWVudChlbGVtZW50LCBlbGVtZW50cykge1xuICB2YXIgaW5kZXggPSBlbGVtZW50cy5pbmRleE9mKGVsZW1lbnQpO1xuXG4gIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICByZXR1cm4gZWxlbWVudHM7XG4gIH1cblxuICByZXR1cm4gZWxlbWVudHMuc3BsaWNlKGluZGV4LCAxKTtcbn1cbiIsImltcG9ydCBDbGlwYm9hcmRNb2R1bGUgZnJvbSAnLi4vY2xpcGJvYXJkJztcbmltcG9ydCBDcmVhdGVNb2R1bGUgZnJvbSAnLi4vY3JlYXRlJztcbmltcG9ydCBNb3VzZU1vZHVsZSBmcm9tICcuLi9tb3VzZSc7XG5pbXBvcnQgUnVsZXNNb2R1bGUgZnJvbSAnLi4vcnVsZXMnO1xuXG5pbXBvcnQgQ29weVBhc3RlIGZyb20gJy4vQ29weVBhc3RlJztcblxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9fZGVwZW5kc19fOiBbXG4gICAgQ2xpcGJvYXJkTW9kdWxlLFxuICAgIENyZWF0ZU1vZHVsZSxcbiAgICBNb3VzZU1vZHVsZSxcbiAgICBSdWxlc01vZHVsZVxuICBdLFxuICBfX2luaXRfXzogWyAnY29weVBhc3RlJyBdLFxuICBjb3B5UGFzdGU6IFsgJ3R5cGUnLCBDb3B5UGFzdGUgXVxufTtcbiIsImltcG9ydCB7XG4gIGdldEJ1c2luZXNzT2JqZWN0XG59IGZyb20gJy4uLy4uL3V0aWwvTW9kZWxVdGlsJztcblxuaW1wb3J0IHtcbiAgZm9yRWFjaCxcbiAgaXNBcnJheSxcbiAgaXNVbmRlZmluZWQsXG4gIG9taXQsXG4gIHJlZHVjZVxufSBmcm9tICdtaW4tZGFzaCc7XG5cbmZ1bmN0aW9uIGNvcHlQcm9wZXJ0aWVzKHNvdXJjZSwgdGFyZ2V0LCBwcm9wZXJ0aWVzKSB7XG4gIGlmICghaXNBcnJheShwcm9wZXJ0aWVzKSkge1xuICAgIHByb3BlcnRpZXMgPSBbIHByb3BlcnRpZXMgXTtcbiAgfVxuXG4gIGZvckVhY2gocHJvcGVydGllcywgZnVuY3Rpb24ocHJvcGVydHkpIHtcbiAgICBpZiAoIWlzVW5kZWZpbmVkKHNvdXJjZVtwcm9wZXJ0eV0pKSB7XG4gICAgICB0YXJnZXRbcHJvcGVydHldID0gc291cmNlW3Byb3BlcnR5XTtcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiByZW1vdmVQcm9wZXJ0aWVzKGVsZW1lbnQsIHByb3BlcnRpZXMpIHtcbiAgaWYgKCFpc0FycmF5KHByb3BlcnRpZXMpKSB7XG4gICAgcHJvcGVydGllcyA9IFsgcHJvcGVydGllcyBdO1xuICB9XG5cbiAgZm9yRWFjaChwcm9wZXJ0aWVzLCBmdW5jdGlvbihwcm9wZXJ0eSkge1xuICAgIGlmIChlbGVtZW50W3Byb3BlcnR5XSkge1xuICAgICAgZGVsZXRlIGVsZW1lbnRbcHJvcGVydHldO1xuICAgIH1cbiAgfSk7XG59XG5cbnZhciBMT1dfUFJJT1JJVFkgPSA3NTA7XG5cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUG9zdGl0Q29weVBhc3RlKHBvc3RpdEZhY3RvcnksIGV2ZW50QnVzLCBtb2RkbGVDb3B5KSB7XG5cbiAgZXZlbnRCdXMub24oJ2NvcHlQYXN0ZS5jb3B5RWxlbWVudCcsIExPV19QUklPUklUWSwgZnVuY3Rpb24oY29udGV4dCkge1xuICAgIHZhciBkZXNjcmlwdG9yID0gY29udGV4dC5kZXNjcmlwdG9yLFxuICAgICAgICBlbGVtZW50ID0gY29udGV4dC5lbGVtZW50O1xuXG4gICAgdmFyIGJ1c2luZXNzT2JqZWN0ID0gZGVzY3JpcHRvci5vbGRCdXNpbmVzc09iamVjdCA9IGdldEJ1c2luZXNzT2JqZWN0KGVsZW1lbnQpO1xuXG4gICAgZGVzY3JpcHRvci50eXBlID0gZWxlbWVudC50eXBlO1xuXG4gICAgY29weVByb3BlcnRpZXMoYnVzaW5lc3NPYmplY3QsIGRlc2NyaXB0b3IsICduYW1lJyk7XG5cbiAgICBkZXNjcmlwdG9yLmRpID0ge307XG5cbiAgICAvLyBmaWxsIGFuZCBzdHJva2Ugd2lsbCBiZSBzZXQgdG8gRElcbiAgICBjb3B5UHJvcGVydGllcyhidXNpbmVzc09iamVjdC5kaSwgZGVzY3JpcHRvci5kaSwgW1xuICAgICAgJ2ZpbGwnLFxuICAgICAgJ3N0cm9rZSdcbiAgICBdKTtcblxuICAgIGlmIChpc0xhYmVsKGRlc2NyaXB0b3IpKSB7XG4gICAgICByZXR1cm4gZGVzY3JpcHRvcjtcbiAgICB9XG5cbiAgfSk7XG5cbiAgdmFyIHJlZmVyZW5jZXM7XG5cbiAgZnVuY3Rpb24gcmVzb2x2ZVJlZmVyZW5jZXMoZGVzY3JpcHRvciwgY2FjaGUpIHtcbiAgICB2YXIgYnVzaW5lc3NPYmplY3QgPSBnZXRCdXNpbmVzc09iamVjdChkZXNjcmlwdG9yKTtcblxuICAgIC8vIGRlZmF1bHQgc2VxdWVuY2UgZmxvd3NcbiAgICBpZiAoZGVzY3JpcHRvci5kZWZhdWx0KSB7XG5cbiAgICAgIC8vIHJlbGF0aW9uc2hpcCBjYW5ub3QgYmUgcmVzb2x2ZWQgaW1tZWRpYXRlbHlcbiAgICAgIHJlZmVyZW5jZXNbIGRlc2NyaXB0b3IuZGVmYXVsdCBdID0ge1xuICAgICAgICBlbGVtZW50OiBidXNpbmVzc09iamVjdCxcbiAgICAgICAgcHJvcGVydHk6ICdkZWZhdWx0J1xuICAgICAgfTtcbiAgICB9XG5cbiAgICByZWZlcmVuY2VzID0gb21pdChyZWZlcmVuY2VzLCByZWR1Y2UocmVmZXJlbmNlcywgZnVuY3Rpb24oYXJyYXksIHJlZmVyZW5jZSwga2V5KSB7XG4gICAgICB2YXIgZWxlbWVudCA9IHJlZmVyZW5jZS5lbGVtZW50LFxuICAgICAgICAgIHByb3BlcnR5ID0gcmVmZXJlbmNlLnByb3BlcnR5O1xuXG4gICAgICBpZiAoa2V5ID09PSBkZXNjcmlwdG9yLmlkKSB7XG4gICAgICAgIGVsZW1lbnRbIHByb3BlcnR5IF0gPSBidXNpbmVzc09iamVjdDtcblxuICAgICAgICBhcnJheS5wdXNoKGRlc2NyaXB0b3IuaWQpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYXJyYXk7XG4gICAgfSwgW10pKTtcbiAgfVxuXG4gIGV2ZW50QnVzLm9uKCdjb3B5UGFzdGUucGFzdGVFbGVtZW50cycsIGZ1bmN0aW9uKCkge1xuICAgIHJlZmVyZW5jZXMgPSB7fTtcbiAgfSk7XG5cbiAgZXZlbnRCdXMub24oJ2NvcHlQYXN0ZS5wYXN0ZUVsZW1lbnQnLCBmdW5jdGlvbihjb250ZXh0KSB7XG4gICAgdmFyIGNhY2hlID0gY29udGV4dC5jYWNoZSxcbiAgICAgICAgZGVzY3JpcHRvciA9IGNvbnRleHQuZGVzY3JpcHRvcixcbiAgICAgICAgb2xkQnVzaW5lc3NPYmplY3QgPSBkZXNjcmlwdG9yLm9sZEJ1c2luZXNzT2JqZWN0LFxuICAgICAgICBuZXdCdXNpbmVzc09iamVjdDtcblxuICAgIC8vIGRvIE5PVCBjb3B5IGJ1c2luZXNzIG9iamVjdCBpZiBleHRlcm5hbCBsYWJlbFxuICAgIGlmIChpc0xhYmVsKGRlc2NyaXB0b3IpKSB7XG4gICAgICBkZXNjcmlwdG9yLmJ1c2luZXNzT2JqZWN0ID0gZ2V0QnVzaW5lc3NPYmplY3QoY2FjaGVbIGRlc2NyaXB0b3IubGFiZWxUYXJnZXQgXSk7XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBuZXdCdXNpbmVzc09iamVjdCA9IHBvc3RpdEZhY3RvcnkuY3JlYXRlKG9sZEJ1c2luZXNzT2JqZWN0LiR0eXBlKTtcblxuICAgIGRlc2NyaXB0b3IuYnVzaW5lc3NPYmplY3QgPSBtb2RkbGVDb3B5LmNvcHlFbGVtZW50KFxuICAgICAgb2xkQnVzaW5lc3NPYmplY3QsXG4gICAgICBuZXdCdXNpbmVzc09iamVjdFxuICAgICk7XG5cbiAgICAvLyByZXNvbHZlIHJlZmVyZW5jZXMgZS5nLiBkZWZhdWx0IHNlcXVlbmNlIGZsb3dcbiAgICByZXNvbHZlUmVmZXJlbmNlcyhkZXNjcmlwdG9yLCBjYWNoZSk7XG5cbiAgICBjb3B5UHJvcGVydGllcyhkZXNjcmlwdG9yLCBuZXdCdXNpbmVzc09iamVjdCwgW1xuICAgICAgJ2NvbG9yJyxcbiAgICAgICduYW1lJ1xuICAgIF0pO1xuXG4gICAgcmVtb3ZlUHJvcGVydGllcyhkZXNjcmlwdG9yLCAnb2xkQnVzaW5lc3NPYmplY3QnKTtcbiAgfSk7XG5cbn1cblxuXG5Qb3N0aXRDb3B5UGFzdGUuJGluamVjdCA9IFtcbiAgJ3Bvc3RpdEZhY3RvcnknLFxuICAnZXZlbnRCdXMnLFxuICAnbW9kZGxlQ29weSdcbl07XG5cbi8vIGhlbHBlcnMgLy8vLy8vLy8vL1xuXG5mdW5jdGlvbiBpc0xhYmVsKGVsZW1lbnQpIHtcbiAgcmV0dXJuICEhZWxlbWVudC5sYWJlbFRhcmdldDtcbn1cbiIsImltcG9ydCB7XG4gIGZpbmQsXG4gIGZvckVhY2gsXG4gIGlzQXJyYXksXG4gIGlzRGVmaW5lZCxcbiAgaXNPYmplY3QsXG4gIG1hdGNoUGF0dGVybixcbiAgcmVkdWNlLFxuICBoYXMsXG4gIHNvcnRCeVxufSBmcm9tICdtaW4tZGFzaCc7XG5cbnZhciBESVNBTExPV0VEX1BST1BFUlRJRVMgPSBbXG4gICdib2FyZEVsZW1lbnRzJ1xuXTtcblxuLyoqXG4gKiBAdHlwZWRlZiB7RnVuY3Rpb259IDxtb2RkbGVDb3B5LmNhbkNvcHlQcm9wZXJ0aWVzPiBsaXN0ZW5lclxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb250ZXh0XG4gKiBAcGFyYW0ge0FycmF5PHN0cmluZz59IGNvbnRleHQucHJvcGVydHlOYW1lc1xuICogQHBhcmFtIHtNb2RkbGVFbGVtZW50fSBjb250ZXh0LnNvdXJjZUVsZW1lbnRcbiAqIEBwYXJhbSB7TW9kZGxlRWxlbWVudH0gY29udGV4dC50YXJnZXRFbGVtZW50XG4gKlxuICogQHJldHVybnMge0FycmF5PHN0cmluZz58Ym9vbGVhbn0gLSBSZXR1cm4gcHJvcGVydGllcyB0byBiZSBjb3BpZWQgb3IgZmFsc2UgdG8gZGlzYWxsb3dcbiAqIGNvcHlpbmcuXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7RnVuY3Rpb259IDxtb2RkbGVDb3B5LmNhbkNvcHlQcm9wZXJ0eT4gbGlzdGVuZXJcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gY29udGV4dFxuICogQHBhcmFtIHtNb2RkbGVFbGVtZW50fSBjb250ZXh0LnBhcmVudFxuICogQHBhcmFtIHsqfSBjb250ZXh0LnByb3BlcnR5XG4gKiBAcGFyYW0ge3N0cmluZ30gY29udGV4dC5wcm9wZXJ0eU5hbWVcbiAqXG4gKiBAcmV0dXJucyB7Knxib29sZWFufSAtIFJldHVybiBjb3BpZWQgcHJvcGVydHkgb3IgZmFsc2UgdG8gZGlzYWxsb3dcbiAqIGNvcHlpbmcuXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7RnVuY3Rpb259IDxtb2RkbGVDb3B5LmNhblNldENvcGllZFByb3BlcnR5PiBsaXN0ZW5lclxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb250ZXh0XG4gKiBAcGFyYW0ge01vZGRsZUVsZW1lbnR9IGNvbnRleHQucGFyZW50XG4gKiBAcGFyYW0geyp9IGNvbnRleHQucHJvcGVydHlcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb250ZXh0LnByb3BlcnR5TmFtZVxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSAtIFJldHVybiBmYWxzZSB0byBkaXNhbGxvd1xuICogc2V0dGluZyBjb3BpZWQgcHJvcGVydHkuXG4gKi9cblxuLyoqXG4gKiBVdGlsaXR5IGZvciBjb3B5aW5nIG1vZGVsIHByb3BlcnRpZXMgZnJvbSBzb3VyY2UgZWxlbWVudCB0byB0YXJnZXQgZWxlbWVudC5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50QnVzfSBldmVudEJ1c1xuICogQHBhcmFtIHtQb3N0aXRGYWN0b3J5fSBwb3N0aXRGYWN0b3J5XG4gKiBAcGFyYW0ge1Bvc3RpdE1vZGRsZX0gbW9kZGxlXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIE1vZGRsZUNvcHkoZXZlbnRCdXMsIHBvc3RpdEZhY3RvcnksIG1vZGRsZSkge1xuICB0aGlzLl9wb3N0aXRGYWN0b3J5ID0gcG9zdGl0RmFjdG9yeTtcbiAgdGhpcy5fZXZlbnRCdXMgPSBldmVudEJ1cztcbiAgdGhpcy5fbW9kZGxlID0gbW9kZGxlO1xuXG4gIC8vIGNvcHkgZXh0ZW5zaW9uIGVsZW1lbnRzIGxhc3RcbiAgZXZlbnRCdXMub24oJ21vZGRsZUNvcHkuY2FuQ29weVByb3BlcnRpZXMnLCBmdW5jdGlvbihjb250ZXh0KSB7XG4gICAgdmFyIHByb3BlcnR5TmFtZXMgPSBjb250ZXh0LnByb3BlcnR5TmFtZXM7XG5cbiAgICBpZiAoIXByb3BlcnR5TmFtZXMgfHwgIXByb3BlcnR5TmFtZXMubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcmV0dXJuIHNvcnRCeShwcm9wZXJ0eU5hbWVzLCBmdW5jdGlvbihwcm9wZXJ0eU5hbWUpIHtcbiAgICAgIHJldHVybiBwcm9wZXJ0eU5hbWUgPT09ICdleHRlbnNpb25FbGVtZW50cyc7XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8vIGRlZmF1bHQgY2hlY2sgd2hldGhlciBwcm9wZXJ0eSBjYW4gYmUgY29waWVkXG4gIGV2ZW50QnVzLm9uKCdtb2RkbGVDb3B5LmNhbkNvcHlQcm9wZXJ0eScsIGZ1bmN0aW9uKGNvbnRleHQpIHtcbiAgICB2YXIgcGFyZW50ID0gY29udGV4dC5wYXJlbnQsXG4gICAgICAgIHBhcmVudERlc2NyaXB0b3IgPSBpc09iamVjdChwYXJlbnQpICYmIHBhcmVudC4kZGVzY3JpcHRvcixcbiAgICAgICAgcHJvcGVydHlOYW1lID0gY29udGV4dC5wcm9wZXJ0eU5hbWU7XG5cbiAgICBpZiAocHJvcGVydHlOYW1lICYmIERJU0FMTE9XRURfUFJPUEVSVElFUy5pbmRleE9mKHByb3BlcnR5TmFtZSkgIT09IC0xKSB7XG5cbiAgICAgIC8vIGRpc2FsbG93IGNvcHlpbmcgcHJvcGVydHlcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAocHJvcGVydHlOYW1lICYmXG4gICAgICBwYXJlbnREZXNjcmlwdG9yICYmXG4gICAgICAhZmluZChwYXJlbnREZXNjcmlwdG9yLnByb3BlcnRpZXMsIG1hdGNoUGF0dGVybih7IG5hbWU6IHByb3BlcnR5TmFtZSB9KSkpIHtcblxuICAgICAgLy8gZGlzYWxsb3cgY29weWluZyBwcm9wZXJ0eVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSk7XG59XG5cbk1vZGRsZUNvcHkuJGluamVjdCA9IFtcbiAgJ2V2ZW50QnVzJyxcbiAgJ3Bvc3RpdEZhY3RvcnknLFxuICAnbW9kZGxlJ1xuXTtcblxuLyoqXG4gKiBDb3B5IG1vZGVsIHByb3BlcnRpZXMgb2Ygc291cmNlIGVsZW1lbnQgdG8gdGFyZ2V0IGVsZW1lbnQuXG4gKlxuICogQHBhcmFtIHtNb2RkbGVFbGVtZW50fSBzb3VyY2VFbGVtZW50XG4gKiBAcGFyYW0ge01vZGRsZUVsZW1lbnR9IHRhcmdldEVsZW1lbnRcbiAqIEBwYXJhbSB7QXJyYXk8c3RyaW5nPn0gW3Byb3BlcnR5TmFtZXNdXG4gKlxuICogQHBhcmFtIHtNb2RkbGVFbGVtZW50fVxuICovXG5Nb2RkbGVDb3B5LnByb3RvdHlwZS5jb3B5RWxlbWVudCA9IGZ1bmN0aW9uKHNvdXJjZUVsZW1lbnQsIHRhcmdldEVsZW1lbnQsIHByb3BlcnR5TmFtZXMpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIGlmIChwcm9wZXJ0eU5hbWVzICYmICFpc0FycmF5KHByb3BlcnR5TmFtZXMpKSB7XG4gICAgcHJvcGVydHlOYW1lcyA9IFsgcHJvcGVydHlOYW1lcyBdO1xuICB9XG5cbiAgcHJvcGVydHlOYW1lcyA9IHByb3BlcnR5TmFtZXMgfHwgZ2V0UHJvcGVydHlOYW1lcyhzb3VyY2VFbGVtZW50LiRkZXNjcmlwdG9yKTtcblxuICB2YXIgY2FuQ29weVByb3BlcnRpZXMgPSB0aGlzLl9ldmVudEJ1cy5maXJlKCdtb2RkbGVDb3B5LmNhbkNvcHlQcm9wZXJ0aWVzJywge1xuICAgIHByb3BlcnR5TmFtZXM6IHByb3BlcnR5TmFtZXMsXG4gICAgc291cmNlRWxlbWVudDogc291cmNlRWxlbWVudCxcbiAgICB0YXJnZXRFbGVtZW50OiB0YXJnZXRFbGVtZW50XG4gIH0pO1xuXG4gIGlmIChjYW5Db3B5UHJvcGVydGllcyA9PT0gZmFsc2UpIHtcbiAgICByZXR1cm4gdGFyZ2V0RWxlbWVudDtcbiAgfVxuXG4gIGlmIChpc0FycmF5KGNhbkNvcHlQcm9wZXJ0aWVzKSkge1xuICAgIHByb3BlcnR5TmFtZXMgPSBjYW5Db3B5UHJvcGVydGllcztcbiAgfVxuXG4gIC8vIGNvcHkgcHJvcGVydGllc1xuICBmb3JFYWNoKHByb3BlcnR5TmFtZXMsIGZ1bmN0aW9uKHByb3BlcnR5TmFtZSkge1xuICAgIHZhciBzb3VyY2VQcm9wZXJ0eTtcblxuICAgIGlmIChoYXMoc291cmNlRWxlbWVudCwgcHJvcGVydHlOYW1lKSkge1xuICAgICAgc291cmNlUHJvcGVydHkgPSBzb3VyY2VFbGVtZW50LmdldChwcm9wZXJ0eU5hbWUpO1xuICAgIH1cblxuICAgIHZhciBjb3BpZWRQcm9wZXJ0eSA9IHNlbGYuY29weVByb3BlcnR5KHNvdXJjZVByb3BlcnR5LCB0YXJnZXRFbGVtZW50LCBwcm9wZXJ0eU5hbWUpO1xuXG4gICAgdmFyIGNhblNldFByb3BlcnR5ID0gc2VsZi5fZXZlbnRCdXMuZmlyZSgnbW9kZGxlQ29weS5jYW5TZXRDb3BpZWRQcm9wZXJ0eScsIHtcbiAgICAgIHBhcmVudDogdGFyZ2V0RWxlbWVudCxcbiAgICAgIHByb3BlcnR5OiBjb3BpZWRQcm9wZXJ0eSxcbiAgICAgIHByb3BlcnR5TmFtZTogcHJvcGVydHlOYW1lXG4gICAgfSk7XG5cbiAgICBpZiAoY2FuU2V0UHJvcGVydHkgPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGlzRGVmaW5lZChjb3BpZWRQcm9wZXJ0eSkpIHtcbiAgICAgIHRhcmdldEVsZW1lbnQuc2V0KHByb3BlcnR5TmFtZSwgY29waWVkUHJvcGVydHkpO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHRhcmdldEVsZW1lbnQ7XG59O1xuXG4vKipcbiAqIENvcHkgbW9kZWwgcHJvcGVydHkuXG4gKlxuICogQHBhcmFtIHsqfSBwcm9wZXJ0eVxuICogQHBhcmFtIHtNb2RkbGVFbGVtZW50fSBwYXJlbnRcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eU5hbWVcbiAqXG4gKiBAcmV0dXJucyB7Kn1cbiAqL1xuTW9kZGxlQ29weS5wcm90b3R5cGUuY29weVByb3BlcnR5ID0gZnVuY3Rpb24ocHJvcGVydHksIHBhcmVudCwgcHJvcGVydHlOYW1lKSB7XG4gIHZhciBzZWxmID0gdGhpcztcblxuICAvLyBhbGxvdyBvdGhlcnMgdG8gY29weSBwcm9wZXJ0eVxuICB2YXIgY29waWVkUHJvcGVydHkgPSB0aGlzLl9ldmVudEJ1cy5maXJlKCdtb2RkbGVDb3B5LmNhbkNvcHlQcm9wZXJ0eScsIHtcbiAgICBwYXJlbnQ6IHBhcmVudCxcbiAgICBwcm9wZXJ0eTogcHJvcGVydHksXG4gICAgcHJvcGVydHlOYW1lOiBwcm9wZXJ0eU5hbWVcbiAgfSk7XG5cbiAgLy8gcmV0dXJuIGlmIGNvcHlpbmcgaXMgTk9UIGFsbG93ZWRcbiAgaWYgKGNvcGllZFByb3BlcnR5ID09PSBmYWxzZSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChjb3BpZWRQcm9wZXJ0eSkge1xuICAgIGlmIChpc09iamVjdChjb3BpZWRQcm9wZXJ0eSkgJiYgY29waWVkUHJvcGVydHkuJHR5cGUgJiYgIWNvcGllZFByb3BlcnR5LiRwYXJlbnQpIHtcbiAgICAgIGNvcGllZFByb3BlcnR5LiRwYXJlbnQgPSBwYXJlbnQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvcGllZFByb3BlcnR5O1xuICB9XG5cbiAgdmFyIHByb3BlcnR5RGVzY3JpcHRvciA9IHRoaXMuX21vZGRsZS5nZXRQcm9wZXJ0eURlc2NyaXB0b3IocGFyZW50LCBwcm9wZXJ0eU5hbWUpO1xuXG4gIC8vIGRvIE5PVCBjb3B5IElkcyBhbmQgcmVmZXJlbmNlc1xuICBpZiAocHJvcGVydHlEZXNjcmlwdG9yLmlzSWQgfHwgcHJvcGVydHlEZXNjcmlwdG9yLmlzUmVmZXJlbmNlKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gY29weSBhcnJheXNcbiAgaWYgKGlzQXJyYXkocHJvcGVydHkpKSB7XG4gICAgcmV0dXJuIHJlZHVjZShwcm9wZXJ0eSwgZnVuY3Rpb24oY2hpbGRQcm9wZXJ0aWVzLCBjaGlsZFByb3BlcnR5KSB7XG5cbiAgICAgIC8vIHJlY3Vyc2lvblxuICAgICAgY29waWVkUHJvcGVydHkgPSBzZWxmLmNvcHlQcm9wZXJ0eShjaGlsZFByb3BlcnR5LCBwYXJlbnQsIHByb3BlcnR5TmFtZSk7XG5cbiAgICAgIC8vIGNvcHlpbmcgbWlnaHQgTk9UIGJlIGFsbG93ZWRcbiAgICAgIGlmIChjb3BpZWRQcm9wZXJ0eSkge1xuICAgICAgICBjb3BpZWRQcm9wZXJ0eS4kcGFyZW50ID0gcGFyZW50O1xuXG4gICAgICAgIHJldHVybiBjaGlsZFByb3BlcnRpZXMuY29uY2F0KGNvcGllZFByb3BlcnR5KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNoaWxkUHJvcGVydGllcztcbiAgICB9LCBbXSk7XG4gIH1cblxuICAvLyBjb3B5IG1vZGVsIGVsZW1lbnRzXG4gIGlmIChpc09iamVjdChwcm9wZXJ0eSkgJiYgcHJvcGVydHkuJHR5cGUpIHtcbiAgICBpZiAodGhpcy5fbW9kZGxlLmdldEVsZW1lbnREZXNjcmlwdG9yKHByb3BlcnR5KS5pc0dlbmVyaWMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb3BpZWRQcm9wZXJ0eSA9IHNlbGYuX3Bvc3RpdEZhY3RvcnkuY3JlYXRlKHByb3BlcnR5LiR0eXBlKTtcblxuICAgIGNvcGllZFByb3BlcnR5LiRwYXJlbnQgPSBwYXJlbnQ7XG5cbiAgICAvLyByZWN1cnNpb25cbiAgICBjb3BpZWRQcm9wZXJ0eSA9IHNlbGYuY29weUVsZW1lbnQocHJvcGVydHksIGNvcGllZFByb3BlcnR5KTtcblxuICAgIHJldHVybiBjb3BpZWRQcm9wZXJ0eTtcbiAgfVxuXG4gIC8vIGNvcHkgcHJpbWl0aXZlIHByb3BlcnRpZXNcbiAgcmV0dXJuIHByb3BlcnR5O1xufTtcblxuLy8gaGVscGVycyAvLy8vLy8vLy8vXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRQcm9wZXJ0eU5hbWVzKGRlc2NyaXB0b3IsIGtlZXBEZWZhdWx0UHJvcGVydGllcykge1xuICByZXR1cm4gcmVkdWNlKGRlc2NyaXB0b3IucHJvcGVydGllcywgZnVuY3Rpb24ocHJvcGVydGllcywgcHJvcGVydHkpIHtcblxuICAgIGlmIChrZWVwRGVmYXVsdFByb3BlcnRpZXMgJiYgcHJvcGVydHkuZGVmYXVsdCkge1xuICAgICAgcmV0dXJuIHByb3BlcnRpZXM7XG4gICAgfVxuXG4gICAgcmV0dXJuIHByb3BlcnRpZXMuY29uY2F0KHByb3BlcnR5Lm5hbWUpO1xuICB9LCBbXSk7XG59IiwiaW1wb3J0IENvcHlQYXN0ZU1vZHVsZSBmcm9tICdkaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9jb3B5LXBhc3RlJztcblxuaW1wb3J0IFBvc3RpdENvcHlQYXN0ZSBmcm9tICcuL1Bvc3RpdENvcHlQYXN0ZSc7XG5pbXBvcnQgTW9kZGxlQ29weSBmcm9tICcuL01vZGRsZUNvcHknO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9fZGVwZW5kc19fOiBbXG4gICAgQ29weVBhc3RlTW9kdWxlXG4gIF0sXG4gIF9faW5pdF9fOiBbICdwb3N0aXRDb3B5UGFzdGUnLCAnbW9kZGxlQ29weScgXSxcbiAgcG9zdGl0Q29weVBhc3RlOiBbICd0eXBlJywgUG9zdGl0Q29weVBhc3RlIF0sXG4gIG1vZGRsZUNvcHk6IFsgJ3R5cGUnLCBNb2RkbGVDb3B5IF1cbn07XG4iLCJpbXBvcnQge1xuICBhc3NpZ25cbn0gZnJvbSAnbWluLWRhc2gnO1xuXG52YXIgcm91bmQgPSBNYXRoLnJvdW5kO1xuXG4vKipcbiAqIFNlcnZpY2UgdGhhdCBhbGxvdyByZXBsYWNpbmcgb2YgZWxlbWVudHMuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFJlcGxhY2UobW9kZWxpbmcpIHtcblxuICB0aGlzLl9tb2RlbGluZyA9IG1vZGVsaW5nO1xufVxuXG5SZXBsYWNlLiRpbmplY3QgPSBbICdtb2RlbGluZycgXTtcblxuLyoqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IG9sZEVsZW1lbnQgLSBFbGVtZW50IHRvIGJlIHJlcGxhY2VkXG4gKiBAcGFyYW0ge09iamVjdH0gIG5ld0VsZW1lbnREYXRhIC0gQ29udGFpbmluZyBpbmZvcm1hdGlvbiBhYm91dCB0aGUgbmV3IGVsZW1lbnQsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIGV4YW1wbGUgdGhlIG5ldyBib3VuZHMgYW5kIHR5cGUuXG4gKiBAcGFyYW0ge09iamVjdH0gIG9wdGlvbnMgLSBDdXN0b20gb3B0aW9ucyB0aGF0IHdpbGwgYmUgYXR0YWNoZWQgdG8gdGhlIGNvbnRleHQuIEl0IGNhbiBiZSB1c2VkIHRvIGluamVjdCBkYXRhXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGF0IGlzIG5lZWRlZCBpbiB0aGUgY29tbWFuZCBjaGFpbi4gRm9yIGV4YW1wbGUgaXQgY291bGQgYmUgdXNlZCBpblxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRidXMub24oJ2NvbW1hbmRTdGFjay5zaGFwZS5yZXBsYWNlLnBvc3RFeGVjdXRlJykgdG8gY2hhbmdlIHNoYXBlIGF0dHJpYnV0ZXMgYWZ0ZXJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoYXBlIGNyZWF0aW9uLlxuICovXG5SZXBsYWNlLnByb3RvdHlwZS5yZXBsYWNlRWxlbWVudCA9IGZ1bmN0aW9uKG9sZEVsZW1lbnQsIG5ld0VsZW1lbnREYXRhLCBvcHRpb25zKSB7XG5cbiAgaWYgKG9sZEVsZW1lbnQud2F5cG9pbnRzKSB7XG5cbiAgICAvLyBUT0RPKG5pa2t1KTogd2UgZG8gbm90IHJlcGxhY2UgY29ubmVjdGlvbnMsIHlldFxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgdmFyIG1vZGVsaW5nID0gdGhpcy5fbW9kZWxpbmc7XG5cbiAgdmFyIHdpZHRoID0gbmV3RWxlbWVudERhdGEud2lkdGggfHwgb2xkRWxlbWVudC53aWR0aCxcbiAgICAgIGhlaWdodCA9IG5ld0VsZW1lbnREYXRhLmhlaWdodCB8fCBvbGRFbGVtZW50LmhlaWdodCxcbiAgICAgIHggPSBuZXdFbGVtZW50RGF0YS54IHx8IG9sZEVsZW1lbnQueCxcbiAgICAgIHkgPSBuZXdFbGVtZW50RGF0YS55IHx8IG9sZEVsZW1lbnQueSxcbiAgICAgIGNlbnRlclggPSByb3VuZCh4ICsgd2lkdGggLyAyKSxcbiAgICAgIGNlbnRlclkgPSByb3VuZCh5ICsgaGVpZ2h0IC8gMik7XG5cbiAgLy8gbW9kZWxpbmcgQVBJIHJlcXVpcmVzIGNlbnRlciBjb29yZGluYXRlcyxcbiAgLy8gYWNjb3VudCBmb3IgdGhhdCB3aGVuIGhhbmRsaW5nIHNoYXBlIGJvdW5kc1xuXG4gIHJldHVybiBtb2RlbGluZy5yZXBsYWNlU2hhcGUoXG4gICAgb2xkRWxlbWVudCxcbiAgICBhc3NpZ24oXG4gICAgICB7fSxcbiAgICAgIG5ld0VsZW1lbnREYXRhLFxuICAgICAge1xuICAgICAgICB4OiBjZW50ZXJYLFxuICAgICAgICB5OiBjZW50ZXJZLFxuICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgIGhlaWdodDogaGVpZ2h0XG4gICAgICB9XG4gICAgKSxcbiAgICBvcHRpb25zXG4gICk7XG59O1xuIiwiaW1wb3J0IFJlcGxhY2UgZnJvbSAnLi9SZXBsYWNlJztcblxuZXhwb3J0IGRlZmF1bHQge1xuICBfX2luaXRfXzogWyAncmVwbGFjZScgXSxcbiAgcmVwbGFjZTogWyAndHlwZScsIFJlcGxhY2UgXVxufTsiLCJpbXBvcnQge1xuICBwaWNrLFxuICBhc3NpZ24sXG4gIGZvckVhY2gsXG4gIGlzQXJyYXksXG4gIGlzVW5kZWZpbmVkXG59IGZyb20gJ21pbi1kYXNoJztcblxuaW1wb3J0IHsgZ2V0UHJvcGVydHlOYW1lcyB9IGZyb20gJy4uL2NvcHktcGFzdGUvTW9kZGxlQ29weSc7XG5cbmZ1bmN0aW9uIGNvcHlQcm9wZXJ0aWVzKHNvdXJjZSwgdGFyZ2V0LCBwcm9wZXJ0aWVzKSB7XG4gIGlmICghaXNBcnJheShwcm9wZXJ0aWVzKSkge1xuICAgIHByb3BlcnRpZXMgPSBbIHByb3BlcnRpZXMgXTtcbiAgfVxuXG4gIGZvckVhY2gocHJvcGVydGllcywgZnVuY3Rpb24ocHJvcGVydHkpIHtcbiAgICBpZiAoIWlzVW5kZWZpbmVkKHNvdXJjZVtwcm9wZXJ0eV0pKSB7XG4gICAgICB0YXJnZXRbcHJvcGVydHldID0gc291cmNlW3Byb3BlcnR5XTtcbiAgICB9XG4gIH0pO1xufVxuXG52YXIgQ1VTVE9NX1BST1BFUlRJRVMgPSBbXG4gICdjYW5jZWxBY3Rpdml0eScsXG4gICdpbnN0YW50aWF0ZScsXG4gICdldmVudEdhdGV3YXlUeXBlJyxcbiAgJ3RyaWdnZXJlZEJ5RXZlbnQnLFxuICAnaXNJbnRlcnJ1cHRpbmcnXG5dO1xuXG5cblxuLyoqXG4gKiBUaGlzIG1vZHVsZSB0YWtlcyBjYXJlIG9mIHJlcGxhY2luZyBwb3N0aXQgZWxlbWVudHNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUG9zdGl0UmVwbGFjZShcbiAgICBwb3N0aXRGYWN0b3J5LFxuICAgIGVsZW1lbnRGYWN0b3J5LFxuICAgIG1vZGRsZUNvcHksXG4gICAgbW9kZWxpbmcsXG4gICAgcmVwbGFjZSxcbiAgICBzZWxlY3Rpb25cbikge1xuXG4gIC8qKlxuICAgKiBQcmVwYXJlcyBhIG5ldyBidXNpbmVzcyBvYmplY3QgZm9yIHRoZSByZXBsYWNlbWVudCBlbGVtZW50XG4gICAqIGFuZCB0cmlnZ2VycyB0aGUgcmVwbGFjZSBvcGVyYXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSAge2Rqcy5tb2RlbC5CYXNlfSBlbGVtZW50XG4gICAqIEBwYXJhbSAge09iamVjdH0gdGFyZ2V0XG4gICAqIEBwYXJhbSAge09iamVjdH0gW2hpbnRzXVxuICAgKlxuICAgKiBAcmV0dXJuIHtkanMubW9kZWwuQmFzZX0gdGhlIG5ld2x5IGNyZWF0ZWQgZWxlbWVudFxuICAgKi9cbiAgZnVuY3Rpb24gcmVwbGFjZUVsZW1lbnQoZWxlbWVudCwgdGFyZ2V0LCBoaW50cykge1xuXG4gICAgaGludHMgPSBoaW50cyB8fCB7fTtcblxuICAgIHZhciB0eXBlID0gdGFyZ2V0LnR5cGUsXG4gICAgICAgIG9sZEJ1c2luZXNzT2JqZWN0ID0gZWxlbWVudC5idXNpbmVzc09iamVjdDtcblxuICAgIHZhciBuZXdCdXNpbmVzc09iamVjdCA9IHBvc3RpdEZhY3RvcnkuY3JlYXRlKHR5cGUpO1xuXG4gICAgdmFyIG5ld0VsZW1lbnQgPSB7XG4gICAgICB0eXBlOiB0eXBlLFxuICAgICAgYnVzaW5lc3NPYmplY3Q6IG5ld0J1c2luZXNzT2JqZWN0XG4gICAgfTtcblxuICAgIHZhciBlbGVtZW50UHJvcHMgPSBnZXRQcm9wZXJ0eU5hbWVzKG9sZEJ1c2luZXNzT2JqZWN0LiRkZXNjcmlwdG9yKSxcbiAgICAgICAgbmV3RWxlbWVudFByb3BzID0gZ2V0UHJvcGVydHlOYW1lcyhuZXdCdXNpbmVzc09iamVjdC4kZGVzY3JpcHRvciwgdHJ1ZSksXG4gICAgICAgIGNvcHlQcm9wcyA9IGludGVyc2VjdGlvbihlbGVtZW50UHJvcHMsIG5ld0VsZW1lbnRQcm9wcyk7XG5cbiAgICAvLyBpbml0aWFsaXplIHNwZWNpYWwgcHJvcGVydGllcyBkZWZpbmVkIGluIHRhcmdldCBkZWZpbml0aW9uXG4gICAgYXNzaWduKG5ld0J1c2luZXNzT2JqZWN0LCBwaWNrKHRhcmdldCwgQ1VTVE9NX1BST1BFUlRJRVMpKTtcblxuICAgIHZhciBwcm9wZXJ0aWVzID0gY29weVByb3BzO1xuXG4gICAgbmV3QnVzaW5lc3NPYmplY3QgPSBtb2RkbGVDb3B5LmNvcHlFbGVtZW50KFxuICAgICAgb2xkQnVzaW5lc3NPYmplY3QsXG4gICAgICBuZXdCdXNpbmVzc09iamVjdCxcbiAgICAgIHByb3BlcnRpZXNcbiAgICApO1xuXG4gICAgbmV3QnVzaW5lc3NPYmplY3QubmFtZSA9IG9sZEJ1c2luZXNzT2JqZWN0Lm5hbWU7XG5cbiAgICBuZXdFbGVtZW50LmRpID0ge307XG5cbiAgICAvLyBmaWxsIGFuZCBzdHJva2Ugd2lsbCBiZSBzZXQgdG8gRElcbiAgICBjb3B5UHJvcGVydGllcyhvbGRCdXNpbmVzc09iamVjdC5kaSwgbmV3RWxlbWVudC5kaSwgW1xuICAgICAgJ2ZpbGwnLFxuICAgICAgJ3N0cm9rZSdcbiAgICBdKTtcblxuICAgIG5ld0VsZW1lbnQgPSByZXBsYWNlLnJlcGxhY2VFbGVtZW50KGVsZW1lbnQsIG5ld0VsZW1lbnQsIGhpbnRzKTtcblxuICAgIGlmIChoaW50cy5zZWxlY3QgIT09IGZhbHNlKSB7XG4gICAgICBzZWxlY3Rpb24uc2VsZWN0KG5ld0VsZW1lbnQpO1xuICAgIH1cblxuICAgIHJldHVybiBuZXdFbGVtZW50O1xuICB9XG5cbiAgdGhpcy5yZXBsYWNlRWxlbWVudCA9IHJlcGxhY2VFbGVtZW50O1xufVxuXG5Qb3N0aXRSZXBsYWNlLiRpbmplY3QgPSBbXG4gICdwb3N0aXRGYWN0b3J5JyxcbiAgJ2VsZW1lbnRGYWN0b3J5JyxcbiAgJ21vZGRsZUNvcHknLFxuICAnbW9kZWxpbmcnLFxuICAncmVwbGFjZScsXG4gICdzZWxlY3Rpb24nXG5dO1xuXG4vKipcbiAqIENvbXB1dGUgaW50ZXJzZWN0aW9uIGJldHdlZW4gdHdvIGFycmF5cy5cbiAqL1xuZnVuY3Rpb24gaW50ZXJzZWN0aW9uKGExLCBhMikge1xuICByZXR1cm4gYTEuZmlsdGVyKGZ1bmN0aW9uKGVsKSB7XG4gICAgcmV0dXJuIGEyLmluZGV4T2YoZWwpICE9PSAtMTtcbiAgfSk7XG59XG4iLCJpbXBvcnQgQ29weVBhc3RlTW9kdWxlIGZyb20gJy4uL2NvcHktcGFzdGUnO1xuaW1wb3J0IFJlcGxhY2VNb2R1bGUgZnJvbSAnZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvcmVwbGFjZSc7XG5pbXBvcnQgU2VsZWN0aW9uTW9kdWxlIGZyb20gJ2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL3NlbGVjdGlvbic7XG5cbmltcG9ydCBQb3N0aXRSZXBsYWNlIGZyb20gJy4vUG9zdGl0UmVwbGFjZSc7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgX19kZXBlbmRzX186IFtcbiAgICBDb3B5UGFzdGVNb2R1bGUsXG4gICAgUmVwbGFjZU1vZHVsZSxcbiAgICBTZWxlY3Rpb25Nb2R1bGVcbiAgXSxcbiAgcG9zdGl0UmVwbGFjZTogWyAndHlwZScsIFBvc3RpdFJlcGxhY2UgXVxufTtcbiIsImltcG9ydCB7XG4gIGZvckVhY2hcbn0gZnJvbSAnbWluLWRhc2gnO1xuXG5cbi8qKlxuICogVGhpcyBtb2R1bGUgaXMgYW4gZWxlbWVudCBhZ25vc3RpYyByZXBsYWNlIG1lbnUgcHJvdmlkZXIgZm9yIHRoZSBwb3B1cCBtZW51LlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBSZXBsYWNlTWVudVByb3ZpZGVyKFxuICAgIHBvcHVwTWVudSwgbW9kZWxpbmcsIG1vZGRsZSxcbiAgICBwb3N0aXRSZXBsYWNlLCBydWxlcywgdHJhbnNsYXRlKSB7XG5cbiAgdGhpcy5fcG9wdXBNZW51ID0gcG9wdXBNZW51O1xuICB0aGlzLl9tb2RlbGluZyA9IG1vZGVsaW5nO1xuICB0aGlzLl9tb2RkbGUgPSBtb2RkbGU7XG4gIHRoaXMuX3Bvc3RpdFJlcGxhY2UgPSBwb3N0aXRSZXBsYWNlO1xuICB0aGlzLl9ydWxlcyA9IHJ1bGVzO1xuICB0aGlzLl90cmFuc2xhdGUgPSB0cmFuc2xhdGU7XG5cbiAgdGhpcy5yZWdpc3RlcigpO1xufVxuXG5SZXBsYWNlTWVudVByb3ZpZGVyLiRpbmplY3QgPSBbXG4gICdwb3B1cE1lbnUnLFxuICAnbW9kZWxpbmcnLFxuICAnbW9kZGxlJyxcbiAgJ3Bvc3RpdFJlcGxhY2UnLFxuICAncnVsZXMnLFxuICAndHJhbnNsYXRlJ1xuXTtcblxuXG4vKipcbiAqIFJlZ2lzdGVyIHJlcGxhY2UgbWVudSBwcm92aWRlciBpbiB0aGUgcG9wdXAgbWVudVxuICovXG5SZXBsYWNlTWVudVByb3ZpZGVyLnByb3RvdHlwZS5yZWdpc3RlciA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLl9wb3B1cE1lbnUucmVnaXN0ZXJQcm92aWRlcigncG9zdGl0LXJlcGxhY2UnLCB0aGlzKTtcbn07XG5cblxuLyoqXG4gKiBHZXQgYWxsIGVudHJpZXMgZnJvbSByZXBsYWNlT3B0aW9ucyBmb3IgdGhlIGdpdmVuIGVsZW1lbnQgYW5kIGFwcGx5IGZpbHRlcnNcbiAqIG9uIHRoZW0uIEdldCBmb3IgZXhhbXBsZSBvbmx5IGVsZW1lbnRzLCB3aGljaCBhcmUgZGlmZmVyZW50IGZyb20gdGhlIGN1cnJlbnQgb25lLlxuICpcbiAqIEBwYXJhbSB7ZGpzLm1vZGVsLkJhc2V9IGVsZW1lbnRcbiAqXG4gKiBAcmV0dXJuIHtBcnJheTxPYmplY3Q+fSBhIGxpc3Qgb2YgbWVudSBlbnRyeSBpdGVtc1xuICovXG5SZXBsYWNlTWVudVByb3ZpZGVyLnByb3RvdHlwZS5nZXRFbnRyaWVzID0gZnVuY3Rpb24oZWxlbWVudCkge1xuXG4gIHZhciBydWxlcyA9IHRoaXMuX3J1bGVzO1xuXG4gIHZhciBlbnRyaWVzID0gW107XG5cbiAgaWYgKCFydWxlcy5hbGxvd2VkKCdzaGFwZS5yZXBsYWNlJywgeyBlbGVtZW50OiBlbGVtZW50IH0pKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG5cbiAgcmV0dXJuIGVudHJpZXM7XG59O1xuXG5cbi8qKlxuICogR2V0IGEgbGlzdCBvZiBoZWFkZXIgaXRlbXMgZm9yIHRoZSBnaXZlbiBlbGVtZW50LiBUaGlzIGluY2x1ZGVzIGJ1dHRvbnNcbiAqIGZvciBtdWx0aSBpbnN0YW5jZSBtYXJrZXJzIGFuZCBmb3IgdGhlIGFkIGhvYyBtYXJrZXIuXG4gKlxuICogQHBhcmFtIHtkanMubW9kZWwuQmFzZX0gZWxlbWVudFxuICpcbiAqIEByZXR1cm4ge0FycmF5PE9iamVjdD59IGEgbGlzdCBvZiBtZW51IGVudHJ5IGl0ZW1zXG4gKi9cblJlcGxhY2VNZW51UHJvdmlkZXIucHJvdG90eXBlLmdldEhlYWRlckVudHJpZXMgPSBmdW5jdGlvbihlbGVtZW50KSB7XG5cbiAgdmFyIGhlYWRlckVudHJpZXMgPSBbXTtcblxuICByZXR1cm4gaGVhZGVyRW50cmllcztcbn07XG5cblxuLyoqXG4gKiBDcmVhdGVzIGFuIGFycmF5IG9mIG1lbnUgZW50cnkgb2JqZWN0cyBmb3IgYSBnaXZlbiBlbGVtZW50IGFuZCBmaWx0ZXJzIHRoZSByZXBsYWNlT3B0aW9uc1xuICogYWNjb3JkaW5nIHRvIGEgZmlsdGVyIGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSAge2Rqcy5tb2RlbC5CYXNlfSBlbGVtZW50XG4gKiBAcGFyYW0gIHtPYmplY3R9IHJlcGxhY2VPcHRpb25zXG4gKlxuICogQHJldHVybiB7QXJyYXk8T2JqZWN0Pn0gYSBsaXN0IG9mIG1lbnUgaXRlbXNcbiAqL1xuUmVwbGFjZU1lbnVQcm92aWRlci5wcm90b3R5cGUuX2NyZWF0ZUVudHJpZXMgPSBmdW5jdGlvbihlbGVtZW50LCByZXBsYWNlT3B0aW9ucykge1xuICB2YXIgbWVudUVudHJpZXMgPSBbXTtcblxuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgZm9yRWFjaChyZXBsYWNlT3B0aW9ucywgZnVuY3Rpb24oZGVmaW5pdGlvbikge1xuICAgIHZhciBlbnRyeSA9IHNlbGYuX2NyZWF0ZU1lbnVFbnRyeShkZWZpbml0aW9uLCBlbGVtZW50KTtcblxuICAgIG1lbnVFbnRyaWVzLnB1c2goZW50cnkpO1xuICB9KTtcblxuICByZXR1cm4gbWVudUVudHJpZXM7XG59O1xuXG5cbi8qKlxuICogQ3JlYXRlcyBhbmQgcmV0dXJucyBhIHNpbmdsZSBtZW51IGVudHJ5IGl0ZW0uXG4gKlxuICogQHBhcmFtICB7T2JqZWN0fSBkZWZpbml0aW9uIGEgc2luZ2xlIHJlcGxhY2Ugb3B0aW9ucyBkZWZpbml0aW9uIG9iamVjdFxuICogQHBhcmFtICB7ZGpzLm1vZGVsLkJhc2V9IGVsZW1lbnRcbiAqIEBwYXJhbSAge0Z1bmN0aW9ufSBbYWN0aW9uXSBhbiBhY3Rpb24gY2FsbGJhY2sgZnVuY3Rpb24gd2hpY2ggZ2V0cyBjYWxsZWQgd2hlblxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoZSBtZW51IGVudHJ5IGlzIGJlaW5nIHRyaWdnZXJlZC5cbiAqXG4gKiBAcmV0dXJuIHtPYmplY3R9IG1lbnUgZW50cnkgaXRlbVxuICovXG5SZXBsYWNlTWVudVByb3ZpZGVyLnByb3RvdHlwZS5fY3JlYXRlTWVudUVudHJ5ID0gZnVuY3Rpb24oZGVmaW5pdGlvbiwgZWxlbWVudCwgYWN0aW9uKSB7XG4gIHZhciB0cmFuc2xhdGUgPSB0aGlzLl90cmFuc2xhdGU7XG4gIHZhciByZXBsYWNlRWxlbWVudCA9IHRoaXMuX3Bvc3RpdFJlcGxhY2UucmVwbGFjZUVsZW1lbnQ7XG5cbiAgdmFyIHJlcGxhY2VBY3Rpb24gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gcmVwbGFjZUVsZW1lbnQoZWxlbWVudCwgZGVmaW5pdGlvbi50YXJnZXQpO1xuICB9O1xuXG4gIGFjdGlvbiA9IGFjdGlvbiB8fCByZXBsYWNlQWN0aW9uO1xuXG4gIHZhciBtZW51RW50cnkgPSB7XG4gICAgbGFiZWw6IHRyYW5zbGF0ZShkZWZpbml0aW9uLmxhYmVsKSxcbiAgICBjbGFzc05hbWU6IGRlZmluaXRpb24uY2xhc3NOYW1lLFxuICAgIGlkOiBkZWZpbml0aW9uLmFjdGlvbk5hbWUsXG4gICAgYWN0aW9uOiBhY3Rpb25cbiAgfTtcblxuICByZXR1cm4gbWVudUVudHJ5O1xufTtcbiIsImltcG9ydCBQb3B1cE1lbnVNb2R1bGUgZnJvbSAnZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvcG9wdXAtbWVudSc7XG5pbXBvcnQgUmVwbGFjZU1vZHVsZSBmcm9tICcuLi9yZXBsYWNlJztcblxuaW1wb3J0IFJlcGxhY2VNZW51UHJvdmlkZXIgZnJvbSAnLi9SZXBsYWNlTWVudVByb3ZpZGVyJztcblxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9fZGVwZW5kc19fOiBbXG4gICAgUG9wdXBNZW51TW9kdWxlLFxuICAgIFJlcGxhY2VNb2R1bGVcbiAgXSxcbiAgX19pbml0X186IFsgJ3JlcGxhY2VNZW51UHJvdmlkZXInIF0sXG4gIHJlcGxhY2VNZW51UHJvdmlkZXI6IFsgJ3R5cGUnLCBSZXBsYWNlTWVudVByb3ZpZGVyIF1cbn07IiwiaW1wb3J0IHtcbiAgYXNzaWduLFxuICBpc0FycmF5LFxuICBrZXlzLFxuICBmb3JFYWNoXG59IGZyb20gJ21pbi1kYXNoJztcblxuaW1wb3J0IHtcbiAgaGFzUHJpbWFyeU1vZGlmaWVyXG59IGZyb20gJ2RpYWdyYW0tanMvbGliL3V0aWwvTW91c2UnO1xuXG5pbXBvcnQgQ09MT1JTIGZyb20gJy4uLy4uL3V0aWwvQ29sb3JVdGlsJztcbmltcG9ydCB7IGlzLCBnZXRCdXNpbmVzc09iamVjdCB9IGZyb20gJy4uLy4uL3V0aWwvTW9kZWxVdGlsJztcblxuXG4vKipcbiAqIEEgcHJvdmlkZXIgZm9yIHBvc3RpdCBlbGVtZW50cyBjb250ZXh0IHBhZFxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDb250ZXh0UGFkUHJvdmlkZXIoXG4gICAgY29uZmlnLCBpbmplY3RvciwgZXZlbnRCdXMsXG4gICAgY29udGV4dFBhZCwgbW9kZWxpbmcsIHJ1bGVzLFxuICAgIGltYWdlU2VsZWN0aW9uLCB0cmFuc2xhdGUpIHtcblxuICBjb25maWcgPSBjb25maWcgfHwge307XG5cbiAgY29udGV4dFBhZC5yZWdpc3RlclByb3ZpZGVyKHRoaXMpO1xuXG4gIHRoaXMuX2NvbnRleHRQYWQgPSBjb250ZXh0UGFkO1xuXG4gIHRoaXMuX21vZGVsaW5nID0gbW9kZWxpbmc7XG5cbiAgdGhpcy5fcnVsZXMgPSBydWxlcztcbiAgdGhpcy5faW1hZ2VTZWxlY3Rpb24gPSBpbWFnZVNlbGVjdGlvbjtcbiAgdGhpcy5fdHJhbnNsYXRlID0gdHJhbnNsYXRlO1xuXG4gIGlmIChjb25maWcuYXV0b1BsYWNlICE9PSBmYWxzZSkge1xuICAgIHRoaXMuX2F1dG9QbGFjZSA9IGluamVjdG9yLmdldCgnYXV0b1BsYWNlJywgZmFsc2UpO1xuICB9XG5cbiAgZXZlbnRCdXMub24oJ2NyZWF0ZS5lbmQnLCAyNTAsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0LFxuICAgICAgICBzaGFwZSA9IGNvbnRleHQuc2hhcGU7XG5cbiAgICBpZiAoIWhhc1ByaW1hcnlNb2RpZmllcihldmVudCkgfHwgIWNvbnRleHRQYWQuaXNPcGVuKHNoYXBlKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBlbnRyaWVzID0gY29udGV4dFBhZC5nZXRFbnRyaWVzKHNoYXBlKTtcblxuICAgIGlmIChlbnRyaWVzLnJlcGxhY2UpIHtcbiAgICAgIGVudHJpZXMucmVwbGFjZS5hY3Rpb24uY2xpY2soZXZlbnQsIHNoYXBlKTtcbiAgICB9XG4gIH0pO1xufVxuXG5Db250ZXh0UGFkUHJvdmlkZXIuJGluamVjdCA9IFtcbiAgJ2NvbmZpZy5jb250ZXh0UGFkJyxcbiAgJ2luamVjdG9yJyxcbiAgJ2V2ZW50QnVzJyxcbiAgJ2NvbnRleHRQYWQnLFxuICAnbW9kZWxpbmcnLFxuICAncnVsZXMnLFxuICAnaW1hZ2VTZWxlY3Rpb24nLFxuICAndHJhbnNsYXRlJ1xuXTtcblxuXG5Db250ZXh0UGFkUHJvdmlkZXIucHJvdG90eXBlLmdldENvbnRleHRQYWRFbnRyaWVzID0gZnVuY3Rpb24oZWxlbWVudCkge1xuXG4gIGNvbnN0IHtcbiAgICBfcnVsZXM6IHJ1bGVzLFxuICAgIF9tb2RlbGluZzogbW9kZWxpbmcsXG4gICAgX2ltYWdlU2VsZWN0aW9uOiBpbWFnZVNlbGVjdGlvbixcbiAgICBfdHJhbnNsYXRlOiB0cmFuc2xhdGVcbiAgfSA9IHRoaXM7XG5cbiAgbGV0IGFjdGlvbnMgPSB7fTtcblxuICBmdW5jdGlvbiBfcmVtb3ZlRWxlbWVudChlKSB7XG4gICAgdmFyIHVybFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMod2luZG93LmxvY2F0aW9uLnNlYXJjaCk7XG4gICAgdmFyIHNfa2V5ID0gdXJsUGFyYW1zLmdldCgnc19rZXknKTtcbiAgICBpZiggc19rZXkgPT09IG51bGwgKSB7XG4gICAgICBzaGVwaGVyZEFsZXJ0KFwiU2NyaXB0IFJlcXVpcmVkXCIsIFwiWW91IG11c3Qgb3BlbiBhIHNjcmlwdCB0byB1cGRhdGUgaXQncyBub3Rlcy5cIik7XG4gICAgfSBlbHNlIHtcbiAgICAgICQuYWpheCh7XG4gICAgICAgIHR5cGU6IFwiREVMRVRFXCIsXG4gICAgICAgIGJlZm9yZVNlbmQ6IGZ1bmN0aW9uKHhocikge1xuICAgICAgICAgICAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKCdYLUNTUkYtVG9rZW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAkKCdtZXRhW25hbWU9XCJjc3JmLXRva2VuXCJdJykuYXR0cignY29udGVudCcpKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgdXJsOiBcIi9zY3JpcHRzL1wiICsgc19rZXkgKyBcIi9kZXN0cm95X2ltYWdlL1wiICsgZWxlbWVudC5idXNpbmVzc09iamVjdC4kYXR0cnNbXCJrZXlcIl0sXG4gICAgICAgIHJlc3BvbnNlVHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICBmYWlsdXJlOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgLy8gQ29uc2Npb3VzbHkgbm90IGRvaW5nIGFueXRoaW5nLiBGYWlsIHNpbGVudGx5IGFuZCBjbGVhbiB1cFxuICAgICAgICAgIC8vIGxhdGVyLlxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgbW9kZWxpbmcucmVtb3ZlRWxlbWVudHMoWyBlbGVtZW50IF0pO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVtb3ZlRWxlbWVudChlKSB7XG4gICAgaWYoIGVsZW1lbnQudHlwZSA9PT0gXCJwb3N0aXQ6SW1hZ2VcIiAmJlxuICAgICAgICBlbGVtZW50LmJ1c2luZXNzT2JqZWN0LiRhdHRyc1tcImtleVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBzaGVwaGVyZENvbmZpcm0oXCJDb25maXJtIERlbGV0ZT9cIiwgXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHRoaXMgZWxlbWVudD9cIiwgX3JlbW92ZUVsZW1lbnQsIFtlXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1vZGVsaW5nLnJlbW92ZUVsZW1lbnRzKFsgZWxlbWVudCBdKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzZXRDb2xvcihjb2xvcikge1xuICAgIG1vZGVsaW5nLnNldENvbG9yKGVsZW1lbnQsIGNvbG9yKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZURlbGV0ZUVudHJ5KGFjdGlvbnMpIHtcblxuICAgIC8vIGRlbGV0ZSBlbGVtZW50IGVudHJ5LCBvbmx5IHNob3cgaWYgYWxsb3dlZCBieSBydWxlc1xuICAgIGxldCBkZWxldGVBbGxvd2VkID0gcnVsZXMuYWxsb3dlZCgnZWxlbWVudHMuZGVsZXRlJywgeyBlbGVtZW50czogWyBlbGVtZW50IF0gfSk7XG5cbiAgICBpZiAoaXNBcnJheShkZWxldGVBbGxvd2VkKSkge1xuXG4gICAgICAvLyB3YXMgdGhlIGVsZW1lbnQgcmV0dXJuZWQgYXMgYSBkZWxldGlvbiBjYW5kaWRhdGU/XG4gICAgICBkZWxldGVBbGxvd2VkID0gZGVsZXRlQWxsb3dlZFswXSA9PT0gZWxlbWVudDtcbiAgICB9XG5cbiAgICBpZiAoZGVsZXRlQWxsb3dlZCkge1xuICAgICAgYXNzaWduKGFjdGlvbnMsIHtcbiAgICAgICAgJ2RlbGV0ZSc6IHtcbiAgICAgICAgICBncm91cDogJ2VkaXQnLFxuICAgICAgICAgIGNsYXNzTmFtZTogJ2JwbW4taWNvbi10cmFzaCcsXG4gICAgICAgICAgdGl0bGU6IHRyYW5zbGF0ZSgnUmVtb3ZlJyksXG4gICAgICAgICAgYWN0aW9uOiB7XG4gICAgICAgICAgICBjbGljazogcmVtb3ZlRWxlbWVudFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlQ29sb3JpbmdFbnRyaWVzKGFjdGlvbnMpIHtcbiAgICBmb3JFYWNoKGtleXMoQ09MT1JTKSwga2V5ID0+IHtcbiAgICAgIHZhciBjb2xvciA9IENPTE9SU1trZXldO1xuXG4gICAgICBmdW5jdGlvbiBnZXRDbGFzc05hbWVzKCkge1xuICAgICAgICB2YXIgY2xhc3NOYW1lcyA9IFtdO1xuXG4gICAgICAgIGlmIChjb2xvciA9PT0gZ2V0Q29sb3IoZWxlbWVudCkpIHtcblxuICAgICAgICAgIGNsYXNzTmFtZXMucHVzaCgncGpzLWNvbG9yLWVudHJ5LWRpc2FibGVkJyk7XG4gICAgICAgIH1cblxuICAgICAgICBjbGFzc05hbWVzLnB1c2goJ3Bqcy1jb2xvci1lbnRyeS0nICsga2V5KTtcblxuICAgICAgICByZXR1cm4gY2xhc3NOYW1lcztcbiAgICAgIH1cblxuICAgICAgYXNzaWduKGFjdGlvbnMsIHtcbiAgICAgICAgWydjb2xvci0nICsga2V5XToge1xuICAgICAgICAgIGdyb3VwOiAnY29sb3InLFxuICAgICAgICAgIGNsYXNzTmFtZTogZ2V0Q2xhc3NOYW1lcygpLFxuICAgICAgICAgIHRpdGxlOiB0cmFuc2xhdGUoJ1NldCBDb2xvcicpLFxuICAgICAgICAgIGFjdGlvbjoge1xuICAgICAgICAgICAgY2xpY2s6IChldmVudCkgPT4gc2V0Q29sb3IoY29sb3IpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChlbGVtZW50LnR5cGUgPT09ICdsYWJlbCcpIHtcbiAgICByZXR1cm4gYWN0aW9ucztcbiAgfVxuXG4gIGlmIChpcyhlbGVtZW50LCAncG9zdGl0OlBvc3RpdCcpKSB7XG4gICAgY3JlYXRlQ29sb3JpbmdFbnRyaWVzKGFjdGlvbnMpO1xuICB9XG5cbiAgaWYgKGlzKGVsZW1lbnQsICdwb3N0aXQ6SW1hZ2UnKSkge1xuICAgIGFzc2lnbihhY3Rpb25zLCB7XG4gICAgICAncmVwbGFjZS5pbWFnZSc6IHtcbiAgICAgICAgZ3JvdXA6ICdyZXBsYWNlJyxcbiAgICAgICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLXNjcmV3LXdyZW5jaCcsXG4gICAgICAgIHRpdGxlOiB0cmFuc2xhdGUoJ0NoYW5nZSBpbWFnZSBzb3VyY2UnKSxcbiAgICAgICAgYWN0aW9uOiB7XG4gICAgICAgICAgY2xpY2s6IChldmVudCkgPT4gaW1hZ2VTZWxlY3Rpb24uc2VsZWN0KGVsZW1lbnQpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGNyZWF0ZURlbGV0ZUVudHJ5KGFjdGlvbnMpO1xuXG4gIHJldHVybiBhY3Rpb25zO1xufTtcblxuLy8gaGVscGVycyAvLy8vLy8vLy8vXG5cbmZ1bmN0aW9uIGdldENvbG9yKGVsZW1lbnQpIHtcbiAgdmFyIGJvID0gZ2V0QnVzaW5lc3NPYmplY3QoZWxlbWVudCk7XG5cbiAgcmV0dXJuIGJvLmNvbG9yIHx8IGVsZW1lbnQuY29sb3I7XG59XG4iLCJpbXBvcnQgRGlyZWN0RWRpdGluZ01vZHVsZSBmcm9tICdkaWFncmFtLWpzLWRpcmVjdC1lZGl0aW5nJztcbmltcG9ydCBDb250ZXh0UGFkTW9kdWxlIGZyb20gJ2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2NvbnRleHQtcGFkJztcbmltcG9ydCBTZWxlY3Rpb25Nb2R1bGUgZnJvbSAnZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvc2VsZWN0aW9uJztcbmltcG9ydCBDb25uZWN0TW9kdWxlIGZyb20gJ2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2Nvbm5lY3QnO1xuaW1wb3J0IENyZWF0ZU1vZHVsZSBmcm9tICdkaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9jcmVhdGUnO1xuaW1wb3J0IFBvcHVwTWVudU1vZHVsZSBmcm9tICcuLi9wb3B1cC1tZW51JztcblxuaW1wb3J0IENvbnRleHRQYWRQcm92aWRlciBmcm9tICcuL0NvbnRleHRQYWRQcm92aWRlcic7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgX19kZXBlbmRzX186IFtcbiAgICBEaXJlY3RFZGl0aW5nTW9kdWxlLFxuICAgIENvbnRleHRQYWRNb2R1bGUsXG4gICAgU2VsZWN0aW9uTW9kdWxlLFxuICAgIENvbm5lY3RNb2R1bGUsXG4gICAgQ3JlYXRlTW9kdWxlLFxuICAgIFBvcHVwTWVudU1vZHVsZVxuICBdLFxuICBfX2luaXRfXzogWyAnY29udGV4dFBhZFByb3ZpZGVyJyBdLFxuICBjb250ZXh0UGFkUHJvdmlkZXI6IFsgJ3R5cGUnLCBDb250ZXh0UGFkUHJvdmlkZXIgXVxufTsiLCJpbXBvcnQge1xuICBmb3JFYWNoLFxuICBpc0FycmF5XG59IGZyb20gJ21pbi1kYXNoJztcblxudmFyIE5PVF9SRUdJU1RFUkVEX0VSUk9SID0gJ2lzIG5vdCBhIHJlZ2lzdGVyZWQgYWN0aW9uJyxcbiAgICBJU19SRUdJU1RFUkVEX0VSUk9SID0gJ2lzIGFscmVhZHkgcmVnaXN0ZXJlZCc7XG5cblxuLyoqXG4gKiBBbiBpbnRlcmZhY2UgdGhhdCBwcm92aWRlcyBhY2Nlc3MgdG8gbW9kZWxpbmcgYWN0aW9ucyBieSBkZWNvdXBsaW5nXG4gKiB0aGUgb25lIHdobyByZXF1ZXN0cyB0aGUgYWN0aW9uIHRvIGJlIHRyaWdnZXJlZCBhbmQgdGhlIHRyaWdnZXIgaXRzZWxmLlxuICpcbiAqIEl0J3MgcG9zc2libGUgdG8gYWRkIG5ldyBhY3Rpb25zIGJ5IHJlZ2lzdGVyaW5nIHRoZW0gd2l0aCDCtHJlZ2lzdGVyQWN0aW9uwrRcbiAqIGFuZCBsaWtld2lzZSB1bnJlZ2lzdGVyIGV4aXN0aW5nIG9uZXMgd2l0aCDCtHVucmVnaXN0ZXJBY3Rpb27CtC5cbiAqXG4gKlxuICogIyMgTGlmZS1DeWNsZSBhbmQgY29uZmlndXJhdGlvblxuICpcbiAqIFRoZSBlZGl0b3IgYWN0aW9ucyB3aWxsIHdhaXQgZm9yIGRpYWdyYW0gaW5pdGlhbGl6YXRpb24gYmVmb3JlXG4gKiByZWdpc3RlcmluZyBkZWZhdWx0IGFjdGlvbnMgX2FuZF8gZmlyaW5nIGFuIGBlZGl0b3JBY3Rpb25zLmluaXRgIGV2ZW50LlxuICpcbiAqIEludGVyZXN0ZWQgcGFydGllcyBtYXkgbGlzdGVuIHRvIHRoZSBgZWRpdG9yQWN0aW9ucy5pbml0YCBldmVudCB3aXRoXG4gKiBsb3cgcHJpb3JpdHkgdG8gY2hlY2ssIHdoaWNoIGFjdGlvbnMgZ290IHJlZ2lzdGVyZWQuIE90aGVyIGNvbXBvbmVudHNcbiAqIG1heSB1c2UgdGhlIGV2ZW50IHRvIHJlZ2lzdGVyIHRoZWlyIG93biBhY3Rpb25zIHZpYSBgcmVnaXN0ZXJBY3Rpb25gLlxuICpcbiAqIEBwYXJhbSB7RXZlbnRCdXN9IGV2ZW50QnVzXG4gKiBAcGFyYW0ge0luamVjdG9yfSBpbmplY3RvclxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBFZGl0b3JBY3Rpb25zKGV2ZW50QnVzLCBpbmplY3Rvcikge1xuXG4gIC8vIGluaXRpYWxpemUgYWN0aW9uc1xuICB0aGlzLl9hY3Rpb25zID0ge307XG5cbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIGV2ZW50QnVzLm9uKCdkaWFncmFtLmluaXQnLCBmdW5jdGlvbigpIHtcblxuICAgIC8vIGFsbCBkaWFncmFtIG1vZHVsZXMgZ290IGxvYWRlZDsgY2hlY2sgd2hpY2ggb25lc1xuICAgIC8vIGFyZSBhdmFpbGFibGUgYW5kIHJlZ2lzdGVyIHRoZSByZXNwZWN0aXZlIGRlZmF1bHQgYWN0aW9uc1xuICAgIHNlbGYuX3JlZ2lzdGVyRGVmYXVsdEFjdGlvbnMoaW5qZWN0b3IpO1xuXG4gICAgLy8gYXNrIGludGVyZXN0ZWQgcGFydGllcyB0byByZWdpc3RlciBhdmFpbGFibGUgZWRpdG9yXG4gICAgLy8gYWN0aW9ucyBvbiBkaWFncmFtIGluaXRpYWxpemF0aW9uXG4gICAgZXZlbnRCdXMuZmlyZSgnZWRpdG9yQWN0aW9ucy5pbml0Jywge1xuICAgICAgZWRpdG9yQWN0aW9uczogc2VsZlxuICAgIH0pO1xuICB9KTtcblxufVxuXG5FZGl0b3JBY3Rpb25zLiRpbmplY3QgPSBbXG4gICdldmVudEJ1cycsXG4gICdpbmplY3Rvcidcbl07XG5cbi8qKlxuICogUmVnaXN0ZXIgZGVmYXVsdCBhY3Rpb25zLlxuICpcbiAqIEBwYXJhbSB7SW5qZWN0b3J9IGluamVjdG9yXG4gKi9cbkVkaXRvckFjdGlvbnMucHJvdG90eXBlLl9yZWdpc3RlckRlZmF1bHRBY3Rpb25zID0gZnVuY3Rpb24oaW5qZWN0b3IpIHtcblxuICAvLyAoMSkgcmV0cmlldmUgb3B0aW9uYWwgY29tcG9uZW50cyB0byBpbnRlZ3JhdGUgd2l0aFxuXG4gIHZhciBjb21tYW5kU3RhY2sgPSBpbmplY3Rvci5nZXQoJ2NvbW1hbmRTdGFjaycsIGZhbHNlKTtcbiAgdmFyIG1vZGVsaW5nID0gaW5qZWN0b3IuZ2V0KCdtb2RlbGluZycsIGZhbHNlKTtcbiAgdmFyIHNlbGVjdGlvbiA9IGluamVjdG9yLmdldCgnc2VsZWN0aW9uJywgZmFsc2UpO1xuICB2YXIgem9vbVNjcm9sbCA9IGluamVjdG9yLmdldCgnem9vbVNjcm9sbCcsIGZhbHNlKTtcbiAgdmFyIGNvcHlQYXN0ZSA9IGluamVjdG9yLmdldCgnY29weVBhc3RlJywgZmFsc2UpO1xuICB2YXIgY2FudmFzID0gaW5qZWN0b3IuZ2V0KCdjYW52YXMnLCBmYWxzZSk7XG4gIHZhciBydWxlcyA9IGluamVjdG9yLmdldCgncnVsZXMnLCBmYWxzZSk7XG4gIHZhciBrZXlib2FyZE1vdmUgPSBpbmplY3Rvci5nZXQoJ2tleWJvYXJkTW92ZScsIGZhbHNlKTtcbiAgdmFyIGtleWJvYXJkTW92ZVNlbGVjdGlvbiA9IGluamVjdG9yLmdldCgna2V5Ym9hcmRNb3ZlU2VsZWN0aW9uJywgZmFsc2UpO1xuXG4gIC8vICgyKSBjaGVjayBjb21wb25lbnRzIGFuZCByZWdpc3RlciBhY3Rpb25zXG5cbiAgaWYgKGNvbW1hbmRTdGFjaykge1xuICAgIHRoaXMucmVnaXN0ZXIoJ3VuZG8nLCBmdW5jdGlvbigpIHtcbiAgICAgIGNvbW1hbmRTdGFjay51bmRvKCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLnJlZ2lzdGVyKCdyZWRvJywgZnVuY3Rpb24oKSB7XG4gICAgICBjb21tYW5kU3RhY2sucmVkbygpO1xuICAgIH0pO1xuICB9XG5cbiAgaWYgKGNvcHlQYXN0ZSAmJiBzZWxlY3Rpb24pIHtcbiAgICB0aGlzLnJlZ2lzdGVyKCdjb3B5JywgZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZWN0ZWRFbGVtZW50cyA9IHNlbGVjdGlvbi5nZXQoKTtcblxuICAgICAgY29weVBhc3RlLmNvcHkoc2VsZWN0ZWRFbGVtZW50cyk7XG4gICAgfSk7XG4gIH1cblxuICBpZiAoY29weVBhc3RlKSB7XG4gICAgdGhpcy5yZWdpc3RlcigncGFzdGUnLCBmdW5jdGlvbigpIHtcbiAgICAgIGNvcHlQYXN0ZS5wYXN0ZSgpO1xuICAgIH0pO1xuICB9XG5cbiAgaWYgKHpvb21TY3JvbGwpIHtcbiAgICB0aGlzLnJlZ2lzdGVyKCdzdGVwWm9vbScsIGZ1bmN0aW9uKG9wdHMpIHtcbiAgICAgIHpvb21TY3JvbGwuc3RlcFpvb20ob3B0cy52YWx1ZSk7XG4gICAgfSk7XG4gIH1cblxuICBpZiAoY2FudmFzKSB7XG4gICAgdGhpcy5yZWdpc3Rlcignem9vbScsIGZ1bmN0aW9uKG9wdHMpIHtcbiAgICAgIGNhbnZhcy56b29tKG9wdHMudmFsdWUpO1xuICAgIH0pO1xuICB9XG5cbiAgaWYgKG1vZGVsaW5nICYmIHNlbGVjdGlvbiAmJiBydWxlcykge1xuICAgIHRoaXMucmVnaXN0ZXIoJ3JlbW92ZVNlbGVjdGlvbicsIGZ1bmN0aW9uKCkge1xuXG4gICAgICB2YXIgc2VsZWN0ZWRFbGVtZW50cyA9IHNlbGVjdGlvbi5nZXQoKTtcblxuICAgICAgaWYgKCFzZWxlY3RlZEVsZW1lbnRzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBhbGxvd2VkID0gcnVsZXMuYWxsb3dlZCgnZWxlbWVudHMuZGVsZXRlJywgeyBlbGVtZW50czogc2VsZWN0ZWRFbGVtZW50cyB9KSxcbiAgICAgICAgICByZW1vdmFibGVFbGVtZW50cztcblxuICAgICAgaWYgKGFsbG93ZWQgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGlzQXJyYXkoYWxsb3dlZCkpIHtcbiAgICAgICAgcmVtb3ZhYmxlRWxlbWVudHMgPSBhbGxvd2VkO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHJlbW92YWJsZUVsZW1lbnRzID0gc2VsZWN0ZWRFbGVtZW50cztcbiAgICAgIH1cblxuICAgICAgaWYgKHJlbW92YWJsZUVsZW1lbnRzLmxlbmd0aCkge1xuICAgICAgICBtb2RlbGluZy5yZW1vdmVFbGVtZW50cyhyZW1vdmFibGVFbGVtZW50cy5zbGljZSgpKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGlmIChrZXlib2FyZE1vdmUpIHtcbiAgICB0aGlzLnJlZ2lzdGVyKCdtb3ZlQ2FudmFzJywgZnVuY3Rpb24ob3B0cykge1xuICAgICAga2V5Ym9hcmRNb3ZlLm1vdmVDYW52YXMob3B0cyk7XG4gICAgfSk7XG4gIH1cblxuICBpZiAoa2V5Ym9hcmRNb3ZlU2VsZWN0aW9uKSB7XG4gICAgdGhpcy5yZWdpc3RlcignbW92ZVNlbGVjdGlvbicsIGZ1bmN0aW9uKG9wdHMpIHtcbiAgICAgIGtleWJvYXJkTW92ZVNlbGVjdGlvbi5tb3ZlU2VsZWN0aW9uKG9wdHMuZGlyZWN0aW9uLCBvcHRzLmFjY2VsZXJhdGVkKTtcbiAgICB9KTtcbiAgfVxuXG59O1xuXG5cbi8qKlxuICogVHJpZ2dlcnMgYSByZWdpc3RlcmVkIGFjdGlvblxuICpcbiAqIEBwYXJhbSAge3N0cmluZ30gYWN0aW9uXG4gKiBAcGFyYW0gIHtPYmplY3R9IG9wdHNcbiAqXG4gKiBAcmV0dXJuIHtVbmtub3dufSBSZXR1cm5zIHdoYXQgdGhlIHJlZ2lzdGVyZWQgbGlzdGVuZXIgcmV0dXJuc1xuICovXG5FZGl0b3JBY3Rpb25zLnByb3RvdHlwZS50cmlnZ2VyID0gZnVuY3Rpb24oYWN0aW9uLCBvcHRzKSB7XG4gIGlmICghdGhpcy5fYWN0aW9uc1thY3Rpb25dKSB7XG4gICAgdGhyb3cgZXJyb3IoYWN0aW9uLCBOT1RfUkVHSVNURVJFRF9FUlJPUik7XG4gIH1cblxuICByZXR1cm4gdGhpcy5fYWN0aW9uc1thY3Rpb25dKG9wdHMpO1xufTtcblxuXG4vKipcbiAqIFJlZ2lzdGVycyBhIGNvbGxlY3Rpb25zIG9mIGFjdGlvbnMuXG4gKiBUaGUga2V5IG9mIHRoZSBvYmplY3Qgd2lsbCBiZSB0aGUgbmFtZSBvZiB0aGUgYWN0aW9uLlxuICpcbiAqIEBleGFtcGxlXG4gKiDCtMK0wrRcbiAqIHZhciBhY3Rpb25zID0ge1xuICogICBzcGFjZVRvb2w6IGZ1bmN0aW9uKCkge1xuICogICAgIHNwYWNlVG9vbC5hY3RpdmF0ZVNlbGVjdGlvbigpO1xuICogICB9LFxuICogICBsYXNzb1Rvb2w6IGZ1bmN0aW9uKCkge1xuICogICAgIGxhc3NvVG9vbC5hY3RpdmF0ZVNlbGVjdGlvbigpO1xuICogICB9XG4gKiBdO1xuICpcbiAqIGVkaXRvckFjdGlvbnMucmVnaXN0ZXIoYWN0aW9ucyk7XG4gKlxuICogZWRpdG9yQWN0aW9ucy5pc1JlZ2lzdGVyZWQoJ3NwYWNlVG9vbCcpOyAvLyB0cnVlXG4gKiDCtMK0wrRcbiAqXG4gKiBAcGFyYW0gIHtPYmplY3R9IGFjdGlvbnNcbiAqL1xuRWRpdG9yQWN0aW9ucy5wcm90b3R5cGUucmVnaXN0ZXIgPSBmdW5jdGlvbihhY3Rpb25zLCBsaXN0ZW5lcikge1xuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgaWYgKHR5cGVvZiBhY3Rpb25zID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiB0aGlzLl9yZWdpc3RlckFjdGlvbihhY3Rpb25zLCBsaXN0ZW5lcik7XG4gIH1cblxuICBmb3JFYWNoKGFjdGlvbnMsIGZ1bmN0aW9uKGxpc3RlbmVyLCBhY3Rpb24pIHtcbiAgICBzZWxmLl9yZWdpc3RlckFjdGlvbihhY3Rpb24sIGxpc3RlbmVyKTtcbiAgfSk7XG59O1xuXG4vKipcbiAqIFJlZ2lzdGVycyBhIGxpc3RlbmVyIHRvIGFuIGFjdGlvbiBrZXlcbiAqXG4gKiBAcGFyYW0gIHtzdHJpbmd9IGFjdGlvblxuICogQHBhcmFtICB7RnVuY3Rpb259IGxpc3RlbmVyXG4gKi9cbkVkaXRvckFjdGlvbnMucHJvdG90eXBlLl9yZWdpc3RlckFjdGlvbiA9IGZ1bmN0aW9uKGFjdGlvbiwgbGlzdGVuZXIpIHtcbiAgaWYgKHRoaXMuaXNSZWdpc3RlcmVkKGFjdGlvbikpIHtcbiAgICB0aHJvdyBlcnJvcihhY3Rpb24sIElTX1JFR0lTVEVSRURfRVJST1IpO1xuICB9XG5cbiAgdGhpcy5fYWN0aW9uc1thY3Rpb25dID0gbGlzdGVuZXI7XG59O1xuXG4vKipcbiAqIFVucmVnaXN0ZXIgYW4gZXhpc3RpbmcgYWN0aW9uXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGFjdGlvblxuICovXG5FZGl0b3JBY3Rpb25zLnByb3RvdHlwZS51bnJlZ2lzdGVyID0gZnVuY3Rpb24oYWN0aW9uKSB7XG4gIGlmICghdGhpcy5pc1JlZ2lzdGVyZWQoYWN0aW9uKSkge1xuICAgIHRocm93IGVycm9yKGFjdGlvbiwgTk9UX1JFR0lTVEVSRURfRVJST1IpO1xuICB9XG5cbiAgdGhpcy5fYWN0aW9uc1thY3Rpb25dID0gdW5kZWZpbmVkO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBudW1iZXIgb2YgYWN0aW9ucyB0aGF0IGFyZSBjdXJyZW50bHkgcmVnaXN0ZXJlZFxuICpcbiAqIEByZXR1cm4ge251bWJlcn1cbiAqL1xuRWRpdG9yQWN0aW9ucy5wcm90b3R5cGUuZ2V0QWN0aW9ucyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5fYWN0aW9ucyk7XG59O1xuXG4vKipcbiAqIENoZWNrcyB3ZXRoZXIgdGhlIGdpdmVuIGFjdGlvbiBpcyByZWdpc3RlcmVkXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGFjdGlvblxuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbkVkaXRvckFjdGlvbnMucHJvdG90eXBlLmlzUmVnaXN0ZXJlZCA9IGZ1bmN0aW9uKGFjdGlvbikge1xuICByZXR1cm4gISF0aGlzLl9hY3Rpb25zW2FjdGlvbl07XG59O1xuXG5cbmZ1bmN0aW9uIGVycm9yKGFjdGlvbiwgbWVzc2FnZSkge1xuICByZXR1cm4gbmV3IEVycm9yKGFjdGlvbiArICcgJyArIG1lc3NhZ2UpO1xufVxuIiwiaW1wb3J0IEVkaXRvckFjdGlvbnMgZnJvbSAnLi9FZGl0b3JBY3Rpb25zJztcblxuZXhwb3J0IGRlZmF1bHQge1xuICBfX2luaXRfXzogWyAnZWRpdG9yQWN0aW9ucycgXSxcbiAgZWRpdG9yQWN0aW9uczogWyAndHlwZScsIEVkaXRvckFjdGlvbnMgXVxufTtcbiIsImltcG9ydCBpbmhlcml0cyBmcm9tICdpbmhlcml0cyc7XG5cbmltcG9ydCBFZGl0b3JBY3Rpb25zIGZyb20gJ2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2VkaXRvci1hY3Rpb25zL0VkaXRvckFjdGlvbnMnO1xuXG5pbXBvcnQge1xuICBnZXRCQm94XG59IGZyb20gJ2RpYWdyYW0tanMvbGliL3V0aWwvRWxlbWVudHMnO1xuXG5cbi8qKlxuICogUmVnaXN0ZXJzIGFuZCBleGVjdXRlcyBQb3N0aXQgc3BlY2lmaWMgZWRpdG9yIGFjdGlvbnMuXG4gKlxuICogQHBhcmFtIHtJbmplY3Rvcn0gaW5qZWN0b3JcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUG9zdGl0RWRpdG9yQWN0aW9ucyhpbmplY3Rvcikge1xuICBpbmplY3Rvci5pbnZva2UoRWRpdG9yQWN0aW9ucywgdGhpcyk7XG59XG5cbmluaGVyaXRzKFBvc3RpdEVkaXRvckFjdGlvbnMsIEVkaXRvckFjdGlvbnMpO1xuXG5Qb3N0aXRFZGl0b3JBY3Rpb25zLiRpbmplY3QgPSBbXG4gICdpbmplY3Rvcidcbl07XG5cbi8qKlxuICogUmVnaXN0ZXIgZGVmYXVsdCBhY3Rpb25zLlxuICpcbiAqIEBwYXJhbSB7SW5qZWN0b3J9IGluamVjdG9yXG4gKi9cblBvc3RpdEVkaXRvckFjdGlvbnMucHJvdG90eXBlLl9yZWdpc3RlckRlZmF1bHRBY3Rpb25zID0gZnVuY3Rpb24oaW5qZWN0b3IpIHtcblxuICAvLyAoMCkgaW52b2tlIHN1cGVyIG1ldGhvZFxuXG4gIEVkaXRvckFjdGlvbnMucHJvdG90eXBlLl9yZWdpc3RlckRlZmF1bHRBY3Rpb25zLmNhbGwodGhpcywgaW5qZWN0b3IpO1xuXG4gIC8vICgxKSByZXRyaWV2ZSBvcHRpb25hbCBjb21wb25lbnRzIHRvIGludGVncmF0ZSB3aXRoXG5cbiAgdmFyIGNhbnZhcyA9IGluamVjdG9yLmdldCgnY2FudmFzJywgZmFsc2UpO1xuICB2YXIgZWxlbWVudFJlZ2lzdHJ5ID0gaW5qZWN0b3IuZ2V0KCdlbGVtZW50UmVnaXN0cnknLCBmYWxzZSk7XG4gIHZhciBzZWxlY3Rpb24gPSBpbmplY3Rvci5nZXQoJ3NlbGVjdGlvbicsIGZhbHNlKTtcbiAgdmFyIHNwYWNlVG9vbCA9IGluamVjdG9yLmdldCgnc3BhY2VUb29sJywgZmFsc2UpO1xuICB2YXIgbGFzc29Ub29sID0gaW5qZWN0b3IuZ2V0KCdsYXNzb1Rvb2wnLCBmYWxzZSk7XG4gIHZhciBoYW5kVG9vbCA9IGluamVjdG9yLmdldCgnaGFuZFRvb2wnLCBmYWxzZSk7XG4gIHZhciBkaXN0cmlidXRlRWxlbWVudHMgPSBpbmplY3Rvci5nZXQoJ2Rpc3RyaWJ1dGVFbGVtZW50cycsIGZhbHNlKTtcbiAgdmFyIGFsaWduRWxlbWVudHMgPSBpbmplY3Rvci5nZXQoJ2FsaWduRWxlbWVudHMnLCBmYWxzZSk7XG4gIHZhciBkaXJlY3RFZGl0aW5nID0gaW5qZWN0b3IuZ2V0KCdkaXJlY3RFZGl0aW5nJywgZmFsc2UpO1xuICB2YXIgc2VhcmNoUGFkID0gaW5qZWN0b3IuZ2V0KCdzZWFyY2hQYWQnLCBmYWxzZSk7XG4gIHZhciBtb2RlbGluZyA9IGluamVjdG9yLmdldCgnbW9kZWxpbmcnLCBmYWxzZSk7XG5cbiAgLy8gKDIpIGNoZWNrIGNvbXBvbmVudHMgYW5kIHJlZ2lzdGVyIGFjdGlvbnNcblxuICBpZiAoY2FudmFzICYmIGVsZW1lbnRSZWdpc3RyeSAmJiBzZWxlY3Rpb24pIHtcbiAgICB0aGlzLl9yZWdpc3RlckFjdGlvbignc2VsZWN0RWxlbWVudHMnLCBmdW5jdGlvbigpIHtcblxuICAgICAgLy8gc2VsZWN0IGFsbCBlbGVtZW50cyBleGNlcHQgZm9yIHRoZSBpbnZpc2libGVcbiAgICAgIC8vIHJvb3QgZWxlbWVudFxuICAgICAgdmFyIHJvb3RFbGVtZW50ID0gY2FudmFzLmdldFJvb3RFbGVtZW50KCk7XG5cbiAgICAgIHZhciBlbGVtZW50cyA9IGVsZW1lbnRSZWdpc3RyeS5maWx0ZXIoZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICByZXR1cm4gZWxlbWVudCAhPT0gcm9vdEVsZW1lbnQ7XG4gICAgICB9KTtcblxuICAgICAgc2VsZWN0aW9uLnNlbGVjdChlbGVtZW50cyk7XG5cbiAgICAgIHJldHVybiBlbGVtZW50cztcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChzcGFjZVRvb2wpIHtcbiAgICB0aGlzLl9yZWdpc3RlckFjdGlvbignc3BhY2VUb29sJywgZnVuY3Rpb24oKSB7XG4gICAgICBzcGFjZVRvb2wudG9nZ2xlKCk7XG4gICAgfSk7XG4gIH1cblxuICBpZiAobGFzc29Ub29sKSB7XG4gICAgdGhpcy5fcmVnaXN0ZXJBY3Rpb24oJ2xhc3NvVG9vbCcsIGZ1bmN0aW9uKCkge1xuICAgICAgbGFzc29Ub29sLnRvZ2dsZSgpO1xuICAgIH0pO1xuICB9XG5cbiAgaWYgKGhhbmRUb29sKSB7XG4gICAgdGhpcy5fcmVnaXN0ZXJBY3Rpb24oJ2hhbmRUb29sJywgZnVuY3Rpb24oKSB7XG4gICAgICBoYW5kVG9vbC50b2dnbGUoKTtcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChzZWxlY3Rpb24gJiYgZGlzdHJpYnV0ZUVsZW1lbnRzKSB7XG4gICAgdGhpcy5fcmVnaXN0ZXJBY3Rpb24oJ2Rpc3RyaWJ1dGVFbGVtZW50cycsIGZ1bmN0aW9uKG9wdHMpIHtcbiAgICAgIHZhciBjdXJyZW50U2VsZWN0aW9uID0gc2VsZWN0aW9uLmdldCgpLFxuICAgICAgICAgIHR5cGUgPSBvcHRzLnR5cGU7XG5cbiAgICAgIGlmIChjdXJyZW50U2VsZWN0aW9uLmxlbmd0aCkge1xuICAgICAgICBkaXN0cmlidXRlRWxlbWVudHMudHJpZ2dlcihjdXJyZW50U2VsZWN0aW9uLCB0eXBlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGlmIChzZWxlY3Rpb24gJiYgYWxpZ25FbGVtZW50cykge1xuICAgIHRoaXMuX3JlZ2lzdGVyQWN0aW9uKCdhbGlnbkVsZW1lbnRzJywgZnVuY3Rpb24ob3B0cykge1xuICAgICAgdmFyIGN1cnJlbnRTZWxlY3Rpb24gPSBzZWxlY3Rpb24uZ2V0KCksXG4gICAgICAgICAgdHlwZSA9IG9wdHMudHlwZTtcblxuICAgICAgaWYgKGN1cnJlbnRTZWxlY3Rpb24ubGVuZ3RoKSB7XG4gICAgICAgIGFsaWduRWxlbWVudHMudHJpZ2dlcihjdXJyZW50U2VsZWN0aW9uLCB0eXBlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGlmIChzZWxlY3Rpb24gJiYgbW9kZWxpbmcpIHtcbiAgICB0aGlzLl9yZWdpc3RlckFjdGlvbignc2V0Q29sb3InLCBmdW5jdGlvbihvcHRzKSB7XG4gICAgICB2YXIgY3VycmVudFNlbGVjdGlvbiA9IHNlbGVjdGlvbi5nZXQoKTtcblxuICAgICAgaWYgKGN1cnJlbnRTZWxlY3Rpb24ubGVuZ3RoKSB7XG4gICAgICAgIG1vZGVsaW5nLnNldENvbG9yKGN1cnJlbnRTZWxlY3Rpb24sIG9wdHMpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgaWYgKHNlbGVjdGlvbiAmJiBkaXJlY3RFZGl0aW5nKSB7XG4gICAgdGhpcy5fcmVnaXN0ZXJBY3Rpb24oJ2RpcmVjdEVkaXRpbmcnLCBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBjdXJyZW50U2VsZWN0aW9uID0gc2VsZWN0aW9uLmdldCgpO1xuXG4gICAgICBpZiAoY3VycmVudFNlbGVjdGlvbi5sZW5ndGgpIHtcbiAgICAgICAgZGlyZWN0RWRpdGluZy5hY3RpdmF0ZShjdXJyZW50U2VsZWN0aW9uWzBdKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGlmIChzZWFyY2hQYWQpIHtcbiAgICB0aGlzLl9yZWdpc3RlckFjdGlvbignZmluZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgc2VhcmNoUGFkLnRvZ2dsZSgpO1xuICAgIH0pO1xuICB9XG5cbiAgaWYgKGNhbnZhcyAmJiBtb2RlbGluZykge1xuICAgIHRoaXMuX3JlZ2lzdGVyQWN0aW9uKCdtb3ZlVG9PcmlnaW4nLCBmdW5jdGlvbigpIHtcbiAgICAgIHZhciByb290RWxlbWVudCA9IGNhbnZhcy5nZXRSb290RWxlbWVudCgpLFxuICAgICAgICAgIGJvdW5kaW5nQm94O1xuXG5cbiAgICAgIHZhciBlbGVtZW50cyA9IGVsZW1lbnRSZWdpc3RyeS5maWx0ZXIoZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICByZXR1cm4gZWxlbWVudCAhPT0gcm9vdEVsZW1lbnQ7XG4gICAgICB9KTtcblxuICAgICAgYm91bmRpbmdCb3ggPSBnZXRCQm94KGVsZW1lbnRzKTtcblxuICAgICAgbW9kZWxpbmcubW92ZUVsZW1lbnRzKFxuICAgICAgICBlbGVtZW50cyxcbiAgICAgICAgeyB4OiAtYm91bmRpbmdCb3gueCwgeTogLWJvdW5kaW5nQm94LnkgfSxcbiAgICAgICAgcm9vdEVsZW1lbnRcbiAgICAgICk7XG4gICAgfSk7XG4gIH1cblxufTsiLCJpbXBvcnQgRWRpdG9yQWN0aW9uc01vZHVsZSBmcm9tICdkaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9lZGl0b3ItYWN0aW9ucyc7XG5cbmltcG9ydCBQb3N0aXRFZGl0b3JBY3Rpb25zIGZyb20gJy4vUG9zdGl0RWRpdG9yQWN0aW9ucyc7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgX19kZXBlbmRzX186IFtcbiAgICBFZGl0b3JBY3Rpb25zTW9kdWxlXG4gIF0sXG4gIGVkaXRvckFjdGlvbnM6IFsgJ3R5cGUnLCBQb3N0aXRFZGl0b3JBY3Rpb25zIF1cbn07XG4iLCJleHBvcnQgZnVuY3Rpb24gZmlsZVRvRGF0YVVSTChmaWxlKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgcmVhZGVyLm9ubG9hZGVuZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXNvbHZlKHJlYWRlci5yZXN1bHQpO1xuICAgICAgfTtcbiAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJlamVjdChlKTtcbiAgICB9XG4gIH0pO1xufVxuXG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpbWFnZVByb2Nlc3NvcihldiwgZmlsZSkge1xuICBjb25zdCBiYXNlNjRmaWxlID0gYXdhaXQgZmlsZVRvRGF0YVVSTChmaWxlKTtcblxuICAvLyBjcmVhdGVJbWFnZShldiwgYmFzZTY0ZmlsZSk7XG4gIHJldHVybiBiYXNlNjRmaWxlOyAvLyBwYXNzaW5nIGFueSBlcnJvcnMgdGhyb3VnaFxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmlsZVJlYWRlcihldiwgZmlsZXMpIHtcbiAgbGV0IHVwbG9hZFJlc3VsdCA9IFtdO1xuICBsZXQgZXJyb3JzO1xuICBsZXQgZmlsZUl0ZW1zID0gZmlsZXM7XG4gIGlmIChldiAmJiAoZXYuZGF0YVRyYW5zZmVyLml0ZW1zIHx8IGV2LmRhdGFUcmFuc2Zlci5maWxlcykpIHtcbiAgICBmaWxlSXRlbXMgPSBldi5kYXRhVHJhbnNmZXIuaXRlbXMgfHwgZXYuZGF0YVRyYW5zZmVyLmZpbGVzO1xuICB9XG4gIHRyeSB7XG4gICAgaWYgKGZpbGVJdGVtcykge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaWxlSXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGV2ICYmIGV2LmRhdGFUcmFuc2Zlci5pdGVtcykge1xuICAgICAgICAgIGlmIChmaWxlSXRlbXNbaV0ua2luZCA9PT0gJ2ZpbGUnKSB7XG4gICAgICAgICAgICB2YXIgZmlsZSA9IGZpbGVJdGVtc1tpXS5nZXRBc0ZpbGUoKTtcbiAgICAgICAgICAgIHVwbG9hZFJlc3VsdC5wdXNoKGF3YWl0IGltYWdlUHJvY2Vzc29yKGV2LCBmaWxlKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHVwbG9hZFJlc3VsdC5wdXNoKGF3YWl0IGltYWdlUHJvY2Vzc29yKGV2LCBmaWxlSXRlbXNbaV0pKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSBjYXRjaCAoZSkge1xuICAgIGVycm9ycyA9IGU7XG4gICAgdXBsb2FkUmVzdWx0ID0gbnVsbDtcbiAgfVxuICByZXR1cm4geyB1cGxvYWRSZXN1bHQsIGVycm9ycyB9O1xufVxuXG4iLCJleHBvcnQgZnVuY3Rpb24gZ2V0TW91c2VQb3NpdGlvbihldmVudCkge1xuICBldmVudCA9IGV2ZW50IHx8IHdpbmRvdy5ldmVudDtcblxuICB2YXIgcGFnZVggPSBldmVudC5wYWdlWDtcbiAgdmFyIHBhZ2VZID0gZXZlbnQucGFnZVk7XG5cbiAgLy8gSUUgOFxuICBpZiAocGFnZVggPT09IHVuZGVmaW5lZCkge1xuICAgIHBhZ2VYID0gZXZlbnQuY2xpZW50WCArIGRvY3VtZW50LmJvZHkuc2Nyb2xsTGVmdCArIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0O1xuICAgIHBhZ2VZID0gZXZlbnQuY2xpZW50WSArIGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wICsgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDtcbiAgfVxuXG4gIHJldHVybiB7IHBhZ2VYLCBwYWdlWSB9O1xufVxuXG4iLCJpbXBvcnQge1xuICBkb21pZnksXG4gIGV2ZW50IGFzIGRvbUV2ZW50XG59IGZyb20gJ21pbi1kb20nO1xuXG5pbXBvcnQge1xuICBmaWxlUmVhZGVyXG59IGZyb20gJy4uLy4uL3V0aWwvRmlsZVV0aWwuanMnO1xuXG5pbXBvcnQge1xuICBnZXRNb3VzZVBvc2l0aW9uXG59IGZyb20gJy4uLy4uL3V0aWwvU2NyZWVuVXRpbC5qcyc7XG5cbnZhciBMT1dfUFJJT1JJVFkgPSA1MDA7XG52YXIgdGV4dDtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gSW1hZ2VTZWxlY3Rpb24oY2FudmFzLCBldmVudEJ1cywgbW9kZWxpbmcsIHRyYW5zbGF0ZSkge1xuXG4gIHRoaXMuX2NhbnZhcyA9IGNhbnZhcztcbiAgdGhpcy5fZXZlbnRCdXMgPSBldmVudEJ1cztcbiAgdGhpcy5fbW9kZWxpbmcgPSBtb2RlbGluZztcbiAgdGhpcy5fdHJhbnNsYXRlID0gdHJhbnNsYXRlO1xuXG4gIHZhciBzZWxmID0gdGhpcztcblxuICBldmVudEJ1cy5vbignY3JlYXRlLmVuZCcsIExPV19QUklPUklUWSwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgY29udGV4dCA9IGV2ZW50LmNvbnRleHQsXG4gICAgICAgIGVsZW1lbnQgPSBjb250ZXh0LnNoYXBlLFxuICAgICAgICBoaW50cyA9IGNvbnRleHQuaGludHM7XG5cbiAgICBpZiAoaGludHMuc2VsZWN0SW1hZ2UpIHtcbiAgICAgIHNlbGYuc2VsZWN0KGVsZW1lbnQpO1xuICAgIH1cbiAgfSk7XG5cbiAgdGV4dCA9IHsgJ1VSTCc6IHRoaXMuX3RyYW5zbGF0ZSgnVVJMJyksXG4gICAgJ0FuIGVycm9yIG9jY3VyZWQgZHVyaW5nIHRoZSBmaWxlIHVwbG9hZCc6IHRoaXMuX3RyYW5zbGF0ZSgnQW4gZXJyb3Igb2NjdXJlZCBkdXJpbmcgdGhlIGZpbGUgdXBsb2FkJyksXG4gICAgJ1VwbG9hZCBmaWxlcyBoZXJlJzogdGhpcy5fdHJhbnNsYXRlKCdVcGxvYWQgZmlsZXMgaGVyZScpLFxuICAgICdVcGxvYWQnOiB0aGlzLl90cmFuc2xhdGUoJ1VwbG9hZCcpLFxuICAgICdmaWxlJzogdGhpcy5fdHJhbnNsYXRlKCdmaWxlJyksXG4gICAgJ2ZpbGVzJzogdGhpcy5fdHJhbnNsYXRlKCdmaWxlcycpLFxuICAgICdzZWxlY3RlZCc6IHRoaXMuX3RyYW5zbGF0ZSgnc2VsZWN0ZWQnKSxcbiAgICAnVXBsb2FkIGFnYWluJzogdGhpcy5fdHJhbnNsYXRlKCdVcGxvYWQgYWdhaW4nKSxcbiAgfTtcblxuICBJbWFnZVNlbGVjdGlvbi5JTUFHRV9TRUxFQ1RJT05fTUFSS1VQID0gJzxkaXYgaWQ9XCJwanMtaW1hZ2Utc2VsZWN0aW9uLW1vZGFsXCIgY2xhc3M9XCJwanMtaW8tZGlhbG9nLWxvY2FsXCI+JytcbiAgICAnPGRpdiBjbGFzcz1cInBqcy1pby1kaWFsb2ctc2VjdGlvbiBwanMtZmlyc3RcIj4nK1xuICAgICAgJzxkaXYgaWQ9XCJwanMtaW1hZ2Utc2VsZWN0aW9uLWlucHV0LXdyYXBwZXJcIj48aW5wdXQgaWQ9XCJwanMtaW1hZ2Utc2VsZWN0aW9uLWlucHV0XCIgY2xhc3M9XCJwanMtdWktZWxlbWVudC1ib3JkZXJlZFwiPjwvaW5wdXQ+PC9kaXY+JytcbiAgICAgICc8ZGl2IGNsYXNzPVwicGpzLWxhYmVsZWQtaW5wdXRcIj4nK1xuICAgICAgJzxsYWJlbCBmb3I9XCJwanMtaW1hZ2Utc2VsZWN0aW9uLWlucHV0XCIgY2xhc3M9XCJwanMtaW5wdXQtdGV4dC1zdGF0aWNcIj48IS0tU2VhcmNoIC8gLS0+Jyt0ZXh0WydVUkwnXSsnOjwvbGFiZWw+JytcbiAgICAgICc8L2Rpdj4nK1xuICAgICc8L2RpdlwiPicrXG4gICAgJzxkaXYgY2xhc3M9XCJwanMtaW8tZGlhbG9nLXNlY3Rpb25cIj4nK1xuICAgICc8ZGl2IGNsYXNzPVwicGpzLXNlY3Rpb24tc3BhY2VyXCI+PC9kaXY+JytcbiAgICAnPGxhYmVsIGZvcj1cInBqcy1pbWFnZS11cGxvYWRcIj48ZGl2IGNsYXNzPVwicGpzLWlvLWRpYWxvZy10ZXh0LWhpbnRcIj4nK1xuICAgICAgJzxhIHN0eWxlPVwiZGlzcGxheTpibG9ja1wiPjx1bCBpZD1cInBqcy1pbWFnZS1kaWFsb2ctdGV4dC1oaW50LWxpc3RcIiBjbGFzcz1cInBqcy1ob3Jpem9udGFsXCI+JytcbiAgICAgICAgJzxsaT48ZGl2IGNsYXNzPVwicGpzLWdlbmVyYWwtaWNvbiBwanMtaW1hZ2UtZGlhbG9nLXVwbG9hZC1pY29uXCI+PC9kaXY+PC9saT4nK1xuICAgICAgICAnPGxpIGlkPVwicGpzLWltYWdlLXNlbGVjdGlvbi1maWxlcy10ZXh0LWVycm9yXCI+Jyt0ZXh0WydBbiBlcnJvciBvY2N1cmVkIGR1cmluZyB0aGUgZmlsZSB1cGxvYWQnXSsnPC9saT4nK1xuICAgICAgICAnPGxpIGlkPVwicGpzLWltYWdlLXNlbGVjdGlvbi1maWxlcy10ZXh0LXVwbG9hZFwiPicrdGV4dFsnVXBsb2FkIGZpbGVzIGhlcmUnXSsnPC9saT4nK1xuICAgICAgJzwvdWw+PC9hPicrXG4gICAgJzwvZGl2PjwvbGFiZWw+JytcbiAgICAnPGlucHV0IHR5cGU9XCJmaWxlXCIgaWQ9XCJwanMtaW1hZ2UtdXBsb2FkXCIgc3R5bGU9XCJkaXNwbGF5Om5vbmVcIiBtdWx0aXBsZS8+JytcbiAgICAnPGRpdiBjbGFzcz1cInBqcy1pby1kaWFsb2ctc2VjdGlvblwiPicrXG4gICAgJzxkaXYgY2xhc3M9XCJwanMtYnV0dG9ucyBwanMtaW1hZ2Utc2VsZWN0aW9uLXN1Ym1pdC13cmFwcGVyXCI+PGJ1dHRvbiBpZD1cInBqcy1pbWFnZS1zZWxlY3Rpb24tc3VibWl0XCI+Jyt0ZXh0WydVcGxvYWQnXSsnPC9idXR0b24+PC9kaXY+JytcbiAgICAnPC9kaXY+JytcbiAgICAnPC9kaXY+JytcbiAgJzwvZGl2Pic7XG5cbn1cblxuSW1hZ2VTZWxlY3Rpb24ucHJvdG90eXBlLl9nZXRQYXJlbnRDb250YWluZXIgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuX2NhbnZhcy5nZXRDb250YWluZXIoKTtcbn07XG5cbkltYWdlU2VsZWN0aW9uLnByb3RvdHlwZS5zZWxlY3QgPSBmdW5jdGlvbihlbGVtZW50LCBjYWxsYmFjaykge1xuXG4gIGNvbnN0IHNlbGYgPSB0aGlzO1xuXG4gIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuX2NvbnRhaW5lciA9IGRvbWlmeShJbWFnZVNlbGVjdGlvbi5JTUFHRV9TRUxFQ1RJT05fTUFSS1VQKTtcblxuICBjb25zdCBjYW52YXMgPSB0aGlzLl9jYW52YXMuX2NvbnRhaW5lci5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQ7XG4gIGNhbnZhcy5pbnNlcnRCZWZvcmUoY29udGFpbmVyLCBjYW52YXMuZmlyc3RDaGlsZCk7XG5cbiAgY29uc3QgbW91c2VQb3NpdGlvbiA9IGdldE1vdXNlUG9zaXRpb24obnVsbCk7XG4gIGNvbnRhaW5lci5zdHlsZS5sZWZ0ID0gKCBtb3VzZVBvc2l0aW9uLnBhZ2VYIC0gZ2V0T2Zmc2V0TGVmdChjb250YWluZXIpICkgKyAncHgnO1xuICBjb250YWluZXIuc3R5bGUudG9wID0gKCBtb3VzZVBvc2l0aW9uLnBhZ2VZIC0gZ2V0T2Zmc2V0VG9wKGNvbnRhaW5lcikgKSArICdweCc7XG5cbiAgY29uc3QgaW5wdXRGaWVsZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwanMtaW1hZ2Utc2VsZWN0aW9uLWlucHV0JyksXG4gICAgICAgIHN1Ym1pdEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwanMtaW1hZ2Utc2VsZWN0aW9uLXN1Ym1pdCcpLFxuICAgICAgICBpbWFnZVVwbG9hZFRleHRFcnJvciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwanMtaW1hZ2Utc2VsZWN0aW9uLWZpbGVzLXRleHQtZXJyb3InKSxcbiAgICAgICAgaW1hZ2VVcGxvYWRUZXh0VXBsb2FkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Bqcy1pbWFnZS1zZWxlY3Rpb24tZmlsZXMtdGV4dC11cGxvYWQnKSxcbiAgICAgICAgaW1hZ2VVcGxvYWRUZXh0TGlzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwanMtaW1hZ2UtZGlhbG9nLXRleHQtaGludC1saXN0JyksXG4gICAgICAgIGltYWdlVXBsb2FkUmVhZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Bqcy1pbWFnZS11cGxvYWQnKSxcbiAgICAgICAgbW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGpzLWltYWdlLXNlbGVjdGlvbi1tb2RhbCcpO1xuXG4gIHZhciB1cGxvYWRUZXh0TGlzdEhlaWdodCA9IGltYWdlVXBsb2FkVGV4dExpc3Quc3R5bGUuaGVpZ2h0O1xuXG4gIHZhciBzb3VyY2UsIGZpbGVzVG9VcGxvYWQ7XG5cbiAgLy8gZm9jdXMgdXJsIGlucHV0IGZpZWxkIG9uIG1vZGFsIG9wZW5cbiAgaW5wdXRGaWVsZC5mb2N1cygpO1xuXG4gIC8vIHJlbW92ZSBtb2RhbCBieSBjbGlja2luZyBhbnl3aGVyZSBlbHNlXG4gIGNvbnN0IGNhbnZhc0RlZmF1bHRDbGljayA9IGRvbUV2ZW50LmJpbmQoY2FudmFzLCAnY2xpY2snLCBmdW5jdGlvbihldikge1xuICAgIGlmIChtb2RhbCkge1xuXG4gICAgICAvLyBJZiB3ZSBjbGlja2VkIG9uZSBvZiBvdXIgdXBkYXRlIGJ1dHRvbnMsIGRvbid0IGNsb3NlIHRoZSBkaWFsb2cuXG4gICAgICB2YXIgaXNCdG4gPSBmYWxzZTtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5kanMtY29udGV4dC1wYWQgLmVudHJ5JykuZm9yRWFjaCggZnVuY3Rpb24oYnRuKSB7XG4gICAgICAgIGlmIChidG4gPT0gZXZlbnQudGFyZ2V0ICkge1xuICAgICAgICAgIGlzQnRuID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IG1vdXNlUG9zID0gZ2V0TW91c2VQb3NpdGlvbihldik7XG5cbiAgICAgIC8vIFRoZSBkaWFsb2cgaXMgZGlzcGxhY2VkIGJ5IGEgYm94IHRoZSBzaXplIG9mIGZvbnQtc2l6ZSBvbiBlYWNoIGVkZ2UuXG4gICAgICB2YXIgZm9udFNpemUgPSBkb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKG1vZGFsKVsnZm9udC1zaXplJ107XG4gICAgICBmb250U2l6ZSA9IHBhcnNlSW50KGZvbnRTaXplLnN1YnN0cmluZygwLCBmb250U2l6ZS5pbmRleE9mKCdweCcpKSk7XG4gICAgICBpZiAoIWlzQnRuICYmIChcbiAgICAgICAgICAobW91c2VQb3MucGFnZVggPiBtb2RhbC5vZmZzZXRMZWZ0K2dldE9mZnNldExlZnQoY2FudmFzKSttb2RhbC5jbGllbnRXaWR0aFxuICAgICAgICAgIHx8IG1vdXNlUG9zLnBhZ2VYIDwgbW9kYWwub2Zmc2V0TGVmdCtnZXRPZmZzZXRMZWZ0KGNhbnZhcykgLSBmb250U2l6ZSlcbiAgICAgICAgICB8fCAobW91c2VQb3MucGFnZVkgPiBtb2RhbC5vZmZzZXRUb3ArZ2V0T2Zmc2V0VG9wKGNhbnZhcykrbW9kYWwuY2xpZW50SGVpZ2h0XG4gICAgICAgICAgfHwgbW91c2VQb3MucGFnZVkgPCBtb2RhbC5vZmZzZXRUb3ArZ2V0T2Zmc2V0VG9wKGNhbnZhcykgLSBmb250U2l6ZSkgKSkge1xuICAgICAgICByZW1vdmVJbWFnZVNlbGVjdGlvbk1vZGFsKCk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuXG4gIGZvciAodmFyIGk9MDsgaSA8IGltYWdlVXBsb2FkUmVhZGVyLmxhYmVscy5sZW5ndGg7IGkrKykge1xuICAgIC8vIG9wZW4gZmlsZSBkaWFsb2dcbiAgICBkb21FdmVudC5iaW5kKGltYWdlVXBsb2FkUmVhZGVyLmxhYmVsc1tpXSwgJ2NsaWNrJywgZnVuY3Rpb24oZXYpIHtcbiAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBldi5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIFxuICAgICAgaW1hZ2VVcGxvYWRSZWFkZXIuZGlzcGF0Y2hFdmVudChuZXcgTW91c2VFdmVudChldi50eXBlLCBldikpO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gYWZ0ZXIgd2Ugb3BlbiBmaWxlIGRpYWxvZ1xuICBkb21FdmVudC5iaW5kKGltYWdlVXBsb2FkUmVhZGVyLCAnY2hhbmdlJywgYXN5bmMgZnVuY3Rpb24oKSB7XG4gICAgaW5wdXRGaWVsZC5kaXNhYmxlZCA9ICd0cnVlJztcblxuICAgIGxldCB1cGxvYWREaXNwbGF5VGV4dDtcblxuICAgIGxldCB1cGxvYWRSZXN1bHRPYmogPSBhd2FpdCBmaWxlUmVhZGVyKG51bGwsIGltYWdlVXBsb2FkUmVhZGVyLmZpbGVzKSxcbiAgICAgICAgdXBsb2FkUmVzdWx0ID0gdXBsb2FkUmVzdWx0T2JqLnVwbG9hZFJlc3VsdCxcbiAgICAgICAgZXJyb3JzID0gdXBsb2FkUmVzdWx0T2JqLmVycm9ycztcblxuICAgIGlmICghZXJyb3JzKSB7XG4gICAgICBsZXQgdXBsb2FkZWRGaWxlc0NvdW50ID0gKHVwbG9hZFJlc3VsdC5sZW5ndGgpID8gdXBsb2FkUmVzdWx0Lmxlbmd0aCA6IDA7XG4gICAgICB1cGxvYWREaXNwbGF5VGV4dCA9IHVwbG9hZGVkRmlsZXNDb3VudDtcblxuICAgICAgaWYgKGlzTmFOKHVwbG9hZGVkRmlsZXNDb3VudCkgPT09IGZhbHNlKSB7XG5cbiAgICAgICAgY29uc3QgZmlsZVBsdXJhbFRleHQgPSsgKHVwbG9hZFJlc3VsdC5sZW5ndGggPT0gMSkgPyB0ZXh0WydmaWxlJ10gOiB0ZXh0WydmaWxlcyddO1xuICAgICAgICB1cGxvYWREaXNwbGF5VGV4dCArPSAnICcgKyBmaWxlUGx1cmFsVGV4dCArICcgJyArIHRleHRbJ3NlbGVjdGVkJ107XG5cbiAgICAgICAgLy8gdXBsb2FkZWQgZmlsZXMgYXJlIHNhdmVkIGluIGdsb2JhbCB2YXJcbiAgICAgICAgZmlsZXNUb1VwbG9hZCA9IHVwbG9hZFJlc3VsdDtcbiAgICAgIH1cblxuICAgICAgZGlzcGxheVVwbG9hZFN0YWdpbmcodXBsb2FkRGlzcGxheVRleHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkaXNwbGF5RXJyb3IoKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIHVwbG9hZCBidXR0b25cbiAgZG9tRXZlbnQuYmluZChzdWJtaXRCdXR0b24sICdjbGljaycsIGFzeW5jIGZ1bmN0aW9uKCkge1xuICAgIHNvdXJjZSA9IGZpbGVzVG9VcGxvYWQ7XG5cbiAgICAvLyAoMSkgY2FsbCBmcm9tIGNhbnZhcywgcHJvdmlkaW5nIGEgdGFyZ2V0IGVsZW1lbnRcbiAgICBpZiAoZWxlbWVudCAhPT0gbnVsbCkge1xuXG4gICAgICAvLyAoMS4xKSBsb2NhbCBmaWxlIHNlbGVjdGlvbiB1cGxvYWRcbiAgICAgIGlmIChzb3VyY2UpIHtcbiAgICAgICAgZm9yIChjb25zdCBmIGluIGZpbGVzVG9VcGxvYWQpIHtcbiAgICAgICAgICB1cGxvYWRJbWFnZShzZWxmLCBmaWxlc1RvVXBsb2FkW2ZdKTtcbiAgICAgICAgfVxuXG4gICAgICAvLyAoMS4yKSB1cmwgdXBsb2FkXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzb3VyY2UgPSBpbnB1dEZpZWxkLnZhbHVlO1xuICAgICAgICB1cGxvYWRJbWFnZShzZWxmLCBzb3VyY2UpO1xuICAgICAgfVxuXG4gICAgICBzZWxmLl9ldmVudEJ1cy5maXJlKCdpbWFnZVNlbGVjdGlvbi5jb21wbGV0ZScsIHsgZWxlbWVudDogZWxlbWVudCB9KTtcblxuICAgIC8vICgyKSBleHRlcm5hbCBjYWxsIHcvbyBjYW52YXMgdGFyZ2V0XG4gICAgfSBlbHNlIHtcblxuICAgICAgLy8gKDIuMSBkZWZhdWx0KSBsb2NhbCBmaWxlIHNlbGVjdGlvbiBkYXRhIGlzIHVzZWRcblxuICAgICAgLy8gKDIuMikgdXJsIHVwbG9hZFxuICAgICAgaWYgKCFzb3VyY2UpIHtcbiAgICAgICAgc291cmNlID0gaW5wdXRGaWVsZC52YWx1ZTtcbiAgICAgIH1cblxuICAgICAgY2FsbGJhY2soc291cmNlKTtcbiAgICB9XG5cbiAgICAvLyBlcnJvciBoYW5kbGluZyBub3QgbmVjZXNzYXJ5IGFzIGRlZmF1bHQgaW1nIHdpbGwgYmUgc2hvd24gaW4gZXJyb3Igc2l0dWF0aW9uXG4gICAgcmVtb3ZlSW1hZ2VTZWxlY3Rpb25Nb2RhbCgpO1xuICB9KTtcblxuICAvLyBlbnRlciBwcmVzc2VkXG4gIGRvbUV2ZW50LmJpbmQoaW5wdXRGaWVsZCwgJ2tleXVwJywgZnVuY3Rpb24oZXN2ZW50KSB7XG4gICAgaWYgKGV2ZW50LmtleUNvZGUgPT09IDEzKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgc3VibWl0QnV0dG9uLmNsaWNrKCk7XG4gICAgfVxuICB9KTtcblxuICBmdW5jdGlvbiBnZXRPZmZzZXRMZWZ0KGVsZW0pIHtcbiAgICB2YXIgb2Zmc2V0TGVmdCA9IDA7XG4gICAgZG8ge1xuICAgICAgaWYgKCAhaXNOYU4oIGVsZW0ub2Zmc2V0TGVmdCApIClcbiAgICAgIHtcbiAgICAgICAgICBvZmZzZXRMZWZ0ICs9IGVsZW0ub2Zmc2V0TGVmdDtcbiAgICAgIH1cbiAgICB9IHdoaWxlKCBlbGVtID0gZWxlbS5vZmZzZXRQYXJlbnQgKTtcbiAgICByZXR1cm4gb2Zmc2V0TGVmdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldE9mZnNldFRvcChlbGVtKSB7XG4gICAgdmFyIG9mZnNldFRvcCA9IDA7XG4gICAgZG8ge1xuICAgICAgaWYgKCAhaXNOYU4oIGVsZW0ub2Zmc2V0VG9wICkgKVxuICAgICAge1xuICAgICAgICAgIG9mZnNldFRvcCArPSBlbGVtLm9mZnNldFRvcDtcbiAgICAgIH1cbiAgICB9IHdoaWxlKCBlbGVtID0gZWxlbS5vZmZzZXRQYXJlbnQgKTtcbiAgICByZXR1cm4gb2Zmc2V0VG9wO1xuICB9XG5cbiAgZnVuY3Rpb24gZGlzcGxheVVwbG9hZFN0YWdpbmcodGV4dCkge1xuICAgIGltYWdlVXBsb2FkVGV4dExpc3Quc3R5bGUuaGVpZ2h0ID0gdXBsb2FkVGV4dExpc3RIZWlnaHQ7XG4gICAgaW1hZ2VVcGxvYWRUZXh0RXJyb3Iuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICBpbWFnZVVwbG9hZFRleHRVcGxvYWQuaW5uZXJIVE1MID0gdGV4dDtcblxuICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdwanMtaW1hZ2UtZGlhbG9nLXVwbG9hZC1pY29uJykubGVuZ3RoID4gMCkge1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgncGpzLWltYWdlLWRpYWxvZy11cGxvYWQtaWNvbicpWzBdLmNsYXNzTGlzdC5yZW1vdmUoJ3Bqcy1pbWFnZS1kaWFsb2ctdXBsb2FkLWljb24tZXJyb3InKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBkaXNwbGF5RXJyb3IoKSB7XG4gICAgdXBsb2FkVGV4dExpc3RIZWlnaHQgPSBpbWFnZVVwbG9hZFRleHRMaXN0LnN0eWxlLmhlaWdodDtcblxuICAgIGltYWdlVXBsb2FkVGV4dExpc3Quc3R5bGUuaGVpZ2h0ID0gJ2F1dG8nO1xuICAgIGltYWdlVXBsb2FkVGV4dEVycm9yLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgIGltYWdlVXBsb2FkVGV4dFVwbG9hZC5pbm5lckhUTUwgPSB0ZXh0WydVcGxvYWQgYWdhaW4nXTtcblxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3Bqcy1pbWFnZS1kaWFsb2ctdXBsb2FkLWljb24nKVswXS5jbGFzc0xpc3QuYWRkKCdwanMtaW1hZ2UtZGlhbG9nLXVwbG9hZC1pY29uLWVycm9yJyk7XG4gIH1cblxuICBhc3luYyBmdW5jdGlvbiB1cGxvYWRJbWFnZShzZWxmLCBzb3VyY2UpIHtcbiAgICB2YXIgdXJsUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh3aW5kb3cubG9jYXRpb24uc2VhcmNoKTtcbiAgICB2YXIgc19rZXkgPSB1cmxQYXJhbXMuZ2V0KCdzX2tleScpO1xuICAgIGlmKCBzX2tleSA9PT0gbnVsbCApIHtcbiAgICAgIHNoZXBoZXJkQWxlcnQoXCJTY3JpcHQgUmVxdWlyZWRcIiwgXCJZb3UgbXVzdCBvcGVuIGEgc2NyaXB0IGJlZm9yZSB5b3UgY2FuIHRha2Ugbm90ZXMhXCIpXG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBpbWFnZSwgYmxvYjtcbiAgICAgIGlmKCBzb3VyY2Uuc3Vic3RyaW5nKDAsNCkgIT09IFwiZGF0YVwiICkge1xuICAgICAgICBibG9iID0gYXdhaXQgZmV0Y2goJ2h0dHBzOi8vY29ycy1hbnl3aGVyZS1kb3QtaW5kaWVza2VkZ2UtcHJvZHVjdGlvbi53bC5yLmFwcHNwb3QuY29tLycgKyBzb3VyY2UpLnRoZW4oIHIgPT4gci5ibG9iKCkgKTtcbiAgICAgICAgYmxvYi5uYW1lID0gXCJSZW1vdGUgRmlsZVwiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYmxvYiA9IGltYWdlVXBsb2FkUmVhZGVyLmZpbGVzWzBdO1xuICAgICAgfVxuXG4gICAgICAvLyBVZ2x5IGJlY2F1c2Ugd2UgZXhwZWN0IHRoaXMgVVJMIHRvIGV4aXN0IG9uIHRoZSBwYWdlLlxuICAgICAgdmFyIHVwbG9hZCA9IG5ldyBBY3RpdmVTdG9yYWdlLkRpcmVjdFVwbG9hZChcbiAgICAgICAgYmxvYixcbiAgICAgICAgZGlyZWN0X3VwbG9hZF91cmxcbiAgICAgICk7XG5cbiAgICAgIHVwbG9hZC5jcmVhdGUoZnVuY3Rpb24oZXJyb3IsIGJsb2IpIHtcbiAgICAgICAgaWYoIGVycm9yICkge1xuICAgICAgICAgIGlmKCBlcnJvci5zZWFyY2goXCJTdGF0dXM6IDQwM1wiKSA+PSAwICkge1xuICAgICAgICAgICAgc2hlcGhlcmRBbGVydChcIlN1YnNjcmlwdGlvbiBOZWVkZWQhXCIsIFwiWW91IG11c3QgaGF2ZSBhbiBhY3RpdmUgc3Vic2NyaXB0aW9uIHRvIHNhdmUgaW1hZ2VzISBZb3UgY2FuIHNpZ24gdXAgPGJ1dHRvbiBkYXRhLXRvZ2dsZT1cXFwibW9kYWxcXFwiIGhyZWY9XFxcIiNzdWJzY3JpcHRpb25Nb2RhbFxcXCIgb25jbGljaz1cXFwiU2hlcGhlcmQuYWN0aXZlVG91ci5jb21wbGV0ZSgpOyAkKCcjaWRlYXRvck5vdGVzTW9kYWwnKS5tb2RhbCgnaGlkZScpO1xcXCIgZGF0YS1kZXNjcmlwdGlvbj1cXFwiU2lnbiB1cCBmb3IgaW1hZ2UgdXBsb2FkaW5nIGFuZCBvdGhlciBncmVhdCBmZWF0dWVycyFcXFwiIGRhdGEtcmVzZXQ9XFxcIiQoJyNpZGVhdG9yTm90ZXNNb2RhbCcpLm1vZGFsKFxcJ3Nob3dcXCcpO1xcXCIgc3R5bGU9XFxcImNvbG9yOiBibHVlOyBtYXJnaW4tbGVmdDogLTZweDsgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XFxcIj5oZXJlITwvYnV0dG9uPlwiKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2hlcGhlcmRBbGVydChcIlVua25vd24gRXJyb3JcIiwgXCJXZSd2ZSBsb2dnZWQgdGhpcyBpc3N1ZS4gIElmIGl0IGNvbnRpbnVlcywgcGxlYXNlIHJlYWNoIG91dCB0byBzdXBwb3J0LlwiKTtcbiAgICAgICAgICAgIEJ1Z3NuYWcubm90aWZ5KFwiVW5rbm93biB1cGxvYWQgcmVzcG9uc2U6IFwiICsgZXJyb3IudG9TdHJpbmcoKSApXG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYoIGJsb2Iua2V5ICkge1xuICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICB0eXBlOiBcIkdFVFwiLFxuICAgICAgICAgICAgYmVmb3JlU2VuZDogZnVuY3Rpb24oeGhyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKCdYLUNTUkYtVG9rZW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnbWV0YVtuYW1lPVwiY3NyZi10b2tlblwiXScpLmF0dHIoJ2NvbnRlbnQnKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgdXJsOiBcIi9zY3JpcHRzL1wiICsgc19rZXkgKyBcIi9pbWFnZV91cmwvXCIgKyBibG9iLmtleSxcbiAgICAgICAgICAgIHJlc3BvbnNlVHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgc2VsZi5fbW9kZWxpbmcudXBkYXRlUHJvcGVydGllcyhlbGVtZW50LCB7XG4gICAgICAgICAgICAgICAgc291cmNlOiBkYXRhLnVybCxcbiAgICAgICAgICAgICAgICBrZXk6IGRhdGEua2V5XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZW1vdmVJbWFnZVNlbGVjdGlvbk1vZGFsKCkge1xuICAgIGlmIChtb2RhbCAmJiBtb2RhbC5wYXJlbnROb2RlKSB7XG4gICAgICBtb2RhbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG1vZGFsKTtcbiAgICAgIGlmIChjYW52YXNEZWZhdWx0Q2xpY2spIHtcbiAgICAgICAgY2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2FudmFzRGVmYXVsdENsaWNrKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxufTtcblxuSW1hZ2VTZWxlY3Rpb24ucHJvdG90eXBlLiRpbmplY3QgPSBbXG4gICdjYW52YXMnLFxuICAnZXZlbnRCdXMnLFxuICAnbW9kZWxuZycsXG4gICd0cmFuc2xhdGUnXG5dO1xuIiwiaW1wb3J0IEltYWdlU2VsZWN0aW9uIGZyb20gJy4vSW1hZ2VTZWxlY3Rpb24nO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9faW5pdF9fOiBbICdpbWFnZVNlbGVjdGlvbicgXSxcbiAgaW1hZ2VTZWxlY3Rpb246IFsgJ3R5cGUnLCBJbWFnZVNlbGVjdGlvbiBdXG59O1xuIiwiaW1wb3J0IGluaGVyaXRzIGZyb20gJ2luaGVyaXRzJztcblxuaW1wb3J0IEtleWJvYXJkQmluZGluZ3MgZnJvbSAnZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMva2V5Ym9hcmQvS2V5Ym9hcmRCaW5kaW5ncyc7XG5cblxuLyoqXG4gKiBQb3N0aXQgc3BlY2lmaWMga2V5Ym9hcmQgYmluZGluZ3MuXG4gKlxuICogQHBhcmFtIHtJbmplY3Rvcn0gaW5qZWN0b3JcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUG9zdGl0S2V5Ym9hcmRCaW5kaW5ncyhpbmplY3Rvcikge1xuICBpbmplY3Rvci5pbnZva2UoS2V5Ym9hcmRCaW5kaW5ncywgdGhpcyk7XG59XG5cbmluaGVyaXRzKFBvc3RpdEtleWJvYXJkQmluZGluZ3MsIEtleWJvYXJkQmluZGluZ3MpO1xuXG5Qb3N0aXRLZXlib2FyZEJpbmRpbmdzLiRpbmplY3QgPSBbXG4gICdpbmplY3Rvcidcbl07XG5cblxuLyoqXG4gKiBSZWdpc3RlciBhdmFpbGFibGUga2V5Ym9hcmQgYmluZGluZ3MuXG4gKlxuICogQHBhcmFtIHtLZXlib2FyZH0ga2V5Ym9hcmRcbiAqIEBwYXJhbSB7RWRpdG9yQWN0aW9uc30gZWRpdG9yQWN0aW9uc1xuICovXG5Qb3N0aXRLZXlib2FyZEJpbmRpbmdzLnByb3RvdHlwZS5yZWdpc3RlckJpbmRpbmdzID0gZnVuY3Rpb24oa2V5Ym9hcmQsIGVkaXRvckFjdGlvbnMpIHtcblxuICAvLyBpbmhlcml0IGRlZmF1bHQgYmluZGluZ3NcbiAgS2V5Ym9hcmRCaW5kaW5ncy5wcm90b3R5cGUucmVnaXN0ZXJCaW5kaW5ncy5jYWxsKHRoaXMsIGtleWJvYXJkLCBlZGl0b3JBY3Rpb25zKTtcblxuICAvKipcbiAgICogQWRkIGtleWJvYXJkIGJpbmRpbmcgaWYgcmVzcGVjdGl2ZSBlZGl0b3IgYWN0aW9uXG4gICAqIGlzIHJlZ2lzdGVyZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBhY3Rpb24gbmFtZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiB0aGF0IGltcGxlbWVudHMgdGhlIGtleSBiaW5kaW5nXG4gICAqL1xuICBmdW5jdGlvbiBhZGRMaXN0ZW5lcihhY3Rpb24sIGZuKSB7XG5cbiAgICBpZiAoZWRpdG9yQWN0aW9ucy5pc1JlZ2lzdGVyZWQoYWN0aW9uKSkge1xuICAgICAga2V5Ym9hcmQuYWRkTGlzdGVuZXIoZm4pO1xuICAgIH1cbiAgfVxuXG4gIC8vIHNlbGVjdCBhbGwgZWxlbWVudHNcbiAgLy8gQ1RSTCArIEFcbiAgYWRkTGlzdGVuZXIoJ3NlbGVjdEVsZW1lbnRzJywgZnVuY3Rpb24oY29udGV4dCkge1xuXG4gICAgdmFyIGV2ZW50ID0gY29udGV4dC5rZXlFdmVudDtcblxuICAgIGlmIChrZXlib2FyZC5pc0tleShbJ2EnLCAnQSddLCBldmVudCkgJiYga2V5Ym9hcmQuaXNDbWQoZXZlbnQpKSB7XG4gICAgICBlZGl0b3JBY3Rpb25zLnRyaWdnZXIoJ3NlbGVjdEVsZW1lbnRzJyk7XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gc2VhcmNoIGxhYmVsc1xuICAvLyBDVFJMICsgRlxuICBhZGRMaXN0ZW5lcignZmluZCcsIGZ1bmN0aW9uKGNvbnRleHQpIHtcblxuICAgIHZhciBldmVudCA9IGNvbnRleHQua2V5RXZlbnQ7XG5cbiAgICBpZiAoa2V5Ym9hcmQuaXNLZXkoWydmJywgJ0YnXSwgZXZlbnQpICYmIGtleWJvYXJkLmlzQ21kKGV2ZW50KSkge1xuICAgICAgZWRpdG9yQWN0aW9ucy50cmlnZ2VyKCdmaW5kJyk7XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gYWN0aXZhdGUgc3BhY2UgdG9vbFxuICAvLyBTXG4gIGFkZExpc3RlbmVyKCdzcGFjZVRvb2wnLCBmdW5jdGlvbihjb250ZXh0KSB7XG5cbiAgICB2YXIgZXZlbnQgPSBjb250ZXh0LmtleUV2ZW50O1xuXG4gICAgaWYgKGtleWJvYXJkLmhhc01vZGlmaWVyKGV2ZW50KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChrZXlib2FyZC5pc0tleShbJ3MnLCAnUyddLCBldmVudCkpIHtcbiAgICAgIGVkaXRvckFjdGlvbnMudHJpZ2dlcignc3BhY2VUb29sJyk7XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gYWN0aXZhdGUgbGFzc28gdG9vbFxuICAvLyBMXG4gIGFkZExpc3RlbmVyKCdsYXNzb1Rvb2wnLCBmdW5jdGlvbihjb250ZXh0KSB7XG5cbiAgICB2YXIgZXZlbnQgPSBjb250ZXh0LmtleUV2ZW50O1xuXG4gICAgaWYgKGtleWJvYXJkLmhhc01vZGlmaWVyKGV2ZW50KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChrZXlib2FyZC5pc0tleShbJ2wnLCAnTCddLCBldmVudCkpIHtcbiAgICAgIGVkaXRvckFjdGlvbnMudHJpZ2dlcignbGFzc29Ub29sJyk7XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gYWN0aXZhdGUgaGFuZCB0b29sXG4gIC8vIEhcbiAgYWRkTGlzdGVuZXIoJ2hhbmRUb29sJywgZnVuY3Rpb24oY29udGV4dCkge1xuXG4gICAgdmFyIGV2ZW50ID0gY29udGV4dC5rZXlFdmVudDtcblxuICAgIGlmIChrZXlib2FyZC5oYXNNb2RpZmllcihldmVudCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoa2V5Ym9hcmQuaXNLZXkoWydoJywgJ0gnXSwgZXZlbnQpKSB7XG4gICAgICBlZGl0b3JBY3Rpb25zLnRyaWdnZXIoJ2hhbmRUb29sJyk7XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gYWN0aXZhdGUgZGlyZWN0IGVkaXRpbmdcbiAgLy8gRVxuICBhZGRMaXN0ZW5lcignZGlyZWN0RWRpdGluZycsIGZ1bmN0aW9uKGNvbnRleHQpIHtcblxuICAgIHZhciBldmVudCA9IGNvbnRleHQua2V5RXZlbnQ7XG5cbiAgICBpZiAoa2V5Ym9hcmQuaGFzTW9kaWZpZXIoZXZlbnQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGtleWJvYXJkLmlzS2V5KFsnZScsICdFJ10sIGV2ZW50KSkge1xuICAgICAgZWRpdG9yQWN0aW9ucy50cmlnZ2VyKCdkaXJlY3RFZGl0aW5nJyk7XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSk7XG5cbn07IiwiaW1wb3J0IEtleWJvYXJkTW9kdWxlIGZyb20gJ2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2tleWJvYXJkJztcblxuaW1wb3J0IFBvc3RpdEtleWJvYXJkQmluZGluZ3MgZnJvbSAnLi9Qb3N0aXRLZXlib2FyZEJpbmRpbmdzJztcblxuZXhwb3J0IGRlZmF1bHQge1xuICBfX2RlcGVuZHNfXzogW1xuICAgIEtleWJvYXJkTW9kdWxlXG4gIF0sXG4gIF9faW5pdF9fOiBbICdrZXlib2FyZEJpbmRpbmdzJyBdLFxuICBrZXlib2FyZEJpbmRpbmdzOiBbICd0eXBlJywgUG9zdGl0S2V5Ym9hcmRCaW5kaW5ncyBdXG59O1xuIiwiaW1wb3J0IHtcbiAgYXNzaWduXG59IGZyb20gJ21pbi1kYXNoJztcblxuXG52YXIgREVGQVVMVF9DT05GSUcgPSB7XG4gIG1vdmVTcGVlZDogMSxcbiAgbW92ZVNwZWVkQWNjZWxlcmF0ZWQ6IDEwXG59O1xuXG52YXIgSElHSEVSX1BSSU9SSVRZID0gMTUwMDtcblxudmFyIExFRlQgPSAnbGVmdCc7XG52YXIgVVAgPSAndXAnO1xudmFyIFJJR0hUID0gJ3JpZ2h0JztcbnZhciBET1dOID0gJ2Rvd24nO1xuXG52YXIgS0VZX1RPX0RJUkVDVElPTiA9IHtcbiAgQXJyb3dMZWZ0OiBMRUZULFxuICBMZWZ0OiBMRUZULFxuICBBcnJvd1VwOiBVUCxcbiAgVXA6IFVQLFxuICBBcnJvd1JpZ2h0OiBSSUdIVCxcbiAgUmlnaHQ6IFJJR0hULFxuICBBcnJvd0Rvd246IERPV04sXG4gIERvd246IERPV05cbn07XG5cbnZhciBESVJFQ1RJT05TX0RFTFRBID0ge1xuICBsZWZ0OiBmdW5jdGlvbihzcGVlZCkge1xuICAgIHJldHVybiB7XG4gICAgICB4OiAtc3BlZWQsXG4gICAgICB5OiAwXG4gICAgfTtcbiAgfSxcbiAgdXA6IGZ1bmN0aW9uKHNwZWVkKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHg6IDAsXG4gICAgICB5OiAtc3BlZWRcbiAgICB9O1xuICB9LFxuICByaWdodDogZnVuY3Rpb24oc3BlZWQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgeDogc3BlZWQsXG4gICAgICB5OiAwXG4gICAgfTtcbiAgfSxcbiAgZG93bjogZnVuY3Rpb24oc3BlZWQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgeDogMCxcbiAgICAgIHk6IHNwZWVkXG4gICAgfTtcbiAgfVxufTtcblxuXG4vKipcbiAqIEVuYWJsZXMgdG8gbW92ZSBzZWxlY3Rpb24gd2l0aCBrZXlib2FyZCBhcnJvd3MuXG4gKiBVc2Ugd2l0aCBTaGlmdCBmb3IgbW9kaWZpZWQgc3BlZWQgKGRlZmF1bHQ9MSwgd2l0aCBTaGlmdD0xMCkuXG4gKiBQcmVzc2VkIENtZC9DdHJsIHR1cm5zIHRoZSBmZWF0dXJlIG9mZi5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnXG4gKiBAcGFyYW0ge251bWJlcn0gW2NvbmZpZy5tb3ZlU3BlZWQ9MV1cbiAqIEBwYXJhbSB7bnVtYmVyfSBbY29uZmlnLm1vdmVTcGVlZEFjY2VsZXJhdGVkPTEwXVxuICogQHBhcmFtIHtLZXlib2FyZH0ga2V5Ym9hcmRcbiAqIEBwYXJhbSB7TW9kZWxpbmd9IG1vZGVsaW5nXG4gKiBAcGFyYW0ge1NlbGVjdGlvbn0gc2VsZWN0aW9uXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEtleWJvYXJkTW92ZVNlbGVjdGlvbihcbiAgICBjb25maWcsXG4gICAga2V5Ym9hcmQsXG4gICAgbW9kZWxpbmcsXG4gICAgcnVsZXMsXG4gICAgc2VsZWN0aW9uXG4pIHtcblxuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgdGhpcy5fY29uZmlnID0gYXNzaWduKHt9LCBERUZBVUxUX0NPTkZJRywgY29uZmlnIHx8IHt9KTtcblxuICBrZXlib2FyZC5hZGRMaXN0ZW5lcihISUdIRVJfUFJJT1JJVFksIGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICB2YXIga2V5RXZlbnQgPSBldmVudC5rZXlFdmVudDtcblxuICAgIHZhciBkaXJlY3Rpb24gPSBLRVlfVE9fRElSRUNUSU9OW2tleUV2ZW50LmtleV07XG5cbiAgICBpZiAoIWRpcmVjdGlvbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChrZXlib2FyZC5pc0NtZChrZXlFdmVudCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgYWNjZWxlcmF0ZWQgPSBrZXlib2FyZC5pc1NoaWZ0KGtleUV2ZW50KTtcblxuICAgIHNlbGYubW92ZVNlbGVjdGlvbihkaXJlY3Rpb24sIGFjY2VsZXJhdGVkKTtcblxuICAgIHJldHVybiB0cnVlO1xuICB9KTtcblxuXG4gIC8qKlxuICAgKiBNb3ZlIHNlbGVjdGVkIGVsZW1lbnRzIGluIHRoZSBnaXZlbiBkaXJlY3Rpb24sXG4gICAqIG9wdGlvbmFsbHkgc3BlY2lmeWluZyBhY2NlbGVyYXRlZCBtb3ZlbWVudC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGRpcmVjdGlvblxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFthY2NlbGVyYXRlZD1mYWxzZV1cbiAgICovXG4gIHRoaXMubW92ZVNlbGVjdGlvbiA9IGZ1bmN0aW9uKGRpcmVjdGlvbiwgYWNjZWxlcmF0ZWQpIHtcblxuICAgIHZhciBzZWxlY3RlZEVsZW1lbnRzID0gc2VsZWN0aW9uLmdldCgpO1xuXG4gICAgaWYgKCFzZWxlY3RlZEVsZW1lbnRzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBzcGVlZCA9IHRoaXMuX2NvbmZpZ1tcbiAgICAgIGFjY2VsZXJhdGVkID9cbiAgICAgICAgJ21vdmVTcGVlZEFjY2VsZXJhdGVkJyA6XG4gICAgICAgICdtb3ZlU3BlZWQnXG4gICAgXTtcblxuICAgIHZhciBkZWx0YSA9IERJUkVDVElPTlNfREVMVEFbZGlyZWN0aW9uXShzcGVlZCk7XG5cbiAgICB2YXIgY2FuTW92ZSA9IHJ1bGVzLmFsbG93ZWQoJ2VsZW1lbnRzLm1vdmUnLCB7XG4gICAgICBzaGFwZXM6IHNlbGVjdGVkRWxlbWVudHNcbiAgICB9KTtcblxuICAgIGlmIChjYW5Nb3ZlKSB7XG4gICAgICBtb2RlbGluZy5tb3ZlRWxlbWVudHMoc2VsZWN0ZWRFbGVtZW50cywgZGVsdGEpO1xuICAgIH1cbiAgfTtcblxufVxuXG5LZXlib2FyZE1vdmVTZWxlY3Rpb24uJGluamVjdCA9IFtcbiAgJ2NvbmZpZy5rZXlib2FyZE1vdmVTZWxlY3Rpb24nLFxuICAna2V5Ym9hcmQnLFxuICAnbW9kZWxpbmcnLFxuICAncnVsZXMnLFxuICAnc2VsZWN0aW9uJ1xuXTsiLCJpbXBvcnQgS2V5Ym9hcmRNb2R1bGUgZnJvbSAnLi4va2V5Ym9hcmQnO1xuaW1wb3J0IFNlbGVjdGlvbk1vZHVsZSBmcm9tICcuLi9zZWxlY3Rpb24nO1xuXG5pbXBvcnQgS2V5Ym9hcmRNb3ZlU2VsZWN0aW9uIGZyb20gJy4vS2V5Ym9hcmRNb3ZlU2VsZWN0aW9uJztcblxuZXhwb3J0IGRlZmF1bHQge1xuICBfX2RlcGVuZHNfXzogW1xuICAgIEtleWJvYXJkTW9kdWxlLFxuICAgIFNlbGVjdGlvbk1vZHVsZVxuICBdLFxuICBfX2luaXRfXzogW1xuICAgICdrZXlib2FyZE1vdmVTZWxlY3Rpb24nXG4gIF0sXG4gIGtleWJvYXJkTW92ZVNlbGVjdGlvbjogWyAndHlwZScsIEtleWJvYXJkTW92ZVNlbGVjdGlvbiBdXG59O1xuIiwiaW1wb3J0IHtcbiAgZ2V0VHlwZSBhcyBnZXRFbGVtZW50VHlwZVxufSBmcm9tICcuLi8uLi91dGlsL0VsZW1lbnRzJztcblxuLyoqXG4gKiBBZGRzIGNoYW5nZSBzdXBwb3J0IHRvIHRoZSBkaWFncmFtLCBpbmNsdWRpbmdcbiAqXG4gKiA8dWw+XG4gKiAgIDxsaT5yZWRyYXdpbmcgc2hhcGVzIGFuZCBjb25uZWN0aW9ucyBvbiBjaGFuZ2U8L2xpPlxuICogPC91bD5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50QnVzfSBldmVudEJ1c1xuICogQHBhcmFtIHtDYW52YXN9IGNhbnZhc1xuICogQHBhcmFtIHtFbGVtZW50UmVnaXN0cnl9IGVsZW1lbnRSZWdpc3RyeVxuICogQHBhcmFtIHtHcmFwaGljc0ZhY3Rvcnl9IGdyYXBoaWNzRmFjdG9yeVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDaGFuZ2VTdXBwb3J0KFxuICAgIGV2ZW50QnVzLCBjYW52YXMsIGVsZW1lbnRSZWdpc3RyeSxcbiAgICBncmFwaGljc0ZhY3RvcnkpIHtcblxuXG4gIC8vIHJlZHJhdyBzaGFwZXMgLyBjb25uZWN0aW9ucyBvbiBjaGFuZ2VcblxuICBldmVudEJ1cy5vbignZWxlbWVudC5jaGFuZ2VkJywgZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgIHZhciBlbGVtZW50ID0gZXZlbnQuZWxlbWVudDtcblxuICAgIC8vIGVsZW1lbnQgbWlnaHQgaGF2ZSBiZWVuIGRlbGV0ZWQgYW5kIHJlcGxhY2VkIGJ5IG5ldyBlbGVtZW50IHdpdGggc2FtZSBJRFxuICAgIC8vIHRodXMgY2hlY2sgZm9yIHBhcmVudCBvZiBlbGVtZW50IGV4Y2VwdCBmb3Igcm9vdCBlbGVtZW50XG4gICAgaWYgKGVsZW1lbnQucGFyZW50IHx8IGVsZW1lbnQgPT09IGNhbnZhcy5nZXRSb290RWxlbWVudCgpKSB7XG4gICAgICBldmVudC5nZnggPSBlbGVtZW50UmVnaXN0cnkuZ2V0R3JhcGhpY3MoZWxlbWVudCk7XG4gICAgfVxuXG4gICAgLy8gc2hhcGUgKyBnZnggbWF5IGhhdmUgYmVlbiBkZWxldGVkXG4gICAgaWYgKCFldmVudC5nZngpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBldmVudEJ1cy5maXJlKGdldEVsZW1lbnRUeXBlKGVsZW1lbnQpICsgJy5jaGFuZ2VkJywgZXZlbnQpO1xuICB9KTtcblxuICBldmVudEJ1cy5vbignZWxlbWVudHMuY2hhbmdlZCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICB2YXIgZWxlbWVudHMgPSBldmVudC5lbGVtZW50cztcblxuICAgIGVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24oZSkge1xuICAgICAgZXZlbnRCdXMuZmlyZSgnZWxlbWVudC5jaGFuZ2VkJywgeyBlbGVtZW50OiBlIH0pO1xuICAgIH0pO1xuXG4gICAgZ3JhcGhpY3NGYWN0b3J5LnVwZGF0ZUNvbnRhaW5tZW50cyhlbGVtZW50cyk7XG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKCdzaGFwZS5jaGFuZ2VkJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBncmFwaGljc0ZhY3RvcnkudXBkYXRlKCdzaGFwZScsIGV2ZW50LmVsZW1lbnQsIGV2ZW50LmdmeCk7XG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKCdjb25uZWN0aW9uLmNoYW5nZWQnLCBmdW5jdGlvbihldmVudCkge1xuICAgIGdyYXBoaWNzRmFjdG9yeS51cGRhdGUoJ2Nvbm5lY3Rpb24nLCBldmVudC5lbGVtZW50LCBldmVudC5nZngpO1xuICB9KTtcbn1cblxuQ2hhbmdlU3VwcG9ydC4kaW5qZWN0ID0gW1xuICAnZXZlbnRCdXMnLFxuICAnY2FudmFzJyxcbiAgJ2VsZW1lbnRSZWdpc3RyeScsXG4gICdncmFwaGljc0ZhY3RvcnknXG5dOyIsImltcG9ydCBDaGFuZ2VTdXBwb3J0IGZyb20gJy4vQ2hhbmdlU3VwcG9ydCc7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgX19pbml0X186IFsgJ2NoYW5nZVN1cHBvcnQnXSxcbiAgY2hhbmdlU3VwcG9ydDogWyAndHlwZScsIENoYW5nZVN1cHBvcnQgXVxufTsiLCJpbXBvcnQge1xuICBmaWx0ZXIsXG4gIGlzTnVtYmVyXG59IGZyb20gJ21pbi1kYXNoJztcblxudmFyIG1heCA9IE1hdGgubWF4LFxuICAgIG1pbiA9IE1hdGgubWluO1xuXG52YXIgREVGQVVMVF9DSElMRF9CT1hfUEFERElORyA9IDIwO1xuXG5pbXBvcnQge1xuICBnZXRCQm94XG59IGZyb20gJy4uLy4uL3V0aWwvRWxlbWVudHMnO1xuXG5pbXBvcnQge1xuICBhc1RSQkwsXG4gIGFzQm91bmRzXG59IGZyb20gJy4uLy4uL2xheW91dC9MYXlvdXRVdGlsJztcblxuXG4vKipcbiAqIFN1YnN0cmFjdCBhIFRSQkwgZnJvbSBhbm90aGVyXG4gKlxuICogQHBhcmFtICB7VFJCTH0gdHJibEFcbiAqIEBwYXJhbSAge1RSQkx9IHRyYmxCXG4gKlxuICogQHJldHVybiB7VFJCTH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN1YnN0cmFjdFRSQkwodHJibEEsIHRyYmxCKSB7XG4gIHJldHVybiB7XG4gICAgdG9wOiB0cmJsQS50b3AgLSB0cmJsQi50b3AsXG4gICAgcmlnaHQ6IHRyYmxBLnJpZ2h0IC0gdHJibEIucmlnaHQsXG4gICAgYm90dG9tOiB0cmJsQS5ib3R0b20gLSB0cmJsQi5ib3R0b20sXG4gICAgbGVmdDogdHJibEEubGVmdCAtIHRyYmxCLmxlZnRcbiAgfTtcbn1cblxuLyoqXG4gKiBSZXNpemUgdGhlIGdpdmVuIGJvdW5kcyBieSB0aGUgc3BlY2lmaWVkIGRlbHRhIGZyb20gYSBnaXZlbiBhbmNob3IgcG9pbnQuXG4gKlxuICogQHBhcmFtIHtCb3VuZHN9IGJvdW5kcyB0aGUgYm91bmRpbmcgYm94IHRoYXQgc2hvdWxkIGJlIHJlc2l6ZWRcbiAqIEBwYXJhbSB7c3RyaW5nfSBkaXJlY3Rpb24gaW4gd2hpY2ggdGhlIGVsZW1lbnQgaXMgcmVzaXplZCAobncsIG5lLCBzZSwgc3cpXG4gKiBAcGFyYW0ge1BvaW50fSBkZWx0YSBvZiB0aGUgcmVzaXplIG9wZXJhdGlvblxuICpcbiAqIEByZXR1cm4ge0JvdW5kc30gcmVzaXplZCBib3VuZGluZyBib3hcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlc2l6ZUJvdW5kcyhib3VuZHMsIGRpcmVjdGlvbiwgZGVsdGEpIHtcbiAgdmFyIGR4ID0gZGVsdGEueCxcbiAgICAgIGR5ID0gZGVsdGEueTtcblxuICB2YXIgbmV3Qm91bmRzID0ge1xuICAgIHg6IGJvdW5kcy54LFxuICAgIHk6IGJvdW5kcy55LFxuICAgIHdpZHRoOiBib3VuZHMud2lkdGgsXG4gICAgaGVpZ2h0OiBib3VuZHMuaGVpZ2h0XG4gIH07XG5cbiAgaWYgKGRpcmVjdGlvbi5pbmRleE9mKCduJykgIT09IC0xKSB7XG4gICAgbmV3Qm91bmRzLnkgPSBib3VuZHMueSArIGR5O1xuICAgIG5ld0JvdW5kcy5oZWlnaHQgPSBib3VuZHMuaGVpZ2h0IC0gZHk7XG4gIH0gZWxzZSBpZiAoZGlyZWN0aW9uLmluZGV4T2YoJ3MnKSAhPT0gLTEpIHtcbiAgICBuZXdCb3VuZHMuaGVpZ2h0ID0gYm91bmRzLmhlaWdodCArIGR5O1xuICB9XG5cbiAgaWYgKGRpcmVjdGlvbi5pbmRleE9mKCdlJykgIT09IC0xKSB7XG4gICAgbmV3Qm91bmRzLndpZHRoID0gYm91bmRzLndpZHRoICsgZHg7XG4gIH0gZWxzZSBpZiAoZGlyZWN0aW9uLmluZGV4T2YoJ3cnKSAhPT0gLTEpIHtcbiAgICBuZXdCb3VuZHMueCA9IGJvdW5kcy54ICsgZHg7XG4gICAgbmV3Qm91bmRzLndpZHRoID0gYm91bmRzLndpZHRoIC0gZHg7XG4gIH1cblxuICByZXR1cm4gbmV3Qm91bmRzO1xufVxuXG5cbi8qKlxuICogUmVzaXplIHRoZSBnaXZlbiBib3VuZHMgYnkgYXBwbHlpbmcgdGhlIHBhc3NlZFxuICogeyB0b3AsIHJpZ2h0LCBib3R0b20sIGxlZnQgfSBkZWx0YS5cbiAqXG4gKiBAcGFyYW0ge0JvdW5kc30gYm91bmRzXG4gKiBAcGFyYW0ge1RSQkx9IHRyYmxSZXNpemVcbiAqXG4gKiBAcmV0dXJuIHtCb3VuZHN9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXNpemVUUkJMKGJvdW5kcywgcmVzaXplKSB7XG4gIHJldHVybiB7XG4gICAgeDogYm91bmRzLnggKyAocmVzaXplLmxlZnQgfHwgMCksXG4gICAgeTogYm91bmRzLnkgKyAocmVzaXplLnRvcCB8fCAwKSxcbiAgICB3aWR0aDogYm91bmRzLndpZHRoIC0gKHJlc2l6ZS5sZWZ0IHx8IDApICsgKHJlc2l6ZS5yaWdodCB8fCAwKSxcbiAgICBoZWlnaHQ6IGJvdW5kcy5oZWlnaHQgLSAocmVzaXplLnRvcCB8fCAwKSArIChyZXNpemUuYm90dG9tIHx8IDApXG4gIH07XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIHJlYXR0YWNoUG9pbnQoYm91bmRzLCBuZXdCb3VuZHMsIHBvaW50KSB7XG5cbiAgdmFyIHN4ID0gYm91bmRzLndpZHRoIC8gbmV3Qm91bmRzLndpZHRoLFxuICAgICAgc3kgPSBib3VuZHMuaGVpZ2h0IC8gbmV3Qm91bmRzLmhlaWdodDtcblxuICByZXR1cm4ge1xuICAgIHg6IE1hdGgucm91bmQoKG5ld0JvdW5kcy54ICsgbmV3Qm91bmRzLndpZHRoIC8gMikpIC0gTWF0aC5mbG9vcigoKGJvdW5kcy54ICsgYm91bmRzLndpZHRoIC8gMikgLSBwb2ludC54KSAvIHN4KSxcbiAgICB5OiBNYXRoLnJvdW5kKChuZXdCb3VuZHMueSArIG5ld0JvdW5kcy5oZWlnaHQgLyAyKSkgLSBNYXRoLmZsb29yKCgoYm91bmRzLnkgKyBib3VuZHMuaGVpZ2h0IC8gMikgLSBwb2ludC55KSAvIHN5KVxuICB9O1xufVxuXG5cbmZ1bmN0aW9uIGFwcGx5Q29uc3RyYWludHMoYXR0ciwgdHJibCwgcmVzaXplQ29uc3RyYWludHMpIHtcblxuICB2YXIgdmFsdWUgPSB0cmJsW2F0dHJdLFxuICAgICAgbWluVmFsdWUgPSByZXNpemVDb25zdHJhaW50cy5taW4gJiYgcmVzaXplQ29uc3RyYWludHMubWluW2F0dHJdLFxuICAgICAgbWF4VmFsdWUgPSByZXNpemVDb25zdHJhaW50cy5tYXggJiYgcmVzaXplQ29uc3RyYWludHMubWF4W2F0dHJdO1xuXG4gIGlmIChpc051bWJlcihtaW5WYWx1ZSkpIHtcbiAgICB2YWx1ZSA9ICgvdG9wfGxlZnQvLnRlc3QoYXR0cikgPyBtaW4gOiBtYXgpKHZhbHVlLCBtaW5WYWx1ZSk7XG4gIH1cblxuICBpZiAoaXNOdW1iZXIobWF4VmFsdWUpKSB7XG4gICAgdmFsdWUgPSAoL3RvcHxsZWZ0Ly50ZXN0KGF0dHIpID8gbWF4IDogbWluKSh2YWx1ZSwgbWF4VmFsdWUpO1xuICB9XG5cbiAgcmV0dXJuIHZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZW5zdXJlQ29uc3RyYWludHMoY3VycmVudEJvdW5kcywgcmVzaXplQ29uc3RyYWludHMpIHtcblxuICBpZiAoIXJlc2l6ZUNvbnN0cmFpbnRzKSB7XG4gICAgcmV0dXJuIGN1cnJlbnRCb3VuZHM7XG4gIH1cblxuICB2YXIgY3VycmVudFRyYmwgPSBhc1RSQkwoY3VycmVudEJvdW5kcyk7XG5cbiAgcmV0dXJuIGFzQm91bmRzKHtcbiAgICB0b3A6IGFwcGx5Q29uc3RyYWludHMoJ3RvcCcsIGN1cnJlbnRUcmJsLCByZXNpemVDb25zdHJhaW50cyksXG4gICAgcmlnaHQ6IGFwcGx5Q29uc3RyYWludHMoJ3JpZ2h0JywgY3VycmVudFRyYmwsIHJlc2l6ZUNvbnN0cmFpbnRzKSxcbiAgICBib3R0b206IGFwcGx5Q29uc3RyYWludHMoJ2JvdHRvbScsIGN1cnJlbnRUcmJsLCByZXNpemVDb25zdHJhaW50cyksXG4gICAgbGVmdDogYXBwbHlDb25zdHJhaW50cygnbGVmdCcsIGN1cnJlbnRUcmJsLCByZXNpemVDb25zdHJhaW50cylcbiAgfSk7XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGdldE1pblJlc2l6ZUJvdW5kcyhkaXJlY3Rpb24sIGN1cnJlbnRCb3VuZHMsIG1pbkRpbWVuc2lvbnMsIGNoaWxkcmVuQm91bmRzKSB7XG5cbiAgdmFyIGN1cnJlbnRCb3ggPSBhc1RSQkwoY3VycmVudEJvdW5kcyk7XG5cbiAgdmFyIG1pbkJveCA9IHtcbiAgICB0b3A6IC9uLy50ZXN0KGRpcmVjdGlvbikgPyBjdXJyZW50Qm94LmJvdHRvbSAtIG1pbkRpbWVuc2lvbnMuaGVpZ2h0IDogY3VycmVudEJveC50b3AsXG4gICAgbGVmdDogL3cvLnRlc3QoZGlyZWN0aW9uKSA/IGN1cnJlbnRCb3gucmlnaHQgLSBtaW5EaW1lbnNpb25zLndpZHRoIDogY3VycmVudEJveC5sZWZ0LFxuICAgIGJvdHRvbTogL3MvLnRlc3QoZGlyZWN0aW9uKSA/IGN1cnJlbnRCb3gudG9wICsgbWluRGltZW5zaW9ucy5oZWlnaHQgOiBjdXJyZW50Qm94LmJvdHRvbSxcbiAgICByaWdodDogL2UvLnRlc3QoZGlyZWN0aW9uKSA/IGN1cnJlbnRCb3gubGVmdCArIG1pbkRpbWVuc2lvbnMud2lkdGggOiBjdXJyZW50Qm94LnJpZ2h0XG4gIH07XG5cbiAgdmFyIGNoaWxkcmVuQm94ID0gY2hpbGRyZW5Cb3VuZHMgPyBhc1RSQkwoY2hpbGRyZW5Cb3VuZHMpIDogbWluQm94O1xuXG4gIHZhciBjb21iaW5lZEJveCA9IHtcbiAgICB0b3A6IG1pbihtaW5Cb3gudG9wLCBjaGlsZHJlbkJveC50b3ApLFxuICAgIGxlZnQ6IG1pbihtaW5Cb3gubGVmdCwgY2hpbGRyZW5Cb3gubGVmdCksXG4gICAgYm90dG9tOiBtYXgobWluQm94LmJvdHRvbSwgY2hpbGRyZW5Cb3guYm90dG9tKSxcbiAgICByaWdodDogbWF4KG1pbkJveC5yaWdodCwgY2hpbGRyZW5Cb3gucmlnaHQpXG4gIH07XG5cbiAgcmV0dXJuIGFzQm91bmRzKGNvbWJpbmVkQm94KTtcbn1cblxuZnVuY3Rpb24gYXNQYWRkaW5nKG1heUJlUGFkZGluZywgZGVmYXVsdFZhbHVlKSB7XG4gIGlmICh0eXBlb2YgbWF5QmVQYWRkaW5nICE9PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBtYXlCZVBhZGRpbmc7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIERFRkFVTFRfQ0hJTERfQk9YX1BBRERJTkc7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZFBhZGRpbmcoYmJveCwgcGFkZGluZykge1xuICB2YXIgbGVmdCwgcmlnaHQsIHRvcCwgYm90dG9tO1xuXG4gIGlmICh0eXBlb2YgcGFkZGluZyA9PT0gJ29iamVjdCcpIHtcbiAgICBsZWZ0ID0gYXNQYWRkaW5nKHBhZGRpbmcubGVmdCk7XG4gICAgcmlnaHQgPSBhc1BhZGRpbmcocGFkZGluZy5yaWdodCk7XG4gICAgdG9wID0gYXNQYWRkaW5nKHBhZGRpbmcudG9wKTtcbiAgICBib3R0b20gPSBhc1BhZGRpbmcocGFkZGluZy5ib3R0b20pO1xuICB9IGVsc2Uge1xuICAgIGxlZnQgPSByaWdodCA9IHRvcCA9IGJvdHRvbSA9IGFzUGFkZGluZyhwYWRkaW5nKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgeDogYmJveC54IC0gbGVmdCxcbiAgICB5OiBiYm94LnkgLSB0b3AsXG4gICAgd2lkdGg6IGJib3gud2lkdGggKyBsZWZ0ICsgcmlnaHQsXG4gICAgaGVpZ2h0OiBiYm94LmhlaWdodCArIHRvcCArIGJvdHRvbVxuICB9O1xufVxuXG5cbi8qKlxuICogSXMgdGhlIGdpdmVuIGVsZW1lbnQgcGFydCBvZiB0aGUgcmVzaXplXG4gKiB0YXJnZXRzIG1pbiBib3VuZGFyeSBib3g/XG4gKlxuICogVGhpcyBpcyB0aGUgZGVmYXVsdCBpbXBsZW1lbnRhdGlvbiB3aGljaCBleGNsdWRlc1xuICogY29ubmVjdGlvbnMgYW5kIGxhYmVscy5cbiAqXG4gKiBAcGFyYW0ge2Rqcy5tb2RlbC5CYXNlfSBlbGVtZW50XG4gKi9cbmZ1bmN0aW9uIGlzQkJveENoaWxkKGVsZW1lbnQpIHtcblxuICAvLyBleGNsdWRlIGNvbm5lY3Rpb25zXG4gIGlmIChlbGVtZW50LndheXBvaW50cykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIGV4Y2x1ZGUgbGFiZWxzXG4gIGlmIChlbGVtZW50LnR5cGUgPT09ICdsYWJlbCcpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBSZXR1cm4gY2hpbGRyZW4gYm91bmRpbmcgY29tcHV0ZWQgZnJvbSBhIHNoYXBlcyBjaGlsZHJlblxuICogb3IgYSBsaXN0IG9mIHByZWZpbHRlcmVkIGNoaWxkcmVuLlxuICpcbiAqIEBwYXJhbSAge2Rqcy5tb2RlbC5TaGFwZXxBcnJheTxkanMubW9kZWwuU2hhcGU+fSBzaGFwZU9yQ2hpbGRyZW5cbiAqIEBwYXJhbSAge251bWJlcnxPYmplY3R9IHBhZGRpbmdcbiAqXG4gKiBAcmV0dXJuIHtCb3VuZHN9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlQ2hpbGRyZW5CQm94KHNoYXBlT3JDaGlsZHJlbiwgcGFkZGluZykge1xuXG4gIHZhciBlbGVtZW50cztcblxuICAvLyBjb21wdXRlIGJhc2VkIG9uIHNoYXBlXG4gIGlmIChzaGFwZU9yQ2hpbGRyZW4ubGVuZ3RoID09PSB1bmRlZmluZWQpIHtcblxuICAgIC8vIGdyYWIgYWxsIHRoZSBjaGlsZHJlbiB0aGF0IGFyZSBwYXJ0IG9mIHRoZVxuICAgIC8vIHBhcmVudHMgY2hpbGRyZW4gYm94XG4gICAgZWxlbWVudHMgPSBmaWx0ZXIoc2hhcGVPckNoaWxkcmVuLmNoaWxkcmVuLCBpc0JCb3hDaGlsZCk7XG5cbiAgfSBlbHNlIHtcbiAgICBlbGVtZW50cyA9IHNoYXBlT3JDaGlsZHJlbjtcbiAgfVxuXG4gIGlmIChlbGVtZW50cy5sZW5ndGgpIHtcbiAgICByZXR1cm4gYWRkUGFkZGluZyhnZXRCQm94KGVsZW1lbnRzKSwgcGFkZGluZyk7XG4gIH1cbn1cbiIsImltcG9ydCB7XG4gIHBpY2ssXG4gIGFzc2lnblxufSBmcm9tICdtaW4tZGFzaCc7XG5cbmltcG9ydCB7XG4gIHJlc2l6ZUJvdW5kcyxcbiAgZW5zdXJlQ29uc3RyYWludHMsXG4gIGNvbXB1dGVDaGlsZHJlbkJCb3gsXG4gIGdldE1pblJlc2l6ZUJvdW5kc1xufSBmcm9tICcuL1Jlc2l6ZVV0aWwnO1xuXG5pbXBvcnQge1xuICBhc1RSQkwsXG4gIGdldE1pZCxcbiAgcm91bmRCb3VuZHNcbn0gZnJvbSAnLi4vLi4vbGF5b3V0L0xheW91dFV0aWwnO1xuXG52YXIgREVGQVVMVF9NSU5fV0lEVEggPSAxMDtcblxuXG4vKipcbiAqIEEgY29tcG9uZW50IHRoYXQgcHJvdmlkZXMgcmVzaXppbmcgb2Ygc2hhcGVzIG9uIHRoZSBjYW52YXMuXG4gKlxuICogVGhlIGZvbGxvd2luZyBjb21wb25lbnRzIGFyZSBwYXJ0IG9mIHNoYXBlIHJlc2l6ZTpcbiAqXG4gKiAgKiBhZGRpbmcgcmVzaXplIGhhbmRsZXMsXG4gKiAgKiBjcmVhdGluZyBhIHZpc3VhbCBkdXJpbmcgcmVzaXplXG4gKiAgKiBjaGVja2luZyByZXNpemUgcnVsZXNcbiAqICAqIGNvbW1pdHRpbmcgYSBjaGFuZ2Ugb25jZSBmaW5pc2hlZFxuICpcbiAqXG4gKiAjIyBDdXN0b21pemluZ1xuICpcbiAqIEl0J3MgcG9zc2libGUgdG8gY3VzdG9taXplIHRoZSByZXNpemluZyBiZWhhdmlvdXIgYnkgaW50ZXJjZXB0aW5nICdyZXNpemUuc3RhcnQnXG4gKiBhbmQgcHJvdmlkaW5nIHRoZSBmb2xsb3dpbmcgcGFyYW1ldGVycyB0aHJvdWdoIHRoZSAnY29udGV4dCc6XG4gKlxuICogICAqIG1pbkRpbWVuc2lvbnMgKHsgd2lkdGgsIGhlaWdodCB9KTogbWluaW11bSBzaGFwZSBkaW1lbnNpb25zXG4gKlxuICogICAqIGNoaWxkcmVuQm94UGFkZGluZyAoeyBsZWZ0LCB0b3AsIGJvdHRvbSwgcmlnaHQgfSB8fCBudW1iZXIpOlxuICogICAgIGdhcCBiZXR3ZWVuIHRoZSBtaW5pbXVtIGJvdW5kaW5nIGJveCBhbmQgdGhlIGNvbnRhaW5lclxuICpcbiAqIGYuZXg6XG4gKlxuICogYGBgamF2YXNjcmlwdFxuICogZXZlbnRCdXMub24oJ3Jlc2l6ZS5zdGFydCcsIDE1MDAsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gKiAgIHZhciBjb250ZXh0ID0gZXZlbnQuY29udGV4dCxcbiAqXG4gKiAgY29udGV4dC5taW5EaW1lbnNpb25zID0geyB3aWR0aDogMTQwLCBoZWlnaHQ6IDEyMCB9O1xuICpcbiAqICAvLyBQYXNzaW5nIGdlbmVyYWwgcGFkZGluZ1xuICogIGNvbnRleHQuY2hpbGRyZW5Cb3hQYWRkaW5nID0gMzA7XG4gKlxuICogIC8vIFBhc3NpbmcgcGFkZGluZyB0byBhIHNwZWNpZmljIHNpZGVcbiAqICBjb250ZXh0LmNoaWxkcmVuQm94UGFkZGluZy5sZWZ0ID0gMjA7XG4gKiB9KTtcbiAqIGBgYFxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBSZXNpemUoZXZlbnRCdXMsIHJ1bGVzLCBtb2RlbGluZywgZHJhZ2dpbmcpIHtcblxuICB0aGlzLl9kcmFnZ2luZyA9IGRyYWdnaW5nO1xuICB0aGlzLl9ydWxlcyA9IHJ1bGVzO1xuXG4gIHZhciBzZWxmID0gdGhpcztcblxuXG4gIC8qKlxuICAgKiBIYW5kbGUgcmVzaXplIG1vdmUgYnkgc3BlY2lmaWVkIGRlbHRhLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gY29udGV4dFxuICAgKiBAcGFyYW0ge1BvaW50fSBkZWx0YVxuICAgKi9cbiAgZnVuY3Rpb24gaGFuZGxlTW92ZShjb250ZXh0LCBkZWx0YSkge1xuXG4gICAgdmFyIHNoYXBlID0gY29udGV4dC5zaGFwZSxcbiAgICAgICAgZGlyZWN0aW9uID0gY29udGV4dC5kaXJlY3Rpb24sXG4gICAgICAgIHJlc2l6ZUNvbnN0cmFpbnRzID0gY29udGV4dC5yZXNpemVDb25zdHJhaW50cyxcbiAgICAgICAgbmV3Qm91bmRzO1xuXG4gICAgY29udGV4dC5kZWx0YSA9IGRlbHRhO1xuXG4gICAgbmV3Qm91bmRzID0gcmVzaXplQm91bmRzKHNoYXBlLCBkaXJlY3Rpb24sIGRlbHRhKTtcblxuICAgIC8vIGVuc3VyZSBjb25zdHJhaW50cyBkdXJpbmcgcmVzaXplXG4gICAgY29udGV4dC5uZXdCb3VuZHMgPSBlbnN1cmVDb25zdHJhaW50cyhuZXdCb3VuZHMsIHJlc2l6ZUNvbnN0cmFpbnRzKTtcblxuICAgIC8vIHVwZGF0ZSArIGNhY2hlIGV4ZWN1dGFibGUgc3RhdGVcbiAgICBjb250ZXh0LmNhbkV4ZWN1dGUgPSBzZWxmLmNhblJlc2l6ZShjb250ZXh0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgcmVzaXplIHN0YXJ0LlxuICAgKlxuICAgKiBAcGFyYW0gIHtPYmplY3R9IGNvbnRleHRcbiAgICovXG4gIGZ1bmN0aW9uIGhhbmRsZVN0YXJ0KGNvbnRleHQpIHtcblxuICAgIHZhciByZXNpemVDb25zdHJhaW50cyA9IGNvbnRleHQucmVzaXplQ29uc3RyYWludHMsXG5cbiAgICAgICAgLy8gZXZhbHVhdGUgbWluQm91bmRzIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eVxuICAgICAgICBtaW5Cb3VuZHMgPSBjb250ZXh0Lm1pbkJvdW5kcztcblxuICAgIGlmIChyZXNpemVDb25zdHJhaW50cyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKG1pbkJvdW5kcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBtaW5Cb3VuZHMgPSBzZWxmLmNvbXB1dGVNaW5SZXNpemVCb3goY29udGV4dCk7XG4gICAgfVxuXG4gICAgY29udGV4dC5yZXNpemVDb25zdHJhaW50cyA9IHtcbiAgICAgIG1pbjogYXNUUkJMKG1pbkJvdW5kcylcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSByZXNpemUgZW5kLlxuICAgKlxuICAgKiBAcGFyYW0gIHtPYmplY3R9IGNvbnRleHRcbiAgICovXG4gIGZ1bmN0aW9uIGhhbmRsZUVuZChjb250ZXh0KSB7XG4gICAgdmFyIHNoYXBlID0gY29udGV4dC5zaGFwZSxcbiAgICAgICAgY2FuRXhlY3V0ZSA9IGNvbnRleHQuY2FuRXhlY3V0ZSxcbiAgICAgICAgbmV3Qm91bmRzID0gY29udGV4dC5uZXdCb3VuZHM7XG5cbiAgICBpZiAoY2FuRXhlY3V0ZSkge1xuXG4gICAgICAvLyBlbnN1cmUgd2UgaGF2ZSBhY3R1YWwgcGl4ZWwgdmFsdWVzIGZvciBuZXcgYm91bmRzXG4gICAgICAvLyAoaW1wb3J0YW50IHdoZW4gem9vbSBsZXZlbCB3YXMgPiAxIGR1cmluZyBtb3ZlKVxuICAgICAgbmV3Qm91bmRzID0gcm91bmRCb3VuZHMobmV3Qm91bmRzKTtcblxuICAgICAgaWYgKCFib3VuZHNDaGFuZ2VkKHNoYXBlLCBuZXdCb3VuZHMpKSB7XG5cbiAgICAgICAgLy8gbm8gcmVzaXplIG5lY2Vzc2FyeVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIHBlcmZvcm0gdGhlIGFjdHVhbCByZXNpemVcbiAgICAgIG1vZGVsaW5nLnJlc2l6ZVNoYXBlKHNoYXBlLCBuZXdCb3VuZHMpO1xuICAgIH1cbiAgfVxuXG5cbiAgZXZlbnRCdXMub24oJ3Jlc2l6ZS5zdGFydCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgaGFuZGxlU3RhcnQoZXZlbnQuY29udGV4dCk7XG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKCdyZXNpemUubW92ZScsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIGRlbHRhID0ge1xuICAgICAgeDogZXZlbnQuZHgsXG4gICAgICB5OiBldmVudC5keVxuICAgIH07XG5cbiAgICBoYW5kbGVNb3ZlKGV2ZW50LmNvbnRleHQsIGRlbHRhKTtcbiAgfSk7XG5cbiAgZXZlbnRCdXMub24oJ3Jlc2l6ZS5lbmQnLCBmdW5jdGlvbihldmVudCkge1xuICAgIGhhbmRsZUVuZChldmVudC5jb250ZXh0KTtcbiAgfSk7XG5cbn1cblxuXG5SZXNpemUucHJvdG90eXBlLmNhblJlc2l6ZSA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcbiAgdmFyIHJ1bGVzID0gdGhpcy5fcnVsZXM7XG5cbiAgdmFyIGN0eCA9IHBpY2soY29udGV4dCwgWyAnbmV3Qm91bmRzJywgJ3NoYXBlJywgJ2RlbHRhJywgJ2RpcmVjdGlvbicgXSk7XG5cbiAgcmV0dXJuIHJ1bGVzLmFsbG93ZWQoJ3NoYXBlLnJlc2l6ZScsIGN0eCk7XG59O1xuXG4vKipcbiAqIEFjdGl2YXRlIGEgcmVzaXplIG9wZXJhdGlvbi5cbiAqXG4gKiBZb3UgbWF5IHNwZWNpZnkgYWRkaXRpb25hbCBjb250ZXh0dWFsIGluZm9ybWF0aW9uIGFuZCBtdXN0IHNwZWNpZnkgYVxuICogcmVzaXplIGRpcmVjdGlvbiBkdXJpbmcgYWN0aXZhdGlvbiBvZiB0aGUgcmVzaXplIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7TW91c2VFdmVudH0gZXZlbnRcbiAqIEBwYXJhbSB7ZGpzLm1vZGVsLlNoYXBlfSBzaGFwZVxuICogQHBhcmFtIHtPYmplY3R8c3RyaW5nfSBjb250ZXh0T3JEaXJlY3Rpb25cbiAqL1xuUmVzaXplLnByb3RvdHlwZS5hY3RpdmF0ZSA9IGZ1bmN0aW9uKGV2ZW50LCBzaGFwZSwgY29udGV4dE9yRGlyZWN0aW9uKSB7XG4gIHZhciBkcmFnZ2luZyA9IHRoaXMuX2RyYWdnaW5nLFxuICAgICAgY29udGV4dCxcbiAgICAgIGRpcmVjdGlvbjtcblxuICBpZiAodHlwZW9mIGNvbnRleHRPckRpcmVjdGlvbiA9PT0gJ3N0cmluZycpIHtcbiAgICBjb250ZXh0T3JEaXJlY3Rpb24gPSB7XG4gICAgICBkaXJlY3Rpb246IGNvbnRleHRPckRpcmVjdGlvblxuICAgIH07XG4gIH1cblxuICBjb250ZXh0ID0gYXNzaWduKHsgc2hhcGU6IHNoYXBlIH0sIGNvbnRleHRPckRpcmVjdGlvbik7XG5cbiAgZGlyZWN0aW9uID0gY29udGV4dC5kaXJlY3Rpb247XG5cbiAgaWYgKCFkaXJlY3Rpb24pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ211c3QgcHJvdmlkZSBhIGRpcmVjdGlvbiAobnx3fHN8ZXxud3xzZXxuZXxzdyknKTtcbiAgfVxuXG4gIGRyYWdnaW5nLmluaXQoZXZlbnQsIGdldFJlZmVyZW5jZVBvaW50KHNoYXBlLCBkaXJlY3Rpb24pLCAncmVzaXplJywge1xuICAgIGF1dG9BY3RpdmF0ZTogdHJ1ZSxcbiAgICBjdXJzb3I6IGdldEN1cnNvcihkaXJlY3Rpb24pLFxuICAgIGRhdGE6IHtcbiAgICAgIHNoYXBlOiBzaGFwZSxcbiAgICAgIGNvbnRleHQ6IGNvbnRleHRcbiAgICB9XG4gIH0pO1xufTtcblxuUmVzaXplLnByb3RvdHlwZS5jb21wdXRlTWluUmVzaXplQm94ID0gZnVuY3Rpb24oY29udGV4dCkge1xuICB2YXIgc2hhcGUgPSBjb250ZXh0LnNoYXBlLFxuICAgICAgZGlyZWN0aW9uID0gY29udGV4dC5kaXJlY3Rpb24sXG4gICAgICBtaW5EaW1lbnNpb25zLFxuICAgICAgY2hpbGRyZW5Cb3VuZHM7XG5cbiAgbWluRGltZW5zaW9ucyA9IGNvbnRleHQubWluRGltZW5zaW9ucyB8fCB7XG4gICAgd2lkdGg6IERFRkFVTFRfTUlOX1dJRFRILFxuICAgIGhlaWdodDogREVGQVVMVF9NSU5fV0lEVEhcbiAgfTtcblxuICAvLyBnZXQgY2hpbGRyZW4gYm91bmRzXG4gIGNoaWxkcmVuQm91bmRzID0gY29tcHV0ZUNoaWxkcmVuQkJveChzaGFwZSwgY29udGV4dC5jaGlsZHJlbkJveFBhZGRpbmcpO1xuXG4gIC8vIGdldCBjb3JyZWN0IG1pbmltdW0gYm91bmRzIGZyb20gZ2l2ZW4gcmVzaXplIGRpcmVjdGlvblxuICAvLyBiYXNpY2FsbHkgZW5zdXJlcyB0aGF0IHRoZSBtaW5Cb3VuZHMgaXMgbWF4KGNoaWxkcmVuQm91bmRzLCBtaW5EaW1lbnNpb25zKVxuICByZXR1cm4gZ2V0TWluUmVzaXplQm91bmRzKGRpcmVjdGlvbiwgc2hhcGUsIG1pbkRpbWVuc2lvbnMsIGNoaWxkcmVuQm91bmRzKTtcbn07XG5cblxuUmVzaXplLiRpbmplY3QgPSBbXG4gICdldmVudEJ1cycsXG4gICdydWxlcycsXG4gICdtb2RlbGluZycsXG4gICdkcmFnZ2luZydcbl07XG5cbi8vIGhlbHBlcnMgLy8vLy8vLy8vL1xuXG5mdW5jdGlvbiBib3VuZHNDaGFuZ2VkKHNoYXBlLCBuZXdCb3VuZHMpIHtcbiAgcmV0dXJuIHNoYXBlLnggIT09IG5ld0JvdW5kcy54IHx8XG4gICAgc2hhcGUueSAhPT0gbmV3Qm91bmRzLnkgfHxcbiAgICBzaGFwZS53aWR0aCAhPT0gbmV3Qm91bmRzLndpZHRoIHx8XG4gICAgc2hhcGUuaGVpZ2h0ICE9PSBuZXdCb3VuZHMuaGVpZ2h0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmVmZXJlbmNlUG9pbnQoc2hhcGUsIGRpcmVjdGlvbikge1xuICB2YXIgbWlkID0gZ2V0TWlkKHNoYXBlKSxcbiAgICAgIHRyYmwgPSBhc1RSQkwoc2hhcGUpO1xuXG4gIHZhciByZWZlcmVuY2VQb2ludCA9IHtcbiAgICB4OiBtaWQueCxcbiAgICB5OiBtaWQueVxuICB9O1xuXG4gIGlmIChkaXJlY3Rpb24uaW5kZXhPZignbicpICE9PSAtMSkge1xuICAgIHJlZmVyZW5jZVBvaW50LnkgPSB0cmJsLnRvcDtcbiAgfSBlbHNlIGlmIChkaXJlY3Rpb24uaW5kZXhPZigncycpICE9PSAtMSkge1xuICAgIHJlZmVyZW5jZVBvaW50LnkgPSB0cmJsLmJvdHRvbTtcbiAgfVxuXG4gIGlmIChkaXJlY3Rpb24uaW5kZXhPZignZScpICE9PSAtMSkge1xuICAgIHJlZmVyZW5jZVBvaW50LnggPSB0cmJsLnJpZ2h0O1xuICB9IGVsc2UgaWYgKGRpcmVjdGlvbi5pbmRleE9mKCd3JykgIT09IC0xKSB7XG4gICAgcmVmZXJlbmNlUG9pbnQueCA9IHRyYmwubGVmdDtcbiAgfVxuXG4gIHJldHVybiByZWZlcmVuY2VQb2ludDtcbn1cblxuZnVuY3Rpb24gZ2V0Q3Vyc29yKGRpcmVjdGlvbikge1xuICB2YXIgcHJlZml4ID0gJ3Jlc2l6ZS0nO1xuXG4gIGlmIChkaXJlY3Rpb24gPT09ICduJyB8fCBkaXJlY3Rpb24gPT09ICdzJykge1xuICAgIHJldHVybiBwcmVmaXggKyAnbnMnO1xuICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gJ2UnIHx8IGRpcmVjdGlvbiA9PT0gJ3cnKSB7XG4gICAgcmV0dXJuIHByZWZpeCArICdldyc7XG4gIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09PSAnbncnIHx8IGRpcmVjdGlvbiA9PT0gJ3NlJykge1xuICAgIHJldHVybiBwcmVmaXggKyAnbndzZSc7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHByZWZpeCArICduZXN3JztcbiAgfVxufSIsInZhciBNQVJLRVJfUkVTSVpJTkcgPSAnZGpzLXJlc2l6aW5nJyxcbiAgICBNQVJLRVJfUkVTSVpFX05PVF9PSyA9ICdyZXNpemUtbm90LW9rJztcblxudmFyIExPV19QUklPUklUWSA9IDUwMDtcblxuaW1wb3J0IHtcbiAgYXR0ciBhcyBzdmdBdHRyLFxuICByZW1vdmUgYXMgc3ZnUmVtb3ZlLFxuICBjbGFzc2VzIGFzIHN2Z0NsYXNzZXNcbn0gZnJvbSAndGlueS1zdmcnO1xuXG5cbi8qKlxuICogUHJvdmlkZXMgcHJldmlld3MgZm9yIHJlc2l6aW5nIHNoYXBlcyB3aGVuIHJlc2l6aW5nLlxuICpcbiAqIEBwYXJhbSB7RXZlbnRCdXN9IGV2ZW50QnVzXG4gKiBAcGFyYW0ge0NhbnZhc30gY2FudmFzXG4gKiBAcGFyYW0ge1ByZXZpZXdTdXBwb3J0fSBwcmV2aWV3U3VwcG9ydFxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBSZXNpemVQcmV2aWV3KGV2ZW50QnVzLCBjYW52YXMsIHByZXZpZXdTdXBwb3J0KSB7XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSByZXNpemVyIGZyYW1lLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gY29udGV4dFxuICAgKi9cbiAgZnVuY3Rpb24gdXBkYXRlRnJhbWUoY29udGV4dCkge1xuXG4gICAgdmFyIHNoYXBlID0gY29udGV4dC5zaGFwZSxcbiAgICAgICAgYm91bmRzID0gY29udGV4dC5uZXdCb3VuZHMsXG4gICAgICAgIGZyYW1lID0gY29udGV4dC5mcmFtZTtcblxuICAgIGlmICghZnJhbWUpIHtcbiAgICAgIGZyYW1lID0gY29udGV4dC5mcmFtZSA9IHByZXZpZXdTdXBwb3J0LmFkZEZyYW1lKHNoYXBlLCBjYW52YXMuZ2V0RGVmYXVsdExheWVyKCkpO1xuXG4gICAgICBjYW52YXMuYWRkTWFya2VyKHNoYXBlLCBNQVJLRVJfUkVTSVpJTkcpO1xuICAgIH1cblxuICAgIGlmIChib3VuZHMud2lkdGggPiA1KSB7XG4gICAgICBzdmdBdHRyKGZyYW1lLCB7IHg6IGJvdW5kcy54LCB3aWR0aDogYm91bmRzLndpZHRoIH0pO1xuICAgIH1cblxuICAgIGlmIChib3VuZHMuaGVpZ2h0ID4gNSkge1xuICAgICAgc3ZnQXR0cihmcmFtZSwgeyB5OiBib3VuZHMueSwgaGVpZ2h0OiBib3VuZHMuaGVpZ2h0IH0pO1xuICAgIH1cblxuICAgIGlmIChjb250ZXh0LmNhbkV4ZWN1dGUpIHtcbiAgICAgIHN2Z0NsYXNzZXMoZnJhbWUpLnJlbW92ZShNQVJLRVJfUkVTSVpFX05PVF9PSyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN2Z0NsYXNzZXMoZnJhbWUpLmFkZChNQVJLRVJfUkVTSVpFX05PVF9PSyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSByZXNpemVyIGZyYW1lLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gY29udGV4dFxuICAgKi9cbiAgZnVuY3Rpb24gcmVtb3ZlRnJhbWUoY29udGV4dCkge1xuICAgIHZhciBzaGFwZSA9IGNvbnRleHQuc2hhcGUsXG4gICAgICAgIGZyYW1lID0gY29udGV4dC5mcmFtZTtcblxuICAgIGlmIChmcmFtZSkge1xuICAgICAgc3ZnUmVtb3ZlKGNvbnRleHQuZnJhbWUpO1xuICAgIH1cblxuICAgIGNhbnZhcy5yZW1vdmVNYXJrZXIoc2hhcGUsIE1BUktFUl9SRVNJWklORyk7XG4gIH1cblxuICAvLyBhZGQgYW5kIHVwZGF0ZSBwcmV2aWV3c1xuICBldmVudEJ1cy5vbigncmVzaXplLm1vdmUnLCBMT1dfUFJJT1JJVFksIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdXBkYXRlRnJhbWUoZXZlbnQuY29udGV4dCk7XG4gIH0pO1xuXG4gIC8vIHJlbW92ZSBwcmV2aWV3c1xuICBldmVudEJ1cy5vbigncmVzaXplLmNsZWFudXAnLCBmdW5jdGlvbihldmVudCkge1xuICAgIHJlbW92ZUZyYW1lKGV2ZW50LmNvbnRleHQpO1xuICB9KTtcblxufVxuXG5SZXNpemVQcmV2aWV3LiRpbmplY3QgPSBbXG4gICdldmVudEJ1cycsXG4gICdjYW52YXMnLFxuICAncHJldmlld1N1cHBvcnQnXG5dOyIsImltcG9ydCB7XG4gIGJpbmQsXG4gIGZvckVhY2hcbn0gZnJvbSAnbWluLWRhc2gnO1xuXG5pbXBvcnQge1xuICBhcHBlbmQgYXMgc3ZnQXBwZW5kLFxuICBhdHRyIGFzIHN2Z0F0dHIsXG4gIGNsYXNzZXMgYXMgc3ZnQ2xhc3NlcyxcbiAgY2xlYXIgYXMgc3ZnQ2xlYXIsXG4gIGNyZWF0ZSBhcyBzdmdDcmVhdGVcbn0gZnJvbSAndGlueS1zdmcnO1xuXG5pbXBvcnQge1xuICBldmVudCBhcyBkb21FdmVudFxufSBmcm9tICdtaW4tZG9tJztcblxuaW1wb3J0IHtcbiAgaXNQcmltYXJ5QnV0dG9uXG59IGZyb20gJy4uLy4uL3V0aWwvTW91c2UnO1xuXG5pbXBvcnQge1xuICB0cmFuc2Zvcm1cbn0gZnJvbSAnLi4vLi4vdXRpbC9TdmdUcmFuc2Zvcm1VdGlsJztcblxuaW1wb3J0IHsgZ2V0UmVmZXJlbmNlUG9pbnQgfSBmcm9tICcuL1Jlc2l6ZSc7XG5cbnZhciBIQU5ETEVfT0ZGU0VUID0gLTYsXG4gICAgSEFORExFX1NJWkUgPSA0LFxuICAgIEhBTkRMRV9ISVRfU0laRSA9IDIwO1xuXG52YXIgQ0xTX1JFU0laRVIgPSAnZGpzLXJlc2l6ZXInO1xuXG52YXIgZGlyZWN0aW9ucyA9IFsgJ24nLCAndycsICdzJywgJ2UnLCAnbncnLCAnbmUnLCAnc2UnLCAnc3cnIF07XG5cblxuLyoqXG4gKiBUaGlzIGNvbXBvbmVudCBpcyByZXNwb25zaWJsZSBmb3IgYWRkaW5nIHJlc2l6ZSBoYW5kbGVzLlxuICpcbiAqIEBwYXJhbSB7RXZlbnRCdXN9IGV2ZW50QnVzXG4gKiBAcGFyYW0ge0NhbnZhc30gY2FudmFzXG4gKiBAcGFyYW0ge1NlbGVjdGlvbn0gc2VsZWN0aW9uXG4gKiBAcGFyYW0ge1Jlc2l6ZX0gcmVzaXplXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFJlc2l6ZUhhbmRsZXMoZXZlbnRCdXMsIGNhbnZhcywgc2VsZWN0aW9uLCByZXNpemUpIHtcblxuICB0aGlzLl9yZXNpemUgPSByZXNpemU7XG4gIHRoaXMuX2NhbnZhcyA9IGNhbnZhcztcblxuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgZXZlbnRCdXMub24oJ3NlbGVjdGlvbi5jaGFuZ2VkJywgZnVuY3Rpb24oZSkge1xuICAgIHZhciBuZXdTZWxlY3Rpb24gPSBlLm5ld1NlbGVjdGlvbjtcblxuICAgIC8vIHJlbW92ZSBvbGQgc2VsZWN0aW9uIG1hcmtlcnNcbiAgICBzZWxmLnJlbW92ZVJlc2l6ZXJzKCk7XG5cbiAgICAvLyBhZGQgbmV3IHNlbGVjdGlvbiBtYXJrZXJzIE9OTFkgaWYgc2luZ2xlIHNlbGVjdGlvblxuICAgIGlmIChuZXdTZWxlY3Rpb24ubGVuZ3RoID09PSAxKSB7XG4gICAgICBmb3JFYWNoKG5ld1NlbGVjdGlvbiwgYmluZChzZWxmLmFkZFJlc2l6ZXIsIHNlbGYpKTtcbiAgICB9XG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKCdzaGFwZS5jaGFuZ2VkJywgZnVuY3Rpb24oZSkge1xuICAgIHZhciBzaGFwZSA9IGUuZWxlbWVudDtcblxuICAgIGlmIChzZWxlY3Rpb24uaXNTZWxlY3RlZChzaGFwZSkpIHtcbiAgICAgIHNlbGYucmVtb3ZlUmVzaXplcnMoKTtcblxuICAgICAgc2VsZi5hZGRSZXNpemVyKHNoYXBlKTtcbiAgICB9XG4gIH0pO1xufVxuXG5cblJlc2l6ZUhhbmRsZXMucHJvdG90eXBlLm1ha2VEcmFnZ2FibGUgPSBmdW5jdGlvbihlbGVtZW50LCBnZngsIGRpcmVjdGlvbikge1xuICB2YXIgcmVzaXplID0gdGhpcy5fcmVzaXplO1xuXG4gIGZ1bmN0aW9uIHN0YXJ0UmVzaXplKGV2ZW50KSB7XG5cbiAgICAvLyBvbmx5IHRyaWdnZXIgb24gbGVmdCBtb3VzZSBidXR0b25cbiAgICBpZiAoaXNQcmltYXJ5QnV0dG9uKGV2ZW50KSkge1xuICAgICAgcmVzaXplLmFjdGl2YXRlKGV2ZW50LCBlbGVtZW50LCBkaXJlY3Rpb24pO1xuICAgIH1cbiAgfVxuXG4gIGRvbUV2ZW50LmJpbmQoZ2Z4LCAnbW91c2Vkb3duJywgc3RhcnRSZXNpemUpO1xuICBkb21FdmVudC5iaW5kKGdmeCwgJ3RvdWNoc3RhcnQnLCBzdGFydFJlc2l6ZSk7XG59O1xuXG5cblJlc2l6ZUhhbmRsZXMucHJvdG90eXBlLl9jcmVhdGVSZXNpemVyID0gZnVuY3Rpb24oZWxlbWVudCwgeCwgeSwgZGlyZWN0aW9uKSB7XG4gIHZhciByZXNpemVyc1BhcmVudCA9IHRoaXMuX2dldFJlc2l6ZXJzUGFyZW50KCk7XG5cbiAgdmFyIG9mZnNldCA9IGdldEhhbmRsZU9mZnNldChkaXJlY3Rpb24pO1xuXG4gIHZhciBncm91cCA9IHN2Z0NyZWF0ZSgnZycpO1xuXG4gIHN2Z0NsYXNzZXMoZ3JvdXApLmFkZChDTFNfUkVTSVpFUik7XG4gIHN2Z0NsYXNzZXMoZ3JvdXApLmFkZChDTFNfUkVTSVpFUiArICctJyArIGVsZW1lbnQuaWQpO1xuICBzdmdDbGFzc2VzKGdyb3VwKS5hZGQoQ0xTX1JFU0laRVIgKyAnLScgKyBkaXJlY3Rpb24pO1xuXG4gIHN2Z0FwcGVuZChyZXNpemVyc1BhcmVudCwgZ3JvdXApO1xuXG4gIHZhciB2aXN1YWwgPSBzdmdDcmVhdGUoJ3JlY3QnKTtcblxuICBzdmdBdHRyKHZpc3VhbCwge1xuICAgIHg6IC1IQU5ETEVfU0laRSAvIDIgKyBvZmZzZXQueCxcbiAgICB5OiAtSEFORExFX1NJWkUgLyAyICsgb2Zmc2V0LnksXG4gICAgd2lkdGg6IEhBTkRMRV9TSVpFLFxuICAgIGhlaWdodDogSEFORExFX1NJWkVcbiAgfSk7XG5cbiAgc3ZnQ2xhc3Nlcyh2aXN1YWwpLmFkZChDTFNfUkVTSVpFUiArICctdmlzdWFsJyk7XG5cbiAgc3ZnQXBwZW5kKGdyb3VwLCB2aXN1YWwpO1xuXG4gIHZhciBoaXQgPSBzdmdDcmVhdGUoJ3JlY3QnKTtcblxuICBzdmdBdHRyKGhpdCwge1xuICAgIHg6IC1IQU5ETEVfSElUX1NJWkUgLyAyICsgb2Zmc2V0LngsXG4gICAgeTogLUhBTkRMRV9ISVRfU0laRSAvIDIgKyBvZmZzZXQueSxcbiAgICB3aWR0aDogSEFORExFX0hJVF9TSVpFLFxuICAgIGhlaWdodDogSEFORExFX0hJVF9TSVpFXG4gIH0pO1xuXG4gIHN2Z0NsYXNzZXMoaGl0KS5hZGQoQ0xTX1JFU0laRVIgKyAnLWhpdCcpO1xuXG4gIHN2Z0FwcGVuZChncm91cCwgaGl0KTtcblxuICB0cmFuc2Zvcm0oZ3JvdXAsIHgsIHkpO1xuXG4gIHJldHVybiBncm91cDtcbn07XG5cblJlc2l6ZUhhbmRsZXMucHJvdG90eXBlLmNyZWF0ZVJlc2l6ZXIgPSBmdW5jdGlvbihlbGVtZW50LCBkaXJlY3Rpb24pIHtcbiAgdmFyIHBvaW50ID0gZ2V0UmVmZXJlbmNlUG9pbnQoZWxlbWVudCwgZGlyZWN0aW9uKTtcblxuICB2YXIgcmVzaXplciA9IHRoaXMuX2NyZWF0ZVJlc2l6ZXIoZWxlbWVudCwgcG9pbnQueCwgcG9pbnQueSwgZGlyZWN0aW9uKTtcblxuICB0aGlzLm1ha2VEcmFnZ2FibGUoZWxlbWVudCwgcmVzaXplciwgZGlyZWN0aW9uKTtcbn07XG5cbi8vIHJlc2l6ZSBoYW5kbGVzIGltcGxlbWVudGF0aW9uIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLyoqXG4gKiBBZGQgcmVzaXplcnMgZm9yIGEgZ2l2ZW4gZWxlbWVudC5cbiAqXG4gKiBAcGFyYW0ge2Rqcy5tb2RlbC5TaGFwZX0gc2hhcGVcbiAqL1xuUmVzaXplSGFuZGxlcy5wcm90b3R5cGUuYWRkUmVzaXplciA9IGZ1bmN0aW9uKHNoYXBlKSB7XG4gIHZhciBzZWxmID0gdGhpcztcblxuICB2YXIgcmVzaXplID0gdGhpcy5fcmVzaXplO1xuXG4gIGlmICghcmVzaXplLmNhblJlc2l6ZSh7IHNoYXBlOiBzaGFwZSB9KSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGZvckVhY2goZGlyZWN0aW9ucywgZnVuY3Rpb24oZGlyZWN0aW9uKSB7XG4gICAgc2VsZi5jcmVhdGVSZXNpemVyKHNoYXBlLCBkaXJlY3Rpb24pO1xuICB9KTtcbn07XG5cbi8qKlxuICogUmVtb3ZlIGFsbCByZXNpemVyc1xuICovXG5SZXNpemVIYW5kbGVzLnByb3RvdHlwZS5yZW1vdmVSZXNpemVycyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgcmVzaXplcnNQYXJlbnQgPSB0aGlzLl9nZXRSZXNpemVyc1BhcmVudCgpO1xuXG4gIHN2Z0NsZWFyKHJlc2l6ZXJzUGFyZW50KTtcbn07XG5cblJlc2l6ZUhhbmRsZXMucHJvdG90eXBlLl9nZXRSZXNpemVyc1BhcmVudCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5fY2FudmFzLmdldExheWVyKCdyZXNpemVycycpO1xufTtcblxuUmVzaXplSGFuZGxlcy4kaW5qZWN0ID0gW1xuICAnZXZlbnRCdXMnLFxuICAnY2FudmFzJyxcbiAgJ3NlbGVjdGlvbicsXG4gICdyZXNpemUnXG5dO1xuXG4vLyBoZWxwZXJzIC8vLy8vLy8vLy9cblxuZnVuY3Rpb24gZ2V0SGFuZGxlT2Zmc2V0KGRpcmVjdGlvbikge1xuICB2YXIgb2Zmc2V0ID0ge1xuICAgIHg6IDAsXG4gICAgeTogMFxuICB9O1xuXG4gIGlmIChkaXJlY3Rpb24uaW5kZXhPZignZScpICE9PSAtMSkge1xuICAgIG9mZnNldC54ID0gLUhBTkRMRV9PRkZTRVQ7XG4gIH0gZWxzZSBpZiAoZGlyZWN0aW9uLmluZGV4T2YoJ3cnKSAhPT0gLTEpIHtcbiAgICBvZmZzZXQueCA9IEhBTkRMRV9PRkZTRVQ7XG4gIH1cblxuICBpZiAoZGlyZWN0aW9uLmluZGV4T2YoJ3MnKSAhPT0gLTEpIHtcbiAgICBvZmZzZXQueSA9IC1IQU5ETEVfT0ZGU0VUO1xuICB9IGVsc2UgaWYgKGRpcmVjdGlvbi5pbmRleE9mKCduJykgIT09IC0xKSB7XG4gICAgb2Zmc2V0LnkgPSBIQU5ETEVfT0ZGU0VUO1xuICB9XG5cbiAgcmV0dXJuIG9mZnNldDtcbn0iLCJpbXBvcnQgUnVsZXNNb2R1bGUgZnJvbSAnLi4vcnVsZXMnO1xuaW1wb3J0IERyYWdnaW5nTW9kdWxlIGZyb20gJy4uL2RyYWdnaW5nJztcbmltcG9ydCBQcmV2aWV3U3VwcG9ydE1vZHVsZSBmcm9tICcuLi9wcmV2aWV3LXN1cHBvcnQnO1xuXG5pbXBvcnQgUmVzaXplIGZyb20gJy4vUmVzaXplJztcbmltcG9ydCBSZXNpemVQcmV2aWV3IGZyb20gJy4vUmVzaXplUHJldmlldyc7XG5pbXBvcnQgUmVzaXplSGFuZGxlcyBmcm9tICcuL1Jlc2l6ZUhhbmRsZXMnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9fZGVwZW5kc19fOiBbXG4gICAgUnVsZXNNb2R1bGUsXG4gICAgRHJhZ2dpbmdNb2R1bGUsXG4gICAgUHJldmlld1N1cHBvcnRNb2R1bGVcbiAgXSxcbiAgX19pbml0X186IFtcbiAgICAncmVzaXplJyxcbiAgICAncmVzaXplUHJldmlldycsXG4gICAgJ3Jlc2l6ZUhhbmRsZXMnXG4gIF0sXG4gIHJlc2l6ZTogWyAndHlwZScsIFJlc2l6ZSBdLFxuICByZXNpemVQcmV2aWV3OiBbICd0eXBlJywgUmVzaXplUHJldmlldyBdLFxuICByZXNpemVIYW5kbGVzOiBbICd0eXBlJywgUmVzaXplSGFuZGxlcyBdXG59O1xuIiwiaW1wb3J0IHtcbiAgYXNzaWduXG59IGZyb20gJ21pbi1kYXNoJztcblxuaW1wb3J0IHtcbiAgZ2V0TGFiZWxcbn0gZnJvbSAnLi9MYWJlbFV0aWwnO1xuXG5pbXBvcnQgeyBpc0FueSB9IGZyb20gJy4uL21vZGVsaW5nL3V0aWwvTW9kZWxpbmdVdGlsJztcblxuaW1wb3J0IHtcbiAgZ2V0RXh0ZXJuYWxMYWJlbE1pZCxcbiAgaXNMYWJlbEV4dGVybmFsLFxuICBoYXNFeHRlcm5hbExhYmVsLFxuICBpc0xhYmVsXG59IGZyb20gJy4uLy4uL3V0aWwvTGFiZWxVdGlsJztcblxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBMYWJlbEVkaXRpbmdQcm92aWRlcihcbiAgICBldmVudEJ1cywgcG9zdGl0RmFjdG9yeSwgY2FudmFzLCBkaXJlY3RFZGl0aW5nLFxuICAgIG1vZGVsaW5nLCByZXNpemVIYW5kbGVzLCB0ZXh0UmVuZGVyZXIpIHtcblxuICB0aGlzLl9wb3N0aXRGYWN0b3J5ID0gcG9zdGl0RmFjdG9yeTtcbiAgdGhpcy5fY2FudmFzID0gY2FudmFzO1xuICB0aGlzLl9tb2RlbGluZyA9IG1vZGVsaW5nO1xuICB0aGlzLl90ZXh0UmVuZGVyZXIgPSB0ZXh0UmVuZGVyZXI7XG5cbiAgZGlyZWN0RWRpdGluZy5yZWdpc3RlclByb3ZpZGVyKHRoaXMpO1xuXG4gIC8vIGxpc3RlbiB0byBkYmxjbGljayBvbiBub24tcm9vdCBlbGVtZW50c1xuICBldmVudEJ1cy5vbignZWxlbWVudC5kYmxjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgYWN0aXZhdGVEaXJlY3RFZGl0KGV2ZW50LmVsZW1lbnQsIHRydWUpO1xuICB9KTtcblxuICAvLyBjb21wbGV0ZSBvbiBmb2xsb3d1cCBjYW52YXMgb3BlcmF0aW9uXG4gIGV2ZW50QnVzLm9uKFtcbiAgICAnYXV0b1BsYWNlLnN0YXJ0JyxcbiAgICAnY2FudmFzLnZpZXdib3guY2hhbmdpbmcnLFxuICAgICdkcmFnLmluaXQnLFxuICAgICdlbGVtZW50Lm1vdXNlZG93bicsXG4gICAgJ3BvcHVwTWVudS5vcGVuJ1xuICBdLCBmdW5jdGlvbihldmVudCkge1xuXG4gICAgaWYgKGRpcmVjdEVkaXRpbmcuaXNBY3RpdmUoKSkge1xuICAgICAgZGlyZWN0RWRpdGluZy5jb21wbGV0ZSgpO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gY2FuY2VsIG9uIGNvbW1hbmQgc3RhY2sgY2hhbmdlc1xuICBldmVudEJ1cy5vbihbICdjb21tYW5kU3RhY2suY2hhbmdlZCcgXSwgZnVuY3Rpb24oZSkge1xuICAgIGlmIChkaXJlY3RFZGl0aW5nLmlzQWN0aXZlKCkpIHtcbiAgICAgIGRpcmVjdEVkaXRpbmcuY2FuY2VsKCk7XG4gICAgfVxuICB9KTtcblxuXG4gIGV2ZW50QnVzLm9uKCdkaXJlY3RFZGl0aW5nLmFjdGl2YXRlJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICByZXNpemVIYW5kbGVzLnJlbW92ZVJlc2l6ZXJzKCk7XG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKCdjcmVhdGUuZW5kJywgNTAwLCBmdW5jdGlvbihldmVudCkge1xuXG4gICAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0LFxuICAgICAgICBlbGVtZW50ID0gY29udGV4dC5zaGFwZSxcbiAgICAgICAgY2FuRXhlY3V0ZSA9IGV2ZW50LmNvbnRleHQuY2FuRXhlY3V0ZSxcbiAgICAgICAgaXNUb3VjaCA9IGV2ZW50LmlzVG91Y2g7XG5cbiAgICAvLyBUT0RPKG5pa2t1KTogd2UgbmVlZCB0byBmaW5kIGEgd2F5IHRvIHN1cHBvcnQgdGhlXG4gICAgLy8gZGlyZWN0IGVkaXRpbmcgb24gbW9iaWxlIGRldmljZXM7IHJpZ2h0IG5vdyB0aGlzIHdpbGxcbiAgICAvLyBicmVhayBmb3IgZGVzd29ya2Zsb3dlZGl0aW5nIG9uIG1vYmlsZSBkZXZpY2VzXG4gICAgLy8gYXMgaXQgYnJlYWtzIHRoZSB1c2VyIGludGVyYWN0aW9uIHdvcmtmbG93XG5cbiAgICAvLyBUT0RPKG5yZSk6IHdlIHNob3VsZCB0ZW1wb3JhcmlseSBmb2N1cyB0aGUgZWRpdGVkIGVsZW1lbnRcbiAgICAvLyBoZXJlIGFuZCByZWxlYXNlIHRoZSBmb2N1c2VkIHZpZXdwb3J0IGFmdGVyIHRoZSBkaXJlY3QgZWRpdFxuICAgIC8vIG9wZXJhdGlvbiBpcyBmaW5pc2hlZFxuICAgIGlmIChpc1RvdWNoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCFjYW5FeGVjdXRlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGNvbnRleHQuaGludHMgJiYgY29udGV4dC5oaW50cy5jcmVhdGVFbGVtZW50c0JlaGF2aW9yID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGFjdGl2YXRlRGlyZWN0RWRpdChlbGVtZW50KTtcbiAgfSk7XG5cbiAgZXZlbnRCdXMub24oJ2F1dG9QbGFjZS5lbmQnLCA1MDAsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgYWN0aXZhdGVEaXJlY3RFZGl0KGV2ZW50LnNoYXBlKTtcbiAgfSk7XG5cblxuICBmdW5jdGlvbiBhY3RpdmF0ZURpcmVjdEVkaXQoZWxlbWVudCwgZm9yY2UpIHtcbiAgICBpZiAoZm9yY2UgfHxcbiAgICAgICAgaXNBbnkoZWxlbWVudCwgWyAncG9zdGl0OlBvc3RpdCcsICdwb3N0aXQ6R3JvdXAnLCAncG9zdGl0OlRleHRCb3gnIF0pKSB7XG5cbiAgICAgIGRpcmVjdEVkaXRpbmcuYWN0aXZhdGUoZWxlbWVudCk7XG4gICAgfVxuICB9XG5cbn1cblxuTGFiZWxFZGl0aW5nUHJvdmlkZXIuJGluamVjdCA9IFtcbiAgJ2V2ZW50QnVzJyxcbiAgJ3Bvc3RpdEZhY3RvcnknLFxuICAnY2FudmFzJyxcbiAgJ2RpcmVjdEVkaXRpbmcnLFxuICAnbW9kZWxpbmcnLFxuICAncmVzaXplSGFuZGxlcycsXG4gICd0ZXh0UmVuZGVyZXInXG5dO1xuXG5cbi8qKlxuICogQWN0aXZhdGUgZGlyZWN0IGVkaXRpbmcgZm9yIGFjdGl2aXRpZXMgYW5kIHRleHQgYW5ub3RhdGlvbnMuXG4gKlxuICogQHBhcmFtICB7ZGpzLm1vZGVsLkJhc2V9IGVsZW1lbnRcbiAqXG4gKiBAcmV0dXJuIHtPYmplY3R9IGFuIG9iamVjdCB3aXRoIHByb3BlcnRpZXMgYm91bmRzIChwb3NpdGlvbiBhbmQgc2l6ZSksIHRleHQgYW5kIG9wdGlvbnNcbiAqL1xuTGFiZWxFZGl0aW5nUHJvdmlkZXIucHJvdG90eXBlLmFjdGl2YXRlID0gZnVuY3Rpb24oZWxlbWVudCkge1xuXG4gIC8vIHRleHRcbiAgdmFyIHRleHQgPSBnZXRMYWJlbChlbGVtZW50KTtcblxuICBpZiAodGV4dCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIGNvbnRleHQgPSB7XG4gICAgdGV4dDogdGV4dFxuICB9O1xuXG4gIC8vIGJvdW5kc1xuICB2YXIgYm91bmRzID0gdGhpcy5nZXRFZGl0aW5nQkJveChlbGVtZW50KTtcblxuICBhc3NpZ24oY29udGV4dCwgYm91bmRzKTtcblxuICB2YXIgb3B0aW9ucyA9IHt9O1xuXG4gIC8vIHBvc3RpdHMgYW5kIHRleHQgYm94ZXNcbiAgaWYgKGlzQW55KGVsZW1lbnQsIFsncG9zdGl0OlBvc3RpdCcsICdwb3N0aXQ6VGV4dEJveCddKSkge1xuICAgIGFzc2lnbihvcHRpb25zLCB7XG4gICAgICBjZW50ZXJWZXJ0aWNhbGx5OiB0cnVlXG4gICAgfSk7XG4gIH1cblxuICAvLyBleHRlcm5hbCBsYWJlbHNcbiAgaWYgKGlzTGFiZWxFeHRlcm5hbChlbGVtZW50KSkge1xuICAgIGFzc2lnbihvcHRpb25zLCB7XG4gICAgICBhdXRvUmVzaXplOiB0cnVlXG4gICAgfSk7XG4gIH1cblxuXG4gIGFzc2lnbihjb250ZXh0LCB7XG4gICAgb3B0aW9uczogb3B0aW9uc1xuICB9KTtcblxuICByZXR1cm4gY29udGV4dDtcbn07XG5cblxuLyoqXG4gKiBHZXQgdGhlIGVkaXRpbmcgYm91bmRpbmcgYm94IGJhc2VkIG9uIHRoZSBlbGVtZW50J3Mgc2l6ZSBhbmQgcG9zaXRpb25cbiAqXG4gKiBAcGFyYW0gIHtkanMubW9kZWwuQmFzZX0gZWxlbWVudFxuICpcbiAqIEByZXR1cm4ge09iamVjdH0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgaW5mb3JtYXRpb24gYWJvdXQgcG9zaXRpb25cbiAqICAgICAgICAgICAgICAgICAgYW5kIHNpemUgKGZpeGVkIG9yIG1pbmltdW0gYW5kL29yIG1heGltdW0pXG4gKi9cbkxhYmVsRWRpdGluZ1Byb3ZpZGVyLnByb3RvdHlwZS5nZXRFZGl0aW5nQkJveCA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgdmFyIGNhbnZhcyA9IHRoaXMuX2NhbnZhcztcblxuICB2YXIgdGFyZ2V0ID0gZWxlbWVudC5sYWJlbCB8fCBlbGVtZW50O1xuXG4gIHZhciBiYm94ID0gY2FudmFzLmdldEFic29sdXRlQkJveCh0YXJnZXQpO1xuXG4gIHZhciBtaWQgPSB7XG4gICAgeDogYmJveC54ICsgYmJveC53aWR0aCAvIDIsXG4gICAgeTogYmJveC55ICsgYmJveC5oZWlnaHQgLyAyXG4gIH07XG5cbiAgLy8gZGVmYXVsdCBwb3NpdGlvblxuICB2YXIgYm91bmRzID0geyB4OiBiYm94LngsIHk6IGJib3gueSB9O1xuXG4gIHZhciB6b29tID0gY2FudmFzLnpvb20oKTtcblxuICB2YXIgZGVmYXVsdFN0eWxlID0gdGhpcy5fdGV4dFJlbmRlcmVyLmdldERlZmF1bHRTdHlsZSgpLFxuICAgICAgZXh0ZXJuYWxTdHlsZSA9IHRoaXMuX3RleHRSZW5kZXJlci5nZXRFeHRlcm5hbFN0eWxlKCk7XG5cbiAgLy8gdGFrZSB6b29tIGludG8gYWNjb3VudFxuICB2YXIgZXh0ZXJuYWxGb250U2l6ZSA9IGV4dGVybmFsU3R5bGUuZm9udFNpemUgKiB6b29tLFxuICAgICAgZXh0ZXJuYWxMaW5lSGVpZ2h0ID0gZXh0ZXJuYWxTdHlsZS5saW5lSGVpZ2h0LFxuICAgICAgZGVmYXVsdEZvbnRTaXplID0gZGVmYXVsdFN0eWxlLmZvbnRTaXplICogem9vbSxcbiAgICAgIGRlZmF1bHRMaW5lSGVpZ2h0ID0gZGVmYXVsdFN0eWxlLmxpbmVIZWlnaHQ7XG5cbiAgdmFyIHN0eWxlID0ge1xuICAgIGZvbnRGYW1pbHk6IHRoaXMuX3RleHRSZW5kZXJlci5nZXREZWZhdWx0U3R5bGUoKS5mb250RmFtaWx5LFxuICAgIGZvbnRXZWlnaHQ6IHRoaXMuX3RleHRSZW5kZXJlci5nZXREZWZhdWx0U3R5bGUoKS5mb250V2VpZ2h0XG4gIH07XG5cblxuICBpZiAoaXNBbnkoZWxlbWVudCwgWyAncG9zdGl0OlBvc3RpdCcsICdwb3N0aXQ6VGV4dEJveCcsICdwb3N0aXQ6R3JvdXAnXSkpIHtcblxuICAgIGFzc2lnbihib3VuZHMsIHtcbiAgICAgIHdpZHRoOiBiYm94LndpZHRoLFxuICAgICAgaGVpZ2h0OiBiYm94LmhlaWdodFxuICAgIH0pO1xuXG4gICAgYXNzaWduKHN0eWxlLCB7XG4gICAgICBmb250U2l6ZTogZGVmYXVsdEZvbnRTaXplICsgJ3B4JyxcbiAgICAgIGxpbmVIZWlnaHQ6IGRlZmF1bHRMaW5lSGVpZ2h0LFxuICAgICAgcGFkZGluZ1RvcDogKDcgKiB6b29tKSArICdweCcsXG4gICAgICBwYWRkaW5nQm90dG9tOiAoNyAqIHpvb20pICsgJ3B4JyxcbiAgICAgIHBhZGRpbmdMZWZ0OiAoNSAqIHpvb20pICsgJ3B4JyxcbiAgICAgIHBhZGRpbmdSaWdodDogKDUgKiB6b29tKSArICdweCdcbiAgICB9KTtcbiAgfVxuXG4gIHZhciB3aWR0aCA9IDkwICogem9vbSxcbiAgICAgIHBhZGRpbmdUb3AgPSA3ICogem9vbSxcbiAgICAgIHBhZGRpbmdCb3R0b20gPSA0ICogem9vbTtcblxuICAvLyBleHRlcm5hbCBsYWJlbHMgZm9yIGV2ZW50cywgZGF0YSBlbGVtZW50cywgZ2F0ZXdheXMsIGdyb3VwcyBhbmQgY29ubmVjdGlvbnNcbiAgaWYgKHRhcmdldC5sYWJlbFRhcmdldCkge1xuICAgIGFzc2lnbihib3VuZHMsIHtcbiAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgIGhlaWdodDogYmJveC5oZWlnaHQgKyBwYWRkaW5nVG9wICsgcGFkZGluZ0JvdHRvbSxcbiAgICAgIHg6IG1pZC54IC0gd2lkdGggLyAyLFxuICAgICAgeTogYmJveC55IC0gcGFkZGluZ1RvcFxuICAgIH0pO1xuXG4gICAgYXNzaWduKHN0eWxlLCB7XG4gICAgICBmb250U2l6ZTogZXh0ZXJuYWxGb250U2l6ZSArICdweCcsXG4gICAgICBsaW5lSGVpZ2h0OiBleHRlcm5hbExpbmVIZWlnaHQsXG4gICAgICBwYWRkaW5nVG9wOiBwYWRkaW5nVG9wICsgJ3B4JyxcbiAgICAgIHBhZGRpbmdCb3R0b206IHBhZGRpbmdCb3R0b20gKyAncHgnXG4gICAgfSk7XG4gIH1cblxuICAvLyBleHRlcm5hbCBsYWJlbCBub3QgeWV0IGNyZWF0ZWRcbiAgaWYgKGlzTGFiZWxFeHRlcm5hbCh0YXJnZXQpXG4gICAgICAmJiAhaGFzRXh0ZXJuYWxMYWJlbCh0YXJnZXQpXG4gICAgICAmJiAhaXNMYWJlbCh0YXJnZXQpKSB7XG5cbiAgICB2YXIgZXh0ZXJuYWxMYWJlbE1pZCA9IGdldEV4dGVybmFsTGFiZWxNaWQoZWxlbWVudCk7XG5cbiAgICB2YXIgYWJzb2x1dGVCQm94ID0gY2FudmFzLmdldEFic29sdXRlQkJveCh7XG4gICAgICB4OiBleHRlcm5hbExhYmVsTWlkLngsXG4gICAgICB5OiBleHRlcm5hbExhYmVsTWlkLnksXG4gICAgICB3aWR0aDogMCxcbiAgICAgIGhlaWdodDogMFxuICAgIH0pO1xuXG4gICAgdmFyIGhlaWdodCA9IGV4dGVybmFsRm9udFNpemUgKyBwYWRkaW5nVG9wICsgcGFkZGluZ0JvdHRvbTtcblxuICAgIGFzc2lnbihib3VuZHMsIHtcbiAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgICAgeDogYWJzb2x1dGVCQm94LnggLSB3aWR0aCAvIDIsXG4gICAgICB5OiBhYnNvbHV0ZUJCb3gueSAtIGhlaWdodCAvIDJcbiAgICB9KTtcblxuICAgIGFzc2lnbihzdHlsZSwge1xuICAgICAgZm9udFNpemU6IGV4dGVybmFsRm9udFNpemUgKyAncHgnLFxuICAgICAgbGluZUhlaWdodDogZXh0ZXJuYWxMaW5lSGVpZ2h0LFxuICAgICAgcGFkZGluZ1RvcDogcGFkZGluZ1RvcCArICdweCcsXG4gICAgICBwYWRkaW5nQm90dG9tOiBwYWRkaW5nQm90dG9tICsgJ3B4J1xuICAgIH0pO1xuICB9XG5cblxuICAvLyB0cmFuc3BhcmVudCBlZGl0IGJveFxuICBpZiAoaXNBbnkoZWxlbWVudCwgWyAncG9zdGl0OlBvc3RpdCcgXSkpIHtcbiAgICBhc3NpZ24oc3R5bGUsIHtcbiAgICAgIGJhY2tncm91bmRDb2xvcjogJ3RyYW5zcGFyZW50J1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIHsgYm91bmRzOiBib3VuZHMsIHN0eWxlOiBzdHlsZSB9O1xufTtcblxuXG5MYWJlbEVkaXRpbmdQcm92aWRlci5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24oZWxlbWVudCwgbmV3TGFiZWwpIHtcblxuICBpZiAoaXNFbXB0eVRleHQobmV3TGFiZWwpKSB7XG4gICAgbmV3TGFiZWwgPSBudWxsO1xuICB9XG5cbiAgdGhpcy5fbW9kZWxpbmcudXBkYXRlTGFiZWwoZWxlbWVudCwgbmV3TGFiZWwpO1xufTtcblxuXG5cbi8vIGhlbHBlcnMgLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5mdW5jdGlvbiBpc0VtcHR5VGV4dChsYWJlbCkge1xuICByZXR1cm4gIWxhYmVsIHx8ICFsYWJlbC50cmltKCk7XG59IiwiaW1wb3J0IHtcbiAgcmVtb3ZlIGFzIHN2Z1JlbW92ZVxufSBmcm9tICd0aW55LXN2Zyc7XG5cbmltcG9ydCB7XG4gIGlzXG59IGZyb20gJy4uLy4uL3V0aWwvTW9kZWxVdGlsJztcblxudmFyIE1BUktFUl9ISURERU4gPSAnZGpzLWVsZW1lbnQtaGlkZGVuJyxcbiAgICBNQVJLRVJfTEFCRUxfSElEREVOID0gJ2Rqcy1sYWJlbC1oaWRkZW4nO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIExhYmVsRWRpdGluZ1ByZXZpZXcoXG4gICAgZXZlbnRCdXMsIGNhbnZhcywgZWxlbWVudFJlZ2lzdHJ5LFxuICAgIHBhdGhNYXApIHtcblxuXG4gIHZhciBlbGVtZW50LCBnZng7XG5cbiAgZXZlbnRCdXMub24oJ2RpcmVjdEVkaXRpbmcuYWN0aXZhdGUnLCBmdW5jdGlvbihjb250ZXh0KSB7XG4gICAgdmFyIGFjdGl2ZVByb3ZpZGVyID0gY29udGV4dC5hY3RpdmU7XG5cbiAgICBlbGVtZW50ID0gYWN0aXZlUHJvdmlkZXIuZWxlbWVudC5sYWJlbCB8fCBhY3RpdmVQcm92aWRlci5lbGVtZW50O1xuXG5cbiAgICBpZiAoZWxlbWVudC5sYWJlbFRhcmdldCkge1xuICAgICAgY2FudmFzLmFkZE1hcmtlcihlbGVtZW50LCBNQVJLRVJfSElEREVOKTtcbiAgICB9IGVsc2UgaWYgKGlzKGVsZW1lbnQsICdwb3N0aXQ6UG9zdGl0JykpIHtcbiAgICAgIGNhbnZhcy5hZGRNYXJrZXIoZWxlbWVudCwgTUFSS0VSX0xBQkVMX0hJRERFTik7XG4gICAgfVxuICB9KTtcblxuXG4gIGV2ZW50QnVzLm9uKFsgJ2RpcmVjdEVkaXRpbmcuY29tcGxldGUnLCAnZGlyZWN0RWRpdGluZy5jYW5jZWwnIF0sIGZ1bmN0aW9uKGNvbnRleHQpIHtcbiAgICB2YXIgYWN0aXZlUHJvdmlkZXIgPSBjb250ZXh0LmFjdGl2ZTtcblxuICAgIGlmIChhY3RpdmVQcm92aWRlcikge1xuICAgICAgY2FudmFzLnJlbW92ZU1hcmtlcihhY3RpdmVQcm92aWRlci5lbGVtZW50LmxhYmVsIHx8IGFjdGl2ZVByb3ZpZGVyLmVsZW1lbnQsIE1BUktFUl9ISURERU4pO1xuICAgICAgY2FudmFzLnJlbW92ZU1hcmtlcihlbGVtZW50LCBNQVJLRVJfTEFCRUxfSElEREVOKTtcbiAgICB9XG5cbiAgICBlbGVtZW50ID0gdW5kZWZpbmVkO1xuXG4gICAgaWYgKGdmeCkge1xuICAgICAgc3ZnUmVtb3ZlKGdmeCk7XG5cbiAgICAgIGdmeCA9IHVuZGVmaW5lZDtcbiAgICB9XG4gIH0pO1xufVxuXG5MYWJlbEVkaXRpbmdQcmV2aWV3LiRpbmplY3QgPSBbXG4gICdldmVudEJ1cycsXG4gICdjYW52YXMnLFxuICAnZWxlbWVudFJlZ2lzdHJ5JyxcbiAgJ3BhdGhNYXAnXG5dOyIsImltcG9ydCBDaGFuZ2VTdXBwb3J0TW9kdWxlIGZyb20gJ2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2NoYW5nZS1zdXBwb3J0JztcbmltcG9ydCBSZXNpemVNb2R1bGUgZnJvbSAnZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvcmVzaXplJztcbmltcG9ydCBEaXJlY3RFZGl0aW5nTW9kdWxlIGZyb20gJ2RpYWdyYW0tanMtZGlyZWN0LWVkaXRpbmcnO1xuXG5pbXBvcnQgTGFiZWxFZGl0aW5nUHJvdmlkZXIgZnJvbSAnLi9MYWJlbEVkaXRpbmdQcm92aWRlcic7XG5pbXBvcnQgTGFiZWxFZGl0aW5nUHJldmlldyBmcm9tICcuL0xhYmVsRWRpdGluZ1ByZXZpZXcnO1xuXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgX19kZXBlbmRzX186IFtcbiAgICBDaGFuZ2VTdXBwb3J0TW9kdWxlLFxuICAgIFJlc2l6ZU1vZHVsZSxcbiAgICBEaXJlY3RFZGl0aW5nTW9kdWxlXG4gIF0sXG4gIF9faW5pdF9fOiBbXG4gICAgJ2xhYmVsRWRpdGluZ1Byb3ZpZGVyJyxcbiAgICAnbGFiZWxFZGl0aW5nUHJldmlldydcbiAgXSxcbiAgbGFiZWxFZGl0aW5nUHJvdmlkZXI6IFsgJ3R5cGUnLCBMYWJlbEVkaXRpbmdQcm92aWRlciBdLFxuICBsYWJlbEVkaXRpbmdQcmV2aWV3OiBbICd0eXBlJywgTGFiZWxFZGl0aW5nUHJldmlldyBdXG59O1xuIiwiaW1wb3J0IHtcbiAgZm9yRWFjaCxcbiAgaXNGdW5jdGlvbixcbiAgaXNBcnJheSxcbiAgaXNOdW1iZXIsXG4gIGlzT2JqZWN0XG59IGZyb20gJ21pbi1kYXNoJztcblxuXG52YXIgREVGQVVMVF9QUklPUklUWSA9IDEwMDA7XG5cbi8qKlxuICogQSB1dGlsaXR5IHRoYXQgY2FuIGJlIHVzZWQgdG8gcGx1Zy1pbiBpbnRvIHRoZSBjb21tYW5kIGV4ZWN1dGlvbiBmb3JcbiAqIGV4dGVuc2lvbiBhbmQvb3IgdmFsaWRhdGlvbi5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50QnVzfSBldmVudEJ1c1xuICpcbiAqIEBleGFtcGxlXG4gKlxuICogaW1wb3J0IGluaGVyaXRzIGZyb20gJ2luaGVyaXRzJztcbiAqXG4gKiBpbXBvcnQgQ29tbWFuZEludGVyY2VwdG9yIGZyb20gJ2RpYWdyYW0tanMvbGliL2NvbW1hbmQvQ29tbWFuZEludGVyY2VwdG9yJztcbiAqXG4gKiBmdW5jdGlvbiBDb21tYW5kTG9nZ2VyKGV2ZW50QnVzKSB7XG4gKiAgIENvbW1hbmRJbnRlcmNlcHRvci5jYWxsKHRoaXMsIGV2ZW50QnVzKTtcbiAqXG4gKiAgIHRoaXMucHJlRXhlY3V0ZShmdW5jdGlvbihldmVudCkge1xuICogICAgIGNvbnNvbGUubG9nKCdjb21tYW5kIHByZS1leGVjdXRlJywgZXZlbnQpO1xuICogICB9KTtcbiAqIH1cbiAqXG4gKiBpbmhlcml0cyhDb21tYW5kTG9nZ2VyLCBDb21tYW5kSW50ZXJjZXB0b3IpO1xuICpcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ29tbWFuZEludGVyY2VwdG9yKGV2ZW50QnVzKSB7XG4gIHRoaXMuX2V2ZW50QnVzID0gZXZlbnRCdXM7XG59XG5cbkNvbW1hbmRJbnRlcmNlcHRvci4kaW5qZWN0ID0gWyAnZXZlbnRCdXMnIF07XG5cbmZ1bmN0aW9uIHVud3JhcEV2ZW50KGZuLCB0aGF0KSB7XG4gIHJldHVybiBmdW5jdGlvbihldmVudCkge1xuICAgIHJldHVybiBmbi5jYWxsKHRoYXQgfHwgbnVsbCwgZXZlbnQuY29udGV4dCwgZXZlbnQuY29tbWFuZCwgZXZlbnQpO1xuICB9O1xufVxuXG4vKipcbiAqIFJlZ2lzdGVyIGFuIGludGVyY2VwdG9yIGZvciBhIGNvbW1hbmQgZXhlY3V0aW9uXG4gKlxuICogQHBhcmFtIHtzdHJpbmd8QXJyYXk8c3RyaW5nPn0gW2V2ZW50c10gbGlzdCBvZiBjb21tYW5kcyB0byByZWdpc3RlciBvblxuICogQHBhcmFtIHtzdHJpbmd9IFtob29rXSBjb21tYW5kIGhvb2ssIGkuZS4gcHJlRXhlY3V0ZSwgZXhlY3V0ZWQgdG8gbGlzdGVuIG9uXG4gKiBAcGFyYW0ge251bWJlcn0gW3ByaW9yaXR5XSB0aGUgcHJpb3JpdHkgb24gd2hpY2ggdG8gaG9vayBpbnRvIHRoZSBleGVjdXRpb25cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGhhbmRsZXJGbiBpbnRlcmNlcHRvciB0byBiZSBpbnZva2VkIHdpdGggKGV2ZW50KVxuICogQHBhcmFtIHtib29sZWFufSB1bndyYXAgaWYgdHJ1ZSwgdW53cmFwIHRoZSBldmVudCBhbmQgcGFzcyAoY29udGV4dCwgY29tbWFuZCwgZXZlbnQpIHRvIHRoZVxuICogICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RlbmVyIGluc3RlYWRcbiAqIEBwYXJhbSB7T2JqZWN0fSBbdGhhdF0gUGFzcyBjb250ZXh0IChgdGhpc2ApIHRvIHRoZSBoYW5kbGVyIGZ1bmN0aW9uXG4gKi9cbkNvbW1hbmRJbnRlcmNlcHRvci5wcm90b3R5cGUub24gPSBmdW5jdGlvbihldmVudHMsIGhvb2ssIHByaW9yaXR5LCBoYW5kbGVyRm4sIHVud3JhcCwgdGhhdCkge1xuXG4gIGlmIChpc0Z1bmN0aW9uKGhvb2spIHx8IGlzTnVtYmVyKGhvb2spKSB7XG4gICAgdGhhdCA9IHVud3JhcDtcbiAgICB1bndyYXAgPSBoYW5kbGVyRm47XG4gICAgaGFuZGxlckZuID0gcHJpb3JpdHk7XG4gICAgcHJpb3JpdHkgPSBob29rO1xuICAgIGhvb2sgPSBudWxsO1xuICB9XG5cbiAgaWYgKGlzRnVuY3Rpb24ocHJpb3JpdHkpKSB7XG4gICAgdGhhdCA9IHVud3JhcDtcbiAgICB1bndyYXAgPSBoYW5kbGVyRm47XG4gICAgaGFuZGxlckZuID0gcHJpb3JpdHk7XG4gICAgcHJpb3JpdHkgPSBERUZBVUxUX1BSSU9SSVRZO1xuICB9XG5cbiAgaWYgKGlzT2JqZWN0KHVud3JhcCkpIHtcbiAgICB0aGF0ID0gdW53cmFwO1xuICAgIHVud3JhcCA9IGZhbHNlO1xuICB9XG5cbiAgaWYgKCFpc0Z1bmN0aW9uKGhhbmRsZXJGbikpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2hhbmRsZXJGbiBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcbiAgfVxuXG4gIGlmICghaXNBcnJheShldmVudHMpKSB7XG4gICAgZXZlbnRzID0gWyBldmVudHMgXTtcbiAgfVxuXG4gIHZhciBldmVudEJ1cyA9IHRoaXMuX2V2ZW50QnVzO1xuXG4gIGZvckVhY2goZXZlbnRzLCBmdW5jdGlvbihldmVudCkge1xuXG4gICAgLy8gY29uY2F0IGNvbW1hbmRTdGFjayguZXZlbnQpPyguaG9vayk/XG4gICAgdmFyIGZ1bGxFdmVudCA9IFsgJ2NvbW1hbmRTdGFjaycsIGV2ZW50LCBob29rIF0uZmlsdGVyKGZ1bmN0aW9uKGUpIHsgcmV0dXJuIGU7IH0pLmpvaW4oJy4nKTtcblxuICAgIGV2ZW50QnVzLm9uKGZ1bGxFdmVudCwgcHJpb3JpdHksIHVud3JhcCA/IHVud3JhcEV2ZW50KGhhbmRsZXJGbiwgdGhhdCkgOiBoYW5kbGVyRm4sIHRoYXQpO1xuICB9KTtcbn07XG5cblxudmFyIGhvb2tzID0gW1xuICAnY2FuRXhlY3V0ZScsXG4gICdwcmVFeGVjdXRlJyxcbiAgJ3ByZUV4ZWN1dGVkJyxcbiAgJ2V4ZWN1dGUnLFxuICAnZXhlY3V0ZWQnLFxuICAncG9zdEV4ZWN1dGUnLFxuICAncG9zdEV4ZWN1dGVkJyxcbiAgJ3JldmVydCcsXG4gICdyZXZlcnRlZCdcbl07XG5cbi8qXG4gKiBJbnN0YWxsIGhvb2sgc2hvcnRjdXRzXG4gKlxuICogVGhpcyB3aWxsIGdlbmVyYXRlIHRoZSBDb21tYW5kSW50ZXJjZXB0b3IjKHByZUV4ZWN1dGV8Li4ufHJldmVydGVkKSBtZXRob2RzXG4gKiB3aGljaCB3aWxsIGluIHRlcm0gZm9yd2FyZCB0byBDb21tYW5kSW50ZXJjZXB0b3Ijb24uXG4gKi9cbmZvckVhY2goaG9va3MsIGZ1bmN0aW9uKGhvb2spIHtcblxuICAvKipcbiAgICoge2NhbkV4ZWN1dGV8cHJlRXhlY3V0ZXxwcmVFeGVjdXRlZHxleGVjdXRlfGV4ZWN1dGVkfHBvc3RFeGVjdXRlfHBvc3RFeGVjdXRlZHxyZXZlcnR8cmV2ZXJ0ZWR9XG4gICAqXG4gICAqIEEgbmFtZWQgaG9vayBmb3IgcGx1Z2dpbmcgaW50byB0aGUgY29tbWFuZCBleGVjdXRpb25cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd8QXJyYXk8c3RyaW5nPn0gW2V2ZW50c10gbGlzdCBvZiBjb21tYW5kcyB0byByZWdpc3RlciBvblxuICAgKiBAcGFyYW0ge251bWJlcn0gW3ByaW9yaXR5XSB0aGUgcHJpb3JpdHkgb24gd2hpY2ggdG8gaG9vayBpbnRvIHRoZSBleGVjdXRpb25cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaGFuZGxlckZuIGludGVyY2VwdG9yIHRvIGJlIGludm9rZWQgd2l0aCAoZXZlbnQpXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Vud3JhcD1mYWxzZV0gaWYgdHJ1ZSwgdW53cmFwIHRoZSBldmVudCBhbmQgcGFzcyAoY29udGV4dCwgY29tbWFuZCwgZXZlbnQpIHRvIHRoZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXIgaW5zdGVhZFxuICAgKiBAcGFyYW0ge09iamVjdH0gW3RoYXRdIFBhc3MgY29udGV4dCAoYHRoaXNgKSB0byB0aGUgaGFuZGxlciBmdW5jdGlvblxuICAgKi9cbiAgQ29tbWFuZEludGVyY2VwdG9yLnByb3RvdHlwZVtob29rXSA9IGZ1bmN0aW9uKGV2ZW50cywgcHJpb3JpdHksIGhhbmRsZXJGbiwgdW53cmFwLCB0aGF0KSB7XG5cbiAgICBpZiAoaXNGdW5jdGlvbihldmVudHMpIHx8IGlzTnVtYmVyKGV2ZW50cykpIHtcbiAgICAgIHRoYXQgPSB1bndyYXA7XG4gICAgICB1bndyYXAgPSBoYW5kbGVyRm47XG4gICAgICBoYW5kbGVyRm4gPSBwcmlvcml0eTtcbiAgICAgIHByaW9yaXR5ID0gZXZlbnRzO1xuICAgICAgZXZlbnRzID0gbnVsbDtcbiAgICB9XG5cbiAgICB0aGlzLm9uKGV2ZW50cywgaG9vaywgcHJpb3JpdHksIGhhbmRsZXJGbiwgdW53cmFwLCB0aGF0KTtcbiAgfTtcbn0pO1xuIiwiaW1wb3J0IGluaGVyaXRzIGZyb20gJ2luaGVyaXRzJztcblxuaW1wb3J0IHtcbiAgZ2V0T3JpZW50YXRpb24sXG4gIGdldE1pZCxcbiAgYXNUUkJMXG59IGZyb20gJ2RpYWdyYW0tanMvbGliL2xheW91dC9MYXlvdXRVdGlsJztcblxuaW1wb3J0IHtcbiAgc3Vic3RyYWN0XG59IGZyb20gJ2RpYWdyYW0tanMvbGliL3V0aWwvTWF0aCc7XG5cbmltcG9ydCB7XG4gIGhhc0V4dGVybmFsTGFiZWxcbn0gZnJvbSAnLi4vLi4vLi4vdXRpbC9MYWJlbFV0aWwnO1xuXG5pbXBvcnQgQ29tbWFuZEludGVyY2VwdG9yIGZyb20gJ2RpYWdyYW0tanMvbGliL2NvbW1hbmQvQ29tbWFuZEludGVyY2VwdG9yJztcblxudmFyIEFMSUdOTUVOVFMgPSBbXG4gICd0b3AnLFxuICAnYm90dG9tJyxcbiAgJ2xlZnQnLFxuICAncmlnaHQnXG5dO1xuXG52YXIgRUxFTUVOVF9MQUJFTF9ESVNUQU5DRSA9IDEwO1xuXG4vKipcbiAqIEEgY29tcG9uZW50IHRoYXQgbWFrZXMgc3VyZSB0aGF0IGV4dGVybmFsIGxhYmVscyBhcmUgYWRkZWRcbiAqIHRvZ2V0aGVyIHdpdGggcmVzcGVjdGl2ZSBlbGVtZW50cyBhbmQgcHJvcGVybHkgdXBkYXRlZCAoREkgd2lzZSlcbiAqIGR1cmluZyBtb3ZlLlxuICpcbiAqIEBwYXJhbSB7RXZlbnRCdXN9IGV2ZW50QnVzXG4gKiBAcGFyYW0ge01vZGVsaW5nfSBtb2RlbGluZ1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBBZGFwdGl2ZUxhYmVsUG9zaXRpb25pbmdCZWhhdmlvcihldmVudEJ1cywgbW9kZWxpbmcpIHtcblxuICBDb21tYW5kSW50ZXJjZXB0b3IuY2FsbCh0aGlzLCBldmVudEJ1cyk7XG5cbiAgdGhpcy5wb3N0RXhlY3V0ZWQoW1xuICAgICdjb25uZWN0aW9uLmNyZWF0ZScsXG4gICAgJ2Nvbm5lY3Rpb24ubGF5b3V0JyxcbiAgICAnY29ubmVjdGlvbi51cGRhdGVXYXlwb2ludHMnXG4gIF0sIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0LFxuICAgICAgICBjb25uZWN0aW9uID0gY29udGV4dC5jb25uZWN0aW9uLFxuICAgICAgICBzb3VyY2UgPSBjb25uZWN0aW9uLnNvdXJjZSxcbiAgICAgICAgdGFyZ2V0ID0gY29ubmVjdGlvbi50YXJnZXQsXG4gICAgICAgIGhpbnRzID0gY29udGV4dC5oaW50cyB8fCB7fTtcblxuICAgIGlmIChoaW50cy5jcmVhdGVFbGVtZW50c0JlaGF2aW9yICE9PSBmYWxzZSkge1xuICAgICAgY2hlY2tMYWJlbEFkanVzdG1lbnQoc291cmNlKTtcbiAgICAgIGNoZWNrTGFiZWxBZGp1c3RtZW50KHRhcmdldCk7XG4gICAgfVxuICB9KTtcblxuXG4gIHRoaXMucG9zdEV4ZWN1dGVkKFtcbiAgICAnbGFiZWwuY3JlYXRlJ1xuICBdLCBmdW5jdGlvbihldmVudCkge1xuICAgIHZhciBjb250ZXh0ID0gZXZlbnQuY29udGV4dCxcbiAgICAgICAgc2hhcGUgPSBjb250ZXh0LnNoYXBlLFxuICAgICAgICBoaW50cyA9IGNvbnRleHQuaGludHMgfHwge307XG5cbiAgICBpZiAoaGludHMuY3JlYXRlRWxlbWVudHNCZWhhdmlvciAhPT0gZmFsc2UpIHtcbiAgICAgIGNoZWNrTGFiZWxBZGp1c3RtZW50KHNoYXBlLmxhYmVsVGFyZ2V0KTtcbiAgICB9XG4gIH0pO1xuXG5cbiAgdGhpcy5wb3N0RXhlY3V0ZWQoW1xuICAgICdlbGVtZW50cy5jcmVhdGUnXG4gIF0sIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0LFxuICAgICAgICBlbGVtZW50cyA9IGNvbnRleHQuZWxlbWVudHMsXG4gICAgICAgIGhpbnRzID0gY29udGV4dC5oaW50cyB8fCB7fTtcblxuICAgIGlmIChoaW50cy5jcmVhdGVFbGVtZW50c0JlaGF2aW9yICE9PSBmYWxzZSkge1xuICAgICAgZWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICAgIGNoZWNrTGFiZWxBZGp1c3RtZW50KGVsZW1lbnQpO1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcblxuICBmdW5jdGlvbiBjaGVja0xhYmVsQWRqdXN0bWVudChlbGVtZW50KSB7XG5cbiAgICAvLyBza2lwIG5vbi1leGlzdGluZyBsYWJlbHNcbiAgICBpZiAoIWhhc0V4dGVybmFsTGFiZWwoZWxlbWVudCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgb3B0aW1hbFBvc2l0aW9uID0gZ2V0T3B0aW1hbFBvc2l0aW9uKGVsZW1lbnQpO1xuXG4gICAgLy8gbm8gb3B0aW1hbCBwb3NpdGlvbiBmb3VuZFxuICAgIGlmICghb3B0aW1hbFBvc2l0aW9uKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgYWRqdXN0TGFiZWxQb3NpdGlvbihlbGVtZW50LCBvcHRpbWFsUG9zaXRpb24pO1xuICB9XG5cbiAgZnVuY3Rpb24gYWRqdXN0TGFiZWxQb3NpdGlvbihlbGVtZW50LCBvcmllbnRhdGlvbikge1xuXG4gICAgdmFyIGVsZW1lbnRNaWQgPSBnZXRNaWQoZWxlbWVudCksXG4gICAgICAgIGxhYmVsID0gZWxlbWVudC5sYWJlbCxcbiAgICAgICAgbGFiZWxNaWQgPSBnZXRNaWQobGFiZWwpO1xuXG4gICAgLy8gaWdub3JlIGxhYmVscyB0aGF0IGFyZSBiZWluZyBjcmVhdGVkXG4gICAgaWYgKCFsYWJlbC5wYXJlbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgZWxlbWVudFRyYmwgPSBhc1RSQkwoZWxlbWVudCk7XG5cbiAgICB2YXIgbmV3TGFiZWxNaWQ7XG5cbiAgICBzd2l0Y2ggKG9yaWVudGF0aW9uKSB7XG4gICAgY2FzZSAndG9wJzpcbiAgICAgIG5ld0xhYmVsTWlkID0ge1xuICAgICAgICB4OiBlbGVtZW50TWlkLngsXG4gICAgICAgIHk6IGVsZW1lbnRUcmJsLnRvcCAtIEVMRU1FTlRfTEFCRUxfRElTVEFOQ0UgLSBsYWJlbC5oZWlnaHQgLyAyXG4gICAgICB9O1xuXG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ2xlZnQnOlxuXG4gICAgICBuZXdMYWJlbE1pZCA9IHtcbiAgICAgICAgeDogZWxlbWVudFRyYmwubGVmdCAtIEVMRU1FTlRfTEFCRUxfRElTVEFOQ0UgLSBsYWJlbC53aWR0aCAvIDIsXG4gICAgICAgIHk6IGVsZW1lbnRNaWQueVxuICAgICAgfTtcblxuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdib3R0b20nOlxuXG4gICAgICBuZXdMYWJlbE1pZCA9IHtcbiAgICAgICAgeDogZWxlbWVudE1pZC54LFxuICAgICAgICB5OiBlbGVtZW50VHJibC5ib3R0b20gKyBFTEVNRU5UX0xBQkVMX0RJU1RBTkNFICsgbGFiZWwuaGVpZ2h0IC8gMlxuICAgICAgfTtcblxuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdyaWdodCc6XG5cbiAgICAgIG5ld0xhYmVsTWlkID0ge1xuICAgICAgICB4OiBlbGVtZW50VHJibC5yaWdodCArIEVMRU1FTlRfTEFCRUxfRElTVEFOQ0UgKyBsYWJlbC53aWR0aCAvIDIsXG4gICAgICAgIHk6IGVsZW1lbnRNaWQueVxuICAgICAgfTtcblxuICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgdmFyIGRlbHRhID0gc3Vic3RyYWN0KG5ld0xhYmVsTWlkLCBsYWJlbE1pZCk7XG5cbiAgICBtb2RlbGluZy5tb3ZlU2hhcGUobGFiZWwsIGRlbHRhKTtcbiAgfVxuXG59XG5cbmluaGVyaXRzKEFkYXB0aXZlTGFiZWxQb3NpdGlvbmluZ0JlaGF2aW9yLCBDb21tYW5kSW50ZXJjZXB0b3IpO1xuXG5BZGFwdGl2ZUxhYmVsUG9zaXRpb25pbmdCZWhhdmlvci4kaW5qZWN0ID0gW1xuICAnZXZlbnRCdXMnLFxuICAnbW9kZWxpbmcnXG5dO1xuXG5cbi8vIGhlbHBlcnMgLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4vKipcbiAqIFJldHVybiBhbGlnbm1lbnRzIHdoaWNoIGFyZSB0YWtlbiBieSBhIGJvdW5kYXJ5J3MgaG9zdCBlbGVtZW50XG4gKlxuICogQHBhcmFtIHtTaGFwZX0gZWxlbWVudFxuICpcbiAqIEByZXR1cm4ge0FycmF5PFN0cmluZz59XG4gKi9cbmZ1bmN0aW9uIGdldFRha2VuSG9zdEFsaWdubWVudHMoZWxlbWVudCkge1xuXG4gIHZhciBob3N0RWxlbWVudCA9IGVsZW1lbnQuaG9zdCxcbiAgICAgIGVsZW1lbnRNaWQgPSBnZXRNaWQoZWxlbWVudCksXG4gICAgICBob3N0T3JpZW50YXRpb24gPSBnZXRPcmllbnRhdGlvbihlbGVtZW50TWlkLCBob3N0RWxlbWVudCk7XG5cbiAgdmFyIGZyZWVBbGlnbm1lbnRzO1xuXG4gIC8vIGNoZWNrIHdoZXRoZXIgdGhlcmUgaXMgYSBtdWx0aS1vcmllbnRhdGlvbiwgZS5nLiAndG9wLWxlZnQnXG4gIGlmIChob3N0T3JpZW50YXRpb24uaW5kZXhPZignLScpID49IDApIHtcbiAgICBmcmVlQWxpZ25tZW50cyA9IGhvc3RPcmllbnRhdGlvbi5zcGxpdCgnLScpO1xuICB9IGVsc2Uge1xuICAgIGZyZWVBbGlnbm1lbnRzID0gWyBob3N0T3JpZW50YXRpb24gXTtcbiAgfVxuXG4gIHZhciB0YWtlbkFsaWdubWVudHMgPSBBTElHTk1FTlRTLmZpbHRlcihmdW5jdGlvbihhbGlnbm1lbnQpIHtcblxuICAgIHJldHVybiBmcmVlQWxpZ25tZW50cy5pbmRleE9mKGFsaWdubWVudCkgPT09IC0xO1xuICB9KTtcblxuICByZXR1cm4gdGFrZW5BbGlnbm1lbnRzO1xuXG59XG5cbi8qKlxuICogUmV0dXJuIGFsaWdubWVudHMgd2hpY2ggYXJlIHRha2VuIGJ5IHJlbGF0ZWQgY29ubmVjdGlvbnNcbiAqXG4gKiBAcGFyYW0ge1NoYXBlfSBlbGVtZW50XG4gKlxuICogQHJldHVybiB7QXJyYXk8U3RyaW5nPn1cbiAqL1xuZnVuY3Rpb24gZ2V0VGFrZW5Db25uZWN0aW9uQWxpZ25tZW50cyhlbGVtZW50KSB7XG5cbiAgdmFyIGVsZW1lbnRNaWQgPSBnZXRNaWQoZWxlbWVudCk7XG5cbiAgdmFyIHRha2VuQWxpZ25tZW50cyA9IFtdLmNvbmNhdChcbiAgICBlbGVtZW50LmluY29taW5nLm1hcChmdW5jdGlvbihjKSB7XG4gICAgICByZXR1cm4gYy53YXlwb2ludHNbYy53YXlwb2ludHMubGVuZ3RoIC0gMiBdO1xuICAgIH0pLFxuICAgIGVsZW1lbnQub3V0Z29pbmcubWFwKGZ1bmN0aW9uKGMpIHtcbiAgICAgIHJldHVybiBjLndheXBvaW50c1sxXTtcbiAgICB9KVxuICApLm1hcChmdW5jdGlvbihwb2ludCkge1xuICAgIHJldHVybiBnZXRBcHByb3hpbWF0ZU9yaWVudGF0aW9uKGVsZW1lbnRNaWQsIHBvaW50KTtcbiAgfSk7XG5cbiAgcmV0dXJuIHRha2VuQWxpZ25tZW50cztcbn1cblxuLyoqXG4gKiBSZXR1cm4gdGhlIG9wdGltYWwgbGFiZWwgcG9zaXRpb24gYXJvdW5kIGFuIGVsZW1lbnRcbiAqIG9yIF91bmRlZmluZWRfLCBpZiBub25lIHdhcyBmb3VuZC5cbiAqXG4gKiBAcGFyYW0gIHtTaGFwZX0gZWxlbWVudFxuICpcbiAqIEByZXR1cm4ge1N0cmluZ30gcG9zaXRpb25pbmcgaWRlbnRpZmllclxuICovXG5mdW5jdGlvbiBnZXRPcHRpbWFsUG9zaXRpb24oZWxlbWVudCkge1xuXG4gIHZhciBsYWJlbE1pZCA9IGdldE1pZChlbGVtZW50LmxhYmVsKTtcblxuICB2YXIgZWxlbWVudE1pZCA9IGdldE1pZChlbGVtZW50KTtcblxuICB2YXIgbGFiZWxPcmllbnRhdGlvbiA9IGdldEFwcHJveGltYXRlT3JpZW50YXRpb24oZWxlbWVudE1pZCwgbGFiZWxNaWQpO1xuXG4gIGlmICghaXNBbGlnbmVkKGxhYmVsT3JpZW50YXRpb24pKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIHRha2VuQWxpZ25tZW50cyA9IGdldFRha2VuQ29ubmVjdGlvbkFsaWdubWVudHMoZWxlbWVudCk7XG5cbiAgaWYgKGVsZW1lbnQuaG9zdCkge1xuICAgIHZhciB0YWtlbkhvc3RBbGlnbm1lbnRzID0gZ2V0VGFrZW5Ib3N0QWxpZ25tZW50cyhlbGVtZW50KTtcblxuICAgIHRha2VuQWxpZ25tZW50cyA9IHRha2VuQWxpZ25tZW50cy5jb25jYXQodGFrZW5Ib3N0QWxpZ25tZW50cyk7XG4gIH1cblxuICB2YXIgZnJlZUFsaWdubWVudHMgPSBBTElHTk1FTlRTLmZpbHRlcihmdW5jdGlvbihhbGlnbm1lbnQpIHtcblxuICAgIHJldHVybiB0YWtlbkFsaWdubWVudHMuaW5kZXhPZihhbGlnbm1lbnQpID09PSAtMTtcbiAgfSk7XG5cbiAgLy8gTk9USElORyBUTyBETzsgbGFiZWwgYWxyZWFkeSBhbGlnbmVkIGEuTy5LLlxuICBpZiAoZnJlZUFsaWdubWVudHMuaW5kZXhPZihsYWJlbE9yaWVudGF0aW9uKSAhPT0gLTEpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICByZXR1cm4gZnJlZUFsaWdubWVudHNbMF07XG59XG5cbmZ1bmN0aW9uIGdldEFwcHJveGltYXRlT3JpZW50YXRpb24ocDAsIHAxKSB7XG4gIHJldHVybiBnZXRPcmllbnRhdGlvbihwMSwgcDAsIDUpO1xufVxuXG5mdW5jdGlvbiBpc0FsaWduZWQob3JpZW50YXRpb24pIHtcbiAgcmV0dXJuIEFMSUdOTUVOVFMuaW5kZXhPZihvcmllbnRhdGlvbikgIT09IC0xO1xufVxuIiwiaW1wb3J0IGluaGVyaXRzIGZyb20gJ2luaGVyaXRzJztcblxuaW1wb3J0IENvbW1hbmRJbnRlcmNlcHRvciBmcm9tICdkaWFncmFtLWpzL2xpYi9jb21tYW5kL0NvbW1hbmRJbnRlcmNlcHRvcic7XG5cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQXBwZW5kQmVoYXZpb3IoZXZlbnRCdXMpIHtcblxuICBDb21tYW5kSW50ZXJjZXB0b3IuY2FsbCh0aGlzLCBldmVudEJ1cyk7XG5cbiAgLy8gYXNzaWduIGNvcnJlY3Qgc2hhcGUgcG9zaXRpb24gdW5sZXNzIGFscmVhZHkgc2V0XG5cbiAgdGhpcy5wcmVFeGVjdXRlKCdzaGFwZS5hcHBlbmQnLCBmdW5jdGlvbihjb250ZXh0KSB7XG5cbiAgICB2YXIgc291cmNlID0gY29udGV4dC5zb3VyY2UsXG4gICAgICAgIHNoYXBlID0gY29udGV4dC5zaGFwZTtcblxuICAgIGlmICghY29udGV4dC5wb3NpdGlvbikge1xuXG4gICAgICBjb250ZXh0LnBvc2l0aW9uID0ge1xuICAgICAgICB4OiBzb3VyY2UueCArIHNvdXJjZS53aWR0aCArIDgwICsgc2hhcGUud2lkdGggLyAyLFxuICAgICAgICB5OiBzb3VyY2UueSArIHNvdXJjZS5oZWlnaHQgLyAyXG4gICAgICB9O1xuXG4gICAgfVxuICB9LCB0cnVlKTtcbn1cblxuaW5oZXJpdHMoQXBwZW5kQmVoYXZpb3IsIENvbW1hbmRJbnRlcmNlcHRvcik7XG5cbkFwcGVuZEJlaGF2aW9yLiRpbmplY3QgPSBbXG4gICdldmVudEJ1cydcbl07IiwiaW1wb3J0IHsgaXMgfSBmcm9tICcuLi8uLi8uLi91dGlsL01vZGVsVXRpbCc7XHJcblxyXG52YXIgSElHSF9QUklPUklUWSA9IDE1MDA7XHJcblxyXG5cclxuLyoqXHJcbiAqIENvcnJlY3QgaG92ZXIgdGFyZ2V0cyBpbiBjZXJ0YWluIHNpdHVhdGlvbnMgdG8gaW1wcm92ZSBkaWFncmFtIGludGVyYWN0aW9uLlxyXG4gKlxyXG4gKiBAcGFyYW0ge0VsZW1lbnRSZWdpc3RyeX0gZWxlbWVudFJlZ2lzdHJ5XHJcbiAqIEBwYXJhbSB7RXZlbnRCdXN9IGV2ZW50QnVzXHJcbiAqIEBwYXJhbSB7Q2FudmFzfSBjYW52YXNcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEZpeEhvdmVyQmVoYXZpb3IoZWxlbWVudFJlZ2lzdHJ5LCBldmVudEJ1cywgY2FudmFzKSB7XHJcblxyXG4gIGV2ZW50QnVzLm9uKFtcclxuICAgICdjcmVhdGUuaG92ZXInLFxyXG4gICAgJ2NyZWF0ZS5tb3ZlJyxcclxuICAgICdjcmVhdGUuZW5kJyxcclxuICAgICdzaGFwZS5tb3ZlLmhvdmVyJyxcclxuICAgICdzaGFwZS5tb3ZlLm1vdmUnLFxyXG4gICAgJ3NoYXBlLm1vdmUuZW5kJ1xyXG4gIF0sIEhJR0hfUFJJT1JJVFksIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICB2YXIgY29udGV4dCA9IGV2ZW50LmNvbnRleHQsXHJcbiAgICAgICAgc2hhcGUgPSBjb250ZXh0LnNoYXBlIHx8IGV2ZW50LnNoYXBlLFxyXG4gICAgICAgIGhvdmVyID0gZXZlbnQuaG92ZXI7XHJcblxyXG4gICAgdmFyIHJvb3RFbGVtZW50ID0gY2FudmFzLmdldFJvb3RFbGVtZW50KCk7XHJcblxyXG4gICAgLy8gZW5zdXJlIGdyb3VwICYgbGFiZWwgZWxlbWVudHMgYXJlIGRyb3BwZWQgYWx3YXlzIG9udG8gdGhlIHJvb3RcclxuICAgIGlmIChob3ZlciAhPT0gcm9vdEVsZW1lbnQgJiYgKHNoYXBlLmxhYmVsVGFyZ2V0IHx8IGlzKHNoYXBlLCAncG9zdGl0Okdyb3VwJykpKSB7XHJcbiAgICAgIGV2ZW50LmhvdmVyID0gcm9vdEVsZW1lbnQ7XHJcbiAgICAgIGV2ZW50LmhvdmVyR2Z4ID0gZWxlbWVudFJlZ2lzdHJ5LmdldEdyYXBoaWNzKGV2ZW50LmhvdmVyKTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbn1cclxuXHJcbkZpeEhvdmVyQmVoYXZpb3IuJGluamVjdCA9IFtcclxuICAnZWxlbWVudFJlZ2lzdHJ5JyxcclxuICAnZXZlbnRCdXMnLFxyXG4gICdjYW52YXMnXHJcbl07IiwiLyoqXG4gKiBSZXR1cm5zIHRoZSBpbnRlcnNlY3Rpb24gYmV0d2VlbiB0d28gbGluZSBzZWdtZW50cyBhIGFuZCBiLlxuICpcbiAqIEBwYXJhbSB7UG9pbnR9IGwxc1xuICogQHBhcmFtIHtQb2ludH0gbDFlXG4gKiBAcGFyYW0ge1BvaW50fSBsMnNcbiAqIEBwYXJhbSB7UG9pbnR9IGwyZVxuICpcbiAqIEByZXR1cm4ge1BvaW50fVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBsaW5lSW50ZXJzZWN0KGwxcywgbDFlLCBsMnMsIGwyZSkge1xuXG4gIC8vIGlmIHRoZSBsaW5lcyBpbnRlcnNlY3QsIHRoZSByZXN1bHQgY29udGFpbnMgdGhlIHggYW5kIHkgb2YgdGhlXG4gIC8vIGludGVyc2VjdGlvbiAodHJlYXRpbmcgdGhlIGxpbmVzIGFzIGluZmluaXRlKSBhbmQgYm9vbGVhbnMgZm9yXG4gIC8vIHdoZXRoZXIgbGluZSBzZWdtZW50IDEgb3IgbGluZSBzZWdtZW50IDIgY29udGFpbiB0aGUgcG9pbnRcbiAgdmFyIGRlbm9taW5hdG9yLCBhLCBiLCBjLCBudW1lcmF0b3I7XG5cbiAgZGVub21pbmF0b3IgPSAoKGwyZS55IC0gbDJzLnkpICogKGwxZS54IC0gbDFzLngpKSAtICgobDJlLnggLSBsMnMueCkgKiAobDFlLnkgLSBsMXMueSkpO1xuXG4gIGlmIChkZW5vbWluYXRvciA9PSAwKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBhID0gbDFzLnkgLSBsMnMueTtcbiAgYiA9IGwxcy54IC0gbDJzLng7XG4gIG51bWVyYXRvciA9ICgobDJlLnggLSBsMnMueCkgKiBhKSAtICgobDJlLnkgLSBsMnMueSkgKiBiKTtcblxuICBjID0gbnVtZXJhdG9yIC8gZGVub21pbmF0b3I7XG5cbiAgLy8gaWYgd2UgY2FzdCB0aGVzZSBsaW5lcyBpbmZpbml0ZWx5IGluXG4gIC8vIGJvdGggZGlyZWN0aW9ucywgdGhleSBpbnRlcnNlY3QgaGVyZVxuICByZXR1cm4ge1xuICAgIHg6IE1hdGgucm91bmQobDFzLnggKyAoYyAqIChsMWUueCAtIGwxcy54KSkpLFxuICAgIHk6IE1hdGgucm91bmQobDFzLnkgKyAoYyAqIChsMWUueSAtIGwxcy55KSkpXG4gIH07XG59IiwiaW1wb3J0IHtcbiAgZ2V0TWlkXG59IGZyb20gJ2RpYWdyYW0tanMvbGliL2xheW91dC9MYXlvdXRVdGlsJztcblxuaW1wb3J0IGxpbmVJbnRlcnNlY3QgZnJvbSAnLi91dGlsL0xpbmVJbnRlcnNlY3QnO1xuXG5cbi8qKlxuICogRml4IGJyb2tlbiBkb2NraW5ncyBhZnRlciBESSBpbXBvcnRzLlxuICpcbiAqIEBwYXJhbSB7RXZlbnRCdXN9IGV2ZW50QnVzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEltcG9ydERvY2tpbmdGaXgoZXZlbnRCdXMpIHtcblxuICBmdW5jdGlvbiBhZGp1c3REb2NraW5nKHN0YXJ0UG9pbnQsIG5leHRQb2ludCwgZWxlbWVudE1pZCkge1xuXG4gICAgdmFyIGVsZW1lbnRUb3AgPSB7XG4gICAgICB4OiBlbGVtZW50TWlkLngsXG4gICAgICB5OiBlbGVtZW50TWlkLnkgLSA1MFxuICAgIH07XG5cbiAgICB2YXIgZWxlbWVudExlZnQgPSB7XG4gICAgICB4OiBlbGVtZW50TWlkLnggLSA1MCxcbiAgICAgIHk6IGVsZW1lbnRNaWQueVxuICAgIH07XG5cbiAgICB2YXIgdmVydGljYWxJbnRlcnNlY3QgPSBsaW5lSW50ZXJzZWN0KHN0YXJ0UG9pbnQsIG5leHRQb2ludCwgZWxlbWVudE1pZCwgZWxlbWVudFRvcCksXG4gICAgICAgIGhvcml6b250YWxJbnRlcnNlY3QgPSBsaW5lSW50ZXJzZWN0KHN0YXJ0UG9pbnQsIG5leHRQb2ludCwgZWxlbWVudE1pZCwgZWxlbWVudExlZnQpO1xuXG4gICAgLy8gb3JpZ2luYWwgaXMgaG9yaXpvbnRhbCBvciB2ZXJ0aWNhbCBjZW50ZXIgY3Jvc3MgaW50ZXJzZWN0aW9uXG4gICAgdmFyIGNlbnRlckludGVyc2VjdDtcblxuICAgIGlmICh2ZXJ0aWNhbEludGVyc2VjdCAmJiBob3Jpem9udGFsSW50ZXJzZWN0KSB7XG4gICAgICBpZiAoZ2V0RGlzdGFuY2UodmVydGljYWxJbnRlcnNlY3QsIGVsZW1lbnRNaWQpID4gZ2V0RGlzdGFuY2UoaG9yaXpvbnRhbEludGVyc2VjdCwgZWxlbWVudE1pZCkpIHtcbiAgICAgICAgY2VudGVySW50ZXJzZWN0ID0gaG9yaXpvbnRhbEludGVyc2VjdDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNlbnRlckludGVyc2VjdCA9IHZlcnRpY2FsSW50ZXJzZWN0O1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjZW50ZXJJbnRlcnNlY3QgPSB2ZXJ0aWNhbEludGVyc2VjdCB8fCBob3Jpem9udGFsSW50ZXJzZWN0O1xuICAgIH1cblxuICAgIHN0YXJ0UG9pbnQub3JpZ2luYWwgPSBjZW50ZXJJbnRlcnNlY3Q7XG4gIH1cblxuICBmdW5jdGlvbiBmaXhEb2NraW5ncyhjb25uZWN0aW9uKSB7XG4gICAgdmFyIHdheXBvaW50cyA9IGNvbm5lY3Rpb24ud2F5cG9pbnRzO1xuXG4gICAgYWRqdXN0RG9ja2luZyhcbiAgICAgIHdheXBvaW50c1swXSxcbiAgICAgIHdheXBvaW50c1sxXSxcbiAgICAgIGdldE1pZChjb25uZWN0aW9uLnNvdXJjZSlcbiAgICApO1xuXG4gICAgYWRqdXN0RG9ja2luZyhcbiAgICAgIHdheXBvaW50c1t3YXlwb2ludHMubGVuZ3RoIC0gMV0sXG4gICAgICB3YXlwb2ludHNbd2F5cG9pbnRzLmxlbmd0aCAtIDJdLFxuICAgICAgZ2V0TWlkKGNvbm5lY3Rpb24udGFyZ2V0KVxuICAgICk7XG4gIH1cblxuICBldmVudEJ1cy5vbignYm9hcmRFbGVtZW50LmFkZGVkJywgZnVuY3Rpb24oZSkge1xuXG4gICAgdmFyIGVsZW1lbnQgPSBlLmVsZW1lbnQ7XG5cbiAgICBpZiAoZWxlbWVudC53YXlwb2ludHMpIHtcbiAgICAgIGZpeERvY2tpbmdzKGVsZW1lbnQpO1xuICAgIH1cbiAgfSk7XG59XG5cbkltcG9ydERvY2tpbmdGaXguJGluamVjdCA9IFtcbiAgJ2V2ZW50QnVzJ1xuXTtcblxuXG4vLyBoZWxwZXJzIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuZnVuY3Rpb24gZ2V0RGlzdGFuY2UocDEsIHAyKSB7XG4gIHJldHVybiBNYXRoLnNxcnQoTWF0aC5wb3cocDEueCAtIHAyLngsIDIpICsgTWF0aC5wb3cocDEueSAtIHAyLnksIDIpKTtcbn0iLCIvKipcbiAqIFJldHVybnMgdGhlIGxlbmd0aCBvZiBhIHZlY3RvclxuICpcbiAqIEBwYXJhbSB7VmVjdG9yfVxuICogQHJldHVybiB7RmxvYXR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB2ZWN0b3JMZW5ndGgodikge1xuICByZXR1cm4gTWF0aC5zcXJ0KE1hdGgucG93KHYueCwgMikgKyBNYXRoLnBvdyh2LnksIDIpKTtcbn1cblxuXG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGFuZ2xlIGJldHdlZW4gYSBsaW5lIGEgdGhlIHlBeGlzXG4gKlxuICogQHBhcmFtIHtBcnJheX1cbiAqIEByZXR1cm4ge0Zsb2F0fVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0QW5nbGUobGluZSkge1xuXG4gIC8vIHJldHVybiB2YWx1ZSBpcyBiZXR3ZWVuIDAsIDE4MCBhbmQgLTE4MCwgLTBcbiAgLy8gQGphbnN0dWVtbWVsOiBtYXliZSByZXBsYWNlIHJldHVybiBhL2Igd2l0aCBiL2FcbiAgcmV0dXJuIE1hdGguYXRhbigobGluZVsxXS55IC0gbGluZVswXS55KSAvIChsaW5lWzFdLnggLSBsaW5lWzBdLngpKTtcbn1cblxuXG4vKipcbiAqIFJvdGF0ZXMgYSB2ZWN0b3IgYnkgYSBnaXZlbiBhbmdsZVxuICpcbiAqIEBwYXJhbSB7VmVjdG9yfVxuICogQHBhcmFtIHtGbG9hdH0gQW5nbGUgaW4gcmFkaWFuc1xuICogQHJldHVybiB7VmVjdG9yfVxuICovXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlVmVjdG9yKHZlY3RvciwgYW5nbGUpIHtcbiAgcmV0dXJuICghYW5nbGUpID8gdmVjdG9yIDoge1xuICAgIHg6IE1hdGguY29zKGFuZ2xlKSAqIHZlY3Rvci54IC0gTWF0aC5zaW4oYW5nbGUpICogdmVjdG9yLnksXG4gICAgeTogTWF0aC5zaW4oYW5nbGUpICogdmVjdG9yLnggKyBNYXRoLmNvcyhhbmdsZSkgKiB2ZWN0b3IueVxuICB9O1xufVxuXG5cbi8qKlxuICogU29sdmVzIGEgMkQgZXF1YXRpb24gc3lzdGVtXG4gKiBhICsgcipiID0gYywgd2hlcmUgYSxiLGMgYXJlIDJEIHZlY3RvcnNcbiAqXG4gKiBAcGFyYW0ge1ZlY3Rvcn1cbiAqIEBwYXJhbSB7VmVjdG9yfVxuICogQHBhcmFtIHtWZWN0b3J9XG4gKiBAcmV0dXJuIHtGbG9hdH1cbiAqL1xuZnVuY3Rpb24gc29sdmVMYW1iYVN5c3RlbShhLCBiLCBjKSB7XG5cbiAgLy8gdGhlIDJkIHN5c3RlbVxuICB2YXIgc3lzdGVtID0gW1xuICAgIHsgbjogYVswXSAtIGNbMF0sIGxhbWJkYTogYlswXSB9LFxuICAgIHsgbjogYVsxXSAtIGNbMV0sIGxhbWJkYTogYlsxXSB9XG4gIF07XG5cbiAgLy8gc29sdmVcbiAgdmFyIG4gPSBzeXN0ZW1bMF0ubiAqIGJbMF0gKyBzeXN0ZW1bMV0ubiAqIGJbMV0sXG4gICAgICBsID0gc3lzdGVtWzBdLmxhbWJkYSAqIGJbMF0gKyBzeXN0ZW1bMV0ubGFtYmRhICogYlsxXTtcblxuICByZXR1cm4gLW4vbDtcbn1cblxuXG4vKipcbiAqIFBvc2l0aW9uIG9mIHBlcnBlbmRpY3VsYXIgZm9vdFxuICpcbiAqIEBwYXJhbSB7UG9pbnR9XG4gKiBAcGFyYW0gWyB7UG9pbnR9LCB7UG9pbnR9IF0gbGluZSBkZWZpbmVkIHRocm91Z2ggdHdvIHBvaW50c1xuICogQHJldHVybiB7UG9pbnR9IHRoZSBwZXJwZW5kaWN1bGFyIGZvb3QgcG9zaXRpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBlcnBlbmRpY3VsYXJGb290KHBvaW50LCBsaW5lKSB7XG5cbiAgdmFyIGEgPSBsaW5lWzBdLCBiID0gbGluZVsxXTtcblxuICAvLyByZWxhdGl2ZSBwb3NpdGlvbiBvZiBiIGZyb20gYVxuICB2YXIgYmQgPSB7IHg6IGIueCAtIGEueCwgeTogYi55IC0gYS55IH07XG5cbiAgLy8gc29sdmUgZXF1YXRpb24gc3lzdGVtIHRvIHRoZSBwYXJhbWV0cml6ZWQgdmVjdG9ycyBwYXJhbSByZWFsIHZhbHVlXG4gIHZhciByID0gc29sdmVMYW1iYVN5c3RlbShbIGEueCwgYS55IF0sIFsgYmQueCwgYmQueSBdLCBbIHBvaW50LngsIHBvaW50LnkgXSk7XG5cbiAgcmV0dXJuIHsgeDogYS54ICsgcipiZC54LCB5OiBhLnkgKyByKmJkLnkgfTtcbn1cblxuXG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGRpc3RhbmNlIGJldHdlZW4gYSBwb2ludCBhbmQgYSBsaW5lXG4gKlxuICogQHBhcmFtIHtQb2ludH1cbiAqIEBwYXJhbSBbIHtQb2ludH0sIHtQb2ludH0gXSBsaW5lIGRlZmluZWQgdGhyb3VnaCB0d28gcG9pbnRzXG4gKiBAcmV0dXJuIHtGbG9hdH0gZGlzdGFuY2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldERpc3RhbmNlUG9pbnRMaW5lKHBvaW50LCBsaW5lKSB7XG5cbiAgdmFyIHBmUG9pbnQgPSBwZXJwZW5kaWN1bGFyRm9vdChwb2ludCwgbGluZSk7XG5cbiAgLy8gZGlzdGFuY2UgdmVjdG9yXG4gIHZhciBjb25uZWN0aW9uVmVjdG9yID0ge1xuICAgIHg6IHBmUG9pbnQueCAtIHBvaW50LngsXG4gICAgeTogcGZQb2ludC55IC0gcG9pbnQueVxuICB9O1xuXG4gIHJldHVybiB2ZWN0b3JMZW5ndGgoY29ubmVjdGlvblZlY3Rvcik7XG59XG5cblxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIHR3byBwb2ludHNcbiAqXG4gKiBAcGFyYW0ge1BvaW50fVxuICogQHBhcmFtIHtQb2ludH1cbiAqIEByZXR1cm4ge0Zsb2F0fSBkaXN0YW5jZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGlzdGFuY2VQb2ludFBvaW50KHBvaW50MSwgcG9pbnQyKSB7XG5cbiAgcmV0dXJuIHZlY3Rvckxlbmd0aCh7XG4gICAgeDogcG9pbnQxLnggLSBwb2ludDIueCxcbiAgICB5OiBwb2ludDEueSAtIHBvaW50Mi55XG4gIH0pO1xufSIsInZhciBzcXJ0ID0gTWF0aC5zcXJ0LFxuICAgIG1pbiA9IE1hdGgubWluLFxuICAgIG1heCA9IE1hdGgubWF4LFxuICAgIGFicyA9IE1hdGguYWJzO1xuXG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgc3F1YXJlIChwb3dlciB0byB0d28pIG9mIGEgbnVtYmVyLlxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBuXG4gKlxuICogQHJldHVybiB7TnVtYmVyfVxuICovXG5mdW5jdGlvbiBzcShuKSB7XG4gIHJldHVybiBNYXRoLnBvdyhuLCAyKTtcbn1cblxuLyoqXG4gKiBHZXQgZGlzdGFuY2UgYmV0d2VlbiB0d28gcG9pbnRzLlxuICpcbiAqIEBwYXJhbSB7UG9pbnR9IHAxXG4gKiBAcGFyYW0ge1BvaW50fSBwMlxuICpcbiAqIEByZXR1cm4ge051bWJlcn1cbiAqL1xuZnVuY3Rpb24gZ2V0RGlzdGFuY2UocDEsIHAyKSB7XG4gIHJldHVybiBzcXJ0KHNxKHAxLnggLSBwMi54KSArIHNxKHAxLnkgLSBwMi55KSk7XG59XG5cbi8qKlxuICogUmV0dXJuIHRoZSBhdHRhY2htZW50IG9mIHRoZSBnaXZlbiBwb2ludCBvbiB0aGUgc3BlY2lmaWVkIGxpbmUuXG4gKlxuICogVGhlIGF0dGFjaG1lbnQgaXMgZWl0aGVyIGEgYmVuZHBvaW50IChhdHRhY2hlZCB0byB0aGUgZ2l2ZW4gcG9pbnQpXG4gKiBvciBzZWdtZW50IChhdHRhY2hlZCB0byBhIGxvY2F0aW9uIG9uIGEgbGluZSBzZWdtZW50KSBhdHRhY2htZW50OlxuICpcbiAqIGBgYGphdmFzY3JpcHRcbiAqIHZhciBwb2ludEF0dGFjaG1lbnQgPSB7XG4gKiAgIHR5cGU6ICdiZW5kcG9pbnQnLFxuICogICBiZW5kcG9pbnRJbmRleDogMyxcbiAqICAgcG9zaXRpb246IHsgeDogMTAsIHk6IDEwIH0gLy8gdGhlIGF0dGFjaCBwb2ludCBvbiB0aGUgbGluZVxuICogfTtcbiAqXG4gKiB2YXIgc2VnbWVudEF0dGFjaG1lbnQgPSB7XG4gKiAgIHR5cGU6ICdzZWdtZW50JyxcbiAqICAgc2VnbWVudEluZGV4OiAyLFxuICogICByZWxhdGl2ZUxvY2F0aW9uOiAwLjMxLCAvLyBhdHRhY2ggcG9pbnQgbG9jYXRpb24gYmV0d2VlbiAwIChhdCBzdGFydCkgYW5kIDEgKGF0IGVuZClcbiAqICAgcG9zaXRpb246IHsgeDogMTAsIHk6IDEwIH0gLy8gdGhlIGF0dGFjaCBwb2ludCBvbiB0aGUgbGluZVxuICogfTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7UG9pbnR9IHBvaW50XG4gKiBAcGFyYW0ge0FycmF5PFBvaW50Pn0gbGluZVxuICpcbiAqIEByZXR1cm4ge09iamVjdH0gYXR0YWNobWVudFxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0QXR0YWNobWVudChwb2ludCwgbGluZSkge1xuXG4gIHZhciBpZHggPSAwLFxuICAgICAgc2VnbWVudFN0YXJ0LFxuICAgICAgc2VnbWVudEVuZCxcbiAgICAgIHNlZ21lbnRTdGFydERpc3RhbmNlLFxuICAgICAgc2VnbWVudEVuZERpc3RhbmNlLFxuICAgICAgYXR0YWNobWVudFBvc2l0aW9uLFxuICAgICAgbWluRGlzdGFuY2UsXG4gICAgICBpbnRlcnNlY3Rpb25zLFxuICAgICAgYXR0YWNobWVudCxcbiAgICAgIGF0dGFjaG1lbnREaXN0YW5jZSxcbiAgICAgIGNsb3Nlc3RBdHRhY2htZW50RGlzdGFuY2UsXG4gICAgICBjbG9zZXN0QXR0YWNobWVudDtcblxuICBmb3IgKGlkeCA9IDA7IGlkeCA8IGxpbmUubGVuZ3RoIC0gMTsgaWR4KyspIHtcblxuICAgIHNlZ21lbnRTdGFydCA9IGxpbmVbaWR4XTtcbiAgICBzZWdtZW50RW5kID0gbGluZVtpZHggKyAxXTtcblxuICAgIGlmIChwb2ludHNFcXVhbChzZWdtZW50U3RhcnQsIHNlZ21lbnRFbmQpKSB7XG4gICAgICBpbnRlcnNlY3Rpb25zID0gWyBzZWdtZW50U3RhcnQgXTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VnbWVudFN0YXJ0RGlzdGFuY2UgPSBnZXREaXN0YW5jZShwb2ludCwgc2VnbWVudFN0YXJ0KTtcbiAgICAgIHNlZ21lbnRFbmREaXN0YW5jZSA9IGdldERpc3RhbmNlKHBvaW50LCBzZWdtZW50RW5kKTtcblxuICAgICAgbWluRGlzdGFuY2UgPSBtaW4oc2VnbWVudFN0YXJ0RGlzdGFuY2UsIHNlZ21lbnRFbmREaXN0YW5jZSk7XG5cbiAgICAgIGludGVyc2VjdGlvbnMgPSBnZXRDaXJjbGVTZWdtZW50SW50ZXJzZWN0aW9ucyhzZWdtZW50U3RhcnQsIHNlZ21lbnRFbmQsIHBvaW50LCBtaW5EaXN0YW5jZSk7XG4gICAgfVxuXG4gICAgaWYgKGludGVyc2VjdGlvbnMubGVuZ3RoIDwgMSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdleHBlY3RlZCBiZXR3ZWVuIFsxLCAyXSBjaXJjbGUgLT4gbGluZSBpbnRlcnNlY3Rpb25zJyk7XG4gICAgfVxuXG4gICAgLy8gb25lIGludGVyc2VjdGlvbiAtPiBiZW5kcG9pbnQgYXR0YWNobWVudFxuICAgIGlmIChpbnRlcnNlY3Rpb25zLmxlbmd0aCA9PT0gMSkge1xuICAgICAgYXR0YWNobWVudCA9IHtcbiAgICAgICAgdHlwZTogJ2JlbmRwb2ludCcsXG4gICAgICAgIHBvc2l0aW9uOiBpbnRlcnNlY3Rpb25zWzBdLFxuICAgICAgICBzZWdtZW50SW5kZXg6IGlkeCxcbiAgICAgICAgYmVuZHBvaW50SW5kZXg6IHBvaW50c0VxdWFsKHNlZ21lbnRTdGFydCwgaW50ZXJzZWN0aW9uc1swXSkgPyBpZHggOiBpZHggKyAxXG4gICAgICB9O1xuICAgIH1cblxuICAgIC8vIHR3byBpbnRlcnNlY3Rpb25zIC0+IHNlZ21lbnQgYXR0YWNobWVudFxuICAgIGlmIChpbnRlcnNlY3Rpb25zLmxlbmd0aCA9PT0gMikge1xuXG4gICAgICBhdHRhY2htZW50UG9zaXRpb24gPSBtaWQoaW50ZXJzZWN0aW9uc1swXSwgaW50ZXJzZWN0aW9uc1sxXSk7XG5cbiAgICAgIGF0dGFjaG1lbnQgPSB7XG4gICAgICAgIHR5cGU6ICdzZWdtZW50JyxcbiAgICAgICAgcG9zaXRpb246IGF0dGFjaG1lbnRQb3NpdGlvbixcbiAgICAgICAgc2VnbWVudEluZGV4OiBpZHgsXG4gICAgICAgIHJlbGF0aXZlTG9jYXRpb246IGdldERpc3RhbmNlKHNlZ21lbnRTdGFydCwgYXR0YWNobWVudFBvc2l0aW9uKSAvIGdldERpc3RhbmNlKHNlZ21lbnRTdGFydCwgc2VnbWVudEVuZClcbiAgICAgIH07XG4gICAgfVxuXG4gICAgYXR0YWNobWVudERpc3RhbmNlID0gZ2V0RGlzdGFuY2UoYXR0YWNobWVudC5wb3NpdGlvbiwgcG9pbnQpO1xuXG4gICAgaWYgKCFjbG9zZXN0QXR0YWNobWVudCB8fCBjbG9zZXN0QXR0YWNobWVudERpc3RhbmNlID4gYXR0YWNobWVudERpc3RhbmNlKSB7XG4gICAgICBjbG9zZXN0QXR0YWNobWVudCA9IGF0dGFjaG1lbnQ7XG4gICAgICBjbG9zZXN0QXR0YWNobWVudERpc3RhbmNlID0gYXR0YWNobWVudERpc3RhbmNlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBjbG9zZXN0QXR0YWNobWVudDtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBpbnRlcnNlY3Rpb24gYmV0d2VlbiBhIGNpcmNsZSBhbmQgYSBsaW5lIHNlZ21lbnQuXG4gKlxuICogQHBhcmFtIHtQb2ludH0gczEgc2VnbWVudCBzdGFydFxuICogQHBhcmFtIHtQb2ludH0gczIgc2VnbWVudCBlbmRcbiAqIEBwYXJhbSB7UG9pbnR9IGNjIGNpcmNsZSBjZW50ZXJcbiAqIEBwYXJhbSB7TnVtYmVyfSBjciBjaXJjbGUgcmFkaXVzXG4gKlxuICogQHJldHVybiB7QXJyYXk8UG9pbnQ+fSBpbnRlcnNlY3Rpb25zXG4gKi9cbmZ1bmN0aW9uIGdldENpcmNsZVNlZ21lbnRJbnRlcnNlY3Rpb25zKHMxLCBzMiwgY2MsIGNyKSB7XG5cbiAgdmFyIGJhWCA9IHMyLnggLSBzMS54O1xuICB2YXIgYmFZID0gczIueSAtIHMxLnk7XG4gIHZhciBjYVggPSBjYy54IC0gczEueDtcbiAgdmFyIGNhWSA9IGNjLnkgLSBzMS55O1xuXG4gIHZhciBhID0gYmFYICogYmFYICsgYmFZICogYmFZO1xuICB2YXIgYkJ5MiA9IGJhWCAqIGNhWCArIGJhWSAqIGNhWTtcbiAgdmFyIGMgPSBjYVggKiBjYVggKyBjYVkgKiBjYVkgLSBjciAqIGNyO1xuXG4gIHZhciBwQnkyID0gYkJ5MiAvIGE7XG4gIHZhciBxID0gYyAvIGE7XG5cbiAgdmFyIGRpc2MgPSBwQnkyICogcEJ5MiAtIHE7XG5cbiAgLy8gY2hlY2sgYWdhaW5zdCBuZWdhdGl2ZSB2YWx1ZSB0byB3b3JrIGFyb3VuZFxuICAvLyBuZWdhdGl2ZSwgdmVyeSBjbG9zZSB0byB6ZXJvIHJlc3VsdHMgKC00ZS0xNSlcbiAgLy8gYmVpbmcgcHJvZHVjZWQgaW4gc29tZSBlbnZpcm9ubWVudHNcbiAgaWYgKGRpc2MgPCAwICYmIGRpc2MgPiAtMC4wMDAwMDEpIHtcbiAgICBkaXNjID0gMDtcbiAgfVxuXG4gIGlmIChkaXNjIDwgMCkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIC8vIGlmIGRpc2MgPT0gMCAuLi4gZGVhbHQgd2l0aCBsYXRlclxuICB2YXIgdG1wU3FydCA9IHNxcnQoZGlzYyk7XG4gIHZhciBhYlNjYWxpbmdGYWN0b3IxID0gLXBCeTIgKyB0bXBTcXJ0O1xuICB2YXIgYWJTY2FsaW5nRmFjdG9yMiA9IC1wQnkyIC0gdG1wU3FydDtcblxuICB2YXIgaTEgPSB7XG4gICAgeDogczEueCAtIGJhWCAqIGFiU2NhbGluZ0ZhY3RvcjEsXG4gICAgeTogczEueSAtIGJhWSAqIGFiU2NhbGluZ0ZhY3RvcjFcbiAgfTtcblxuICBpZiAoZGlzYyA9PT0gMCkgeyAvLyBhYlNjYWxpbmdGYWN0b3IxID09IGFiU2NhbGluZ0ZhY3RvcjJcbiAgICByZXR1cm4gWyBpMSBdO1xuICB9XG5cbiAgdmFyIGkyID0ge1xuICAgIHg6IHMxLnggLSBiYVggKiBhYlNjYWxpbmdGYWN0b3IyLFxuICAgIHk6IHMxLnkgLSBiYVkgKiBhYlNjYWxpbmdGYWN0b3IyXG4gIH07XG5cbiAgLy8gcmV0dXJuIG9ubHkgcG9pbnRzIG9uIGxpbmUgc2VnbWVudFxuICByZXR1cm4gWyBpMSwgaTIgXS5maWx0ZXIoZnVuY3Rpb24ocCkge1xuICAgIHJldHVybiBpc1BvaW50SW5TZWdtZW50KHAsIHMxLCBzMik7XG4gIH0pO1xufVxuXG5cbmZ1bmN0aW9uIGlzUG9pbnRJblNlZ21lbnQocCwgc2VnbWVudFN0YXJ0LCBzZWdtZW50RW5kKSB7XG4gIHJldHVybiAoXG4gICAgZmVuY2VkKHAueCwgc2VnbWVudFN0YXJ0LngsIHNlZ21lbnRFbmQueCkgJiZcbiAgICBmZW5jZWQocC55LCBzZWdtZW50U3RhcnQueSwgc2VnbWVudEVuZC55KVxuICApO1xufVxuXG5mdW5jdGlvbiBmZW5jZWQobiwgcmFuZ2VTdGFydCwgcmFuZ2VFbmQpIHtcblxuICAvLyB1c2UgbWF0Y2hpbmcgdGhyZXNob2xkIHRvIHdvcmsgYXJvdW5kXG4gIC8vIHByZWNpc2lvbiBlcnJvcnMgaW4gaW50ZXJzZWN0aW9uIGNvbXB1dGF0aW9uXG5cbiAgcmV0dXJuIChcbiAgICBuID49IG1pbihyYW5nZVN0YXJ0LCByYW5nZUVuZCkgLSBFUVVBTF9USFJFU0hPTEQgJiZcbiAgICBuIDw9IG1heChyYW5nZVN0YXJ0LCByYW5nZUVuZCkgKyBFUVVBTF9USFJFU0hPTERcbiAgKTtcbn1cblxuLyoqXG4gKiBDYWxjdWxhdGUgbWlkIG9mIHR3byBwb2ludHMuXG4gKlxuICogQHBhcmFtIHtQb2ludH0gcDFcbiAqIEBwYXJhbSB7UG9pbnR9IHAyXG4gKlxuICogQHJldHVybiB7UG9pbnR9XG4gKi9cbmZ1bmN0aW9uIG1pZChwMSwgcDIpIHtcblxuICByZXR1cm4ge1xuICAgIHg6IChwMS54ICsgcDIueCkgLyAyLFxuICAgIHk6IChwMS55ICsgcDIueSkgLyAyXG4gIH07XG59XG5cbnZhciBFUVVBTF9USFJFU0hPTEQgPSAwLjE7XG5cbmZ1bmN0aW9uIHBvaW50c0VxdWFsKHAxLCBwMikge1xuXG4gIHJldHVybiAoXG4gICAgYWJzKHAxLnggLSBwMi54KSA8PSBFUVVBTF9USFJFU0hPTEQgJiZcbiAgICBhYnMocDEueSAtIHAyLnkpIDw9IEVRVUFMX1RIUkVTSE9MRFxuICApO1xufVxuIiwiaW1wb3J0IHtcbiAgZ2V0RGlzdGFuY2VQb2ludFBvaW50LFxuICByb3RhdGVWZWN0b3IsXG4gIGdldEFuZ2xlXG59IGZyb20gJy4vR2VvbWV0cmljVXRpbCc7XG5cbmltcG9ydCB7XG4gIGdldEF0dGFjaG1lbnRcbn0gZnJvbSAnLi9MaW5lQXR0YWNobWVudFV0aWwnO1xuXG5pbXBvcnQge1xuICByb3VuZFBvaW50XG59IGZyb20gJ2RpYWdyYW0tanMvbGliL2xheW91dC9MYXlvdXRVdGlsJztcblxuXG5leHBvcnQgZnVuY3Rpb24gZmluZE5ld0xhYmVsTGluZVN0YXJ0SW5kZXgob2xkV2F5cG9pbnRzLCBuZXdXYXlwb2ludHMsIGF0dGFjaG1lbnQsIGhpbnRzKSB7XG5cbiAgdmFyIGluZGV4ID0gYXR0YWNobWVudC5zZWdtZW50SW5kZXg7XG5cbiAgdmFyIG9mZnNldCA9IG5ld1dheXBvaW50cy5sZW5ndGggLSBvbGRXYXlwb2ludHMubGVuZ3RoO1xuXG4gIC8vIHNlZ21lbnRNb3ZlIGhhcHBlbmVkXG4gIGlmIChoaW50cy5zZWdtZW50TW92ZSkge1xuXG4gICAgdmFyIG9sZFNlZ21lbnRTdGFydEluZGV4ID0gaGludHMuc2VnbWVudE1vdmUuc2VnbWVudFN0YXJ0SW5kZXgsXG4gICAgICAgIG5ld1NlZ21lbnRTdGFydEluZGV4ID0gaGludHMuc2VnbWVudE1vdmUubmV3U2VnbWVudFN0YXJ0SW5kZXg7XG5cbiAgICAvLyBpZiBsYWJlbCB3YXMgb24gbW92ZWQgc2VnbWVudCByZXR1cm4gbmV3IHNlZ21lbnQgaW5kZXhcbiAgICBpZiAoaW5kZXggPT09IG9sZFNlZ21lbnRTdGFydEluZGV4KSB7XG4gICAgICByZXR1cm4gbmV3U2VnbWVudFN0YXJ0SW5kZXg7XG4gICAgfVxuXG4gICAgLy8gbGFiZWwgaXMgYWZ0ZXIgbmV3IHNlZ21lbnQgaW5kZXhcbiAgICBpZiAoaW5kZXggPj0gbmV3U2VnbWVudFN0YXJ0SW5kZXgpIHtcbiAgICAgIHJldHVybiAoaW5kZXgrb2Zmc2V0IDwgbmV3U2VnbWVudFN0YXJ0SW5kZXgpID8gbmV3U2VnbWVudFN0YXJ0SW5kZXggOiBpbmRleCtvZmZzZXQ7XG4gICAgfVxuXG4gICAgLy8gaWYgbGFiZWwgaXMgYmVmb3JlIG5ldyBzZWdtZW50IGluZGV4XG4gICAgcmV0dXJuIGluZGV4O1xuICB9XG5cbiAgLy8gYmVuZHBvaW50TW92ZSBoYXBwZW5lZFxuICBpZiAoaGludHMuYmVuZHBvaW50TW92ZSkge1xuXG4gICAgdmFyIGluc2VydCA9IGhpbnRzLmJlbmRwb2ludE1vdmUuaW5zZXJ0LFxuICAgICAgICBiZW5kcG9pbnRJbmRleCA9IGhpbnRzLmJlbmRwb2ludE1vdmUuYmVuZHBvaW50SW5kZXgsXG4gICAgICAgIG5ld0luZGV4O1xuXG4gICAgLy8gd2F5cG9pbnRzIGxlbmd0aCBkaWRudCBjaGFuZ2VcbiAgICBpZiAob2Zmc2V0ID09PSAwKSB7XG4gICAgICByZXR1cm4gaW5kZXg7XG4gICAgfVxuXG4gICAgLy8gbGFiZWwgYmVoaW5kIG5ldy9yZW1vdmVkIGJlbmRwb2ludFxuICAgIGlmIChpbmRleCA+PSBiZW5kcG9pbnRJbmRleCkge1xuICAgICAgbmV3SW5kZXggPSBpbnNlcnQgPyBpbmRleCArIDEgOiBpbmRleCAtIDE7XG4gICAgfVxuXG4gICAgLy8gbGFiZWwgYmVmb3JlIG5ldy9yZW1vdmVkIGJlbmRwb2ludFxuICAgIGlmIChpbmRleCA8IGJlbmRwb2ludEluZGV4KSB7XG5cbiAgICAgIG5ld0luZGV4ID0gaW5kZXg7XG5cbiAgICAgIC8vIGRlY2lkZSBsYWJlbCBzaG91bGQgdGFrZSByaWdodCBvciBsZWZ0IHNlZ21lbnRcbiAgICAgIGlmIChpbnNlcnQgJiYgYXR0YWNobWVudC50eXBlICE9PSAnYmVuZHBvaW50JyAmJiBiZW5kcG9pbnRJbmRleC0xID09PSBpbmRleCkge1xuXG4gICAgICAgIHZhciByZWwgPSByZWxhdGl2ZVBvc2l0aW9uTWlkV2F5cG9pbnQobmV3V2F5cG9pbnRzLCBiZW5kcG9pbnRJbmRleCk7XG5cbiAgICAgICAgaWYgKHJlbCA8IGF0dGFjaG1lbnQucmVsYXRpdmVMb2NhdGlvbikge1xuICAgICAgICAgIG5ld0luZGV4Kys7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbmV3SW5kZXg7XG4gIH1cblxuICAvLyBzdGFydC9lbmQgY2hhbmdlZFxuICBpZiAob2Zmc2V0ID09PSAwKSB7XG4gICAgcmV0dXJuIGluZGV4O1xuICB9XG5cbiAgaWYgKGhpbnRzLmNvbm5lY3Rpb25TdGFydCkge1xuICAgIHJldHVybiAoaW5kZXggPT09IDApID8gMCA6IG51bGw7XG4gIH1cblxuICBpZiAoaGludHMuY29ubmVjdGlvbkVuZCkge1xuICAgIHJldHVybiAoaW5kZXggPT09IG9sZFdheXBvaW50cy5sZW5ndGggLSAyKSA/IG5ld1dheXBvaW50cy5sZW5ndGggLSAyIDogbnVsbDtcbiAgfVxuXG4gIC8vIGlmIG5vdGhpbmcgZml0cywgcmV0dXJuIG51bGxcbiAgcmV0dXJuIG51bGw7XG59XG5cblxuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIHJlcXVpcmVkIGFkanVzdG1lbnQgKG1vdmUgZGVsdGEpIGZvciB0aGUgZ2l2ZW4gbGFiZWxcbiAqIGFmdGVyIHRoZSBjb25uZWN0aW9uIHdheXBvaW50cyBnb3QgdXBkYXRlZC5cbiAqXG4gKiBAcGFyYW0ge2Rqcy5tb2RlbC5MYWJlbH0gbGFiZWxcbiAqIEBwYXJhbSB7QXJyYXk8UG9pbnQ+fSBuZXdXYXlwb2ludHNcbiAqIEBwYXJhbSB7QXJyYXk8UG9pbnQ+fSBvbGRXYXlwb2ludHNcbiAqIEBwYXJhbSB7T2JqZWN0fSBoaW50c1xuICpcbiAqIEByZXR1cm4ge1BvaW50fSBkZWx0YVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0TGFiZWxBZGp1c3RtZW50KGxhYmVsLCBuZXdXYXlwb2ludHMsIG9sZFdheXBvaW50cywgaGludHMpIHtcblxuICB2YXIgeCA9IDAsXG4gICAgICB5ID0gMDtcblxuICB2YXIgbGFiZWxQb3NpdGlvbiA9IGdldExhYmVsTWlkKGxhYmVsKTtcblxuICAvLyBnZXQgY2xvc2VzdCBhdHRhY2htZW50XG4gIHZhciBhdHRhY2htZW50ID0gZ2V0QXR0YWNobWVudChsYWJlbFBvc2l0aW9uLCBvbGRXYXlwb2ludHMpLFxuICAgICAgb2xkTGFiZWxMaW5lSW5kZXggPSBhdHRhY2htZW50LnNlZ21lbnRJbmRleCxcbiAgICAgIG5ld0xhYmVsTGluZUluZGV4ID0gZmluZE5ld0xhYmVsTGluZVN0YXJ0SW5kZXgob2xkV2F5cG9pbnRzLCBuZXdXYXlwb2ludHMsIGF0dGFjaG1lbnQsIGhpbnRzKTtcblxuICBpZiAobmV3TGFiZWxMaW5lSW5kZXggPT09IG51bGwpIHtcbiAgICByZXR1cm4geyB4OiB4LCB5OiB5IH07XG4gIH1cblxuICAvLyBzaG91bGQgbmV2ZXIgaGFwcGVuXG4gIC8vIFRPRE8oQGphbnN0dWVtbWVsKTogdGhyb3cgYW4gZXJyb3IgaGVyZSB3aGVuIGNvbm5lY3Rpb25TZWdtZW50TW92ZSBpcyByZWZhY3RvcmVkXG4gIGlmIChuZXdMYWJlbExpbmVJbmRleCA8IDAgfHxcbiAgICAgIG5ld0xhYmVsTGluZUluZGV4ID4gbmV3V2F5cG9pbnRzLmxlbmd0aCAtIDIpIHtcbiAgICByZXR1cm4geyB4OiB4LCB5OiB5IH07XG4gIH1cblxuICB2YXIgb2xkTGFiZWxMaW5lID0gZ2V0TGluZShvbGRXYXlwb2ludHMsIG9sZExhYmVsTGluZUluZGV4KSxcbiAgICAgIG5ld0xhYmVsTGluZSA9IGdldExpbmUobmV3V2F5cG9pbnRzLCBuZXdMYWJlbExpbmVJbmRleCksXG4gICAgICBvbGRGb290ID0gYXR0YWNobWVudC5wb3NpdGlvbjtcblxuICB2YXIgcmVsYXRpdmVGb290UG9zaXRpb24gPSBnZXRSZWxhdGl2ZUZvb3RQb3NpdGlvbihvbGRMYWJlbExpbmUsIG9sZEZvb3QpLFxuICAgICAgYW5nbGVEZWx0YSA9IGdldEFuZ2xlRGVsdGEob2xkTGFiZWxMaW5lLCBuZXdMYWJlbExpbmUpO1xuXG4gIC8vIHNwZWNpYWwgcnVsZSBpZiBsYWJlbCBvbiBiZW5kcG9pbnRcbiAgaWYgKGF0dGFjaG1lbnQudHlwZSA9PT0gJ2JlbmRwb2ludCcpIHtcblxuICAgIHZhciBvZmZzZXQgPSBuZXdXYXlwb2ludHMubGVuZ3RoIC0gb2xkV2F5cG9pbnRzLmxlbmd0aCxcbiAgICAgICAgb2xkQmVuZHBvaW50SW5kZXggPSBhdHRhY2htZW50LmJlbmRwb2ludEluZGV4LFxuICAgICAgICBvbGRCZW5kcG9pbnQgPSBvbGRXYXlwb2ludHNbb2xkQmVuZHBvaW50SW5kZXhdO1xuXG4gICAgLy8gYmVuZHBvaW50IHBvc2l0aW9uIGhhc24ndCBjaGFuZ2VkLCByZXR1cm4gc2FtZSBwb3NpdGlvblxuICAgIGlmIChuZXdXYXlwb2ludHMuaW5kZXhPZihvbGRCZW5kcG9pbnQpICE9PSAtMSkge1xuICAgICAgcmV0dXJuIHsgeDogeCwgeTogeSB9O1xuICAgIH1cblxuICAgIC8vIG5ldyBiZW5kcG9pbnQgYW5kIG9sZCBiZW5kcG9pbnQgaGF2ZSBzYW1lIGluZGV4LCB0aGVuIGp1c3QgcmV0dXJuIHRoZSBvZmZzZXRcbiAgICBpZiAob2Zmc2V0ID09PSAwKSB7XG4gICAgICB2YXIgbmV3QmVuZHBvaW50ID0gbmV3V2F5cG9pbnRzW29sZEJlbmRwb2ludEluZGV4XTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgeDogbmV3QmVuZHBvaW50LnggLSBhdHRhY2htZW50LnBvc2l0aW9uLngsXG4gICAgICAgIHk6IG5ld0JlbmRwb2ludC55IC0gYXR0YWNobWVudC5wb3NpdGlvbi55XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8vIGlmIGJlbmRwb2ludHMgZ2V0IHJlbW92ZWRcbiAgICBpZiAob2Zmc2V0IDwgMCAmJiBvbGRCZW5kcG9pbnRJbmRleCAhPT0gMCAmJiBvbGRCZW5kcG9pbnRJbmRleCA8IG9sZFdheXBvaW50cy5sZW5ndGggLSAxKSB7XG4gICAgICByZWxhdGl2ZUZvb3RQb3NpdGlvbiA9IHJlbGF0aXZlUG9zaXRpb25NaWRXYXlwb2ludChvbGRXYXlwb2ludHMsIG9sZEJlbmRwb2ludEluZGV4KTtcbiAgICB9XG4gIH1cblxuICB2YXIgbmV3Rm9vdCA9IHtcbiAgICB4OiAobmV3TGFiZWxMaW5lWzFdLnggLSBuZXdMYWJlbExpbmVbMF0ueCkgKiByZWxhdGl2ZUZvb3RQb3NpdGlvbiArIG5ld0xhYmVsTGluZVswXS54LFxuICAgIHk6IChuZXdMYWJlbExpbmVbMV0ueSAtIG5ld0xhYmVsTGluZVswXS55KSAqIHJlbGF0aXZlRm9vdFBvc2l0aW9uICsgbmV3TGFiZWxMaW5lWzBdLnlcbiAgfTtcblxuICAvLyB0aGUgcm90YXRlZCB2ZWN0b3IgdG8gbGFiZWxcbiAgdmFyIG5ld0xhYmVsVmVjdG9yID0gcm90YXRlVmVjdG9yKHtcbiAgICB4OiBsYWJlbFBvc2l0aW9uLnggLSBvbGRGb290LngsXG4gICAgeTogbGFiZWxQb3NpdGlvbi55IC0gb2xkRm9vdC55XG4gIH0sIGFuZ2xlRGVsdGEpO1xuXG4gIC8vIHRoZSBuZXcgcmVsYXRpdmUgcG9zaXRpb25cbiAgeCA9IG5ld0Zvb3QueCArIG5ld0xhYmVsVmVjdG9yLnggLSBsYWJlbFBvc2l0aW9uLng7XG4gIHkgPSBuZXdGb290LnkgKyBuZXdMYWJlbFZlY3Rvci55IC0gbGFiZWxQb3NpdGlvbi55O1xuXG4gIHJldHVybiByb3VuZFBvaW50KHtcbiAgICB4OiB4LFxuICAgIHk6IHlcbiAgfSk7XG59XG5cblxuLy8gSEVMUEVSUyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbmZ1bmN0aW9uIHJlbGF0aXZlUG9zaXRpb25NaWRXYXlwb2ludCh3YXlwb2ludHMsIGlkeCkge1xuXG4gIHZhciBkaXN0YW5jZVNlZ21lbnQxID0gZ2V0RGlzdGFuY2VQb2ludFBvaW50KHdheXBvaW50c1tpZHgtMV0sIHdheXBvaW50c1tpZHhdKSxcbiAgICAgIGRpc3RhbmNlU2VnbWVudDIgPSBnZXREaXN0YW5jZVBvaW50UG9pbnQod2F5cG9pbnRzW2lkeF0sIHdheXBvaW50c1tpZHgrMV0pO1xuXG4gIHZhciByZWxhdGl2ZVBvc2l0aW9uID0gZGlzdGFuY2VTZWdtZW50MSAvIChkaXN0YW5jZVNlZ21lbnQxICsgZGlzdGFuY2VTZWdtZW50Mik7XG5cbiAgcmV0dXJuIHJlbGF0aXZlUG9zaXRpb247XG59XG5cbmZ1bmN0aW9uIGdldExhYmVsTWlkKGxhYmVsKSB7XG4gIHJldHVybiB7XG4gICAgeDogbGFiZWwueCArIGxhYmVsLndpZHRoIC8gMixcbiAgICB5OiBsYWJlbC55ICsgbGFiZWwuaGVpZ2h0IC8gMlxuICB9O1xufVxuXG5mdW5jdGlvbiBnZXRBbmdsZURlbHRhKGwxLCBsMikge1xuICB2YXIgYTEgPSBnZXRBbmdsZShsMSksXG4gICAgICBhMiA9IGdldEFuZ2xlKGwyKTtcbiAgcmV0dXJuIGEyIC0gYTE7XG59XG5cbmZ1bmN0aW9uIGdldExpbmUod2F5cG9pbnRzLCBpZHgpIHtcbiAgcmV0dXJuIFsgd2F5cG9pbnRzW2lkeF0sIHdheXBvaW50c1tpZHgrMV0gXTtcbn1cblxuZnVuY3Rpb24gZ2V0UmVsYXRpdmVGb290UG9zaXRpb24obGluZSwgZm9vdCkge1xuXG4gIHZhciBsZW5ndGggPSBnZXREaXN0YW5jZVBvaW50UG9pbnQobGluZVswXSwgbGluZVsxXSksXG4gICAgICBsZW5ndGhUb0Zvb3QgPSBnZXREaXN0YW5jZVBvaW50UG9pbnQobGluZVswXSwgZm9vdCk7XG5cbiAgcmV0dXJuIGxlbmd0aCA9PT0gMCA/IDAgOiBsZW5ndGhUb0Zvb3QgLyBsZW5ndGg7XG59XG4iLCJpbXBvcnQge1xuICBhc1RSQkwsXG4gIGdldE9yaWVudGF0aW9uLFxuICByb3VuZFBvaW50XG59IGZyb20gJy4uL2xheW91dC9MYXlvdXRVdGlsJztcblxuaW1wb3J0IHtcbiAgY2VudGVyLFxuICBkZWx0YVxufSBmcm9tICcuL1Bvc2l0aW9uVXRpbCc7XG5cblxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBhYnNvbHV0ZSBwb2ludCByZWxhdGl2ZSB0byB0aGUgbmV3IGVsZW1lbnQncyBwb3NpdGlvblxuICpcbiAqIEBwYXJhbSB7cG9pbnR9IHBvaW50IFthYnNvbHV0ZV1cbiAqIEBwYXJhbSB7Ym91bmRzfSBvbGRCb3VuZHNcbiAqIEBwYXJhbSB7Ym91bmRzfSBuZXdCb3VuZHNcbiAqXG4gKiBAcmV0dXJuIHtwb2ludH0gcG9pbnQgW2Fic29sdXRlXVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0TmV3QXR0YWNoUG9pbnQocG9pbnQsIG9sZEJvdW5kcywgbmV3Qm91bmRzKSB7XG4gIHZhciBvbGRDZW50ZXIgPSBjZW50ZXIob2xkQm91bmRzKSxcbiAgICAgIG5ld0NlbnRlciA9IGNlbnRlcihuZXdCb3VuZHMpLFxuICAgICAgb2xkRGVsdGEgPSBkZWx0YShwb2ludCwgb2xkQ2VudGVyKTtcblxuICB2YXIgbmV3RGVsdGEgPSB7XG4gICAgeDogb2xkRGVsdGEueCAqIChuZXdCb3VuZHMud2lkdGggLyBvbGRCb3VuZHMud2lkdGgpLFxuICAgIHk6IG9sZERlbHRhLnkgKiAobmV3Qm91bmRzLmhlaWdodCAvIG9sZEJvdW5kcy5oZWlnaHQpXG4gIH07XG5cbiAgcmV0dXJuIHJvdW5kUG9pbnQoe1xuICAgIHg6IG5ld0NlbnRlci54ICsgbmV3RGVsdGEueCxcbiAgICB5OiBuZXdDZW50ZXIueSArIG5ld0RlbHRhLnlcbiAgfSk7XG59XG5cblxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBzaGFwZSdzIGRlbHRhIHJlbGF0aXZlIHRvIGEgbmV3IHBvc2l0aW9uXG4gKiBvZiBhIGNlcnRhaW4gZWxlbWVudCdzIGJvdW5kc1xuICpcbiAqIEBwYXJhbSB7ZGpzLm1vZGVsLlNoYXBlfSBwb2ludCBbYWJzb2x1dGVdXG4gKiBAcGFyYW0ge2JvdW5kc30gb2xkQm91bmRzXG4gKiBAcGFyYW0ge2JvdW5kc30gbmV3Qm91bmRzXG4gKlxuICogQHJldHVybiB7ZGVsdGF9IGRlbHRhXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXROZXdBdHRhY2hTaGFwZURlbHRhKHNoYXBlLCBvbGRCb3VuZHMsIG5ld0JvdW5kcykge1xuICB2YXIgc2hhcGVDZW50ZXIgPSBjZW50ZXIoc2hhcGUpLFxuICAgICAgb2xkQ2VudGVyID0gY2VudGVyKG9sZEJvdW5kcyksXG4gICAgICBuZXdDZW50ZXIgPSBjZW50ZXIobmV3Qm91bmRzKSxcbiAgICAgIHNoYXBlRGVsdGEgPSBkZWx0YShzaGFwZSwgc2hhcGVDZW50ZXIpLFxuICAgICAgb2xkQ2VudGVyRGVsdGEgPSBkZWx0YShzaGFwZUNlbnRlciwgb2xkQ2VudGVyKSxcbiAgICAgIHN0aWNreVBvc2l0aW9uRGVsdGEgPSBnZXRTdGlja3lQb3NpdGlvbkRlbHRhKHNoYXBlQ2VudGVyLCBvbGRCb3VuZHMsIG5ld0JvdW5kcyk7XG5cbiAgaWYgKHN0aWNreVBvc2l0aW9uRGVsdGEpIHtcbiAgICByZXR1cm4gc3RpY2t5UG9zaXRpb25EZWx0YTtcbiAgfVxuXG4gIHZhciBuZXdDZW50ZXJEZWx0YSA9IHtcbiAgICB4OiBvbGRDZW50ZXJEZWx0YS54ICogKG5ld0JvdW5kcy53aWR0aCAvIG9sZEJvdW5kcy53aWR0aCksXG4gICAgeTogb2xkQ2VudGVyRGVsdGEueSAqIChuZXdCb3VuZHMuaGVpZ2h0IC8gb2xkQm91bmRzLmhlaWdodClcbiAgfTtcblxuICB2YXIgbmV3U2hhcGVDZW50ZXIgPSB7XG4gICAgeDogbmV3Q2VudGVyLnggKyBuZXdDZW50ZXJEZWx0YS54LFxuICAgIHk6IG5ld0NlbnRlci55ICsgbmV3Q2VudGVyRGVsdGEueVxuICB9O1xuXG4gIHJldHVybiByb3VuZFBvaW50KHtcbiAgICB4OiBuZXdTaGFwZUNlbnRlci54ICsgc2hhcGVEZWx0YS54IC0gc2hhcGUueCxcbiAgICB5OiBuZXdTaGFwZUNlbnRlci55ICsgc2hhcGVEZWx0YS55IC0gc2hhcGUueVxuICB9KTtcbn1cblxuZnVuY3Rpb24gZ2V0U3RpY2t5UG9zaXRpb25EZWx0YShvbGRTaGFwZUNlbnRlciwgb2xkQm91bmRzLCBuZXdCb3VuZHMpIHtcbiAgdmFyIG9sZFRSQkwgPSBhc1RSQkwob2xkQm91bmRzKSxcbiAgICAgIG5ld1RSQkwgPSBhc1RSQkwobmV3Qm91bmRzKTtcblxuICBpZiAoaXNNb3ZlZChvbGRUUkJMLCBuZXdUUkJMKSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgdmFyIG9sZE9yaWVudGF0aW9uID0gZ2V0T3JpZW50YXRpb24ob2xkQm91bmRzLCBvbGRTaGFwZUNlbnRlciksXG4gICAgICBzdGlja3lQb3NpdGlvbkRlbHRhLFxuICAgICAgbmV3U2hhcGVDZW50ZXIsXG4gICAgICBuZXdPcmllbnRhdGlvbjtcblxuICBpZiAob2xkT3JpZW50YXRpb24gPT09ICd0b3AnKSB7XG4gICAgc3RpY2t5UG9zaXRpb25EZWx0YSA9IHtcbiAgICAgIHg6IDAsXG4gICAgICB5OiBuZXdUUkJMLmJvdHRvbSAtIG9sZFRSQkwuYm90dG9tXG4gICAgfTtcbiAgfSBlbHNlIGlmIChvbGRPcmllbnRhdGlvbiA9PT0gJ2JvdHRvbScpIHtcbiAgICBzdGlja3lQb3NpdGlvbkRlbHRhID0ge1xuICAgICAgeDogMCxcbiAgICAgIHk6IG5ld1RSQkwudG9wIC0gb2xkVFJCTC50b3BcbiAgICB9O1xuICB9IGVsc2UgaWYgKG9sZE9yaWVudGF0aW9uID09PSAncmlnaHQnKSB7XG4gICAgc3RpY2t5UG9zaXRpb25EZWx0YSA9IHtcbiAgICAgIHg6IG5ld1RSQkwubGVmdCAtIG9sZFRSQkwubGVmdCxcbiAgICAgIHk6IDBcbiAgICB9O1xuICB9IGVsc2UgaWYgKG9sZE9yaWVudGF0aW9uID09PSAnbGVmdCcpIHtcbiAgICBzdGlja3lQb3NpdGlvbkRlbHRhID0ge1xuICAgICAgeDogbmV3VFJCTC5yaWdodCAtIG9sZFRSQkwucmlnaHQsXG4gICAgICB5OiAwXG4gICAgfTtcbiAgfSBlbHNlIHtcblxuICAgIC8vIGZhbGxiYWNrIHRvIHByb3BvcnRpb25hbCBtb3ZlbWVudCBmb3IgY29ybmVyLXBsYWNlZCBhdHRhY2htZW50c1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgbmV3U2hhcGVDZW50ZXIgPSB7XG4gICAgeDogb2xkU2hhcGVDZW50ZXIueCArIHN0aWNreVBvc2l0aW9uRGVsdGEueCxcbiAgICB5OiBvbGRTaGFwZUNlbnRlci55ICsgc3RpY2t5UG9zaXRpb25EZWx0YS55XG4gIH07XG5cbiAgbmV3T3JpZW50YXRpb24gPSBnZXRPcmllbnRhdGlvbihuZXdCb3VuZHMsIG5ld1NoYXBlQ2VudGVyKTtcblxuICBpZiAobmV3T3JpZW50YXRpb24gIT09IG9sZE9yaWVudGF0aW9uKSB7XG5cbiAgICAvLyBmYWxsYmFjayB0byBwcm9wb3J0aW9uYWwgbW92ZW1lbnQgaWYgb3JpZW50YXRpb24gd291bGQgb3RoZXJ3aXNlIGNoYW5nZVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIHN0aWNreVBvc2l0aW9uRGVsdGE7XG59XG5cbmZ1bmN0aW9uIGlzTW92ZWQob2xkVFJCTCwgbmV3VFJCTCkge1xuICByZXR1cm4gaXNIb3Jpem9udGFsbHlNb3ZlZChvbGRUUkJMLCBuZXdUUkJMKSB8fCBpc1ZlcnRpY2FsbHlNb3ZlZChvbGRUUkJMLCBuZXdUUkJMKTtcbn1cblxuZnVuY3Rpb24gaXNIb3Jpem9udGFsbHlNb3ZlZChvbGRUUkJMLCBuZXdUUkJMKSB7XG4gIHJldHVybiBvbGRUUkJMLnJpZ2h0ICE9PSBuZXdUUkJMLnJpZ2h0ICYmIG9sZFRSQkwubGVmdCAhPT0gbmV3VFJCTC5sZWZ0O1xufVxuXG5mdW5jdGlvbiBpc1ZlcnRpY2FsbHlNb3ZlZChvbGRUUkJMLCBuZXdUUkJMKSB7XG4gIHJldHVybiBvbGRUUkJMLnRvcCAhPT0gbmV3VFJCTC50b3AgJiYgb2xkVFJCTC5ib3R0b20gIT09IG5ld1RSQkwuYm90dG9tO1xufVxuIiwiaW1wb3J0IHtcbiAgYXNzaWduXG59IGZyb20gJ21pbi1kYXNoJztcblxuaW1wb3J0IGluaGVyaXRzIGZyb20gJ2luaGVyaXRzJztcblxuaW1wb3J0IHtcbiAgaXMsXG4gIGdldEJ1c2luZXNzT2JqZWN0XG59IGZyb20gJy4uLy4uLy4uL3V0aWwvTW9kZWxVdGlsJztcblxuaW1wb3J0IHtcbiAgaXNMYWJlbEV4dGVybmFsLFxuICBnZXRFeHRlcm5hbExhYmVsTWlkLFxuICBoYXNFeHRlcm5hbExhYmVsLFxuICBpc0xhYmVsXG59IGZyb20gJy4uLy4uLy4uL3V0aWwvTGFiZWxVdGlsJztcblxuaW1wb3J0IHtcbiAgZ2V0TGFiZWxcbn0gZnJvbSAnLi4vLi4vbGFiZWwtZWRpdGluZy9MYWJlbFV0aWwnO1xuXG5pbXBvcnQge1xuICBnZXRMYWJlbEFkanVzdG1lbnRcbn0gZnJvbSAnLi91dGlsL0xhYmVsTGF5b3V0VXRpbCc7XG5cbmltcG9ydCBDb21tYW5kSW50ZXJjZXB0b3IgZnJvbSAnZGlhZ3JhbS1qcy9saWIvY29tbWFuZC9Db21tYW5kSW50ZXJjZXB0b3InO1xuXG5pbXBvcnQge1xuICBnZXROZXdBdHRhY2hQb2ludFxufSBmcm9tICdkaWFncmFtLWpzL2xpYi91dGlsL0F0dGFjaFV0aWwnO1xuXG5pbXBvcnQge1xuICBnZXRNaWQsXG4gIHJvdW5kUG9pbnRcbn0gZnJvbSAnZGlhZ3JhbS1qcy9saWIvbGF5b3V0L0xheW91dFV0aWwnO1xuXG5pbXBvcnQge1xuICBkZWx0YVxufSBmcm9tICdkaWFncmFtLWpzL2xpYi91dGlsL1Bvc2l0aW9uVXRpbCc7XG5cbmltcG9ydCB7XG4gIHNvcnRCeVxufSBmcm9tICdtaW4tZGFzaCc7XG5cbmltcG9ydCB7XG4gIGdldERpc3RhbmNlUG9pbnRMaW5lLFxuICBwZXJwZW5kaWN1bGFyRm9vdFxufSBmcm9tICcuL3V0aWwvR2VvbWV0cmljVXRpbCc7XG5cbnZhciBERUZBVUxUX0xBQkVMX0RJTUVOU0lPTlMgPSB7XG4gIHdpZHRoOiA5MCxcbiAgaGVpZ2h0OiAyMFxufTtcblxudmFyIE5BTUVfUFJPUEVSVFkgPSAnbmFtZSc7XG5cbi8qKlxuICogQSBjb21wb25lbnQgdGhhdCBtYWtlcyBzdXJlIHRoYXQgZXh0ZXJuYWwgbGFiZWxzIGFyZSBhZGRlZFxuICogdG9nZXRoZXIgd2l0aCByZXNwZWN0aXZlIGVsZW1lbnRzIGFuZCBwcm9wZXJseSB1cGRhdGVkIChESSB3aXNlKVxuICogZHVyaW5nIG1vdmUuXG4gKlxuICogQHBhcmFtIHtFdmVudEJ1c30gZXZlbnRCdXNcbiAqIEBwYXJhbSB7TW9kZWxpbmd9IG1vZGVsaW5nXG4gKiBAcGFyYW0ge1Bvc3RpdEZhY3Rvcnl9IHBvc3RpdEZhY3RvcnlcbiAqIEBwYXJhbSB7VGV4dFJlbmRlcmVyfSB0ZXh0UmVuZGVyZXJcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTGFiZWxCZWhhdmlvcihcbiAgICBldmVudEJ1cywgbW9kZWxpbmcsIHBvc3RpdEZhY3RvcnksXG4gICAgdGV4dFJlbmRlcmVyKSB7XG5cbiAgQ29tbWFuZEludGVyY2VwdG9yLmNhbGwodGhpcywgZXZlbnRCdXMpO1xuXG4gIC8vIHVwZGF0ZSBsYWJlbCBpZiBuYW1lIHByb3BlcnR5IHdhcyB1cGRhdGVkXG4gIHRoaXMucG9zdEV4ZWN1dGUoJ2VsZW1lbnQudXBkYXRlUHJvcGVydGllcycsIGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgY29udGV4dCA9IGUuY29udGV4dCxcbiAgICAgICAgZWxlbWVudCA9IGNvbnRleHQuZWxlbWVudCxcbiAgICAgICAgcHJvcGVydGllcyA9IGNvbnRleHQucHJvcGVydGllcztcblxuICAgIGlmIChOQU1FX1BST1BFUlRZIGluIHByb3BlcnRpZXMpIHtcbiAgICAgIG1vZGVsaW5nLnVwZGF0ZUxhYmVsKGVsZW1lbnQsIHByb3BlcnRpZXNbTkFNRV9QUk9QRVJUWV0pO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gY3JlYXRlIGxhYmVsIHNoYXBlIGFmdGVyIHNoYXBlL2Nvbm5lY3Rpb24gd2FzIGNyZWF0ZWRcbiAgdGhpcy5wb3N0RXhlY3V0ZShbICdzaGFwZS5jcmVhdGUnLCAnY29ubmVjdGlvbi5jcmVhdGUnIF0sIGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgY29udGV4dCA9IGUuY29udGV4dCxcbiAgICAgICAgaGludHMgPSBjb250ZXh0LmhpbnRzIHx8IHt9O1xuXG4gICAgaWYgKGhpbnRzLmNyZWF0ZUVsZW1lbnRzQmVoYXZpb3IgPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGVsZW1lbnQgPSBjb250ZXh0LnNoYXBlIHx8IGNvbnRleHQuY29ubmVjdGlvbixcbiAgICAgICAgYnVzaW5lc3NPYmplY3QgPSBlbGVtZW50LmJ1c2luZXNzT2JqZWN0O1xuXG4gICAgaWYgKGlzTGFiZWwoZWxlbWVudCkgfHwgIWlzTGFiZWxFeHRlcm5hbChlbGVtZW50KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIG9ubHkgY3JlYXRlIGxhYmVsIGlmIGF0dHJpYnV0ZSBhdmFpbGFibGVcbiAgICBpZiAoIWdldExhYmVsKGVsZW1lbnQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGxhYmVsQ2VudGVyID0gZ2V0RXh0ZXJuYWxMYWJlbE1pZChlbGVtZW50KTtcblxuICAgIC8vIHdlIGRvbid0IGNhcmUgYWJvdXQgeCBhbmQgeVxuICAgIHZhciBsYWJlbERpbWVuc2lvbnMgPSB0ZXh0UmVuZGVyZXIuZ2V0RXh0ZXJuYWxMYWJlbEJvdW5kcyhcbiAgICAgIERFRkFVTFRfTEFCRUxfRElNRU5TSU9OUyxcbiAgICAgIGdldExhYmVsKGVsZW1lbnQpXG4gICAgKTtcblxuICAgIG1vZGVsaW5nLmNyZWF0ZUxhYmVsKGVsZW1lbnQsIGxhYmVsQ2VudGVyLCB7XG4gICAgICBpZDogYnVzaW5lc3NPYmplY3QuaWQgKyAnX2xhYmVsJyxcbiAgICAgIGJ1c2luZXNzT2JqZWN0OiBidXNpbmVzc09iamVjdCxcbiAgICAgIHdpZHRoOiBsYWJlbERpbWVuc2lvbnMud2lkdGgsXG4gICAgICBoZWlnaHQ6IGxhYmVsRGltZW5zaW9ucy5oZWlnaHRcbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gdXBkYXRlIGxhYmVsIGFmdGVyIGxhYmVsIHNoYXBlIHdhcyBkZWxldGVkXG4gIHRoaXMucG9zdEV4ZWN1dGUoJ3NoYXBlLmRlbGV0ZScsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0LFxuICAgICAgICBsYWJlbFRhcmdldCA9IGNvbnRleHQubGFiZWxUYXJnZXQsXG4gICAgICAgIGhpbnRzID0gY29udGV4dC5oaW50cyB8fCB7fTtcblxuICAgIC8vIGNoZWNrIGlmIGxhYmVsXG4gICAgaWYgKGxhYmVsVGFyZ2V0ICYmIGhpbnRzLnVuc2V0TGFiZWwgIT09IGZhbHNlKSB7XG4gICAgICBtb2RlbGluZy51cGRhdGVMYWJlbChsYWJlbFRhcmdldCwgbnVsbCwgbnVsbCwgeyByZW1vdmVTaGFwZTogZmFsc2UgfSk7XG4gICAgfVxuICB9KTtcblxuICAvLyB1cGRhdGUgZGkgaW5mb3JtYXRpb24gb24gbGFiZWwgY3JlYXRpb25cbiAgdGhpcy5wb3N0RXhlY3V0ZShbICdsYWJlbC5jcmVhdGUnIF0sIGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICB2YXIgY29udGV4dCA9IGV2ZW50LmNvbnRleHQsXG4gICAgICAgIGVsZW1lbnQgPSBjb250ZXh0LnNoYXBlLFxuICAgICAgICBidXNpbmVzc09iamVjdCxcbiAgICAgICAgZGk7XG5cbiAgICAvLyB3ZSB3YW50IHRvIHRyaWdnZXIgb24gcmVhbCBsYWJlbHMgb25seVxuICAgIGlmICghZWxlbWVudC5sYWJlbFRhcmdldCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIHdlIHdhbnQgdG8gdHJpZ2dlciBvbiBib2FyZCBlbGVtZW50cyBvbmx5XG4gICAgaWYgKCFpcyhlbGVtZW50LmxhYmVsVGFyZ2V0IHx8IGVsZW1lbnQsICdwb3N0aXQ6Qm9hcmRFbGVtZW50JykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBidXNpbmVzc09iamVjdCA9IGVsZW1lbnQuYnVzaW5lc3NPYmplY3QsXG4gICAgZGkgPSBidXNpbmVzc09iamVjdC5kaTtcblxuXG4gICAgaWYgKCFkaS5sYWJlbCkge1xuICAgICAgZGkubGFiZWwgPSBwb3N0aXRGYWN0b3J5LmNyZWF0ZSgncG9zdGl0RGk6UG9zdGl0TGFiZWwnLCB7XG4gICAgICAgIGJvdW5kczogcG9zdGl0RmFjdG9yeS5jcmVhdGUoJ2RjOkJvdW5kcycpXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBhc3NpZ24oZGkubGFiZWwuYm91bmRzLCB7XG4gICAgICB4OiBlbGVtZW50LngsXG4gICAgICB5OiBlbGVtZW50LnksXG4gICAgICB3aWR0aDogZWxlbWVudC53aWR0aCxcbiAgICAgIGhlaWdodDogZWxlbWVudC5oZWlnaHRcbiAgICB9KTtcbiAgfSk7XG5cbiAgZnVuY3Rpb24gZ2V0VmlzaWJsZUxhYmVsQWRqdXN0bWVudChldmVudCkge1xuXG4gICAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0LFxuICAgICAgICBjb25uZWN0aW9uID0gY29udGV4dC5jb25uZWN0aW9uLFxuICAgICAgICBsYWJlbCA9IGNvbm5lY3Rpb24ubGFiZWwsXG4gICAgICAgIGhpbnRzID0gYXNzaWduKHt9LCBjb250ZXh0LmhpbnRzKSxcbiAgICAgICAgbmV3V2F5cG9pbnRzID0gY29udGV4dC5uZXdXYXlwb2ludHMgfHwgY29ubmVjdGlvbi53YXlwb2ludHMsXG4gICAgICAgIG9sZFdheXBvaW50cyA9IGNvbnRleHQub2xkV2F5cG9pbnRzO1xuXG5cbiAgICBpZiAodHlwZW9mIGhpbnRzLnN0YXJ0Q2hhbmdlZCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGhpbnRzLnN0YXJ0Q2hhbmdlZCA9ICEhaGludHMuY29ubmVjdGlvblN0YXJ0O1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgaGludHMuZW5kQ2hhbmdlZCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGhpbnRzLmVuZENoYW5nZWQgPSAhIWhpbnRzLmNvbm5lY3Rpb25FbmQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIGdldExhYmVsQWRqdXN0bWVudChsYWJlbCwgbmV3V2F5cG9pbnRzLCBvbGRXYXlwb2ludHMsIGhpbnRzKTtcbiAgfVxuXG4gIHRoaXMucG9zdEV4ZWN1dGUoW1xuICAgICdjb25uZWN0aW9uLmxheW91dCcsXG4gICAgJ2Nvbm5lY3Rpb24udXBkYXRlV2F5cG9pbnRzJ1xuICBdLCBmdW5jdGlvbihldmVudCkge1xuICAgIHZhciBjb250ZXh0ID0gZXZlbnQuY29udGV4dCxcbiAgICAgICAgaGludHMgPSBjb250ZXh0LmhpbnRzIHx8IHt9O1xuXG4gICAgaWYgKGhpbnRzLmxhYmVsQmVoYXZpb3IgPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGNvbm5lY3Rpb24gPSBjb250ZXh0LmNvbm5lY3Rpb24sXG4gICAgICAgIGxhYmVsID0gY29ubmVjdGlvbi5sYWJlbCxcbiAgICAgICAgbGFiZWxBZGp1c3RtZW50O1xuXG4gICAgLy8gaGFuZGxlIG1pc3NpbmcgbGFiZWwgYXMgd2VsbCBhcyB0aGUgY2FzZVxuICAgIC8vIHRoYXQgdGhlIGxhYmVsIHBhcmVudCBkb2VzIG5vdCBleGlzdCAoeWV0KSxcbiAgICAvLyBiZWNhdXNlIGl0IGlzIGJlaW5nIHBhc3RlZCAvIGNyZWF0ZWQgdmlhIG11bHRpIGVsZW1lbnQgY3JlYXRlXG4gICAgLy9cbiAgICAvLyBDZi4gaHR0cHM6Ly9naXRodWIuY29tL2JwbW4taW8vYnBtbi1qcy9wdWxsLzEyMjdcbiAgICBpZiAoIWxhYmVsIHx8ICFsYWJlbC5wYXJlbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsYWJlbEFkanVzdG1lbnQgPSBnZXRWaXNpYmxlTGFiZWxBZGp1c3RtZW50KGV2ZW50KTtcblxuICAgIG1vZGVsaW5nLm1vdmVTaGFwZShsYWJlbCwgbGFiZWxBZGp1c3RtZW50KTtcbiAgfSk7XG5cblxuICAvLyBrZWVwIGxhYmVsIHBvc2l0aW9uIG9uIHNoYXBlIHJlcGxhY2VcbiAgdGhpcy5wb3N0RXhlY3V0ZShbICdzaGFwZS5yZXBsYWNlJyBdLCBmdW5jdGlvbihldmVudCkge1xuICAgIHZhciBjb250ZXh0ID0gZXZlbnQuY29udGV4dCxcbiAgICAgICAgbmV3U2hhcGUgPSBjb250ZXh0Lm5ld1NoYXBlLFxuICAgICAgICBvbGRTaGFwZSA9IGNvbnRleHQub2xkU2hhcGU7XG5cbiAgICB2YXIgYnVzaW5lc3NPYmplY3QgPSBnZXRCdXNpbmVzc09iamVjdChuZXdTaGFwZSk7XG5cbiAgICBpZiAoYnVzaW5lc3NPYmplY3RcbiAgICAgICYmIGlzTGFiZWxFeHRlcm5hbChidXNpbmVzc09iamVjdClcbiAgICAgICYmIG9sZFNoYXBlLmxhYmVsXG4gICAgICAmJiBuZXdTaGFwZS5sYWJlbCkge1xuICAgICAgbmV3U2hhcGUubGFiZWwueCA9IG9sZFNoYXBlLmxhYmVsLng7XG4gICAgICBuZXdTaGFwZS5sYWJlbC55ID0gb2xkU2hhcGUubGFiZWwueTtcbiAgICB9XG4gIH0pO1xuXG5cbiAgLy8gbW92ZSBleHRlcm5hbCBsYWJlbCBhZnRlciByZXNpemluZ1xuICB0aGlzLnBvc3RFeGVjdXRlKCdzaGFwZS5yZXNpemUnLCBmdW5jdGlvbihldmVudCkge1xuXG4gICAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0LFxuICAgICAgICBzaGFwZSA9IGNvbnRleHQuc2hhcGUsXG4gICAgICAgIG5ld0JvdW5kcyA9IGNvbnRleHQubmV3Qm91bmRzLFxuICAgICAgICBvbGRCb3VuZHMgPSBjb250ZXh0Lm9sZEJvdW5kcztcblxuICAgIGlmIChoYXNFeHRlcm5hbExhYmVsKHNoYXBlKSkge1xuXG4gICAgICB2YXIgbGFiZWwgPSBzaGFwZS5sYWJlbCxcbiAgICAgICAgICBsYWJlbE1pZCA9IGdldE1pZChsYWJlbCksXG4gICAgICAgICAgZWRnZXMgPSBhc0VkZ2VzKG9sZEJvdW5kcyk7XG5cbiAgICAgIC8vIGdldCBuZWFyZXN0IGJvcmRlciBwb2ludCB0byBsYWJlbCBhcyByZWZlcmVuY2UgcG9pbnRcbiAgICAgIHZhciByZWZlcmVuY2VQb2ludCA9IGdldFJlZmVyZW5jZVBvaW50KGxhYmVsTWlkLCBlZGdlcyk7XG5cbiAgICAgIHZhciBkZWx0YSA9IGdldFJlZmVyZW5jZVBvaW50RGVsdGEocmVmZXJlbmNlUG9pbnQsIG9sZEJvdW5kcywgbmV3Qm91bmRzKTtcblxuICAgICAgbW9kZWxpbmcubW92ZVNoYXBlKGxhYmVsLCBkZWx0YSk7XG5cbiAgICB9XG5cbiAgfSk7XG5cbn1cblxuaW5oZXJpdHMoTGFiZWxCZWhhdmlvciwgQ29tbWFuZEludGVyY2VwdG9yKTtcblxuTGFiZWxCZWhhdmlvci4kaW5qZWN0ID0gW1xuICAnZXZlbnRCdXMnLFxuICAnbW9kZWxpbmcnLFxuICAncG9zdGl0RmFjdG9yeScsXG4gICd0ZXh0UmVuZGVyZXInXG5dO1xuXG4vLyBoZWxwZXJzIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLyoqXG4gKiBDYWxjdWxhdGVzIGEgcmVmZXJlbmNlIHBvaW50IGRlbHRhIHJlbGF0aXZlIHRvIGEgbmV3IHBvc2l0aW9uXG4gKiBvZiBhIGNlcnRhaW4gZWxlbWVudCdzIGJvdW5kc1xuICpcbiAqIEBwYXJhbSB7UG9pbnR9IHBvaW50XG4gKiBAcGFyYW0ge0JvdW5kc30gb2xkQm91bmRzXG4gKiBAcGFyYW0ge0JvdW5kc30gbmV3Qm91bmRzXG4gKlxuICogQHJldHVybiB7RGVsdGF9IGRlbHRhXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRSZWZlcmVuY2VQb2ludERlbHRhKHJlZmVyZW5jZVBvaW50LCBvbGRCb3VuZHMsIG5ld0JvdW5kcykge1xuXG4gIHZhciBuZXdSZWZlcmVuY2VQb2ludCA9IGdldE5ld0F0dGFjaFBvaW50KHJlZmVyZW5jZVBvaW50LCBvbGRCb3VuZHMsIG5ld0JvdW5kcyk7XG5cbiAgcmV0dXJuIHJvdW5kUG9pbnQoZGVsdGEobmV3UmVmZXJlbmNlUG9pbnQsIHJlZmVyZW5jZVBvaW50KSk7XG59XG5cbi8qKlxuICogR2VuZXJhdGVzIHRoZSBuZWFyZXN0IHBvaW50IChyZWZlcmVuY2UgcG9pbnQpIGZvciBhIGdpdmVuIHBvaW50XG4gKiBvbnRvIGdpdmVuIHNldCBvZiBsaW5lc1xuICpcbiAqIEBwYXJhbSB7QXJyYXk8UG9pbnQsIFBvaW50Pn0gbGluZXNcbiAqIEBwYXJhbSB7UG9pbnR9IHBvaW50XG4gKlxuICogQHBhcmFtIHtQb2ludH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFJlZmVyZW5jZVBvaW50KHBvaW50LCBsaW5lcykge1xuXG4gIGlmICghbGluZXMubGVuZ3RoKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIG5lYXJlc3RMaW5lID0gZ2V0TmVhcmVzdExpbmUocG9pbnQsIGxpbmVzKTtcblxuICByZXR1cm4gcGVycGVuZGljdWxhckZvb3QocG9pbnQsIG5lYXJlc3RMaW5lKTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0IHRoZSBnaXZlbiBib3VuZHMgdG8gYSBsaW5lcyBhcnJheSBjb250YWluaW5nIGFsbCBlZGdlc1xuICpcbiAqIEBwYXJhbSB7Qm91bmRzfFBvaW50fSBib3VuZHNcbiAqXG4gKiBAcmV0dXJuIEFycmF5PFBvaW50PlxuICovXG5leHBvcnQgZnVuY3Rpb24gYXNFZGdlcyhib3VuZHMpIHtcbiAgcmV0dXJuIFtcbiAgICBbIC8vIHRvcFxuICAgICAge1xuICAgICAgICB4OiBib3VuZHMueCxcbiAgICAgICAgeTogYm91bmRzLnlcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHg6IGJvdW5kcy54ICsgKGJvdW5kcy53aWR0aCB8fCAwKSxcbiAgICAgICAgeTogYm91bmRzLnlcbiAgICAgIH1cbiAgICBdLFxuICAgIFsgLy8gcmlnaHRcbiAgICAgIHtcbiAgICAgICAgeDogYm91bmRzLnggKyAoYm91bmRzLndpZHRoIHx8IDApLFxuICAgICAgICB5OiBib3VuZHMueVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgeDogYm91bmRzLnggKyAoYm91bmRzLndpZHRoIHx8IDApLFxuICAgICAgICB5OiBib3VuZHMueSArIChib3VuZHMuaGVpZ2h0IHx8IDApXG4gICAgICB9XG4gICAgXSxcbiAgICBbIC8vIGJvdHRvbVxuICAgICAge1xuICAgICAgICB4OiBib3VuZHMueCxcbiAgICAgICAgeTogYm91bmRzLnkgKyAoYm91bmRzLmhlaWdodCB8fCAwKVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgeDogYm91bmRzLnggKyAoYm91bmRzLndpZHRoIHx8IDApLFxuICAgICAgICB5OiBib3VuZHMueSArIChib3VuZHMuaGVpZ2h0IHx8IDApXG4gICAgICB9XG4gICAgXSxcbiAgICBbIC8vIGxlZnRcbiAgICAgIHtcbiAgICAgICAgeDogYm91bmRzLngsXG4gICAgICAgIHk6IGJvdW5kcy55XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB4OiBib3VuZHMueCxcbiAgICAgICAgeTogYm91bmRzLnkgKyAoYm91bmRzLmhlaWdodCB8fCAwKVxuICAgICAgfVxuICAgIF1cbiAgXTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBuZWFyZXN0IGxpbmUgZm9yIGEgZ2l2ZW4gcG9pbnQgYnkgZGlzdGFuY2VcbiAqIEBwYXJhbSB7UG9pbnR9IHBvaW50XG4gKiBAcGFyYW0gQXJyYXk8UG9pbnQ+IGxpbmVzXG4gKlxuICogQHJldHVybiBBcnJheTxQb2ludD5cbiAqL1xuZnVuY3Rpb24gZ2V0TmVhcmVzdExpbmUocG9pbnQsIGxpbmVzKSB7XG5cbiAgdmFyIGRpc3RhbmNlcyA9IGxpbmVzLm1hcChmdW5jdGlvbihsKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxpbmU6IGwsXG4gICAgICBkaXN0YW5jZTogZ2V0RGlzdGFuY2VQb2ludExpbmUocG9pbnQsIGwpXG4gICAgfTtcbiAgfSk7XG5cbiAgdmFyIHNvcnRlZCA9IHNvcnRCeShkaXN0YW5jZXMsICdkaXN0YW5jZScpO1xuXG4gIHJldHVybiBzb3J0ZWRbMF0ubGluZTtcbn1cbiIsImltcG9ydCBpbmhlcml0cyBmcm9tICdpbmhlcml0cyc7XG5cbmltcG9ydCB7IGZvckVhY2ggfSBmcm9tICdtaW4tZGFzaCc7XG5cbmltcG9ydCBDb21tYW5kSW50ZXJjZXB0b3IgZnJvbSAnZGlhZ3JhbS1qcy9saWIvY29tbWFuZC9Db21tYW5kSW50ZXJjZXB0b3InO1xuXG5cbi8qKlxuICogcG9zdGl0LXNwZWNpZmljIHJlcGxhY2UgYmVoYXZpb3IuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFJlcGxhY2VFbGVtZW50QmVoYXZpb3VyKFxuICAgIHBvc3RpdFJlcGxhY2UsXG4gICAgcG9zdGl0UnVsZXMsXG4gICAgZWxlbWVudFJlZ2lzdHJ5LFxuICAgIGluamVjdG9yLFxuICAgIG1vZGVsaW5nLFxuICAgIHNlbGVjdGlvblxuKSB7XG4gIGluamVjdG9yLmludm9rZShDb21tYW5kSW50ZXJjZXB0b3IsIHRoaXMpO1xuXG4gIHRoaXMuX3Bvc3RpdFJlcGxhY2UgPSBwb3N0aXRSZXBsYWNlO1xuICB0aGlzLl9lbGVtZW50UmVnaXN0cnkgPSBlbGVtZW50UmVnaXN0cnk7XG4gIHRoaXMuX3NlbGVjdGlvbiA9IHNlbGVjdGlvbjtcblxuICAvLyByZXBsYWNlIGVsZW1lbnRzIG9uIG1vdmVcbiAgdGhpcy5wb3N0RXhlY3V0ZWQoWyAnZWxlbWVudHMubW92ZScgXSwgNTAwLCBmdW5jdGlvbihldmVudCkge1xuICAgIHZhciBjb250ZXh0ID0gZXZlbnQuY29udGV4dCxcbiAgICAgICAgdGFyZ2V0ID0gY29udGV4dC5uZXdQYXJlbnQsXG4gICAgICAgIG5ld0hvc3QgPSBjb250ZXh0Lm5ld0hvc3QsXG4gICAgICAgIGVsZW1lbnRzID0gW107XG5cbiAgICBmb3JFYWNoKGNvbnRleHQuY2xvc3VyZS50b3BMZXZlbCwgZnVuY3Rpb24odG9wTGV2ZWxFbGVtZW50cykge1xuICAgICAgZWxlbWVudHMgPSBlbGVtZW50cy5jb25jYXQodG9wTGV2ZWxFbGVtZW50cyk7XG4gICAgfSk7XG5cbiAgICAvLyBzZXQgdGFyZ2V0IHRvIGhvc3QgaWYgYXR0YWNoaW5nXG4gICAgaWYgKGVsZW1lbnRzLmxlbmd0aCA9PT0gMSAmJiBuZXdIb3N0KSB7XG4gICAgICB0YXJnZXQgPSBuZXdIb3N0O1xuICAgIH1cblxuICAgIHZhciBjYW5SZXBsYWNlID0gcG9zdGl0UnVsZXMuY2FuUmVwbGFjZShlbGVtZW50cywgdGFyZ2V0KTtcblxuICAgIGlmIChjYW5SZXBsYWNlKSB7XG4gICAgICB0aGlzLnJlcGxhY2VFbGVtZW50cyhlbGVtZW50cywgY2FuUmVwbGFjZS5yZXBsYWNlbWVudHMsIG5ld0hvc3QpO1xuICAgIH1cbiAgfSwgdGhpcyk7XG5cbiAgLy8gdXBkYXRlIGF0dGFjaG1lbnRzIG9uIGhvc3QgcmVwbGFjZVxuICB0aGlzLnBvc3RFeGVjdXRlKFsgJ3NoYXBlLnJlcGxhY2UnIF0sIDE1MDAsIGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgY29udGV4dCA9IGUuY29udGV4dCxcbiAgICAgICAgb2xkU2hhcGUgPSBjb250ZXh0Lm9sZFNoYXBlLFxuICAgICAgICBuZXdTaGFwZSA9IGNvbnRleHQubmV3U2hhcGUsXG4gICAgICAgIGF0dGFjaGVycyA9IG9sZFNoYXBlLmF0dGFjaGVycyxcbiAgICAgICAgY2FuUmVwbGFjZTtcblxuICAgIGlmIChhdHRhY2hlcnMgJiYgYXR0YWNoZXJzLmxlbmd0aCkge1xuICAgICAgY2FuUmVwbGFjZSA9IHBvc3RpdFJ1bGVzLmNhblJlcGxhY2UoYXR0YWNoZXJzLCBuZXdTaGFwZSk7XG5cbiAgICAgIHRoaXMucmVwbGFjZUVsZW1lbnRzKGF0dGFjaGVycywgY2FuUmVwbGFjZS5yZXBsYWNlbWVudHMpO1xuICAgIH1cblxuICB9LCB0aGlzKTtcblxuICAvLyBrZWVwIElEIG9uIHNoYXBlIHJlcGxhY2VcbiAgdGhpcy5wb3N0RXhlY3V0ZWQoWyAnc2hhcGUucmVwbGFjZScgXSwgMTUwMCwgZnVuY3Rpb24oZSkge1xuICAgIHZhciBjb250ZXh0ID0gZS5jb250ZXh0LFxuICAgICAgICBvbGRTaGFwZSA9IGNvbnRleHQub2xkU2hhcGUsXG4gICAgICAgIG5ld1NoYXBlID0gY29udGV4dC5uZXdTaGFwZTtcblxuICAgIG1vZGVsaW5nLnVuY2xhaW1JZChvbGRTaGFwZS5idXNpbmVzc09iamVjdC5pZCwgb2xkU2hhcGUuYnVzaW5lc3NPYmplY3QpO1xuICAgIG1vZGVsaW5nLnVwZGF0ZVByb3BlcnRpZXMobmV3U2hhcGUsIHsgaWQ6IG9sZFNoYXBlLmlkIH0pO1xuICB9KTtcbn1cblxuaW5oZXJpdHMoUmVwbGFjZUVsZW1lbnRCZWhhdmlvdXIsIENvbW1hbmRJbnRlcmNlcHRvcik7XG5cblJlcGxhY2VFbGVtZW50QmVoYXZpb3VyLnByb3RvdHlwZS5yZXBsYWNlRWxlbWVudHMgPSBmdW5jdGlvbihlbGVtZW50cywgbmV3RWxlbWVudHMpIHtcbiAgdmFyIGVsZW1lbnRSZWdpc3RyeSA9IHRoaXMuX2VsZW1lbnRSZWdpc3RyeSxcbiAgICAgIHBvc3RpdFJlcGxhY2UgPSB0aGlzLl9wb3N0aXRSZXBsYWNlLFxuICAgICAgc2VsZWN0aW9uID0gdGhpcy5fc2VsZWN0aW9uO1xuXG4gIGZvckVhY2gobmV3RWxlbWVudHMsIGZ1bmN0aW9uKHJlcGxhY2VtZW50KSB7XG4gICAgdmFyIG5ld0VsZW1lbnQgPSB7XG4gICAgICB0eXBlOiByZXBsYWNlbWVudC5uZXdFbGVtZW50VHlwZVxuICAgIH07XG5cbiAgICB2YXIgb2xkRWxlbWVudCA9IGVsZW1lbnRSZWdpc3RyeS5nZXQocmVwbGFjZW1lbnQub2xkRWxlbWVudElkKTtcblxuICAgIHZhciBpZHggPSBlbGVtZW50cy5pbmRleE9mKG9sZEVsZW1lbnQpO1xuXG4gICAgZWxlbWVudHNbaWR4XSA9IHBvc3RpdFJlcGxhY2UucmVwbGFjZUVsZW1lbnQob2xkRWxlbWVudCwgbmV3RWxlbWVudCwgeyBzZWxlY3Q6IGZhbHNlIH0pO1xuICB9KTtcblxuICBpZiAobmV3RWxlbWVudHMpIHtcbiAgICBzZWxlY3Rpb24uc2VsZWN0KGVsZW1lbnRzKTtcbiAgfVxufTtcblxuUmVwbGFjZUVsZW1lbnRCZWhhdmlvdXIuJGluamVjdCA9IFtcbiAgJ3Bvc3RpdFJlcGxhY2UnLFxuICAncG9zdGl0UnVsZXMnLFxuICAnZWxlbWVudFJlZ2lzdHJ5JyxcbiAgJ2luamVjdG9yJyxcbiAgJ21vZGVsaW5nJyxcbiAgJ3NlbGVjdGlvbidcbl07XG4iLCJpbXBvcnQgaW5oZXJpdHMgZnJvbSAnaW5oZXJpdHMnO1xuXG5pbXBvcnQgQ29tbWFuZEludGVyY2VwdG9yIGZyb20gJ2RpYWdyYW0tanMvbGliL2NvbW1hbmQvQ29tbWFuZEludGVyY2VwdG9yJztcblxuaW1wb3J0IHsgaXNMYWJlbCB9IGZyb20gJy4uLy4uLy4uL3V0aWwvTGFiZWxVdGlsJztcblxuXG4vKipcbiAqIFVuY2xhaW1zIG1vZGVsIElEcyBvbiBlbGVtZW50IGRlbGV0aW9uLlxuICpcbiAqIEBwYXJhbSB7Q2FudmFzfSBjYW52YXNcbiAqIEBwYXJhbSB7SW5qZWN0b3J9IGluamVjdG9yXG4gKiBAcGFyYW0ge01vZGRsZX0gbW9kZGxlXG4gKiBAcGFyYW0ge01vZGVsaW5nfSBtb2RlbGluZ1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBVbmNsYWltSWRCZWhhdmlvcihjYW52YXMsIGluamVjdG9yLCBtb2RkbGUsIG1vZGVsaW5nKSB7XG4gIGluamVjdG9yLmludm9rZShDb21tYW5kSW50ZXJjZXB0b3IsIHRoaXMpO1xuXG4gIHRoaXMucHJlRXhlY3V0ZSgnc2hhcGUuZGVsZXRlJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgY29udGV4dCA9IGV2ZW50LmNvbnRleHQsXG4gICAgICAgIHNoYXBlID0gY29udGV4dC5zaGFwZSxcbiAgICAgICAgc2hhcGVCbyA9IHNoYXBlLmJ1c2luZXNzT2JqZWN0O1xuXG4gICAgaWYgKGlzTGFiZWwoc2hhcGUpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbW9kZWxpbmcudW5jbGFpbUlkKHNoYXBlQm8uaWQsIHNoYXBlQm8pO1xuICB9KTtcblxuICB0aGlzLnByZUV4ZWN1dGUoJ2NhbnZhcy51cGRhdGVSb290JywgZnVuY3Rpb24oKSB7XG4gICAgdmFyIHJvb3RFbGVtZW50ID0gY2FudmFzLmdldFJvb3RFbGVtZW50KCksXG4gICAgICAgIHJvb3RFbGVtZW50Qm8gPSByb290RWxlbWVudC5idXNpbmVzc09iamVjdDtcblxuICAgIG1vZGRsZS5pZHMudW5jbGFpbShyb290RWxlbWVudEJvLmlkKTtcbiAgfSk7XG59XG5cbmluaGVyaXRzKFVuY2xhaW1JZEJlaGF2aW9yLCBDb21tYW5kSW50ZXJjZXB0b3IpO1xuXG5VbmNsYWltSWRCZWhhdmlvci4kaW5qZWN0ID0gWyAnY2FudmFzJywgJ2luamVjdG9yJywgJ21vZGRsZScsICdtb2RlbGluZycgXTsiLCJpbXBvcnQgaW5oZXJpdHMgZnJvbSAnaW5oZXJpdHMnO1xuXG5pbXBvcnQge1xuICBhc3NpZ25cbn0gZnJvbSAnbWluLWRhc2gnO1xuXG5pbXBvcnQge1xuICBnZXRCdXNpbmVzc09iamVjdCxcbiAgaXNcbn0gZnJvbSAnLi4vLi4vLi4vdXRpbC9Nb2RlbFV0aWwnO1xuXG5pbXBvcnQgQ29tbWFuZEludGVyY2VwdG9yIGZyb20gJ2RpYWdyYW0tanMvbGliL2NvbW1hbmQvQ29tbWFuZEludGVyY2VwdG9yJztcblxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDcmVhdGVCb2FyZEVsZW1lbnRCZWhhdmlvcihldmVudEJ1cykge1xuXG4gIENvbW1hbmRJbnRlcmNlcHRvci5jYWxsKHRoaXMsIGV2ZW50QnVzKTtcblxuICAvLyBlbnN1cmUgcHJvcGVydGllcyB3ZXJlIHNldCBpbiBidXNpbmVzcyBvYmplY3RcblxuICB0aGlzLmV4ZWN1dGUoJ3NoYXBlLmNyZWF0ZScsIGZ1bmN0aW9uKGNvbnRleHQpIHtcblxuICAgIHZhciBzaGFwZSA9IGNvbnRleHQuY29udGV4dC5zaGFwZTtcblxuICAgIGlmIChpcyhzaGFwZSwgJ3Bvc3RpdDpQb3N0aXQnKSkge1xuICAgICAgY29uc3QgYnVzaW5lc3NPYmplY3QgPSBnZXRCdXNpbmVzc09iamVjdChzaGFwZSk7XG4gICAgICAhYnVzaW5lc3NPYmplY3QuY29sb3IgJiYgYXNzaWduKGJ1c2luZXNzT2JqZWN0LCB7IGNvbG9yOiBzaGFwZS5jb2xvciB9KTtcbiAgICB9XG5cbiAgICBpZiAoaXMoc2hhcGUsICdwb3N0aXQ6SW1hZ2UnKSkge1xuICAgICAgY29uc3QgYnVzaW5lc3NPYmplY3QgPSBnZXRCdXNpbmVzc09iamVjdChzaGFwZSk7XG4gICAgICAhYnVzaW5lc3NPYmplY3Quc291cmNlICYmIGFzc2lnbihidXNpbmVzc09iamVjdCwgeyBzb3VyY2U6IHNoYXBlLnNvdXJjZSB9KTtcbiAgICB9XG4gIH0pO1xufVxuXG5pbmhlcml0cyhDcmVhdGVCb2FyZEVsZW1lbnRCZWhhdmlvciwgQ29tbWFuZEludGVyY2VwdG9yKTtcblxuQ3JlYXRlQm9hcmRFbGVtZW50QmVoYXZpb3IuJGluamVjdCA9IFtcbiAgJ2V2ZW50QnVzJ1xuXTsiLCJpbXBvcnQgaW5oZXJpdHMgZnJvbSAnaW5oZXJpdHMnO1xuXG5pbXBvcnQge1xuICBpcyxcbiAgZ2V0QnVzaW5lc3NPYmplY3Rcbn0gZnJvbSAnLi4vLi4vLi4vdXRpbC9Nb2RlbFV0aWwnO1xuXG5pbXBvcnQgQ29tbWFuZEludGVyY2VwdG9yIGZyb20gJ2RpYWdyYW0tanMvbGliL2NvbW1hbmQvQ29tbWFuZEludGVyY2VwdG9yJztcblxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBFbXB0eVRleHRCb3hCZWhhdmlvcihldmVudEJ1cywgbW9kZWxpbmcsIGRpcmVjdEVkaXRpbmcpIHtcblxuICBDb21tYW5kSW50ZXJjZXB0b3IuY2FsbCh0aGlzLCBldmVudEJ1cyk7XG5cbiAgLy8gZGVsZXRlIHRleHQgYm94IGlmIGl0IGhhcyBubyB0ZXh0XG4gIHRoaXMucG9zdEV4ZWN1dGUoJ2VsZW1lbnQudXBkYXRlTGFiZWwnLCBmdW5jdGlvbihjb250ZXh0KSB7XG5cbiAgICB2YXIgZWxlbWVudCA9IGNvbnRleHQuZWxlbWVudCxcbiAgICAgICAgbmV3TGFiZWwgPSBjb250ZXh0Lm5ld0xhYmVsO1xuXG4gICAgaWYgKGlzKGVsZW1lbnQsICdwb3N0aXQ6VGV4dEJveCcpICYmIGlzRW1wdHkobmV3TGFiZWwpKSB7XG4gICAgICBtb2RlbGluZy5yZW1vdmVFbGVtZW50cyhbIGVsZW1lbnQgXSk7XG4gICAgfVxuICB9LCB0cnVlKTtcblxuICBldmVudEJ1cy5vbignZGlyZWN0RWRpdGluZy5jYW5jZWwnLCAxMDAxLCBmdW5jdGlvbihldmVudCkge1xuICAgIHZhciBhY3RpdmUgPSBldmVudC5hY3RpdmUsXG4gICAgICAgIGVsZW1lbnQgPSBhY3RpdmUuZWxlbWVudDtcblxuICAgIGlmIChpcyhlbGVtZW50LCAncG9zdGl0OlRleHRCb3gnKSAmJiBpc0VtcHR5KGdldEJ1c2luZXNzT2JqZWN0KGVsZW1lbnQpLm5hbWUpKSB7XG4gICAgICBkaXJlY3RFZGl0aW5nLl9hY3RpdmUgPSBmYWxzZTtcbiAgICAgIG1vZGVsaW5nLnJlbW92ZUVsZW1lbnRzKFsgZWxlbWVudCBdKTtcbiAgICB9XG4gIH0pO1xufVxuXG5pbmhlcml0cyhFbXB0eVRleHRCb3hCZWhhdmlvciwgQ29tbWFuZEludGVyY2VwdG9yKTtcblxuRW1wdHlUZXh0Qm94QmVoYXZpb3IuJGluamVjdCA9IFtcbiAgJ2V2ZW50QnVzJyxcbiAgJ21vZGVsaW5nJyxcbiAgJ2RpcmVjdEVkaXRpbmcnXG5dO1xuXG5cbi8vIGhlbHBlcnMgLy8vLy8vLy8vL1xuXG5mdW5jdGlvbiBpc0VtcHR5KGxhYmVsKSB7XG4gIHJldHVybiAhbGFiZWwgfHwgbGFiZWwgPT09ICcnO1xufSIsImltcG9ydCBBZGFwdGl2ZUxhYmVsUG9zaXRpb25pbmdCZWhhdmlvciBmcm9tICcuL0FkYXB0aXZlTGFiZWxQb3NpdGlvbmluZ0JlaGF2aW9yJztcbmltcG9ydCBBcHBlbmRCZWhhdmlvciBmcm9tICcuL0FwcGVuZEJlaGF2aW9yJztcbmltcG9ydCBGaXhIb3ZlckJlaGF2aW9yIGZyb20gJy4vRml4SG92ZXJCZWhhdmlvcic7XG5pbXBvcnQgSW1wb3J0RG9ja2luZ0ZpeCBmcm9tICcuL0ltcG9ydERvY2tpbmdGaXgnO1xuaW1wb3J0IExhYmVsQmVoYXZpb3IgZnJvbSAnLi9MYWJlbEJlaGF2aW9yJztcbmltcG9ydCBSZXBsYWNlRWxlbWVudEJlaGF2aW91ciBmcm9tICcuL1JlcGxhY2VFbGVtZW50QmVoYXZpb3VyJztcbmltcG9ydCBVbmNsYWltSWRCZWhhdmlvciBmcm9tICcuL1VuY2xhaW1JZEJlaGF2aW9yJztcbmltcG9ydCBDcmVhdGVCb2FyZEVsZW1lbnRCZWhhdmlvciBmcm9tICcuL0NyZWF0ZUJvYXJkRWxlbWVudEJlaGF2aW9yJztcbmltcG9ydCBFbXB0eVRleHRCb3hCZWhhdmlvciBmcm9tICcuL0VtcHR5VGV4dEJveEJlaGF2aW9yJztcblxuZXhwb3J0IGRlZmF1bHQge1xuICBfX2luaXRfXzogW1xuICAgICdhZGFwdGl2ZUxhYmVsUG9zaXRpb25pbmdCZWhhdmlvcicsXG4gICAgJ2FwcGVuZEJlaGF2aW9yJyxcbiAgICAnZml4SG92ZXJCZWhhdmlvcicsXG4gICAgJ2ltcG9ydERvY2tpbmdGaXgnLFxuICAgICdsYWJlbEJlaGF2aW9yJyxcbiAgICAncmVwbGFjZUVsZW1lbnRCZWhhdmlvdXInLFxuICAgICd1bmNsYWltSWRCZWhhdmlvcicsXG4gICAgJ2NyZWF0ZUJvYXJkRWxlbWVudEJlaGF2aW9yJyxcbiAgICAnZW1wdHlUZXh0Qm94QmVoYXZpb3InXG4gIF0sXG4gIGFkYXB0aXZlTGFiZWxQb3NpdGlvbmluZ0JlaGF2aW9yOiBbICd0eXBlJywgQWRhcHRpdmVMYWJlbFBvc2l0aW9uaW5nQmVoYXZpb3IgXSxcbiAgYXBwZW5kQmVoYXZpb3I6IFsgJ3R5cGUnLCBBcHBlbmRCZWhhdmlvciBdLFxuICBmaXhIb3ZlckJlaGF2aW9yOiBbICd0eXBlJywgRml4SG92ZXJCZWhhdmlvciBdLFxuICBpbXBvcnREb2NraW5nRml4OiBbICd0eXBlJywgSW1wb3J0RG9ja2luZ0ZpeCBdLFxuICBsYWJlbEJlaGF2aW9yOiBbICd0eXBlJywgTGFiZWxCZWhhdmlvciBdLFxuICByZXBsYWNlRWxlbWVudEJlaGF2aW91cjogWyAndHlwZScsIFJlcGxhY2VFbGVtZW50QmVoYXZpb3VyIF0sXG4gIHVuY2xhaW1JZEJlaGF2aW9yOiBbICd0eXBlJywgVW5jbGFpbUlkQmVoYXZpb3IgXSxcbiAgY3JlYXRlQm9hcmRFbGVtZW50QmVoYXZpb3I6IFsgJ3R5cGUnLCBDcmVhdGVCb2FyZEVsZW1lbnRCZWhhdmlvciBdLFxuICBlbXB0eVRleHRCb3hCZWhhdmlvcjogWyAndHlwZScsIEVtcHR5VGV4dEJveEJlaGF2aW9yIF1cbn07XG4iLCJpbXBvcnQgaW5oZXJpdHMgZnJvbSAnaW5oZXJpdHMnO1xuXG5pbXBvcnQgQ29tbWFuZEludGVyY2VwdG9yIGZyb20gJy4uLy4uL2NvbW1hbmQvQ29tbWFuZEludGVyY2VwdG9yJztcblxuLyoqXG4gKiBBIGJhc2ljIHByb3ZpZGVyIHRoYXQgbWF5IGJlIGV4dGVuZGVkIHRvIGltcGxlbWVudCBtb2RlbGluZyBydWxlcy5cbiAqXG4gKiBFeHRlbnNpb25zIHNob3VsZCBpbXBsZW1lbnQgdGhlIGluaXQgbWV0aG9kIHRvIGFjdHVhbGx5IGFkZCB0aGVpciBjdXN0b21cbiAqIG1vZGVsaW5nIGNoZWNrcy4gQ2hlY2tzIG1heSBiZSBhZGRlZCB2aWEgdGhlICNhZGRSdWxlKGFjdGlvbiwgZm4pIG1ldGhvZC5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50QnVzfSBldmVudEJ1c1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBSdWxlUHJvdmlkZXIoZXZlbnRCdXMpIHtcbiAgQ29tbWFuZEludGVyY2VwdG9yLmNhbGwodGhpcywgZXZlbnRCdXMpO1xuXG4gIHRoaXMuaW5pdCgpO1xufVxuXG5SdWxlUHJvdmlkZXIuJGluamVjdCA9IFsgJ2V2ZW50QnVzJyBdO1xuXG5pbmhlcml0cyhSdWxlUHJvdmlkZXIsIENvbW1hbmRJbnRlcmNlcHRvcik7XG5cblxuLyoqXG4gKiBBZGRzIGEgbW9kZWxpbmcgcnVsZSBmb3IgdGhlIGdpdmVuIGFjdGlvbiwgaW1wbGVtZW50ZWQgdGhyb3VnaFxuICogYSBjYWxsYmFjayBmdW5jdGlvbi5cbiAqXG4gKiBUaGUgZnVuY3Rpb24gd2lsbCByZWNlaXZlIHRoZSBtb2RlbGluZyBzcGVjaWZpYyBhY3Rpb24gY29udGV4dFxuICogdG8gcGVyZm9ybSBpdHMgY2hlY2suIEl0IG11c3QgcmV0dXJuIGBmYWxzZWAgdG8gZGlzYWxsb3cgdGhlXG4gKiBhY3Rpb24gZnJvbSBoYXBwZW5pbmcgb3IgYHRydWVgIHRvIGFsbG93IHRoZSBhY3Rpb24uXG4gKlxuICogQSBydWxlIHByb3ZpZGVyIG1heSBwYXNzIG92ZXIgdGhlIGV2YWx1YXRpb24gdG8gbG93ZXIgcHJpb3JpdHlcbiAqIHJ1bGVzIGJ5IHJldHVybmluZyByZXR1cm4gbm90aGluZyAob3IgPGNvZGU+dW5kZWZpbmVkPC9jb2RlPikuXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBSZXNpemFibGVSdWxlcy5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uKCkge1xuICpcbiAqICAgXFwvKipcbiAqICAgICogUmV0dXJuIGB0cnVlYCwgYGZhbHNlYCBvciBub3RoaW5nIHRvIGRlbm90ZVxuICogICAgKiBfYWxsb3dlZF8sIF9ub3QgYWxsb3dlZF8gYW5kIF9jb250aW51ZSBldmFsdWF0aW5nXy5cbiAqICAgICpcXC9cbiAqICAgdGhpcy5hZGRSdWxlKCdzaGFwZS5yZXNpemUnLCBmdW5jdGlvbihjb250ZXh0KSB7XG4gKlxuICogICAgIHZhciBzaGFwZSA9IGNvbnRleHQuc2hhcGU7XG4gKlxuICogICAgIGlmICghY29udGV4dC5uZXdCb3VuZHMpIHtcbiAqICAgICAgIC8vIGNoZWNrIGdlbmVyYWwgcmVzaXphYmlsaXR5XG4gKiAgICAgICBpZiAoIXNoYXBlLnJlc2l6YWJsZSkge1xuICogICAgICAgICByZXR1cm4gZmFsc2U7XG4gKiAgICAgICB9XG4gKlxuICogICAgICAgLy8gbm90IHJldHVybmluZyBhbnl0aGluZyAocmVhZDogdW5kZWZpbmVkKVxuICogICAgICAgLy8gd2lsbCBjb250aW51ZSB0aGUgZXZhbHVhdGlvbiBvZiBvdGhlciBydWxlc1xuICogICAgICAgLy8gKHdpdGggbG93ZXIgcHJpb3JpdHkpXG4gKiAgICAgICByZXR1cm47XG4gKiAgICAgfSBlbHNlIHtcbiAqICAgICAgIC8vIGVsZW1lbnQgbXVzdCBoYXZlIG1pbmltdW0gc2l6ZSBvZiAxMCoxMCBwb2ludHNcbiAqICAgICAgIHJldHVybiBjb250ZXh0Lm5ld0JvdW5kcy53aWR0aCA+IDEwICYmIGNvbnRleHQubmV3Qm91bmRzLmhlaWdodCA+IDEwO1xuICogICAgIH1cbiAqICAgfSk7XG4gKiB9O1xuICpcbiAqIEBwYXJhbSB7c3RyaW5nfEFycmF5PHN0cmluZz59IGFjdGlvbnMgdGhlIGlkZW50aWZpZXIgZm9yIHRoZSBtb2RlbGluZyBhY3Rpb24gdG8gY2hlY2tcbiAqIEBwYXJhbSB7bnVtYmVyfSBbcHJpb3JpdHldIHRoZSBwcmlvcml0eSBhdCB3aGljaCB0aGlzIHJ1bGUgaXMgYmVpbmcgYXBwbGllZFxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIHRoYXQgcGVyZm9ybXMgdGhlIGFjdHVhbCBjaGVja1xuICovXG5SdWxlUHJvdmlkZXIucHJvdG90eXBlLmFkZFJ1bGUgPSBmdW5jdGlvbihhY3Rpb25zLCBwcmlvcml0eSwgZm4pIHtcblxuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgaWYgKHR5cGVvZiBhY3Rpb25zID09PSAnc3RyaW5nJykge1xuICAgIGFjdGlvbnMgPSBbIGFjdGlvbnMgXTtcbiAgfVxuXG4gIGFjdGlvbnMuZm9yRWFjaChmdW5jdGlvbihhY3Rpb24pIHtcblxuICAgIHNlbGYuY2FuRXhlY3V0ZShhY3Rpb24sIHByaW9yaXR5LCBmdW5jdGlvbihjb250ZXh0LCBhY3Rpb24sIGV2ZW50KSB7XG4gICAgICByZXR1cm4gZm4oY29udGV4dCk7XG4gICAgfSwgdHJ1ZSk7XG4gIH0pO1xufTtcblxuLyoqXG4gKiBJbXBsZW1lbnQgdGhpcyBtZXRob2QgdG8gYWRkIG5ldyBydWxlcyBkdXJpbmcgcHJvdmlkZXIgaW5pdGlhbGl6YXRpb24uXG4gKi9cblJ1bGVQcm92aWRlci5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uKCkge307IiwiaW1wb3J0IHtcbiAgZXZlcnlcbn0gZnJvbSAnbWluLWRhc2gnO1xuXG5pbXBvcnQgaW5oZXJpdHMgZnJvbSAnaW5oZXJpdHMnO1xuXG5pbXBvcnQge1xuICBpc1xufSBmcm9tICcuLi8uLi91dGlsL01vZGVsVXRpbCc7XG5cbmltcG9ydCB7XG4gIGlzTGFiZWxcbn0gZnJvbSAnLi4vLi4vdXRpbC9MYWJlbFV0aWwnO1xuXG5pbXBvcnQgUnVsZVByb3ZpZGVyIGZyb20gJ2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL3J1bGVzL1J1bGVQcm92aWRlcic7XG5pbXBvcnQgeyBpc0FueSB9IGZyb20gJy4uL21vZGVsaW5nL3V0aWwvTW9kZWxpbmdVdGlsJztcblxuXG4vKipcbiAqIFBvc3RpdCBzcGVjaWZpYyBtb2RlbGluZyBydWxlXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFBvc3RpdFJ1bGVzKGV2ZW50QnVzKSB7XG4gIFJ1bGVQcm92aWRlci5jYWxsKHRoaXMsIGV2ZW50QnVzKTtcbn1cblxuaW5oZXJpdHMoUG9zdGl0UnVsZXMsIFJ1bGVQcm92aWRlcik7XG5cblBvc3RpdFJ1bGVzLiRpbmplY3QgPSBbICdldmVudEJ1cycgXTtcblxuUG9zdGl0UnVsZXMucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbigpIHtcblxuICB0aGlzLmFkZFJ1bGUoJ3NoYXBlLnJlc2l6ZScsIGZ1bmN0aW9uKGNvbnRleHQpIHtcblxuICAgIHZhciBzaGFwZSA9IGNvbnRleHQuc2hhcGUsXG4gICAgICAgIG5ld0JvdW5kcyA9IGNvbnRleHQubmV3Qm91bmRzO1xuXG4gICAgcmV0dXJuIGNhblJlc2l6ZShzaGFwZSwgbmV3Qm91bmRzKTtcbiAgfSk7XG5cbiAgdGhpcy5hZGRSdWxlKCdlbGVtZW50cy5jcmVhdGUnLCBmdW5jdGlvbihjb250ZXh0KSB7XG4gICAgdmFyIGVsZW1lbnRzID0gY29udGV4dC5lbGVtZW50cyxcbiAgICAgICAgcG9zaXRpb24gPSBjb250ZXh0LnBvc2l0aW9uLFxuICAgICAgICB0YXJnZXQgPSBjb250ZXh0LnRhcmdldDtcblxuICAgIHJldHVybiBldmVyeShlbGVtZW50cywgZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgaWYgKGVsZW1lbnQuaG9zdCkge1xuICAgICAgICByZXR1cm4gY2FuQXR0YWNoKGVsZW1lbnQsIGVsZW1lbnQuaG9zdCwgbnVsbCwgcG9zaXRpb24pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY2FuQ3JlYXRlKGVsZW1lbnQsIHRhcmdldCwgbnVsbCwgcG9zaXRpb24pO1xuICAgIH0pO1xuICB9KTtcblxuICB0aGlzLmFkZFJ1bGUoJ2VsZW1lbnRzLm1vdmUnLCBmdW5jdGlvbihjb250ZXh0KSB7XG5cbiAgICB2YXIgdGFyZ2V0ID0gY29udGV4dC50YXJnZXQsXG4gICAgICAgIHNoYXBlcyA9IGNvbnRleHQuc2hhcGVzLFxuICAgICAgICBwb3NpdGlvbiA9IGNvbnRleHQucG9zaXRpb247XG5cbiAgICByZXR1cm4gY2FuQXR0YWNoKHNoYXBlcywgdGFyZ2V0LCBudWxsLCBwb3NpdGlvbikgfHxcbiAgICAgICAgICAgY2FuTW92ZShzaGFwZXMsIHRhcmdldCwgcG9zaXRpb24pO1xuICB9KTtcblxuICB0aGlzLmFkZFJ1bGUoJ3NoYXBlLmNyZWF0ZScsIGZ1bmN0aW9uKGNvbnRleHQpIHtcbiAgICByZXR1cm4gY2FuQ3JlYXRlKFxuICAgICAgY29udGV4dC5zaGFwZSxcbiAgICAgIGNvbnRleHQudGFyZ2V0LFxuICAgICAgY29udGV4dC5zb3VyY2UsXG4gICAgICBjb250ZXh0LnBvc2l0aW9uXG4gICAgKTtcbiAgfSk7XG5cbiAgdGhpcy5hZGRSdWxlKCdzaGFwZS5hdHRhY2gnLCBmdW5jdGlvbihjb250ZXh0KSB7XG5cbiAgICByZXR1cm4gY2FuQXR0YWNoKFxuICAgICAgY29udGV4dC5zaGFwZSxcbiAgICAgIGNvbnRleHQudGFyZ2V0LFxuICAgICAgbnVsbCxcbiAgICAgIGNvbnRleHQucG9zaXRpb25cbiAgICApO1xuICB9KTtcblxuICB0aGlzLmFkZFJ1bGUoJ2VsZW1lbnQuY29weScsIGZ1bmN0aW9uKGNvbnRleHQpIHtcbiAgICB2YXIgZWxlbWVudCA9IGNvbnRleHQuZWxlbWVudCxcbiAgICAgICAgZWxlbWVudHMgPSBjb250ZXh0LmVsZW1lbnRzO1xuXG4gICAgcmV0dXJuIGNhbkNvcHkoZWxlbWVudHMsIGVsZW1lbnQpO1xuICB9KTtcbn07XG5cblBvc3RpdFJ1bGVzLnByb3RvdHlwZS5jYW5Nb3ZlID0gY2FuTW92ZTtcblxuUG9zdGl0UnVsZXMucHJvdG90eXBlLmNhbkF0dGFjaCA9IGNhbkF0dGFjaDtcblxuUG9zdGl0UnVsZXMucHJvdG90eXBlLmNhbkRyb3AgPSBjYW5Ecm9wO1xuXG5Qb3N0aXRSdWxlcy5wcm90b3R5cGUuY2FuQ3JlYXRlID0gY2FuQ3JlYXRlO1xuXG5Qb3N0aXRSdWxlcy5wcm90b3R5cGUuY2FuUmVwbGFjZSA9IGNhblJlcGxhY2U7XG5cblBvc3RpdFJ1bGVzLnByb3RvdHlwZS5jYW5SZXNpemUgPSBjYW5SZXNpemU7XG5cblBvc3RpdFJ1bGVzLnByb3RvdHlwZS5jYW5Db3B5ID0gY2FuQ29weTtcblxuLyoqXG4gKiBVdGlsaXR5IGZ1bmN0aW9ucyBmb3IgcnVsZSBjaGVja2luZ1xuICovXG5cbmZ1bmN0aW9uIGlzU2FtZShhLCBiKSB7XG4gIHJldHVybiBhID09PSBiO1xufVxuXG5mdW5jdGlvbiBnZXRQYXJlbnRzKGVsZW1lbnQpIHtcblxuICB2YXIgcGFyZW50cyA9IFtdO1xuXG4gIHdoaWxlIChlbGVtZW50KSB7XG4gICAgZWxlbWVudCA9IGVsZW1lbnQucGFyZW50O1xuXG4gICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgIHBhcmVudHMucHVzaChlbGVtZW50KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcGFyZW50cztcbn1cblxuZnVuY3Rpb24gaXNQYXJlbnQocG9zc2libGVQYXJlbnQsIGVsZW1lbnQpIHtcbiAgdmFyIGFsbFBhcmVudHMgPSBnZXRQYXJlbnRzKGVsZW1lbnQpO1xuICByZXR1cm4gYWxsUGFyZW50cy5pbmRleE9mKHBvc3NpYmxlUGFyZW50KSAhPT0gLTE7XG59XG5cbmZ1bmN0aW9uIGlzR3JvdXAoZWxlbWVudCkge1xuICByZXR1cm4gaXMoZWxlbWVudCwgJ3Bvc3RpdDpHcm91cCcpICYmICFlbGVtZW50LmxhYmVsVGFyZ2V0O1xufVxuXG4vKipcbiAqIENhbiBhbiBlbGVtZW50IGJlIGRyb3BwZWQgaW50byB0aGUgdGFyZ2V0IGVsZW1lbnRcbiAqXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICovXG5mdW5jdGlvbiBjYW5Ecm9wKGVsZW1lbnQsIHRhcmdldCkge1xuXG4gIC8vIGNhbiBtb3ZlIGxhYmVsc1xuICBpZiAoaXNMYWJlbChlbGVtZW50KSB8fCBpc0dyb3VwKGVsZW1lbnQpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvLyBkcm9wIGJvYXJkIGVsZW1lbnRzIG9udG8gYm9hcmRzXG4gIGlmIChpcyhlbGVtZW50LCAncG9zdGl0OkJvYXJkRWxlbWVudCcpICYmIGlzKHRhcmdldCwgJ3Bvc3RpdDpQb3N0aXRCb2FyZCcpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGNhblJlcGxhY2UoZWxlbWVudHMsIHRhcmdldCkge1xuXG4gIGlmICghdGFyZ2V0KSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cblxuZnVuY3Rpb24gY2FuQXR0YWNoKGVsZW1lbnRzLCB0YXJnZXQpIHtcblxuICBpZiAoIUFycmF5LmlzQXJyYXkoZWxlbWVudHMpKSB7XG4gICAgZWxlbWVudHMgPSBbIGVsZW1lbnRzIF07XG4gIH1cblxuICAvLyBvbmx5IChyZS0pYXR0YWNoIG9uZSBlbGVtZW50IGF0IGEgdGltZVxuICBpZiAoZWxlbWVudHMubGVuZ3RoICE9PSAxKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdmFyIGVsZW1lbnQgPSBlbGVtZW50c1swXTtcblxuICAvLyBkbyBub3QgYXR0YWNoIGxhYmVsc1xuICBpZiAoaXNMYWJlbChlbGVtZW50KSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmIChpcyh0YXJnZXQsICdwb3N0aXQ6Qm9hcmRFbGVtZW50JykpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gJ2F0dGFjaCc7XG59XG5cblxuZnVuY3Rpb24gY2FuTW92ZShlbGVtZW50cywgdGFyZ2V0KSB7XG5cbiAgLy8gYWxsb3cgZGVmYXVsdCBtb3ZlIGNoZWNrIHRvIHN0YXJ0IG1vdmUgb3BlcmF0aW9uXG4gIGlmICghdGFyZ2V0KSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICByZXR1cm4gZWxlbWVudHMuZXZlcnkoZnVuY3Rpb24oZWxlbWVudCkge1xuICAgIHJldHVybiBjYW5Ecm9wKGVsZW1lbnQsIHRhcmdldCk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBjYW5DcmVhdGUoc2hhcGUsIHRhcmdldCwgc291cmNlLCBwb3NpdGlvbikge1xuXG4gIGlmICghdGFyZ2V0KSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKGlzTGFiZWwoc2hhcGUpIHx8IGlzR3JvdXAoc2hhcGUpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBpZiAoaXNTYW1lKHNvdXJjZSwgdGFyZ2V0KSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIGVuc3VyZSB3ZSBkbyBub3QgZHJvcCB0aGUgZWxlbWVudFxuICAvLyBpbnRvIHNvdXJjZVxuICBpZiAoc291cmNlICYmIGlzUGFyZW50KHNvdXJjZSwgdGFyZ2V0KSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiBjYW5Ecm9wKHNoYXBlLCB0YXJnZXQsIHBvc2l0aW9uKTtcbn1cblxuZnVuY3Rpb24gY2FuUmVzaXplKHNoYXBlLCBuZXdCb3VuZHMpIHtcblxuICBpZiAoaXNBbnkoc2hhcGUsIFsgJ3Bvc3RpdDpQb3N0aXQnLCAncG9zdGl0OlRleHRCb3gnIF0pKSB7XG4gICAgcmV0dXJuICFuZXdCb3VuZHMgfHwgKG5ld0JvdW5kcy53aWR0aCA+PSA1MCAmJiBuZXdCb3VuZHMuaGVpZ2h0ID49IDUwKTtcbiAgfVxuXG4gIGlmIChpcyhzaGFwZSwgJ3Bvc3RpdDpHcm91cCcpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBpZiAoaXMoc2hhcGUsICdwb3N0aXQ6SW1hZ2UnKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBjYW5Db3B5KGVsZW1lbnRzLCBlbGVtZW50KSB7XG4gIHJldHVybiB0cnVlO1xufVxuIiwiaW1wb3J0IFJ1bGVzTW9kdWxlIGZyb20gJ2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL3J1bGVzJztcblxuaW1wb3J0IFBvc3RpdFJ1bGVzIGZyb20gJy4vUG9zdGl0UnVsZXMnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9fZGVwZW5kc19fOiBbXG4gICAgUnVsZXNNb2R1bGVcbiAgXSxcbiAgX19pbml0X186IFsgJ3Bvc3RpdFJ1bGVzJyBdLFxuICBwb3N0aXRSdWxlczogWyAndHlwZScsIFBvc3RpdFJ1bGVzIF1cbn07XG4iLCJpbXBvcnQgeyBnZXREaSB9IGZyb20gJy4uLy4uL2RyYXcvUG9zdGl0UmVuZGVyZXJVdGlsJztcbmltcG9ydCB7IGdldEJ1c2luZXNzT2JqZWN0IH0gZnJvbSAnLi4vLi4vdXRpbC9Nb2RlbFV0aWwnO1xuXG5pbXBvcnQge1xuICBmaWx0ZXIsXG4gIG1hcFxufSBmcm9tICdtaW4tZGFzaCc7XG5cbmltcG9ydCB7IHNlbGZBbmRBbGxDaGlsZHJlbiB9IGZyb20gJ2RpYWdyYW0tanMvbGliL3V0aWwvRWxlbWVudHMnO1xuXG5cbnZhciBISUdIX1BSSU9SSVRZID0gMjAwMDtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUG9zdGl0RGlPcmRlcmluZyhldmVudEJ1cywgY2FudmFzKSB7XG5cbiAgZXZlbnRCdXMub24oJ3NhdmVYTUwuc3RhcnQnLCBISUdIX1BSSU9SSVRZLCBvcmRlckRpKTtcblxuICBmdW5jdGlvbiBvcmRlckRpKCkge1xuICAgIHZhciByb290ID0gY2FudmFzLmdldFJvb3RFbGVtZW50KCksXG4gICAgICAgIHJvb3REaSA9IGdldEJ1c2luZXNzT2JqZWN0KHJvb3QpLmRpLFxuICAgICAgICBlbGVtZW50cyxcbiAgICAgICAgZGlFbGVtZW50cztcblxuICAgIGVsZW1lbnRzID0gc2VsZkFuZEFsbENoaWxkcmVuKFsgcm9vdCBdLCBmYWxzZSk7XG5cbiAgICAvLyBvbmx5IHBvc3RpdERpOlNoYXBlIGNhbiBiZSBkaXJlY3QgY2hpbGRyZW4gb2YgcG9zdGl0RGk6UGxhbmVcbiAgICBlbGVtZW50cyA9IGZpbHRlcihlbGVtZW50cywgZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgcmV0dXJuIGVsZW1lbnQgIT09IHJvb3QgJiYgIWVsZW1lbnQubGFiZWxUYXJnZXQ7XG4gICAgfSk7XG5cbiAgICBkaUVsZW1lbnRzID0gbWFwKGVsZW1lbnRzLCBnZXREaSk7XG5cbiAgICByb290RGkuc2V0KCdwbGFuZUVsZW1lbnQnLCBkaUVsZW1lbnRzKTtcbiAgfVxufVxuXG5Qb3N0aXREaU9yZGVyaW5nLiRpbmplY3QgPSBbICdldmVudEJ1cycsICdjYW52YXMnIF07XG4iLCJpbXBvcnQgUG9zdGl0RGlPcmRlcmluZyBmcm9tICcuL1Bvc3RpdERpT3JkZXJpbmcnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9faW5pdF9fOiBbXG4gICAgJ3Bvc3RpdERpT3JkZXJpbmcnXG4gIF0sXG4gIHBvc3RpdERpT3JkZXJpbmc6IFsgJ3R5cGUnLCBQb3N0aXREaU9yZGVyaW5nIF1cbn07IiwiaW1wb3J0IGluaGVyaXRzIGZyb20gJ2luaGVyaXRzJztcblxuaW1wb3J0IENvbW1hbmRJbnRlcmNlcHRvciBmcm9tICcuLi8uLi9jb21tYW5kL0NvbW1hbmRJbnRlcmNlcHRvcic7XG5cblxuLyoqXG4gKiBBbiBhYnN0cmFjdCBwcm92aWRlciB0aGF0IGFsbG93cyBtb2RlbGVycyB0byBpbXBsZW1lbnQgYSBjdXN0b21cbiAqIG9yZGVyaW5nIG9mIGRpYWdyYW0gZWxlbWVudHMgb24gdGhlIGNhbnZhcy5cbiAqXG4gKiBJdCBtYWtlcyBzdXJlIHRoYXQgdGhlIG9yZGVyIGlzIGFsd2F5cyBwcmVzZXJ2ZWQgZHVyaW5nIGVsZW1lbnRcbiAqIGNyZWF0aW9uIGFuZCBtb3ZlIG9wZXJhdGlvbnMuXG4gKlxuICogSW4gb3JkZXIgdG8gdXNlIHRoaXMgYmVoYXZpb3IsIGluaGVyaXQgZnJvbSBpdCBhbmQgb3ZlcnJpZGVcbiAqIHRoZSBtZXRob2Qge0BsaW5rIE9yZGVyaW5nUHJvdmlkZXIjZ2V0T3JkZXJpbmd9LlxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogYGBgamF2YXNjcmlwdFxuICogZnVuY3Rpb24gQ3VzdG9tT3JkZXJpbmdQcm92aWRlcihldmVudEJ1cykge1xuICogICBPcmRlcmluZ1Byb3ZpZGVyLmNhbGwodGhpcywgZXZlbnRCdXMpO1xuICpcbiAqICAgdGhpcy5nZXRPcmRlcmluZyA9IGZ1bmN0aW9uKGVsZW1lbnQsIG5ld1BhcmVudCkge1xuICogICAgIC8vIGFsd2F5cyBpbnNlcnQgZWxlbWVudHMgYXQgdGhlIGZyb250XG4gKiAgICAgLy8gd2hlbiBtb3ZpbmdcbiAqICAgICByZXR1cm4ge1xuICogICAgICAgaW5kZXg6IDAsXG4gKiAgICAgICBwYXJlbnQ6IG5ld1BhcmVudFxuICogICAgIH07XG4gKiAgIH07XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge0V2ZW50QnVzfSBldmVudEJ1c1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBPcmRlcmluZ1Byb3ZpZGVyKGV2ZW50QnVzKSB7XG5cbiAgQ29tbWFuZEludGVyY2VwdG9yLmNhbGwodGhpcywgZXZlbnRCdXMpO1xuXG5cbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIHRoaXMucHJlRXhlY3V0ZShbICdzaGFwZS5jcmVhdGUnLCAnY29ubmVjdGlvbi5jcmVhdGUnIF0sIGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICB2YXIgY29udGV4dCA9IGV2ZW50LmNvbnRleHQsXG4gICAgICAgIGVsZW1lbnQgPSBjb250ZXh0LnNoYXBlIHx8IGNvbnRleHQuY29ubmVjdGlvbixcbiAgICAgICAgcGFyZW50ID0gY29udGV4dC5wYXJlbnQ7XG5cbiAgICB2YXIgb3JkZXJpbmcgPSBzZWxmLmdldE9yZGVyaW5nKGVsZW1lbnQsIHBhcmVudCk7XG5cbiAgICBpZiAob3JkZXJpbmcpIHtcblxuICAgICAgaWYgKG9yZGVyaW5nLnBhcmVudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRleHQucGFyZW50ID0gb3JkZXJpbmcucGFyZW50O1xuICAgICAgfVxuXG4gICAgICBjb250ZXh0LnBhcmVudEluZGV4ID0gb3JkZXJpbmcuaW5kZXg7XG4gICAgfVxuICB9KTtcblxuICB0aGlzLnByZUV4ZWN1dGUoWyAnc2hhcGUubW92ZScsICdjb25uZWN0aW9uLm1vdmUnIF0sIGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICB2YXIgY29udGV4dCA9IGV2ZW50LmNvbnRleHQsXG4gICAgICAgIGVsZW1lbnQgPSBjb250ZXh0LnNoYXBlIHx8IGNvbnRleHQuY29ubmVjdGlvbixcbiAgICAgICAgcGFyZW50ID0gY29udGV4dC5uZXdQYXJlbnQgfHwgZWxlbWVudC5wYXJlbnQ7XG5cbiAgICB2YXIgb3JkZXJpbmcgPSBzZWxmLmdldE9yZGVyaW5nKGVsZW1lbnQsIHBhcmVudCk7XG5cbiAgICBpZiAob3JkZXJpbmcpIHtcblxuICAgICAgaWYgKG9yZGVyaW5nLnBhcmVudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRleHQubmV3UGFyZW50ID0gb3JkZXJpbmcucGFyZW50O1xuICAgICAgfVxuXG4gICAgICBjb250ZXh0Lm5ld1BhcmVudEluZGV4ID0gb3JkZXJpbmcuaW5kZXg7XG4gICAgfVxuICB9KTtcbn1cblxuLyoqXG4gKiBSZXR1cm4gYSBjdXN0b20gb3JkZXJpbmcgb2YgdGhlIGVsZW1lbnQsIGJvdGggaW4gdGVybXNcbiAqIG9mIHBhcmVudCBlbGVtZW50IGFuZCBpbmRleCBpbiB0aGUgbmV3IHBhcmVudC5cbiAqXG4gKiBJbXBsZW1lbnRvcnMgb2YgdGhpcyBtZXRob2QgbXVzdCByZXR1cm4gYW4gb2JqZWN0IHdpdGhcbiAqIGBwYXJlbnRgIF9hbmRfIGBpbmRleGAgaW4gaXQuXG4gKlxuICogQHBhcmFtIHtkanMubW9kZWwuQmFzZX0gZWxlbWVudFxuICogQHBhcmFtIHtkanMubW9kZWwuU2hhcGV9IG5ld1BhcmVudFxuICpcbiAqIEByZXR1cm4ge09iamVjdH0gb3JkZXJpbmcgZGVzY3JpcHRvclxuICovXG5PcmRlcmluZ1Byb3ZpZGVyLnByb3RvdHlwZS5nZXRPcmRlcmluZyA9IGZ1bmN0aW9uKGVsZW1lbnQsIG5ld1BhcmVudCkge1xuICByZXR1cm4gbnVsbDtcbn07XG5cbmluaGVyaXRzKE9yZGVyaW5nUHJvdmlkZXIsIENvbW1hbmRJbnRlcmNlcHRvcik7IiwiaW1wb3J0IGluaGVyaXRzIGZyb20gJ2luaGVyaXRzJztcblxuaW1wb3J0IE9yZGVyaW5nUHJvdmlkZXIgZnJvbSAnZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvb3JkZXJpbmcvT3JkZXJpbmdQcm92aWRlcic7XG5cbmltcG9ydCB7XG4gIGlzQW55XG59IGZyb20gJy4uL21vZGVsaW5nL3V0aWwvTW9kZWxpbmdVdGlsJztcblxuaW1wb3J0IHtcbiAgZmluZEluZGV4LFxuICBmaW5kXG59IGZyb20gJ21pbi1kYXNoJztcblxuXG4vKipcbiAqIGEgc2ltcGxlIG9yZGVyaW5nIHByb3ZpZGVyIHRoYXQgbWFrZXMgc3VyZTpcbiAqXG4gKiAoMCkgbGFiZWxzIGFuZCBncm91cHMgYXJlIHJlbmRlcmVkIGFsd2F5cyBvbiB0b3BcbiAqICgxKSBlbGVtZW50cyBhcmUgb3JkZXJlZCBieSBhIHtsZXZlbH0gcHJvcGVydHlcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUG9zdGl0T3JkZXJpbmdQcm92aWRlcihldmVudEJ1cywgY2FudmFzLCB0cmFuc2xhdGUpIHtcblxuICBPcmRlcmluZ1Byb3ZpZGVyLmNhbGwodGhpcywgZXZlbnRCdXMpO1xuXG4gIHZhciBvcmRlcnMgPSBbXG4gICAgeyB0eXBlOiAncG9zdGl0OkJvYXJkRWxlbWVudCcsIG9yZGVyOiB7IGxldmVsOiA1IH0gfVxuICBdO1xuXG4gIGZ1bmN0aW9uIGNvbXB1dGVPcmRlcihlbGVtZW50KSB7XG4gICAgaWYgKGVsZW1lbnQubGFiZWxUYXJnZXQpIHtcbiAgICAgIHJldHVybiB7IGxldmVsOiAxMCB9O1xuICAgIH1cblxuICAgIHZhciBlbnRyeSA9IGZpbmQob3JkZXJzLCBmdW5jdGlvbihvKSB7XG4gICAgICByZXR1cm4gaXNBbnkoZWxlbWVudCwgWyBvLnR5cGUgXSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gZW50cnkgJiYgZW50cnkub3JkZXIgfHwgeyBsZXZlbDogMSB9O1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0T3JkZXIoZWxlbWVudCkge1xuXG4gICAgdmFyIG9yZGVyID0gZWxlbWVudC5vcmRlcjtcblxuICAgIGlmICghb3JkZXIpIHtcbiAgICAgIGVsZW1lbnQub3JkZXIgPSBvcmRlciA9IGNvbXB1dGVPcmRlcihlbGVtZW50KTtcbiAgICB9XG5cbiAgICByZXR1cm4gb3JkZXI7XG4gIH1cblxuICBmdW5jdGlvbiBmaW5kQWN0dWFsUGFyZW50KGVsZW1lbnQsIG5ld1BhcmVudCwgY29udGFpbmVycykge1xuXG4gICAgdmFyIGFjdHVhbFBhcmVudCA9IG5ld1BhcmVudDtcblxuICAgIHdoaWxlIChhY3R1YWxQYXJlbnQpIHtcblxuICAgICAgaWYgKGlzQW55KGFjdHVhbFBhcmVudCwgY29udGFpbmVycykpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGFjdHVhbFBhcmVudCA9IGFjdHVhbFBhcmVudC5wYXJlbnQ7XG4gICAgfVxuXG4gICAgaWYgKCFhY3R1YWxQYXJlbnQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcih0cmFuc2xhdGUoJ25vIHBhcmVudCBmb3Ige2VsZW1lbnR9IGluIHtwYXJlbnR9Jywge1xuICAgICAgICBlbGVtZW50OiBlbGVtZW50LmlkLFxuICAgICAgICBwYXJlbnQ6IG5ld1BhcmVudC5pZFxuICAgICAgfSkpO1xuICAgIH1cblxuICAgIHJldHVybiBhY3R1YWxQYXJlbnQ7XG4gIH1cblxuICB0aGlzLmdldE9yZGVyaW5nID0gZnVuY3Rpb24oZWxlbWVudCwgbmV3UGFyZW50KSB7XG5cbiAgICAvLyByZW5kZXIgbGFiZWxzIGFsd2F5cyBvbiB0b3BcbiAgICBpZiAoZWxlbWVudC5sYWJlbFRhcmdldCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcGFyZW50OiBjYW52YXMuZ2V0Um9vdEVsZW1lbnQoKSxcbiAgICAgICAgaW5kZXg6IC0xXG4gICAgICB9O1xuICAgIH1cblxuICAgIHZhciBlbGVtZW50T3JkZXIgPSBnZXRPcmRlcihlbGVtZW50KTtcblxuXG4gICAgaWYgKGVsZW1lbnRPcmRlci5jb250YWluZXJzKSB7XG4gICAgICBuZXdQYXJlbnQgPSBmaW5kQWN0dWFsUGFyZW50KGVsZW1lbnQsIG5ld1BhcmVudCwgZWxlbWVudE9yZGVyLmNvbnRhaW5lcnMpO1xuICAgIH1cblxuXG4gICAgdmFyIGN1cnJlbnRJbmRleCA9IG5ld1BhcmVudC5jaGlsZHJlbi5pbmRleE9mKGVsZW1lbnQpO1xuXG4gICAgdmFyIGluc2VydEluZGV4ID0gZmluZEluZGV4KG5ld1BhcmVudC5jaGlsZHJlbiwgZnVuY3Rpb24oY2hpbGQpIHtcblxuICAgICAgLy8gZG8gbm90IGNvbXBhcmUgd2l0aCBsYWJlbHMsIHRoZXkgYXJlIGNyZWF0ZWRcbiAgICAgIC8vIGluIHRoZSB3cm9uZyBvcmRlciAocmlnaHQgYWZ0ZXIgZWxlbWVudHMpIGR1cmluZyBpbXBvcnQgYW5kXG4gICAgICAvLyBtZXNzIHVwIHRoZSBwb3NpdGlvbmluZy5cbiAgICAgIGlmICghZWxlbWVudC5sYWJlbFRhcmdldCAmJiBjaGlsZC5sYWJlbFRhcmdldCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBlbGVtZW50T3JkZXIubGV2ZWwgPCBnZXRPcmRlcihjaGlsZCkubGV2ZWw7XG4gICAgfSk7XG5cblxuICAgIC8vIGlmIHRoZSBlbGVtZW50IGlzIGFscmVhZHkgaW4gdGhlIGNoaWxkIGxpc3QgYXRcbiAgICAvLyBhIHNtYWxsZXIgaW5kZXgsIHdlIG5lZWQgdG8gYWRqdXN0IHRoZSBpbnNlcnQgaW5kZXguXG4gICAgLy8gdGhpcyB0YWtlcyBpbnRvIGFjY291bnQgdGhhdCB0aGUgZWxlbWVudCBpcyBiZWluZyByZW1vdmVkXG4gICAgLy8gYmVmb3JlIGJlaW5nIHJlLWluc2VydGVkXG4gICAgaWYgKGluc2VydEluZGV4ICE9PSAtMSkge1xuICAgICAgaWYgKGN1cnJlbnRJbmRleCAhPT0gLTEgJiYgY3VycmVudEluZGV4IDwgaW5zZXJ0SW5kZXgpIHtcbiAgICAgICAgaW5zZXJ0SW5kZXggLT0gMTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgaW5kZXg6IGluc2VydEluZGV4LFxuICAgICAgcGFyZW50OiBuZXdQYXJlbnRcbiAgICB9O1xuICB9O1xufVxuXG5Qb3N0aXRPcmRlcmluZ1Byb3ZpZGVyLiRpbmplY3QgPSBbICdldmVudEJ1cycsICdjYW52YXMnLCAndHJhbnNsYXRlJyBdO1xuXG5pbmhlcml0cyhQb3N0aXRPcmRlcmluZ1Byb3ZpZGVyLCBPcmRlcmluZ1Byb3ZpZGVyKTsiLCJpbXBvcnQgdHJhbnNsYXRlIGZyb20gJ2RpYWdyYW0tanMvbGliL2kxOG4vdHJhbnNsYXRlJztcblxuaW1wb3J0IFBvc3RpdE9yZGVyaW5nUHJvdmlkZXIgZnJvbSAnLi9Qb3N0aXRPcmRlcmluZ1Byb3ZpZGVyJztcblxuZXhwb3J0IGRlZmF1bHQge1xuICBfX2RlcGVuZHNfXzogW1xuICAgIHRyYW5zbGF0ZVxuICBdLFxuICBfX2luaXRfXzogWyAncG9zdGl0T3JkZXJpbmdQcm92aWRlcicgXSxcbiAgcG9zdGl0T3JkZXJpbmdQcm92aWRlcjogWyAndHlwZScsIFBvc3RpdE9yZGVyaW5nUHJvdmlkZXIgXVxufTsiLCJpbXBvcnQge1xuICB1bmlxdWVCeSxcbiAgaXNBcnJheVxufSBmcm9tICdtaW4tZGFzaCc7XG5cblxuLyoqXG4gKiBBIHNlcnZpY2UgdGhhdCBvZmZlcnMgdW4tIGFuZCByZWRvYWJsZSBleGVjdXRpb24gb2YgY29tbWFuZHMuXG4gKlxuICogVGhlIGNvbW1hbmQgc3RhY2sgaXMgcmVzcG9uc2libGUgZm9yIGV4ZWN1dGluZyBtb2RlbGluZyBhY3Rpb25zXG4gKiBpbiBhIHVuLSBhbmQgcmVkb2FibGUgbWFubmVyLiBUbyBkbyB0aGlzIGl0IGRlbGVnYXRlcyB0aGUgYWN0dWFsXG4gKiBjb21tYW5kIGV4ZWN1dGlvbiB0byB7QGxpbmsgQ29tbWFuZEhhbmRsZXJ9cy5cbiAqXG4gKiBDb21tYW5kIGhhbmRsZXJzIHByb3ZpZGUge0BsaW5rIENvbW1hbmRIYW5kbGVyI2V4ZWN1dGUoY3R4KX0gYW5kXG4gKiB7QGxpbmsgQ29tbWFuZEhhbmRsZXIjcmV2ZXJ0KGN0eCl9IG1ldGhvZHMgdG8gdW4tIGFuZCByZWRvIGEgY29tbWFuZFxuICogaWRlbnRpZmllZCBieSBhIGNvbW1hbmQgY29udGV4dC5cbiAqXG4gKlxuICogIyMgTGlmZS1DeWNsZSBldmVudHNcbiAqXG4gKiBJbiB0aGUgcHJvY2VzcyB0aGUgY29tbWFuZCBzdGFjayBmaXJlcyBhIG51bWJlciBvZiBsaWZlLWN5Y2xlIGV2ZW50c1xuICogdGhhdCBvdGhlciBjb21wb25lbnRzIHRvIHBhcnRpY2lwYXRlIGluIHRoZSBjb21tYW5kIGV4ZWN1dGlvbi5cbiAqXG4gKiAgICAqIHByZUV4ZWN1dGVcbiAqICAgICogcHJlRXhlY3V0ZWRcbiAqICAgICogZXhlY3V0ZVxuICogICAgKiBleGVjdXRlZFxuICogICAgKiBwb3N0RXhlY3V0ZVxuICogICAgKiBwb3N0RXhlY3V0ZWRcbiAqICAgICogcmV2ZXJ0XG4gKiAgICAqIHJldmVydGVkXG4gKlxuICogQSBzcGVjaWFsIGV2ZW50IGlzIHVzZWQgZm9yIHZhbGlkYXRpbmcsIHdoZXRoZXIgYSBjb21tYW5kIGNhbiBiZVxuICogcGVyZm9ybWVkIHByaW9yIHRvIGl0cyBleGVjdXRpb24uXG4gKlxuICogICAgKiBjYW5FeGVjdXRlXG4gKlxuICogRWFjaCBvZiB0aGUgZXZlbnRzIGlzIGZpcmVkIGFzIGBjb21tYW5kU3RhY2sue2V2ZW50TmFtZX1gIGFuZFxuICogYGNvbW1hbmRTdGFjay57Y29tbWFuZE5hbWV9LntldmVudE5hbWV9YCwgcmVzcGVjdGl2ZWx5LiBUaGlzIGdpdmVzXG4gKiBjb21wb25lbnRzIGZpbmUgZ3JhaW5lZCBjb250cm9sIG9uIHdoZXJlIHRvIGhvb2sgaW50by5cbiAqXG4gKiBUaGUgZXZlbnQgb2JqZWN0IGZpcmVkIHRyYW5zcG9ydHMgYGNvbW1hbmRgLCB0aGUgbmFtZSBvZiB0aGVcbiAqIGNvbW1hbmQgYW5kIGBjb250ZXh0YCwgdGhlIGNvbW1hbmQgY29udGV4dC5cbiAqXG4gKlxuICogIyMgQ3JlYXRpbmcgQ29tbWFuZCBIYW5kbGVyc1xuICpcbiAqIENvbW1hbmQgaGFuZGxlcnMgc2hvdWxkIHByb3ZpZGUgdGhlIHtAbGluayBDb21tYW5kSGFuZGxlciNleGVjdXRlKGN0eCl9XG4gKiBhbmQge0BsaW5rIENvbW1hbmRIYW5kbGVyI3JldmVydChjdHgpfSBtZXRob2RzIHRvIGltcGxlbWVudFxuICogcmVkb2luZyBhbmQgdW5kb2luZyBvZiBhIGNvbW1hbmQuXG4gKlxuICogQSBjb21tYW5kIGhhbmRsZXIgX211c3RfIGVuc3VyZSB1bmRvIGlzIHBlcmZvcm1lZCBwcm9wZXJseSBpbiBvcmRlclxuICogbm90IHRvIGJyZWFrIHRoZSB1bmRvIGNoYWluLiBJdCBtdXN0IGFsc28gcmV0dXJuIHRoZSBzaGFwZXMgdGhhdFxuICogZ290IGNoYW5nZWQgZHVyaW5nIHRoZSBgZXhlY3V0ZWAgYW5kIGByZXZlcnRgIG9wZXJhdGlvbnMuXG4gKlxuICogQ29tbWFuZCBoYW5kbGVycyBtYXkgZXhlY3V0ZSBvdGhlciBtb2RlbGluZyBvcGVyYXRpb25zIChhbmQgdGh1c1xuICogY29tbWFuZHMpIGluIHRoZWlyIGBwcmVFeGVjdXRlYCBhbmQgYHBvc3RFeGVjdXRlYCBwaGFzZXMuIFRoZSBjb21tYW5kXG4gKiBzdGFjayB3aWxsIHByb3Blcmx5IGdyb3VwIGFsbCBjb21tYW5kcyB0b2dldGhlciBpbnRvIGEgbG9naWNhbCB1bml0XG4gKiB0aGF0IG1heSBiZSByZS0gYW5kIHVuZG9uZSBhdG9taWNhbGx5LlxuICpcbiAqIENvbW1hbmQgaGFuZGxlcnMgbXVzdCBub3QgZXhlY3V0ZSBvdGhlciBjb21tYW5kcyBmcm9tIHdpdGhpbiB0aGVpclxuICogY29yZSBpbXBsZW1lbnRhdGlvbiAoYGV4ZWN1dGVgLCBgcmV2ZXJ0YCkuXG4gKlxuICpcbiAqICMjIENoYW5nZSBUcmFja2luZ1xuICpcbiAqIER1cmluZyB0aGUgZXhlY3V0aW9uIG9mIHRoZSBDb21tYW5kU3RhY2sgaXQgd2lsbCBrZWVwIHRyYWNrIG9mIGFsbFxuICogZWxlbWVudHMgdGhhdCBoYXZlIGJlZW4gdG91Y2hlZCBkdXJpbmcgdGhlIGNvbW1hbmQncyBleGVjdXRpb24uXG4gKlxuICogQXQgdGhlIGVuZCBvZiB0aGUgQ29tbWFuZFN0YWNrIGV4ZWN1dGlvbiBpdCB3aWxsIG5vdGlmeSBpbnRlcmVzdGVkXG4gKiBjb21wb25lbnRzIHZpYSBhbiAnZWxlbWVudHMuY2hhbmdlZCcgZXZlbnQgd2l0aCBhbGwgdGhlIGRpcnR5XG4gKiBlbGVtZW50cy5cbiAqXG4gKiBUaGUgZXZlbnQgY2FuIGJlIHBpY2tlZCB1cCBieSBjb21wb25lbnRzIHRoYXQgYXJlIGludGVyZXN0ZWQgaW4gdGhlIGZhY3RcbiAqIHRoYXQgZWxlbWVudHMgaGF2ZSBiZWVuIGNoYW5nZWQuIE9uZSB1c2UgY2FzZSBmb3IgdGhpcyBpcyB1cGRhdGluZ1xuICogdGhlaXIgZ3JhcGhpY2FsIHJlcHJlc2VudGF0aW9uIGFmdGVyIG1vdmluZyAvIHJlc2l6aW5nIG9yIGRlbGV0aW9uLlxuICpcbiAqIEBzZWUgQ29tbWFuZEhhbmRsZXJcbiAqXG4gKiBAcGFyYW0ge0V2ZW50QnVzfSBldmVudEJ1c1xuICogQHBhcmFtIHtJbmplY3Rvcn0gaW5qZWN0b3JcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ29tbWFuZFN0YWNrKGV2ZW50QnVzLCBpbmplY3Rvcikge1xuXG4gIC8qKlxuICAgKiBBIG1hcCBvZiBhbGwgcmVnaXN0ZXJlZCBjb21tYW5kIGhhbmRsZXJzLlxuICAgKlxuICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgKi9cbiAgdGhpcy5faGFuZGxlck1hcCA9IHt9O1xuXG4gIC8qKlxuICAgKiBBIHN0YWNrIGNvbnRhaW5pbmcgYWxsIHJlL3VuZG9hYmxlIGFjdGlvbnMgb24gdGhlIGRpYWdyYW1cbiAgICpcbiAgICogQHR5cGUge0FycmF5PE9iamVjdD59XG4gICAqL1xuICB0aGlzLl9zdGFjayA9IFtdO1xuXG4gIC8qKlxuICAgKiBUaGUgY3VycmVudCBpbmRleCBvbiB0aGUgc3RhY2tcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICovXG4gIHRoaXMuX3N0YWNrSWR4ID0gLTE7XG5cbiAgLyoqXG4gICAqIEN1cnJlbnQgYWN0aXZlIGNvbW1hbmRTdGFjayBleGVjdXRpb25cbiAgICpcbiAgICogQHR5cGUge09iamVjdH1cbiAgICogQHByb3BlcnR5IHtPYmplY3RbXX0gYWN0aW9uc1xuICAgKiBAcHJvcGVydHkge09iamVjdFtdfSBkaXJ0eVxuICAgKiBAcHJvcGVydHkgeyAndW5kbycgfCAncmVkbycgfCAnY2xlYXInIHwgJ2V4ZWN1dGUnIHwgbnVsbCB9IHRyaWdnZXIgdGhlIGNhdXNlIG9mIHRoZSBjdXJyZW50IGV4Y2VjdXRpb25cbiAgICovXG4gIHRoaXMuX2N1cnJlbnRFeGVjdXRpb24gPSB7XG4gICAgYWN0aW9uczogW10sXG4gICAgZGlydHk6IFtdLFxuICAgIHRyaWdnZXI6IG51bGxcbiAgfTtcblxuXG4gIHRoaXMuX2luamVjdG9yID0gaW5qZWN0b3I7XG4gIHRoaXMuX2V2ZW50QnVzID0gZXZlbnRCdXM7XG5cbiAgdGhpcy5fdWlkID0gMTtcblxuICBldmVudEJ1cy5vbihbXG4gICAgJ2RpYWdyYW0uZGVzdHJveScsXG4gICAgJ2RpYWdyYW0uY2xlYXInXG4gIF0sIGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuY2xlYXIoZmFsc2UpO1xuICB9LCB0aGlzKTtcbn1cblxuQ29tbWFuZFN0YWNrLiRpbmplY3QgPSBbICdldmVudEJ1cycsICdpbmplY3RvcicgXTtcblxuXG4vKipcbiAqIEV4ZWN1dGUgYSBjb21tYW5kXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGNvbW1hbmQgdGhlIGNvbW1hbmQgdG8gZXhlY3V0ZVxuICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHQgdGhlIGVudmlyb25tZW50IHRvIGV4ZWN1dGUgdGhlIGNvbW1hbmQgaW5cbiAqL1xuQ29tbWFuZFN0YWNrLnByb3RvdHlwZS5leGVjdXRlID0gZnVuY3Rpb24oY29tbWFuZCwgY29udGV4dCkge1xuICBpZiAoIWNvbW1hbmQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvbW1hbmQgcmVxdWlyZWQnKTtcbiAgfVxuXG4gIHRoaXMuX2N1cnJlbnRFeGVjdXRpb24udHJpZ2dlciA9ICdleGVjdXRlJztcblxuICB2YXIgYWN0aW9uID0geyBjb21tYW5kOiBjb21tYW5kLCBjb250ZXh0OiBjb250ZXh0IH07XG5cbiAgdGhpcy5fcHVzaEFjdGlvbihhY3Rpb24pO1xuICB0aGlzLl9pbnRlcm5hbEV4ZWN1dGUoYWN0aW9uKTtcbiAgdGhpcy5fcG9wQWN0aW9uKGFjdGlvbik7XG59O1xuXG5cbi8qKlxuICogQXNrIHdoZXRoZXIgYSBnaXZlbiBjb21tYW5kIGNhbiBiZSBleGVjdXRlZC5cbiAqXG4gKiBJbXBsZW1lbnRvcnMgbWF5IGhvb2sgaW50byB0aGUgbWVjaGFuaXNtIG9uIHR3byB3YXlzOlxuICpcbiAqICAgKiBpbiBldmVudCBsaXN0ZW5lcnM6XG4gKlxuICogICAgIFVzZXJzIG1heSBwcmV2ZW50IHRoZSBleGVjdXRpb24gdmlhIGFuIGV2ZW50IGxpc3RlbmVyLlxuICogICAgIEl0IG11c3QgcHJldmVudCB0aGUgZGVmYXVsdCBhY3Rpb24gZm9yIGBjb21tYW5kU3RhY2suKDxjb21tYW5kPi4pY2FuRXhlY3V0ZWAgZXZlbnRzLlxuICpcbiAqICAgKiBpbiBjb21tYW5kIGhhbmRsZXJzOlxuICpcbiAqICAgICBJZiB0aGUgbWV0aG9kIHtAbGluayBDb21tYW5kSGFuZGxlciNjYW5FeGVjdXRlfSBpcyBpbXBsZW1lbnRlZCBpbiBhIGhhbmRsZXJcbiAqICAgICBpdCB3aWxsIGJlIGNhbGxlZCB0byBmaWd1cmUgb3V0IHdoZXRoZXIgdGhlIGV4ZWN1dGlvbiBpcyBhbGxvd2VkLlxuICpcbiAqIEBwYXJhbSAge3N0cmluZ30gY29tbWFuZCB0aGUgY29tbWFuZCB0byBleGVjdXRlXG4gKiBAcGFyYW0gIHtPYmplY3R9IGNvbnRleHQgdGhlIGVudmlyb25tZW50IHRvIGV4ZWN1dGUgdGhlIGNvbW1hbmQgaW5cbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufSB0cnVlIGlmIHRoZSBjb21tYW5kIGNhbiBiZSBleGVjdXRlZFxuICovXG5Db21tYW5kU3RhY2sucHJvdG90eXBlLmNhbkV4ZWN1dGUgPSBmdW5jdGlvbihjb21tYW5kLCBjb250ZXh0KSB7XG5cbiAgdmFyIGFjdGlvbiA9IHsgY29tbWFuZDogY29tbWFuZCwgY29udGV4dDogY29udGV4dCB9O1xuXG4gIHZhciBoYW5kbGVyID0gdGhpcy5fZ2V0SGFuZGxlcihjb21tYW5kKTtcblxuICB2YXIgcmVzdWx0ID0gdGhpcy5fZmlyZShjb21tYW5kLCAnY2FuRXhlY3V0ZScsIGFjdGlvbik7XG5cbiAgLy8gaGFuZGxlciNjYW5FeGVjdXRlIHdpbGwgb25seSBiZSBjYWxsZWQgaWYgbm8gbGlzdGVuZXJcbiAgLy8gZGVjaWRlZCBvbiBhIHJlc3VsdCBhbHJlYWR5XG4gIGlmIChyZXN1bHQgPT09IHVuZGVmaW5lZCkge1xuICAgIGlmICghaGFuZGxlcikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChoYW5kbGVyLmNhbkV4ZWN1dGUpIHtcbiAgICAgIHJlc3VsdCA9IGhhbmRsZXIuY2FuRXhlY3V0ZShjb250ZXh0KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuXG4vKipcbiAqIENsZWFyIHRoZSBjb21tYW5kIHN0YWNrLCBlcmFzaW5nIGFsbCB1bmRvIC8gcmVkbyBoaXN0b3J5XG4gKi9cbkNvbW1hbmRTdGFjay5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbihlbWl0KSB7XG4gIHRoaXMuX3N0YWNrLmxlbmd0aCA9IDA7XG4gIHRoaXMuX3N0YWNrSWR4ID0gLTE7XG5cbiAgaWYgKGVtaXQgIT09IGZhbHNlKSB7XG4gICAgdGhpcy5fZmlyZSgnY2hhbmdlZCcsIHsgdHJpZ2dlcjogJ2NsZWFyJyB9KTtcbiAgfVxufTtcblxuXG4vKipcbiAqIFVuZG8gbGFzdCBjb21tYW5kKHMpXG4gKi9cbkNvbW1hbmRTdGFjay5wcm90b3R5cGUudW5kbyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgYWN0aW9uID0gdGhpcy5fZ2V0VW5kb0FjdGlvbigpLFxuICAgICAgbmV4dDtcblxuICBpZiAoYWN0aW9uKSB7XG4gICAgdGhpcy5fY3VycmVudEV4ZWN1dGlvbi50cmlnZ2VyID0gJ3VuZG8nO1xuXG4gICAgdGhpcy5fcHVzaEFjdGlvbihhY3Rpb24pO1xuXG4gICAgd2hpbGUgKGFjdGlvbikge1xuICAgICAgdGhpcy5faW50ZXJuYWxVbmRvKGFjdGlvbik7XG4gICAgICBuZXh0ID0gdGhpcy5fZ2V0VW5kb0FjdGlvbigpO1xuXG4gICAgICBpZiAoIW5leHQgfHwgbmV4dC5pZCAhPT0gYWN0aW9uLmlkKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBhY3Rpb24gPSBuZXh0O1xuICAgIH1cblxuICAgIHRoaXMuX3BvcEFjdGlvbigpO1xuICB9XG59O1xuXG5cbi8qKlxuICogUmVkbyBsYXN0IGNvbW1hbmQocylcbiAqL1xuQ29tbWFuZFN0YWNrLnByb3RvdHlwZS5yZWRvID0gZnVuY3Rpb24oKSB7XG4gIHZhciBhY3Rpb24gPSB0aGlzLl9nZXRSZWRvQWN0aW9uKCksXG4gICAgICBuZXh0O1xuXG4gIGlmIChhY3Rpb24pIHtcbiAgICB0aGlzLl9jdXJyZW50RXhlY3V0aW9uLnRyaWdnZXIgPSAncmVkbyc7XG5cbiAgICB0aGlzLl9wdXNoQWN0aW9uKGFjdGlvbik7XG5cbiAgICB3aGlsZSAoYWN0aW9uKSB7XG4gICAgICB0aGlzLl9pbnRlcm5hbEV4ZWN1dGUoYWN0aW9uLCB0cnVlKTtcbiAgICAgIG5leHQgPSB0aGlzLl9nZXRSZWRvQWN0aW9uKCk7XG5cbiAgICAgIGlmICghbmV4dCB8fCBuZXh0LmlkICE9PSBhY3Rpb24uaWQpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGFjdGlvbiA9IG5leHQ7XG4gICAgfVxuXG4gICAgdGhpcy5fcG9wQWN0aW9uKCk7XG4gIH1cbn07XG5cblxuLyoqXG4gKiBSZWdpc3RlciBhIGhhbmRsZXIgaW5zdGFuY2Ugd2l0aCB0aGUgY29tbWFuZCBzdGFja1xuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb21tYW5kXG4gKiBAcGFyYW0ge0NvbW1hbmRIYW5kbGVyfSBoYW5kbGVyXG4gKi9cbkNvbW1hbmRTdGFjay5wcm90b3R5cGUucmVnaXN0ZXIgPSBmdW5jdGlvbihjb21tYW5kLCBoYW5kbGVyKSB7XG4gIHRoaXMuX3NldEhhbmRsZXIoY29tbWFuZCwgaGFuZGxlcik7XG59O1xuXG5cbi8qKlxuICogUmVnaXN0ZXIgYSBoYW5kbGVyIHR5cGUgd2l0aCB0aGUgY29tbWFuZCBzdGFja1xuICogYnkgaW5zdGFudGlhdGluZyBpdCBhbmQgaW5qZWN0aW5nIGl0cyBkZXBlbmRlbmNpZXMuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGNvbW1hbmRcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGEgY29uc3RydWN0b3IgZm9yIGEge0BsaW5rIENvbW1hbmRIYW5kbGVyfVxuICovXG5Db21tYW5kU3RhY2sucHJvdG90eXBlLnJlZ2lzdGVySGFuZGxlciA9IGZ1bmN0aW9uKGNvbW1hbmQsIGhhbmRsZXJDbHMpIHtcblxuICBpZiAoIWNvbW1hbmQgfHwgIWhhbmRsZXJDbHMpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvbW1hbmQgYW5kIGhhbmRsZXJDbHMgbXVzdCBiZSBkZWZpbmVkJyk7XG4gIH1cblxuICB2YXIgaGFuZGxlciA9IHRoaXMuX2luamVjdG9yLmluc3RhbnRpYXRlKGhhbmRsZXJDbHMpO1xuICB0aGlzLnJlZ2lzdGVyKGNvbW1hbmQsIGhhbmRsZXIpO1xufTtcblxuQ29tbWFuZFN0YWNrLnByb3RvdHlwZS5jYW5VbmRvID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAhIXRoaXMuX2dldFVuZG9BY3Rpb24oKTtcbn07XG5cbkNvbW1hbmRTdGFjay5wcm90b3R5cGUuY2FuUmVkbyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gISF0aGlzLl9nZXRSZWRvQWN0aW9uKCk7XG59O1xuXG4vLyBzdGFjayBhY2Nlc3MgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuQ29tbWFuZFN0YWNrLnByb3RvdHlwZS5fZ2V0UmVkb0FjdGlvbiA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5fc3RhY2tbdGhpcy5fc3RhY2tJZHggKyAxXTtcbn07XG5cblxuQ29tbWFuZFN0YWNrLnByb3RvdHlwZS5fZ2V0VW5kb0FjdGlvbiA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5fc3RhY2tbdGhpcy5fc3RhY2tJZHhdO1xufTtcblxuXG4vLyBpbnRlcm5hbCBmdW5jdGlvbmFsaXR5IC8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuQ29tbWFuZFN0YWNrLnByb3RvdHlwZS5faW50ZXJuYWxVbmRvID0gZnVuY3Rpb24oYWN0aW9uKSB7XG4gIHZhciBzZWxmID0gdGhpcztcblxuICB2YXIgY29tbWFuZCA9IGFjdGlvbi5jb21tYW5kLFxuICAgICAgY29udGV4dCA9IGFjdGlvbi5jb250ZXh0O1xuXG4gIHZhciBoYW5kbGVyID0gdGhpcy5fZ2V0SGFuZGxlcihjb21tYW5kKTtcblxuICAvLyBndWFyZCBhZ2FpbnN0IGlsbGVnYWwgbmVzdGVkIGNvbW1hbmQgc3RhY2sgaW52b2NhdGlvbnNcbiAgdGhpcy5fYXRvbWljRG8oZnVuY3Rpb24oKSB7XG4gICAgc2VsZi5fZmlyZShjb21tYW5kLCAncmV2ZXJ0JywgYWN0aW9uKTtcblxuICAgIGlmIChoYW5kbGVyLnJldmVydCkge1xuICAgICAgc2VsZi5fbWFya0RpcnR5KGhhbmRsZXIucmV2ZXJ0KGNvbnRleHQpKTtcbiAgICB9XG5cbiAgICBzZWxmLl9yZXZlcnRlZEFjdGlvbihhY3Rpb24pO1xuXG4gICAgc2VsZi5fZmlyZShjb21tYW5kLCAncmV2ZXJ0ZWQnLCBhY3Rpb24pO1xuICB9KTtcbn07XG5cblxuQ29tbWFuZFN0YWNrLnByb3RvdHlwZS5fZmlyZSA9IGZ1bmN0aW9uKGNvbW1hbmQsIHF1YWxpZmllciwgZXZlbnQpIHtcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAzKSB7XG4gICAgZXZlbnQgPSBxdWFsaWZpZXI7XG4gICAgcXVhbGlmaWVyID0gbnVsbDtcbiAgfVxuXG4gIHZhciBuYW1lcyA9IHF1YWxpZmllciA/IFsgY29tbWFuZCArICcuJyArIHF1YWxpZmllciwgcXVhbGlmaWVyIF0gOiBbIGNvbW1hbmQgXSxcbiAgICAgIGksIG5hbWUsIHJlc3VsdDtcblxuICBldmVudCA9IHRoaXMuX2V2ZW50QnVzLmNyZWF0ZUV2ZW50KGV2ZW50KTtcblxuICBmb3IgKGkgPSAwOyAobmFtZSA9IG5hbWVzW2ldKTsgaSsrKSB7XG4gICAgcmVzdWx0ID0gdGhpcy5fZXZlbnRCdXMuZmlyZSgnY29tbWFuZFN0YWNrLicgKyBuYW1lLCBldmVudCk7XG5cbiAgICBpZiAoZXZlbnQuY2FuY2VsQnViYmxlKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuQ29tbWFuZFN0YWNrLnByb3RvdHlwZS5fY3JlYXRlSWQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuX3VpZCsrO1xufTtcblxuQ29tbWFuZFN0YWNrLnByb3RvdHlwZS5fYXRvbWljRG8gPSBmdW5jdGlvbihmbikge1xuXG4gIHZhciBleGVjdXRpb24gPSB0aGlzLl9jdXJyZW50RXhlY3V0aW9uO1xuXG4gIGV4ZWN1dGlvbi5hdG9taWMgPSB0cnVlO1xuXG4gIHRyeSB7XG4gICAgZm4oKTtcbiAgfSBmaW5hbGx5IHtcbiAgICBleGVjdXRpb24uYXRvbWljID0gZmFsc2U7XG4gIH1cbn07XG5cbkNvbW1hbmRTdGFjay5wcm90b3R5cGUuX2ludGVybmFsRXhlY3V0ZSA9IGZ1bmN0aW9uKGFjdGlvbiwgcmVkbykge1xuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgdmFyIGNvbW1hbmQgPSBhY3Rpb24uY29tbWFuZCxcbiAgICAgIGNvbnRleHQgPSBhY3Rpb24uY29udGV4dDtcblxuICB2YXIgaGFuZGxlciA9IHRoaXMuX2dldEhhbmRsZXIoY29tbWFuZCk7XG5cbiAgaWYgKCFoYW5kbGVyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdubyBjb21tYW5kIGhhbmRsZXIgcmVnaXN0ZXJlZCBmb3IgPCcgKyBjb21tYW5kICsgJz4nKTtcbiAgfVxuXG4gIHRoaXMuX3B1c2hBY3Rpb24oYWN0aW9uKTtcblxuICBpZiAoIXJlZG8pIHtcbiAgICB0aGlzLl9maXJlKGNvbW1hbmQsICdwcmVFeGVjdXRlJywgYWN0aW9uKTtcblxuICAgIGlmIChoYW5kbGVyLnByZUV4ZWN1dGUpIHtcbiAgICAgIGhhbmRsZXIucHJlRXhlY3V0ZShjb250ZXh0KTtcbiAgICB9XG5cbiAgICB0aGlzLl9maXJlKGNvbW1hbmQsICdwcmVFeGVjdXRlZCcsIGFjdGlvbik7XG4gIH1cblxuICAvLyBndWFyZCBhZ2FpbnN0IGlsbGVnYWwgbmVzdGVkIGNvbW1hbmQgc3RhY2sgaW52b2NhdGlvbnNcbiAgdGhpcy5fYXRvbWljRG8oZnVuY3Rpb24oKSB7XG5cbiAgICBzZWxmLl9maXJlKGNvbW1hbmQsICdleGVjdXRlJywgYWN0aW9uKTtcblxuICAgIGlmIChoYW5kbGVyLmV4ZWN1dGUpIHtcblxuICAgICAgLy8gYWN0dWFsIGV4ZWN1dGUgKyBtYXJrIHJldHVybiByZXN1bHRzIGFzIGRpcnR5XG4gICAgICBzZWxmLl9tYXJrRGlydHkoaGFuZGxlci5leGVjdXRlKGNvbnRleHQpKTtcbiAgICB9XG5cbiAgICAvLyBsb2cgdG8gc3RhY2tcbiAgICBzZWxmLl9leGVjdXRlZEFjdGlvbihhY3Rpb24sIHJlZG8pO1xuXG4gICAgc2VsZi5fZmlyZShjb21tYW5kLCAnZXhlY3V0ZWQnLCBhY3Rpb24pO1xuICB9KTtcblxuICBpZiAoIXJlZG8pIHtcbiAgICB0aGlzLl9maXJlKGNvbW1hbmQsICdwb3N0RXhlY3V0ZScsIGFjdGlvbik7XG5cbiAgICBpZiAoaGFuZGxlci5wb3N0RXhlY3V0ZSkge1xuICAgICAgaGFuZGxlci5wb3N0RXhlY3V0ZShjb250ZXh0KTtcbiAgICB9XG5cbiAgICB0aGlzLl9maXJlKGNvbW1hbmQsICdwb3N0RXhlY3V0ZWQnLCBhY3Rpb24pO1xuICB9XG5cbiAgdGhpcy5fcG9wQWN0aW9uKGFjdGlvbik7XG59O1xuXG5cbkNvbW1hbmRTdGFjay5wcm90b3R5cGUuX3B1c2hBY3Rpb24gPSBmdW5jdGlvbihhY3Rpb24pIHtcblxuICB2YXIgZXhlY3V0aW9uID0gdGhpcy5fY3VycmVudEV4ZWN1dGlvbixcbiAgICAgIGFjdGlvbnMgPSBleGVjdXRpb24uYWN0aW9ucztcblxuICB2YXIgYmFzZUFjdGlvbiA9IGFjdGlvbnNbMF07XG5cbiAgaWYgKGV4ZWN1dGlvbi5hdG9taWMpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2lsbGVnYWwgaW52b2NhdGlvbiBpbiA8ZXhlY3V0ZT4gb3IgPHJldmVydD4gcGhhc2UgKGFjdGlvbjogJyArIGFjdGlvbi5jb21tYW5kICsgJyknKTtcbiAgfVxuXG4gIGlmICghYWN0aW9uLmlkKSB7XG4gICAgYWN0aW9uLmlkID0gKGJhc2VBY3Rpb24gJiYgYmFzZUFjdGlvbi5pZCkgfHwgdGhpcy5fY3JlYXRlSWQoKTtcbiAgfVxuXG4gIGFjdGlvbnMucHVzaChhY3Rpb24pO1xufTtcblxuXG5Db21tYW5kU3RhY2sucHJvdG90eXBlLl9wb3BBY3Rpb24gPSBmdW5jdGlvbigpIHtcbiAgdmFyIGV4ZWN1dGlvbiA9IHRoaXMuX2N1cnJlbnRFeGVjdXRpb24sXG4gICAgICB0cmlnZ2VyID0gZXhlY3V0aW9uLnRyaWdnZXIsXG4gICAgICBhY3Rpb25zID0gZXhlY3V0aW9uLmFjdGlvbnMsXG4gICAgICBkaXJ0eSA9IGV4ZWN1dGlvbi5kaXJ0eTtcblxuICBhY3Rpb25zLnBvcCgpO1xuXG4gIGlmICghYWN0aW9ucy5sZW5ndGgpIHtcbiAgICB0aGlzLl9ldmVudEJ1cy5maXJlKCdlbGVtZW50cy5jaGFuZ2VkJywgeyBlbGVtZW50czogdW5pcXVlQnkoJ2lkJywgZGlydHkucmV2ZXJzZSgpKSB9KTtcblxuICAgIGRpcnR5Lmxlbmd0aCA9IDA7XG5cbiAgICB0aGlzLl9maXJlKCdjaGFuZ2VkJywgeyB0cmlnZ2VyOiB0cmlnZ2VyIH0pO1xuXG4gICAgZXhlY3V0aW9uLnRyaWdnZXIgPSBudWxsO1xuICB9XG59O1xuXG5cbkNvbW1hbmRTdGFjay5wcm90b3R5cGUuX21hcmtEaXJ0eSA9IGZ1bmN0aW9uKGVsZW1lbnRzKSB7XG4gIHZhciBleGVjdXRpb24gPSB0aGlzLl9jdXJyZW50RXhlY3V0aW9uO1xuXG4gIGlmICghZWxlbWVudHMpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBlbGVtZW50cyA9IGlzQXJyYXkoZWxlbWVudHMpID8gZWxlbWVudHMgOiBbIGVsZW1lbnRzIF07XG5cbiAgZXhlY3V0aW9uLmRpcnR5ID0gZXhlY3V0aW9uLmRpcnR5LmNvbmNhdChlbGVtZW50cyk7XG59O1xuXG5cbkNvbW1hbmRTdGFjay5wcm90b3R5cGUuX2V4ZWN1dGVkQWN0aW9uID0gZnVuY3Rpb24oYWN0aW9uLCByZWRvKSB7XG4gIHZhciBzdGFja0lkeCA9ICsrdGhpcy5fc3RhY2tJZHg7XG5cbiAgaWYgKCFyZWRvKSB7XG4gICAgdGhpcy5fc3RhY2suc3BsaWNlKHN0YWNrSWR4LCB0aGlzLl9zdGFjay5sZW5ndGgsIGFjdGlvbik7XG4gIH1cbn07XG5cblxuQ29tbWFuZFN0YWNrLnByb3RvdHlwZS5fcmV2ZXJ0ZWRBY3Rpb24gPSBmdW5jdGlvbihhY3Rpb24pIHtcbiAgdGhpcy5fc3RhY2tJZHgtLTtcbn07XG5cblxuQ29tbWFuZFN0YWNrLnByb3RvdHlwZS5fZ2V0SGFuZGxlciA9IGZ1bmN0aW9uKGNvbW1hbmQpIHtcbiAgcmV0dXJuIHRoaXMuX2hhbmRsZXJNYXBbY29tbWFuZF07XG59O1xuXG5Db21tYW5kU3RhY2sucHJvdG90eXBlLl9zZXRIYW5kbGVyID0gZnVuY3Rpb24oY29tbWFuZCwgaGFuZGxlcikge1xuICBpZiAoIWNvbW1hbmQgfHwgIWhhbmRsZXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvbW1hbmQgYW5kIGhhbmRsZXIgcmVxdWlyZWQnKTtcbiAgfVxuXG4gIGlmICh0aGlzLl9oYW5kbGVyTWFwW2NvbW1hbmRdKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdvdmVycmlkaW5nIGhhbmRsZXIgZm9yIGNvbW1hbmQgPCcgKyBjb21tYW5kICsgJz4nKTtcbiAgfVxuXG4gIHRoaXMuX2hhbmRsZXJNYXBbY29tbWFuZF0gPSBoYW5kbGVyO1xufTtcbiIsImltcG9ydCBDb21tYW5kU3RhY2sgZnJvbSAnLi9Db21tYW5kU3RhY2snO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGNvbW1hbmRTdGFjazogWyAndHlwZScsIENvbW1hbmRTdGFjayBdXG59O1xuIiwiaW1wb3J0IHtcbiAgaXNTdHJpbmcsXG4gIGFzc2lnbixcbiAgZm9yRWFjaFxufSBmcm9tICdtaW4tZGFzaCc7XG5cbmltcG9ydCB7XG4gIGRvbWlmeSxcbiAgYXR0ciBhcyBkb21BdHRyLFxuICBjbGFzc2VzIGFzIGRvbUNsYXNzZXMsXG4gIHJlbW92ZSBhcyBkb21SZW1vdmUsXG4gIGRlbGVnYXRlIGFzIGRvbURlbGVnYXRlXG59IGZyb20gJ21pbi1kb20nO1xuXG5pbXBvcnQgSWRzIGZyb20gJy4uLy4uL3V0aWwvSWRHZW5lcmF0b3InO1xuXG4vLyBkb2N1bWVudCB3aWRlIHVuaXF1ZSB0b29sdGlwIGlkc1xudmFyIGlkcyA9IG5ldyBJZHMoJ3R0Jyk7XG5cblxuZnVuY3Rpb24gY3JlYXRlUm9vdChwYXJlbnROb2RlKSB7XG4gIHZhciByb290ID0gZG9taWZ5KFxuICAgICc8ZGl2IGNsYXNzPVwiZGpzLXRvb2x0aXAtY29udGFpbmVyXCIgc3R5bGU9XCJwb3NpdGlvbjogYWJzb2x1dGU7IHdpZHRoOiAwOyBoZWlnaHQ6IDA7XCIgLz4nXG4gICk7XG5cbiAgcGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUocm9vdCwgcGFyZW50Tm9kZS5maXJzdENoaWxkKTtcblxuICByZXR1cm4gcm9vdDtcbn1cblxuXG5mdW5jdGlvbiBzZXRQb3NpdGlvbihlbCwgeCwgeSkge1xuICBhc3NpZ24oZWwuc3R5bGUsIHsgbGVmdDogeCArICdweCcsIHRvcDogeSArICdweCcgfSk7XG59XG5cbmZ1bmN0aW9uIHNldFZpc2libGUoZWwsIHZpc2libGUpIHtcbiAgZWwuc3R5bGUuZGlzcGxheSA9IHZpc2libGUgPT09IGZhbHNlID8gJ25vbmUnIDogJyc7XG59XG5cblxudmFyIHRvb2x0aXBDbGFzcyA9ICdkanMtdG9vbHRpcCcsXG4gICAgdG9vbHRpcFNlbGVjdG9yID0gJy4nICsgdG9vbHRpcENsYXNzO1xuXG4vKipcbiAqIEEgc2VydmljZSB0aGF0IGFsbG93cyB1c2VycyB0byByZW5kZXIgdG9vbCB0aXBzIG9uIHRoZSBkaWFncmFtLlxuICpcbiAqIFRoZSB0b29sdGlwIHNlcnZpY2Ugd2lsbCB0YWtlIGNhcmUgb2YgdXBkYXRpbmcgdGhlIHRvb2x0aXAgcG9zaXRpb25pbmdcbiAqIGR1cmluZyBuYXZpZ2F0aW9uICsgem9vbWluZy5cbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIGBgYGphdmFzY3JpcHRcbiAqXG4gKiAvLyBhZGQgYSBwaW5rIGJhZGdlIG9uIHRoZSB0b3AgbGVmdCBvZiB0aGUgc2hhcGVcbiAqIHRvb2x0aXBzLmFkZCh7XG4gKiAgIHBvc2l0aW9uOiB7XG4gKiAgICAgeDogNTAsXG4gKiAgICAgeTogMTAwXG4gKiAgIH0sXG4gKiAgIGh0bWw6ICc8ZGl2IHN0eWxlPVwid2lkdGg6IDEwcHg7IGJhY2tncm91bmQ6IGZ1Y2hzaWE7IGNvbG9yOiB3aGl0ZTtcIj4wPC9kaXY+J1xuICogfSk7XG4gKlxuICogLy8gb3Igd2l0aCBvcHRpb25hbCBsaWZlIHNwYW5cbiAqIHRvb2x0aXBzLmFkZCh7XG4gKiAgIHBvc2l0aW9uOiB7XG4gKiAgICAgdG9wOiAtNSxcbiAqICAgICBsZWZ0OiAtNVxuICogICB9LFxuICogICBodG1sOiAnPGRpdiBzdHlsZT1cIndpZHRoOiAxMHB4OyBiYWNrZ3JvdW5kOiBmdWNoc2lhOyBjb2xvcjogd2hpdGU7XCI+MDwvZGl2PicsXG4gKiAgIHR0bDogMjAwMFxuICogfSk7XG4gKlxuICogLy8gcmVtb3ZlIGEgdG9vbCB0aXBcbiAqIHZhciBpZCA9IHRvb2x0aXBzLmFkZCguLi4pO1xuICogdG9vbHRpcHMucmVtb3ZlKGlkKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7RXZlbnRCdXN9IGV2ZW50QnVzXG4gKiBAcGFyYW0ge0NhbnZhc30gY2FudmFzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFRvb2x0aXBzKGV2ZW50QnVzLCBjYW52YXMpIHtcblxuICB0aGlzLl9ldmVudEJ1cyA9IGV2ZW50QnVzO1xuICB0aGlzLl9jYW52YXMgPSBjYW52YXM7XG5cbiAgdGhpcy5faWRzID0gaWRzO1xuXG4gIHRoaXMuX3Rvb2x0aXBEZWZhdWx0cyA9IHtcbiAgICBzaG93OiB7XG4gICAgICBtaW5ab29tOiAwLjcsXG4gICAgICBtYXhab29tOiA1LjBcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIE1hcHBpbmcgdG9vbHRpcElkIC0+IHRvb2x0aXBcbiAgICovXG4gIHRoaXMuX3Rvb2x0aXBzID0ge307XG5cbiAgLy8gcm9vdCBodG1sIGVsZW1lbnQgZm9yIGFsbCB0b29sdGlwc1xuICB0aGlzLl90b29sdGlwUm9vdCA9IGNyZWF0ZVJvb3QoY2FudmFzLmdldENvbnRhaW5lcigpKTtcblxuXG4gIHZhciBzZWxmID0gdGhpcztcblxuICBkb21EZWxlZ2F0ZS5iaW5kKHRoaXMuX3Rvb2x0aXBSb290LCB0b29sdGlwU2VsZWN0b3IsICdtb3VzZWRvd24nLCBmdW5jdGlvbihldmVudCkge1xuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICB9KTtcblxuICBkb21EZWxlZ2F0ZS5iaW5kKHRoaXMuX3Rvb2x0aXBSb290LCB0b29sdGlwU2VsZWN0b3IsICdtb3VzZW92ZXInLCBmdW5jdGlvbihldmVudCkge1xuICAgIHNlbGYudHJpZ2dlcignbW91c2VvdmVyJywgZXZlbnQpO1xuICB9KTtcblxuICBkb21EZWxlZ2F0ZS5iaW5kKHRoaXMuX3Rvb2x0aXBSb290LCB0b29sdGlwU2VsZWN0b3IsICdtb3VzZW91dCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgc2VsZi50cmlnZ2VyKCdtb3VzZW91dCcsIGV2ZW50KTtcbiAgfSk7XG5cbiAgdGhpcy5faW5pdCgpO1xufVxuXG5cblRvb2x0aXBzLiRpbmplY3QgPSBbICdldmVudEJ1cycsICdjYW52YXMnIF07XG5cblxuLyoqXG4gKiBBZGRzIGEgSFRNTCB0b29sdGlwIHRvIHRoZSBkaWFncmFtXG4gKlxuICogQHBhcmFtIHtPYmplY3R9ICAgICAgICAgICAgICAgdG9vbHRpcCAgIHRoZSB0b29sdGlwIGNvbmZpZ3VyYXRpb25cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ3xET01FbGVtZW50fSAgICB0b29sdGlwLmh0bWwgICAgICAgICAgICAgICAgIGh0bWwgZWxlbWVudCB0byB1c2UgYXMgYW4gdG9vbHRpcFxuICogQHBhcmFtIHtPYmplY3R9ICAgICAgICAgICAgICAgW3Rvb2x0aXAuc2hvd10gICAgICAgICAgICAgICBzaG93IGNvbmZpZ3VyYXRpb25cbiAqIEBwYXJhbSB7bnVtYmVyfSAgICAgICAgICAgICAgIFt0b29sdGlwLnNob3cubWluWm9vbV0gICAgICAgbWluaW1hbCB6b29tIGxldmVsIHRvIHNob3cgdGhlIHRvb2x0aXBcbiAqIEBwYXJhbSB7bnVtYmVyfSAgICAgICAgICAgICAgIFt0b29sdGlwLnNob3cubWF4Wm9vbV0gICAgICAgbWF4aW11bSB6b29tIGxldmVsIHRvIHNob3cgdGhlIHRvb2x0aXBcbiAqIEBwYXJhbSB7T2JqZWN0fSAgICAgICAgICAgICAgIHRvb2x0aXAucG9zaXRpb24gICAgICAgICAgICAgd2hlcmUgdG8gYXR0YWNoIHRoZSB0b29sdGlwXG4gKiBAcGFyYW0ge251bWJlcn0gICAgICAgICAgICAgICBbdG9vbHRpcC5wb3NpdGlvbi5sZWZ0XSAgICAgIHJlbGF0aXZlIHRvIGVsZW1lbnQgYmJveCBsZWZ0IGF0dGFjaG1lbnRcbiAqIEBwYXJhbSB7bnVtYmVyfSAgICAgICAgICAgICAgIFt0b29sdGlwLnBvc2l0aW9uLnRvcF0gICAgICAgcmVsYXRpdmUgdG8gZWxlbWVudCBiYm94IHRvcCBhdHRhY2htZW50XG4gKiBAcGFyYW0ge251bWJlcn0gICAgICAgICAgICAgICBbdG9vbHRpcC5wb3NpdGlvbi5ib3R0b21dICAgIHJlbGF0aXZlIHRvIGVsZW1lbnQgYmJveCBib3R0b20gYXR0YWNobWVudFxuICogQHBhcmFtIHtudW1iZXJ9ICAgICAgICAgICAgICAgW3Rvb2x0aXAucG9zaXRpb24ucmlnaHRdICAgICByZWxhdGl2ZSB0byBlbGVtZW50IGJib3ggcmlnaHQgYXR0YWNobWVudFxuICogQHBhcmFtIHtudW1iZXJ9ICAgICAgICAgICAgICAgW3Rvb2x0aXAudGltZW91dD0tMV1cbiAqXG4gKiBAcmV0dXJuIHtzdHJpbmd9ICAgICAgICAgICAgICBpZCB0aGF0IG1heSBiZSB1c2VkIHRvIHJlZmVyZW5jZSB0aGUgdG9vbHRpcCBmb3IgdXBkYXRlIG9yIHJlbW92YWxcbiAqL1xuVG9vbHRpcHMucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uKHRvb2x0aXApIHtcblxuICBpZiAoIXRvb2x0aXAucG9zaXRpb24pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ211c3Qgc3BlY2lmaXkgdG9vbHRpcCBwb3NpdGlvbicpO1xuICB9XG5cbiAgaWYgKCF0b29sdGlwLmh0bWwpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ211c3Qgc3BlY2lmaXkgdG9vbHRpcCBodG1sJyk7XG4gIH1cblxuICB2YXIgaWQgPSB0aGlzLl9pZHMubmV4dCgpO1xuXG4gIHRvb2x0aXAgPSBhc3NpZ24oe30sIHRoaXMuX3Rvb2x0aXBEZWZhdWx0cywgdG9vbHRpcCwge1xuICAgIGlkOiBpZFxuICB9KTtcblxuICB0aGlzLl9hZGRUb29sdGlwKHRvb2x0aXApO1xuXG4gIGlmICh0b29sdGlwLnRpbWVvdXQpIHtcbiAgICB0aGlzLnNldFRpbWVvdXQodG9vbHRpcCk7XG4gIH1cblxuICByZXR1cm4gaWQ7XG59O1xuXG5Ub29sdGlwcy5wcm90b3R5cGUudHJpZ2dlciA9IGZ1bmN0aW9uKGFjdGlvbiwgZXZlbnQpIHtcblxuICB2YXIgbm9kZSA9IGV2ZW50LmRlbGVnYXRlVGFyZ2V0IHx8IGV2ZW50LnRhcmdldDtcblxuICB2YXIgdG9vbHRpcCA9IHRoaXMuZ2V0KGRvbUF0dHIobm9kZSwgJ2RhdGEtdG9vbHRpcC1pZCcpKTtcblxuICBpZiAoIXRvb2x0aXApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoYWN0aW9uID09PSAnbW91c2VvdmVyJyAmJiB0b29sdGlwLnRpbWVvdXQpIHtcbiAgICB0aGlzLmNsZWFyVGltZW91dCh0b29sdGlwKTtcbiAgfVxuXG4gIGlmIChhY3Rpb24gPT09ICdtb3VzZW91dCcgJiYgdG9vbHRpcC50aW1lb3V0KSB7XG5cbiAgICAvLyBjdXQgdGltZW91dCBhZnRlciBtb3VzZSBvdXRcbiAgICB0b29sdGlwLnRpbWVvdXQgPSAxMDAwO1xuXG4gICAgdGhpcy5zZXRUaW1lb3V0KHRvb2x0aXApO1xuICB9XG59O1xuXG4vKipcbiAqIEdldCBhIHRvb2x0aXAgd2l0aCB0aGUgZ2l2ZW4gaWRcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gaWRcbiAqL1xuVG9vbHRpcHMucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKGlkKSB7XG5cbiAgaWYgKHR5cGVvZiBpZCAhPT0gJ3N0cmluZycpIHtcbiAgICBpZCA9IGlkLmlkO1xuICB9XG5cbiAgcmV0dXJuIHRoaXMuX3Rvb2x0aXBzW2lkXTtcbn07XG5cblRvb2x0aXBzLnByb3RvdHlwZS5jbGVhclRpbWVvdXQgPSBmdW5jdGlvbih0b29sdGlwKSB7XG5cbiAgdG9vbHRpcCA9IHRoaXMuZ2V0KHRvb2x0aXApO1xuXG4gIGlmICghdG9vbHRpcCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciByZW1vdmVUaW1lciA9IHRvb2x0aXAucmVtb3ZlVGltZXI7XG5cbiAgaWYgKHJlbW92ZVRpbWVyKSB7XG4gICAgY2xlYXJUaW1lb3V0KHJlbW92ZVRpbWVyKTtcbiAgICB0b29sdGlwLnJlbW92ZVRpbWVyID0gbnVsbDtcbiAgfVxufTtcblxuVG9vbHRpcHMucHJvdG90eXBlLnNldFRpbWVvdXQgPSBmdW5jdGlvbih0b29sdGlwKSB7XG5cbiAgdG9vbHRpcCA9IHRoaXMuZ2V0KHRvb2x0aXApO1xuXG4gIGlmICghdG9vbHRpcCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHRoaXMuY2xlYXJUaW1lb3V0KHRvb2x0aXApO1xuXG4gIHZhciBzZWxmID0gdGhpcztcblxuICB0b29sdGlwLnJlbW92ZVRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICBzZWxmLnJlbW92ZSh0b29sdGlwKTtcbiAgfSwgdG9vbHRpcC50aW1lb3V0KTtcbn07XG5cbi8qKlxuICogUmVtb3ZlIGFuIHRvb2x0aXAgd2l0aCB0aGUgZ2l2ZW4gaWRcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gaWRcbiAqL1xuVG9vbHRpcHMucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uKGlkKSB7XG5cbiAgdmFyIHRvb2x0aXAgPSB0aGlzLmdldChpZCk7XG5cbiAgaWYgKHRvb2x0aXApIHtcbiAgICBkb21SZW1vdmUodG9vbHRpcC5odG1sKTtcbiAgICBkb21SZW1vdmUodG9vbHRpcC5odG1sQ29udGFpbmVyKTtcblxuICAgIGRlbGV0ZSB0b29sdGlwLmh0bWxDb250YWluZXI7XG5cbiAgICBkZWxldGUgdGhpcy5fdG9vbHRpcHNbdG9vbHRpcC5pZF07XG4gIH1cbn07XG5cblxuVG9vbHRpcHMucHJvdG90eXBlLnNob3cgPSBmdW5jdGlvbigpIHtcbiAgc2V0VmlzaWJsZSh0aGlzLl90b29sdGlwUm9vdCk7XG59O1xuXG5cblRvb2x0aXBzLnByb3RvdHlwZS5oaWRlID0gZnVuY3Rpb24oKSB7XG4gIHNldFZpc2libGUodGhpcy5fdG9vbHRpcFJvb3QsIGZhbHNlKTtcbn07XG5cblxuVG9vbHRpcHMucHJvdG90eXBlLl91cGRhdGVSb290ID0gZnVuY3Rpb24odmlld2JveCkge1xuICB2YXIgYSA9IHZpZXdib3guc2NhbGUgfHwgMTtcbiAgdmFyIGQgPSB2aWV3Ym94LnNjYWxlIHx8IDE7XG5cbiAgdmFyIG1hdHJpeCA9ICdtYXRyaXgoJyArIGEgKyAnLDAsMCwnICsgZCArICcsJyArICgtMSAqIHZpZXdib3gueCAqIGEpICsgJywnICsgKC0xICogdmlld2JveC55ICogZCkgKyAnKSc7XG5cbiAgdGhpcy5fdG9vbHRpcFJvb3Quc3R5bGUudHJhbnNmb3JtID0gbWF0cml4O1xuICB0aGlzLl90b29sdGlwUm9vdC5zdHlsZVsnLW1zLXRyYW5zZm9ybSddID0gbWF0cml4O1xufTtcblxuXG5Ub29sdGlwcy5wcm90b3R5cGUuX2FkZFRvb2x0aXAgPSBmdW5jdGlvbih0b29sdGlwKSB7XG5cbiAgdmFyIGlkID0gdG9vbHRpcC5pZCxcbiAgICAgIGh0bWwgPSB0b29sdGlwLmh0bWwsXG4gICAgICBodG1sQ29udGFpbmVyLFxuICAgICAgdG9vbHRpcFJvb3QgPSB0aGlzLl90b29sdGlwUm9vdDtcblxuICAvLyB1bndyYXAganF1ZXJ5IChmb3IgdGhvc2Ugd2hvIG5lZWQgaXQpXG4gIGlmIChodG1sLmdldCAmJiBodG1sLmNvbnN0cnVjdG9yLnByb3RvdHlwZS5qcXVlcnkpIHtcbiAgICBodG1sID0gaHRtbC5nZXQoMCk7XG4gIH1cblxuICAvLyBjcmVhdGUgcHJvcGVyIGh0bWwgZWxlbWVudHMgZnJvbVxuICAvLyB0b29sdGlwIEhUTUwgc3RyaW5nc1xuICBpZiAoaXNTdHJpbmcoaHRtbCkpIHtcbiAgICBodG1sID0gZG9taWZ5KGh0bWwpO1xuICB9XG5cbiAgaHRtbENvbnRhaW5lciA9IGRvbWlmeSgnPGRpdiBkYXRhLXRvb2x0aXAtaWQ9XCInICsgaWQgKyAnXCIgY2xhc3M9XCInICsgdG9vbHRpcENsYXNzICsgJ1wiIHN0eWxlPVwicG9zaXRpb246IGFic29sdXRlXCI+Jyk7XG5cbiAgaHRtbENvbnRhaW5lci5hcHBlbmRDaGlsZChodG1sKTtcblxuICBpZiAodG9vbHRpcC50eXBlKSB7XG4gICAgZG9tQ2xhc3NlcyhodG1sQ29udGFpbmVyKS5hZGQoJ2Rqcy10b29sdGlwLScgKyB0b29sdGlwLnR5cGUpO1xuICB9XG5cbiAgaWYgKHRvb2x0aXAuY2xhc3NOYW1lKSB7XG4gICAgZG9tQ2xhc3NlcyhodG1sQ29udGFpbmVyKS5hZGQodG9vbHRpcC5jbGFzc05hbWUpO1xuICB9XG5cbiAgdG9vbHRpcC5odG1sQ29udGFpbmVyID0gaHRtbENvbnRhaW5lcjtcblxuICB0b29sdGlwUm9vdC5hcHBlbmRDaGlsZChodG1sQ29udGFpbmVyKTtcblxuICB0aGlzLl90b29sdGlwc1tpZF0gPSB0b29sdGlwO1xuXG4gIHRoaXMuX3VwZGF0ZVRvb2x0aXAodG9vbHRpcCk7XG59O1xuXG5cblRvb2x0aXBzLnByb3RvdHlwZS5fdXBkYXRlVG9vbHRpcCA9IGZ1bmN0aW9uKHRvb2x0aXApIHtcblxuICB2YXIgcG9zaXRpb24gPSB0b29sdGlwLnBvc2l0aW9uLFxuICAgICAgaHRtbENvbnRhaW5lciA9IHRvb2x0aXAuaHRtbENvbnRhaW5lcjtcblxuICAvLyB1cGRhdGUgb3ZlcmxheSBodG1sIGJhc2VkIG9uIHRvb2x0aXAgeCwgeVxuXG4gIHNldFBvc2l0aW9uKGh0bWxDb250YWluZXIsIHBvc2l0aW9uLngsIHBvc2l0aW9uLnkpO1xufTtcblxuXG5Ub29sdGlwcy5wcm90b3R5cGUuX3VwZGF0ZVRvb2x0aXBWaXNpYmlsdHkgPSBmdW5jdGlvbih2aWV3Ym94KSB7XG5cbiAgZm9yRWFjaCh0aGlzLl90b29sdGlwcywgZnVuY3Rpb24odG9vbHRpcCkge1xuICAgIHZhciBzaG93ID0gdG9vbHRpcC5zaG93LFxuICAgICAgICBodG1sQ29udGFpbmVyID0gdG9vbHRpcC5odG1sQ29udGFpbmVyLFxuICAgICAgICB2aXNpYmxlID0gdHJ1ZTtcblxuICAgIGlmIChzaG93KSB7XG4gICAgICBpZiAoc2hvdy5taW5ab29tID4gdmlld2JveC5zY2FsZSB8fFxuICAgICAgICAgIHNob3cubWF4Wm9vbSA8IHZpZXdib3guc2NhbGUpIHtcbiAgICAgICAgdmlzaWJsZSA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBzZXRWaXNpYmxlKGh0bWxDb250YWluZXIsIHZpc2libGUpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5Ub29sdGlwcy5wcm90b3R5cGUuX2luaXQgPSBmdW5jdGlvbigpIHtcblxuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgLy8gc2Nyb2xsL3pvb20gaW50ZWdyYXRpb25cblxuICBmdW5jdGlvbiB1cGRhdGVWaWV3Ym94KHZpZXdib3gpIHtcbiAgICBzZWxmLl91cGRhdGVSb290KHZpZXdib3gpO1xuICAgIHNlbGYuX3VwZGF0ZVRvb2x0aXBWaXNpYmlsdHkodmlld2JveCk7XG5cbiAgICBzZWxmLnNob3coKTtcbiAgfVxuXG4gIHRoaXMuX2V2ZW50QnVzLm9uKCdjYW52YXMudmlld2JveC5jaGFuZ2luZycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgc2VsZi5oaWRlKCk7XG4gIH0pO1xuXG4gIHRoaXMuX2V2ZW50QnVzLm9uKCdjYW52YXMudmlld2JveC5jaGFuZ2VkJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB1cGRhdGVWaWV3Ym94KGV2ZW50LnZpZXdib3gpO1xuICB9KTtcbn07XG4iLCJpbXBvcnQgVG9vbHRpcHMgZnJvbSAnLi9Ub29sdGlwcyc7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgX19pbml0X186IFsgJ3Rvb2x0aXBzJyBdLFxuICB0b29sdGlwczogWyAndHlwZScsIFRvb2x0aXBzIF1cbn07IiwiLyoqXG4gKiBSZW1vdmUgZnJvbSB0aGUgYmVnaW5uaW5nIG9mIGEgY29sbGVjdGlvbiB1bnRpbCBpdCBpcyBlbXB0eS5cbiAqXG4gKiBUaGlzIGlzIGEgbnVsbC1zYWZlIG9wZXJhdGlvbiB0aGF0IGVuc3VyZXMgZWxlbWVudHNcbiAqIGFyZSBiZWluZyByZW1vdmVkIGZyb20gdGhlIGdpdmVuIGNvbGxlY3Rpb24gdW50aWwgdGhlXG4gKiBjb2xsZWN0aW9uIGlzIGVtcHR5LlxuICpcbiAqIFRoZSBpbXBsZW1lbnRhdGlvbiBkZWFscyB3aXRoIHRoZSBmYWN0IHRoYXQgYSByZW1vdmUgb3BlcmF0aW9uXG4gKiBtYXkgdG91Y2gsIGkuZS4gcmVtb3ZlIG11bHRpcGxlIGVsZW1lbnRzIGluIHRoZSBjb2xsZWN0aW9uXG4gKiBhdCBhIHRpbWUuXG4gKlxuICogQHBhcmFtIHtBcnJheTxPYmplY3Q+fSBbY29sbGVjdGlvbl1cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlbW92ZUZuXG4gKlxuICogQHJldHVybiB7QXJyYXk8T2JqZWN0Pn0gdGhlIGNsZWFyZWQgY29sbGVjdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gc2F2ZUNsZWFyKGNvbGxlY3Rpb24sIHJlbW92ZUZuKSB7XG5cbiAgaWYgKHR5cGVvZiByZW1vdmVGbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBFcnJvcigncmVtb3ZlRm4gaXRlcmF0b3IgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG4gIH1cblxuICBpZiAoIWNvbGxlY3Rpb24pIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgZTtcblxuICB3aGlsZSAoKGUgPSBjb2xsZWN0aW9uWzBdKSkge1xuICAgIHJlbW92ZUZuKGUpO1xuICB9XG5cbiAgcmV0dXJuIGNvbGxlY3Rpb247XG59XG4iLCJpbXBvcnQge1xuICBmb3JFYWNoLFxuICBmaWx0ZXJcbn0gZnJvbSAnbWluLWRhc2gnO1xuXG5pbXBvcnQgaW5oZXJpdHMgZnJvbSAnaW5oZXJpdHMnO1xuXG52YXIgTE9XX1BSSU9SSVRZID0gMjUwLFxuICAgIEhJR0hfUFJJT1JJVFkgPSAxNDAwO1xuXG5pbXBvcnQge1xuICBhZGQgYXMgY29sbGVjdGlvbkFkZCxcbiAgaW5kZXhPZiBhcyBjb2xsZWN0aW9uSWR4XG59IGZyb20gJy4uLy4uL3V0aWwvQ29sbGVjdGlvbnMnO1xuXG5pbXBvcnQgeyBzYXZlQ2xlYXIgfSBmcm9tICcuLi8uLi91dGlsL1JlbW92YWwnO1xuXG5pbXBvcnQgQ29tbWFuZEludGVyY2VwdG9yIGZyb20gJy4uLy4uL2NvbW1hbmQvQ29tbWFuZEludGVyY2VwdG9yJztcblxuXG4vKipcbiAqIEEgaGFuZGxlciB0aGF0IG1ha2VzIHN1cmUgbGFiZWxzIGFyZSBwcm9wZXJseSBtb3ZlZCB3aXRoXG4gKiB0aGVpciBsYWJlbCB0YXJnZXRzLlxuICpcbiAqIEBwYXJhbSB7ZGlkaS5JbmplY3Rvcn0gaW5qZWN0b3JcbiAqIEBwYXJhbSB7RXZlbnRCdXN9IGV2ZW50QnVzXG4gKiBAcGFyYW0ge01vZGVsaW5nfSBtb2RlbGluZ1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBMYWJlbFN1cHBvcnQoaW5qZWN0b3IsIGV2ZW50QnVzLCBtb2RlbGluZykge1xuXG4gIENvbW1hbmRJbnRlcmNlcHRvci5jYWxsKHRoaXMsIGV2ZW50QnVzKTtcblxuICB2YXIgbW92ZVByZXZpZXcgPSBpbmplY3Rvci5nZXQoJ21vdmVQcmV2aWV3JywgZmFsc2UpO1xuXG4gIC8vIHJlbW92ZSBsYWJlbHMgZnJvbSB0aGUgY29sbGVjdGlvbiB0aGF0IGFyZSBiZWluZ1xuICAvLyBtb3ZlZCB3aXRoIG90aGVyIGVsZW1lbnRzIGFueXdheVxuICBldmVudEJ1cy5vbignc2hhcGUubW92ZS5zdGFydCcsIEhJR0hfUFJJT1JJVFksIGZ1bmN0aW9uKGUpIHtcblxuICAgIHZhciBjb250ZXh0ID0gZS5jb250ZXh0LFxuICAgICAgICBzaGFwZXMgPSBjb250ZXh0LnNoYXBlcyxcbiAgICAgICAgdmFsaWRhdGVkU2hhcGVzID0gY29udGV4dC52YWxpZGF0ZWRTaGFwZXM7XG5cbiAgICBjb250ZXh0LnNoYXBlcyA9IHJlbW92ZUxhYmVscyhzaGFwZXMpO1xuICAgIGNvbnRleHQudmFsaWRhdGVkU2hhcGVzID0gcmVtb3ZlTGFiZWxzKHZhbGlkYXRlZFNoYXBlcyk7XG4gIH0pO1xuXG4gIC8vIGFkZCBsYWJlbHMgdG8gdmlzdWFsJ3MgZ3JvdXBcbiAgbW92ZVByZXZpZXcgJiYgZXZlbnRCdXMub24oJ3NoYXBlLm1vdmUuc3RhcnQnLCBMT1dfUFJJT1JJVFksIGZ1bmN0aW9uKGUpIHtcblxuICAgIHZhciBjb250ZXh0ID0gZS5jb250ZXh0LFxuICAgICAgICBzaGFwZXMgPSBjb250ZXh0LnNoYXBlcztcblxuICAgIHZhciBsYWJlbHMgPSBbXTtcblxuICAgIGZvckVhY2goc2hhcGVzLCBmdW5jdGlvbihlbGVtZW50KSB7XG5cbiAgICAgIGZvckVhY2goZWxlbWVudC5sYWJlbHMsIGZ1bmN0aW9uKGxhYmVsKSB7XG5cbiAgICAgICAgaWYgKCFsYWJlbC5oaWRkZW4gJiYgY29udGV4dC5zaGFwZXMuaW5kZXhPZihsYWJlbCkgPT09IC0xKSB7XG4gICAgICAgICAgbGFiZWxzLnB1c2gobGFiZWwpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGVsZW1lbnQubGFiZWxUYXJnZXQpIHtcbiAgICAgICAgICBsYWJlbHMucHVzaChlbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBmb3JFYWNoKGxhYmVscywgZnVuY3Rpb24obGFiZWwpIHtcbiAgICAgIG1vdmVQcmV2aWV3Lm1ha2VEcmFnZ2FibGUoY29udGV4dCwgbGFiZWwsIHRydWUpO1xuICAgIH0pO1xuXG4gIH0pO1xuXG4gIC8vIGFkZCBhbGwgbGFiZWxzIHRvIG1vdmUgY2xvc3VyZVxuICB0aGlzLnByZUV4ZWN1dGVkKCdlbGVtZW50cy5tb3ZlJywgSElHSF9QUklPUklUWSwgZnVuY3Rpb24oZSkge1xuICAgIHZhciBjb250ZXh0ID0gZS5jb250ZXh0LFxuICAgICAgICBjbG9zdXJlID0gY29udGV4dC5jbG9zdXJlLFxuICAgICAgICBlbmNsb3NlZEVsZW1lbnRzID0gY2xvc3VyZS5lbmNsb3NlZEVsZW1lbnRzO1xuXG4gICAgdmFyIGVuY2xvc2VkTGFiZWxzID0gW107XG5cbiAgICAvLyBmaW5kIGxhYmVscyB0aGF0IGFyZSBub3QgcGFydCBvZlxuICAgIC8vIG1vdmUgY2xvc3VyZSB5ZXQgYW5kIGFkZCB0aGVtXG4gICAgZm9yRWFjaChlbmNsb3NlZEVsZW1lbnRzLCBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICBmb3JFYWNoKGVsZW1lbnQubGFiZWxzLCBmdW5jdGlvbihsYWJlbCkge1xuXG4gICAgICAgIGlmICghZW5jbG9zZWRFbGVtZW50c1tsYWJlbC5pZF0pIHtcbiAgICAgICAgICBlbmNsb3NlZExhYmVscy5wdXNoKGxhYmVsKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBjbG9zdXJlLmFkZEFsbChlbmNsb3NlZExhYmVscyk7XG4gIH0pO1xuXG5cbiAgdGhpcy5wcmVFeGVjdXRlKFtcbiAgICAnY29ubmVjdGlvbi5kZWxldGUnLFxuICAgICdzaGFwZS5kZWxldGUnXG4gIF0sIGZ1bmN0aW9uKGUpIHtcblxuICAgIHZhciBjb250ZXh0ID0gZS5jb250ZXh0LFxuICAgICAgICBlbGVtZW50ID0gY29udGV4dC5jb25uZWN0aW9uIHx8IGNvbnRleHQuc2hhcGU7XG5cbiAgICBzYXZlQ2xlYXIoZWxlbWVudC5sYWJlbHMsIGZ1bmN0aW9uKGxhYmVsKSB7XG4gICAgICBtb2RlbGluZy5yZW1vdmVTaGFwZShsYWJlbCwgeyBuZXN0ZWQ6IHRydWUgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG5cbiAgdGhpcy5leGVjdXRlKCdzaGFwZS5kZWxldGUnLCBmdW5jdGlvbihlKSB7XG5cbiAgICB2YXIgY29udGV4dCA9IGUuY29udGV4dCxcbiAgICAgICAgc2hhcGUgPSBjb250ZXh0LnNoYXBlLFxuICAgICAgICBsYWJlbFRhcmdldCA9IHNoYXBlLmxhYmVsVGFyZ2V0O1xuXG4gICAgLy8gdW5zZXQgbGFiZWxUYXJnZXRcbiAgICBpZiAobGFiZWxUYXJnZXQpIHtcbiAgICAgIGNvbnRleHQubGFiZWxUYXJnZXRJbmRleCA9IGNvbGxlY3Rpb25JZHgobGFiZWxUYXJnZXQubGFiZWxzLCBzaGFwZSk7XG4gICAgICBjb250ZXh0LmxhYmVsVGFyZ2V0ID0gbGFiZWxUYXJnZXQ7XG5cbiAgICAgIHNoYXBlLmxhYmVsVGFyZ2V0ID0gbnVsbDtcbiAgICB9XG4gIH0pO1xuXG4gIHRoaXMucmV2ZXJ0KCdzaGFwZS5kZWxldGUnLCBmdW5jdGlvbihlKSB7XG5cbiAgICB2YXIgY29udGV4dCA9IGUuY29udGV4dCxcbiAgICAgICAgc2hhcGUgPSBjb250ZXh0LnNoYXBlLFxuICAgICAgICBsYWJlbFRhcmdldCA9IGNvbnRleHQubGFiZWxUYXJnZXQsXG4gICAgICAgIGxhYmVsVGFyZ2V0SW5kZXggPSBjb250ZXh0LmxhYmVsVGFyZ2V0SW5kZXg7XG5cbiAgICAvLyByZXN0b3JlIGxhYmVsVGFyZ2V0XG4gICAgaWYgKGxhYmVsVGFyZ2V0KSB7XG4gICAgICBjb2xsZWN0aW9uQWRkKGxhYmVsVGFyZ2V0LmxhYmVscywgc2hhcGUsIGxhYmVsVGFyZ2V0SW5kZXgpO1xuXG4gICAgICBzaGFwZS5sYWJlbFRhcmdldCA9IGxhYmVsVGFyZ2V0O1xuICAgIH1cbiAgfSk7XG5cbn1cblxuaW5oZXJpdHMoTGFiZWxTdXBwb3J0LCBDb21tYW5kSW50ZXJjZXB0b3IpO1xuXG5MYWJlbFN1cHBvcnQuJGluamVjdCA9IFtcbiAgJ2luamVjdG9yJyxcbiAgJ2V2ZW50QnVzJyxcbiAgJ21vZGVsaW5nJ1xuXTtcblxuXG4vKipcbiAqIFJldHVybiBhIGZpbHRlcmVkIGxpc3Qgb2YgZWxlbWVudHMgdGhhdCBkbyBub3RcbiAqIGNvbnRhaW4gYXR0YWNoZWQgZWxlbWVudHMgd2l0aCBob3N0cyBiZWluZyBwYXJ0XG4gKiBvZiB0aGUgc2VsZWN0aW9uLlxuICpcbiAqIEBwYXJhbSAge0FycmF5PGRqcy5tb2RlbC5CYXNlPn0gZWxlbWVudHNcbiAqXG4gKiBAcmV0dXJuIHtBcnJheTxkanMubW9kZWwuQmFzZT59IGZpbHRlcmVkXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZUxhYmVscyhlbGVtZW50cykge1xuXG4gIHJldHVybiBmaWx0ZXIoZWxlbWVudHMsIGZ1bmN0aW9uKGVsZW1lbnQpIHtcblxuICAgIC8vIGZpbHRlciBvdXQgbGFiZWxzIHRoYXQgYXJlIG1vdmUgdG9nZXRoZXJcbiAgICAvLyB3aXRoIHRoZWlyIGxhYmVsIHRhcmdldHNcbiAgICByZXR1cm4gZWxlbWVudHMuaW5kZXhPZihlbGVtZW50LmxhYmVsVGFyZ2V0KSA9PT0gLTE7XG4gIH0pO1xufVxuIiwiaW1wb3J0IExhYmVsU3VwcG9ydCBmcm9tICcuL0xhYmVsU3VwcG9ydCc7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgX19pbml0X186IFsgJ2xhYmVsU3VwcG9ydCddLFxuICBsYWJlbFN1cHBvcnQ6IFsgJ3R5cGUnLCBMYWJlbFN1cHBvcnQgXVxufTtcbiIsImltcG9ydCB7XG4gIGZsYXR0ZW4sXG4gIGZpbHRlcixcbiAgZm9yRWFjaCxcbiAgZ3JvdXBCeSxcbiAgbWFwLFxuICB1bmlvbkJ5XG59IGZyb20gJ21pbi1kYXNoJztcblxuaW1wb3J0IHsgc2F2ZUNsZWFyIH0gZnJvbSAnLi4vLi4vdXRpbC9SZW1vdmFsJztcblxuaW1wb3J0IHsgZ2V0TmV3QXR0YWNoU2hhcGVEZWx0YSB9IGZyb20gJy4uLy4uL3V0aWwvQXR0YWNoVXRpbCc7XG5cbmltcG9ydCBpbmhlcml0cyBmcm9tICdpbmhlcml0cyc7XG5cbmltcG9ydCBDb21tYW5kSW50ZXJjZXB0b3IgZnJvbSAnLi4vLi4vY29tbWFuZC9Db21tYW5kSW50ZXJjZXB0b3InO1xuXG52YXIgTE9XX1BSSU9SSVRZID0gMjUxLFxuICAgIEhJR0hfUFJJT1JJVFkgPSAxNDAxO1xuXG52YXIgTUFSS0VSX0FUVEFDSCA9ICdhdHRhY2gtb2snO1xuXG5cbi8qKlxuICogQWRkcyB0aGUgbm90aW9uIG9mIGF0dGFjaGVkIGVsZW1lbnRzIHRvIHRoZSBtb2RlbGVyLlxuICpcbiAqIE9wdGlvbmFsbHkgZGVwZW5kcyBvbiBgZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvbW92ZWAgdG8gcmVuZGVyXG4gKiB0aGUgYXR0YWNoZWQgZWxlbWVudHMgZHVyaW5nIG1vdmUgcHJldmlldy5cbiAqXG4gKiBPcHRpb25hbGx5IGRlcGVuZHMgb24gYGRpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2xhYmVsLXN1cHBvcnRgXG4gKiB0byByZW5kZXIgYXR0YWNoZWQgbGFiZWxzIGR1cmluZyBtb3ZlIHByZXZpZXcuXG4gKlxuICogQHBhcmFtIHtkaWRpLkluamVjdG9yfSBpbmplY3RvclxuICogQHBhcmFtIHtFdmVudEJ1c30gZXZlbnRCdXNcbiAqIEBwYXJhbSB7Q2FudmFzfSBjYW52YXNcbiAqIEBwYXJhbSB7UnVsZXN9IHJ1bGVzXG4gKiBAcGFyYW0ge01vZGVsaW5nfSBtb2RlbGluZ1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBBdHRhY2hTdXBwb3J0KGluamVjdG9yLCBldmVudEJ1cywgY2FudmFzLCBydWxlcywgbW9kZWxpbmcpIHtcblxuICBDb21tYW5kSW50ZXJjZXB0b3IuY2FsbCh0aGlzLCBldmVudEJ1cyk7XG5cbiAgdmFyIG1vdmVQcmV2aWV3ID0gaW5qZWN0b3IuZ2V0KCdtb3ZlUHJldmlldycsIGZhbHNlKTtcblxuXG4gIC8vIHJlbW92ZSBhbGwgdGhlIGF0dGFjaGVkIGVsZW1lbnRzIGZyb20gdGhlIHNoYXBlcyB0byBiZSB2YWxpZGF0ZWRcbiAgLy8gYWRkIGFsbCB0aGUgYXR0YWNoZWQgc2hhcGVzIHRvIHRoZSBvdmVyYWxsIGxpc3Qgb2YgbW92ZWQgc2hhcGVzXG4gIGV2ZW50QnVzLm9uKCdzaGFwZS5tb3ZlLnN0YXJ0JywgSElHSF9QUklPUklUWSwgZnVuY3Rpb24oZSkge1xuXG4gICAgdmFyIGNvbnRleHQgPSBlLmNvbnRleHQsXG4gICAgICAgIHNoYXBlcyA9IGNvbnRleHQuc2hhcGVzLFxuICAgICAgICB2YWxpZGF0ZWRTaGFwZXMgPSBjb250ZXh0LnZhbGlkYXRlZFNoYXBlcztcblxuICAgIGNvbnRleHQuc2hhcGVzID0gYWRkQXR0YWNoZWQoc2hhcGVzKTtcblxuICAgIGNvbnRleHQudmFsaWRhdGVkU2hhcGVzID0gcmVtb3ZlQXR0YWNoZWQodmFsaWRhdGVkU2hhcGVzKTtcbiAgfSk7XG5cbiAgLy8gYWRkIGF0dGFjaGVycyB0byB0aGUgdmlzdWFsJ3MgZ3JvdXBcbiAgbW92ZVByZXZpZXcgJiYgZXZlbnRCdXMub24oJ3NoYXBlLm1vdmUuc3RhcnQnLCBMT1dfUFJJT1JJVFksIGZ1bmN0aW9uKGUpIHtcblxuICAgIHZhciBjb250ZXh0ID0gZS5jb250ZXh0LFxuICAgICAgICBzaGFwZXMgPSBjb250ZXh0LnNoYXBlcyxcbiAgICAgICAgYXR0YWNoZXJzID0gZ2V0QXR0YWNoZXJzKHNoYXBlcyk7XG5cbiAgICBmb3JFYWNoKGF0dGFjaGVycywgZnVuY3Rpb24oYXR0YWNoZXIpIHtcbiAgICAgIG1vdmVQcmV2aWV3Lm1ha2VEcmFnZ2FibGUoY29udGV4dCwgYXR0YWNoZXIsIHRydWUpO1xuXG4gICAgICBmb3JFYWNoKGF0dGFjaGVyLmxhYmVscywgZnVuY3Rpb24obGFiZWwpIHtcbiAgICAgICAgbW92ZVByZXZpZXcubWFrZURyYWdnYWJsZShjb250ZXh0LCBsYWJlbCwgdHJ1ZSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gYWRkIGF0dGFjaC1vayBtYXJrZXIgdG8gY3VycmVudCBob3N0XG4gIG1vdmVQcmV2aWV3ICYmIGV2ZW50QnVzLm9uKCdzaGFwZS5tb3ZlLnN0YXJ0JywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgY29udGV4dCA9IGV2ZW50LmNvbnRleHQsXG4gICAgICAgIHNoYXBlcyA9IGNvbnRleHQuc2hhcGVzO1xuXG4gICAgaWYgKHNoYXBlcy5sZW5ndGggIT09IDEpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgc2hhcGUgPSBzaGFwZXNbMF07XG5cbiAgICB2YXIgaG9zdCA9IHNoYXBlLmhvc3Q7XG5cbiAgICBpZiAoaG9zdCkge1xuICAgICAgY2FudmFzLmFkZE1hcmtlcihob3N0LCBNQVJLRVJfQVRUQUNIKTtcblxuICAgICAgZXZlbnRCdXMub25jZShbXG4gICAgICAgICdzaGFwZS5tb3ZlLm91dCcsXG4gICAgICAgICdzaGFwZS5tb3ZlLmNsZWFudXAnXG4gICAgICBdLCBmdW5jdGlvbigpIHtcbiAgICAgICAgY2FudmFzLnJlbW92ZU1hcmtlcihob3N0LCBNQVJLRVJfQVRUQUNIKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gYWRkIGFsbCBhdHRhY2hlcnMgdG8gbW92ZSBjbG9zdXJlXG4gIHRoaXMucHJlRXhlY3V0ZWQoJ2VsZW1lbnRzLm1vdmUnLCBISUdIX1BSSU9SSVRZLCBmdW5jdGlvbihlKSB7XG4gICAgdmFyIGNvbnRleHQgPSBlLmNvbnRleHQsXG4gICAgICAgIGNsb3N1cmUgPSBjb250ZXh0LmNsb3N1cmUsXG4gICAgICAgIHNoYXBlcyA9IGNvbnRleHQuc2hhcGVzLFxuICAgICAgICBhdHRhY2hlcnMgPSBnZXRBdHRhY2hlcnMoc2hhcGVzKTtcblxuICAgIGZvckVhY2goYXR0YWNoZXJzLCBmdW5jdGlvbihhdHRhY2hlcikge1xuICAgICAgY2xvc3VyZS5hZGQoYXR0YWNoZXIsIGNsb3N1cmUudG9wTGV2ZWxbYXR0YWNoZXIuaG9zdC5pZF0pO1xuICAgIH0pO1xuICB9KTtcblxuICAvLyBwZXJmb3JtIHRoZSBhdHRhY2hpbmcgYWZ0ZXIgc2hhcGVzIGFyZSBkb25lIG1vdmluZ1xuICB0aGlzLnBvc3RFeGVjdXRlZCgnZWxlbWVudHMubW92ZScsIGZ1bmN0aW9uKGUpIHtcblxuICAgIHZhciBjb250ZXh0ID0gZS5jb250ZXh0LFxuICAgICAgICBzaGFwZXMgPSBjb250ZXh0LnNoYXBlcyxcbiAgICAgICAgbmV3SG9zdCA9IGNvbnRleHQubmV3SG9zdCxcbiAgICAgICAgYXR0YWNoZXJzO1xuXG4gICAgLy8gb25seSBzaW5nbGUgZWxlbWVudHMgY2FuIGJlIGF0dGFjaGVkXG4gICAgLy8gbXVsdGlwbHkgZWxlbWVudHMgY2FuIGJlIGRldGFjaGVkXG4gICAgaWYgKG5ld0hvc3QgJiYgc2hhcGVzLmxlbmd0aCAhPT0gMSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChuZXdIb3N0KSB7XG4gICAgICBhdHRhY2hlcnMgPSBzaGFwZXM7XG4gICAgfSBlbHNlIHtcblxuICAgICAgLy8gZmluZCBhdHRhY2hlcnMgbW92ZWQgd2l0aG91dCBob3N0XG4gICAgICBhdHRhY2hlcnMgPSBmaWx0ZXIoc2hhcGVzLCBmdW5jdGlvbihzaGFwZSkge1xuICAgICAgICB2YXIgaG9zdCA9IHNoYXBlLmhvc3Q7XG5cbiAgICAgICAgcmV0dXJuIGlzQXR0YWNoZXIoc2hhcGUpICYmICFpbmNsdWRlcyhzaGFwZXMsIGhvc3QpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZm9yRWFjaChhdHRhY2hlcnMsIGZ1bmN0aW9uKGF0dGFjaGVyKSB7XG4gICAgICBtb2RlbGluZy51cGRhdGVBdHRhY2htZW50KGF0dGFjaGVyLCBuZXdIb3N0KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gZW5zdXJlIGludmFsaWQgYXR0YWNobWVudCBjb25uZWN0aW9ucyBhcmUgcmVtb3ZlZFxuICB0aGlzLnBvc3RFeGVjdXRlZCgnZWxlbWVudHMubW92ZScsIGZ1bmN0aW9uKGUpIHtcblxuICAgIHZhciBzaGFwZXMgPSBlLmNvbnRleHQuc2hhcGVzO1xuXG4gICAgZm9yRWFjaChzaGFwZXMsIGZ1bmN0aW9uKHNoYXBlKSB7XG5cbiAgICAgIGZvckVhY2goc2hhcGUuYXR0YWNoZXJzLCBmdW5jdGlvbihhdHRhY2hlcikge1xuXG4gICAgICAgIC8vIHJlbW92ZSBpbnZhbGlkIG91dGdvaW5nIGNvbm5lY3Rpb25zXG4gICAgICAgIGZvckVhY2goYXR0YWNoZXIub3V0Z29pbmcuc2xpY2UoKSwgZnVuY3Rpb24oY29ubmVjdGlvbikge1xuICAgICAgICAgIHZhciBhbGxvd2VkID0gcnVsZXMuYWxsb3dlZCgnY29ubmVjdGlvbi5yZWNvbm5lY3QnLCB7XG4gICAgICAgICAgICBjb25uZWN0aW9uOiBjb25uZWN0aW9uLFxuICAgICAgICAgICAgc291cmNlOiBjb25uZWN0aW9uLnNvdXJjZSxcbiAgICAgICAgICAgIHRhcmdldDogY29ubmVjdGlvbi50YXJnZXRcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGlmICghYWxsb3dlZCkge1xuICAgICAgICAgICAgbW9kZWxpbmcucmVtb3ZlQ29ubmVjdGlvbihjb25uZWN0aW9uKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIHJlbW92ZSBpbnZhbGlkIGluY29taW5nIGNvbm5lY3Rpb25zXG4gICAgICAgIGZvckVhY2goYXR0YWNoZXIuaW5jb21pbmcuc2xpY2UoKSwgZnVuY3Rpb24oY29ubmVjdGlvbikge1xuICAgICAgICAgIHZhciBhbGxvd2VkID0gcnVsZXMuYWxsb3dlZCgnY29ubmVjdGlvbi5yZWNvbm5lY3QnLCB7XG4gICAgICAgICAgICBjb25uZWN0aW9uOiBjb25uZWN0aW9uLFxuICAgICAgICAgICAgc291cmNlOiBjb25uZWN0aW9uLnNvdXJjZSxcbiAgICAgICAgICAgIHRhcmdldDogY29ubmVjdGlvbi50YXJnZXRcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGlmICghYWxsb3dlZCkge1xuICAgICAgICAgICAgbW9kZWxpbmcucmVtb3ZlQ29ubmVjdGlvbihjb25uZWN0aW9uKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIHRoaXMucG9zdEV4ZWN1dGUoJ3NoYXBlLmNyZWF0ZScsIGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgY29udGV4dCA9IGUuY29udGV4dCxcbiAgICAgICAgc2hhcGUgPSBjb250ZXh0LnNoYXBlLFxuICAgICAgICBob3N0ID0gY29udGV4dC5ob3N0O1xuXG4gICAgaWYgKGhvc3QpIHtcbiAgICAgIG1vZGVsaW5nLnVwZGF0ZUF0dGFjaG1lbnQoc2hhcGUsIGhvc3QpO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gdXBkYXRlIGF0dGFjaG1lbnRzIGlmIHRoZSBob3N0IGlzIHJlcGxhY2VkXG4gIHRoaXMucG9zdEV4ZWN1dGUoJ3NoYXBlLnJlcGxhY2UnLCBmdW5jdGlvbihlKSB7XG5cbiAgICB2YXIgY29udGV4dCA9IGUuY29udGV4dCxcbiAgICAgICAgb2xkU2hhcGUgPSBjb250ZXh0Lm9sZFNoYXBlLFxuICAgICAgICBuZXdTaGFwZSA9IGNvbnRleHQubmV3U2hhcGU7XG5cbiAgICAvLyBtb3ZlIHRoZSBhdHRhY2hlcnMgdG8gdGhlIG5ldyBob3N0XG4gICAgc2F2ZUNsZWFyKG9sZFNoYXBlLmF0dGFjaGVycywgZnVuY3Rpb24oYXR0YWNoZXIpIHtcbiAgICAgIHZhciBhbGxvd2VkID0gcnVsZXMuYWxsb3dlZCgnZWxlbWVudHMubW92ZScsIHtcbiAgICAgICAgdGFyZ2V0OiBuZXdTaGFwZSxcbiAgICAgICAgc2hhcGVzOiBbYXR0YWNoZXJdXG4gICAgICB9KTtcblxuICAgICAgaWYgKGFsbG93ZWQgPT09ICdhdHRhY2gnKSB7XG4gICAgICAgIG1vZGVsaW5nLnVwZGF0ZUF0dGFjaG1lbnQoYXR0YWNoZXIsIG5ld1NoYXBlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1vZGVsaW5nLnJlbW92ZVNoYXBlKGF0dGFjaGVyKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIG1vdmUgYXR0YWNoZXJzIGlmIG5ldyBob3N0IGhhcyBkaWZmZXJlbnQgc2l6ZVxuICAgIGlmIChuZXdTaGFwZS5hdHRhY2hlcnMubGVuZ3RoKSB7XG5cbiAgICAgIGZvckVhY2gobmV3U2hhcGUuYXR0YWNoZXJzLCBmdW5jdGlvbihhdHRhY2hlcikge1xuICAgICAgICB2YXIgZGVsdGEgPSBnZXROZXdBdHRhY2hTaGFwZURlbHRhKGF0dGFjaGVyLCBvbGRTaGFwZSwgbmV3U2hhcGUpO1xuICAgICAgICBtb2RlbGluZy5tb3ZlU2hhcGUoYXR0YWNoZXIsIGRlbHRhLCBhdHRhY2hlci5wYXJlbnQpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gIH0pO1xuXG4gIC8vIG1vdmUgc2hhcGUgb24gaG9zdCByZXNpemVcbiAgdGhpcy5wb3N0RXhlY3V0ZSgnc2hhcGUucmVzaXplJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgY29udGV4dCA9IGV2ZW50LmNvbnRleHQsXG4gICAgICAgIHNoYXBlID0gY29udGV4dC5zaGFwZSxcbiAgICAgICAgb2xkQm91bmRzID0gY29udGV4dC5vbGRCb3VuZHMsXG4gICAgICAgIG5ld0JvdW5kcyA9IGNvbnRleHQubmV3Qm91bmRzLFxuICAgICAgICBhdHRhY2hlcnMgPSBzaGFwZS5hdHRhY2hlcnMsXG4gICAgICAgIGhpbnRzID0gY29udGV4dC5oaW50cyB8fCB7fTtcblxuICAgIGlmIChoaW50cy5hdHRhY2hTdXBwb3J0ID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZvckVhY2goYXR0YWNoZXJzLCBmdW5jdGlvbihhdHRhY2hlcikge1xuICAgICAgdmFyIGRlbHRhID0gZ2V0TmV3QXR0YWNoU2hhcGVEZWx0YShhdHRhY2hlciwgb2xkQm91bmRzLCBuZXdCb3VuZHMpO1xuXG4gICAgICBtb2RlbGluZy5tb3ZlU2hhcGUoYXR0YWNoZXIsIGRlbHRhLCBhdHRhY2hlci5wYXJlbnQpO1xuXG4gICAgICBmb3JFYWNoKGF0dGFjaGVyLmxhYmVscywgZnVuY3Rpb24obGFiZWwpIHtcbiAgICAgICAgbW9kZWxpbmcubW92ZVNoYXBlKGxhYmVsLCBkZWx0YSwgbGFiZWwucGFyZW50KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICAvLyByZW1vdmUgYXR0YWNobWVudHNcbiAgdGhpcy5wcmVFeGVjdXRlKCdzaGFwZS5kZWxldGUnLCBmdW5jdGlvbihldmVudCkge1xuXG4gICAgdmFyIHNoYXBlID0gZXZlbnQuY29udGV4dC5zaGFwZTtcblxuICAgIHNhdmVDbGVhcihzaGFwZS5hdHRhY2hlcnMsIGZ1bmN0aW9uKGF0dGFjaGVyKSB7XG4gICAgICBtb2RlbGluZy5yZW1vdmVTaGFwZShhdHRhY2hlcik7XG4gICAgfSk7XG5cbiAgICBpZiAoc2hhcGUuaG9zdCkge1xuICAgICAgbW9kZWxpbmcudXBkYXRlQXR0YWNobWVudChzaGFwZSwgbnVsbCk7XG4gICAgfVxuICB9KTtcbn1cblxuaW5oZXJpdHMoQXR0YWNoU3VwcG9ydCwgQ29tbWFuZEludGVyY2VwdG9yKTtcblxuQXR0YWNoU3VwcG9ydC4kaW5qZWN0ID0gW1xuICAnaW5qZWN0b3InLFxuICAnZXZlbnRCdXMnLFxuICAnY2FudmFzJyxcbiAgJ3J1bGVzJyxcbiAgJ21vZGVsaW5nJ1xuXTtcblxuXG4vKipcbiAqIFJldHVybiBhdHRhY2hlcnMgb2YgdGhlIGdpdmVuIHNoYXBlc1xuICpcbiAqIEBwYXJhbSB7QXJyYXk8ZGpzLm1vZGVsLkJhc2U+fSBzaGFwZXNcbiAqIEByZXR1cm4ge0FycmF5PGRqcy5tb2RlbC5CYXNlPn1cbiAqL1xuZnVuY3Rpb24gZ2V0QXR0YWNoZXJzKHNoYXBlcykge1xuICByZXR1cm4gZmxhdHRlbihtYXAoc2hhcGVzLCBmdW5jdGlvbihzKSB7XG4gICAgcmV0dXJuIHMuYXR0YWNoZXJzIHx8IFtdO1xuICB9KSk7XG59XG5cbi8qKlxuICogUmV0dXJuIGEgY29tYmluZWQgbGlzdCBvZiBlbGVtZW50cyBhbmRcbiAqIGF0dGFjaGVycy5cbiAqXG4gKiBAcGFyYW0ge0FycmF5PGRqcy5tb2RlbC5CYXNlPn0gZWxlbWVudHNcbiAqIEByZXR1cm4ge0FycmF5PGRqcy5tb2RlbC5CYXNlPn0gZmlsdGVyZWRcbiAqL1xuZnVuY3Rpb24gYWRkQXR0YWNoZWQoZWxlbWVudHMpIHtcbiAgdmFyIGF0dGFjaGVycyA9IGdldEF0dGFjaGVycyhlbGVtZW50cyk7XG5cbiAgcmV0dXJuIHVuaW9uQnkoJ2lkJywgZWxlbWVudHMsIGF0dGFjaGVycyk7XG59XG5cbi8qKlxuICogUmV0dXJuIGEgZmlsdGVyZWQgbGlzdCBvZiBlbGVtZW50cyB0aGF0IGRvIG5vdFxuICogY29udGFpbiBhdHRhY2hlZCBlbGVtZW50cyB3aXRoIGhvc3RzIGJlaW5nIHBhcnRcbiAqIG9mIHRoZSBzZWxlY3Rpb24uXG4gKlxuICogQHBhcmFtICB7QXJyYXk8ZGpzLm1vZGVsLkJhc2U+fSBlbGVtZW50c1xuICpcbiAqIEByZXR1cm4ge0FycmF5PGRqcy5tb2RlbC5CYXNlPn0gZmlsdGVyZWRcbiAqL1xuZnVuY3Rpb24gcmVtb3ZlQXR0YWNoZWQoZWxlbWVudHMpIHtcblxuICB2YXIgaWRzID0gZ3JvdXBCeShlbGVtZW50cywgJ2lkJyk7XG5cbiAgcmV0dXJuIGZpbHRlcihlbGVtZW50cywgZnVuY3Rpb24oZWxlbWVudCkge1xuICAgIHdoaWxlIChlbGVtZW50KSB7XG5cbiAgICAgIC8vIGhvc3QgaW4gc2VsZWN0aW9uXG4gICAgICBpZiAoZWxlbWVudC5ob3N0ICYmIGlkc1tlbGVtZW50Lmhvc3QuaWRdKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgZWxlbWVudCA9IGVsZW1lbnQucGFyZW50O1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gaXNBdHRhY2hlcihzaGFwZSkge1xuICByZXR1cm4gISFzaGFwZS5ob3N0O1xufVxuXG5mdW5jdGlvbiBpbmNsdWRlcyhhcnJheSwgaXRlbSkge1xuICByZXR1cm4gYXJyYXkuaW5kZXhPZihpdGVtKSAhPT0gLTE7XG59IiwiaW1wb3J0IFJ1bGVzTW9kdWxlIGZyb20gJy4uL3J1bGVzJztcblxuaW1wb3J0IEF0dGFjaFN1cHBvcnQgZnJvbSAnLi9BdHRhY2hTdXBwb3J0JztcblxuZXhwb3J0IGRlZmF1bHQge1xuICBfX2RlcGVuZHNfXzogW1xuICAgIFJ1bGVzTW9kdWxlXG4gIF0sXG4gIF9faW5pdF9fOiBbICdhdHRhY2hTdXBwb3J0JyBdLFxuICBhdHRhY2hTdXBwb3J0OiBbICd0eXBlJywgQXR0YWNoU3VwcG9ydCBdXG59O1xuIiwiaW1wb3J0IHtcbiAgZm9yRWFjaFxufSBmcm9tICdtaW4tZGFzaCc7XG5cbmltcG9ydCB7XG4gIGNsb3Nlc3QgYXMgZG9tQ2xvc2VzdFxufSBmcm9tICdtaW4tZG9tJztcblxudmFyIExPV19QUklPUklUWSA9IDI1MDtcblxuLyoqXG4gKiBUaGUgdG9vbCBtYW5hZ2VyIGFjdHMgYXMgbWlkZGxlLW1hbiBiZXR3ZWVuIHRoZSBhdmFpbGFibGUgdG9vbCdzIGFuZCB0aGUgUGFsZXR0ZSxcbiAqIGl0IHRha2VzIGNhcmUgb2YgbWFraW5nIHN1cmUgdGhhdCB0aGUgY29ycmVjdCBhY3RpdmUgc3RhdGUgaXMgc2V0LlxuICpcbiAqIEBwYXJhbSAge09iamVjdH0gICAgZXZlbnRCdXNcbiAqIEBwYXJhbSAge09iamVjdH0gICAgZHJhZ2dpbmdcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gVG9vbE1hbmFnZXIoZXZlbnRCdXMsIGRyYWdnaW5nKSB7XG4gIHRoaXMuX2V2ZW50QnVzID0gZXZlbnRCdXM7XG4gIHRoaXMuX2RyYWdnaW5nID0gZHJhZ2dpbmc7XG5cbiAgdGhpcy5fdG9vbHMgPSBbXTtcbiAgdGhpcy5fYWN0aXZlID0gbnVsbDtcbn1cblxuVG9vbE1hbmFnZXIuJGluamVjdCA9IFsgJ2V2ZW50QnVzJywgJ2RyYWdnaW5nJyBdO1xuXG5Ub29sTWFuYWdlci5wcm90b3R5cGUucmVnaXN0ZXJUb29sID0gZnVuY3Rpb24obmFtZSwgZXZlbnRzKSB7XG4gIHZhciB0b29scyA9IHRoaXMuX3Rvb2xzO1xuXG4gIGlmICghZXZlbnRzKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdBIHRvb2wgaGFzIHRvIGJlIHJlZ2lzdGVyZWQgd2l0aCBpdFxcJ3MgXCJldmVudHNcIicpO1xuICB9XG5cbiAgdG9vbHMucHVzaChuYW1lKTtcblxuICB0aGlzLmJpbmRFdmVudHMobmFtZSwgZXZlbnRzKTtcbn07XG5cblRvb2xNYW5hZ2VyLnByb3RvdHlwZS5pc0FjdGl2ZSA9IGZ1bmN0aW9uKHRvb2wpIHtcbiAgcmV0dXJuIHRvb2wgJiYgdGhpcy5fYWN0aXZlID09PSB0b29sO1xufTtcblxuVG9vbE1hbmFnZXIucHJvdG90eXBlLmxlbmd0aCA9IGZ1bmN0aW9uKHRvb2wpIHtcbiAgcmV0dXJuIHRoaXMuX3Rvb2xzLmxlbmd0aDtcbn07XG5cblRvb2xNYW5hZ2VyLnByb3RvdHlwZS5zZXRBY3RpdmUgPSBmdW5jdGlvbih0b29sKSB7XG4gIHZhciBldmVudEJ1cyA9IHRoaXMuX2V2ZW50QnVzO1xuXG4gIGlmICh0aGlzLl9hY3RpdmUgIT09IHRvb2wpIHtcbiAgICB0aGlzLl9hY3RpdmUgPSB0b29sO1xuXG4gICAgZXZlbnRCdXMuZmlyZSgndG9vbC1tYW5hZ2VyLnVwZGF0ZScsIHsgdG9vbDogdG9vbCB9KTtcbiAgfVxufTtcblxuVG9vbE1hbmFnZXIucHJvdG90eXBlLmJpbmRFdmVudHMgPSBmdW5jdGlvbihuYW1lLCBldmVudHMpIHtcbiAgdmFyIGV2ZW50QnVzID0gdGhpcy5fZXZlbnRCdXMsXG4gICAgICBkcmFnZ2luZyA9IHRoaXMuX2RyYWdnaW5nO1xuXG4gIHZhciBldmVudHNUb1JlZ2lzdGVyID0gW107XG5cbiAgZXZlbnRCdXMub24oZXZlbnRzLnRvb2wgKyAnLmluaXQnLCBmdW5jdGlvbihldmVudCkge1xuICAgIHZhciBjb250ZXh0ID0gZXZlbnQuY29udGV4dDtcblxuICAgIC8vIEFjdGl2ZSB0b29scyB0aGF0IHdhbnQgdG8gcmVhY3RpdmF0ZSB0aGVtc2VsdmVzIG11c3QgZG8gdGhpcyBleHBsaWNpdGx5XG4gICAgaWYgKCFjb250ZXh0LnJlYWN0aXZhdGUgJiYgdGhpcy5pc0FjdGl2ZShuYW1lKSkge1xuICAgICAgdGhpcy5zZXRBY3RpdmUobnVsbCk7XG5cbiAgICAgIGRyYWdnaW5nLmNhbmNlbCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuc2V0QWN0aXZlKG5hbWUpO1xuXG4gIH0sIHRoaXMpO1xuXG4gIC8vIFRvZG9bcmljYXJkb106IGFkZCB0ZXN0IGNhc2VzXG4gIGZvckVhY2goZXZlbnRzLCBmdW5jdGlvbihldmVudCkge1xuICAgIGV2ZW50c1RvUmVnaXN0ZXIucHVzaChldmVudCArICcuZW5kZWQnKTtcbiAgICBldmVudHNUb1JlZ2lzdGVyLnB1c2goZXZlbnQgKyAnLmNhbmNlbGVkJyk7XG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKGV2ZW50c1RvUmVnaXN0ZXIsIExPV19QUklPUklUWSwgZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgIC8vIFdlIGRlZmVyIHRoZSBkZS1hY3RpdmF0aW9uIG9mIHRoZSB0b29sIHRvIHRoZSAuYWN0aXZhdGUgcGhhc2UsXG4gICAgLy8gc28gd2UncmUgYWJsZSB0byBjaGVjayBpZiB3ZSB3YW50IHRvIHRvZ2dsZSBvZmYgdGhlIGN1cnJlbnRcbiAgICAvLyBhY3RpdmUgdG9vbCBvciBzd2l0Y2ggdG8gYSBuZXcgb25lXG4gICAgaWYgKCF0aGlzLl9hY3RpdmUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoaXNQYWxldHRlQ2xpY2soZXZlbnQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5zZXRBY3RpdmUobnVsbCk7XG4gIH0sIHRoaXMpO1xuXG59O1xuXG5cbi8vIGhlbHBlcnMgLy8vLy8vLy8vLy8vLy8vXG5cbi8qKlxuICogQ2hlY2sgaWYgYSBnaXZlbiBldmVudCBpcyBhIHBhbGV0dGUgY2xpY2sgZXZlbnQuXG4gKlxuICogQHBhcmFtIHtFdmVudEJ1cy5FdmVudH0gZXZlbnRcbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBpc1BhbGV0dGVDbGljayhldmVudCkge1xuICB2YXIgdGFyZ2V0ID0gZXZlbnQub3JpZ2luYWxFdmVudCAmJiBldmVudC5vcmlnaW5hbEV2ZW50LnRhcmdldDtcblxuICByZXR1cm4gdGFyZ2V0ICYmIGRvbUNsb3Nlc3QodGFyZ2V0LCAnLmdyb3VwW2RhdGEtZ3JvdXA9XCJ0b29sc1wiXScpO1xufSIsImltcG9ydCBEcmFnZ2luZ01vZHVsZSBmcm9tICcuLi9kcmFnZ2luZyc7XG5cbmltcG9ydCBUb29sTWFuYWdlciBmcm9tICcuL1Rvb2xNYW5hZ2VyJztcblxuZXhwb3J0IGRlZmF1bHQge1xuICBfX2RlcGVuZHNfXzogW1xuICAgIERyYWdnaW5nTW9kdWxlXG4gIF0sXG4gIF9faW5pdF9fOiBbICd0b29sTWFuYWdlcicgXSxcbiAgdG9vbE1hbmFnZXI6IFsgJ3R5cGUnLCBUb29sTWFuYWdlciBdXG59O1xuIiwiaW1wb3J0IHsgZm9yRWFjaCB9IGZyb20gJ21pbi1kYXNoJztcblxuLyoqXG4gKiBSZXR1cm4gZGlyZWN0aW9uIGdpdmVuIGF4aXMgYW5kIGRlbHRhLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBheGlzXG4gKiBAcGFyYW0ge251bWJlcn0gZGVsdGFcbiAqXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXREaXJlY3Rpb24oYXhpcywgZGVsdGEpIHtcblxuICBpZiAoYXhpcyA9PT0gJ3gnKSB7XG4gICAgaWYgKGRlbHRhID4gMCkge1xuICAgICAgcmV0dXJuICdlJztcbiAgICB9XG5cbiAgICBpZiAoZGVsdGEgPCAwKSB7XG4gICAgICByZXR1cm4gJ3cnO1xuICAgIH1cbiAgfVxuXG4gIGlmIChheGlzID09PSAneScpIHtcbiAgICBpZiAoZGVsdGEgPiAwKSB7XG4gICAgICByZXR1cm4gJ3MnO1xuICAgIH1cblxuICAgIGlmIChkZWx0YSA8IDApIHtcbiAgICAgIHJldHVybiAnbic7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cbi8qKlxuICogUmV0dXJucyBjb25uZWN0aW9ucyB3aG9zZSB3YXlwb2ludHMgYXJlIHRvIGJlIHVwZGF0ZWQuIFdheXBvaW50cyBhcmUgdG8gYmUgdXBkYXRlZCBpZiBzdGFydFxuICogb3IgZW5kIGlzIHRvIGJlIG1vdmVkIG9yIHJlc2l6ZWQuXG4gKlxuICogQHBhcmFtIHtBcnJheTxkanMubW9kZWwuU2hhcGV9IG1vdmluZ1NoYXBlc1xuICogQHBhcmFtIHtBcnJheTxkanMubW9kZWwuU2hhcGV9IHJlc2l6aW5nU2hhcGVzXG4gKlxuICogQHJldHVybnMge0FycmF5PGRqcy5tb2RlbC5Db25uZWN0aW9uPn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFdheXBvaW50c1VwZGF0aW5nQ29ubmVjdGlvbnMobW92aW5nU2hhcGVzLCByZXNpemluZ1NoYXBlcykge1xuICB2YXIgd2F5cG9pbnRzVXBkYXRpbmdDb25uZWN0aW9ucyA9IFtdO1xuXG4gIGZvckVhY2gobW92aW5nU2hhcGVzLmNvbmNhdChyZXNpemluZ1NoYXBlcyksIGZ1bmN0aW9uKHNoYXBlKSB7XG4gICAgdmFyIGluY29taW5nID0gc2hhcGUuaW5jb21pbmcsXG4gICAgICAgIG91dGdvaW5nID0gc2hhcGUub3V0Z29pbmc7XG5cbiAgICBmb3JFYWNoKGluY29taW5nLmNvbmNhdChvdXRnb2luZyksIGZ1bmN0aW9uKGNvbm5lY3Rpb24pIHtcbiAgICAgIHZhciBzb3VyY2UgPSBjb25uZWN0aW9uLnNvdXJjZSxcbiAgICAgICAgICB0YXJnZXQgPSBjb25uZWN0aW9uLnRhcmdldDtcblxuICAgICAgaWYgKGluY2x1ZGVzKG1vdmluZ1NoYXBlcywgc291cmNlKSB8fFxuICAgICAgICBpbmNsdWRlcyhtb3ZpbmdTaGFwZXMsIHRhcmdldCkgfHxcbiAgICAgICAgaW5jbHVkZXMocmVzaXppbmdTaGFwZXMsIHNvdXJjZSkgfHxcbiAgICAgICAgaW5jbHVkZXMocmVzaXppbmdTaGFwZXMsIHRhcmdldCkpIHtcblxuICAgICAgICBpZiAoIWluY2x1ZGVzKHdheXBvaW50c1VwZGF0aW5nQ29ubmVjdGlvbnMsIGNvbm5lY3Rpb24pKSB7XG4gICAgICAgICAgd2F5cG9pbnRzVXBkYXRpbmdDb25uZWN0aW9ucy5wdXNoKGNvbm5lY3Rpb24pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuXG4gIHJldHVybiB3YXlwb2ludHNVcGRhdGluZ0Nvbm5lY3Rpb25zO1xufVxuXG5mdW5jdGlvbiBpbmNsdWRlcyhhcnJheSwgaXRlbSkge1xuICByZXR1cm4gYXJyYXkuaW5kZXhPZihpdGVtKSAhPT0gLTE7XG59XG5cbi8qKlxuICogUmVzaXplIGJvdW5kcy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gYm91bmRzXG4gKiBAcGFyYW0ge251bWJlcn0gYm91bmRzLnhcbiAqIEBwYXJhbSB7bnVtYmVyfSBib3VuZHMueVxuICogQHBhcmFtIHtudW1iZXJ9IGJvdW5kcy53aWR0aFxuICogQHBhcmFtIHtudW1iZXJ9IGJvdW5kcy5oZWlnaHRcbiAqIEBwYXJhbSB7c3RyaW5nfSBkaXJlY3Rpb25cbiAqIEBwYXJhbSB7T2JqZWN0fSBkZWx0YVxuICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhLnhcbiAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YS55XG4gKlxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVzaXplQm91bmRzKGJvdW5kcywgZGlyZWN0aW9uLCBkZWx0YSkge1xuICB2YXIgeCA9IGJvdW5kcy54LFxuICAgICAgeSA9IGJvdW5kcy55LFxuICAgICAgd2lkdGggPSBib3VuZHMud2lkdGgsXG4gICAgICBoZWlnaHQgPSBib3VuZHMuaGVpZ2h0LFxuICAgICAgZHggPSBkZWx0YS54LFxuICAgICAgZHkgPSBkZWx0YS55O1xuXG4gIHN3aXRjaCAoZGlyZWN0aW9uKSB7XG4gIGNhc2UgJ24nOlxuICAgIHJldHVybiB7XG4gICAgICB4OiB4LFxuICAgICAgeTogeSArIGR5LFxuICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgaGVpZ2h0OiBoZWlnaHQgLSBkeVxuICAgIH07XG4gIGNhc2UgJ3MnOlxuICAgIHJldHVybiB7XG4gICAgICB4OiB4LFxuICAgICAgeTogeSxcbiAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgIGhlaWdodDogaGVpZ2h0ICsgZHlcbiAgICB9O1xuICBjYXNlICd3JzpcbiAgICByZXR1cm4ge1xuICAgICAgeDogeCArIGR4LFxuICAgICAgeTogeSxcbiAgICAgIHdpZHRoOiB3aWR0aCAtIGR4LFxuICAgICAgaGVpZ2h0OiBoZWlnaHRcbiAgICB9O1xuICBjYXNlICdlJzpcbiAgICByZXR1cm4ge1xuICAgICAgeDogeCxcbiAgICAgIHk6IHksXG4gICAgICB3aWR0aDogd2lkdGggKyBkeCxcbiAgICAgIGhlaWdodDogaGVpZ2h0XG4gICAgfTtcbiAgZGVmYXVsdDpcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Vua25vd24gZGlyZWN0aW9uOiAnICsgZGlyZWN0aW9uKTtcbiAgfVxufSIsImltcG9ydCB7XG4gIGFzc2lnbixcbiAgZmlsdGVyLFxuICBmb3JFYWNoLFxuICBpc051bWJlclxufSBmcm9tICdtaW4tZGFzaCc7XG5cbmltcG9ydCB7IGFzVFJCTCB9IGZyb20gJy4uLy4uL2xheW91dC9MYXlvdXRVdGlsJztcblxuaW1wb3J0IHsgZ2V0QkJveCB9IGZyb20gJy4uLy4uL3V0aWwvRWxlbWVudHMnO1xuXG5pbXBvcnQgeyBnZXREaXJlY3Rpb24gfSBmcm9tICcuL1NwYWNlVXRpbCc7XG5cbmltcG9ydCB7IGhhc1ByaW1hcnlNb2RpZmllciB9IGZyb20gJy4uLy4uL3V0aWwvTW91c2UnO1xuXG5pbXBvcnQgeyBzZXQgYXMgc2V0Q3Vyc29yIH0gZnJvbSAnLi4vLi4vdXRpbC9DdXJzb3InO1xuXG5pbXBvcnQgeyBzZWxmQW5kQWxsQ2hpbGRyZW4gfSBmcm9tICcuLi8uLi91dGlsL0VsZW1lbnRzJztcblxudmFyIGFicyA9IE1hdGguYWJzLFxuICAgIHJvdW5kID0gTWF0aC5yb3VuZDtcblxudmFyIEFYSVNfVE9fRElNRU5TSU9OID0ge1xuICB4OiAnd2lkdGgnLFxuICB5OiAnaGVpZ2h0J1xufTtcblxudmFyIENVUlNPUl9DUk9TU0hBSVIgPSAnY3Jvc3NoYWlyJztcblxudmFyIERJUkVDVElPTl9UT19UUkJMID0ge1xuICBuOiAndG9wJyxcbiAgdzogJ2xlZnQnLFxuICBzOiAnYm90dG9tJyxcbiAgZTogJ3JpZ2h0J1xufTtcblxudmFyIEhJR0hfUFJJT1JJVFkgPSAxNTAwO1xuXG52YXIgRElSRUNUSU9OX1RPX09QUE9TSVRFID0ge1xuICBuOiAncycsXG4gIHc6ICdlJyxcbiAgczogJ24nLFxuICBlOiAndydcbn07XG5cbnZhciBQQURESU5HID0gMjA7XG5cblxuLyoqXG4gKiBBZGQgb3IgcmVtb3ZlIHNwYWNlIGJ5IG1vdmluZyBhbmQgcmVzaXppbmcgZWxlbWVudHMuXG4gKlxuICogQHBhcmFtIHtDYW52YXN9IGNhbnZhc1xuICogQHBhcmFtIHtEcmFnZ2luZ30gZHJhZ2dpbmdcbiAqIEBwYXJhbSB7RXZlbnRCdXN9IGV2ZW50QnVzXG4gKiBAcGFyYW0ge01vZGVsaW5nfSBtb2RlbGluZ1xuICogQHBhcmFtIHtSdWxlc30gcnVsZXNcbiAqIEBwYXJhbSB7VG9vbE1hbmFnZXJ9IHRvb2xNYW5hZ2VyXG4gKiBAcGFyYW0ge01vdXNlfSBtb3VzZVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBTcGFjZVRvb2woXG4gICAgY2FudmFzLCBkcmFnZ2luZywgZXZlbnRCdXMsXG4gICAgbW9kZWxpbmcsIHJ1bGVzLCB0b29sTWFuYWdlcixcbiAgICBtb3VzZSkge1xuXG4gIHRoaXMuX2NhbnZhcyA9IGNhbnZhcztcbiAgdGhpcy5fZHJhZ2dpbmcgPSBkcmFnZ2luZztcbiAgdGhpcy5fZXZlbnRCdXMgPSBldmVudEJ1cztcbiAgdGhpcy5fbW9kZWxpbmcgPSBtb2RlbGluZztcbiAgdGhpcy5fcnVsZXMgPSBydWxlcztcbiAgdGhpcy5fdG9vbE1hbmFnZXIgPSB0b29sTWFuYWdlcjtcbiAgdGhpcy5fbW91c2UgPSBtb3VzZTtcblxuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgdG9vbE1hbmFnZXIucmVnaXN0ZXJUb29sKCdzcGFjZScsIHtcbiAgICB0b29sOiAnc3BhY2VUb29sLnNlbGVjdGlvbicsXG4gICAgZHJhZ2dpbmc6ICdzcGFjZVRvb2wnXG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKCdzcGFjZVRvb2wuc2VsZWN0aW9uLmVuZCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgZXZlbnRCdXMub25jZSgnc3BhY2VUb29sLnNlbGVjdGlvbi5lbmRlZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgc2VsZi5hY3RpdmF0ZU1ha2VTcGFjZShldmVudC5vcmlnaW5hbEV2ZW50KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZXZlbnRCdXMub24oJ3NwYWNlVG9vbC5tb3ZlJywgSElHSF9QUklPUklUWSAsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0LFxuICAgICAgICBpbml0aWFsaXplZCA9IGNvbnRleHQuaW5pdGlhbGl6ZWQ7XG5cbiAgICBpZiAoIWluaXRpYWxpemVkKSB7XG4gICAgICBpbml0aWFsaXplZCA9IGNvbnRleHQuaW5pdGlhbGl6ZWQgPSBzZWxmLmluaXQoZXZlbnQsIGNvbnRleHQpO1xuICAgIH1cblxuICAgIGlmIChpbml0aWFsaXplZCkge1xuICAgICAgZW5zdXJlQ29uc3RyYWludHMoZXZlbnQpO1xuICAgIH1cbiAgfSk7XG5cbiAgZXZlbnRCdXMub24oJ3NwYWNlVG9vbC5lbmQnLCBmdW5jdGlvbihldmVudCkge1xuICAgIHZhciBjb250ZXh0ID0gZXZlbnQuY29udGV4dCxcbiAgICAgICAgYXhpcyA9IGNvbnRleHQuYXhpcyxcbiAgICAgICAgZGlyZWN0aW9uID0gY29udGV4dC5kaXJlY3Rpb24sXG4gICAgICAgIG1vdmluZ1NoYXBlcyA9IGNvbnRleHQubW92aW5nU2hhcGVzLFxuICAgICAgICByZXNpemluZ1NoYXBlcyA9IGNvbnRleHQucmVzaXppbmdTaGFwZXMsXG4gICAgICAgIHN0YXJ0ID0gY29udGV4dC5zdGFydDtcblxuICAgIGlmICghY29udGV4dC5pbml0aWFsaXplZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGVuc3VyZUNvbnN0cmFpbnRzKGV2ZW50KTtcblxuICAgIHZhciBkZWx0YSA9IHtcbiAgICAgIHg6IDAsXG4gICAgICB5OiAwXG4gICAgfTtcblxuICAgIGRlbHRhWyBheGlzIF0gPSByb3VuZChldmVudFsgJ2QnICsgYXhpcyBdKTtcblxuICAgIHNlbGYubWFrZVNwYWNlKG1vdmluZ1NoYXBlcywgcmVzaXppbmdTaGFwZXMsIGRlbHRhLCBkaXJlY3Rpb24sIHN0YXJ0KTtcblxuICAgIGV2ZW50QnVzLm9uY2UoJ3NwYWNlVG9vbC5lbmRlZCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICAgIC8vIGFjdGl2YXRlIHNwYWNlIHRvb2wgc2VsZWN0aW9uIGFmdGVyIG1ha2Ugc3BhY2VcbiAgICAgIHNlbGYuYWN0aXZhdGVTZWxlY3Rpb24oZXZlbnQub3JpZ2luYWxFdmVudCwgdHJ1ZSwgdHJ1ZSk7XG4gICAgfSk7XG4gIH0pO1xufVxuXG5TcGFjZVRvb2wuJGluamVjdCA9IFtcbiAgJ2NhbnZhcycsXG4gICdkcmFnZ2luZycsXG4gICdldmVudEJ1cycsXG4gICdtb2RlbGluZycsXG4gICdydWxlcycsXG4gICd0b29sTWFuYWdlcicsXG4gICdtb3VzZSdcbl07XG5cbi8qKlxuICogQWN0aXZhdGUgc3BhY2UgdG9vbCBzZWxlY3Rpb24uXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGV2ZW50XG4gKiBAcGFyYW0ge2Jvb2xlYW59IGF1dG9BY3RpdmF0ZVxuICovXG5TcGFjZVRvb2wucHJvdG90eXBlLmFjdGl2YXRlU2VsZWN0aW9uID0gZnVuY3Rpb24oZXZlbnQsIGF1dG9BY3RpdmF0ZSwgcmVhY3RpdmF0ZSkge1xuICB0aGlzLl9kcmFnZ2luZy5pbml0KGV2ZW50LCAnc3BhY2VUb29sLnNlbGVjdGlvbicsIHtcbiAgICBhdXRvQWN0aXZhdGU6IGF1dG9BY3RpdmF0ZSxcbiAgICBjdXJzb3I6IENVUlNPUl9DUk9TU0hBSVIsXG4gICAgZGF0YToge1xuICAgICAgY29udGV4dDoge1xuICAgICAgICByZWFjdGl2YXRlOiByZWFjdGl2YXRlXG4gICAgICB9XG4gICAgfSxcbiAgICB0cmFwQ2xpY2s6IGZhbHNlXG4gIH0pO1xufTtcblxuLyoqXG4gKiBBY3RpdmF0ZSBzcGFjZSB0b29sIG1ha2Ugc3BhY2UuXG4gKlxuICogQHBhcmFtICB7TW91c2VFdmVudH0gZXZlbnRcbiAqL1xuU3BhY2VUb29sLnByb3RvdHlwZS5hY3RpdmF0ZU1ha2VTcGFjZSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gIHRoaXMuX2RyYWdnaW5nLmluaXQoZXZlbnQsICdzcGFjZVRvb2wnLCB7XG4gICAgYXV0b0FjdGl2YXRlOiB0cnVlLFxuICAgIGN1cnNvcjogQ1VSU09SX0NST1NTSEFJUixcbiAgICBkYXRhOiB7XG4gICAgICBjb250ZXh0OiB7fVxuICAgIH1cbiAgfSk7XG59O1xuXG4vKipcbiAqIE1ha2Ugc3BhY2UuXG4gKlxuICogQHBhcmFtICB7QXJyYXk8ZGpzLm1vZGVsLlNoYXBlPn0gbW92aW5nU2hhcGVzXG4gKiBAcGFyYW0gIHtBcnJheTxkanMubW9kZWwuU2hhcGU+fSByZXNpemluZ1NoYXBlc1xuICogQHBhcmFtICB7T2JqZWN0fSBkZWx0YVxuICogQHBhcmFtICB7bnVtYmVyfSBkZWx0YS54XG4gKiBAcGFyYW0gIHtudW1iZXJ9IGRlbHRhLnlcbiAqIEBwYXJhbSAge3N0cmluZ30gZGlyZWN0aW9uXG4gKiBAcGFyYW0gIHtudW1iZXJ9IHN0YXJ0XG4gKi9cblNwYWNlVG9vbC5wcm90b3R5cGUubWFrZVNwYWNlID0gZnVuY3Rpb24obW92aW5nU2hhcGVzLCByZXNpemluZ1NoYXBlcywgZGVsdGEsIGRpcmVjdGlvbiwgc3RhcnQpIHtcbiAgcmV0dXJuIHRoaXMuX21vZGVsaW5nLmNyZWF0ZVNwYWNlKG1vdmluZ1NoYXBlcywgcmVzaXppbmdTaGFwZXMsIGRlbHRhLCBkaXJlY3Rpb24sIHN0YXJ0KTtcbn07XG5cbi8qKlxuICogSW5pdGlhbGl6ZSBtYWtlIHNwYWNlIGFuZCByZXR1cm4gdHJ1ZSBpZiB0aGF0IHdhcyBzdWNjZXNzZnVsLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBldmVudFxuICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHRcbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5TcGFjZVRvb2wucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbihldmVudCwgY29udGV4dCkge1xuICB2YXIgYXhpcyA9IGFicyhldmVudC5keCkgPiBhYnMoZXZlbnQuZHkpID8gJ3gnIDogJ3knLFxuICAgICAgZGVsdGEgPSBldmVudFsgJ2QnICsgYXhpcyBdLFxuICAgICAgc3RhcnQgPSBldmVudFsgYXhpcyBdIC0gZGVsdGE7XG5cbiAgaWYgKGFicyhkZWx0YSkgPCA1KSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLy8gaW52ZXJ0IGRlbHRhIHRvIHJlbW92ZSBzcGFjZSB3aGVuIG1vdmluZyBsZWZ0XG4gIGlmIChkZWx0YSA8IDApIHtcbiAgICBkZWx0YSAqPSAtMTtcbiAgfVxuXG4gIC8vIGludmVydCBkZWx0YSB0byBhZGQvcmVtb3ZlIHNwYWNlIHdoZW4gcmVtb3ZpbmcvYWRkaW5nIHNwYWNlIGlmIG1vZGlmaWVyIGtleSBpcyBwcmVzc2VkXG4gIGlmIChoYXNQcmltYXJ5TW9kaWZpZXIoZXZlbnQpKSB7XG4gICAgZGVsdGEgKj0gLTE7XG4gIH1cblxuICB2YXIgZGlyZWN0aW9uID0gZ2V0RGlyZWN0aW9uKGF4aXMsIGRlbHRhKTtcblxuICB2YXIgcm9vdCA9IHRoaXMuX2NhbnZhcy5nZXRSb290RWxlbWVudCgpO1xuXG4gIHZhciBjaGlsZHJlbiA9IHNlbGZBbmRBbGxDaGlsZHJlbihyb290LCB0cnVlKTtcblxuICB2YXIgZWxlbWVudHMgPSB0aGlzLmNhbGN1bGF0ZUFkanVzdG1lbnRzKGNoaWxkcmVuLCBheGlzLCBkZWx0YSwgc3RhcnQpO1xuXG4gIHZhciBtaW5EaW1lbnNpb25zID0gdGhpcy5fZXZlbnRCdXMuZmlyZSgnc3BhY2VUb29sLmdldE1pbkRpbWVuc2lvbnMnLCB7XG4gICAgYXhpczogYXhpcyxcbiAgICBkaXJlY3Rpb246IGRpcmVjdGlvbixcbiAgICBzaGFwZXM6IGVsZW1lbnRzLnJlc2l6aW5nU2hhcGVzLFxuICAgIHN0YXJ0OiBzdGFydFxuICB9KTtcblxuICB2YXIgc3BhY2VUb29sQ29uc3RyYWludHMgPSBnZXRTcGFjZVRvb2xDb25zdHJhaW50cyhlbGVtZW50cywgYXhpcywgZGlyZWN0aW9uLCBzdGFydCwgbWluRGltZW5zaW9ucyk7XG5cbiAgYXNzaWduKFxuICAgIGNvbnRleHQsXG4gICAgZWxlbWVudHMsXG4gICAge1xuICAgICAgYXhpczogYXhpcyxcbiAgICAgIGRpcmVjdGlvbjogZGlyZWN0aW9uLFxuICAgICAgc3BhY2VUb29sQ29uc3RyYWludHM6IHNwYWNlVG9vbENvbnN0cmFpbnRzLFxuICAgICAgc3RhcnQ6IHN0YXJ0XG4gICAgfVxuICApO1xuXG4gIHNldEN1cnNvcigncmVzaXplLScgKyAoYXhpcyA9PT0gJ3gnID8gJ2V3JyA6ICducycpKTtcblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbi8qKlxuICogR2V0IGVsZW1lbnRzIHRvIGJlIG1vdmVkIGFuZCByZXNpemVkLlxuICpcbiAqIEBwYXJhbSAge0FycmF5PGRqcy5tb2RlbC5TaGFwZT59IGVsZW1lbnRzXG4gKiBAcGFyYW0gIHtzdHJpbmd9IGF4aXNcbiAqIEBwYXJhbSAge251bWJlcn0gZGVsdGFcbiAqIEBwYXJhbSAge251bWJlcn0gc3RhcnRcbiAqXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cblNwYWNlVG9vbC5wcm90b3R5cGUuY2FsY3VsYXRlQWRqdXN0bWVudHMgPSBmdW5jdGlvbihlbGVtZW50cywgYXhpcywgZGVsdGEsIHN0YXJ0KSB7XG4gIHZhciBydWxlcyA9IHRoaXMuX3J1bGVzO1xuXG4gIHZhciBtb3ZpbmdTaGFwZXMgPSBbXSxcbiAgICAgIHJlc2l6aW5nU2hhcGVzID0gW107XG5cbiAgZm9yRWFjaChlbGVtZW50cywgZnVuY3Rpb24oZWxlbWVudCkge1xuICAgIGlmICghZWxlbWVudC5wYXJlbnQgfHwgaXNDb25uZWN0aW9uKGVsZW1lbnQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHNoYXBlU3RhcnQgPSBlbGVtZW50WyBheGlzIF0sXG4gICAgICAgIHNoYXBlRW5kID0gc2hhcGVTdGFydCArIGVsZW1lbnRbIEFYSVNfVE9fRElNRU5TSU9OWyBheGlzIF0gXTtcblxuICAgIC8vIHNoYXBlIHRvIGJlIG1vdmVkXG4gICAgaWYgKChkZWx0YSA+IDAgJiYgc2hhcGVTdGFydCA+IHN0YXJ0KSB8fCAoZGVsdGEgPCAwICYmIHNoYXBlRW5kIDwgc3RhcnQpKSB7XG4gICAgICByZXR1cm4gbW92aW5nU2hhcGVzLnB1c2goZWxlbWVudCk7XG4gICAgfVxuXG4gICAgLy8gc2hhcGUgdG8gYmUgcmVzaXplZFxuICAgIGlmIChzaGFwZVN0YXJ0IDwgc3RhcnQgJiZcbiAgICAgIHNoYXBlRW5kID4gc3RhcnQgJiZcbiAgICAgIHJ1bGVzLmFsbG93ZWQoJ3NoYXBlLnJlc2l6ZScsIHsgc2hhcGU6IGVsZW1lbnQgfSlcbiAgICApIHtcblxuICAgICAgcmV0dXJuIHJlc2l6aW5nU2hhcGVzLnB1c2goZWxlbWVudCk7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4ge1xuICAgIG1vdmluZ1NoYXBlczogbW92aW5nU2hhcGVzLFxuICAgIHJlc2l6aW5nU2hhcGVzOiByZXNpemluZ1NoYXBlc1xuICB9O1xufTtcblxuU3BhY2VUb29sLnByb3RvdHlwZS50b2dnbGUgPSBmdW5jdGlvbigpIHtcblxuICBpZiAodGhpcy5pc0FjdGl2ZSgpKSB7XG4gICAgcmV0dXJuIHRoaXMuX2RyYWdnaW5nLmNhbmNlbCgpO1xuICB9XG5cbiAgdmFyIG1vdXNlRXZlbnQgPSB0aGlzLl9tb3VzZS5nZXRMYXN0TW92ZUV2ZW50KCk7XG5cbiAgdGhpcy5hY3RpdmF0ZVNlbGVjdGlvbihtb3VzZUV2ZW50LCAhIW1vdXNlRXZlbnQpO1xufTtcblxuU3BhY2VUb29sLnByb3RvdHlwZS5pc0FjdGl2ZSA9IGZ1bmN0aW9uKCkge1xuICB2YXIgY29udGV4dCA9IHRoaXMuX2RyYWdnaW5nLmNvbnRleHQoKTtcblxuICByZXR1cm4gY29udGV4dCAmJiAvXnNwYWNlVG9vbC8udGVzdChjb250ZXh0LnByZWZpeCk7XG59O1xuXG4vLyBoZWxwZXJzIC8vLy8vLy8vLy9cblxuZnVuY3Rpb24gYWRkUGFkZGluZyh0cmJsKSB7XG4gIHJldHVybiB7XG4gICAgdG9wOiB0cmJsLnRvcCAtIFBBRERJTkcsXG4gICAgcmlnaHQ6IHRyYmwucmlnaHQgKyBQQURESU5HLFxuICAgIGJvdHRvbTogdHJibC5ib3R0b20gKyBQQURESU5HLFxuICAgIGxlZnQ6IHRyYmwubGVmdCAtIFBBRERJTkdcbiAgfTtcbn1cblxuZnVuY3Rpb24gZW5zdXJlQ29uc3RyYWludHMoZXZlbnQpIHtcbiAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0LFxuICAgICAgc3BhY2VUb29sQ29uc3RyYWludHMgPSBjb250ZXh0LnNwYWNlVG9vbENvbnN0cmFpbnRzO1xuXG4gIGlmICghc3BhY2VUb29sQ29uc3RyYWludHMpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgeCwgeTtcblxuICBpZiAoaXNOdW1iZXIoc3BhY2VUb29sQ29uc3RyYWludHMubGVmdCkpIHtcbiAgICB4ID0gTWF0aC5tYXgoZXZlbnQueCwgc3BhY2VUb29sQ29uc3RyYWludHMubGVmdCk7XG5cbiAgICBldmVudC5keCA9IGV2ZW50LmR4ICsgeCAtIGV2ZW50Lng7XG4gICAgZXZlbnQueCA9IHg7XG4gIH1cblxuICBpZiAoaXNOdW1iZXIoc3BhY2VUb29sQ29uc3RyYWludHMucmlnaHQpKSB7XG4gICAgeCA9IE1hdGgubWluKGV2ZW50LngsIHNwYWNlVG9vbENvbnN0cmFpbnRzLnJpZ2h0KTtcblxuICAgIGV2ZW50LmR4ID0gZXZlbnQuZHggKyB4IC0gZXZlbnQueDtcbiAgICBldmVudC54ID0geDtcbiAgfVxuXG4gIGlmIChpc051bWJlcihzcGFjZVRvb2xDb25zdHJhaW50cy50b3ApKSB7XG4gICAgeSA9IE1hdGgubWF4KGV2ZW50LnksIHNwYWNlVG9vbENvbnN0cmFpbnRzLnRvcCk7XG5cbiAgICBldmVudC5keSA9IGV2ZW50LmR5ICsgeSAtIGV2ZW50Lnk7XG4gICAgZXZlbnQueSA9IHk7XG4gIH1cblxuICBpZiAoaXNOdW1iZXIoc3BhY2VUb29sQ29uc3RyYWludHMuYm90dG9tKSkge1xuICAgIHkgPSBNYXRoLm1pbihldmVudC55LCBzcGFjZVRvb2xDb25zdHJhaW50cy5ib3R0b20pO1xuXG4gICAgZXZlbnQuZHkgPSBldmVudC5keSArIHkgLSBldmVudC55O1xuICAgIGV2ZW50LnkgPSB5O1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldFNwYWNlVG9vbENvbnN0cmFpbnRzKGVsZW1lbnRzLCBheGlzLCBkaXJlY3Rpb24sIHN0YXJ0LCBtaW5EaW1lbnNpb25zKSB7XG4gIHZhciBtb3ZpbmdTaGFwZXMgPSBlbGVtZW50cy5tb3ZpbmdTaGFwZXMsXG4gICAgICByZXNpemluZ1NoYXBlcyA9IGVsZW1lbnRzLnJlc2l6aW5nU2hhcGVzO1xuXG4gIGlmICghcmVzaXppbmdTaGFwZXMubGVuZ3RoKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIHNwYWNlVG9vbENvbnN0cmFpbnRzID0ge30sXG4gICAgICBtaW4sXG4gICAgICBtYXg7XG5cbiAgZm9yRWFjaChyZXNpemluZ1NoYXBlcywgZnVuY3Rpb24ocmVzaXppbmdTaGFwZSkge1xuICAgIHZhciByZXNpemluZ1NoYXBlQkJveCA9IGFzVFJCTChyZXNpemluZ1NoYXBlKTtcblxuICAgIC8vIGZpbmQgY2hpbGRyZW4gdGhhdCBhcmUgbm90IG1vdmluZyBvciByZXNpemluZ1xuICAgIHZhciBub25Nb3ZpbmdSZXNpemluZ0NoaWxkcmVuID0gZmlsdGVyKHJlc2l6aW5nU2hhcGUuY2hpbGRyZW4sIGZ1bmN0aW9uKGNoaWxkKSB7XG4gICAgICByZXR1cm4gIWlzQ29ubmVjdGlvbihjaGlsZCkgJiZcbiAgICAgICAgIWlzTGFiZWwoY2hpbGQpICYmXG4gICAgICAgICFpbmNsdWRlcyhtb3ZpbmdTaGFwZXMsIGNoaWxkKSAmJlxuICAgICAgICAhaW5jbHVkZXMocmVzaXppbmdTaGFwZXMsIGNoaWxkKTtcbiAgICB9KTtcblxuICAgIC8vIGZpbmQgY2hpbGRyZW4gdGhhdCBhcmUgbW92aW5nXG4gICAgdmFyIG1vdmluZ0NoaWxkcmVuID0gZmlsdGVyKHJlc2l6aW5nU2hhcGUuY2hpbGRyZW4sIGZ1bmN0aW9uKGNoaWxkKSB7XG4gICAgICByZXR1cm4gIWlzQ29ubmVjdGlvbihjaGlsZCkgJiYgIWlzTGFiZWwoY2hpbGQpICYmIGluY2x1ZGVzKG1vdmluZ1NoYXBlcywgY2hpbGQpO1xuICAgIH0pO1xuXG4gICAgdmFyIG1pbk9yTWF4LFxuICAgICAgICBub25Nb3ZpbmdSZXNpemluZ0NoaWxkcmVuQkJveCxcbiAgICAgICAgbW92aW5nQ2hpbGRyZW5CQm94O1xuXG4gICAgaWYgKG5vbk1vdmluZ1Jlc2l6aW5nQ2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICBub25Nb3ZpbmdSZXNpemluZ0NoaWxkcmVuQkJveCA9IGFkZFBhZGRpbmcoYXNUUkJMKGdldEJCb3gobm9uTW92aW5nUmVzaXppbmdDaGlsZHJlbikpKTtcblxuICAgICAgbWluT3JNYXggPSBzdGFydCAtXG4gICAgICAgIHJlc2l6aW5nU2hhcGVCQm94WyBESVJFQ1RJT05fVE9fVFJCTFsgZGlyZWN0aW9uIF0gXSArXG4gICAgICAgIG5vbk1vdmluZ1Jlc2l6aW5nQ2hpbGRyZW5CQm94WyBESVJFQ1RJT05fVE9fVFJCTFsgZGlyZWN0aW9uIF0gXTtcblxuICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gJ24nKSB7XG4gICAgICAgIHNwYWNlVG9vbENvbnN0cmFpbnRzLmJvdHRvbSA9IG1heCA9IGlzTnVtYmVyKG1heCkgPyBNYXRoLm1pbihtYXgsIG1pbk9yTWF4KSA6IG1pbk9yTWF4O1xuICAgICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPT09ICd3Jykge1xuICAgICAgICBzcGFjZVRvb2xDb25zdHJhaW50cy5yaWdodCA9IG1heCA9IGlzTnVtYmVyKG1heCkgPyBNYXRoLm1pbihtYXgsIG1pbk9yTWF4KSA6IG1pbk9yTWF4O1xuICAgICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPT09ICdzJykge1xuICAgICAgICBzcGFjZVRvb2xDb25zdHJhaW50cy50b3AgPSBtaW4gPSBpc051bWJlcihtaW4pID8gTWF0aC5tYXgobWluLCBtaW5Pck1heCkgOiBtaW5Pck1heDtcbiAgICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09PSAnZScpIHtcbiAgICAgICAgc3BhY2VUb29sQ29uc3RyYWludHMubGVmdCA9IG1pbiA9IGlzTnVtYmVyKG1pbikgPyBNYXRoLm1heChtaW4sIG1pbk9yTWF4KSA6IG1pbk9yTWF4O1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChtb3ZpbmdDaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgIG1vdmluZ0NoaWxkcmVuQkJveCA9IGFkZFBhZGRpbmcoYXNUUkJMKGdldEJCb3gobW92aW5nQ2hpbGRyZW4pKSk7XG5cbiAgICAgIG1pbk9yTWF4ID0gc3RhcnQgLVxuICAgICAgICBtb3ZpbmdDaGlsZHJlbkJCb3hbIERJUkVDVElPTl9UT19UUkJMWyBESVJFQ1RJT05fVE9fT1BQT1NJVEVbIGRpcmVjdGlvbiBdIF0gXSArXG4gICAgICAgIHJlc2l6aW5nU2hhcGVCQm94WyBESVJFQ1RJT05fVE9fVFJCTFsgRElSRUNUSU9OX1RPX09QUE9TSVRFWyBkaXJlY3Rpb24gXSBdIF07XG5cbiAgICAgIGlmIChkaXJlY3Rpb24gPT09ICduJykge1xuICAgICAgICBzcGFjZVRvb2xDb25zdHJhaW50cy5ib3R0b20gPSBtYXggPSBpc051bWJlcihtYXgpID8gTWF0aC5taW4obWF4LCBtaW5Pck1heCkgOiBtaW5Pck1heDtcbiAgICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09PSAndycpIHtcbiAgICAgICAgc3BhY2VUb29sQ29uc3RyYWludHMucmlnaHQgPSBtYXggPSBpc051bWJlcihtYXgpID8gTWF0aC5taW4obWF4LCBtaW5Pck1heCkgOiBtaW5Pck1heDtcbiAgICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09PSAncycpIHtcbiAgICAgICAgc3BhY2VUb29sQ29uc3RyYWludHMudG9wID0gbWluID0gaXNOdW1iZXIobWluKSA/IE1hdGgubWF4KG1pbiwgbWluT3JNYXgpIDogbWluT3JNYXg7XG4gICAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gJ2UnKSB7XG4gICAgICAgIHNwYWNlVG9vbENvbnN0cmFpbnRzLmxlZnQgPSBtaW4gPSBpc051bWJlcihtaW4pID8gTWF0aC5tYXgobWluLCBtaW5Pck1heCkgOiBtaW5Pck1heDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgcmVzaXppbmdTaGFwZU1pbkRpbWVuc2lvbnMgPSBtaW5EaW1lbnNpb25zICYmIG1pbkRpbWVuc2lvbnNbIHJlc2l6aW5nU2hhcGUuaWQgXTtcblxuICAgIGlmIChyZXNpemluZ1NoYXBlTWluRGltZW5zaW9ucykge1xuICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gJ24nKSB7XG4gICAgICAgIG1pbk9yTWF4ID0gc3RhcnQgK1xuICAgICAgICAgIHJlc2l6aW5nU2hhcGVbIEFYSVNfVE9fRElNRU5TSU9OIFsgYXhpcyBdIF0gLVxuICAgICAgICAgIHJlc2l6aW5nU2hhcGVNaW5EaW1lbnNpb25zWyBBWElTX1RPX0RJTUVOU0lPTlsgYXhpcyBdIF07XG5cbiAgICAgICAgc3BhY2VUb29sQ29uc3RyYWludHMuYm90dG9tID0gbWF4ID0gaXNOdW1iZXIobWF4KSA/IE1hdGgubWluKG1heCwgbWluT3JNYXgpIDogbWluT3JNYXg7XG4gICAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gJ3cnKSB7XG4gICAgICAgIG1pbk9yTWF4ID0gc3RhcnQgK1xuICAgICAgICAgIHJlc2l6aW5nU2hhcGVbIEFYSVNfVE9fRElNRU5TSU9OIFsgYXhpcyBdIF0gLVxuICAgICAgICAgIHJlc2l6aW5nU2hhcGVNaW5EaW1lbnNpb25zWyBBWElTX1RPX0RJTUVOU0lPTlsgYXhpcyBdIF07XG5cbiAgICAgICAgc3BhY2VUb29sQ29uc3RyYWludHMucmlnaHQgPSBtYXggPSBpc051bWJlcihtYXgpID8gTWF0aC5taW4obWF4LCBtaW5Pck1heCkgOiBtaW5Pck1heDtcbiAgICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09PSAncycpIHtcbiAgICAgICAgbWluT3JNYXggPSBzdGFydCAtXG4gICAgICAgICAgcmVzaXppbmdTaGFwZVsgQVhJU19UT19ESU1FTlNJT04gWyBheGlzIF0gXSArXG4gICAgICAgICAgcmVzaXppbmdTaGFwZU1pbkRpbWVuc2lvbnNbIEFYSVNfVE9fRElNRU5TSU9OWyBheGlzIF0gXTtcblxuICAgICAgICBzcGFjZVRvb2xDb25zdHJhaW50cy50b3AgPSBtaW4gPSBpc051bWJlcihtaW4pID8gTWF0aC5tYXgobWluLCBtaW5Pck1heCkgOiBtaW5Pck1heDtcbiAgICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09PSAnZScpIHtcbiAgICAgICAgbWluT3JNYXggPSBzdGFydCAtXG4gICAgICAgICAgcmVzaXppbmdTaGFwZVsgQVhJU19UT19ESU1FTlNJT04gWyBheGlzIF0gXSArXG4gICAgICAgICAgcmVzaXppbmdTaGFwZU1pbkRpbWVuc2lvbnNbIEFYSVNfVE9fRElNRU5TSU9OWyBheGlzIF0gXTtcblxuICAgICAgICBzcGFjZVRvb2xDb25zdHJhaW50cy5sZWZ0ID0gbWluID0gaXNOdW1iZXIobWluKSA/IE1hdGgubWF4KG1pbiwgbWluT3JNYXgpIDogbWluT3JNYXg7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gc3BhY2VUb29sQ29uc3RyYWludHM7XG59XG5cbmZ1bmN0aW9uIGluY2x1ZGVzKGFycmF5LCBpdGVtKSB7XG4gIHJldHVybiBhcnJheS5pbmRleE9mKGl0ZW0pICE9PSAtMTtcbn1cblxuZnVuY3Rpb24gaXNDb25uZWN0aW9uKGVsZW1lbnQpIHtcbiAgcmV0dXJuICEhZWxlbWVudC53YXlwb2ludHM7XG59XG5cbmZ1bmN0aW9uIGlzTGFiZWwoZWxlbWVudCkge1xuICByZXR1cm4gISFlbGVtZW50LmxhYmVsVGFyZ2V0O1xufSIsImltcG9ydCB7XG4gIGZvckVhY2hcbn0gZnJvbSAnbWluLWRhc2gnO1xuXG52YXIgTUFSS0VSX0RSQUdHSU5HID0gJ2Rqcy1kcmFnZ2luZycsXG4gICAgTUFSS0VSX1JFU0laSU5HID0gJ2Rqcy1yZXNpemluZyc7XG5cbnZhciBMT1dfUFJJT1JJVFkgPSAyNTA7XG5cbmltcG9ydCB7XG4gIGFwcGVuZCBhcyBzdmdBcHBlbmQsXG4gIGF0dHIgYXMgc3ZnQXR0cixcbiAgY2xhc3NlcyBhcyBzdmdDbGFzc2VzLFxuICBjcmVhdGUgYXMgc3ZnQ3JlYXRlLFxuICByZW1vdmUgYXMgc3ZnUmVtb3ZlXG59IGZyb20gJ3Rpbnktc3ZnJztcblxuaW1wb3J0IHtcbiAgdHJhbnNsYXRlXG59IGZyb20gJy4uLy4uL3V0aWwvU3ZnVHJhbnNmb3JtVXRpbCc7XG5cbnZhciBtYXggPSBNYXRoLm1heDtcblxuXG4vKipcbiAqIFByb3ZpZGVzIHByZXZpZXdzIGZvciBzZWxlY3RpbmcvbW92aW5nL3Jlc2l6aW5nIHNoYXBlcyB3aGVuIGNyZWF0aW5nL3JlbW92aW5nIHNwYWNlLlxuICpcbiAqIEBwYXJhbSB7RXZlbnRCdXN9IGV2ZW50QnVzXG4gKiBAcGFyYW0ge0VsZW1lbnRSZWdpc3RyeX0gZWxlbWVudFJlZ2lzdHJ5XG4gKiBAcGFyYW0ge0NhbnZhc30gY2FudmFzXG4gKiBAcGFyYW0ge1N0eWxlc30gc3R5bGVzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFNwYWNlVG9vbFByZXZpZXcoXG4gICAgZXZlbnRCdXMsIGVsZW1lbnRSZWdpc3RyeSwgY2FudmFzLFxuICAgIHN0eWxlcywgcHJldmlld1N1cHBvcnQpIHtcblxuICBmdW5jdGlvbiBhZGRQcmV2aWV3R2Z4KGNvbGxlY3Rpb24sIGRyYWdHcm91cCkge1xuICAgIGZvckVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgcHJldmlld1N1cHBvcnQuYWRkRHJhZ2dlcihlbGVtZW50LCBkcmFnR3JvdXApO1xuXG4gICAgICBjYW52YXMuYWRkTWFya2VyKGVsZW1lbnQsIE1BUktFUl9EUkFHR0lORyk7XG4gICAgfSk7XG4gIH1cblxuICAvLyBhZGQgY3Jvc3NoYWlyXG4gIGV2ZW50QnVzLm9uKCdzcGFjZVRvb2wuc2VsZWN0aW9uLnN0YXJ0JywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgc3BhY2UgPSBjYW52YXMuZ2V0TGF5ZXIoJ3NwYWNlJyksXG4gICAgICAgIGNvbnRleHQgPSBldmVudC5jb250ZXh0O1xuXG4gICAgdmFyIG9yaWVudGF0aW9uID0ge1xuICAgICAgeDogJ00gMCwtMTAwMDAgTCAwLDEwMDAwJyxcbiAgICAgIHk6ICdNIC0xMDAwMCwwIEwgMTAwMDAsMCdcbiAgICB9O1xuXG4gICAgdmFyIGNyb3NzaGFpckdyb3VwID0gc3ZnQ3JlYXRlKCdnJyk7XG4gICAgc3ZnQXR0cihjcm9zc2hhaXJHcm91cCwgc3R5bGVzLmNscygnZGpzLWNyb3NzaGFpci1ncm91cCcsIFsgJ25vLWV2ZW50cycgXSkpO1xuXG4gICAgc3ZnQXBwZW5kKHNwYWNlLCBjcm9zc2hhaXJHcm91cCk7XG5cbiAgICAvLyBob3Jpem9udGFsIHBhdGhcbiAgICB2YXIgcGF0aFggPSBzdmdDcmVhdGUoJ3BhdGgnKTtcbiAgICBzdmdBdHRyKHBhdGhYLCAnZCcsIG9yaWVudGF0aW9uLngpO1xuICAgIHN2Z0NsYXNzZXMocGF0aFgpLmFkZCgnZGpzLWNyb3NzaGFpcicpO1xuXG4gICAgc3ZnQXBwZW5kKGNyb3NzaGFpckdyb3VwLCBwYXRoWCk7XG5cbiAgICAvLyB2ZXJ0aWNhbCBwYXRoXG4gICAgdmFyIHBhdGhZID0gc3ZnQ3JlYXRlKCdwYXRoJyk7XG4gICAgc3ZnQXR0cihwYXRoWSwgJ2QnLCBvcmllbnRhdGlvbi55KTtcbiAgICBzdmdDbGFzc2VzKHBhdGhZKS5hZGQoJ2Rqcy1jcm9zc2hhaXInKTtcblxuICAgIHN2Z0FwcGVuZChjcm9zc2hhaXJHcm91cCwgcGF0aFkpO1xuXG4gICAgY29udGV4dC5jcm9zc2hhaXJHcm91cCA9IGNyb3NzaGFpckdyb3VwO1xuICB9KTtcblxuICAvLyB1cGRhdGUgY3Jvc3NoYWlyXG4gIGV2ZW50QnVzLm9uKCdzcGFjZVRvb2wuc2VsZWN0aW9uLm1vdmUnLCBmdW5jdGlvbihldmVudCkge1xuICAgIHZhciBjcm9zc2hhaXJHcm91cCA9IGV2ZW50LmNvbnRleHQuY3Jvc3NoYWlyR3JvdXA7XG5cbiAgICB0cmFuc2xhdGUoY3Jvc3NoYWlyR3JvdXAsIGV2ZW50LngsIGV2ZW50LnkpO1xuICB9KTtcblxuICAvLyByZW1vdmUgY3Jvc3NoYWlyXG4gIGV2ZW50QnVzLm9uKCdzcGFjZVRvb2wuc2VsZWN0aW9uLmNsZWFudXAnLCBmdW5jdGlvbihldmVudCkge1xuICAgIHZhciBjb250ZXh0ID0gZXZlbnQuY29udGV4dCxcbiAgICAgICAgY3Jvc3NoYWlyR3JvdXAgPSBjb250ZXh0LmNyb3NzaGFpckdyb3VwO1xuXG4gICAgaWYgKGNyb3NzaGFpckdyb3VwKSB7XG4gICAgICBzdmdSZW1vdmUoY3Jvc3NoYWlyR3JvdXApO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gYWRkIGFuZCB1cGRhdGUgbW92ZS9yZXNpemUgcHJldmlld3NcbiAgZXZlbnRCdXMub24oJ3NwYWNlVG9vbC5tb3ZlJywgTE9XX1BSSU9SSVRZLCBmdW5jdGlvbihldmVudCkge1xuXG4gICAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0LFxuICAgICAgICBsaW5lID0gY29udGV4dC5saW5lLFxuICAgICAgICBheGlzID0gY29udGV4dC5heGlzLFxuICAgICAgICBtb3ZpbmdTaGFwZXMgPSBjb250ZXh0Lm1vdmluZ1NoYXBlcyxcbiAgICAgICAgcmVzaXppbmdTaGFwZXMgPSBjb250ZXh0LnJlc2l6aW5nU2hhcGVzO1xuXG4gICAgaWYgKCFjb250ZXh0LmluaXRpYWxpemVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCFjb250ZXh0LmRyYWdHcm91cCkge1xuICAgICAgdmFyIHNwYWNlTGF5ZXIgPSBjYW52YXMuZ2V0TGF5ZXIoJ3NwYWNlJyk7XG5cbiAgICAgIGxpbmUgPSBzdmdDcmVhdGUoJ3BhdGgnKTtcbiAgICAgIHN2Z0F0dHIobGluZSwgJ2QnLCAnTTAsMCBMMCwwJyk7XG4gICAgICBzdmdDbGFzc2VzKGxpbmUpLmFkZCgnZGpzLWNyb3NzaGFpcicpO1xuXG4gICAgICBzdmdBcHBlbmQoc3BhY2VMYXllciwgbGluZSk7XG5cbiAgICAgIGNvbnRleHQubGluZSA9IGxpbmU7XG5cbiAgICAgIHZhciBkcmFnR3JvdXAgPSBzdmdDcmVhdGUoJ2cnKTtcbiAgICAgIHN2Z0F0dHIoZHJhZ0dyb3VwLCBzdHlsZXMuY2xzKCdkanMtZHJhZy1ncm91cCcsIFsgJ25vLWV2ZW50cycgXSkpO1xuXG4gICAgICBzdmdBcHBlbmQoY2FudmFzLmdldERlZmF1bHRMYXllcigpLCBkcmFnR3JvdXApO1xuXG4gICAgICAvLyBzaGFwZXNcbiAgICAgIGFkZFByZXZpZXdHZngobW92aW5nU2hhcGVzLCBkcmFnR3JvdXApO1xuXG4gICAgICAvLyBjb25uZWN0aW9uc1xuICAgICAgdmFyIG1vdmluZ0Nvbm5lY3Rpb25zID0gY29udGV4dC5tb3ZpbmdDb25uZWN0aW9ucyA9IGVsZW1lbnRSZWdpc3RyeS5maWx0ZXIoZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICB2YXIgc291cmNlSXNNb3ZpbmcgPSBmYWxzZTtcblxuICAgICAgICBmb3JFYWNoKG1vdmluZ1NoYXBlcywgZnVuY3Rpb24oc2hhcGUpIHtcbiAgICAgICAgICBmb3JFYWNoKHNoYXBlLm91dGdvaW5nLCBmdW5jdGlvbihjb25uZWN0aW9uKSB7XG4gICAgICAgICAgICBpZiAoZWxlbWVudCA9PT0gY29ubmVjdGlvbikge1xuICAgICAgICAgICAgICBzb3VyY2VJc01vdmluZyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciB0YXJnZXRJc01vdmluZyA9IGZhbHNlO1xuXG4gICAgICAgIGZvckVhY2gobW92aW5nU2hhcGVzLCBmdW5jdGlvbihzaGFwZSkge1xuICAgICAgICAgIGZvckVhY2goc2hhcGUuaW5jb21pbmcsIGZ1bmN0aW9uKGNvbm5lY3Rpb24pIHtcbiAgICAgICAgICAgIGlmIChlbGVtZW50ID09PSBjb25uZWN0aW9uKSB7XG4gICAgICAgICAgICAgIHRhcmdldElzTW92aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIHNvdXJjZUlzUmVzaXppbmcgPSBmYWxzZTtcblxuICAgICAgICBmb3JFYWNoKHJlc2l6aW5nU2hhcGVzLCBmdW5jdGlvbihzaGFwZSkge1xuICAgICAgICAgIGZvckVhY2goc2hhcGUub3V0Z29pbmcsIGZ1bmN0aW9uKGNvbm5lY3Rpb24pIHtcbiAgICAgICAgICAgIGlmIChlbGVtZW50ID09PSBjb25uZWN0aW9uKSB7XG4gICAgICAgICAgICAgIHNvdXJjZUlzUmVzaXppbmcgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgdGFyZ2V0SXNSZXNpemluZyA9IGZhbHNlO1xuXG4gICAgICAgIGZvckVhY2gocmVzaXppbmdTaGFwZXMsIGZ1bmN0aW9uKHNoYXBlKSB7XG4gICAgICAgICAgZm9yRWFjaChzaGFwZS5pbmNvbWluZywgZnVuY3Rpb24oY29ubmVjdGlvbikge1xuICAgICAgICAgICAgaWYgKGVsZW1lbnQgPT09IGNvbm5lY3Rpb24pIHtcbiAgICAgICAgICAgICAgdGFyZ2V0SXNSZXNpemluZyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBpc0Nvbm5lY3Rpb24oZWxlbWVudClcbiAgICAgICAgICAmJiAoc291cmNlSXNNb3ZpbmcgfHwgc291cmNlSXNSZXNpemluZylcbiAgICAgICAgICAmJiAodGFyZ2V0SXNNb3ZpbmcgfHwgdGFyZ2V0SXNSZXNpemluZyk7XG4gICAgICB9KTtcblxuXG4gICAgICBhZGRQcmV2aWV3R2Z4KG1vdmluZ0Nvbm5lY3Rpb25zLCBkcmFnR3JvdXApO1xuXG4gICAgICBjb250ZXh0LmRyYWdHcm91cCA9IGRyYWdHcm91cDtcbiAgICB9XG5cbiAgICBpZiAoIWNvbnRleHQuZnJhbWVHcm91cCkge1xuICAgICAgdmFyIGZyYW1lR3JvdXAgPSBzdmdDcmVhdGUoJ2cnKTtcbiAgICAgIHN2Z0F0dHIoZnJhbWVHcm91cCwgc3R5bGVzLmNscygnZGpzLWZyYW1lLWdyb3VwJywgWyAnbm8tZXZlbnRzJyBdKSk7XG5cbiAgICAgIHN2Z0FwcGVuZChjYW52YXMuZ2V0RGVmYXVsdExheWVyKCksIGZyYW1lR3JvdXApO1xuXG4gICAgICB2YXIgZnJhbWVzID0gW107XG5cbiAgICAgIGZvckVhY2gocmVzaXppbmdTaGFwZXMsIGZ1bmN0aW9uKHNoYXBlKSB7XG4gICAgICAgIHZhciBmcmFtZSA9IHByZXZpZXdTdXBwb3J0LmFkZEZyYW1lKHNoYXBlLCBmcmFtZUdyb3VwKTtcblxuICAgICAgICB2YXIgaW5pdGlhbEJvdW5kcyA9IGZyYW1lLmdldEJCb3goKTtcblxuICAgICAgICBmcmFtZXMucHVzaCh7XG4gICAgICAgICAgZWxlbWVudDogZnJhbWUsXG4gICAgICAgICAgaW5pdGlhbEJvdW5kczogaW5pdGlhbEJvdW5kc1xuICAgICAgICB9KTtcblxuICAgICAgICBjYW52YXMuYWRkTWFya2VyKHNoYXBlLCBNQVJLRVJfUkVTSVpJTkcpO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnRleHQuZnJhbWVHcm91cCA9IGZyYW1lR3JvdXA7XG4gICAgICBjb250ZXh0LmZyYW1lcyA9IGZyYW1lcztcbiAgICB9XG5cbiAgICB2YXIgb3JpZW50YXRpb24gPSB7XG4gICAgICB4OiAnTScgKyBldmVudC54ICsgJywgLTEwMDAwIEwnICsgZXZlbnQueCArICcsIDEwMDAwJyxcbiAgICAgIHk6ICdNIC0xMDAwMCwgJyArIGV2ZW50LnkgKyAnIEwgMTAwMDAsICcgKyBldmVudC55XG4gICAgfTtcblxuICAgIHN2Z0F0dHIobGluZSwgeyBkOiBvcmllbnRhdGlvblsgYXhpcyBdIH0pO1xuXG4gICAgdmFyIG9wcG9zaXRlID0geyB4OiAneScsIHk6ICd4JyB9O1xuICAgIHZhciBkZWx0YSA9IHsgeDogZXZlbnQuZHgsIHk6IGV2ZW50LmR5IH07XG4gICAgZGVsdGFbIG9wcG9zaXRlWyBjb250ZXh0LmF4aXMgXSBdID0gMDtcblxuICAgIC8vIHVwZGF0ZSBtb3ZlIHByZXZpZXdzXG4gICAgdHJhbnNsYXRlKGNvbnRleHQuZHJhZ0dyb3VwLCBkZWx0YS54LCBkZWx0YS55KTtcblxuICAgIC8vIHVwZGF0ZSByZXNpemUgcHJldmlld3NcbiAgICBmb3JFYWNoKGNvbnRleHQuZnJhbWVzLCBmdW5jdGlvbihmcmFtZSkge1xuICAgICAgdmFyIGVsZW1lbnQgPSBmcmFtZS5lbGVtZW50LFxuICAgICAgICAgIGluaXRpYWxCb3VuZHMgPSBmcmFtZS5pbml0aWFsQm91bmRzLFxuICAgICAgICAgIHdpZHRoLFxuICAgICAgICAgIGhlaWdodDtcblxuICAgICAgaWYgKGNvbnRleHQuZGlyZWN0aW9uID09PSAnZScpIHtcbiAgICAgICAgc3ZnQXR0cihlbGVtZW50LCB7XG4gICAgICAgICAgd2lkdGg6IG1heChpbml0aWFsQm91bmRzLndpZHRoICsgZGVsdGEueCwgNSlcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3aWR0aCA9IG1heChpbml0aWFsQm91bmRzLndpZHRoIC0gZGVsdGEueCwgNSk7XG5cbiAgICAgICAgc3ZnQXR0cihlbGVtZW50LCB7XG4gICAgICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgICAgIHg6IGluaXRpYWxCb3VuZHMueCArIGluaXRpYWxCb3VuZHMud2lkdGggLSB3aWR0aFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKGNvbnRleHQuZGlyZWN0aW9uID09PSAncycpIHtcbiAgICAgICAgc3ZnQXR0cihlbGVtZW50LCB7XG4gICAgICAgICAgaGVpZ2h0OiBtYXgoaW5pdGlhbEJvdW5kcy5oZWlnaHQgKyBkZWx0YS55LCA1KVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGhlaWdodCA9IG1heChpbml0aWFsQm91bmRzLmhlaWdodCAtIGRlbHRhLnksIDUpO1xuXG4gICAgICAgIHN2Z0F0dHIoZWxlbWVudCwge1xuICAgICAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgICAgICAgIHk6IGluaXRpYWxCb3VuZHMueSArIGluaXRpYWxCb3VuZHMuaGVpZ2h0IC0gaGVpZ2h0XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gIH0pO1xuXG4gIC8vIHJlbW92ZSBtb3ZlL3Jlc2l6ZSBwcmV2aWV3c1xuICBldmVudEJ1cy5vbignc3BhY2VUb29sLmNsZWFudXAnLCBmdW5jdGlvbihldmVudCkge1xuXG4gICAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0LFxuICAgICAgICBtb3ZpbmdTaGFwZXMgPSBjb250ZXh0Lm1vdmluZ1NoYXBlcyxcbiAgICAgICAgbW92aW5nQ29ubmVjdGlvbnMgPSBjb250ZXh0Lm1vdmluZ0Nvbm5lY3Rpb25zLFxuICAgICAgICByZXNpemluZ1NoYXBlcyA9IGNvbnRleHQucmVzaXppbmdTaGFwZXMsXG4gICAgICAgIGxpbmUgPSBjb250ZXh0LmxpbmUsXG4gICAgICAgIGRyYWdHcm91cCA9IGNvbnRleHQuZHJhZ0dyb3VwLFxuICAgICAgICBmcmFtZUdyb3VwID0gY29udGV4dC5mcmFtZUdyb3VwO1xuXG4gICAgLy8gbW92aW5nIHNoYXBlc1xuICAgIGZvckVhY2gobW92aW5nU2hhcGVzLCBmdW5jdGlvbihzaGFwZSkge1xuICAgICAgY2FudmFzLnJlbW92ZU1hcmtlcihzaGFwZSwgTUFSS0VSX0RSQUdHSU5HKTtcbiAgICB9KTtcblxuICAgIC8vIG1vdmluZyBjb25uZWN0aW9uc1xuICAgIGZvckVhY2gobW92aW5nQ29ubmVjdGlvbnMsIGZ1bmN0aW9uKGNvbm5lY3Rpb24pIHtcbiAgICAgIGNhbnZhcy5yZW1vdmVNYXJrZXIoY29ubmVjdGlvbiwgTUFSS0VSX0RSQUdHSU5HKTtcbiAgICB9KTtcblxuICAgIGlmIChkcmFnR3JvdXApIHtcbiAgICAgIHN2Z1JlbW92ZShsaW5lKTtcbiAgICAgIHN2Z1JlbW92ZShkcmFnR3JvdXApO1xuICAgIH1cblxuICAgIGZvckVhY2gocmVzaXppbmdTaGFwZXMsIGZ1bmN0aW9uKHNoYXBlKSB7XG4gICAgICBjYW52YXMucmVtb3ZlTWFya2VyKHNoYXBlLCBNQVJLRVJfUkVTSVpJTkcpO1xuICAgIH0pO1xuXG4gICAgaWYgKGZyYW1lR3JvdXApIHtcbiAgICAgIHN2Z1JlbW92ZShmcmFtZUdyb3VwKTtcbiAgICB9XG4gIH0pO1xufVxuXG5TcGFjZVRvb2xQcmV2aWV3LiRpbmplY3QgPSBbXG4gICdldmVudEJ1cycsXG4gICdlbGVtZW50UmVnaXN0cnknLFxuICAnY2FudmFzJyxcbiAgJ3N0eWxlcycsXG4gICdwcmV2aWV3U3VwcG9ydCdcbl07XG5cblxuLy8gaGVscGVycyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbi8qKlxuICogQ2hlY2tzIGlmIGFuIGVsZW1lbnQgaXMgYSBjb25uZWN0aW9uLlxuICovXG5mdW5jdGlvbiBpc0Nvbm5lY3Rpb24oZWxlbWVudCkge1xuICByZXR1cm4gZWxlbWVudC53YXlwb2ludHM7XG59XG4iLCJpbXBvcnQgRHJhZ2dpbmdNb2R1bGUgZnJvbSAnLi4vZHJhZ2dpbmcnO1xuaW1wb3J0IFJ1bGVzTW9kdWxlIGZyb20gJy4uL3J1bGVzJztcbmltcG9ydCBUb29sTWFuYWdlck1vZHVsZSBmcm9tICcuLi90b29sLW1hbmFnZXInO1xuaW1wb3J0IFByZXZpZXdTdXBwb3J0TW9kdWxlIGZyb20gJy4uL3ByZXZpZXctc3VwcG9ydCc7XG5pbXBvcnQgTW91c2VNb2R1bGUgZnJvbSAnLi4vbW91c2UnO1xuXG5pbXBvcnQgU3BhY2VUb29sIGZyb20gJy4vU3BhY2VUb29sJztcbmltcG9ydCBTcGFjZVRvb2xQcmV2aWV3IGZyb20gJy4vU3BhY2VUb29sUHJldmlldyc7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgX19pbml0X186IFsnc3BhY2VUb29sUHJldmlldyddLFxuICBfX2RlcGVuZHNfXzogW1xuICAgIERyYWdnaW5nTW9kdWxlLFxuICAgIFJ1bGVzTW9kdWxlLFxuICAgIFRvb2xNYW5hZ2VyTW9kdWxlLFxuICAgIFByZXZpZXdTdXBwb3J0TW9kdWxlLFxuICAgIE1vdXNlTW9kdWxlXG4gIF0sXG4gIHNwYWNlVG9vbDogWyd0eXBlJywgU3BhY2VUb29sIF0sXG4gIHNwYWNlVG9vbFByZXZpZXc6IFsndHlwZScsIFNwYWNlVG9vbFByZXZpZXcgXVxufTtcbiIsImltcG9ydCB7XG4gIGFzc2lnbixcbn0gZnJvbSAnbWluLWRhc2gnO1xuXG5pbXBvcnQge1xuICBpc0FueVxufSBmcm9tICcuL3V0aWwvTW9kZWxpbmdVdGlsJztcblxuaW1wb3J0IHtcbiAgaXNcbn0gZnJvbSAnLi4vLi4vdXRpbC9Nb2RlbFV0aWwnO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFBvc2l0RmFjdG9yeShtb2RkbGUpIHtcbiAgdGhpcy5fbW9kZWwgPSBtb2RkbGU7XG59XG5cblBvc2l0RmFjdG9yeS4kaW5qZWN0ID0gWyAnbW9kZGxlJyBdO1xuXG5cblBvc2l0RmFjdG9yeS5wcm90b3R5cGUuX25lZWRzSWQgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gIHJldHVybiBpc0FueShlbGVtZW50LCBbXG4gICAgJ3Bvc3RpdDpCb2FyZEVsZW1lbnQnXG4gIF0pO1xufTtcblxuUG9zaXRGYWN0b3J5LnByb3RvdHlwZS5fZW5zdXJlSWQgPSBmdW5jdGlvbihlbGVtZW50KSB7XG5cbiAgLy8gZ2VuZXJhdGUgc2VtYW50aWMgaWRzIGZvciBlbGVtZW50c1xuICAvLyBwb3N0aXQ6UG9zdGl0IC0+IFBvc2l0aXRfSURcbiAgdmFyIHByZWZpeDtcblxuICBpZiAoaXMoZWxlbWVudCwgJ3Bvc3RpdDpQb3N0aXQnKSkge1xuICAgIHByZWZpeCA9ICdQb3N0aXQnO1xuICB9IGVsc2Uge1xuICAgIHByZWZpeCA9IChlbGVtZW50LiR0eXBlIHx8ICcnKS5yZXBsYWNlKC9eW146XSo6L2csICcnKTtcbiAgfVxuXG4gIHByZWZpeCArPSAnXyc7XG5cbiAgaWYgKCFlbGVtZW50LmlkICYmIHRoaXMuX25lZWRzSWQoZWxlbWVudCkpIHtcbiAgICBlbGVtZW50LmlkID0gdGhpcy5fbW9kZWwuaWRzLm5leHRQcmVmaXhlZChwcmVmaXgsIGVsZW1lbnQpO1xuICB9XG59O1xuXG5cblBvc2l0RmFjdG9yeS5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24odHlwZSwgYXR0cnMpIHtcbiAgdmFyIGVsZW1lbnQgPSB0aGlzLl9tb2RlbC5jcmVhdGUodHlwZSwgYXR0cnMgfHwge30pO1xuXG4gIHRoaXMuX2Vuc3VyZUlkKGVsZW1lbnQpO1xuXG4gIHJldHVybiBlbGVtZW50O1xufTtcblxuXG5Qb3NpdEZhY3RvcnkucHJvdG90eXBlLmNyZWF0ZURpTGFiZWwgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuY3JlYXRlKCdwb3N0aXREaTpQb3N0aXRMYWJlbCcsIHtcbiAgICBib3VuZHM6IHRoaXMuY3JlYXRlRGlCb3VuZHMoKVxuICB9KTtcbn07XG5cblxuUG9zaXRGYWN0b3J5LnByb3RvdHlwZS5jcmVhdGVEaVNoYXBlID0gZnVuY3Rpb24oc2VtYW50aWMsIGJvdW5kcywgYXR0cnMpIHtcblxuICByZXR1cm4gdGhpcy5jcmVhdGUoJ3Bvc3RpdERpOlBvc3RpdFNoYXBlJywgYXNzaWduKHtcbiAgICBib2FyZEVsZW1lbnQ6IHNlbWFudGljLFxuICAgIGJvdW5kczogdGhpcy5jcmVhdGVEaUJvdW5kcyhib3VuZHMpXG4gIH0sIGF0dHJzKSk7XG59O1xuXG5cblBvc2l0RmFjdG9yeS5wcm90b3R5cGUuY3JlYXRlRGlCb3VuZHMgPSBmdW5jdGlvbihib3VuZHMpIHtcbiAgcmV0dXJuIHRoaXMuY3JlYXRlKCdkYzpCb3VuZHMnLCBib3VuZHMpO1xufTtcblxuXG5Qb3NpdEZhY3RvcnkucHJvdG90eXBlLmNyZWF0ZURpUGxhbmUgPSBmdW5jdGlvbihzZW1hbnRpYykge1xuICByZXR1cm4gdGhpcy5jcmVhdGUoJ3Bvc3RpdERpOlBvc3RpdFBsYW5lJywge1xuICAgIGJvYXJkRWxlbWVudDogc2VtYW50aWNcbiAgfSk7XG59OyIsImltcG9ydCB7XG4gIGFzc2lnbixcbiAgZm9yRWFjaFxufSBmcm9tICdtaW4tZGFzaCc7XG5cbmltcG9ydCBpbmhlcml0cyBmcm9tICdpbmhlcml0cyc7XG5cbmltcG9ydCB7XG4gIHJlbW92ZSBhcyBjb2xsZWN0aW9uUmVtb3ZlXG59IGZyb20gJ2RpYWdyYW0tanMvbGliL3V0aWwvQ29sbGVjdGlvbnMnO1xuXG5pbXBvcnQge1xuICBMYWJlbFxufSBmcm9tICdkaWFncmFtLWpzL2xpYi9tb2RlbCc7XG5cbmltcG9ydCB7XG4gIGlzXG59IGZyb20gJy4uLy4uL3V0aWwvTW9kZWxVdGlsJztcblxuaW1wb3J0IENvbW1hbmRJbnRlcmNlcHRvciBmcm9tICdkaWFncmFtLWpzL2xpYi9jb21tYW5kL0NvbW1hbmRJbnRlcmNlcHRvcic7XG5cbi8qKlxuICogQSBoYW5kbGVyIHJlc3BvbnNpYmxlIGZvciB1cGRhdGluZyB0aGUgdW5kZXJseWluZyBQb3N0aXQgWE1MICsgRElcbiAqIG9uY2UgY2hhbmdlcyBvbiB0aGUgZGlhZ3JhbSBoYXBwZW5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUG9zdGl0VXBkYXRlcihcbiAgICBldmVudEJ1cywgcG9zdGl0RmFjdG9yeSwgY29ubmVjdGlvbkRvY2tpbmcsXG4gICAgdHJhbnNsYXRlKSB7XG5cbiAgQ29tbWFuZEludGVyY2VwdG9yLmNhbGwodGhpcywgZXZlbnRCdXMpO1xuXG4gIHRoaXMuX3Bvc3RpdEZhY3RvcnkgPSBwb3N0aXRGYWN0b3J5O1xuICB0aGlzLl90cmFuc2xhdGUgPSB0cmFuc2xhdGU7XG5cbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG5cbiAgLy8gUG9zdGl0ICsgREkgdXBkYXRlIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuXG4gIC8vIHVwZGF0ZSBwYXJlbnRcbiAgZnVuY3Rpb24gdXBkYXRlUGFyZW50KGUpIHtcbiAgICB2YXIgY29udGV4dCA9IGUuY29udGV4dDtcblxuICAgIHNlbGYudXBkYXRlUGFyZW50KGNvbnRleHQuc2hhcGUgfHwgY29udGV4dC5jb25uZWN0aW9uLCBjb250ZXh0Lm9sZFBhcmVudCk7XG4gIH1cblxuICBmdW5jdGlvbiByZXZlcnNlVXBkYXRlUGFyZW50KGUpIHtcbiAgICB2YXIgY29udGV4dCA9IGUuY29udGV4dDtcblxuICAgIHZhciBlbGVtZW50ID0gY29udGV4dC5zaGFwZSB8fCBjb250ZXh0LmNvbm5lY3Rpb24sXG5cbiAgICAgICAgLy8gb2xkUGFyZW50IGlzIHRoZSAob2xkKSBuZXcgcGFyZW50LCBiZWNhdXNlIHdlIGFyZSB1bmRvaW5nXG4gICAgICAgIG9sZFBhcmVudCA9IGNvbnRleHQucGFyZW50IHx8IGNvbnRleHQubmV3UGFyZW50O1xuXG4gICAgc2VsZi51cGRhdGVQYXJlbnQoZWxlbWVudCwgb2xkUGFyZW50KTtcbiAgfVxuXG4gIHRoaXMuZXhlY3V0ZWQoW1xuICAgICdzaGFwZS5tb3ZlJyxcbiAgICAnc2hhcGUuY3JlYXRlJyxcbiAgICAnc2hhcGUuZGVsZXRlJ1xuICBdLCBpZlBvc3RpdCh1cGRhdGVQYXJlbnQpKTtcblxuICB0aGlzLnJldmVydGVkKFtcbiAgICAnc2hhcGUubW92ZScsXG4gICAgJ3NoYXBlLmNyZWF0ZScsXG4gICAgJ3NoYXBlLmRlbGV0ZSdcbiAgXSwgaWZQb3N0aXQocmV2ZXJzZVVwZGF0ZVBhcmVudCkpO1xuXG4gIC8qXG4gICAqICMjIFVwZGF0aW5nIFBhcmVudFxuICAgKlxuICAgKiBXaGVuIG1vcnBoaW5nIGEgcm9vdCBlbGVtZW50XG4gICAqIG1ha2Ugc3VyZSB0aGF0IGJvdGggdGhlICpzZW1hbnRpYyogYW5kICpkaSogcGFyZW50IG9mIGVhY2ggZWxlbWVudFxuICAgKiBpcyB1cGRhdGVkLlxuICAgKlxuICAgKi9cbiAgZnVuY3Rpb24gdXBkYXRlUm9vdChldmVudCkge1xuICAgIHZhciBjb250ZXh0ID0gZXZlbnQuY29udGV4dCxcbiAgICAgICAgb2xkUm9vdCA9IGNvbnRleHQub2xkUm9vdCxcbiAgICAgICAgY2hpbGRyZW4gPSBvbGRSb290LmNoaWxkcmVuO1xuXG4gICAgZm9yRWFjaChjaGlsZHJlbiwgZnVuY3Rpb24oY2hpbGQpIHtcbiAgICAgIGlmIChpcyhjaGlsZCwgJ3Bvc3RpdDpCb2FyZEVsZW1lbnQnKSkge1xuICAgICAgICBzZWxmLnVwZGF0ZVBhcmVudChjaGlsZCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICB0aGlzLmV4ZWN1dGVkKFsgJ2NhbnZhcy51cGRhdGVSb290JyBdLCB1cGRhdGVSb290KTtcbiAgdGhpcy5yZXZlcnRlZChbICdjYW52YXMudXBkYXRlUm9vdCcgXSwgdXBkYXRlUm9vdCk7XG5cblxuICAvLyB1cGRhdGUgYm91bmRzXG4gIGZ1bmN0aW9uIHVwZGF0ZUJvdW5kcyhlKSB7XG4gICAgdmFyIHNoYXBlID0gZS5jb250ZXh0LnNoYXBlO1xuXG4gICAgaWYgKCFpcyhzaGFwZSwgJ3Bvc3RpdDpCb2FyZEVsZW1lbnQnKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHNlbGYudXBkYXRlQm91bmRzKHNoYXBlKTtcbiAgfVxuXG4gIHRoaXMuZXhlY3V0ZWQoWyAnc2hhcGUubW92ZScsICdzaGFwZS5jcmVhdGUnLCAnc2hhcGUucmVzaXplJyBdLCBpZlBvc3RpdChmdW5jdGlvbihldmVudCkge1xuXG4gICAgLy8gZXhjbHVkZSBsYWJlbHMgYmVjYXVzZSB0aGV5J3JlIGhhbmRsZWQgc2VwYXJhdGVseSBkdXJpbmcgc2hhcGUuY2hhbmdlZFxuICAgIGlmIChldmVudC5jb250ZXh0LnNoYXBlLnR5cGUgPT09ICdsYWJlbCcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB1cGRhdGVCb3VuZHMoZXZlbnQpO1xuICB9KSk7XG5cbiAgdGhpcy5yZXZlcnRlZChbICdzaGFwZS5tb3ZlJywgJ3NoYXBlLmNyZWF0ZScsICdzaGFwZS5yZXNpemUnIF0sIGlmUG9zdGl0KGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICAvLyBleGNsdWRlIGxhYmVscyBiZWNhdXNlIHRoZXkncmUgaGFuZGxlZCBzZXBhcmF0ZWx5IGR1cmluZyBzaGFwZS5jaGFuZ2VkXG4gICAgaWYgKGV2ZW50LmNvbnRleHQuc2hhcGUudHlwZSA9PT0gJ2xhYmVsJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHVwZGF0ZUJvdW5kcyhldmVudCk7XG4gIH0pKTtcblxuICAvLyBIYW5kbGUgbGFiZWxzIHNlcGFyYXRlbHkuIFRoaXMgaXMgbmVjZXNzYXJ5LCBiZWNhdXNlIHRoZSBsYWJlbCBib3VuZHMgaGF2ZSB0byBiZSB1cGRhdGVkXG4gIC8vIGV2ZXJ5IHRpbWUgaXRzIHNoYXBlIGNoYW5nZXMsIG5vdCBvbmx5IG9uIG1vdmUsIGNyZWF0ZSBhbmQgcmVzaXplLlxuICBldmVudEJ1cy5vbignc2hhcGUuY2hhbmdlZCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LmVsZW1lbnQudHlwZSA9PT0gJ2xhYmVsJykge1xuICAgICAgdXBkYXRlQm91bmRzKHsgY29udGV4dDogeyBzaGFwZTogZXZlbnQuZWxlbWVudCB9IH0pO1xuICAgIH1cbiAgfSk7XG5cbn1cblxuaW5oZXJpdHMoUG9zdGl0VXBkYXRlciwgQ29tbWFuZEludGVyY2VwdG9yKTtcblxuUG9zdGl0VXBkYXRlci4kaW5qZWN0ID0gW1xuICAnZXZlbnRCdXMnLFxuICAncG9zdGl0RmFjdG9yeScsXG4gICdjb25uZWN0aW9uRG9ja2luZycsXG4gICd0cmFuc2xhdGUnXG5dO1xuXG5cbi8vIGltcGxlbWVudGF0aW9uIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuUG9zdGl0VXBkYXRlci5wcm90b3R5cGUudXBkYXRlQXR0YWNobWVudCA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcblxuICB2YXIgc2hhcGUgPSBjb250ZXh0LnNoYXBlLFxuICAgICAgYnVzaW5lc3NPYmplY3QgPSBzaGFwZS5idXNpbmVzc09iamVjdCxcbiAgICAgIGhvc3QgPSBzaGFwZS5ob3N0O1xuXG4gIGJ1c2luZXNzT2JqZWN0LmF0dGFjaGVkVG9SZWYgPSBob3N0ICYmIGhvc3QuYnVzaW5lc3NPYmplY3Q7XG59O1xuXG5Qb3N0aXRVcGRhdGVyLnByb3RvdHlwZS51cGRhdGVQYXJlbnQgPSBmdW5jdGlvbihlbGVtZW50LCBvbGRQYXJlbnQpIHtcblxuICAvLyBkbyBub3QgdXBkYXRlIGxhYmVsIHBhcmVudFxuICBpZiAoZWxlbWVudCBpbnN0YW5jZW9mIExhYmVsKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIHBhcmVudFNoYXBlID0gZWxlbWVudC5wYXJlbnQ7XG5cbiAgdmFyIGJ1c2luZXNzT2JqZWN0ID0gZWxlbWVudC5idXNpbmVzc09iamVjdCxcbiAgICAgIHBhcmVudEJ1c2luZXNzT2JqZWN0ID0gcGFyZW50U2hhcGUgJiYgcGFyZW50U2hhcGUuYnVzaW5lc3NPYmplY3QsXG4gICAgICBwYXJlbnREaSA9IHBhcmVudEJ1c2luZXNzT2JqZWN0ICYmIHBhcmVudEJ1c2luZXNzT2JqZWN0LmRpO1xuXG4gIHRoaXMudXBkYXRlU2VtYW50aWNQYXJlbnQoYnVzaW5lc3NPYmplY3QsIHBhcmVudEJ1c2luZXNzT2JqZWN0KTtcblxuICB0aGlzLnVwZGF0ZURpUGFyZW50KGJ1c2luZXNzT2JqZWN0LmRpLCBwYXJlbnREaSk7XG59O1xuXG5cblBvc3RpdFVwZGF0ZXIucHJvdG90eXBlLnVwZGF0ZUJvdW5kcyA9IGZ1bmN0aW9uKHNoYXBlKSB7XG5cbiAgdmFyIGRpID0gc2hhcGUuYnVzaW5lc3NPYmplY3QuZGk7XG5cbiAgdmFyIHRhcmdldCA9IChzaGFwZSBpbnN0YW5jZW9mIExhYmVsKSA/IHRoaXMuX2dldExhYmVsKGRpKSA6IGRpO1xuXG4gIHZhciBib3VuZHMgPSB0YXJnZXQuYm91bmRzO1xuXG4gIGlmICghYm91bmRzKSB7XG4gICAgYm91bmRzID0gdGhpcy5fcG9zdGl0RmFjdG9yeS5jcmVhdGVEaUJvdW5kcygpO1xuICAgIHRhcmdldC5zZXQoJ2JvdW5kcycsIGJvdW5kcyk7XG4gIH1cblxuICBhc3NpZ24oYm91bmRzLCB7XG4gICAgeDogc2hhcGUueCxcbiAgICB5OiBzaGFwZS55LFxuICAgIHdpZHRoOiBzaGFwZS53aWR0aCxcbiAgICBoZWlnaHQ6IHNoYXBlLmhlaWdodFxuICB9KTtcbn07XG5cblxuUG9zdGl0VXBkYXRlci5wcm90b3R5cGUudXBkYXRlRGlQYXJlbnQgPSBmdW5jdGlvbihkaSwgcGFyZW50RGkpIHtcblxuICBpZiAocGFyZW50RGkgJiYgIWlzKHBhcmVudERpLCAncG9zdGl0RGk6UG9zdGl0UGxhbmUnKSkge1xuICAgIHBhcmVudERpID0gcGFyZW50RGkuJHBhcmVudDtcbiAgfVxuXG4gIGlmIChkaS4kcGFyZW50ID09PSBwYXJlbnREaSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBwbGFuZUVsZW1lbnRzID0gKHBhcmVudERpIHx8IGRpLiRwYXJlbnQpLmdldCgncGxhbmVFbGVtZW50Jyk7XG5cbiAgaWYgKHBhcmVudERpKSB7XG4gICAgcGxhbmVFbGVtZW50cy5wdXNoKGRpKTtcbiAgICBkaS4kcGFyZW50ID0gcGFyZW50RGk7XG4gIH0gZWxzZSB7XG4gICAgY29sbGVjdGlvblJlbW92ZShwbGFuZUVsZW1lbnRzLCBkaSk7XG4gICAgZGkuJHBhcmVudCA9IG51bGw7XG4gIH1cbn07XG5cblxuUG9zdGl0VXBkYXRlci5wcm90b3R5cGUudXBkYXRlU2VtYW50aWNQYXJlbnQgPSBmdW5jdGlvbihidXNpbmVzc09iamVjdCwgbmV3UGFyZW50LCB2aXN1YWxQYXJlbnQpIHtcblxuICB2YXIgY29udGFpbm1lbnQsXG4gICAgICB0cmFuc2xhdGUgPSB0aGlzLl90cmFuc2xhdGU7XG5cbiAgaWYgKGJ1c2luZXNzT2JqZWN0LiRwYXJlbnQgPT09IG5ld1BhcmVudCkge1xuICAgIHJldHVybjtcbiAgfVxuXG5cbiAgaWYgKGlzKGJ1c2luZXNzT2JqZWN0LCAncG9zdGl0OkJvYXJkRWxlbWVudCcpKSB7XG4gICAgY29udGFpbm1lbnQgPSAnYm9hcmRFbGVtZW50cyc7XG4gIH1cblxuICBpZiAoIWNvbnRhaW5tZW50KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKHRyYW5zbGF0ZShcbiAgICAgICdubyBwYXJlbnQgZm9yIHtlbGVtZW50fSBpbiB7cGFyZW50fScsXG4gICAgICB7XG4gICAgICAgIGVsZW1lbnQ6IGJ1c2luZXNzT2JqZWN0LmlkLFxuICAgICAgICBwYXJlbnQ6IG5ld1BhcmVudC5pZFxuICAgICAgfVxuICAgICkpO1xuICB9XG5cbiAgdmFyIGNoaWxkcmVuO1xuXG4gIGlmIChidXNpbmVzc09iamVjdC4kcGFyZW50KSB7XG5cbiAgICAvLyByZW1vdmUgZnJvbSBvbGQgcGFyZW50XG4gICAgY2hpbGRyZW4gPSBidXNpbmVzc09iamVjdC4kcGFyZW50LmdldChjb250YWlubWVudCk7XG4gICAgY29sbGVjdGlvblJlbW92ZShjaGlsZHJlbiwgYnVzaW5lc3NPYmplY3QpO1xuICB9XG5cbiAgaWYgKCFuZXdQYXJlbnQpIHtcbiAgICBidXNpbmVzc09iamVjdC4kcGFyZW50ID0gbnVsbDtcbiAgfSBlbHNlIHtcblxuICAgIC8vIGFkZCB0byBuZXcgcGFyZW50XG4gICAgY2hpbGRyZW4gPSBuZXdQYXJlbnQuZ2V0KGNvbnRhaW5tZW50KTtcbiAgICBjaGlsZHJlbi5wdXNoKGJ1c2luZXNzT2JqZWN0KTtcbiAgICBidXNpbmVzc09iamVjdC4kcGFyZW50ID0gbmV3UGFyZW50O1xuICB9XG5cbiAgaWYgKHZpc3VhbFBhcmVudCkge1xuICAgIHZhciBkaUNoaWxkcmVuID0gdmlzdWFsUGFyZW50LmdldChjb250YWlubWVudCk7XG5cbiAgICBjb2xsZWN0aW9uUmVtb3ZlKGNoaWxkcmVuLCBidXNpbmVzc09iamVjdCk7XG5cbiAgICBpZiAobmV3UGFyZW50KSB7XG5cbiAgICAgIGlmICghZGlDaGlsZHJlbikge1xuICAgICAgICBkaUNoaWxkcmVuID0gW107XG4gICAgICAgIG5ld1BhcmVudC5zZXQoY29udGFpbm1lbnQsIGRpQ2hpbGRyZW4pO1xuICAgICAgfVxuXG4gICAgICBkaUNoaWxkcmVuLnB1c2goYnVzaW5lc3NPYmplY3QpO1xuICAgIH1cbiAgfVxufTtcblxuXG4vLyBoZWxwZXJzIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuUG9zdGl0VXBkYXRlci5wcm90b3R5cGUuX2dldExhYmVsID0gZnVuY3Rpb24oZGkpIHtcbiAgaWYgKCFkaS5sYWJlbCkge1xuICAgIGRpLmxhYmVsID0gdGhpcy5fcG9zdGl0RmFjdG9yeS5jcmVhdGVEaUxhYmVsKCk7XG4gIH1cblxuICByZXR1cm4gZGkubGFiZWw7XG59O1xuXG5cbi8qKlxuICogTWFrZSBzdXJlIHRoZSBldmVudCBsaXN0ZW5lciBpcyBvbmx5IGNhbGxlZFxuICogaWYgdGhlIHRvdWNoZWQgZWxlbWVudCBpcyBhIHBvc3RpdCBlbGVtZW50LlxuICpcbiAqIEBwYXJhbSAge0Z1bmN0aW9ufSBmblxuICogQHJldHVybiB7RnVuY3Rpb259IGd1YXJkZWQgZnVuY3Rpb25cbiAqL1xuZnVuY3Rpb24gaWZQb3N0aXQoZm4pIHtcblxuICByZXR1cm4gZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgIHZhciBjb250ZXh0ID0gZXZlbnQuY29udGV4dCxcbiAgICAgICAgZWxlbWVudCA9IGNvbnRleHQuc2hhcGUgfHwgY29udGV4dC5jb25uZWN0aW9uO1xuXG4gICAgaWYgKGlzKGVsZW1lbnQsICdwb3N0aXQ6Qm9hcmRFbGVtZW50JykpIHtcbiAgICAgIGZuKGV2ZW50KTtcbiAgICB9XG4gIH07XG59XG4iLCJpbXBvcnQge1xuICBhc3NpZ24sXG4gIGZvckVhY2hcbn0gZnJvbSAnbWluLWRhc2gnO1xuXG5pbXBvcnQgaW5oZXJpdHMgZnJvbSAnaW5oZXJpdHMnO1xuXG5pbXBvcnQgeyBpcyB9IGZyb20gJy4uLy4uL3V0aWwvTW9kZWxVdGlsJztcblxuaW1wb3J0IEJhc2VFbGVtZW50RmFjdG9yeSBmcm9tICdkaWFncmFtLWpzL2xpYi9jb3JlL0VsZW1lbnRGYWN0b3J5JztcblxuaW1wb3J0IHtcbiAgREVGQVVMVF9MQUJFTF9TSVpFXG59IGZyb20gJy4uLy4uL3V0aWwvTGFiZWxVdGlsJztcblxuXG4vKipcbiAqIEEgcG9zdGl0LWF3YXJlIGZhY3RvcnkgZm9yIGRpYWdyYW0tanMgc2hhcGVzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEVsZW1lbnRGYWN0b3J5KHBvc3RpdEZhY3RvcnksIG1vZGRsZSwgdHJhbnNsYXRlKSB7XG4gIEJhc2VFbGVtZW50RmFjdG9yeS5jYWxsKHRoaXMpO1xuXG4gIHRoaXMuX3Bvc3RpdEZhY3RvcnkgPSBwb3N0aXRGYWN0b3J5O1xuICB0aGlzLl9tb2RkbGUgPSBtb2RkbGU7XG4gIHRoaXMuX3RyYW5zbGF0ZSA9IHRyYW5zbGF0ZTtcbn1cblxuaW5oZXJpdHMoRWxlbWVudEZhY3RvcnksIEJhc2VFbGVtZW50RmFjdG9yeSk7XG5cbkVsZW1lbnRGYWN0b3J5LiRpbmplY3QgPSBbXG4gICdwb3N0aXRGYWN0b3J5JyxcbiAgJ21vZGRsZScsXG4gICd0cmFuc2xhdGUnXG5dO1xuXG5FbGVtZW50RmFjdG9yeS5wcm90b3R5cGUuYmFzZUNyZWF0ZSA9IEJhc2VFbGVtZW50RmFjdG9yeS5wcm90b3R5cGUuY3JlYXRlO1xuXG5FbGVtZW50RmFjdG9yeS5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24oZWxlbWVudFR5cGUsIGF0dHJzKSB7XG5cbiAgLy8gbm8gc3BlY2lhbCBtYWdpYyBmb3IgbGFiZWxzLFxuICAvLyB3ZSBhc3N1bWUgdGhlaXIgYnVzaW5lc3NPYmplY3RzIGhhdmUgYWxyZWFkeSBiZWVuIGNyZWF0ZWRcbiAgLy8gYW5kIHdpcmVkIHZpYSBhdHRyc1xuICBpZiAoZWxlbWVudFR5cGUgPT09ICdsYWJlbCcpIHtcbiAgICByZXR1cm4gdGhpcy5iYXNlQ3JlYXRlKGVsZW1lbnRUeXBlLCBhc3NpZ24oeyB0eXBlOiAnbGFiZWwnIH0sIERFRkFVTFRfTEFCRUxfU0laRSwgYXR0cnMpKTtcbiAgfVxuXG4gIHJldHVybiB0aGlzLmNyZWF0ZVBvc3RpdEVsZW1lbnQoZWxlbWVudFR5cGUsIGF0dHJzKTtcbn07XG5cbkVsZW1lbnRGYWN0b3J5LnByb3RvdHlwZS5jcmVhdGVQb3N0aXRFbGVtZW50ID0gZnVuY3Rpb24oZWxlbWVudFR5cGUsIGF0dHJzKSB7XG4gIHZhciBzaXplLFxuICAgICAgdHJhbnNsYXRlID0gdGhpcy5fdHJhbnNsYXRlO1xuXG4gIGF0dHJzID0gYXR0cnMgfHwge307XG5cbiAgdmFyIGJ1c2luZXNzT2JqZWN0ID0gYXR0cnMuYnVzaW5lc3NPYmplY3Q7XG5cbiAgaWYgKCFidXNpbmVzc09iamVjdCkge1xuICAgIGlmICghYXR0cnMudHlwZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKHRyYW5zbGF0ZSgnbm8gc2hhcGUgdHlwZSBzcGVjaWZpZWQnKSk7XG4gICAgfVxuXG4gICAgYnVzaW5lc3NPYmplY3QgPSB0aGlzLl9wb3N0aXRGYWN0b3J5LmNyZWF0ZShhdHRycy50eXBlKTtcbiAgfVxuXG4gIGlmICghYnVzaW5lc3NPYmplY3QuZGkpIHtcbiAgICBpZiAoZWxlbWVudFR5cGUgPT09ICdyb290Jykge1xuICAgICAgYnVzaW5lc3NPYmplY3QuZGkgPSB0aGlzLl9wb3N0aXRGYWN0b3J5LmNyZWF0ZURpUGxhbmUoYnVzaW5lc3NPYmplY3QsIFtdLCB7XG4gICAgICAgIGlkOiBidXNpbmVzc09iamVjdC5pZCArICdfZGknXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgYnVzaW5lc3NPYmplY3QuZGkgPSB0aGlzLl9wb3N0aXRGYWN0b3J5LmNyZWF0ZURpU2hhcGUoYnVzaW5lc3NPYmplY3QsIHt9LCB7XG4gICAgICAgIGlkOiBidXNpbmVzc09iamVjdC5pZCArICdfZGknXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBpZiAoaXMoYnVzaW5lc3NPYmplY3QsICdwb3N0aXQ6R3JvdXAnKSkge1xuICAgIGF0dHJzID0gYXNzaWduKHtcbiAgICAgIGlzRnJhbWU6IHRydWVcbiAgICB9LCBhdHRycyk7XG4gIH1cblxuICBpZiAoYXR0cnMuZGkpIHtcbiAgICBhc3NpZ24oYnVzaW5lc3NPYmplY3QuZGksIGF0dHJzLmRpKTtcblxuICAgIGRlbGV0ZSBhdHRycy5kaTtcbiAgfVxuXG4gIGFwcGx5QXR0cmlidXRlcyhidXNpbmVzc09iamVjdCwgYXR0cnMsIFtcbiAgICAncHJvY2Vzc1JlZicsXG4gICAgJ2lzSW50ZXJydXB0aW5nJyxcbiAgICAnYXNzb2NpYXRpb25EaXJlY3Rpb24nLFxuICAgICdpc0ZvckNvbXBlbnNhdGlvbidcbiAgXSk7XG5cbiAgc2l6ZSA9IHRoaXMuX2dldERlZmF1bHRTaXplKGJ1c2luZXNzT2JqZWN0KTtcblxuICBhdHRycyA9IGFzc2lnbih7XG4gICAgYnVzaW5lc3NPYmplY3Q6IGJ1c2luZXNzT2JqZWN0LFxuICAgIGlkOiBidXNpbmVzc09iamVjdC5pZFxuICB9LCBzaXplLCBhdHRycyk7XG5cbiAgcmV0dXJuIHRoaXMuYmFzZUNyZWF0ZShlbGVtZW50VHlwZSwgYXR0cnMpO1xufTtcblxuXG5FbGVtZW50RmFjdG9yeS5wcm90b3R5cGUuX2dldERlZmF1bHRTaXplID0gZnVuY3Rpb24oc2VtYW50aWMpIHtcbiAgaWYgKGlzKHNlbWFudGljLCAncG9zdGl0OlBvc3RpdCcpKSB7XG4gICAgcmV0dXJuIHsgd2lkdGg6IDE1MCwgaGVpZ2h0OiAxNTAgfTtcbiAgfVxuXG4gIGlmIChpcyhzZW1hbnRpYywgJ3Bvc3RpdDpHcm91cCcpKSB7XG4gICAgcmV0dXJuIHsgd2lkdGg6IDMwMCwgaGVpZ2h0OiAzMDAgfTtcbiAgfVxuXG4gIGlmIChpcyhzZW1hbnRpYywgJ3Bvc3RpdDpJbWFnZScpKSB7XG4gICAgcmV0dXJuIHsgd2lkdGg6IDMwMCwgaGVpZ2h0OiAzMDAgfTtcbiAgfVxuXG4gIHJldHVybiB7IHdpZHRoOiAxMDAsIGhlaWdodDogODAgfTtcbn07XG5cblxuXG4vLyBoZWxwZXJzIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLyoqXG4gKiBBcHBseSBhdHRyaWJ1dGVzIGZyb20gYSBtYXAgdG8gdGhlIGdpdmVuIGVsZW1lbnQsXG4gKiByZW1vdmUgYXR0cmlidXRlIGZyb20gdGhlIG1hcCBvbiBhcHBsaWNhdGlvbi5cbiAqXG4gKiBAcGFyYW0ge0Jhc2V9IGVsZW1lbnRcbiAqIEBwYXJhbSB7T2JqZWN0fSBhdHRycyAoaW4vb3V0IG1hcCBvZiBhdHRyaWJ1dGVzKVxuICogQHBhcmFtIHtBcnJheTxTdHJpbmc+fSBhdHRyaWJ1dGVOYW1lcyBuYW1lIG9mIGF0dHJpYnV0ZXMgdG8gYXBwbHlcbiAqL1xuZnVuY3Rpb24gYXBwbHlBdHRyaWJ1dGVzKGVsZW1lbnQsIGF0dHJzLCBhdHRyaWJ1dGVOYW1lcykge1xuXG4gIGZvckVhY2goYXR0cmlidXRlTmFtZXMsIGZ1bmN0aW9uKHByb3BlcnR5KSB7XG4gICAgaWYgKGF0dHJzW3Byb3BlcnR5XSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBhcHBseUF0dHJpYnV0ZShlbGVtZW50LCBhdHRycywgcHJvcGVydHkpO1xuICAgIH1cbiAgfSk7XG59XG5cbi8qKlxuICogQXBwbHkgbmFtZWQgcHJvcGVydHkgdG8gZWxlbWVudCBhbmQgZHJhaW4gaXQgZnJvbSB0aGUgYXR0cnNcbiAqIGNvbGxlY3Rpb24uXG4gKlxuICogQHBhcmFtIHtCYXNlfSBlbGVtZW50XG4gKiBAcGFyYW0ge09iamVjdH0gYXR0cnMgKGluL291dCBtYXAgb2YgYXR0cmlidXRlcylcbiAqIEBwYXJhbSB7U3RyaW5nfSBhdHRyaWJ1dGVOYW1lIHRvIGFwcGx5XG4gKi9cbmZ1bmN0aW9uIGFwcGx5QXR0cmlidXRlKGVsZW1lbnQsIGF0dHJzLCBhdHRyaWJ1dGVOYW1lKSB7XG4gIGVsZW1lbnRbYXR0cmlidXRlTmFtZV0gPSBhdHRyc1thdHRyaWJ1dGVOYW1lXTtcblxuICBkZWxldGUgYXR0cnNbYXR0cmlidXRlTmFtZV07XG59IiwiaW1wb3J0IHsgZm9yRWFjaCB9IGZyb20gJ21pbi1kYXNoJztcblxuLyoqXG4gKiBBIGhhbmRsZXIgdGhhdCBhbGlnbiBlbGVtZW50cyBpbiBhIGNlcnRhaW4gd2F5LlxuICpcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQWxpZ25FbGVtZW50cyhtb2RlbGluZywgY2FudmFzKSB7XG4gIHRoaXMuX21vZGVsaW5nID0gbW9kZWxpbmc7XG4gIHRoaXMuX2NhbnZhcyA9IGNhbnZhcztcbn1cblxuQWxpZ25FbGVtZW50cy4kaW5qZWN0ID0gWyAnbW9kZWxpbmcnLCAnY2FudmFzJyBdO1xuXG5cbkFsaWduRWxlbWVudHMucHJvdG90eXBlLnByZUV4ZWN1dGUgPSBmdW5jdGlvbihjb250ZXh0KSB7XG4gIHZhciBtb2RlbGluZyA9IHRoaXMuX21vZGVsaW5nO1xuXG4gIHZhciBlbGVtZW50cyA9IGNvbnRleHQuZWxlbWVudHMsXG4gICAgICBhbGlnbm1lbnQgPSBjb250ZXh0LmFsaWdubWVudDtcblxuXG4gIGZvckVhY2goZWxlbWVudHMsIGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICB2YXIgZGVsdGEgPSB7XG4gICAgICB4OiAwLFxuICAgICAgeTogMFxuICAgIH07XG5cbiAgICBpZiAoYWxpZ25tZW50LmxlZnQpIHtcbiAgICAgIGRlbHRhLnggPSBhbGlnbm1lbnQubGVmdCAtIGVsZW1lbnQueDtcblxuICAgIH0gZWxzZSBpZiAoYWxpZ25tZW50LnJpZ2h0KSB7XG4gICAgICBkZWx0YS54ID0gKGFsaWdubWVudC5yaWdodCAtIGVsZW1lbnQud2lkdGgpIC0gZWxlbWVudC54O1xuXG4gICAgfSBlbHNlIGlmIChhbGlnbm1lbnQuY2VudGVyKSB7XG4gICAgICBkZWx0YS54ID0gKGFsaWdubWVudC5jZW50ZXIgLSBNYXRoLnJvdW5kKGVsZW1lbnQud2lkdGggLyAyKSkgLSBlbGVtZW50Lng7XG5cbiAgICB9IGVsc2UgaWYgKGFsaWdubWVudC50b3ApIHtcbiAgICAgIGRlbHRhLnkgPSBhbGlnbm1lbnQudG9wIC0gZWxlbWVudC55O1xuXG4gICAgfSBlbHNlIGlmIChhbGlnbm1lbnQuYm90dG9tKSB7XG4gICAgICBkZWx0YS55ID0gKGFsaWdubWVudC5ib3R0b20gLSBlbGVtZW50LmhlaWdodCkgLSBlbGVtZW50Lnk7XG5cbiAgICB9IGVsc2UgaWYgKGFsaWdubWVudC5taWRkbGUpIHtcbiAgICAgIGRlbHRhLnkgPSAoYWxpZ25tZW50Lm1pZGRsZSAtIE1hdGgucm91bmQoZWxlbWVudC5oZWlnaHQgLyAyKSkgLSBlbGVtZW50Lnk7XG4gICAgfVxuXG4gICAgbW9kZWxpbmcubW92ZUVsZW1lbnRzKFsgZWxlbWVudCBdLCBkZWx0YSwgZWxlbWVudC5wYXJlbnQpO1xuICB9KTtcbn07XG5cbkFsaWduRWxlbWVudHMucHJvdG90eXBlLnBvc3RFeGVjdXRlID0gZnVuY3Rpb24oY29udGV4dCkge1xuXG59O1xuIiwiaW1wb3J0IHsgc29tZSB9IGZyb20gJ21pbi1kYXNoJztcblxuXG4vKipcbiAqIEEgaGFuZGxlciB0aGF0IGltcGxlbWVudHMgcmV2ZXJzaWJsZSBhcHBlbmRpbmcgb2Ygc2hhcGVzXG4gKiB0byBhIHNvdXJjZSBzaGFwZS5cbiAqXG4gKiBAcGFyYW0ge2NhbnZhc30gQ2FudmFzXG4gKiBAcGFyYW0ge2VsZW1lbnRGYWN0b3J5fSBFbGVtZW50RmFjdG9yeVxuICogQHBhcmFtIHttb2RlbGluZ30gTW9kZWxpbmdcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQXBwZW5kU2hhcGVIYW5kbGVyKG1vZGVsaW5nKSB7XG4gIHRoaXMuX21vZGVsaW5nID0gbW9kZWxpbmc7XG59XG5cbkFwcGVuZFNoYXBlSGFuZGxlci4kaW5qZWN0ID0gWyAnbW9kZWxpbmcnIF07XG5cblxuLy8gYXBpIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgc2hhcGVcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gY29udGV4dFxuICogQHBhcmFtIHtFbGVtZW50RGVzY3JpcHRvcn0gY29udGV4dC5zaGFwZSB0aGUgbmV3IHNoYXBlXG4gKiBAcGFyYW0ge0VsZW1lbnREZXNjcmlwdG9yfSBjb250ZXh0LnNvdXJjZSB0aGUgc291cmNlIG9iamVjdFxuICogQHBhcmFtIHtFbGVtZW50RGVzY3JpcHRvcn0gY29udGV4dC5wYXJlbnQgdGhlIHBhcmVudCBvYmplY3RcbiAqIEBwYXJhbSB7UG9pbnR9IGNvbnRleHQucG9zaXRpb24gcG9zaXRpb24gb2YgdGhlIG5ldyBlbGVtZW50XG4gKi9cbkFwcGVuZFNoYXBlSGFuZGxlci5wcm90b3R5cGUucHJlRXhlY3V0ZSA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcblxuICB2YXIgc291cmNlID0gY29udGV4dC5zb3VyY2U7XG5cbiAgaWYgKCFzb3VyY2UpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NvdXJjZSByZXF1aXJlZCcpO1xuICB9XG5cbiAgdmFyIHRhcmdldCA9IGNvbnRleHQudGFyZ2V0IHx8IHNvdXJjZS5wYXJlbnQsXG4gICAgICBzaGFwZSA9IGNvbnRleHQuc2hhcGUsXG4gICAgICBoaW50cyA9IGNvbnRleHQuaGludHMgfHwge307XG5cbiAgc2hhcGUgPSBjb250ZXh0LnNoYXBlID1cbiAgICB0aGlzLl9tb2RlbGluZy5jcmVhdGVTaGFwZShcbiAgICAgIHNoYXBlLFxuICAgICAgY29udGV4dC5wb3NpdGlvbixcbiAgICAgIHRhcmdldCwgeyBhdHRhY2g6IGhpbnRzLmF0dGFjaCB9KTtcblxuICBjb250ZXh0LnNoYXBlID0gc2hhcGU7XG59O1xuXG5BcHBlbmRTaGFwZUhhbmRsZXIucHJvdG90eXBlLnBvc3RFeGVjdXRlID0gZnVuY3Rpb24oY29udGV4dCkge1xuICB2YXIgaGludHMgPSBjb250ZXh0LmhpbnRzIHx8IHt9O1xuXG4gIGlmICghZXhpc3RzQ29ubmVjdGlvbihjb250ZXh0LnNvdXJjZSwgY29udGV4dC5zaGFwZSkpIHtcblxuICAgIC8vIGNyZWF0ZSBjb25uZWN0aW9uXG4gICAgaWYgKGhpbnRzLmNvbm5lY3Rpb25UYXJnZXQgPT09IGNvbnRleHQuc291cmNlKSB7XG4gICAgICB0aGlzLl9tb2RlbGluZy5jb25uZWN0KGNvbnRleHQuc2hhcGUsIGNvbnRleHQuc291cmNlLCBjb250ZXh0LmNvbm5lY3Rpb24pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9tb2RlbGluZy5jb25uZWN0KGNvbnRleHQuc291cmNlLCBjb250ZXh0LnNoYXBlLCBjb250ZXh0LmNvbm5lY3Rpb24pO1xuICAgIH1cbiAgfVxufTtcblxuXG5mdW5jdGlvbiBleGlzdHNDb25uZWN0aW9uKHNvdXJjZSwgdGFyZ2V0KSB7XG4gIHJldHVybiBzb21lKHNvdXJjZS5vdXRnb2luZywgZnVuY3Rpb24oYykge1xuICAgIHJldHVybiBjLnRhcmdldCA9PT0gdGFyZ2V0O1xuICB9KTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDcmVhdGVDb25uZWN0aW9uSGFuZGxlcihjYW52YXMsIGxheW91dGVyKSB7XG4gIHRoaXMuX2NhbnZhcyA9IGNhbnZhcztcbiAgdGhpcy5fbGF5b3V0ZXIgPSBsYXlvdXRlcjtcbn1cblxuQ3JlYXRlQ29ubmVjdGlvbkhhbmRsZXIuJGluamVjdCA9IFsgJ2NhbnZhcycsICdsYXlvdXRlcicgXTtcblxuXG4vLyBhcGkgLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5cbi8qKlxuICogQXBwZW5kcyBhIHNoYXBlIHRvIGEgdGFyZ2V0IHNoYXBlXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHRcbiAqIEBwYXJhbSB7ZGpzLmVsZW1lbnQuQmFzZX0gY29udGV4dC5zb3VyY2UgdGhlIHNvdXJjZSBvYmplY3RcbiAqIEBwYXJhbSB7ZGpzLmVsZW1lbnQuQmFzZX0gY29udGV4dC50YXJnZXQgdGhlIHBhcmVudCBvYmplY3RcbiAqIEBwYXJhbSB7UG9pbnR9IGNvbnRleHQucG9zaXRpb24gcG9zaXRpb24gb2YgdGhlIG5ldyBlbGVtZW50XG4gKi9cbkNyZWF0ZUNvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5leGVjdXRlID0gZnVuY3Rpb24oY29udGV4dCkge1xuXG4gIHZhciBjb25uZWN0aW9uID0gY29udGV4dC5jb25uZWN0aW9uLFxuICAgICAgc291cmNlID0gY29udGV4dC5zb3VyY2UsXG4gICAgICB0YXJnZXQgPSBjb250ZXh0LnRhcmdldCxcbiAgICAgIHBhcmVudCA9IGNvbnRleHQucGFyZW50LFxuICAgICAgcGFyZW50SW5kZXggPSBjb250ZXh0LnBhcmVudEluZGV4LFxuICAgICAgaGludHMgPSBjb250ZXh0LmhpbnRzO1xuXG4gIGlmICghc291cmNlIHx8ICF0YXJnZXQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NvdXJjZSBhbmQgdGFyZ2V0IHJlcXVpcmVkJyk7XG4gIH1cblxuICBpZiAoIXBhcmVudCkge1xuICAgIHRocm93IG5ldyBFcnJvcigncGFyZW50IHJlcXVpcmVkJyk7XG4gIH1cblxuICBjb25uZWN0aW9uLnNvdXJjZSA9IHNvdXJjZTtcbiAgY29ubmVjdGlvbi50YXJnZXQgPSB0YXJnZXQ7XG5cbiAgaWYgKCFjb25uZWN0aW9uLndheXBvaW50cykge1xuICAgIGNvbm5lY3Rpb24ud2F5cG9pbnRzID0gdGhpcy5fbGF5b3V0ZXIubGF5b3V0Q29ubmVjdGlvbihjb25uZWN0aW9uLCBoaW50cyk7XG4gIH1cblxuICAvLyBhZGQgY29ubmVjdGlvblxuICB0aGlzLl9jYW52YXMuYWRkQ29ubmVjdGlvbihjb25uZWN0aW9uLCBwYXJlbnQsIHBhcmVudEluZGV4KTtcblxuICByZXR1cm4gY29ubmVjdGlvbjtcbn07XG5cbkNyZWF0ZUNvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5yZXZlcnQgPSBmdW5jdGlvbihjb250ZXh0KSB7XG4gIHZhciBjb25uZWN0aW9uID0gY29udGV4dC5jb25uZWN0aW9uO1xuXG4gIHRoaXMuX2NhbnZhcy5yZW1vdmVDb25uZWN0aW9uKGNvbm5lY3Rpb24pO1xuXG4gIGNvbm5lY3Rpb24uc291cmNlID0gbnVsbDtcbiAgY29ubmVjdGlvbi50YXJnZXQgPSBudWxsO1xuXG4gIHJldHVybiBjb25uZWN0aW9uO1xufTsiLCJpbXBvcnQge1xyXG4gIGFzc2lnbixcclxuICBmb3JFYWNoLFxyXG4gIGlzTnVtYmVyLFxyXG4gIG1hcCxcclxuICBwaWNrLFxyXG4gIHZhbHVlc1xyXG59IGZyb20gJ21pbi1kYXNoJztcclxuXHJcbmltcG9ydCB7XHJcbiAgZ2V0QkJveCxcclxuICBnZXRQYXJlbnRzXHJcbn0gZnJvbSAnLi4vLi4vLi4vdXRpbC9FbGVtZW50cyc7XHJcblxyXG52YXIgcm91bmQgPSBNYXRoLnJvdW5kO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ3JlYXRlRWxlbWVudHNIYW5kbGVyKG1vZGVsaW5nKSB7XHJcbiAgdGhpcy5fbW9kZWxpbmcgPSBtb2RlbGluZztcclxufVxyXG5cclxuQ3JlYXRlRWxlbWVudHNIYW5kbGVyLiRpbmplY3QgPSBbXHJcbiAgJ21vZGVsaW5nJ1xyXG5dO1xyXG5cclxuQ3JlYXRlRWxlbWVudHNIYW5kbGVyLnByb3RvdHlwZS5wcmVFeGVjdXRlID0gZnVuY3Rpb24oY29udGV4dCkge1xyXG4gIHZhciBlbGVtZW50cyA9IGNvbnRleHQuZWxlbWVudHMsXHJcbiAgICAgIHBhcmVudCA9IGNvbnRleHQucGFyZW50LFxyXG4gICAgICBwYXJlbnRJbmRleCA9IGNvbnRleHQucGFyZW50SW5kZXgsXHJcbiAgICAgIHBvc2l0aW9uID0gY29udGV4dC5wb3NpdGlvbixcclxuICAgICAgaGludHMgPSBjb250ZXh0LmhpbnRzO1xyXG5cclxuICB2YXIgbW9kZWxpbmcgPSB0aGlzLl9tb2RlbGluZztcclxuXHJcbiAgLy8gbWFrZSBzdXJlIGVhY2ggZWxlbWVudCBoYXMgeCBhbmQgeVxyXG4gIGZvckVhY2goZWxlbWVudHMsIGZ1bmN0aW9uKGVsZW1lbnQpIHtcclxuICAgIGlmICghaXNOdW1iZXIoZWxlbWVudC54KSkge1xyXG4gICAgICBlbGVtZW50LnggPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghaXNOdW1iZXIoZWxlbWVudC55KSkge1xyXG4gICAgICBlbGVtZW50LnkgPSAwO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICB2YXIgYmJveCA9IGdldEJCb3goZWxlbWVudHMpO1xyXG5cclxuICAvLyBjZW50ZXIgZWxlbWVudHMgYXJvdW5kIHBvc2l0aW9uXHJcbiAgZm9yRWFjaChlbGVtZW50cywgZnVuY3Rpb24oZWxlbWVudCkge1xyXG4gICAgaWYgKGlzQ29ubmVjdGlvbihlbGVtZW50KSkge1xyXG4gICAgICBlbGVtZW50LndheXBvaW50cyA9IG1hcChlbGVtZW50LndheXBvaW50cywgZnVuY3Rpb24od2F5cG9pbnQpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgeDogcm91bmQod2F5cG9pbnQueCAtIGJib3gueCAtIGJib3gud2lkdGggLyAyICsgcG9zaXRpb24ueCksXHJcbiAgICAgICAgICB5OiByb3VuZCh3YXlwb2ludC55IC0gYmJveC55IC0gYmJveC5oZWlnaHQgLyAyICsgcG9zaXRpb24ueSlcclxuICAgICAgICB9O1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBhc3NpZ24oZWxlbWVudCwge1xyXG4gICAgICB4OiByb3VuZChlbGVtZW50LnggLSBiYm94LnggLSBiYm94LndpZHRoIC8gMiArIHBvc2l0aW9uLngpLFxyXG4gICAgICB5OiByb3VuZChlbGVtZW50LnkgLSBiYm94LnkgLSBiYm94LmhlaWdodCAvIDIgKyBwb3NpdGlvbi55KVxyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIHZhciBwYXJlbnRzID0gZ2V0UGFyZW50cyhlbGVtZW50cyk7XHJcblxyXG4gIHZhciBjYWNoZSA9IHt9O1xyXG5cclxuICBmb3JFYWNoKGVsZW1lbnRzLCBmdW5jdGlvbihlbGVtZW50KSB7XHJcbiAgICBpZiAoaXNDb25uZWN0aW9uKGVsZW1lbnQpKSB7XHJcbiAgICAgIGNhY2hlWyBlbGVtZW50LmlkIF0gPSBpc051bWJlcihwYXJlbnRJbmRleCkgP1xyXG4gICAgICAgIG1vZGVsaW5nLmNyZWF0ZUNvbm5lY3Rpb24oXHJcbiAgICAgICAgICBjYWNoZVsgZWxlbWVudC5zb3VyY2UuaWQgXSxcclxuICAgICAgICAgIGNhY2hlWyBlbGVtZW50LnRhcmdldC5pZCBdLFxyXG4gICAgICAgICAgcGFyZW50SW5kZXgsXHJcbiAgICAgICAgICBlbGVtZW50LFxyXG4gICAgICAgICAgZWxlbWVudC5wYXJlbnQgfHwgcGFyZW50LFxyXG4gICAgICAgICAgaGludHNcclxuICAgICAgICApIDpcclxuICAgICAgICBtb2RlbGluZy5jcmVhdGVDb25uZWN0aW9uKFxyXG4gICAgICAgICAgY2FjaGVbIGVsZW1lbnQuc291cmNlLmlkIF0sXHJcbiAgICAgICAgICBjYWNoZVsgZWxlbWVudC50YXJnZXQuaWQgXSxcclxuICAgICAgICAgIGVsZW1lbnQsXHJcbiAgICAgICAgICBlbGVtZW50LnBhcmVudCB8fCBwYXJlbnQsXHJcbiAgICAgICAgICBoaW50c1xyXG4gICAgICAgICk7XHJcblxyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGNyZWF0ZVNoYXBlSGludHMgPSBhc3NpZ24oe30sIGhpbnRzKTtcclxuXHJcbiAgICBpZiAocGFyZW50cy5pbmRleE9mKGVsZW1lbnQpID09PSAtMSkge1xyXG4gICAgICBjcmVhdGVTaGFwZUhpbnRzLmF1dG9SZXNpemUgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBjYWNoZVsgZWxlbWVudC5pZCBdID0gaXNOdW1iZXIocGFyZW50SW5kZXgpID9cclxuICAgICAgbW9kZWxpbmcuY3JlYXRlU2hhcGUoXHJcbiAgICAgICAgZWxlbWVudCxcclxuICAgICAgICBwaWNrKGVsZW1lbnQsIFsgJ3gnLCAneScsICd3aWR0aCcsICdoZWlnaHQnIF0pLFxyXG4gICAgICAgIGVsZW1lbnQucGFyZW50IHx8IHBhcmVudCxcclxuICAgICAgICBwYXJlbnRJbmRleCxcclxuICAgICAgICBjcmVhdGVTaGFwZUhpbnRzXHJcbiAgICAgICkgOlxyXG4gICAgICBtb2RlbGluZy5jcmVhdGVTaGFwZShcclxuICAgICAgICBlbGVtZW50LFxyXG4gICAgICAgIHBpY2soZWxlbWVudCwgWyAneCcsICd5JywgJ3dpZHRoJywgJ2hlaWdodCcgXSksXHJcbiAgICAgICAgZWxlbWVudC5wYXJlbnQgfHwgcGFyZW50LFxyXG4gICAgICAgIGNyZWF0ZVNoYXBlSGludHNcclxuICAgICAgKTtcclxuICB9KTtcclxuXHJcbiAgY29udGV4dC5lbGVtZW50cyA9IHZhbHVlcyhjYWNoZSk7XHJcbn07XHJcblxyXG4vLyBoZWxwZXJzIC8vLy8vLy8vLy9cclxuXHJcbmZ1bmN0aW9uIGlzQ29ubmVjdGlvbihlbGVtZW50KSB7XHJcbiAgcmV0dXJuICEhZWxlbWVudC53YXlwb2ludHM7XHJcbn0iLCJpbXBvcnQgeyBhc3NpZ24gfSBmcm9tICdtaW4tZGFzaCc7XG5cbnZhciByb3VuZCA9IE1hdGgucm91bmQ7XG5cblxuLyoqXG4gKiBBIGhhbmRsZXIgdGhhdCBpbXBsZW1lbnRzIHJldmVyc2libGUgYWRkaXRpb24gb2Ygc2hhcGVzLlxuICpcbiAqIEBwYXJhbSB7Y2FudmFzfSBDYW52YXNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ3JlYXRlU2hhcGVIYW5kbGVyKGNhbnZhcykge1xuICB0aGlzLl9jYW52YXMgPSBjYW52YXM7XG59XG5cbkNyZWF0ZVNoYXBlSGFuZGxlci4kaW5qZWN0ID0gWyAnY2FudmFzJyBdO1xuXG5cbi8vIGFwaSAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cblxuLyoqXG4gKiBBcHBlbmRzIGEgc2hhcGUgdG8gYSB0YXJnZXQgc2hhcGVcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gY29udGV4dFxuICogQHBhcmFtIHtkanMubW9kZWwuQmFzZX0gY29udGV4dC5wYXJlbnQgdGhlIHBhcmVudCBvYmplY3RcbiAqIEBwYXJhbSB7UG9pbnR9IGNvbnRleHQucG9zaXRpb24gcG9zaXRpb24gb2YgdGhlIG5ldyBlbGVtZW50XG4gKi9cbkNyZWF0ZVNoYXBlSGFuZGxlci5wcm90b3R5cGUuZXhlY3V0ZSA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcblxuICB2YXIgc2hhcGUgPSBjb250ZXh0LnNoYXBlLFxuICAgICAgcG9zaXRpb25PckJvdW5kcyA9IGNvbnRleHQucG9zaXRpb24sXG4gICAgICBwYXJlbnQgPSBjb250ZXh0LnBhcmVudCxcbiAgICAgIHBhcmVudEluZGV4ID0gY29udGV4dC5wYXJlbnRJbmRleDtcblxuICBpZiAoIXBhcmVudCkge1xuICAgIHRocm93IG5ldyBFcnJvcigncGFyZW50IHJlcXVpcmVkJyk7XG4gIH1cblxuICBpZiAoIXBvc2l0aW9uT3JCb3VuZHMpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Bvc2l0aW9uIHJlcXVpcmVkJyk7XG4gIH1cblxuICAvLyAoMSkgYWRkIGF0IGV2ZW50IGNlbnRlciBwb3NpdGlvbiBfb3JfIGF0IGdpdmVuIGJvdW5kc1xuICBpZiAocG9zaXRpb25PckJvdW5kcy53aWR0aCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgYXNzaWduKHNoYXBlLCBwb3NpdGlvbk9yQm91bmRzKTtcbiAgfSBlbHNlIHtcbiAgICBhc3NpZ24oc2hhcGUsIHtcbiAgICAgIHg6IHBvc2l0aW9uT3JCb3VuZHMueCAtIHJvdW5kKHNoYXBlLndpZHRoIC8gMiksXG4gICAgICB5OiBwb3NpdGlvbk9yQm91bmRzLnkgLSByb3VuZChzaGFwZS5oZWlnaHQgLyAyKVxuICAgIH0pO1xuICB9XG5cbiAgLy8gKDIpIGFkZCB0byBjYW52YXNcbiAgdGhpcy5fY2FudmFzLmFkZFNoYXBlKHNoYXBlLCBwYXJlbnQsIHBhcmVudEluZGV4KTtcblxuICByZXR1cm4gc2hhcGU7XG59O1xuXG5cbi8qKlxuICogVW5kbyBhcHBlbmQgYnkgcmVtb3ZpbmcgdGhlIHNoYXBlXG4gKi9cbkNyZWF0ZVNoYXBlSGFuZGxlci5wcm90b3R5cGUucmV2ZXJ0ID0gZnVuY3Rpb24oY29udGV4dCkge1xuXG4gIHZhciBzaGFwZSA9IGNvbnRleHQuc2hhcGU7XG5cbiAgLy8gKDMpIHJlbW92ZSBmb3JtIGNhbnZhc1xuICB0aGlzLl9jYW52YXMucmVtb3ZlU2hhcGUoc2hhcGUpO1xuXG4gIHJldHVybiBzaGFwZTtcbn07IiwiaW1wb3J0IGluaGVyaXRzIGZyb20gJ2luaGVyaXRzJztcblxuaW1wb3J0IENyZWF0ZVNoYXBlSGFuZGxlciBmcm9tICcuL0NyZWF0ZVNoYXBlSGFuZGxlcic7XG5cblxuLyoqXG4gKiBBIGhhbmRsZXIgdGhhdCBhdHRhY2hlcyBhIGxhYmVsIHRvIGEgZ2l2ZW4gdGFyZ2V0IHNoYXBlLlxuICpcbiAqIEBwYXJhbSB7Q2FudmFzfSBjYW52YXNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ3JlYXRlTGFiZWxIYW5kbGVyKGNhbnZhcykge1xuICBDcmVhdGVTaGFwZUhhbmRsZXIuY2FsbCh0aGlzLCBjYW52YXMpO1xufVxuXG5pbmhlcml0cyhDcmVhdGVMYWJlbEhhbmRsZXIsIENyZWF0ZVNoYXBlSGFuZGxlcik7XG5cbkNyZWF0ZUxhYmVsSGFuZGxlci4kaW5qZWN0ID0gWyAnY2FudmFzJyBdO1xuXG5cbi8vIGFwaSAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cblxudmFyIG9yaWdpbmFsRXhlY3V0ZSA9IENyZWF0ZVNoYXBlSGFuZGxlci5wcm90b3R5cGUuZXhlY3V0ZTtcblxuLyoqXG4gKiBBcHBlbmRzIGEgbGFiZWwgdG8gYSB0YXJnZXQgc2hhcGUuXG4gKlxuICogQG1ldGhvZCBDcmVhdGVMYWJlbEhhbmRsZXIjZXhlY3V0ZVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb250ZXh0XG4gKiBAcGFyYW0ge0VsZW1lbnREZXNjcmlwdG9yfSBjb250ZXh0LnRhcmdldCB0aGUgZWxlbWVudCB0aGUgbGFiZWwgaXMgYXR0YWNoZWQgdG9cbiAqIEBwYXJhbSB7RWxlbWVudERlc2NyaXB0b3J9IGNvbnRleHQucGFyZW50IHRoZSBwYXJlbnQgb2JqZWN0XG4gKiBAcGFyYW0ge1BvaW50fSBjb250ZXh0LnBvc2l0aW9uIHBvc2l0aW9uIG9mIHRoZSBuZXcgZWxlbWVudFxuICovXG5DcmVhdGVMYWJlbEhhbmRsZXIucHJvdG90eXBlLmV4ZWN1dGUgPSBmdW5jdGlvbihjb250ZXh0KSB7XG5cbiAgdmFyIGxhYmVsID0gY29udGV4dC5zaGFwZTtcblxuICBlbnN1cmVWYWxpZERpbWVuc2lvbnMobGFiZWwpO1xuXG4gIGxhYmVsLmxhYmVsVGFyZ2V0ID0gY29udGV4dC5sYWJlbFRhcmdldDtcblxuICByZXR1cm4gb3JpZ2luYWxFeGVjdXRlLmNhbGwodGhpcywgY29udGV4dCk7XG59O1xuXG52YXIgb3JpZ2luYWxSZXZlcnQgPSBDcmVhdGVTaGFwZUhhbmRsZXIucHJvdG90eXBlLnJldmVydDtcblxuLyoqXG4gKiBVbmRvIGFwcGVuZCBieSByZW1vdmluZyB0aGUgc2hhcGVcbiAqL1xuQ3JlYXRlTGFiZWxIYW5kbGVyLnByb3RvdHlwZS5yZXZlcnQgPSBmdW5jdGlvbihjb250ZXh0KSB7XG4gIGNvbnRleHQuc2hhcGUubGFiZWxUYXJnZXQgPSBudWxsO1xuXG4gIHJldHVybiBvcmlnaW5hbFJldmVydC5jYWxsKHRoaXMsIGNvbnRleHQpO1xufTtcblxuXG4vLyBoZWxwZXJzIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuZnVuY3Rpb24gZW5zdXJlVmFsaWREaW1lbnNpb25zKGxhYmVsKSB7XG5cbiAgLy8gbWFrZSBzdXJlIGEgbGFiZWwgaGFzIHZhbGlkIHsgd2lkdGgsIGhlaWdodCB9IGRpbWVuc2lvbnNcbiAgWyAnd2lkdGgnLCAnaGVpZ2h0JyBdLmZvckVhY2goZnVuY3Rpb24ocHJvcCkge1xuICAgIGlmICh0eXBlb2YgbGFiZWxbcHJvcF0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBsYWJlbFtwcm9wXSA9IDA7XG4gICAgfVxuICB9KTtcbn0iLCJpbXBvcnQge1xuICBhZGQgYXMgY29sbGVjdGlvbkFkZCxcbiAgaW5kZXhPZiBhcyBjb2xsZWN0aW9uSWR4XG59IGZyb20gJy4uLy4uLy4uL3V0aWwvQ29sbGVjdGlvbnMnO1xuXG5cbi8qKlxuICogQSBoYW5kbGVyIHRoYXQgaW1wbGVtZW50cyByZXZlcnNpYmxlIGRlbGV0aW9uIG9mIENvbm5lY3Rpb25zLlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBEZWxldGVDb25uZWN0aW9uSGFuZGxlcihjYW52YXMsIG1vZGVsaW5nKSB7XG4gIHRoaXMuX2NhbnZhcyA9IGNhbnZhcztcbiAgdGhpcy5fbW9kZWxpbmcgPSBtb2RlbGluZztcbn1cblxuRGVsZXRlQ29ubmVjdGlvbkhhbmRsZXIuJGluamVjdCA9IFtcbiAgJ2NhbnZhcycsXG4gICdtb2RlbGluZydcbl07XG5cblxuRGVsZXRlQ29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLmV4ZWN1dGUgPSBmdW5jdGlvbihjb250ZXh0KSB7XG5cbiAgdmFyIGNvbm5lY3Rpb24gPSBjb250ZXh0LmNvbm5lY3Rpb24sXG4gICAgICBwYXJlbnQgPSBjb25uZWN0aW9uLnBhcmVudDtcblxuICBjb250ZXh0LnBhcmVudCA9IHBhcmVudDtcblxuICAvLyByZW1lbWJlciBjb250YWlubWVudFxuICBjb250ZXh0LnBhcmVudEluZGV4ID0gY29sbGVjdGlvbklkeChwYXJlbnQuY2hpbGRyZW4sIGNvbm5lY3Rpb24pO1xuXG4gIGNvbnRleHQuc291cmNlID0gY29ubmVjdGlvbi5zb3VyY2U7XG4gIGNvbnRleHQudGFyZ2V0ID0gY29ubmVjdGlvbi50YXJnZXQ7XG5cbiAgdGhpcy5fY2FudmFzLnJlbW92ZUNvbm5lY3Rpb24oY29ubmVjdGlvbik7XG5cbiAgY29ubmVjdGlvbi5zb3VyY2UgPSBudWxsO1xuICBjb25uZWN0aW9uLnRhcmdldCA9IG51bGw7XG5cbiAgcmV0dXJuIGNvbm5lY3Rpb247XG59O1xuXG4vKipcbiAqIENvbW1hbmQgcmV2ZXJ0IGltcGxlbWVudGF0aW9uLlxuICovXG5EZWxldGVDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUucmV2ZXJ0ID0gZnVuY3Rpb24oY29udGV4dCkge1xuXG4gIHZhciBjb25uZWN0aW9uID0gY29udGV4dC5jb25uZWN0aW9uLFxuICAgICAgcGFyZW50ID0gY29udGV4dC5wYXJlbnQsXG4gICAgICBwYXJlbnRJbmRleCA9IGNvbnRleHQucGFyZW50SW5kZXg7XG5cbiAgY29ubmVjdGlvbi5zb3VyY2UgPSBjb250ZXh0LnNvdXJjZTtcbiAgY29ubmVjdGlvbi50YXJnZXQgPSBjb250ZXh0LnRhcmdldDtcblxuICAvLyByZXN0b3JlIGNvbnRhaW5tZW50XG4gIGNvbGxlY3Rpb25BZGQocGFyZW50LmNoaWxkcmVuLCBjb25uZWN0aW9uLCBwYXJlbnRJbmRleCk7XG5cbiAgdGhpcy5fY2FudmFzLmFkZENvbm5lY3Rpb24oY29ubmVjdGlvbiwgcGFyZW50KTtcblxuICByZXR1cm4gY29ubmVjdGlvbjtcbn07XG4iLCJpbXBvcnQgeyBmb3JFYWNoIH0gZnJvbSAnbWluLWRhc2gnO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIERlbGV0ZUVsZW1lbnRzSGFuZGxlcihtb2RlbGluZywgZWxlbWVudFJlZ2lzdHJ5KSB7XG4gIHRoaXMuX21vZGVsaW5nID0gbW9kZWxpbmc7XG4gIHRoaXMuX2VsZW1lbnRSZWdpc3RyeSA9IGVsZW1lbnRSZWdpc3RyeTtcbn1cblxuRGVsZXRlRWxlbWVudHNIYW5kbGVyLiRpbmplY3QgPSBbXG4gICdtb2RlbGluZycsXG4gICdlbGVtZW50UmVnaXN0cnknXG5dO1xuXG5cbkRlbGV0ZUVsZW1lbnRzSGFuZGxlci5wcm90b3R5cGUucG9zdEV4ZWN1dGUgPSBmdW5jdGlvbihjb250ZXh0KSB7XG5cbiAgdmFyIG1vZGVsaW5nID0gdGhpcy5fbW9kZWxpbmcsXG4gICAgICBlbGVtZW50UmVnaXN0cnkgPSB0aGlzLl9lbGVtZW50UmVnaXN0cnksXG4gICAgICBlbGVtZW50cyA9IGNvbnRleHQuZWxlbWVudHM7XG5cbiAgZm9yRWFjaChlbGVtZW50cywgZnVuY3Rpb24oZWxlbWVudCkge1xuXG4gICAgLy8gZWxlbWVudCBtYXkgaGF2ZSBiZWVuIHJlbW92ZWQgd2l0aCBwcmV2aW91c1xuICAgIC8vIHJlbW92ZSBvcGVyYXRpb25zIGFscmVhZHkgKGUuZy4gaW4gY2FzZSBvZiBuZXN0aW5nKVxuICAgIGlmICghZWxlbWVudFJlZ2lzdHJ5LmdldChlbGVtZW50LmlkKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChlbGVtZW50LndheXBvaW50cykge1xuICAgICAgbW9kZWxpbmcucmVtb3ZlQ29ubmVjdGlvbihlbGVtZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgbW9kZWxpbmcucmVtb3ZlU2hhcGUoZWxlbWVudCk7XG4gICAgfVxuICB9KTtcbn07IiwiaW1wb3J0IHtcbiAgYWRkIGFzIGNvbGxlY3Rpb25BZGQsXG4gIGluZGV4T2YgYXMgY29sbGVjdGlvbklkeFxufSBmcm9tICcuLi8uLi8uLi91dGlsL0NvbGxlY3Rpb25zJztcblxuaW1wb3J0IHsgc2F2ZUNsZWFyIH0gZnJvbSAnLi4vLi4vLi4vdXRpbC9SZW1vdmFsJztcblxuXG4vKipcbiAqIEEgaGFuZGxlciB0aGF0IGltcGxlbWVudHMgcmV2ZXJzaWJsZSBkZWxldGlvbiBvZiBzaGFwZXMuXG4gKlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBEZWxldGVTaGFwZUhhbmRsZXIoY2FudmFzLCBtb2RlbGluZykge1xuICB0aGlzLl9jYW52YXMgPSBjYW52YXM7XG4gIHRoaXMuX21vZGVsaW5nID0gbW9kZWxpbmc7XG59XG5cbkRlbGV0ZVNoYXBlSGFuZGxlci4kaW5qZWN0ID0gWyAnY2FudmFzJywgJ21vZGVsaW5nJyBdO1xuXG5cbi8qKlxuICogLSBSZW1vdmUgY29ubmVjdGlvbnNcbiAqIC0gUmVtb3ZlIGFsbCBkaXJlY3QgY2hpbGRyZW5cbiAqL1xuRGVsZXRlU2hhcGVIYW5kbGVyLnByb3RvdHlwZS5wcmVFeGVjdXRlID0gZnVuY3Rpb24oY29udGV4dCkge1xuXG4gIHZhciBtb2RlbGluZyA9IHRoaXMuX21vZGVsaW5nO1xuXG4gIHZhciBzaGFwZSA9IGNvbnRleHQuc2hhcGU7XG5cbiAgLy8gcmVtb3ZlIGNvbm5lY3Rpb25zXG4gIHNhdmVDbGVhcihzaGFwZS5pbmNvbWluZywgZnVuY3Rpb24oY29ubmVjdGlvbikge1xuXG4gICAgLy8gVG8gbWFrZSBzdXJlIHRoYXQgdGhlIGNvbm5lY3Rpb24gaXNuJ3QgcmVtb3ZlZCB0d2ljZVxuICAgIC8vIEZvciBleGFtcGxlIGlmIGEgY29udGFpbmVyIGlzIHJlbW92ZWRcbiAgICBtb2RlbGluZy5yZW1vdmVDb25uZWN0aW9uKGNvbm5lY3Rpb24sIHsgbmVzdGVkOiB0cnVlIH0pO1xuICB9KTtcblxuICBzYXZlQ2xlYXIoc2hhcGUub3V0Z29pbmcsIGZ1bmN0aW9uKGNvbm5lY3Rpb24pIHtcbiAgICBtb2RlbGluZy5yZW1vdmVDb25uZWN0aW9uKGNvbm5lY3Rpb24sIHsgbmVzdGVkOiB0cnVlIH0pO1xuICB9KTtcblxuICAvLyByZW1vdmUgY2hpbGQgc2hhcGVzIGFuZCBjb25uZWN0aW9uc1xuICBzYXZlQ2xlYXIoc2hhcGUuY2hpbGRyZW4sIGZ1bmN0aW9uKGNoaWxkKSB7XG4gICAgaWYgKGlzQ29ubmVjdGlvbihjaGlsZCkpIHtcbiAgICAgIG1vZGVsaW5nLnJlbW92ZUNvbm5lY3Rpb24oY2hpbGQsIHsgbmVzdGVkOiB0cnVlIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBtb2RlbGluZy5yZW1vdmVTaGFwZShjaGlsZCwgeyBuZXN0ZWQ6IHRydWUgfSk7XG4gICAgfVxuICB9KTtcbn07XG5cbi8qKlxuICogUmVtb3ZlIHNoYXBlIGFuZCByZW1lbWJlciB0aGUgcGFyZW50XG4gKi9cbkRlbGV0ZVNoYXBlSGFuZGxlci5wcm90b3R5cGUuZXhlY3V0ZSA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcbiAgdmFyIGNhbnZhcyA9IHRoaXMuX2NhbnZhcztcblxuICB2YXIgc2hhcGUgPSBjb250ZXh0LnNoYXBlLFxuICAgICAgb2xkUGFyZW50ID0gc2hhcGUucGFyZW50O1xuXG4gIGNvbnRleHQub2xkUGFyZW50ID0gb2xkUGFyZW50O1xuXG4gIC8vIHJlbW92ZSBjb250YWlubWVudFxuICBjb250ZXh0Lm9sZFBhcmVudEluZGV4ID0gY29sbGVjdGlvbklkeChvbGRQYXJlbnQuY2hpbGRyZW4sIHNoYXBlKTtcblxuICAvLyByZW1vdmUgc2hhcGVcbiAgY2FudmFzLnJlbW92ZVNoYXBlKHNoYXBlKTtcblxuICByZXR1cm4gc2hhcGU7XG59O1xuXG5cbi8qKlxuICogQ29tbWFuZCByZXZlcnQgaW1wbGVtZW50YXRpb25cbiAqL1xuRGVsZXRlU2hhcGVIYW5kbGVyLnByb3RvdHlwZS5yZXZlcnQgPSBmdW5jdGlvbihjb250ZXh0KSB7XG5cbiAgdmFyIGNhbnZhcyA9IHRoaXMuX2NhbnZhcztcblxuICB2YXIgc2hhcGUgPSBjb250ZXh0LnNoYXBlLFxuICAgICAgb2xkUGFyZW50ID0gY29udGV4dC5vbGRQYXJlbnQsXG4gICAgICBvbGRQYXJlbnRJbmRleCA9IGNvbnRleHQub2xkUGFyZW50SW5kZXg7XG5cbiAgLy8gcmVzdG9yZSBjb250YWlubWVudFxuICBjb2xsZWN0aW9uQWRkKG9sZFBhcmVudC5jaGlsZHJlbiwgc2hhcGUsIG9sZFBhcmVudEluZGV4KTtcblxuICBjYW52YXMuYWRkU2hhcGUoc2hhcGUsIG9sZFBhcmVudCk7XG5cbiAgcmV0dXJuIHNoYXBlO1xufTtcblxuZnVuY3Rpb24gaXNDb25uZWN0aW9uKGVsZW1lbnQpIHtcbiAgcmV0dXJuIGVsZW1lbnQud2F5cG9pbnRzO1xufVxuIiwiaW1wb3J0IHtcbiAgZm9yRWFjaCxcbiAgc29ydEJ5XG59IGZyb20gJ21pbi1kYXNoJztcblxuXG4vKipcbiAqIEEgaGFuZGxlciB0aGF0IGRpc3RyaWJ1dGVzIGVsZW1lbnRzIGV2ZW5seS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gRGlzdHJpYnV0ZUVsZW1lbnRzKG1vZGVsaW5nKSB7XG4gIHRoaXMuX21vZGVsaW5nID0gbW9kZWxpbmc7XG59XG5cbkRpc3RyaWJ1dGVFbGVtZW50cy4kaW5qZWN0ID0gWyAnbW9kZWxpbmcnIF07XG5cbnZhciBPRkZfQVhJUyA9IHtcbiAgeDogJ3knLFxuICB5OiAneCdcbn07XG5cbkRpc3RyaWJ1dGVFbGVtZW50cy5wcm90b3R5cGUucHJlRXhlY3V0ZSA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcbiAgdmFyIG1vZGVsaW5nID0gdGhpcy5fbW9kZWxpbmc7XG5cbiAgdmFyIGdyb3VwcyA9IGNvbnRleHQuZ3JvdXBzLFxuICAgICAgYXhpcyA9IGNvbnRleHQuYXhpcyxcbiAgICAgIGRpbWVuc2lvbiA9IGNvbnRleHQuZGltZW5zaW9uO1xuXG4gIGZ1bmN0aW9uIHVwZGF0ZVJhbmdlKGdyb3VwLCBlbGVtZW50KSB7XG4gICAgZ3JvdXAucmFuZ2UubWluID0gTWF0aC5taW4oZWxlbWVudFtheGlzXSwgZ3JvdXAucmFuZ2UubWluKTtcbiAgICBncm91cC5yYW5nZS5tYXggPSBNYXRoLm1heChlbGVtZW50W2F4aXNdICsgZWxlbWVudFtkaW1lbnNpb25dLCBncm91cC5yYW5nZS5tYXgpO1xuICB9XG5cbiAgZnVuY3Rpb24gY2VudGVyKGVsZW1lbnQpIHtcbiAgICByZXR1cm4gZWxlbWVudFtheGlzXSArIGVsZW1lbnRbZGltZW5zaW9uXSAvIDI7XG4gIH1cblxuICBmdW5jdGlvbiBsYXN0SWR4KGFycikge1xuICAgIHJldHVybiBhcnIubGVuZ3RoIC0gMTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJhbmdlRGlmZihyYW5nZSkge1xuICAgIHJldHVybiByYW5nZS5tYXggLSByYW5nZS5taW47XG4gIH1cblxuICBmdW5jdGlvbiBjZW50ZXJFbGVtZW50KHJlZkNlbnRlciwgZWxlbWVudCkge1xuICAgIHZhciBkZWx0YSA9IHsgeTogMCB9O1xuXG4gICAgZGVsdGFbYXhpc10gPSByZWZDZW50ZXIgLSBjZW50ZXIoZWxlbWVudCk7XG5cbiAgICBpZiAoZGVsdGFbYXhpc10pIHtcblxuICAgICAgZGVsdGFbT0ZGX0FYSVNbYXhpc11dID0gMDtcblxuICAgICAgbW9kZWxpbmcubW92ZUVsZW1lbnRzKFsgZWxlbWVudCBdLCBkZWx0YSwgZWxlbWVudC5wYXJlbnQpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBmaXJzdEdyb3VwID0gZ3JvdXBzWzBdLFxuICAgICAgbGFzdEdyb3VwSWR4ID0gbGFzdElkeChncm91cHMpLFxuICAgICAgbGFzdEdyb3VwID0gZ3JvdXBzWyBsYXN0R3JvdXBJZHggXTtcblxuICB2YXIgbWFyZ2luLFxuICAgICAgc3BhY2VJbkJldHdlZW4sXG4gICAgICBncm91cHNTaXplID0gMDsgLy8gdGhlIHNpemUgb2YgZWFjaCByYW5nZVxuXG4gIGZvckVhY2goZ3JvdXBzLCBmdW5jdGlvbihncm91cCwgaWR4KSB7XG4gICAgdmFyIHNvcnRlZEVsZW1lbnRzLFxuICAgICAgICByZWZFbGVtLFxuICAgICAgICByZWZDZW50ZXI7XG5cbiAgICBpZiAoZ3JvdXAuZWxlbWVudHMubGVuZ3RoIDwgMikge1xuICAgICAgaWYgKGlkeCAmJiBpZHggIT09IGdyb3Vwcy5sZW5ndGggLSAxKSB7XG4gICAgICAgIHVwZGF0ZVJhbmdlKGdyb3VwLCBncm91cC5lbGVtZW50c1swXSk7XG5cbiAgICAgICAgZ3JvdXBzU2l6ZSArPSByYW5nZURpZmYoZ3JvdXAucmFuZ2UpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHNvcnRlZEVsZW1lbnRzID0gc29ydEJ5KGdyb3VwLmVsZW1lbnRzLCBheGlzKTtcblxuICAgIHJlZkVsZW0gPSBzb3J0ZWRFbGVtZW50c1swXTtcblxuICAgIGlmIChpZHggPT09IGxhc3RHcm91cElkeCkge1xuICAgICAgcmVmRWxlbSA9IHNvcnRlZEVsZW1lbnRzW2xhc3RJZHgoc29ydGVkRWxlbWVudHMpXTtcbiAgICB9XG5cbiAgICByZWZDZW50ZXIgPSBjZW50ZXIocmVmRWxlbSk7XG5cbiAgICAvLyB3YW5uYSB1cGRhdGUgdGhlIHJhbmdlcyBhZnRlciB0aGUgc2hhcGVzIGhhdmUgYmVlbiBjZW50ZXJlZFxuICAgIGdyb3VwLnJhbmdlID0gbnVsbDtcblxuICAgIGZvckVhY2goc29ydGVkRWxlbWVudHMsIGZ1bmN0aW9uKGVsZW1lbnQpIHtcblxuICAgICAgY2VudGVyRWxlbWVudChyZWZDZW50ZXIsIGVsZW1lbnQpO1xuXG4gICAgICBpZiAoZ3JvdXAucmFuZ2UgPT09IG51bGwpIHtcbiAgICAgICAgZ3JvdXAucmFuZ2UgPSB7XG4gICAgICAgICAgbWluOiBlbGVtZW50W2F4aXNdLFxuICAgICAgICAgIG1heDogZWxlbWVudFtheGlzXSArIGVsZW1lbnRbZGltZW5zaW9uXVxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gdXBkYXRlIGdyb3VwJ3MgcmFuZ2UgYWZ0ZXIgY2VudGVyaW5nIHRoZSByYW5nZSBlbGVtZW50c1xuICAgICAgdXBkYXRlUmFuZ2UoZ3JvdXAsIGVsZW1lbnQpO1xuICAgIH0pO1xuXG4gICAgaWYgKGlkeCAmJiBpZHggIT09IGdyb3Vwcy5sZW5ndGggLSAxKSB7XG4gICAgICBncm91cHNTaXplICs9IHJhbmdlRGlmZihncm91cC5yYW5nZSk7XG4gICAgfVxuICB9KTtcblxuICBzcGFjZUluQmV0d2VlbiA9IE1hdGguYWJzKGxhc3RHcm91cC5yYW5nZS5taW4gLSBmaXJzdEdyb3VwLnJhbmdlLm1heCk7XG5cbiAgbWFyZ2luID0gTWF0aC5yb3VuZCgoc3BhY2VJbkJldHdlZW4gLSBncm91cHNTaXplKSAvIChncm91cHMubGVuZ3RoIC0gMSkpO1xuXG4gIGlmIChtYXJnaW4gPCBncm91cHMubGVuZ3RoIC0gMSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGZvckVhY2goZ3JvdXBzLCBmdW5jdGlvbihncm91cCwgZ3JvdXBJZHgpIHtcbiAgICB2YXIgZGVsdGEgPSB7fSxcbiAgICAgICAgcHJldkdyb3VwO1xuXG4gICAgaWYgKGdyb3VwID09PSBmaXJzdEdyb3VwIHx8IGdyb3VwID09PSBsYXN0R3JvdXApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBwcmV2R3JvdXAgPSBncm91cHNbZ3JvdXBJZHggLSAxXTtcblxuICAgIGdyb3VwLnJhbmdlLm1heCA9IDA7XG5cbiAgICBmb3JFYWNoKGdyb3VwLmVsZW1lbnRzLCBmdW5jdGlvbihlbGVtZW50LCBpZHgpIHtcbiAgICAgIGRlbHRhW09GRl9BWElTW2F4aXNdXSA9IDA7XG4gICAgICBkZWx0YVtheGlzXSA9IChwcmV2R3JvdXAucmFuZ2UubWF4IC0gZWxlbWVudFtheGlzXSkgKyBtYXJnaW47XG5cbiAgICAgIGlmIChncm91cC5yYW5nZS5taW4gIT09IGVsZW1lbnRbYXhpc10pIHtcbiAgICAgICAgZGVsdGFbYXhpc10gKz0gZWxlbWVudFtheGlzXSAtIGdyb3VwLnJhbmdlLm1pbjtcbiAgICAgIH1cblxuICAgICAgaWYgKGRlbHRhW2F4aXNdKSB7XG4gICAgICAgIG1vZGVsaW5nLm1vdmVFbGVtZW50cyhbIGVsZW1lbnQgXSwgZGVsdGEsIGVsZW1lbnQucGFyZW50KTtcbiAgICAgIH1cblxuICAgICAgZ3JvdXAucmFuZ2UubWF4ID0gTWF0aC5tYXgoZWxlbWVudFtheGlzXSArIGVsZW1lbnRbZGltZW5zaW9uXSwgaWR4ID8gZ3JvdXAucmFuZ2UubWF4IDogMCk7XG4gICAgfSk7XG4gIH0pO1xufTtcblxuRGlzdHJpYnV0ZUVsZW1lbnRzLnByb3RvdHlwZS5wb3N0RXhlY3V0ZSA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcblxufTtcbiIsImltcG9ydCB7IGFzc2lnbiB9IGZyb20gJ21pbi1kYXNoJztcblxuXG4vKipcbiAqIEEgaGFuZGxlciB0aGF0IGltcGxlbWVudHMgcmV2ZXJzaWJsZSBtb3Zpbmcgb2Ygc2hhcGVzLlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBMYXlvdXRDb25uZWN0aW9uSGFuZGxlcihsYXlvdXRlciwgY2FudmFzKSB7XG4gIHRoaXMuX2xheW91dGVyID0gbGF5b3V0ZXI7XG4gIHRoaXMuX2NhbnZhcyA9IGNhbnZhcztcbn1cblxuTGF5b3V0Q29ubmVjdGlvbkhhbmRsZXIuJGluamVjdCA9IFsgJ2xheW91dGVyJywgJ2NhbnZhcycgXTtcblxuTGF5b3V0Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLmV4ZWN1dGUgPSBmdW5jdGlvbihjb250ZXh0KSB7XG5cbiAgdmFyIGNvbm5lY3Rpb24gPSBjb250ZXh0LmNvbm5lY3Rpb247XG5cbiAgdmFyIG9sZFdheXBvaW50cyA9IGNvbm5lY3Rpb24ud2F5cG9pbnRzO1xuXG4gIGFzc2lnbihjb250ZXh0LCB7XG4gICAgb2xkV2F5cG9pbnRzOiBvbGRXYXlwb2ludHNcbiAgfSk7XG5cbiAgY29ubmVjdGlvbi53YXlwb2ludHMgPSB0aGlzLl9sYXlvdXRlci5sYXlvdXRDb25uZWN0aW9uKGNvbm5lY3Rpb24sIGNvbnRleHQuaGludHMpO1xuXG4gIHJldHVybiBjb25uZWN0aW9uO1xufTtcblxuTGF5b3V0Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLnJldmVydCA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcblxuICB2YXIgY29ubmVjdGlvbiA9IGNvbnRleHQuY29ubmVjdGlvbjtcblxuICBjb25uZWN0aW9uLndheXBvaW50cyA9IGNvbnRleHQub2xkV2F5cG9pbnRzO1xuXG4gIHJldHVybiBjb25uZWN0aW9uO1xufTtcbiIsImltcG9ydCB7IGZvckVhY2ggfSBmcm9tICdtaW4tZGFzaCc7XG5cblxuaW1wb3J0IHtcbiAgYWRkIGFzIGNvbGxlY3Rpb25BZGQsXG4gIHJlbW92ZSBhcyBjb2xsZWN0aW9uUmVtb3ZlXG59IGZyb20gJy4uLy4uLy4uL3V0aWwvQ29sbGVjdGlvbnMnO1xuXG5cbi8qKlxuICogQSBoYW5kbGVyIHRoYXQgaW1wbGVtZW50cyByZXZlcnNpYmxlIG1vdmluZyBvZiBjb25uZWN0aW9ucy5cbiAqXG4gKiBUaGUgaGFuZGxlciBkaWZmZXJzIGZyb20gdGhlIGxheW91dCBjb25uZWN0aW9uIGhhbmRsZXIgaW4gYSBzZW5zZVxuICogdGhhdCBpdCBwcmVzZXJ2ZXMgdGhlIGNvbm5lY3Rpb24gbGF5b3V0LlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBNb3ZlQ29ubmVjdGlvbkhhbmRsZXIoKSB7IH1cblxuXG5Nb3ZlQ29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLmV4ZWN1dGUgPSBmdW5jdGlvbihjb250ZXh0KSB7XG5cbiAgdmFyIGNvbm5lY3Rpb24gPSBjb250ZXh0LmNvbm5lY3Rpb24sXG4gICAgICBkZWx0YSA9IGNvbnRleHQuZGVsdGE7XG5cbiAgdmFyIG5ld1BhcmVudCA9IGNvbnRleHQubmV3UGFyZW50IHx8IGNvbm5lY3Rpb24ucGFyZW50LFxuICAgICAgbmV3UGFyZW50SW5kZXggPSBjb250ZXh0Lm5ld1BhcmVudEluZGV4LFxuICAgICAgb2xkUGFyZW50ID0gY29ubmVjdGlvbi5wYXJlbnQ7XG5cbiAgLy8gc2F2ZSBvbGQgcGFyZW50IGluIGNvbnRleHRcbiAgY29udGV4dC5vbGRQYXJlbnQgPSBvbGRQYXJlbnQ7XG4gIGNvbnRleHQub2xkUGFyZW50SW5kZXggPSBjb2xsZWN0aW9uUmVtb3ZlKG9sZFBhcmVudC5jaGlsZHJlbiwgY29ubmVjdGlvbik7XG5cbiAgLy8gYWRkIHRvIG5ldyBwYXJlbnQgYXQgcG9zaXRpb25cbiAgY29sbGVjdGlvbkFkZChuZXdQYXJlbnQuY2hpbGRyZW4sIGNvbm5lY3Rpb24sIG5ld1BhcmVudEluZGV4KTtcblxuICAvLyB1cGRhdGUgcGFyZW50XG4gIGNvbm5lY3Rpb24ucGFyZW50ID0gbmV3UGFyZW50O1xuXG4gIC8vIHVwZGF0ZSB3YXlwb2ludCBwb3NpdGlvbnNcbiAgZm9yRWFjaChjb25uZWN0aW9uLndheXBvaW50cywgZnVuY3Rpb24ocCkge1xuICAgIHAueCArPSBkZWx0YS54O1xuICAgIHAueSArPSBkZWx0YS55O1xuXG4gICAgaWYgKHAub3JpZ2luYWwpIHtcbiAgICAgIHAub3JpZ2luYWwueCArPSBkZWx0YS54O1xuICAgICAgcC5vcmlnaW5hbC55ICs9IGRlbHRhLnk7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gY29ubmVjdGlvbjtcbn07XG5cbk1vdmVDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUucmV2ZXJ0ID0gZnVuY3Rpb24oY29udGV4dCkge1xuXG4gIHZhciBjb25uZWN0aW9uID0gY29udGV4dC5jb25uZWN0aW9uLFxuICAgICAgbmV3UGFyZW50ID0gY29ubmVjdGlvbi5wYXJlbnQsXG4gICAgICBvbGRQYXJlbnQgPSBjb250ZXh0Lm9sZFBhcmVudCxcbiAgICAgIG9sZFBhcmVudEluZGV4ID0gY29udGV4dC5vbGRQYXJlbnRJbmRleCxcbiAgICAgIGRlbHRhID0gY29udGV4dC5kZWx0YTtcblxuICAvLyByZW1vdmUgZnJvbSBuZXdQYXJlbnRcbiAgY29sbGVjdGlvblJlbW92ZShuZXdQYXJlbnQuY2hpbGRyZW4sIGNvbm5lY3Rpb24pO1xuXG4gIC8vIHJlc3RvcmUgcHJldmlvdXMgbG9jYXRpb24gaW4gb2xkIHBhcmVudFxuICBjb2xsZWN0aW9uQWRkKG9sZFBhcmVudC5jaGlsZHJlbiwgY29ubmVjdGlvbiwgb2xkUGFyZW50SW5kZXgpO1xuXG4gIC8vIHJlc3RvcmUgcGFyZW50XG4gIGNvbm5lY3Rpb24ucGFyZW50ID0gb2xkUGFyZW50O1xuXG4gIC8vIHJldmVydCB0byBvbGQgd2F5cG9pbnQgcG9zaXRpb25zXG4gIGZvckVhY2goY29ubmVjdGlvbi53YXlwb2ludHMsIGZ1bmN0aW9uKHApIHtcbiAgICBwLnggLT0gZGVsdGEueDtcbiAgICBwLnkgLT0gZGVsdGEueTtcblxuICAgIGlmIChwLm9yaWdpbmFsKSB7XG4gICAgICBwLm9yaWdpbmFsLnggLT0gZGVsdGEueDtcbiAgICAgIHAub3JpZ2luYWwueSAtPSBkZWx0YS55O1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIGNvbm5lY3Rpb247XG59OyIsImltcG9ydCB7XG4gIGdldE5ld0F0dGFjaFBvaW50XG59IGZyb20gJy4uLy4uLy4uLy4uL3V0aWwvQXR0YWNoVXRpbCc7XG5cbmltcG9ydCB7XG4gIGdldE9yaWVudGF0aW9uXG59IGZyb20gJy4uLy4uLy4uLy4uL2xheW91dC9MYXlvdXRVdGlsJztcblxuaW1wb3J0IHtcbiAgZmlsdGVyLFxuICBtYXBcbn0gZnJvbSAnbWluLWRhc2gnO1xuXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRSZXNpemVkU291cmNlQW5jaG9yKGNvbm5lY3Rpb24sIHNoYXBlLCBvbGRCb3VuZHMpIHtcblxuICB2YXIgd2F5cG9pbnRzID0gc2FmZUdldFdheXBvaW50cyhjb25uZWN0aW9uKSxcbiAgICAgIHdheXBvaW50c0luc2lkZU5ld0JvdW5kcyA9IGdldFdheXBvaW50c0luc2lkZUJvdW5kcyh3YXlwb2ludHMsIHNoYXBlKSxcbiAgICAgIG9sZEFuY2hvciA9IHdheXBvaW50c1swXTtcblxuICAvLyBuZXcgYW5jaG9yIGlzIHRoZSBsYXN0IHdheXBvaW50IGVuY2xvc2VkIGJlIHJlc2l6ZWQgc291cmNlXG4gIGlmICh3YXlwb2ludHNJbnNpZGVOZXdCb3VuZHMubGVuZ3RoKSB7XG4gICAgcmV0dXJuIHdheXBvaW50c0luc2lkZU5ld0JvdW5kc1sgd2F5cG9pbnRzSW5zaWRlTmV3Qm91bmRzLmxlbmd0aCAtIDEgXTtcbiAgfVxuXG4gIHJldHVybiBnZXROZXdBdHRhY2hQb2ludChvbGRBbmNob3Iub3JpZ2luYWwgfHwgb2xkQW5jaG9yLCBvbGRCb3VuZHMsIHNoYXBlKTtcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmVzaXplZFRhcmdldEFuY2hvcihjb25uZWN0aW9uLCBzaGFwZSwgb2xkQm91bmRzKSB7XG5cbiAgdmFyIHdheXBvaW50cyA9IHNhZmVHZXRXYXlwb2ludHMoY29ubmVjdGlvbiksXG4gICAgICB3YXlwb2ludHNJbnNpZGVOZXdCb3VuZHMgPSBnZXRXYXlwb2ludHNJbnNpZGVCb3VuZHMod2F5cG9pbnRzLCBzaGFwZSksXG4gICAgICBvbGRBbmNob3IgPSB3YXlwb2ludHNbd2F5cG9pbnRzLmxlbmd0aCAtIDFdO1xuXG4gIC8vIG5ldyBhbmNob3IgaXMgdGhlIGZpcnN0IHdheXBvaW50IGVuY2xvc2VkIGJlIHJlc2l6ZWQgdGFyZ2V0XG4gIGlmICh3YXlwb2ludHNJbnNpZGVOZXdCb3VuZHMubGVuZ3RoKSB7XG4gICAgcmV0dXJuIHdheXBvaW50c0luc2lkZU5ld0JvdW5kc1sgMCBdO1xuICB9XG5cbiAgcmV0dXJuIGdldE5ld0F0dGFjaFBvaW50KG9sZEFuY2hvci5vcmlnaW5hbCB8fCBvbGRBbmNob3IsIG9sZEJvdW5kcywgc2hhcGUpO1xufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRNb3ZlZFNvdXJjZUFuY2hvcihjb25uZWN0aW9uLCBzb3VyY2UsIG1vdmVEZWx0YSkge1xuXG4gIHZhciB3YXlwb2ludHMgPSBzYWZlR2V0V2F5cG9pbnRzKGNvbm5lY3Rpb24pLFxuICAgICAgb2xkQm91bmRzID0gc3VidHJhY3Qoc291cmNlLCBtb3ZlRGVsdGEpLFxuICAgICAgb2xkQW5jaG9yID0gd2F5cG9pbnRzWyAwIF07XG5cbiAgcmV0dXJuIGdldE5ld0F0dGFjaFBvaW50KG9sZEFuY2hvci5vcmlnaW5hbCB8fCBvbGRBbmNob3IsIG9sZEJvdW5kcywgc291cmNlKTtcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TW92ZWRUYXJnZXRBbmNob3IoY29ubmVjdGlvbiwgdGFyZ2V0LCBtb3ZlRGVsdGEpIHtcblxuICB2YXIgd2F5cG9pbnRzID0gc2FmZUdldFdheXBvaW50cyhjb25uZWN0aW9uKSxcbiAgICAgIG9sZEJvdW5kcyA9IHN1YnRyYWN0KHRhcmdldCwgbW92ZURlbHRhKSxcbiAgICAgIG9sZEFuY2hvciA9IHdheXBvaW50c1sgd2F5cG9pbnRzLmxlbmd0aCAtIDEgXTtcblxuICByZXR1cm4gZ2V0TmV3QXR0YWNoUG9pbnQob2xkQW5jaG9yLm9yaWdpbmFsIHx8IG9sZEFuY2hvciwgb2xkQm91bmRzLCB0YXJnZXQpO1xufVxuXG5cbi8vIGhlbHBlcnMgLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5mdW5jdGlvbiBzdWJ0cmFjdChib3VuZHMsIGRlbHRhKSB7XG4gIHJldHVybiB7XG4gICAgeDogYm91bmRzLnggLSBkZWx0YS54LFxuICAgIHk6IGJvdW5kcy55IC0gZGVsdGEueSxcbiAgICB3aWR0aDogYm91bmRzLndpZHRoLFxuICAgIGhlaWdodDogYm91bmRzLmhlaWdodFxuICB9O1xufVxuXG5cbi8qKlxuICogUmV0dXJuIHdheXBvaW50cyBvZiBnaXZlbiBjb25uZWN0aW9uOyB0aHJvdyBpZiBub24gZXhpc3RzIChzaG91bGQgbm90IGhhcHBlbiEhKS5cbiAqXG4gKiBAcGFyYW0ge0Nvbm5lY3Rpb259IGNvbm5lY3Rpb25cbiAqXG4gKiBAcmV0dXJuIHtBcnJheTxQb2ludD59XG4gKi9cbmZ1bmN0aW9uIHNhZmVHZXRXYXlwb2ludHMoY29ubmVjdGlvbikge1xuXG4gIHZhciB3YXlwb2ludHMgPSBjb25uZWN0aW9uLndheXBvaW50cztcblxuICBpZiAoIXdheXBvaW50cy5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2Nvbm5lY3Rpb24jJyArIGNvbm5lY3Rpb24uaWQgKyAnOiBubyB3YXlwb2ludHMnKTtcbiAgfVxuXG4gIHJldHVybiB3YXlwb2ludHM7XG59XG5cbmZ1bmN0aW9uIGdldFdheXBvaW50c0luc2lkZUJvdW5kcyh3YXlwb2ludHMsIGJvdW5kcykge1xuICB2YXIgb3JpZ2luYWxXYXlwb2ludHMgPSBtYXAod2F5cG9pbnRzLCBnZXRPcmlnaW5hbCk7XG5cbiAgcmV0dXJuIGZpbHRlcihvcmlnaW5hbFdheXBvaW50cywgZnVuY3Rpb24od2F5cG9pbnQpIHtcbiAgICByZXR1cm4gaXNJbnNpZGVCb3VuZHMod2F5cG9pbnQsIGJvdW5kcyk7XG4gIH0pO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBwb2ludCBpcyBpbnNpZGUgYm91bmRzLCBpbmNsLiBlZGdlcy5cbiAqXG4gKiBAcGFyYW0ge1BvaW50fSBwb2ludFxuICogQHBhcmFtIHtCb3VuZHN9IGJvdW5kc1xuICovXG5mdW5jdGlvbiBpc0luc2lkZUJvdW5kcyhwb2ludCwgYm91bmRzKSB7XG4gIHJldHVybiBnZXRPcmllbnRhdGlvbihib3VuZHMsIHBvaW50LCAxKSA9PT0gJ2ludGVyc2VjdCc7XG59XG5cbmZ1bmN0aW9uIGdldE9yaWdpbmFsKHBvaW50KSB7XG4gIHJldHVybiBwb2ludC5vcmlnaW5hbCB8fCBwb2ludDtcbn1cbiIsImltcG9ydCB7XG4gIGFzc2lnblxufSBmcm9tICdtaW4tZGFzaCc7XG5cbmltcG9ydCB7XG4gIGdldENsb3N1cmVcbn0gZnJvbSAnLi4vLi4vLi4vLi4vdXRpbC9FbGVtZW50cyc7XG5cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTW92ZUNsb3N1cmUoKSB7XG5cbiAgdGhpcy5hbGxTaGFwZXMgPSB7fTtcbiAgdGhpcy5hbGxDb25uZWN0aW9ucyA9IHt9O1xuXG4gIHRoaXMuZW5jbG9zZWRFbGVtZW50cyA9IHt9O1xuICB0aGlzLmVuY2xvc2VkQ29ubmVjdGlvbnMgPSB7fTtcblxuICB0aGlzLnRvcExldmVsID0ge307XG59XG5cblxuTW92ZUNsb3N1cmUucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uKGVsZW1lbnQsIGlzVG9wTGV2ZWwpIHtcbiAgcmV0dXJuIHRoaXMuYWRkQWxsKFsgZWxlbWVudCBdLCBpc1RvcExldmVsKTtcbn07XG5cblxuTW92ZUNsb3N1cmUucHJvdG90eXBlLmFkZEFsbCA9IGZ1bmN0aW9uKGVsZW1lbnRzLCBpc1RvcExldmVsKSB7XG5cbiAgdmFyIG5ld0Nsb3N1cmUgPSBnZXRDbG9zdXJlKGVsZW1lbnRzLCAhIWlzVG9wTGV2ZWwsIHRoaXMpO1xuXG4gIGFzc2lnbih0aGlzLCBuZXdDbG9zdXJlKTtcblxuICByZXR1cm4gdGhpcztcbn07IiwiaW1wb3J0IHtcbiAgZm9yRWFjaFxufSBmcm9tICdtaW4tZGFzaCc7XG5cbmltcG9ydCB7XG4gIGdldE1vdmVkU291cmNlQW5jaG9yLFxuICBnZXRNb3ZlZFRhcmdldEFuY2hvclxufSBmcm9tICcuL0FuY2hvcnNIZWxwZXInO1xuXG5pbXBvcnQgTW92ZUNsb3N1cmUgZnJvbSAnLi9Nb3ZlQ2xvc3VyZSc7XG5cblxuLyoqXG4gKiBBIGhlbHBlciB0aGF0IGlzIGFibGUgdG8gY2Fycnkgb3V0IHNlcmlhbGl6ZWQgbW92ZVxuICogb3BlcmF0aW9ucyBvbiBtdWx0aXBsZSBlbGVtZW50cy5cbiAqXG4gKiBAcGFyYW0ge01vZGVsaW5nfSBtb2RlbGluZ1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBNb3ZlSGVscGVyKG1vZGVsaW5nKSB7XG4gIHRoaXMuX21vZGVsaW5nID0gbW9kZWxpbmc7XG59XG5cbi8qKlxuICogTW92ZSB0aGUgc3BlY2lmaWVkIGVsZW1lbnRzIGFuZCBhbGwgY2hpbGRyZW4gYnkgdGhlIGdpdmVuIGRlbHRhLlxuICpcbiAqIFRoaXMgbW92ZXMgYWxsIGVuY2xvc2VkIGNvbm5lY3Rpb25zLCB0b28gYW5kIGxheW91dHMgYWxsIGFmZmVjdGVkXG4gKiBleHRlcm5hbCBjb25uZWN0aW9ucy5cbiAqXG4gKiBAcGFyYW0gIHtBcnJheTxkanMubW9kZWwuQmFzZT59IGVsZW1lbnRzXG4gKiBAcGFyYW0gIHtQb2ludH0gZGVsdGFcbiAqIEBwYXJhbSAge2Rqcy5tb2RlbC5CYXNlfSBuZXdQYXJlbnQgYXBwbGllZCB0byB0aGUgZmlyc3QgbGV2ZWwgb2Ygc2hhcGVzXG4gKlxuICogQHJldHVybiB7QXJyYXk8ZGpzLm1vZGVsLkJhc2U+fSBsaXN0IG9mIHRvdWNoZWQgZWxlbWVudHNcbiAqL1xuTW92ZUhlbHBlci5wcm90b3R5cGUubW92ZVJlY3Vyc2l2ZSA9IGZ1bmN0aW9uKGVsZW1lbnRzLCBkZWx0YSwgbmV3UGFyZW50KSB7XG4gIGlmICghZWxlbWVudHMpIHtcbiAgICByZXR1cm4gW107XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHRoaXMubW92ZUNsb3N1cmUodGhpcy5nZXRDbG9zdXJlKGVsZW1lbnRzKSwgZGVsdGEsIG5ld1BhcmVudCk7XG4gIH1cbn07XG5cbi8qKlxuICogTW92ZSB0aGUgZ2l2ZW4gY2xvc3VyZSBvZiBlbG1lbWVudHMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGNsb3N1cmVcbiAqIEBwYXJhbSB7UG9pbnR9IGRlbHRhXG4gKiBAcGFyYW0ge2Rqcy5tb2RlbC5CYXNlfSBbbmV3UGFyZW50XVxuICogQHBhcmFtIHtkanMubW9kZWwuQmFzZX0gW25ld0hvc3RdXG4gKi9cbk1vdmVIZWxwZXIucHJvdG90eXBlLm1vdmVDbG9zdXJlID0gZnVuY3Rpb24oY2xvc3VyZSwgZGVsdGEsIG5ld1BhcmVudCwgbmV3SG9zdCwgcHJpbWFyeVNoYXBlKSB7XG4gIHZhciBtb2RlbGluZyA9IHRoaXMuX21vZGVsaW5nO1xuXG4gIHZhciBhbGxTaGFwZXMgPSBjbG9zdXJlLmFsbFNoYXBlcyxcbiAgICAgIGFsbENvbm5lY3Rpb25zID0gY2xvc3VyZS5hbGxDb25uZWN0aW9ucyxcbiAgICAgIGVuY2xvc2VkQ29ubmVjdGlvbnMgPSBjbG9zdXJlLmVuY2xvc2VkQ29ubmVjdGlvbnMsXG4gICAgICB0b3BMZXZlbCA9IGNsb3N1cmUudG9wTGV2ZWwsXG4gICAgICBrZWVwUGFyZW50ID0gZmFsc2U7XG5cbiAgaWYgKHByaW1hcnlTaGFwZSAmJiBwcmltYXJ5U2hhcGUucGFyZW50ID09PSBuZXdQYXJlbnQpIHtcbiAgICBrZWVwUGFyZW50ID0gdHJ1ZTtcbiAgfVxuXG4gIC8vIG1vdmUgYWxsIHNoYXBlc1xuICBmb3JFYWNoKGFsbFNoYXBlcywgZnVuY3Rpb24oc2hhcGUpIHtcblxuICAgIC8vIG1vdmUgdGhlIGVsZW1lbnQgYWNjb3JkaW5nIHRvIHRoZSBnaXZlbiBkZWx0YVxuICAgIG1vZGVsaW5nLm1vdmVTaGFwZShzaGFwZSwgZGVsdGEsIHRvcExldmVsW3NoYXBlLmlkXSAmJiAha2VlcFBhcmVudCAmJiBuZXdQYXJlbnQsIHtcbiAgICAgIHJlY3Vyc2U6IGZhbHNlLFxuICAgICAgbGF5b3V0OiBmYWxzZVxuICAgIH0pO1xuICB9KTtcblxuICAvLyBtb3ZlIGFsbCBjaGlsZCBjb25uZWN0aW9ucyAvIGxheW91dCBleHRlcm5hbCBjb25uZWN0aW9uc1xuICBmb3JFYWNoKGFsbENvbm5lY3Rpb25zLCBmdW5jdGlvbihjKSB7XG5cbiAgICB2YXIgc291cmNlTW92ZWQgPSAhIWFsbFNoYXBlc1tjLnNvdXJjZS5pZF0sXG4gICAgICAgIHRhcmdldE1vdmVkID0gISFhbGxTaGFwZXNbYy50YXJnZXQuaWRdO1xuXG4gICAgaWYgKGVuY2xvc2VkQ29ubmVjdGlvbnNbYy5pZF0gJiYgc291cmNlTW92ZWQgJiYgdGFyZ2V0TW92ZWQpIHtcbiAgICAgIG1vZGVsaW5nLm1vdmVDb25uZWN0aW9uKGMsIGRlbHRhLCB0b3BMZXZlbFtjLmlkXSAmJiAha2VlcFBhcmVudCAmJiBuZXdQYXJlbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBtb2RlbGluZy5sYXlvdXRDb25uZWN0aW9uKGMsIHtcbiAgICAgICAgY29ubmVjdGlvblN0YXJ0OiBzb3VyY2VNb3ZlZCAmJiBnZXRNb3ZlZFNvdXJjZUFuY2hvcihjLCBjLnNvdXJjZSwgZGVsdGEpLFxuICAgICAgICBjb25uZWN0aW9uRW5kOiB0YXJnZXRNb3ZlZCAmJiBnZXRNb3ZlZFRhcmdldEFuY2hvcihjLCBjLnRhcmdldCwgZGVsdGEpXG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBjbG9zdXJlIGZvciB0aGUgc2VsZWN0ZWQgZWxlbWVudHNcbiAqXG4gKiBAcGFyYW0gIHtBcnJheTxkanMubW9kZWwuQmFzZT59IGVsZW1lbnRzXG4gKiBAcmV0dXJuIHtNb3ZlQ2xvc3VyZX0gY2xvc3VyZVxuICovXG5Nb3ZlSGVscGVyLnByb3RvdHlwZS5nZXRDbG9zdXJlID0gZnVuY3Rpb24oZWxlbWVudHMpIHtcbiAgcmV0dXJuIG5ldyBNb3ZlQ2xvc3VyZSgpLmFkZEFsbChlbGVtZW50cywgdHJ1ZSk7XG59OyIsImltcG9ydCBNb3ZlSGVscGVyIGZyb20gJy4vaGVscGVyL01vdmVIZWxwZXInO1xuXG5cbi8qKlxuICogQSBoYW5kbGVyIHRoYXQgaW1wbGVtZW50cyByZXZlcnNpYmxlIG1vdmluZyBvZiBzaGFwZXMuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIE1vdmVFbGVtZW50c0hhbmRsZXIobW9kZWxpbmcpIHtcbiAgdGhpcy5faGVscGVyID0gbmV3IE1vdmVIZWxwZXIobW9kZWxpbmcpO1xufVxuXG5Nb3ZlRWxlbWVudHNIYW5kbGVyLiRpbmplY3QgPSBbICdtb2RlbGluZycgXTtcblxuTW92ZUVsZW1lbnRzSGFuZGxlci5wcm90b3R5cGUucHJlRXhlY3V0ZSA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcbiAgY29udGV4dC5jbG9zdXJlID0gdGhpcy5faGVscGVyLmdldENsb3N1cmUoY29udGV4dC5zaGFwZXMpO1xufTtcblxuTW92ZUVsZW1lbnRzSGFuZGxlci5wcm90b3R5cGUucG9zdEV4ZWN1dGUgPSBmdW5jdGlvbihjb250ZXh0KSB7XG5cbiAgdmFyIGhpbnRzID0gY29udGV4dC5oaW50cyxcbiAgICAgIHByaW1hcnlTaGFwZTtcblxuICBpZiAoaGludHMgJiYgaGludHMucHJpbWFyeVNoYXBlKSB7XG4gICAgcHJpbWFyeVNoYXBlID0gaGludHMucHJpbWFyeVNoYXBlO1xuICAgIGhpbnRzLm9sZFBhcmVudCA9IHByaW1hcnlTaGFwZS5wYXJlbnQ7XG4gIH1cblxuICB0aGlzLl9oZWxwZXIubW92ZUNsb3N1cmUoXG4gICAgY29udGV4dC5jbG9zdXJlLFxuICAgIGNvbnRleHQuZGVsdGEsXG4gICAgY29udGV4dC5uZXdQYXJlbnQsXG4gICAgY29udGV4dC5uZXdIb3N0LFxuICAgIHByaW1hcnlTaGFwZVxuICApO1xufTsiLCJpbXBvcnQge1xuICBhc3NpZ24sXG4gIGZvckVhY2gsXG4gIHBpY2tcbn0gZnJvbSAnbWluLWRhc2gnO1xuXG5pbXBvcnQgTW92ZUhlbHBlciBmcm9tICcuL2hlbHBlci9Nb3ZlSGVscGVyJztcblxuaW1wb3J0IHtcbiAgYWRkIGFzIGNvbGxlY3Rpb25BZGQsXG4gIHJlbW92ZSBhcyBjb2xsZWN0aW9uUmVtb3ZlXG59IGZyb20gJy4uLy4uLy4uL3V0aWwvQ29sbGVjdGlvbnMnO1xuXG5pbXBvcnQge1xuICBnZXRNb3ZlZFNvdXJjZUFuY2hvcixcbiAgZ2V0TW92ZWRUYXJnZXRBbmNob3Jcbn0gZnJvbSAnLi9oZWxwZXIvQW5jaG9yc0hlbHBlcic7XG5cblxuLyoqXG4gKiBBIGhhbmRsZXIgdGhhdCBpbXBsZW1lbnRzIHJldmVyc2libGUgbW92aW5nIG9mIHNoYXBlcy5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTW92ZVNoYXBlSGFuZGxlcihtb2RlbGluZykge1xuICB0aGlzLl9tb2RlbGluZyA9IG1vZGVsaW5nO1xuXG4gIHRoaXMuX2hlbHBlciA9IG5ldyBNb3ZlSGVscGVyKG1vZGVsaW5nKTtcbn1cblxuTW92ZVNoYXBlSGFuZGxlci4kaW5qZWN0ID0gWyAnbW9kZWxpbmcnIF07XG5cblxuTW92ZVNoYXBlSGFuZGxlci5wcm90b3R5cGUuZXhlY3V0ZSA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcblxuICB2YXIgc2hhcGUgPSBjb250ZXh0LnNoYXBlLFxuICAgICAgZGVsdGEgPSBjb250ZXh0LmRlbHRhLFxuICAgICAgbmV3UGFyZW50ID0gY29udGV4dC5uZXdQYXJlbnQgfHwgc2hhcGUucGFyZW50LFxuICAgICAgbmV3UGFyZW50SW5kZXggPSBjb250ZXh0Lm5ld1BhcmVudEluZGV4LFxuICAgICAgb2xkUGFyZW50ID0gc2hhcGUucGFyZW50O1xuXG4gIGNvbnRleHQub2xkQm91bmRzID0gcGljayhzaGFwZSwgWyAneCcsICd5JywgJ3dpZHRoJywgJ2hlaWdodCddKTtcblxuICAvLyBzYXZlIG9sZCBwYXJlbnQgaW4gY29udGV4dFxuICBjb250ZXh0Lm9sZFBhcmVudCA9IG9sZFBhcmVudDtcbiAgY29udGV4dC5vbGRQYXJlbnRJbmRleCA9IGNvbGxlY3Rpb25SZW1vdmUob2xkUGFyZW50LmNoaWxkcmVuLCBzaGFwZSk7XG5cbiAgLy8gYWRkIHRvIG5ldyBwYXJlbnQgYXQgcG9zaXRpb25cbiAgY29sbGVjdGlvbkFkZChuZXdQYXJlbnQuY2hpbGRyZW4sIHNoYXBlLCBuZXdQYXJlbnRJbmRleCk7XG5cbiAgLy8gdXBkYXRlIHNoYXBlIHBhcmVudCArIHBvc2l0aW9uXG4gIGFzc2lnbihzaGFwZSwge1xuICAgIHBhcmVudDogbmV3UGFyZW50LFxuICAgIHg6IHNoYXBlLnggKyBkZWx0YS54LFxuICAgIHk6IHNoYXBlLnkgKyBkZWx0YS55XG4gIH0pO1xuXG4gIHJldHVybiBzaGFwZTtcbn07XG5cbk1vdmVTaGFwZUhhbmRsZXIucHJvdG90eXBlLnBvc3RFeGVjdXRlID0gZnVuY3Rpb24oY29udGV4dCkge1xuXG4gIHZhciBzaGFwZSA9IGNvbnRleHQuc2hhcGUsXG4gICAgICBkZWx0YSA9IGNvbnRleHQuZGVsdGEsXG4gICAgICBoaW50cyA9IGNvbnRleHQuaGludHM7XG5cbiAgdmFyIG1vZGVsaW5nID0gdGhpcy5fbW9kZWxpbmc7XG5cbiAgaWYgKGhpbnRzLmxheW91dCAhPT0gZmFsc2UpIHtcblxuICAgIGZvckVhY2goc2hhcGUuaW5jb21pbmcsIGZ1bmN0aW9uKGMpIHtcbiAgICAgIG1vZGVsaW5nLmxheW91dENvbm5lY3Rpb24oYywge1xuICAgICAgICBjb25uZWN0aW9uRW5kOiBnZXRNb3ZlZFRhcmdldEFuY2hvcihjLCBzaGFwZSwgZGVsdGEpXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGZvckVhY2goc2hhcGUub3V0Z29pbmcsIGZ1bmN0aW9uKGMpIHtcbiAgICAgIG1vZGVsaW5nLmxheW91dENvbm5lY3Rpb24oYywge1xuICAgICAgICBjb25uZWN0aW9uU3RhcnQ6IGdldE1vdmVkU291cmNlQW5jaG9yKGMsIHNoYXBlLCBkZWx0YSlcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgaWYgKGhpbnRzLnJlY3Vyc2UgIT09IGZhbHNlKSB7XG4gICAgdGhpcy5tb3ZlQ2hpbGRyZW4oY29udGV4dCk7XG4gIH1cbn07XG5cbk1vdmVTaGFwZUhhbmRsZXIucHJvdG90eXBlLnJldmVydCA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcblxuICB2YXIgc2hhcGUgPSBjb250ZXh0LnNoYXBlLFxuICAgICAgb2xkUGFyZW50ID0gY29udGV4dC5vbGRQYXJlbnQsXG4gICAgICBvbGRQYXJlbnRJbmRleCA9IGNvbnRleHQub2xkUGFyZW50SW5kZXgsXG4gICAgICBkZWx0YSA9IGNvbnRleHQuZGVsdGE7XG5cbiAgLy8gcmVzdG9yZSBwcmV2aW91cyBsb2NhdGlvbiBpbiBvbGQgcGFyZW50XG4gIGNvbGxlY3Rpb25BZGQob2xkUGFyZW50LmNoaWxkcmVuLCBzaGFwZSwgb2xkUGFyZW50SW5kZXgpO1xuXG4gIC8vIHJldmVydCB0byBvbGQgcG9zaXRpb24gYW5kIHBhcmVudFxuICBhc3NpZ24oc2hhcGUsIHtcbiAgICBwYXJlbnQ6IG9sZFBhcmVudCxcbiAgICB4OiBzaGFwZS54IC0gZGVsdGEueCxcbiAgICB5OiBzaGFwZS55IC0gZGVsdGEueVxuICB9KTtcblxuICByZXR1cm4gc2hhcGU7XG59O1xuXG5Nb3ZlU2hhcGVIYW5kbGVyLnByb3RvdHlwZS5tb3ZlQ2hpbGRyZW4gPSBmdW5jdGlvbihjb250ZXh0KSB7XG5cbiAgdmFyIGRlbHRhID0gY29udGV4dC5kZWx0YSxcbiAgICAgIHNoYXBlID0gY29udGV4dC5zaGFwZTtcblxuICB0aGlzLl9oZWxwZXIubW92ZVJlY3Vyc2l2ZShzaGFwZS5jaGlsZHJlbiwgZGVsdGEsIG51bGwpO1xufTtcblxuTW92ZVNoYXBlSGFuZGxlci5wcm90b3R5cGUuZ2V0TmV3UGFyZW50ID0gZnVuY3Rpb24oY29udGV4dCkge1xuICByZXR1cm4gY29udGV4dC5uZXdQYXJlbnQgfHwgY29udGV4dC5zaGFwZS5wYXJlbnQ7XG59O1xuIiwiaW1wb3J0IHsgaXNBcnJheSB9IGZyb20gJ21pbi1kYXNoJztcblxuXG4vKipcbiAqIFJlY29ubmVjdCBjb25uZWN0aW9uIGhhbmRsZXJcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUmVjb25uZWN0Q29ubmVjdGlvbkhhbmRsZXIobW9kZWxpbmcpIHtcbiAgdGhpcy5fbW9kZWxpbmcgPSBtb2RlbGluZztcbn1cblxuUmVjb25uZWN0Q29ubmVjdGlvbkhhbmRsZXIuJGluamVjdCA9IFsgJ21vZGVsaW5nJyBdO1xuXG5SZWNvbm5lY3RDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUuZXhlY3V0ZSA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcbiAgdmFyIG5ld1NvdXJjZSA9IGNvbnRleHQubmV3U291cmNlLFxuICAgICAgbmV3VGFyZ2V0ID0gY29udGV4dC5uZXdUYXJnZXQsXG4gICAgICBjb25uZWN0aW9uID0gY29udGV4dC5jb25uZWN0aW9uLFxuICAgICAgZG9ja2luZ09yUG9pbnRzID0gY29udGV4dC5kb2NraW5nT3JQb2ludHM7XG5cbiAgaWYgKCFuZXdTb3VyY2UgJiYgIW5ld1RhcmdldCkge1xuICAgIHRocm93IG5ldyBFcnJvcignbmV3U291cmNlIG9yIG5ld1RhcmdldCByZXF1aXJlZCcpO1xuICB9XG5cbiAgaWYgKGlzQXJyYXkoZG9ja2luZ09yUG9pbnRzKSkge1xuICAgIGNvbnRleHQub2xkV2F5cG9pbnRzID0gY29ubmVjdGlvbi53YXlwb2ludHM7XG4gICAgY29ubmVjdGlvbi53YXlwb2ludHMgPSBkb2NraW5nT3JQb2ludHM7XG4gIH1cblxuICBpZiAobmV3U291cmNlKSB7XG4gICAgY29udGV4dC5vbGRTb3VyY2UgPSBjb25uZWN0aW9uLnNvdXJjZTtcbiAgICBjb25uZWN0aW9uLnNvdXJjZSA9IG5ld1NvdXJjZTtcbiAgfVxuXG4gIGlmIChuZXdUYXJnZXQpIHtcbiAgICBjb250ZXh0Lm9sZFRhcmdldCA9IGNvbm5lY3Rpb24udGFyZ2V0O1xuICAgIGNvbm5lY3Rpb24udGFyZ2V0ID0gbmV3VGFyZ2V0O1xuICB9XG5cbiAgcmV0dXJuIGNvbm5lY3Rpb247XG59O1xuXG5SZWNvbm5lY3RDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUucG9zdEV4ZWN1dGUgPSBmdW5jdGlvbihjb250ZXh0KSB7XG4gIHZhciBjb25uZWN0aW9uID0gY29udGV4dC5jb25uZWN0aW9uLFxuICAgICAgbmV3U291cmNlID0gY29udGV4dC5uZXdTb3VyY2UsXG4gICAgICBuZXdUYXJnZXQgPSBjb250ZXh0Lm5ld1RhcmdldCxcbiAgICAgIGRvY2tpbmdPclBvaW50cyA9IGNvbnRleHQuZG9ja2luZ09yUG9pbnRzLFxuICAgICAgaGludHMgPSBjb250ZXh0LmhpbnRzIHx8IHt9O1xuXG4gIHZhciBsYXlvdXRDb25uZWN0aW9uSGludHMgPSB7fTtcblxuICBpZiAoaGludHMuY29ubmVjdGlvblN0YXJ0KSB7XG4gICAgbGF5b3V0Q29ubmVjdGlvbkhpbnRzLmNvbm5lY3Rpb25TdGFydCA9IGhpbnRzLmNvbm5lY3Rpb25TdGFydDtcbiAgfVxuXG4gIGlmIChoaW50cy5jb25uZWN0aW9uRW5kKSB7XG4gICAgbGF5b3V0Q29ubmVjdGlvbkhpbnRzLmNvbm5lY3Rpb25FbmQgPSBoaW50cy5jb25uZWN0aW9uRW5kO1xuICB9XG5cbiAgaWYgKGhpbnRzLmxheW91dENvbm5lY3Rpb24gPT09IGZhbHNlKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKG5ld1NvdXJjZSAmJiAoIW5ld1RhcmdldCB8fCBoaW50cy5kb2NraW5nID09PSAnc291cmNlJykpIHtcbiAgICBsYXlvdXRDb25uZWN0aW9uSGludHMuY29ubmVjdGlvblN0YXJ0ID0gbGF5b3V0Q29ubmVjdGlvbkhpbnRzLmNvbm5lY3Rpb25TdGFydFxuICAgICAgfHwgZ2V0RG9ja2luZyhpc0FycmF5KGRvY2tpbmdPclBvaW50cykgPyBkb2NraW5nT3JQb2ludHNbIDAgXSA6IGRvY2tpbmdPclBvaW50cyk7XG4gIH1cblxuICBpZiAobmV3VGFyZ2V0ICYmICghbmV3U291cmNlIHx8IGhpbnRzLmRvY2tpbmcgPT09ICd0YXJnZXQnKSkge1xuICAgIGxheW91dENvbm5lY3Rpb25IaW50cy5jb25uZWN0aW9uRW5kID0gbGF5b3V0Q29ubmVjdGlvbkhpbnRzLmNvbm5lY3Rpb25FbmRcbiAgICAgIHx8IGdldERvY2tpbmcoaXNBcnJheShkb2NraW5nT3JQb2ludHMpID8gZG9ja2luZ09yUG9pbnRzWyBkb2NraW5nT3JQb2ludHMubGVuZ3RoIC0gMSBdIDogZG9ja2luZ09yUG9pbnRzKTtcbiAgfVxuXG4gIGlmIChoaW50cy5uZXdXYXlwb2ludHMpIHtcbiAgICBsYXlvdXRDb25uZWN0aW9uSGludHMud2F5cG9pbnRzID0gaGludHMubmV3V2F5cG9pbnRzO1xuICB9XG5cbiAgdGhpcy5fbW9kZWxpbmcubGF5b3V0Q29ubmVjdGlvbihjb25uZWN0aW9uLCBsYXlvdXRDb25uZWN0aW9uSGludHMpO1xufTtcblxuUmVjb25uZWN0Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLnJldmVydCA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcbiAgdmFyIG9sZFNvdXJjZSA9IGNvbnRleHQub2xkU291cmNlLFxuICAgICAgb2xkVGFyZ2V0ID0gY29udGV4dC5vbGRUYXJnZXQsXG4gICAgICBvbGRXYXlwb2ludHMgPSBjb250ZXh0Lm9sZFdheXBvaW50cyxcbiAgICAgIGNvbm5lY3Rpb24gPSBjb250ZXh0LmNvbm5lY3Rpb247XG5cbiAgaWYgKG9sZFNvdXJjZSkge1xuICAgIGNvbm5lY3Rpb24uc291cmNlID0gb2xkU291cmNlO1xuICB9XG5cbiAgaWYgKG9sZFRhcmdldCkge1xuICAgIGNvbm5lY3Rpb24udGFyZ2V0ID0gb2xkVGFyZ2V0O1xuICB9XG5cbiAgaWYgKG9sZFdheXBvaW50cykge1xuICAgIGNvbm5lY3Rpb24ud2F5cG9pbnRzID0gb2xkV2F5cG9pbnRzO1xuICB9XG5cbiAgcmV0dXJuIGNvbm5lY3Rpb247XG59O1xuXG5cblxuLy8gaGVscGVycyAvLy8vLy8vLy8vXG5cbmZ1bmN0aW9uIGdldERvY2tpbmcocG9pbnQpIHtcbiAgcmV0dXJuIHBvaW50Lm9yaWdpbmFsIHx8IHBvaW50O1xufSIsImltcG9ydCB7IGZvckVhY2ggfSBmcm9tICdtaW4tZGFzaCc7XG5cbmltcG9ydCB7XG4gIGdldFJlc2l6ZWRTb3VyY2VBbmNob3IsXG4gIGdldFJlc2l6ZWRUYXJnZXRBbmNob3Jcbn0gZnJvbSAnLi9oZWxwZXIvQW5jaG9yc0hlbHBlcic7XG5cbi8qKlxuICogUmVwbGFjZSBzaGFwZSBieSBhZGRpbmcgbmV3IHNoYXBlIGFuZCByZW1vdmluZyBvbGQgc2hhcGUuIEluY29taW5nIGFuZCBvdXRnb2luZyBjb25uZWN0aW9ucyB3aWxsXG4gKiBiZSBrZXB0IGlmIHBvc3NpYmxlLlxuICpcbiAqIEBjbGFzc1xuICogQGNvbnN0cnVjdG9yXG4gKlxuICogQHBhcmFtIHtNb2RlbGluZ30gbW9kZWxpbmdcbiAqIEBwYXJhbSB7UnVsZXN9IHJ1bGVzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFJlcGxhY2VTaGFwZUhhbmRsZXIobW9kZWxpbmcsIHJ1bGVzKSB7XG4gIHRoaXMuX21vZGVsaW5nID0gbW9kZWxpbmc7XG4gIHRoaXMuX3J1bGVzID0gcnVsZXM7XG59XG5cblJlcGxhY2VTaGFwZUhhbmRsZXIuJGluamVjdCA9IFsgJ21vZGVsaW5nJywgJ3J1bGVzJyBdO1xuXG5cbi8qKlxuICogQWRkIG5ldyBzaGFwZS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gY29udGV4dFxuICogQHBhcmFtIHtkanMubW9kZWwuU2hhcGV9IGNvbnRleHQub2xkU2hhcGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb250ZXh0Lm5ld0RhdGFcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb250ZXh0Lm5ld0RhdGEudHlwZVxuICogQHBhcmFtIHtudW1iZXJ9IGNvbnRleHQubmV3RGF0YS54XG4gKiBAcGFyYW0ge251bWJlcn0gY29udGV4dC5uZXdEYXRhLnlcbiAqIEBwYXJhbSB7T2JqZWN0fSBbaGludHNdXG4gKi9cblJlcGxhY2VTaGFwZUhhbmRsZXIucHJvdG90eXBlLnByZUV4ZWN1dGUgPSBmdW5jdGlvbihjb250ZXh0KSB7XG4gIHZhciBzZWxmID0gdGhpcyxcbiAgICAgIG1vZGVsaW5nID0gdGhpcy5fbW9kZWxpbmcsXG4gICAgICBydWxlcyA9IHRoaXMuX3J1bGVzO1xuXG4gIHZhciBvbGRTaGFwZSA9IGNvbnRleHQub2xkU2hhcGUsXG4gICAgICBuZXdEYXRhID0gY29udGV4dC5uZXdEYXRhLFxuICAgICAgaGludHMgPSBjb250ZXh0LmhpbnRzIHx8IHt9LFxuICAgICAgbmV3U2hhcGU7XG5cbiAgZnVuY3Rpb24gY2FuUmVjb25uZWN0KHNvdXJjZSwgdGFyZ2V0LCBjb25uZWN0aW9uKSB7XG4gICAgcmV0dXJuIHJ1bGVzLmFsbG93ZWQoJ2Nvbm5lY3Rpb24ucmVjb25uZWN0Jywge1xuICAgICAgY29ubmVjdGlvbjogY29ubmVjdGlvbixcbiAgICAgIHNvdXJjZTogc291cmNlLFxuICAgICAgdGFyZ2V0OiB0YXJnZXRcbiAgICB9KTtcbiAgfVxuXG4gIC8vICgxKSBhZGQgbmV3IHNoYXBlIGF0IGdpdmVuIHBvc2l0aW9uXG4gIHZhciBwb3NpdGlvbiA9IHtcbiAgICB4OiBuZXdEYXRhLngsXG4gICAgeTogbmV3RGF0YS55XG4gIH07XG5cbiAgdmFyIG9sZEJvdW5kcyA9IHtcbiAgICB4OiBvbGRTaGFwZS54LFxuICAgIHk6IG9sZFNoYXBlLnksXG4gICAgd2lkdGg6IG9sZFNoYXBlLndpZHRoLFxuICAgIGhlaWdodDogb2xkU2hhcGUuaGVpZ2h0XG4gIH07XG5cbiAgbmV3U2hhcGUgPSBjb250ZXh0Lm5ld1NoYXBlID1cbiAgICBjb250ZXh0Lm5ld1NoYXBlIHx8XG4gICAgc2VsZi5jcmVhdGVTaGFwZShuZXdEYXRhLCBwb3NpdGlvbiwgb2xkU2hhcGUucGFyZW50LCBoaW50cyk7XG5cbiAgLy8gKDIpIHVwZGF0ZSBob3N0XG4gIGlmIChvbGRTaGFwZS5ob3N0KSB7XG4gICAgbW9kZWxpbmcudXBkYXRlQXR0YWNobWVudChuZXdTaGFwZSwgb2xkU2hhcGUuaG9zdCk7XG4gIH1cblxuICAvLyAoMykgYWRvcHQgYWxsIGNoaWxkcmVuIGZyb20gb2xkIHNoYXBlXG4gIHZhciBjaGlsZHJlbjtcblxuICBpZiAoaGludHMubW92ZUNoaWxkcmVuICE9PSBmYWxzZSkge1xuICAgIGNoaWxkcmVuID0gb2xkU2hhcGUuY2hpbGRyZW4uc2xpY2UoKTtcblxuICAgIG1vZGVsaW5nLm1vdmVFbGVtZW50cyhjaGlsZHJlbiwgeyB4OiAwLCB5OiAwIH0sIG5ld1NoYXBlLCBoaW50cyk7XG4gIH1cblxuICAvLyAoNCkgcmVjb25uZWN0IGNvbm5lY3Rpb25zIHRvIG5ldyBzaGFwZSBpZiBwb3NzaWJsZVxuICB2YXIgaW5jb21pbmcgPSBvbGRTaGFwZS5pbmNvbWluZy5zbGljZSgpLFxuICAgICAgb3V0Z29pbmcgPSBvbGRTaGFwZS5vdXRnb2luZy5zbGljZSgpO1xuXG4gIGZvckVhY2goaW5jb21pbmcsIGZ1bmN0aW9uKGNvbm5lY3Rpb24pIHtcbiAgICB2YXIgc291cmNlID0gY29ubmVjdGlvbi5zb3VyY2UsXG4gICAgICAgIGFsbG93ZWQgPSBjYW5SZWNvbm5lY3Qoc291cmNlLCBuZXdTaGFwZSwgY29ubmVjdGlvbik7XG5cbiAgICBpZiAoYWxsb3dlZCkge1xuICAgICAgc2VsZi5yZWNvbm5lY3RFbmQoXG4gICAgICAgIGNvbm5lY3Rpb24sIG5ld1NoYXBlLFxuICAgICAgICBnZXRSZXNpemVkVGFyZ2V0QW5jaG9yKGNvbm5lY3Rpb24sIG5ld1NoYXBlLCBvbGRCb3VuZHMpLFxuICAgICAgICBoaW50c1xuICAgICAgKTtcbiAgICB9XG4gIH0pO1xuXG4gIGZvckVhY2gob3V0Z29pbmcsIGZ1bmN0aW9uKGNvbm5lY3Rpb24pIHtcbiAgICB2YXIgdGFyZ2V0ID0gY29ubmVjdGlvbi50YXJnZXQsXG4gICAgICAgIGFsbG93ZWQgPSBjYW5SZWNvbm5lY3QobmV3U2hhcGUsIHRhcmdldCwgY29ubmVjdGlvbik7XG5cbiAgICBpZiAoYWxsb3dlZCkge1xuICAgICAgc2VsZi5yZWNvbm5lY3RTdGFydChcbiAgICAgICAgY29ubmVjdGlvbiwgbmV3U2hhcGUsXG4gICAgICAgIGdldFJlc2l6ZWRTb3VyY2VBbmNob3IoY29ubmVjdGlvbiwgbmV3U2hhcGUsIG9sZEJvdW5kcyksXG4gICAgICAgIGhpbnRzXG4gICAgICApO1xuICAgIH1cbiAgfSk7XG59O1xuXG5cbi8qKlxuICogUmVtb3ZlIG9sZCBzaGFwZS5cbiAqL1xuUmVwbGFjZVNoYXBlSGFuZGxlci5wcm90b3R5cGUucG9zdEV4ZWN1dGUgPSBmdW5jdGlvbihjb250ZXh0KSB7XG4gIHZhciBvbGRTaGFwZSA9IGNvbnRleHQub2xkU2hhcGU7XG5cbiAgdGhpcy5fbW9kZWxpbmcucmVtb3ZlU2hhcGUob2xkU2hhcGUpO1xufTtcblxuXG5SZXBsYWNlU2hhcGVIYW5kbGVyLnByb3RvdHlwZS5leGVjdXRlID0gZnVuY3Rpb24oY29udGV4dCkge307XG5cblxuUmVwbGFjZVNoYXBlSGFuZGxlci5wcm90b3R5cGUucmV2ZXJ0ID0gZnVuY3Rpb24oY29udGV4dCkge307XG5cblxuUmVwbGFjZVNoYXBlSGFuZGxlci5wcm90b3R5cGUuY3JlYXRlU2hhcGUgPSBmdW5jdGlvbihzaGFwZSwgcG9zaXRpb24sIHRhcmdldCwgaGludHMpIHtcbiAgcmV0dXJuIHRoaXMuX21vZGVsaW5nLmNyZWF0ZVNoYXBlKHNoYXBlLCBwb3NpdGlvbiwgdGFyZ2V0LCBoaW50cyk7XG59O1xuXG5cblJlcGxhY2VTaGFwZUhhbmRsZXIucHJvdG90eXBlLnJlY29ubmVjdFN0YXJ0ID0gZnVuY3Rpb24oY29ubmVjdGlvbiwgbmV3U291cmNlLCBkb2NraW5nUG9pbnQsIGhpbnRzKSB7XG4gIHRoaXMuX21vZGVsaW5nLnJlY29ubmVjdFN0YXJ0KGNvbm5lY3Rpb24sIG5ld1NvdXJjZSwgZG9ja2luZ1BvaW50LCBoaW50cyk7XG59O1xuXG5cblJlcGxhY2VTaGFwZUhhbmRsZXIucHJvdG90eXBlLnJlY29ubmVjdEVuZCA9IGZ1bmN0aW9uKGNvbm5lY3Rpb24sIG5ld1RhcmdldCwgZG9ja2luZ1BvaW50LCBoaW50cykge1xuICB0aGlzLl9tb2RlbGluZy5yZWNvbm5lY3RFbmQoY29ubmVjdGlvbiwgbmV3VGFyZ2V0LCBkb2NraW5nUG9pbnQsIGhpbnRzKTtcbn07XG4iLCJpbXBvcnQge1xuICBhc3NpZ24sXG4gIGZvckVhY2hcbn0gZnJvbSAnbWluLWRhc2gnO1xuXG5pbXBvcnQge1xuICBnZXRSZXNpemVkU291cmNlQW5jaG9yLFxuICBnZXRSZXNpemVkVGFyZ2V0QW5jaG9yXG59IGZyb20gJy4vaGVscGVyL0FuY2hvcnNIZWxwZXInO1xuXG5cbi8qKlxuICogQSBoYW5kbGVyIHRoYXQgaW1wbGVtZW50cyByZXZlcnNpYmxlIHJlc2l6aW5nIG9mIHNoYXBlcy5cbiAqXG4gKiBAcGFyYW0ge01vZGVsaW5nfSBtb2RlbGluZ1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBSZXNpemVTaGFwZUhhbmRsZXIobW9kZWxpbmcpIHtcbiAgdGhpcy5fbW9kZWxpbmcgPSBtb2RlbGluZztcbn1cblxuUmVzaXplU2hhcGVIYW5kbGVyLiRpbmplY3QgPSBbICdtb2RlbGluZycgXTtcblxuLyoqXG4gKiB7XG4gKiAgIHNoYXBlOiB7Li4uLn1cbiAqICAgbmV3Qm91bmRzOiB7XG4gKiAgICAgd2lkdGg6ICAyMCxcbiAqICAgICBoZWlnaHQ6IDQwLFxuICogICAgIHg6ICAgICAgIDUsXG4gKiAgICAgeTogICAgICAxMFxuICogICB9XG4gKlxuICogfVxuICovXG5SZXNpemVTaGFwZUhhbmRsZXIucHJvdG90eXBlLmV4ZWN1dGUgPSBmdW5jdGlvbihjb250ZXh0KSB7XG4gIHZhciBzaGFwZSA9IGNvbnRleHQuc2hhcGUsXG4gICAgICBuZXdCb3VuZHMgPSBjb250ZXh0Lm5ld0JvdW5kcyxcbiAgICAgIG1pbkJvdW5kcyA9IGNvbnRleHQubWluQm91bmRzO1xuXG4gIGlmIChuZXdCb3VuZHMueCA9PT0gdW5kZWZpbmVkIHx8IG5ld0JvdW5kcy55ID09PSB1bmRlZmluZWQgfHxcbiAgICAgIG5ld0JvdW5kcy53aWR0aCA9PT0gdW5kZWZpbmVkIHx8IG5ld0JvdW5kcy5oZWlnaHQgPT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignbmV3Qm91bmRzIG11c3QgaGF2ZSB7eCwgeSwgd2lkdGgsIGhlaWdodH0gcHJvcGVydGllcycpO1xuICB9XG5cbiAgaWYgKG1pbkJvdW5kcyAmJiAobmV3Qm91bmRzLndpZHRoIDwgbWluQm91bmRzLndpZHRoXG4gICAgfHwgbmV3Qm91bmRzLmhlaWdodCA8IG1pbkJvdW5kcy5oZWlnaHQpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCd3aWR0aCBhbmQgaGVpZ2h0IGNhbm5vdCBiZSBsZXNzIHRoYW4gbWluaW11bSBoZWlnaHQgYW5kIHdpZHRoJyk7XG4gIH0gZWxzZSBpZiAoIW1pbkJvdW5kc1xuICAgICYmIG5ld0JvdW5kcy53aWR0aCA8IDEwIHx8IG5ld0JvdW5kcy5oZWlnaHQgPCAxMCkge1xuICAgIHRocm93IG5ldyBFcnJvcignd2lkdGggYW5kIGhlaWdodCBjYW5ub3QgYmUgbGVzcyB0aGFuIDEwcHgnKTtcbiAgfVxuXG4gIC8vIHNhdmUgb2xkIGJib3ggaW4gY29udGV4dFxuICBjb250ZXh0Lm9sZEJvdW5kcyA9IHtcbiAgICB3aWR0aDogIHNoYXBlLndpZHRoLFxuICAgIGhlaWdodDogc2hhcGUuaGVpZ2h0LFxuICAgIHg6ICAgICAgc2hhcGUueCxcbiAgICB5OiAgICAgIHNoYXBlLnlcbiAgfTtcblxuICAvLyB1cGRhdGUgc2hhcGVcbiAgYXNzaWduKHNoYXBlLCB7XG4gICAgd2lkdGg6ICBuZXdCb3VuZHMud2lkdGgsXG4gICAgaGVpZ2h0OiBuZXdCb3VuZHMuaGVpZ2h0LFxuICAgIHg6ICAgICAgbmV3Qm91bmRzLngsXG4gICAgeTogICAgICBuZXdCb3VuZHMueVxuICB9KTtcblxuICByZXR1cm4gc2hhcGU7XG59O1xuXG5SZXNpemVTaGFwZUhhbmRsZXIucHJvdG90eXBlLnBvc3RFeGVjdXRlID0gZnVuY3Rpb24oY29udGV4dCkge1xuICB2YXIgbW9kZWxpbmcgPSB0aGlzLl9tb2RlbGluZztcblxuICB2YXIgc2hhcGUgPSBjb250ZXh0LnNoYXBlLFxuICAgICAgb2xkQm91bmRzID0gY29udGV4dC5vbGRCb3VuZHMsXG4gICAgICBoaW50cyA9IGNvbnRleHQuaGludHMgfHwge307XG5cbiAgaWYgKGhpbnRzLmxheW91dCA9PT0gZmFsc2UpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBmb3JFYWNoKHNoYXBlLmluY29taW5nLCBmdW5jdGlvbihjKSB7XG4gICAgbW9kZWxpbmcubGF5b3V0Q29ubmVjdGlvbihjLCB7XG4gICAgICBjb25uZWN0aW9uRW5kOiBnZXRSZXNpemVkVGFyZ2V0QW5jaG9yKGMsIHNoYXBlLCBvbGRCb3VuZHMpXG4gICAgfSk7XG4gIH0pO1xuXG4gIGZvckVhY2goc2hhcGUub3V0Z29pbmcsIGZ1bmN0aW9uKGMpIHtcbiAgICBtb2RlbGluZy5sYXlvdXRDb25uZWN0aW9uKGMsIHtcbiAgICAgIGNvbm5lY3Rpb25TdGFydDogZ2V0UmVzaXplZFNvdXJjZUFuY2hvcihjLCBzaGFwZSwgb2xkQm91bmRzKVxuICAgIH0pO1xuICB9KTtcblxufTtcblxuUmVzaXplU2hhcGVIYW5kbGVyLnByb3RvdHlwZS5yZXZlcnQgPSBmdW5jdGlvbihjb250ZXh0KSB7XG5cbiAgdmFyIHNoYXBlID0gY29udGV4dC5zaGFwZSxcbiAgICAgIG9sZEJvdW5kcyA9IGNvbnRleHQub2xkQm91bmRzO1xuXG4gIC8vIHJlc3RvcmUgcHJldmlvdXMgYmJveFxuICBhc3NpZ24oc2hhcGUsIHtcbiAgICB3aWR0aDogIG9sZEJvdW5kcy53aWR0aCxcbiAgICBoZWlnaHQ6IG9sZEJvdW5kcy5oZWlnaHQsXG4gICAgeDogICAgICBvbGRCb3VuZHMueCxcbiAgICB5OiAgICAgIG9sZEJvdW5kcy55XG4gIH0pO1xuXG4gIHJldHVybiBzaGFwZTtcbn07XG4iLCJpbXBvcnQge1xuICBhc3NpZ24sXG4gIGZvckVhY2gsXG4gIG1hcFxufSBmcm9tICdtaW4tZGFzaCc7XG5cbmltcG9ydCB7XG4gIGdldFdheXBvaW50c1VwZGF0aW5nQ29ubmVjdGlvbnMsXG4gIHJlc2l6ZUJvdW5kc1xufSBmcm9tICcuLi8uLi9zcGFjZS10b29sL1NwYWNlVXRpbCc7XG5cbmltcG9ydCB7XG4gIGdldE1vdmVkU291cmNlQW5jaG9yLFxuICBnZXRNb3ZlZFRhcmdldEFuY2hvcixcbiAgZ2V0UmVzaXplZFNvdXJjZUFuY2hvcixcbiAgZ2V0UmVzaXplZFRhcmdldEFuY2hvclxufSBmcm9tICcuL2hlbHBlci9BbmNob3JzSGVscGVyJztcblxuXG4vKipcbiAqIEFkZCBvciByZW1vdmUgc3BhY2UgYnkgbW92aW5nIGFuZCByZXNpemluZyBzaGFwZXMgYW5kIHVwZGF0aW5nIGNvbm5lY3Rpb24gd2F5cG9pbnRzLlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBTcGFjZVRvb2xIYW5kbGVyKG1vZGVsaW5nKSB7XG4gIHRoaXMuX21vZGVsaW5nID0gbW9kZWxpbmc7XG59XG5cblNwYWNlVG9vbEhhbmRsZXIuJGluamVjdCA9IFsgJ21vZGVsaW5nJyBdO1xuXG5TcGFjZVRvb2xIYW5kbGVyLnByb3RvdHlwZS5wcmVFeGVjdXRlID0gZnVuY3Rpb24oY29udGV4dCkge1xuICB2YXIgZGVsdGEgPSBjb250ZXh0LmRlbHRhLFxuICAgICAgZGlyZWN0aW9uID0gY29udGV4dC5kaXJlY3Rpb24sXG4gICAgICBtb3ZpbmdTaGFwZXMgPSBjb250ZXh0Lm1vdmluZ1NoYXBlcyxcbiAgICAgIHJlc2l6aW5nU2hhcGVzID0gY29udGV4dC5yZXNpemluZ1NoYXBlcyxcbiAgICAgIHN0YXJ0ID0gY29udGV4dC5zdGFydCxcbiAgICAgIG9sZEJvdW5kcyA9IHt9O1xuXG4gIC8vICgxKSBtb3ZlIHNoYXBlc1xuICB0aGlzLm1vdmVTaGFwZXMobW92aW5nU2hhcGVzLCBkZWx0YSk7XG5cbiAgLy8gKDJhKSBzYXZlIG9sZCBib3VuZHMgb2YgcmVzaXplZCBzaGFwZXNcbiAgZm9yRWFjaChyZXNpemluZ1NoYXBlcywgZnVuY3Rpb24oc2hhcGUpIHtcbiAgICBvbGRCb3VuZHNbc2hhcGUuaWRdID0gZ2V0Qm91bmRzKHNoYXBlKTtcbiAgfSk7XG5cbiAgLy8gKDJiKSByZXNpemUgc2hhcGVzXG4gIHRoaXMucmVzaXplU2hhcGVzKHJlc2l6aW5nU2hhcGVzLCBkZWx0YSwgZGlyZWN0aW9uKTtcblxuICAvLyAoMykgdXBkYXRlIGNvbm5lY3Rpb24gd2F5cG9pbnRzXG4gIHRoaXMudXBkYXRlQ29ubmVjdGlvbldheXBvaW50cyhcbiAgICBnZXRXYXlwb2ludHNVcGRhdGluZ0Nvbm5lY3Rpb25zKG1vdmluZ1NoYXBlcywgcmVzaXppbmdTaGFwZXMpLFxuICAgIGRlbHRhLFxuICAgIGRpcmVjdGlvbixcbiAgICBzdGFydCxcbiAgICBtb3ZpbmdTaGFwZXMsXG4gICAgcmVzaXppbmdTaGFwZXMsXG4gICAgb2xkQm91bmRzXG4gICk7XG59O1xuXG5TcGFjZVRvb2xIYW5kbGVyLnByb3RvdHlwZS5leGVjdXRlID0gZnVuY3Rpb24oKSB7fTtcblNwYWNlVG9vbEhhbmRsZXIucHJvdG90eXBlLnJldmVydCA9IGZ1bmN0aW9uKCkge307XG5cblNwYWNlVG9vbEhhbmRsZXIucHJvdG90eXBlLm1vdmVTaGFwZXMgPSBmdW5jdGlvbihzaGFwZXMsIGRlbHRhKSB7XG4gIHZhciBzZWxmID0gdGhpcztcblxuICBmb3JFYWNoKHNoYXBlcywgZnVuY3Rpb24oZWxlbWVudCkge1xuICAgIHNlbGYuX21vZGVsaW5nLm1vdmVTaGFwZShlbGVtZW50LCBkZWx0YSwgbnVsbCwge1xuICAgICAgYXV0b1Jlc2l6ZTogZmFsc2UsXG4gICAgICBsYXlvdXQ6IGZhbHNlLFxuICAgICAgcmVjdXJzZTogZmFsc2VcbiAgICB9KTtcbiAgfSk7XG59O1xuXG5TcGFjZVRvb2xIYW5kbGVyLnByb3RvdHlwZS5yZXNpemVTaGFwZXMgPSBmdW5jdGlvbihzaGFwZXMsIGRlbHRhLCBkaXJlY3Rpb24pIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIGZvckVhY2goc2hhcGVzLCBmdW5jdGlvbihzaGFwZSkge1xuICAgIHZhciBuZXdCb3VuZHMgPSByZXNpemVCb3VuZHMoc2hhcGUsIGRpcmVjdGlvbiwgZGVsdGEpO1xuXG4gICAgc2VsZi5fbW9kZWxpbmcucmVzaXplU2hhcGUoc2hhcGUsIG5ld0JvdW5kcywgbnVsbCwge1xuICAgICAgYXR0YWNoU3VwcG9ydDogZmFsc2UsXG4gICAgICBhdXRvUmVzaXplOiBmYWxzZSxcbiAgICAgIGxheW91dDogZmFsc2VcbiAgICB9KTtcbiAgfSk7XG59O1xuXG4vKipcbiAqIFVwZGF0ZSBjb25uZWN0aW9ucyB3YXlwb2ludHMgYWNjb3JkaW5nIHRvIHRoZSBydWxlczpcbiAqICAgMS4gQm90aCBzb3VyY2UgYW5kIHRhcmdldCBhcmUgbW92ZWQvcmVzaXplZCA9PiBtb3ZlIHdheXBvaW50cyBieSB0aGUgZGVsdGFcbiAqICAgMi4gT25seSBvbmUgb2Ygc291cmNlIGFuZCB0YXJnZXQgaXMgbW92ZWQvcmVzaXplZCA9PiByZS1sYXlvdXQgY29ubmVjdGlvbiB3aXRoIG1vdmVkIHN0YXJ0L2VuZFxuICovXG5TcGFjZVRvb2xIYW5kbGVyLnByb3RvdHlwZS51cGRhdGVDb25uZWN0aW9uV2F5cG9pbnRzID0gZnVuY3Rpb24oXG4gICAgY29ubmVjdGlvbnMsXG4gICAgZGVsdGEsXG4gICAgZGlyZWN0aW9uLFxuICAgIHN0YXJ0LFxuICAgIG1vdmluZ1NoYXBlcyxcbiAgICByZXNpemluZ1NoYXBlcyxcbiAgICBvbGRCb3VuZHNcbikge1xuICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICBhZmZlY3RlZFNoYXBlcyA9IG1vdmluZ1NoYXBlcy5jb25jYXQocmVzaXppbmdTaGFwZXMpO1xuXG4gIGZvckVhY2goY29ubmVjdGlvbnMsIGZ1bmN0aW9uKGNvbm5lY3Rpb24pIHtcbiAgICB2YXIgc291cmNlID0gY29ubmVjdGlvbi5zb3VyY2UsXG4gICAgICAgIHRhcmdldCA9IGNvbm5lY3Rpb24udGFyZ2V0LFxuICAgICAgICB3YXlwb2ludHMgPSBjb3B5V2F5cG9pbnRzKGNvbm5lY3Rpb24pLFxuICAgICAgICBheGlzID0gZ2V0QXhpc0Zyb21EaXJlY3Rpb24oZGlyZWN0aW9uKSxcbiAgICAgICAgbGF5b3V0SGludHMgPSB7XG4gICAgICAgICAgbGFiZWxCZWhhdmlvcjogZmFsc2VcbiAgICAgICAgfTtcblxuICAgIGlmIChpbmNsdWRlcyhhZmZlY3RlZFNoYXBlcywgc291cmNlKSAmJiBpbmNsdWRlcyhhZmZlY3RlZFNoYXBlcywgdGFyZ2V0KSkge1xuXG4gICAgICAvLyBtb3ZlIHdheXBvaW50c1xuICAgICAgd2F5cG9pbnRzID0gbWFwKHdheXBvaW50cywgZnVuY3Rpb24od2F5cG9pbnQpIHtcbiAgICAgICAgaWYgKHNob3VsZE1vdmVXYXlwb2ludCh3YXlwb2ludCwgc3RhcnQsIGRpcmVjdGlvbikpIHtcblxuICAgICAgICAgIC8vIG1vdmUgd2F5cG9pbnRcbiAgICAgICAgICB3YXlwb2ludFsgYXhpcyBdID0gd2F5cG9pbnRbIGF4aXMgXSArIGRlbHRhWyBheGlzIF07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAod2F5cG9pbnQub3JpZ2luYWwgJiYgc2hvdWxkTW92ZVdheXBvaW50KHdheXBvaW50Lm9yaWdpbmFsLCBzdGFydCwgZGlyZWN0aW9uKSkge1xuXG4gICAgICAgICAgLy8gbW92ZSB3YXlwb2ludCBvcmlnaW5hbFxuICAgICAgICAgIHdheXBvaW50Lm9yaWdpbmFsWyBheGlzIF0gPSB3YXlwb2ludC5vcmlnaW5hbFsgYXhpcyBdICsgZGVsdGFbIGF4aXMgXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB3YXlwb2ludDtcbiAgICAgIH0pO1xuXG4gICAgICBzZWxmLl9tb2RlbGluZy51cGRhdGVXYXlwb2ludHMoY29ubmVjdGlvbiwgd2F5cG9pbnRzLCB7XG4gICAgICAgIGxhYmVsQmVoYXZpb3I6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKGluY2x1ZGVzKGFmZmVjdGVkU2hhcGVzLCBzb3VyY2UpIHx8IGluY2x1ZGVzKGFmZmVjdGVkU2hhcGVzLCB0YXJnZXQpKSB7XG5cbiAgICAgIC8vIHJlLWxheW91dCBjb25uZWN0aW9uIHdpdGggbW92ZWQgc3RhcnQvZW5kXG4gICAgICBpZiAoaW5jbHVkZXMobW92aW5nU2hhcGVzLCBzb3VyY2UpKSB7XG4gICAgICAgIGxheW91dEhpbnRzLmNvbm5lY3Rpb25TdGFydCA9IGdldE1vdmVkU291cmNlQW5jaG9yKGNvbm5lY3Rpb24sIHNvdXJjZSwgZGVsdGEpO1xuICAgICAgfSBlbHNlIGlmIChpbmNsdWRlcyhtb3ZpbmdTaGFwZXMsIHRhcmdldCkpIHtcbiAgICAgICAgbGF5b3V0SGludHMuY29ubmVjdGlvbkVuZCA9IGdldE1vdmVkVGFyZ2V0QW5jaG9yKGNvbm5lY3Rpb24sIHRhcmdldCwgZGVsdGEpO1xuICAgICAgfSBlbHNlIGlmIChpbmNsdWRlcyhyZXNpemluZ1NoYXBlcywgc291cmNlKSkge1xuICAgICAgICBsYXlvdXRIaW50cy5jb25uZWN0aW9uU3RhcnQgPSBnZXRSZXNpemVkU291cmNlQW5jaG9yKFxuICAgICAgICAgIGNvbm5lY3Rpb24sIHNvdXJjZSwgb2xkQm91bmRzW3NvdXJjZS5pZF1cbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSBpZiAoaW5jbHVkZXMocmVzaXppbmdTaGFwZXMsIHRhcmdldCkpIHtcbiAgICAgICAgbGF5b3V0SGludHMuY29ubmVjdGlvbkVuZCA9IGdldFJlc2l6ZWRUYXJnZXRBbmNob3IoXG4gICAgICAgICAgY29ubmVjdGlvbiwgdGFyZ2V0LCBvbGRCb3VuZHNbdGFyZ2V0LmlkXVxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICBzZWxmLl9tb2RlbGluZy5sYXlvdXRDb25uZWN0aW9uKGNvbm5lY3Rpb24sIGxheW91dEhpbnRzKTtcbiAgICB9XG4gIH0pO1xufTtcblxuXG4vLyBoZWxwZXJzIC8vLy8vLy8vLy9cblxuZnVuY3Rpb24gY29weVdheXBvaW50KHdheXBvaW50KSB7XG4gIHJldHVybiBhc3NpZ24oe30sIHdheXBvaW50KTtcbn1cblxuZnVuY3Rpb24gY29weVdheXBvaW50cyhjb25uZWN0aW9uKSB7XG4gIHJldHVybiBtYXAoY29ubmVjdGlvbi53YXlwb2ludHMsIGZ1bmN0aW9uKHdheXBvaW50KSB7XG5cbiAgICB3YXlwb2ludCA9IGNvcHlXYXlwb2ludCh3YXlwb2ludCk7XG5cbiAgICBpZiAod2F5cG9pbnQub3JpZ2luYWwpIHtcbiAgICAgIHdheXBvaW50Lm9yaWdpbmFsID0gY29weVdheXBvaW50KHdheXBvaW50Lm9yaWdpbmFsKTtcbiAgICB9XG5cbiAgICByZXR1cm4gd2F5cG9pbnQ7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBnZXRBeGlzRnJvbURpcmVjdGlvbihkaXJlY3Rpb24pIHtcbiAgc3dpdGNoIChkaXJlY3Rpb24pIHtcbiAgY2FzZSAnbic6XG4gICAgcmV0dXJuICd5JztcbiAgY2FzZSAndyc6XG4gICAgcmV0dXJuICd4JztcbiAgY2FzZSAncyc6XG4gICAgcmV0dXJuICd5JztcbiAgY2FzZSAnZSc6XG4gICAgcmV0dXJuICd4JztcbiAgfVxufVxuXG5mdW5jdGlvbiBzaG91bGRNb3ZlV2F5cG9pbnQod2F5cG9pbnQsIHN0YXJ0LCBkaXJlY3Rpb24pIHtcbiAgdmFyIHJlbGV2YW50QXhpcyA9IGdldEF4aXNGcm9tRGlyZWN0aW9uKGRpcmVjdGlvbik7XG5cbiAgaWYgKC9lfHMvLnRlc3QoZGlyZWN0aW9uKSkge1xuICAgIHJldHVybiB3YXlwb2ludFsgcmVsZXZhbnRBeGlzIF0gPiBzdGFydDtcbiAgfSBlbHNlIGlmICgvbnx3Ly50ZXN0KGRpcmVjdGlvbikpIHtcbiAgICByZXR1cm4gd2F5cG9pbnRbIHJlbGV2YW50QXhpcyBdIDwgc3RhcnQ7XG4gIH1cbn1cblxuZnVuY3Rpb24gaW5jbHVkZXMoYXJyYXksIGl0ZW0pIHtcbiAgcmV0dXJuIGFycmF5LmluZGV4T2YoaXRlbSkgIT09IC0xO1xufVxuXG5mdW5jdGlvbiBnZXRCb3VuZHMoc2hhcGUpIHtcbiAgcmV0dXJuIHtcbiAgICB4OiBzaGFwZS54LFxuICAgIHk6IHNoYXBlLnksXG4gICAgaGVpZ2h0OiBzaGFwZS5oZWlnaHQsXG4gICAgd2lkdGg6IHNoYXBlLndpZHRoXG4gIH07XG59XG4iLCJpbXBvcnQge1xuICBhc3NpZ24sXG4gIGZvckVhY2hcbn0gZnJvbSAnbWluLWRhc2gnO1xuXG4vKipcbiAqIEEgaGFuZGxlciB0aGF0IHRvZ2dsZXMgdGhlIGNvbGxhcHNlZCBzdGF0ZSBvZiBhbiBlbGVtZW50XG4gKiBhbmQgdGhlIHZpc2liaWxpdHkgb2YgYWxsIGl0cyBjaGlsZHJlbi5cbiAqXG4gKiBAcGFyYW0ge01vZGVsaW5nfSBtb2RlbGluZ1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBUb2dnbGVTaGFwZUNvbGxhcHNlSGFuZGxlcihtb2RlbGluZykge1xuICB0aGlzLl9tb2RlbGluZyA9IG1vZGVsaW5nO1xufVxuXG5Ub2dnbGVTaGFwZUNvbGxhcHNlSGFuZGxlci4kaW5qZWN0ID0gWyAnbW9kZWxpbmcnIF07XG5cblxuVG9nZ2xlU2hhcGVDb2xsYXBzZUhhbmRsZXIucHJvdG90eXBlLmV4ZWN1dGUgPSBmdW5jdGlvbihjb250ZXh0KSB7XG5cbiAgdmFyIHNoYXBlID0gY29udGV4dC5zaGFwZSxcbiAgICAgIGNoaWxkcmVuID0gc2hhcGUuY2hpbGRyZW47XG5cbiAgLy8gcmVjdXJzaXZlbHkgcmVtZW1iZXIgcHJldmlvdXMgdmlzaWJpbGl0eSBvZiBjaGlsZHJlblxuICBjb250ZXh0Lm9sZENoaWxkcmVuVmlzaWJpbGl0eSA9IGdldEVsZW1lbnRzVmlzaWJpbGl0eVJlY3Vyc2l2ZShjaGlsZHJlbik7XG5cbiAgLy8gdG9nZ2xlIHN0YXRlXG4gIHNoYXBlLmNvbGxhcHNlZCA9ICFzaGFwZS5jb2xsYXBzZWQ7XG5cbiAgLy8gcmVjdXJzaXZlbHkgaGlkZS9zaG93IGNoaWxkcmVuXG4gIHZhciByZXN1bHQgPSBzZXRIaWRkZW5SZWN1cnNpdmUoY2hpbGRyZW4sIHNoYXBlLmNvbGxhcHNlZCk7XG5cbiAgcmV0dXJuIFtzaGFwZV0uY29uY2F0KHJlc3VsdCk7XG59O1xuXG5cblRvZ2dsZVNoYXBlQ29sbGFwc2VIYW5kbGVyLnByb3RvdHlwZS5yZXZlcnQgPSBmdW5jdGlvbihjb250ZXh0KSB7XG5cbiAgdmFyIHNoYXBlID0gY29udGV4dC5zaGFwZSxcbiAgICAgIG9sZENoaWxkcmVuVmlzaWJpbGl0eSA9IGNvbnRleHQub2xkQ2hpbGRyZW5WaXNpYmlsaXR5O1xuXG4gIHZhciBjaGlsZHJlbiA9IHNoYXBlLmNoaWxkcmVuO1xuXG4gIC8vIHJlY3Vyc2l2ZWx5IHNldCBvbGQgdmlzYWJpbGl0eSBvZiBjaGlsZHJlblxuICB2YXIgcmVzdWx0ID0gcmVzdG9yZVZpc2liaWxpdHlSZWN1cnNpdmUoY2hpbGRyZW4sIG9sZENoaWxkcmVuVmlzaWJpbGl0eSk7XG5cbiAgLy8gcmV0b2dnbGUgc3RhdGVcbiAgc2hhcGUuY29sbGFwc2VkID0gIXNoYXBlLmNvbGxhcHNlZDtcblxuICByZXR1cm4gW3NoYXBlXS5jb25jYXQocmVzdWx0KTtcbn07XG5cblxuLy8gaGVscGVycyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbi8qKlxuICogUmV0dXJuIGEgbWFwIHsgZWxlbWVudElkIC0+IGhpZGRlblN0YXRlfS5cbiAqXG4gKiBAcGFyYW0ge0FycmF5PGRqcy5tb2RlbC5TaGFwZT59IGVsZW1lbnRzXG4gKlxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5mdW5jdGlvbiBnZXRFbGVtZW50c1Zpc2liaWxpdHlSZWN1cnNpdmUoZWxlbWVudHMpIHtcblxuICB2YXIgcmVzdWx0ID0ge307XG5cbiAgZm9yRWFjaChlbGVtZW50cywgZnVuY3Rpb24oZWxlbWVudCkge1xuICAgIHJlc3VsdFtlbGVtZW50LmlkXSA9IGVsZW1lbnQuaGlkZGVuO1xuXG4gICAgaWYgKGVsZW1lbnQuY2hpbGRyZW4pIHtcbiAgICAgIHJlc3VsdCA9IGFzc2lnbih7fSwgcmVzdWx0LCBnZXRFbGVtZW50c1Zpc2liaWxpdHlSZWN1cnNpdmUoZWxlbWVudC5jaGlsZHJlbikpO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuXG5mdW5jdGlvbiBzZXRIaWRkZW5SZWN1cnNpdmUoZWxlbWVudHMsIG5ld0hpZGRlbikge1xuICB2YXIgcmVzdWx0ID0gW107XG4gIGZvckVhY2goZWxlbWVudHMsIGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICBlbGVtZW50LmhpZGRlbiA9IG5ld0hpZGRlbjtcblxuICAgIHJlc3VsdCA9IHJlc3VsdC5jb25jYXQoZWxlbWVudCk7XG5cbiAgICBpZiAoZWxlbWVudC5jaGlsZHJlbikge1xuICAgICAgcmVzdWx0ID0gcmVzdWx0LmNvbmNhdChzZXRIaWRkZW5SZWN1cnNpdmUoZWxlbWVudC5jaGlsZHJlbiwgZWxlbWVudC5jb2xsYXBzZWQgfHwgbmV3SGlkZGVuKSk7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiByZXN0b3JlVmlzaWJpbGl0eVJlY3Vyc2l2ZShlbGVtZW50cywgbGFzdFN0YXRlKSB7XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgZm9yRWFjaChlbGVtZW50cywgZnVuY3Rpb24oZWxlbWVudCkge1xuICAgIGVsZW1lbnQuaGlkZGVuID0gbGFzdFN0YXRlW2VsZW1lbnQuaWRdO1xuXG4gICAgcmVzdWx0ID0gcmVzdWx0LmNvbmNhdChlbGVtZW50KTtcblxuICAgIGlmIChlbGVtZW50LmNoaWxkcmVuKSB7XG4gICAgICByZXN1bHQgPSByZXN1bHQuY29uY2F0KHJlc3RvcmVWaXNpYmlsaXR5UmVjdXJzaXZlKGVsZW1lbnQuY2hpbGRyZW4sIGxhc3RTdGF0ZSkpO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbiIsImltcG9ydCB7XG4gIGFkZCBhcyBjb2xsZWN0aW9uQWRkLFxuICByZW1vdmUgYXMgY29sbGVjdGlvblJlbW92ZVxufSBmcm9tICcuLi8uLi8uLi91dGlsL0NvbGxlY3Rpb25zJztcblxuLyoqXG4gKiBBIGhhbmRsZXIgdGhhdCBpbXBsZW1lbnRzIHJldmVyc2libGUgYXR0YWNoaW5nL2RldGFjaGluZyBvZiBzaGFwZXMuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFVwZGF0ZUF0dGFjaG1lbnRIYW5kbGVyKG1vZGVsaW5nKSB7XG4gIHRoaXMuX21vZGVsaW5nID0gbW9kZWxpbmc7XG59XG5cblVwZGF0ZUF0dGFjaG1lbnRIYW5kbGVyLiRpbmplY3QgPSBbICdtb2RlbGluZycgXTtcblxuXG5VcGRhdGVBdHRhY2htZW50SGFuZGxlci5wcm90b3R5cGUuZXhlY3V0ZSA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcbiAgdmFyIHNoYXBlID0gY29udGV4dC5zaGFwZSxcbiAgICAgIG5ld0hvc3QgPSBjb250ZXh0Lm5ld0hvc3QsXG4gICAgICBvbGRIb3N0ID0gc2hhcGUuaG9zdDtcblxuICAvLyAoMCkgZGV0YWNoIGZyb20gb2xkIGhvc3RcbiAgY29udGV4dC5vbGRIb3N0ID0gb2xkSG9zdDtcbiAgY29udGV4dC5hdHRhY2hlcklkeCA9IHJlbW92ZUF0dGFjaGVyKG9sZEhvc3QsIHNoYXBlKTtcblxuICAvLyAoMSkgYXR0YWNoIHRvIG5ldyBob3N0XG4gIGFkZEF0dGFjaGVyKG5ld0hvc3QsIHNoYXBlKTtcblxuICAvLyAoMikgdXBkYXRlIGhvc3RcbiAgc2hhcGUuaG9zdCA9IG5ld0hvc3Q7XG5cbiAgcmV0dXJuIHNoYXBlO1xufTtcblxuVXBkYXRlQXR0YWNobWVudEhhbmRsZXIucHJvdG90eXBlLnJldmVydCA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcbiAgdmFyIHNoYXBlID0gY29udGV4dC5zaGFwZSxcbiAgICAgIG5ld0hvc3QgPSBjb250ZXh0Lm5ld0hvc3QsXG4gICAgICBvbGRIb3N0ID0gY29udGV4dC5vbGRIb3N0LFxuICAgICAgYXR0YWNoZXJJZHggPSBjb250ZXh0LmF0dGFjaGVySWR4O1xuXG4gIC8vICgyKSB1cGRhdGUgaG9zdFxuICBzaGFwZS5ob3N0ID0gb2xkSG9zdDtcblxuICAvLyAoMSkgYXR0YWNoIHRvIG5ldyBob3N0XG4gIHJlbW92ZUF0dGFjaGVyKG5ld0hvc3QsIHNoYXBlKTtcblxuICAvLyAoMCkgZGV0YWNoIGZyb20gb2xkIGhvc3RcbiAgYWRkQXR0YWNoZXIob2xkSG9zdCwgc2hhcGUsIGF0dGFjaGVySWR4KTtcblxuICByZXR1cm4gc2hhcGU7XG59O1xuXG5cbmZ1bmN0aW9uIHJlbW92ZUF0dGFjaGVyKGhvc3QsIGF0dGFjaGVyKSB7XG5cbiAgLy8gcmVtb3ZlIGF0dGFjaGVyIGZyb20gaG9zdFxuICByZXR1cm4gY29sbGVjdGlvblJlbW92ZShob3N0ICYmIGhvc3QuYXR0YWNoZXJzLCBhdHRhY2hlcik7XG59XG5cbmZ1bmN0aW9uIGFkZEF0dGFjaGVyKGhvc3QsIGF0dGFjaGVyLCBpZHgpIHtcblxuICBpZiAoIWhvc3QpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgYXR0YWNoZXJzID0gaG9zdC5hdHRhY2hlcnM7XG5cbiAgaWYgKCFhdHRhY2hlcnMpIHtcbiAgICBob3N0LmF0dGFjaGVycyA9IGF0dGFjaGVycyA9IFtdO1xuICB9XG5cbiAgY29sbGVjdGlvbkFkZChhdHRhY2hlcnMsIGF0dGFjaGVyLCBpZHgpO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gVXBkYXRlV2F5cG9pbnRzSGFuZGxlcigpIHsgfVxuXG5VcGRhdGVXYXlwb2ludHNIYW5kbGVyLnByb3RvdHlwZS5leGVjdXRlID0gZnVuY3Rpb24oY29udGV4dCkge1xuXG4gIHZhciBjb25uZWN0aW9uID0gY29udGV4dC5jb25uZWN0aW9uLFxuICAgICAgbmV3V2F5cG9pbnRzID0gY29udGV4dC5uZXdXYXlwb2ludHM7XG5cbiAgY29udGV4dC5vbGRXYXlwb2ludHMgPSBjb25uZWN0aW9uLndheXBvaW50cztcblxuICBjb25uZWN0aW9uLndheXBvaW50cyA9IG5ld1dheXBvaW50cztcblxuICByZXR1cm4gY29ubmVjdGlvbjtcbn07XG5cblVwZGF0ZVdheXBvaW50c0hhbmRsZXIucHJvdG90eXBlLnJldmVydCA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcblxuICB2YXIgY29ubmVjdGlvbiA9IGNvbnRleHQuY29ubmVjdGlvbixcbiAgICAgIG9sZFdheXBvaW50cyA9IGNvbnRleHQub2xkV2F5cG9pbnRzO1xuXG4gIGNvbm5lY3Rpb24ud2F5cG9pbnRzID0gb2xkV2F5cG9pbnRzO1xuXG4gIHJldHVybiBjb25uZWN0aW9uO1xufTsiLCJpbXBvcnQge1xuICBhc3NpZ24sXG4gIGZvckVhY2gsXG4gIGlzQXJyYXlcbn0gZnJvbSAnbWluLWRhc2gnO1xuXG5pbXBvcnQge1xuICBCYXNlXG59IGZyb20gJy4uLy4uL21vZGVsJztcblxuaW1wb3J0IEFsaWduRWxlbWVudHNIYW5kbGVyIGZyb20gJy4vY21kL0FsaWduRWxlbWVudHNIYW5kbGVyJztcbmltcG9ydCBBcHBlbmRTaGFwZUhhbmRsZXIgZnJvbSAnLi9jbWQvQXBwZW5kU2hhcGVIYW5kbGVyJztcbmltcG9ydCBDcmVhdGVDb25uZWN0aW9uSGFuZGxlciBmcm9tICcuL2NtZC9DcmVhdGVDb25uZWN0aW9uSGFuZGxlcic7XG5pbXBvcnQgQ3JlYXRlRWxlbWVudHNIYW5kbGVyIGZyb20gJy4vY21kL0NyZWF0ZUVsZW1lbnRzSGFuZGxlcic7XG5pbXBvcnQgQ3JlYXRlTGFiZWxIYW5kbGVyIGZyb20gJy4vY21kL0NyZWF0ZUxhYmVsSGFuZGxlcic7XG5pbXBvcnQgQ3JlYXRlU2hhcGVIYW5kbGVyIGZyb20gJy4vY21kL0NyZWF0ZVNoYXBlSGFuZGxlcic7XG5pbXBvcnQgRGVsZXRlQ29ubmVjdGlvbkhhbmRsZXIgZnJvbSAnLi9jbWQvRGVsZXRlQ29ubmVjdGlvbkhhbmRsZXInO1xuaW1wb3J0IERlbGV0ZUVsZW1lbnRzSGFuZGxlciBmcm9tICcuL2NtZC9EZWxldGVFbGVtZW50c0hhbmRsZXInO1xuaW1wb3J0IERlbGV0ZVNoYXBlSGFuZGxlciBmcm9tICcuL2NtZC9EZWxldGVTaGFwZUhhbmRsZXInO1xuaW1wb3J0IERpc3RyaWJ1dGVFbGVtZW50c0hhbmRsZXIgZnJvbSAnLi9jbWQvRGlzdHJpYnV0ZUVsZW1lbnRzSGFuZGxlcic7XG5pbXBvcnQgTGF5b3V0Q29ubmVjdGlvbkhhbmRsZXIgZnJvbSAnLi9jbWQvTGF5b3V0Q29ubmVjdGlvbkhhbmRsZXInO1xuaW1wb3J0IE1vdmVDb25uZWN0aW9uSGFuZGxlciBmcm9tICcuL2NtZC9Nb3ZlQ29ubmVjdGlvbkhhbmRsZXInO1xuaW1wb3J0IE1vdmVFbGVtZW50c0hhbmRsZXIgZnJvbSAnLi9jbWQvTW92ZUVsZW1lbnRzSGFuZGxlcic7XG5pbXBvcnQgTW92ZVNoYXBlSGFuZGxlciBmcm9tICcuL2NtZC9Nb3ZlU2hhcGVIYW5kbGVyJztcbmltcG9ydCBSZWNvbm5lY3RDb25uZWN0aW9uSGFuZGxlciBmcm9tICcuL2NtZC9SZWNvbm5lY3RDb25uZWN0aW9uSGFuZGxlcic7XG5pbXBvcnQgUmVwbGFjZVNoYXBlSGFuZGxlciBmcm9tICcuL2NtZC9SZXBsYWNlU2hhcGVIYW5kbGVyJztcbmltcG9ydCBSZXNpemVTaGFwZUhhbmRsZXIgZnJvbSAnLi9jbWQvUmVzaXplU2hhcGVIYW5kbGVyJztcbmltcG9ydCBTcGFjZVRvb2xIYW5kbGVyIGZyb20gJy4vY21kL1NwYWNlVG9vbEhhbmRsZXInO1xuaW1wb3J0IFRvZ2dsZVNoYXBlQ29sbGFwc2VIYW5kbGVyIGZyb20gJy4vY21kL1RvZ2dsZVNoYXBlQ29sbGFwc2VIYW5kbGVyJztcbmltcG9ydCBVcGRhdGVBdHRhY2htZW50SGFuZGxlciBmcm9tICcuL2NtZC9VcGRhdGVBdHRhY2htZW50SGFuZGxlcic7XG5pbXBvcnQgVXBkYXRlV2F5cG9pbnRzSGFuZGxlciBmcm9tICcuL2NtZC9VcGRhdGVXYXlwb2ludHNIYW5kbGVyJztcblxuXG4vKipcbiAqIFRoZSBiYXNpYyBtb2RlbGluZyBlbnRyeSBwb2ludC5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50QnVzfSBldmVudEJ1c1xuICogQHBhcmFtIHtFbGVtZW50RmFjdG9yeX0gZWxlbWVudEZhY3RvcnlcbiAqIEBwYXJhbSB7Q29tbWFuZFN0YWNrfSBjb21tYW5kU3RhY2tcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTW9kZWxpbmcoZXZlbnRCdXMsIGVsZW1lbnRGYWN0b3J5LCBjb21tYW5kU3RhY2spIHtcbiAgdGhpcy5fZXZlbnRCdXMgPSBldmVudEJ1cztcbiAgdGhpcy5fZWxlbWVudEZhY3RvcnkgPSBlbGVtZW50RmFjdG9yeTtcbiAgdGhpcy5fY29tbWFuZFN0YWNrID0gY29tbWFuZFN0YWNrO1xuXG4gIHZhciBzZWxmID0gdGhpcztcblxuICBldmVudEJ1cy5vbignZGlhZ3JhbS5pbml0JywgZnVuY3Rpb24oKSB7XG5cbiAgICAvLyByZWdpc3RlciBtb2RlbGluZyBoYW5kbGVyc1xuICAgIHNlbGYucmVnaXN0ZXJIYW5kbGVycyhjb21tYW5kU3RhY2spO1xuICB9KTtcbn1cblxuTW9kZWxpbmcuJGluamVjdCA9IFsgJ2V2ZW50QnVzJywgJ2VsZW1lbnRGYWN0b3J5JywgJ2NvbW1hbmRTdGFjaycgXTtcblxuXG5Nb2RlbGluZy5wcm90b3R5cGUuZ2V0SGFuZGxlcnMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICAnc2hhcGUuYXBwZW5kJzogQXBwZW5kU2hhcGVIYW5kbGVyLFxuICAgICdzaGFwZS5jcmVhdGUnOiBDcmVhdGVTaGFwZUhhbmRsZXIsXG4gICAgJ3NoYXBlLmRlbGV0ZSc6IERlbGV0ZVNoYXBlSGFuZGxlcixcbiAgICAnc2hhcGUubW92ZSc6IE1vdmVTaGFwZUhhbmRsZXIsXG4gICAgJ3NoYXBlLnJlc2l6ZSc6IFJlc2l6ZVNoYXBlSGFuZGxlcixcbiAgICAnc2hhcGUucmVwbGFjZSc6IFJlcGxhY2VTaGFwZUhhbmRsZXIsXG4gICAgJ3NoYXBlLnRvZ2dsZUNvbGxhcHNlJzogVG9nZ2xlU2hhcGVDb2xsYXBzZUhhbmRsZXIsXG5cbiAgICAnc3BhY2VUb29sJzogU3BhY2VUb29sSGFuZGxlcixcblxuICAgICdsYWJlbC5jcmVhdGUnOiBDcmVhdGVMYWJlbEhhbmRsZXIsXG5cbiAgICAnY29ubmVjdGlvbi5jcmVhdGUnOiBDcmVhdGVDb25uZWN0aW9uSGFuZGxlcixcbiAgICAnY29ubmVjdGlvbi5kZWxldGUnOiBEZWxldGVDb25uZWN0aW9uSGFuZGxlcixcbiAgICAnY29ubmVjdGlvbi5tb3ZlJzogTW92ZUNvbm5lY3Rpb25IYW5kbGVyLFxuICAgICdjb25uZWN0aW9uLmxheW91dCc6IExheW91dENvbm5lY3Rpb25IYW5kbGVyLFxuXG4gICAgJ2Nvbm5lY3Rpb24udXBkYXRlV2F5cG9pbnRzJzogVXBkYXRlV2F5cG9pbnRzSGFuZGxlcixcblxuICAgICdjb25uZWN0aW9uLnJlY29ubmVjdCc6IFJlY29ubmVjdENvbm5lY3Rpb25IYW5kbGVyLFxuXG4gICAgJ2VsZW1lbnRzLmNyZWF0ZSc6IENyZWF0ZUVsZW1lbnRzSGFuZGxlcixcbiAgICAnZWxlbWVudHMubW92ZSc6IE1vdmVFbGVtZW50c0hhbmRsZXIsXG4gICAgJ2VsZW1lbnRzLmRlbGV0ZSc6IERlbGV0ZUVsZW1lbnRzSGFuZGxlcixcblxuICAgICdlbGVtZW50cy5kaXN0cmlidXRlJzogRGlzdHJpYnV0ZUVsZW1lbnRzSGFuZGxlcixcbiAgICAnZWxlbWVudHMuYWxpZ24nOiBBbGlnbkVsZW1lbnRzSGFuZGxlcixcblxuICAgICdlbGVtZW50LnVwZGF0ZUF0dGFjaG1lbnQnOiBVcGRhdGVBdHRhY2htZW50SGFuZGxlclxuICB9O1xufTtcblxuLyoqXG4gKiBSZWdpc3RlciBoYW5kbGVycyB3aXRoIHRoZSBjb21tYW5kIHN0YWNrXG4gKlxuICogQHBhcmFtIHtDb21tYW5kU3RhY2t9IGNvbW1hbmRTdGFja1xuICovXG5Nb2RlbGluZy5wcm90b3R5cGUucmVnaXN0ZXJIYW5kbGVycyA9IGZ1bmN0aW9uKGNvbW1hbmRTdGFjaykge1xuICBmb3JFYWNoKHRoaXMuZ2V0SGFuZGxlcnMoKSwgZnVuY3Rpb24oaGFuZGxlciwgaWQpIHtcbiAgICBjb21tYW5kU3RhY2sucmVnaXN0ZXJIYW5kbGVyKGlkLCBoYW5kbGVyKTtcbiAgfSk7XG59O1xuXG5cbi8vIG1vZGVsaW5nIGhlbHBlcnMgLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5Nb2RlbGluZy5wcm90b3R5cGUubW92ZVNoYXBlID0gZnVuY3Rpb24oc2hhcGUsIGRlbHRhLCBuZXdQYXJlbnQsIG5ld1BhcmVudEluZGV4LCBoaW50cykge1xuXG4gIGlmICh0eXBlb2YgbmV3UGFyZW50SW5kZXggPT09ICdvYmplY3QnKSB7XG4gICAgaGludHMgPSBuZXdQYXJlbnRJbmRleDtcbiAgICBuZXdQYXJlbnRJbmRleCA9IG51bGw7XG4gIH1cblxuICB2YXIgY29udGV4dCA9IHtcbiAgICBzaGFwZTogc2hhcGUsXG4gICAgZGVsdGE6ICBkZWx0YSxcbiAgICBuZXdQYXJlbnQ6IG5ld1BhcmVudCxcbiAgICBuZXdQYXJlbnRJbmRleDogbmV3UGFyZW50SW5kZXgsXG4gICAgaGludHM6IGhpbnRzIHx8IHt9XG4gIH07XG5cbiAgdGhpcy5fY29tbWFuZFN0YWNrLmV4ZWN1dGUoJ3NoYXBlLm1vdmUnLCBjb250ZXh0KTtcbn07XG5cblxuLyoqXG4gKiBVcGRhdGUgdGhlIGF0dGFjaG1lbnQgb2YgdGhlIGdpdmVuIHNoYXBlLlxuICpcbiAqIEBwYXJhbSB7ZGpzLm1vZGUuQmFzZX0gc2hhcGVcbiAqIEBwYXJhbSB7ZGpzLm1vZGVsLkJhc2V9IFtuZXdIb3N0XVxuICovXG5Nb2RlbGluZy5wcm90b3R5cGUudXBkYXRlQXR0YWNobWVudCA9IGZ1bmN0aW9uKHNoYXBlLCBuZXdIb3N0KSB7XG4gIHZhciBjb250ZXh0ID0ge1xuICAgIHNoYXBlOiBzaGFwZSxcbiAgICBuZXdIb3N0OiBuZXdIb3N0XG4gIH07XG5cbiAgdGhpcy5fY29tbWFuZFN0YWNrLmV4ZWN1dGUoJ2VsZW1lbnQudXBkYXRlQXR0YWNobWVudCcsIGNvbnRleHQpO1xufTtcblxuXG4vKipcbiAqIE1vdmUgYSBudW1iZXIgb2Ygc2hhcGVzIHRvIGEgbmV3IHRhcmdldCwgZWl0aGVyIHNldHRpbmcgaXQgYXNcbiAqIHRoZSBuZXcgcGFyZW50IG9yIGF0dGFjaGluZyBpdC5cbiAqXG4gKiBAcGFyYW0ge0FycmF5PGRqcy5tb2RlLkJhc2U+fSBzaGFwZXNcbiAqIEBwYXJhbSB7UG9pbnR9IGRlbHRhXG4gKiBAcGFyYW0ge2Rqcy5tb2RlbC5CYXNlfSBbdGFyZ2V0XVxuICogQHBhcmFtIHtPYmplY3R9IFtoaW50c11cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2hpbnRzLmF0dGFjaD1mYWxzZV1cbiAqL1xuTW9kZWxpbmcucHJvdG90eXBlLm1vdmVFbGVtZW50cyA9IGZ1bmN0aW9uKHNoYXBlcywgZGVsdGEsIHRhcmdldCwgaGludHMpIHtcblxuICBoaW50cyA9IGhpbnRzIHx8IHt9O1xuXG4gIHZhciBhdHRhY2ggPSBoaW50cy5hdHRhY2g7XG5cbiAgdmFyIG5ld1BhcmVudCA9IHRhcmdldCxcbiAgICAgIG5ld0hvc3Q7XG5cbiAgaWYgKGF0dGFjaCA9PT0gdHJ1ZSkge1xuICAgIG5ld0hvc3QgPSB0YXJnZXQ7XG4gICAgbmV3UGFyZW50ID0gdGFyZ2V0LnBhcmVudDtcbiAgfSBlbHNlXG5cbiAgaWYgKGF0dGFjaCA9PT0gZmFsc2UpIHtcbiAgICBuZXdIb3N0ID0gbnVsbDtcbiAgfVxuXG4gIHZhciBjb250ZXh0ID0ge1xuICAgIHNoYXBlczogc2hhcGVzLFxuICAgIGRlbHRhOiBkZWx0YSxcbiAgICBuZXdQYXJlbnQ6IG5ld1BhcmVudCxcbiAgICBuZXdIb3N0OiBuZXdIb3N0LFxuICAgIGhpbnRzOiBoaW50c1xuICB9O1xuXG4gIHRoaXMuX2NvbW1hbmRTdGFjay5leGVjdXRlKCdlbGVtZW50cy5tb3ZlJywgY29udGV4dCk7XG59O1xuXG5cbk1vZGVsaW5nLnByb3RvdHlwZS5tb3ZlQ29ubmVjdGlvbiA9IGZ1bmN0aW9uKGNvbm5lY3Rpb24sIGRlbHRhLCBuZXdQYXJlbnQsIG5ld1BhcmVudEluZGV4LCBoaW50cykge1xuXG4gIGlmICh0eXBlb2YgbmV3UGFyZW50SW5kZXggPT09ICdvYmplY3QnKSB7XG4gICAgaGludHMgPSBuZXdQYXJlbnRJbmRleDtcbiAgICBuZXdQYXJlbnRJbmRleCA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIHZhciBjb250ZXh0ID0ge1xuICAgIGNvbm5lY3Rpb246IGNvbm5lY3Rpb24sXG4gICAgZGVsdGE6IGRlbHRhLFxuICAgIG5ld1BhcmVudDogbmV3UGFyZW50LFxuICAgIG5ld1BhcmVudEluZGV4OiBuZXdQYXJlbnRJbmRleCxcbiAgICBoaW50czogaGludHMgfHwge31cbiAgfTtcblxuICB0aGlzLl9jb21tYW5kU3RhY2suZXhlY3V0ZSgnY29ubmVjdGlvbi5tb3ZlJywgY29udGV4dCk7XG59O1xuXG5cbk1vZGVsaW5nLnByb3RvdHlwZS5sYXlvdXRDb25uZWN0aW9uID0gZnVuY3Rpb24oY29ubmVjdGlvbiwgaGludHMpIHtcbiAgdmFyIGNvbnRleHQgPSB7XG4gICAgY29ubmVjdGlvbjogY29ubmVjdGlvbixcbiAgICBoaW50czogaGludHMgfHwge31cbiAgfTtcblxuICB0aGlzLl9jb21tYW5kU3RhY2suZXhlY3V0ZSgnY29ubmVjdGlvbi5sYXlvdXQnLCBjb250ZXh0KTtcbn07XG5cblxuLyoqXG4gKiBDcmVhdGUgY29ubmVjdGlvbi5cbiAqXG4gKiBAcGFyYW0ge2Rqcy5tb2RlbC5CYXNlfSBzb3VyY2VcbiAqIEBwYXJhbSB7ZGpzLm1vZGVsLkJhc2V9IHRhcmdldFxuICogQHBhcmFtIHtudW1iZXJ9IFtwYXJlbnRJbmRleF1cbiAqIEBwYXJhbSB7T2JqZWN0fGRqcy5tb2RlbC5Db25uZWN0aW9ufSBjb25uZWN0aW9uXG4gKiBAcGFyYW0ge2Rqcy5tb2RlbC5CYXNlfSBwYXJlbnRcbiAqIEBwYXJhbSB7T2JqZWN0fSBoaW50c1xuICpcbiAqIEByZXR1cm4ge2Rqcy5tb2RlbC5Db25uZWN0aW9ufSB0aGUgY3JlYXRlZCBjb25uZWN0aW9uLlxuICovXG5Nb2RlbGluZy5wcm90b3R5cGUuY3JlYXRlQ29ubmVjdGlvbiA9IGZ1bmN0aW9uKHNvdXJjZSwgdGFyZ2V0LCBwYXJlbnRJbmRleCwgY29ubmVjdGlvbiwgcGFyZW50LCBoaW50cykge1xuXG4gIGlmICh0eXBlb2YgcGFyZW50SW5kZXggPT09ICdvYmplY3QnKSB7XG4gICAgaGludHMgPSBwYXJlbnQ7XG4gICAgcGFyZW50ID0gY29ubmVjdGlvbjtcbiAgICBjb25uZWN0aW9uID0gcGFyZW50SW5kZXg7XG4gICAgcGFyZW50SW5kZXggPSB1bmRlZmluZWQ7XG4gIH1cblxuICBjb25uZWN0aW9uID0gdGhpcy5fY3JlYXRlKCdjb25uZWN0aW9uJywgY29ubmVjdGlvbik7XG5cbiAgdmFyIGNvbnRleHQgPSB7XG4gICAgc291cmNlOiBzb3VyY2UsXG4gICAgdGFyZ2V0OiB0YXJnZXQsXG4gICAgcGFyZW50OiBwYXJlbnQsXG4gICAgcGFyZW50SW5kZXg6IHBhcmVudEluZGV4LFxuICAgIGNvbm5lY3Rpb246IGNvbm5lY3Rpb24sXG4gICAgaGludHM6IGhpbnRzXG4gIH07XG5cbiAgdGhpcy5fY29tbWFuZFN0YWNrLmV4ZWN1dGUoJ2Nvbm5lY3Rpb24uY3JlYXRlJywgY29udGV4dCk7XG5cbiAgcmV0dXJuIGNvbnRleHQuY29ubmVjdGlvbjtcbn07XG5cblxuLyoqXG4gKiBDcmVhdGUgYSBzaGFwZSBhdCB0aGUgc3BlY2lmaWVkIHBvc2l0aW9uLlxuICpcbiAqIEBwYXJhbSB7ZGpzLm1vZGVsLlNoYXBlfE9iamVjdH0gc2hhcGVcbiAqIEBwYXJhbSB7UG9pbnR9IHBvc2l0aW9uXG4gKiBAcGFyYW0ge2Rqcy5tb2RlbC5TaGFwZXxkanMubW9kZWwuUm9vdH0gdGFyZ2V0XG4gKiBAcGFyYW0ge251bWJlcn0gW3BhcmVudEluZGV4XSBwb3NpdGlvbiBpbiBwYXJlbnRzIGNoaWxkcmVuIGxpc3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBbaGludHNdXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtoaW50cy5hdHRhY2hdIHdoZXRoZXIgdG8gYXR0YWNoIHRvIHRhcmdldCBvciBiZWNvbWUgYSBjaGlsZFxuICpcbiAqIEByZXR1cm4ge2Rqcy5tb2RlbC5TaGFwZX0gdGhlIGNyZWF0ZWQgc2hhcGVcbiAqL1xuTW9kZWxpbmcucHJvdG90eXBlLmNyZWF0ZVNoYXBlID0gZnVuY3Rpb24oc2hhcGUsIHBvc2l0aW9uLCB0YXJnZXQsIHBhcmVudEluZGV4LCBoaW50cykge1xuXG4gIGlmICh0eXBlb2YgcGFyZW50SW5kZXggIT09ICdudW1iZXInKSB7XG4gICAgaGludHMgPSBwYXJlbnRJbmRleDtcbiAgICBwYXJlbnRJbmRleCA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGhpbnRzID0gaGludHMgfHwge307XG5cbiAgdmFyIGF0dGFjaCA9IGhpbnRzLmF0dGFjaCxcbiAgICAgIHBhcmVudCxcbiAgICAgIGhvc3Q7XG5cbiAgc2hhcGUgPSB0aGlzLl9jcmVhdGUoJ3NoYXBlJywgc2hhcGUpO1xuXG4gIGlmIChhdHRhY2gpIHtcbiAgICBwYXJlbnQgPSB0YXJnZXQucGFyZW50O1xuICAgIGhvc3QgPSB0YXJnZXQ7XG4gIH0gZWxzZSB7XG4gICAgcGFyZW50ID0gdGFyZ2V0O1xuICB9XG5cbiAgdmFyIGNvbnRleHQgPSB7XG4gICAgcG9zaXRpb246IHBvc2l0aW9uLFxuICAgIHNoYXBlOiBzaGFwZSxcbiAgICBwYXJlbnQ6IHBhcmVudCxcbiAgICBwYXJlbnRJbmRleDogcGFyZW50SW5kZXgsXG4gICAgaG9zdDogaG9zdCxcbiAgICBoaW50czogaGludHNcbiAgfTtcblxuICB0aGlzLl9jb21tYW5kU3RhY2suZXhlY3V0ZSgnc2hhcGUuY3JlYXRlJywgY29udGV4dCk7XG5cbiAgcmV0dXJuIGNvbnRleHQuc2hhcGU7XG59O1xuXG5cbk1vZGVsaW5nLnByb3RvdHlwZS5jcmVhdGVFbGVtZW50cyA9IGZ1bmN0aW9uKGVsZW1lbnRzLCBwb3NpdGlvbiwgcGFyZW50LCBwYXJlbnRJbmRleCwgaGludHMpIHtcbiAgaWYgKCFpc0FycmF5KGVsZW1lbnRzKSkge1xuICAgIGVsZW1lbnRzID0gWyBlbGVtZW50cyBdO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBwYXJlbnRJbmRleCAhPT0gJ251bWJlcicpIHtcbiAgICBoaW50cyA9IHBhcmVudEluZGV4O1xuICAgIHBhcmVudEluZGV4ID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgaGludHMgPSBoaW50cyB8fCB7fTtcblxuICB2YXIgY29udGV4dCA9IHtcbiAgICBwb3NpdGlvbjogcG9zaXRpb24sXG4gICAgZWxlbWVudHM6IGVsZW1lbnRzLFxuICAgIHBhcmVudDogcGFyZW50LFxuICAgIHBhcmVudEluZGV4OiBwYXJlbnRJbmRleCxcbiAgICBoaW50czogaGludHNcbiAgfTtcblxuICB0aGlzLl9jb21tYW5kU3RhY2suZXhlY3V0ZSgnZWxlbWVudHMuY3JlYXRlJywgY29udGV4dCk7XG5cbiAgcmV0dXJuIGNvbnRleHQuZWxlbWVudHM7XG59O1xuXG5cbk1vZGVsaW5nLnByb3RvdHlwZS5jcmVhdGVMYWJlbCA9IGZ1bmN0aW9uKGxhYmVsVGFyZ2V0LCBwb3NpdGlvbiwgbGFiZWwsIHBhcmVudCkge1xuXG4gIGxhYmVsID0gdGhpcy5fY3JlYXRlKCdsYWJlbCcsIGxhYmVsKTtcblxuICB2YXIgY29udGV4dCA9IHtcbiAgICBsYWJlbFRhcmdldDogbGFiZWxUYXJnZXQsXG4gICAgcG9zaXRpb246IHBvc2l0aW9uLFxuICAgIHBhcmVudDogcGFyZW50IHx8IGxhYmVsVGFyZ2V0LnBhcmVudCxcbiAgICBzaGFwZTogbGFiZWxcbiAgfTtcblxuICB0aGlzLl9jb21tYW5kU3RhY2suZXhlY3V0ZSgnbGFiZWwuY3JlYXRlJywgY29udGV4dCk7XG5cbiAgcmV0dXJuIGNvbnRleHQuc2hhcGU7XG59O1xuXG5cbi8qKlxuICogQXBwZW5kIHNoYXBlIHRvIGdpdmVuIHNvdXJjZSwgZHJhd2luZyBhIGNvbm5lY3Rpb25cbiAqIGJldHdlZW4gc291cmNlIGFuZCB0aGUgbmV3bHkgY3JlYXRlZCBzaGFwZS5cbiAqXG4gKiBAcGFyYW0ge2Rqcy5tb2RlbC5TaGFwZX0gc291cmNlXG4gKiBAcGFyYW0ge2Rqcy5tb2RlbC5TaGFwZXxPYmplY3R9IHNoYXBlXG4gKiBAcGFyYW0ge1BvaW50fSBwb3NpdGlvblxuICogQHBhcmFtIHtkanMubW9kZWwuU2hhcGV9IHRhcmdldFxuICogQHBhcmFtIHtPYmplY3R9IFtoaW50c11cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2hpbnRzLmF0dGFjaF1cbiAqIEBwYXJhbSB7ZGpzLm1vZGVsLkNvbm5lY3Rpb258T2JqZWN0fSBbaGludHMuY29ubmVjdGlvbl1cbiAqIEBwYXJhbSB7ZGpzLm1vZGVsLkJhc2V9IFtoaW50cy5jb25uZWN0aW9uUGFyZW50XVxuICpcbiAqIEByZXR1cm4ge2Rqcy5tb2RlbC5TaGFwZX0gdGhlIG5ld2x5IGNyZWF0ZWQgc2hhcGVcbiAqL1xuTW9kZWxpbmcucHJvdG90eXBlLmFwcGVuZFNoYXBlID0gZnVuY3Rpb24oc291cmNlLCBzaGFwZSwgcG9zaXRpb24sIHRhcmdldCwgaGludHMpIHtcblxuICBoaW50cyA9IGhpbnRzIHx8IHt9O1xuXG4gIHNoYXBlID0gdGhpcy5fY3JlYXRlKCdzaGFwZScsIHNoYXBlKTtcblxuICB2YXIgY29udGV4dCA9IHtcbiAgICBzb3VyY2U6IHNvdXJjZSxcbiAgICBwb3NpdGlvbjogcG9zaXRpb24sXG4gICAgdGFyZ2V0OiB0YXJnZXQsXG4gICAgc2hhcGU6IHNoYXBlLFxuICAgIGNvbm5lY3Rpb246IGhpbnRzLmNvbm5lY3Rpb24sXG4gICAgY29ubmVjdGlvblBhcmVudDogaGludHMuY29ubmVjdGlvblBhcmVudCxcbiAgICBoaW50czogaGludHNcbiAgfTtcblxuICB0aGlzLl9jb21tYW5kU3RhY2suZXhlY3V0ZSgnc2hhcGUuYXBwZW5kJywgY29udGV4dCk7XG5cbiAgcmV0dXJuIGNvbnRleHQuc2hhcGU7XG59O1xuXG5cbk1vZGVsaW5nLnByb3RvdHlwZS5yZW1vdmVFbGVtZW50cyA9IGZ1bmN0aW9uKGVsZW1lbnRzKSB7XG4gIHZhciBjb250ZXh0ID0ge1xuICAgIGVsZW1lbnRzOiBlbGVtZW50c1xuICB9O1xuXG4gIHRoaXMuX2NvbW1hbmRTdGFjay5leGVjdXRlKCdlbGVtZW50cy5kZWxldGUnLCBjb250ZXh0KTtcbn07XG5cblxuTW9kZWxpbmcucHJvdG90eXBlLmRpc3RyaWJ1dGVFbGVtZW50cyA9IGZ1bmN0aW9uKGdyb3VwcywgYXhpcywgZGltZW5zaW9uKSB7XG4gIHZhciBjb250ZXh0ID0ge1xuICAgIGdyb3VwczogZ3JvdXBzLFxuICAgIGF4aXM6IGF4aXMsXG4gICAgZGltZW5zaW9uOiBkaW1lbnNpb25cbiAgfTtcblxuICB0aGlzLl9jb21tYW5kU3RhY2suZXhlY3V0ZSgnZWxlbWVudHMuZGlzdHJpYnV0ZScsIGNvbnRleHQpO1xufTtcblxuXG5Nb2RlbGluZy5wcm90b3R5cGUucmVtb3ZlU2hhcGUgPSBmdW5jdGlvbihzaGFwZSwgaGludHMpIHtcbiAgdmFyIGNvbnRleHQgPSB7XG4gICAgc2hhcGU6IHNoYXBlLFxuICAgIGhpbnRzOiBoaW50cyB8fCB7fVxuICB9O1xuXG4gIHRoaXMuX2NvbW1hbmRTdGFjay5leGVjdXRlKCdzaGFwZS5kZWxldGUnLCBjb250ZXh0KTtcbn07XG5cblxuTW9kZWxpbmcucHJvdG90eXBlLnJlbW92ZUNvbm5lY3Rpb24gPSBmdW5jdGlvbihjb25uZWN0aW9uLCBoaW50cykge1xuICB2YXIgY29udGV4dCA9IHtcbiAgICBjb25uZWN0aW9uOiBjb25uZWN0aW9uLFxuICAgIGhpbnRzOiBoaW50cyB8fCB7fVxuICB9O1xuXG4gIHRoaXMuX2NvbW1hbmRTdGFjay5leGVjdXRlKCdjb25uZWN0aW9uLmRlbGV0ZScsIGNvbnRleHQpO1xufTtcblxuTW9kZWxpbmcucHJvdG90eXBlLnJlcGxhY2VTaGFwZSA9IGZ1bmN0aW9uKG9sZFNoYXBlLCBuZXdTaGFwZSwgaGludHMpIHtcbiAgdmFyIGNvbnRleHQgPSB7XG4gICAgb2xkU2hhcGU6IG9sZFNoYXBlLFxuICAgIG5ld0RhdGE6IG5ld1NoYXBlLFxuICAgIGhpbnRzOiBoaW50cyB8fCB7fVxuICB9O1xuXG4gIHRoaXMuX2NvbW1hbmRTdGFjay5leGVjdXRlKCdzaGFwZS5yZXBsYWNlJywgY29udGV4dCk7XG5cbiAgcmV0dXJuIGNvbnRleHQubmV3U2hhcGU7XG59O1xuXG5Nb2RlbGluZy5wcm90b3R5cGUuYWxpZ25FbGVtZW50cyA9IGZ1bmN0aW9uKGVsZW1lbnRzLCBhbGlnbm1lbnQpIHtcbiAgdmFyIGNvbnRleHQgPSB7XG4gICAgZWxlbWVudHM6IGVsZW1lbnRzLFxuICAgIGFsaWdubWVudDogYWxpZ25tZW50XG4gIH07XG5cbiAgdGhpcy5fY29tbWFuZFN0YWNrLmV4ZWN1dGUoJ2VsZW1lbnRzLmFsaWduJywgY29udGV4dCk7XG59O1xuXG5Nb2RlbGluZy5wcm90b3R5cGUucmVzaXplU2hhcGUgPSBmdW5jdGlvbihzaGFwZSwgbmV3Qm91bmRzLCBtaW5Cb3VuZHMsIGhpbnRzKSB7XG4gIHZhciBjb250ZXh0ID0ge1xuICAgIHNoYXBlOiBzaGFwZSxcbiAgICBuZXdCb3VuZHM6IG5ld0JvdW5kcyxcbiAgICBtaW5Cb3VuZHM6IG1pbkJvdW5kcyxcbiAgICBoaW50czogaGludHNcbiAgfTtcblxuICB0aGlzLl9jb21tYW5kU3RhY2suZXhlY3V0ZSgnc2hhcGUucmVzaXplJywgY29udGV4dCk7XG59O1xuXG5Nb2RlbGluZy5wcm90b3R5cGUuY3JlYXRlU3BhY2UgPSBmdW5jdGlvbihtb3ZpbmdTaGFwZXMsIHJlc2l6aW5nU2hhcGVzLCBkZWx0YSwgZGlyZWN0aW9uLCBzdGFydCkge1xuICB2YXIgY29udGV4dCA9IHtcbiAgICBkZWx0YTogZGVsdGEsXG4gICAgZGlyZWN0aW9uOiBkaXJlY3Rpb24sXG4gICAgbW92aW5nU2hhcGVzOiBtb3ZpbmdTaGFwZXMsXG4gICAgcmVzaXppbmdTaGFwZXM6IHJlc2l6aW5nU2hhcGVzLFxuICAgIHN0YXJ0OiBzdGFydFxuICB9O1xuXG4gIHRoaXMuX2NvbW1hbmRTdGFjay5leGVjdXRlKCdzcGFjZVRvb2wnLCBjb250ZXh0KTtcbn07XG5cbk1vZGVsaW5nLnByb3RvdHlwZS51cGRhdGVXYXlwb2ludHMgPSBmdW5jdGlvbihjb25uZWN0aW9uLCBuZXdXYXlwb2ludHMsIGhpbnRzKSB7XG4gIHZhciBjb250ZXh0ID0ge1xuICAgIGNvbm5lY3Rpb246IGNvbm5lY3Rpb24sXG4gICAgbmV3V2F5cG9pbnRzOiBuZXdXYXlwb2ludHMsXG4gICAgaGludHM6IGhpbnRzIHx8IHt9XG4gIH07XG5cbiAgdGhpcy5fY29tbWFuZFN0YWNrLmV4ZWN1dGUoJ2Nvbm5lY3Rpb24udXBkYXRlV2F5cG9pbnRzJywgY29udGV4dCk7XG59O1xuXG5Nb2RlbGluZy5wcm90b3R5cGUucmVjb25uZWN0ID0gZnVuY3Rpb24oY29ubmVjdGlvbiwgc291cmNlLCB0YXJnZXQsIGRvY2tpbmdPclBvaW50cywgaGludHMpIHtcbiAgdmFyIGNvbnRleHQgPSB7XG4gICAgY29ubmVjdGlvbjogY29ubmVjdGlvbixcbiAgICBuZXdTb3VyY2U6IHNvdXJjZSxcbiAgICBuZXdUYXJnZXQ6IHRhcmdldCxcbiAgICBkb2NraW5nT3JQb2ludHM6IGRvY2tpbmdPclBvaW50cyxcbiAgICBoaW50czogaGludHMgfHwge31cbiAgfTtcblxuICB0aGlzLl9jb21tYW5kU3RhY2suZXhlY3V0ZSgnY29ubmVjdGlvbi5yZWNvbm5lY3QnLCBjb250ZXh0KTtcbn07XG5cbk1vZGVsaW5nLnByb3RvdHlwZS5yZWNvbm5lY3RTdGFydCA9IGZ1bmN0aW9uKGNvbm5lY3Rpb24sIG5ld1NvdXJjZSwgZG9ja2luZ09yUG9pbnRzLCBoaW50cykge1xuICBpZiAoIWhpbnRzKSB7XG4gICAgaGludHMgPSB7fTtcbiAgfVxuXG4gIHRoaXMucmVjb25uZWN0KGNvbm5lY3Rpb24sIG5ld1NvdXJjZSwgY29ubmVjdGlvbi50YXJnZXQsIGRvY2tpbmdPclBvaW50cywgYXNzaWduKGhpbnRzLCB7XG4gICAgZG9ja2luZzogJ3NvdXJjZSdcbiAgfSkpO1xufTtcblxuTW9kZWxpbmcucHJvdG90eXBlLnJlY29ubmVjdEVuZCA9IGZ1bmN0aW9uKGNvbm5lY3Rpb24sIG5ld1RhcmdldCwgZG9ja2luZ09yUG9pbnRzLCBoaW50cykge1xuICBpZiAoIWhpbnRzKSB7XG4gICAgaGludHMgPSB7fTtcbiAgfVxuXG4gIHRoaXMucmVjb25uZWN0KGNvbm5lY3Rpb24sIGNvbm5lY3Rpb24uc291cmNlLCBuZXdUYXJnZXQsIGRvY2tpbmdPclBvaW50cywgYXNzaWduKGhpbnRzLCB7XG4gICAgZG9ja2luZzogJ3RhcmdldCdcbiAgfSkpO1xufTtcblxuTW9kZWxpbmcucHJvdG90eXBlLmNvbm5lY3QgPSBmdW5jdGlvbihzb3VyY2UsIHRhcmdldCwgYXR0cnMsIGhpbnRzKSB7XG4gIHJldHVybiB0aGlzLmNyZWF0ZUNvbm5lY3Rpb24oc291cmNlLCB0YXJnZXQsIGF0dHJzIHx8IHt9LCBzb3VyY2UucGFyZW50LCBoaW50cyk7XG59O1xuXG5Nb2RlbGluZy5wcm90b3R5cGUuX2NyZWF0ZSA9IGZ1bmN0aW9uKHR5cGUsIGF0dHJzKSB7XG4gIGlmIChhdHRycyBpbnN0YW5jZW9mIEJhc2UpIHtcbiAgICByZXR1cm4gYXR0cnM7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnRGYWN0b3J5LmNyZWF0ZSh0eXBlLCBhdHRycyk7XG4gIH1cbn07XG5cbk1vZGVsaW5nLnByb3RvdHlwZS50b2dnbGVDb2xsYXBzZSA9IGZ1bmN0aW9uKHNoYXBlLCBoaW50cykge1xuICB2YXIgY29udGV4dCA9IHtcbiAgICBzaGFwZTogc2hhcGUsXG4gICAgaGludHM6IGhpbnRzIHx8IHt9XG4gIH07XG5cbiAgdGhpcy5fY29tbWFuZFN0YWNrLmV4ZWN1dGUoJ3NoYXBlLnRvZ2dsZUNvbGxhcHNlJywgY29udGV4dCk7XG59O1xuIiwiaW1wb3J0IHtcbiAgcmVkdWNlLFxuICBrZXlzLFxuICBmb3JFYWNoLFxuICBhc3NpZ25cbn0gZnJvbSAnbWluLWRhc2gnO1xuXG5pbXBvcnQge1xuICBnZXRCdXNpbmVzc09iamVjdFxufSBmcm9tICcuLi8uLi8uLi91dGlsL01vZGVsVXRpbCc7XG5cbnZhciBJRCA9ICdpZCcsXG4gICAgREkgPSAnZGknO1xuXG52YXIgTlVMTF9ESU1FTlNJT05TID0ge1xuICB3aWR0aDogMCxcbiAgaGVpZ2h0OiAwXG59O1xuXG4vKipcbiAqIEEgaGFuZGxlciB0aGF0IGltcGxlbWVudHMgYSBwb3N0aXQgZWxlbWVudHMgcHJvcGVydHkgdXBkYXRlLlxuICpcbiAqIFRoaXMgc2hvdWxkIGJlIHVzZWQgdG8gc2V0IHNpbXBsZSBwcm9wZXJ0aWVzIG9uIGVsZW1lbnRzIHdpdGhcbiAqIGFuIHVuZGVybHlpbmcgWE1MIGJ1c2luZXNzIG9iamVjdC5cbiAqXG4gKiBVc2UgcmVzcGVjdGl2ZSBkaWFncmFtLWpzIHByb3ZpZGVkIGhhbmRsZXJzIGlmIHlvdSB3b3VsZFxuICogbGlrZSB0byBwZXJmb3JtIGF1dG9tYXRlZCBtb2RlbGluZy5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gVXBkYXRlUHJvcGVydGllc0hhbmRsZXIoXG4gICAgZWxlbWVudFJlZ2lzdHJ5LCBtb2RkbGUsIHRyYW5zbGF0ZSxcbiAgICBtb2RlbGluZywgdGV4dFJlbmRlcmVyKSB7XG5cbiAgdGhpcy5fZWxlbWVudFJlZ2lzdHJ5ID0gZWxlbWVudFJlZ2lzdHJ5O1xuICB0aGlzLl9tb2RkbGUgPSBtb2RkbGU7XG4gIHRoaXMuX3RyYW5zbGF0ZSA9IHRyYW5zbGF0ZTtcbiAgdGhpcy5fbW9kZWxpbmcgPSBtb2RlbGluZztcbiAgdGhpcy5fdGV4dFJlbmRlcmVyID0gdGV4dFJlbmRlcmVyO1xufVxuXG5VcGRhdGVQcm9wZXJ0aWVzSGFuZGxlci4kaW5qZWN0ID0gW1xuICAnZWxlbWVudFJlZ2lzdHJ5JyxcbiAgJ21vZGRsZScsXG4gICd0cmFuc2xhdGUnLFxuICAnbW9kZWxpbmcnLFxuICAndGV4dFJlbmRlcmVyJ1xuXTtcblxuXG4vLyBhcGkgLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4vKipcbiAqIFVwZGF0ZXMgYSBib2FyZCBlbGVtZW50IHdpdGggYSBsaXN0IG9mIG5ldyBwcm9wZXJ0aWVzXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHRcbiAqIEBwYXJhbSB7ZGpzLm1vZGVsLkJhc2V9IGNvbnRleHQuZWxlbWVudCB0aGUgZWxlbWVudCB0byB1cGRhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb250ZXh0LnByb3BlcnRpZXMgYSBsaXN0IG9mIHByb3BlcnRpZXMgdG8gc2V0IG9uIHRoZSBlbGVtZW50J3NcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVzaW5lc3NPYmplY3QgKHRoZSBYTUwgbW9kZWwgZWxlbWVudClcbiAqXG4gKiBAcmV0dXJuIHtBcnJheTxkanMubW9kZWwuQmFzZT59IHRoZSB1cGRhdGVkIGVsZW1lbnRcbiAqL1xuVXBkYXRlUHJvcGVydGllc0hhbmRsZXIucHJvdG90eXBlLmV4ZWN1dGUgPSBmdW5jdGlvbihjb250ZXh0KSB7XG5cbiAgdmFyIGVsZW1lbnQgPSBjb250ZXh0LmVsZW1lbnQsXG4gICAgICBjaGFuZ2VkID0gWyBlbGVtZW50IF0sXG4gICAgICB0cmFuc2xhdGUgPSB0aGlzLl90cmFuc2xhdGU7XG5cbiAgaWYgKCFlbGVtZW50KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKHRyYW5zbGF0ZSgnZWxlbWVudCByZXF1aXJlZCcpKTtcbiAgfVxuXG4gIHZhciBlbGVtZW50UmVnaXN0cnkgPSB0aGlzLl9lbGVtZW50UmVnaXN0cnksXG4gICAgICBpZHMgPSB0aGlzLl9tb2RkbGUuaWRzO1xuXG4gIHZhciBidXNpbmVzc09iamVjdCA9IGVsZW1lbnQuYnVzaW5lc3NPYmplY3QsXG4gICAgICBwcm9wZXJ0aWVzID0gdW53cmFwQnVzaW5lc3NPYmplY3RzKGNvbnRleHQucHJvcGVydGllcyksXG4gICAgICBvbGRQcm9wZXJ0aWVzID0gY29udGV4dC5vbGRQcm9wZXJ0aWVzIHx8IGdldFByb3BlcnRpZXMoYnVzaW5lc3NPYmplY3QsIHByb3BlcnRpZXMpO1xuXG4gIGlmIChpc0lkQ2hhbmdlKHByb3BlcnRpZXMsIGJ1c2luZXNzT2JqZWN0KSkge1xuICAgIGlkcy51bmNsYWltKGJ1c2luZXNzT2JqZWN0W0lEXSk7XG5cbiAgICBlbGVtZW50UmVnaXN0cnkudXBkYXRlSWQoZWxlbWVudCwgcHJvcGVydGllc1tJRF0pO1xuXG4gICAgaWRzLmNsYWltKHByb3BlcnRpZXNbSURdLCBidXNpbmVzc09iamVjdCk7XG4gIH1cblxuICAvLyB1cGRhdGUgcHJvcGVydGllc1xuICBzZXRQcm9wZXJ0aWVzKGJ1c2luZXNzT2JqZWN0LCBwcm9wZXJ0aWVzKTtcblxuICAvLyBzdG9yZSBvbGQgdmFsdWVzXG4gIGNvbnRleHQub2xkUHJvcGVydGllcyA9IG9sZFByb3BlcnRpZXM7XG4gIGNvbnRleHQuY2hhbmdlZCA9IGNoYW5nZWQ7XG5cbiAgLy8gaW5kaWNhdGUgY2hhbmdlZCBvbiBvYmplY3RzIGFmZmVjdGVkIGJ5IHRoZSB1cGRhdGVcbiAgcmV0dXJuIGNoYW5nZWQ7XG59O1xuXG5cblVwZGF0ZVByb3BlcnRpZXNIYW5kbGVyLnByb3RvdHlwZS5wb3N0RXhlY3V0ZSA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcbiAgdmFyIGVsZW1lbnQgPSBjb250ZXh0LmVsZW1lbnQsXG4gICAgICBsYWJlbCA9IGVsZW1lbnQubGFiZWw7XG5cbiAgdmFyIHRleHQgPSBsYWJlbCAmJiBnZXRCdXNpbmVzc09iamVjdChsYWJlbCkubmFtZTtcblxuICBpZiAoIXRleHQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBnZXQgbGF5b3V0ZWQgdGV4dCBib3VuZHMgYW5kIHJlc2l6ZSBleHRlcm5hbFxuICAvLyBleHRlcm5hbCBsYWJlbCBhY2NvcmRpbmdseVxuICB2YXIgbmV3TGFiZWxCb3VuZHMgPSB0aGlzLl90ZXh0UmVuZGVyZXIuZ2V0RXh0ZXJuYWxMYWJlbEJvdW5kcyhsYWJlbCwgdGV4dCk7XG5cbiAgdGhpcy5fbW9kZWxpbmcucmVzaXplU2hhcGUobGFiZWwsIG5ld0xhYmVsQm91bmRzLCBOVUxMX0RJTUVOU0lPTlMpO1xufTtcblxuLyoqXG4gKiBSZXZlcnRzIHRoZSB1cGRhdGUgb24gYSBib2FyZCBlbGVtZW50cyBwcm9wZXJ0aWVzLlxuICpcbiAqIEBwYXJhbSAge09iamVjdH0gY29udGV4dFxuICpcbiAqIEByZXR1cm4ge2Rqcy5tb2RlbC5CYXNlfSB0aGUgdXBkYXRlZCBlbGVtZW50XG4gKi9cblVwZGF0ZVByb3BlcnRpZXNIYW5kbGVyLnByb3RvdHlwZS5yZXZlcnQgPSBmdW5jdGlvbihjb250ZXh0KSB7XG5cbiAgdmFyIGVsZW1lbnQgPSBjb250ZXh0LmVsZW1lbnQsXG4gICAgICBwcm9wZXJ0aWVzID0gY29udGV4dC5wcm9wZXJ0aWVzLFxuICAgICAgb2xkUHJvcGVydGllcyA9IGNvbnRleHQub2xkUHJvcGVydGllcyxcbiAgICAgIGJ1c2luZXNzT2JqZWN0ID0gZWxlbWVudC5idXNpbmVzc09iamVjdCxcbiAgICAgIGVsZW1lbnRSZWdpc3RyeSA9IHRoaXMuX2VsZW1lbnRSZWdpc3RyeSxcbiAgICAgIGlkcyA9IHRoaXMuX21vZGRsZS5pZHM7XG5cbiAgLy8gdXBkYXRlIHByb3BlcnRpZXNcbiAgc2V0UHJvcGVydGllcyhidXNpbmVzc09iamVjdCwgb2xkUHJvcGVydGllcyk7XG5cbiAgaWYgKGlzSWRDaGFuZ2UocHJvcGVydGllcywgYnVzaW5lc3NPYmplY3QpKSB7XG4gICAgaWRzLnVuY2xhaW0ocHJvcGVydGllc1tJRF0pO1xuXG4gICAgZWxlbWVudFJlZ2lzdHJ5LnVwZGF0ZUlkKGVsZW1lbnQsIG9sZFByb3BlcnRpZXNbSURdKTtcblxuICAgIGlkcy5jbGFpbShvbGRQcm9wZXJ0aWVzW0lEXSwgYnVzaW5lc3NPYmplY3QpO1xuICB9XG5cbiAgcmV0dXJuIGNvbnRleHQuY2hhbmdlZDtcbn07XG5cblxuZnVuY3Rpb24gaXNJZENoYW5nZShwcm9wZXJ0aWVzLCBidXNpbmVzc09iamVjdCkge1xuICByZXR1cm4gSUQgaW4gcHJvcGVydGllcyAmJiBwcm9wZXJ0aWVzW0lEXSAhPT0gYnVzaW5lc3NPYmplY3RbSURdO1xufVxuXG5cbmZ1bmN0aW9uIGdldFByb3BlcnRpZXMoYnVzaW5lc3NPYmplY3QsIHByb3BlcnRpZXMpIHtcbiAgdmFyIHByb3BlcnR5TmFtZXMgPSBrZXlzKHByb3BlcnRpZXMpO1xuXG4gIHJldHVybiByZWR1Y2UocHJvcGVydHlOYW1lcywgZnVuY3Rpb24ocmVzdWx0LCBrZXkpIHtcblxuICAgIC8vIGhhbmRsZSBESSBzZXBhcmF0ZWx5XG4gICAgaWYgKGtleSAhPT0gREkpIHtcbiAgICAgIHJlc3VsdFtrZXldID0gYnVzaW5lc3NPYmplY3QuZ2V0KGtleSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdFtrZXldID0gZ2V0RGlQcm9wZXJ0aWVzKGJ1c2luZXNzT2JqZWN0LmRpLCBrZXlzKHByb3BlcnRpZXMuZGkpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9LCB7fSk7XG59XG5cblxuZnVuY3Rpb24gZ2V0RGlQcm9wZXJ0aWVzKGRpLCBwcm9wZXJ0eU5hbWVzKSB7XG4gIHJldHVybiByZWR1Y2UocHJvcGVydHlOYW1lcywgZnVuY3Rpb24ocmVzdWx0LCBrZXkpIHtcbiAgICByZXN1bHRba2V5XSA9IGRpLmdldChrZXkpO1xuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSwge30pO1xufVxuXG5cbmZ1bmN0aW9uIHNldFByb3BlcnRpZXMoYnVzaW5lc3NPYmplY3QsIHByb3BlcnRpZXMpIHtcbiAgZm9yRWFjaChwcm9wZXJ0aWVzLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG5cbiAgICBpZiAoa2V5ICE9PSBESSkge1xuICAgICAgYnVzaW5lc3NPYmplY3Quc2V0KGtleSwgdmFsdWUpO1xuICAgIH0gZWxzZSB7XG5cbiAgICAgIC8vIG9ubHkgdXBkYXRlLCBpZiBidXNpbmVzc09iamVjdC5kaSBleGlzdHNcbiAgICAgIGlmIChidXNpbmVzc09iamVjdC5kaSkge1xuICAgICAgICBzZXREaVByb3BlcnRpZXMoYnVzaW5lc3NPYmplY3QuZGksIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufVxuXG5cbmZ1bmN0aW9uIHNldERpUHJvcGVydGllcyhkaSwgcHJvcGVydGllcykge1xuICBmb3JFYWNoKHByb3BlcnRpZXMsIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICBkaS5zZXQoa2V5LCB2YWx1ZSk7XG4gIH0pO1xufVxuXG5cbnZhciByZWZlcmVuY2VQcm9wZXJ0eU5hbWVzID0gWyAnZGVmYXVsdCcgXTtcblxuLyoqXG4gKiBNYWtlIHN1cmUgd2UgdW53cmFwIHRoZSBhY3R1YWwgYnVzaW5lc3Mgb2JqZWN0XG4gKiBiZWhpbmQgZGlhZ3JhbSBlbGVtZW50IHRoYXQgbWF5IGhhdmUgYmVlblxuICogcGFzc2VkIGFzIGFyZ3VtZW50cy5cbiAqXG4gKiBAcGFyYW0gIHtPYmplY3R9IHByb3BlcnRpZXNcbiAqXG4gKiBAcmV0dXJuIHtPYmplY3R9IHVud3JhcHBlZFByb3BzXG4gKi9cbmZ1bmN0aW9uIHVud3JhcEJ1c2luZXNzT2JqZWN0cyhwcm9wZXJ0aWVzKSB7XG5cbiAgdmFyIHVud3JhcHBlZFByb3BzID0gYXNzaWduKHt9LCBwcm9wZXJ0aWVzKTtcblxuICByZWZlcmVuY2VQcm9wZXJ0eU5hbWVzLmZvckVhY2goZnVuY3Rpb24obmFtZSkge1xuICAgIGlmIChuYW1lIGluIHByb3BlcnRpZXMpIHtcbiAgICAgIHVud3JhcHBlZFByb3BzW25hbWVdID0gZ2V0QnVzaW5lc3NPYmplY3QodW53cmFwcGVkUHJvcHNbbmFtZV0pO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHVud3JhcHBlZFByb3BzO1xufSIsImltcG9ydCB7XG4gIGFkZCBhcyBjb2xsZWN0aW9uQWRkLFxuICByZW1vdmUgYXMgY29sbGVjdGlvblJlbW92ZVxufSBmcm9tICdkaWFncmFtLWpzL2xpYi91dGlsL0NvbGxlY3Rpb25zJztcblxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBVcGRhdGVDYW52YXNSb290SGFuZGxlcihjYW52YXMsIG1vZGVsaW5nKSB7XG4gIHRoaXMuX2NhbnZhcyA9IGNhbnZhcztcbiAgdGhpcy5fbW9kZWxpbmcgPSBtb2RlbGluZztcbn1cblxuVXBkYXRlQ2FudmFzUm9vdEhhbmRsZXIuJGluamVjdCA9IFtcbiAgJ2NhbnZhcycsXG4gICdtb2RlbGluZydcbl07XG5cblxuVXBkYXRlQ2FudmFzUm9vdEhhbmRsZXIucHJvdG90eXBlLmV4ZWN1dGUgPSBmdW5jdGlvbihjb250ZXh0KSB7XG5cbiAgdmFyIGNhbnZhcyA9IHRoaXMuX2NhbnZhcztcblxuICB2YXIgbmV3Um9vdCA9IGNvbnRleHQubmV3Um9vdCxcbiAgICAgIG5ld1Jvb3RCdXNpbmVzc09iamVjdCA9IG5ld1Jvb3QuYnVzaW5lc3NPYmplY3QsXG4gICAgICBvbGRSb290ID0gY2FudmFzLmdldFJvb3RFbGVtZW50KCksXG4gICAgICBvbGRSb290QnVzaW5lc3NPYmplY3QgPSBvbGRSb290LmJ1c2luZXNzT2JqZWN0LFxuICAgICAgcG9zdGl0RGVmaW5pdGlvbnMgPSBvbGRSb290QnVzaW5lc3NPYmplY3QuJHBhcmVudCxcbiAgICAgIGRpUGxhbmUgPSBvbGRSb290QnVzaW5lc3NPYmplY3QuZGk7XG5cbiAgLy8gKDEpIHJlcGxhY2UgcHJvY2VzcyBvbGQgPD4gbmV3IHJvb3RcbiAgY2FudmFzLnNldFJvb3RFbGVtZW50KG5ld1Jvb3QsIHRydWUpO1xuXG4gIC8vICgyKSB1cGRhdGUgcm9vdCBlbGVtZW50c1xuICBjb2xsZWN0aW9uQWRkKHBvc3RpdERlZmluaXRpb25zLnJvb3RFbGVtZW50cywgbmV3Um9vdEJ1c2luZXNzT2JqZWN0KTtcbiAgbmV3Um9vdEJ1c2luZXNzT2JqZWN0LiRwYXJlbnQgPSBwb3N0aXREZWZpbml0aW9ucztcblxuICBjb2xsZWN0aW9uUmVtb3ZlKHBvc3RpdERlZmluaXRpb25zLnJvb3RFbGVtZW50cywgb2xkUm9vdEJ1c2luZXNzT2JqZWN0KTtcbiAgb2xkUm9vdEJ1c2luZXNzT2JqZWN0LiRwYXJlbnQgPSBudWxsO1xuXG4gIC8vICgzKSB3aXJlIGRpXG4gIG9sZFJvb3RCdXNpbmVzc09iamVjdC5kaSA9IG51bGw7XG5cbiAgZGlQbGFuZS5ib2FyZEVsZW1lbnQgPSBuZXdSb290QnVzaW5lc3NPYmplY3Q7XG4gIG5ld1Jvb3RCdXNpbmVzc09iamVjdC5kaSA9IGRpUGxhbmU7XG5cbiAgY29udGV4dC5vbGRSb290ID0gb2xkUm9vdDtcblxuICAvLyBUT0RPKG5pa2t1KTogcmV0dXJuIGNoYW5nZWQgZWxlbWVudHM/XG4gIC8vIHJldHVybiBbIG5ld1Jvb3QsIG9sZFJvb3QgXTtcbn07XG5cblxuVXBkYXRlQ2FudmFzUm9vdEhhbmRsZXIucHJvdG90eXBlLnJldmVydCA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcblxuICB2YXIgY2FudmFzID0gdGhpcy5fY2FudmFzO1xuXG4gIHZhciBuZXdSb290ID0gY29udGV4dC5uZXdSb290LFxuICAgICAgbmV3Um9vdEJ1c2luZXNzT2JqZWN0ID0gbmV3Um9vdC5idXNpbmVzc09iamVjdCxcbiAgICAgIG9sZFJvb3QgPSBjb250ZXh0Lm9sZFJvb3QsXG4gICAgICBvbGRSb290QnVzaW5lc3NPYmplY3QgPSBvbGRSb290LmJ1c2luZXNzT2JqZWN0LFxuICAgICAgcG9zdGl0RGVmaW5pdGlvbnMgPSBuZXdSb290QnVzaW5lc3NPYmplY3QuJHBhcmVudCxcbiAgICAgIGRpUGxhbmUgPSBuZXdSb290QnVzaW5lc3NPYmplY3QuZGk7XG5cbiAgLy8gKDEpIHJlcGxhY2UgcHJvY2VzcyBvbGQgPD4gbmV3IHJvb3RcbiAgY2FudmFzLnNldFJvb3RFbGVtZW50KG9sZFJvb3QsIHRydWUpO1xuXG4gIC8vICgyKSB1cGRhdGUgcm9vdCBlbGVtZW50c1xuICBjb2xsZWN0aW9uUmVtb3ZlKHBvc3RpdERlZmluaXRpb25zLnJvb3RFbGVtZW50cywgbmV3Um9vdEJ1c2luZXNzT2JqZWN0KTtcbiAgbmV3Um9vdEJ1c2luZXNzT2JqZWN0LiRwYXJlbnQgPSBudWxsO1xuXG4gIGNvbGxlY3Rpb25BZGQocG9zdGl0RGVmaW5pdGlvbnMucm9vdEVsZW1lbnRzLCBvbGRSb290QnVzaW5lc3NPYmplY3QpO1xuICBvbGRSb290QnVzaW5lc3NPYmplY3QuJHBhcmVudCA9IHBvc3RpdERlZmluaXRpb25zO1xuXG4gIC8vICgzKSB3aXJlIGRpXG4gIG5ld1Jvb3RCdXNpbmVzc09iamVjdC5kaSA9IG51bGw7XG5cbiAgZGlQbGFuZS5ib2FyZEVsZW1lbnQgPSBvbGRSb290QnVzaW5lc3NPYmplY3Q7XG4gIG9sZFJvb3RCdXNpbmVzc09iamVjdC5kaSA9IGRpUGxhbmU7XG5cbiAgLy8gVE9ETyhuaWtrdSk6IHJldHVybiBjaGFuZ2VkIGVsZW1lbnRzP1xuICAvLyByZXR1cm4gWyBuZXdSb290LCBvbGRSb290IF07XG59OyIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIElkQ2xhaW1IYW5kbGVyKG1vZGRsZSkge1xuICB0aGlzLl9tb2RkbGUgPSBtb2RkbGU7XG59XG5cbklkQ2xhaW1IYW5kbGVyLiRpbmplY3QgPSBbICdtb2RkbGUnIF07XG5cblxuSWRDbGFpbUhhbmRsZXIucHJvdG90eXBlLmV4ZWN1dGUgPSBmdW5jdGlvbihjb250ZXh0KSB7XG4gIHZhciBpZHMgPSB0aGlzLl9tb2RkbGUuaWRzLFxuICAgICAgaWQgPSBjb250ZXh0LmlkLFxuICAgICAgZWxlbWVudCA9IGNvbnRleHQuZWxlbWVudCxcbiAgICAgIGNsYWltaW5nID0gY29udGV4dC5jbGFpbWluZztcblxuICBpZiAoY2xhaW1pbmcpIHtcbiAgICBpZHMuY2xhaW0oaWQsIGVsZW1lbnQpO1xuICB9IGVsc2Uge1xuICAgIGlkcy51bmNsYWltKGlkKTtcbiAgfVxufTtcblxuLyoqXG4gKiBDb21tYW5kIHJldmVydCBpbXBsZW1lbnRhdGlvbi5cbiAqL1xuSWRDbGFpbUhhbmRsZXIucHJvdG90eXBlLnJldmVydCA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcbiAgdmFyIGlkcyA9IHRoaXMuX21vZGRsZS5pZHMsXG4gICAgICBpZCA9IGNvbnRleHQuaWQsXG4gICAgICBlbGVtZW50ID0gY29udGV4dC5lbGVtZW50LFxuICAgICAgY2xhaW1pbmcgPSBjb250ZXh0LmNsYWltaW5nO1xuXG4gIGlmIChjbGFpbWluZykge1xuICAgIGlkcy51bmNsYWltKGlkKTtcbiAgfSBlbHNlIHtcbiAgICBpZHMuY2xhaW0oaWQsIGVsZW1lbnQpO1xuICB9XG59O1xuXG4iLCJpbXBvcnQge1xyXG4gIGZvckVhY2hcclxufSBmcm9tICdtaW4tZGFzaCc7XHJcblxyXG5pbXBvcnQgQ09MT1IgZnJvbSAnLi4vLi4vLi4vdXRpbC9Db2xvclV0aWwnO1xyXG5cclxuXHJcbnZhciBERUZBVUxUX0NPTE9SID0gQ09MT1IuWUVMTE9XO1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFNldENvbG9ySGFuZGxlcihjb21tYW5kU3RhY2spIHtcclxuICB0aGlzLl9jb21tYW5kU3RhY2sgPSBjb21tYW5kU3RhY2s7XHJcbn1cclxuXHJcblNldENvbG9ySGFuZGxlci4kaW5qZWN0ID0gW1xyXG4gICdjb21tYW5kU3RhY2snXHJcbl07XHJcblxyXG5cclxuU2V0Q29sb3JIYW5kbGVyLnByb3RvdHlwZS5wb3N0RXhlY3V0ZSA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcclxuICB2YXIgZWxlbWVudHMgPSBjb250ZXh0LmVsZW1lbnRzLFxyXG4gICAgICBjb2xvciA9IGNvbnRleHQuY29sb3IgfHwgREVGQVVMVF9DT0xPUjtcclxuXHJcbiAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICBmb3JFYWNoKGVsZW1lbnRzLCBmdW5jdGlvbihlbGVtZW50KSB7XHJcblxyXG4gICAgc2VsZi5fY29tbWFuZFN0YWNrLmV4ZWN1dGUoJ2VsZW1lbnQudXBkYXRlUHJvcGVydGllcycsIHtcclxuICAgICAgZWxlbWVudDogZWxlbWVudCxcclxuICAgICAgcHJvcGVydGllczoge1xyXG4gICAgICAgIGNvbG9yOiBjb2xvclxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbn07XHJcbiIsImltcG9ydCB7XG4gIHNldExhYmVsLFxuICBnZXRMYWJlbFxufSBmcm9tICcuLi9MYWJlbFV0aWwnO1xuXG5pbXBvcnQge1xuICBnZXRFeHRlcm5hbExhYmVsTWlkLFxuICBpc0xhYmVsRXh0ZXJuYWwsXG4gIGhhc0V4dGVybmFsTGFiZWwsXG4gIGlzTGFiZWxcbn0gZnJvbSAnLi4vLi4vLi4vdXRpbC9MYWJlbFV0aWwnO1xuXG52YXIgTlVMTF9ESU1FTlNJT05TID0ge1xuICB3aWR0aDogMCxcbiAgaGVpZ2h0OiAwXG59O1xuXG5cbi8qKlxuICogQSBoYW5kbGVyIHRoYXQgdXBkYXRlcyB0aGUgdGV4dCBvZiBhIHBvc3RpdCBlbGVtZW50LlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBVcGRhdGVMYWJlbEhhbmRsZXIobW9kZWxpbmcsIHRleHRSZW5kZXJlcikge1xuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGxhYmVsIGFuZCByZXR1cm4gdGhlIGNoYW5nZWQgZWxlbWVudHMuXG4gICAqXG4gICAqIEVsZW1lbnQgcGFyYW1ldGVyIGNhbiBiZSBsYWJlbCBpdHNlbGYgb3IgY29ubmVjdGlvbiAoaS5lLiBzZXF1ZW5jZSBmbG93KS5cbiAgICpcbiAgICogQHBhcmFtIHtkanMubW9kZWwuQmFzZX0gZWxlbWVudFxuICAgKiBAcGFyYW0ge1N0cmluZ30gdGV4dFxuICAgKi9cbiAgZnVuY3Rpb24gc2V0VGV4dChlbGVtZW50LCB0ZXh0KSB7XG5cbiAgICAvLyBleHRlcm5hbCBsYWJlbCBpZiBwcmVzZW50XG4gICAgdmFyIGxhYmVsID0gZWxlbWVudC5sYWJlbCB8fCBlbGVtZW50O1xuXG4gICAgdmFyIGxhYmVsVGFyZ2V0ID0gZWxlbWVudC5sYWJlbFRhcmdldCB8fCBlbGVtZW50O1xuXG4gICAgc2V0TGFiZWwobGFiZWwsIHRleHQsIGxhYmVsVGFyZ2V0ICE9PSBsYWJlbCk7XG5cbiAgICByZXR1cm4gWyBsYWJlbCwgbGFiZWxUYXJnZXQgXTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHByZUV4ZWN1dGUoY3R4KSB7XG4gICAgdmFyIGVsZW1lbnQgPSBjdHguZWxlbWVudCxcbiAgICAgICAgYnVzaW5lc3NPYmplY3QgPSBlbGVtZW50LmJ1c2luZXNzT2JqZWN0LFxuICAgICAgICBuZXdMYWJlbCA9IGN0eC5uZXdMYWJlbDtcblxuICAgIGlmICghaXNMYWJlbChlbGVtZW50KVxuICAgICAgICAmJiBpc0xhYmVsRXh0ZXJuYWwoZWxlbWVudClcbiAgICAgICAgJiYgIWhhc0V4dGVybmFsTGFiZWwoZWxlbWVudClcbiAgICAgICAgJiYgIWlzRW1wdHlUZXh0KG5ld0xhYmVsKSkge1xuXG4gICAgICAvLyBjcmVhdGUgbGFiZWxcbiAgICAgIHZhciBwYWRkaW5nVG9wID0gNztcblxuICAgICAgdmFyIGxhYmVsQ2VudGVyID0gZ2V0RXh0ZXJuYWxMYWJlbE1pZChlbGVtZW50KTtcblxuICAgICAgbGFiZWxDZW50ZXIgPSB7XG4gICAgICAgIHg6IGxhYmVsQ2VudGVyLngsXG4gICAgICAgIHk6IGxhYmVsQ2VudGVyLnkgKyBwYWRkaW5nVG9wXG4gICAgICB9O1xuXG4gICAgICBtb2RlbGluZy5jcmVhdGVMYWJlbChlbGVtZW50LCBsYWJlbENlbnRlciwge1xuICAgICAgICBpZDogYnVzaW5lc3NPYmplY3QuaWQgKyAnX2xhYmVsJyxcbiAgICAgICAgYnVzaW5lc3NPYmplY3Q6IGJ1c2luZXNzT2JqZWN0XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBleGVjdXRlKGN0eCkge1xuICAgIGN0eC5vbGRMYWJlbCA9IGdldExhYmVsKGN0eC5lbGVtZW50KTtcbiAgICByZXR1cm4gc2V0VGV4dChjdHguZWxlbWVudCwgY3R4Lm5ld0xhYmVsKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJldmVydChjdHgpIHtcbiAgICByZXR1cm4gc2V0VGV4dChjdHguZWxlbWVudCwgY3R4Lm9sZExhYmVsKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBvc3RFeGVjdXRlKGN0eCkge1xuICAgIHZhciBlbGVtZW50ID0gY3R4LmVsZW1lbnQsXG4gICAgICAgIGxhYmVsID0gZWxlbWVudC5sYWJlbCB8fCBlbGVtZW50LFxuICAgICAgICBuZXdMYWJlbCA9IGN0eC5uZXdMYWJlbCxcbiAgICAgICAgbmV3Qm91bmRzID0gY3R4Lm5ld0JvdW5kcyxcbiAgICAgICAgaGludHMgPSBjdHguaGludHMgfHwge307XG5cbiAgICAvLyBpZ25vcmUgaW50ZXJuYWwgbGFiZWxzIGZvciBlbGVtZW50c1xuICAgIGlmICghaXNMYWJlbChsYWJlbCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoaXNMYWJlbChsYWJlbCkgJiYgaXNFbXB0eVRleHQobmV3TGFiZWwpKSB7XG5cbiAgICAgIGlmIChoaW50cy5yZW1vdmVTaGFwZSAhPT0gZmFsc2UpIHtcbiAgICAgICAgbW9kZWxpbmcucmVtb3ZlU2hhcGUobGFiZWwsIHsgdW5zZXRMYWJlbDogZmFsc2UgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgdGV4dCA9IGdldExhYmVsKGxhYmVsKTtcblxuICAgIC8vIHJlc2l6ZSBlbGVtZW50IGJhc2VkIG9uIGxhYmVsIF9vcl8gcHJlLWRlZmluZWQgYm91bmRzXG4gICAgaWYgKHR5cGVvZiBuZXdCb3VuZHMgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBuZXdCb3VuZHMgPSB0ZXh0UmVuZGVyZXIuZ2V0RXh0ZXJuYWxMYWJlbEJvdW5kcyhsYWJlbCwgdGV4dCk7XG4gICAgfVxuXG4gICAgLy8gc2V0dGluZyBuZXdCb3VuZHMgdG8gZmFsc2Ugb3IgX251bGxfIHdpbGxcbiAgICAvLyBkaXNhYmxlIHRoZSBwb3N0RXhlY3V0ZSByZXNpemUgb3BlcmF0aW9uXG4gICAgaWYgKG5ld0JvdW5kcykge1xuICAgICAgbW9kZWxpbmcucmVzaXplU2hhcGUobGFiZWwsIG5ld0JvdW5kcywgTlVMTF9ESU1FTlNJT05TKTtcbiAgICB9XG4gIH1cblxuICAvLyBBUElcblxuICB0aGlzLnByZUV4ZWN1dGUgPSBwcmVFeGVjdXRlO1xuICB0aGlzLmV4ZWN1dGUgPSBleGVjdXRlO1xuICB0aGlzLnJldmVydCA9IHJldmVydDtcbiAgdGhpcy5wb3N0RXhlY3V0ZSA9IHBvc3RFeGVjdXRlO1xufVxuXG5VcGRhdGVMYWJlbEhhbmRsZXIuJGluamVjdCA9IFtcbiAgJ21vZGVsaW5nJyxcbiAgJ3RleHRSZW5kZXJlcidcbl07XG5cblxuLy8gaGVscGVycyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5mdW5jdGlvbiBpc0VtcHR5VGV4dChsYWJlbCkge1xuICByZXR1cm4gIWxhYmVsIHx8ICFsYWJlbC50cmltKCk7XG59IiwiaW1wb3J0IGluaGVyaXRzIGZyb20gJ2luaGVyaXRzJztcblxuaW1wb3J0IEJhc2VNb2RlbGluZyBmcm9tICdkaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9tb2RlbGluZy9Nb2RlbGluZyc7XG5cbmltcG9ydCBVcGRhdGVQcm9wZXJ0aWVzSGFuZGxlciBmcm9tICcuL2NtZC9VcGRhdGVQcm9wZXJ0aWVzSGFuZGxlcic7XG5pbXBvcnQgVXBkYXRlQ2FudmFzUm9vdEhhbmRsZXIgZnJvbSAnLi9jbWQvVXBkYXRlQ2FudmFzUm9vdEhhbmRsZXInO1xuaW1wb3J0IElkQ2xhaW1IYW5kbGVyIGZyb20gJy4vY21kL0lkQ2xhaW1IYW5kbGVyJztcbmltcG9ydCBTZXRDb2xvckhhbmRsZXIgZnJvbSAnLi9jbWQvU2V0Q29sb3JIYW5kbGVyJztcblxuaW1wb3J0IFVwZGF0ZUxhYmVsSGFuZGxlciBmcm9tICcuLi9sYWJlbC1lZGl0aW5nL2NtZC9VcGRhdGVMYWJlbEhhbmRsZXInO1xuXG5cbi8qKlxuICogUG9zdGl0IG1vZGVsaW5nIGZlYXR1cmVzIGFjdGl2YXRvclxuICpcbiAqIEBwYXJhbSB7RXZlbnRCdXN9IGV2ZW50QnVzXG4gKiBAcGFyYW0ge0VsZW1lbnRGYWN0b3J5fSBlbGVtZW50RmFjdG9yeVxuICogQHBhcmFtIHtDb21tYW5kU3RhY2t9IGNvbW1hbmRTdGFja1xuICogQHBhcmFtIHtQb3N0aXRSdWxlc30gcG9zdGl0UnVsZXNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTW9kZWxpbmcoXG4gICAgZXZlbnRCdXMsIGVsZW1lbnRGYWN0b3J5LCBjb21tYW5kU3RhY2ssXG4gICAgcG9zdGl0UnVsZXMpIHtcblxuICBCYXNlTW9kZWxpbmcuY2FsbCh0aGlzLCBldmVudEJ1cywgZWxlbWVudEZhY3RvcnksIGNvbW1hbmRTdGFjayk7XG5cbiAgdGhpcy5fcG9zdGl0UnVsZXMgPSBwb3N0aXRSdWxlcztcbn1cblxuaW5oZXJpdHMoTW9kZWxpbmcsIEJhc2VNb2RlbGluZyk7XG5cbk1vZGVsaW5nLiRpbmplY3QgPSBbXG4gICdldmVudEJ1cycsXG4gICdlbGVtZW50RmFjdG9yeScsXG4gICdjb21tYW5kU3RhY2snLFxuICAncG9zdGl0UnVsZXMnXG5dO1xuXG5cbk1vZGVsaW5nLnByb3RvdHlwZS5nZXRIYW5kbGVycyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgaGFuZGxlcnMgPSBCYXNlTW9kZWxpbmcucHJvdG90eXBlLmdldEhhbmRsZXJzLmNhbGwodGhpcyk7XG5cbiAgaGFuZGxlcnNbJ2VsZW1lbnQudXBkYXRlUHJvcGVydGllcyddID0gVXBkYXRlUHJvcGVydGllc0hhbmRsZXI7XG4gIGhhbmRsZXJzWydjYW52YXMudXBkYXRlUm9vdCddID0gVXBkYXRlQ2FudmFzUm9vdEhhbmRsZXI7XG4gIGhhbmRsZXJzWydpZC51cGRhdGVDbGFpbSddID0gSWRDbGFpbUhhbmRsZXI7XG4gIGhhbmRsZXJzWydlbGVtZW50LnNldENvbG9yJ10gPSBTZXRDb2xvckhhbmRsZXI7XG4gIGhhbmRsZXJzWydlbGVtZW50LnVwZGF0ZUxhYmVsJ10gPSBVcGRhdGVMYWJlbEhhbmRsZXI7XG5cbiAgcmV0dXJuIGhhbmRsZXJzO1xufTtcblxuXG5Nb2RlbGluZy5wcm90b3R5cGUudXBkYXRlTGFiZWwgPSBmdW5jdGlvbihlbGVtZW50LCBuZXdMYWJlbCwgbmV3Qm91bmRzLCBoaW50cykge1xuICB0aGlzLl9jb21tYW5kU3RhY2suZXhlY3V0ZSgnZWxlbWVudC51cGRhdGVMYWJlbCcsIHtcbiAgICBlbGVtZW50OiBlbGVtZW50LFxuICAgIG5ld0xhYmVsOiBuZXdMYWJlbCxcbiAgICBuZXdCb3VuZHM6IG5ld0JvdW5kcyxcbiAgICBoaW50czogaGludHMgfHwge31cbiAgfSk7XG59O1xuXG5cbk1vZGVsaW5nLnByb3RvdHlwZS51cGRhdGVQcm9wZXJ0aWVzID0gZnVuY3Rpb24oZWxlbWVudCwgcHJvcGVydGllcykge1xuICB0aGlzLl9jb21tYW5kU3RhY2suZXhlY3V0ZSgnZWxlbWVudC51cGRhdGVQcm9wZXJ0aWVzJywge1xuICAgIGVsZW1lbnQ6IGVsZW1lbnQsXG4gICAgcHJvcGVydGllczogcHJvcGVydGllc1xuICB9KTtcbn07XG5cbk1vZGVsaW5nLnByb3RvdHlwZS5jbGFpbUlkID0gZnVuY3Rpb24oaWQsIG1vZGRsZUVsZW1lbnQpIHtcbiAgdGhpcy5fY29tbWFuZFN0YWNrLmV4ZWN1dGUoJ2lkLnVwZGF0ZUNsYWltJywge1xuICAgIGlkOiBpZCxcbiAgICBlbGVtZW50OiBtb2RkbGVFbGVtZW50LFxuICAgIGNsYWltaW5nOiB0cnVlXG4gIH0pO1xufTtcblxuXG5Nb2RlbGluZy5wcm90b3R5cGUudW5jbGFpbUlkID0gZnVuY3Rpb24oaWQsIG1vZGRsZUVsZW1lbnQpIHtcbiAgdGhpcy5fY29tbWFuZFN0YWNrLmV4ZWN1dGUoJ2lkLnVwZGF0ZUNsYWltJywge1xuICAgIGlkOiBpZCxcbiAgICBlbGVtZW50OiBtb2RkbGVFbGVtZW50XG4gIH0pO1xufTtcblxuTW9kZWxpbmcucHJvdG90eXBlLnNldENvbG9yID0gZnVuY3Rpb24oZWxlbWVudHMsIGNvbG9yKSB7XG4gIGlmICghZWxlbWVudHMubGVuZ3RoKSB7XG4gICAgZWxlbWVudHMgPSBbIGVsZW1lbnRzIF07XG4gIH1cblxuICB0aGlzLl9jb21tYW5kU3RhY2suZXhlY3V0ZSgnZWxlbWVudC5zZXRDb2xvcicsIHtcbiAgICBlbGVtZW50czogZWxlbWVudHMsXG4gICAgY29sb3I6IGNvbG9yXG4gIH0pO1xufTtcbiIsImltcG9ydCB7XG4gIGdldE1pZFxufSBmcm9tICcuL0xheW91dFV0aWwnO1xuXG5cbi8qKlxuICogQSBiYXNlIGNvbm5lY3Rpb24gbGF5b3V0ZXIgaW1wbGVtZW50YXRpb25cbiAqIHRoYXQgbGF5b3V0cyB0aGUgY29ubmVjdGlvbiBieSBkaXJlY3RseSBjb25uZWN0aW5nXG4gKiBtaWQoc291cmNlKSArIG1pZCh0YXJnZXQpLlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBCYXNlTGF5b3V0ZXIoKSB7fVxuXG5cbi8qKlxuICogUmV0dXJuIHRoZSBuZXcgbGF5b3V0ZWQgd2F5cG9pbnRzIGZvciB0aGUgZ2l2ZW4gY29ubmVjdGlvbi5cbiAqXG4gKiBUaGUgY29ubmVjdGlvbiBwYXNzZWQgaXMgc3RpbGwgdW5jaGFuZ2VkOyB5b3UgbWF5IGZpZ3VyZSBvdXQgYWJvdXRcbiAqIHRoZSBuZXcgY29ubmVjdGlvbiBzdGFydCAvIGVuZCB2aWEgdGhlIGxheW91dCBoaW50cyBwcm92aWRlZC5cbiAqXG4gKiBAcGFyYW0ge2Rqcy5tb2RlbC5Db25uZWN0aW9ufSBjb25uZWN0aW9uXG4gKiBAcGFyYW0ge09iamVjdH0gW2hpbnRzXVxuICogQHBhcmFtIHtQb2ludH0gW2hpbnRzLmNvbm5lY3Rpb25TdGFydF1cbiAqIEBwYXJhbSB7UG9pbnR9IFtoaW50cy5jb25uZWN0aW9uRW5kXVxuICogQHBhcmFtIHtQb2ludH0gW2hpbnRzLnNvdXJjZV1cbiAqIEBwYXJhbSB7UG9pbnR9IFtoaW50cy50YXJnZXRdXG4gKlxuICogQHJldHVybiB7QXJyYXk8UG9pbnQ+fSB0aGUgbGF5b3V0ZWQgY29ubmVjdGlvbiB3YXlwb2ludHNcbiAqL1xuQmFzZUxheW91dGVyLnByb3RvdHlwZS5sYXlvdXRDb25uZWN0aW9uID0gZnVuY3Rpb24oY29ubmVjdGlvbiwgaGludHMpIHtcblxuICBoaW50cyA9IGhpbnRzIHx8IHt9O1xuXG4gIHJldHVybiBbXG4gICAgaGludHMuY29ubmVjdGlvblN0YXJ0IHx8IGdldE1pZChoaW50cy5zb3VyY2UgfHwgY29ubmVjdGlvbi5zb3VyY2UpLFxuICAgIGhpbnRzLmNvbm5lY3Rpb25FbmQgfHwgZ2V0TWlkKGhpbnRzLnRhcmdldCB8fCBjb25uZWN0aW9uLnRhcmdldClcbiAgXTtcbn07XG4iLCJpbXBvcnQge1xuICBhc3NpZ25cbn0gZnJvbSAnbWluLWRhc2gnO1xuXG5pbXBvcnQge1xuICBnZXRFbGVtZW50TGluZUludGVyc2VjdGlvblxufSBmcm9tICcuL0xheW91dFV0aWwnO1xuXG5cbmZ1bmN0aW9uIGRvY2tpbmdUb1BvaW50KGRvY2tpbmcpIHtcblxuICAvLyB1c2UgdGhlIGRvY2tpbmdzIGFjdHVhbCBwb2ludCBhbmRcbiAgLy8gcmV0YWluIHRoZSBvcmlnaW5hbCBkb2NraW5nXG4gIHJldHVybiBhc3NpZ24oeyBvcmlnaW5hbDogZG9ja2luZy5wb2ludC5vcmlnaW5hbCB8fCBkb2NraW5nLnBvaW50IH0sIGRvY2tpbmcuYWN0dWFsKTtcbn1cblxuXG4vKipcbiAqIEEge0BsaW5rIENvbm5lY3Rpb25Eb2NraW5nfSB0aGF0IGNyb3BzIGNvbm5lY3Rpb24gd2F5cG9pbnRzIGJhc2VkIG9uXG4gKiB0aGUgcGF0aChzKSBvZiB0aGUgY29ubmVjdGlvbiBzb3VyY2UgYW5kIHRhcmdldC5cbiAqXG4gKiBAcGFyYW0ge2Rqcy5jb3JlLkVsZW1lbnRSZWdpc3RyeX0gZWxlbWVudFJlZ2lzdHJ5XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENyb3BwaW5nQ29ubmVjdGlvbkRvY2tpbmcoZWxlbWVudFJlZ2lzdHJ5LCBncmFwaGljc0ZhY3RvcnkpIHtcbiAgdGhpcy5fZWxlbWVudFJlZ2lzdHJ5ID0gZWxlbWVudFJlZ2lzdHJ5O1xuICB0aGlzLl9ncmFwaGljc0ZhY3RvcnkgPSBncmFwaGljc0ZhY3Rvcnk7XG59XG5cbkNyb3BwaW5nQ29ubmVjdGlvbkRvY2tpbmcuJGluamVjdCA9IFsgJ2VsZW1lbnRSZWdpc3RyeScsICdncmFwaGljc0ZhY3RvcnknIF07XG5cblxuLyoqXG4gKiBAaW5oZXJpdERvYyBDb25uZWN0aW9uRG9ja2luZyNnZXRDcm9wcGVkV2F5cG9pbnRzXG4gKi9cbkNyb3BwaW5nQ29ubmVjdGlvbkRvY2tpbmcucHJvdG90eXBlLmdldENyb3BwZWRXYXlwb2ludHMgPSBmdW5jdGlvbihjb25uZWN0aW9uLCBzb3VyY2UsIHRhcmdldCkge1xuXG4gIHNvdXJjZSA9IHNvdXJjZSB8fCBjb25uZWN0aW9uLnNvdXJjZTtcbiAgdGFyZ2V0ID0gdGFyZ2V0IHx8IGNvbm5lY3Rpb24udGFyZ2V0O1xuXG4gIHZhciBzb3VyY2VEb2NraW5nID0gdGhpcy5nZXREb2NraW5nUG9pbnQoY29ubmVjdGlvbiwgc291cmNlLCB0cnVlKSxcbiAgICAgIHRhcmdldERvY2tpbmcgPSB0aGlzLmdldERvY2tpbmdQb2ludChjb25uZWN0aW9uLCB0YXJnZXQpO1xuXG4gIHZhciBjcm9wcGVkV2F5cG9pbnRzID0gY29ubmVjdGlvbi53YXlwb2ludHMuc2xpY2Uoc291cmNlRG9ja2luZy5pZHggKyAxLCB0YXJnZXREb2NraW5nLmlkeCk7XG5cbiAgY3JvcHBlZFdheXBvaW50cy51bnNoaWZ0KGRvY2tpbmdUb1BvaW50KHNvdXJjZURvY2tpbmcpKTtcbiAgY3JvcHBlZFdheXBvaW50cy5wdXNoKGRvY2tpbmdUb1BvaW50KHRhcmdldERvY2tpbmcpKTtcblxuICByZXR1cm4gY3JvcHBlZFdheXBvaW50cztcbn07XG5cbi8qKlxuICogUmV0dXJuIHRoZSBjb25uZWN0aW9uIGRvY2tpbmcgcG9pbnQgb24gdGhlIHNwZWNpZmllZCBzaGFwZVxuICpcbiAqIEBpbmhlcml0RG9jIENvbm5lY3Rpb25Eb2NraW5nI2dldERvY2tpbmdQb2ludFxuICovXG5Dcm9wcGluZ0Nvbm5lY3Rpb25Eb2NraW5nLnByb3RvdHlwZS5nZXREb2NraW5nUG9pbnQgPSBmdW5jdGlvbihjb25uZWN0aW9uLCBzaGFwZSwgZG9ja1N0YXJ0KSB7XG5cbiAgdmFyIHdheXBvaW50cyA9IGNvbm5lY3Rpb24ud2F5cG9pbnRzLFxuICAgICAgZG9ja2luZ0lkeCxcbiAgICAgIGRvY2tpbmdQb2ludCxcbiAgICAgIGNyb3BwZWRQb2ludDtcblxuICBkb2NraW5nSWR4ID0gZG9ja1N0YXJ0ID8gMCA6IHdheXBvaW50cy5sZW5ndGggLSAxO1xuICBkb2NraW5nUG9pbnQgPSB3YXlwb2ludHNbZG9ja2luZ0lkeF07XG5cbiAgY3JvcHBlZFBvaW50ID0gdGhpcy5fZ2V0SW50ZXJzZWN0aW9uKHNoYXBlLCBjb25uZWN0aW9uLCBkb2NrU3RhcnQpO1xuXG4gIHJldHVybiB7XG4gICAgcG9pbnQ6IGRvY2tpbmdQb2ludCxcbiAgICBhY3R1YWw6IGNyb3BwZWRQb2ludCB8fCBkb2NraW5nUG9pbnQsXG4gICAgaWR4OiBkb2NraW5nSWR4XG4gIH07XG59O1xuXG5cbi8vIGhlbHBlcnMgLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5Dcm9wcGluZ0Nvbm5lY3Rpb25Eb2NraW5nLnByb3RvdHlwZS5fZ2V0SW50ZXJzZWN0aW9uID0gZnVuY3Rpb24oc2hhcGUsIGNvbm5lY3Rpb24sIHRha2VGaXJzdCkge1xuXG4gIHZhciBzaGFwZVBhdGggPSB0aGlzLl9nZXRTaGFwZVBhdGgoc2hhcGUpLFxuICAgICAgY29ubmVjdGlvblBhdGggPSB0aGlzLl9nZXRDb25uZWN0aW9uUGF0aChjb25uZWN0aW9uKTtcblxuICByZXR1cm4gZ2V0RWxlbWVudExpbmVJbnRlcnNlY3Rpb24oc2hhcGVQYXRoLCBjb25uZWN0aW9uUGF0aCwgdGFrZUZpcnN0KTtcbn07XG5cbkNyb3BwaW5nQ29ubmVjdGlvbkRvY2tpbmcucHJvdG90eXBlLl9nZXRDb25uZWN0aW9uUGF0aCA9IGZ1bmN0aW9uKGNvbm5lY3Rpb24pIHtcbiAgcmV0dXJuIHRoaXMuX2dyYXBoaWNzRmFjdG9yeS5nZXRDb25uZWN0aW9uUGF0aChjb25uZWN0aW9uKTtcbn07XG5cbkNyb3BwaW5nQ29ubmVjdGlvbkRvY2tpbmcucHJvdG90eXBlLl9nZXRTaGFwZVBhdGggPSBmdW5jdGlvbihzaGFwZSkge1xuICByZXR1cm4gdGhpcy5fZ3JhcGhpY3NGYWN0b3J5LmdldFNoYXBlUGF0aChzaGFwZSk7XG59O1xuXG5Dcm9wcGluZ0Nvbm5lY3Rpb25Eb2NraW5nLnByb3RvdHlwZS5fZ2V0R2Z4ID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICByZXR1cm4gdGhpcy5fZWxlbWVudFJlZ2lzdHJ5LmdldEdyYXBoaWNzKGVsZW1lbnQpO1xufTtcbiIsImltcG9ydCBCZWhhdmlvck1vZHVsZSBmcm9tICcuL2JlaGF2aW9yJztcbmltcG9ydCBSdWxlc01vZHVsZSBmcm9tICcuLi9ydWxlcyc7XG5pbXBvcnQgRGlPcmRlcmluZ01vZHVsZSBmcm9tICcuLi9kaS1vcmRlcmluZyc7XG5pbXBvcnQgT3JkZXJpbmdNb2R1bGUgZnJvbSAnLi4vb3JkZXJpbmcnO1xuaW1wb3J0IFJlcGxhY2VNb2R1bGUgZnJvbSAnLi4vcmVwbGFjZSc7XG5cbmltcG9ydCBDb21tYW5kTW9kdWxlIGZyb20gJ2RpYWdyYW0tanMvbGliL2NvbW1hbmQnO1xuaW1wb3J0IFRvb2x0aXBzTW9kdWxlIGZyb20gJ2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL3Rvb2x0aXBzJztcbmltcG9ydCBMYWJlbFN1cHBvcnRNb2R1bGUgZnJvbSAnZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvbGFiZWwtc3VwcG9ydCc7XG5pbXBvcnQgQXR0YWNoU3VwcG9ydE1vZHVsZSBmcm9tICdkaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9hdHRhY2gtc3VwcG9ydCc7XG5pbXBvcnQgU2VsZWN0aW9uTW9kdWxlIGZyb20gJ2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL3NlbGVjdGlvbic7XG5pbXBvcnQgQ2hhbmdlU3VwcG9ydE1vZHVsZSBmcm9tICdkaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9jaGFuZ2Utc3VwcG9ydCc7XG5pbXBvcnQgU3BhY2VUb29sTW9kdWxlIGZyb20gJ2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL3NwYWNlLXRvb2wnO1xuXG5pbXBvcnQgUG9zaXRGYWN0b3J5IGZyb20gJy4vUG9zdGl0RmFjdG9yeSc7XG5pbXBvcnQgUG9zdGl0VXBkYXRlciBmcm9tICcuL1Bvc3RpdFVwZGF0ZXInO1xuaW1wb3J0IEVsZW1lbnRGYWN0b3J5IGZyb20gJy4vRWxlbWVudEZhY3RvcnknO1xuaW1wb3J0IE1vZGVsaW5nIGZyb20gJy4vTW9kZWxpbmcnO1xuaW1wb3J0IExheW91dGVyIGZyb20gJ2RpYWdyYW0tanMvbGliL2xheW91dC9CYXNlTGF5b3V0ZXInO1xuaW1wb3J0IENyb3BwaW5nQ29ubmVjdGlvbkRvY2tpbmcgZnJvbSAnZGlhZ3JhbS1qcy9saWIvbGF5b3V0L0Nyb3BwaW5nQ29ubmVjdGlvbkRvY2tpbmcnO1xuXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgX19pbml0X186IFtcbiAgICAnbW9kZWxpbmcnLFxuICAgICdwb3N0aXRVcGRhdGVyJ1xuICBdLFxuICBfX2RlcGVuZHNfXzogW1xuICAgIEJlaGF2aW9yTW9kdWxlLFxuICAgIFJ1bGVzTW9kdWxlLFxuICAgIERpT3JkZXJpbmdNb2R1bGUsXG4gICAgT3JkZXJpbmdNb2R1bGUsXG4gICAgUmVwbGFjZU1vZHVsZSxcbiAgICBDb21tYW5kTW9kdWxlLFxuICAgIFRvb2x0aXBzTW9kdWxlLFxuICAgIExhYmVsU3VwcG9ydE1vZHVsZSxcbiAgICBBdHRhY2hTdXBwb3J0TW9kdWxlLFxuICAgIFNlbGVjdGlvbk1vZHVsZSxcbiAgICBDaGFuZ2VTdXBwb3J0TW9kdWxlLFxuICAgIFNwYWNlVG9vbE1vZHVsZVxuICBdLFxuICBwb3N0aXRGYWN0b3J5OiBbICd0eXBlJywgUG9zaXRGYWN0b3J5IF0sXG4gIHBvc3RpdFVwZGF0ZXI6IFsgJ3R5cGUnLCBQb3N0aXRVcGRhdGVyIF0sXG4gIGVsZW1lbnRGYWN0b3J5OiBbICd0eXBlJywgRWxlbWVudEZhY3RvcnkgXSxcbiAgbW9kZWxpbmc6IFsgJ3R5cGUnLCBNb2RlbGluZyBdLFxuICBsYXlvdXRlcjogWyAndHlwZScsIExheW91dGVyIF0sXG4gIGNvbm5lY3Rpb25Eb2NraW5nOiBbICd0eXBlJywgQ3JvcHBpbmdDb25uZWN0aW9uRG9ja2luZyBdXG59OyIsImltcG9ydCB7XG4gIGFzc2lnbixcbiAgZmlsdGVyLFxuICBncm91cEJ5LFxuICBpc09iamVjdFxufSBmcm9tICdtaW4tZGFzaCc7XG5cbnZhciBMT1dfUFJJT1JJVFkgPSA1MDAsXG4gICAgTUVESVVNX1BSSU9SSVRZID0gMTI1MCxcbiAgICBISUdIX1BSSU9SSVRZID0gMTUwMDtcblxuaW1wb3J0IHsgZ2V0T3JpZ2luYWwgYXMgZ2V0T3JpZ2luYWxFdmVudCB9IGZyb20gJy4uLy4uL3V0aWwvRXZlbnQnO1xuXG5pbXBvcnQge1xuICBpc1ByaW1hcnlCdXR0b25cbn0gZnJvbSAnLi4vLi4vdXRpbC9Nb3VzZSc7XG5cbnZhciByb3VuZCA9IE1hdGgucm91bmQ7XG5cbmZ1bmN0aW9uIG1pZChlbGVtZW50KSB7XG4gIHJldHVybiB7XG4gICAgeDogZWxlbWVudC54ICsgcm91bmQoZWxlbWVudC53aWR0aCAvIDIpLFxuICAgIHk6IGVsZW1lbnQueSArIHJvdW5kKGVsZW1lbnQuaGVpZ2h0IC8gMilcbiAgfTtcbn1cblxuLyoqXG4gKiBBIHBsdWdpbiB0aGF0IG1ha2VzIHNoYXBlcyBkcmFnZ2FibGUgLyBkcm9wcGFibGUuXG4gKlxuICogQHBhcmFtIHtFdmVudEJ1c30gZXZlbnRCdXNcbiAqIEBwYXJhbSB7RHJhZ2dpbmd9IGRyYWdnaW5nXG4gKiBAcGFyYW0ge01vZGVsaW5nfSBtb2RlbGluZ1xuICogQHBhcmFtIHtTZWxlY3Rpb259IHNlbGVjdGlvblxuICogQHBhcmFtIHtSdWxlc30gcnVsZXNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTW92ZUV2ZW50cyhcbiAgICBldmVudEJ1cywgZHJhZ2dpbmcsIG1vZGVsaW5nLFxuICAgIHNlbGVjdGlvbiwgcnVsZXMpIHtcblxuICAvLyBydWxlc1xuXG4gIGZ1bmN0aW9uIGNhbk1vdmUoc2hhcGVzLCBkZWx0YSwgcG9zaXRpb24sIHRhcmdldCkge1xuXG4gICAgcmV0dXJuIHJ1bGVzLmFsbG93ZWQoJ2VsZW1lbnRzLm1vdmUnLCB7XG4gICAgICBzaGFwZXM6IHNoYXBlcyxcbiAgICAgIGRlbHRhOiBkZWx0YSxcbiAgICAgIHBvc2l0aW9uOiBwb3NpdGlvbixcbiAgICAgIHRhcmdldDogdGFyZ2V0XG4gICAgfSk7XG4gIH1cblxuXG4gIC8vIG1vdmUgZXZlbnRzXG5cbiAgLy8gYXNzaWduIGEgaGlnaCBwcmlvcml0eSB0byB0aGlzIGhhbmRsZXIgdG8gc2V0dXAgdGhlIGVudmlyb25tZW50XG4gIC8vIG90aGVycyBtYXkgaG9vayB1cCBsYXRlciwgZS5nLiBhdCBkZWZhdWx0IHByaW9yaXR5IGFuZCBtb2RpZnlcbiAgLy8gdGhlIG1vdmUgZW52aXJvbm1lbnQuXG4gIC8vXG4gIC8vIFRoaXMgc2V0cyB1cCB0aGUgY29udGV4dCB3aXRoXG4gIC8vXG4gIC8vICogc2hhcGU6IHRoZSBwcmltYXJ5IHNoYXBlIGJlaW5nIG1vdmVkXG4gIC8vICogc2hhcGVzOiBhIGxpc3Qgb2Ygc2hhcGVzIHRvIGJlIG1vdmVkXG4gIC8vICogdmFsaWRhdGVkU2hhcGVzOiBhIGxpc3Qgb2Ygc2hhcGVzIHRoYXQgYXJlIGJlaW5nIGNoZWNrZWRcbiAgLy8gICAgICAgICAgICAgICAgICAgIGFnYWluc3QgdGhlIHJ1bGVzIGJlZm9yZSBhbmQgZHVyaW5nIG1vdmVcbiAgLy9cbiAgZXZlbnRCdXMub24oJ3NoYXBlLm1vdmUuc3RhcnQnLCBISUdIX1BSSU9SSVRZLCBmdW5jdGlvbihldmVudCkge1xuXG4gICAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0LFxuICAgICAgICBzaGFwZSA9IGV2ZW50LnNoYXBlLFxuICAgICAgICBzaGFwZXMgPSBzZWxlY3Rpb24uZ2V0KCkuc2xpY2UoKTtcblxuICAgIC8vIG1vdmUgb25seSBzaW5nbGUgc2hhcGUgaWYgdGhlIGRyYWdnZWQgZWxlbWVudFxuICAgIC8vIGlzIG5vdCBwYXJ0IG9mIHRoZSBjdXJyZW50IHNlbGVjdGlvblxuICAgIGlmIChzaGFwZXMuaW5kZXhPZihzaGFwZSkgPT09IC0xKSB7XG4gICAgICBzaGFwZXMgPSBbIHNoYXBlIF07XG4gICAgfVxuXG4gICAgLy8gZW5zdXJlIHdlIHJlbW92ZSBuZXN0ZWQgZWxlbWVudHMgaW4gdGhlIGNvbGxlY3Rpb25cbiAgICAvLyBhbmQgYWRkIGF0dGFjaGVycyBmb3IgYSBwcm9wZXIgZHJhZ2dlclxuICAgIHNoYXBlcyA9IHJlbW92ZU5lc3RlZChzaGFwZXMpO1xuXG4gICAgLy8gYXR0YWNoIHNoYXBlcyB0byBkcmFnIGNvbnRleHRcbiAgICBhc3NpZ24oY29udGV4dCwge1xuICAgICAgc2hhcGVzOiBzaGFwZXMsXG4gICAgICB2YWxpZGF0ZWRTaGFwZXM6IHNoYXBlcyxcbiAgICAgIHNoYXBlOiBzaGFwZVxuICAgIH0pO1xuICB9KTtcblxuXG4gIC8vIGFzc2lnbiBhIGhpZ2ggcHJpb3JpdHkgdG8gdGhpcyBoYW5kbGVyIHRvIHNldHVwIHRoZSBlbnZpcm9ubWVudFxuICAvLyBvdGhlcnMgbWF5IGhvb2sgdXAgbGF0ZXIsIGUuZy4gYXQgZGVmYXVsdCBwcmlvcml0eSBhbmQgbW9kaWZ5XG4gIC8vIHRoZSBtb3ZlIGVudmlyb25tZW50XG4gIC8vXG4gIGV2ZW50QnVzLm9uKCdzaGFwZS5tb3ZlLnN0YXJ0JywgTUVESVVNX1BSSU9SSVRZLCBmdW5jdGlvbihldmVudCkge1xuXG4gICAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0LFxuICAgICAgICB2YWxpZGF0ZWRTaGFwZXMgPSBjb250ZXh0LnZhbGlkYXRlZFNoYXBlcyxcbiAgICAgICAgY2FuRXhlY3V0ZTtcblxuICAgIGNhbkV4ZWN1dGUgPSBjb250ZXh0LmNhbkV4ZWN1dGUgPSBjYW5Nb3ZlKHZhbGlkYXRlZFNoYXBlcyk7XG5cbiAgICAvLyBjaGVjayBpZiB3ZSBjYW4gbW92ZSB0aGUgZWxlbWVudHNcbiAgICBpZiAoIWNhbkV4ZWN1dGUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIGFzc2lnbiBhIGxvdyBwcmlvcml0eSB0byB0aGlzIGhhbmRsZXJcbiAgLy8gdG8gbGV0IG90aGVycyBtb2RpZnkgdGhlIG1vdmUgZXZlbnQgYmVmb3JlIHdlIHVwZGF0ZVxuICAvLyB0aGUgY29udGV4dFxuICAvL1xuICBldmVudEJ1cy5vbignc2hhcGUubW92ZS5tb3ZlJywgTE9XX1BSSU9SSVRZLCBmdW5jdGlvbihldmVudCkge1xuXG4gICAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0LFxuICAgICAgICB2YWxpZGF0ZWRTaGFwZXMgPSBjb250ZXh0LnZhbGlkYXRlZFNoYXBlcyxcbiAgICAgICAgaG92ZXIgPSBldmVudC5ob3ZlcixcbiAgICAgICAgZGVsdGEgPSB7IHg6IGV2ZW50LmR4LCB5OiBldmVudC5keSB9LFxuICAgICAgICBwb3NpdGlvbiA9IHsgeDogZXZlbnQueCwgeTogZXZlbnQueSB9LFxuICAgICAgICBjYW5FeGVjdXRlO1xuXG4gICAgLy8gY2hlY2sgaWYgd2UgY2FuIG1vdmUgdGhlIGVsZW1lbnRzXG4gICAgY2FuRXhlY3V0ZSA9IGNhbk1vdmUodmFsaWRhdGVkU2hhcGVzLCBkZWx0YSwgcG9zaXRpb24sIGhvdmVyKTtcblxuICAgIGNvbnRleHQuZGVsdGEgPSBkZWx0YTtcbiAgICBjb250ZXh0LmNhbkV4ZWN1dGUgPSBjYW5FeGVjdXRlO1xuXG4gICAgLy8gc2ltcGx5IGlnbm9yZSBtb3ZlIG92ZXJcbiAgICBpZiAoY2FuRXhlY3V0ZSA9PT0gbnVsbCkge1xuICAgICAgY29udGV4dC50YXJnZXQgPSBudWxsO1xuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29udGV4dC50YXJnZXQgPSBob3ZlcjtcbiAgfSk7XG5cbiAgZXZlbnRCdXMub24oJ3NoYXBlLm1vdmUuZW5kJywgZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgIHZhciBjb250ZXh0ID0gZXZlbnQuY29udGV4dDtcblxuICAgIHZhciBkZWx0YSA9IGNvbnRleHQuZGVsdGEsXG4gICAgICAgIGNhbkV4ZWN1dGUgPSBjb250ZXh0LmNhbkV4ZWN1dGUsXG4gICAgICAgIGlzQXR0YWNoID0gY2FuRXhlY3V0ZSA9PT0gJ2F0dGFjaCcsXG4gICAgICAgIHNoYXBlcyA9IGNvbnRleHQuc2hhcGVzO1xuXG4gICAgaWYgKGNhbkV4ZWN1dGUgPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gZW5zdXJlIHdlIGhhdmUgYWN0dWFsIHBpeGVsIHZhbHVlcyBkZWx0YXNcbiAgICAvLyAoaW1wb3J0YW50IHdoZW4gem9vbSBsZXZlbCB3YXMgPiAxIGR1cmluZyBtb3ZlKVxuICAgIGRlbHRhLnggPSByb3VuZChkZWx0YS54KTtcbiAgICBkZWx0YS55ID0gcm91bmQoZGVsdGEueSk7XG5cbiAgICBpZiAoZGVsdGEueCA9PT0gMCAmJiBkZWx0YS55ID09PSAwKSB7XG5cbiAgICAgIC8vIGRpZG4ndCBtb3ZlXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbW9kZWxpbmcubW92ZUVsZW1lbnRzKHNoYXBlcywgZGVsdGEsIGNvbnRleHQudGFyZ2V0LCB7XG4gICAgICBwcmltYXJ5U2hhcGU6IGNvbnRleHQuc2hhcGUsXG4gICAgICBhdHRhY2g6IGlzQXR0YWNoXG4gICAgfSk7XG4gIH0pO1xuXG5cbiAgLy8gbW92ZSBhY3RpdmF0aW9uXG5cbiAgZXZlbnRCdXMub24oJ2VsZW1lbnQubW91c2Vkb3duJywgZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgIGlmICghaXNQcmltYXJ5QnV0dG9uKGV2ZW50KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBvcmlnaW5hbEV2ZW50ID0gZ2V0T3JpZ2luYWxFdmVudChldmVudCk7XG5cbiAgICBpZiAoIW9yaWdpbmFsRXZlbnQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignbXVzdCBzdXBwbHkgRE9NIG1vdXNlZG93biBldmVudCcpO1xuICAgIH1cblxuICAgIHJldHVybiBzdGFydChvcmlnaW5hbEV2ZW50LCBldmVudC5lbGVtZW50KTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIFN0YXJ0IG1vdmUuXG4gICAqXG4gICAqIEBwYXJhbSB7TW91c2VFdmVudH0gZXZlbnRcbiAgICogQHBhcmFtIHtkanMubW9kZWwuU2hhcGV9IHNoYXBlXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2FjdGl2YXRlXVxuICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbnRleHRdXG4gICAqL1xuICBmdW5jdGlvbiBzdGFydChldmVudCwgZWxlbWVudCwgYWN0aXZhdGUsIGNvbnRleHQpIHtcbiAgICBpZiAoaXNPYmplY3QoYWN0aXZhdGUpKSB7XG4gICAgICBjb250ZXh0ID0gYWN0aXZhdGU7XG4gICAgICBhY3RpdmF0ZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIC8vIGRvIG5vdCBtb3ZlIGNvbm5lY3Rpb25zIG9yIHRoZSByb290IGVsZW1lbnRcbiAgICBpZiAoZWxlbWVudC53YXlwb2ludHMgfHwgIWVsZW1lbnQucGFyZW50KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHJlZmVyZW5jZVBvaW50ID0gbWlkKGVsZW1lbnQpO1xuXG4gICAgZHJhZ2dpbmcuaW5pdChldmVudCwgcmVmZXJlbmNlUG9pbnQsICdzaGFwZS5tb3ZlJywge1xuICAgICAgY3Vyc29yOiAnZ3JhYmJpbmcnLFxuICAgICAgYXV0b0FjdGl2YXRlOiBhY3RpdmF0ZSxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgc2hhcGU6IGVsZW1lbnQsXG4gICAgICAgIGNvbnRleHQ6IGNvbnRleHQgfHwge31cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIHdlJ3ZlIGhhbmRsZWQgdGhlIGV2ZW50XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvLyBBUElcblxuICB0aGlzLnN0YXJ0ID0gc3RhcnQ7XG59XG5cbk1vdmVFdmVudHMuJGluamVjdCA9IFtcbiAgJ2V2ZW50QnVzJyxcbiAgJ2RyYWdnaW5nJyxcbiAgJ21vZGVsaW5nJyxcbiAgJ3NlbGVjdGlvbicsXG4gICdydWxlcydcbl07XG5cblxuLyoqXG4gKiBSZXR1cm4gYSBmaWx0ZXJlZCBsaXN0IG9mIGVsZW1lbnRzIHRoYXQgZG8gbm90IGNvbnRhaW5cbiAqIHRob3NlIG5lc3RlZCBpbnRvIG90aGVycy5cbiAqXG4gKiBAcGFyYW0gIHtBcnJheTxkanMubW9kZWwuQmFzZT59IGVsZW1lbnRzXG4gKlxuICogQHJldHVybiB7QXJyYXk8ZGpzLm1vZGVsLkJhc2U+fSBmaWx0ZXJlZFxuICovXG5mdW5jdGlvbiByZW1vdmVOZXN0ZWQoZWxlbWVudHMpIHtcblxuICB2YXIgaWRzID0gZ3JvdXBCeShlbGVtZW50cywgJ2lkJyk7XG5cbiAgcmV0dXJuIGZpbHRlcihlbGVtZW50cywgZnVuY3Rpb24oZWxlbWVudCkge1xuICAgIHdoaWxlICgoZWxlbWVudCA9IGVsZW1lbnQucGFyZW50KSkge1xuXG4gICAgICAvLyBwYXJlbnQgaW4gc2VsZWN0aW9uXG4gICAgICBpZiAoaWRzW2VsZW1lbnQuaWRdKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSk7XG59XG4iLCJpbXBvcnQge1xuICBmbGF0dGVuLFxuICBmb3JFYWNoLFxuICBmaWx0ZXIsXG4gIGZpbmQsXG4gIGdyb3VwQnksXG4gIG1hcCxcbiAgbWF0Y2hQYXR0ZXJuLFxuICBzaXplXG59IGZyb20gJ21pbi1kYXNoJztcblxuaW1wb3J0IHtcbiAgc2VsZkFuZEFsbENoaWxkcmVuXG59IGZyb20gJy4uLy4uL3V0aWwvRWxlbWVudHMnO1xuXG5pbXBvcnQge1xuICBhcHBlbmQgYXMgc3ZnQXBwZW5kLFxuICBhdHRyIGFzIHN2Z0F0dHIsXG4gIGNyZWF0ZSBhcyBzdmdDcmVhdGUsXG4gIHJlbW92ZSBhcyBzdmdSZW1vdmVcbn0gZnJvbSAndGlueS1zdmcnO1xuXG5pbXBvcnQgeyB0cmFuc2xhdGUgfSBmcm9tICcuLi8uLi91dGlsL1N2Z1RyYW5zZm9ybVV0aWwnO1xuXG52YXIgTE9XX1BSSU9SSVRZID0gNDk5O1xuXG52YXIgTUFSS0VSX0RSQUdHSU5HID0gJ2Rqcy1kcmFnZ2luZycsXG4gICAgTUFSS0VSX09LID0gJ2Ryb3Atb2snLFxuICAgIE1BUktFUl9OT1RfT0sgPSAnZHJvcC1ub3Qtb2snLFxuICAgIE1BUktFUl9ORVdfUEFSRU5UID0gJ25ldy1wYXJlbnQnLFxuICAgIE1BUktFUl9BVFRBQ0ggPSAnYXR0YWNoLW9rJztcblxuXG4vKipcbiAqIFByb3ZpZGVzIHByZXZpZXdzIGZvciBtb3Zpbmcgc2hhcGVzIHdoZW4gbW92aW5nLlxuICpcbiAqIEBwYXJhbSB7RXZlbnRCdXN9IGV2ZW50QnVzXG4gKiBAcGFyYW0ge0VsZW1lbnRSZWdpc3RyeX0gZWxlbWVudFJlZ2lzdHJ5XG4gKiBAcGFyYW0ge0NhbnZhc30gY2FudmFzXG4gKiBAcGFyYW0ge1N0eWxlc30gc3R5bGVzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIE1vdmVQcmV2aWV3KFxuICAgIGV2ZW50QnVzLCBjYW52YXMsIHN0eWxlcywgcHJldmlld1N1cHBvcnQpIHtcblxuICBmdW5jdGlvbiBnZXRWaXN1YWxEcmFnU2hhcGVzKHNoYXBlcykge1xuICAgIHZhciBlbGVtZW50cyA9IGdldEFsbERyYWdnZWRFbGVtZW50cyhzaGFwZXMpO1xuXG4gICAgdmFyIGZpbHRlcmVkRWxlbWVudHMgPSByZW1vdmVFZGdlcyhlbGVtZW50cyk7XG5cbiAgICByZXR1cm4gZmlsdGVyZWRFbGVtZW50cztcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEFsbERyYWdnZWRFbGVtZW50cyhzaGFwZXMpIHtcbiAgICB2YXIgYWxsU2hhcGVzID0gc2VsZkFuZEFsbENoaWxkcmVuKHNoYXBlcywgdHJ1ZSk7XG5cbiAgICB2YXIgYWxsQ29ubmVjdGlvbnMgPSBtYXAoYWxsU2hhcGVzLCBmdW5jdGlvbihzaGFwZSkge1xuICAgICAgcmV0dXJuIChzaGFwZS5pbmNvbWluZyB8fCBbXSkuY29uY2F0KHNoYXBlLm91dGdvaW5nIHx8IFtdKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBmbGF0dGVuKGFsbFNoYXBlcy5jb25jYXQoYWxsQ29ubmVjdGlvbnMpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIGRyb3AgbWFya2VyIG9uIGFuIGVsZW1lbnQuXG4gICAqL1xuICBmdW5jdGlvbiBzZXRNYXJrZXIoZWxlbWVudCwgbWFya2VyKSB7XG5cbiAgICBbIE1BUktFUl9BVFRBQ0gsIE1BUktFUl9PSywgTUFSS0VSX05PVF9PSywgTUFSS0VSX05FV19QQVJFTlQgXS5mb3JFYWNoKGZ1bmN0aW9uKG0pIHtcblxuICAgICAgaWYgKG0gPT09IG1hcmtlcikge1xuICAgICAgICBjYW52YXMuYWRkTWFya2VyKGVsZW1lbnQsIG0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FudmFzLnJlbW92ZU1hcmtlcihlbGVtZW50LCBtKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNYWtlIGFuIGVsZW1lbnQgZHJhZ2dhYmxlLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gY29udGV4dFxuICAgKiBAcGFyYW0ge2Rqcy5tb2RlbC5CYXNlfSBlbGVtZW50XG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gYWRkTWFya2VyXG4gICAqL1xuICBmdW5jdGlvbiBtYWtlRHJhZ2dhYmxlKGNvbnRleHQsIGVsZW1lbnQsIGFkZE1hcmtlcikge1xuXG4gICAgcHJldmlld1N1cHBvcnQuYWRkRHJhZ2dlcihlbGVtZW50LCBjb250ZXh0LmRyYWdHcm91cCk7XG5cbiAgICBpZiAoYWRkTWFya2VyKSB7XG4gICAgICBjYW52YXMuYWRkTWFya2VyKGVsZW1lbnQsIE1BUktFUl9EUkFHR0lORyk7XG4gICAgfVxuXG4gICAgaWYgKGNvbnRleHQuYWxsRHJhZ2dlZEVsZW1lbnRzKSB7XG4gICAgICBjb250ZXh0LmFsbERyYWdnZWRFbGVtZW50cy5wdXNoKGVsZW1lbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb250ZXh0LmFsbERyYWdnZWRFbGVtZW50cyA9IFsgZWxlbWVudCBdO1xuICAgIH1cbiAgfVxuXG4gIC8vIGFzc2lnbiBhIGxvdyBwcmlvcml0eSB0byB0aGlzIGhhbmRsZXJcbiAgLy8gdG8gbGV0IG90aGVycyBtb2RpZnkgdGhlIG1vdmUgY29udGV4dCBiZWZvcmVcbiAgLy8gd2UgZHJhdyB0aGluZ3NcbiAgZXZlbnRCdXMub24oJ3NoYXBlLm1vdmUuc3RhcnQnLCBMT1dfUFJJT1JJVFksIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0LFxuICAgICAgICBkcmFnU2hhcGVzID0gY29udGV4dC5zaGFwZXMsXG4gICAgICAgIGFsbERyYWdnZWRFbGVtZW50cyA9IGNvbnRleHQuYWxsRHJhZ2dlZEVsZW1lbnRzO1xuXG4gICAgdmFyIHZpc3VhbGx5RHJhZ2dlZFNoYXBlcyA9IGdldFZpc3VhbERyYWdTaGFwZXMoZHJhZ1NoYXBlcyk7XG5cbiAgICBpZiAoIWNvbnRleHQuZHJhZ0dyb3VwKSB7XG4gICAgICB2YXIgZHJhZ0dyb3VwID0gc3ZnQ3JlYXRlKCdnJyk7XG5cbiAgICAgIHN2Z0F0dHIoZHJhZ0dyb3VwLCBzdHlsZXMuY2xzKCdkanMtZHJhZy1ncm91cCcsIFsgJ25vLWV2ZW50cycgXSkpO1xuXG4gICAgICB2YXIgZGVmYXVsdExheWVyID0gY2FudmFzLmdldERlZmF1bHRMYXllcigpO1xuXG4gICAgICBzdmdBcHBlbmQoZGVmYXVsdExheWVyLCBkcmFnR3JvdXApO1xuXG4gICAgICBjb250ZXh0LmRyYWdHcm91cCA9IGRyYWdHcm91cDtcbiAgICB9XG5cbiAgICAvLyBhZGQgcHJldmlld3NcbiAgICB2aXN1YWxseURyYWdnZWRTaGFwZXMuZm9yRWFjaChmdW5jdGlvbihzaGFwZSkge1xuICAgICAgcHJldmlld1N1cHBvcnQuYWRkRHJhZ2dlcihzaGFwZSwgY29udGV4dC5kcmFnR3JvdXApO1xuICAgIH0pO1xuXG4gICAgLy8gY2FjaGUgYWxsIGRyYWdnZWQgZWxlbWVudHMgLyBnZnhcbiAgICAvLyBzbyB0aGF0IHdlIGNhbiBxdWlja2x5IHVuZG8gdGhlaXIgc3RhdGUgY2hhbmdlcyBsYXRlclxuICAgIGlmICghYWxsRHJhZ2dlZEVsZW1lbnRzKSB7XG4gICAgICBhbGxEcmFnZ2VkRWxlbWVudHMgPSBnZXRBbGxEcmFnZ2VkRWxlbWVudHMoZHJhZ1NoYXBlcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFsbERyYWdnZWRFbGVtZW50cyA9IGZsYXR0ZW4oW1xuICAgICAgICBhbGxEcmFnZ2VkRWxlbWVudHMsXG4gICAgICAgIGdldEFsbERyYWdnZWRFbGVtZW50cyhkcmFnU2hhcGVzKVxuICAgICAgXSk7XG4gICAgfVxuXG4gICAgLy8gYWRkIGRyYWdnaW5nIG1hcmtlclxuICAgIGZvckVhY2goYWxsRHJhZ2dlZEVsZW1lbnRzLCBmdW5jdGlvbihlKSB7XG4gICAgICBjYW52YXMuYWRkTWFya2VyKGUsIE1BUktFUl9EUkFHR0lORyk7XG4gICAgfSk7XG5cbiAgICBjb250ZXh0LmFsbERyYWdnZWRFbGVtZW50cyA9IGFsbERyYWdnZWRFbGVtZW50cztcblxuICAgIC8vIGRldGVybWluZSwgaWYgYW55IG9mIHRoZSBkcmFnZ2VkIGVsZW1lbnRzIGhhdmUgZGlmZmVyZW50IHBhcmVudHNcbiAgICBjb250ZXh0LmRpZmZlcmVudFBhcmVudHMgPSBoYXZlRGlmZmVyZW50UGFyZW50cyhkcmFnU2hhcGVzKTtcbiAgfSk7XG5cbiAgLy8gdXBkYXRlIHByZXZpZXdzXG4gIGV2ZW50QnVzLm9uKCdzaGFwZS5tb3ZlLm1vdmUnLCBMT1dfUFJJT1JJVFksIGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICB2YXIgY29udGV4dCA9IGV2ZW50LmNvbnRleHQsXG4gICAgICAgIGRyYWdHcm91cCA9IGNvbnRleHQuZHJhZ0dyb3VwLFxuICAgICAgICB0YXJnZXQgPSBjb250ZXh0LnRhcmdldCxcbiAgICAgICAgcGFyZW50ID0gY29udGV4dC5zaGFwZS5wYXJlbnQsXG4gICAgICAgIGNhbkV4ZWN1dGUgPSBjb250ZXh0LmNhbkV4ZWN1dGU7XG5cbiAgICBpZiAodGFyZ2V0KSB7XG4gICAgICBpZiAoY2FuRXhlY3V0ZSA9PT0gJ2F0dGFjaCcpIHtcbiAgICAgICAgc2V0TWFya2VyKHRhcmdldCwgTUFSS0VSX0FUVEFDSCk7XG4gICAgICB9IGVsc2UgaWYgKGNvbnRleHQuY2FuRXhlY3V0ZSAmJiB0YXJnZXQgJiYgdGFyZ2V0LmlkICE9PSBwYXJlbnQuaWQpIHtcbiAgICAgICAgc2V0TWFya2VyKHRhcmdldCwgTUFSS0VSX05FV19QQVJFTlQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0TWFya2VyKHRhcmdldCwgY29udGV4dC5jYW5FeGVjdXRlID8gTUFSS0VSX09LIDogTUFSS0VSX05PVF9PSyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdHJhbnNsYXRlKGRyYWdHcm91cCwgZXZlbnQuZHgsIGV2ZW50LmR5KTtcbiAgfSk7XG5cbiAgZXZlbnRCdXMub24oWyAnc2hhcGUubW92ZS5vdXQnLCAnc2hhcGUubW92ZS5jbGVhbnVwJyBdLCBmdW5jdGlvbihldmVudCkge1xuICAgIHZhciBjb250ZXh0ID0gZXZlbnQuY29udGV4dCxcbiAgICAgICAgdGFyZ2V0ID0gY29udGV4dC50YXJnZXQ7XG5cbiAgICBpZiAodGFyZ2V0KSB7XG4gICAgICBzZXRNYXJrZXIodGFyZ2V0LCBudWxsKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIHJlbW92ZSBwcmV2aWV3c1xuICBldmVudEJ1cy5vbignc2hhcGUubW92ZS5jbGVhbnVwJywgZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgIHZhciBjb250ZXh0ID0gZXZlbnQuY29udGV4dCxcbiAgICAgICAgYWxsRHJhZ2dlZEVsZW1lbnRzID0gY29udGV4dC5hbGxEcmFnZ2VkRWxlbWVudHMsXG4gICAgICAgIGRyYWdHcm91cCA9IGNvbnRleHQuZHJhZ0dyb3VwO1xuXG5cbiAgICAvLyByZW1vdmUgZHJhZ2dpbmcgbWFya2VyXG4gICAgZm9yRWFjaChhbGxEcmFnZ2VkRWxlbWVudHMsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIGNhbnZhcy5yZW1vdmVNYXJrZXIoZSwgTUFSS0VSX0RSQUdHSU5HKTtcbiAgICB9KTtcblxuICAgIGlmIChkcmFnR3JvdXApIHtcbiAgICAgIHN2Z1JlbW92ZShkcmFnR3JvdXApO1xuICAgIH1cbiAgfSk7XG5cblxuICAvLyBBUEkgLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gIC8qKlxuICAgKiBNYWtlIGFuIGVsZW1lbnQgZHJhZ2dhYmxlLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gY29udGV4dFxuICAgKiBAcGFyYW0ge2Rqcy5tb2RlbC5CYXNlfSBlbGVtZW50XG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gYWRkTWFya2VyXG4gICAqL1xuICB0aGlzLm1ha2VEcmFnZ2FibGUgPSBtYWtlRHJhZ2dhYmxlO1xufVxuXG5Nb3ZlUHJldmlldy4kaW5qZWN0ID0gW1xuICAnZXZlbnRCdXMnLFxuICAnY2FudmFzJyxcbiAgJ3N0eWxlcycsXG4gICdwcmV2aWV3U3VwcG9ydCdcbl07XG5cblxuLy8gaGVscGVycyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbi8qKlxuICogcmV0dXJucyBlbGVtZW50cyBtaW51cyBhbGwgY29ubmVjdGlvbnNcbiAqIHdoZXJlIHNvdXJjZSBvciB0YXJnZXQgaXMgbm90IGVsZW1lbnRzXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZUVkZ2VzKGVsZW1lbnRzKSB7XG5cbiAgdmFyIGZpbHRlcmVkRWxlbWVudHMgPSBmaWx0ZXIoZWxlbWVudHMsIGZ1bmN0aW9uKGVsZW1lbnQpIHtcblxuICAgIGlmICghaXNDb25uZWN0aW9uKGVsZW1lbnQpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuXG4gICAgICByZXR1cm4gKFxuICAgICAgICBmaW5kKGVsZW1lbnRzLCBtYXRjaFBhdHRlcm4oeyBpZDogZWxlbWVudC5zb3VyY2UuaWQgfSkpICYmXG4gICAgICAgIGZpbmQoZWxlbWVudHMsIG1hdGNoUGF0dGVybih7IGlkOiBlbGVtZW50LnRhcmdldC5pZCB9KSlcbiAgICAgICk7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gZmlsdGVyZWRFbGVtZW50cztcbn1cblxuZnVuY3Rpb24gaGF2ZURpZmZlcmVudFBhcmVudHMoZWxlbWVudHMpIHtcbiAgcmV0dXJuIHNpemUoZ3JvdXBCeShlbGVtZW50cywgZnVuY3Rpb24oZSkgeyByZXR1cm4gZS5wYXJlbnQgJiYgZS5wYXJlbnQuaWQ7IH0pKSAhPT0gMTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYW4gZWxlbWVudCBpcyBhIGNvbm5lY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGlzQ29ubmVjdGlvbihlbGVtZW50KSB7XG4gIHJldHVybiBlbGVtZW50LndheXBvaW50cztcbn1cbiIsImltcG9ydCBJbnRlcmFjdGlvbkV2ZW50c01vZHVsZSBmcm9tICcuLi9pbnRlcmFjdGlvbi1ldmVudHMnO1xuaW1wb3J0IFNlbGVjdGlvbk1vZHVsZSBmcm9tICcuLi9zZWxlY3Rpb24nO1xuaW1wb3J0IE91dGxpbmVNb2R1bGUgZnJvbSAnLi4vb3V0bGluZSc7XG5pbXBvcnQgUnVsZXNNb2R1bGUgZnJvbSAnLi4vcnVsZXMnO1xuaW1wb3J0IERyYWdnaW5nTW9kdWxlIGZyb20gJy4uL2RyYWdnaW5nJztcbmltcG9ydCBQcmV2aWV3U3VwcG9ydE1vZHVsZSBmcm9tICcuLi9wcmV2aWV3LXN1cHBvcnQnO1xuXG5pbXBvcnQgTW92ZSBmcm9tICcuL01vdmUnO1xuaW1wb3J0IE1vdmVQcmV2aWV3IGZyb20gJy4vTW92ZVByZXZpZXcnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9fZGVwZW5kc19fOiBbXG4gICAgSW50ZXJhY3Rpb25FdmVudHNNb2R1bGUsXG4gICAgU2VsZWN0aW9uTW9kdWxlLFxuICAgIE91dGxpbmVNb2R1bGUsXG4gICAgUnVsZXNNb2R1bGUsXG4gICAgRHJhZ2dpbmdNb2R1bGUsXG4gICAgUHJldmlld1N1cHBvcnRNb2R1bGVcbiAgXSxcbiAgX19pbml0X186IFtcbiAgICAnbW92ZScsXG4gICAgJ21vdmVQcmV2aWV3J1xuICBdLFxuICBtb3ZlOiBbICd0eXBlJywgTW92ZSBdLFxuICBtb3ZlUHJldmlldzogWyAndHlwZScsIE1vdmVQcmV2aWV3IF1cbn07XG4iLCJpbXBvcnQge1xuICBpc0FycmF5LFxuICBpc0Z1bmN0aW9uLFxuICBmb3JFYWNoXG59IGZyb20gJ21pbi1kYXNoJztcblxuaW1wb3J0IHtcbiAgZG9taWZ5LFxuICBxdWVyeSBhcyBkb21RdWVyeSxcbiAgYXR0ciBhcyBkb21BdHRyLFxuICBjbGVhciBhcyBkb21DbGVhcixcbiAgY2xhc3NlcyBhcyBkb21DbGFzc2VzLFxuICBtYXRjaGVzIGFzIGRvbU1hdGNoZXMsXG4gIGRlbGVnYXRlIGFzIGRvbURlbGVnYXRlLFxuICBldmVudCBhcyBkb21FdmVudFxufSBmcm9tICdtaW4tZG9tJztcblxuXG52YXIgVE9HR0xFX1NFTEVDVE9SID0gJy5kanMtcGFsZXR0ZS10b2dnbGUnLFxuICAgIEVOVFJZX1NFTEVDVE9SID0gJy5lbnRyeScsXG4gICAgRUxFTUVOVF9TRUxFQ1RPUiA9IFRPR0dMRV9TRUxFQ1RPUiArICcsICcgKyBFTlRSWV9TRUxFQ1RPUjtcblxudmFyIFBBTEVUVEVfT1BFTl9DTFMgPSAnb3BlbicsXG4gICAgUEFMRVRURV9UV09fQ09MVU1OX0NMUyA9ICd0d28tY29sdW1uJztcblxudmFyIERFRkFVTFRfUFJJT1JJVFkgPSAxMDAwO1xuXG5cbi8qKlxuICogQSBwYWxldHRlIGNvbnRhaW5pbmcgbW9kZWxpbmcgZWxlbWVudHMuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFBhbGV0dGUoZXZlbnRCdXMsIGNhbnZhcykge1xuXG4gIHRoaXMuX2V2ZW50QnVzID0gZXZlbnRCdXM7XG4gIHRoaXMuX2NhbnZhcyA9IGNhbnZhcztcblxuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgZXZlbnRCdXMub24oJ3Rvb2wtbWFuYWdlci51cGRhdGUnLCBmdW5jdGlvbihldmVudCkge1xuICAgIHZhciB0b29sID0gZXZlbnQudG9vbDtcblxuICAgIHNlbGYudXBkYXRlVG9vbEhpZ2hsaWdodCh0b29sKTtcbiAgfSk7XG5cbiAgZXZlbnRCdXMub24oJ2kxOG4uY2hhbmdlZCcsIGZ1bmN0aW9uKCkge1xuICAgIHNlbGYuX3VwZGF0ZSgpO1xuICB9KTtcblxuICBldmVudEJ1cy5vbignZGlhZ3JhbS5pbml0JywgZnVuY3Rpb24oKSB7XG5cbiAgICBzZWxmLl9kaWFncmFtSW5pdGlhbGl6ZWQgPSB0cnVlO1xuXG4gICAgc2VsZi5fcmVidWlsZCgpO1xuICB9KTtcbn1cblxuUGFsZXR0ZS4kaW5qZWN0ID0gWyAnZXZlbnRCdXMnLCAnY2FudmFzJyBdO1xuXG5cbi8qKlxuICogUmVnaXN0ZXIgYSBwcm92aWRlciB3aXRoIHRoZSBwYWxldHRlXG4gKlxuICogQHBhcmFtICB7bnVtYmVyfSBbcHJpb3JpdHk9MTAwMF1cbiAqIEBwYXJhbSAge1BhbGV0dGVQcm92aWRlcn0gcHJvdmlkZXJcbiAqXG4gKiBAZXhhbXBsZVxuICogY29uc3QgcGFsZXR0ZVByb3ZpZGVyID0ge1xuICogICBnZXRQYWxldHRlRW50cmllczogZnVuY3Rpb24oKSB7XG4gKiAgICAgcmV0dXJuIGZ1bmN0aW9uKGVudHJpZXMpIHtcbiAqICAgICAgIHJldHVybiB7XG4gKiAgICAgICAgIC4uLmVudHJpZXMsXG4gKiAgICAgICAgICdlbnRyeS0xJzoge1xuICogICAgICAgICAgIGxhYmVsOiAnTXkgRW50cnknLFxuICogICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24oKSB7IGFsZXJ0KFwiSSBoYXZlIGJlZW4gY2xpY2tlZCFcIik7IH1cbiAqICAgICAgICAgfVxuICogICAgICAgfTtcbiAqICAgICB9XG4gKiAgIH1cbiAqIH07XG4gKlxuICogcGFsZXR0ZS5yZWdpc3RlclByb3ZpZGVyKDgwMCwgcGFsZXR0ZVByb3ZpZGVyKTtcbiAqL1xuUGFsZXR0ZS5wcm90b3R5cGUucmVnaXN0ZXJQcm92aWRlciA9IGZ1bmN0aW9uKHByaW9yaXR5LCBwcm92aWRlcikge1xuICBpZiAoIXByb3ZpZGVyKSB7XG4gICAgcHJvdmlkZXIgPSBwcmlvcml0eTtcbiAgICBwcmlvcml0eSA9IERFRkFVTFRfUFJJT1JJVFk7XG4gIH1cblxuICB0aGlzLl9ldmVudEJ1cy5vbigncGFsZXR0ZS5nZXRQcm92aWRlcnMnLCBwcmlvcml0eSwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBldmVudC5wcm92aWRlcnMucHVzaChwcm92aWRlcik7XG4gIH0pO1xuXG4gIHRoaXMuX3JlYnVpbGQoKTtcbn07XG5cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBwYWxldHRlIGVudHJpZXNcbiAqXG4gKiBAcmV0dXJuIHtPYmplY3Q8c3RyaW5nLCBQYWxldHRlRW50cnlEZXNjcmlwdG9yPn0gbWFwIG9mIGVudHJpZXNcbiAqL1xuUGFsZXR0ZS5wcm90b3R5cGUuZ2V0RW50cmllcyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgcHJvdmlkZXJzID0gdGhpcy5fZ2V0UHJvdmlkZXJzKCk7XG5cbiAgcmV0dXJuIHByb3ZpZGVycy5yZWR1Y2UoYWRkUGFsZXR0ZUVudHJpZXMsIHt9KTtcbn07XG5cblBhbGV0dGUucHJvdG90eXBlLl9yZWJ1aWxkID0gZnVuY3Rpb24oKSB7XG5cbiAgaWYgKCF0aGlzLl9kaWFncmFtSW5pdGlhbGl6ZWQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgcHJvdmlkZXJzID0gdGhpcy5fZ2V0UHJvdmlkZXJzKCk7XG5cbiAgaWYgKCFwcm92aWRlcnMubGVuZ3RoKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKCF0aGlzLl9jb250YWluZXIpIHtcbiAgICB0aGlzLl9pbml0KCk7XG4gIH1cblxuICB0aGlzLl91cGRhdGUoKTtcbn07XG5cbi8qKlxuICogSW5pdGlhbGl6ZVxuICovXG5QYWxldHRlLnByb3RvdHlwZS5faW5pdCA9IGZ1bmN0aW9uKCkge1xuXG4gIHZhciBzZWxmID0gdGhpcztcblxuICB2YXIgZXZlbnRCdXMgPSB0aGlzLl9ldmVudEJ1cztcblxuICB2YXIgcGFyZW50Q29udGFpbmVyID0gdGhpcy5fZ2V0UGFyZW50Q29udGFpbmVyKCk7XG5cbiAgdmFyIGNvbnRhaW5lciA9IHRoaXMuX2NvbnRhaW5lciA9IGRvbWlmeShQYWxldHRlLkhUTUxfTUFSS1VQKTtcblxuICBwYXJlbnRDb250YWluZXIuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTtcblxuICBkb21EZWxlZ2F0ZS5iaW5kKGNvbnRhaW5lciwgRUxFTUVOVF9TRUxFQ1RPUiwgJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgIHZhciB0YXJnZXQgPSBldmVudC5kZWxlZ2F0ZVRhcmdldDtcblxuICAgIGlmIChkb21NYXRjaGVzKHRhcmdldCwgVE9HR0xFX1NFTEVDVE9SKSkge1xuICAgICAgcmV0dXJuIHNlbGYudG9nZ2xlKCk7XG4gICAgfVxuXG4gICAgc2VsZi50cmlnZ2VyKCdjbGljaycsIGV2ZW50KTtcbiAgfSk7XG5cbiAgLy8gcHJldmVudCBkcmFnIHByb3BhZ2F0aW9uXG4gIGRvbUV2ZW50LmJpbmQoY29udGFpbmVyLCAnbW91c2Vkb3duJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgfSk7XG5cbiAgLy8gcHJldmVudCBkcmFnIHByb3BhZ2F0aW9uXG4gIGRvbURlbGVnYXRlLmJpbmQoY29udGFpbmVyLCBFTlRSWV9TRUxFQ1RPUiwgJ2RyYWdzdGFydCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgc2VsZi50cmlnZ2VyKCdkcmFnc3RhcnQnLCBldmVudCk7XG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKCdjYW52YXMucmVzaXplZCcsIHRoaXMuX2xheW91dENoYW5nZWQsIHRoaXMpO1xuXG4gIGV2ZW50QnVzLmZpcmUoJ3BhbGV0dGUuY3JlYXRlJywge1xuICAgIGNvbnRhaW5lcjogY29udGFpbmVyXG4gIH0pO1xufTtcblxuUGFsZXR0ZS5wcm90b3R5cGUuX2dldFByb3ZpZGVycyA9IGZ1bmN0aW9uKGlkKSB7XG5cbiAgdmFyIGV2ZW50ID0gdGhpcy5fZXZlbnRCdXMuY3JlYXRlRXZlbnQoe1xuICAgIHR5cGU6ICdwYWxldHRlLmdldFByb3ZpZGVycycsXG4gICAgcHJvdmlkZXJzOiBbXVxuICB9KTtcblxuICB0aGlzLl9ldmVudEJ1cy5maXJlKGV2ZW50KTtcblxuICByZXR1cm4gZXZlbnQucHJvdmlkZXJzO1xufTtcblxuLyoqXG4gKiBVcGRhdGUgcGFsZXR0ZSBzdGF0ZS5cbiAqXG4gKiBAcGFyYW0gIHtPYmplY3R9IFtzdGF0ZV0geyBvcGVuLCB0d29Db2x1bW4gfVxuICovXG5QYWxldHRlLnByb3RvdHlwZS5fdG9nZ2xlU3RhdGUgPSBmdW5jdGlvbihzdGF0ZSkge1xuXG4gIHN0YXRlID0gc3RhdGUgfHwge307XG5cbiAgdmFyIHBhcmVudCA9IHRoaXMuX2dldFBhcmVudENvbnRhaW5lcigpLFxuICAgICAgY29udGFpbmVyID0gdGhpcy5fY29udGFpbmVyO1xuXG4gIHZhciBldmVudEJ1cyA9IHRoaXMuX2V2ZW50QnVzO1xuXG4gIHZhciB0d29Db2x1bW47XG5cbiAgdmFyIGNscyA9IGRvbUNsYXNzZXMoY29udGFpbmVyKTtcblxuICBpZiAoJ3R3b0NvbHVtbicgaW4gc3RhdGUpIHtcbiAgICB0d29Db2x1bW4gPSBzdGF0ZS50d29Db2x1bW47XG4gIH0gZWxzZSB7XG4gICAgdHdvQ29sdW1uID0gdGhpcy5fbmVlZHNDb2xsYXBzZShwYXJlbnQuY2xpZW50SGVpZ2h0LCB0aGlzLl9lbnRyaWVzIHx8IHt9KTtcbiAgfVxuXG4gIC8vIGFsd2F5cyB1cGRhdGUgdHdvIGNvbHVtblxuICBjbHMudG9nZ2xlKFBBTEVUVEVfVFdPX0NPTFVNTl9DTFMsIHR3b0NvbHVtbik7XG5cbiAgaWYgKCdvcGVuJyBpbiBzdGF0ZSkge1xuICAgIGNscy50b2dnbGUoUEFMRVRURV9PUEVOX0NMUywgc3RhdGUub3Blbik7XG4gIH1cblxuICBldmVudEJ1cy5maXJlKCdwYWxldHRlLmNoYW5nZWQnLCB7XG4gICAgdHdvQ29sdW1uOiB0d29Db2x1bW4sXG4gICAgb3BlbjogdGhpcy5pc09wZW4oKVxuICB9KTtcbn07XG5cblBhbGV0dGUucHJvdG90eXBlLl91cGRhdGUgPSBmdW5jdGlvbigpIHtcblxuICB2YXIgZW50cmllc0NvbnRhaW5lciA9IGRvbVF1ZXJ5KCcuZGpzLXBhbGV0dGUtZW50cmllcycsIHRoaXMuX2NvbnRhaW5lciksXG4gICAgICBlbnRyaWVzID0gdGhpcy5fZW50cmllcyA9IHRoaXMuZ2V0RW50cmllcygpO1xuXG4gIGRvbUNsZWFyKGVudHJpZXNDb250YWluZXIpO1xuXG4gIGZvckVhY2goZW50cmllcywgZnVuY3Rpb24oZW50cnksIGlkKSB7XG5cbiAgICB2YXIgZ3JvdXBpbmcgPSBlbnRyeS5ncm91cCB8fCAnZGVmYXVsdCc7XG5cbiAgICB2YXIgY29udGFpbmVyID0gZG9tUXVlcnkoJ1tkYXRhLWdyb3VwPScgKyBncm91cGluZyArICddJywgZW50cmllc0NvbnRhaW5lcik7XG4gICAgaWYgKCFjb250YWluZXIpIHtcbiAgICAgIGNvbnRhaW5lciA9IGRvbWlmeSgnPGRpdiBjbGFzcz1cImdyb3VwXCIgZGF0YS1ncm91cD1cIicgKyBncm91cGluZyArICdcIj48L2Rpdj4nKTtcbiAgICAgIGVudHJpZXNDb250YWluZXIuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTtcbiAgICB9XG5cbiAgICB2YXIgaHRtbCA9IGVudHJ5Lmh0bWwgfHwgKFxuICAgICAgZW50cnkuc2VwYXJhdG9yID9cbiAgICAgICAgJzxociBjbGFzcz1cInNlcGFyYXRvclwiIC8+JyA6XG4gICAgICAgICc8ZGl2IGNsYXNzPVwiZW50cnlcIiBkcmFnZ2FibGU9XCJ0cnVlXCI+PC9kaXY+Jyk7XG5cblxuICAgIHZhciBjb250cm9sID0gZG9taWZ5KGh0bWwpO1xuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChjb250cm9sKTtcblxuICAgIGlmICghZW50cnkuc2VwYXJhdG9yKSB7XG4gICAgICBkb21BdHRyKGNvbnRyb2wsICdkYXRhLWFjdGlvbicsIGlkKTtcblxuICAgICAgaWYgKGVudHJ5LnRpdGxlKSB7XG4gICAgICAgIGRvbUF0dHIoY29udHJvbCwgJ3RpdGxlJywgZW50cnkudGl0bGUpO1xuICAgICAgfVxuXG4gICAgICBpZiAoZW50cnkuY2xhc3NOYW1lKSB7XG4gICAgICAgIGFkZENsYXNzZXMoY29udHJvbCwgZW50cnkuY2xhc3NOYW1lKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGVudHJ5LmltYWdlVXJsKSB7XG4gICAgICAgIGNvbnRyb2wuYXBwZW5kQ2hpbGQoZG9taWZ5KCc8aW1nIHNyYz1cIicgKyBlbnRyeS5pbWFnZVVybCArICdcIj4nKSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICAvLyBvcGVuIGFmdGVyIHVwZGF0ZVxuICB0aGlzLm9wZW4oKTtcbn07XG5cblxuLyoqXG4gKiBUcmlnZ2VyIGFuIGFjdGlvbiBhdmFpbGFibGUgb24gdGhlIHBhbGV0dGVcbiAqXG4gKiBAcGFyYW0gIHtzdHJpbmd9IGFjdGlvblxuICogQHBhcmFtICB7RXZlbnR9IGV2ZW50XG4gKi9cblBhbGV0dGUucHJvdG90eXBlLnRyaWdnZXIgPSBmdW5jdGlvbihhY3Rpb24sIGV2ZW50LCBhdXRvQWN0aXZhdGUpIHtcbiAgdmFyIGVudHJpZXMgPSB0aGlzLl9lbnRyaWVzLFxuICAgICAgZW50cnksXG4gICAgICBoYW5kbGVyLFxuICAgICAgb3JpZ2luYWxFdmVudCxcbiAgICAgIGJ1dHRvbiA9IGV2ZW50LmRlbGVnYXRlVGFyZ2V0IHx8IGV2ZW50LnRhcmdldDtcblxuICBpZiAoIWJ1dHRvbikge1xuICAgIHJldHVybiBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICB9XG5cbiAgZW50cnkgPSBlbnRyaWVzW2RvbUF0dHIoYnV0dG9uLCAnZGF0YS1hY3Rpb24nKV07XG5cbiAgLy8gd2hlbiB1c2VyIGNsaWNrcyBvbiB0aGUgcGFsZXR0ZSBhbmQgbm90IG9uIGFuIGFjdGlvblxuICBpZiAoIWVudHJ5KSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaGFuZGxlciA9IGVudHJ5LmFjdGlvbjtcblxuICBvcmlnaW5hbEV2ZW50ID0gZXZlbnQub3JpZ2luYWxFdmVudCB8fCBldmVudDtcblxuICAvLyBzaW1wbGUgYWN0aW9uICh2aWEgY2FsbGJhY2sgZnVuY3Rpb24pXG4gIGlmIChpc0Z1bmN0aW9uKGhhbmRsZXIpKSB7XG4gICAgaWYgKGFjdGlvbiA9PT0gJ2NsaWNrJykge1xuICAgICAgaGFuZGxlcihvcmlnaW5hbEV2ZW50LCBhdXRvQWN0aXZhdGUpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoaGFuZGxlclthY3Rpb25dKSB7XG4gICAgICBoYW5kbGVyW2FjdGlvbl0ob3JpZ2luYWxFdmVudCwgYXV0b0FjdGl2YXRlKTtcbiAgICB9XG4gIH1cblxuICAvLyBzaWxlbmNlIG90aGVyIGFjdGlvbnNcbiAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbn07XG5cblBhbGV0dGUucHJvdG90eXBlLl9sYXlvdXRDaGFuZ2VkID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuX3RvZ2dsZVN0YXRlKHt9KTtcbn07XG5cbi8qKlxuICogRG8gd2UgbmVlZCB0byBjb2xsYXBzZSB0byB0d28gY29sdW1ucz9cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gYXZhaWxhYmxlSGVpZ2h0XG4gKiBAcGFyYW0ge09iamVjdH0gZW50cmllc1xuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cblBhbGV0dGUucHJvdG90eXBlLl9uZWVkc0NvbGxhcHNlID0gZnVuY3Rpb24oYXZhaWxhYmxlSGVpZ2h0LCBlbnRyaWVzKSB7XG5cbiAgLy8gdG9wIG1hcmdpbiArIGJvdHRvbSB0b2dnbGUgKyBib3R0b20gbWFyZ2luXG4gIC8vIGltcGxlbWVudG9ycyBtdXN0IG92ZXJyaWRlIHRoaXMgbWV0aG9kIGlmIHRoZXlcbiAgLy8gY2hhbmdlIHRoZSBwYWxldHRlIHN0eWxlc1xuICB2YXIgbWFyZ2luID0gMjAgKyAxMCArIDIwO1xuXG4gIHZhciBlbnRyaWVzSGVpZ2h0ID0gT2JqZWN0LmtleXMoZW50cmllcykubGVuZ3RoICogNDY7XG5cbiAgcmV0dXJuIGF2YWlsYWJsZUhlaWdodCA8IGVudHJpZXNIZWlnaHQgKyBtYXJnaW47XG59O1xuXG4vKipcbiAqIENsb3NlIHRoZSBwYWxldHRlXG4gKi9cblBhbGV0dGUucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24oKSB7XG5cbiAgdGhpcy5fdG9nZ2xlU3RhdGUoe1xuICAgIG9wZW46IGZhbHNlLFxuICAgIHR3b0NvbHVtbjogZmFsc2VcbiAgfSk7XG59O1xuXG5cbi8qKlxuICogT3BlbiB0aGUgcGFsZXR0ZVxuICovXG5QYWxldHRlLnByb3RvdHlwZS5vcGVuID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuX3RvZ2dsZVN0YXRlKHsgb3BlbjogdHJ1ZSB9KTtcbn07XG5cblxuUGFsZXR0ZS5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24ob3Blbikge1xuICBpZiAodGhpcy5pc09wZW4oKSkge1xuICAgIHRoaXMuY2xvc2UoKTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLm9wZW4oKTtcbiAgfVxufTtcblxuUGFsZXR0ZS5wcm90b3R5cGUuaXNBY3RpdmVUb29sID0gZnVuY3Rpb24odG9vbCkge1xuICByZXR1cm4gdG9vbCAmJiB0aGlzLl9hY3RpdmVUb29sID09PSB0b29sO1xufTtcblxuUGFsZXR0ZS5wcm90b3R5cGUudXBkYXRlVG9vbEhpZ2hsaWdodCA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgdmFyIGVudHJpZXNDb250YWluZXIsXG4gICAgICB0b29sc0NvbnRhaW5lcjtcblxuICBpZiAoIXRoaXMuX3Rvb2xzQ29udGFpbmVyKSB7XG4gICAgZW50cmllc0NvbnRhaW5lciA9IGRvbVF1ZXJ5KCcuZGpzLXBhbGV0dGUtZW50cmllcycsIHRoaXMuX2NvbnRhaW5lcik7XG5cbiAgICB0aGlzLl90b29sc0NvbnRhaW5lciA9IGRvbVF1ZXJ5KCdbZGF0YS1ncm91cD10b29sc10nLCBlbnRyaWVzQ29udGFpbmVyKTtcbiAgfVxuXG4gIHRvb2xzQ29udGFpbmVyID0gdGhpcy5fdG9vbHNDb250YWluZXI7XG5cbiAgZm9yRWFjaCh0b29sc0NvbnRhaW5lci5jaGlsZHJlbiwgZnVuY3Rpb24odG9vbCkge1xuICAgIHZhciBhY3Rpb25OYW1lID0gdG9vbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtYWN0aW9uJyk7XG5cbiAgICBpZiAoIWFjdGlvbk5hbWUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgdG9vbENsYXNzZXMgPSBkb21DbGFzc2VzKHRvb2wpO1xuXG4gICAgYWN0aW9uTmFtZSA9IGFjdGlvbk5hbWUucmVwbGFjZSgnLXRvb2wnLCAnJyk7XG5cbiAgICBpZiAodG9vbENsYXNzZXMuY29udGFpbnMoJ2VudHJ5JykgJiYgYWN0aW9uTmFtZSA9PT0gbmFtZSkge1xuICAgICAgdG9vbENsYXNzZXMuYWRkKCdoaWdobGlnaHRlZC1lbnRyeScpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0b29sQ2xhc3Nlcy5yZW1vdmUoJ2hpZ2hsaWdodGVkLWVudHJ5Jyk7XG4gICAgfVxuICB9KTtcbn07XG5cblxuLyoqXG4gKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgcGFsZXR0ZSBpcyBvcGVuZWQuXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBwYWxldHRlLm9wZW4oKTtcbiAqXG4gKiBpZiAocGFsZXR0ZS5pc09wZW4oKSkge1xuICogICAvLyB5ZXMsIHdlIGFyZSBvcGVuXG4gKiB9XG4gKlxuICogQHJldHVybiB7Ym9vbGVhbn0gdHJ1ZSBpZiBwYWxldHRlIGlzIG9wZW5lZFxuICovXG5QYWxldHRlLnByb3RvdHlwZS5pc09wZW4gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIGRvbUNsYXNzZXModGhpcy5fY29udGFpbmVyKS5oYXMoUEFMRVRURV9PUEVOX0NMUyk7XG59O1xuXG4vKipcbiAqIEdldCBjb250YWluZXIgdGhlIHBhbGV0dGUgbGl2ZXMgaW4uXG4gKlxuICogQHJldHVybiB7RWxlbWVudH1cbiAqL1xuUGFsZXR0ZS5wcm90b3R5cGUuX2dldFBhcmVudENvbnRhaW5lciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5fY2FudmFzLmdldENvbnRhaW5lcigpO1xufTtcblxuXG4vKiBtYXJrdXAgZGVmaW5pdGlvbiAqL1xuXG5QYWxldHRlLkhUTUxfTUFSS1VQID1cbiAgJzxkaXYgY2xhc3M9XCJkanMtcGFsZXR0ZVwiPicgK1xuICAgICc8ZGl2IGNsYXNzPVwiZGpzLXBhbGV0dGUtZW50cmllc1wiPjwvZGl2PicgK1xuICAgICc8ZGl2IGNsYXNzPVwiZGpzLXBhbGV0dGUtdG9nZ2xlXCI+PC9kaXY+JyArXG4gICc8L2Rpdj4nO1xuXG5cbi8vIGhlbHBlcnMgLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5mdW5jdGlvbiBhZGRDbGFzc2VzKGVsZW1lbnQsIGNsYXNzTmFtZXMpIHtcblxuICB2YXIgY2xhc3NlcyA9IGRvbUNsYXNzZXMoZWxlbWVudCk7XG5cbiAgdmFyIGFjdHVhbENsYXNzTmFtZXMgPSBpc0FycmF5KGNsYXNzTmFtZXMpID8gY2xhc3NOYW1lcyA6IGNsYXNzTmFtZXMuc3BsaXQoL1xccysvZyk7XG4gIGFjdHVhbENsYXNzTmFtZXMuZm9yRWFjaChmdW5jdGlvbihjbHMpIHtcbiAgICBjbGFzc2VzLmFkZChjbHMpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gYWRkUGFsZXR0ZUVudHJpZXMoZW50cmllcywgcHJvdmlkZXIpIHtcblxuICB2YXIgZW50cmllc09yVXBkYXRlciA9IHByb3ZpZGVyLmdldFBhbGV0dGVFbnRyaWVzKCk7XG5cbiAgaWYgKGlzRnVuY3Rpb24oZW50cmllc09yVXBkYXRlcikpIHtcbiAgICByZXR1cm4gZW50cmllc09yVXBkYXRlcihlbnRyaWVzKTtcbiAgfVxuXG4gIGZvckVhY2goZW50cmllc09yVXBkYXRlciwgZnVuY3Rpb24oZW50cnksIGlkKSB7XG4gICAgZW50cmllc1tpZF0gPSBlbnRyeTtcbiAgfSk7XG5cbiAgcmV0dXJuIGVudHJpZXM7XG59IiwiaW1wb3J0IFBhbGV0dGUgZnJvbSAnLi9QYWxldHRlJztcblxuZXhwb3J0IGRlZmF1bHQge1xuICBfX2luaXRfXzogWyAncGFsZXR0ZScgXSxcbiAgcGFsZXR0ZTogWyAndHlwZScsIFBhbGV0dGUgXVxufTtcbiIsImltcG9ydCB7IHZhbHVlcyB9IGZyb20gJ21pbi1kYXNoJztcblxuaW1wb3J0IHsgZ2V0RW5jbG9zZWRFbGVtZW50cyB9IGZyb20gJy4uLy4uL3V0aWwvRWxlbWVudHMnO1xuXG5pbXBvcnQge1xuICBoYXNTZWNvbmRhcnlNb2RpZmllclxufSBmcm9tICcuLi8uLi91dGlsL01vdXNlJztcblxuaW1wb3J0IHtcbiAgYXBwZW5kIGFzIHN2Z0FwcGVuZCxcbiAgYXR0ciBhcyBzdmdBdHRyLFxuICBjcmVhdGUgYXMgc3ZnQ3JlYXRlLFxuICByZW1vdmUgYXMgc3ZnUmVtb3ZlXG59IGZyb20gJ3Rpbnktc3ZnJztcblxudmFyIExBU1NPX1RPT0xfQ1VSU09SID0gJ2Nyb3NzaGFpcic7XG5cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTGFzc29Ub29sKFxuICAgIGV2ZW50QnVzLCBjYW52YXMsIGRyYWdnaW5nLFxuICAgIGVsZW1lbnRSZWdpc3RyeSwgc2VsZWN0aW9uLCB0b29sTWFuYWdlcixcbiAgICBtb3VzZSkge1xuXG4gIHRoaXMuX3NlbGVjdGlvbiA9IHNlbGVjdGlvbjtcbiAgdGhpcy5fZHJhZ2dpbmcgPSBkcmFnZ2luZztcbiAgdGhpcy5fbW91c2UgPSBtb3VzZTtcblxuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgLy8gbGFzc28gdmlzdWFscyBpbXBsZW1lbnRhdGlvblxuXG4gIC8qKlxuICAqIEEgaGVscGVyIHRoYXQgcmVhbGl6ZXMgdGhlIHNlbGVjdGlvbiBib3ggdmlzdWFsXG4gICovXG4gIHZhciB2aXN1YWxzID0ge1xuXG4gICAgY3JlYXRlOiBmdW5jdGlvbihjb250ZXh0KSB7XG4gICAgICB2YXIgY29udGFpbmVyID0gY2FudmFzLmdldERlZmF1bHRMYXllcigpLFxuICAgICAgICAgIGZyYW1lO1xuXG4gICAgICBmcmFtZSA9IGNvbnRleHQuZnJhbWUgPSBzdmdDcmVhdGUoJ3JlY3QnKTtcbiAgICAgIHN2Z0F0dHIoZnJhbWUsIHtcbiAgICAgICAgY2xhc3M6ICdkanMtbGFzc28tb3ZlcmxheScsXG4gICAgICAgIHdpZHRoOiAgMSxcbiAgICAgICAgaGVpZ2h0OiAxLFxuICAgICAgICB4OiAwLFxuICAgICAgICB5OiAwXG4gICAgICB9KTtcblxuICAgICAgc3ZnQXBwZW5kKGNvbnRhaW5lciwgZnJhbWUpO1xuICAgIH0sXG5cbiAgICB1cGRhdGU6IGZ1bmN0aW9uKGNvbnRleHQpIHtcbiAgICAgIHZhciBmcmFtZSA9IGNvbnRleHQuZnJhbWUsXG4gICAgICAgICAgYmJveCA9IGNvbnRleHQuYmJveDtcblxuICAgICAgc3ZnQXR0cihmcmFtZSwge1xuICAgICAgICB4OiBiYm94LngsXG4gICAgICAgIHk6IGJib3gueSxcbiAgICAgICAgd2lkdGg6IGJib3gud2lkdGgsXG4gICAgICAgIGhlaWdodDogYmJveC5oZWlnaHRcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICByZW1vdmU6IGZ1bmN0aW9uKGNvbnRleHQpIHtcblxuICAgICAgaWYgKGNvbnRleHQuZnJhbWUpIHtcbiAgICAgICAgc3ZnUmVtb3ZlKGNvbnRleHQuZnJhbWUpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB0b29sTWFuYWdlci5yZWdpc3RlclRvb2woJ2xhc3NvJywge1xuICAgIHRvb2w6ICdsYXNzby5zZWxlY3Rpb24nLFxuICAgIGRyYWdnaW5nOiAnbGFzc28nXG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKCdsYXNzby5zZWxlY3Rpb24uZW5kJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgdGFyZ2V0ID0gZXZlbnQub3JpZ2luYWxFdmVudC50YXJnZXQ7XG5cbiAgICAvLyBvbmx5IHJlYWN0aXZlIG9uIGRpYWdyYW0gY2xpY2tcbiAgICAvLyBvbiBzb21lIG9jY2FzaW9ucywgZXZlbnQuaG92ZXIgaXMgbm90IHNldCBhbmQgd2UgaGF2ZSB0byBjaGVjayBpZiB0aGUgdGFyZ2V0IGlzIGFuIHN2Z1xuICAgIGlmICghZXZlbnQuaG92ZXIgJiYgISh0YXJnZXQgaW5zdGFuY2VvZiBTVkdFbGVtZW50KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGV2ZW50QnVzLm9uY2UoJ2xhc3NvLnNlbGVjdGlvbi5lbmRlZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgc2VsZi5hY3RpdmF0ZUxhc3NvKGV2ZW50Lm9yaWdpbmFsRXZlbnQsIHRydWUpO1xuICAgIH0pO1xuICB9KTtcblxuICAvLyBsYXNzbyBpbnRlcmFjdGlvbiBpbXBsZW1lbnRhdGlvblxuXG4gIGV2ZW50QnVzLm9uKCdsYXNzby5lbmQnLCBmdW5jdGlvbihldmVudCkge1xuXG4gICAgdmFyIGJib3ggPSB0b0JCb3goZXZlbnQpO1xuXG4gICAgdmFyIGVsZW1lbnRzID0gZWxlbWVudFJlZ2lzdHJ5LmZpbHRlcihmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9KTtcblxuICAgIHNlbGYuc2VsZWN0KGVsZW1lbnRzLCBiYm94KTtcbiAgfSk7XG5cbiAgZXZlbnRCdXMub24oJ2xhc3NvLnN0YXJ0JywgZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgIHZhciBjb250ZXh0ID0gZXZlbnQuY29udGV4dDtcblxuICAgIGNvbnRleHQuYmJveCA9IHRvQkJveChldmVudCk7XG4gICAgdmlzdWFscy5jcmVhdGUoY29udGV4dCk7XG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKCdsYXNzby5tb3ZlJywgZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgIHZhciBjb250ZXh0ID0gZXZlbnQuY29udGV4dDtcblxuICAgIGNvbnRleHQuYmJveCA9IHRvQkJveChldmVudCk7XG4gICAgdmlzdWFscy51cGRhdGUoY29udGV4dCk7XG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKCdsYXNzby5jbGVhbnVwJywgZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgIHZhciBjb250ZXh0ID0gZXZlbnQuY29udGV4dDtcblxuICAgIHZpc3VhbHMucmVtb3ZlKGNvbnRleHQpO1xuICB9KTtcblxuXG4gIC8vIGV2ZW50IGludGVncmF0aW9uXG5cbiAgZXZlbnRCdXMub24oJ2VsZW1lbnQubW91c2Vkb3duJywgMTUwMCwgZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgIGlmICghaGFzU2Vjb25kYXJ5TW9kaWZpZXIoZXZlbnQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc2VsZi5hY3RpdmF0ZUxhc3NvKGV2ZW50Lm9yaWdpbmFsRXZlbnQpO1xuXG4gICAgLy8gd2UndmUgaGFuZGxlZCB0aGUgZXZlbnRcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSk7XG59XG5cbkxhc3NvVG9vbC4kaW5qZWN0ID0gW1xuICAnZXZlbnRCdXMnLFxuICAnY2FudmFzJyxcbiAgJ2RyYWdnaW5nJyxcbiAgJ2VsZW1lbnRSZWdpc3RyeScsXG4gICdzZWxlY3Rpb24nLFxuICAndG9vbE1hbmFnZXInLFxuICAnbW91c2UnXG5dO1xuXG5cbkxhc3NvVG9vbC5wcm90b3R5cGUuYWN0aXZhdGVMYXNzbyA9IGZ1bmN0aW9uKGV2ZW50LCBhdXRvQWN0aXZhdGUpIHtcblxuICB0aGlzLl9kcmFnZ2luZy5pbml0KGV2ZW50LCAnbGFzc28nLCB7XG4gICAgYXV0b0FjdGl2YXRlOiBhdXRvQWN0aXZhdGUsXG4gICAgY3Vyc29yOiBMQVNTT19UT09MX0NVUlNPUixcbiAgICBkYXRhOiB7XG4gICAgICBjb250ZXh0OiB7fVxuICAgIH1cbiAgfSk7XG59O1xuXG5MYXNzb1Rvb2wucHJvdG90eXBlLmFjdGl2YXRlU2VsZWN0aW9uID0gZnVuY3Rpb24oZXZlbnQsIGF1dG9BY3RpdmF0ZSkge1xuXG4gIHRoaXMuX2RyYWdnaW5nLmluaXQoZXZlbnQsICdsYXNzby5zZWxlY3Rpb24nLCB7XG4gICAgdHJhcENsaWNrOiBmYWxzZSxcbiAgICBhdXRvQWN0aXZhdGU6IGF1dG9BY3RpdmF0ZSxcbiAgICBjdXJzb3I6IExBU1NPX1RPT0xfQ1VSU09SLFxuICAgIGRhdGE6IHtcbiAgICAgIGNvbnRleHQ6IHt9XG4gICAgfVxuICB9KTtcbn07XG5cbkxhc3NvVG9vbC5wcm90b3R5cGUuc2VsZWN0ID0gZnVuY3Rpb24oZWxlbWVudHMsIGJib3gpIHtcbiAgdmFyIHNlbGVjdGVkRWxlbWVudHMgPSBnZXRFbmNsb3NlZEVsZW1lbnRzKGVsZW1lbnRzLCBiYm94KTtcblxuICB0aGlzLl9zZWxlY3Rpb24uc2VsZWN0KHZhbHVlcyhzZWxlY3RlZEVsZW1lbnRzKSk7XG59O1xuXG5MYXNzb1Rvb2wucHJvdG90eXBlLnRvZ2dsZSA9IGZ1bmN0aW9uKCkge1xuICBpZiAodGhpcy5pc0FjdGl2ZSgpKSB7XG4gICAgcmV0dXJuIHRoaXMuX2RyYWdnaW5nLmNhbmNlbCgpO1xuICB9XG5cbiAgdmFyIG1vdXNlRXZlbnQgPSB0aGlzLl9tb3VzZS5nZXRMYXN0TW92ZUV2ZW50KCk7XG5cbiAgdGhpcy5hY3RpdmF0ZVNlbGVjdGlvbihtb3VzZUV2ZW50LCAhIW1vdXNlRXZlbnQpO1xufTtcblxuTGFzc29Ub29sLnByb3RvdHlwZS5pc0FjdGl2ZSA9IGZ1bmN0aW9uKCkge1xuICB2YXIgY29udGV4dCA9IHRoaXMuX2RyYWdnaW5nLmNvbnRleHQoKTtcblxuICByZXR1cm4gY29udGV4dCAmJiAvXmxhc3NvLy50ZXN0KGNvbnRleHQucHJlZml4KTtcbn07XG5cblxuXG5mdW5jdGlvbiB0b0JCb3goZXZlbnQpIHtcblxuICB2YXIgc3RhcnQgPSB7XG5cbiAgICB4OiBldmVudC54IC0gZXZlbnQuZHgsXG4gICAgeTogZXZlbnQueSAtIGV2ZW50LmR5XG4gIH07XG5cbiAgdmFyIGVuZCA9IHtcbiAgICB4OiBldmVudC54LFxuICAgIHk6IGV2ZW50LnlcbiAgfTtcblxuICB2YXIgYmJveDtcblxuICBpZiAoKHN0YXJ0LnggPD0gZW5kLnggJiYgc3RhcnQueSA8IGVuZC55KSB8fFxuICAgICAgKHN0YXJ0LnggPCBlbmQueCAmJiBzdGFydC55IDw9IGVuZC55KSkge1xuXG4gICAgYmJveCA9IHtcbiAgICAgIHg6IHN0YXJ0LngsXG4gICAgICB5OiBzdGFydC55LFxuICAgICAgd2lkdGg6ICBlbmQueCAtIHN0YXJ0LngsXG4gICAgICBoZWlnaHQ6IGVuZC55IC0gc3RhcnQueVxuICAgIH07XG4gIH0gZWxzZSBpZiAoKHN0YXJ0LnggPj0gZW5kLnggJiYgc3RhcnQueSA8IGVuZC55KSB8fFxuICAgICAgICAgICAgIChzdGFydC54ID4gZW5kLnggJiYgc3RhcnQueSA8PSBlbmQueSkpIHtcblxuICAgIGJib3ggPSB7XG4gICAgICB4OiBlbmQueCxcbiAgICAgIHk6IHN0YXJ0LnksXG4gICAgICB3aWR0aDogIHN0YXJ0LnggLSBlbmQueCxcbiAgICAgIGhlaWdodDogZW5kLnkgLSBzdGFydC55XG4gICAgfTtcbiAgfSBlbHNlIGlmICgoc3RhcnQueCA8PSBlbmQueCAmJiBzdGFydC55ID4gZW5kLnkpIHx8XG4gICAgICAgICAgICAgKHN0YXJ0LnggPCBlbmQueCAmJiBzdGFydC55ID49IGVuZC55KSkge1xuXG4gICAgYmJveCA9IHtcbiAgICAgIHg6IHN0YXJ0LngsXG4gICAgICB5OiBlbmQueSxcbiAgICAgIHdpZHRoOiAgZW5kLnggLSBzdGFydC54LFxuICAgICAgaGVpZ2h0OiBzdGFydC55IC0gZW5kLnlcbiAgICB9O1xuICB9IGVsc2UgaWYgKChzdGFydC54ID49IGVuZC54ICYmIHN0YXJ0LnkgPiBlbmQueSkgfHxcbiAgICAgICAgICAgICAoc3RhcnQueCA+IGVuZC54ICYmIHN0YXJ0LnkgPj0gZW5kLnkpKSB7XG5cbiAgICBiYm94ID0ge1xuICAgICAgeDogZW5kLngsXG4gICAgICB5OiBlbmQueSxcbiAgICAgIHdpZHRoOiAgc3RhcnQueCAtIGVuZC54LFxuICAgICAgaGVpZ2h0OiBzdGFydC55IC0gZW5kLnlcbiAgICB9O1xuICB9IGVsc2Uge1xuXG4gICAgYmJveCA9IHtcbiAgICAgIHg6IGVuZC54LFxuICAgICAgeTogZW5kLnksXG4gICAgICB3aWR0aDogIDAsXG4gICAgICBoZWlnaHQ6IDBcbiAgICB9O1xuICB9XG4gIHJldHVybiBiYm94O1xufVxuIiwiaW1wb3J0IFRvb2xNYW5hZ2VyTW9kdWxlIGZyb20gJy4uL3Rvb2wtbWFuYWdlcic7XG5pbXBvcnQgTW91c2VNb2R1bGUgZnJvbSAnLi4vbW91c2UnO1xuXG5pbXBvcnQgTGFzc29Ub29sIGZyb20gJy4vTGFzc29Ub29sJztcblxuZXhwb3J0IGRlZmF1bHQge1xuICBfX2RlcGVuZHNfXzogW1xuICAgIFRvb2xNYW5hZ2VyTW9kdWxlLFxuICAgIE1vdXNlTW9kdWxlXG4gIF0sXG4gIF9faW5pdF9fOiBbICdsYXNzb1Rvb2wnIF0sXG4gIGxhc3NvVG9vbDogWyAndHlwZScsIExhc3NvVG9vbCBdXG59O1xuIiwiaW1wb3J0IHtcbiAgaGFzUHJpbWFyeU1vZGlmaWVyXG59IGZyb20gJy4uLy4uL3V0aWwvTW91c2UnO1xuXG5pbXBvcnQgeyBpc0tleSB9IGZyb20gJy4uLy4uL2ZlYXR1cmVzL2tleWJvYXJkL0tleWJvYXJkVXRpbCc7XG5cbnZhciBISUdIX1BSSU9SSVRZID0gMTUwMDtcbnZhciBIQU5EX0NVUlNPUiA9ICdncmFiJztcblxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBIYW5kVG9vbChcbiAgICBldmVudEJ1cywgY2FudmFzLCBkcmFnZ2luZyxcbiAgICBpbmplY3RvciwgdG9vbE1hbmFnZXIsIG1vdXNlKSB7XG5cbiAgdGhpcy5fZHJhZ2dpbmcgPSBkcmFnZ2luZztcbiAgdGhpcy5fbW91c2UgPSBtb3VzZTtcblxuICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICBrZXlib2FyZCA9IGluamVjdG9yLmdldCgna2V5Ym9hcmQnLCBmYWxzZSk7XG5cbiAgdG9vbE1hbmFnZXIucmVnaXN0ZXJUb29sKCdoYW5kJywge1xuICAgIHRvb2w6ICdoYW5kJyxcbiAgICBkcmFnZ2luZzogJ2hhbmQubW92ZSdcbiAgfSk7XG5cbiAgZXZlbnRCdXMub24oJ2VsZW1lbnQubW91c2Vkb3duJywgSElHSF9QUklPUklUWSwgZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgIGlmICghaGFzUHJpbWFyeU1vZGlmaWVyKGV2ZW50KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHNlbGYuYWN0aXZhdGVNb3ZlKGV2ZW50Lm9yaWdpbmFsRXZlbnQsIHRydWUpO1xuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9KTtcblxuICBrZXlib2FyZCAmJiBrZXlib2FyZC5hZGRMaXN0ZW5lcihISUdIX1BSSU9SSVRZLCBmdW5jdGlvbihlKSB7XG4gICAgaWYgKCFpc1NwYWNlKGUua2V5RXZlbnQpIHx8IHNlbGYuaXNBY3RpdmUoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBtb3VzZUV2ZW50ID0gc2VsZi5fbW91c2UuZ2V0TGFzdE1vdmVFdmVudCgpO1xuXG4gICAgc2VsZi5hY3RpdmF0ZU1vdmUobW91c2VFdmVudCwgISFtb3VzZUV2ZW50KTtcbiAgfSwgJ2tleWJvYXJkLmtleWRvd24nKTtcblxuICBrZXlib2FyZCAmJiBrZXlib2FyZC5hZGRMaXN0ZW5lcihISUdIX1BSSU9SSVRZLCBmdW5jdGlvbihlKSB7XG4gICAgaWYgKCFpc1NwYWNlKGUua2V5RXZlbnQpIHx8ICFzZWxmLmlzQWN0aXZlKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzZWxmLnRvZ2dsZSgpO1xuICB9LCAna2V5Ym9hcmQua2V5dXAnKTtcblxuICBldmVudEJ1cy5vbignaGFuZC5lbmQnLCBmdW5jdGlvbihldmVudCkge1xuICAgIHZhciB0YXJnZXQgPSBldmVudC5vcmlnaW5hbEV2ZW50LnRhcmdldDtcblxuICAgIC8vIG9ubHkgcmVhY3RpdmUgb24gZGlhZ3JhbSBjbGlja1xuICAgIC8vIG9uIHNvbWUgb2NjYXNpb25zLCBldmVudC5ob3ZlciBpcyBub3Qgc2V0IGFuZCB3ZSBoYXZlIHRvIGNoZWNrIGlmIHRoZSB0YXJnZXQgaXMgYW4gc3ZnXG4gICAgaWYgKCFldmVudC5ob3ZlciAmJiAhKHRhcmdldCBpbnN0YW5jZW9mIFNWR0VsZW1lbnQpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgZXZlbnRCdXMub25jZSgnaGFuZC5lbmRlZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgc2VsZi5hY3RpdmF0ZU1vdmUoZXZlbnQub3JpZ2luYWxFdmVudCwgeyByZWFjdGl2YXRlOiB0cnVlIH0pO1xuICAgIH0pO1xuXG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKCdoYW5kLm1vdmUubW92ZScsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIHNjYWxlID0gY2FudmFzLnZpZXdib3goKS5zY2FsZTtcblxuICAgIGNhbnZhcy5zY3JvbGwoe1xuICAgICAgZHg6IGV2ZW50LmR4ICogc2NhbGUsXG4gICAgICBkeTogZXZlbnQuZHkgKiBzY2FsZVxuICAgIH0pO1xuICB9KTtcblxuICBldmVudEJ1cy5vbignaGFuZC5tb3ZlLmVuZCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0LFxuICAgICAgICByZWFjdGl2YXRlID0gY29udGV4dC5yZWFjdGl2YXRlO1xuXG4gICAgLy8gRG9uJ3QgcmVhY3RpdmF0ZSBpZiB0aGUgdXNlciBpcyB1c2luZyB0aGUga2V5Ym9hcmQga2V5YmluZGluZ1xuICAgIGlmICghaGFzUHJpbWFyeU1vZGlmaWVyKGV2ZW50KSAmJiByZWFjdGl2YXRlKSB7XG5cbiAgICAgIGV2ZW50QnVzLm9uY2UoJ2hhbmQubW92ZS5lbmRlZCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIHNlbGYuYWN0aXZhdGVIYW5kKGV2ZW50Lm9yaWdpbmFsRXZlbnQsIHRydWUsIHRydWUpO1xuICAgICAgfSk7XG5cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0pO1xuXG59XG5cbkhhbmRUb29sLiRpbmplY3QgPSBbXG4gICdldmVudEJ1cycsXG4gICdjYW52YXMnLFxuICAnZHJhZ2dpbmcnLFxuICAnaW5qZWN0b3InLFxuICAndG9vbE1hbmFnZXInLFxuICAnbW91c2UnXG5dO1xuXG5cbkhhbmRUb29sLnByb3RvdHlwZS5hY3RpdmF0ZU1vdmUgPSBmdW5jdGlvbihldmVudCwgYXV0b0FjdGl2YXRlLCBjb250ZXh0KSB7XG4gIGlmICh0eXBlb2YgYXV0b0FjdGl2YXRlID09PSAnb2JqZWN0Jykge1xuICAgIGNvbnRleHQgPSBhdXRvQWN0aXZhdGU7XG4gICAgYXV0b0FjdGl2YXRlID0gZmFsc2U7XG4gIH1cblxuICB0aGlzLl9kcmFnZ2luZy5pbml0KGV2ZW50LCAnaGFuZC5tb3ZlJywge1xuICAgIGF1dG9BY3RpdmF0ZTogYXV0b0FjdGl2YXRlLFxuICAgIGN1cnNvcjogSEFORF9DVVJTT1IsXG4gICAgZGF0YToge1xuICAgICAgY29udGV4dDogY29udGV4dCB8fCB7fVxuICAgIH1cbiAgfSk7XG59O1xuXG5IYW5kVG9vbC5wcm90b3R5cGUuYWN0aXZhdGVIYW5kID0gZnVuY3Rpb24oZXZlbnQsIGF1dG9BY3RpdmF0ZSwgcmVhY3RpdmF0ZSkge1xuICB0aGlzLl9kcmFnZ2luZy5pbml0KGV2ZW50LCAnaGFuZCcsIHtcbiAgICB0cmFwQ2xpY2s6IGZhbHNlLFxuICAgIGF1dG9BY3RpdmF0ZTogYXV0b0FjdGl2YXRlLFxuICAgIGN1cnNvcjogSEFORF9DVVJTT1IsXG4gICAgZGF0YToge1xuICAgICAgY29udGV4dDoge1xuICAgICAgICByZWFjdGl2YXRlOiByZWFjdGl2YXRlXG4gICAgICB9XG4gICAgfVxuICB9KTtcbn07XG5cbkhhbmRUb29sLnByb3RvdHlwZS50b2dnbGUgPSBmdW5jdGlvbigpIHtcbiAgaWYgKHRoaXMuaXNBY3RpdmUoKSkge1xuICAgIHJldHVybiB0aGlzLl9kcmFnZ2luZy5jYW5jZWwoKTtcbiAgfVxuXG4gIHZhciBtb3VzZUV2ZW50ID0gdGhpcy5fbW91c2UuZ2V0TGFzdE1vdmVFdmVudCgpO1xuXG4gIHRoaXMuYWN0aXZhdGVIYW5kKG1vdXNlRXZlbnQsICEhbW91c2VFdmVudCk7XG59O1xuXG5IYW5kVG9vbC5wcm90b3R5cGUuaXNBY3RpdmUgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGNvbnRleHQgPSB0aGlzLl9kcmFnZ2luZy5jb250ZXh0KCk7XG5cbiAgaWYgKGNvbnRleHQpIHtcbiAgICByZXR1cm4gL14oaGFuZHxoYW5kXFwubW92ZSkkLy50ZXN0KGNvbnRleHQucHJlZml4KTtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn07XG5cbi8vIGhlbHBlcnMgLy8vLy8vLy8vL1xuXG5mdW5jdGlvbiBpc1NwYWNlKGtleUV2ZW50KSB7XG4gIHJldHVybiBpc0tleSgnICcsIGtleUV2ZW50KTtcbn0iLCJpbXBvcnQgVG9vbE1hbmFnZXJNb2R1bGUgZnJvbSAnLi4vdG9vbC1tYW5hZ2VyJztcbmltcG9ydCBNb3VzZU1vZHVsZSBmcm9tICcuLi9tb3VzZSc7XG5cbmltcG9ydCBIYW5kVG9vbCBmcm9tICcuL0hhbmRUb29sJztcblxuZXhwb3J0IGRlZmF1bHQge1xuICBfX2RlcGVuZHNfXzogW1xuICAgIFRvb2xNYW5hZ2VyTW9kdWxlLFxuICAgIE1vdXNlTW9kdWxlXG4gIF0sXG4gIF9faW5pdF9fOiBbICdoYW5kVG9vbCcgXSxcbiAgaGFuZFRvb2w6IFsgJ3R5cGUnLCBIYW5kVG9vbCBdXG59O1xuIiwiaW1wb3J0IHtcbiAgYXNzaWduXG59IGZyb20gJ21pbi1kYXNoJztcblxuaW1wb3J0IENPTE9SUyBmcm9tICcuLi8uLi91dGlsL0NvbG9yVXRpbCc7XG5cblxuLyoqXG4gKiBBIHBhbGV0dGUgcHJvdmlkZXIgZm9yIHBvc3RpdCBlbGVtZW50cy5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUGFsZXR0ZVByb3ZpZGVyKFxuICAgIHBhbGV0dGUsIGNyZWF0ZSwgZWxlbWVudEZhY3RvcnksXG4gICAgc3BhY2VUb29sLCBsYXNzb1Rvb2wsIGhhbmRUb29sLCB0cmFuc2xhdGUpIHtcblxuICB0aGlzLl9wYWxldHRlID0gcGFsZXR0ZTtcbiAgdGhpcy5fY3JlYXRlID0gY3JlYXRlO1xuICB0aGlzLl9lbGVtZW50RmFjdG9yeSA9IGVsZW1lbnRGYWN0b3J5O1xuICB0aGlzLl9zcGFjZVRvb2wgPSBzcGFjZVRvb2w7XG4gIHRoaXMuX2xhc3NvVG9vbCA9IGxhc3NvVG9vbDtcbiAgdGhpcy5faGFuZFRvb2wgPSBoYW5kVG9vbDtcbiAgdGhpcy5fdHJhbnNsYXRlID0gdHJhbnNsYXRlO1xuXG4gIHBhbGV0dGUucmVnaXN0ZXJQcm92aWRlcih0aGlzKTtcbn1cblxuUGFsZXR0ZVByb3ZpZGVyLiRpbmplY3QgPSBbXG4gICdwYWxldHRlJyxcbiAgJ2NyZWF0ZScsXG4gICdlbGVtZW50RmFjdG9yeScsXG4gICdzcGFjZVRvb2wnLFxuICAnbGFzc29Ub29sJyxcbiAgJ2hhbmRUb29sJyxcbiAgJ3RyYW5zbGF0ZSdcbl07XG5cblxuUGFsZXR0ZVByb3ZpZGVyLnByb3RvdHlwZS5nZXRQYWxldHRlRW50cmllcyA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcblxuICB2YXIgYWN0aW9ucyA9IHt9LFxuICAgICAgY3JlYXRlID0gdGhpcy5fY3JlYXRlLFxuICAgICAgZWxlbWVudEZhY3RvcnkgPSB0aGlzLl9lbGVtZW50RmFjdG9yeSxcbiAgICAgIHNwYWNlVG9vbCA9IHRoaXMuX3NwYWNlVG9vbCxcbiAgICAgIGxhc3NvVG9vbCA9IHRoaXMuX2xhc3NvVG9vbCxcbiAgICAgIGhhbmRUb29sID0gdGhpcy5faGFuZFRvb2wsXG4gICAgICB0cmFuc2xhdGUgPSB0aGlzLl90cmFuc2xhdGU7XG5cbiAgZnVuY3Rpb24gY3JlYXRlQWN0aW9uKHR5cGUsIGdyb3VwLCBjbGFzc05hbWUsIHRpdGxlLCBvcHRpb25zKSB7XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVMaXN0ZW5lcihldmVudCkge1xuICAgICAgdmFyIHNoYXBlID0gZWxlbWVudEZhY3RvcnkuY3JlYXRlU2hhcGUoYXNzaWduKHsgdHlwZTogdHlwZSB9LCBvcHRpb25zKSk7XG4gICAgICBjcmVhdGUuc3RhcnQoZXZlbnQsIHNoYXBlKTtcbiAgICB9XG5cbiAgICB2YXIgc2hvcnRUeXBlID0gdHlwZS5yZXBsYWNlKC9ecG9zdGl0Oi8sICcnKTtcblxuICAgIHJldHVybiB7XG4gICAgICBncm91cDogZ3JvdXAsXG4gICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICAgIHRpdGxlOiB0aXRsZSB8fCB0cmFuc2xhdGUoJ0NyZWF0ZSB7dHlwZX0nLCB7IHR5cGU6IHNob3J0VHlwZSB9KSxcbiAgICAgIGFjdGlvbjoge1xuICAgICAgICBkcmFnc3RhcnQ6IGNyZWF0ZUxpc3RlbmVyLFxuICAgICAgICBjbGljazogY3JlYXRlTGlzdGVuZXJcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlSW1hZ2UoZXZlbnQpIHtcbiAgICB2YXIgc2hhcGUgPSBlbGVtZW50RmFjdG9yeS5jcmVhdGVTaGFwZSh7XG4gICAgICB0eXBlOiAncG9zdGl0OkltYWdlJ1xuICAgIH0pO1xuXG4gICAgY3JlYXRlLnN0YXJ0KGV2ZW50LCBzaGFwZSwge1xuICAgICAgaGludHM6IHsgc2VsZWN0SW1hZ2U6IHRydWUgfVxuICAgIH0pO1xuICB9XG5cbiAgYXNzaWduKGFjdGlvbnMsIHtcbiAgICAnaGFuZC10b29sJzoge1xuICAgICAgZ3JvdXA6ICd0b29scycsXG4gICAgICBjbGFzc05hbWU6ICdicG1uLWljb24taGFuZC10b29sJyxcbiAgICAgIHRpdGxlOiB0cmFuc2xhdGUoJ0FjdGl2YXRlIHRoZSBoYW5kIHRvb2wnKSxcbiAgICAgIGFjdGlvbjoge1xuICAgICAgICBjbGljazogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICBoYW5kVG9vbC5hY3RpdmF0ZUhhbmQoZXZlbnQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICAnbGFzc28tdG9vbCc6IHtcbiAgICAgIGdyb3VwOiAndG9vbHMnLFxuICAgICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLWxhc3NvLXRvb2wnLFxuICAgICAgdGl0bGU6IHRyYW5zbGF0ZSgnQWN0aXZhdGUgdGhlIGxhc3NvIHRvb2wnKSxcbiAgICAgIGFjdGlvbjoge1xuICAgICAgICBjbGljazogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICBsYXNzb1Rvb2wuYWN0aXZhdGVTZWxlY3Rpb24oZXZlbnQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICAnc3BhY2UtdG9vbCc6IHtcbiAgICAgIGdyb3VwOiAndG9vbHMnLFxuICAgICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLXNwYWNlLXRvb2wnLFxuICAgICAgdGl0bGU6IHRyYW5zbGF0ZSgnQWN0aXZhdGUgdGhlIGNyZWF0ZS9yZW1vdmUgc3BhY2UgdG9vbCcpLFxuICAgICAgYWN0aW9uOiB7XG4gICAgICAgIGNsaWNrOiBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgIHNwYWNlVG9vbC5hY3RpdmF0ZVNlbGVjdGlvbihldmVudCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgICd0b29sLXNlcGFyYXRvcic6IHtcbiAgICAgIGdyb3VwOiAndG9vbHMnLFxuICAgICAgc2VwYXJhdG9yOiB0cnVlXG4gICAgfSxcbiAgICAnY3JlYXRlLnNxdWFyZS1wb3N0aXQnOiBjcmVhdGVBY3Rpb24oXG4gICAgICAncG9zdGl0OlNxdWFyZVBvc3RpdCcsICdwb3N0aXRzJywgJ3Bqcy1wb3N0aXQtc3F1YXJlJyxcbiAgICAgIHRyYW5zbGF0ZSgnQ3JlYXRlIFNxdWFyZSBQb3N0aXQnKSwgeyBjb2xvcjogQ09MT1JTLllFTExPVyB9XG4gICAgKSxcbiAgICAnY3JlYXRlLmNpcmNsZS1wb3N0aXQnOiBjcmVhdGVBY3Rpb24oXG4gICAgICAncG9zdGl0OkNpcmNsZVBvc3RpdCcsICdwb3N0aXRzJywgJ3Bqcy1wb3N0aXQtY2lyY2xlJyxcbiAgICAgIHRyYW5zbGF0ZSgnQ3JlYXRlIENpcmNsZSBQb3N0aXQnKSwgeyBjb2xvcjogQ09MT1JTLlBJTksgfVxuICAgICksXG4gICAgJ3Bvc3RpdC1zZXBhcmF0b3InOiB7XG4gICAgICBncm91cDogJ3Bvc3RpdHMnLFxuICAgICAgc2VwYXJhdG9yOiB0cnVlXG4gICAgfSxcbiAgICAnY3JlYXRlLmltYWdlJzoge1xuICAgICAgZ3JvdXA6ICdhcnRpZmFjdCcsXG4gICAgICBjbGFzc05hbWU6ICdwanMtaW1hZ2UnLFxuICAgICAgdGl0bGU6IHRyYW5zbGF0ZSgnQ3JlYXRlIEltYWdlJyksXG4gICAgICBhY3Rpb246IHtcbiAgICAgICAgY2xpY2s6IGNyZWF0ZUltYWdlLFxuICAgICAgICBkcmFnc3RhcnQ6IGNyZWF0ZUltYWdlXG4gICAgICB9XG4gICAgfSxcbiAgICAnY3JlYXRlLnRleHQtYm94JzogY3JlYXRlQWN0aW9uKFxuICAgICAgJ3Bvc3RpdDpUZXh0Qm94JywgJ2FydGlmYWN0JywgJ3Bqcy10ZXh0LWJveCcsXG4gICAgICB0cmFuc2xhdGUoJ0NyZWF0ZSBUZXh0JylcbiAgICApLFxuICAgICdjcmVhdGUuZ3JvdXAnOiBjcmVhdGVBY3Rpb24oXG4gICAgICAncG9zdGl0Okdyb3VwJywgJ2FydGlmYWN0JywgJ3Bqcy1ncm91cCcsXG4gICAgICB0cmFuc2xhdGUoJ0NyZWF0ZSBHcm91cCcpXG4gICAgKVxuICB9KTtcblxuICByZXR1cm4gYWN0aW9ucztcbn07XG4iLCJpbXBvcnQgUGFsZXR0ZU1vZHVsZSBmcm9tICdkaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9wYWxldHRlJztcbmltcG9ydCBDcmVhdGVNb2R1bGUgZnJvbSAnZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvY3JlYXRlJztcbmltcG9ydCBTcGFjZVRvb2xNb2R1bGUgZnJvbSAnZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvc3BhY2UtdG9vbCc7XG5pbXBvcnQgTGFzc29Ub29sTW9kdWxlIGZyb20gJ2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2xhc3NvLXRvb2wnO1xuaW1wb3J0IEhhbmRUb29sTW9kdWxlIGZyb20gJ2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2hhbmQtdG9vbCc7XG5pbXBvcnQgdHJhbnNsYXRlIGZyb20gJ2RpYWdyYW0tanMvbGliL2kxOG4vdHJhbnNsYXRlJztcblxuaW1wb3J0IFBhbGV0dGVQcm92aWRlciBmcm9tICcuL1BhbGV0dGVQcm92aWRlcic7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgX19kZXBlbmRzX186IFtcbiAgICBQYWxldHRlTW9kdWxlLFxuICAgIENyZWF0ZU1vZHVsZSxcbiAgICBTcGFjZVRvb2xNb2R1bGUsXG4gICAgTGFzc29Ub29sTW9kdWxlLFxuICAgIEhhbmRUb29sTW9kdWxlLFxuICAgIHRyYW5zbGF0ZVxuICBdLFxuICBfX2luaXRfXzogWyAncGFsZXR0ZVByb3ZpZGVyJyBdLFxuICBwYWxldHRlUHJvdmlkZXI6IFsgJ3R5cGUnLCBQYWxldHRlUHJvdmlkZXIgXVxufTtcbiIsImltcG9ydCBDb21tYW5kSW50ZXJjZXB0b3IgZnJvbSAnZGlhZ3JhbS1qcy9saWIvY29tbWFuZC9Db21tYW5kSW50ZXJjZXB0b3InO1xuXG5pbXBvcnQgaW5oZXJpdHMgZnJvbSAnaW5oZXJpdHMnO1xuXG5pbXBvcnQgY3NzRXNjYXBlIGZyb20gJ2Nzcy5lc2NhcGUnO1xuXG5pbXBvcnQge1xuICBhc3NpZ24sXG4gIGZvckVhY2hcbn0gZnJvbSAnbWluLWRhc2gnO1xuXG5pbXBvcnQge1xuICBxdWVyeSBhcyBkb21RdWVyeVxufSBmcm9tICdtaW4tZG9tJztcblxuaW1wb3J0IHtcbiAgYXR0ciBhcyBzdmdBdHRyXG59IGZyb20gJ3Rpbnktc3ZnJztcblxudmFyIExPV19QUklPUklUWSA9IDI1MDtcblxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBQb3N0aXRSZXBsYWNlUHJldmlldyhcbiAgICBldmVudEJ1cywgZWxlbWVudFJlZ2lzdHJ5LCBlbGVtZW50RmFjdG9yeSxcbiAgICBjYW52YXMsIHByZXZpZXdTdXBwb3J0KSB7XG5cbiAgQ29tbWFuZEludGVyY2VwdG9yLmNhbGwodGhpcywgZXZlbnRCdXMpO1xuXG4gIC8qKlxuICAgKiBSZXBsYWNlIHRoZSB2aXN1YWxzIG9mIGFsbCBlbGVtZW50cyBpbiB0aGUgY29udGV4dCB3aGljaCBjYW4gYmUgcmVwbGFjZWRcbiAgICpcbiAgICogQHBhcmFtICB7T2JqZWN0fSBjb250ZXh0XG4gICAqL1xuICBmdW5jdGlvbiByZXBsYWNlVmlzdWFsKGNvbnRleHQpIHtcblxuICAgIHZhciByZXBsYWNlbWVudHMgPSBjb250ZXh0LmNhbkV4ZWN1dGUucmVwbGFjZW1lbnRzO1xuXG4gICAgZm9yRWFjaChyZXBsYWNlbWVudHMsIGZ1bmN0aW9uKHJlcGxhY2VtZW50KSB7XG5cbiAgICAgIHZhciBpZCA9IHJlcGxhY2VtZW50Lm9sZEVsZW1lbnRJZDtcblxuICAgICAgdmFyIG5ld0VsZW1lbnQgPSB7XG4gICAgICAgIHR5cGU6IHJlcGxhY2VtZW50Lm5ld0VsZW1lbnRUeXBlXG4gICAgICB9O1xuXG4gICAgICAvLyBpZiB0aGUgdmlzdWFsIG9mIHRoZSBlbGVtZW50IGlzIGFscmVhZHkgcmVwbGFjZWRcbiAgICAgIGlmIChjb250ZXh0LnZpc3VhbFJlcGxhY2VtZW50c1tpZF0pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgZWxlbWVudCA9IGVsZW1lbnRSZWdpc3RyeS5nZXQoaWQpO1xuXG4gICAgICBhc3NpZ24obmV3RWxlbWVudCwgeyB4OiBlbGVtZW50LngsIHk6IGVsZW1lbnQueSB9KTtcblxuICAgICAgLy8gY3JlYXRlIGEgdGVtcG9yYXJ5IHNoYXBlXG4gICAgICB2YXIgdGVtcFNoYXBlID0gZWxlbWVudEZhY3RvcnkuY3JlYXRlU2hhcGUobmV3RWxlbWVudCk7XG5cbiAgICAgIGNhbnZhcy5hZGRTaGFwZSh0ZW1wU2hhcGUsIGVsZW1lbnQucGFyZW50KTtcblxuICAgICAgLy8gc2VsZWN0IHRoZSBvcmlnaW5hbCBTVkcgZWxlbWVudCByZWxhdGVkIHRvIHRoZSBlbGVtZW50IGFuZCBoaWRlIGl0XG4gICAgICB2YXIgZ2Z4ID0gZG9tUXVlcnkoJ1tkYXRhLWVsZW1lbnQtaWQ9XCInICsgY3NzRXNjYXBlKGVsZW1lbnQuaWQpICsgJ1wiXScsIGNvbnRleHQuZHJhZ0dyb3VwKTtcblxuICAgICAgaWYgKGdmeCkge1xuICAgICAgICBzdmdBdHRyKGdmeCwgeyBkaXNwbGF5OiAnbm9uZScgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIGNsb25lIHRoZSBnZnggb2YgdGhlIHRlbXBvcmFyeSBzaGFwZSBhbmQgYWRkIGl0IHRvIHRoZSBkcmFnIGdyb3VwXG4gICAgICB2YXIgZHJhZ2dlciA9IHByZXZpZXdTdXBwb3J0LmFkZERyYWdnZXIodGVtcFNoYXBlLCBjb250ZXh0LmRyYWdHcm91cCk7XG5cbiAgICAgIGNvbnRleHQudmlzdWFsUmVwbGFjZW1lbnRzW2lkXSA9IGRyYWdnZXI7XG5cbiAgICAgIGNhbnZhcy5yZW1vdmVTaGFwZSh0ZW1wU2hhcGUpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlc3RvcmUgdGhlIG9yaWdpbmFsIHZpc3VhbHMgb2YgdGhlIHByZXZpb3VzbHkgcmVwbGFjZWQgZWxlbWVudHNcbiAgICpcbiAgICogQHBhcmFtICB7T2JqZWN0fSBjb250ZXh0XG4gICAqL1xuICBmdW5jdGlvbiByZXN0b3JlVmlzdWFsKGNvbnRleHQpIHtcblxuICAgIHZhciB2aXN1YWxSZXBsYWNlbWVudHMgPSBjb250ZXh0LnZpc3VhbFJlcGxhY2VtZW50cztcblxuICAgIGZvckVhY2godmlzdWFsUmVwbGFjZW1lbnRzLCBmdW5jdGlvbihkcmFnZ2VyLCBpZCkge1xuXG4gICAgICB2YXIgb3JpZ2luYWxHZnggPSBkb21RdWVyeSgnW2RhdGEtZWxlbWVudC1pZD1cIicgKyBjc3NFc2NhcGUoaWQpICsgJ1wiXScsIGNvbnRleHQuZHJhZ0dyb3VwKTtcblxuICAgICAgaWYgKG9yaWdpbmFsR2Z4KSB7XG4gICAgICAgIHN2Z0F0dHIob3JpZ2luYWxHZngsIHsgZGlzcGxheTogJ2lubGluZScgfSk7XG4gICAgICB9XG5cbiAgICAgIGRyYWdnZXIucmVtb3ZlKCk7XG5cbiAgICAgIGlmICh2aXN1YWxSZXBsYWNlbWVudHNbaWRdKSB7XG4gICAgICAgIGRlbGV0ZSB2aXN1YWxSZXBsYWNlbWVudHNbaWRdO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZXZlbnRCdXMub24oJ3NoYXBlLm1vdmUubW92ZScsIExPV19QUklPUklUWSwgZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgIHZhciBjb250ZXh0ID0gZXZlbnQuY29udGV4dCxcbiAgICAgICAgY2FuRXhlY3V0ZSA9IGNvbnRleHQuY2FuRXhlY3V0ZTtcblxuICAgIGlmICghY29udGV4dC52aXN1YWxSZXBsYWNlbWVudHMpIHtcbiAgICAgIGNvbnRleHQudmlzdWFsUmVwbGFjZW1lbnRzID0ge307XG4gICAgfVxuXG4gICAgaWYgKGNhbkV4ZWN1dGUgJiYgY2FuRXhlY3V0ZS5yZXBsYWNlbWVudHMpIHtcbiAgICAgIHJlcGxhY2VWaXN1YWwoY29udGV4dCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3RvcmVWaXN1YWwoY29udGV4dCk7XG4gICAgfVxuICB9KTtcbn1cblxuUG9zdGl0UmVwbGFjZVByZXZpZXcuJGluamVjdCA9IFtcbiAgJ2V2ZW50QnVzJyxcbiAgJ2VsZW1lbnRSZWdpc3RyeScsXG4gICdlbGVtZW50RmFjdG9yeScsXG4gICdjYW52YXMnLFxuICAncHJldmlld1N1cHBvcnQnXG5dO1xuXG5pbmhlcml0cyhQb3N0aXRSZXBsYWNlUHJldmlldywgQ29tbWFuZEludGVyY2VwdG9yKTsiLCJpbXBvcnQgUHJldmlld1N1cHBvcnRNb2R1bGUgZnJvbSAnZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvcHJldmlldy1zdXBwb3J0JztcblxuaW1wb3J0IFBvc3RpdFJlcGxhY2VQcmV2aWV3IGZyb20gJy4vUG9zdGl0UmVwbGFjZVByZXZpZXcnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9fZGVwZW5kc19fOiBbXG4gICAgUHJldmlld1N1cHBvcnRNb2R1bGVcbiAgXSxcbiAgX19pbml0X186IFsgJ3Bvc3RpdFJlcGxhY2VQcmV2aWV3JyBdLFxuICBwb3N0aXRSZXBsYWNlUHJldmlldzogWyAndHlwZScsIFBvc3RpdFJlcGxhY2VQcmV2aWV3IF1cbn07XG4iLCJpbXBvcnQge1xuICBmb3JFYWNoXG59IGZyb20gJ21pbi1kYXNoJztcblxuaW1wb3J0IHtcbiAgc25hcFRvXG59IGZyb20gJy4vU25hcFV0aWwnO1xuXG5cbi8qKlxuICogQSBzbmFwIGNvbnRleHQsIGNvbnRhaW5pbmcgdGhlIChwb3NzaWJseSBpbmNvbXBsZXRlKVxuICogbWFwcGluZ3Mgb2YgZHJvcCB0YXJnZXRzICh0byBpZGVudGlmeSB0aGUgc25hcHBpbmcpXG4gKiB0byBjb21wdXRlZCBzbmFwIHBvaW50cy5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gU25hcENvbnRleHQoKSB7XG5cbiAgLyoqXG4gICAqIE1hcDxTdHJpbmcsIFNuYXBQb2ludHM+IG1hcHBpbmcgZHJvcCB0YXJnZXRzIHRvXG4gICAqIGEgbGlzdCBvZiBwb3NzaWJsZSBzbmFwcGluZ3MuXG4gICAqXG4gICAqIEB0eXBlIHtPYmplY3R9XG4gICAqL1xuICB0aGlzLl90YXJnZXRzID0ge307XG5cbiAgLyoqXG4gICAqIE1hcDxTdHJpbmcsIFBvaW50PiBpbml0aWFsIHBvc2l0aW9uaW5nIG9mIGVsZW1lbnRcbiAgICogcmVnYXJkaW5nIHZhcmlvdXMgc25hcCBkaXJlY3Rpb25zLlxuICAgKlxuICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgKi9cbiAgdGhpcy5fc25hcE9yaWdpbnMgPSB7fTtcblxuICAvKipcbiAgICogTGlzdCBvZiBzbmFwIGxvY2F0aW9uc1xuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8c3RyaW5nPn1cbiAgICovXG4gIHRoaXMuX3NuYXBMb2NhdGlvbnMgPSBbXTtcblxuICAvKipcbiAgICogTWFwPFN0cmluZywgQXJyYXk8UG9pbnQ+PiBvZiBkZWZhdWx0IHNuYXBwaW5nIGxvY2F0aW9uc1xuICAgKlxuICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgKi9cbiAgdGhpcy5fZGVmYXVsdFNuYXBzID0ge307XG59XG5cblxuU25hcENvbnRleHQucHJvdG90eXBlLmdldFNuYXBPcmlnaW4gPSBmdW5jdGlvbihzbmFwTG9jYXRpb24pIHtcbiAgcmV0dXJuIHRoaXMuX3NuYXBPcmlnaW5zW3NuYXBMb2NhdGlvbl07XG59O1xuXG5cblNuYXBDb250ZXh0LnByb3RvdHlwZS5zZXRTbmFwT3JpZ2luID0gZnVuY3Rpb24oc25hcExvY2F0aW9uLCBpbml0aWFsVmFsdWUpIHtcbiAgdGhpcy5fc25hcE9yaWdpbnNbc25hcExvY2F0aW9uXSA9IGluaXRpYWxWYWx1ZTtcblxuICBpZiAodGhpcy5fc25hcExvY2F0aW9ucy5pbmRleE9mKHNuYXBMb2NhdGlvbikgPT09IC0xKSB7XG4gICAgdGhpcy5fc25hcExvY2F0aW9ucy5wdXNoKHNuYXBMb2NhdGlvbik7XG4gIH1cbn07XG5cblxuU25hcENvbnRleHQucHJvdG90eXBlLmFkZERlZmF1bHRTbmFwID0gZnVuY3Rpb24odHlwZSwgcG9pbnQpIHtcblxuICB2YXIgc25hcFZhbHVlcyA9IHRoaXMuX2RlZmF1bHRTbmFwc1t0eXBlXTtcblxuICBpZiAoIXNuYXBWYWx1ZXMpIHtcbiAgICBzbmFwVmFsdWVzID0gdGhpcy5fZGVmYXVsdFNuYXBzW3R5cGVdID0gW107XG4gIH1cblxuICBzbmFwVmFsdWVzLnB1c2gocG9pbnQpO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gYSBudW1iZXIgb2YgaW5pdGlhbGl6ZWQgc25hcHMsIGkuZS4gc25hcCBsb2NhdGlvbnMgc3VjaCBhc1xuICogdG9wLWxlZnQsIG1pZCwgYm90dG9tLXJpZ2h0IGFuZCBzbyBmb3J0aC5cbiAqXG4gKiBAcmV0dXJuIHtBcnJheTxzdHJpbmc+fSBzbmFwTG9jYXRpb25zXG4gKi9cblNuYXBDb250ZXh0LnByb3RvdHlwZS5nZXRTbmFwTG9jYXRpb25zID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLl9zbmFwTG9jYXRpb25zO1xufTtcblxuLyoqXG4gKiBTZXQgdGhlIHNuYXAgbG9jYXRpb25zIGZvciB0aGlzIGNvbnRleHQuXG4gKlxuICogVGhlIG9yZGVyIG9mIGxvY2F0aW9ucyBkZXRlcm1pbmVzIHByZWNlZGVuY2UuXG4gKlxuICogQHBhcmFtIHtBcnJheTxzdHJpbmc+fSBzbmFwTG9jYXRpb25zXG4gKi9cblNuYXBDb250ZXh0LnByb3RvdHlwZS5zZXRTbmFwTG9jYXRpb25zID0gZnVuY3Rpb24oc25hcExvY2F0aW9ucykge1xuICB0aGlzLl9zbmFwTG9jYXRpb25zID0gc25hcExvY2F0aW9ucztcbn07XG5cbi8qKlxuICogR2V0IHNuYXAgcG9pbnRzIGZvciBhIGdpdmVuIHRhcmdldFxuICpcbiAqIEBwYXJhbSB7RWxlbWVudHxzdHJpbmd9IHRhcmdldFxuICovXG5TbmFwQ29udGV4dC5wcm90b3R5cGUucG9pbnRzRm9yVGFyZ2V0ID0gZnVuY3Rpb24odGFyZ2V0KSB7XG5cbiAgdmFyIHRhcmdldElkID0gdGFyZ2V0LmlkIHx8IHRhcmdldDtcblxuICB2YXIgc25hcFBvaW50cyA9IHRoaXMuX3RhcmdldHNbdGFyZ2V0SWRdO1xuXG4gIGlmICghc25hcFBvaW50cykge1xuICAgIHNuYXBQb2ludHMgPSB0aGlzLl90YXJnZXRzW3RhcmdldElkXSA9IG5ldyBTbmFwUG9pbnRzKCk7XG4gICAgc25hcFBvaW50cy5pbml0RGVmYXVsdHModGhpcy5fZGVmYXVsdFNuYXBzKTtcbiAgfVxuXG4gIHJldHVybiBzbmFwUG9pbnRzO1xufTtcblxuXG4vKipcbiAqIENyZWF0ZXMgdGhlIHNuYXAgcG9pbnRzIGFuZCBpbml0aWFsaXplcyB0aGVtIHdpdGggdGhlXG4gKiBnaXZlbiBkZWZhdWx0IHZhbHVlcy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdDxzdHJpbmcsIEFycmF5PFBvaW50Pj59IFtkZWZhdWx0UG9pbnRzXVxuICovXG5leHBvcnQgZnVuY3Rpb24gU25hcFBvaW50cyhkZWZhdWx0U25hcHMpIHtcblxuICAvKipcbiAgICogTWFwPFN0cmluZywgTWFwPCh4fHkpLCBBcnJheTxudW1iZXI+Pj4gbWFwcGluZyBzbmFwIGxvY2F0aW9ucyxcbiAgICogaS5lLiB0b3AtbGVmdCwgYm90dG9tLXJpZ2h0LCBjZW50ZXIgdG8gYWN0dWFsIHNuYXAgdmFsdWVzLlxuICAgKlxuICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgKi9cbiAgdGhpcy5fc25hcFZhbHVlcyA9IHt9O1xufVxuXG5TbmFwUG9pbnRzLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbihzbmFwTG9jYXRpb24sIHBvaW50KSB7XG5cbiAgdmFyIHNuYXBWYWx1ZXMgPSB0aGlzLl9zbmFwVmFsdWVzW3NuYXBMb2NhdGlvbl07XG5cbiAgaWYgKCFzbmFwVmFsdWVzKSB7XG4gICAgc25hcFZhbHVlcyA9IHRoaXMuX3NuYXBWYWx1ZXNbc25hcExvY2F0aW9uXSA9IHsgeDogW10sIHk6IFtdIH07XG4gIH1cblxuICBpZiAoc25hcFZhbHVlcy54LmluZGV4T2YocG9pbnQueCkgPT09IC0xKSB7XG4gICAgc25hcFZhbHVlcy54LnB1c2gocG9pbnQueCk7XG4gIH1cblxuICBpZiAoc25hcFZhbHVlcy55LmluZGV4T2YocG9pbnQueSkgPT09IC0xKSB7XG4gICAgc25hcFZhbHVlcy55LnB1c2gocG9pbnQueSk7XG4gIH1cbn07XG5cblxuU25hcFBvaW50cy5wcm90b3R5cGUuc25hcCA9IGZ1bmN0aW9uKHBvaW50LCBzbmFwTG9jYXRpb24sIGF4aXMsIHRvbGVyYW5jZSkge1xuICB2YXIgc25hcHBpbmdWYWx1ZXMgPSB0aGlzLl9zbmFwVmFsdWVzW3NuYXBMb2NhdGlvbl07XG5cbiAgcmV0dXJuIHNuYXBwaW5nVmFsdWVzICYmIHNuYXBUbyhwb2ludFtheGlzXSwgc25hcHBpbmdWYWx1ZXNbYXhpc10sIHRvbGVyYW5jZSk7XG59O1xuXG4vKipcbiAqIEluaXRpYWxpemUgYSBudW1iZXIgb2YgZGVmYXVsdCBzbmFwcGluZyBwb2ludHMuXG4gKlxuICogQHBhcmFtICB7T2JqZWN0fSBkZWZhdWx0U25hcHNcbiAqL1xuU25hcFBvaW50cy5wcm90b3R5cGUuaW5pdERlZmF1bHRzID0gZnVuY3Rpb24oZGVmYXVsdFNuYXBzKSB7XG5cbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIGZvckVhY2goZGVmYXVsdFNuYXBzIHx8IHt9LCBmdW5jdGlvbihzbmFwUG9pbnRzLCBzbmFwTG9jYXRpb24pIHtcbiAgICBmb3JFYWNoKHNuYXBQb2ludHMsIGZ1bmN0aW9uKHBvaW50KSB7XG4gICAgICBzZWxmLmFkZChzbmFwTG9jYXRpb24sIHBvaW50KTtcbiAgICB9KTtcbiAgfSk7XG59OyIsImltcG9ydCBTbmFwQ29udGV4dCBmcm9tICcuL1NuYXBDb250ZXh0JztcclxuXHJcbmltcG9ydCB7XHJcbiAgZ2V0Q2hpbGRyZW4sXHJcbiAgaXNTbmFwcGVkLFxyXG4gIG1pZFxyXG59IGZyb20gJy4vU25hcFV0aWwnO1xyXG5cclxuaW1wb3J0IHsgaXNDbWQgfSBmcm9tICcuLi9rZXlib2FyZC9LZXlib2FyZFV0aWwnO1xyXG5cclxuaW1wb3J0IHtcclxuICBmb3JFYWNoLFxyXG4gIGlzTnVtYmVyXHJcbn0gZnJvbSAnbWluLWRhc2gnO1xyXG5cclxudmFyIEhJR0hFUl9QUklPUklUWSA9IDEyNTA7XHJcblxyXG5cclxuLyoqXHJcbiAqIFNuYXAgZHVyaW5nIGNyZWF0ZSBhbmQgbW92ZS5cclxuICpcclxuICogQHBhcmFtIHtFdmVudEJ1c30gZWxlbWVudFJlZ2lzdHJ5XHJcbiAqIEBwYXJhbSB7RXZlbnRCdXN9IGV2ZW50QnVzXHJcbiAqIEBwYXJhbSB7U25hcHBpbmd9IHNuYXBwaW5nXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDcmVhdGVNb3ZlU25hcHBpbmcoZWxlbWVudFJlZ2lzdHJ5LCBldmVudEJ1cywgc25hcHBpbmcpIHtcclxuICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gIHRoaXMuX2VsZW1lbnRSZWdpc3RyeSA9IGVsZW1lbnRSZWdpc3RyeTtcclxuXHJcbiAgZXZlbnRCdXMub24oW1xyXG4gICAgJ2NyZWF0ZS5zdGFydCcsXHJcbiAgICAnc2hhcGUubW92ZS5zdGFydCdcclxuICBdLCBmdW5jdGlvbihldmVudCkge1xyXG4gICAgc2VsZi5pbml0U25hcChldmVudCk7XHJcbiAgfSk7XHJcblxyXG4gIGV2ZW50QnVzLm9uKFtcclxuICAgICdjcmVhdGUubW92ZScsXHJcbiAgICAnY3JlYXRlLmVuZCcsXHJcbiAgICAnc2hhcGUubW92ZS5tb3ZlJyxcclxuICAgICdzaGFwZS5tb3ZlLmVuZCdcclxuICBdLCBISUdIRVJfUFJJT1JJVFksIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICB2YXIgY29udGV4dCA9IGV2ZW50LmNvbnRleHQsXHJcbiAgICAgICAgc2hhcGUgPSBjb250ZXh0LnNoYXBlLFxyXG4gICAgICAgIHNuYXBDb250ZXh0ID0gY29udGV4dC5zbmFwQ29udGV4dCxcclxuICAgICAgICB0YXJnZXQgPSBjb250ZXh0LnRhcmdldDtcclxuXHJcbiAgICBpZiAoZXZlbnQub3JpZ2luYWxFdmVudCAmJiBpc0NtZChldmVudC5vcmlnaW5hbEV2ZW50KSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGlzU25hcHBlZChldmVudCkgfHwgIXRhcmdldCkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIHNuYXBQb2ludHMgPSBzbmFwQ29udGV4dC5wb2ludHNGb3JUYXJnZXQodGFyZ2V0KTtcclxuXHJcbiAgICBpZiAoIXNuYXBQb2ludHMuaW5pdGlhbGl6ZWQpIHtcclxuICAgICAgc25hcFBvaW50cyA9IHNlbGYuYWRkU25hcFRhcmdldFBvaW50cyhzbmFwUG9pbnRzLCBzaGFwZSwgdGFyZ2V0KTtcclxuXHJcbiAgICAgIHNuYXBQb2ludHMuaW5pdGlhbGl6ZWQgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHNuYXBwaW5nLnNuYXAoZXZlbnQsIHNuYXBQb2ludHMpO1xyXG4gIH0pO1xyXG5cclxuICBldmVudEJ1cy5vbihbXHJcbiAgICAnY3JlYXRlLmNsZWFudXAnLFxyXG4gICAgJ3NoYXBlLm1vdmUuY2xlYW51cCdcclxuICBdLCBmdW5jdGlvbigpIHtcclxuICAgIHNuYXBwaW5nLmhpZGUoKTtcclxuICB9KTtcclxufVxyXG5cclxuQ3JlYXRlTW92ZVNuYXBwaW5nLiRpbmplY3QgPSBbXHJcbiAgJ2VsZW1lbnRSZWdpc3RyeScsXHJcbiAgJ2V2ZW50QnVzJyxcclxuICAnc25hcHBpbmcnXHJcbl07XHJcblxyXG5DcmVhdGVNb3ZlU25hcHBpbmcucHJvdG90eXBlLmluaXRTbmFwID0gZnVuY3Rpb24oZXZlbnQpIHtcclxuICB2YXIgZWxlbWVudFJlZ2lzdHJ5ID0gdGhpcy5fZWxlbWVudFJlZ2lzdHJ5O1xyXG5cclxuICB2YXIgY29udGV4dCA9IGV2ZW50LmNvbnRleHQsXHJcbiAgICAgIHNoYXBlID0gY29udGV4dC5zaGFwZSxcclxuICAgICAgc25hcENvbnRleHQgPSBjb250ZXh0LnNuYXBDb250ZXh0O1xyXG5cclxuICBpZiAoIXNuYXBDb250ZXh0KSB7XHJcbiAgICBzbmFwQ29udGV4dCA9IGNvbnRleHQuc25hcENvbnRleHQgPSBuZXcgU25hcENvbnRleHQoKTtcclxuICB9XHJcblxyXG4gIHZhciBzaGFwZU1pZDtcclxuXHJcbiAgaWYgKGVsZW1lbnRSZWdpc3RyeS5nZXQoc2hhcGUuaWQpKSB7XHJcblxyXG4gICAgLy8gbW92ZVxyXG4gICAgc2hhcGVNaWQgPSBtaWQoc2hhcGUsIGV2ZW50KTtcclxuICB9IGVsc2Uge1xyXG5cclxuICAgIC8vIGNyZWF0ZVxyXG4gICAgc2hhcGVNaWQgPSB7XHJcbiAgICAgIHg6IGV2ZW50LnggKyBtaWQoc2hhcGUpLngsXHJcbiAgICAgIHk6IGV2ZW50LnkgKyBtaWQoc2hhcGUpLnlcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICB2YXIgc2hhcGVUb3BMZWZ0ID0ge1xyXG4gICAgICAgIHg6IHNoYXBlTWlkLnggLSBzaGFwZS53aWR0aCAvIDIsXHJcbiAgICAgICAgeTogc2hhcGVNaWQueSAtIHNoYXBlLmhlaWdodCAvIDJcclxuICAgICAgfSxcclxuICAgICAgc2hhcGVCb3R0b21SaWdodCA9IHtcclxuICAgICAgICB4OiBzaGFwZU1pZC54ICsgc2hhcGUud2lkdGggLyAyLFxyXG4gICAgICAgIHk6IHNoYXBlTWlkLnkgKyBzaGFwZS5oZWlnaHQgLyAyXHJcbiAgICAgIH07XHJcblxyXG4gIHNuYXBDb250ZXh0LnNldFNuYXBPcmlnaW4oJ21pZCcsIHtcclxuICAgIHg6IHNoYXBlTWlkLnggLSBldmVudC54LFxyXG4gICAgeTogc2hhcGVNaWQueSAtIGV2ZW50LnlcclxuICB9KTtcclxuXHJcbiAgLy8gc25hcCBsYWJlbHMgdG8gbWlkIG9ubHlcclxuICBpZiAoaXNMYWJlbChzaGFwZSkpIHtcclxuICAgIHJldHVybiBzbmFwQ29udGV4dDtcclxuICB9XHJcblxyXG4gIHNuYXBDb250ZXh0LnNldFNuYXBPcmlnaW4oJ3RvcC1sZWZ0Jywge1xyXG4gICAgeDogc2hhcGVUb3BMZWZ0LnggLSBldmVudC54LFxyXG4gICAgeTogc2hhcGVUb3BMZWZ0LnkgLSBldmVudC55XHJcbiAgfSk7XHJcblxyXG4gIHNuYXBDb250ZXh0LnNldFNuYXBPcmlnaW4oJ2JvdHRvbS1yaWdodCcsIHtcclxuICAgIHg6IHNoYXBlQm90dG9tUmlnaHQueCAtIGV2ZW50LngsXHJcbiAgICB5OiBzaGFwZUJvdHRvbVJpZ2h0LnkgLSBldmVudC55XHJcbiAgfSk7XHJcblxyXG4gIHJldHVybiBzbmFwQ29udGV4dDtcclxufTtcclxuXHJcbkNyZWF0ZU1vdmVTbmFwcGluZy5wcm90b3R5cGUuYWRkU25hcFRhcmdldFBvaW50cyA9IGZ1bmN0aW9uKHNuYXBQb2ludHMsIHNoYXBlLCB0YXJnZXQpIHtcclxuICB2YXIgc25hcFRhcmdldHMgPSB0aGlzLmdldFNuYXBUYXJnZXRzKHNoYXBlLCB0YXJnZXQpO1xyXG5cclxuICBmb3JFYWNoKHNuYXBUYXJnZXRzLCBmdW5jdGlvbihzbmFwVGFyZ2V0KSB7XHJcblxyXG4gICAgLy8gaGFuZGxlIGxhYmVsc1xyXG4gICAgaWYgKGlzTGFiZWwoc25hcFRhcmdldCkpIHtcclxuXHJcbiAgICAgIGlmIChpc0xhYmVsKHNoYXBlKSkge1xyXG4gICAgICAgIHNuYXBQb2ludHMuYWRkKCdtaWQnLCBtaWQoc25hcFRhcmdldCkpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgLy8gaGFuZGxlIGNvbm5lY3Rpb25zXHJcbiAgICBpZiAoaXNDb25uZWN0aW9uKHNuYXBUYXJnZXQpKSB7XHJcblxyXG4gICAgICAvLyBpZ25vcmUgc2luZ2xlIHNlZ21lbnQgY29ubmVjdGlvbnNcclxuICAgICAgaWYgKHNuYXBUYXJnZXQud2F5cG9pbnRzLmxlbmd0aCA8IDMpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIGlnbm9yZSBmaXJzdCBhbmQgbGFzdCB3YXlwb2ludFxyXG4gICAgICB2YXIgd2F5cG9pbnRzID0gc25hcFRhcmdldC53YXlwb2ludHMuc2xpY2UoMSwgLTEpO1xyXG5cclxuICAgICAgZm9yRWFjaCh3YXlwb2ludHMsIGZ1bmN0aW9uKHdheXBvaW50KSB7XHJcbiAgICAgICAgc25hcFBvaW50cy5hZGQoJ21pZCcsIHdheXBvaW50KTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgLy8gaGFuZGxlIHNoYXBlc1xyXG4gICAgc25hcFBvaW50cy5hZGQoJ21pZCcsIG1pZChzbmFwVGFyZ2V0KSk7XHJcbiAgfSk7XHJcblxyXG4gIGlmICghaXNOdW1iZXIoc2hhcGUueCkgfHwgIWlzTnVtYmVyKHNoYXBlLnkpKSB7XHJcbiAgICByZXR1cm4gc25hcFBvaW50cztcclxuICB9XHJcblxyXG4gIC8vIHNuYXAgdG8gb3JpZ2luYWwgcG9zaXRpb24gd2hlbiBtb3ZpbmdcclxuICBpZiAodGhpcy5fZWxlbWVudFJlZ2lzdHJ5LmdldChzaGFwZS5pZCkpIHtcclxuICAgIHNuYXBQb2ludHMuYWRkKCdtaWQnLCBtaWQoc2hhcGUpKTtcclxuICB9XHJcblxyXG4gIHJldHVybiBzbmFwUG9pbnRzO1xyXG59O1xyXG5cclxuQ3JlYXRlTW92ZVNuYXBwaW5nLnByb3RvdHlwZS5nZXRTbmFwVGFyZ2V0cyA9IGZ1bmN0aW9uKHNoYXBlLCB0YXJnZXQpIHtcclxuICByZXR1cm4gZ2V0Q2hpbGRyZW4odGFyZ2V0KS5maWx0ZXIoZnVuY3Rpb24oY2hpbGQpIHtcclxuICAgIHJldHVybiAhaXNIaWRkZW4oY2hpbGQpO1xyXG4gIH0pO1xyXG59O1xyXG5cclxuLy8gaGVscGVycyAvLy8vLy8vLy8vXHJcblxyXG5mdW5jdGlvbiBpc0Nvbm5lY3Rpb24oZWxlbWVudCkge1xyXG4gIHJldHVybiAhIWVsZW1lbnQud2F5cG9pbnRzO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpc0hpZGRlbihlbGVtZW50KSB7XHJcbiAgcmV0dXJuICEhZWxlbWVudC5oaWRkZW47XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGlzTGFiZWwoZWxlbWVudCkge1xyXG4gIHJldHVybiAhIWVsZW1lbnQubGFiZWxUYXJnZXQ7XHJcbn0iLCJpbXBvcnQgaW5oZXJpdHMgZnJvbSAnaW5oZXJpdHMnO1xuXG5pbXBvcnQgQ3JlYXRlTW92ZVNuYXBwaW5nIGZyb20gJ2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL3NuYXBwaW5nL0NyZWF0ZU1vdmVTbmFwcGluZyc7XG5cbi8qKlxuICogU25hcCBkdXJpbmcgY3JlYXRlIGFuZCBtb3ZlLlxuICpcbiAqIEBwYXJhbSB7RXZlbnRCdXN9IGV2ZW50QnVzXG4gKiBAcGFyYW0ge0luamVjdG9yfSBpbmplY3RvclxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBQb3N0aXRDcmVhdGVNb3ZlU25hcHBpbmcoaW5qZWN0b3IpIHtcbiAgaW5qZWN0b3IuaW52b2tlKENyZWF0ZU1vdmVTbmFwcGluZywgdGhpcyk7XG59XG5cbmluaGVyaXRzKFBvc3RpdENyZWF0ZU1vdmVTbmFwcGluZywgQ3JlYXRlTW92ZVNuYXBwaW5nKTtcblxuUG9zdGl0Q3JlYXRlTW92ZVNuYXBwaW5nLiRpbmplY3QgPSBbXG4gICdpbmplY3Rvcidcbl07XG5cblBvc3RpdENyZWF0ZU1vdmVTbmFwcGluZy5wcm90b3R5cGUuaW5pdFNuYXAgPSBmdW5jdGlvbihldmVudCkge1xuICByZXR1cm4gQ3JlYXRlTW92ZVNuYXBwaW5nLnByb3RvdHlwZS5pbml0U25hcC5jYWxsKHRoaXMsIGV2ZW50KTtcbn07XG5cblBvc3RpdENyZWF0ZU1vdmVTbmFwcGluZy5wcm90b3R5cGUuYWRkU25hcFRhcmdldFBvaW50cyA9IGZ1bmN0aW9uKHNuYXBQb2ludHMsIHNoYXBlLCB0YXJnZXQpIHtcbiAgcmV0dXJuIENyZWF0ZU1vdmVTbmFwcGluZy5wcm90b3R5cGUuYWRkU25hcFRhcmdldFBvaW50cy5jYWxsKHRoaXMsIHNuYXBQb2ludHMsIHNoYXBlLCB0YXJnZXQpO1xufTtcblxuUG9zdGl0Q3JlYXRlTW92ZVNuYXBwaW5nLnByb3RvdHlwZS5nZXRTbmFwVGFyZ2V0cyA9IGZ1bmN0aW9uKHNoYXBlLCB0YXJnZXQpIHtcbiAgcmV0dXJuIENyZWF0ZU1vdmVTbmFwcGluZy5wcm90b3R5cGUuZ2V0U25hcFRhcmdldHMuY2FsbCh0aGlzLCBzaGFwZSwgdGFyZ2V0KTtcbn07XG4iLCJpbXBvcnQgU25hcENvbnRleHQgZnJvbSAnLi9TbmFwQ29udGV4dCc7XHJcblxyXG5pbXBvcnQge1xyXG4gIGJvdHRvbVJpZ2h0LFxyXG4gIGdldENoaWxkcmVuLFxyXG4gIGlzU25hcHBlZCxcclxuICBzZXRTbmFwcGVkLFxyXG4gIHRvcExlZnQsXHJcbn0gZnJvbSAnLi9TbmFwVXRpbCc7XHJcblxyXG5pbXBvcnQgeyBpc0NtZCB9IGZyb20gJy4uL2tleWJvYXJkL0tleWJvYXJkVXRpbCc7XHJcblxyXG5pbXBvcnQge1xyXG4gIGFzVFJCTCxcclxuICBnZXRNaWRcclxufSBmcm9tICcuLi8uLi9sYXlvdXQvTGF5b3V0VXRpbCc7XHJcblxyXG5pbXBvcnQgeyBmb3JFYWNoIH0gZnJvbSAnbWluLWRhc2gnO1xyXG5cclxudmFyIEhJR0hFUl9QUklPUklUWSA9IDEyNTA7XHJcblxyXG5cclxuLyoqXHJcbiAqIFNuYXAgZHVyaW5nIHJlc2l6ZS5cclxuICpcclxuICogQHBhcmFtIHtFdmVudEJ1c30gZXZlbnRCdXNcclxuICogQHBhcmFtIHtTbmFwcGluZ30gc25hcHBpbmdcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFJlc2l6ZVNuYXBwaW5nKGV2ZW50QnVzLCBzbmFwcGluZykge1xyXG4gIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgZXZlbnRCdXMub24oWyAncmVzaXplLnN0YXJ0JyBdLCBmdW5jdGlvbihldmVudCkge1xyXG4gICAgc2VsZi5pbml0U25hcChldmVudCk7XHJcbiAgfSk7XHJcblxyXG4gIGV2ZW50QnVzLm9uKFtcclxuICAgICdyZXNpemUubW92ZScsXHJcbiAgICAncmVzaXplLmVuZCcsXHJcbiAgXSwgSElHSEVSX1BSSU9SSVRZLCBmdW5jdGlvbihldmVudCkge1xyXG4gICAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0LFxyXG4gICAgICAgIHNoYXBlID0gY29udGV4dC5zaGFwZSxcclxuICAgICAgICBwYXJlbnQgPSBzaGFwZS5wYXJlbnQsXHJcbiAgICAgICAgZGlyZWN0aW9uID0gY29udGV4dC5kaXJlY3Rpb24sXHJcbiAgICAgICAgc25hcENvbnRleHQgPSBjb250ZXh0LnNuYXBDb250ZXh0O1xyXG5cclxuICAgIGlmIChldmVudC5vcmlnaW5hbEV2ZW50ICYmIGlzQ21kKGV2ZW50Lm9yaWdpbmFsRXZlbnQpKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoaXNTbmFwcGVkKGV2ZW50KSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIHNuYXBQb2ludHMgPSBzbmFwQ29udGV4dC5wb2ludHNGb3JUYXJnZXQocGFyZW50KTtcclxuXHJcbiAgICBpZiAoIXNuYXBQb2ludHMuaW5pdGlhbGl6ZWQpIHtcclxuICAgICAgc25hcFBvaW50cyA9IHNlbGYuYWRkU25hcFRhcmdldFBvaW50cyhzbmFwUG9pbnRzLCBzaGFwZSwgcGFyZW50LCBkaXJlY3Rpb24pO1xyXG5cclxuICAgICAgc25hcFBvaW50cy5pbml0aWFsaXplZCA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGlzSG9yaXpvbnRhbChkaXJlY3Rpb24pKSB7XHJcbiAgICAgIHNldFNuYXBwZWQoZXZlbnQsICd4JywgZXZlbnQueCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGlzVmVydGljYWwoZGlyZWN0aW9uKSkge1xyXG4gICAgICBzZXRTbmFwcGVkKGV2ZW50LCAneScsIGV2ZW50LnkpO1xyXG4gICAgfVxyXG5cclxuICAgIHNuYXBwaW5nLnNuYXAoZXZlbnQsIHNuYXBQb2ludHMpO1xyXG4gIH0pO1xyXG5cclxuICBldmVudEJ1cy5vbihbICdyZXNpemUuY2xlYW51cCcgXSwgZnVuY3Rpb24oKSB7XHJcbiAgICBzbmFwcGluZy5oaWRlKCk7XHJcbiAgfSk7XHJcbn1cclxuXHJcblJlc2l6ZVNuYXBwaW5nLnByb3RvdHlwZS5pbml0U25hcCA9IGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0LFxyXG4gICAgICBzaGFwZSA9IGNvbnRleHQuc2hhcGUsXHJcbiAgICAgIGRpcmVjdGlvbiA9IGNvbnRleHQuZGlyZWN0aW9uLFxyXG4gICAgICBzbmFwQ29udGV4dCA9IGNvbnRleHQuc25hcENvbnRleHQ7XHJcblxyXG4gIGlmICghc25hcENvbnRleHQpIHtcclxuICAgIHNuYXBDb250ZXh0ID0gY29udGV4dC5zbmFwQ29udGV4dCA9IG5ldyBTbmFwQ29udGV4dCgpO1xyXG4gIH1cclxuXHJcbiAgdmFyIHNuYXBPcmlnaW4gPSBnZXRTbmFwT3JpZ2luKHNoYXBlLCBkaXJlY3Rpb24pO1xyXG5cclxuICBzbmFwQ29udGV4dC5zZXRTbmFwT3JpZ2luKCdjb3JuZXInLCB7XHJcbiAgICB4OiBzbmFwT3JpZ2luLnggLSBldmVudC54LFxyXG4gICAgeTogc25hcE9yaWdpbi55IC0gZXZlbnQueVxyXG4gIH0pO1xyXG5cclxuICByZXR1cm4gc25hcENvbnRleHQ7XHJcbn07XHJcblxyXG5SZXNpemVTbmFwcGluZy5wcm90b3R5cGUuYWRkU25hcFRhcmdldFBvaW50cyA9IGZ1bmN0aW9uKHNuYXBQb2ludHMsIHNoYXBlLCB0YXJnZXQsIGRpcmVjdGlvbikge1xyXG4gIHZhciBzbmFwVGFyZ2V0cyA9IHRoaXMuZ2V0U25hcFRhcmdldHMoc2hhcGUsIHRhcmdldCk7XHJcblxyXG4gIGZvckVhY2goc25hcFRhcmdldHMsIGZ1bmN0aW9uKHNuYXBUYXJnZXQpIHtcclxuICAgIHNuYXBQb2ludHMuYWRkKCdjb3JuZXInLCBib3R0b21SaWdodChzbmFwVGFyZ2V0KSk7XHJcbiAgICBzbmFwUG9pbnRzLmFkZCgnY29ybmVyJywgdG9wTGVmdChzbmFwVGFyZ2V0KSk7XHJcbiAgfSk7XHJcblxyXG4gIHNuYXBQb2ludHMuYWRkKCdjb3JuZXInLCBnZXRTbmFwT3JpZ2luKHNoYXBlLCBkaXJlY3Rpb24pKTtcclxuXHJcbiAgcmV0dXJuIHNuYXBQb2ludHM7XHJcbn07XHJcblxyXG5SZXNpemVTbmFwcGluZy4kaW5qZWN0ID0gW1xyXG4gICdldmVudEJ1cycsXHJcbiAgJ3NuYXBwaW5nJ1xyXG5dO1xyXG5cclxuUmVzaXplU25hcHBpbmcucHJvdG90eXBlLmdldFNuYXBUYXJnZXRzID0gZnVuY3Rpb24oc2hhcGUsIHRhcmdldCkge1xyXG4gIHJldHVybiBnZXRDaGlsZHJlbih0YXJnZXQpLmZpbHRlcihmdW5jdGlvbihjaGlsZCkge1xyXG4gICAgcmV0dXJuICFpc0F0dGFjaGVkKGNoaWxkLCBzaGFwZSlcclxuICAgICAgJiYgIWlzQ29ubmVjdGlvbihjaGlsZClcclxuICAgICAgJiYgIWlzSGlkZGVuKGNoaWxkKVxyXG4gICAgICAmJiAhaXNMYWJlbChjaGlsZCk7XHJcbiAgfSk7XHJcbn07XHJcblxyXG4vLyBoZWxwZXJzIC8vLy8vLy8vLy9cclxuXHJcbmZ1bmN0aW9uIGdldFNuYXBPcmlnaW4oc2hhcGUsIGRpcmVjdGlvbikge1xyXG4gIHZhciBtaWQgPSBnZXRNaWQoc2hhcGUpLFxyXG4gICAgICB0cmJsID0gYXNUUkJMKHNoYXBlKTtcclxuXHJcbiAgdmFyIHNuYXBPcmlnaW4gPSB7XHJcbiAgICB4OiBtaWQueCxcclxuICAgIHk6IG1pZC55XHJcbiAgfTtcclxuXHJcbiAgaWYgKGRpcmVjdGlvbi5pbmRleE9mKCduJykgIT09IC0xKSB7XHJcbiAgICBzbmFwT3JpZ2luLnkgPSB0cmJsLnRvcDtcclxuICB9IGVsc2UgaWYgKGRpcmVjdGlvbi5pbmRleE9mKCdzJykgIT09IC0xKSB7XHJcbiAgICBzbmFwT3JpZ2luLnkgPSB0cmJsLmJvdHRvbTtcclxuICB9XHJcblxyXG4gIGlmIChkaXJlY3Rpb24uaW5kZXhPZignZScpICE9PSAtMSkge1xyXG4gICAgc25hcE9yaWdpbi54ID0gdHJibC5yaWdodDtcclxuICB9IGVsc2UgaWYgKGRpcmVjdGlvbi5pbmRleE9mKCd3JykgIT09IC0xKSB7XHJcbiAgICBzbmFwT3JpZ2luLnggPSB0cmJsLmxlZnQ7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gc25hcE9yaWdpbjtcclxufVxyXG5cclxuZnVuY3Rpb24gaXNBdHRhY2hlZChlbGVtZW50LCBob3N0KSB7XHJcbiAgcmV0dXJuIGVsZW1lbnQuaG9zdCA9PT0gaG9zdDtcclxufVxyXG5cclxuZnVuY3Rpb24gaXNDb25uZWN0aW9uKGVsZW1lbnQpIHtcclxuICByZXR1cm4gISFlbGVtZW50LndheXBvaW50cztcclxufVxyXG5cclxuZnVuY3Rpb24gaXNIaWRkZW4oZWxlbWVudCkge1xyXG4gIHJldHVybiAhIWVsZW1lbnQuaGlkZGVuO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpc0xhYmVsKGVsZW1lbnQpIHtcclxuICByZXR1cm4gISFlbGVtZW50LmxhYmVsVGFyZ2V0O1xyXG59XHJcblxyXG5mdW5jdGlvbiBpc0hvcml6b250YWwoZGlyZWN0aW9uKSB7XHJcbiAgcmV0dXJuIGRpcmVjdGlvbiA9PT0gJ24nIHx8IGRpcmVjdGlvbiA9PT0gJ3MnO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpc1ZlcnRpY2FsKGRpcmVjdGlvbikge1xyXG4gIHJldHVybiBkaXJlY3Rpb24gPT09ICdlJyB8fCBkaXJlY3Rpb24gPT09ICd3JztcclxufSIsImltcG9ydCB7XG4gIGJpbmQsXG4gIGRlYm91bmNlLFxuICBmb3JFYWNoLFxuICBpc051bWJlcixcbiAgaXNPYmplY3Rcbn0gZnJvbSAnbWluLWRhc2gnO1xuXG5pbXBvcnQge1xuICBpc1NuYXBwZWQsXG4gIHNldFNuYXBwZWRcbn0gZnJvbSAnLi9TbmFwVXRpbCc7XG5cbmltcG9ydCB7XG4gIGFwcGVuZCBhcyBzdmdBcHBlbmQsXG4gIGF0dHIgYXMgc3ZnQXR0cixcbiAgY2xhc3NlcyBhcyBzdmdDbGFzc2VzLFxuICBjcmVhdGUgYXMgc3ZnQ3JlYXRlXG59IGZyb20gJ3Rpbnktc3ZnJztcblxudmFyIFNOQVBfVE9MRVJBTkNFID0gNztcblxuZXhwb3J0IHZhciBTTkFQX0xJTkVfSElERV9ERUxBWSA9IDEwMDA7XG5cblxuLyoqXG4gKiBHZW5lcmljIHNuYXBwaW5nIGZlYXR1cmUuXG4gKlxuICogQHBhcmFtIHtFdmVudEJ1c30gZXZlbnRCdXNcbiAqIEBwYXJhbSB7Q2FudmFzfSBjYW52YXNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gU25hcHBpbmcoY2FudmFzKSB7XG4gIHRoaXMuX2NhbnZhcyA9IGNhbnZhcztcblxuICAvLyBkZWxheSBoaWRlIGJ5IDEwMDAgc2Vjb25kcyBzaW5jZSBsYXN0IHNuYXBcbiAgdGhpcy5fYXN5bmNIaWRlID0gZGVib3VuY2UoYmluZCh0aGlzLmhpZGUsIHRoaXMpLCBTTkFQX0xJTkVfSElERV9ERUxBWSk7XG59XG5cblNuYXBwaW5nLiRpbmplY3QgPSBbICdjYW52YXMnIF07XG5cbi8qKlxuICogU25hcCBhbiBldmVudCB0byBnaXZlbiBzbmFwIHBvaW50cy5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50fSBldmVudFxuICogQHBhcmFtIHtTbmFwUG9pbnRzfSBzbmFwUG9pbnRzXG4gKi9cblNuYXBwaW5nLnByb3RvdHlwZS5zbmFwID0gZnVuY3Rpb24oZXZlbnQsIHNuYXBQb2ludHMpIHtcbiAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0LFxuICAgICAgc25hcENvbnRleHQgPSBjb250ZXh0LnNuYXBDb250ZXh0LFxuICAgICAgc25hcExvY2F0aW9ucyA9IHNuYXBDb250ZXh0LmdldFNuYXBMb2NhdGlvbnMoKTtcblxuICB2YXIgc25hcHBpbmcgPSB7XG4gICAgeDogaXNTbmFwcGVkKGV2ZW50LCAneCcpLFxuICAgIHk6IGlzU25hcHBlZChldmVudCwgJ3knKVxuICB9O1xuXG4gIGZvckVhY2goc25hcExvY2F0aW9ucywgZnVuY3Rpb24obG9jYXRpb24pIHtcbiAgICB2YXIgc25hcE9yaWdpbiA9IHNuYXBDb250ZXh0LmdldFNuYXBPcmlnaW4obG9jYXRpb24pO1xuXG4gICAgdmFyIHNuYXBDdXJyZW50ID0ge1xuICAgICAgeDogZXZlbnQueCArIHNuYXBPcmlnaW4ueCxcbiAgICAgIHk6IGV2ZW50LnkgKyBzbmFwT3JpZ2luLnlcbiAgICB9O1xuXG4gICAgLy8gc25hcCBib3RoIGF4aXMgaWYgbm90IHNuYXBwZWQgYWxyZWFkeVxuICAgIGZvckVhY2goWyAneCcsICd5JyBdLCBmdW5jdGlvbihheGlzKSB7XG4gICAgICB2YXIgbG9jYXRpb25TbmFwcGluZztcblxuICAgICAgaWYgKCFzbmFwcGluZ1theGlzXSkge1xuICAgICAgICBsb2NhdGlvblNuYXBwaW5nID0gc25hcFBvaW50cy5zbmFwKHNuYXBDdXJyZW50LCBsb2NhdGlvbiwgYXhpcywgU05BUF9UT0xFUkFOQ0UpO1xuXG4gICAgICAgIGlmIChsb2NhdGlvblNuYXBwaW5nICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBzbmFwcGluZ1theGlzXSA9IHtcbiAgICAgICAgICAgIHZhbHVlOiBsb2NhdGlvblNuYXBwaW5nLFxuICAgICAgICAgICAgb3JpZ2luVmFsdWU6IGxvY2F0aW9uU25hcHBpbmcgLSBzbmFwT3JpZ2luW2F4aXNdXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gbm8gbmVlZCB0byBjb250aW51ZSBzbmFwcGluZ1xuICAgIGlmIChzbmFwcGluZy54ICYmIHNuYXBwaW5nLnkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIHNob3cgc25hcCBsaW5lc1xuICB0aGlzLnNob3dTbmFwTGluZSgndmVydGljYWwnLCBzbmFwcGluZy54ICYmIHNuYXBwaW5nLngudmFsdWUpO1xuICB0aGlzLnNob3dTbmFwTGluZSgnaG9yaXpvbnRhbCcsIHNuYXBwaW5nLnkgJiYgc25hcHBpbmcueS52YWx1ZSk7XG5cbiAgLy8gc25hcCBldmVudFxuICBmb3JFYWNoKFsgJ3gnLCAneScgXSwgZnVuY3Rpb24oYXhpcykge1xuICAgIHZhciBheGlzU25hcHBpbmcgPSBzbmFwcGluZ1theGlzXTtcblxuICAgIGlmIChpc09iamVjdChheGlzU25hcHBpbmcpKSB7XG4gICAgICBzZXRTbmFwcGVkKGV2ZW50LCBheGlzLCBheGlzU25hcHBpbmcub3JpZ2luVmFsdWUpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5TbmFwcGluZy5wcm90b3R5cGUuX2NyZWF0ZUxpbmUgPSBmdW5jdGlvbihvcmllbnRhdGlvbikge1xuICB2YXIgcm9vdCA9IHRoaXMuX2NhbnZhcy5nZXRMYXllcignc25hcCcpO1xuXG4gIHZhciBsaW5lID0gc3ZnQ3JlYXRlKCdwYXRoJyk7XG5cbiAgc3ZnQXR0cihsaW5lLCB7IGQ6ICdNMCwwIEwwLDAnIH0pO1xuXG4gIHN2Z0NsYXNzZXMobGluZSkuYWRkKCdkanMtc25hcC1saW5lJyk7XG5cbiAgc3ZnQXBwZW5kKHJvb3QsIGxpbmUpO1xuXG4gIHJldHVybiB7XG4gICAgdXBkYXRlOiBmdW5jdGlvbihwb3NpdGlvbikge1xuXG4gICAgICBpZiAoIWlzTnVtYmVyKHBvc2l0aW9uKSkge1xuICAgICAgICBzdmdBdHRyKGxpbmUsIHsgZGlzcGxheTogJ25vbmUnIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKG9yaWVudGF0aW9uID09PSAnaG9yaXpvbnRhbCcpIHtcbiAgICAgICAgICBzdmdBdHRyKGxpbmUsIHtcbiAgICAgICAgICAgIGQ6ICdNLTEwMDAwMCwnICsgcG9zaXRpb24gKyAnIEwrMTAwMDAwLCcgKyBwb3NpdGlvbixcbiAgICAgICAgICAgIGRpc3BsYXk6ICcnXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3ZnQXR0cihsaW5lLCB7XG4gICAgICAgICAgICBkOiAnTSAnICsgcG9zaXRpb24gKyAnLC0xMDAwMDAgTCAnICsgcG9zaXRpb24gKyAnLCArMTAwMDAwJyxcbiAgICAgICAgICAgIGRpc3BsYXk6ICcnXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG59O1xuXG5TbmFwcGluZy5wcm90b3R5cGUuX2NyZWF0ZVNuYXBMaW5lcyA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLl9zbmFwTGluZXMgPSB7XG4gICAgaG9yaXpvbnRhbDogdGhpcy5fY3JlYXRlTGluZSgnaG9yaXpvbnRhbCcpLFxuICAgIHZlcnRpY2FsOiB0aGlzLl9jcmVhdGVMaW5lKCd2ZXJ0aWNhbCcpXG4gIH07XG59O1xuXG5TbmFwcGluZy5wcm90b3R5cGUuc2hvd1NuYXBMaW5lID0gZnVuY3Rpb24ob3JpZW50YXRpb24sIHBvc2l0aW9uKSB7XG5cbiAgdmFyIGxpbmUgPSB0aGlzLmdldFNuYXBMaW5lKG9yaWVudGF0aW9uKTtcblxuICBpZiAobGluZSkge1xuICAgIGxpbmUudXBkYXRlKHBvc2l0aW9uKTtcbiAgfVxuXG4gIHRoaXMuX2FzeW5jSGlkZSgpO1xufTtcblxuU25hcHBpbmcucHJvdG90eXBlLmdldFNuYXBMaW5lID0gZnVuY3Rpb24ob3JpZW50YXRpb24pIHtcbiAgaWYgKCF0aGlzLl9zbmFwTGluZXMpIHtcbiAgICB0aGlzLl9jcmVhdGVTbmFwTGluZXMoKTtcbiAgfVxuXG4gIHJldHVybiB0aGlzLl9zbmFwTGluZXNbb3JpZW50YXRpb25dO1xufTtcblxuU25hcHBpbmcucHJvdG90eXBlLmhpZGUgPSBmdW5jdGlvbigpIHtcbiAgZm9yRWFjaCh0aGlzLl9zbmFwTGluZXMsIGZ1bmN0aW9uKHNuYXBMaW5lKSB7XG4gICAgc25hcExpbmUudXBkYXRlKCk7XG4gIH0pO1xufTtcbiIsImltcG9ydCBDcmVhdGVNb3ZlU25hcHBpbmcgZnJvbSAnLi9DcmVhdGVNb3ZlU25hcHBpbmcnO1xuaW1wb3J0IFJlc2l6ZVNuYXBwaW5nIGZyb20gJy4vUmVzaXplU25hcHBpbmcnO1xuaW1wb3J0IFNuYXBwaW5nIGZyb20gJy4vU25hcHBpbmcnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9faW5pdF9fOiBbXG4gICAgJ2NyZWF0ZU1vdmVTbmFwcGluZycsXG4gICAgJ3Jlc2l6ZVNuYXBwaW5nJyxcbiAgICAnc25hcHBpbmcnXG4gIF0sXG4gIGNyZWF0ZU1vdmVTbmFwcGluZzogWyAndHlwZScsIENyZWF0ZU1vdmVTbmFwcGluZyBdLFxuICByZXNpemVTbmFwcGluZzogWyAndHlwZScsIFJlc2l6ZVNuYXBwaW5nIF0sXG4gIHNuYXBwaW5nOiBbICd0eXBlJywgU25hcHBpbmcgXVxufTsiLCJpbXBvcnQgUG9zdGl0Q3JlYXRlTW92ZVNuYXBwaW5nIGZyb20gJy4vUG9zdGl0Q3JlYXRlTW92ZVNuYXBwaW5nJztcbmltcG9ydCBTbmFwcGluZ01vZHVsZSBmcm9tICdkaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9zbmFwcGluZyc7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgX19kZXBlbmRzX186IFsgU25hcHBpbmdNb2R1bGUgXSxcbiAgX19pbml0X186IFtcbiAgICAnY3JlYXRlTW92ZVNuYXBwaW5nJ1xuICBdLFxuICBjcmVhdGVNb3ZlU25hcHBpbmc6IFsgJ3R5cGUnLCBQb3N0aXRDcmVhdGVNb3ZlU25hcHBpbmcgXVxufTsiLCJleHBvcnQgZnVuY3Rpb24gZmlsZVRvRGF0YVVSTChmaWxlKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgcmVhZGVyLm9ubG9hZGVuZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXNvbHZlKHJlYWRlci5yZXN1bHQpO1xuICAgICAgfTtcbiAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJlamVjdChlKTtcbiAgICB9XG4gIH0pO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaW1hZ2VQcm9jZXNzb3IoZXYsIGZpbGUpIHtcbiAgY29uc3QgYmFzZTY0ZmlsZSA9IGF3YWl0IGZpbGVUb0RhdGFVUkwoZmlsZSk7XG4gIHJldHVybiBiYXNlNjRmaWxlOyAvLyBwYXNzaW5nIGFueSBlcnJvcnMgdGhyb3VnaFxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmlsZVJlYWRlcihldiwgZmlsZXMpIHtcbiAgbGV0IHVwbG9hZFJlc3VsdCA9IFtdO1xuICBsZXQgZXJyb3JzO1xuICBsZXQgZmlsZUl0ZW1zID0gZmlsZXM7XG4gIGlmIChldiAmJiAoZXYuZGF0YVRyYW5zZmVyLml0ZW1zIHx8IGV2LmRhdGFUcmFuc2Zlci5maWxlcykpIHtcbiAgICBmaWxlSXRlbXMgPSBldi5kYXRhVHJhbnNmZXIuaXRlbXMgfHwgZXYuZGF0YVRyYW5zZmVyLmZpbGVzO1xuICB9XG4gIHRyeSB7XG4gICAgaWYgKGZpbGVJdGVtcykge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaWxlSXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGV2ICYmIGV2LmRhdGFUcmFuc2Zlci5pdGVtcykge1xuICAgICAgICAgIGlmIChmaWxlSXRlbXNbaV0ua2luZCA9PT0gJ2ZpbGUnKSB7XG4gICAgICAgICAgICB2YXIgZmlsZSA9IGZpbGVJdGVtc1tpXS5nZXRBc0ZpbGUoKTtcbiAgICAgICAgICAgIHVwbG9hZFJlc3VsdC5wdXNoKGZpbGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB1cGxvYWRSZXN1bHQucHVzaChmaWxlSXRlbXNbaV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgZXJyb3JzID0gZTtcbiAgICB1cGxvYWRSZXN1bHQgPSBudWxsO1xuICB9XG4gIGNvbnN0IGZpbGVfcmVzdWx0cyA9IHVwbG9hZFJlc3VsdDtcbiAgY29uc3QgaW1hZ2VfcmVzdWx0cyA9IFtdO1xuICB2YXIgaiA9IDA7XG4gIHdoaWxlIChqIDwgdXBsb2FkUmVzdWx0Lmxlbmd0aCkge1xuICAgIC8vIFJlcXVpcmVkIGJ5IERpcmVjdFVwbG9hZHNcbiAgICBmaWxlX3Jlc3VsdHNbal0uZmlsZW5hbWUgPSBmaWxlX3Jlc3VsdHNbal0ubmFtZTtcblxuICAgIGNvbnN0IGZpbGVJbWcgPSBhd2FpdCBpbWFnZVByb2Nlc3NvcihldiwgdXBsb2FkUmVzdWx0W2pdKTtcbiAgICBpbWFnZV9yZXN1bHRzLnB1c2goZmlsZUltZyk7XG4gICAgais9MTtcbiAgfVxuICByZXR1cm4geyBmaWxlX3Jlc3VsdHMsIGltYWdlX3Jlc3VsdHMsIGVycm9ycyB9O1xufVxuXG4iLCJpbXBvcnQge1xuICBkb21pZnksXG4gIGV2ZW50IGFzIGRvbUV2ZW50XG59IGZyb20gJ21pbi1kb20nO1xuXG5pbXBvcnQge1xuICBhc3NpZ25cbn0gZnJvbSAnbWluLWRhc2gnO1xuXG5pbXBvcnQge1xuICBmaWxlUmVhZGVyXG59IGZyb20gJy4vRmlsZVV0aWwuanMnO1xuXG4vKiBjb25zdGFudHMgKi9cbmNvbnN0IFBPU1RJVF9JTUFHRSA9ICdwb3N0aXQ6SW1hZ2UnO1xuZnVuY3Rpb24gcmFuZFN0cihsZW5ndGg9NSkge1xuICB2YXIgcmVzdWx0ID0gJyc7XG4gIHZhciBjaGFyYWN0ZXJzID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5JztcbiAgdmFyIGNoYXJhY3RlcnNMZW5ndGggPSBjaGFyYWN0ZXJzLmxlbmd0aDtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIHJlc3VsdCArPSBjaGFyYWN0ZXJzLmNoYXJBdChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBjaGFyYWN0ZXJzTGVuZ3RoKSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmNvbnN0IEVOVFJZX1BST1RPVFlQRSA9ICgpID0+IHtcbiAgcmV0dXJuIHtcbiAgICBvYmpJZDogcmFuZFN0cigpLFxuICAgIG9ialR5cGU6IFBPU1RJVF9JTUFHRSxcbiAgICBvYmpUaXRsZTogJycsXG4gICAgb2JqRGVzY3JpcHRpb246ICcnLFxuICAgIG9ialN0YXJyZWQ6IGZhbHNlLFxuICAgIG9iakhpZGRlbjogZmFsc2UsXG4gICAgb2JqVW5rZXllZDogZmFsc2UsXG4gICAgb2JqVW5rZXllZE9yaWdpbmFsOiBmYWxzZSxcbiAgICBvYmpTcmNVbmtleWVkOiAnJyxcbiAgICBvYmpDcmVhdGlvbkRhdGU6ICcnLFxuICAgIHNvdXJjZTogJycsXG4gICAgb2JqUG9zaXRpb25YOiBudWxsLFxuICAgIG9ialBvc2l0aW9uWTogbnVsbCxcbiAgfTtcbn07XG5cbi8qIGNvbnN0YW50cyAqL1xuXG5cbnZhciB0ZXh0O1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gRHJhZ0Ryb3BJbWFnZXMoZXZlbnRCdXMsIGNhbnZhcywgbW9kZWxpbmcsIGVsZW1lbnRGYWN0b3J5LCBjcmVhdGUsIHRyYW5zbGF0ZSkge1xuXG4gIHRoaXMuX2V2ZW50QnVzID0gZXZlbnRCdXM7XG4gIHRoaXMuX2NhbnZhcyA9IGNhbnZhcztcbiAgdGhpcy5fbW9kZWxpbmcgPSBtb2RlbGluZztcbiAgdGhpcy5fZWxlbWVudEZhY3RvcnkgPSBlbGVtZW50RmFjdG9yeTtcbiAgdGhpcy5fY3JlYXRlID0gY3JlYXRlO1xuICB0aGlzLl90cmFuc2xhdGUgPSB0cmFuc2xhdGU7XG5cbiAgY29uc3QgY3JlYXRlSW1hZ2VFbGVtZW50ID0gX2NyZWF0ZUltYWdlRWxlbWVudC5iaW5kKHRoaXMpO1xuXG4gIHRleHQgPSB7ICdVUkwnOiB0aGlzLl90cmFuc2xhdGUoJ1VSTCcpLFxuICAgICdBbiBlcnJvciBvY2N1cmVkIGR1cmluZyB0aGUgZmlsZSB1cGxvYWQnOiB0aGlzLl90cmFuc2xhdGUoJ0FuIGVycm9yIG9jY3VyZWQgZHVyaW5nIHRoZSBmaWxlIHVwbG9hZCcpLFxuICAgICdVcGxvYWQgZmlsZXMgaGVyZSc6IHRoaXMuX3RyYW5zbGF0ZSgnVXBsb2FkIGZpbGVzIGhlcmUnKSxcbiAgICAnVXBsb2FkIGZyb20gbG9jYWwgaXMgZm9yIGRlbW8gcHVycG9zZXMgb25seS4gSXQgc2xvd3MgZG93biB0aGUgcGFnZSBhbmQgaW5jcmVhc2VzIHRoZSBmaWxlIHNpemUuJzogdGhpcy5fdHJhbnNsYXRlKCdVcGxvYWQgZnJvbSBsb2NhbCBpcyBmb3IgZGVtbyBwdXJwb3NlcyBvbmx5LiBJdCBzbG93cyBkb3duIHRoZSBwYWdlIGFuZCBpbmNyZWFzZXMgdGhlIGZpbGUgc2l6ZS4nKSxcbiAgICAndXBsb2FkZWQnOiB0aGlzLl90cmFuc2xhdGUoJ3VwbG9hZGVkJyksXG4gICAgJ2ZpbGUnOiB0aGlzLl90cmFuc2xhdGUoJ2ZpbGUnKSxcbiAgICAnZmlsZXMnOiB0aGlzLl90cmFuc2xhdGUoJ2ZpbGVzJyksXG4gICAgJ3NlbGVjdGVkJzogdGhpcy5fdHJhbnNsYXRlKCdzZWxlY3RlZCcpLFxuICAgICdVcGxvYWQgYWdhaW4nOiB0aGlzLl90cmFuc2xhdGUoJ1VwbG9hZCBhZ2FpbicpLFxuICAgICdEcmFnIGhlcmUnOiB0aGlzLl90cmFuc2xhdGUoJ0RyYWcgaGVyZScpLFxuICB9O1xuXG4gIERyYWdEcm9wSW1hZ2VzLkNTUyA9IGBcbiAgICAucGpzLXZpc2libGUge1xuICAgICAgdmlzaWJpbGl0eTogdmlzaWJsZSAhaW1wb3J0YW50O1xuICAgICAgZGlzcGxheTogYmxvY2sgIWltcG9ydGFudDtcbiAgICB9XG4gICAgXG4gICAgI3Bqcy1kcm9wLXpvbmUge1xuICAgICAgdmlzaWJpbGl0eTogaGlkZGVuO1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNTU1NTU1O1xuICAgICAgei1pbmRleDogMTtcbiAgICAgIG9wYWNpdHk6IDAuOTtcbiAgICB9XG5cbiAgICAjcGpzLWRyb3Atem9uZS1ib3JkZXIge1xuICAgICAgYm9yZGVyLXJhZGl1czogMTBweCAxMHB4IDEwcHggMTBweDtcbiAgICAgIC1tb3otYm9yZGVyLXJhZGl1czogMTBweCAxMHB4IDEwcHggMTBweDtcbiAgICAgIC13ZWJraXQtYm9yZGVyLXJhZGl1czogMTBweCAxMHB4IDEwcHggMTBweDtcbiAgICAgIGJvcmRlcjogNXB4IGRhc2hlZCAjMDAwMDAwO1xuICAgICAgei1pbmRleDogMjtcbiAgICAgIGRpc3BsYXk6IHRhYmxlO1xuICAgICAgd2lkdGg6IDk4LjklO1xuICAgICAgaGVpZ2h0OiAxMDAlOyBcbiAgICB9XG5cbiAgICAucGpzLWRyb3Atem9uZS10ZXh0IHtcbiAgICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XG4gICAgICB3aWR0aDogMTAwJTtcbiAgICAgIGZvbnQtc2l6ZTogMjVweDtcbiAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgICAgbWFyZ2luOiAwIGF1dG87XG4gICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICBkaXNwbGF5OiB0YWJsZS1jZWxsO1xuICB9YDtcblxuICBEcmFnRHJvcEltYWdlcy5IVE1MX01BUktVUCA9ICc8ZGl2IGlkPVwicGpzLWRyb3Atem9uZVwiPicrXG4gICAgICAgICc8ZGl2IGlkPVwicGpzLWRyb3Atem9uZS1ib3JkZXJcIj4nK1xuICAgICAgICAgICc8ZGl2IGNsYXNzPVwicGpzLWRyb3Atem9uZS10ZXh0XCI+JytcbiAgICAgICAgICB0ZXh0WydEcmFnIGhlcmUnXStcbiAgICAgICAgJzwvZGl2PicrXG4gICAgICAnPC9kaXY+JytcbiAgJzwvZGl2Pic7XG5cbiAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgc3R5bGUudHlwZSA9ICd0ZXh0L2Nzcyc7XG4gIHN0eWxlLmlubmVySFRNTCA9IERyYWdEcm9wSW1hZ2VzLkNTUztcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ0hFQUQnKVswXS5hcHBlbmRDaGlsZChzdHlsZSk7XG5cbiAgY29uc3QgY2FudmFzRE9NID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25vdGVDYW52YXMnKTtcblxuICBjb25zdCBjb250YWluZXIgPSB0aGlzLl9jb250YWluZXIgPSBkb21pZnkoRHJhZ0Ryb3BJbWFnZXMuSFRNTF9NQVJLVVApO1xuICBjYW52YXNET00uaW5zZXJ0QmVmb3JlKGNvbnRhaW5lciwgY2FudmFzLmZpcnN0Q2hpbGQpO1xuXG4gIGZ1bmN0aW9uIHByZXZlbnREZWZhdWx0cyhlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gIH1cblxuICBkb21FdmVudC5iaW5kKGNhbnZhc0RPTSwgJ2RyYWcnLCBmdW5jdGlvbihldikge1xuICB9LCBmYWxzZSk7XG4gIGRvbUV2ZW50LmJpbmQoY2FudmFzRE9NLCAnZHJhZ3N0YXJ0JywgZnVuY3Rpb24oZXYpIHtcbiAgfSwgZmFsc2UpO1xuICBkb21FdmVudC5iaW5kKGNhbnZhc0RPTSwgJ2RyYWdlbmQnLCBmdW5jdGlvbihldikge1xuICB9LCBmYWxzZSk7XG4gIGRvbUV2ZW50LmJpbmQoY2FudmFzRE9NLCAnZHJhZ292ZXInLCBmdW5jdGlvbihldikge1xuICAgIHByZXZlbnREZWZhdWx0cyhldik7XG4gIH0sIGZhbHNlKTtcbiAgZG9tRXZlbnQuYmluZChjYW52YXNET00sICdkcmFnZW50ZXInLCBmdW5jdGlvbihldikge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwanMtZHJvcC16b25lJykuY2xhc3NMaXN0LmFkZCgncGpzLXZpc2libGUnKTtcbiAgfSwgZmFsc2UpO1xuICBkb21FdmVudC5iaW5kKGNhbnZhc0RPTSwnZHJhZ2xlYXZlJywgZnVuY3Rpb24oZXYpIHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGpzLWRyb3Atem9uZScpLmNsYXNzTGlzdC5yZW1vdmUoJ3Bqcy12aXNpYmxlJyk7XG4gIH0sIGZhbHNlKTtcbiAgZG9tRXZlbnQuYmluZChjYW52YXNET00sICdkcm9wJywgYXN5bmMgZnVuY3Rpb24oZXYpIHtcbiAgICBwcmV2ZW50RGVmYXVsdHMoZXYpO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwanMtZHJvcC16b25lJykuY2xhc3NMaXN0LnJlbW92ZSgncGpzLXZpc2libGUnKTtcbiAgICB1cGxvYWRGaWxlcyhldik7XG4gIH0sIGZhbHNlKTtcblxuXG4gIGFzeW5jIGZ1bmN0aW9uIHVwbG9hZEZpbGVzKGV2KSB7XG4gICAgbGV0IHVwbG9hZERpc3BsYXlUZXh0O1xuICAgIGxldCB1cGxvYWRSZXN1bHRPYmogPSBhd2FpdCBmaWxlUmVhZGVyKGV2LCBudWxsKTtcbiAgICBsZXQgdXBsb2FkSW1hZ2VSZXN1bHQgPSB1cGxvYWRSZXN1bHRPYmouaW1hZ2VfcmVzdWx0cztcbiAgICBsZXQgdXBsb2FkRmlsZVJlc3VsdCA9IHVwbG9hZFJlc3VsdE9iai5maWxlX3Jlc3VsdHM7XG4gICAgbGV0IGVycm9ycyA9IHVwbG9hZFJlc3VsdE9iai5lcnJvcnM7XG4gICAgaWYgKCFlcnJvcnMpIHtcbiAgICAgIGxldCB1cGxvYWRlZEZpbGVzQ291bnQgPSAodXBsb2FkRmlsZVJlc3VsdC5sZW5ndGgpID8gdXBsb2FkRmlsZVJlc3VsdC5sZW5ndGggOiBudWxsO1xuICAgICAgdXBsb2FkRGlzcGxheVRleHQgPSB1cGxvYWRlZEZpbGVzQ291bnQ7XG4gICAgICBpZiAoaXNOYU4odXBsb2FkZWRGaWxlc0NvdW50KSA9PT0gZmFsc2UpIHtcbiAgICAgICAgY29uc3QgZmlsZVBsdXJhbFRleHQgPSsgKHVwbG9hZEZpbGVSZXN1bHQubGVuZ3RoID09IDEpID8gdGV4dFsnZmlsZSddIDogdGV4dFsnZmlsZXMnXTtcbiAgICAgICAgdXBsb2FkRGlzcGxheVRleHQgKz0gJyAnICsgZmlsZVBsdXJhbFRleHQgKyAnICcgKyB0ZXh0Wyd1cGxvYWRlZCddO1xuICAgICAgfVxuXG4gICAgICBsZXQgaSA9IHVwbG9hZEZpbGVSZXN1bHQubGVuZ3RoO1xuICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICBjcmVhdGVJbWFnZUVsZW1lbnQoZXYsIGNvbnZlcnRUb0VudHJ5KHsgc291cmNlOiB1cGxvYWRJbWFnZVJlc3VsdFtpXSwgZmlsZV9zb3VyY2U6IHVwbG9hZEZpbGVSZXN1bHRbaV0gfSkpO1xuICAgICAgfVxuICAgICAgY29uc29sZS5sb2codXBsb2FkRGlzcGxheVRleHQpO1xuICAgIH1cbiAgfVxufVxuXG5jb25zdCBjb252ZXJ0VG9FbnRyeSA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgcmV0dXJuIHsgLi4uRU5UUllfUFJPVE9UWVBFKCksIC4uLm9wdGlvbnMgfTtcbn07XG5cbmNvbnN0IF9jcmVhdGVJbWFnZUVsZW1lbnQgPSBhc3luYyBmdW5jdGlvbihldmVudCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCBbXTtcbiAgY29uc3Qgc2hhcGUgPSB0aGlzLl9lbGVtZW50RmFjdG9yeS5jcmVhdGVTaGFwZSh7XG4gICAgdHlwZTogUE9TVElUX0lNQUdFLFxuICAgIC4uLm9wdGlvbnMsXG4gIH0pO1xuICBjb25zdCBhdHRhY2ggPSBmYWxzZTtcbiAgY29uc3QgaGludHMgPSB7IGNyZWF0ZUVsZW1lbnRzQmVoYXZpb3I6IGZhbHNlIH07XG4gIGNvbnN0IHBvc2l0aW9uID0geyB4OiBldmVudC54ICsgKE1hdGgucmFuZG9tKCkgKiAxMDApLCB5OiBldmVudC55ICsgKE1hdGgucmFuZG9tKCkgKiAxMDApIH07XG4gIGNvbnN0IHRhcmdldCA9IHRoaXMuX2NhbnZhcy5nZXRSb290RWxlbWVudCgpO1xuICB2YXIgZWxlbWVudHMgPSB0aGlzLl9tb2RlbGluZy5jcmVhdGVFbGVtZW50cyhbc2hhcGVdLCBwb3NpdGlvbiwgdGFyZ2V0LCBhc3NpZ24oe30sIGhpbnRzLCB7XG4gICAgYXR0YWNoOiBhdHRhY2gsXG4gIH0pKTtcblxuICB2YXIgdXJsUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh3aW5kb3cubG9jYXRpb24uc2VhcmNoKTtcbiAgdmFyIHNfa2V5ID0gdXJsUGFyYW1zLmdldCgnc19rZXknKTtcbiAgaWYoIHNfa2V5ID09PSBudWxsICkge1xuICAgIHNoZXBoZXJkQWxlcnQoXCJTY3JpcHQgUmVxdWlyZWRcIiwgXCJZb3UgbXVzdCBvcGVuIGEgc2NyaXB0IGJlZm9yZSB5b3UgY2FuIHRha2Ugbm90ZXMhXCIpXG4gIH0gZWxzZSB7XG4gICAgbGV0IGJsb2IgPSAgb3B0aW9ucy5maWxlX3NvdXJjZTtcblxuICAgIC8vIFVnbHkgYmVjYXVzZSB3ZSBleHBlY3QgdGhpcyBVUkwgdG8gZXhpc3Qgb24gdGhlIHBhZ2UuXG4gICAgdmFyIHVwbG9hZCA9IG5ldyBBY3RpdmVTdG9yYWdlLkRpcmVjdFVwbG9hZChcbiAgICAgIGJsb2IsXG4gICAgICBkaXJlY3RfdXBsb2FkX3VybFxuICAgICk7XG5cbiAgICBhd2FpdCB1cGxvYWQuY3JlYXRlKGZ1bmN0aW9uKGVsZW1lbnRzLCBlcnJvciwgYmxvYikge1xuICAgICAgaWYoIGVycm9yICE9PSBudWxsICkge1xuICAgICAgICBpZiggZXJyb3Iuc2VhcmNoKFwiU3RhdHVzOiA0MDNcIikgPj0gMCApIHtcbiAgICAgICAgICBzaGVwaGVyZEFsZXJ0KFwiU3Vic2NyaXB0aW9uIE5lZWRlZCFcIiwgXCJZb3UgbXVzdCBoYXZlIGFuIGFjdGl2ZSBzdWJzY3JpcHRpb24gdG8gc2F2ZSBpbWFnZXMhIFlvdSBjYW4gc2lnbiB1cCA8YnV0dG9uIGRhdGEtdG9nZ2xlPVxcXCJtb2RhbFxcXCIgaHJlZj1cXFwiI3N1YnNjcmlwdGlvbk1vZGFsXFxcIiBvbmNsaWNrPVxcXCJTaGVwaGVyZC5hY3RpdmVUb3VyLmNvbXBsZXRlKCk7ICQoJyNpZGVhdG9yTm90ZXNNb2RhbCcpLm1vZGFsKCdoaWRlJyk7XFxcIiBkYXRhLWRlc2NyaXB0aW9uPVxcXCJTaWduIHVwIGZvciBpbWFnZSB1cGxvYWRpbmcgYW5kIG90aGVyIGdyZWF0IGZlYXR1ZXJzIVxcXCIgZGF0YS1yZXNldD1cXFwiJCgnI2lkZWF0b3JOb3Rlc01vZGFsJykubW9kYWwoXFwnc2hvd1xcJyk7XFxcIiBzdHlsZT1cXFwiY29sb3I6IGJsdWU7IG1hcmdpbi1sZWZ0OiAtNnB4OyB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcXFwiPmhlcmUhPC9idXR0b24+XCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNoZXBoZXJkQWxlcnQoXCJVcGxvYWQgRXJyb3JcIiwgZXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYoIGJsb2Iua2V5ICkge1xuICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgIHR5cGU6IFwiR0VUXCIsXG4gICAgICAgICAgYmVmb3JlU2VuZDogZnVuY3Rpb24oeGhyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcignWC1DU1JGLVRva2VuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCdtZXRhW25hbWU9XCJjc3JmLXRva2VuXCJdJykuYXR0cignY29udGVudCcpKTtcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgdXJsOiBcIi9zY3JpcHRzL1wiICsgc19rZXkgKyBcIi9pbWFnZV91cmwvXCIgKyBibG9iLmtleSxcbiAgICAgICAgICByZXNwb25zZVR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGVsZW1lbnRzLCBkYXRhKSB7XG4gICAgICAgICAgICBmb3IoIGxldCBlbGVtZW50IGluIGVsZW1lbnRzICkge1xuICAgICAgICAgICAgICB0aGlzLl9tb2RlbGluZy51cGRhdGVQcm9wZXJ0aWVzKGVsZW1lbnRzW2VsZW1lbnRdLCB7XG4gICAgICAgICAgICAgICAgc291cmNlOiBkYXRhLnVybCxcbiAgICAgICAgICAgICAgICBrZXk6IGRhdGEua2V5XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0uYmluZCh0aGlzLCBlbGVtZW50cylcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzaGVwaGVyZEFsZXJ0KFwiVW5rbm93biBFcnJvclwiLCBcIldlJ3ZlIGxvZ2dlZCB0aGlzIGlzc3VlLiAgSWYgaXQgY29udGludWVzLCBwbGVhc2UgcmVhY2ggb3V0IHRvIHN1cHBvcnQuXCIpO1xuICAgICAgICBCdWdzbmFnLm5vdGlmeShcIlVua25vd24gdXBsb2FkIHJlc3BvbnNlOiBcIiArIGJsb2IudG9TdHJpbmcoKSApXG4gICAgICB9XG4gICAgfS5iaW5kKHRoaXMsIGVsZW1lbnRzKSk7XG4gIH1cblxuICByZXR1cm4geyBpZDogc2hhcGUuaWQsIHg6IHBvc2l0aW9uLngsIHk6IHBvc2l0aW9uLnksIHNoYXBlLCB3aWR0aDogc2hhcGUud2lkdGgsIGhlaWdodDogc2hhcGUuaGVpZ2h0IH07XG59O1xuXG5EcmFnRHJvcEltYWdlcy5wcm90b3R5cGUuJGluamVjdCA9IFtcbiAgJ2V2ZW50QnVzJyxcbiAgJ2NhbnZhcycsXG4gICdtb2RlbGluZycsXG4gICdlbGVtZW50RmFjdG9yeScsXG4gICdjcmVhdGUnLFxuICAndHJhbnNsYXRlJ1xuXTtcbiIsImltcG9ydCBEcmFnRHJvcEltYWdlcyBmcm9tICcuL0RyYWdEcm9wSW1hZ2VzJztcblxuZXhwb3J0IGRlZmF1bHQge1xuICBfX2luaXRfXzogWyAnZHJhZ0Ryb3BJbWFnZXMnIF0sXG4gIGRyYWdEcm9wSW1hZ2VzOiBbICd0eXBlJywgRHJhZ0Ryb3BJbWFnZXNdXG59O1xuIiwiaW1wb3J0IGluaGVyaXRzIGZyb20gJ2luaGVyaXRzJztcblxuaW1wb3J0IEJhc2VNb2RlbGVyIGZyb20gJy4vQmFzZU1vZGVsZXInO1xuXG5pbXBvcnQgVmlld2VyIGZyb20gJy4vVmlld2VyJztcbmltcG9ydCBOYXZpZ2F0ZWRWaWV3ZXIgZnJvbSAnLi9OYXZpZ2F0ZWRWaWV3ZXInO1xuXG5pbXBvcnQgS2V5Ym9hcmRNb3ZlTW9kdWxlIGZyb20gJ2RpYWdyYW0tanMvbGliL25hdmlnYXRpb24va2V5Ym9hcmQtbW92ZSc7XG5pbXBvcnQgTW92ZUNhbnZhc01vZHVsZSBmcm9tICdkaWFncmFtLWpzL2xpYi9uYXZpZ2F0aW9uL21vdmVjYW52YXMnO1xuaW1wb3J0IFRvdWNoTW9kdWxlIGZyb20gJ2RpYWdyYW0tanMvbGliL25hdmlnYXRpb24vdG91Y2gnO1xuaW1wb3J0IFpvb21TY3JvbGxNb2R1bGUgZnJvbSAnZGlhZ3JhbS1qcy9saWIvbmF2aWdhdGlvbi96b29tc2Nyb2xsJztcblxuaW1wb3J0IEFsaWduRWxlbWVudHNNb2R1bGUgZnJvbSAnZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvYWxpZ24tZWxlbWVudHMnO1xuaW1wb3J0IEF1dG9TY3JvbGxNb2R1bGUgZnJvbSAnZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvYXV0by1zY3JvbGwnO1xuaW1wb3J0IEJlbmRwb2ludHNNb2R1bGUgZnJvbSAnZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvYmVuZHBvaW50cyc7XG5pbXBvcnQgQ2FudmFzQ3JlYXRlIGZyb20gJy4vZmVhdHVyZXMvY2FudmFzLWNyZWF0ZSc7XG5pbXBvcnQgQ29ubmVjdE1vZHVsZSBmcm9tICdkaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9jb25uZWN0JztcbmltcG9ydCBDb25uZWN0aW9uUHJldmlld01vZHVsZSBmcm9tICdkaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9jb25uZWN0aW9uLXByZXZpZXcnO1xuaW1wb3J0IENvbnRleHRQYWRNb2R1bGUgZnJvbSAnLi9mZWF0dXJlcy9jb250ZXh0LXBhZCc7XG5pbXBvcnQgQ29weVBhc3RlTW9kdWxlIGZyb20gJy4vZmVhdHVyZXMvY29weS1wYXN0ZSc7XG5pbXBvcnQgQ3JlYXRlTW9kdWxlIGZyb20gJ2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2NyZWF0ZSc7XG5pbXBvcnQgRWRpdG9yQWN0aW9uc01vZHVsZSBmcm9tICcuL2ZlYXR1cmVzL2VkaXRvci1hY3Rpb25zJztcbmltcG9ydCBJbWFnZVNlbGVjdGlvbk1vZHVsZSBmcm9tICcuL2ZlYXR1cmVzL2ltYWdlLXNlbGVjdGlvbic7XG5pbXBvcnQgS2V5Ym9hcmRNb2R1bGUgZnJvbSAnLi9mZWF0dXJlcy9rZXlib2FyZCc7XG5pbXBvcnQgS2V5Ym9hcmRNb3ZlU2VsZWN0aW9uTW9kdWxlIGZyb20gJ2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2tleWJvYXJkLW1vdmUtc2VsZWN0aW9uJztcbmltcG9ydCBMYWJlbEVkaXRpbmdNb2R1bGUgZnJvbSAnLi9mZWF0dXJlcy9sYWJlbC1lZGl0aW5nJztcbmltcG9ydCBNb2RlbGluZ01vZHVsZSBmcm9tICcuL2ZlYXR1cmVzL21vZGVsaW5nJztcbmltcG9ydCBNb3ZlTW9kdWxlIGZyb20gJ2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL21vdmUnO1xuaW1wb3J0IFBhbGV0dGVNb2R1bGUgZnJvbSAnLi9mZWF0dXJlcy9wYWxldHRlJztcbmltcG9ydCBSZXBsYWNlUHJldmlld01vZHVsZSBmcm9tICcuL2ZlYXR1cmVzL3JlcGxhY2UtcHJldmlldyc7XG5pbXBvcnQgUmVzaXplTW9kdWxlIGZyb20gJ2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL3Jlc2l6ZSc7XG5pbXBvcnQgU25hcHBpbmdNb2R1bGUgZnJvbSAnLi9mZWF0dXJlcy9zbmFwcGluZyc7XG5cbmltcG9ydCBEcmFnRHJvcEltYWdlc01vZHVsZSBmcm9tICcuL2ZlYXR1cmVzL2RyYWctZHJvcC1pbWFnZXMnO1xuLy9pbXBvcnQgU2VsZWN0aW9uT3JnYW5pemVyTW9kdWxlIGZyb20gJy4vZmVhdHVyZXMvc2VsZWN0aW9uLW9yZ2FuaXplcic7XG4vL2ltcG9ydCBQcm9wZXJ0aWVzUGFuZWxNb2R1bGUgZnJvbSAnLi9mZWF0dXJlcy9wcm9wZXJ0aWVzLXBhbmVsLXYyJztcbi8vaW1wb3J0IEltYWdlU2VsZWN0aW9uTW9kdWxlIGZyb20gJy4vZmVhdHVyZXMvaW1hZ2Utc2VsZWN0aW9uLXYyJztcbi8vIFRPRE8gLSBBY3RpdmF0ZSBuZXcgb3B0aW9ucyBoZXJlLlxuXG5cbnZhciBpbml0aWFsRGlhZ3JhbSA9XG4gIGA8P3htbCB2ZXJzaW9uPVwiMS4wXCIgZW5jb2Rpbmc9XCJVVEYtOFwiPz5cbiAgPHBvc3RpdDpkZWZpbml0aW9ucyB4bWxuczp4c2k9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYS1pbnN0YW5jZVwiIHhtbG5zOmRjPVwiaHR0cDovL3d3dy5vbWcub3JnL3NwZWMvREQvMjAxMDA1MjQvRENcIiB4bWxuczpkaT1cImh0dHA6Ly93d3cub21nLm9yZy9zcGVjL0RELzIwMTAwNTI0L0RJXCIgaWQ9XCJzYW1wbGUtZGlhZ3JhbVwiPlxuICAgIDxwb3N0aXQ6UG9zdGl0Qm9hcmQgaWQ9XCJCb2FyZF8xXCI+XG4gICAgPC9wb3N0aXQ6UG9zdGl0Qm9hcmQ+XG4gICAgPHBvc3RpdERpOlBvc3RpdFJvb3RCb2FyZCBpZD1cIlJvb3RCb2FyZF8xXCI+XG4gICAgICA8cG9zdGl0RGk6UG9zdGl0UGxhbmUgaWQ9XCJQb3NpdFBsYW5lXzFcIiBib2FyZEVsZW1lbnQ9XCJCb2FyZF8xXCI+XG4gICAgICA8L3Bvc3RpdERpOlBvc3RpdFBsYW5lPlxuICAgIDwvcG9zdGl0RGk6UG9zdGl0Um9vdEJvYXJkPlxuICA8L3Bvc3RpdDpkZWZpbml0aW9ucz5gO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBNb2RlbGVyKG9wdGlvbnMpIHtcbiAgQmFzZU1vZGVsZXIuY2FsbCh0aGlzLCBvcHRpb25zKTtcbn1cbmluaGVyaXRzKE1vZGVsZXIsIEJhc2VNb2RlbGVyKTtcblxuXG5Nb2RlbGVyLlZpZXdlciA9IFZpZXdlcjtcbk1vZGVsZXIuTmF2aWdhdGVkVmlld2VyID0gTmF2aWdhdGVkVmlld2VyO1xuXG4vKipcbiogVGhlIGNyZWF0ZURpYWdyYW0gcmVzdWx0LlxuKlxuKiBAdHlwZWRlZiB7T2JqZWN0fSBDcmVhdGVEaWFncmFtUmVzdWx0XG4qXG4qIEBwcm9wZXJ0eSB7QXJyYXk8c3RyaW5nPn0gd2FybmluZ3NcbiovXG5cbi8qKlxuKiBUaGUgY3JlYXRlRGlhZ3JhbSBlcnJvci5cbipcbiogQHR5cGVkZWYge0Vycm9yfSBDcmVhdGVEaWFncmFtRXJyb3JcbipcbiogQHByb3BlcnR5IHtBcnJheTxzdHJpbmc+fSB3YXJuaW5nc1xuKi9cblxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgZGlhZ3JhbSB0byBzdGFydCBtb2RlbGluZy5cbiAqXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxDcmVhdGVEaWFncmFtUmVzdWx0LCBDcmVhdGVEaWFncmFtRXJyb3I+fVxuICpcbiAqL1xuTW9kZWxlci5wcm90b3R5cGUuY3JlYXRlRGlhZ3JhbSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5pbXBvcnRYTUwoaW5pdGlhbERpYWdyYW0pO1xufTtcblxuXG5Nb2RlbGVyLnByb3RvdHlwZS5faW50ZXJhY3Rpb25Nb2R1bGVzID0gW1xuXG4gIC8vIG5vbi1tb2RlbGluZyBjb21wb25lbnRzXG4gIEtleWJvYXJkTW92ZU1vZHVsZSxcbiAgTW92ZUNhbnZhc01vZHVsZSxcbiAgVG91Y2hNb2R1bGUsXG4gIFpvb21TY3JvbGxNb2R1bGVcbl07XG5cbk1vZGVsZXIucHJvdG90eXBlLl9tb2RlbGluZ01vZHVsZXMgPSBbXG5cbiAgLy8gbW9kZWxpbmcgY29tcG9uZW50c1xuICBBbGlnbkVsZW1lbnRzTW9kdWxlLFxuICBBdXRvU2Nyb2xsTW9kdWxlLFxuICBCZW5kcG9pbnRzTW9kdWxlLFxuICBDYW52YXNDcmVhdGUsXG4gIENvbm5lY3RNb2R1bGUsXG4gIENvbm5lY3Rpb25QcmV2aWV3TW9kdWxlLFxuICBDb250ZXh0UGFkTW9kdWxlLFxuICBDb3B5UGFzdGVNb2R1bGUsXG4gIENyZWF0ZU1vZHVsZSxcbiAgRWRpdG9yQWN0aW9uc01vZHVsZSxcbiAgSW1hZ2VTZWxlY3Rpb25Nb2R1bGUsXG4gIEtleWJvYXJkTW9kdWxlLFxuICBLZXlib2FyZE1vdmVTZWxlY3Rpb25Nb2R1bGUsXG4gIExhYmVsRWRpdGluZ01vZHVsZSxcbiAgTW9kZWxpbmdNb2R1bGUsXG4gIE1vdmVNb2R1bGUsXG4gIFBhbGV0dGVNb2R1bGUsXG4gIFJlcGxhY2VQcmV2aWV3TW9kdWxlLFxuICBSZXNpemVNb2R1bGUsXG4gIFNuYXBwaW5nTW9kdWxlLFxuXG4gIERyYWdEcm9wSW1hZ2VzTW9kdWxlLFxuICAvL1NlbGVjdGlvbk9yZ2FuaXplck1vZHVsZSxcbiAgLy9Qcm9wZXJ0aWVzUGFuZWxNb2R1bGUsXG4gIC8vSW1hZ2VTZWxlY3Rpb25Nb2R1bGUsXG4gIC8vIFRPRE8gLSBhbmQgaGVyZVxuICBcbl07XG5cblxuLy8gbW9kdWxlcyB0aGUgbW9kZWxlciBpcyBjb21wb3NlZCBvZlxuLy9cbi8vIC0gdmlld2VyIG1vZHVsZXNcbi8vIC0gaW50ZXJhY3Rpb24gbW9kdWxlc1xuLy8gLSBtb2RlbGluZyBtb2R1bGVzXG5cbk1vZGVsZXIucHJvdG90eXBlLl9tb2R1bGVzID0gW10uY29uY2F0KFxuICBWaWV3ZXIucHJvdG90eXBlLl9tb2R1bGVzLFxuICBNb2RlbGVyLnByb3RvdHlwZS5faW50ZXJhY3Rpb25Nb2R1bGVzLFxuICBNb2RlbGVyLnByb3RvdHlwZS5fbW9kZWxpbmdNb2R1bGVzXG4pO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgTW9kZWxlciA9IHJlcXVpcmUoJy4vTW9kZWxlcicpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IE1vZGVsZXI7XG4iLCIvKiEgaHR0cHM6Ly9tdGhzLmJlL2Nzc2VzY2FwZSB2MS41LjEgYnkgQG1hdGhpYXMgfCBNSVQgbGljZW5zZSAqL1xuOyhmdW5jdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdC8vIGh0dHBzOi8vZ2l0aHViLmNvbS91bWRqcy91bWQvYmxvYi9tYXN0ZXIvcmV0dXJuRXhwb3J0cy5qc1xuXHRpZiAodHlwZW9mIGV4cG9ydHMgPT0gJ29iamVjdCcpIHtcblx0XHQvLyBGb3IgTm9kZS5qcy5cblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3Rvcnkocm9vdCk7XG5cdH0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcblx0XHQvLyBGb3IgQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLlxuXHRcdGRlZmluZShbXSwgZmFjdG9yeS5iaW5kKHJvb3QsIHJvb3QpKTtcblx0fSBlbHNlIHtcblx0XHQvLyBGb3IgYnJvd3NlciBnbG9iYWxzIChub3QgZXhwb3NpbmcgdGhlIGZ1bmN0aW9uIHNlcGFyYXRlbHkpLlxuXHRcdGZhY3Rvcnkocm9vdCk7XG5cdH1cbn0odHlwZW9mIGdsb2JhbCAhPSAndW5kZWZpbmVkJyA/IGdsb2JhbCA6IHRoaXMsIGZ1bmN0aW9uKHJvb3QpIHtcblxuXHRpZiAocm9vdC5DU1MgJiYgcm9vdC5DU1MuZXNjYXBlKSB7XG5cdFx0cmV0dXJuIHJvb3QuQ1NTLmVzY2FwZTtcblx0fVxuXG5cdC8vIGh0dHBzOi8vZHJhZnRzLmNzc3dnLm9yZy9jc3NvbS8jc2VyaWFsaXplLWFuLWlkZW50aWZpZXJcblx0dmFyIGNzc0VzY2FwZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG5cdFx0aWYgKGFyZ3VtZW50cy5sZW5ndGggPT0gMCkge1xuXHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignYENTUy5lc2NhcGVgIHJlcXVpcmVzIGFuIGFyZ3VtZW50LicpO1xuXHRcdH1cblx0XHR2YXIgc3RyaW5nID0gU3RyaW5nKHZhbHVlKTtcblx0XHR2YXIgbGVuZ3RoID0gc3RyaW5nLmxlbmd0aDtcblx0XHR2YXIgaW5kZXggPSAtMTtcblx0XHR2YXIgY29kZVVuaXQ7XG5cdFx0dmFyIHJlc3VsdCA9ICcnO1xuXHRcdHZhciBmaXJzdENvZGVVbml0ID0gc3RyaW5nLmNoYXJDb2RlQXQoMCk7XG5cdFx0d2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcblx0XHRcdGNvZGVVbml0ID0gc3RyaW5nLmNoYXJDb2RlQXQoaW5kZXgpO1xuXHRcdFx0Ly8gTm90ZTogdGhlcmXigJlzIG5vIG5lZWQgdG8gc3BlY2lhbC1jYXNlIGFzdHJhbCBzeW1ib2xzLCBzdXJyb2dhdGVcblx0XHRcdC8vIHBhaXJzLCBvciBsb25lIHN1cnJvZ2F0ZXMuXG5cblx0XHRcdC8vIElmIHRoZSBjaGFyYWN0ZXIgaXMgTlVMTCAoVSswMDAwKSwgdGhlbiB0aGUgUkVQTEFDRU1FTlQgQ0hBUkFDVEVSXG5cdFx0XHQvLyAoVStGRkZEKS5cblx0XHRcdGlmIChjb2RlVW5pdCA9PSAweDAwMDApIHtcblx0XHRcdFx0cmVzdWx0ICs9ICdcXHVGRkZEJztcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChcblx0XHRcdFx0Ly8gSWYgdGhlIGNoYXJhY3RlciBpcyBpbiB0aGUgcmFuZ2UgW1xcMS1cXDFGXSAoVSswMDAxIHRvIFUrMDAxRikgb3IgaXNcblx0XHRcdFx0Ly8gVSswMDdGLCBb4oCmXVxuXHRcdFx0XHQoY29kZVVuaXQgPj0gMHgwMDAxICYmIGNvZGVVbml0IDw9IDB4MDAxRikgfHwgY29kZVVuaXQgPT0gMHgwMDdGIHx8XG5cdFx0XHRcdC8vIElmIHRoZSBjaGFyYWN0ZXIgaXMgdGhlIGZpcnN0IGNoYXJhY3RlciBhbmQgaXMgaW4gdGhlIHJhbmdlIFswLTldXG5cdFx0XHRcdC8vIChVKzAwMzAgdG8gVSswMDM5KSwgW+KApl1cblx0XHRcdFx0KGluZGV4ID09IDAgJiYgY29kZVVuaXQgPj0gMHgwMDMwICYmIGNvZGVVbml0IDw9IDB4MDAzOSkgfHxcblx0XHRcdFx0Ly8gSWYgdGhlIGNoYXJhY3RlciBpcyB0aGUgc2Vjb25kIGNoYXJhY3RlciBhbmQgaXMgaW4gdGhlIHJhbmdlIFswLTldXG5cdFx0XHRcdC8vIChVKzAwMzAgdG8gVSswMDM5KSBhbmQgdGhlIGZpcnN0IGNoYXJhY3RlciBpcyBhIGAtYCAoVSswMDJEKSwgW+KApl1cblx0XHRcdFx0KFxuXHRcdFx0XHRcdGluZGV4ID09IDEgJiZcblx0XHRcdFx0XHRjb2RlVW5pdCA+PSAweDAwMzAgJiYgY29kZVVuaXQgPD0gMHgwMDM5ICYmXG5cdFx0XHRcdFx0Zmlyc3RDb2RlVW5pdCA9PSAweDAwMkRcblx0XHRcdFx0KVxuXHRcdFx0KSB7XG5cdFx0XHRcdC8vIGh0dHBzOi8vZHJhZnRzLmNzc3dnLm9yZy9jc3NvbS8jZXNjYXBlLWEtY2hhcmFjdGVyLWFzLWNvZGUtcG9pbnRcblx0XHRcdFx0cmVzdWx0ICs9ICdcXFxcJyArIGNvZGVVbml0LnRvU3RyaW5nKDE2KSArICcgJztcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChcblx0XHRcdFx0Ly8gSWYgdGhlIGNoYXJhY3RlciBpcyB0aGUgZmlyc3QgY2hhcmFjdGVyIGFuZCBpcyBhIGAtYCAoVSswMDJEKSwgYW5kXG5cdFx0XHRcdC8vIHRoZXJlIGlzIG5vIHNlY29uZCBjaGFyYWN0ZXIsIFvigKZdXG5cdFx0XHRcdGluZGV4ID09IDAgJiZcblx0XHRcdFx0bGVuZ3RoID09IDEgJiZcblx0XHRcdFx0Y29kZVVuaXQgPT0gMHgwMDJEXG5cdFx0XHQpIHtcblx0XHRcdFx0cmVzdWx0ICs9ICdcXFxcJyArIHN0cmluZy5jaGFyQXQoaW5kZXgpO1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gSWYgdGhlIGNoYXJhY3RlciBpcyBub3QgaGFuZGxlZCBieSBvbmUgb2YgdGhlIGFib3ZlIHJ1bGVzIGFuZCBpc1xuXHRcdFx0Ly8gZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIFUrMDA4MCwgaXMgYC1gIChVKzAwMkQpIG9yIGBfYCAoVSswMDVGKSwgb3Jcblx0XHRcdC8vIGlzIGluIG9uZSBvZiB0aGUgcmFuZ2VzIFswLTldIChVKzAwMzAgdG8gVSswMDM5KSwgW0EtWl0gKFUrMDA0MSB0b1xuXHRcdFx0Ly8gVSswMDVBKSwgb3IgW2Etel0gKFUrMDA2MSB0byBVKzAwN0EpLCBb4oCmXVxuXHRcdFx0aWYgKFxuXHRcdFx0XHRjb2RlVW5pdCA+PSAweDAwODAgfHxcblx0XHRcdFx0Y29kZVVuaXQgPT0gMHgwMDJEIHx8XG5cdFx0XHRcdGNvZGVVbml0ID09IDB4MDA1RiB8fFxuXHRcdFx0XHRjb2RlVW5pdCA+PSAweDAwMzAgJiYgY29kZVVuaXQgPD0gMHgwMDM5IHx8XG5cdFx0XHRcdGNvZGVVbml0ID49IDB4MDA0MSAmJiBjb2RlVW5pdCA8PSAweDAwNUEgfHxcblx0XHRcdFx0Y29kZVVuaXQgPj0gMHgwMDYxICYmIGNvZGVVbml0IDw9IDB4MDA3QVxuXHRcdFx0KSB7XG5cdFx0XHRcdC8vIHRoZSBjaGFyYWN0ZXIgaXRzZWxmXG5cdFx0XHRcdHJlc3VsdCArPSBzdHJpbmcuY2hhckF0KGluZGV4KTtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdC8vIE90aGVyd2lzZSwgdGhlIGVzY2FwZWQgY2hhcmFjdGVyLlxuXHRcdFx0Ly8gaHR0cHM6Ly9kcmFmdHMuY3Nzd2cub3JnL2Nzc29tLyNlc2NhcGUtYS1jaGFyYWN0ZXJcblx0XHRcdHJlc3VsdCArPSAnXFxcXCcgKyBzdHJpbmcuY2hhckF0KGluZGV4KTtcblxuXHRcdH1cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9O1xuXG5cdGlmICghcm9vdC5DU1MpIHtcblx0XHRyb290LkNTUyA9IHt9O1xuXHR9XG5cblx0cm9vdC5DU1MuZXNjYXBlID0gY3NzRXNjYXBlO1xuXHRyZXR1cm4gY3NzRXNjYXBlO1xuXG59KSk7XG4iLCIvKiEgSGFtbWVyLkpTIC0gdjIuMC43IC0gMjAxNi0wNC0yMlxuICogaHR0cDovL2hhbW1lcmpzLmdpdGh1Yi5pby9cbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTYgSm9yaWsgVGFuZ2VsZGVyO1xuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlICovXG4oZnVuY3Rpb24od2luZG93LCBkb2N1bWVudCwgZXhwb3J0TmFtZSwgdW5kZWZpbmVkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxudmFyIFZFTkRPUl9QUkVGSVhFUyA9IFsnJywgJ3dlYmtpdCcsICdNb3onLCAnTVMnLCAnbXMnLCAnbyddO1xudmFyIFRFU1RfRUxFTUVOVCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG52YXIgVFlQRV9GVU5DVElPTiA9ICdmdW5jdGlvbic7XG5cbnZhciByb3VuZCA9IE1hdGgucm91bmQ7XG52YXIgYWJzID0gTWF0aC5hYnM7XG52YXIgbm93ID0gRGF0ZS5ub3c7XG5cbi8qKlxuICogc2V0IGEgdGltZW91dCB3aXRoIGEgZ2l2ZW4gc2NvcGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gKiBAcGFyYW0ge051bWJlcn0gdGltZW91dFxuICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHRcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cbmZ1bmN0aW9uIHNldFRpbWVvdXRDb250ZXh0KGZuLCB0aW1lb3V0LCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIHNldFRpbWVvdXQoYmluZEZuKGZuLCBjb250ZXh0KSwgdGltZW91dCk7XG59XG5cbi8qKlxuICogaWYgdGhlIGFyZ3VtZW50IGlzIGFuIGFycmF5LCB3ZSB3YW50IHRvIGV4ZWN1dGUgdGhlIGZuIG9uIGVhY2ggZW50cnlcbiAqIGlmIGl0IGFpbnQgYW4gYXJyYXkgd2UgZG9uJ3Qgd2FudCB0byBkbyBhIHRoaW5nLlxuICogdGhpcyBpcyB1c2VkIGJ5IGFsbCB0aGUgbWV0aG9kcyB0aGF0IGFjY2VwdCBhIHNpbmdsZSBhbmQgYXJyYXkgYXJndW1lbnQuXG4gKiBAcGFyYW0geyp8QXJyYXl9IGFyZ1xuICogQHBhcmFtIHtTdHJpbmd9IGZuXG4gKiBAcGFyYW0ge09iamVjdH0gW2NvbnRleHRdXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaW52b2tlQXJyYXlBcmcoYXJnLCBmbiwgY29udGV4dCkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGFyZykpIHtcbiAgICAgICAgZWFjaChhcmcsIGNvbnRleHRbZm5dLCBjb250ZXh0KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiB3YWxrIG9iamVjdHMgYW5kIGFycmF5c1xuICogQHBhcmFtIHtPYmplY3R9IG9ialxuICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0b3JcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb250ZXh0XG4gKi9cbmZ1bmN0aW9uIGVhY2gob2JqLCBpdGVyYXRvciwgY29udGV4dCkge1xuICAgIHZhciBpO1xuXG4gICAgaWYgKCFvYmopIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChvYmouZm9yRWFjaCkge1xuICAgICAgICBvYmouZm9yRWFjaChpdGVyYXRvciwgY29udGV4dCk7XG4gICAgfSBlbHNlIGlmIChvYmoubGVuZ3RoICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaSA9IDA7XG4gICAgICAgIHdoaWxlIChpIDwgb2JqLmxlbmd0aCkge1xuICAgICAgICAgICAgaXRlcmF0b3IuY2FsbChjb250ZXh0LCBvYmpbaV0sIGksIG9iaik7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKGkgaW4gb2JqKSB7XG4gICAgICAgICAgICBvYmouaGFzT3duUHJvcGVydHkoaSkgJiYgaXRlcmF0b3IuY2FsbChjb250ZXh0LCBvYmpbaV0sIGksIG9iaik7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogd3JhcCBhIG1ldGhvZCB3aXRoIGEgZGVwcmVjYXRpb24gd2FybmluZyBhbmQgc3RhY2sgdHJhY2VcbiAqIEBwYXJhbSB7RnVuY3Rpb259IG1ldGhvZFxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVcbiAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IEEgbmV3IGZ1bmN0aW9uIHdyYXBwaW5nIHRoZSBzdXBwbGllZCBtZXRob2QuXG4gKi9cbmZ1bmN0aW9uIGRlcHJlY2F0ZShtZXRob2QsIG5hbWUsIG1lc3NhZ2UpIHtcbiAgICB2YXIgZGVwcmVjYXRpb25NZXNzYWdlID0gJ0RFUFJFQ0FURUQgTUVUSE9EOiAnICsgbmFtZSArICdcXG4nICsgbWVzc2FnZSArICcgQVQgXFxuJztcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBlID0gbmV3IEVycm9yKCdnZXQtc3RhY2stdHJhY2UnKTtcbiAgICAgICAgdmFyIHN0YWNrID0gZSAmJiBlLnN0YWNrID8gZS5zdGFjay5yZXBsYWNlKC9eW15cXChdKz9bXFxuJF0vZ20sICcnKVxuICAgICAgICAgICAgLnJlcGxhY2UoL15cXHMrYXRcXHMrL2dtLCAnJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC9eT2JqZWN0Ljxhbm9ueW1vdXM+XFxzKlxcKC9nbSwgJ3thbm9ueW1vdXN9KClAJykgOiAnVW5rbm93biBTdGFjayBUcmFjZSc7XG5cbiAgICAgICAgdmFyIGxvZyA9IHdpbmRvdy5jb25zb2xlICYmICh3aW5kb3cuY29uc29sZS53YXJuIHx8IHdpbmRvdy5jb25zb2xlLmxvZyk7XG4gICAgICAgIGlmIChsb2cpIHtcbiAgICAgICAgICAgIGxvZy5jYWxsKHdpbmRvdy5jb25zb2xlLCBkZXByZWNhdGlvbk1lc3NhZ2UsIHN0YWNrKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWV0aG9kLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcbn1cblxuLyoqXG4gKiBleHRlbmQgb2JqZWN0LlxuICogbWVhbnMgdGhhdCBwcm9wZXJ0aWVzIGluIGRlc3Qgd2lsbCBiZSBvdmVyd3JpdHRlbiBieSB0aGUgb25lcyBpbiBzcmMuXG4gKiBAcGFyYW0ge09iamVjdH0gdGFyZ2V0XG4gKiBAcGFyYW0gey4uLk9iamVjdH0gb2JqZWN0c190b19hc3NpZ25cbiAqIEByZXR1cm5zIHtPYmplY3R9IHRhcmdldFxuICovXG52YXIgYXNzaWduO1xuaWYgKHR5cGVvZiBPYmplY3QuYXNzaWduICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgYXNzaWduID0gZnVuY3Rpb24gYXNzaWduKHRhcmdldCkge1xuICAgICAgICBpZiAodGFyZ2V0ID09PSB1bmRlZmluZWQgfHwgdGFyZ2V0ID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY29udmVydCB1bmRlZmluZWQgb3IgbnVsbCB0byBvYmplY3QnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBvdXRwdXQgPSBPYmplY3QodGFyZ2V0KTtcbiAgICAgICAgZm9yICh2YXIgaW5kZXggPSAxOyBpbmRleCA8IGFyZ3VtZW50cy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaW5kZXhdO1xuICAgICAgICAgICAgaWYgKHNvdXJjZSAhPT0gdW5kZWZpbmVkICYmIHNvdXJjZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIG5leHRLZXkgaW4gc291cmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzb3VyY2UuaGFzT3duUHJvcGVydHkobmV4dEtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dFtuZXh0S2V5XSA9IHNvdXJjZVtuZXh0S2V5XTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgIH07XG59IGVsc2Uge1xuICAgIGFzc2lnbiA9IE9iamVjdC5hc3NpZ247XG59XG5cbi8qKlxuICogZXh0ZW5kIG9iamVjdC5cbiAqIG1lYW5zIHRoYXQgcHJvcGVydGllcyBpbiBkZXN0IHdpbGwgYmUgb3ZlcndyaXR0ZW4gYnkgdGhlIG9uZXMgaW4gc3JjLlxuICogQHBhcmFtIHtPYmplY3R9IGRlc3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBzcmNcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW21lcmdlPWZhbHNlXVxuICogQHJldHVybnMge09iamVjdH0gZGVzdFxuICovXG52YXIgZXh0ZW5kID0gZGVwcmVjYXRlKGZ1bmN0aW9uIGV4dGVuZChkZXN0LCBzcmMsIG1lcmdlKSB7XG4gICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhzcmMpO1xuICAgIHZhciBpID0gMDtcbiAgICB3aGlsZSAoaSA8IGtleXMubGVuZ3RoKSB7XG4gICAgICAgIGlmICghbWVyZ2UgfHwgKG1lcmdlICYmIGRlc3Rba2V5c1tpXV0gPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgICAgIGRlc3Rba2V5c1tpXV0gPSBzcmNba2V5c1tpXV07XG4gICAgICAgIH1cbiAgICAgICAgaSsrO1xuICAgIH1cbiAgICByZXR1cm4gZGVzdDtcbn0sICdleHRlbmQnLCAnVXNlIGBhc3NpZ25gLicpO1xuXG4vKipcbiAqIG1lcmdlIHRoZSB2YWx1ZXMgZnJvbSBzcmMgaW4gdGhlIGRlc3QuXG4gKiBtZWFucyB0aGF0IHByb3BlcnRpZXMgdGhhdCBleGlzdCBpbiBkZXN0IHdpbGwgbm90IGJlIG92ZXJ3cml0dGVuIGJ5IHNyY1xuICogQHBhcmFtIHtPYmplY3R9IGRlc3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBzcmNcbiAqIEByZXR1cm5zIHtPYmplY3R9IGRlc3RcbiAqL1xudmFyIG1lcmdlID0gZGVwcmVjYXRlKGZ1bmN0aW9uIG1lcmdlKGRlc3QsIHNyYykge1xuICAgIHJldHVybiBleHRlbmQoZGVzdCwgc3JjLCB0cnVlKTtcbn0sICdtZXJnZScsICdVc2UgYGFzc2lnbmAuJyk7XG5cbi8qKlxuICogc2ltcGxlIGNsYXNzIGluaGVyaXRhbmNlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjaGlsZFxuICogQHBhcmFtIHtGdW5jdGlvbn0gYmFzZVxuICogQHBhcmFtIHtPYmplY3R9IFtwcm9wZXJ0aWVzXVxuICovXG5mdW5jdGlvbiBpbmhlcml0KGNoaWxkLCBiYXNlLCBwcm9wZXJ0aWVzKSB7XG4gICAgdmFyIGJhc2VQID0gYmFzZS5wcm90b3R5cGUsXG4gICAgICAgIGNoaWxkUDtcblxuICAgIGNoaWxkUCA9IGNoaWxkLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoYmFzZVApO1xuICAgIGNoaWxkUC5jb25zdHJ1Y3RvciA9IGNoaWxkO1xuICAgIGNoaWxkUC5fc3VwZXIgPSBiYXNlUDtcblxuICAgIGlmIChwcm9wZXJ0aWVzKSB7XG4gICAgICAgIGFzc2lnbihjaGlsZFAsIHByb3BlcnRpZXMpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBzaW1wbGUgZnVuY3Rpb24gYmluZFxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAqIEBwYXJhbSB7T2JqZWN0fSBjb250ZXh0XG4gKiBAcmV0dXJucyB7RnVuY3Rpb259XG4gKi9cbmZ1bmN0aW9uIGJpbmRGbihmbiwgY29udGV4dCkge1xuICAgIHJldHVybiBmdW5jdGlvbiBib3VuZEZuKCkge1xuICAgICAgICByZXR1cm4gZm4uYXBwbHkoY29udGV4dCwgYXJndW1lbnRzKTtcbiAgICB9O1xufVxuXG4vKipcbiAqIGxldCBhIGJvb2xlYW4gdmFsdWUgYWxzbyBiZSBhIGZ1bmN0aW9uIHRoYXQgbXVzdCByZXR1cm4gYSBib29sZWFuXG4gKiB0aGlzIGZpcnN0IGl0ZW0gaW4gYXJncyB3aWxsIGJlIHVzZWQgYXMgdGhlIGNvbnRleHRcbiAqIEBwYXJhbSB7Qm9vbGVhbnxGdW5jdGlvbn0gdmFsXG4gKiBAcGFyYW0ge0FycmF5fSBbYXJnc11cbiAqIEByZXR1cm5zIHtCb29sZWFufVxuICovXG5mdW5jdGlvbiBib29sT3JGbih2YWwsIGFyZ3MpIHtcbiAgICBpZiAodHlwZW9mIHZhbCA9PSBUWVBFX0ZVTkNUSU9OKSB7XG4gICAgICAgIHJldHVybiB2YWwuYXBwbHkoYXJncyA/IGFyZ3NbMF0gfHwgdW5kZWZpbmVkIDogdW5kZWZpbmVkLCBhcmdzKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbDtcbn1cblxuLyoqXG4gKiB1c2UgdGhlIHZhbDIgd2hlbiB2YWwxIGlzIHVuZGVmaW5lZFxuICogQHBhcmFtIHsqfSB2YWwxXG4gKiBAcGFyYW0geyp9IHZhbDJcbiAqIEByZXR1cm5zIHsqfVxuICovXG5mdW5jdGlvbiBpZlVuZGVmaW5lZCh2YWwxLCB2YWwyKSB7XG4gICAgcmV0dXJuICh2YWwxID09PSB1bmRlZmluZWQpID8gdmFsMiA6IHZhbDE7XG59XG5cbi8qKlxuICogYWRkRXZlbnRMaXN0ZW5lciB3aXRoIG11bHRpcGxlIGV2ZW50cyBhdCBvbmNlXG4gKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fSB0YXJnZXRcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlc1xuICogQHBhcmFtIHtGdW5jdGlvbn0gaGFuZGxlclxuICovXG5mdW5jdGlvbiBhZGRFdmVudExpc3RlbmVycyh0YXJnZXQsIHR5cGVzLCBoYW5kbGVyKSB7XG4gICAgZWFjaChzcGxpdFN0cih0eXBlcyksIGZ1bmN0aW9uKHR5cGUpIHtcbiAgICAgICAgdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgaGFuZGxlciwgZmFsc2UpO1xuICAgIH0pO1xufVxuXG4vKipcbiAqIHJlbW92ZUV2ZW50TGlzdGVuZXIgd2l0aCBtdWx0aXBsZSBldmVudHMgYXQgb25jZVxuICogQHBhcmFtIHtFdmVudFRhcmdldH0gdGFyZ2V0XG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZXNcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGhhbmRsZXJcbiAqL1xuZnVuY3Rpb24gcmVtb3ZlRXZlbnRMaXN0ZW5lcnModGFyZ2V0LCB0eXBlcywgaGFuZGxlcikge1xuICAgIGVhY2goc3BsaXRTdHIodHlwZXMpLCBmdW5jdGlvbih0eXBlKSB7XG4gICAgICAgIHRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGhhbmRsZXIsIGZhbHNlKTtcbiAgICB9KTtcbn1cblxuLyoqXG4gKiBmaW5kIGlmIGEgbm9kZSBpcyBpbiB0aGUgZ2l2ZW4gcGFyZW50XG4gKiBAbWV0aG9kIGhhc1BhcmVudFxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gbm9kZVxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gcGFyZW50XG4gKiBAcmV0dXJuIHtCb29sZWFufSBmb3VuZFxuICovXG5mdW5jdGlvbiBoYXNQYXJlbnQobm9kZSwgcGFyZW50KSB7XG4gICAgd2hpbGUgKG5vZGUpIHtcbiAgICAgICAgaWYgKG5vZGUgPT0gcGFyZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBub2RlID0gbm9kZS5wYXJlbnROb2RlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogc21hbGwgaW5kZXhPZiB3cmFwcGVyXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gKiBAcGFyYW0ge1N0cmluZ30gZmluZFxuICogQHJldHVybnMge0Jvb2xlYW59IGZvdW5kXG4gKi9cbmZ1bmN0aW9uIGluU3RyKHN0ciwgZmluZCkge1xuICAgIHJldHVybiBzdHIuaW5kZXhPZihmaW5kKSA+IC0xO1xufVxuXG4vKipcbiAqIHNwbGl0IHN0cmluZyBvbiB3aGl0ZXNwYWNlXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gKiBAcmV0dXJucyB7QXJyYXl9IHdvcmRzXG4gKi9cbmZ1bmN0aW9uIHNwbGl0U3RyKHN0cikge1xuICAgIHJldHVybiBzdHIudHJpbSgpLnNwbGl0KC9cXHMrL2cpO1xufVxuXG4vKipcbiAqIGZpbmQgaWYgYSBhcnJheSBjb250YWlucyB0aGUgb2JqZWN0IHVzaW5nIGluZGV4T2Ygb3IgYSBzaW1wbGUgcG9seUZpbGxcbiAqIEBwYXJhbSB7QXJyYXl9IHNyY1xuICogQHBhcmFtIHtTdHJpbmd9IGZpbmRcbiAqIEBwYXJhbSB7U3RyaW5nfSBbZmluZEJ5S2V5XVxuICogQHJldHVybiB7Qm9vbGVhbnxOdW1iZXJ9IGZhbHNlIHdoZW4gbm90IGZvdW5kLCBvciB0aGUgaW5kZXhcbiAqL1xuZnVuY3Rpb24gaW5BcnJheShzcmMsIGZpbmQsIGZpbmRCeUtleSkge1xuICAgIGlmIChzcmMuaW5kZXhPZiAmJiAhZmluZEJ5S2V5KSB7XG4gICAgICAgIHJldHVybiBzcmMuaW5kZXhPZihmaW5kKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHdoaWxlIChpIDwgc3JjLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKChmaW5kQnlLZXkgJiYgc3JjW2ldW2ZpbmRCeUtleV0gPT0gZmluZCkgfHwgKCFmaW5kQnlLZXkgJiYgc3JjW2ldID09PSBmaW5kKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9XG59XG5cbi8qKlxuICogY29udmVydCBhcnJheS1saWtlIG9iamVjdHMgdG8gcmVhbCBhcnJheXNcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcbiAqIEByZXR1cm5zIHtBcnJheX1cbiAqL1xuZnVuY3Rpb24gdG9BcnJheShvYmopIHtcbiAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwob2JqLCAwKTtcbn1cblxuLyoqXG4gKiB1bmlxdWUgYXJyYXkgd2l0aCBvYmplY3RzIGJhc2VkIG9uIGEga2V5IChsaWtlICdpZCcpIG9yIGp1c3QgYnkgdGhlIGFycmF5J3MgdmFsdWVcbiAqIEBwYXJhbSB7QXJyYXl9IHNyYyBbe2lkOjF9LHtpZDoyfSx7aWQ6MX1dXG4gKiBAcGFyYW0ge1N0cmluZ30gW2tleV1cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW3NvcnQ9RmFsc2VdXG4gKiBAcmV0dXJucyB7QXJyYXl9IFt7aWQ6MX0se2lkOjJ9XVxuICovXG5mdW5jdGlvbiB1bmlxdWVBcnJheShzcmMsIGtleSwgc29ydCkge1xuICAgIHZhciByZXN1bHRzID0gW107XG4gICAgdmFyIHZhbHVlcyA9IFtdO1xuICAgIHZhciBpID0gMDtcblxuICAgIHdoaWxlIChpIDwgc3JjLmxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsID0ga2V5ID8gc3JjW2ldW2tleV0gOiBzcmNbaV07XG4gICAgICAgIGlmIChpbkFycmF5KHZhbHVlcywgdmFsKSA8IDApIHtcbiAgICAgICAgICAgIHJlc3VsdHMucHVzaChzcmNbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHZhbHVlc1tpXSA9IHZhbDtcbiAgICAgICAgaSsrO1xuICAgIH1cblxuICAgIGlmIChzb3J0KSB7XG4gICAgICAgIGlmICgha2V5KSB7XG4gICAgICAgICAgICByZXN1bHRzID0gcmVzdWx0cy5zb3J0KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXN1bHRzID0gcmVzdWx0cy5zb3J0KGZ1bmN0aW9uIHNvcnRVbmlxdWVBcnJheShhLCBiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFba2V5XSA+IGJba2V5XTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdHM7XG59XG5cbi8qKlxuICogZ2V0IHRoZSBwcmVmaXhlZCBwcm9wZXJ0eVxuICogQHBhcmFtIHtPYmplY3R9IG9ialxuICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnR5XG4gKiBAcmV0dXJucyB7U3RyaW5nfFVuZGVmaW5lZH0gcHJlZml4ZWRcbiAqL1xuZnVuY3Rpb24gcHJlZml4ZWQob2JqLCBwcm9wZXJ0eSkge1xuICAgIHZhciBwcmVmaXgsIHByb3A7XG4gICAgdmFyIGNhbWVsUHJvcCA9IHByb3BlcnR5WzBdLnRvVXBwZXJDYXNlKCkgKyBwcm9wZXJ0eS5zbGljZSgxKTtcblxuICAgIHZhciBpID0gMDtcbiAgICB3aGlsZSAoaSA8IFZFTkRPUl9QUkVGSVhFUy5sZW5ndGgpIHtcbiAgICAgICAgcHJlZml4ID0gVkVORE9SX1BSRUZJWEVTW2ldO1xuICAgICAgICBwcm9wID0gKHByZWZpeCkgPyBwcmVmaXggKyBjYW1lbFByb3AgOiBwcm9wZXJ0eTtcblxuICAgICAgICBpZiAocHJvcCBpbiBvYmopIHtcbiAgICAgICAgICAgIHJldHVybiBwcm9wO1xuICAgICAgICB9XG4gICAgICAgIGkrKztcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBnZXQgYSB1bmlxdWUgaWRcbiAqIEByZXR1cm5zIHtudW1iZXJ9IHVuaXF1ZUlkXG4gKi9cbnZhciBfdW5pcXVlSWQgPSAxO1xuZnVuY3Rpb24gdW5pcXVlSWQoKSB7XG4gICAgcmV0dXJuIF91bmlxdWVJZCsrO1xufVxuXG4vKipcbiAqIGdldCB0aGUgd2luZG93IG9iamVjdCBvZiBhbiBlbGVtZW50XG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50XG4gKiBAcmV0dXJucyB7RG9jdW1lbnRWaWV3fFdpbmRvd31cbiAqL1xuZnVuY3Rpb24gZ2V0V2luZG93Rm9yRWxlbWVudChlbGVtZW50KSB7XG4gICAgdmFyIGRvYyA9IGVsZW1lbnQub3duZXJEb2N1bWVudCB8fCBlbGVtZW50O1xuICAgIHJldHVybiAoZG9jLmRlZmF1bHRWaWV3IHx8IGRvYy5wYXJlbnRXaW5kb3cgfHwgd2luZG93KTtcbn1cblxudmFyIE1PQklMRV9SRUdFWCA9IC9tb2JpbGV8dGFibGV0fGlwKGFkfGhvbmV8b2QpfGFuZHJvaWQvaTtcblxudmFyIFNVUFBPUlRfVE9VQ0ggPSAoJ29udG91Y2hzdGFydCcgaW4gd2luZG93KTtcbnZhciBTVVBQT1JUX1BPSU5URVJfRVZFTlRTID0gcHJlZml4ZWQod2luZG93LCAnUG9pbnRlckV2ZW50JykgIT09IHVuZGVmaW5lZDtcbnZhciBTVVBQT1JUX09OTFlfVE9VQ0ggPSBTVVBQT1JUX1RPVUNIICYmIE1PQklMRV9SRUdFWC50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuXG52YXIgSU5QVVRfVFlQRV9UT1VDSCA9ICd0b3VjaCc7XG52YXIgSU5QVVRfVFlQRV9QRU4gPSAncGVuJztcbnZhciBJTlBVVF9UWVBFX01PVVNFID0gJ21vdXNlJztcbnZhciBJTlBVVF9UWVBFX0tJTkVDVCA9ICdraW5lY3QnO1xuXG52YXIgQ09NUFVURV9JTlRFUlZBTCA9IDI1O1xuXG52YXIgSU5QVVRfU1RBUlQgPSAxO1xudmFyIElOUFVUX01PVkUgPSAyO1xudmFyIElOUFVUX0VORCA9IDQ7XG52YXIgSU5QVVRfQ0FOQ0VMID0gODtcblxudmFyIERJUkVDVElPTl9OT05FID0gMTtcbnZhciBESVJFQ1RJT05fTEVGVCA9IDI7XG52YXIgRElSRUNUSU9OX1JJR0hUID0gNDtcbnZhciBESVJFQ1RJT05fVVAgPSA4O1xudmFyIERJUkVDVElPTl9ET1dOID0gMTY7XG5cbnZhciBESVJFQ1RJT05fSE9SSVpPTlRBTCA9IERJUkVDVElPTl9MRUZUIHwgRElSRUNUSU9OX1JJR0hUO1xudmFyIERJUkVDVElPTl9WRVJUSUNBTCA9IERJUkVDVElPTl9VUCB8IERJUkVDVElPTl9ET1dOO1xudmFyIERJUkVDVElPTl9BTEwgPSBESVJFQ1RJT05fSE9SSVpPTlRBTCB8IERJUkVDVElPTl9WRVJUSUNBTDtcblxudmFyIFBST1BTX1hZID0gWyd4JywgJ3knXTtcbnZhciBQUk9QU19DTElFTlRfWFkgPSBbJ2NsaWVudFgnLCAnY2xpZW50WSddO1xuXG4vKipcbiAqIGNyZWF0ZSBuZXcgaW5wdXQgdHlwZSBtYW5hZ2VyXG4gKiBAcGFyYW0ge01hbmFnZXJ9IG1hbmFnZXJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gKiBAcmV0dXJucyB7SW5wdXR9XG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gSW5wdXQobWFuYWdlciwgY2FsbGJhY2spIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdGhpcy5tYW5hZ2VyID0gbWFuYWdlcjtcbiAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgdGhpcy5lbGVtZW50ID0gbWFuYWdlci5lbGVtZW50O1xuICAgIHRoaXMudGFyZ2V0ID0gbWFuYWdlci5vcHRpb25zLmlucHV0VGFyZ2V0O1xuXG4gICAgLy8gc21hbGxlciB3cmFwcGVyIGFyb3VuZCB0aGUgaGFuZGxlciwgZm9yIHRoZSBzY29wZSBhbmQgdGhlIGVuYWJsZWQgc3RhdGUgb2YgdGhlIG1hbmFnZXIsXG4gICAgLy8gc28gd2hlbiBkaXNhYmxlZCB0aGUgaW5wdXQgZXZlbnRzIGFyZSBjb21wbGV0ZWx5IGJ5cGFzc2VkLlxuICAgIHRoaXMuZG9tSGFuZGxlciA9IGZ1bmN0aW9uKGV2KSB7XG4gICAgICAgIGlmIChib29sT3JGbihtYW5hZ2VyLm9wdGlvbnMuZW5hYmxlLCBbbWFuYWdlcl0pKSB7XG4gICAgICAgICAgICBzZWxmLmhhbmRsZXIoZXYpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuaW5pdCgpO1xuXG59XG5cbklucHV0LnByb3RvdHlwZSA9IHtcbiAgICAvKipcbiAgICAgKiBzaG91bGQgaGFuZGxlIHRoZSBpbnB1dEV2ZW50IGRhdGEgYW5kIHRyaWdnZXIgdGhlIGNhbGxiYWNrXG4gICAgICogQHZpcnR1YWxcbiAgICAgKi9cbiAgICBoYW5kbGVyOiBmdW5jdGlvbigpIHsgfSxcblxuICAgIC8qKlxuICAgICAqIGJpbmQgdGhlIGV2ZW50c1xuICAgICAqL1xuICAgIGluaXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLmV2RWwgJiYgYWRkRXZlbnRMaXN0ZW5lcnModGhpcy5lbGVtZW50LCB0aGlzLmV2RWwsIHRoaXMuZG9tSGFuZGxlcik7XG4gICAgICAgIHRoaXMuZXZUYXJnZXQgJiYgYWRkRXZlbnRMaXN0ZW5lcnModGhpcy50YXJnZXQsIHRoaXMuZXZUYXJnZXQsIHRoaXMuZG9tSGFuZGxlcik7XG4gICAgICAgIHRoaXMuZXZXaW4gJiYgYWRkRXZlbnRMaXN0ZW5lcnMoZ2V0V2luZG93Rm9yRWxlbWVudCh0aGlzLmVsZW1lbnQpLCB0aGlzLmV2V2luLCB0aGlzLmRvbUhhbmRsZXIpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiB1bmJpbmQgdGhlIGV2ZW50c1xuICAgICAqL1xuICAgIGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLmV2RWwgJiYgcmVtb3ZlRXZlbnRMaXN0ZW5lcnModGhpcy5lbGVtZW50LCB0aGlzLmV2RWwsIHRoaXMuZG9tSGFuZGxlcik7XG4gICAgICAgIHRoaXMuZXZUYXJnZXQgJiYgcmVtb3ZlRXZlbnRMaXN0ZW5lcnModGhpcy50YXJnZXQsIHRoaXMuZXZUYXJnZXQsIHRoaXMuZG9tSGFuZGxlcik7XG4gICAgICAgIHRoaXMuZXZXaW4gJiYgcmVtb3ZlRXZlbnRMaXN0ZW5lcnMoZ2V0V2luZG93Rm9yRWxlbWVudCh0aGlzLmVsZW1lbnQpLCB0aGlzLmV2V2luLCB0aGlzLmRvbUhhbmRsZXIpO1xuICAgIH1cbn07XG5cbi8qKlxuICogY3JlYXRlIG5ldyBpbnB1dCB0eXBlIG1hbmFnZXJcbiAqIGNhbGxlZCBieSB0aGUgTWFuYWdlciBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtIYW1tZXJ9IG1hbmFnZXJcbiAqIEByZXR1cm5zIHtJbnB1dH1cbiAqL1xuZnVuY3Rpb24gY3JlYXRlSW5wdXRJbnN0YW5jZShtYW5hZ2VyKSB7XG4gICAgdmFyIFR5cGU7XG4gICAgdmFyIGlucHV0Q2xhc3MgPSBtYW5hZ2VyLm9wdGlvbnMuaW5wdXRDbGFzcztcblxuICAgIGlmIChpbnB1dENsYXNzKSB7XG4gICAgICAgIFR5cGUgPSBpbnB1dENsYXNzO1xuICAgIH0gZWxzZSBpZiAoU1VQUE9SVF9QT0lOVEVSX0VWRU5UUykge1xuICAgICAgICBUeXBlID0gUG9pbnRlckV2ZW50SW5wdXQ7XG4gICAgfSBlbHNlIGlmIChTVVBQT1JUX09OTFlfVE9VQ0gpIHtcbiAgICAgICAgVHlwZSA9IFRvdWNoSW5wdXQ7XG4gICAgfSBlbHNlIGlmICghU1VQUE9SVF9UT1VDSCkge1xuICAgICAgICBUeXBlID0gTW91c2VJbnB1dDtcbiAgICB9IGVsc2Uge1xuICAgICAgICBUeXBlID0gVG91Y2hNb3VzZUlucHV0O1xuICAgIH1cbiAgICByZXR1cm4gbmV3IChUeXBlKShtYW5hZ2VyLCBpbnB1dEhhbmRsZXIpO1xufVxuXG4vKipcbiAqIGhhbmRsZSBpbnB1dCBldmVudHNcbiAqIEBwYXJhbSB7TWFuYWdlcn0gbWFuYWdlclxuICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50VHlwZVxuICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG4gKi9cbmZ1bmN0aW9uIGlucHV0SGFuZGxlcihtYW5hZ2VyLCBldmVudFR5cGUsIGlucHV0KSB7XG4gICAgdmFyIHBvaW50ZXJzTGVuID0gaW5wdXQucG9pbnRlcnMubGVuZ3RoO1xuICAgIHZhciBjaGFuZ2VkUG9pbnRlcnNMZW4gPSBpbnB1dC5jaGFuZ2VkUG9pbnRlcnMubGVuZ3RoO1xuICAgIHZhciBpc0ZpcnN0ID0gKGV2ZW50VHlwZSAmIElOUFVUX1NUQVJUICYmIChwb2ludGVyc0xlbiAtIGNoYW5nZWRQb2ludGVyc0xlbiA9PT0gMCkpO1xuICAgIHZhciBpc0ZpbmFsID0gKGV2ZW50VHlwZSAmIChJTlBVVF9FTkQgfCBJTlBVVF9DQU5DRUwpICYmIChwb2ludGVyc0xlbiAtIGNoYW5nZWRQb2ludGVyc0xlbiA9PT0gMCkpO1xuXG4gICAgaW5wdXQuaXNGaXJzdCA9ICEhaXNGaXJzdDtcbiAgICBpbnB1dC5pc0ZpbmFsID0gISFpc0ZpbmFsO1xuXG4gICAgaWYgKGlzRmlyc3QpIHtcbiAgICAgICAgbWFuYWdlci5zZXNzaW9uID0ge307XG4gICAgfVxuXG4gICAgLy8gc291cmNlIGV2ZW50IGlzIHRoZSBub3JtYWxpemVkIHZhbHVlIG9mIHRoZSBkb21FdmVudHNcbiAgICAvLyBsaWtlICd0b3VjaHN0YXJ0LCBtb3VzZXVwLCBwb2ludGVyZG93bidcbiAgICBpbnB1dC5ldmVudFR5cGUgPSBldmVudFR5cGU7XG5cbiAgICAvLyBjb21wdXRlIHNjYWxlLCByb3RhdGlvbiBldGNcbiAgICBjb21wdXRlSW5wdXREYXRhKG1hbmFnZXIsIGlucHV0KTtcblxuICAgIC8vIGVtaXQgc2VjcmV0IGV2ZW50XG4gICAgbWFuYWdlci5lbWl0KCdoYW1tZXIuaW5wdXQnLCBpbnB1dCk7XG5cbiAgICBtYW5hZ2VyLnJlY29nbml6ZShpbnB1dCk7XG4gICAgbWFuYWdlci5zZXNzaW9uLnByZXZJbnB1dCA9IGlucHV0O1xufVxuXG4vKipcbiAqIGV4dGVuZCB0aGUgZGF0YSB3aXRoIHNvbWUgdXNhYmxlIHByb3BlcnRpZXMgbGlrZSBzY2FsZSwgcm90YXRlLCB2ZWxvY2l0eSBldGNcbiAqIEBwYXJhbSB7T2JqZWN0fSBtYW5hZ2VyXG4gKiBAcGFyYW0ge09iamVjdH0gaW5wdXRcbiAqL1xuZnVuY3Rpb24gY29tcHV0ZUlucHV0RGF0YShtYW5hZ2VyLCBpbnB1dCkge1xuICAgIHZhciBzZXNzaW9uID0gbWFuYWdlci5zZXNzaW9uO1xuICAgIHZhciBwb2ludGVycyA9IGlucHV0LnBvaW50ZXJzO1xuICAgIHZhciBwb2ludGVyc0xlbmd0aCA9IHBvaW50ZXJzLmxlbmd0aDtcblxuICAgIC8vIHN0b3JlIHRoZSBmaXJzdCBpbnB1dCB0byBjYWxjdWxhdGUgdGhlIGRpc3RhbmNlIGFuZCBkaXJlY3Rpb25cbiAgICBpZiAoIXNlc3Npb24uZmlyc3RJbnB1dCkge1xuICAgICAgICBzZXNzaW9uLmZpcnN0SW5wdXQgPSBzaW1wbGVDbG9uZUlucHV0RGF0YShpbnB1dCk7XG4gICAgfVxuXG4gICAgLy8gdG8gY29tcHV0ZSBzY2FsZSBhbmQgcm90YXRpb24gd2UgbmVlZCB0byBzdG9yZSB0aGUgbXVsdGlwbGUgdG91Y2hlc1xuICAgIGlmIChwb2ludGVyc0xlbmd0aCA+IDEgJiYgIXNlc3Npb24uZmlyc3RNdWx0aXBsZSkge1xuICAgICAgICBzZXNzaW9uLmZpcnN0TXVsdGlwbGUgPSBzaW1wbGVDbG9uZUlucHV0RGF0YShpbnB1dCk7XG4gICAgfSBlbHNlIGlmIChwb2ludGVyc0xlbmd0aCA9PT0gMSkge1xuICAgICAgICBzZXNzaW9uLmZpcnN0TXVsdGlwbGUgPSBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgZmlyc3RJbnB1dCA9IHNlc3Npb24uZmlyc3RJbnB1dDtcbiAgICB2YXIgZmlyc3RNdWx0aXBsZSA9IHNlc3Npb24uZmlyc3RNdWx0aXBsZTtcbiAgICB2YXIgb2Zmc2V0Q2VudGVyID0gZmlyc3RNdWx0aXBsZSA/IGZpcnN0TXVsdGlwbGUuY2VudGVyIDogZmlyc3RJbnB1dC5jZW50ZXI7XG5cbiAgICB2YXIgY2VudGVyID0gaW5wdXQuY2VudGVyID0gZ2V0Q2VudGVyKHBvaW50ZXJzKTtcbiAgICBpbnB1dC50aW1lU3RhbXAgPSBub3coKTtcbiAgICBpbnB1dC5kZWx0YVRpbWUgPSBpbnB1dC50aW1lU3RhbXAgLSBmaXJzdElucHV0LnRpbWVTdGFtcDtcblxuICAgIGlucHV0LmFuZ2xlID0gZ2V0QW5nbGUob2Zmc2V0Q2VudGVyLCBjZW50ZXIpO1xuICAgIGlucHV0LmRpc3RhbmNlID0gZ2V0RGlzdGFuY2Uob2Zmc2V0Q2VudGVyLCBjZW50ZXIpO1xuXG4gICAgY29tcHV0ZURlbHRhWFkoc2Vzc2lvbiwgaW5wdXQpO1xuICAgIGlucHV0Lm9mZnNldERpcmVjdGlvbiA9IGdldERpcmVjdGlvbihpbnB1dC5kZWx0YVgsIGlucHV0LmRlbHRhWSk7XG5cbiAgICB2YXIgb3ZlcmFsbFZlbG9jaXR5ID0gZ2V0VmVsb2NpdHkoaW5wdXQuZGVsdGFUaW1lLCBpbnB1dC5kZWx0YVgsIGlucHV0LmRlbHRhWSk7XG4gICAgaW5wdXQub3ZlcmFsbFZlbG9jaXR5WCA9IG92ZXJhbGxWZWxvY2l0eS54O1xuICAgIGlucHV0Lm92ZXJhbGxWZWxvY2l0eVkgPSBvdmVyYWxsVmVsb2NpdHkueTtcbiAgICBpbnB1dC5vdmVyYWxsVmVsb2NpdHkgPSAoYWJzKG92ZXJhbGxWZWxvY2l0eS54KSA+IGFicyhvdmVyYWxsVmVsb2NpdHkueSkpID8gb3ZlcmFsbFZlbG9jaXR5LnggOiBvdmVyYWxsVmVsb2NpdHkueTtcblxuICAgIGlucHV0LnNjYWxlID0gZmlyc3RNdWx0aXBsZSA/IGdldFNjYWxlKGZpcnN0TXVsdGlwbGUucG9pbnRlcnMsIHBvaW50ZXJzKSA6IDE7XG4gICAgaW5wdXQucm90YXRpb24gPSBmaXJzdE11bHRpcGxlID8gZ2V0Um90YXRpb24oZmlyc3RNdWx0aXBsZS5wb2ludGVycywgcG9pbnRlcnMpIDogMDtcblxuICAgIGlucHV0Lm1heFBvaW50ZXJzID0gIXNlc3Npb24ucHJldklucHV0ID8gaW5wdXQucG9pbnRlcnMubGVuZ3RoIDogKChpbnB1dC5wb2ludGVycy5sZW5ndGggPlxuICAgICAgICBzZXNzaW9uLnByZXZJbnB1dC5tYXhQb2ludGVycykgPyBpbnB1dC5wb2ludGVycy5sZW5ndGggOiBzZXNzaW9uLnByZXZJbnB1dC5tYXhQb2ludGVycyk7XG5cbiAgICBjb21wdXRlSW50ZXJ2YWxJbnB1dERhdGEoc2Vzc2lvbiwgaW5wdXQpO1xuXG4gICAgLy8gZmluZCB0aGUgY29ycmVjdCB0YXJnZXRcbiAgICB2YXIgdGFyZ2V0ID0gbWFuYWdlci5lbGVtZW50O1xuICAgIGlmIChoYXNQYXJlbnQoaW5wdXQuc3JjRXZlbnQudGFyZ2V0LCB0YXJnZXQpKSB7XG4gICAgICAgIHRhcmdldCA9IGlucHV0LnNyY0V2ZW50LnRhcmdldDtcbiAgICB9XG4gICAgaW5wdXQudGFyZ2V0ID0gdGFyZ2V0O1xufVxuXG5mdW5jdGlvbiBjb21wdXRlRGVsdGFYWShzZXNzaW9uLCBpbnB1dCkge1xuICAgIHZhciBjZW50ZXIgPSBpbnB1dC5jZW50ZXI7XG4gICAgdmFyIG9mZnNldCA9IHNlc3Npb24ub2Zmc2V0RGVsdGEgfHwge307XG4gICAgdmFyIHByZXZEZWx0YSA9IHNlc3Npb24ucHJldkRlbHRhIHx8IHt9O1xuICAgIHZhciBwcmV2SW5wdXQgPSBzZXNzaW9uLnByZXZJbnB1dCB8fCB7fTtcblxuICAgIGlmIChpbnB1dC5ldmVudFR5cGUgPT09IElOUFVUX1NUQVJUIHx8IHByZXZJbnB1dC5ldmVudFR5cGUgPT09IElOUFVUX0VORCkge1xuICAgICAgICBwcmV2RGVsdGEgPSBzZXNzaW9uLnByZXZEZWx0YSA9IHtcbiAgICAgICAgICAgIHg6IHByZXZJbnB1dC5kZWx0YVggfHwgMCxcbiAgICAgICAgICAgIHk6IHByZXZJbnB1dC5kZWx0YVkgfHwgMFxuICAgICAgICB9O1xuXG4gICAgICAgIG9mZnNldCA9IHNlc3Npb24ub2Zmc2V0RGVsdGEgPSB7XG4gICAgICAgICAgICB4OiBjZW50ZXIueCxcbiAgICAgICAgICAgIHk6IGNlbnRlci55XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgaW5wdXQuZGVsdGFYID0gcHJldkRlbHRhLnggKyAoY2VudGVyLnggLSBvZmZzZXQueCk7XG4gICAgaW5wdXQuZGVsdGFZID0gcHJldkRlbHRhLnkgKyAoY2VudGVyLnkgLSBvZmZzZXQueSk7XG59XG5cbi8qKlxuICogdmVsb2NpdHkgaXMgY2FsY3VsYXRlZCBldmVyeSB4IG1zXG4gKiBAcGFyYW0ge09iamVjdH0gc2Vzc2lvblxuICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG4gKi9cbmZ1bmN0aW9uIGNvbXB1dGVJbnRlcnZhbElucHV0RGF0YShzZXNzaW9uLCBpbnB1dCkge1xuICAgIHZhciBsYXN0ID0gc2Vzc2lvbi5sYXN0SW50ZXJ2YWwgfHwgaW5wdXQsXG4gICAgICAgIGRlbHRhVGltZSA9IGlucHV0LnRpbWVTdGFtcCAtIGxhc3QudGltZVN0YW1wLFxuICAgICAgICB2ZWxvY2l0eSwgdmVsb2NpdHlYLCB2ZWxvY2l0eVksIGRpcmVjdGlvbjtcblxuICAgIGlmIChpbnB1dC5ldmVudFR5cGUgIT0gSU5QVVRfQ0FOQ0VMICYmIChkZWx0YVRpbWUgPiBDT01QVVRFX0lOVEVSVkFMIHx8IGxhc3QudmVsb2NpdHkgPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgdmFyIGRlbHRhWCA9IGlucHV0LmRlbHRhWCAtIGxhc3QuZGVsdGFYO1xuICAgICAgICB2YXIgZGVsdGFZID0gaW5wdXQuZGVsdGFZIC0gbGFzdC5kZWx0YVk7XG5cbiAgICAgICAgdmFyIHYgPSBnZXRWZWxvY2l0eShkZWx0YVRpbWUsIGRlbHRhWCwgZGVsdGFZKTtcbiAgICAgICAgdmVsb2NpdHlYID0gdi54O1xuICAgICAgICB2ZWxvY2l0eVkgPSB2Lnk7XG4gICAgICAgIHZlbG9jaXR5ID0gKGFicyh2LngpID4gYWJzKHYueSkpID8gdi54IDogdi55O1xuICAgICAgICBkaXJlY3Rpb24gPSBnZXREaXJlY3Rpb24oZGVsdGFYLCBkZWx0YVkpO1xuXG4gICAgICAgIHNlc3Npb24ubGFzdEludGVydmFsID0gaW5wdXQ7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gdXNlIGxhdGVzdCB2ZWxvY2l0eSBpbmZvIGlmIGl0IGRvZXNuJ3Qgb3ZlcnRha2UgYSBtaW5pbXVtIHBlcmlvZFxuICAgICAgICB2ZWxvY2l0eSA9IGxhc3QudmVsb2NpdHk7XG4gICAgICAgIHZlbG9jaXR5WCA9IGxhc3QudmVsb2NpdHlYO1xuICAgICAgICB2ZWxvY2l0eVkgPSBsYXN0LnZlbG9jaXR5WTtcbiAgICAgICAgZGlyZWN0aW9uID0gbGFzdC5kaXJlY3Rpb247XG4gICAgfVxuXG4gICAgaW5wdXQudmVsb2NpdHkgPSB2ZWxvY2l0eTtcbiAgICBpbnB1dC52ZWxvY2l0eVggPSB2ZWxvY2l0eVg7XG4gICAgaW5wdXQudmVsb2NpdHlZID0gdmVsb2NpdHlZO1xuICAgIGlucHV0LmRpcmVjdGlvbiA9IGRpcmVjdGlvbjtcbn1cblxuLyoqXG4gKiBjcmVhdGUgYSBzaW1wbGUgY2xvbmUgZnJvbSB0aGUgaW5wdXQgdXNlZCBmb3Igc3RvcmFnZSBvZiBmaXJzdElucHV0IGFuZCBmaXJzdE11bHRpcGxlXG4gKiBAcGFyYW0ge09iamVjdH0gaW5wdXRcbiAqIEByZXR1cm5zIHtPYmplY3R9IGNsb25lZElucHV0RGF0YVxuICovXG5mdW5jdGlvbiBzaW1wbGVDbG9uZUlucHV0RGF0YShpbnB1dCkge1xuICAgIC8vIG1ha2UgYSBzaW1wbGUgY29weSBvZiB0aGUgcG9pbnRlcnMgYmVjYXVzZSB3ZSB3aWxsIGdldCBhIHJlZmVyZW5jZSBpZiB3ZSBkb24ndFxuICAgIC8vIHdlIG9ubHkgbmVlZCBjbGllbnRYWSBmb3IgdGhlIGNhbGN1bGF0aW9uc1xuICAgIHZhciBwb2ludGVycyA9IFtdO1xuICAgIHZhciBpID0gMDtcbiAgICB3aGlsZSAoaSA8IGlucHV0LnBvaW50ZXJzLmxlbmd0aCkge1xuICAgICAgICBwb2ludGVyc1tpXSA9IHtcbiAgICAgICAgICAgIGNsaWVudFg6IHJvdW5kKGlucHV0LnBvaW50ZXJzW2ldLmNsaWVudFgpLFxuICAgICAgICAgICAgY2xpZW50WTogcm91bmQoaW5wdXQucG9pbnRlcnNbaV0uY2xpZW50WSlcbiAgICAgICAgfTtcbiAgICAgICAgaSsrO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIHRpbWVTdGFtcDogbm93KCksXG4gICAgICAgIHBvaW50ZXJzOiBwb2ludGVycyxcbiAgICAgICAgY2VudGVyOiBnZXRDZW50ZXIocG9pbnRlcnMpLFxuICAgICAgICBkZWx0YVg6IGlucHV0LmRlbHRhWCxcbiAgICAgICAgZGVsdGFZOiBpbnB1dC5kZWx0YVlcbiAgICB9O1xufVxuXG4vKipcbiAqIGdldCB0aGUgY2VudGVyIG9mIGFsbCB0aGUgcG9pbnRlcnNcbiAqIEBwYXJhbSB7QXJyYXl9IHBvaW50ZXJzXG4gKiBAcmV0dXJuIHtPYmplY3R9IGNlbnRlciBjb250YWlucyBgeGAgYW5kIGB5YCBwcm9wZXJ0aWVzXG4gKi9cbmZ1bmN0aW9uIGdldENlbnRlcihwb2ludGVycykge1xuICAgIHZhciBwb2ludGVyc0xlbmd0aCA9IHBvaW50ZXJzLmxlbmd0aDtcblxuICAgIC8vIG5vIG5lZWQgdG8gbG9vcCB3aGVuIG9ubHkgb25lIHRvdWNoXG4gICAgaWYgKHBvaW50ZXJzTGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4OiByb3VuZChwb2ludGVyc1swXS5jbGllbnRYKSxcbiAgICAgICAgICAgIHk6IHJvdW5kKHBvaW50ZXJzWzBdLmNsaWVudFkpXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgdmFyIHggPSAwLCB5ID0gMCwgaSA9IDA7XG4gICAgd2hpbGUgKGkgPCBwb2ludGVyc0xlbmd0aCkge1xuICAgICAgICB4ICs9IHBvaW50ZXJzW2ldLmNsaWVudFg7XG4gICAgICAgIHkgKz0gcG9pbnRlcnNbaV0uY2xpZW50WTtcbiAgICAgICAgaSsrO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIHg6IHJvdW5kKHggLyBwb2ludGVyc0xlbmd0aCksXG4gICAgICAgIHk6IHJvdW5kKHkgLyBwb2ludGVyc0xlbmd0aClcbiAgICB9O1xufVxuXG4vKipcbiAqIGNhbGN1bGF0ZSB0aGUgdmVsb2NpdHkgYmV0d2VlbiB0d28gcG9pbnRzLiB1bml0IGlzIGluIHB4IHBlciBtcy5cbiAqIEBwYXJhbSB7TnVtYmVyfSBkZWx0YVRpbWVcbiAqIEBwYXJhbSB7TnVtYmVyfSB4XG4gKiBAcGFyYW0ge051bWJlcn0geVxuICogQHJldHVybiB7T2JqZWN0fSB2ZWxvY2l0eSBgeGAgYW5kIGB5YFxuICovXG5mdW5jdGlvbiBnZXRWZWxvY2l0eShkZWx0YVRpbWUsIHgsIHkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB4OiB4IC8gZGVsdGFUaW1lIHx8IDAsXG4gICAgICAgIHk6IHkgLyBkZWx0YVRpbWUgfHwgMFxuICAgIH07XG59XG5cbi8qKlxuICogZ2V0IHRoZSBkaXJlY3Rpb24gYmV0d2VlbiB0d28gcG9pbnRzXG4gKiBAcGFyYW0ge051bWJlcn0geFxuICogQHBhcmFtIHtOdW1iZXJ9IHlcbiAqIEByZXR1cm4ge051bWJlcn0gZGlyZWN0aW9uXG4gKi9cbmZ1bmN0aW9uIGdldERpcmVjdGlvbih4LCB5KSB7XG4gICAgaWYgKHggPT09IHkpIHtcbiAgICAgICAgcmV0dXJuIERJUkVDVElPTl9OT05FO1xuICAgIH1cblxuICAgIGlmIChhYnMoeCkgPj0gYWJzKHkpKSB7XG4gICAgICAgIHJldHVybiB4IDwgMCA/IERJUkVDVElPTl9MRUZUIDogRElSRUNUSU9OX1JJR0hUO1xuICAgIH1cbiAgICByZXR1cm4geSA8IDAgPyBESVJFQ1RJT05fVVAgOiBESVJFQ1RJT05fRE9XTjtcbn1cblxuLyoqXG4gKiBjYWxjdWxhdGUgdGhlIGFic29sdXRlIGRpc3RhbmNlIGJldHdlZW4gdHdvIHBvaW50c1xuICogQHBhcmFtIHtPYmplY3R9IHAxIHt4LCB5fVxuICogQHBhcmFtIHtPYmplY3R9IHAyIHt4LCB5fVxuICogQHBhcmFtIHtBcnJheX0gW3Byb3BzXSBjb250YWluaW5nIHggYW5kIHkga2V5c1xuICogQHJldHVybiB7TnVtYmVyfSBkaXN0YW5jZVxuICovXG5mdW5jdGlvbiBnZXREaXN0YW5jZShwMSwgcDIsIHByb3BzKSB7XG4gICAgaWYgKCFwcm9wcykge1xuICAgICAgICBwcm9wcyA9IFBST1BTX1hZO1xuICAgIH1cbiAgICB2YXIgeCA9IHAyW3Byb3BzWzBdXSAtIHAxW3Byb3BzWzBdXSxcbiAgICAgICAgeSA9IHAyW3Byb3BzWzFdXSAtIHAxW3Byb3BzWzFdXTtcblxuICAgIHJldHVybiBNYXRoLnNxcnQoKHggKiB4KSArICh5ICogeSkpO1xufVxuXG4vKipcbiAqIGNhbGN1bGF0ZSB0aGUgYW5nbGUgYmV0d2VlbiB0d28gY29vcmRpbmF0ZXNcbiAqIEBwYXJhbSB7T2JqZWN0fSBwMVxuICogQHBhcmFtIHtPYmplY3R9IHAyXG4gKiBAcGFyYW0ge0FycmF5fSBbcHJvcHNdIGNvbnRhaW5pbmcgeCBhbmQgeSBrZXlzXG4gKiBAcmV0dXJuIHtOdW1iZXJ9IGFuZ2xlXG4gKi9cbmZ1bmN0aW9uIGdldEFuZ2xlKHAxLCBwMiwgcHJvcHMpIHtcbiAgICBpZiAoIXByb3BzKSB7XG4gICAgICAgIHByb3BzID0gUFJPUFNfWFk7XG4gICAgfVxuICAgIHZhciB4ID0gcDJbcHJvcHNbMF1dIC0gcDFbcHJvcHNbMF1dLFxuICAgICAgICB5ID0gcDJbcHJvcHNbMV1dIC0gcDFbcHJvcHNbMV1dO1xuICAgIHJldHVybiBNYXRoLmF0YW4yKHksIHgpICogMTgwIC8gTWF0aC5QSTtcbn1cblxuLyoqXG4gKiBjYWxjdWxhdGUgdGhlIHJvdGF0aW9uIGRlZ3JlZXMgYmV0d2VlbiB0d28gcG9pbnRlcnNldHNcbiAqIEBwYXJhbSB7QXJyYXl9IHN0YXJ0IGFycmF5IG9mIHBvaW50ZXJzXG4gKiBAcGFyYW0ge0FycmF5fSBlbmQgYXJyYXkgb2YgcG9pbnRlcnNcbiAqIEByZXR1cm4ge051bWJlcn0gcm90YXRpb25cbiAqL1xuZnVuY3Rpb24gZ2V0Um90YXRpb24oc3RhcnQsIGVuZCkge1xuICAgIHJldHVybiBnZXRBbmdsZShlbmRbMV0sIGVuZFswXSwgUFJPUFNfQ0xJRU5UX1hZKSArIGdldEFuZ2xlKHN0YXJ0WzFdLCBzdGFydFswXSwgUFJPUFNfQ0xJRU5UX1hZKTtcbn1cblxuLyoqXG4gKiBjYWxjdWxhdGUgdGhlIHNjYWxlIGZhY3RvciBiZXR3ZWVuIHR3byBwb2ludGVyc2V0c1xuICogbm8gc2NhbGUgaXMgMSwgYW5kIGdvZXMgZG93biB0byAwIHdoZW4gcGluY2hlZCB0b2dldGhlciwgYW5kIGJpZ2dlciB3aGVuIHBpbmNoZWQgb3V0XG4gKiBAcGFyYW0ge0FycmF5fSBzdGFydCBhcnJheSBvZiBwb2ludGVyc1xuICogQHBhcmFtIHtBcnJheX0gZW5kIGFycmF5IG9mIHBvaW50ZXJzXG4gKiBAcmV0dXJuIHtOdW1iZXJ9IHNjYWxlXG4gKi9cbmZ1bmN0aW9uIGdldFNjYWxlKHN0YXJ0LCBlbmQpIHtcbiAgICByZXR1cm4gZ2V0RGlzdGFuY2UoZW5kWzBdLCBlbmRbMV0sIFBST1BTX0NMSUVOVF9YWSkgLyBnZXREaXN0YW5jZShzdGFydFswXSwgc3RhcnRbMV0sIFBST1BTX0NMSUVOVF9YWSk7XG59XG5cbnZhciBNT1VTRV9JTlBVVF9NQVAgPSB7XG4gICAgbW91c2Vkb3duOiBJTlBVVF9TVEFSVCxcbiAgICBtb3VzZW1vdmU6IElOUFVUX01PVkUsXG4gICAgbW91c2V1cDogSU5QVVRfRU5EXG59O1xuXG52YXIgTU9VU0VfRUxFTUVOVF9FVkVOVFMgPSAnbW91c2Vkb3duJztcbnZhciBNT1VTRV9XSU5ET1dfRVZFTlRTID0gJ21vdXNlbW92ZSBtb3VzZXVwJztcblxuLyoqXG4gKiBNb3VzZSBldmVudHMgaW5wdXRcbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgSW5wdXRcbiAqL1xuZnVuY3Rpb24gTW91c2VJbnB1dCgpIHtcbiAgICB0aGlzLmV2RWwgPSBNT1VTRV9FTEVNRU5UX0VWRU5UUztcbiAgICB0aGlzLmV2V2luID0gTU9VU0VfV0lORE9XX0VWRU5UUztcblxuICAgIHRoaXMucHJlc3NlZCA9IGZhbHNlOyAvLyBtb3VzZWRvd24gc3RhdGVcblxuICAgIElucHV0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmluaGVyaXQoTW91c2VJbnB1dCwgSW5wdXQsIHtcbiAgICAvKipcbiAgICAgKiBoYW5kbGUgbW91c2UgZXZlbnRzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGV2XG4gICAgICovXG4gICAgaGFuZGxlcjogZnVuY3Rpb24gTUVoYW5kbGVyKGV2KSB7XG4gICAgICAgIHZhciBldmVudFR5cGUgPSBNT1VTRV9JTlBVVF9NQVBbZXYudHlwZV07XG5cbiAgICAgICAgLy8gb24gc3RhcnQgd2Ugd2FudCB0byBoYXZlIHRoZSBsZWZ0IG1vdXNlIGJ1dHRvbiBkb3duXG4gICAgICAgIGlmIChldmVudFR5cGUgJiBJTlBVVF9TVEFSVCAmJiBldi5idXR0b24gPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMucHJlc3NlZCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXZlbnRUeXBlICYgSU5QVVRfTU9WRSAmJiBldi53aGljaCAhPT0gMSkge1xuICAgICAgICAgICAgZXZlbnRUeXBlID0gSU5QVVRfRU5EO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbW91c2UgbXVzdCBiZSBkb3duXG4gICAgICAgIGlmICghdGhpcy5wcmVzc2VkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXZlbnRUeXBlICYgSU5QVVRfRU5EKSB7XG4gICAgICAgICAgICB0aGlzLnByZXNzZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY2FsbGJhY2sodGhpcy5tYW5hZ2VyLCBldmVudFR5cGUsIHtcbiAgICAgICAgICAgIHBvaW50ZXJzOiBbZXZdLFxuICAgICAgICAgICAgY2hhbmdlZFBvaW50ZXJzOiBbZXZdLFxuICAgICAgICAgICAgcG9pbnRlclR5cGU6IElOUFVUX1RZUEVfTU9VU0UsXG4gICAgICAgICAgICBzcmNFdmVudDogZXZcbiAgICAgICAgfSk7XG4gICAgfVxufSk7XG5cbnZhciBQT0lOVEVSX0lOUFVUX01BUCA9IHtcbiAgICBwb2ludGVyZG93bjogSU5QVVRfU1RBUlQsXG4gICAgcG9pbnRlcm1vdmU6IElOUFVUX01PVkUsXG4gICAgcG9pbnRlcnVwOiBJTlBVVF9FTkQsXG4gICAgcG9pbnRlcmNhbmNlbDogSU5QVVRfQ0FOQ0VMLFxuICAgIHBvaW50ZXJvdXQ6IElOUFVUX0NBTkNFTFxufTtcblxuLy8gaW4gSUUxMCB0aGUgcG9pbnRlciB0eXBlcyBpcyBkZWZpbmVkIGFzIGFuIGVudW1cbnZhciBJRTEwX1BPSU5URVJfVFlQRV9FTlVNID0ge1xuICAgIDI6IElOUFVUX1RZUEVfVE9VQ0gsXG4gICAgMzogSU5QVVRfVFlQRV9QRU4sXG4gICAgNDogSU5QVVRfVFlQRV9NT1VTRSxcbiAgICA1OiBJTlBVVF9UWVBFX0tJTkVDVCAvLyBzZWUgaHR0cHM6Ly90d2l0dGVyLmNvbS9qYWNvYnJvc3NpL3N0YXR1cy80ODA1OTY0Mzg0ODk4OTA4MTZcbn07XG5cbnZhciBQT0lOVEVSX0VMRU1FTlRfRVZFTlRTID0gJ3BvaW50ZXJkb3duJztcbnZhciBQT0lOVEVSX1dJTkRPV19FVkVOVFMgPSAncG9pbnRlcm1vdmUgcG9pbnRlcnVwIHBvaW50ZXJjYW5jZWwnO1xuXG4vLyBJRTEwIGhhcyBwcmVmaXhlZCBzdXBwb3J0LCBhbmQgY2FzZS1zZW5zaXRpdmVcbmlmICh3aW5kb3cuTVNQb2ludGVyRXZlbnQgJiYgIXdpbmRvdy5Qb2ludGVyRXZlbnQpIHtcbiAgICBQT0lOVEVSX0VMRU1FTlRfRVZFTlRTID0gJ01TUG9pbnRlckRvd24nO1xuICAgIFBPSU5URVJfV0lORE9XX0VWRU5UUyA9ICdNU1BvaW50ZXJNb3ZlIE1TUG9pbnRlclVwIE1TUG9pbnRlckNhbmNlbCc7XG59XG5cbi8qKlxuICogUG9pbnRlciBldmVudHMgaW5wdXRcbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgSW5wdXRcbiAqL1xuZnVuY3Rpb24gUG9pbnRlckV2ZW50SW5wdXQoKSB7XG4gICAgdGhpcy5ldkVsID0gUE9JTlRFUl9FTEVNRU5UX0VWRU5UUztcbiAgICB0aGlzLmV2V2luID0gUE9JTlRFUl9XSU5ET1dfRVZFTlRTO1xuXG4gICAgSW5wdXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuICAgIHRoaXMuc3RvcmUgPSAodGhpcy5tYW5hZ2VyLnNlc3Npb24ucG9pbnRlckV2ZW50cyA9IFtdKTtcbn1cblxuaW5oZXJpdChQb2ludGVyRXZlbnRJbnB1dCwgSW5wdXQsIHtcbiAgICAvKipcbiAgICAgKiBoYW5kbGUgbW91c2UgZXZlbnRzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGV2XG4gICAgICovXG4gICAgaGFuZGxlcjogZnVuY3Rpb24gUEVoYW5kbGVyKGV2KSB7XG4gICAgICAgIHZhciBzdG9yZSA9IHRoaXMuc3RvcmU7XG4gICAgICAgIHZhciByZW1vdmVQb2ludGVyID0gZmFsc2U7XG5cbiAgICAgICAgdmFyIGV2ZW50VHlwZU5vcm1hbGl6ZWQgPSBldi50eXBlLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgnbXMnLCAnJyk7XG4gICAgICAgIHZhciBldmVudFR5cGUgPSBQT0lOVEVSX0lOUFVUX01BUFtldmVudFR5cGVOb3JtYWxpemVkXTtcbiAgICAgICAgdmFyIHBvaW50ZXJUeXBlID0gSUUxMF9QT0lOVEVSX1RZUEVfRU5VTVtldi5wb2ludGVyVHlwZV0gfHwgZXYucG9pbnRlclR5cGU7XG5cbiAgICAgICAgdmFyIGlzVG91Y2ggPSAocG9pbnRlclR5cGUgPT0gSU5QVVRfVFlQRV9UT1VDSCk7XG5cbiAgICAgICAgLy8gZ2V0IGluZGV4IG9mIHRoZSBldmVudCBpbiB0aGUgc3RvcmVcbiAgICAgICAgdmFyIHN0b3JlSW5kZXggPSBpbkFycmF5KHN0b3JlLCBldi5wb2ludGVySWQsICdwb2ludGVySWQnKTtcblxuICAgICAgICAvLyBzdGFydCBhbmQgbW91c2UgbXVzdCBiZSBkb3duXG4gICAgICAgIGlmIChldmVudFR5cGUgJiBJTlBVVF9TVEFSVCAmJiAoZXYuYnV0dG9uID09PSAwIHx8IGlzVG91Y2gpKSB7XG4gICAgICAgICAgICBpZiAoc3RvcmVJbmRleCA8IDApIHtcbiAgICAgICAgICAgICAgICBzdG9yZS5wdXNoKGV2KTtcbiAgICAgICAgICAgICAgICBzdG9yZUluZGV4ID0gc3RvcmUubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChldmVudFR5cGUgJiAoSU5QVVRfRU5EIHwgSU5QVVRfQ0FOQ0VMKSkge1xuICAgICAgICAgICAgcmVtb3ZlUG9pbnRlciA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpdCBub3QgZm91bmQsIHNvIHRoZSBwb2ludGVyIGhhc24ndCBiZWVuIGRvd24gKHNvIGl0J3MgcHJvYmFibHkgYSBob3ZlcilcbiAgICAgICAgaWYgKHN0b3JlSW5kZXggPCAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyB1cGRhdGUgdGhlIGV2ZW50IGluIHRoZSBzdG9yZVxuICAgICAgICBzdG9yZVtzdG9yZUluZGV4XSA9IGV2O1xuXG4gICAgICAgIHRoaXMuY2FsbGJhY2sodGhpcy5tYW5hZ2VyLCBldmVudFR5cGUsIHtcbiAgICAgICAgICAgIHBvaW50ZXJzOiBzdG9yZSxcbiAgICAgICAgICAgIGNoYW5nZWRQb2ludGVyczogW2V2XSxcbiAgICAgICAgICAgIHBvaW50ZXJUeXBlOiBwb2ludGVyVHlwZSxcbiAgICAgICAgICAgIHNyY0V2ZW50OiBldlxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAocmVtb3ZlUG9pbnRlcikge1xuICAgICAgICAgICAgLy8gcmVtb3ZlIGZyb20gdGhlIHN0b3JlXG4gICAgICAgICAgICBzdG9yZS5zcGxpY2Uoc3RvcmVJbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICB9XG59KTtcblxudmFyIFNJTkdMRV9UT1VDSF9JTlBVVF9NQVAgPSB7XG4gICAgdG91Y2hzdGFydDogSU5QVVRfU1RBUlQsXG4gICAgdG91Y2htb3ZlOiBJTlBVVF9NT1ZFLFxuICAgIHRvdWNoZW5kOiBJTlBVVF9FTkQsXG4gICAgdG91Y2hjYW5jZWw6IElOUFVUX0NBTkNFTFxufTtcblxudmFyIFNJTkdMRV9UT1VDSF9UQVJHRVRfRVZFTlRTID0gJ3RvdWNoc3RhcnQnO1xudmFyIFNJTkdMRV9UT1VDSF9XSU5ET1dfRVZFTlRTID0gJ3RvdWNoc3RhcnQgdG91Y2htb3ZlIHRvdWNoZW5kIHRvdWNoY2FuY2VsJztcblxuLyoqXG4gKiBUb3VjaCBldmVudHMgaW5wdXRcbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgSW5wdXRcbiAqL1xuZnVuY3Rpb24gU2luZ2xlVG91Y2hJbnB1dCgpIHtcbiAgICB0aGlzLmV2VGFyZ2V0ID0gU0lOR0xFX1RPVUNIX1RBUkdFVF9FVkVOVFM7XG4gICAgdGhpcy5ldldpbiA9IFNJTkdMRV9UT1VDSF9XSU5ET1dfRVZFTlRTO1xuICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlO1xuXG4gICAgSW5wdXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuaW5oZXJpdChTaW5nbGVUb3VjaElucHV0LCBJbnB1dCwge1xuICAgIGhhbmRsZXI6IGZ1bmN0aW9uIFRFaGFuZGxlcihldikge1xuICAgICAgICB2YXIgdHlwZSA9IFNJTkdMRV9UT1VDSF9JTlBVVF9NQVBbZXYudHlwZV07XG5cbiAgICAgICAgLy8gc2hvdWxkIHdlIGhhbmRsZSB0aGUgdG91Y2ggZXZlbnRzP1xuICAgICAgICBpZiAodHlwZSA9PT0gSU5QVVRfU1RBUlQpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRlZCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuc3RhcnRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHRvdWNoZXMgPSBub3JtYWxpemVTaW5nbGVUb3VjaGVzLmNhbGwodGhpcywgZXYsIHR5cGUpO1xuXG4gICAgICAgIC8vIHdoZW4gZG9uZSwgcmVzZXQgdGhlIHN0YXJ0ZWQgc3RhdGVcbiAgICAgICAgaWYgKHR5cGUgJiAoSU5QVVRfRU5EIHwgSU5QVVRfQ0FOQ0VMKSAmJiB0b3VjaGVzWzBdLmxlbmd0aCAtIHRvdWNoZXNbMV0ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY2FsbGJhY2sodGhpcy5tYW5hZ2VyLCB0eXBlLCB7XG4gICAgICAgICAgICBwb2ludGVyczogdG91Y2hlc1swXSxcbiAgICAgICAgICAgIGNoYW5nZWRQb2ludGVyczogdG91Y2hlc1sxXSxcbiAgICAgICAgICAgIHBvaW50ZXJUeXBlOiBJTlBVVF9UWVBFX1RPVUNILFxuICAgICAgICAgICAgc3JjRXZlbnQ6IGV2XG4gICAgICAgIH0pO1xuICAgIH1cbn0pO1xuXG4vKipcbiAqIEB0aGlzIHtUb3VjaElucHV0fVxuICogQHBhcmFtIHtPYmplY3R9IGV2XG4gKiBAcGFyYW0ge051bWJlcn0gdHlwZSBmbGFnXG4gKiBAcmV0dXJucyB7dW5kZWZpbmVkfEFycmF5fSBbYWxsLCBjaGFuZ2VkXVxuICovXG5mdW5jdGlvbiBub3JtYWxpemVTaW5nbGVUb3VjaGVzKGV2LCB0eXBlKSB7XG4gICAgdmFyIGFsbCA9IHRvQXJyYXkoZXYudG91Y2hlcyk7XG4gICAgdmFyIGNoYW5nZWQgPSB0b0FycmF5KGV2LmNoYW5nZWRUb3VjaGVzKTtcblxuICAgIGlmICh0eXBlICYgKElOUFVUX0VORCB8IElOUFVUX0NBTkNFTCkpIHtcbiAgICAgICAgYWxsID0gdW5pcXVlQXJyYXkoYWxsLmNvbmNhdChjaGFuZ2VkKSwgJ2lkZW50aWZpZXInLCB0cnVlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gW2FsbCwgY2hhbmdlZF07XG59XG5cbnZhciBUT1VDSF9JTlBVVF9NQVAgPSB7XG4gICAgdG91Y2hzdGFydDogSU5QVVRfU1RBUlQsXG4gICAgdG91Y2htb3ZlOiBJTlBVVF9NT1ZFLFxuICAgIHRvdWNoZW5kOiBJTlBVVF9FTkQsXG4gICAgdG91Y2hjYW5jZWw6IElOUFVUX0NBTkNFTFxufTtcblxudmFyIFRPVUNIX1RBUkdFVF9FVkVOVFMgPSAndG91Y2hzdGFydCB0b3VjaG1vdmUgdG91Y2hlbmQgdG91Y2hjYW5jZWwnO1xuXG4vKipcbiAqIE11bHRpLXVzZXIgdG91Y2ggZXZlbnRzIGlucHV0XG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIElucHV0XG4gKi9cbmZ1bmN0aW9uIFRvdWNoSW5wdXQoKSB7XG4gICAgdGhpcy5ldlRhcmdldCA9IFRPVUNIX1RBUkdFVF9FVkVOVFM7XG4gICAgdGhpcy50YXJnZXRJZHMgPSB7fTtcblxuICAgIElucHV0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmluaGVyaXQoVG91Y2hJbnB1dCwgSW5wdXQsIHtcbiAgICBoYW5kbGVyOiBmdW5jdGlvbiBNVEVoYW5kbGVyKGV2KSB7XG4gICAgICAgIHZhciB0eXBlID0gVE9VQ0hfSU5QVVRfTUFQW2V2LnR5cGVdO1xuICAgICAgICB2YXIgdG91Y2hlcyA9IGdldFRvdWNoZXMuY2FsbCh0aGlzLCBldiwgdHlwZSk7XG4gICAgICAgIGlmICghdG91Y2hlcykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jYWxsYmFjayh0aGlzLm1hbmFnZXIsIHR5cGUsIHtcbiAgICAgICAgICAgIHBvaW50ZXJzOiB0b3VjaGVzWzBdLFxuICAgICAgICAgICAgY2hhbmdlZFBvaW50ZXJzOiB0b3VjaGVzWzFdLFxuICAgICAgICAgICAgcG9pbnRlclR5cGU6IElOUFVUX1RZUEVfVE9VQ0gsXG4gICAgICAgICAgICBzcmNFdmVudDogZXZcbiAgICAgICAgfSk7XG4gICAgfVxufSk7XG5cbi8qKlxuICogQHRoaXMge1RvdWNoSW5wdXR9XG4gKiBAcGFyYW0ge09iamVjdH0gZXZcbiAqIEBwYXJhbSB7TnVtYmVyfSB0eXBlIGZsYWdcbiAqIEByZXR1cm5zIHt1bmRlZmluZWR8QXJyYXl9IFthbGwsIGNoYW5nZWRdXG4gKi9cbmZ1bmN0aW9uIGdldFRvdWNoZXMoZXYsIHR5cGUpIHtcbiAgICB2YXIgYWxsVG91Y2hlcyA9IHRvQXJyYXkoZXYudG91Y2hlcyk7XG4gICAgdmFyIHRhcmdldElkcyA9IHRoaXMudGFyZ2V0SWRzO1xuXG4gICAgLy8gd2hlbiB0aGVyZSBpcyBvbmx5IG9uZSB0b3VjaCwgdGhlIHByb2Nlc3MgY2FuIGJlIHNpbXBsaWZpZWRcbiAgICBpZiAodHlwZSAmIChJTlBVVF9TVEFSVCB8IElOUFVUX01PVkUpICYmIGFsbFRvdWNoZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHRhcmdldElkc1thbGxUb3VjaGVzWzBdLmlkZW50aWZpZXJdID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIFthbGxUb3VjaGVzLCBhbGxUb3VjaGVzXTtcbiAgICB9XG5cbiAgICB2YXIgaSxcbiAgICAgICAgdGFyZ2V0VG91Y2hlcyxcbiAgICAgICAgY2hhbmdlZFRvdWNoZXMgPSB0b0FycmF5KGV2LmNoYW5nZWRUb3VjaGVzKSxcbiAgICAgICAgY2hhbmdlZFRhcmdldFRvdWNoZXMgPSBbXSxcbiAgICAgICAgdGFyZ2V0ID0gdGhpcy50YXJnZXQ7XG5cbiAgICAvLyBnZXQgdGFyZ2V0IHRvdWNoZXMgZnJvbSB0b3VjaGVzXG4gICAgdGFyZ2V0VG91Y2hlcyA9IGFsbFRvdWNoZXMuZmlsdGVyKGZ1bmN0aW9uKHRvdWNoKSB7XG4gICAgICAgIHJldHVybiBoYXNQYXJlbnQodG91Y2gudGFyZ2V0LCB0YXJnZXQpO1xuICAgIH0pO1xuXG4gICAgLy8gY29sbGVjdCB0b3VjaGVzXG4gICAgaWYgKHR5cGUgPT09IElOUFVUX1NUQVJUKSB7XG4gICAgICAgIGkgPSAwO1xuICAgICAgICB3aGlsZSAoaSA8IHRhcmdldFRvdWNoZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0YXJnZXRJZHNbdGFyZ2V0VG91Y2hlc1tpXS5pZGVudGlmaWVyXSA9IHRydWU7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBmaWx0ZXIgY2hhbmdlZCB0b3VjaGVzIHRvIG9ubHkgY29udGFpbiB0b3VjaGVzIHRoYXQgZXhpc3QgaW4gdGhlIGNvbGxlY3RlZCB0YXJnZXQgaWRzXG4gICAgaSA9IDA7XG4gICAgd2hpbGUgKGkgPCBjaGFuZ2VkVG91Y2hlcy5sZW5ndGgpIHtcbiAgICAgICAgaWYgKHRhcmdldElkc1tjaGFuZ2VkVG91Y2hlc1tpXS5pZGVudGlmaWVyXSkge1xuICAgICAgICAgICAgY2hhbmdlZFRhcmdldFRvdWNoZXMucHVzaChjaGFuZ2VkVG91Y2hlc1tpXSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjbGVhbnVwIHJlbW92ZWQgdG91Y2hlc1xuICAgICAgICBpZiAodHlwZSAmIChJTlBVVF9FTkQgfCBJTlBVVF9DQU5DRUwpKSB7XG4gICAgICAgICAgICBkZWxldGUgdGFyZ2V0SWRzW2NoYW5nZWRUb3VjaGVzW2ldLmlkZW50aWZpZXJdO1xuICAgICAgICB9XG4gICAgICAgIGkrKztcbiAgICB9XG5cbiAgICBpZiAoIWNoYW5nZWRUYXJnZXRUb3VjaGVzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcmV0dXJuIFtcbiAgICAgICAgLy8gbWVyZ2UgdGFyZ2V0VG91Y2hlcyB3aXRoIGNoYW5nZWRUYXJnZXRUb3VjaGVzIHNvIGl0IGNvbnRhaW5zIEFMTCB0b3VjaGVzLCBpbmNsdWRpbmcgJ2VuZCcgYW5kICdjYW5jZWwnXG4gICAgICAgIHVuaXF1ZUFycmF5KHRhcmdldFRvdWNoZXMuY29uY2F0KGNoYW5nZWRUYXJnZXRUb3VjaGVzKSwgJ2lkZW50aWZpZXInLCB0cnVlKSxcbiAgICAgICAgY2hhbmdlZFRhcmdldFRvdWNoZXNcbiAgICBdO1xufVxuXG4vKipcbiAqIENvbWJpbmVkIHRvdWNoIGFuZCBtb3VzZSBpbnB1dFxuICpcbiAqIFRvdWNoIGhhcyBhIGhpZ2hlciBwcmlvcml0eSB0aGVuIG1vdXNlLCBhbmQgd2hpbGUgdG91Y2hpbmcgbm8gbW91c2UgZXZlbnRzIGFyZSBhbGxvd2VkLlxuICogVGhpcyBiZWNhdXNlIHRvdWNoIGRldmljZXMgYWxzbyBlbWl0IG1vdXNlIGV2ZW50cyB3aGlsZSBkb2luZyBhIHRvdWNoLlxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgSW5wdXRcbiAqL1xuXG52YXIgREVEVVBfVElNRU9VVCA9IDI1MDA7XG52YXIgREVEVVBfRElTVEFOQ0UgPSAyNTtcblxuZnVuY3Rpb24gVG91Y2hNb3VzZUlucHV0KCkge1xuICAgIElucHV0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cbiAgICB2YXIgaGFuZGxlciA9IGJpbmRGbih0aGlzLmhhbmRsZXIsIHRoaXMpO1xuICAgIHRoaXMudG91Y2ggPSBuZXcgVG91Y2hJbnB1dCh0aGlzLm1hbmFnZXIsIGhhbmRsZXIpO1xuICAgIHRoaXMubW91c2UgPSBuZXcgTW91c2VJbnB1dCh0aGlzLm1hbmFnZXIsIGhhbmRsZXIpO1xuXG4gICAgdGhpcy5wcmltYXJ5VG91Y2ggPSBudWxsO1xuICAgIHRoaXMubGFzdFRvdWNoZXMgPSBbXTtcbn1cblxuaW5oZXJpdChUb3VjaE1vdXNlSW5wdXQsIElucHV0LCB7XG4gICAgLyoqXG4gICAgICogaGFuZGxlIG1vdXNlIGFuZCB0b3VjaCBldmVudHNcbiAgICAgKiBAcGFyYW0ge0hhbW1lcn0gbWFuYWdlclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dEV2ZW50XG4gICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0RGF0YVxuICAgICAqL1xuICAgIGhhbmRsZXI6IGZ1bmN0aW9uIFRNRWhhbmRsZXIobWFuYWdlciwgaW5wdXRFdmVudCwgaW5wdXREYXRhKSB7XG4gICAgICAgIHZhciBpc1RvdWNoID0gKGlucHV0RGF0YS5wb2ludGVyVHlwZSA9PSBJTlBVVF9UWVBFX1RPVUNIKSxcbiAgICAgICAgICAgIGlzTW91c2UgPSAoaW5wdXREYXRhLnBvaW50ZXJUeXBlID09IElOUFVUX1RZUEVfTU9VU0UpO1xuXG4gICAgICAgIGlmIChpc01vdXNlICYmIGlucHV0RGF0YS5zb3VyY2VDYXBhYmlsaXRpZXMgJiYgaW5wdXREYXRhLnNvdXJjZUNhcGFiaWxpdGllcy5maXJlc1RvdWNoRXZlbnRzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyB3aGVuIHdlJ3JlIGluIGEgdG91Y2ggZXZlbnQsIHJlY29yZCB0b3VjaGVzIHRvICBkZS1kdXBlIHN5bnRoZXRpYyBtb3VzZSBldmVudFxuICAgICAgICBpZiAoaXNUb3VjaCkge1xuICAgICAgICAgICAgcmVjb3JkVG91Y2hlcy5jYWxsKHRoaXMsIGlucHV0RXZlbnQsIGlucHV0RGF0YSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNNb3VzZSAmJiBpc1N5bnRoZXRpY0V2ZW50LmNhbGwodGhpcywgaW5wdXREYXRhKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jYWxsYmFjayhtYW5hZ2VyLCBpbnB1dEV2ZW50LCBpbnB1dERhdGEpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiByZW1vdmUgdGhlIGV2ZW50IGxpc3RlbmVyc1xuICAgICAqL1xuICAgIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMudG91Y2guZGVzdHJveSgpO1xuICAgICAgICB0aGlzLm1vdXNlLmRlc3Ryb3koKTtcbiAgICB9XG59KTtcblxuZnVuY3Rpb24gcmVjb3JkVG91Y2hlcyhldmVudFR5cGUsIGV2ZW50RGF0YSkge1xuICAgIGlmIChldmVudFR5cGUgJiBJTlBVVF9TVEFSVCkge1xuICAgICAgICB0aGlzLnByaW1hcnlUb3VjaCA9IGV2ZW50RGF0YS5jaGFuZ2VkUG9pbnRlcnNbMF0uaWRlbnRpZmllcjtcbiAgICAgICAgc2V0TGFzdFRvdWNoLmNhbGwodGhpcywgZXZlbnREYXRhKTtcbiAgICB9IGVsc2UgaWYgKGV2ZW50VHlwZSAmIChJTlBVVF9FTkQgfCBJTlBVVF9DQU5DRUwpKSB7XG4gICAgICAgIHNldExhc3RUb3VjaC5jYWxsKHRoaXMsIGV2ZW50RGF0YSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBzZXRMYXN0VG91Y2goZXZlbnREYXRhKSB7XG4gICAgdmFyIHRvdWNoID0gZXZlbnREYXRhLmNoYW5nZWRQb2ludGVyc1swXTtcblxuICAgIGlmICh0b3VjaC5pZGVudGlmaWVyID09PSB0aGlzLnByaW1hcnlUb3VjaCkge1xuICAgICAgICB2YXIgbGFzdFRvdWNoID0ge3g6IHRvdWNoLmNsaWVudFgsIHk6IHRvdWNoLmNsaWVudFl9O1xuICAgICAgICB0aGlzLmxhc3RUb3VjaGVzLnB1c2gobGFzdFRvdWNoKTtcbiAgICAgICAgdmFyIGx0cyA9IHRoaXMubGFzdFRvdWNoZXM7XG4gICAgICAgIHZhciByZW1vdmVMYXN0VG91Y2ggPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBpID0gbHRzLmluZGV4T2YobGFzdFRvdWNoKTtcbiAgICAgICAgICAgIGlmIChpID4gLTEpIHtcbiAgICAgICAgICAgICAgICBsdHMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBzZXRUaW1lb3V0KHJlbW92ZUxhc3RUb3VjaCwgREVEVVBfVElNRU9VVCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBpc1N5bnRoZXRpY0V2ZW50KGV2ZW50RGF0YSkge1xuICAgIHZhciB4ID0gZXZlbnREYXRhLnNyY0V2ZW50LmNsaWVudFgsIHkgPSBldmVudERhdGEuc3JjRXZlbnQuY2xpZW50WTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGFzdFRvdWNoZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHQgPSB0aGlzLmxhc3RUb3VjaGVzW2ldO1xuICAgICAgICB2YXIgZHggPSBNYXRoLmFicyh4IC0gdC54KSwgZHkgPSBNYXRoLmFicyh5IC0gdC55KTtcbiAgICAgICAgaWYgKGR4IDw9IERFRFVQX0RJU1RBTkNFICYmIGR5IDw9IERFRFVQX0RJU1RBTkNFKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbnZhciBQUkVGSVhFRF9UT1VDSF9BQ1RJT04gPSBwcmVmaXhlZChURVNUX0VMRU1FTlQuc3R5bGUsICd0b3VjaEFjdGlvbicpO1xudmFyIE5BVElWRV9UT1VDSF9BQ1RJT04gPSBQUkVGSVhFRF9UT1VDSF9BQ1RJT04gIT09IHVuZGVmaW5lZDtcblxuLy8gbWFnaWNhbCB0b3VjaEFjdGlvbiB2YWx1ZVxudmFyIFRPVUNIX0FDVElPTl9DT01QVVRFID0gJ2NvbXB1dGUnO1xudmFyIFRPVUNIX0FDVElPTl9BVVRPID0gJ2F1dG8nO1xudmFyIFRPVUNIX0FDVElPTl9NQU5JUFVMQVRJT04gPSAnbWFuaXB1bGF0aW9uJzsgLy8gbm90IGltcGxlbWVudGVkXG52YXIgVE9VQ0hfQUNUSU9OX05PTkUgPSAnbm9uZSc7XG52YXIgVE9VQ0hfQUNUSU9OX1BBTl9YID0gJ3Bhbi14JztcbnZhciBUT1VDSF9BQ1RJT05fUEFOX1kgPSAncGFuLXknO1xudmFyIFRPVUNIX0FDVElPTl9NQVAgPSBnZXRUb3VjaEFjdGlvblByb3BzKCk7XG5cbi8qKlxuICogVG91Y2ggQWN0aW9uXG4gKiBzZXRzIHRoZSB0b3VjaEFjdGlvbiBwcm9wZXJ0eSBvciB1c2VzIHRoZSBqcyBhbHRlcm5hdGl2ZVxuICogQHBhcmFtIHtNYW5hZ2VyfSBtYW5hZ2VyXG4gKiBAcGFyYW0ge1N0cmluZ30gdmFsdWVcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBUb3VjaEFjdGlvbihtYW5hZ2VyLCB2YWx1ZSkge1xuICAgIHRoaXMubWFuYWdlciA9IG1hbmFnZXI7XG4gICAgdGhpcy5zZXQodmFsdWUpO1xufVxuXG5Ub3VjaEFjdGlvbi5wcm90b3R5cGUgPSB7XG4gICAgLyoqXG4gICAgICogc2V0IHRoZSB0b3VjaEFjdGlvbiB2YWx1ZSBvbiB0aGUgZWxlbWVudCBvciBlbmFibGUgdGhlIHBvbHlmaWxsXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHZhbHVlXG4gICAgICovXG4gICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAvLyBmaW5kIG91dCB0aGUgdG91Y2gtYWN0aW9uIGJ5IHRoZSBldmVudCBoYW5kbGVyc1xuICAgICAgICBpZiAodmFsdWUgPT0gVE9VQ0hfQUNUSU9OX0NPTVBVVEUpIHtcbiAgICAgICAgICAgIHZhbHVlID0gdGhpcy5jb21wdXRlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoTkFUSVZFX1RPVUNIX0FDVElPTiAmJiB0aGlzLm1hbmFnZXIuZWxlbWVudC5zdHlsZSAmJiBUT1VDSF9BQ1RJT05fTUFQW3ZhbHVlXSkge1xuICAgICAgICAgICAgdGhpcy5tYW5hZ2VyLmVsZW1lbnQuc3R5bGVbUFJFRklYRURfVE9VQ0hfQUNUSU9OXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWN0aW9ucyA9IHZhbHVlLnRvTG93ZXJDYXNlKCkudHJpbSgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBqdXN0IHJlLXNldCB0aGUgdG91Y2hBY3Rpb24gdmFsdWVcbiAgICAgKi9cbiAgICB1cGRhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnNldCh0aGlzLm1hbmFnZXIub3B0aW9ucy50b3VjaEFjdGlvbik7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGNvbXB1dGUgdGhlIHZhbHVlIGZvciB0aGUgdG91Y2hBY3Rpb24gcHJvcGVydHkgYmFzZWQgb24gdGhlIHJlY29nbml6ZXIncyBzZXR0aW5nc1xuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9IHZhbHVlXG4gICAgICovXG4gICAgY29tcHV0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBhY3Rpb25zID0gW107XG4gICAgICAgIGVhY2godGhpcy5tYW5hZ2VyLnJlY29nbml6ZXJzLCBmdW5jdGlvbihyZWNvZ25pemVyKSB7XG4gICAgICAgICAgICBpZiAoYm9vbE9yRm4ocmVjb2duaXplci5vcHRpb25zLmVuYWJsZSwgW3JlY29nbml6ZXJdKSkge1xuICAgICAgICAgICAgICAgIGFjdGlvbnMgPSBhY3Rpb25zLmNvbmNhdChyZWNvZ25pemVyLmdldFRvdWNoQWN0aW9uKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGNsZWFuVG91Y2hBY3Rpb25zKGFjdGlvbnMuam9pbignICcpKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogdGhpcyBtZXRob2QgaXMgY2FsbGVkIG9uIGVhY2ggaW5wdXQgY3ljbGUgYW5kIHByb3ZpZGVzIHRoZSBwcmV2ZW50aW5nIG9mIHRoZSBicm93c2VyIGJlaGF2aW9yXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG4gICAgICovXG4gICAgcHJldmVudERlZmF1bHRzOiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICB2YXIgc3JjRXZlbnQgPSBpbnB1dC5zcmNFdmVudDtcbiAgICAgICAgdmFyIGRpcmVjdGlvbiA9IGlucHV0Lm9mZnNldERpcmVjdGlvbjtcblxuICAgICAgICAvLyBpZiB0aGUgdG91Y2ggYWN0aW9uIGRpZCBwcmV2ZW50ZWQgb25jZSB0aGlzIHNlc3Npb25cbiAgICAgICAgaWYgKHRoaXMubWFuYWdlci5zZXNzaW9uLnByZXZlbnRlZCkge1xuICAgICAgICAgICAgc3JjRXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBhY3Rpb25zID0gdGhpcy5hY3Rpb25zO1xuICAgICAgICB2YXIgaGFzTm9uZSA9IGluU3RyKGFjdGlvbnMsIFRPVUNIX0FDVElPTl9OT05FKSAmJiAhVE9VQ0hfQUNUSU9OX01BUFtUT1VDSF9BQ1RJT05fTk9ORV07XG4gICAgICAgIHZhciBoYXNQYW5ZID0gaW5TdHIoYWN0aW9ucywgVE9VQ0hfQUNUSU9OX1BBTl9ZKSAmJiAhVE9VQ0hfQUNUSU9OX01BUFtUT1VDSF9BQ1RJT05fUEFOX1ldO1xuICAgICAgICB2YXIgaGFzUGFuWCA9IGluU3RyKGFjdGlvbnMsIFRPVUNIX0FDVElPTl9QQU5fWCkgJiYgIVRPVUNIX0FDVElPTl9NQVBbVE9VQ0hfQUNUSU9OX1BBTl9YXTtcblxuICAgICAgICBpZiAoaGFzTm9uZSkge1xuICAgICAgICAgICAgLy9kbyBub3QgcHJldmVudCBkZWZhdWx0cyBpZiB0aGlzIGlzIGEgdGFwIGdlc3R1cmVcblxuICAgICAgICAgICAgdmFyIGlzVGFwUG9pbnRlciA9IGlucHV0LnBvaW50ZXJzLmxlbmd0aCA9PT0gMTtcbiAgICAgICAgICAgIHZhciBpc1RhcE1vdmVtZW50ID0gaW5wdXQuZGlzdGFuY2UgPCAyO1xuICAgICAgICAgICAgdmFyIGlzVGFwVG91Y2hUaW1lID0gaW5wdXQuZGVsdGFUaW1lIDwgMjUwO1xuXG4gICAgICAgICAgICBpZiAoaXNUYXBQb2ludGVyICYmIGlzVGFwTW92ZW1lbnQgJiYgaXNUYXBUb3VjaFRpbWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGFzUGFuWCAmJiBoYXNQYW5ZKSB7XG4gICAgICAgICAgICAvLyBgcGFuLXggcGFuLXlgIG1lYW5zIGJyb3dzZXIgaGFuZGxlcyBhbGwgc2Nyb2xsaW5nL3Bhbm5pbmcsIGRvIG5vdCBwcmV2ZW50XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGFzTm9uZSB8fFxuICAgICAgICAgICAgKGhhc1BhblkgJiYgZGlyZWN0aW9uICYgRElSRUNUSU9OX0hPUklaT05UQUwpIHx8XG4gICAgICAgICAgICAoaGFzUGFuWCAmJiBkaXJlY3Rpb24gJiBESVJFQ1RJT05fVkVSVElDQUwpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wcmV2ZW50U3JjKHNyY0V2ZW50KTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBjYWxsIHByZXZlbnREZWZhdWx0IHRvIHByZXZlbnQgdGhlIGJyb3dzZXIncyBkZWZhdWx0IGJlaGF2aW9yIChzY3JvbGxpbmcgaW4gbW9zdCBjYXNlcylcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc3JjRXZlbnRcbiAgICAgKi9cbiAgICBwcmV2ZW50U3JjOiBmdW5jdGlvbihzcmNFdmVudCkge1xuICAgICAgICB0aGlzLm1hbmFnZXIuc2Vzc2lvbi5wcmV2ZW50ZWQgPSB0cnVlO1xuICAgICAgICBzcmNFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbn07XG5cbi8qKlxuICogd2hlbiB0aGUgdG91Y2hBY3Rpb25zIGFyZSBjb2xsZWN0ZWQgdGhleSBhcmUgbm90IGEgdmFsaWQgdmFsdWUsIHNvIHdlIG5lZWQgdG8gY2xlYW4gdGhpbmdzIHVwLiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gYWN0aW9uc1xuICogQHJldHVybnMgeyp9XG4gKi9cbmZ1bmN0aW9uIGNsZWFuVG91Y2hBY3Rpb25zKGFjdGlvbnMpIHtcbiAgICAvLyBub25lXG4gICAgaWYgKGluU3RyKGFjdGlvbnMsIFRPVUNIX0FDVElPTl9OT05FKSkge1xuICAgICAgICByZXR1cm4gVE9VQ0hfQUNUSU9OX05PTkU7XG4gICAgfVxuXG4gICAgdmFyIGhhc1BhblggPSBpblN0cihhY3Rpb25zLCBUT1VDSF9BQ1RJT05fUEFOX1gpO1xuICAgIHZhciBoYXNQYW5ZID0gaW5TdHIoYWN0aW9ucywgVE9VQ0hfQUNUSU9OX1BBTl9ZKTtcblxuICAgIC8vIGlmIGJvdGggcGFuLXggYW5kIHBhbi15IGFyZSBzZXQgKGRpZmZlcmVudCByZWNvZ25pemVyc1xuICAgIC8vIGZvciBkaWZmZXJlbnQgZGlyZWN0aW9ucywgZS5nLiBob3Jpem9udGFsIHBhbiBidXQgdmVydGljYWwgc3dpcGU/KVxuICAgIC8vIHdlIG5lZWQgbm9uZSAoYXMgb3RoZXJ3aXNlIHdpdGggcGFuLXggcGFuLXkgY29tYmluZWQgbm9uZSBvZiB0aGVzZVxuICAgIC8vIHJlY29nbml6ZXJzIHdpbGwgd29yaywgc2luY2UgdGhlIGJyb3dzZXIgd291bGQgaGFuZGxlIGFsbCBwYW5uaW5nXG4gICAgaWYgKGhhc1BhblggJiYgaGFzUGFuWSkge1xuICAgICAgICByZXR1cm4gVE9VQ0hfQUNUSU9OX05PTkU7XG4gICAgfVxuXG4gICAgLy8gcGFuLXggT1IgcGFuLXlcbiAgICBpZiAoaGFzUGFuWCB8fCBoYXNQYW5ZKSB7XG4gICAgICAgIHJldHVybiBoYXNQYW5YID8gVE9VQ0hfQUNUSU9OX1BBTl9YIDogVE9VQ0hfQUNUSU9OX1BBTl9ZO1xuICAgIH1cblxuICAgIC8vIG1hbmlwdWxhdGlvblxuICAgIGlmIChpblN0cihhY3Rpb25zLCBUT1VDSF9BQ1RJT05fTUFOSVBVTEFUSU9OKSkge1xuICAgICAgICByZXR1cm4gVE9VQ0hfQUNUSU9OX01BTklQVUxBVElPTjtcbiAgICB9XG5cbiAgICByZXR1cm4gVE9VQ0hfQUNUSU9OX0FVVE87XG59XG5cbmZ1bmN0aW9uIGdldFRvdWNoQWN0aW9uUHJvcHMoKSB7XG4gICAgaWYgKCFOQVRJVkVfVE9VQ0hfQUNUSU9OKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdmFyIHRvdWNoTWFwID0ge307XG4gICAgdmFyIGNzc1N1cHBvcnRzID0gd2luZG93LkNTUyAmJiB3aW5kb3cuQ1NTLnN1cHBvcnRzO1xuICAgIFsnYXV0bycsICdtYW5pcHVsYXRpb24nLCAncGFuLXknLCAncGFuLXgnLCAncGFuLXggcGFuLXknLCAnbm9uZSddLmZvckVhY2goZnVuY3Rpb24odmFsKSB7XG5cbiAgICAgICAgLy8gSWYgY3NzLnN1cHBvcnRzIGlzIG5vdCBzdXBwb3J0ZWQgYnV0IHRoZXJlIGlzIG5hdGl2ZSB0b3VjaC1hY3Rpb24gYXNzdW1lIGl0IHN1cHBvcnRzXG4gICAgICAgIC8vIGFsbCB2YWx1ZXMuIFRoaXMgaXMgdGhlIGNhc2UgZm9yIElFIDEwIGFuZCAxMS5cbiAgICAgICAgdG91Y2hNYXBbdmFsXSA9IGNzc1N1cHBvcnRzID8gd2luZG93LkNTUy5zdXBwb3J0cygndG91Y2gtYWN0aW9uJywgdmFsKSA6IHRydWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRvdWNoTWFwO1xufVxuXG4vKipcbiAqIFJlY29nbml6ZXIgZmxvdyBleHBsYWluZWQ7ICpcbiAqIEFsbCByZWNvZ25pemVycyBoYXZlIHRoZSBpbml0aWFsIHN0YXRlIG9mIFBPU1NJQkxFIHdoZW4gYSBpbnB1dCBzZXNzaW9uIHN0YXJ0cy5cbiAqIFRoZSBkZWZpbml0aW9uIG9mIGEgaW5wdXQgc2Vzc2lvbiBpcyBmcm9tIHRoZSBmaXJzdCBpbnB1dCB1bnRpbCB0aGUgbGFzdCBpbnB1dCwgd2l0aCBhbGwgaXQncyBtb3ZlbWVudCBpbiBpdC4gKlxuICogRXhhbXBsZSBzZXNzaW9uIGZvciBtb3VzZS1pbnB1dDogbW91c2Vkb3duIC0+IG1vdXNlbW92ZSAtPiBtb3VzZXVwXG4gKlxuICogT24gZWFjaCByZWNvZ25pemluZyBjeWNsZSAoc2VlIE1hbmFnZXIucmVjb2duaXplKSB0aGUgLnJlY29nbml6ZSgpIG1ldGhvZCBpcyBleGVjdXRlZFxuICogd2hpY2ggZGV0ZXJtaW5lcyB3aXRoIHN0YXRlIGl0IHNob3VsZCBiZS5cbiAqXG4gKiBJZiB0aGUgcmVjb2duaXplciBoYXMgdGhlIHN0YXRlIEZBSUxFRCwgQ0FOQ0VMTEVEIG9yIFJFQ09HTklaRUQgKGVxdWFscyBFTkRFRCksIGl0IGlzIHJlc2V0IHRvXG4gKiBQT1NTSUJMRSB0byBnaXZlIGl0IGFub3RoZXIgY2hhbmdlIG9uIHRoZSBuZXh0IGN5Y2xlLlxuICpcbiAqICAgICAgICAgICAgICAgUG9zc2libGVcbiAqICAgICAgICAgICAgICAgICAgfFxuICogICAgICAgICAgICArLS0tLS0rLS0tLS0tLS0tLS0tLS0tK1xuICogICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgfFxuICogICAgICArLS0tLS0rLS0tLS0rICAgICAgICAgICAgICAgfFxuICogICAgICB8ICAgICAgICAgICB8ICAgICAgICAgICAgICAgfFxuICogICBGYWlsZWQgICAgICBDYW5jZWxsZWQgICAgICAgICAgfFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICstLS0tLS0tKy0tLS0tLStcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgICB8XG4gKiAgICAgICAgICAgICAgICAgICAgICBSZWNvZ25pemVkICAgICAgIEJlZ2FuXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENoYW5nZWRcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFbmRlZC9SZWNvZ25pemVkXG4gKi9cbnZhciBTVEFURV9QT1NTSUJMRSA9IDE7XG52YXIgU1RBVEVfQkVHQU4gPSAyO1xudmFyIFNUQVRFX0NIQU5HRUQgPSA0O1xudmFyIFNUQVRFX0VOREVEID0gODtcbnZhciBTVEFURV9SRUNPR05JWkVEID0gU1RBVEVfRU5ERUQ7XG52YXIgU1RBVEVfQ0FOQ0VMTEVEID0gMTY7XG52YXIgU1RBVEVfRkFJTEVEID0gMzI7XG5cbi8qKlxuICogUmVjb2duaXplclxuICogRXZlcnkgcmVjb2duaXplciBuZWVkcyB0byBleHRlbmQgZnJvbSB0aGlzIGNsYXNzLlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICovXG5mdW5jdGlvbiBSZWNvZ25pemVyKG9wdGlvbnMpIHtcbiAgICB0aGlzLm9wdGlvbnMgPSBhc3NpZ24oe30sIHRoaXMuZGVmYXVsdHMsIG9wdGlvbnMgfHwge30pO1xuXG4gICAgdGhpcy5pZCA9IHVuaXF1ZUlkKCk7XG5cbiAgICB0aGlzLm1hbmFnZXIgPSBudWxsO1xuXG4gICAgLy8gZGVmYXVsdCBpcyBlbmFibGUgdHJ1ZVxuICAgIHRoaXMub3B0aW9ucy5lbmFibGUgPSBpZlVuZGVmaW5lZCh0aGlzLm9wdGlvbnMuZW5hYmxlLCB0cnVlKTtcblxuICAgIHRoaXMuc3RhdGUgPSBTVEFURV9QT1NTSUJMRTtcblxuICAgIHRoaXMuc2ltdWx0YW5lb3VzID0ge307XG4gICAgdGhpcy5yZXF1aXJlRmFpbCA9IFtdO1xufVxuXG5SZWNvZ25pemVyLnByb3RvdHlwZSA9IHtcbiAgICAvKipcbiAgICAgKiBAdmlydHVhbFxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICovXG4gICAgZGVmYXVsdHM6IHt9LFxuXG4gICAgLyoqXG4gICAgICogc2V0IG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAqIEByZXR1cm4ge1JlY29nbml6ZXJ9XG4gICAgICovXG4gICAgc2V0OiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICAgIGFzc2lnbih0aGlzLm9wdGlvbnMsIG9wdGlvbnMpO1xuXG4gICAgICAgIC8vIGFsc28gdXBkYXRlIHRoZSB0b3VjaEFjdGlvbiwgaW4gY2FzZSBzb21ldGhpbmcgY2hhbmdlZCBhYm91dCB0aGUgZGlyZWN0aW9ucy9lbmFibGVkIHN0YXRlXG4gICAgICAgIHRoaXMubWFuYWdlciAmJiB0aGlzLm1hbmFnZXIudG91Y2hBY3Rpb24udXBkYXRlKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiByZWNvZ25pemUgc2ltdWx0YW5lb3VzIHdpdGggYW4gb3RoZXIgcmVjb2duaXplci5cbiAgICAgKiBAcGFyYW0ge1JlY29nbml6ZXJ9IG90aGVyUmVjb2duaXplclxuICAgICAqIEByZXR1cm5zIHtSZWNvZ25pemVyfSB0aGlzXG4gICAgICovXG4gICAgcmVjb2duaXplV2l0aDogZnVuY3Rpb24ob3RoZXJSZWNvZ25pemVyKSB7XG4gICAgICAgIGlmIChpbnZva2VBcnJheUFyZyhvdGhlclJlY29nbml6ZXIsICdyZWNvZ25pemVXaXRoJywgdGhpcykpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNpbXVsdGFuZW91cyA9IHRoaXMuc2ltdWx0YW5lb3VzO1xuICAgICAgICBvdGhlclJlY29nbml6ZXIgPSBnZXRSZWNvZ25pemVyQnlOYW1lSWZNYW5hZ2VyKG90aGVyUmVjb2duaXplciwgdGhpcyk7XG4gICAgICAgIGlmICghc2ltdWx0YW5lb3VzW290aGVyUmVjb2duaXplci5pZF0pIHtcbiAgICAgICAgICAgIHNpbXVsdGFuZW91c1tvdGhlclJlY29nbml6ZXIuaWRdID0gb3RoZXJSZWNvZ25pemVyO1xuICAgICAgICAgICAgb3RoZXJSZWNvZ25pemVyLnJlY29nbml6ZVdpdGgodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGRyb3AgdGhlIHNpbXVsdGFuZW91cyBsaW5rLiBpdCBkb2VzbnQgcmVtb3ZlIHRoZSBsaW5rIG9uIHRoZSBvdGhlciByZWNvZ25pemVyLlxuICAgICAqIEBwYXJhbSB7UmVjb2duaXplcn0gb3RoZXJSZWNvZ25pemVyXG4gICAgICogQHJldHVybnMge1JlY29nbml6ZXJ9IHRoaXNcbiAgICAgKi9cbiAgICBkcm9wUmVjb2duaXplV2l0aDogZnVuY3Rpb24ob3RoZXJSZWNvZ25pemVyKSB7XG4gICAgICAgIGlmIChpbnZva2VBcnJheUFyZyhvdGhlclJlY29nbml6ZXIsICdkcm9wUmVjb2duaXplV2l0aCcsIHRoaXMpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIG90aGVyUmVjb2duaXplciA9IGdldFJlY29nbml6ZXJCeU5hbWVJZk1hbmFnZXIob3RoZXJSZWNvZ25pemVyLCB0aGlzKTtcbiAgICAgICAgZGVsZXRlIHRoaXMuc2ltdWx0YW5lb3VzW290aGVyUmVjb2duaXplci5pZF07XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiByZWNvZ25pemVyIGNhbiBvbmx5IHJ1biB3aGVuIGFuIG90aGVyIGlzIGZhaWxpbmdcbiAgICAgKiBAcGFyYW0ge1JlY29nbml6ZXJ9IG90aGVyUmVjb2duaXplclxuICAgICAqIEByZXR1cm5zIHtSZWNvZ25pemVyfSB0aGlzXG4gICAgICovXG4gICAgcmVxdWlyZUZhaWx1cmU6IGZ1bmN0aW9uKG90aGVyUmVjb2duaXplcikge1xuICAgICAgICBpZiAoaW52b2tlQXJyYXlBcmcob3RoZXJSZWNvZ25pemVyLCAncmVxdWlyZUZhaWx1cmUnLCB0aGlzKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcmVxdWlyZUZhaWwgPSB0aGlzLnJlcXVpcmVGYWlsO1xuICAgICAgICBvdGhlclJlY29nbml6ZXIgPSBnZXRSZWNvZ25pemVyQnlOYW1lSWZNYW5hZ2VyKG90aGVyUmVjb2duaXplciwgdGhpcyk7XG4gICAgICAgIGlmIChpbkFycmF5KHJlcXVpcmVGYWlsLCBvdGhlclJlY29nbml6ZXIpID09PSAtMSkge1xuICAgICAgICAgICAgcmVxdWlyZUZhaWwucHVzaChvdGhlclJlY29nbml6ZXIpO1xuICAgICAgICAgICAgb3RoZXJSZWNvZ25pemVyLnJlcXVpcmVGYWlsdXJlKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBkcm9wIHRoZSByZXF1aXJlRmFpbHVyZSBsaW5rLiBpdCBkb2VzIG5vdCByZW1vdmUgdGhlIGxpbmsgb24gdGhlIG90aGVyIHJlY29nbml6ZXIuXG4gICAgICogQHBhcmFtIHtSZWNvZ25pemVyfSBvdGhlclJlY29nbml6ZXJcbiAgICAgKiBAcmV0dXJucyB7UmVjb2duaXplcn0gdGhpc1xuICAgICAqL1xuICAgIGRyb3BSZXF1aXJlRmFpbHVyZTogZnVuY3Rpb24ob3RoZXJSZWNvZ25pemVyKSB7XG4gICAgICAgIGlmIChpbnZva2VBcnJheUFyZyhvdGhlclJlY29nbml6ZXIsICdkcm9wUmVxdWlyZUZhaWx1cmUnLCB0aGlzKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBvdGhlclJlY29nbml6ZXIgPSBnZXRSZWNvZ25pemVyQnlOYW1lSWZNYW5hZ2VyKG90aGVyUmVjb2duaXplciwgdGhpcyk7XG4gICAgICAgIHZhciBpbmRleCA9IGluQXJyYXkodGhpcy5yZXF1aXJlRmFpbCwgb3RoZXJSZWNvZ25pemVyKTtcbiAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgIHRoaXMucmVxdWlyZUZhaWwuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogaGFzIHJlcXVpcmUgZmFpbHVyZXMgYm9vbGVhblxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIGhhc1JlcXVpcmVGYWlsdXJlczogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlcXVpcmVGYWlsLmxlbmd0aCA+IDA7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGlmIHRoZSByZWNvZ25pemVyIGNhbiByZWNvZ25pemUgc2ltdWx0YW5lb3VzIHdpdGggYW4gb3RoZXIgcmVjb2duaXplclxuICAgICAqIEBwYXJhbSB7UmVjb2duaXplcn0gb3RoZXJSZWNvZ25pemVyXG4gICAgICogQHJldHVybnMge0Jvb2xlYW59XG4gICAgICovXG4gICAgY2FuUmVjb2duaXplV2l0aDogZnVuY3Rpb24ob3RoZXJSZWNvZ25pemVyKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuc2ltdWx0YW5lb3VzW290aGVyUmVjb2duaXplci5pZF07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFlvdSBzaG91bGQgdXNlIGB0cnlFbWl0YCBpbnN0ZWFkIG9mIGBlbWl0YCBkaXJlY3RseSB0byBjaGVja1xuICAgICAqIHRoYXQgYWxsIHRoZSBuZWVkZWQgcmVjb2duaXplcnMgaGFzIGZhaWxlZCBiZWZvcmUgZW1pdHRpbmcuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG4gICAgICovXG4gICAgZW1pdDogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YXRlO1xuXG4gICAgICAgIGZ1bmN0aW9uIGVtaXQoZXZlbnQpIHtcbiAgICAgICAgICAgIHNlbGYubWFuYWdlci5lbWl0KGV2ZW50LCBpbnB1dCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyAncGFuc3RhcnQnIGFuZCAncGFubW92ZSdcbiAgICAgICAgaWYgKHN0YXRlIDwgU1RBVEVfRU5ERUQpIHtcbiAgICAgICAgICAgIGVtaXQoc2VsZi5vcHRpb25zLmV2ZW50ICsgc3RhdGVTdHIoc3RhdGUpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVtaXQoc2VsZi5vcHRpb25zLmV2ZW50KTsgLy8gc2ltcGxlICdldmVudE5hbWUnIGV2ZW50c1xuXG4gICAgICAgIGlmIChpbnB1dC5hZGRpdGlvbmFsRXZlbnQpIHsgLy8gYWRkaXRpb25hbCBldmVudChwYW5sZWZ0LCBwYW5yaWdodCwgcGluY2hpbiwgcGluY2hvdXQuLi4pXG4gICAgICAgICAgICBlbWl0KGlucHV0LmFkZGl0aW9uYWxFdmVudCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBwYW5lbmQgYW5kIHBhbmNhbmNlbFxuICAgICAgICBpZiAoc3RhdGUgPj0gU1RBVEVfRU5ERUQpIHtcbiAgICAgICAgICAgIGVtaXQoc2VsZi5vcHRpb25zLmV2ZW50ICsgc3RhdGVTdHIoc3RhdGUpKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGVjayB0aGF0IGFsbCB0aGUgcmVxdWlyZSBmYWlsdXJlIHJlY29nbml6ZXJzIGhhcyBmYWlsZWQsXG4gICAgICogaWYgdHJ1ZSwgaXQgZW1pdHMgYSBnZXN0dXJlIGV2ZW50LFxuICAgICAqIG90aGVyd2lzZSwgc2V0dXAgdGhlIHN0YXRlIHRvIEZBSUxFRC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5wdXRcbiAgICAgKi9cbiAgICB0cnlFbWl0OiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICBpZiAodGhpcy5jYW5FbWl0KCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVtaXQoaW5wdXQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGl0J3MgZmFpbGluZyBhbnl3YXlcbiAgICAgICAgdGhpcy5zdGF0ZSA9IFNUQVRFX0ZBSUxFRDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogY2FuIHdlIGVtaXQ/XG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgY2FuRW1pdDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgd2hpbGUgKGkgPCB0aGlzLnJlcXVpcmVGYWlsLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKCEodGhpcy5yZXF1aXJlRmFpbFtpXS5zdGF0ZSAmIChTVEFURV9GQUlMRUQgfCBTVEFURV9QT1NTSUJMRSkpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiB1cGRhdGUgdGhlIHJlY29nbml6ZXJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5wdXREYXRhXG4gICAgICovXG4gICAgcmVjb2duaXplOiBmdW5jdGlvbihpbnB1dERhdGEpIHtcbiAgICAgICAgLy8gbWFrZSBhIG5ldyBjb3B5IG9mIHRoZSBpbnB1dERhdGFcbiAgICAgICAgLy8gc28gd2UgY2FuIGNoYW5nZSB0aGUgaW5wdXREYXRhIHdpdGhvdXQgbWVzc2luZyB1cCB0aGUgb3RoZXIgcmVjb2duaXplcnNcbiAgICAgICAgdmFyIGlucHV0RGF0YUNsb25lID0gYXNzaWduKHt9LCBpbnB1dERhdGEpO1xuXG4gICAgICAgIC8vIGlzIGlzIGVuYWJsZWQgYW5kIGFsbG93IHJlY29nbml6aW5nP1xuICAgICAgICBpZiAoIWJvb2xPckZuKHRoaXMub3B0aW9ucy5lbmFibGUsIFt0aGlzLCBpbnB1dERhdGFDbG9uZV0pKSB7XG4gICAgICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gU1RBVEVfRkFJTEVEO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmVzZXQgd2hlbiB3ZSd2ZSByZWFjaGVkIHRoZSBlbmRcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgJiAoU1RBVEVfUkVDT0dOSVpFRCB8IFNUQVRFX0NBTkNFTExFRCB8IFNUQVRFX0ZBSUxFRCkpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTVEFURV9QT1NTSUJMRTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc3RhdGUgPSB0aGlzLnByb2Nlc3MoaW5wdXREYXRhQ2xvbmUpO1xuXG4gICAgICAgIC8vIHRoZSByZWNvZ25pemVyIGhhcyByZWNvZ25pemVkIGEgZ2VzdHVyZVxuICAgICAgICAvLyBzbyB0cmlnZ2VyIGFuIGV2ZW50XG4gICAgICAgIGlmICh0aGlzLnN0YXRlICYgKFNUQVRFX0JFR0FOIHwgU1RBVEVfQ0hBTkdFRCB8IFNUQVRFX0VOREVEIHwgU1RBVEVfQ0FOQ0VMTEVEKSkge1xuICAgICAgICAgICAgdGhpcy50cnlFbWl0KGlucHV0RGF0YUNsb25lKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiByZXR1cm4gdGhlIHN0YXRlIG9mIHRoZSByZWNvZ25pemVyXG4gICAgICogdGhlIGFjdHVhbCByZWNvZ25pemluZyBoYXBwZW5zIGluIHRoaXMgbWV0aG9kXG4gICAgICogQHZpcnR1YWxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5wdXREYXRhXG4gICAgICogQHJldHVybnMge0NvbnN0fSBTVEFURVxuICAgICAqL1xuICAgIHByb2Nlc3M6IGZ1bmN0aW9uKGlucHV0RGF0YSkgeyB9LCAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuICAgIC8qKlxuICAgICAqIHJldHVybiB0aGUgcHJlZmVycmVkIHRvdWNoLWFjdGlvblxuICAgICAqIEB2aXJ0dWFsXG4gICAgICogQHJldHVybnMge0FycmF5fVxuICAgICAqL1xuICAgIGdldFRvdWNoQWN0aW9uOiBmdW5jdGlvbigpIHsgfSxcblxuICAgIC8qKlxuICAgICAqIGNhbGxlZCB3aGVuIHRoZSBnZXN0dXJlIGlzbid0IGFsbG93ZWQgdG8gcmVjb2duaXplXG4gICAgICogbGlrZSB3aGVuIGFub3RoZXIgaXMgYmVpbmcgcmVjb2duaXplZCBvciBpdCBpcyBkaXNhYmxlZFxuICAgICAqIEB2aXJ0dWFsXG4gICAgICovXG4gICAgcmVzZXQ6IGZ1bmN0aW9uKCkgeyB9XG59O1xuXG4vKipcbiAqIGdldCBhIHVzYWJsZSBzdHJpbmcsIHVzZWQgYXMgZXZlbnQgcG9zdGZpeFxuICogQHBhcmFtIHtDb25zdH0gc3RhdGVcbiAqIEByZXR1cm5zIHtTdHJpbmd9IHN0YXRlXG4gKi9cbmZ1bmN0aW9uIHN0YXRlU3RyKHN0YXRlKSB7XG4gICAgaWYgKHN0YXRlICYgU1RBVEVfQ0FOQ0VMTEVEKSB7XG4gICAgICAgIHJldHVybiAnY2FuY2VsJztcbiAgICB9IGVsc2UgaWYgKHN0YXRlICYgU1RBVEVfRU5ERUQpIHtcbiAgICAgICAgcmV0dXJuICdlbmQnO1xuICAgIH0gZWxzZSBpZiAoc3RhdGUgJiBTVEFURV9DSEFOR0VEKSB7XG4gICAgICAgIHJldHVybiAnbW92ZSc7XG4gICAgfSBlbHNlIGlmIChzdGF0ZSAmIFNUQVRFX0JFR0FOKSB7XG4gICAgICAgIHJldHVybiAnc3RhcnQnO1xuICAgIH1cbiAgICByZXR1cm4gJyc7XG59XG5cbi8qKlxuICogZGlyZWN0aW9uIGNvbnMgdG8gc3RyaW5nXG4gKiBAcGFyYW0ge0NvbnN0fSBkaXJlY3Rpb25cbiAqIEByZXR1cm5zIHtTdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGRpcmVjdGlvblN0cihkaXJlY3Rpb24pIHtcbiAgICBpZiAoZGlyZWN0aW9uID09IERJUkVDVElPTl9ET1dOKSB7XG4gICAgICAgIHJldHVybiAnZG93bic7XG4gICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPT0gRElSRUNUSU9OX1VQKSB7XG4gICAgICAgIHJldHVybiAndXAnO1xuICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09IERJUkVDVElPTl9MRUZUKSB7XG4gICAgICAgIHJldHVybiAnbGVmdCc7XG4gICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPT0gRElSRUNUSU9OX1JJR0hUKSB7XG4gICAgICAgIHJldHVybiAncmlnaHQnO1xuICAgIH1cbiAgICByZXR1cm4gJyc7XG59XG5cbi8qKlxuICogZ2V0IGEgcmVjb2duaXplciBieSBuYW1lIGlmIGl0IGlzIGJvdW5kIHRvIGEgbWFuYWdlclxuICogQHBhcmFtIHtSZWNvZ25pemVyfFN0cmluZ30gb3RoZXJSZWNvZ25pemVyXG4gKiBAcGFyYW0ge1JlY29nbml6ZXJ9IHJlY29nbml6ZXJcbiAqIEByZXR1cm5zIHtSZWNvZ25pemVyfVxuICovXG5mdW5jdGlvbiBnZXRSZWNvZ25pemVyQnlOYW1lSWZNYW5hZ2VyKG90aGVyUmVjb2duaXplciwgcmVjb2duaXplcikge1xuICAgIHZhciBtYW5hZ2VyID0gcmVjb2duaXplci5tYW5hZ2VyO1xuICAgIGlmIChtYW5hZ2VyKSB7XG4gICAgICAgIHJldHVybiBtYW5hZ2VyLmdldChvdGhlclJlY29nbml6ZXIpO1xuICAgIH1cbiAgICByZXR1cm4gb3RoZXJSZWNvZ25pemVyO1xufVxuXG4vKipcbiAqIFRoaXMgcmVjb2duaXplciBpcyBqdXN0IHVzZWQgYXMgYSBiYXNlIGZvciB0aGUgc2ltcGxlIGF0dHJpYnV0ZSByZWNvZ25pemVycy5cbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgUmVjb2duaXplclxuICovXG5mdW5jdGlvbiBBdHRyUmVjb2duaXplcigpIHtcbiAgICBSZWNvZ25pemVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmluaGVyaXQoQXR0clJlY29nbml6ZXIsIFJlY29nbml6ZXIsIHtcbiAgICAvKipcbiAgICAgKiBAbmFtZXNwYWNlXG4gICAgICogQG1lbWJlcm9mIEF0dHJSZWNvZ25pemVyXG4gICAgICovXG4gICAgZGVmYXVsdHM6IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG4gICAgICAgIHBvaW50ZXJzOiAxXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFVzZWQgdG8gY2hlY2sgaWYgaXQgdGhlIHJlY29nbml6ZXIgcmVjZWl2ZXMgdmFsaWQgaW5wdXQsIGxpa2UgaW5wdXQuZGlzdGFuY2UgPiAxMC5cbiAgICAgKiBAbWVtYmVyb2YgQXR0clJlY29nbml6ZXJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5wdXRcbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gcmVjb2duaXplZFxuICAgICAqL1xuICAgIGF0dHJUZXN0OiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICB2YXIgb3B0aW9uUG9pbnRlcnMgPSB0aGlzLm9wdGlvbnMucG9pbnRlcnM7XG4gICAgICAgIHJldHVybiBvcHRpb25Qb2ludGVycyA9PT0gMCB8fCBpbnB1dC5wb2ludGVycy5sZW5ndGggPT09IG9wdGlvblBvaW50ZXJzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBQcm9jZXNzIHRoZSBpbnB1dCBhbmQgcmV0dXJuIHRoZSBzdGF0ZSBmb3IgdGhlIHJlY29nbml6ZXJcbiAgICAgKiBAbWVtYmVyb2YgQXR0clJlY29nbml6ZXJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5wdXRcbiAgICAgKiBAcmV0dXJucyB7Kn0gU3RhdGVcbiAgICAgKi9cbiAgICBwcm9jZXNzOiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgICAgICB2YXIgZXZlbnRUeXBlID0gaW5wdXQuZXZlbnRUeXBlO1xuXG4gICAgICAgIHZhciBpc1JlY29nbml6ZWQgPSBzdGF0ZSAmIChTVEFURV9CRUdBTiB8IFNUQVRFX0NIQU5HRUQpO1xuICAgICAgICB2YXIgaXNWYWxpZCA9IHRoaXMuYXR0clRlc3QoaW5wdXQpO1xuXG4gICAgICAgIC8vIG9uIGNhbmNlbCBpbnB1dCBhbmQgd2UndmUgcmVjb2duaXplZCBiZWZvcmUsIHJldHVybiBTVEFURV9DQU5DRUxMRURcbiAgICAgICAgaWYgKGlzUmVjb2duaXplZCAmJiAoZXZlbnRUeXBlICYgSU5QVVRfQ0FOQ0VMIHx8ICFpc1ZhbGlkKSkge1xuICAgICAgICAgICAgcmV0dXJuIHN0YXRlIHwgU1RBVEVfQ0FOQ0VMTEVEO1xuICAgICAgICB9IGVsc2UgaWYgKGlzUmVjb2duaXplZCB8fCBpc1ZhbGlkKSB7XG4gICAgICAgICAgICBpZiAoZXZlbnRUeXBlICYgSU5QVVRfRU5EKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlIHwgU1RBVEVfRU5ERUQ7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCEoc3RhdGUgJiBTVEFURV9CRUdBTikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gU1RBVEVfQkVHQU47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gc3RhdGUgfCBTVEFURV9DSEFOR0VEO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBTVEFURV9GQUlMRUQ7XG4gICAgfVxufSk7XG5cbi8qKlxuICogUGFuXG4gKiBSZWNvZ25pemVkIHdoZW4gdGhlIHBvaW50ZXIgaXMgZG93biBhbmQgbW92ZWQgaW4gdGhlIGFsbG93ZWQgZGlyZWN0aW9uLlxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBBdHRyUmVjb2duaXplclxuICovXG5mdW5jdGlvbiBQYW5SZWNvZ25pemVyKCkge1xuICAgIEF0dHJSZWNvZ25pemVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cbiAgICB0aGlzLnBYID0gbnVsbDtcbiAgICB0aGlzLnBZID0gbnVsbDtcbn1cblxuaW5oZXJpdChQYW5SZWNvZ25pemVyLCBBdHRyUmVjb2duaXplciwge1xuICAgIC8qKlxuICAgICAqIEBuYW1lc3BhY2VcbiAgICAgKiBAbWVtYmVyb2YgUGFuUmVjb2duaXplclxuICAgICAqL1xuICAgIGRlZmF1bHRzOiB7XG4gICAgICAgIGV2ZW50OiAncGFuJyxcbiAgICAgICAgdGhyZXNob2xkOiAxMCxcbiAgICAgICAgcG9pbnRlcnM6IDEsXG4gICAgICAgIGRpcmVjdGlvbjogRElSRUNUSU9OX0FMTFxuICAgIH0sXG5cbiAgICBnZXRUb3VjaEFjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBkaXJlY3Rpb24gPSB0aGlzLm9wdGlvbnMuZGlyZWN0aW9uO1xuICAgICAgICB2YXIgYWN0aW9ucyA9IFtdO1xuICAgICAgICBpZiAoZGlyZWN0aW9uICYgRElSRUNUSU9OX0hPUklaT05UQUwpIHtcbiAgICAgICAgICAgIGFjdGlvbnMucHVzaChUT1VDSF9BQ1RJT05fUEFOX1kpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkaXJlY3Rpb24gJiBESVJFQ1RJT05fVkVSVElDQUwpIHtcbiAgICAgICAgICAgIGFjdGlvbnMucHVzaChUT1VDSF9BQ1RJT05fUEFOX1gpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhY3Rpb25zO1xuICAgIH0sXG5cbiAgICBkaXJlY3Rpb25UZXN0OiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgdmFyIGhhc01vdmVkID0gdHJ1ZTtcbiAgICAgICAgdmFyIGRpc3RhbmNlID0gaW5wdXQuZGlzdGFuY2U7XG4gICAgICAgIHZhciBkaXJlY3Rpb24gPSBpbnB1dC5kaXJlY3Rpb247XG4gICAgICAgIHZhciB4ID0gaW5wdXQuZGVsdGFYO1xuICAgICAgICB2YXIgeSA9IGlucHV0LmRlbHRhWTtcblxuICAgICAgICAvLyBsb2NrIHRvIGF4aXM/XG4gICAgICAgIGlmICghKGRpcmVjdGlvbiAmIG9wdGlvbnMuZGlyZWN0aW9uKSkge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMuZGlyZWN0aW9uICYgRElSRUNUSU9OX0hPUklaT05UQUwpIHtcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSAoeCA9PT0gMCkgPyBESVJFQ1RJT05fTk9ORSA6ICh4IDwgMCkgPyBESVJFQ1RJT05fTEVGVCA6IERJUkVDVElPTl9SSUdIVDtcbiAgICAgICAgICAgICAgICBoYXNNb3ZlZCA9IHggIT0gdGhpcy5wWDtcbiAgICAgICAgICAgICAgICBkaXN0YW5jZSA9IE1hdGguYWJzKGlucHV0LmRlbHRhWCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9ICh5ID09PSAwKSA/IERJUkVDVElPTl9OT05FIDogKHkgPCAwKSA/IERJUkVDVElPTl9VUCA6IERJUkVDVElPTl9ET1dOO1xuICAgICAgICAgICAgICAgIGhhc01vdmVkID0geSAhPSB0aGlzLnBZO1xuICAgICAgICAgICAgICAgIGRpc3RhbmNlID0gTWF0aC5hYnMoaW5wdXQuZGVsdGFZKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpbnB1dC5kaXJlY3Rpb24gPSBkaXJlY3Rpb247XG4gICAgICAgIHJldHVybiBoYXNNb3ZlZCAmJiBkaXN0YW5jZSA+IG9wdGlvbnMudGhyZXNob2xkICYmIGRpcmVjdGlvbiAmIG9wdGlvbnMuZGlyZWN0aW9uO1xuICAgIH0sXG5cbiAgICBhdHRyVGVzdDogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIEF0dHJSZWNvZ25pemVyLnByb3RvdHlwZS5hdHRyVGVzdC5jYWxsKHRoaXMsIGlucHV0KSAmJlxuICAgICAgICAgICAgKHRoaXMuc3RhdGUgJiBTVEFURV9CRUdBTiB8fCAoISh0aGlzLnN0YXRlICYgU1RBVEVfQkVHQU4pICYmIHRoaXMuZGlyZWN0aW9uVGVzdChpbnB1dCkpKTtcbiAgICB9LFxuXG4gICAgZW1pdDogZnVuY3Rpb24oaW5wdXQpIHtcblxuICAgICAgICB0aGlzLnBYID0gaW5wdXQuZGVsdGFYO1xuICAgICAgICB0aGlzLnBZID0gaW5wdXQuZGVsdGFZO1xuXG4gICAgICAgIHZhciBkaXJlY3Rpb24gPSBkaXJlY3Rpb25TdHIoaW5wdXQuZGlyZWN0aW9uKTtcblxuICAgICAgICBpZiAoZGlyZWN0aW9uKSB7XG4gICAgICAgICAgICBpbnB1dC5hZGRpdGlvbmFsRXZlbnQgPSB0aGlzLm9wdGlvbnMuZXZlbnQgKyBkaXJlY3Rpb247XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc3VwZXIuZW1pdC5jYWxsKHRoaXMsIGlucHV0KTtcbiAgICB9XG59KTtcblxuLyoqXG4gKiBQaW5jaFxuICogUmVjb2duaXplZCB3aGVuIHR3byBvciBtb3JlIHBvaW50ZXJzIGFyZSBtb3ZpbmcgdG93YXJkICh6b29tLWluKSBvciBhd2F5IGZyb20gZWFjaCBvdGhlciAoem9vbS1vdXQpLlxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBBdHRyUmVjb2duaXplclxuICovXG5mdW5jdGlvbiBQaW5jaFJlY29nbml6ZXIoKSB7XG4gICAgQXR0clJlY29nbml6ZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuaW5oZXJpdChQaW5jaFJlY29nbml6ZXIsIEF0dHJSZWNvZ25pemVyLCB7XG4gICAgLyoqXG4gICAgICogQG5hbWVzcGFjZVxuICAgICAqIEBtZW1iZXJvZiBQaW5jaFJlY29nbml6ZXJcbiAgICAgKi9cbiAgICBkZWZhdWx0czoge1xuICAgICAgICBldmVudDogJ3BpbmNoJyxcbiAgICAgICAgdGhyZXNob2xkOiAwLFxuICAgICAgICBwb2ludGVyczogMlxuICAgIH0sXG5cbiAgICBnZXRUb3VjaEFjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBbVE9VQ0hfQUNUSU9OX05PTkVdO1xuICAgIH0sXG5cbiAgICBhdHRyVGVzdDogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N1cGVyLmF0dHJUZXN0LmNhbGwodGhpcywgaW5wdXQpICYmXG4gICAgICAgICAgICAoTWF0aC5hYnMoaW5wdXQuc2NhbGUgLSAxKSA+IHRoaXMub3B0aW9ucy50aHJlc2hvbGQgfHwgdGhpcy5zdGF0ZSAmIFNUQVRFX0JFR0FOKTtcbiAgICB9LFxuXG4gICAgZW1pdDogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgaWYgKGlucHV0LnNjYWxlICE9PSAxKSB7XG4gICAgICAgICAgICB2YXIgaW5PdXQgPSBpbnB1dC5zY2FsZSA8IDEgPyAnaW4nIDogJ291dCc7XG4gICAgICAgICAgICBpbnB1dC5hZGRpdGlvbmFsRXZlbnQgPSB0aGlzLm9wdGlvbnMuZXZlbnQgKyBpbk91dDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zdXBlci5lbWl0LmNhbGwodGhpcywgaW5wdXQpO1xuICAgIH1cbn0pO1xuXG4vKipcbiAqIFByZXNzXG4gKiBSZWNvZ25pemVkIHdoZW4gdGhlIHBvaW50ZXIgaXMgZG93biBmb3IgeCBtcyB3aXRob3V0IGFueSBtb3ZlbWVudC5cbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgUmVjb2duaXplclxuICovXG5mdW5jdGlvbiBQcmVzc1JlY29nbml6ZXIoKSB7XG4gICAgUmVjb2duaXplci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG4gICAgdGhpcy5fdGltZXIgPSBudWxsO1xuICAgIHRoaXMuX2lucHV0ID0gbnVsbDtcbn1cblxuaW5oZXJpdChQcmVzc1JlY29nbml6ZXIsIFJlY29nbml6ZXIsIHtcbiAgICAvKipcbiAgICAgKiBAbmFtZXNwYWNlXG4gICAgICogQG1lbWJlcm9mIFByZXNzUmVjb2duaXplclxuICAgICAqL1xuICAgIGRlZmF1bHRzOiB7XG4gICAgICAgIGV2ZW50OiAncHJlc3MnLFxuICAgICAgICBwb2ludGVyczogMSxcbiAgICAgICAgdGltZTogMjUxLCAvLyBtaW5pbWFsIHRpbWUgb2YgdGhlIHBvaW50ZXIgdG8gYmUgcHJlc3NlZFxuICAgICAgICB0aHJlc2hvbGQ6IDkgLy8gYSBtaW5pbWFsIG1vdmVtZW50IGlzIG9rLCBidXQga2VlcCBpdCBsb3dcbiAgICB9LFxuXG4gICAgZ2V0VG91Y2hBY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gW1RPVUNIX0FDVElPTl9BVVRPXTtcbiAgICB9LFxuXG4gICAgcHJvY2VzczogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIHZhciB2YWxpZFBvaW50ZXJzID0gaW5wdXQucG9pbnRlcnMubGVuZ3RoID09PSBvcHRpb25zLnBvaW50ZXJzO1xuICAgICAgICB2YXIgdmFsaWRNb3ZlbWVudCA9IGlucHV0LmRpc3RhbmNlIDwgb3B0aW9ucy50aHJlc2hvbGQ7XG4gICAgICAgIHZhciB2YWxpZFRpbWUgPSBpbnB1dC5kZWx0YVRpbWUgPiBvcHRpb25zLnRpbWU7XG5cbiAgICAgICAgdGhpcy5faW5wdXQgPSBpbnB1dDtcblxuICAgICAgICAvLyB3ZSBvbmx5IGFsbG93IGxpdHRsZSBtb3ZlbWVudFxuICAgICAgICAvLyBhbmQgd2UndmUgcmVhY2hlZCBhbiBlbmQgZXZlbnQsIHNvIGEgdGFwIGlzIHBvc3NpYmxlXG4gICAgICAgIGlmICghdmFsaWRNb3ZlbWVudCB8fCAhdmFsaWRQb2ludGVycyB8fCAoaW5wdXQuZXZlbnRUeXBlICYgKElOUFVUX0VORCB8IElOUFVUX0NBTkNFTCkgJiYgIXZhbGlkVGltZSkpIHtcbiAgICAgICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgfSBlbHNlIGlmIChpbnB1dC5ldmVudFR5cGUgJiBJTlBVVF9TVEFSVCkge1xuICAgICAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgICAgICAgdGhpcy5fdGltZXIgPSBzZXRUaW1lb3V0Q29udGV4dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gU1RBVEVfUkVDT0dOSVpFRDtcbiAgICAgICAgICAgICAgICB0aGlzLnRyeUVtaXQoKTtcbiAgICAgICAgICAgIH0sIG9wdGlvbnMudGltZSwgdGhpcyk7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5wdXQuZXZlbnRUeXBlICYgSU5QVVRfRU5EKSB7XG4gICAgICAgICAgICByZXR1cm4gU1RBVEVfUkVDT0dOSVpFRDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gU1RBVEVfRkFJTEVEO1xuICAgIH0sXG5cbiAgICByZXNldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl90aW1lcik7XG4gICAgfSxcblxuICAgIGVtaXQ6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlICE9PSBTVEFURV9SRUNPR05JWkVEKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaW5wdXQgJiYgKGlucHV0LmV2ZW50VHlwZSAmIElOUFVUX0VORCkpIHtcbiAgICAgICAgICAgIHRoaXMubWFuYWdlci5lbWl0KHRoaXMub3B0aW9ucy5ldmVudCArICd1cCcsIGlucHV0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2lucHV0LnRpbWVTdGFtcCA9IG5vdygpO1xuICAgICAgICAgICAgdGhpcy5tYW5hZ2VyLmVtaXQodGhpcy5vcHRpb25zLmV2ZW50LCB0aGlzLl9pbnB1dCk7XG4gICAgICAgIH1cbiAgICB9XG59KTtcblxuLyoqXG4gKiBSb3RhdGVcbiAqIFJlY29nbml6ZWQgd2hlbiB0d28gb3IgbW9yZSBwb2ludGVyIGFyZSBtb3ZpbmcgaW4gYSBjaXJjdWxhciBtb3Rpb24uXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIEF0dHJSZWNvZ25pemVyXG4gKi9cbmZ1bmN0aW9uIFJvdGF0ZVJlY29nbml6ZXIoKSB7XG4gICAgQXR0clJlY29nbml6ZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuaW5oZXJpdChSb3RhdGVSZWNvZ25pemVyLCBBdHRyUmVjb2duaXplciwge1xuICAgIC8qKlxuICAgICAqIEBuYW1lc3BhY2VcbiAgICAgKiBAbWVtYmVyb2YgUm90YXRlUmVjb2duaXplclxuICAgICAqL1xuICAgIGRlZmF1bHRzOiB7XG4gICAgICAgIGV2ZW50OiAncm90YXRlJyxcbiAgICAgICAgdGhyZXNob2xkOiAwLFxuICAgICAgICBwb2ludGVyczogMlxuICAgIH0sXG5cbiAgICBnZXRUb3VjaEFjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBbVE9VQ0hfQUNUSU9OX05PTkVdO1xuICAgIH0sXG5cbiAgICBhdHRyVGVzdDogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N1cGVyLmF0dHJUZXN0LmNhbGwodGhpcywgaW5wdXQpICYmXG4gICAgICAgICAgICAoTWF0aC5hYnMoaW5wdXQucm90YXRpb24pID4gdGhpcy5vcHRpb25zLnRocmVzaG9sZCB8fCB0aGlzLnN0YXRlICYgU1RBVEVfQkVHQU4pO1xuICAgIH1cbn0pO1xuXG4vKipcbiAqIFN3aXBlXG4gKiBSZWNvZ25pemVkIHdoZW4gdGhlIHBvaW50ZXIgaXMgbW92aW5nIGZhc3QgKHZlbG9jaXR5KSwgd2l0aCBlbm91Z2ggZGlzdGFuY2UgaW4gdGhlIGFsbG93ZWQgZGlyZWN0aW9uLlxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBBdHRyUmVjb2duaXplclxuICovXG5mdW5jdGlvbiBTd2lwZVJlY29nbml6ZXIoKSB7XG4gICAgQXR0clJlY29nbml6ZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuaW5oZXJpdChTd2lwZVJlY29nbml6ZXIsIEF0dHJSZWNvZ25pemVyLCB7XG4gICAgLyoqXG4gICAgICogQG5hbWVzcGFjZVxuICAgICAqIEBtZW1iZXJvZiBTd2lwZVJlY29nbml6ZXJcbiAgICAgKi9cbiAgICBkZWZhdWx0czoge1xuICAgICAgICBldmVudDogJ3N3aXBlJyxcbiAgICAgICAgdGhyZXNob2xkOiAxMCxcbiAgICAgICAgdmVsb2NpdHk6IDAuMyxcbiAgICAgICAgZGlyZWN0aW9uOiBESVJFQ1RJT05fSE9SSVpPTlRBTCB8IERJUkVDVElPTl9WRVJUSUNBTCxcbiAgICAgICAgcG9pbnRlcnM6IDFcbiAgICB9LFxuXG4gICAgZ2V0VG91Y2hBY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gUGFuUmVjb2duaXplci5wcm90b3R5cGUuZ2V0VG91Y2hBY3Rpb24uY2FsbCh0aGlzKTtcbiAgICB9LFxuXG4gICAgYXR0clRlc3Q6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHZhciBkaXJlY3Rpb24gPSB0aGlzLm9wdGlvbnMuZGlyZWN0aW9uO1xuICAgICAgICB2YXIgdmVsb2NpdHk7XG5cbiAgICAgICAgaWYgKGRpcmVjdGlvbiAmIChESVJFQ1RJT05fSE9SSVpPTlRBTCB8IERJUkVDVElPTl9WRVJUSUNBTCkpIHtcbiAgICAgICAgICAgIHZlbG9jaXR5ID0gaW5wdXQub3ZlcmFsbFZlbG9jaXR5O1xuICAgICAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiAmIERJUkVDVElPTl9IT1JJWk9OVEFMKSB7XG4gICAgICAgICAgICB2ZWxvY2l0eSA9IGlucHV0Lm92ZXJhbGxWZWxvY2l0eVg7XG4gICAgICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uICYgRElSRUNUSU9OX1ZFUlRJQ0FMKSB7XG4gICAgICAgICAgICB2ZWxvY2l0eSA9IGlucHV0Lm92ZXJhbGxWZWxvY2l0eVk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5fc3VwZXIuYXR0clRlc3QuY2FsbCh0aGlzLCBpbnB1dCkgJiZcbiAgICAgICAgICAgIGRpcmVjdGlvbiAmIGlucHV0Lm9mZnNldERpcmVjdGlvbiAmJlxuICAgICAgICAgICAgaW5wdXQuZGlzdGFuY2UgPiB0aGlzLm9wdGlvbnMudGhyZXNob2xkICYmXG4gICAgICAgICAgICBpbnB1dC5tYXhQb2ludGVycyA9PSB0aGlzLm9wdGlvbnMucG9pbnRlcnMgJiZcbiAgICAgICAgICAgIGFicyh2ZWxvY2l0eSkgPiB0aGlzLm9wdGlvbnMudmVsb2NpdHkgJiYgaW5wdXQuZXZlbnRUeXBlICYgSU5QVVRfRU5EO1xuICAgIH0sXG5cbiAgICBlbWl0OiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICB2YXIgZGlyZWN0aW9uID0gZGlyZWN0aW9uU3RyKGlucHV0Lm9mZnNldERpcmVjdGlvbik7XG4gICAgICAgIGlmIChkaXJlY3Rpb24pIHtcbiAgICAgICAgICAgIHRoaXMubWFuYWdlci5lbWl0KHRoaXMub3B0aW9ucy5ldmVudCArIGRpcmVjdGlvbiwgaW5wdXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5tYW5hZ2VyLmVtaXQodGhpcy5vcHRpb25zLmV2ZW50LCBpbnB1dCk7XG4gICAgfVxufSk7XG5cbi8qKlxuICogQSB0YXAgaXMgZWNvZ25pemVkIHdoZW4gdGhlIHBvaW50ZXIgaXMgZG9pbmcgYSBzbWFsbCB0YXAvY2xpY2suIE11bHRpcGxlIHRhcHMgYXJlIHJlY29nbml6ZWQgaWYgdGhleSBvY2N1clxuICogYmV0d2VlbiB0aGUgZ2l2ZW4gaW50ZXJ2YWwgYW5kIHBvc2l0aW9uLiBUaGUgZGVsYXkgb3B0aW9uIGNhbiBiZSB1c2VkIHRvIHJlY29nbml6ZSBtdWx0aS10YXBzIHdpdGhvdXQgZmlyaW5nXG4gKiBhIHNpbmdsZSB0YXAuXG4gKlxuICogVGhlIGV2ZW50RGF0YSBmcm9tIHRoZSBlbWl0dGVkIGV2ZW50IGNvbnRhaW5zIHRoZSBwcm9wZXJ0eSBgdGFwQ291bnRgLCB3aGljaCBjb250YWlucyB0aGUgYW1vdW50IG9mXG4gKiBtdWx0aS10YXBzIGJlaW5nIHJlY29nbml6ZWQuXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIFJlY29nbml6ZXJcbiAqL1xuZnVuY3Rpb24gVGFwUmVjb2duaXplcigpIHtcbiAgICBSZWNvZ25pemVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cbiAgICAvLyBwcmV2aW91cyB0aW1lIGFuZCBjZW50ZXIsXG4gICAgLy8gdXNlZCBmb3IgdGFwIGNvdW50aW5nXG4gICAgdGhpcy5wVGltZSA9IGZhbHNlO1xuICAgIHRoaXMucENlbnRlciA9IGZhbHNlO1xuXG4gICAgdGhpcy5fdGltZXIgPSBudWxsO1xuICAgIHRoaXMuX2lucHV0ID0gbnVsbDtcbiAgICB0aGlzLmNvdW50ID0gMDtcbn1cblxuaW5oZXJpdChUYXBSZWNvZ25pemVyLCBSZWNvZ25pemVyLCB7XG4gICAgLyoqXG4gICAgICogQG5hbWVzcGFjZVxuICAgICAqIEBtZW1iZXJvZiBQaW5jaFJlY29nbml6ZXJcbiAgICAgKi9cbiAgICBkZWZhdWx0czoge1xuICAgICAgICBldmVudDogJ3RhcCcsXG4gICAgICAgIHBvaW50ZXJzOiAxLFxuICAgICAgICB0YXBzOiAxLFxuICAgICAgICBpbnRlcnZhbDogMzAwLCAvLyBtYXggdGltZSBiZXR3ZWVuIHRoZSBtdWx0aS10YXAgdGFwc1xuICAgICAgICB0aW1lOiAyNTAsIC8vIG1heCB0aW1lIG9mIHRoZSBwb2ludGVyIHRvIGJlIGRvd24gKGxpa2UgZmluZ2VyIG9uIHRoZSBzY3JlZW4pXG4gICAgICAgIHRocmVzaG9sZDogOSwgLy8gYSBtaW5pbWFsIG1vdmVtZW50IGlzIG9rLCBidXQga2VlcCBpdCBsb3dcbiAgICAgICAgcG9zVGhyZXNob2xkOiAxMCAvLyBhIG11bHRpLXRhcCBjYW4gYmUgYSBiaXQgb2ZmIHRoZSBpbml0aWFsIHBvc2l0aW9uXG4gICAgfSxcblxuICAgIGdldFRvdWNoQWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIFtUT1VDSF9BQ1RJT05fTUFOSVBVTEFUSU9OXTtcbiAgICB9LFxuXG4gICAgcHJvY2VzczogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cbiAgICAgICAgdmFyIHZhbGlkUG9pbnRlcnMgPSBpbnB1dC5wb2ludGVycy5sZW5ndGggPT09IG9wdGlvbnMucG9pbnRlcnM7XG4gICAgICAgIHZhciB2YWxpZE1vdmVtZW50ID0gaW5wdXQuZGlzdGFuY2UgPCBvcHRpb25zLnRocmVzaG9sZDtcbiAgICAgICAgdmFyIHZhbGlkVG91Y2hUaW1lID0gaW5wdXQuZGVsdGFUaW1lIDwgb3B0aW9ucy50aW1lO1xuXG4gICAgICAgIHRoaXMucmVzZXQoKTtcblxuICAgICAgICBpZiAoKGlucHV0LmV2ZW50VHlwZSAmIElOUFVUX1NUQVJUKSAmJiAodGhpcy5jb3VudCA9PT0gMCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZhaWxUaW1lb3V0KCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB3ZSBvbmx5IGFsbG93IGxpdHRsZSBtb3ZlbWVudFxuICAgICAgICAvLyBhbmQgd2UndmUgcmVhY2hlZCBhbiBlbmQgZXZlbnQsIHNvIGEgdGFwIGlzIHBvc3NpYmxlXG4gICAgICAgIGlmICh2YWxpZE1vdmVtZW50ICYmIHZhbGlkVG91Y2hUaW1lICYmIHZhbGlkUG9pbnRlcnMpIHtcbiAgICAgICAgICAgIGlmIChpbnB1dC5ldmVudFR5cGUgIT0gSU5QVVRfRU5EKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmFpbFRpbWVvdXQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHZhbGlkSW50ZXJ2YWwgPSB0aGlzLnBUaW1lID8gKGlucHV0LnRpbWVTdGFtcCAtIHRoaXMucFRpbWUgPCBvcHRpb25zLmludGVydmFsKSA6IHRydWU7XG4gICAgICAgICAgICB2YXIgdmFsaWRNdWx0aVRhcCA9ICF0aGlzLnBDZW50ZXIgfHwgZ2V0RGlzdGFuY2UodGhpcy5wQ2VudGVyLCBpbnB1dC5jZW50ZXIpIDwgb3B0aW9ucy5wb3NUaHJlc2hvbGQ7XG5cbiAgICAgICAgICAgIHRoaXMucFRpbWUgPSBpbnB1dC50aW1lU3RhbXA7XG4gICAgICAgICAgICB0aGlzLnBDZW50ZXIgPSBpbnB1dC5jZW50ZXI7XG5cbiAgICAgICAgICAgIGlmICghdmFsaWRNdWx0aVRhcCB8fCAhdmFsaWRJbnRlcnZhbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY291bnQgPSAxO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvdW50ICs9IDE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2lucHV0ID0gaW5wdXQ7XG5cbiAgICAgICAgICAgIC8vIGlmIHRhcCBjb3VudCBtYXRjaGVzIHdlIGhhdmUgcmVjb2duaXplZCBpdCxcbiAgICAgICAgICAgIC8vIGVsc2UgaXQgaGFzIGJlZ2FuIHJlY29nbml6aW5nLi4uXG4gICAgICAgICAgICB2YXIgdGFwQ291bnQgPSB0aGlzLmNvdW50ICUgb3B0aW9ucy50YXBzO1xuICAgICAgICAgICAgaWYgKHRhcENvdW50ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgLy8gbm8gZmFpbGluZyByZXF1aXJlbWVudHMsIGltbWVkaWF0ZWx5IHRyaWdnZXIgdGhlIHRhcCBldmVudFxuICAgICAgICAgICAgICAgIC8vIG9yIHdhaXQgYXMgbG9uZyBhcyB0aGUgbXVsdGl0YXAgaW50ZXJ2YWwgdG8gdHJpZ2dlclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5oYXNSZXF1aXJlRmFpbHVyZXMoKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gU1RBVEVfUkVDT0dOSVpFRDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl90aW1lciA9IHNldFRpbWVvdXRDb250ZXh0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFNUQVRFX1JFQ09HTklaRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyeUVtaXQoKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgb3B0aW9ucy5pbnRlcnZhbCwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBTVEFURV9CRUdBTjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFNUQVRFX0ZBSUxFRDtcbiAgICB9LFxuXG4gICAgZmFpbFRpbWVvdXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLl90aW1lciA9IHNldFRpbWVvdXRDb250ZXh0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFNUQVRFX0ZBSUxFRDtcbiAgICAgICAgfSwgdGhpcy5vcHRpb25zLmludGVydmFsLCB0aGlzKTtcbiAgICAgICAgcmV0dXJuIFNUQVRFX0ZBSUxFRDtcbiAgICB9LFxuXG4gICAgcmVzZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fdGltZXIpO1xuICAgIH0sXG5cbiAgICBlbWl0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgPT0gU1RBVEVfUkVDT0dOSVpFRCkge1xuICAgICAgICAgICAgdGhpcy5faW5wdXQudGFwQ291bnQgPSB0aGlzLmNvdW50O1xuICAgICAgICAgICAgdGhpcy5tYW5hZ2VyLmVtaXQodGhpcy5vcHRpb25zLmV2ZW50LCB0aGlzLl9pbnB1dCk7XG4gICAgICAgIH1cbiAgICB9XG59KTtcblxuLyoqXG4gKiBTaW1wbGUgd2F5IHRvIGNyZWF0ZSBhIG1hbmFnZXIgd2l0aCBhIGRlZmF1bHQgc2V0IG9mIHJlY29nbml6ZXJzLlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudFxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIEhhbW1lcihlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgb3B0aW9ucy5yZWNvZ25pemVycyA9IGlmVW5kZWZpbmVkKG9wdGlvbnMucmVjb2duaXplcnMsIEhhbW1lci5kZWZhdWx0cy5wcmVzZXQpO1xuICAgIHJldHVybiBuZXcgTWFuYWdlcihlbGVtZW50LCBvcHRpb25zKTtcbn1cblxuLyoqXG4gKiBAY29uc3Qge3N0cmluZ31cbiAqL1xuSGFtbWVyLlZFUlNJT04gPSAnMi4wLjcnO1xuXG4vKipcbiAqIGRlZmF1bHQgc2V0dGluZ3NcbiAqIEBuYW1lc3BhY2VcbiAqL1xuSGFtbWVyLmRlZmF1bHRzID0ge1xuICAgIC8qKlxuICAgICAqIHNldCBpZiBET00gZXZlbnRzIGFyZSBiZWluZyB0cmlnZ2VyZWQuXG4gICAgICogQnV0IHRoaXMgaXMgc2xvd2VyIGFuZCB1bnVzZWQgYnkgc2ltcGxlIGltcGxlbWVudGF0aW9ucywgc28gZGlzYWJsZWQgYnkgZGVmYXVsdC5cbiAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuICAgIGRvbUV2ZW50czogZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBUaGUgdmFsdWUgZm9yIHRoZSB0b3VjaEFjdGlvbiBwcm9wZXJ0eS9mYWxsYmFjay5cbiAgICAgKiBXaGVuIHNldCB0byBgY29tcHV0ZWAgaXQgd2lsbCBtYWdpY2FsbHkgc2V0IHRoZSBjb3JyZWN0IHZhbHVlIGJhc2VkIG9uIHRoZSBhZGRlZCByZWNvZ25pemVycy5cbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAqIEBkZWZhdWx0IGNvbXB1dGVcbiAgICAgKi9cbiAgICB0b3VjaEFjdGlvbjogVE9VQ0hfQUNUSU9OX0NPTVBVVEUsXG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICovXG4gICAgZW5hYmxlOiB0cnVlLFxuXG4gICAgLyoqXG4gICAgICogRVhQRVJJTUVOVEFMIEZFQVRVUkUgLS0gY2FuIGJlIHJlbW92ZWQvY2hhbmdlZFxuICAgICAqIENoYW5nZSB0aGUgcGFyZW50IGlucHV0IHRhcmdldCBlbGVtZW50LlxuICAgICAqIElmIE51bGwsIHRoZW4gaXQgaXMgYmVpbmcgc2V0IHRoZSB0byBtYWluIGVsZW1lbnQuXG4gICAgICogQHR5cGUge051bGx8RXZlbnRUYXJnZXR9XG4gICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAqL1xuICAgIGlucHV0VGFyZ2V0OiBudWxsLFxuXG4gICAgLyoqXG4gICAgICogZm9yY2UgYW4gaW5wdXQgY2xhc3NcbiAgICAgKiBAdHlwZSB7TnVsbHxGdW5jdGlvbn1cbiAgICAgKiBAZGVmYXVsdCBudWxsXG4gICAgICovXG4gICAgaW5wdXRDbGFzczogbnVsbCxcblxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgcmVjb2duaXplciBzZXR1cCB3aGVuIGNhbGxpbmcgYEhhbW1lcigpYFxuICAgICAqIFdoZW4gY3JlYXRpbmcgYSBuZXcgTWFuYWdlciB0aGVzZSB3aWxsIGJlIHNraXBwZWQuXG4gICAgICogQHR5cGUge0FycmF5fVxuICAgICAqL1xuICAgIHByZXNldDogW1xuICAgICAgICAvLyBSZWNvZ25pemVyQ2xhc3MsIG9wdGlvbnMsIFtyZWNvZ25pemVXaXRoLCAuLi5dLCBbcmVxdWlyZUZhaWx1cmUsIC4uLl1cbiAgICAgICAgW1JvdGF0ZVJlY29nbml6ZXIsIHtlbmFibGU6IGZhbHNlfV0sXG4gICAgICAgIFtQaW5jaFJlY29nbml6ZXIsIHtlbmFibGU6IGZhbHNlfSwgWydyb3RhdGUnXV0sXG4gICAgICAgIFtTd2lwZVJlY29nbml6ZXIsIHtkaXJlY3Rpb246IERJUkVDVElPTl9IT1JJWk9OVEFMfV0sXG4gICAgICAgIFtQYW5SZWNvZ25pemVyLCB7ZGlyZWN0aW9uOiBESVJFQ1RJT05fSE9SSVpPTlRBTH0sIFsnc3dpcGUnXV0sXG4gICAgICAgIFtUYXBSZWNvZ25pemVyXSxcbiAgICAgICAgW1RhcFJlY29nbml6ZXIsIHtldmVudDogJ2RvdWJsZXRhcCcsIHRhcHM6IDJ9LCBbJ3RhcCddXSxcbiAgICAgICAgW1ByZXNzUmVjb2duaXplcl1cbiAgICBdLFxuXG4gICAgLyoqXG4gICAgICogU29tZSBDU1MgcHJvcGVydGllcyBjYW4gYmUgdXNlZCB0byBpbXByb3ZlIHRoZSB3b3JraW5nIG9mIEhhbW1lci5cbiAgICAgKiBBZGQgdGhlbSB0byB0aGlzIG1ldGhvZCBhbmQgdGhleSB3aWxsIGJlIHNldCB3aGVuIGNyZWF0aW5nIGEgbmV3IE1hbmFnZXIuXG4gICAgICogQG5hbWVzcGFjZVxuICAgICAqL1xuICAgIGNzc1Byb3BzOiB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaXNhYmxlcyB0ZXh0IHNlbGVjdGlvbiB0byBpbXByb3ZlIHRoZSBkcmFnZ2luZyBnZXN0dXJlLiBNYWlubHkgZm9yIGRlc2t0b3AgYnJvd3NlcnMuXG4gICAgICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICAgICAqIEBkZWZhdWx0ICdub25lJ1xuICAgICAgICAgKi9cbiAgICAgICAgdXNlclNlbGVjdDogJ25vbmUnLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaXNhYmxlIHRoZSBXaW5kb3dzIFBob25lIGdyaXBwZXJzIHdoZW4gcHJlc3NpbmcgYW4gZWxlbWVudC5cbiAgICAgICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgICAgICogQGRlZmF1bHQgJ25vbmUnXG4gICAgICAgICAqL1xuICAgICAgICB0b3VjaFNlbGVjdDogJ25vbmUnLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaXNhYmxlcyB0aGUgZGVmYXVsdCBjYWxsb3V0IHNob3duIHdoZW4geW91IHRvdWNoIGFuZCBob2xkIGEgdG91Y2ggdGFyZ2V0LlxuICAgICAgICAgKiBPbiBpT1MsIHdoZW4geW91IHRvdWNoIGFuZCBob2xkIGEgdG91Y2ggdGFyZ2V0IHN1Y2ggYXMgYSBsaW5rLCBTYWZhcmkgZGlzcGxheXNcbiAgICAgICAgICogYSBjYWxsb3V0IGNvbnRhaW5pbmcgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGxpbmsuIFRoaXMgcHJvcGVydHkgYWxsb3dzIHlvdSB0byBkaXNhYmxlIHRoYXQgY2FsbG91dC5cbiAgICAgICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgICAgICogQGRlZmF1bHQgJ25vbmUnXG4gICAgICAgICAqL1xuICAgICAgICB0b3VjaENhbGxvdXQ6ICdub25lJyxcblxuICAgICAgICAvKipcbiAgICAgICAgICogU3BlY2lmaWVzIHdoZXRoZXIgem9vbWluZyBpcyBlbmFibGVkLiBVc2VkIGJ5IElFMTA+XG4gICAgICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICAgICAqIEBkZWZhdWx0ICdub25lJ1xuICAgICAgICAgKi9cbiAgICAgICAgY29udGVudFpvb21pbmc6ICdub25lJyxcblxuICAgICAgICAvKipcbiAgICAgICAgICogU3BlY2lmaWVzIHRoYXQgYW4gZW50aXJlIGVsZW1lbnQgc2hvdWxkIGJlIGRyYWdnYWJsZSBpbnN0ZWFkIG9mIGl0cyBjb250ZW50cy4gTWFpbmx5IGZvciBkZXNrdG9wIGJyb3dzZXJzLlxuICAgICAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAnbm9uZSdcbiAgICAgICAgICovXG4gICAgICAgIHVzZXJEcmFnOiAnbm9uZScsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE92ZXJyaWRlcyB0aGUgaGlnaGxpZ2h0IGNvbG9yIHNob3duIHdoZW4gdGhlIHVzZXIgdGFwcyBhIGxpbmsgb3IgYSBKYXZhU2NyaXB0XG4gICAgICAgICAqIGNsaWNrYWJsZSBlbGVtZW50IGluIGlPUy4gVGhpcyBwcm9wZXJ0eSBvYmV5cyB0aGUgYWxwaGEgdmFsdWUsIGlmIHNwZWNpZmllZC5cbiAgICAgICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgICAgICogQGRlZmF1bHQgJ3JnYmEoMCwwLDAsMCknXG4gICAgICAgICAqL1xuICAgICAgICB0YXBIaWdobGlnaHRDb2xvcjogJ3JnYmEoMCwwLDAsMCknXG4gICAgfVxufTtcblxudmFyIFNUT1AgPSAxO1xudmFyIEZPUkNFRF9TVE9QID0gMjtcblxuLyoqXG4gKiBNYW5hZ2VyXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gTWFuYWdlcihlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgdGhpcy5vcHRpb25zID0gYXNzaWduKHt9LCBIYW1tZXIuZGVmYXVsdHMsIG9wdGlvbnMgfHwge30pO1xuXG4gICAgdGhpcy5vcHRpb25zLmlucHV0VGFyZ2V0ID0gdGhpcy5vcHRpb25zLmlucHV0VGFyZ2V0IHx8IGVsZW1lbnQ7XG5cbiAgICB0aGlzLmhhbmRsZXJzID0ge307XG4gICAgdGhpcy5zZXNzaW9uID0ge307XG4gICAgdGhpcy5yZWNvZ25pemVycyA9IFtdO1xuICAgIHRoaXMub2xkQ3NzUHJvcHMgPSB7fTtcblxuICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgdGhpcy5pbnB1dCA9IGNyZWF0ZUlucHV0SW5zdGFuY2UodGhpcyk7XG4gICAgdGhpcy50b3VjaEFjdGlvbiA9IG5ldyBUb3VjaEFjdGlvbih0aGlzLCB0aGlzLm9wdGlvbnMudG91Y2hBY3Rpb24pO1xuXG4gICAgdG9nZ2xlQ3NzUHJvcHModGhpcywgdHJ1ZSk7XG5cbiAgICBlYWNoKHRoaXMub3B0aW9ucy5yZWNvZ25pemVycywgZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICB2YXIgcmVjb2duaXplciA9IHRoaXMuYWRkKG5ldyAoaXRlbVswXSkoaXRlbVsxXSkpO1xuICAgICAgICBpdGVtWzJdICYmIHJlY29nbml6ZXIucmVjb2duaXplV2l0aChpdGVtWzJdKTtcbiAgICAgICAgaXRlbVszXSAmJiByZWNvZ25pemVyLnJlcXVpcmVGYWlsdXJlKGl0ZW1bM10pO1xuICAgIH0sIHRoaXMpO1xufVxuXG5NYW5hZ2VyLnByb3RvdHlwZSA9IHtcbiAgICAvKipcbiAgICAgKiBzZXQgb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICogQHJldHVybnMge01hbmFnZXJ9XG4gICAgICovXG4gICAgc2V0OiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICAgIGFzc2lnbih0aGlzLm9wdGlvbnMsIG9wdGlvbnMpO1xuXG4gICAgICAgIC8vIE9wdGlvbnMgdGhhdCBuZWVkIGEgbGl0dGxlIG1vcmUgc2V0dXBcbiAgICAgICAgaWYgKG9wdGlvbnMudG91Y2hBY3Rpb24pIHtcbiAgICAgICAgICAgIHRoaXMudG91Y2hBY3Rpb24udXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMuaW5wdXRUYXJnZXQpIHtcbiAgICAgICAgICAgIC8vIENsZWFuIHVwIGV4aXN0aW5nIGV2ZW50IGxpc3RlbmVycyBhbmQgcmVpbml0aWFsaXplXG4gICAgICAgICAgICB0aGlzLmlucHV0LmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMuaW5wdXQudGFyZ2V0ID0gb3B0aW9ucy5pbnB1dFRhcmdldDtcbiAgICAgICAgICAgIHRoaXMuaW5wdXQuaW5pdCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBzdG9wIHJlY29nbml6aW5nIGZvciB0aGlzIHNlc3Npb24uXG4gICAgICogVGhpcyBzZXNzaW9uIHdpbGwgYmUgZGlzY2FyZGVkLCB3aGVuIGEgbmV3IFtpbnB1dF1zdGFydCBldmVudCBpcyBmaXJlZC5cbiAgICAgKiBXaGVuIGZvcmNlZCwgdGhlIHJlY29nbml6ZXIgY3ljbGUgaXMgc3RvcHBlZCBpbW1lZGlhdGVseS5cbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtmb3JjZV1cbiAgICAgKi9cbiAgICBzdG9wOiBmdW5jdGlvbihmb3JjZSkge1xuICAgICAgICB0aGlzLnNlc3Npb24uc3RvcHBlZCA9IGZvcmNlID8gRk9SQ0VEX1NUT1AgOiBTVE9QO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBydW4gdGhlIHJlY29nbml6ZXJzIVxuICAgICAqIGNhbGxlZCBieSB0aGUgaW5wdXRIYW5kbGVyIGZ1bmN0aW9uIG9uIGV2ZXJ5IG1vdmVtZW50IG9mIHRoZSBwb2ludGVycyAodG91Y2hlcylcbiAgICAgKiBpdCB3YWxrcyB0aHJvdWdoIGFsbCB0aGUgcmVjb2duaXplcnMgYW5kIHRyaWVzIHRvIGRldGVjdCB0aGUgZ2VzdHVyZSB0aGF0IGlzIGJlaW5nIG1hZGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5wdXREYXRhXG4gICAgICovXG4gICAgcmVjb2duaXplOiBmdW5jdGlvbihpbnB1dERhdGEpIHtcbiAgICAgICAgdmFyIHNlc3Npb24gPSB0aGlzLnNlc3Npb247XG4gICAgICAgIGlmIChzZXNzaW9uLnN0b3BwZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJ1biB0aGUgdG91Y2gtYWN0aW9uIHBvbHlmaWxsXG4gICAgICAgIHRoaXMudG91Y2hBY3Rpb24ucHJldmVudERlZmF1bHRzKGlucHV0RGF0YSk7XG5cbiAgICAgICAgdmFyIHJlY29nbml6ZXI7XG4gICAgICAgIHZhciByZWNvZ25pemVycyA9IHRoaXMucmVjb2duaXplcnM7XG5cbiAgICAgICAgLy8gdGhpcyBob2xkcyB0aGUgcmVjb2duaXplciB0aGF0IGlzIGJlaW5nIHJlY29nbml6ZWQuXG4gICAgICAgIC8vIHNvIHRoZSByZWNvZ25pemVyJ3Mgc3RhdGUgbmVlZHMgdG8gYmUgQkVHQU4sIENIQU5HRUQsIEVOREVEIG9yIFJFQ09HTklaRURcbiAgICAgICAgLy8gaWYgbm8gcmVjb2duaXplciBpcyBkZXRlY3RpbmcgYSB0aGluZywgaXQgaXMgc2V0IHRvIGBudWxsYFxuICAgICAgICB2YXIgY3VyUmVjb2duaXplciA9IHNlc3Npb24uY3VyUmVjb2duaXplcjtcblxuICAgICAgICAvLyByZXNldCB3aGVuIHRoZSBsYXN0IHJlY29nbml6ZXIgaXMgcmVjb2duaXplZFxuICAgICAgICAvLyBvciB3aGVuIHdlJ3JlIGluIGEgbmV3IHNlc3Npb25cbiAgICAgICAgaWYgKCFjdXJSZWNvZ25pemVyIHx8IChjdXJSZWNvZ25pemVyICYmIGN1clJlY29nbml6ZXIuc3RhdGUgJiBTVEFURV9SRUNPR05JWkVEKSkge1xuICAgICAgICAgICAgY3VyUmVjb2duaXplciA9IHNlc3Npb24uY3VyUmVjb2duaXplciA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHdoaWxlIChpIDwgcmVjb2duaXplcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZWNvZ25pemVyID0gcmVjb2duaXplcnNbaV07XG5cbiAgICAgICAgICAgIC8vIGZpbmQgb3V0IGlmIHdlIGFyZSBhbGxvd2VkIHRyeSB0byByZWNvZ25pemUgdGhlIGlucHV0IGZvciB0aGlzIG9uZS5cbiAgICAgICAgICAgIC8vIDEuICAgYWxsb3cgaWYgdGhlIHNlc3Npb24gaXMgTk9UIGZvcmNlZCBzdG9wcGVkIChzZWUgdGhlIC5zdG9wKCkgbWV0aG9kKVxuICAgICAgICAgICAgLy8gMi4gICBhbGxvdyBpZiB3ZSBzdGlsbCBoYXZlbid0IHJlY29nbml6ZWQgYSBnZXN0dXJlIGluIHRoaXMgc2Vzc2lvbiwgb3IgdGhlIHRoaXMgcmVjb2duaXplciBpcyB0aGUgb25lXG4gICAgICAgICAgICAvLyAgICAgIHRoYXQgaXMgYmVpbmcgcmVjb2duaXplZC5cbiAgICAgICAgICAgIC8vIDMuICAgYWxsb3cgaWYgdGhlIHJlY29nbml6ZXIgaXMgYWxsb3dlZCB0byBydW4gc2ltdWx0YW5lb3VzIHdpdGggdGhlIGN1cnJlbnQgcmVjb2duaXplZCByZWNvZ25pemVyLlxuICAgICAgICAgICAgLy8gICAgICB0aGlzIGNhbiBiZSBzZXR1cCB3aXRoIHRoZSBgcmVjb2duaXplV2l0aCgpYCBtZXRob2Qgb24gdGhlIHJlY29nbml6ZXIuXG4gICAgICAgICAgICBpZiAoc2Vzc2lvbi5zdG9wcGVkICE9PSBGT1JDRURfU1RPUCAmJiAoIC8vIDFcbiAgICAgICAgICAgICAgICAgICAgIWN1clJlY29nbml6ZXIgfHwgcmVjb2duaXplciA9PSBjdXJSZWNvZ25pemVyIHx8IC8vIDJcbiAgICAgICAgICAgICAgICAgICAgcmVjb2duaXplci5jYW5SZWNvZ25pemVXaXRoKGN1clJlY29nbml6ZXIpKSkgeyAvLyAzXG4gICAgICAgICAgICAgICAgcmVjb2duaXplci5yZWNvZ25pemUoaW5wdXREYXRhKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVjb2duaXplci5yZXNldCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBpZiB0aGUgcmVjb2duaXplciBoYXMgYmVlbiByZWNvZ25pemluZyB0aGUgaW5wdXQgYXMgYSB2YWxpZCBnZXN0dXJlLCB3ZSB3YW50IHRvIHN0b3JlIHRoaXMgb25lIGFzIHRoZVxuICAgICAgICAgICAgLy8gY3VycmVudCBhY3RpdmUgcmVjb2duaXplci4gYnV0IG9ubHkgaWYgd2UgZG9uJ3QgYWxyZWFkeSBoYXZlIGFuIGFjdGl2ZSByZWNvZ25pemVyXG4gICAgICAgICAgICBpZiAoIWN1clJlY29nbml6ZXIgJiYgcmVjb2duaXplci5zdGF0ZSAmIChTVEFURV9CRUdBTiB8IFNUQVRFX0NIQU5HRUQgfCBTVEFURV9FTkRFRCkpIHtcbiAgICAgICAgICAgICAgICBjdXJSZWNvZ25pemVyID0gc2Vzc2lvbi5jdXJSZWNvZ25pemVyID0gcmVjb2duaXplcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBnZXQgYSByZWNvZ25pemVyIGJ5IGl0cyBldmVudCBuYW1lLlxuICAgICAqIEBwYXJhbSB7UmVjb2duaXplcnxTdHJpbmd9IHJlY29nbml6ZXJcbiAgICAgKiBAcmV0dXJucyB7UmVjb2duaXplcnxOdWxsfVxuICAgICAqL1xuICAgIGdldDogZnVuY3Rpb24ocmVjb2duaXplcikge1xuICAgICAgICBpZiAocmVjb2duaXplciBpbnN0YW5jZW9mIFJlY29nbml6ZXIpIHtcbiAgICAgICAgICAgIHJldHVybiByZWNvZ25pemVyO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJlY29nbml6ZXJzID0gdGhpcy5yZWNvZ25pemVycztcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZWNvZ25pemVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKHJlY29nbml6ZXJzW2ldLm9wdGlvbnMuZXZlbnQgPT0gcmVjb2duaXplcikge1xuICAgICAgICAgICAgICAgIHJldHVybiByZWNvZ25pemVyc1tpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogYWRkIGEgcmVjb2duaXplciB0byB0aGUgbWFuYWdlclxuICAgICAqIGV4aXN0aW5nIHJlY29nbml6ZXJzIHdpdGggdGhlIHNhbWUgZXZlbnQgbmFtZSB3aWxsIGJlIHJlbW92ZWRcbiAgICAgKiBAcGFyYW0ge1JlY29nbml6ZXJ9IHJlY29nbml6ZXJcbiAgICAgKiBAcmV0dXJucyB7UmVjb2duaXplcnxNYW5hZ2VyfVxuICAgICAqL1xuICAgIGFkZDogZnVuY3Rpb24ocmVjb2duaXplcikge1xuICAgICAgICBpZiAoaW52b2tlQXJyYXlBcmcocmVjb2duaXplciwgJ2FkZCcsIHRoaXMpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJlbW92ZSBleGlzdGluZ1xuICAgICAgICB2YXIgZXhpc3RpbmcgPSB0aGlzLmdldChyZWNvZ25pemVyLm9wdGlvbnMuZXZlbnQpO1xuICAgICAgICBpZiAoZXhpc3RpbmcpIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlKGV4aXN0aW5nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmVjb2duaXplcnMucHVzaChyZWNvZ25pemVyKTtcbiAgICAgICAgcmVjb2duaXplci5tYW5hZ2VyID0gdGhpcztcblxuICAgICAgICB0aGlzLnRvdWNoQWN0aW9uLnVwZGF0ZSgpO1xuICAgICAgICByZXR1cm4gcmVjb2duaXplcjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogcmVtb3ZlIGEgcmVjb2duaXplciBieSBuYW1lIG9yIGluc3RhbmNlXG4gICAgICogQHBhcmFtIHtSZWNvZ25pemVyfFN0cmluZ30gcmVjb2duaXplclxuICAgICAqIEByZXR1cm5zIHtNYW5hZ2VyfVxuICAgICAqL1xuICAgIHJlbW92ZTogZnVuY3Rpb24ocmVjb2duaXplcikge1xuICAgICAgICBpZiAoaW52b2tlQXJyYXlBcmcocmVjb2duaXplciwgJ3JlbW92ZScsIHRoaXMpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHJlY29nbml6ZXIgPSB0aGlzLmdldChyZWNvZ25pemVyKTtcblxuICAgICAgICAvLyBsZXQncyBtYWtlIHN1cmUgdGhpcyByZWNvZ25pemVyIGV4aXN0c1xuICAgICAgICBpZiAocmVjb2duaXplcikge1xuICAgICAgICAgICAgdmFyIHJlY29nbml6ZXJzID0gdGhpcy5yZWNvZ25pemVycztcbiAgICAgICAgICAgIHZhciBpbmRleCA9IGluQXJyYXkocmVjb2duaXplcnMsIHJlY29nbml6ZXIpO1xuXG4gICAgICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcmVjb2duaXplcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRvdWNoQWN0aW9uLnVwZGF0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGJpbmQgZXZlbnRcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRzXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaGFuZGxlclxuICAgICAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IHRoaXNcbiAgICAgKi9cbiAgICBvbjogZnVuY3Rpb24oZXZlbnRzLCBoYW5kbGVyKSB7XG4gICAgICAgIGlmIChldmVudHMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChoYW5kbGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBoYW5kbGVycyA9IHRoaXMuaGFuZGxlcnM7XG4gICAgICAgIGVhY2goc3BsaXRTdHIoZXZlbnRzKSwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIGhhbmRsZXJzW2V2ZW50XSA9IGhhbmRsZXJzW2V2ZW50XSB8fCBbXTtcbiAgICAgICAgICAgIGhhbmRsZXJzW2V2ZW50XS5wdXNoKGhhbmRsZXIpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHVuYmluZCBldmVudCwgbGVhdmUgZW1pdCBibGFuayB0byByZW1vdmUgYWxsIGhhbmRsZXJzXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50c1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtoYW5kbGVyXVxuICAgICAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IHRoaXNcbiAgICAgKi9cbiAgICBvZmY6IGZ1bmN0aW9uKGV2ZW50cywgaGFuZGxlcikge1xuICAgICAgICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBoYW5kbGVycyA9IHRoaXMuaGFuZGxlcnM7XG4gICAgICAgIGVhY2goc3BsaXRTdHIoZXZlbnRzKSwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIGlmICghaGFuZGxlcikge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBoYW5kbGVyc1tldmVudF07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGhhbmRsZXJzW2V2ZW50XSAmJiBoYW5kbGVyc1tldmVudF0uc3BsaWNlKGluQXJyYXkoaGFuZGxlcnNbZXZlbnRdLCBoYW5kbGVyKSwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogZW1pdCBldmVudCB0byB0aGUgbGlzdGVuZXJzXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50XG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRhdGFcbiAgICAgKi9cbiAgICBlbWl0OiBmdW5jdGlvbihldmVudCwgZGF0YSkge1xuICAgICAgICAvLyB3ZSBhbHNvIHdhbnQgdG8gdHJpZ2dlciBkb20gZXZlbnRzXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZG9tRXZlbnRzKSB7XG4gICAgICAgICAgICB0cmlnZ2VyRG9tRXZlbnQoZXZlbnQsIGRhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbm8gaGFuZGxlcnMsIHNvIHNraXAgaXQgYWxsXG4gICAgICAgIHZhciBoYW5kbGVycyA9IHRoaXMuaGFuZGxlcnNbZXZlbnRdICYmIHRoaXMuaGFuZGxlcnNbZXZlbnRdLnNsaWNlKCk7XG4gICAgICAgIGlmICghaGFuZGxlcnMgfHwgIWhhbmRsZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgZGF0YS50eXBlID0gZXZlbnQ7XG4gICAgICAgIGRhdGEucHJldmVudERlZmF1bHQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGRhdGEuc3JjRXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHdoaWxlIChpIDwgaGFuZGxlcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICBoYW5kbGVyc1tpXShkYXRhKTtcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBkZXN0cm95IHRoZSBtYW5hZ2VyIGFuZCB1bmJpbmRzIGFsbCBldmVudHNcbiAgICAgKiBpdCBkb2Vzbid0IHVuYmluZCBkb20gZXZlbnRzLCB0aGF0IGlzIHRoZSB1c2VyIG93biByZXNwb25zaWJpbGl0eVxuICAgICAqL1xuICAgIGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLmVsZW1lbnQgJiYgdG9nZ2xlQ3NzUHJvcHModGhpcywgZmFsc2UpO1xuXG4gICAgICAgIHRoaXMuaGFuZGxlcnMgPSB7fTtcbiAgICAgICAgdGhpcy5zZXNzaW9uID0ge307XG4gICAgICAgIHRoaXMuaW5wdXQuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSBudWxsO1xuICAgIH1cbn07XG5cbi8qKlxuICogYWRkL3JlbW92ZSB0aGUgY3NzIHByb3BlcnRpZXMgYXMgZGVmaW5lZCBpbiBtYW5hZ2VyLm9wdGlvbnMuY3NzUHJvcHNcbiAqIEBwYXJhbSB7TWFuYWdlcn0gbWFuYWdlclxuICogQHBhcmFtIHtCb29sZWFufSBhZGRcbiAqL1xuZnVuY3Rpb24gdG9nZ2xlQ3NzUHJvcHMobWFuYWdlciwgYWRkKSB7XG4gICAgdmFyIGVsZW1lbnQgPSBtYW5hZ2VyLmVsZW1lbnQ7XG4gICAgaWYgKCFlbGVtZW50LnN0eWxlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHByb3A7XG4gICAgZWFjaChtYW5hZ2VyLm9wdGlvbnMuY3NzUHJvcHMsIGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XG4gICAgICAgIHByb3AgPSBwcmVmaXhlZChlbGVtZW50LnN0eWxlLCBuYW1lKTtcbiAgICAgICAgaWYgKGFkZCkge1xuICAgICAgICAgICAgbWFuYWdlci5vbGRDc3NQcm9wc1twcm9wXSA9IGVsZW1lbnQuc3R5bGVbcHJvcF07XG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlW3Byb3BdID0gdmFsdWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlW3Byb3BdID0gbWFuYWdlci5vbGRDc3NQcm9wc1twcm9wXSB8fCAnJztcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGlmICghYWRkKSB7XG4gICAgICAgIG1hbmFnZXIub2xkQ3NzUHJvcHMgPSB7fTtcbiAgICB9XG59XG5cbi8qKlxuICogdHJpZ2dlciBkb20gZXZlbnRcbiAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxuICogQHBhcmFtIHtPYmplY3R9IGRhdGFcbiAqL1xuZnVuY3Rpb24gdHJpZ2dlckRvbUV2ZW50KGV2ZW50LCBkYXRhKSB7XG4gICAgdmFyIGdlc3R1cmVFdmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdFdmVudCcpO1xuICAgIGdlc3R1cmVFdmVudC5pbml0RXZlbnQoZXZlbnQsIHRydWUsIHRydWUpO1xuICAgIGdlc3R1cmVFdmVudC5nZXN0dXJlID0gZGF0YTtcbiAgICBkYXRhLnRhcmdldC5kaXNwYXRjaEV2ZW50KGdlc3R1cmVFdmVudCk7XG59XG5cbmFzc2lnbihIYW1tZXIsIHtcbiAgICBJTlBVVF9TVEFSVDogSU5QVVRfU1RBUlQsXG4gICAgSU5QVVRfTU9WRTogSU5QVVRfTU9WRSxcbiAgICBJTlBVVF9FTkQ6IElOUFVUX0VORCxcbiAgICBJTlBVVF9DQU5DRUw6IElOUFVUX0NBTkNFTCxcblxuICAgIFNUQVRFX1BPU1NJQkxFOiBTVEFURV9QT1NTSUJMRSxcbiAgICBTVEFURV9CRUdBTjogU1RBVEVfQkVHQU4sXG4gICAgU1RBVEVfQ0hBTkdFRDogU1RBVEVfQ0hBTkdFRCxcbiAgICBTVEFURV9FTkRFRDogU1RBVEVfRU5ERUQsXG4gICAgU1RBVEVfUkVDT0dOSVpFRDogU1RBVEVfUkVDT0dOSVpFRCxcbiAgICBTVEFURV9DQU5DRUxMRUQ6IFNUQVRFX0NBTkNFTExFRCxcbiAgICBTVEFURV9GQUlMRUQ6IFNUQVRFX0ZBSUxFRCxcblxuICAgIERJUkVDVElPTl9OT05FOiBESVJFQ1RJT05fTk9ORSxcbiAgICBESVJFQ1RJT05fTEVGVDogRElSRUNUSU9OX0xFRlQsXG4gICAgRElSRUNUSU9OX1JJR0hUOiBESVJFQ1RJT05fUklHSFQsXG4gICAgRElSRUNUSU9OX1VQOiBESVJFQ1RJT05fVVAsXG4gICAgRElSRUNUSU9OX0RPV046IERJUkVDVElPTl9ET1dOLFxuICAgIERJUkVDVElPTl9IT1JJWk9OVEFMOiBESVJFQ1RJT05fSE9SSVpPTlRBTCxcbiAgICBESVJFQ1RJT05fVkVSVElDQUw6IERJUkVDVElPTl9WRVJUSUNBTCxcbiAgICBESVJFQ1RJT05fQUxMOiBESVJFQ1RJT05fQUxMLFxuXG4gICAgTWFuYWdlcjogTWFuYWdlcixcbiAgICBJbnB1dDogSW5wdXQsXG4gICAgVG91Y2hBY3Rpb246IFRvdWNoQWN0aW9uLFxuXG4gICAgVG91Y2hJbnB1dDogVG91Y2hJbnB1dCxcbiAgICBNb3VzZUlucHV0OiBNb3VzZUlucHV0LFxuICAgIFBvaW50ZXJFdmVudElucHV0OiBQb2ludGVyRXZlbnRJbnB1dCxcbiAgICBUb3VjaE1vdXNlSW5wdXQ6IFRvdWNoTW91c2VJbnB1dCxcbiAgICBTaW5nbGVUb3VjaElucHV0OiBTaW5nbGVUb3VjaElucHV0LFxuXG4gICAgUmVjb2duaXplcjogUmVjb2duaXplcixcbiAgICBBdHRyUmVjb2duaXplcjogQXR0clJlY29nbml6ZXIsXG4gICAgVGFwOiBUYXBSZWNvZ25pemVyLFxuICAgIFBhbjogUGFuUmVjb2duaXplcixcbiAgICBTd2lwZTogU3dpcGVSZWNvZ25pemVyLFxuICAgIFBpbmNoOiBQaW5jaFJlY29nbml6ZXIsXG4gICAgUm90YXRlOiBSb3RhdGVSZWNvZ25pemVyLFxuICAgIFByZXNzOiBQcmVzc1JlY29nbml6ZXIsXG5cbiAgICBvbjogYWRkRXZlbnRMaXN0ZW5lcnMsXG4gICAgb2ZmOiByZW1vdmVFdmVudExpc3RlbmVycyxcbiAgICBlYWNoOiBlYWNoLFxuICAgIG1lcmdlOiBtZXJnZSxcbiAgICBleHRlbmQ6IGV4dGVuZCxcbiAgICBhc3NpZ246IGFzc2lnbixcbiAgICBpbmhlcml0OiBpbmhlcml0LFxuICAgIGJpbmRGbjogYmluZEZuLFxuICAgIHByZWZpeGVkOiBwcmVmaXhlZFxufSk7XG5cbi8vIHRoaXMgcHJldmVudHMgZXJyb3JzIHdoZW4gSGFtbWVyIGlzIGxvYWRlZCBpbiB0aGUgcHJlc2VuY2Ugb2YgYW4gQU1EXG4vLyAgc3R5bGUgbG9hZGVyIGJ1dCBieSBzY3JpcHQgdGFnLCBub3QgYnkgdGhlIGxvYWRlci5cbnZhciBmcmVlR2xvYmFsID0gKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDogKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyA/IHNlbGYgOiB7fSkpOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmZyZWVHbG9iYWwuSGFtbWVyID0gSGFtbWVyO1xuXG5pZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgZGVmaW5lKGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gSGFtbWVyO1xuICAgIH0pO1xufSBlbHNlIGlmICh0eXBlb2YgbW9kdWxlICE9ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBIYW1tZXI7XG59IGVsc2Uge1xuICAgIHdpbmRvd1tleHBvcnROYW1lXSA9IEhhbW1lcjtcbn1cblxufSkod2luZG93LCBkb2N1bWVudCwgJ0hhbW1lcicpO1xuIiwiaWYgKHR5cGVvZiBPYmplY3QuY3JlYXRlID09PSAnZnVuY3Rpb24nKSB7XG4gIC8vIGltcGxlbWVudGF0aW9uIGZyb20gc3RhbmRhcmQgbm9kZS5qcyAndXRpbCcgbW9kdWxlXG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaW5oZXJpdHMoY3Rvciwgc3VwZXJDdG9yKSB7XG4gICAgaWYgKHN1cGVyQ3Rvcikge1xuICAgICAgY3Rvci5zdXBlcl8gPSBzdXBlckN0b3JcbiAgICAgIGN0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckN0b3IucHJvdG90eXBlLCB7XG4gICAgICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICAgICAgdmFsdWU6IGN0b3IsXG4gICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuICB9O1xufSBlbHNlIHtcbiAgLy8gb2xkIHNjaG9vbCBzaGltIGZvciBvbGQgYnJvd3NlcnNcbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpbmhlcml0cyhjdG9yLCBzdXBlckN0b3IpIHtcbiAgICBpZiAoc3VwZXJDdG9yKSB7XG4gICAgICBjdG9yLnN1cGVyXyA9IHN1cGVyQ3RvclxuICAgICAgdmFyIFRlbXBDdG9yID0gZnVuY3Rpb24gKCkge31cbiAgICAgIFRlbXBDdG9yLnByb3RvdHlwZSA9IHN1cGVyQ3Rvci5wcm90b3R5cGVcbiAgICAgIGN0b3IucHJvdG90eXBlID0gbmV3IFRlbXBDdG9yKClcbiAgICAgIGN0b3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gY3RvclxuICAgIH1cbiAgfVxufVxuIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2xpYi9yZWZzJyk7XG5cbm1vZHVsZS5leHBvcnRzLkNvbGxlY3Rpb24gPSByZXF1aXJlKCcuL2xpYi9jb2xsZWN0aW9uJyk7IiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIEFuIGVtcHR5IGNvbGxlY3Rpb24gc3R1Yi4gVXNlIHtAbGluayBSZWZzQ29sbGVjdGlvbi5leHRlbmR9IHRvIGV4dGVuZCBhXG4gKiBjb2xsZWN0aW9uIHdpdGggcmVmIHNlbWFudGljcy5cbiAqXG4gKiBAY2xhc3MgUmVmc0NvbGxlY3Rpb25cbiAqL1xuXG4vKipcbiAqIEV4dGVuZHMgYSBjb2xsZWN0aW9uIHdpdGgge0BsaW5rIFJlZnN9IGF3YXJlIG1ldGhvZHNcbiAqXG4gKiBAbWVtYmVyb2YgUmVmc0NvbGxlY3Rpb25cbiAqIEBzdGF0aWNcbiAqXG4gKiBAcGFyYW0gIHtBcnJheTxPYmplY3Q+fSBjb2xsZWN0aW9uXG4gKiBAcGFyYW0gIHtSZWZzfSByZWZzIGluc3RhbmNlXG4gKiBAcGFyYW0gIHtPYmplY3R9IHByb3BlcnR5IHJlcHJlc2VudGVkIGJ5IHRoZSBjb2xsZWN0aW9uXG4gKiBAcGFyYW0gIHtPYmplY3R9IHRhcmdldCBvYmplY3QgdGhlIGNvbGxlY3Rpb24gaXMgYXR0YWNoZWQgdG9cbiAqXG4gKiBAcmV0dXJuIHtSZWZzQ29sbGVjdGlvbjxPYmplY3Q+fSB0aGUgZXh0ZW5kZWQgYXJyYXlcbiAqL1xuZnVuY3Rpb24gZXh0ZW5kKGNvbGxlY3Rpb24sIHJlZnMsIHByb3BlcnR5LCB0YXJnZXQpIHtcblxuICB2YXIgaW52ZXJzZVByb3BlcnR5ID0gcHJvcGVydHkuaW52ZXJzZTtcblxuICAvKipcbiAgICogUmVtb3ZlcyB0aGUgZ2l2ZW4gZWxlbWVudCBmcm9tIHRoZSBhcnJheSBhbmQgcmV0dXJucyBpdC5cbiAgICpcbiAgICogQG1ldGhvZCBSZWZzQ29sbGVjdGlvbiNyZW1vdmVcbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IGVsZW1lbnQgdGhlIGVsZW1lbnQgdG8gcmVtb3ZlXG4gICAqL1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29sbGVjdGlvbiwgJ3JlbW92ZScsIHtcbiAgICB2YWx1ZTogZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgdmFyIGlkeCA9IHRoaXMuaW5kZXhPZihlbGVtZW50KTtcbiAgICAgIGlmIChpZHggIT09IC0xKSB7XG4gICAgICAgIHRoaXMuc3BsaWNlKGlkeCwgMSk7XG5cbiAgICAgICAgLy8gdW5zZXQgaW52ZXJzZVxuICAgICAgICByZWZzLnVuc2V0KGVsZW1lbnQsIGludmVyc2VQcm9wZXJ0eSwgdGFyZ2V0KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfVxuICB9KTtcblxuICAvKipcbiAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBjb2xsZWN0aW9uIGNvbnRhaW5zIHRoZSBnaXZlbiBlbGVtZW50XG4gICAqXG4gICAqIEBtZXRob2QgUmVmc0NvbGxlY3Rpb24jY29udGFpbnNcbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IGVsZW1lbnQgdGhlIGVsZW1lbnQgdG8gY2hlY2sgZm9yXG4gICAqL1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29sbGVjdGlvbiwgJ2NvbnRhaW5zJywge1xuICAgIHZhbHVlOiBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICByZXR1cm4gdGhpcy5pbmRleE9mKGVsZW1lbnQpICE9PSAtMTtcbiAgICB9XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBBZGRzIGFuIGVsZW1lbnQgdG8gdGhlIGFycmF5LCB1bmxlc3MgaXQgZXhpc3RzIGFscmVhZHkgKHNldCBzZW1hbnRpY3MpLlxuICAgKlxuICAgKiBAbWV0aG9kIFJlZnNDb2xsZWN0aW9uI2FkZFxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gZWxlbWVudCB0aGUgZWxlbWVudCB0byBhZGRcbiAgICogQHBhcmFtIHtOdW1iZXJ9IG9wdGlvbmFsIGluZGV4IHRvIGFkZCBlbGVtZW50IHRvXG4gICAqICAgICAgICAgICAgICAgICAocG9zc2libHkgbW92aW5nIG90aGVyIGVsZW1lbnRzIGFyb3VuZClcbiAgICovXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb2xsZWN0aW9uLCAnYWRkJywge1xuICAgIHZhbHVlOiBmdW5jdGlvbihlbGVtZW50LCBpZHgpIHtcblxuICAgICAgdmFyIGN1cnJlbnRJZHggPSB0aGlzLmluZGV4T2YoZWxlbWVudCk7XG5cbiAgICAgIGlmICh0eXBlb2YgaWR4ID09PSAndW5kZWZpbmVkJykge1xuXG4gICAgICAgIGlmIChjdXJyZW50SWR4ICE9PSAtMSkge1xuICAgICAgICAgIC8vIGVsZW1lbnQgYWxyZWFkeSBpbiBjb2xsZWN0aW9uICghKVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGFkZCB0byBlbmQgb2YgYXJyYXksIGFzIG5vIGlkeCBpcyBzcGVjaWZpZWRcbiAgICAgICAgaWR4ID0gdGhpcy5sZW5ndGg7XG4gICAgICB9XG5cbiAgICAgIC8vIGhhbmRsZSBhbHJlYWR5IGluIGNvbGxlY3Rpb25cbiAgICAgIGlmIChjdXJyZW50SWR4ICE9PSAtMSkge1xuXG4gICAgICAgIC8vIHJlbW92ZSBlbGVtZW50IGZyb20gY3VycmVudElkeFxuICAgICAgICB0aGlzLnNwbGljZShjdXJyZW50SWR4LCAxKTtcbiAgICAgIH1cblxuICAgICAgLy8gYWRkIGVsZW1lbnQgYXQgaWR4XG4gICAgICB0aGlzLnNwbGljZShpZHgsIDAsIGVsZW1lbnQpO1xuXG4gICAgICBpZiAoY3VycmVudElkeCA9PT0gLTEpIHtcbiAgICAgICAgLy8gc2V0IGludmVyc2UsIHVubGVzcyBlbGVtZW50IHdhc1xuICAgICAgICAvLyBpbiBjb2xsZWN0aW9uIGFscmVhZHlcbiAgICAgICAgcmVmcy5zZXQoZWxlbWVudCwgaW52ZXJzZVByb3BlcnR5LCB0YXJnZXQpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgLy8gYSBzaW1wbGUgbWFya2VyLCBpZGVudGlmeWluZyB0aGlzIGVsZW1lbnRcbiAgLy8gYXMgYmVpbmcgYSByZWZzIGNvbGxlY3Rpb25cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvbGxlY3Rpb24sICdfX3JlZnNfY29sbGVjdGlvbicsIHtcbiAgICB2YWx1ZTogdHJ1ZVxuICB9KTtcblxuICByZXR1cm4gY29sbGVjdGlvbjtcbn1cblxuXG5mdW5jdGlvbiBpc0V4dGVuZGVkKGNvbGxlY3Rpb24pIHtcbiAgcmV0dXJuIGNvbGxlY3Rpb24uX19yZWZzX2NvbGxlY3Rpb24gPT09IHRydWU7XG59XG5cbm1vZHVsZS5leHBvcnRzLmV4dGVuZCA9IGV4dGVuZDtcblxubW9kdWxlLmV4cG9ydHMuaXNFeHRlbmRlZCA9IGlzRXh0ZW5kZWQ7IiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgQ29sbGVjdGlvbiA9IHJlcXVpcmUoJy4vY29sbGVjdGlvbicpO1xuXG5mdW5jdGlvbiBoYXNPd25Qcm9wZXJ0eShlLCBwcm9wZXJ0eSkge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsIHByb3BlcnR5Lm5hbWUgfHwgcHJvcGVydHkpO1xufVxuXG5mdW5jdGlvbiBkZWZpbmVDb2xsZWN0aW9uUHJvcGVydHkocmVmLCBwcm9wZXJ0eSwgdGFyZ2V0KSB7XG5cbiAgdmFyIGNvbGxlY3Rpb24gPSBDb2xsZWN0aW9uLmV4dGVuZCh0YXJnZXRbcHJvcGVydHkubmFtZV0gfHwgW10sIHJlZiwgcHJvcGVydHksIHRhcmdldCk7XG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHkubmFtZSwge1xuICAgIGVudW1lcmFibGU6IHByb3BlcnR5LmVudW1lcmFibGUsXG4gICAgdmFsdWU6IGNvbGxlY3Rpb25cbiAgfSk7XG5cbiAgaWYgKGNvbGxlY3Rpb24ubGVuZ3RoKSB7XG5cbiAgICBjb2xsZWN0aW9uLmZvckVhY2goZnVuY3Rpb24obykge1xuICAgICAgcmVmLnNldChvLCBwcm9wZXJ0eS5pbnZlcnNlLCB0YXJnZXQpO1xuICAgIH0pO1xuICB9XG59XG5cblxuZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkocmVmLCBwcm9wZXJ0eSwgdGFyZ2V0KSB7XG5cbiAgdmFyIGludmVyc2VQcm9wZXJ0eSA9IHByb3BlcnR5LmludmVyc2U7XG5cbiAgdmFyIF92YWx1ZSA9IHRhcmdldFtwcm9wZXJ0eS5uYW1lXTtcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eS5uYW1lLCB7XG4gICAgY29uZmlndXJhYmxlOiBwcm9wZXJ0eS5jb25maWd1cmFibGUsXG4gICAgZW51bWVyYWJsZTogcHJvcGVydHkuZW51bWVyYWJsZSxcblxuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gX3ZhbHVlO1xuICAgIH0sXG5cbiAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG5cbiAgICAgIC8vIHJldHVybiBpZiB3ZSBhbHJlYWR5IHBlcmZvcm1lZCBhbGwgY2hhbmdlc1xuICAgICAgaWYgKHZhbHVlID09PSBfdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgb2xkID0gX3ZhbHVlO1xuXG4gICAgICAvLyB0ZW1wb3Jhcnkgc2V0IG51bGxcbiAgICAgIF92YWx1ZSA9IG51bGw7XG5cbiAgICAgIGlmIChvbGQpIHtcbiAgICAgICAgcmVmLnVuc2V0KG9sZCwgaW52ZXJzZVByb3BlcnR5LCB0YXJnZXQpO1xuICAgICAgfVxuXG4gICAgICAvLyBzZXQgbmV3IHZhbHVlXG4gICAgICBfdmFsdWUgPSB2YWx1ZTtcblxuICAgICAgLy8gc2V0IGludmVyc2UgdmFsdWVcbiAgICAgIHJlZi5zZXQoX3ZhbHVlLCBpbnZlcnNlUHJvcGVydHksIHRhcmdldCk7XG4gICAgfVxuICB9KTtcblxufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgcmVmZXJlbmNlcyBvYmplY3QgZGVmaW5pbmcgdHdvIGludmVyc2x5IHJlbGF0ZWRcbiAqIGF0dHJpYnV0ZSBkZXNjcmlwdG9ycyBhIGFuZCBiLlxuICpcbiAqIDxwPlxuICogICBXaGVuIGJvdW5kIHRvIGFuIG9iamVjdCB1c2luZyB7QGxpbmsgUmVmcyNiaW5kfSB0aGUgcmVmZXJlbmNlc1xuICogICBnZXQgYWN0aXZhdGVkIGFuZCBlbnN1cmUgdGhhdCBhZGQgYW5kIHJlbW92ZSBvcGVyYXRpb25zIGFyZSBhcHBsaWVkXG4gKiAgIHJldmVyc2VseSwgdG9vLlxuICogPC9wPlxuICpcbiAqIDxwPlxuICogICBGb3IgYXR0cmlidXRlcyByZXByZXNlbnRlZCBhcyBjb2xsZWN0aW9ucyB7QGxpbmsgUmVmc30gcHJvdmlkZXMgdGhlXG4gKiAgIHtAbGluayBSZWZzQ29sbGVjdGlvbiNhZGR9LCB7QGxpbmsgUmVmc0NvbGxlY3Rpb24jcmVtb3ZlfSBhbmQge0BsaW5rIFJlZnNDb2xsZWN0aW9uI2NvbnRhaW5zfSBleHRlbnNpb25zXG4gKiAgIHRoYXQgbXVzdCBiZSB1c2VkIHRvIHByb3Blcmx5IGhvb2sgaW50byB0aGUgaW52ZXJzZSBjaGFuZ2UgbWVjaGFuaXNtLlxuICogPC9wPlxuICpcbiAqIEBjbGFzcyBSZWZzXG4gKlxuICogQGNsYXNzZGVzYyBBIGJpLWRpcmVjdGlvbmFsIHJlZmVyZW5jZSBiZXR3ZWVuIHR3byBhdHRyaWJ1dGVzLlxuICpcbiAqIEBwYXJhbSB7UmVmcy5BdHRyaWJ1dGVEZXNjcmlwdG9yfSBhIHByb3BlcnR5IGRlc2NyaXB0b3JcbiAqIEBwYXJhbSB7UmVmcy5BdHRyaWJ1dGVEZXNjcmlwdG9yfSBiIHByb3BlcnR5IGRlc2NyaXB0b3JcbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciByZWZzID0gUmVmcyh7IG5hbWU6ICd3aGVlbHMnLCBjb2xsZWN0aW9uOiB0cnVlLCBlbnVtZXJhYmxlOiB0cnVlIH0sIHsgbmFtZTogJ2NhcicgfSk7XG4gKlxuICogdmFyIGNhciA9IHsgbmFtZTogJ3RveW90YScgfTtcbiAqIHZhciB3aGVlbHMgPSBbeyBwb3M6ICdmcm9udC1sZWZ0JyB9LCB7IHBvczogJ2Zyb250LXJpZ2h0JyB9XTtcbiAqXG4gKiByZWZzLmJpbmQoY2FyLCAnd2hlZWxzJyk7XG4gKlxuICogY2FyLndoZWVscyAvLyBbXVxuICogY2FyLndoZWVscy5hZGQod2hlZWxzWzBdKTtcbiAqIGNhci53aGVlbHMuYWRkKHdoZWVsc1sxXSk7XG4gKlxuICogY2FyLndoZWVscyAvLyBbeyBwb3M6ICdmcm9udC1sZWZ0JyB9LCB7IHBvczogJ2Zyb250LXJpZ2h0JyB9XVxuICpcbiAqIHdoZWVsc1swXS5jYXIgLy8geyBuYW1lOiAndG95b3RhJyB9O1xuICogY2FyLndoZWVscy5yZW1vdmUod2hlZWxzWzBdKTtcbiAqXG4gKiB3aGVlbHNbMF0uY2FyIC8vIHVuZGVmaW5lZFxuICovXG5mdW5jdGlvbiBSZWZzKGEsIGIpIHtcblxuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgUmVmcykpIHtcbiAgICByZXR1cm4gbmV3IFJlZnMoYSwgYik7XG4gIH1cblxuICAvLyBsaW5rXG4gIGEuaW52ZXJzZSA9IGI7XG4gIGIuaW52ZXJzZSA9IGE7XG5cbiAgdGhpcy5wcm9wcyA9IHt9O1xuICB0aGlzLnByb3BzW2EubmFtZV0gPSBhO1xuICB0aGlzLnByb3BzW2IubmFtZV0gPSBiO1xufVxuXG4vKipcbiAqIEJpbmRzIG9uZSBzaWRlIG9mIGEgYmktZGlyZWN0aW9uYWwgcmVmZXJlbmNlIHRvIGFcbiAqIHRhcmdldCBvYmplY3QuXG4gKlxuICogQG1lbWJlck9mIFJlZnNcbiAqXG4gKiBAcGFyYW0gIHtPYmplY3R9IHRhcmdldFxuICogQHBhcmFtICB7U3RyaW5nfSBwcm9wZXJ0eVxuICovXG5SZWZzLnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24odGFyZ2V0LCBwcm9wZXJ0eSkge1xuICBpZiAodHlwZW9mIHByb3BlcnR5ID09PSAnc3RyaW5nJykge1xuICAgIGlmICghdGhpcy5wcm9wc1twcm9wZXJ0eV0pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignbm8gcHJvcGVydHkgPCcgKyBwcm9wZXJ0eSArICc+IGluIHJlZicpO1xuICAgIH1cbiAgICBwcm9wZXJ0eSA9IHRoaXMucHJvcHNbcHJvcGVydHldO1xuICB9XG5cbiAgaWYgKHByb3BlcnR5LmNvbGxlY3Rpb24pIHtcbiAgICBkZWZpbmVDb2xsZWN0aW9uUHJvcGVydHkodGhpcywgcHJvcGVydHksIHRhcmdldCk7XG4gIH0gZWxzZSB7XG4gICAgZGVmaW5lUHJvcGVydHkodGhpcywgcHJvcGVydHksIHRhcmdldCk7XG4gIH1cbn07XG5cblJlZnMucHJvdG90eXBlLmVuc3VyZVJlZnNDb2xsZWN0aW9uID0gZnVuY3Rpb24odGFyZ2V0LCBwcm9wZXJ0eSkge1xuXG4gIHZhciBjb2xsZWN0aW9uID0gdGFyZ2V0W3Byb3BlcnR5Lm5hbWVdO1xuXG4gIGlmICghQ29sbGVjdGlvbi5pc0V4dGVuZGVkKGNvbGxlY3Rpb24pKSB7XG4gICAgZGVmaW5lQ29sbGVjdGlvblByb3BlcnR5KHRoaXMsIHByb3BlcnR5LCB0YXJnZXQpO1xuICB9XG5cbiAgcmV0dXJuIGNvbGxlY3Rpb247XG59O1xuXG5SZWZzLnByb3RvdHlwZS5lbnN1cmVCb3VuZCA9IGZ1bmN0aW9uKHRhcmdldCwgcHJvcGVydHkpIHtcbiAgaWYgKCFoYXNPd25Qcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5KSkge1xuICAgIHRoaXMuYmluZCh0YXJnZXQsIHByb3BlcnR5KTtcbiAgfVxufTtcblxuUmVmcy5wcm90b3R5cGUudW5zZXQgPSBmdW5jdGlvbih0YXJnZXQsIHByb3BlcnR5LCB2YWx1ZSkge1xuXG4gIGlmICh0YXJnZXQpIHtcbiAgICB0aGlzLmVuc3VyZUJvdW5kKHRhcmdldCwgcHJvcGVydHkpO1xuXG4gICAgaWYgKHByb3BlcnR5LmNvbGxlY3Rpb24pIHtcbiAgICAgIHRoaXMuZW5zdXJlUmVmc0NvbGxlY3Rpb24odGFyZ2V0LCBwcm9wZXJ0eSkucmVtb3ZlKHZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGFyZ2V0W3Byb3BlcnR5Lm5hbWVdID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgfVxufTtcblxuUmVmcy5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24odGFyZ2V0LCBwcm9wZXJ0eSwgdmFsdWUpIHtcblxuICBpZiAodGFyZ2V0KSB7XG4gICAgdGhpcy5lbnN1cmVCb3VuZCh0YXJnZXQsIHByb3BlcnR5KTtcblxuICAgIGlmIChwcm9wZXJ0eS5jb2xsZWN0aW9uKSB7XG4gICAgICB0aGlzLmVuc3VyZVJlZnNDb2xsZWN0aW9uKHRhcmdldCwgcHJvcGVydHkpLmFkZCh2YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRhcmdldFtwcm9wZXJ0eS5uYW1lXSA9IHZhbHVlO1xuICAgIH1cbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBSZWZzO1xuXG5cbi8qKlxuICogQW4gYXR0cmlidXRlIGRlc2NyaXB0b3IgdG8gYmUgdXNlZCBzcGVjaWZ5IGFuIGF0dHJpYnV0ZSBpbiBhIHtAbGluayBSZWZzfSBpbnN0YW5jZVxuICpcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFJlZnMuQXR0cmlidXRlRGVzY3JpcHRvclxuICogQHByb3BlcnR5IHtTdHJpbmd9IG5hbWVcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2NvbGxlY3Rpb249ZmFsc2VdXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtlbnVtZXJhYmxlPWZhbHNlXVxuICovIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIFRoaXMgZmlsZSBjb250YWlucyBzb3VyY2UgY29kZSBhZGFwdGVkIGZyb20gU25hcC5zdmcgKGxpY2Vuc2VkIEFwYWNoZS0yLjApLlxuICpcbiAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2Fkb2JlLXdlYnBsYXRmb3JtL1NuYXAuc3ZnL2Jsb2IvbWFzdGVyL3NyYy9wYXRoLmpzXG4gKi9cblxuLyogZXNsaW50IG5vLWZhbGx0aHJvdWdoOiBcIm9mZlwiICovXG5cbnZhciBwMnMgPSAvLD8oW2Etel0pLD8vZ2ksXG4gICAgdG9GbG9hdCA9IHBhcnNlRmxvYXQsXG4gICAgbWF0aCA9IE1hdGgsXG4gICAgUEkgPSBtYXRoLlBJLFxuICAgIG1taW4gPSBtYXRoLm1pbixcbiAgICBtbWF4ID0gbWF0aC5tYXgsXG4gICAgcG93ID0gbWF0aC5wb3csXG4gICAgYWJzID0gbWF0aC5hYnMsXG4gICAgcGF0aENvbW1hbmQgPSAvKFthLXpdKVtcXHMsXSooKC0/XFxkKlxcLj9cXGQqKD86ZVstK10/XFxkKyk/W1xcc10qLD9bXFxzXSopKykvaWcsXG4gICAgcGF0aFZhbHVlcyA9IC8oLT9cXGQqXFwuP1xcZCooPzplWy0rXT9cXGQrKT8pW1xcc10qLD9bXFxzXSovaWc7XG5cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbihvKSB7IHJldHVybiBvIGluc3RhbmNlb2YgQXJyYXk7IH07XG5cbmZ1bmN0aW9uIGhhc1Byb3BlcnR5KG9iaiwgcHJvcGVydHkpIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3BlcnR5KTtcbn1cblxuZnVuY3Rpb24gY2xvbmUob2JqKSB7XG5cbiAgaWYgKHR5cGVvZiBvYmogPT0gJ2Z1bmN0aW9uJyB8fCBPYmplY3Qob2JqKSAhPT0gb2JqKSB7XG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIHZhciByZXMgPSBuZXcgb2JqLmNvbnN0cnVjdG9yO1xuXG4gIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICBpZiAoaGFzUHJvcGVydHkob2JqLCBrZXkpKSB7XG4gICAgICByZXNba2V5XSA9IGNsb25lKG9ialtrZXldKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzO1xufVxuXG5mdW5jdGlvbiByZXB1c2goYXJyYXksIGl0ZW0pIHtcbiAgZm9yICh2YXIgaSA9IDAsIGlpID0gYXJyYXkubGVuZ3RoOyBpIDwgaWk7IGkrKykgaWYgKGFycmF5W2ldID09PSBpdGVtKSB7XG4gICAgcmV0dXJuIGFycmF5LnB1c2goYXJyYXkuc3BsaWNlKGksIDEpWzBdKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjYWNoZXIoZikge1xuXG4gIGZ1bmN0aW9uIG5ld2YoKSB7XG5cbiAgICB2YXIgYXJnID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKSxcbiAgICAgICAgYXJncyA9IGFyZy5qb2luKCdcXHUyNDAwJyksXG4gICAgICAgIGNhY2hlID0gbmV3Zi5jYWNoZSA9IG5ld2YuY2FjaGUgfHwge30sXG4gICAgICAgIGNvdW50ID0gbmV3Zi5jb3VudCA9IG5ld2YuY291bnQgfHwgW107XG5cbiAgICBpZiAoaGFzUHJvcGVydHkoY2FjaGUsIGFyZ3MpKSB7XG4gICAgICByZXB1c2goY291bnQsIGFyZ3MpO1xuICAgICAgcmV0dXJuIGNhY2hlW2FyZ3NdO1xuICAgIH1cblxuICAgIGNvdW50Lmxlbmd0aCA+PSAxZTMgJiYgZGVsZXRlIGNhY2hlW2NvdW50LnNoaWZ0KCldO1xuICAgIGNvdW50LnB1c2goYXJncyk7XG4gICAgY2FjaGVbYXJnc10gPSBmLmFwcGx5KDAsIGFyZyk7XG5cbiAgICByZXR1cm4gY2FjaGVbYXJnc107XG4gIH1cbiAgcmV0dXJuIG5ld2Y7XG59XG5cbmZ1bmN0aW9uIHBhcnNlUGF0aFN0cmluZyhwYXRoU3RyaW5nKSB7XG5cbiAgaWYgKCFwYXRoU3RyaW5nKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICB2YXIgcHRoID0gcGF0aHMocGF0aFN0cmluZyk7XG5cbiAgaWYgKHB0aC5hcnIpIHtcbiAgICByZXR1cm4gY2xvbmUocHRoLmFycik7XG4gIH1cblxuICB2YXIgcGFyYW1Db3VudHMgPSB7IGE6IDcsIGM6IDYsIGg6IDEsIGw6IDIsIG06IDIsIHE6IDQsIHM6IDQsIHQ6IDIsIHY6IDEsIHo6IDAgfSxcbiAgICAgIGRhdGEgPSBbXTtcblxuICBpZiAoaXNBcnJheShwYXRoU3RyaW5nKSAmJiBpc0FycmF5KHBhdGhTdHJpbmdbMF0pKSB7IC8vIHJvdWdoIGFzc3VtcHRpb25cbiAgICBkYXRhID0gY2xvbmUocGF0aFN0cmluZyk7XG4gIH1cblxuICBpZiAoIWRhdGEubGVuZ3RoKSB7XG5cbiAgICBTdHJpbmcocGF0aFN0cmluZykucmVwbGFjZShwYXRoQ29tbWFuZCwgZnVuY3Rpb24oYSwgYiwgYykge1xuICAgICAgdmFyIHBhcmFtcyA9IFtdLFxuICAgICAgICAgIG5hbWUgPSBiLnRvTG93ZXJDYXNlKCk7XG5cbiAgICAgIGMucmVwbGFjZShwYXRoVmFsdWVzLCBmdW5jdGlvbihhLCBiKSB7XG4gICAgICAgIGIgJiYgcGFyYW1zLnB1c2goK2IpO1xuICAgICAgfSk7XG5cbiAgICAgIGlmIChuYW1lID09ICdtJyAmJiBwYXJhbXMubGVuZ3RoID4gMikge1xuICAgICAgICBkYXRhLnB1c2goW2JdLmNvbmNhdChwYXJhbXMuc3BsaWNlKDAsIDIpKSk7XG4gICAgICAgIG5hbWUgPSAnbCc7XG4gICAgICAgIGIgPSBiID09ICdtJyA/ICdsJyA6ICdMJztcbiAgICAgIH1cblxuICAgICAgd2hpbGUgKHBhcmFtcy5sZW5ndGggPj0gcGFyYW1Db3VudHNbbmFtZV0pIHtcbiAgICAgICAgZGF0YS5wdXNoKFtiXS5jb25jYXQocGFyYW1zLnNwbGljZSgwLCBwYXJhbUNvdW50c1tuYW1lXSkpKTtcbiAgICAgICAgaWYgKCFwYXJhbUNvdW50c1tuYW1lXSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBkYXRhLnRvU3RyaW5nID0gcGF0aHMudG9TdHJpbmc7XG4gIHB0aC5hcnIgPSBjbG9uZShkYXRhKTtcblxuICByZXR1cm4gZGF0YTtcbn1cblxuZnVuY3Rpb24gcGF0aHMocHMpIHtcbiAgdmFyIHAgPSBwYXRocy5wcyA9IHBhdGhzLnBzIHx8IHt9O1xuXG4gIGlmIChwW3BzXSkge1xuICAgIHBbcHNdLnNsZWVwID0gMTAwO1xuICB9IGVsc2Uge1xuICAgIHBbcHNdID0ge1xuICAgICAgc2xlZXA6IDEwMFxuICAgIH07XG4gIH1cblxuICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgIGZvciAodmFyIGtleSBpbiBwKSB7XG4gICAgICBpZiAoaGFzUHJvcGVydHkocCwga2V5KSAmJiBrZXkgIT0gcHMpIHtcbiAgICAgICAgcFtrZXldLnNsZWVwLS07XG4gICAgICAgICFwW2tleV0uc2xlZXAgJiYgZGVsZXRlIHBba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBwW3BzXTtcbn1cblxuZnVuY3Rpb24gcmVjdEJCb3goeCwgeSwgd2lkdGgsIGhlaWdodCkge1xuXG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgeSA9IHgueTtcbiAgICB3aWR0aCA9IHgud2lkdGg7XG4gICAgaGVpZ2h0ID0geC5oZWlnaHQ7XG4gICAgeCA9IHgueDtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgeDogeCxcbiAgICB5OiB5LFxuICAgIHdpZHRoOiB3aWR0aCxcbiAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICB4MjogeCArIHdpZHRoLFxuICAgIHkyOiB5ICsgaGVpZ2h0XG4gIH07XG59XG5cbmZ1bmN0aW9uIHBhdGhUb1N0cmluZygpIHtcbiAgcmV0dXJuIHRoaXMuam9pbignLCcpLnJlcGxhY2UocDJzLCAnJDEnKTtcbn1cblxuZnVuY3Rpb24gcGF0aENsb25lKHBhdGhBcnJheSkge1xuICB2YXIgcmVzID0gY2xvbmUocGF0aEFycmF5KTtcbiAgcmVzLnRvU3RyaW5nID0gcGF0aFRvU3RyaW5nO1xuICByZXR1cm4gcmVzO1xufVxuXG5mdW5jdGlvbiBmaW5kRG90c0F0U2VnbWVudChwMXgsIHAxeSwgYzF4LCBjMXksIGMyeCwgYzJ5LCBwMngsIHAyeSwgdCkge1xuICB2YXIgdDEgPSAxIC0gdCxcbiAgICAgIHQxMyA9IHBvdyh0MSwgMyksXG4gICAgICB0MTIgPSBwb3codDEsIDIpLFxuICAgICAgdDIgPSB0ICogdCxcbiAgICAgIHQzID0gdDIgKiB0LFxuICAgICAgeCA9IHQxMyAqIHAxeCArIHQxMiAqIDMgKiB0ICogYzF4ICsgdDEgKiAzICogdCAqIHQgKiBjMnggKyB0MyAqIHAyeCxcbiAgICAgIHkgPSB0MTMgKiBwMXkgKyB0MTIgKiAzICogdCAqIGMxeSArIHQxICogMyAqIHQgKiB0ICogYzJ5ICsgdDMgKiBwMnk7XG5cbiAgcmV0dXJuIHtcbiAgICB4OiBmaXhFcnJvcih4KSxcbiAgICB5OiBmaXhFcnJvcih5KVxuICB9O1xufVxuXG5mdW5jdGlvbiBiZXppZXJCQm94KHBvaW50cykge1xuXG4gIHZhciBiYm94ID0gY3VydmVCQm94LmFwcGx5KG51bGwsIHBvaW50cyk7XG5cbiAgcmV0dXJuIHJlY3RCQm94KFxuICAgIGJib3gueDAsXG4gICAgYmJveC55MCxcbiAgICBiYm94LngxIC0gYmJveC54MCxcbiAgICBiYm94LnkxIC0gYmJveC55MFxuICApO1xufVxuXG5mdW5jdGlvbiBpc1BvaW50SW5zaWRlQkJveChiYm94LCB4LCB5KSB7XG4gIHJldHVybiB4ID49IGJib3gueCAmJlxuICAgIHggPD0gYmJveC54ICsgYmJveC53aWR0aCAmJlxuICAgIHkgPj0gYmJveC55ICYmXG4gICAgeSA8PSBiYm94LnkgKyBiYm94LmhlaWdodDtcbn1cblxuZnVuY3Rpb24gaXNCQm94SW50ZXJzZWN0KGJib3gxLCBiYm94Mikge1xuICBiYm94MSA9IHJlY3RCQm94KGJib3gxKTtcbiAgYmJveDIgPSByZWN0QkJveChiYm94Mik7XG4gIHJldHVybiBpc1BvaW50SW5zaWRlQkJveChiYm94MiwgYmJveDEueCwgYmJveDEueSlcbiAgICB8fCBpc1BvaW50SW5zaWRlQkJveChiYm94MiwgYmJveDEueDIsIGJib3gxLnkpXG4gICAgfHwgaXNQb2ludEluc2lkZUJCb3goYmJveDIsIGJib3gxLngsIGJib3gxLnkyKVxuICAgIHx8IGlzUG9pbnRJbnNpZGVCQm94KGJib3gyLCBiYm94MS54MiwgYmJveDEueTIpXG4gICAgfHwgaXNQb2ludEluc2lkZUJCb3goYmJveDEsIGJib3gyLngsIGJib3gyLnkpXG4gICAgfHwgaXNQb2ludEluc2lkZUJCb3goYmJveDEsIGJib3gyLngyLCBiYm94Mi55KVxuICAgIHx8IGlzUG9pbnRJbnNpZGVCQm94KGJib3gxLCBiYm94Mi54LCBiYm94Mi55MilcbiAgICB8fCBpc1BvaW50SW5zaWRlQkJveChiYm94MSwgYmJveDIueDIsIGJib3gyLnkyKVxuICAgIHx8IChiYm94MS54IDwgYmJveDIueDIgJiYgYmJveDEueCA+IGJib3gyLnhcbiAgICAgICAgfHwgYmJveDIueCA8IGJib3gxLngyICYmIGJib3gyLnggPiBiYm94MS54KVxuICAgICYmIChiYm94MS55IDwgYmJveDIueTIgJiYgYmJveDEueSA+IGJib3gyLnlcbiAgICAgICAgfHwgYmJveDIueSA8IGJib3gxLnkyICYmIGJib3gyLnkgPiBiYm94MS55KTtcbn1cblxuZnVuY3Rpb24gYmFzZTModCwgcDEsIHAyLCBwMywgcDQpIHtcbiAgdmFyIHQxID0gLTMgKiBwMSArIDkgKiBwMiAtIDkgKiBwMyArIDMgKiBwNCxcbiAgICAgIHQyID0gdCAqIHQxICsgNiAqIHAxIC0gMTIgKiBwMiArIDYgKiBwMztcbiAgcmV0dXJuIHQgKiB0MiAtIDMgKiBwMSArIDMgKiBwMjtcbn1cblxuZnVuY3Rpb24gYmV6bGVuKHgxLCB5MSwgeDIsIHkyLCB4MywgeTMsIHg0LCB5NCwgeikge1xuXG4gIGlmICh6ID09IG51bGwpIHtcbiAgICB6ID0gMTtcbiAgfVxuXG4gIHogPSB6ID4gMSA/IDEgOiB6IDwgMCA/IDAgOiB6O1xuXG4gIHZhciB6MiA9IHogLyAyLFxuICAgICAgbiA9IDEyLFxuICAgICAgVHZhbHVlcyA9IFstLjEyNTIsLjEyNTIsLS4zNjc4LC4zNjc4LC0uNTg3MywuNTg3MywtLjc2OTksLjc2OTksLS45MDQxLC45MDQxLC0uOTgxNiwuOTgxNl0sXG4gICAgICBDdmFsdWVzID0gWzAuMjQ5MSwwLjI0OTEsMC4yMzM1LDAuMjMzNSwwLjIwMzIsMC4yMDMyLDAuMTYwMSwwLjE2MDEsMC4xMDY5LDAuMTA2OSwwLjA0NzIsMC4wNDcyXSxcbiAgICAgIHN1bSA9IDA7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyBpKyspIHtcbiAgICB2YXIgY3QgPSB6MiAqIFR2YWx1ZXNbaV0gKyB6MixcbiAgICAgICAgeGJhc2UgPSBiYXNlMyhjdCwgeDEsIHgyLCB4MywgeDQpLFxuICAgICAgICB5YmFzZSA9IGJhc2UzKGN0LCB5MSwgeTIsIHkzLCB5NCksXG4gICAgICAgIGNvbWIgPSB4YmFzZSAqIHhiYXNlICsgeWJhc2UgKiB5YmFzZTtcblxuICAgIHN1bSArPSBDdmFsdWVzW2ldICogbWF0aC5zcXJ0KGNvbWIpO1xuICB9XG5cbiAgcmV0dXJuIHoyICogc3VtO1xufVxuXG5cbmZ1bmN0aW9uIGludGVyc2VjdExpbmVzKHgxLCB5MSwgeDIsIHkyLCB4MywgeTMsIHg0LCB5NCkge1xuXG4gIGlmIChcbiAgICBtbWF4KHgxLCB4MikgPCBtbWluKHgzLCB4NCkgfHxcbiAgICAgIG1taW4oeDEsIHgyKSA+IG1tYXgoeDMsIHg0KSB8fFxuICAgICAgbW1heCh5MSwgeTIpIDwgbW1pbih5MywgeTQpIHx8XG4gICAgICBtbWluKHkxLCB5MikgPiBtbWF4KHkzLCB5NClcbiAgKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIG54ID0gKHgxICogeTIgLSB5MSAqIHgyKSAqICh4MyAtIHg0KSAtICh4MSAtIHgyKSAqICh4MyAqIHk0IC0geTMgKiB4NCksXG4gICAgICBueSA9ICh4MSAqIHkyIC0geTEgKiB4MikgKiAoeTMgLSB5NCkgLSAoeTEgLSB5MikgKiAoeDMgKiB5NCAtIHkzICogeDQpLFxuICAgICAgZGVub21pbmF0b3IgPSAoeDEgLSB4MikgKiAoeTMgLSB5NCkgLSAoeTEgLSB5MikgKiAoeDMgLSB4NCk7XG5cbiAgaWYgKCFkZW5vbWluYXRvcikge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBweCA9IGZpeEVycm9yKG54IC8gZGVub21pbmF0b3IpLFxuICAgICAgcHkgPSBmaXhFcnJvcihueSAvIGRlbm9taW5hdG9yKSxcbiAgICAgIHB4MiA9ICtweC50b0ZpeGVkKDIpLFxuICAgICAgcHkyID0gK3B5LnRvRml4ZWQoMik7XG5cbiAgaWYgKFxuICAgIHB4MiA8ICttbWluKHgxLCB4MikudG9GaXhlZCgyKSB8fFxuICAgICAgcHgyID4gK21tYXgoeDEsIHgyKS50b0ZpeGVkKDIpIHx8XG4gICAgICBweDIgPCArbW1pbih4MywgeDQpLnRvRml4ZWQoMikgfHxcbiAgICAgIHB4MiA+ICttbWF4KHgzLCB4NCkudG9GaXhlZCgyKSB8fFxuICAgICAgcHkyIDwgK21taW4oeTEsIHkyKS50b0ZpeGVkKDIpIHx8XG4gICAgICBweTIgPiArbW1heCh5MSwgeTIpLnRvRml4ZWQoMikgfHxcbiAgICAgIHB5MiA8ICttbWluKHkzLCB5NCkudG9GaXhlZCgyKSB8fFxuICAgICAgcHkyID4gK21tYXgoeTMsIHk0KS50b0ZpeGVkKDIpXG4gICkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHJldHVybiB7IHg6IHB4LCB5OiBweSB9O1xufVxuXG5mdW5jdGlvbiBmaXhFcnJvcihudW1iZXIpIHtcbiAgcmV0dXJuIE1hdGgucm91bmQobnVtYmVyICogMTAwMDAwMDAwMDAwKSAvIDEwMDAwMDAwMDAwMDtcbn1cblxuZnVuY3Rpb24gZmluZEJlemllckludGVyc2VjdGlvbnMoYmV6MSwgYmV6MiwganVzdENvdW50KSB7XG4gIHZhciBiYm94MSA9IGJlemllckJCb3goYmV6MSksXG4gICAgICBiYm94MiA9IGJlemllckJCb3goYmV6Mik7XG5cbiAgaWYgKCFpc0JCb3hJbnRlcnNlY3QoYmJveDEsIGJib3gyKSkge1xuICAgIHJldHVybiBqdXN0Q291bnQgPyAwIDogW107XG4gIH1cblxuICAvLyBBcyBhbiBvcHRpbWl6YXRpb24sIGxpbmVzIHdpbGwgaGF2ZSBvbmx5IDEgc2VnbWVudFxuXG4gIHZhciBsMSA9IGJlemxlbi5hcHBseSgwLCBiZXoxKSxcbiAgICAgIGwyID0gYmV6bGVuLmFwcGx5KDAsIGJlejIpLFxuICAgICAgbjEgPSBpc0xpbmUoYmV6MSkgPyAxIDogfn4obDEgLyA1KSB8fCAxLFxuICAgICAgbjIgPSBpc0xpbmUoYmV6MikgPyAxIDogfn4obDIgLyA1KSB8fCAxLFxuICAgICAgZG90czEgPSBbXSxcbiAgICAgIGRvdHMyID0gW10sXG4gICAgICB4eSA9IHt9LFxuICAgICAgcmVzID0ganVzdENvdW50ID8gMCA6IFtdO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbjEgKyAxOyBpKyspIHtcbiAgICB2YXIgcCA9IGZpbmREb3RzQXRTZWdtZW50LmFwcGx5KDAsIGJlejEuY29uY2F0KGkgLyBuMSkpO1xuICAgIGRvdHMxLnB1c2goeyB4OiBwLngsIHk6IHAueSwgdDogaSAvIG4xIH0pO1xuICB9XG5cbiAgZm9yIChpID0gMDsgaSA8IG4yICsgMTsgaSsrKSB7XG4gICAgcCA9IGZpbmREb3RzQXRTZWdtZW50LmFwcGx5KDAsIGJlejIuY29uY2F0KGkgLyBuMikpO1xuICAgIGRvdHMyLnB1c2goeyB4OiBwLngsIHk6IHAueSwgdDogaSAvIG4yIH0pO1xuICB9XG5cbiAgZm9yIChpID0gMDsgaSA8IG4xOyBpKyspIHtcblxuICAgIGZvciAodmFyIGogPSAwOyBqIDwgbjI7IGorKykge1xuICAgICAgdmFyIGRpID0gZG90czFbaV0sXG4gICAgICAgICAgZGkxID0gZG90czFbaSArIDFdLFxuICAgICAgICAgIGRqID0gZG90czJbal0sXG4gICAgICAgICAgZGoxID0gZG90czJbaiArIDFdLFxuICAgICAgICAgIGNpID0gYWJzKGRpMS54IC0gZGkueCkgPCAuMDEgPyAneScgOiAneCcsXG4gICAgICAgICAgY2ogPSBhYnMoZGoxLnggLSBkai54KSA8IC4wMSA/ICd5JyA6ICd4JyxcbiAgICAgICAgICBpcyA9IGludGVyc2VjdExpbmVzKGRpLngsIGRpLnksIGRpMS54LCBkaTEueSwgZGoueCwgZGoueSwgZGoxLngsIGRqMS55KSxcbiAgICAgICAgICBrZXk7XG5cbiAgICAgIGlmIChpcykge1xuICAgICAgICBrZXkgPSBpcy54LnRvRml4ZWQoOSkgKyAnIycgKyBpcy55LnRvRml4ZWQoOSk7XG5cbiAgICAgICAgaWYgKHh5W2tleV0pIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHh5W2tleV0gPSB0cnVlO1xuXG4gICAgICAgIHZhciB0MSA9IGRpLnQgKyBhYnMoKGlzW2NpXSAtIGRpW2NpXSkgLyAoZGkxW2NpXSAtIGRpW2NpXSkpICogKGRpMS50IC0gZGkudCksXG4gICAgICAgICAgICB0MiA9IGRqLnQgKyBhYnMoKGlzW2NqXSAtIGRqW2NqXSkgLyAoZGoxW2NqXSAtIGRqW2NqXSkpICogKGRqMS50IC0gZGoudCk7XG5cbiAgICAgICAgaWYgKHQxID49IDAgJiYgdDEgPD0gMSAmJiB0MiA+PSAwICYmIHQyIDw9IDEpIHtcblxuICAgICAgICAgIGlmIChqdXN0Q291bnQpIHtcbiAgICAgICAgICAgIHJlcysrO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXMucHVzaCh7XG4gICAgICAgICAgICAgIHg6IGlzLngsXG4gICAgICAgICAgICAgIHk6IGlzLnksXG4gICAgICAgICAgICAgIHQxOiB0MSxcbiAgICAgICAgICAgICAgdDI6IHQyXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzO1xufVxuXG5cbi8qKlxuICogRmluZCBvciBjb3VudHMgdGhlIGludGVyc2VjdGlvbnMgYmV0d2VlbiB0d28gU1ZHIHBhdGhzLlxuICpcbiAqIFJldHVybnMgYSBudW1iZXIgaW4gY291bnRpbmcgbW9kZSBhbmQgYSBsaXN0IG9mIGludGVyc2VjdGlvbnMgb3RoZXJ3aXNlLlxuICpcbiAqIEEgc2luZ2xlIGludGVyc2VjdGlvbiBlbnRyeSBjb250YWlucyB0aGUgaW50ZXJzZWN0aW9uIGNvb3JkaW5hdGVzICh4LCB5KVxuICogYXMgd2VsbCBhcyBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIHJlZ2FyZGluZyB0aGUgaW50ZXJzZWN0aW5nIHNlZ21lbnRzXG4gKiBvbiBlYWNoIHBhdGggKHNlZ21lbnQxLCBzZWdtZW50MikgYW5kIHRoZSByZWxhdGl2ZSBsb2NhdGlvbiBvZiB0aGVcbiAqIGludGVyc2VjdGlvbiBvbiB0aGVzZSBzZWdtZW50cyAodDEsIHQyKS5cbiAqXG4gKiBUaGUgcGF0aCBtYXkgYmUgYW4gU1ZHIHBhdGggc3RyaW5nIG9yIGEgbGlzdCBvZiBwYXRoIGNvbXBvbmVudHNcbiAqIHN1Y2ggYXMgYFsgWyAnTScsIDAsIDEwIF0sIFsgJ0wnLCAyMCwgMCBdIF1gLlxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIGludGVyc2VjdGlvbnMgPSBmaW5kUGF0aEludGVyc2VjdGlvbnMoXG4gKiAgICdNMCwwTDEwMCwxMDAnLFxuICogICBbIFsgJ00nLCAwLCAxMDAgXSwgWyAnTCcsIDEwMCwgMCBdIF1cbiAqICk7XG4gKlxuICogLy8gaW50ZXJzZWN0aW9ucyA9IFtcbiAqIC8vICAgeyB4OiA1MCwgeTogNTAsIHNlZ21lbnQxOiAxLCBzZWdtZW50MjogMSwgdDE6IDAuNSwgdDI6IDAuNSB9XG4gKiAvLyBdXG4gKlxuICogQHBhcmFtIHtTdHJpbmd8QXJyYXk8UGF0aERlZj59IHBhdGgxXG4gKiBAcGFyYW0ge1N0cmluZ3xBcnJheTxQYXRoRGVmPn0gcGF0aDJcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW2p1c3RDb3VudD1mYWxzZV1cbiAqXG4gKiBAcmV0dXJuIHtBcnJheTxJbnRlcnNlY3Rpb24+fE51bWJlcn1cbiAqL1xuZnVuY3Rpb24gZmluZFBhdGhJbnRlcnNlY3Rpb25zKHBhdGgxLCBwYXRoMiwganVzdENvdW50KSB7XG4gIHBhdGgxID0gcGF0aFRvQ3VydmUocGF0aDEpO1xuICBwYXRoMiA9IHBhdGhUb0N1cnZlKHBhdGgyKTtcblxuICB2YXIgeDEsIHkxLCB4MiwgeTIsIHgxbSwgeTFtLCB4Mm0sIHkybSwgYmV6MSwgYmV6MixcbiAgICAgIHJlcyA9IGp1c3RDb3VudCA/IDAgOiBbXTtcblxuICBmb3IgKHZhciBpID0gMCwgaWkgPSBwYXRoMS5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgdmFyIHBpID0gcGF0aDFbaV07XG5cbiAgICBpZiAocGlbMF0gPT0gJ00nKSB7XG4gICAgICB4MSA9IHgxbSA9IHBpWzFdO1xuICAgICAgeTEgPSB5MW0gPSBwaVsyXTtcbiAgICB9IGVsc2Uge1xuXG4gICAgICBpZiAocGlbMF0gPT0gJ0MnKSB7XG4gICAgICAgIGJlejEgPSBbeDEsIHkxXS5jb25jYXQocGkuc2xpY2UoMSkpO1xuICAgICAgICB4MSA9IGJlejFbNl07XG4gICAgICAgIHkxID0gYmV6MVs3XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJlejEgPSBbeDEsIHkxLCB4MSwgeTEsIHgxbSwgeTFtLCB4MW0sIHkxbV07XG4gICAgICAgIHgxID0geDFtO1xuICAgICAgICB5MSA9IHkxbTtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgaiA9IDAsIGpqID0gcGF0aDIubGVuZ3RoOyBqIDwgamo7IGorKykge1xuICAgICAgICB2YXIgcGogPSBwYXRoMltqXTtcblxuICAgICAgICBpZiAocGpbMF0gPT0gJ00nKSB7XG4gICAgICAgICAgeDIgPSB4Mm0gPSBwalsxXTtcbiAgICAgICAgICB5MiA9IHkybSA9IHBqWzJdO1xuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgaWYgKHBqWzBdID09ICdDJykge1xuICAgICAgICAgICAgYmV6MiA9IFt4MiwgeTJdLmNvbmNhdChwai5zbGljZSgxKSk7XG4gICAgICAgICAgICB4MiA9IGJlejJbNl07XG4gICAgICAgICAgICB5MiA9IGJlejJbN107XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJlejIgPSBbeDIsIHkyLCB4MiwgeTIsIHgybSwgeTJtLCB4Mm0sIHkybV07XG4gICAgICAgICAgICB4MiA9IHgybTtcbiAgICAgICAgICAgIHkyID0geTJtO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciBpbnRyID0gZmluZEJlemllckludGVyc2VjdGlvbnMoYmV6MSwgYmV6MiwganVzdENvdW50KTtcblxuICAgICAgICAgIGlmIChqdXN0Q291bnQpIHtcbiAgICAgICAgICAgIHJlcyArPSBpbnRyO1xuICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGsgPSAwLCBrayA9IGludHIubGVuZ3RoOyBrIDwga2s7IGsrKykge1xuICAgICAgICAgICAgICBpbnRyW2tdLnNlZ21lbnQxID0gaTtcbiAgICAgICAgICAgICAgaW50cltrXS5zZWdtZW50MiA9IGo7XG4gICAgICAgICAgICAgIGludHJba10uYmV6MSA9IGJlejE7XG4gICAgICAgICAgICAgIGludHJba10uYmV6MiA9IGJlejI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJlcyA9IHJlcy5jb25jYXQoaW50cik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlcztcbn1cblxuXG5mdW5jdGlvbiBwYXRoVG9BYnNvbHV0ZShwYXRoQXJyYXkpIHtcbiAgdmFyIHB0aCA9IHBhdGhzKHBhdGhBcnJheSk7XG5cbiAgaWYgKHB0aC5hYnMpIHtcbiAgICByZXR1cm4gcGF0aENsb25lKHB0aC5hYnMpO1xuICB9XG5cbiAgaWYgKCFpc0FycmF5KHBhdGhBcnJheSkgfHwgIWlzQXJyYXkocGF0aEFycmF5ICYmIHBhdGhBcnJheVswXSkpIHsgLy8gcm91Z2ggYXNzdW1wdGlvblxuICAgIHBhdGhBcnJheSA9IHBhcnNlUGF0aFN0cmluZyhwYXRoQXJyYXkpO1xuICB9XG5cbiAgaWYgKCFwYXRoQXJyYXkgfHwgIXBhdGhBcnJheS5sZW5ndGgpIHtcbiAgICByZXR1cm4gW1snTScsIDAsIDBdXTtcbiAgfVxuXG4gIHZhciByZXMgPSBbXSxcbiAgICAgIHggPSAwLFxuICAgICAgeSA9IDAsXG4gICAgICBteCA9IDAsXG4gICAgICBteSA9IDAsXG4gICAgICBzdGFydCA9IDAsXG4gICAgICBwYTA7XG5cbiAgaWYgKHBhdGhBcnJheVswXVswXSA9PSAnTScpIHtcbiAgICB4ID0gK3BhdGhBcnJheVswXVsxXTtcbiAgICB5ID0gK3BhdGhBcnJheVswXVsyXTtcbiAgICBteCA9IHg7XG4gICAgbXkgPSB5O1xuICAgIHN0YXJ0Kys7XG4gICAgcmVzWzBdID0gWydNJywgeCwgeV07XG4gIH1cblxuICBmb3IgKHZhciByLCBwYSwgaSA9IHN0YXJ0LCBpaSA9IHBhdGhBcnJheS5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgcmVzLnB1c2gociA9IFtdKTtcbiAgICBwYSA9IHBhdGhBcnJheVtpXTtcbiAgICBwYTAgPSBwYVswXTtcblxuICAgIGlmIChwYTAgIT0gcGEwLnRvVXBwZXJDYXNlKCkpIHtcbiAgICAgIHJbMF0gPSBwYTAudG9VcHBlckNhc2UoKTtcblxuICAgICAgc3dpdGNoIChyWzBdKSB7XG4gICAgICBjYXNlICdBJzpcbiAgICAgICAgclsxXSA9IHBhWzFdO1xuICAgICAgICByWzJdID0gcGFbMl07XG4gICAgICAgIHJbM10gPSBwYVszXTtcbiAgICAgICAgcls0XSA9IHBhWzRdO1xuICAgICAgICByWzVdID0gcGFbNV07XG4gICAgICAgIHJbNl0gPSArcGFbNl0gKyB4O1xuICAgICAgICByWzddID0gK3BhWzddICsgeTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdWJzpcbiAgICAgICAgclsxXSA9ICtwYVsxXSArIHk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnSCc6XG4gICAgICAgIHJbMV0gPSArcGFbMV0gKyB4O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ00nOlxuICAgICAgICBteCA9ICtwYVsxXSArIHg7XG4gICAgICAgIG15ID0gK3BhWzJdICsgeTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGZvciAodmFyIGogPSAxLCBqaiA9IHBhLmxlbmd0aDsgaiA8IGpqOyBqKyspIHtcbiAgICAgICAgICByW2pdID0gK3BhW2pdICsgKChqICUgMikgPyB4IDogeSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZm9yICh2YXIgayA9IDAsIGtrID0gcGEubGVuZ3RoOyBrIDwga2s7IGsrKykge1xuICAgICAgICByW2tdID0gcGFba107XG4gICAgICB9XG4gICAgfVxuICAgIHBhMCA9IHBhMC50b1VwcGVyQ2FzZSgpO1xuXG4gICAgc3dpdGNoIChyWzBdKSB7XG4gICAgY2FzZSAnWic6XG4gICAgICB4ID0gK214O1xuICAgICAgeSA9ICtteTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ0gnOlxuICAgICAgeCA9IHJbMV07XG4gICAgICBicmVhaztcbiAgICBjYXNlICdWJzpcbiAgICAgIHkgPSByWzFdO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnTSc6XG4gICAgICBteCA9IHJbci5sZW5ndGggLSAyXTtcbiAgICAgIG15ID0gcltyLmxlbmd0aCAtIDFdO1xuICAgIGRlZmF1bHQ6XG4gICAgICB4ID0gcltyLmxlbmd0aCAtIDJdO1xuICAgICAgeSA9IHJbci5sZW5ndGggLSAxXTtcbiAgICB9XG4gIH1cblxuICByZXMudG9TdHJpbmcgPSBwYXRoVG9TdHJpbmc7XG4gIHB0aC5hYnMgPSBwYXRoQ2xvbmUocmVzKTtcblxuICByZXR1cm4gcmVzO1xufVxuXG5mdW5jdGlvbiBpc0xpbmUoYmV6KSB7XG4gIHJldHVybiAoXG4gICAgYmV6WzBdID09PSBiZXpbMl0gJiZcbiAgICBiZXpbMV0gPT09IGJlelszXSAmJlxuICAgIGJlels0XSA9PT0gYmV6WzZdICYmXG4gICAgYmV6WzVdID09PSBiZXpbN11cbiAgKTtcbn1cblxuZnVuY3Rpb24gbGluZVRvQ3VydmUoeDEsIHkxLCB4MiwgeTIpIHtcbiAgcmV0dXJuIFtcbiAgICB4MSwgeTEsIHgyLFxuICAgIHkyLCB4MiwgeTJcbiAgXTtcbn1cblxuZnVuY3Rpb24gcXViaWNUb0N1cnZlKHgxLCB5MSwgYXgsIGF5LCB4MiwgeTIpIHtcbiAgdmFyIF8xMyA9IDEgLyAzLFxuICAgICAgXzIzID0gMiAvIDM7XG5cbiAgcmV0dXJuIFtcbiAgICBfMTMgKiB4MSArIF8yMyAqIGF4LFxuICAgIF8xMyAqIHkxICsgXzIzICogYXksXG4gICAgXzEzICogeDIgKyBfMjMgKiBheCxcbiAgICBfMTMgKiB5MiArIF8yMyAqIGF5LFxuICAgIHgyLFxuICAgIHkyXG4gIF07XG59XG5cbmZ1bmN0aW9uIGFyY1RvQ3VydmUoeDEsIHkxLCByeCwgcnksIGFuZ2xlLCBsYXJnZV9hcmNfZmxhZywgc3dlZXBfZmxhZywgeDIsIHkyLCByZWN1cnNpdmUpIHtcblxuICAvLyBmb3IgbW9yZSBpbmZvcm1hdGlvbiBvZiB3aGVyZSB0aGlzIG1hdGggY2FtZSBmcm9tIHZpc2l0OlxuICAvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9pbXBsbm90ZS5odG1sI0FyY0ltcGxlbWVudGF0aW9uTm90ZXNcbiAgdmFyIF8xMjAgPSBQSSAqIDEyMCAvIDE4MCxcbiAgICAgIHJhZCA9IFBJIC8gMTgwICogKCthbmdsZSB8fCAwKSxcbiAgICAgIHJlcyA9IFtdLFxuICAgICAgeHksXG4gICAgICByb3RhdGUgPSBjYWNoZXIoZnVuY3Rpb24oeCwgeSwgcmFkKSB7XG4gICAgICAgIHZhciBYID0geCAqIG1hdGguY29zKHJhZCkgLSB5ICogbWF0aC5zaW4ocmFkKSxcbiAgICAgICAgICAgIFkgPSB4ICogbWF0aC5zaW4ocmFkKSArIHkgKiBtYXRoLmNvcyhyYWQpO1xuXG4gICAgICAgIHJldHVybiB7IHg6IFgsIHk6IFkgfTtcbiAgICAgIH0pO1xuXG4gIGlmICghcmVjdXJzaXZlKSB7XG4gICAgeHkgPSByb3RhdGUoeDEsIHkxLCAtcmFkKTtcbiAgICB4MSA9IHh5Lng7XG4gICAgeTEgPSB4eS55O1xuICAgIHh5ID0gcm90YXRlKHgyLCB5MiwgLXJhZCk7XG4gICAgeDIgPSB4eS54O1xuICAgIHkyID0geHkueTtcblxuICAgIHZhciB4ID0gKHgxIC0geDIpIC8gMixcbiAgICAgICAgeSA9ICh5MSAtIHkyKSAvIDI7XG5cbiAgICB2YXIgaCA9ICh4ICogeCkgLyAocnggKiByeCkgKyAoeSAqIHkpIC8gKHJ5ICogcnkpO1xuXG4gICAgaWYgKGggPiAxKSB7XG4gICAgICBoID0gbWF0aC5zcXJ0KGgpO1xuICAgICAgcnggPSBoICogcng7XG4gICAgICByeSA9IGggKiByeTtcbiAgICB9XG5cbiAgICB2YXIgcngyID0gcnggKiByeCxcbiAgICAgICAgcnkyID0gcnkgKiByeSxcbiAgICAgICAgayA9IChsYXJnZV9hcmNfZmxhZyA9PSBzd2VlcF9mbGFnID8gLTEgOiAxKSAqXG4gICAgICAgICAgICBtYXRoLnNxcnQoYWJzKChyeDIgKiByeTIgLSByeDIgKiB5ICogeSAtIHJ5MiAqIHggKiB4KSAvIChyeDIgKiB5ICogeSArIHJ5MiAqIHggKiB4KSkpLFxuICAgICAgICBjeCA9IGsgKiByeCAqIHkgLyByeSArICh4MSArIHgyKSAvIDIsXG4gICAgICAgIGN5ID0gayAqIC1yeSAqIHggLyByeCArICh5MSArIHkyKSAvIDIsXG4gICAgICAgIGYxID0gbWF0aC5hc2luKCgoeTEgLSBjeSkgLyByeSkudG9GaXhlZCg5KSksXG4gICAgICAgIGYyID0gbWF0aC5hc2luKCgoeTIgLSBjeSkgLyByeSkudG9GaXhlZCg5KSk7XG5cbiAgICBmMSA9IHgxIDwgY3ggPyBQSSAtIGYxIDogZjE7XG4gICAgZjIgPSB4MiA8IGN4ID8gUEkgLSBmMiA6IGYyO1xuICAgIGYxIDwgMCAmJiAoZjEgPSBQSSAqIDIgKyBmMSk7XG4gICAgZjIgPCAwICYmIChmMiA9IFBJICogMiArIGYyKTtcblxuICAgIGlmIChzd2VlcF9mbGFnICYmIGYxID4gZjIpIHtcbiAgICAgIGYxID0gZjEgLSBQSSAqIDI7XG4gICAgfVxuICAgIGlmICghc3dlZXBfZmxhZyAmJiBmMiA+IGYxKSB7XG4gICAgICBmMiA9IGYyIC0gUEkgKiAyO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBmMSA9IHJlY3Vyc2l2ZVswXTtcbiAgICBmMiA9IHJlY3Vyc2l2ZVsxXTtcbiAgICBjeCA9IHJlY3Vyc2l2ZVsyXTtcbiAgICBjeSA9IHJlY3Vyc2l2ZVszXTtcbiAgfVxuXG4gIHZhciBkZiA9IGYyIC0gZjE7XG5cbiAgaWYgKGFicyhkZikgPiBfMTIwKSB7XG4gICAgdmFyIGYyb2xkID0gZjIsXG4gICAgICAgIHgyb2xkID0geDIsXG4gICAgICAgIHkyb2xkID0geTI7XG5cbiAgICBmMiA9IGYxICsgXzEyMCAqIChzd2VlcF9mbGFnICYmIGYyID4gZjEgPyAxIDogLTEpO1xuICAgIHgyID0gY3ggKyByeCAqIG1hdGguY29zKGYyKTtcbiAgICB5MiA9IGN5ICsgcnkgKiBtYXRoLnNpbihmMik7XG4gICAgcmVzID0gYXJjVG9DdXJ2ZSh4MiwgeTIsIHJ4LCByeSwgYW5nbGUsIDAsIHN3ZWVwX2ZsYWcsIHgyb2xkLCB5Mm9sZCwgW2YyLCBmMm9sZCwgY3gsIGN5XSk7XG4gIH1cblxuICBkZiA9IGYyIC0gZjE7XG5cbiAgdmFyIGMxID0gbWF0aC5jb3MoZjEpLFxuICAgICAgczEgPSBtYXRoLnNpbihmMSksXG4gICAgICBjMiA9IG1hdGguY29zKGYyKSxcbiAgICAgIHMyID0gbWF0aC5zaW4oZjIpLFxuICAgICAgdCA9IG1hdGgudGFuKGRmIC8gNCksXG4gICAgICBoeCA9IDQgLyAzICogcnggKiB0LFxuICAgICAgaHkgPSA0IC8gMyAqIHJ5ICogdCxcbiAgICAgIG0xID0gW3gxLCB5MV0sXG4gICAgICBtMiA9IFt4MSArIGh4ICogczEsIHkxIC0gaHkgKiBjMV0sXG4gICAgICBtMyA9IFt4MiArIGh4ICogczIsIHkyIC0gaHkgKiBjMl0sXG4gICAgICBtNCA9IFt4MiwgeTJdO1xuXG4gIG0yWzBdID0gMiAqIG0xWzBdIC0gbTJbMF07XG4gIG0yWzFdID0gMiAqIG0xWzFdIC0gbTJbMV07XG5cbiAgaWYgKHJlY3Vyc2l2ZSkge1xuICAgIHJldHVybiBbbTIsIG0zLCBtNF0uY29uY2F0KHJlcyk7XG4gIH0gZWxzZSB7XG4gICAgcmVzID0gW20yLCBtMywgbTRdLmNvbmNhdChyZXMpLmpvaW4oKS5zcGxpdCgnLCcpO1xuICAgIHZhciBuZXdyZXMgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IHJlcy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICBuZXdyZXNbaV0gPSBpICUgMiA/IHJvdGF0ZShyZXNbaSAtIDFdLCByZXNbaV0sIHJhZCkueSA6IHJvdGF0ZShyZXNbaV0sIHJlc1tpICsgMV0sIHJhZCkueDtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3cmVzO1xuICB9XG59XG5cbi8vIFJldHVybnMgYm91bmRpbmcgYm94IG9mIGN1YmljIGJlemllciBjdXJ2ZS5cbi8vIFNvdXJjZTogaHR0cDovL2Jsb2cuaGFja2Vycy1jYWZlLm5ldC8yMDA5LzA2L2hvdy10by1jYWxjdWxhdGUtYmV6aWVyLWN1cnZlcy1ib3VuZGluZy5odG1sXG4vLyBPcmlnaW5hbCB2ZXJzaW9uOiBOSVNISU8gSGlyb2thenVcbi8vIE1vZGlmaWNhdGlvbnM6IGh0dHBzOi8vZ2l0aHViLmNvbS90aW1vMjIzNDVcbmZ1bmN0aW9uIGN1cnZlQkJveCh4MCwgeTAsIHgxLCB5MSwgeDIsIHkyLCB4MywgeTMpIHtcbiAgdmFyIHR2YWx1ZXMgPSBbXSxcbiAgICAgIGJvdW5kcyA9IFtbXSwgW11dLFxuICAgICAgYSwgYiwgYywgdCwgdDEsIHQyLCBiMmFjLCBzcXJ0YjJhYztcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IDI7ICsraSkge1xuXG4gICAgaWYgKGkgPT0gMCkge1xuICAgICAgYiA9IDYgKiB4MCAtIDEyICogeDEgKyA2ICogeDI7XG4gICAgICBhID0gLTMgKiB4MCArIDkgKiB4MSAtIDkgKiB4MiArIDMgKiB4MztcbiAgICAgIGMgPSAzICogeDEgLSAzICogeDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIGIgPSA2ICogeTAgLSAxMiAqIHkxICsgNiAqIHkyO1xuICAgICAgYSA9IC0zICogeTAgKyA5ICogeTEgLSA5ICogeTIgKyAzICogeTM7XG4gICAgICBjID0gMyAqIHkxIC0gMyAqIHkwO1xuICAgIH1cblxuICAgIGlmIChhYnMoYSkgPCAxZS0xMikge1xuXG4gICAgICBpZiAoYWJzKGIpIDwgMWUtMTIpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIHQgPSAtYyAvIGI7XG5cbiAgICAgIGlmICgwIDwgdCAmJiB0IDwgMSkge1xuICAgICAgICB0dmFsdWVzLnB1c2godCk7XG4gICAgICB9XG5cbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGIyYWMgPSBiICogYiAtIDQgKiBjICogYTtcbiAgICBzcXJ0YjJhYyA9IG1hdGguc3FydChiMmFjKTtcblxuICAgIGlmIChiMmFjIDwgMCkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgdDEgPSAoLWIgKyBzcXJ0YjJhYykgLyAoMiAqIGEpO1xuXG4gICAgaWYgKDAgPCB0MSAmJiB0MSA8IDEpIHtcbiAgICAgIHR2YWx1ZXMucHVzaCh0MSk7XG4gICAgfVxuXG4gICAgdDIgPSAoLWIgLSBzcXJ0YjJhYykgLyAoMiAqIGEpO1xuXG4gICAgaWYgKDAgPCB0MiAmJiB0MiA8IDEpIHtcbiAgICAgIHR2YWx1ZXMucHVzaCh0Mik7XG4gICAgfVxuICB9XG5cbiAgdmFyIGogPSB0dmFsdWVzLmxlbmd0aCxcbiAgICAgIGpsZW4gPSBqLFxuICAgICAgbXQ7XG5cbiAgd2hpbGUgKGotLSkge1xuICAgIHQgPSB0dmFsdWVzW2pdO1xuICAgIG10ID0gMSAtIHQ7XG4gICAgYm91bmRzWzBdW2pdID0gKG10ICogbXQgKiBtdCAqIHgwKSArICgzICogbXQgKiBtdCAqIHQgKiB4MSkgKyAoMyAqIG10ICogdCAqIHQgKiB4MikgKyAodCAqIHQgKiB0ICogeDMpO1xuICAgIGJvdW5kc1sxXVtqXSA9IChtdCAqIG10ICogbXQgKiB5MCkgKyAoMyAqIG10ICogbXQgKiB0ICogeTEpICsgKDMgKiBtdCAqIHQgKiB0ICogeTIpICsgKHQgKiB0ICogdCAqIHkzKTtcbiAgfVxuXG4gIGJvdW5kc1swXVtqbGVuXSA9IHgwO1xuICBib3VuZHNbMV1bamxlbl0gPSB5MDtcbiAgYm91bmRzWzBdW2psZW4gKyAxXSA9IHgzO1xuICBib3VuZHNbMV1bamxlbiArIDFdID0geTM7XG4gIGJvdW5kc1swXS5sZW5ndGggPSBib3VuZHNbMV0ubGVuZ3RoID0gamxlbiArIDI7XG5cbiAgcmV0dXJuIHtcbiAgICB4MDogbW1pbi5hcHBseSgwLCBib3VuZHNbMF0pLFxuICAgIHkwOiBtbWluLmFwcGx5KDAsIGJvdW5kc1sxXSksXG4gICAgeDE6IG1tYXguYXBwbHkoMCwgYm91bmRzWzBdKSxcbiAgICB5MTogbW1heC5hcHBseSgwLCBib3VuZHNbMV0pXG4gIH07XG59XG5cbmZ1bmN0aW9uIHBhdGhUb0N1cnZlKHBhdGgpIHtcblxuICB2YXIgcHRoID0gcGF0aHMocGF0aCk7XG5cbiAgLy8gcmV0dXJuIGNhY2hlZCBjdXJ2ZSwgaWYgZXhpc3RpbmdcbiAgaWYgKHB0aC5jdXJ2ZSkge1xuICAgIHJldHVybiBwYXRoQ2xvbmUocHRoLmN1cnZlKTtcbiAgfVxuXG4gIHZhciBjdXJ2ZWRQYXRoID0gcGF0aFRvQWJzb2x1dGUocGF0aCksXG4gICAgICBhdHRycyA9IHsgeDogMCwgeTogMCwgYng6IDAsIGJ5OiAwLCBYOiAwLCBZOiAwLCBxeDogbnVsbCwgcXk6IG51bGwgfSxcbiAgICAgIHByb2Nlc3NQYXRoID0gZnVuY3Rpb24ocGF0aCwgZCwgcGF0aENvbW1hbmQpIHtcbiAgICAgICAgdmFyIG54LCBueTtcblxuICAgICAgICBpZiAoIXBhdGgpIHtcbiAgICAgICAgICByZXR1cm4gWydDJywgZC54LCBkLnksIGQueCwgZC55LCBkLngsIGQueV07XG4gICAgICAgIH1cblxuICAgICAgICAhKHBhdGhbMF0gaW4geyBUOiAxLCBROiAxIH0pICYmIChkLnF4ID0gZC5xeSA9IG51bGwpO1xuXG4gICAgICAgIHN3aXRjaCAocGF0aFswXSkge1xuICAgICAgICBjYXNlICdNJzpcbiAgICAgICAgICBkLlggPSBwYXRoWzFdO1xuICAgICAgICAgIGQuWSA9IHBhdGhbMl07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0EnOlxuICAgICAgICAgIHBhdGggPSBbJ0MnXS5jb25jYXQoYXJjVG9DdXJ2ZS5hcHBseSgwLCBbZC54LCBkLnldLmNvbmNhdChwYXRoLnNsaWNlKDEpKSkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdTJzpcbiAgICAgICAgICBpZiAocGF0aENvbW1hbmQgPT0gJ0MnIHx8IHBhdGhDb21tYW5kID09ICdTJykge1xuXG4gICAgICAgICAgICAvLyBJbiAnUycgY2FzZSB3ZSBoYXZlIHRvIHRha2UgaW50byBhY2NvdW50LCBpZiB0aGUgcHJldmlvdXMgY29tbWFuZCBpcyBDL1MuXG4gICAgICAgICAgICBueCA9IGQueCAqIDIgLSBkLmJ4O1xuXG4gICAgICAgICAgICAvLyBBbmQgcmVmbGVjdCB0aGUgcHJldmlvdXNcbiAgICAgICAgICAgIG55ID0gZC55ICogMiAtIGQuYnk7XG5cbiAgICAgICAgICAgIC8vIGNvbW1hbmQncyBjb250cm9sIHBvaW50IHJlbGF0aXZlIHRvIHRoZSBjdXJyZW50IHBvaW50LlxuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcblxuICAgICAgICAgICAgLy8gb3Igc29tZSBlbHNlIG9yIG5vdGhpbmdcbiAgICAgICAgICAgIG54ID0gZC54O1xuICAgICAgICAgICAgbnkgPSBkLnk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHBhdGggPSBbJ0MnLCBueCwgbnldLmNvbmNhdChwYXRoLnNsaWNlKDEpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnVCc6XG4gICAgICAgICAgaWYgKHBhdGhDb21tYW5kID09ICdRJyB8fCBwYXRoQ29tbWFuZCA9PSAnVCcpIHtcblxuICAgICAgICAgICAgLy8gSW4gJ1QnIGNhc2Ugd2UgaGF2ZSB0byB0YWtlIGludG8gYWNjb3VudCwgaWYgdGhlIHByZXZpb3VzIGNvbW1hbmQgaXMgUS9ULlxuICAgICAgICAgICAgZC5xeCA9IGQueCAqIDIgLSBkLnF4O1xuXG4gICAgICAgICAgICAvLyBBbmQgbWFrZSBhIHJlZmxlY3Rpb24gc2ltaWxhclxuICAgICAgICAgICAgZC5xeSA9IGQueSAqIDIgLSBkLnF5O1xuXG4gICAgICAgICAgICAvLyB0byBjYXNlICdTJy5cbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG5cbiAgICAgICAgICAgIC8vIG9yIHNvbWV0aGluZyBlbHNlIG9yIG5vdGhpbmdcbiAgICAgICAgICAgIGQucXggPSBkLng7XG4gICAgICAgICAgICBkLnF5ID0gZC55O1xuICAgICAgICAgIH1cbiAgICAgICAgICBwYXRoID0gWydDJ10uY29uY2F0KHF1YmljVG9DdXJ2ZShkLngsIGQueSwgZC5xeCwgZC5xeSwgcGF0aFsxXSwgcGF0aFsyXSkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdRJzpcbiAgICAgICAgICBkLnF4ID0gcGF0aFsxXTtcbiAgICAgICAgICBkLnF5ID0gcGF0aFsyXTtcbiAgICAgICAgICBwYXRoID0gWydDJ10uY29uY2F0KHF1YmljVG9DdXJ2ZShkLngsIGQueSwgcGF0aFsxXSwgcGF0aFsyXSwgcGF0aFszXSwgcGF0aFs0XSkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdMJzpcbiAgICAgICAgICBwYXRoID0gWydDJ10uY29uY2F0KGxpbmVUb0N1cnZlKGQueCwgZC55LCBwYXRoWzFdLCBwYXRoWzJdKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0gnOlxuICAgICAgICAgIHBhdGggPSBbJ0MnXS5jb25jYXQobGluZVRvQ3VydmUoZC54LCBkLnksIHBhdGhbMV0sIGQueSkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdWJzpcbiAgICAgICAgICBwYXRoID0gWydDJ10uY29uY2F0KGxpbmVUb0N1cnZlKGQueCwgZC55LCBkLngsIHBhdGhbMV0pKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnWic6XG4gICAgICAgICAgcGF0aCA9IFsnQyddLmNvbmNhdChsaW5lVG9DdXJ2ZShkLngsIGQueSwgZC5YLCBkLlkpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwYXRoO1xuICAgICAgfSxcblxuICAgICAgZml4QXJjID0gZnVuY3Rpb24ocHAsIGkpIHtcblxuICAgICAgICBpZiAocHBbaV0ubGVuZ3RoID4gNykge1xuICAgICAgICAgIHBwW2ldLnNoaWZ0KCk7XG4gICAgICAgICAgdmFyIHBpID0gcHBbaV07XG5cbiAgICAgICAgICB3aGlsZSAocGkubGVuZ3RoKSB7XG4gICAgICAgICAgICBwYXRoQ29tbWFuZHNbaV0gPSAnQSc7IC8vIGlmIGNyZWF0ZWQgbXVsdGlwbGUgQzpzLCB0aGVpciBvcmlnaW5hbCBzZWcgaXMgc2F2ZWRcbiAgICAgICAgICAgIHBwLnNwbGljZShpKyssIDAsIFsnQyddLmNvbmNhdChwaS5zcGxpY2UoMCwgNikpKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBwcC5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgaWkgPSBjdXJ2ZWRQYXRoLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgfSxcblxuICAgICAgcGF0aENvbW1hbmRzID0gW10sIC8vIHBhdGggY29tbWFuZHMgb2Ygb3JpZ2luYWwgcGF0aCBwXG4gICAgICBwZmlyc3QgPSAnJywgLy8gdGVtcG9yYXJ5IGhvbGRlciBmb3Igb3JpZ2luYWwgcGF0aCBjb21tYW5kXG4gICAgICBwYXRoQ29tbWFuZCA9ICcnOyAvLyBob2xkZXIgZm9yIHByZXZpb3VzIHBhdGggY29tbWFuZCBvZiBvcmlnaW5hbCBwYXRoXG5cbiAgZm9yICh2YXIgaSA9IDAsIGlpID0gY3VydmVkUGF0aC5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgY3VydmVkUGF0aFtpXSAmJiAocGZpcnN0ID0gY3VydmVkUGF0aFtpXVswXSk7IC8vIHNhdmUgY3VycmVudCBwYXRoIGNvbW1hbmRcblxuICAgIGlmIChwZmlyc3QgIT0gJ0MnKSAvLyBDIGlzIG5vdCBzYXZlZCB5ZXQsIGJlY2F1c2UgaXQgbWF5IGJlIHJlc3VsdCBvZiBjb252ZXJzaW9uXG4gICAge1xuICAgICAgcGF0aENvbW1hbmRzW2ldID0gcGZpcnN0OyAvLyBTYXZlIGN1cnJlbnQgcGF0aCBjb21tYW5kXG4gICAgICBpICYmIChwYXRoQ29tbWFuZCA9IHBhdGhDb21tYW5kc1tpIC0gMV0pOyAvLyBHZXQgcHJldmlvdXMgcGF0aCBjb21tYW5kIHBhdGhDb21tYW5kXG4gICAgfVxuICAgIGN1cnZlZFBhdGhbaV0gPSBwcm9jZXNzUGF0aChjdXJ2ZWRQYXRoW2ldLCBhdHRycywgcGF0aENvbW1hbmQpOyAvLyBQcmV2aW91cyBwYXRoIGNvbW1hbmQgaXMgaW5wdXR0ZWQgdG8gcHJvY2Vzc1BhdGhcblxuICAgIGlmIChwYXRoQ29tbWFuZHNbaV0gIT0gJ0EnICYmIHBmaXJzdCA9PSAnQycpIHBhdGhDb21tYW5kc1tpXSA9ICdDJzsgLy8gQSBpcyB0aGUgb25seSBjb21tYW5kXG4gICAgLy8gd2hpY2ggbWF5IHByb2R1Y2UgbXVsdGlwbGUgQzpzXG4gICAgLy8gc28gd2UgaGF2ZSB0byBtYWtlIHN1cmUgdGhhdCBDIGlzIGFsc28gQyBpbiBvcmlnaW5hbCBwYXRoXG5cbiAgICBmaXhBcmMoY3VydmVkUGF0aCwgaSk7IC8vIGZpeEFyYyBhZGRzIGFsc28gdGhlIHJpZ2h0IGFtb3VudCBvZiBBOnMgdG8gcGF0aENvbW1hbmRzXG5cbiAgICB2YXIgc2VnID0gY3VydmVkUGF0aFtpXSxcbiAgICAgICAgc2VnbGVuID0gc2VnLmxlbmd0aDtcblxuICAgIGF0dHJzLnggPSBzZWdbc2VnbGVuIC0gMl07XG4gICAgYXR0cnMueSA9IHNlZ1tzZWdsZW4gLSAxXTtcbiAgICBhdHRycy5ieCA9IHRvRmxvYXQoc2VnW3NlZ2xlbiAtIDRdKSB8fCBhdHRycy54O1xuICAgIGF0dHJzLmJ5ID0gdG9GbG9hdChzZWdbc2VnbGVuIC0gM10pIHx8IGF0dHJzLnk7XG4gIH1cblxuICAvLyBjYWNoZSBjdXJ2ZVxuICBwdGguY3VydmUgPSBwYXRoQ2xvbmUoY3VydmVkUGF0aCk7XG5cbiAgcmV0dXJuIGN1cnZlZFBhdGg7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZmluZFBhdGhJbnRlcnNlY3Rpb25zO1xuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5nID0gKGZ1bmN0aW9uKCkge1xuXHRpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnKSByZXR1cm4gZ2xvYmFsVGhpcztcblx0dHJ5IHtcblx0XHRyZXR1cm4gdGhpcyB8fCBuZXcgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JykgcmV0dXJuIHdpbmRvdztcblx0fVxufSkoKTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiLy8gc3RhcnR1cFxuLy8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vLyBUaGlzIGVudHJ5IG1vZHVsZSBpcyByZWZlcmVuY2VkIGJ5IG90aGVyIG1vZHVsZXMgc28gaXQgY2FuJ3QgYmUgaW5saW5lZFxudmFyIF9fd2VicGFja19leHBvcnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDk3NCk7XG4iXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJleHBvcnRzIiwibW9kdWxlIiwiZGVmaW5lIiwiYW1kIiwic2VsZiIsImhhdF8xIiwiZm4iLCJoYXQiLCJiaXRzIiwiYmFzZSIsInVuZGVmaW5lZCIsImRpZ2l0cyIsIk1hdGgiLCJsb2ciLCJwb3ciLCJpIiwiSW5maW5pdHkiLCJyZW0iLCJmbG9vciIsInJlcyIsInJhbmRvbSIsInRvU3RyaW5nIiwiYiIsInBhcnNlZCIsInBhcnNlSW50IiwicmFjayIsImV4cGFuZEJ5IiwiZGF0YSIsIml0ZXJzIiwiRXJyb3IiLCJpZCIsIk9iamVjdCIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImhhdHMiLCJnZXQiLCJzZXQiLCJ2YWx1ZSIsImNyZWF0ZUNvbW1vbmpzTW9kdWxlIiwiSWRzIiwic2VlZCIsInRoaXMiLCJfc2VlZCIsImxlbmd0aCIsInByb3RvdHlwZSIsIm5leHQiLCJlbGVtZW50IiwibmV4dFByZWZpeGVkIiwicHJlZml4IiwiYXNzaWduZWQiLCJjbGFpbSIsInVuY2xhaW0iLCJjbGVhciIsImZsYXR0ZW4iLCJhcnIiLCJBcnJheSIsImNvbmNhdCIsImFwcGx5IiwibmF0aXZlVG9TdHJpbmciLCJuYXRpdmVIYXNPd25Qcm9wZXJ0eSIsImlzVW5kZWZpbmVkIiwib2JqIiwiaXNEZWZpbmVkIiwiaXNOaWwiLCJpc0FycmF5IiwiaXNPYmplY3QiLCJpc051bWJlciIsImlzRnVuY3Rpb24iLCJ0YWciLCJpc1N0cmluZyIsImhhcyIsInRhcmdldCIsImtleSIsImZpbmQiLCJjb2xsZWN0aW9uIiwibWF0Y2hlciIsIm1hdGNoIiwidG9NYXRjaGVyIiwiZm9yRWFjaCIsInZhbCIsImZpbHRlciIsInJlc3VsdCIsInB1c2giLCJpdGVyYXRvciIsImNvbnZlcnRLZXkiLCJ0b051bSIsImlkZW50aXR5IiwicmVkdWNlIiwiaWR4IiwibWF0Y2hlcyIsIm1hcCIsImtleXMiLCJzaXplIiwidmFsdWVzIiwiZ3JvdXBCeSIsImV4dHJhY3RvciIsImdyb3VwZWQiLCJhcmd1bWVudHMiLCJ0b0V4dHJhY3RvciIsImRpc2NyaW1pbmF0b3IiLCJncm91cCIsInVuaXF1ZUJ5IiwiX2xlbiIsImNvbGxlY3Rpb25zIiwiX2tleSIsImMiLCJ1bmlvbkJ5Iiwic29ydEJ5Iiwic29ydGVkIiwiZGlzYyIsImVudHJ5IiwiZCIsInYiLCJzcGxpY2UiLCJlIiwibWF0Y2hQYXR0ZXJuIiwicGF0dGVybiIsImVsIiwiYXJnIiwiTnVtYmVyIiwiZGVib3VuY2UiLCJ0aW1lb3V0IiwidGltZXIiLCJsYXN0QXJncyIsImxhc3RUaGlzIiwibGFzdE5vdyIsImZpcmUiLCJub3ciLCJEYXRlIiwic2NoZWR1bGVkRGlmZiIsInNjaGVkdWxlIiwic2V0VGltZW91dCIsImFyZ3MiLCJiaW5kIiwiX2V4dGVuZHMiLCJhc3NpZ24iLCJzb3VyY2UiLCJvdGhlcnMiLCJwaWNrIiwicHJvcGVydGllcyIsInByb3AiLCJvbWl0IiwiaW5kZXhPZiIsImF0dHIiLCJuYW1lIiwiZ2V0QXR0cmlidXRlIiwicmVtb3ZlQXR0cmlidXRlIiwic2V0QXR0cmlidXRlIiwiaW5kZXhvZiIsInJlIiwiQ2xhc3NMaXN0Iiwibm9kZVR5cGUiLCJsaXN0IiwiY2xhc3NMaXN0IiwiY2hpbGROb2RlcyIsInJlbW92ZUNoaWxkIiwiYWRkIiwiYXJyYXkiLCJjbGFzc05hbWUiLCJqb2luIiwicmVtb3ZlIiwicmVtb3ZlTWF0Y2hpbmciLCJ0ZXN0IiwidG9nZ2xlIiwiZm9yY2UiLCJyZXBsYWNlIiwic3BsaXQiLCJzaGlmdCIsImNvbnRhaW5zIiwicHJvdG8iLCJFbGVtZW50IiwidmVuZG9yIiwibWF0Y2hlc1NlbGVjdG9yIiwid2Via2l0TWF0Y2hlc1NlbGVjdG9yIiwibW96TWF0Y2hlc1NlbGVjdG9yIiwibXNNYXRjaGVzU2VsZWN0b3IiLCJvTWF0Y2hlc1NlbGVjdG9yIiwic2VsZWN0b3IiLCJub2RlcyIsInBhcmVudE5vZGUiLCJxdWVyeVNlbGVjdG9yQWxsIiwiY2xvc2VzdCIsImNoZWNrWW91clNlbGYiLCJjdXJyZW50RWxlbSIsImRvY3VtZW50IiwiRE9DVU1FTlRfTk9ERSIsIkRPQ1VNRU5UX0ZSQUdNRU5UX05PREUiLCJidWdUZXN0RGl2Iiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsInVuYmluZCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJjb21wb25lbnRFdmVudCIsInR5cGUiLCJjYXB0dXJlIiwiZm9yY2VDYXB0dXJlRXZlbnRzIiwiZGVsZWdhdGUiLCJzcmNFbGVtZW50IiwiZGVsZWdhdGVUYXJnZXQiLCJkb21pZnkiLCJodG1sIiwiZG9jIiwiVHlwZUVycm9yIiwibSIsImV4ZWMiLCJjcmVhdGVUZXh0Tm9kZSIsImNyZWF0ZUVsZW1lbnQiLCJpbm5lckhUTUwiLCJsYXN0Q2hpbGQiLCJ3cmFwIiwiX2RlZmF1bHQiLCJkZXB0aCIsInN1ZmZpeCIsImZpcnN0Q2hpbGQiLCJmcmFnbWVudCIsImNyZWF0ZURvY3VtZW50RnJhZ21lbnQiLCJhcHBlbmRDaGlsZCIsImlubmVySFRNTEJ1ZyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwibGVnZW5kIiwidHIiLCJjb2wiLCJxdWVyeSIsInF1ZXJ5U2VsZWN0b3IiLCJhcHBlbmRUbyIsIm93bmVyRG9jdW1lbnQiLCJpbXBvcnROb2RlIiwiZW5zdXJlSW1wb3J0ZWQiLCJhcHBlbmQiLCJub2RlIiwidGQiLCJ0aCIsIm9wdGlvbiIsIm9wdGdyb3VwIiwidGhlYWQiLCJ0Ym9keSIsImNvbGdyb3VwIiwiY2FwdGlvbiIsInRmb290IiwicG9seWxpbmUiLCJlbGxpcHNlIiwicG9seWdvbiIsImNpcmNsZSIsInRleHQiLCJsaW5lIiwicGF0aCIsInJlY3QiLCJnIiwiQ1NTX1BST1BFUlRJRVMiLCJoeXBoZW5hdGVkIiwidG9Mb3dlckNhc2UiLCJTdHJpbmciLCJzdHlsZSIsInNldEF0dHJpYnV0ZU5TIiwiZ2V0QXR0cmlidXRlTlMiLCJhdHRycyIsIm5hbWVzIiwic2V0QXR0cmlidXRlcyIsImluZGV4IiwiZGVmaW5lZCIsIm8iLCJjbGFzc2VzIiwicGFyZW50IiwiY2hpbGQiLCJjbG9uZSIsImNsb25lTm9kZSIsImJhc2VWYWwiLCJucyIsIlNWR19TVEFSVCIsInN2ZyIsInVud3JhcCIsInN1YnN0cmluZyIsInBhcnNlciIsIkRPTVBhcnNlciIsImFzeW5jIiwicGFyc2VGcm9tU3RyaW5nIiwicGFyc2VEb2N1bWVudCIsImNoYXJBdCIsImNyZWF0ZUVsZW1lbnROUyIsImV4dGVuZCIsIm9iamVjdCIsInByb3BzIiwiayIsIm1hdHJpeCIsImNyZWF0ZVNWR1RyYW5zZm9ybUZyb21NYXRyaXgiLCJjcmVhdGVTVkdUcmFuc2Zvcm0iLCJURVhUX0VOVElUSUVTIiwiQVRUUl9FTlRJVElFUyIsIkVOVElUWV9SRVBMQUNFTUVOVCIsInN0ciIsImVudGl0eSIsInNlcmlhbGl6ZSIsIm91dHB1dCIsImxlbiIsImF0dHJNYXAiLCJhdHRyTm9kZSIsInRleHRDb250ZW50IiwidGFnTmFtZSIsImhhc0F0dHJpYnV0ZXMiLCJhdHRyaWJ1dGVzIiwiaXRlbSIsImhhc0NoaWxkTm9kZXMiLCJub2RlVmFsdWUiLCJpbm5lclNWRyIsIm5vZGVOYW1lIiwiaXNGcmFnbWVudCIsImRvY3VtZW50RWxlbWVudCIsInNsaWNlIiwibWVzc2FnZSIsIm5leHRTaWJsaW5nIiwid3JhcE1hdHJpeCIsInRyYW5zZm9ybUxpc3QiLCJ0cmFuc2Zvcm0iLCJTVkdNYXRyaXgiLCJ0cmFuc2Zvcm1zIiwidCIsImFwcGVuZEl0ZW0iLCJzZXRUcmFuc2Zvcm1zIiwiY29uc29saWRhdGUiLCJDTEFTU19QQVRURVJOIiwiaGFzT3duUHJvcCIsImFubm90YXRlIiwicG9wIiwiJGluamVjdCIsIkNPTlNUUlVDVE9SX0FSR1MiLCJGTl9BUkdTIiwiRk5fQVJHIiwicGFyc2VBbm5vdGF0aW9ucyIsImlzQ2xhc3MiLCJ0cmltIiwiTW9kdWxlIiwicHJvdmlkZXJzIiwiSW5qZWN0b3IiLCJtb2R1bGVzIiwic3RyaWN0IiwiY3VycmVudGx5UmVzb2x2aW5nIiwiZXJyb3IiLCJfcHJvdmlkZXJzIiwiY3JlYXRlIiwiaW5zdGFuY2VzIiwiX2luc3RhbmNlcyIsImluamVjdG9yIiwibXNnIiwic3RhY2siLCJwYXJ0cyIsInBpdm90IiwiZm5EZWYiLCJsb2NhbHMiLCJkZXBlbmRlbmNpZXMiLCJkZXAiLCJpbnN0YW50aWF0ZSIsIlR5cGUiLCJkZWYiLCJGdW5jdGlvbiIsImludm9rZSIsImZ1bmMiLCJjb250ZXh0IiwiY3JlYXRlUHJpdmF0ZUluamVjdG9yRmFjdG9yeSIsInByaXZhdGVDaGlsZEluamVjdG9yIiwiZmFjdG9yeU1hcCIsImFycmF5VW53cmFwIiwicHJvdmlkZXIiLCJfX2V4cG9ydHNfXyIsImNsb25lZE1vZHVsZSIsInByaXZhdGVJbmplY3RvciIsIl9fbW9kdWxlc19fIiwiZ2V0RnJvbVByaXZhdGVJbmplY3RvciIsImNyZWF0ZUNoaWxkIiwiZm9yY2VOZXdJbnN0YW5jZXMiLCJjYWNoZUlkeCIsInByaXZhdGVDaGlsZEluamVjdG9yRmFjdG9yeSIsImZyb21QYXJlbnRNb2R1bGUiLCJtYXRjaGVkU2NvcGVzIiwicHJpdmF0ZUluamVjdG9yc0NhY2hlIiwicHJpdmF0ZUNoaWxkSW5qZWN0b3JzIiwicHJpdmF0ZUNoaWxkRmFjdG9yaWVzIiwiJHNjb3BlIiwic2NvcGUiLCJ1bnNoaWZ0IiwiQmFzZVJlbmRlcmVyIiwiZXZlbnRCdXMiLCJyZW5kZXJQcmlvcml0eSIsIm9uIiwiZXZ0IiwidmlzdWFscyIsImdmeCIsImNhblJlbmRlciIsImRyYXdTaGFwZSIsImRyYXdDb25uZWN0aW9uIiwiZ2V0U2hhcGVQYXRoIiwiZ2V0Q29ubmVjdGlvblBhdGgiLCJlbGVtZW50cyIsInRvU1ZHUG9pbnRzIiwicG9pbnRzIiwicCIsIngiLCJ5IiwiY3JlYXRlTGluZSIsImdldFBhcmVudHMiLCJnZXRQYXJlbnQiLCJ1bmlxdWUiLCJjYW5BZGQiLCJlYWNoRWxlbWVudCIsInMiLCJzZWxmQW5kQWxsQ2hpbGRyZW4iLCJhbGxvd0R1cGxpY2F0ZXMiLCJtYXhEZXB0aCIsInByb2Nlc3NlZENoaWxkcmVuIiwiY2hpbGRyZW4iLCJzZWxmQW5kQ2hpbGRyZW4iLCJnZXRCQm94Iiwic3RvcFJlY3Vyc2lvbiIsIm1pblgiLCJtaW5ZIiwibWF4WCIsIm1heFkiLCJiYm94Iiwid2F5cG9pbnRzIiwiaGVpZ2h0Iiwid2lkdGgiLCJnZXRUeXBlIiwiaXNGcmFtZUVsZW1lbnQiLCJpc0ZyYW1lIiwiY29weU9iamVjdCIsInNyYzEiLCJzcmMyIiwiRGVmYXVsdFJlbmRlcmVyIiwic3R5bGVzIiwiQ09OTkVDVElPTl9TVFlMRSIsInN0cm9rZVdpZHRoIiwic3Ryb2tlIiwiU0hBUEVfU1RZTEUiLCJmaWxsIiwiRlJBTUVfU1RZTEUiLCJzdHJva2VEYXNoYXJyYXkiLCJjb25uZWN0aW9uIiwic2hhcGUiLCJwb2ludCIsImNvbm5lY3Rpb25QYXRoIiwib3JpZ2luYWwiLCJfX2luaXRfXyIsImRlZmF1bHRSZW5kZXJlciIsImRlZmF1bHRUcmFpdHMiLCJzdHJva2VPcGFjaXR5IiwicG9pbnRlckV2ZW50cyIsImNscyIsInRyYWl0cyIsImFkZGl0aW9uYWxBdHRycyIsImNvbXB1dGVTdHlsZSIsImN1c3RvbSIsImRlZmF1bHRTdHlsZXMiLCJjdXJyZW50SWR4Iiwicm91bmQiLCJudW1iZXIiLCJyZXNvbHV0aW9uIiwiZW5zdXJlUHgiLCJjcmVhdGVHcm91cCIsImNoaWxkSW5kZXgiLCJpbnNlcnRCZWZvcmUiLCJSRVFVSVJFRF9NT0RFTF9BVFRSUyIsIkNhbnZhcyIsImNvbmZpZyIsImdyYXBoaWNzRmFjdG9yeSIsImVsZW1lbnRSZWdpc3RyeSIsIl9ldmVudEJ1cyIsIl9lbGVtZW50UmVnaXN0cnkiLCJfZ3JhcGhpY3NGYWN0b3J5IiwiX2luaXQiLCJzZXRDVE0iLCJtc3RyIiwiYSIsImYiLCJjb250YWluZXIiLCJfY29udGFpbmVyIiwib3B0aW9ucyIsImJvZHkiLCJwb3NpdGlvbiIsIm92ZXJmbG93IiwiY3JlYXRlQ29udGFpbmVyIiwiX3N2ZyIsInZpZXdwb3J0IiwiX3ZpZXdwb3J0IiwiX2xheWVycyIsImRlZmVyVXBkYXRlIiwiX3ZpZXdib3hDaGFuZ2VkIiwiX2NhY2hlZFZpZXdib3giLCJfZGVzdHJveSIsIl9jbGVhciIsImVtaXQiLCJfcm9vdEVsZW1lbnQiLCJnZXRBbGwiLCJzZXRSb290RWxlbWVudCIsIl9yZW1vdmVFbGVtZW50IiwiZ2V0RGVmYXVsdExheWVyIiwiZ2V0TGF5ZXIiLCJsYXllciIsIl9jcmVhdGVMYXllciIsImdldENvbnRhaW5lciIsIl91cGRhdGVNYXJrZXIiLCJtYXJrZXIiLCJfZWxlbWVudHMiLCJzZWNvbmRhcnlHZngiLCJhZGRNYXJrZXIiLCJyZW1vdmVNYXJrZXIiLCJoYXNNYXJrZXIiLCJnZXRHcmFwaGljcyIsInRvZ2dsZU1hcmtlciIsImdldFJvb3RFbGVtZW50Iiwib3ZlcnJpZGUiLCJfZW5zdXJlVmFsaWQiLCJjdXJyZW50Um9vdCIsInJlcXVpcmVkQXR0cnMiLCJ2YWxpZCIsIl9zZXRQYXJlbnQiLCJwYXJlbnRJbmRleCIsIl9hZGRFbGVtZW50IiwidXBkYXRlIiwiYWRkU2hhcGUiLCJhZGRDb25uZWN0aW9uIiwicmVtb3ZlU2hhcGUiLCJyZW1vdmVDb25uZWN0aW9uIiwic2Vjb25kYXJ5IiwiX2NoYW5nZVZpZXdib3giLCJjaGFuZ2VGbiIsInZpZXdib3giLCJib3giLCJpbm5lckJveCIsInNjYWxlIiwib3V0ZXJCb3giLCJnZXRTaXplIiwibWluIiwiY3JlYXRlU1ZHTWF0cml4IiwidHJhbnNsYXRlIiwiY3JlYXRlTWF0cml4IiwiaW5uZXIiLCJvdXRlciIsInNjcm9sbCIsImRlbHRhIiwiZ2V0Q1RNIiwiZHgiLCJkeSIsIm11bHRpcGx5Iiwiem9vbSIsIm5ld1NjYWxlIiwiY2VudGVyIiwiX2ZpdFZpZXdwb3J0IiwiX3NldFpvb20iLCJuZXdWaWV3Ym94IiwidmJveCIsIm1heCIsIm9yaWdpbmFsUG9pbnQiLCJjdXJyZW50TWF0cml4Iiwic2NhbGVNYXRyaXgiLCJuZXdNYXRyaXgiLCJjcmVhdGVTVkdQb2ludCIsImN1cnJlbnRTY2FsZSIsIm1hdHJpeFRyYW5zZm9ybSIsImludmVyc2UiLCJjbGllbnRXaWR0aCIsImNsaWVudEhlaWdodCIsImdldEFic29sdXRlQkJveCIsInJlc2l6ZWQiLCJFTEVNRU5UX0lEIiwiRWxlbWVudFJlZ2lzdHJ5IiwiX3ZhbGlkYXRlSWQiLCJ1cGRhdGVJZCIsIm5ld0lkIiwiZmlsdGVyZWQiLCJwYXJlbnRSZWZzIiwiZW51bWVyYWJsZSIsImxhYmVsUmVmcyIsImF0dGFjaGVyUmVmcyIsIm91dGdvaW5nUmVmcyIsImluY29taW5nUmVmcyIsIkJhc2UiLCJkZWZpbmVQcm9wZXJ0eSIsIndyaXRhYmxlIiwibGFiZWxzIiwibmV3TGFiZWwiLCJsYWJlbCIsIlNoYXBlIiwiUm9vdCIsIkxhYmVsIiwiQ29ubmVjdGlvbiIsInR5cGVzIiwiRWxlbWVudEZhY3RvcnkiLCJfdWlkIiwiY3JlYXRlUm9vdCIsImNyZWF0ZUxhYmVsIiwiY3JlYXRlU2hhcGUiLCJjcmVhdGVDb25uZWN0aW9uIiwiRXZlbnRCdXMiLCJfbGlzdGVuZXJzIiwiSW50ZXJuYWxFdmVudCIsImdldFZpc3VhbCIsInNldFRyYW5zbGF0ZSIsIkdyYXBoaWNzRmFjdG9yeSIsIm5ld05vZGUiLCJzaWJsaW5nTm9kZSIsImV2ZW50cyIsInByaW9yaXR5IiwiY2FsbGJhY2siLCJ0aGF0IiwiYWN0dWFsQ2FsbGJhY2siLCJfYWRkTGlzdGVuZXIiLCJvbmNlIiwiZXZlbnQiLCJ3cmFwcGVkQ2FsbGJhY2siLCJfX2lzVG9tYiIsIm9mZiIsIl9yZW1vdmVMaXN0ZW5lciIsImNyZWF0ZUV2ZW50IiwiaW5pdCIsImZpcnN0TGlzdGVuZXIiLCJyZXR1cm5WYWx1ZSIsIm9yaWdpbmFsVHlwZSIsIl9pbnZva2VMaXN0ZW5lcnMiLCJkZWZhdWx0UHJldmVudGVkIiwiaGFuZGxlRXJyb3IiLCJsaXN0ZW5lciIsImNhbmNlbEJ1YmJsZSIsIl9pbnZva2VMaXN0ZW5lciIsImludm9rZUZ1bmN0aW9uIiwic3RvcFByb3BhZ2F0aW9uIiwicHJldmVudERlZmF1bHQiLCJjb25zb2xlIiwibmV3TGlzdGVuZXIiLCJwcmV2aW91c0xpc3RlbmVyIiwiX2dldExpc3RlbmVycyIsIl9zZXRMaXN0ZW5lcnMiLCJuZXh0TGlzdGVuZXIiLCJsaXN0ZW5lckNhbGxiYWNrIiwiX2dldENoaWxkcmVuQ29udGFpbmVyIiwiY2hpbGRyZW5HZngiLCJnZXRDaGlsZHJlbiIsInZpc3VhbCIsIl9jcmVhdGVDb250YWluZXIiLCJvdXRlckdmeCIsInVwZGF0ZUNvbnRhaW5tZW50cyIsInBhcmVudHMiLCJyZXZlcnNlIiwiaGlkZGVuIiwiX19kZXBlbmRzX18iLCJjYW52YXMiLCJlbGVtZW50RmFjdG9yeSIsIkRpYWdyYW0iLCJib290c3RyYXBNb2R1bGVzIiwiY29tcG9uZW50cyIsImhhc01vZHVsZSIsInZpc2l0IiwiYWRkTW9kdWxlIiwiYm9vdHN0cmFwIiwiY3JlYXRlSW5qZWN0b3IiLCJGYWN0b3J5IiwibW9kZWwiLCJkZXN0cm95IiwiJG1vZGVsIiwiY3JlYXRlVHlwZSIsImRlc2NyaXB0b3IiLCJpc01hbnkiLCJkZWZhdWx0IiwiZGVmaW5lTW9kZWwiLCJkZWZpbmVEZXNjcmlwdG9yIiwiTW9kZGxlRWxlbWVudCIsImhhc1R5cGUiLCIkaW5zdGFuY2VPZiIsIkJVSUxUSU5TIiwiQm9vbGVhbiIsIkludGVnZXIiLCJSZWFsIiwiVFlQRV9DT05WRVJURVJTIiwicGFyc2VGbG9hdCIsImNvZXJjZVR5cGUiLCJjb252ZXJ0ZXIiLCJpc0J1aWx0SW4iLCJpc1NpbXBsZSIsInBhcnNlTmFtZSIsImRlZmF1bHRQcmVmaXgiLCJsb2NhbE5hbWUiLCJEZXNjcmlwdG9yQnVpbGRlciIsIm5hbWVOcyIsImFsbFR5cGVzIiwiYWxsVHlwZXNCeU5hbWUiLCJwcm9wZXJ0aWVzQnlOYW1lIiwiUmVnaXN0cnkiLCJwYWNrYWdlcyIsInBhY2thZ2VNYXAiLCJ0eXBlTWFwIiwicmVnaXN0ZXJQYWNrYWdlIiwiZW5zdXJlQXZhaWxhYmxlIiwicGtnIiwiaWRlbnRpZmllcktleSIsIlByb3BlcnRpZXMiLCJwcm9wZXJ0eSIsImlzUmVmZXJlbmNlIiwiY29uZmlndXJhYmxlIiwiTW9kZGxlIiwicmVnaXN0cnkiLCJ0eXBlQ2FjaGUiLCJidWlsZCIsImFkZFByb3BlcnR5IiwidmFsaWRhdGUiLCJhZGROYW1lZFByb3BlcnR5IiwicmVwbGFjZVByb3BlcnR5Iiwib2xkUHJvcGVydHkiLCJuZXdQcm9wZXJ0eSIsIm9sZE5hbWVOcyIsInJlbmFtZSIsImlzSWQiLCJzZXRJZFByb3BlcnR5IiwiaXNCb2R5Iiwic2V0Qm9keVByb3BlcnR5IiwicmVkZWZpbmVQcm9wZXJ0eSIsInRhcmdldFByb3BlcnR5TmFtZSIsIm5zUHJlZml4IiwiYXR0ck5hbWUiLCJyZWRlZmluZWRQcm9wZXJ0eSIsInJlZGVmaW5lcyIsInByb3BzQnlOYW1lIiwiYXNzZXJ0Tm90RGVmaW5lZCIsInJlbW92ZU5hbWVkUHJvcGVydHkiLCJib2R5UHJvcGVydHkiLCJpZFByb3BlcnR5IiwicHJvcGVydHlOYW1lIiwiZGVmaW5lZFByb3BlcnR5IiwiZGVmaW5lZEJ5IiwiaGFzUHJvcGVydHkiLCJhZGRUcmFpdCIsImluaGVyaXRlZCIsInR5cGVzQnlOYW1lIiwidHlwZU5hbWUiLCJyZXBsYWNlcyIsImdldFBhY2thZ2UiLCJ1cmlPclByZWZpeCIsImdldFBhY2thZ2VzIiwicGtnTWFwIiwicmVnaXN0ZXJUeXBlIiwidXJpIiwic3VwZXJDbGFzcyIsImV4dGVuZHMiLCJtZXRhIiwicHJvcGVydHlOcyIsImV4dGVuZHNOYW1lIiwiZXh0ZW5kZWQiLCJkZWZpbmVQYWNrYWdlIiwibWFwVHlwZXMiLCJuc05hbWUiLCJ0cmFpdCIsInRyYXZlcnNlVHJhaXQiLCJ0cmF2ZXJzZVN1cGVyIiwicGFyZW50TnMiLCJnZXRFZmZlY3RpdmVEZXNjcmlwdG9yIiwiYnVpbGRlciIsIiRwa2ciLCJnZXRQcm9wZXJ0eURlc2NyaXB0b3IiLCIkYXR0cnMiLCJjYWNoZSIsImNyZWF0ZUFueSIsIm5zVXJpIiwiJHR5cGUiLCJpc0dlbmVyaWMiLCJnZXRFbGVtZW50RGVzY3JpcHRvciIsIiRkZXNjcmlwdG9yIiwiZ2V0VHlwZURlc2NyaXB0b3IiLCJmcm9tQ2hhckNvZGUiLCJFTlRJVFlfUEFUVEVSTiIsIkVOVElUWV9NQVBQSU5HIiwicmVwbGFjZUVudGl0aWVzIiwiXyIsInoiLCJkZWNvZGVFbnRpdGllcyIsInRvVXBwZXJDYXNlIiwiWFNJX1RZUEUiLCJOT05fV0hJVEVTUEFDRV9PVVRTSURFX1JPT1RfTk9ERSIsIm1pc3NpbmdOYW1lc3BhY2VGb3JQcmVmaXgiLCJnZXR0ZXIiLCJnZXRGbiIsImNsb25lTnNNYXRyaXgiLCJuc01hdHJpeCIsInVyaVByZWZpeCIsIm5vb3BHZXRDb250ZXh0IiwidGhyb3dGdW5jIiwiZXJyIiwiUGFyc2VyIiwib25UZXh0Iiwib25PcGVuVGFnIiwib25DbG9zZVRhZyIsIm9uQ0RBVEEiLCJvbldhcm5pbmciLCJvbkNvbW1lbnQiLCJvblF1ZXN0aW9uIiwib25BdHRlbnRpb24iLCJuc1VyaVRvUHJlZml4IiwicHJveHkiLCJvbkVycm9yIiwiZ2V0Q29udGV4dCIsIm1heWJlTlMiLCJpc05hbWVzcGFjZSIsInJldHVybkVycm9yIiwicGFyc2VTdG9wIiwiaGFuZGxlV2FybmluZyIsImNiIiwibnNNYXAiLCJfbnNVcmlUb1ByZWZpeCIsInhtbCIsIl9uc01hdHJpeCIsInEiLCJ3IiwieG1sbnMiLCJlbGVtZW50TmFtZSIsIl9lbGVtZW50TmFtZSIsImVsZW1lbnRQcm94eSIsImNhY2hlZEF0dHJzIiwibnNNYXRyaXhTdGFjayIsImJ1aWxkTnNNYXRyaXgiLCJub2RlU3RhY2siLCJhbm9ueW1vdXNOc0NvdW50IiwidGFnU3RhcnQiLCJ0YWdFbmQiLCJqIiwiYXR0cnNTdHJpbmciLCJhdHRyc1N0YXJ0IiwiZ2V0QXR0cnMiLCJuc1VyaVByZWZpeCIsImhhc05ld01hdHJpeCIsIm5ld2FsaWFzIiwiYWxpYXMiLCJza2lwQXR0ciIsImRlZmF1bHRBbGlhcyIsImF0dHJMaXN0IiwibCIsInNlZW5BdHRycyIsInBhcnNlQXR0ciIsImNoYXJDb2RlQXQiLCJzdWJzdHIiLCJzcGxpdHNSZSIsImNvbHVtbiIsInN0YXJ0T2ZMaW5lIiwiZW5kT2ZMaW5lIiwiaXNOYU4iLCJwYXJzZSIsImhhc0xvd2VyQ2FzZUFsaWFzIiwidGFnQWxpYXMiLCJERUZBVUxUX05TX01BUCIsInNlcmlhbGl6ZUZvcm1hdCIsInNlcmlhbGl6ZUFzVHlwZSIsImFsaWFzVG9OYW1lIiwiYWxpYXNOcyIsImdldE1vZGRsZURlc2NyaXB0b3IiLCJDb250ZXh0IiwiZWxlbWVudHNCeUlkIiwicmVmZXJlbmNlcyIsIndhcm5pbmdzIiwiYWRkUmVmZXJlbmNlIiwicmVmZXJlbmNlIiwiYWRkRWxlbWVudCIsImFkZFdhcm5pbmciLCJ3YXJuaW5nIiwiQmFzZUhhbmRsZXIiLCJOb29wSGFuZGxlciIsIkJvZHlIYW5kbGVyIiwiUmVmZXJlbmNlSGFuZGxlciIsIlZhbHVlSGFuZGxlciIsInByb3BlcnR5RGVzYyIsIkJhc2VFbGVtZW50SGFuZGxlciIsIkVsZW1lbnRIYW5kbGVyIiwiUm9vdEVsZW1lbnRIYW5kbGVyIiwiR2VuZXJpY0VsZW1lbnRIYW5kbGVyIiwiUmVhZGVyIiwibGF4IiwiaGFuZGxlRW5kIiwiaGFuZGxlVGV4dCIsImhhbmRsZU5vZGUiLCJjcmVhdGVSZWZlcmVuY2UiLCJoYW5kbGVDaGlsZCIsInByb3BOYW1lTnMiLCJpbnN0YW5jZSIsImdldFByb3BlcnR5Rm9yTm9kZSIsImVsZW1lbnRUeXBlTmFtZSIsImVsZW1lbnRUeXBlIiwiaXNBdHRyIiwidHlwZVByZWZpeCIsInByZWZpeGVkVG9OYW1lIiwibm9ybWFsaXplWHNpVHlwZU5hbWUiLCJlZmZlY3RpdmVUeXBlIiwiaXNWaXJ0dWFsIiwiaXNBdHRyaWJ1dGUiLCJ2YWx1ZUhhbmRsZXIiLCJyZWZlcmVuY2VIYW5kbGVyIiwiaGFuZGxlciIsImNoaWxkSGFuZGxlciIsIm5ld0VsZW1lbnQiLCIkcGFyZW50Iiwib3JpZ2luYWxOYW1lIiwiJGNoaWxkcmVuIiwiJGJvZHkiLCJmcm9tWE1MIiwiZG9uZSIsInJvb3RIYW5kbGVyIiwiY3JlYXRlU3RhY2siLCJjdHgiLCJQUkVBTUJMRV9TVEFSVF9QQVRURVJOIiwiRU5DT0RJTkdfUEFUVEVSTiIsIlVURl84X1BBVFRFUk4iLCJoYW5kbGVDRGF0YSIsInBlZWsiLCJ1cmlNYXAiLCJkZWNvZGVTdHIiLCJzZWxmQ2xvc2luZyIsImRlY29kZWRBdHRycyIsImhhbmRsZU9wZW4iLCJxdWVzdGlvbiIsImVuY29kaW5nIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJyIiwicmVzb2x2ZVJlZmVyZW5jZXMiLCJyb290RWxlbWVudCIsIkVTQ0FQRV9BVFRSX0NIQVJTIiwiRVNDQVBFX0NIQVJTIiwiTmFtZXNwYWNlcyIsInByZWZpeE1hcCIsInVzZWQiLCJ3ZWxsa25vd24iLCJieVVyaSIsImlzV2VsbGtub3duIiwibWFwUHJlZml4IiwidXJpQnlQcmVmaXgiLCJnZXROU0tleSIsImxvZ1VzZWQiLCJuc0tleSIsImdldFVzZWQiLCJpbmhlcml0cyIsImN0b3IiLCJzdXBlckN0b3IiLCJzdXBlcl8iLCJjb25zdHJ1Y3RvciIsIkVTQ0FQRV9BVFRSX01BUCIsIkVTQ0FQRV9NQVAiLCJjaGFyUGF0dGVybiIsInJlcGxhY2VNYXAiLCJSZWZlcmVuY2VTZXJpYWxpemVyIiwiQm9keVNlcmlhbGl6ZXIiLCJWYWx1ZVNlcmlhbGl6ZXIiLCJFbGVtZW50U2VyaWFsaXplciIsInByb3BlcnR5RGVzY3JpcHRvciIsIlR5cGVTZXJpYWxpemVyIiwiU2F2aW5nV3JpdGVyIiwid3JpdGUiLCJGb3JtYXRpbmdXcml0ZXIiLCJvdXQiLCJmb3JtYXQiLCJpbmRlbnQiLCJhcHBlbmROZXdMaW5lIiwiYXBwZW5kSW5kZW50IiwidW5pbmRlbnQiLCJXcml0ZXIiLCJwcmVhbWJsZSIsInRvWE1MIiwidHJlZSIsIndyaXRlciIsImludGVybmFsV3JpdGVyIiwiZm9ybWF0aW5nV3JpdGVyIiwic2VyaWFsaXplVG8iLCJQb3N0aXRNb2RkbGUiLCJzZXJpYWxpemVWYWx1ZSIsImVzY2FwZSIsInNlYXJjaCIsIm90aGVyQXR0cnMiLCJlbGVtZW50RGVzY3JpcHRvciIsInBhcnNlR2VuZXJpYyIsInBhcnNlTnNBdHRyaWJ1dGVzIiwibnNQcm9wZXJ0eVRhZ05hbWUiLCJuc1RhZ05hbWUiLCJhZGRUYWdOYW1lIiwiZ2V0U2VyaWFsaXphYmxlUHJvcGVydGllcyIsInBhcnNlQXR0cmlidXRlcyIsInBhcnNlQ29udGFpbm1lbnRzIiwicGFyc2VHZW5lcmljQXR0cmlidXRlcyIsInN0cmluZyIsImdldEVsZW1lbnROcyIsImxvZ05hbWVzcGFjZVVzZWQiLCJnZXRQcm9wZXJ0eU5zIiwiaXNMb2NhbE5zIiwibnNBdHRyaWJ1dGVOYW1lIiwiZWZmZWN0aXZlTnMiLCJnZXROYW1lc3BhY2VzIiwicGFyc2VOc0F0dHJpYnV0ZSIsImxvZ05hbWVzcGFjZSIsImFjdHVhbE5zIiwiZ2VuZXJpY0F0dHJzIiwibm9uTnNBdHRyIiwiYWRkQXR0cmlidXRlIiwid2FybiIsImFzVHlwZSIsImFzUHJvcGVydHkiLCJzZXJpYWxpemVBc1Byb3BlcnR5Iiwic2VyaWFsaXplciIsImxvY2FsIiwicGFyZW50TmFtZXNwYWNlcyIsIm5hbWVzcGFjZXMiLCJleGlzdGluZyIsIm5ld1ByZWZpeCIsIndlbGxrbm93blVyaSIsInNlcmlhbGl6ZUF0dHJpYnV0ZXMiLCJnZXROc0F0dHJzIiwiZmlyc3RCb2R5IiwidHlwZU5zIiwieG1sU3RyIiwicmVhZGVyIiwicG9zdGl0IiwicG9zdGl0RGkiLCJkYyIsImFkZGl0aW9uYWxQYWNrYWdlcyIsImVsZW1lbnRUb1N0cmluZyIsImRpUmVmcyIsIlJlZnMiLCJpcyIsIlBvc3RpdFRyZWVXYWxrZXIiLCJoYW5kbGVkRWxlbWVudHMiLCJkZWZlcnJlZCIsImxvZ0Vycm9yIiwiaGFuZGxlZCIsInJlZ2lzdGVyRGkiLCJkaSIsImJvYXJkRWxlbWVudCIsImhhbmRsZVBsYW5lRWxlbWVudCIsInBsYW5lRWxlbWVudCIsImhhbmRsZURlZmVycmVkIiwiaGFuZGxlRGVmaW5pdGlvbnMiLCJkZWZpbml0aW9ucyIsInJvb3RCb2FyZCIsInJvb3RCb2FyZHMiLCJkaWFncmFtIiwicGxhbmUiLCJoYW5kbGVCb2FyZCIsInJvb3RFbGVtZW50cyIsImZpbmREaXNwbGF5Q2FuZGlkYXRlIiwiYm9hcmQiLCJib2FyZEVsZW1lbnRzIiwidmlzaXRJZkRpIiwiaGFuZGxlQm9hcmRFbGVtZW50cyIsIkJhc2VWaWV3ZXIiLCJERUZBVUxUX09QVElPTlMiLCJfbW9kZGxlIiwiX2NyZWF0ZU1vZGRsZSIsImFkZFdhcm5pbmdzVG9FcnJvciIsIndhcm5pbmdzQXJ5IiwiaW1wb3J0WE1MIiwiX2VtaXQiLCJ0aGVuIiwicGFyc2VXYXJuaW5ncyIsImltcG9ydERlZmluaXRpb25zIiwiYWxsV2FybmluZ3MiLCJjaGVja1ZhbGlkYXRpb25FcnJvciIsIl9zZXREZWZpbml0aW9ucyIsIm9wZW4iLCJyb290Qm9hcmRPcklkIiwiX2RlZmluaXRpb25zIiwicm9vdEJvcmQiLCJlcnIxIiwiYm9hcmRJZCIsImZpbmRSb290Qm9hcmQiLCJlcnIyIiwiaW1wb3J0ZXIiLCJwYXJlbnRTaGFwZSIsInJlbmRlciIsImltcG9ydFBvc3RpdERpYWdyYW0iLCJzYXZlWE1MIiwic2F2ZVNWRyIsImNvbnRlbnROb2RlIiwiZGVmc05vZGUiLCJkb21RdWVyeSIsImNvbnRlbnRzIiwiZGVmcyIsImdldE1vZHVsZXMiLCJfbW9kdWxlcyIsImdldERlZmluaXRpb25zIiwiYm8iLCJidXNpbmVzc09iamVjdCIsImRvbVJlbW92ZSIsImF0dGFjaFRvIiwiZGV0YWNoIiwianF1ZXJ5IiwibW9kZGxlIiwiYmFzZU1vZHVsZXMiLCJhZGRpdGlvbmFsTW9kdWxlcyIsImRpYWdyYW1Nb2R1bGVzIiwicG9zdGl0anMiLCJkaWFncmFtT3B0aW9ucyIsImVuc3VyZVVuaXQiLCJfbW9kZGxlRXh0ZW5zaW9ucyIsIm1vZGRsZUV4dGVuc2lvbnMiLCJCYXNlTW9kZWxlciIsIl9jb2xsZWN0SWRzIiwiaWRzIiwiZ2V0QnVzaW5lc3NPYmplY3QiLCJpc0FueSIsInNvbWUiLCJnZXRMYWJlbEF0dHIiLCJzZW1hbnRpYyIsImdldExhYmVsIiwiZ2V0RGkiLCJnZXRGaWxsQ29sb3IiLCJkZWZhdWx0Q29sb3IiLCJnZXRDb2xvciIsImdldFN0cm9rZUNvbG9yIiwiY29sb3IiLCJQb3N0aXRSZW5kZXJlciIsInBhdGhNYXAiLCJ0ZXh0UmVuZGVyZXIiLCJkZWZhdWx0RmlsbENvbG9yIiwiZGVmYXVsdFN0cm9rZUNvbG9yIiwiZHJhd1JlY3QiLCJwYXJlbnRHZngiLCJvZmZzZXQiLCJzdmdDcmVhdGUiLCJzdmdBdHRyIiwicngiLCJyeSIsInN2Z0FwcGVuZCIsInJlbmRlckxhYmVsIiwiY3JlYXRlVGV4dCIsInN2Z0NsYXNzZXMiLCJyZW5kZXJFbWJlZGRlZExhYmVsIiwiYWxpZ24iLCJmb250U2l6ZSIsImdldFNlbWFudGljIiwicGFkZGluZyIsImhhbmRsZXJzIiwiZmlsbE9wYWNpdHkiLCJjeCIsImN5IiwiZHJhd0NpcmNsZSIsInRleHRTaXplIiwiZ2V0SW1hZ2VTb3VyY2UiLCJocmVmIiwiZml0Qm94IiwiZ2V0RXh0ZXJuYWxTdHlsZSIsInJlbmRlckV4dGVybmFsTGFiZWwiLCJfZHJhd1BhdGgiLCJoIiwiY29tcG9uZW50c1RvUGF0aCIsIkRFRkFVTFRfTEFCRUxfU0laRSIsImdldFRleHRCQm94IiwiZmFrZVRleHQiLCJ0ZXh0QkJveCIsImVtcHR5TGluZSIsImxheW91dE5leHQiLCJsaW5lcyIsIm1heFdpZHRoIiwib3JpZ2luYWxMaW5lIiwiZml0TGluZSIsImZpdCIsInNob3J0ZW5MaW5lIiwicmVtYWluZGVyIiwic2hvcnRlbmVkTGluZSIsIm1heExlbmd0aCIsInBhcnQiLCJzaG9ydGVuZWRQYXJ0cyIsImxhc3QiLCJzZW1hbnRpY1Nob3J0ZW4iLCJUZXh0IiwiX2NvbmZpZyIsIlRleHRSZW5kZXJlciIsImRlZmF1bHRTdHlsZSIsImZvbnRGYW1pbHkiLCJmb250V2VpZ2h0IiwibGluZUhlaWdodCIsImV4dGVybmFsU3R5bGUiLCJ0ZXh0VXRpbCIsIlRleHRVdGlsIiwiZ2V0RXh0ZXJuYWxMYWJlbEJvdW5kcyIsImJvdW5kcyIsImxheW91dGVkRGltZW5zaW9ucyIsImdldERpbWVuc2lvbnMiLCJjZWlsIiwiZ2V0RGVmYXVsdFN0eWxlIiwibGF5b3V0VGV4dCIsImRpbWVuc2lvbnMiLCJoZWxwZXJTdmciLCJob3Jpem9udGFsIiwidmVydGljYWwiLCJwYXJzZUFsaWduIiwidG9wIiwibGVmdCIsInJpZ2h0IiwiYm90dG9tIiwicGFyc2VQYWRkaW5nIiwiZ2V0TGluZUhlaWdodCIsImxheW91dGVkIiwiaGVscGVyVGV4dCIsImdldEVsZW1lbnRCeUlkIiwidG90YWxIZWlnaHQiLCJzdW0iLCJtYXhMaW5lV2lkdGgiLCJ0ZXh0RWxlbWVudCIsInRzcGFuIiwidG9rZW5SZWdleCIsIm9iak5vdGF0aW9uUmVnZXgiLCJwb3N0aXRSZW5kZXJlciIsImhlaWdodEVsZW1lbnRzIiwid2lkdGhFbGVtZW50cyIsImdldFJhd1BhdGgiLCJwYXRoSWQiLCJnZXRTY2FsZWRQYXRoIiwicGFyYW0iLCJteCIsIm15IiwicmF3UGF0aCIsImFic3BvcyIsImNvbnRhaW5lcldpZHRoIiwiY29udGFpbmVySGVpZ2h0IiwiY29vcmRpbmF0ZXMiLCJoZWlnaHRSYXRpbyIsInlTY2FsZUZhY3RvciIsIndpZHRoUmF0aW8iLCJ4U2NhbGVGYWN0b3IiLCJoZWlnaHRJbmRleCIsIndpZHRoSW5kZXgiLCJhbGwiLCJxdW90ZSIsInF1b3RlZE5hbWUiLCJpc0Z1bmMiLCJyZXBsYWNlciIsInRlbXBsYXRlIiwicmVwbGFjZW1lbnRzIiwiaXNMYWJlbEV4dGVybmFsIiwiaGFzRXh0ZXJuYWxMYWJlbCIsImlzTGFiZWwiLCJnZXRFeHRlcm5hbExhYmVsTWlkIiwibGFiZWxUYXJnZXQiLCJlbGVtZW50RGF0YSIsIm5vdFlldERyYXduIiwicmVmU2VtYW50aWMiLCJyZWZlcmVuY2VkIiwiUG9zdGl0SW1wb3J0ZXIiLCJfY2FudmFzIiwiX2VsZW1lbnRGYWN0b3J5IiwiX3RyYW5zbGF0ZSIsIl90ZXh0UmVuZGVyZXIiLCJwYXJlbnRFbGVtZW50IiwiY29sbGFwc2VkIiwiYWRkTGFiZWwiLCJfYXR0YWNoQm91bmRhcnkiLCJib3VuZGFyeVNlbWFudGljIiwiYm91bmRhcnlFbGVtZW50IiwiaG9zdFNlbWFudGljIiwiYXR0YWNoZWRUb1JlZiIsImhvc3QiLCJhdHRhY2hlcnMiLCJtaWQiLCJfZ2V0RW5kIiwic2lkZSIsIl9nZXRFbGVtZW50IiwiX2dldFNvdXJjZSIsIl9nZXRUYXJnZXQiLCJEcmF3TW9kdWxlIiwicG9zdGl0SW1wb3J0ZXIiLCJfX3N0b3BQcm9wYWdhdGlvbiIsImdldE9yaWdpbmFsIiwib3JpZ2luYWxFdmVudCIsInNyY0V2ZW50IiwiaW1tZWRpYXRlIiwidG9Qb2ludCIsInBvaW50ZXJzIiwidG91Y2hlcyIsImNsaWVudFgiLCJjbGllbnRZIiwiaXNCdXR0b24iLCJidXR0b24iLCJpc1ByaW1hcnlCdXR0b24iLCJoYXNQcmltYXJ5TW9kaWZpZXIiLCJuYXZpZ2F0b3IiLCJwbGF0Zm9ybSIsIm1ldGFLZXkiLCJjdHJsS2V5IiwiaGFzU2Vjb25kYXJ5TW9kaWZpZXIiLCJzaGlmdEtleSIsImFsbG93QWxsIiwiYWxsb3dQcmltYXJ5QW5kQXV4aWxpYXJ5IiwiaXNBdXhpbGlhcnlCdXR0b24iLCJJbnRlcmFjdGlvbkV2ZW50cyIsImxvY2FsRXZlbnROYW1lIiwiaWdub3JlZEZpbHRlcnMiLCJpc0lnbm9yZWQiLCJtb3VzZUhhbmRsZXIiLCJiaW5kaW5ncyIsImNsaWNrIiwiY29udGV4dG1lbnUiLCJkYmxjbGljayIsIm1vdXNlZG93biIsIm1vdXNlbW92ZSIsIm1vdXNlb3ZlciIsIm1vdXNlb3V0IiwibW91c2V1cCIsInJlZ2lzdGVyRXZlbnQiLCJsb2NhbEV2ZW50IiwiaWdub3JlZEZpbHRlciIsIiRkZWxlZ2F0ZSIsInVucmVnaXN0ZXJFdmVudCIsImNyZWF0ZURlZmF1bHRIaXQiLCJ1cGRhdGVEZWZhdWx0SGl0IiwiU1RST0tFX0hJVF9TVFlMRSIsImNyZWF0ZUhpdFN0eWxlIiwiQ0xJQ0tfU1RST0tFX0hJVF9TVFlMRSIsIkhJVF9UWVBFUyIsImNsYXNzTmFtZXMiLCJhcHBseVN0eWxlIiwiaGl0IiwiYXBwZW5kSGl0IiwicmVtb3ZlSGl0cyIsImJveFR5cGUiLCJjcmVhdGVXYXlwb2ludHNIaXQiLCJjcmVhdGVCb3hIaXQiLCJ1cGRhdGVMaW5lIiwidHJpZ2dlck1vdXNlRXZlbnQiLCJldmVudE5hbWUiLCJ0YXJnZXRFbGVtZW50IiwiaW50ZXJhY3Rpb25FdmVudHMiLCJPdXRsaW5lIiwiT1VUTElORV9TVFlMRSIsImNyZWF0ZU91dGxpbmUiLCJvdXRsaW5lIiwidXBkYXRlU2hhcGVPdXRsaW5lIiwidXBkYXRlQ29ubmVjdGlvbk91dGxpbmUiLCJTZWxlY3Rpb24iLCJfc2VsZWN0ZWRFbGVtZW50cyIsImRlc2VsZWN0Iiwic2VsZWN0Iiwic2VsZWN0ZWRFbGVtZW50cyIsIm9sZFNlbGVjdGlvbiIsIm5ld1NlbGVjdGlvbiIsImlzU2VsZWN0ZWQiLCJNQVJLRVJfSE9WRVIiLCJNQVJLRVJfU0VMRUNURUQiLCJTZWxlY3Rpb25WaXN1YWxzIiwic2VsZWN0aW9uIiwiX211bHRpU2VsZWN0aW9uQm94IiwiU2VsZWN0aW9uQmVoYXZpb3IiLCJjYW5FeGVjdXRlIiwiYXV0b1NlbGVjdCIsImhpbnRzIiwiaXNTaG93biIsImhvdmVyIiwicHJldmlvdXNTZWxlY3Rpb24iLCJzZWxlY3RlZFNoYXBlIiwiaXNNdWx0aVNlbGVjdCIsInNlbGVjdGlvblZpc3VhbHMiLCJzZWxlY3Rpb25CZWhhdmlvciIsIklkR2VuZXJhdG9yIiwiX2NvdW50ZXIiLCJfcHJlZml4IiwiT3ZlcmxheXMiLCJfaWRzIiwiX292ZXJsYXlEZWZhdWx0cyIsInNob3ciLCJkZWZhdWx0cyIsIl9vdmVybGF5cyIsIl9vdmVybGF5Q29udGFpbmVycyIsIl9vdmVybGF5Um9vdCIsInNldFBvc2l0aW9uIiwic2V0VmlzaWJsZSIsInZpc2libGUiLCJkaXNwbGF5Iiwic2V0VHJhbnNmb3JtIiwiX2dldE92ZXJsYXlDb250YWluZXIiLCJvdmVybGF5cyIsIm92ZXJsYXkiLCJfYWRkT3ZlcmxheSIsImh0bWxDb250YWluZXIiLCJoaWRlIiwiX3VwZGF0ZU92ZXJsYXlDb250YWluZXIiLCJfdXBkYXRlT3ZlcmxheSIsIl9jcmVhdGVPdmVybGF5Q29udGFpbmVyIiwiX3VwZGF0ZVJvb3QiLCJyYXciLCJvdmVybGF5Q29udGFpbmVyIiwiX3VwZGF0ZU92ZXJsYXlWaXNpYmlsdHkiLCJtaW5ab29tIiwibWF4Wm9vbSIsIl91cGRhdGVPdmVybGF5U2NhbGUiLCJtaW5TY2FsZSIsIm1heFNjYWxlIiwic2hvdWxkU2NhbGUiLCJfdXBkYXRlT3ZlcmxheXNWaXNpYmlsdHkiLCJWaWV3ZXIiLCJpc0NtZCIsImFsdEtleSIsImlzS2V5Iiwia2V5Q29kZSIsImlzU2hpZnQiLCJDb3JlTW9kdWxlIiwiVHJhbnNsYXRlTW9kdWxlIiwiU2VsZWN0aW9uTW9kdWxlIiwiT3ZlcmxheXNNb2R1bGUiLCJLRVlET1dOX0VWRU5UIiwiS2V5Ym9hcmQiLCJfa2V5ZG93bkhhbmRsZXIiLCJfa2V5dXBIYW5kbGVyIiwiX2ZpcmUiLCJiaW5kVG8iLCJfa2V5SGFuZGxlciIsImNvbnRlbnRFZGl0YWJsZSIsImtleUV2ZW50IiwiX25vZGUiLCJnZXRCaW5kaW5nIiwiYWRkTGlzdGVuZXIiLCJyZW1vdmVMaXN0ZW5lciIsImhhc01vZGlmaWVyIiwiS0VZU19DT1BZIiwiS0VZU19QQVNURSIsIktFWVNfUkVETyIsIktFWVNfVU5ETyIsIktleWJvYXJkQmluZGluZ3MiLCJrZXlib2FyZCIsImVkaXRvckFjdGlvbnMiLCJyZWdpc3RlckJpbmRpbmdzIiwiYWN0aW9uIiwiaXNSZWdpc3RlcmVkIiwidHJpZ2dlciIsImtleWJvYXJkQmluZGluZ3MiLCJERUZBVUxUX0NPTkZJRyIsIm1vdmVTcGVlZCIsIm1vdmVTcGVlZEFjY2VsZXJhdGVkIiwiS2V5Ym9hcmRNb3ZlIiwiZGlyZWN0aW9uIiwic3BlZWQiLCJtb3ZlQ2FudmFzIiwib3B0cyIsImFjdHVhbFNwZWVkIiwic3FydCIsImtleWJvYXJkTW92ZSIsIkNVUlNPUl9DTFNfUEFUVEVSTiIsIm1vZGUiLCJ1bnNldCIsImluc3RhbGwiLCJ0cmFwIiwiTW92ZUNhbnZhcyIsImhhbmRsZU1vdmUiLCJzdGFydCIsImRyYWdnaW5nIiwiaGFuZGxlU3RhcnQiLCJpc0FjdGl2ZSIsImxvZzEwIiwiZ2V0U3RlcFNpemUiLCJyYW5nZSIsInN0ZXBzIiwibWluTGluZWFyUmFuZ2UiLCJtYXhMaW5lYXJSYW5nZSIsImFicyIsInNpZ24iLCJuIiwiUkFOR0UiLCJab29tU2Nyb2xsIiwiX2VuYWJsZWQiLCJfaGFuZGxlV2hlZWwiLCJfdG90YWxEZWx0YSIsIl9zY2FsZSIsImVuYWJsZWQiLCJyZXNldCIsInN0ZXBTaXplIiwiTlVNX1NURVBTIiwiX3pvb20iLCJpc1pvb20iLCJpc0hvcml6b250YWxTY3JvbGwiLCJmYWN0b3IiLCJkZWx0YU1vZGUiLCJlbGVtZW50UmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImRlbHRhWSIsImRlbHRhWCIsInN0ZXBab29tIiwiY3VycmVudExpbmVhclpvb21MZXZlbCIsIm5ld0xpbmVhclpvb21MZXZlbCIsIm5ld0xvZ1pvb21MZXZlbCIsIm5ld0VuYWJsZWQiLCJoYW5kbGVXaGVlbCIsIm9sZEVuYWJsZWQiLCJ6b29tU2Nyb2xsIiwiTmF2aWdhdGVkVmlld2VyIiwiX25hdmlnYXRpb25Nb2R1bGVzIiwiS2V5Ym9hcmRNb3ZlTW9kdWxlIiwiTW92ZUNhbnZhc01vZHVsZSIsIlpvb21TY3JvbGxNb2R1bGUiLCJtb3VzZUV2ZW50cyIsInNlcnZpY2UiLCJzdG9wRXZlbnQiLCJzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24iLCJjcmVhdGVUb3VjaFJlY29nbml6ZXIiLCJhbGxvd01vdXNlIiwicmVjb2duaXplciIsImlucHV0Q2xhc3MiLCJyZWNvZ25pemVycyIsImRvbUV2ZW50cyIsInRhcCIsInBhbiIsInRocmVzaG9sZCIsInByZXNzIiwicGluY2giLCJkb3VibGVUYXAiLCJ0YXBzIiwicmVxdWlyZUZhaWx1cmUiLCJzZXNzaW9uIiwic3RvcHBlZCIsInN0b3AiLCJzdGF0ZSIsImN1clJlY29nbml6ZXIiLCJUb3VjaEludGVyYWN0aW9uRXZlbnRzIiwibW92ZSIsImNvbnRleHRQYWQiLCJwYWxldHRlIiwiZ2V0R2Z4IiwiTW91c2VFdmVudCIsImVsZW1lbnRGcm9tUG9pbnQiLCJob3ZlckdmeCIsInBhZFJlY29nbml6ZXIiLCJwYWQiLCJzdGFydEdyYWIiLCJseCIsImx5IiwiZW5kIiwic3RhcnRHcmFiQ2FudmFzIiwicmF0aW8iLCJuZXdab29tIiwiaW5pdEV2ZW50cyIsIlRvdWNoRml4IiwiYWRkQkJveE1hcmtlciIsIm1hcmtlclN0eWxlIiwiY2xhc3MiLCJyZWN0MSIsInJlY3QyIiwidG91Y2hJbnRlcmFjdGlvbkV2ZW50cyIsInRvdWNoRml4Iiwic29ydFRvcE9yTWlkZGxlIiwic29ydExlZnRPckNlbnRlciIsIkFMSUdOTUVOVF9TT1JUSU5HIiwibWlkZGxlIiwiQWxpZ25FbGVtZW50cyIsIm1vZGVsaW5nIiwiX21vZGVsaW5nIiwiX2dldE9yaWVudGF0aW9uRGV0YWlscyIsImF4aXMiLCJkaW1lbnNpb24iLCJfaXNUeXBlIiwiX2FsaWdubWVudFBvc2l0aW9uIiwic29ydGVkRWxlbWVudHMiLCJjZW50ZXJlZEVsZW1lbnRzIiwiZmlyc3RFbGVtZW50IiwibGFzdEVsZW1lbnQiLCJvcmllbnRhdGlvbiIsImFsaWdubWVudCIsImNlbnRlcnMiLCJoYXNTaGFyZWRDZW50ZXJzIiwiZmlyc3QiLCJnZXRNaWRkbGVPclRvcCIsImZpbHRlcmVkRWxlbWVudHMiLCJhbGlnbkVsZW1lbnRzIiwiSG92ZXJGaXgiLCJfZmluZFRhcmdldEdmeCIsImVuc3VyZUhvdmVyIiwiaG92ZXJGaXgiLCJEUkFHX0FDVElWRV9DTFMiLCJEcmFnZ2luZyIsImRlZmF1bHRPcHRpb25zIiwidHJhcENsaWNrIiwidG9Mb2NhbFBvaW50IiwiZ2xvYmFsUG9zaXRpb24iLCJjbGllbnRSZWN0IiwiZHJhZ0NvbnRleHQiLCJwYXlsb2FkIiwiaXNUb3VjaCIsImFjdGl2YXRlIiwiZGlzcGxhY2VtZW50IiwiZ2xvYmFsU3RhcnQiLCJnbG9iYWxDdXJyZW50IiwiZ2xvYmFsRGVsdGEiLCJsb2NhbFN0YXJ0IiwibG9jYWxDdXJyZW50IiwibG9jYWxEZWx0YSIsImFjdGl2ZSIsImNhbmNlbCIsImtlZXBTZWxlY3Rpb24iLCJjdXJzb3IiLCJjbGVhbnVwIiwiY2hlY2tDYW5jZWwiLCJ3aGljaCIsInRyYXBDbGlja0FuZEVuZCIsInVudHJhcCIsInRyYXBUb3VjaCIsInJlc3RvcmUiLCJwcmV2aW91c0NvbnRleHQiLCJ3YXNBY3RpdmUiLCJlbmREcmFnIiwiZXhpc3RpbmdTZWxlY3Rpb24iLCJyZXN0b3JlU2VsZWN0aW9uIiwicmVsYXRpdmVUbyIsIlRvdWNoRXZlbnQiLCJpc1RvdWNoRXZlbnQiLCJtYW51YWwiLCJhdXRvQWN0aXZhdGUiLCJzZXRPcHRpb25zIiwiQXV0b1Njcm9sbCIsIl9vcHRzIiwic2Nyb2xsVGhyZXNob2xkSW4iLCJzY3JvbGxUaHJlc2hvbGRPdXQiLCJzY3JvbGxSZXBlYXRUaW1lb3V0Iiwic2Nyb2xsU3RlcCIsIl90b0JvcmRlclBvaW50Iiwic3RhcnRTY3JvbGwiLCJzdG9wU2Nyb2xsIiwiZGlmZiIsIl9zY3JvbGxpbmciLCJjbGVhclRpbWVvdXQiLCJhdXRvU2Nyb2xsIiwiUnVsZXMiLCJfY29tbWFuZFN0YWNrIiwiYWxsb3dlZCIsImNvbW1hbmRTdGFjayIsInJ1bGVzIiwicG9pbnREaXN0YW5jZSIsInBvaW50c09uTGluZSIsImFjY3VyYWN5IiwiZGlzdCIsInBvaW50c0FsaWduZWQiLCJmaXJzdFBvaW50IiwicG9pbnRzQWxpZ25lZEhvcml6b250YWxseSIsInBvaW50c0FsaWduZWRWZXJ0aWNhbGx5IiwiZ2V0TWlkUG9pbnQiLCJnZXRDb25uZWN0aW9uSW50ZXJzZWN0aW9uIiwibG9jYWxQb3NpdGlvbiIsInRvQ2FudmFzQ29vcmRpbmF0ZXMiLCJiZW5kcG9pbnQiLCJnZXRCZW5kcG9pbnRJbnRlcnNlY3Rpb24iLCJzZWdtZW50cyIsImludGVyc2VjdGlvbnMiLCJjaXJjbGVQYXRoIiwic2VnbWVudDIiLCJnZXRQYXRoSW50ZXJzZWN0aW9uIiwiZ2V0QXBwcm94SW50ZXJzZWN0aW9uIiwiYWRkQmVuZHBvaW50IiwiZ3JvdXBHZngiLCJhZGRTZWdtZW50RHJhZ2dlciIsInNlZ21lbnRTdGFydCIsInNlZ21lbnRFbmQiLCJkcmFnZ2VyR2Z4IiwiaGl0V2lkdGgiLCJzZWdtZW50TGVuZ3RoWEF4aXMiLCJzZWdtZW50TGVuZ3RoWUF4aXMiLCJjYWxjdWxhdGVTZWdtZW50TW92ZVJlZ2lvbiIsImNhbGN1bGF0ZUhpdFdpZHRoIiwiYW5nbGUiLCJyb3RhdGUiLCJzZXRSb3RhdGUiLCJjcmVhdGVQYXJhbGxlbERyYWdnZXIiLCJzZWdtZW50TGVuZ3RoIiwiQmVuZHBvaW50cyIsImJlbmRwb2ludE1vdmUiLCJjb25uZWN0aW9uU2VnbWVudE1vdmUiLCJiaW5kSW50ZXJhY3Rpb25FdmVudHMiLCJnZXRCZW5kcG9pbnRzQ29udGFpbmVyIiwiZ2V0U2VnbWVudERyYWdnZXIiLCJjcmVhdGVCZW5kcG9pbnRzIiwiY3JlYXRlU2VnbWVudERyYWdnZXJzIiwic2VnbWVudERyYWdnZXJHZngiLCJhZGRIYW5kbGVzIiwidXBkYXRlSGFuZGxlcyIsImNsZWFyU2VnbWVudERyYWdnZXJzIiwiY2xlYXJCZW5kcG9pbnRzIiwiYmVuZHBvaW50c0dmeCIsImludGVyc2VjdGlvbiIsImZsb2F0aW5nIiwidXBkYXRlRmxvYXRpbmdCZW5kcG9pbnRQb3NpdGlvbiIsImRyYWdnZXJWaXN1YWwiLCJyZWxhdGl2ZVBvc2l0aW9uIiwiZ2V0RHJhZ2dlclZpc3VhbCIsInVwZGF0ZVNlZ21lbnREcmFnZ2VyUG9zaXRpb24iLCJyZWxldmFudFNlZ21lbnQiLCJjYWxjdWxhdGVJbnRlcnNlY3Rpb25UaHJlc2hvbGQiLCJ0cmVzaG9sZCIsInAwIiwicDEiLCJhbGlnbmVkIiwieERlbHRhIiwieURlbHRhIiwiaXNJbnRlcnNlY3Rpb25NaWRkbGUiLCJhY3RpdmF0ZUJlbmRwb2ludE1vdmUiLCJwcmltYXJ5IiwiYmVuZHBvaW50Q29udGFpbmVyIiwicm91bmRQb2ludCIsImFzVFJCTCIsImFzQm91bmRzIiwidHJibCIsImdldE1pZCIsImdldE9yaWVudGF0aW9uIiwicmVjdE9yaWVudGF0aW9uIiwicmVmZXJlbmNlT3JpZW50YXRpb24iLCJnZXRFbGVtZW50TGluZUludGVyc2VjdGlvbiIsImVsZW1lbnRQYXRoIiwibGluZVBhdGgiLCJjcm9wU3RhcnQiLCJkaXN0YW5jZSIsInQyIiwiUkVDT05ORUNUX1NUQVJUIiwiUkVDT05ORUNUX0VORCIsIlVQREFURV9XQVlQT0lOVFMiLCJCZW5kcG9pbnRNb3ZlIiwiX2luamVjdG9yIiwiYmVuZHBvaW50SW5kZXgiLCJpbnNlcnQiLCJjb21tYW5kIiwiY29ubmVjdGlvbkdmeCIsIm5ld1dheXBvaW50cyIsImRvY2tpbmciLCJjcm9wV2F5cG9pbnRzIiwidXBkYXRlV2F5cG9pbnRzIiwicHJldmlvdXNQb2ludCIsIm5leHRQb2ludCIsImZpbHRlclJlZHVuZGFudFdheXBvaW50cyIsImlzUmV2ZXJzZSIsInJlY29ubmVjdCIsImNvbm5lY3Rpb25Eb2NraW5nIiwiZ2V0Q3JvcHBlZFdheXBvaW50cyIsIk1BUktFUl9PSyIsIk1BUktFUl9OT1RfT0siLCJNQVJLRVJfQ09OTkVDVF9IT1ZFUiIsIk1BUktFUl9DT05ORUNUX1VQREFUSU5HIiwiTUFSS0VSX0VMRU1FTlRfSElEREVOIiwiQmVuZHBvaW50TW92ZVByZXZpZXciLCJjb25uZWN0aW9uUHJldmlldyIsImRyYXdQcmV2aWV3SGludHMiLCJjb25uZWN0aW9uU3RhcnQiLCJjb25uZWN0aW9uRW5kIiwibm9Dcm9wcGluZyIsIm5vTGF5b3V0IiwiZHJhd1ByZXZpZXciLCJjbGVhblVwIiwiYXhpc0FkZCIsImF4aXNTZXQiLCJmbGlwQXhpcyIsImdldERvY2tpbmciLCJyZWZlcmVuY2VFbGVtZW50IiwibW92ZUF4aXMiLCJyZWZlcmVuY2VNaWQiLCJpbnZlcnNlQXhpcyIsIkNvbm5lY3Rpb25TZWdtZW50TW92ZSIsImNyb3BDb25uZWN0aW9uIiwiY3JvcHBlZFdheXBvaW50cyIsIm9sZFdheXBvaW50cyIsInJlZHJhd0Nvbm5lY3Rpb24iLCJkcmFnUG9zaXRpb24iLCJzZWdtZW50U3RhcnRJbmRleCIsInNlZ21lbnRFbmRJbmRleCIsIm9yaWdpbmFsV2F5cG9pbnRzIiwic291cmNlVG9TZWdtZW50T3JpZW50YXRpb24iLCJ0YXJnZXRUb1NlZ21lbnRPcmllbnRhdGlvbiIsIm5ld1NlZ21lbnRTdGFydCIsIm5ld1NlZ21lbnRFbmQiLCJ3YXlwb2ludENvdW50Iiwic2VnbWVudE9mZnNldCIsIm1heFZhbHVlIiwibWluVmFsdWUiLCJkcmFnZ2VyUG9zaXRpb24iLCJ1cGRhdGVEcmFnZ2VyIiwibmV3U2VnbWVudFN0YXJ0SW5kZXgiLCJzZWdtZW50TW92ZSIsImRlZmF1bHRWYWx1ZSIsImlzU25hcHBlZCIsInNuYXBwZWQiLCJzZXRTbmFwcGVkIiwicHJldmlvdXNWYWx1ZSIsIkJlbmRwb2ludFNuYXBwaW5nIiwic25hcFRvIiwic3giLCJzeSIsInNuYXBQb2ludHMiLCJyZWZlcmVuY2VXYXlwb2ludHMiLCJnZXRDb25uZWN0aW9uU2VnbWVudFNuYXBzIiwiZ2V0QmVuZHBvaW50U25hcHMiLCJob3Zlck1pZCIsImJlbmRwb2ludHMiLCJiZW5kcG9pbnRNb3ZlUHJldmlldyIsImJlbmRwb2ludFNuYXBwaW5nIiwiWUVMTE9XIiwiR1JFRU4iLCJQSU5LIiwiSUNFX0JMVUUiLCJCTFVFIiwiT1JBTkdFIiwiQkxBQ0siLCJERUZBVUxUX1NIQVBFIiwiQ09MT1JTIiwiQ2FudmFzQ3JlYXRlIiwiZGlyZWN0RWRpdGluZyIsImxhc3RDcmVhdGVkU2hhcGUiLCJkb21EZWxlZ2F0ZSIsImV2ZW50UG9pbnQiLCJfZ2V0TmV3U2hhcGVQb3NpdGlvbiIsIm5ld1NoYXBlIiwiY3JlYXRlUG9zdGl0RWxlbWVudCIsIl9jcmVhdGVTaGFwZU9uQ2FudmFzIiwiX3NhdmVMYXN0Q3JlYXRlZFNoYXBlIiwiVGV4dEJveCIsImNvbnRlbnQiLCJrZXlIYW5kbGVyIiwicmVzaXplSGFuZGxlciIsImF1dG9SZXNpemUiLCJoYW5kbGVQYXN0ZSIsIkRpcmVjdEVkaXRpbmciLCJfdGV4dGJveCIsIl9oYW5kbGVLZXkiLCJfaGFuZGxlUmVzaXplIiwicGFyZW50U3R5bGUiLCJtYXhIZWlnaHQiLCJtaW5XaWR0aCIsIm1pbkhlaWdodCIsImJhY2tncm91bmRDb2xvciIsImJvcmRlciIsImJveFNpemluZyIsIndvcmRXcmFwIiwidGV4dEFsaWduIiwiY29udGVudFN0eWxlIiwiY2VudGVyVmVydGljYWxseSIsImlubmVyVGV4dCIsInJlc2l6YWJsZSIsInNldFNlbGVjdGlvbiIsImNsaXBib2FyZERhdGEiLCJnZXREYXRhIiwiaW5zZXJ0VGV4dCIsImhhc1Jlc2l6ZWQiLCJleGVjQ29tbWFuZCIsIl9pbnNlcnRUZXh0SUUiLCJub2RlTGlzdCIsImdldFNlbGVjdGlvbiIsInN0YXJ0Q29udGFpbmVyIiwiZW5kQ29udGFpbmVyIiwic3RhcnRPZmZzZXQiLCJlbmRPZmZzZXQiLCJjb21tb25BbmNlc3RvckNvbnRhaW5lciIsImNoaWxkTm9kZXNBcnJheSIsIk5vZGUiLCJURVhUX05PREUiLCJpc1RleHROb2RlIiwiY29udGFpbmVyVGV4dENvbnRlbnQiLCJ0ZXh0Tm9kZSIsInN0YXJ0Q29udGFpbmVyQ2hpbGRJbmRleCIsImVuZENvbnRhaW5lckNoaWxkSW5kZXgiLCJjaGlsZE5vZGUiLCJzY3JvbGxIZWlnaHQiLCJvZmZzZXRIZWlnaHQiLCJyZXNpemVIYW5kbGUiLCJzdGFydFgiLCJzdGFydFkiLCJzdGFydFdpZHRoIiwic3RhcnRIZWlnaHQiLCJvbk1vdXNlTW92ZSIsIm5ld1dpZHRoIiwibmV3SGVpZ2h0Iiwib25Nb3VzZVVwIiwiYm9yZGVyVG9wIiwiYm9yZGVyUmlnaHQiLCJib3JkZXJCb3R0b20iLCJib3JkZXJMZWZ0IiwiZ2V0VmFsdWUiLCJnZXRSYW5nZUF0IiwiY3JlYXRlUmFuZ2UiLCJzZWxlY3ROb2RlQ29udGVudHMiLCJzZXRTdGFydCIsInNldEVuZCIsInJlbW92ZUFsbFJhbmdlcyIsImFkZFJhbmdlIiwicmVnaXN0ZXJQcm92aWRlciIsIl9hY3RpdmUiLCJjbG9zZSIsImNvbXBsZXRlIiwiY29udGFpbmVyQm91bmRzIiwicHJldmlvdXNCb3VuZHMiLCJuZXdCb3VuZHMiLCIkdGV4dGJveCIsIm5ld1RleHQiLCJjaGFyQ29kZSIsIkRpcmVjdEVkaXRpbmdNb2R1bGUiLCJjYW52YXNDcmVhdGUiLCJDb25uZWN0IiwiY2FuQ29ubmVjdCIsImNvbm5lY3QiLCJDb25uZWN0UHJldmlldyIsInN0YXJ0UG9zaXRpb24iLCJjb25uZWN0UHJldmlldyIsIkNvbm5lY3Rpb25QcmV2aWV3IiwiX2Nvbm5lY3Rpb25Eb2NraW5nIiwiX2xheW91dGVyIiwicmV0dXJuVmFsdWVzIiwiY29ubmVjdGlvblByZXZpZXdHZngiLCJnZXRDb25uZWN0aW9uIiwibm9Ob29wIiwiY3JlYXRlQ29ubmVjdGlvblByZXZpZXdHZngiLCJmaXJzdEFyZ3VtZW50IiwiSlNPTiIsInN0cmluZ2lmeSIsImxheW91dENvbm5lY3Rpb24iLCJkcmF3Tm9vcFByZXZpZXciLCJjcmVhdGVOb29wQ29ubmVjdGlvbiIsInNvdXJjZVBhdGgiLCJ0YXJnZXRQYXRoIiwiZW5zdXJlQ29ubmVjdGlvbkF0dHJzIiwiZW50cnlTZWxlY3RvciIsIkNvbnRleHRQYWQiLCJfb3ZlcmxheXNDb25maWciLCJfY3VycmVudCIsImlzT3BlbiIsImN1cnJlbnQiLCJnZXRFbnRyaWVzIiwiX2dldFByb3ZpZGVycyIsImVudHJpZXMiLCJlbnRyaWVzT3JVcGRhdGVyIiwiZ2V0Q29udGV4dFBhZEVudHJpZXMiLCJfdXBkYXRlQW5kT3BlbiIsImdldFBhZCIsImdyb3VwaW5nIiwiY29udHJvbCIsImFkZENsYXNzZXMiLCJ0aXRsZSIsImltYWdlVXJsIiwib3ZlcmxheXNDb25maWciLCJfb3ZlcmxheUlkIiwiTUFSS0VSX1RZUEVTIiwiTk9ERVNfQ0FOX0hBVkVfTUFSS0VSIiwiUHJldmlld1N1cHBvcnQiLCJfc3R5bGVzIiwiX2Nsb25lZE1hcmtlcnMiLCJjbG9uZWRNYXJrZXIiLCJhZGREcmFnZ2VyIiwiZHJhZ2dlciIsIl9jbG9uZU1hcmtlcnMiLCJhZGRGcmFtZSIsImZyYW1lIiwiY2FuSGF2ZU1hcmtlciIsIm1hcmtlclR5cGUiLCJnZXRNYXJrZXIiLCJfY2xvbmVNYXJrZXIiLCJtYXJrZXJJZCIsImNsb25lZE1hcmtlcklkIiwicHJldmlld1N1cHBvcnQiLCJNQVJLRVJfQVRUQUNIIiwiTUFSS0VSX05FV19QQVJFTlQiLCJQUkVGSVgiLCJDcmVhdGUiLCJzZXRNYXJrZXIiLCJlbnN1cmVDb25zdHJhaW50cyIsImlzQ29ubmVjdGlvbiIsImF0dGFjaCIsImlzU2luZ2xlU2hhcGUiLCJjb25uZWN0aW9uVGFyZ2V0IiwidGFyZ2V0UGFyZW50IiwidGFyZ2V0QXR0YWNoIiwiY2FuQ3JlYXRlIiwiYXBwZW5kU2hhcGUiLCJjcmVhdGVFbGVtZW50cyIsIndheXBvaW50IiwiY3JlYXRlQ29uc3RyYWludHMiLCJDcmVhdGVQcmV2aWV3IiwiZHJhZ0dyb3VwIiwiY3JlYXRlRHJhZ0dyb3VwIiwiY3JlYXRlUHJldmlldyIsIkRBVEFfUkVGIiwiQ0xPU0VfRVZFTlRTIiwiUG9wdXBNZW51IiwiaXNFbXB0eSIsInByb3ZpZGVySWQiLCJfZ2V0RW50cmllcyIsImhlYWRlckVudHJpZXMiLCJfZ2V0SGVhZGVyRW50cmllcyIsImhhc0VudHJpZXMiLCJoYXNIZWFkZXJFbnRyaWVzIiwiX2NyZWF0ZUVudHJpZXMiLCJfYXR0YWNoQ29udGFpbmVyIiwiX2JpbmRBdXRvQ2xvc2UiLCJfdW5iaW5kQXV0b0Nsb3NlIiwiZW50cnlJZCIsIl9nZXRFbnRyeSIsImdldFBvcHVwTWVudUVudHJpZXMiLCJnZXRQb3B1cE1lbnVIZWFkZXJFbnRyaWVzIiwiZ2V0SGVhZGVyRW50cmllcyIsInZpc2liaWxpdHkiLCJfdXBkYXRlU2NhbGUiLCJfYXNzdXJlSXNJbmJvdW5kcyIsInNjYWxlQ29uZmlnIiwiY29udGFpbmVyWCIsIm9mZnNldExlZnQiLCJjb250YWluZXJZIiwib2Zmc2V0VG9wIiwic2Nyb2xsV2lkdGgiLCJvdmVyQXhpcyIsImN1cnNvclBvc2l0aW9uIiwiZW50cmllc0NvbnRhaW5lciIsImVudHJ5Q29udGFpbmVyIiwiX2NyZWF0ZUVudHJ5IiwiZW50cnlDbGFzc2VzIiwiZGlzYWJsZWQiLCJwb3B1cE1lbnUiLCJDbGlwYm9hcmQiLCJfZGF0YSIsImNsaXBib2FyZCIsIk1vdXNlIiwic2V0TGFzdE1vdmVFdmVudCIsIm1vdXNlbW92ZUV2ZW50IiwiX2xhc3RNb3ZlRXZlbnQiLCJfbGFzdE1vdXNlRXZlbnQiLCJnZXRMYXN0TW92ZUV2ZW50IiwiaW5pdE1vdXNlRXZlbnQiLCJjcmVhdGVNb3ZlRXZlbnQiLCJtb3VzZSIsIkNvcHlQYXN0ZSIsIl9jcmVhdGUiLCJfY2xpcGJvYXJkIiwiX21vdXNlIiwiX3J1bGVzIiwiaXNBdHRhY2hlciIsImNvcHlXYXlwb2ludCIsImNvcHlXYXlwb2ludHMiLCJjcmVhdGVFbGVtZW50c0JlaGF2aW9yIiwicmVtb3ZlRWxlbWVudCIsImNvcHkiLCJjcmVhdGVUcmVlIiwicGFzdGUiLCJfY3JlYXRlRWxlbWVudHMiLCJfcGFzdGUiLCJicmFuY2giLCJoYXNSZWxhdGlvbnMiLCJlbGVtZW50c0RhdGEiLCJhZGRFbGVtZW50RGF0YSIsImZvdW5kRWxlbWVudERhdGEiLCJyZW1vdmVFbGVtZW50RGF0YSIsIl9pbmRleCIsImluY29taW5nIiwib3V0Z29pbmciLCJjYW5Db3B5IiwiY29weVBhc3RlIiwiY29weVByb3BlcnRpZXMiLCJQb3N0aXRDb3B5UGFzdGUiLCJwb3N0aXRGYWN0b3J5IiwibW9kZGxlQ29weSIsIm9sZEJ1c2luZXNzT2JqZWN0IiwibmV3QnVzaW5lc3NPYmplY3QiLCJjb3B5RWxlbWVudCIsIkRJU0FMTE9XRURfUFJPUEVSVElFUyIsIk1vZGRsZUNvcHkiLCJfcG9zdGl0RmFjdG9yeSIsInByb3BlcnR5TmFtZXMiLCJwYXJlbnREZXNjcmlwdG9yIiwiZ2V0UHJvcGVydHlOYW1lcyIsImtlZXBEZWZhdWx0UHJvcGVydGllcyIsInNvdXJjZUVsZW1lbnQiLCJjYW5Db3B5UHJvcGVydGllcyIsInNvdXJjZVByb3BlcnR5IiwiY29waWVkUHJvcGVydHkiLCJjb3B5UHJvcGVydHkiLCJjaGlsZFByb3BlcnRpZXMiLCJjaGlsZFByb3BlcnR5IiwiQ29weVBhc3RlTW9kdWxlIiwicG9zdGl0Q29weVBhc3RlIiwiUmVwbGFjZSIsInJlcGxhY2VFbGVtZW50Iiwib2xkRWxlbWVudCIsIm5ld0VsZW1lbnREYXRhIiwiY2VudGVyWCIsImNlbnRlclkiLCJyZXBsYWNlU2hhcGUiLCJDVVNUT01fUFJPUEVSVElFUyIsIlBvc3RpdFJlcGxhY2UiLCJhMiIsImVsZW1lbnRQcm9wcyIsIm5ld0VsZW1lbnRQcm9wcyIsImNvcHlQcm9wcyIsIlJlcGxhY2VNb2R1bGUiLCJwb3N0aXRSZXBsYWNlIiwiUmVwbGFjZU1lbnVQcm92aWRlciIsIl9wb3B1cE1lbnUiLCJfcG9zdGl0UmVwbGFjZSIsInJlZ2lzdGVyIiwicmVwbGFjZU9wdGlvbnMiLCJtZW51RW50cmllcyIsImRlZmluaXRpb24iLCJfY3JlYXRlTWVudUVudHJ5IiwiYWN0aW9uTmFtZSIsIlBvcHVwTWVudU1vZHVsZSIsInJlcGxhY2VNZW51UHJvdmlkZXIiLCJDb250ZXh0UGFkUHJvdmlkZXIiLCJpbWFnZVNlbGVjdGlvbiIsIl9jb250ZXh0UGFkIiwiX2ltYWdlU2VsZWN0aW9uIiwiYXV0b1BsYWNlIiwiX2F1dG9QbGFjZSIsImFjdGlvbnMiLCJzX2tleSIsIlVSTFNlYXJjaFBhcmFtcyIsImxvY2F0aW9uIiwic2hlcGhlcmRBbGVydCIsIiQiLCJhamF4IiwiYmVmb3JlU2VuZCIsInhociIsInNldFJlcXVlc3RIZWFkZXIiLCJ1cmwiLCJyZXNwb25zZVR5cGUiLCJkYXRhVHlwZSIsImZhaWx1cmUiLCJyZW1vdmVFbGVtZW50cyIsInNoZXBoZXJkQ29uZmlybSIsInNldENvbG9yIiwiY3JlYXRlQ29sb3JpbmdFbnRyaWVzIiwiZGVsZXRlQWxsb3dlZCIsImNyZWF0ZURlbGV0ZUVudHJ5IiwiQ29udGV4dFBhZE1vZHVsZSIsIkNvbm5lY3RNb2R1bGUiLCJDcmVhdGVNb2R1bGUiLCJjb250ZXh0UGFkUHJvdmlkZXIiLCJOT1RfUkVHSVNURVJFRF9FUlJPUiIsIkVkaXRvckFjdGlvbnMiLCJfYWN0aW9ucyIsIl9yZWdpc3RlckRlZmF1bHRBY3Rpb25zIiwia2V5Ym9hcmRNb3ZlU2VsZWN0aW9uIiwidW5kbyIsInJlZG8iLCJyZW1vdmFibGVFbGVtZW50cyIsIm1vdmVTZWxlY3Rpb24iLCJhY2NlbGVyYXRlZCIsIl9yZWdpc3RlckFjdGlvbiIsInVucmVnaXN0ZXIiLCJnZXRBY3Rpb25zIiwiUG9zdGl0RWRpdG9yQWN0aW9ucyIsInNwYWNlVG9vbCIsImxhc3NvVG9vbCIsImhhbmRUb29sIiwiZGlzdHJpYnV0ZUVsZW1lbnRzIiwic2VhcmNoUGFkIiwiY3VycmVudFNlbGVjdGlvbiIsImJvdW5kaW5nQm94IiwibW92ZUVsZW1lbnRzIiwiRWRpdG9yQWN0aW9uc01vZHVsZSIsImZpbGVUb0RhdGFVUkwiLCJmaWxlIiwiRmlsZVJlYWRlciIsIm9ubG9hZGVuZCIsInJlYWRBc0RhdGFVUkwiLCJpbWFnZVByb2Nlc3NvciIsImV2IiwiYmFzZTY0ZmlsZSIsImZpbGVSZWFkZXIiLCJmaWxlcyIsInVwbG9hZFJlc3VsdCIsImZpbGVJdGVtcyIsImRhdGFUcmFuc2ZlciIsIml0ZW1zIiwia2luZCIsImdldEFzRmlsZSIsImVycm9ycyIsImdldE1vdXNlUG9zaXRpb24iLCJwYWdlWCIsInBhZ2VZIiwic2Nyb2xsTGVmdCIsInNjcm9sbFRvcCIsIkltYWdlU2VsZWN0aW9uIiwic2VsZWN0SW1hZ2UiLCJJTUFHRV9TRUxFQ1RJT05fTUFSS1VQIiwiX2dldFBhcmVudENvbnRhaW5lciIsIm1vdXNlUG9zaXRpb24iLCJnZXRPZmZzZXRMZWZ0IiwiZ2V0T2Zmc2V0VG9wIiwiZmlsZXNUb1VwbG9hZCIsImlucHV0RmllbGQiLCJzdWJtaXRCdXR0b24iLCJpbWFnZVVwbG9hZFRleHRFcnJvciIsImltYWdlVXBsb2FkVGV4dFVwbG9hZCIsImltYWdlVXBsb2FkVGV4dExpc3QiLCJpbWFnZVVwbG9hZFJlYWRlciIsIm1vZGFsIiwidXBsb2FkVGV4dExpc3RIZWlnaHQiLCJmb2N1cyIsImNhbnZhc0RlZmF1bHRDbGljayIsImRvbUV2ZW50IiwiaXNCdG4iLCJidG4iLCJtb3VzZVBvcyIsImRlZmF1bHRWaWV3IiwiZ2V0Q29tcHV0ZWRTdHlsZSIsInJlbW92ZUltYWdlU2VsZWN0aW9uTW9kYWwiLCJkaXNwYXRjaEV2ZW50IiwiZWxlbSIsIm9mZnNldFBhcmVudCIsInVwbG9hZEltYWdlIiwidXJsUGFyYW1zIiwiZmV0Y2giLCJibG9iIiwiQWN0aXZlU3RvcmFnZSIsIkRpcmVjdFVwbG9hZCIsImRpcmVjdF91cGxvYWRfdXJsIiwiQnVnc25hZyIsIm5vdGlmeSIsInN1Y2Nlc3MiLCJ1cGRhdGVQcm9wZXJ0aWVzIiwidXBsb2FkUmVzdWx0T2JqIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsInVwbG9hZGVkRmlsZXNDb3VudCIsInVwbG9hZERpc3BsYXlUZXh0IiwiZmlsZVBsdXJhbFRleHQiLCJlc3ZlbnQiLCJQb3N0aXRLZXlib2FyZEJpbmRpbmdzIiwiS2V5Ym9hcmRNb2R1bGUiLCJMRUZUIiwiUklHSFQiLCJET1dOIiwiS0VZX1RPX0RJUkVDVElPTiIsIkFycm93TGVmdCIsIkxlZnQiLCJBcnJvd1VwIiwiVXAiLCJBcnJvd1JpZ2h0IiwiUmlnaHQiLCJBcnJvd0Rvd24iLCJEb3duIiwiRElSRUNUSU9OU19ERUxUQSIsInVwIiwiZG93biIsIktleWJvYXJkTW92ZVNlbGVjdGlvbiIsInNoYXBlcyIsIkNoYW5nZVN1cHBvcnQiLCJjaGFuZ2VTdXBwb3J0IiwiYXBwbHlDb25zdHJhaW50cyIsInJlc2l6ZUNvbnN0cmFpbnRzIiwiYXNQYWRkaW5nIiwibWF5QmVQYWRkaW5nIiwiaXNCQm94Q2hpbGQiLCJSZXNpemUiLCJfZHJhZ2dpbmciLCJtaW5Cb3VuZHMiLCJjb21wdXRlTWluUmVzaXplQm94IiwicmVzaXplQm91bmRzIiwiY3VycmVudEJvdW5kcyIsImN1cnJlbnRUcmJsIiwiY2FuUmVzaXplIiwiYm91bmRzQ2hhbmdlZCIsInJlc2l6ZVNoYXBlIiwiZ2V0UmVmZXJlbmNlUG9pbnQiLCJyZWZlcmVuY2VQb2ludCIsImdldEN1cnNvciIsImNvbnRleHRPckRpcmVjdGlvbiIsIm1pbkRpbWVuc2lvbnMiLCJjaGlsZHJlbkJvdW5kcyIsImN1cnJlbnRCb3giLCJtaW5Cb3giLCJjaGlsZHJlbkJveCIsInNoYXBlT3JDaGlsZHJlbiIsImFkZFBhZGRpbmciLCJjb21wdXRlQ2hpbGRyZW5CQm94IiwiY2hpbGRyZW5Cb3hQYWRkaW5nIiwiTUFSS0VSX1JFU0laSU5HIiwiTUFSS0VSX1JFU0laRV9OT1RfT0siLCJSZXNpemVQcmV2aWV3IiwiZGlyZWN0aW9ucyIsIlJlc2l6ZUhhbmRsZXMiLCJyZXNpemUiLCJfcmVzaXplIiwicmVtb3ZlUmVzaXplcnMiLCJhZGRSZXNpemVyIiwibWFrZURyYWdnYWJsZSIsInN0YXJ0UmVzaXplIiwiX2NyZWF0ZVJlc2l6ZXIiLCJyZXNpemVyc1BhcmVudCIsIl9nZXRSZXNpemVyc1BhcmVudCIsImdldEhhbmRsZU9mZnNldCIsIkNMU19SRVNJWkVSIiwiYW1vdW50Iiwic2V0U2NhbGUiLCJjcmVhdGVSZXNpemVyIiwicmVzaXplciIsInJlc2l6ZVByZXZpZXciLCJyZXNpemVIYW5kbGVzIiwiTGFiZWxFZGl0aW5nUHJvdmlkZXIiLCJhY3RpdmF0ZURpcmVjdEVkaXQiLCJnZXRFZGl0aW5nQkJveCIsImV4dGVybmFsRm9udFNpemUiLCJleHRlcm5hbExpbmVIZWlnaHQiLCJkZWZhdWx0Rm9udFNpemUiLCJkZWZhdWx0TGluZUhlaWdodCIsInBhZGRpbmdUb3AiLCJwYWRkaW5nQm90dG9tIiwicGFkZGluZ0xlZnQiLCJwYWRkaW5nUmlnaHQiLCJleHRlcm5hbExhYmVsTWlkIiwiYWJzb2x1dGVCQm94IiwidXBkYXRlTGFiZWwiLCJNQVJLRVJfSElEREVOIiwiTUFSS0VSX0xBQkVMX0hJRERFTiIsIkxhYmVsRWRpdGluZ1ByZXZpZXciLCJhY3RpdmVQcm92aWRlciIsInN2Z1JlbW92ZSIsIkNoYW5nZVN1cHBvcnRNb2R1bGUiLCJSZXNpemVNb2R1bGUiLCJsYWJlbEVkaXRpbmdQcm92aWRlciIsImxhYmVsRWRpdGluZ1ByZXZpZXciLCJDb21tYW5kSW50ZXJjZXB0b3IiLCJob29rIiwiaGFuZGxlckZuIiwiZnVsbEV2ZW50IiwidW53cmFwRXZlbnQiLCJBTElHTk1FTlRTIiwiQWRhcHRpdmVMYWJlbFBvc2l0aW9uaW5nQmVoYXZpb3IiLCJjaGVja0xhYmVsQWRqdXN0bWVudCIsIm9wdGltYWxQb3NpdGlvbiIsImxhYmVsTWlkIiwibGFiZWxPcmllbnRhdGlvbiIsImdldEFwcHJveGltYXRlT3JpZW50YXRpb24iLCJ0YWtlbkFsaWdubWVudHMiLCJlbGVtZW50TWlkIiwiZ2V0VGFrZW5Db25uZWN0aW9uQWxpZ25tZW50cyIsInRha2VuSG9zdEFsaWdubWVudHMiLCJmcmVlQWxpZ25tZW50cyIsImhvc3RFbGVtZW50IiwiaG9zdE9yaWVudGF0aW9uIiwiZ2V0VGFrZW5Ib3N0QWxpZ25tZW50cyIsImdldE9wdGltYWxQb3NpdGlvbiIsIm5ld0xhYmVsTWlkIiwiZWxlbWVudFRyYmwiLCJzdWJzdHJhY3QiLCJtb3ZlU2hhcGUiLCJhZGp1c3RMYWJlbFBvc2l0aW9uIiwicG9zdEV4ZWN1dGVkIiwiQXBwZW5kQmVoYXZpb3IiLCJwcmVFeGVjdXRlIiwiRml4SG92ZXJCZWhhdmlvciIsImxpbmVJbnRlcnNlY3QiLCJsMXMiLCJsMWUiLCJsMnMiLCJsMmUiLCJkZW5vbWluYXRvciIsIkltcG9ydERvY2tpbmdGaXgiLCJhZGp1c3REb2NraW5nIiwic3RhcnRQb2ludCIsImNlbnRlckludGVyc2VjdCIsImVsZW1lbnRUb3AiLCJlbGVtZW50TGVmdCIsInZlcnRpY2FsSW50ZXJzZWN0IiwiaG9yaXpvbnRhbEludGVyc2VjdCIsImdldERpc3RhbmNlIiwicDIiLCJ2ZWN0b3JMZW5ndGgiLCJnZXRBbmdsZSIsImF0YW4iLCJwZXJwZW5kaWN1bGFyRm9vdCIsImJkIiwic3lzdGVtIiwibGFtYmRhIiwic29sdmVMYW1iYVN5c3RlbSIsImdldERpc3RhbmNlUG9pbnRMaW5lIiwicGZQb2ludCIsImdldERpc3RhbmNlUG9pbnRQb2ludCIsInBvaW50MSIsInBvaW50MiIsInNxIiwiZ2V0Q2lyY2xlU2VnbWVudEludGVyc2VjdGlvbnMiLCJzMSIsInMyIiwiY2MiLCJjciIsImJhWCIsImJhWSIsImNhWCIsImNhWSIsInBCeTIiLCJ0bXBTcXJ0IiwiYWJTY2FsaW5nRmFjdG9yMSIsImFiU2NhbGluZ0ZhY3RvcjIiLCJpMSIsImZlbmNlZCIsImlzUG9pbnRJblNlZ21lbnQiLCJyYW5nZVN0YXJ0IiwicmFuZ2VFbmQiLCJFUVVBTF9USFJFU0hPTEQiLCJwb2ludHNFcXVhbCIsInJlbGF0aXZlUG9zaXRpb25NaWRXYXlwb2ludCIsImRpc3RhbmNlU2VnbWVudDEiLCJnZXRMaW5lIiwiZ2V0TmV3QXR0YWNoUG9pbnQiLCJvbGRCb3VuZHMiLCJvbGRDZW50ZXIiLCJuZXdDZW50ZXIiLCJvbGREZWx0YSIsIm5ld0RlbHRhIiwiZ2V0TmV3QXR0YWNoU2hhcGVEZWx0YSIsInNoYXBlQ2VudGVyIiwic2hhcGVEZWx0YSIsIm9sZENlbnRlckRlbHRhIiwic3RpY2t5UG9zaXRpb25EZWx0YSIsIm9sZFNoYXBlQ2VudGVyIiwib2xkVFJCTCIsIm5ld1RSQkwiLCJpc0hvcml6b250YWxseU1vdmVkIiwiaXNWZXJ0aWNhbGx5TW92ZWQiLCJpc01vdmVkIiwib2xkT3JpZW50YXRpb24iLCJnZXRTdGlja3lQb3NpdGlvbkRlbHRhIiwibmV3Q2VudGVyRGVsdGEiLCJuZXdTaGFwZUNlbnRlciIsIkRFRkFVTFRfTEFCRUxfRElNRU5TSU9OUyIsIkxhYmVsQmVoYXZpb3IiLCJwb3N0RXhlY3V0ZSIsImxhYmVsQ2VudGVyIiwibGFiZWxEaW1lbnNpb25zIiwidW5zZXRMYWJlbCIsImxhYmVsQmVoYXZpb3IiLCJsYWJlbEFkanVzdG1lbnQiLCJzdGFydENoYW5nZWQiLCJlbmRDaGFuZ2VkIiwibGFiZWxQb3NpdGlvbiIsImdldExhYmVsTWlkIiwiYXR0YWNobWVudCIsInNlZ21lbnRTdGFydERpc3RhbmNlIiwic2VnbWVudEVuZERpc3RhbmNlIiwiYXR0YWNobWVudFBvc2l0aW9uIiwiYXR0YWNobWVudERpc3RhbmNlIiwiY2xvc2VzdEF0dGFjaG1lbnREaXN0YW5jZSIsImNsb3Nlc3RBdHRhY2htZW50Iiwic2VnbWVudEluZGV4IiwicmVsYXRpdmVMb2NhdGlvbiIsImdldEF0dGFjaG1lbnQiLCJvbGRMYWJlbExpbmVJbmRleCIsIm5ld0xhYmVsTGluZUluZGV4Iiwib2xkU2VnbWVudFN0YXJ0SW5kZXgiLCJuZXdJbmRleCIsImZpbmROZXdMYWJlbExpbmVTdGFydEluZGV4IiwibDIiLCJhMSIsImZvb3QiLCJsZW5ndGhUb0Zvb3QiLCJvbGRMYWJlbExpbmUiLCJuZXdMYWJlbExpbmUiLCJvbGRGb290IiwicmVsYXRpdmVGb290UG9zaXRpb24iLCJhbmdsZURlbHRhIiwib2xkQmVuZHBvaW50SW5kZXgiLCJvbGRCZW5kcG9pbnQiLCJuZXdCZW5kcG9pbnQiLCJ2ZWN0b3IiLCJuZXdGb290IiwibmV3TGFiZWxWZWN0b3IiLCJjb3MiLCJzaW4iLCJnZXRMYWJlbEFkanVzdG1lbnQiLCJnZXRWaXNpYmxlTGFiZWxBZGp1c3RtZW50Iiwib2xkU2hhcGUiLCJnZXRSZWZlcmVuY2VQb2ludERlbHRhIiwibmVhcmVzdExpbmUiLCJnZXROZWFyZXN0TGluZSIsIlJlcGxhY2VFbGVtZW50QmVoYXZpb3VyIiwicG9zdGl0UnVsZXMiLCJfc2VsZWN0aW9uIiwibmV3UGFyZW50IiwibmV3SG9zdCIsImNsb3N1cmUiLCJ0b3BMZXZlbCIsInRvcExldmVsRWxlbWVudHMiLCJjYW5SZXBsYWNlIiwicmVwbGFjZUVsZW1lbnRzIiwidW5jbGFpbUlkIiwiVW5jbGFpbUlkQmVoYXZpb3IiLCJzaGFwZUJvIiwicm9vdEVsZW1lbnRCbyIsIkNyZWF0ZUJvYXJkRWxlbWVudEJlaGF2aW9yIiwiZXhlY3V0ZSIsIkVtcHR5VGV4dEJveEJlaGF2aW9yIiwibmV3RWxlbWVudHMiLCJyZXBsYWNlbWVudCIsIm5ld0VsZW1lbnRUeXBlIiwib2xkRWxlbWVudElkIiwiYWRhcHRpdmVMYWJlbFBvc2l0aW9uaW5nQmVoYXZpb3IiLCJhcHBlbmRCZWhhdmlvciIsImZpeEhvdmVyQmVoYXZpb3IiLCJpbXBvcnREb2NraW5nRml4IiwicmVwbGFjZUVsZW1lbnRCZWhhdmlvdXIiLCJ1bmNsYWltSWRCZWhhdmlvciIsImNyZWF0ZUJvYXJkRWxlbWVudEJlaGF2aW9yIiwiZW1wdHlUZXh0Qm94QmVoYXZpb3IiLCJSdWxlUHJvdmlkZXIiLCJQb3N0aXRSdWxlcyIsImlzR3JvdXAiLCJjYW5Ecm9wIiwiY2FuQXR0YWNoIiwiY2FuTW92ZSIsImV2ZXJ5IiwicG9zc2libGVQYXJlbnQiLCJhZGRSdWxlIiwiUnVsZXNNb2R1bGUiLCJQb3N0aXREaU9yZGVyaW5nIiwiZGlFbGVtZW50cyIsInJvb3REaSIsInBvc3RpdERpT3JkZXJpbmciLCJPcmRlcmluZ1Byb3ZpZGVyIiwib3JkZXJpbmciLCJnZXRPcmRlcmluZyIsIm5ld1BhcmVudEluZGV4IiwiUG9zdGl0T3JkZXJpbmdQcm92aWRlciIsIm9yZGVycyIsIm9yZGVyIiwibGV2ZWwiLCJnZXRPcmRlciIsImNvbXB1dGVPcmRlciIsImVsZW1lbnRPcmRlciIsImNvbnRhaW5lcnMiLCJhY3R1YWxQYXJlbnQiLCJmaW5kQWN0dWFsUGFyZW50IiwiY3VycmVudEluZGV4IiwiaW5zZXJ0SW5kZXgiLCJmaW5kSW5kZXgiLCJwb3N0aXRPcmRlcmluZ1Byb3ZpZGVyIiwiQ29tbWFuZFN0YWNrIiwiX2hhbmRsZXJNYXAiLCJfc3RhY2siLCJfc3RhY2tJZHgiLCJfY3VycmVudEV4ZWN1dGlvbiIsImRpcnR5IiwiX3B1c2hBY3Rpb24iLCJfaW50ZXJuYWxFeGVjdXRlIiwiX3BvcEFjdGlvbiIsIl9nZXRIYW5kbGVyIiwiX2dldFVuZG9BY3Rpb24iLCJfaW50ZXJuYWxVbmRvIiwiX2dldFJlZG9BY3Rpb24iLCJfc2V0SGFuZGxlciIsInJlZ2lzdGVySGFuZGxlciIsImhhbmRsZXJDbHMiLCJjYW5VbmRvIiwiY2FuUmVkbyIsIl9hdG9taWNEbyIsInJldmVydCIsIl9tYXJrRGlydHkiLCJfcmV2ZXJ0ZWRBY3Rpb24iLCJxdWFsaWZpZXIiLCJfY3JlYXRlSWQiLCJleGVjdXRpb24iLCJhdG9taWMiLCJfZXhlY3V0ZWRBY3Rpb24iLCJiYXNlQWN0aW9uIiwic3RhY2tJZHgiLCJ0b29sdGlwU2VsZWN0b3IiLCJUb29sdGlwcyIsIl90b29sdGlwRGVmYXVsdHMiLCJfdG9vbHRpcHMiLCJfdG9vbHRpcFJvb3QiLCJ0b29sdGlwIiwiX2FkZFRvb2x0aXAiLCJyZW1vdmVUaW1lciIsInRvb2x0aXBSb290IiwiX3VwZGF0ZVRvb2x0aXAiLCJfdXBkYXRlVG9vbHRpcFZpc2liaWx0eSIsInRvb2x0aXBzIiwic2F2ZUNsZWFyIiwicmVtb3ZlRm4iLCJMYWJlbFN1cHBvcnQiLCJtb3ZlUHJldmlldyIsInZhbGlkYXRlZFNoYXBlcyIsInJlbW92ZUxhYmVscyIsInByZUV4ZWN1dGVkIiwiZW5jbG9zZWRFbGVtZW50cyIsImVuY2xvc2VkTGFiZWxzIiwiYWRkQWxsIiwibmVzdGVkIiwibGFiZWxUYXJnZXRJbmRleCIsImxhYmVsU3VwcG9ydCIsIkF0dGFjaFN1cHBvcnQiLCJnZXRBdHRhY2hlcnMiLCJyZW1vdmVBdHRhY2hlZCIsImF0dGFjaGVyIiwidXBkYXRlQXR0YWNobWVudCIsImF0dGFjaFN1cHBvcnQiLCJUb29sTWFuYWdlciIsIl90b29scyIsInJlZ2lzdGVyVG9vbCIsInRvb2xzIiwiYmluZEV2ZW50cyIsInRvb2wiLCJzZXRBY3RpdmUiLCJldmVudHNUb1JlZ2lzdGVyIiwicmVhY3RpdmF0ZSIsImlzUGFsZXR0ZUNsaWNrIiwidG9vbE1hbmFnZXIiLCJBWElTX1RPX0RJTUVOU0lPTiIsIkNVUlNPUl9DUk9TU0hBSVIiLCJESVJFQ1RJT05fVE9fVFJCTCIsIkRJUkVDVElPTl9UT19PUFBPU0lURSIsIlNwYWNlVG9vbCIsIl90b29sTWFuYWdlciIsImFjdGl2YXRlTWFrZVNwYWNlIiwiaW5pdGlhbGl6ZWQiLCJtb3ZpbmdTaGFwZXMiLCJyZXNpemluZ1NoYXBlcyIsIm1ha2VTcGFjZSIsImFjdGl2YXRlU2VsZWN0aW9uIiwic3BhY2VUb29sQ29uc3RyYWludHMiLCJjcmVhdGVTcGFjZSIsImdldERpcmVjdGlvbiIsImNhbGN1bGF0ZUFkanVzdG1lbnRzIiwicmVzaXppbmdTaGFwZSIsIm1pbk9yTWF4Iiwibm9uTW92aW5nUmVzaXppbmdDaGlsZHJlbkJCb3giLCJtb3ZpbmdDaGlsZHJlbkJCb3giLCJyZXNpemluZ1NoYXBlQkJveCIsIm5vbk1vdmluZ1Jlc2l6aW5nQ2hpbGRyZW4iLCJtb3ZpbmdDaGlsZHJlbiIsInJlc2l6aW5nU2hhcGVNaW5EaW1lbnNpb25zIiwiZ2V0U3BhY2VUb29sQ29uc3RyYWludHMiLCJzaGFwZVN0YXJ0Iiwic2hhcGVFbmQiLCJtb3VzZUV2ZW50IiwiTUFSS0VSX0RSQUdHSU5HIiwiU3BhY2VUb29sUHJldmlldyIsImFkZFByZXZpZXdHZngiLCJzcGFjZSIsImNyb3NzaGFpckdyb3VwIiwicGF0aFgiLCJwYXRoWSIsInNwYWNlTGF5ZXIiLCJtb3ZpbmdDb25uZWN0aW9ucyIsInNvdXJjZUlzTW92aW5nIiwidGFyZ2V0SXNNb3ZpbmciLCJzb3VyY2VJc1Jlc2l6aW5nIiwidGFyZ2V0SXNSZXNpemluZyIsImZyYW1lR3JvdXAiLCJmcmFtZXMiLCJpbml0aWFsQm91bmRzIiwic3BhY2VUb29sUHJldmlldyIsIlBvc2l0RmFjdG9yeSIsIl9tb2RlbCIsIlBvc3RpdFVwZGF0ZXIiLCJ1cGRhdGVSb290Iiwib2xkUm9vdCIsInVwZGF0ZVBhcmVudCIsInVwZGF0ZUJvdW5kcyIsImV4ZWN1dGVkIiwiaWZQb3N0aXQiLCJvbGRQYXJlbnQiLCJyZXZlcnRlZCIsIkJhc2VFbGVtZW50RmFjdG9yeSIsIkFwcGVuZFNoYXBlSGFuZGxlciIsIkNyZWF0ZUNvbm5lY3Rpb25IYW5kbGVyIiwibGF5b3V0ZXIiLCJfbmVlZHNJZCIsIl9lbnN1cmVJZCIsImNyZWF0ZURpTGFiZWwiLCJjcmVhdGVEaUJvdW5kcyIsImNyZWF0ZURpU2hhcGUiLCJjcmVhdGVEaVBsYW5lIiwicGFyZW50QnVzaW5lc3NPYmplY3QiLCJwYXJlbnREaSIsInVwZGF0ZVNlbWFudGljUGFyZW50IiwidXBkYXRlRGlQYXJlbnQiLCJfZ2V0TGFiZWwiLCJwbGFuZUVsZW1lbnRzIiwiY29sbGVjdGlvblJlbW92ZSIsInZpc3VhbFBhcmVudCIsImNvbnRhaW5tZW50IiwiZGlDaGlsZHJlbiIsImJhc2VDcmVhdGUiLCJhdHRyaWJ1dGVOYW1lcyIsImF0dHJpYnV0ZU5hbWUiLCJhcHBseUF0dHJpYnV0ZSIsImFwcGx5QXR0cmlidXRlcyIsIl9nZXREZWZhdWx0U2l6ZSIsIkNyZWF0ZUVsZW1lbnRzSGFuZGxlciIsImNyZWF0ZVNoYXBlSGludHMiLCJDcmVhdGVTaGFwZUhhbmRsZXIiLCJDcmVhdGVMYWJlbEhhbmRsZXIiLCJwb3NpdGlvbk9yQm91bmRzIiwib3JpZ2luYWxFeGVjdXRlIiwiZW5zdXJlVmFsaWREaW1lbnNpb25zIiwib3JpZ2luYWxSZXZlcnQiLCJEZWxldGVDb25uZWN0aW9uSGFuZGxlciIsIkRlbGV0ZUVsZW1lbnRzSGFuZGxlciIsIkRlbGV0ZVNoYXBlSGFuZGxlciIsIkRpc3RyaWJ1dGVFbGVtZW50cyIsIm9sZFBhcmVudEluZGV4IiwiT0ZGX0FYSVMiLCJMYXlvdXRDb25uZWN0aW9uSGFuZGxlciIsIk1vdmVDb25uZWN0aW9uSGFuZGxlciIsImdldFJlc2l6ZWRTb3VyY2VBbmNob3IiLCJzYWZlR2V0V2F5cG9pbnRzIiwid2F5cG9pbnRzSW5zaWRlTmV3Qm91bmRzIiwiZ2V0V2F5cG9pbnRzSW5zaWRlQm91bmRzIiwib2xkQW5jaG9yIiwiZ2V0UmVzaXplZFRhcmdldEFuY2hvciIsImdldE1vdmVkU291cmNlQW5jaG9yIiwibW92ZURlbHRhIiwic3VidHJhY3QiLCJnZXRNb3ZlZFRhcmdldEFuY2hvciIsImlzSW5zaWRlQm91bmRzIiwiTW92ZUNsb3N1cmUiLCJhbGxTaGFwZXMiLCJhbGxDb25uZWN0aW9ucyIsImVuY2xvc2VkQ29ubmVjdGlvbnMiLCJNb3ZlSGVscGVyIiwiTW92ZUVsZW1lbnRzSGFuZGxlciIsIl9oZWxwZXIiLCJNb3ZlU2hhcGVIYW5kbGVyIiwiUmVjb25uZWN0Q29ubmVjdGlvbkhhbmRsZXIiLCJSZXBsYWNlU2hhcGVIYW5kbGVyIiwiUmVzaXplU2hhcGVIYW5kbGVyIiwiU3BhY2VUb29sSGFuZGxlciIsImdldEF4aXNGcm9tRGlyZWN0aW9uIiwic2hvdWxkTW92ZVdheXBvaW50IiwicmVsZXZhbnRBeGlzIiwiVG9nZ2xlU2hhcGVDb2xsYXBzZUhhbmRsZXIiLCJnZXRFbGVtZW50c1Zpc2liaWxpdHlSZWN1cnNpdmUiLCJzZXRIaWRkZW5SZWN1cnNpdmUiLCJuZXdIaWRkZW4iLCJyZXN0b3JlVmlzaWJpbGl0eVJlY3Vyc2l2ZSIsImxhc3RTdGF0ZSIsIlVwZGF0ZUF0dGFjaG1lbnRIYW5kbGVyIiwicmVtb3ZlQXR0YWNoZXIiLCJhZGRBdHRhY2hlciIsIlVwZGF0ZVdheXBvaW50c0hhbmRsZXIiLCJNb2RlbGluZyIsInJlZ2lzdGVySGFuZGxlcnMiLCJncm91cHMiLCJ1cGRhdGVSYW5nZSIsImxhc3RJZHgiLCJyYW5nZURpZmYiLCJtYXJnaW4iLCJzcGFjZUluQmV0d2VlbiIsImZpcnN0R3JvdXAiLCJsYXN0R3JvdXBJZHgiLCJsYXN0R3JvdXAiLCJncm91cHNTaXplIiwicmVmRWxlbSIsInJlZkNlbnRlciIsImNlbnRlckVsZW1lbnQiLCJncm91cElkeCIsInByZXZHcm91cCIsImlzVG9wTGV2ZWwiLCJuZXdDbG9zdXJlIiwiaGFuZGxlQ29ubmVjdGlvbiIsImdldENsb3N1cmUiLCJtb3ZlUmVjdXJzaXZlIiwibW92ZUNsb3N1cmUiLCJwcmltYXJ5U2hhcGUiLCJrZWVwUGFyZW50IiwicmVjdXJzZSIsImxheW91dCIsInNvdXJjZU1vdmVkIiwidGFyZ2V0TW92ZWQiLCJtb3ZlQ29ubmVjdGlvbiIsIm1vdmVDaGlsZHJlbiIsImdldE5ld1BhcmVudCIsIm5ld1NvdXJjZSIsIm5ld1RhcmdldCIsImRvY2tpbmdPclBvaW50cyIsIm9sZFNvdXJjZSIsIm9sZFRhcmdldCIsImxheW91dENvbm5lY3Rpb25IaW50cyIsIm5ld0RhdGEiLCJjYW5SZWNvbm5lY3QiLCJyZWNvbm5lY3RFbmQiLCJyZWNvbm5lY3RTdGFydCIsImRvY2tpbmdQb2ludCIsIm1vdmVTaGFwZXMiLCJnZXRCb3VuZHMiLCJyZXNpemVTaGFwZXMiLCJ1cGRhdGVDb25uZWN0aW9uV2F5cG9pbnRzIiwid2F5cG9pbnRzVXBkYXRpbmdDb25uZWN0aW9ucyIsImdldFdheXBvaW50c1VwZGF0aW5nQ29ubmVjdGlvbnMiLCJjb25uZWN0aW9ucyIsImFmZmVjdGVkU2hhcGVzIiwibGF5b3V0SGludHMiLCJvbGRDaGlsZHJlblZpc2liaWxpdHkiLCJvbGRIb3N0IiwiYXR0YWNoZXJJZHgiLCJnZXRIYW5kbGVycyIsImNvbm5lY3Rpb25QYXJlbnQiLCJ0b2dnbGVDb2xsYXBzZSIsIk5VTExfRElNRU5TSU9OUyIsIlVwZGF0ZVByb3BlcnRpZXNIYW5kbGVyIiwiaXNJZENoYW5nZSIsInNldFByb3BlcnRpZXMiLCJzZXREaVByb3BlcnRpZXMiLCJjaGFuZ2VkIiwidW53cmFwcGVkUHJvcHMiLCJyZWZlcmVuY2VQcm9wZXJ0eU5hbWVzIiwidW53cmFwQnVzaW5lc3NPYmplY3RzIiwib2xkUHJvcGVydGllcyIsImdldFByb3BlcnRpZXMiLCJuZXdMYWJlbEJvdW5kcyIsIlVwZGF0ZUNhbnZhc1Jvb3RIYW5kbGVyIiwiSWRDbGFpbUhhbmRsZXIiLCJuZXdSb290IiwibmV3Um9vdEJ1c2luZXNzT2JqZWN0Iiwib2xkUm9vdEJ1c2luZXNzT2JqZWN0IiwicG9zdGl0RGVmaW5pdGlvbnMiLCJkaVBsYW5lIiwiY29sbGVjdGlvbkFkZCIsImNsYWltaW5nIiwiREVGQVVMVF9DT0xPUiIsIkNPTE9SIiwiU2V0Q29sb3JIYW5kbGVyIiwiVXBkYXRlTGFiZWxIYW5kbGVyIiwic2V0VGV4dCIsInNldExhYmVsIiwiaXNFbXB0eVRleHQiLCJvbGRMYWJlbCIsIkJhc2VNb2RlbGluZyIsIl9wb3N0aXRSdWxlcyIsIkJhc2VMYXlvdXRlciIsImRvY2tpbmdUb1BvaW50IiwiYWN0dWFsIiwiQ3JvcHBpbmdDb25uZWN0aW9uRG9ja2luZyIsImNsYWltSWQiLCJtb2RkbGVFbGVtZW50Iiwic291cmNlRG9ja2luZyIsImdldERvY2tpbmdQb2ludCIsInRhcmdldERvY2tpbmciLCJkb2NrU3RhcnQiLCJkb2NraW5nSWR4IiwiX2dldEludGVyc2VjdGlvbiIsInRha2VGaXJzdCIsIl9nZXRTaGFwZVBhdGgiLCJfZ2V0Q29ubmVjdGlvblBhdGgiLCJfZ2V0R2Z4IiwiQmVoYXZpb3JNb2R1bGUiLCJEaU9yZGVyaW5nTW9kdWxlIiwiT3JkZXJpbmdNb2R1bGUiLCJDb21tYW5kTW9kdWxlIiwiVG9vbHRpcHNNb2R1bGUiLCJMYWJlbFN1cHBvcnRNb2R1bGUiLCJBdHRhY2hTdXBwb3J0TW9kdWxlIiwiU3BhY2VUb29sTW9kdWxlIiwicG9zdGl0VXBkYXRlciIsIkxheW91dGVyIiwiTW92ZUV2ZW50cyIsInJlbW92ZU5lc3RlZCIsImlzQXR0YWNoIiwiTW92ZVByZXZpZXciLCJnZXRBbGxEcmFnZ2VkRWxlbWVudHMiLCJkcmFnU2hhcGVzIiwiYWxsRHJhZ2dlZEVsZW1lbnRzIiwidmlzdWFsbHlEcmFnZ2VkU2hhcGVzIiwiZGlmZmVyZW50UGFyZW50cyIsIlBBTEVUVEVfT1BFTl9DTFMiLCJQYWxldHRlIiwidXBkYXRlVG9vbEhpZ2hsaWdodCIsIl91cGRhdGUiLCJfZGlhZ3JhbUluaXRpYWxpemVkIiwiX3JlYnVpbGQiLCJhZGRQYWxldHRlRW50cmllcyIsImdldFBhbGV0dGVFbnRyaWVzIiwicGFyZW50Q29udGFpbmVyIiwiSFRNTF9NQVJLVVAiLCJUT0dHTEVfU0VMRUNUT1IiLCJfbGF5b3V0Q2hhbmdlZCIsIl90b2dnbGVTdGF0ZSIsInR3b0NvbHVtbiIsIl9uZWVkc0NvbGxhcHNlIiwiX2VudHJpZXMiLCJzZXBhcmF0b3IiLCJhdmFpbGFibGVIZWlnaHQiLCJpc0FjdGl2ZVRvb2wiLCJfYWN0aXZlVG9vbCIsIl90b29sc0NvbnRhaW5lciIsInRvb2xDbGFzc2VzIiwiTEFTU09fVE9PTF9DVVJTT1IiLCJMYXNzb1Rvb2wiLCJTVkdFbGVtZW50IiwiYWN0aXZhdGVMYXNzbyIsInRvQkJveCIsImdldEVuY2xvc2VkRWxlbWVudHMiLCJIQU5EX0NVUlNPUiIsIkhhbmRUb29sIiwiYWN0aXZhdGVNb3ZlIiwiaXNTcGFjZSIsImFjdGl2YXRlSGFuZCIsIlBhbGV0dGVQcm92aWRlciIsIl9wYWxldHRlIiwiX3NwYWNlVG9vbCIsIl9sYXNzb1Rvb2wiLCJfaGFuZFRvb2wiLCJjcmVhdGVBY3Rpb24iLCJjcmVhdGVMaXN0ZW5lciIsInNob3J0VHlwZSIsImRyYWdzdGFydCIsImNyZWF0ZUltYWdlIiwiUGFsZXR0ZU1vZHVsZSIsIkxhc3NvVG9vbE1vZHVsZSIsIkhhbmRUb29sTW9kdWxlIiwicGFsZXR0ZVByb3ZpZGVyIiwiUG9zdGl0UmVwbGFjZVByZXZpZXciLCJ2aXN1YWxSZXBsYWNlbWVudHMiLCJ0ZW1wU2hhcGUiLCJjc3NFc2NhcGUiLCJyZXBsYWNlVmlzdWFsIiwib3JpZ2luYWxHZngiLCJyZXN0b3JlVmlzdWFsIiwiUHJldmlld1N1cHBvcnRNb2R1bGUiLCJwb3N0aXRSZXBsYWNlUHJldmlldyIsIlNuYXBDb250ZXh0IiwiX3RhcmdldHMiLCJfc25hcE9yaWdpbnMiLCJfc25hcExvY2F0aW9ucyIsIl9kZWZhdWx0U25hcHMiLCJTbmFwUG9pbnRzIiwiZGVmYXVsdFNuYXBzIiwiX3NuYXBWYWx1ZXMiLCJDcmVhdGVNb3ZlU25hcHBpbmciLCJzbmFwcGluZyIsImluaXRTbmFwIiwic25hcENvbnRleHQiLCJwb2ludHNGb3JUYXJnZXQiLCJhZGRTbmFwVGFyZ2V0UG9pbnRzIiwic25hcCIsIlBvc3RpdENyZWF0ZU1vdmVTbmFwcGluZyIsIlJlc2l6ZVNuYXBwaW5nIiwiaXNIb3Jpem9udGFsIiwiaXNWZXJ0aWNhbCIsImdldFNuYXBPcmlnaW4iLCJzbmFwT3JpZ2luIiwiU25hcHBpbmciLCJfYXN5bmNIaWRlIiwic25hcExvY2F0aW9uIiwic2V0U25hcE9yaWdpbiIsImluaXRpYWxWYWx1ZSIsImFkZERlZmF1bHRTbmFwIiwic25hcFZhbHVlcyIsImdldFNuYXBMb2NhdGlvbnMiLCJzZXRTbmFwTG9jYXRpb25zIiwic25hcExvY2F0aW9ucyIsInRhcmdldElkIiwiaW5pdERlZmF1bHRzIiwidG9sZXJhbmNlIiwic25hcHBpbmdWYWx1ZXMiLCJzbmFwVmFsdWUiLCJzaGFwZU1pZCIsInNoYXBlVG9wTGVmdCIsInNoYXBlQm90dG9tUmlnaHQiLCJnZXRTbmFwVGFyZ2V0cyIsInNuYXBUYXJnZXQiLCJ0b3BMZWZ0Iiwic25hcEN1cnJlbnQiLCJsb2NhdGlvblNuYXBwaW5nIiwib3JpZ2luVmFsdWUiLCJzaG93U25hcExpbmUiLCJheGlzU25hcHBpbmciLCJfY3JlYXRlTGluZSIsIl9jcmVhdGVTbmFwTGluZXMiLCJfc25hcExpbmVzIiwiZ2V0U25hcExpbmUiLCJzbmFwTGluZSIsImNyZWF0ZU1vdmVTbmFwcGluZyIsInJlc2l6ZVNuYXBwaW5nIiwiZmlsZV9yZXN1bHRzIiwiaW1hZ2VfcmVzdWx0cyIsImZpbGVuYW1lIiwiZmlsZUltZyIsIlBPU1RJVF9JTUFHRSIsInJhbmRTdHIiLCJjaGFyYWN0ZXJzIiwiY2hhcmFjdGVyc0xlbmd0aCIsIkRyYWdEcm9wSW1hZ2VzIiwiY3JlYXRlSW1hZ2VFbGVtZW50IiwiX2NyZWF0ZUltYWdlRWxlbWVudCIsIkNTUyIsImNhbnZhc0RPTSIsInByZXZlbnREZWZhdWx0cyIsInVwbG9hZEZpbGVzIiwidXBsb2FkSW1hZ2VSZXN1bHQiLCJ1cGxvYWRGaWxlUmVzdWx0IiwiY29udmVydFRvRW50cnkiLCJmaWxlX3NvdXJjZSIsIm9iaklkIiwib2JqVHlwZSIsIm9ialRpdGxlIiwib2JqRGVzY3JpcHRpb24iLCJvYmpTdGFycmVkIiwib2JqSGlkZGVuIiwib2JqVW5rZXllZCIsIm9ialVua2V5ZWRPcmlnaW5hbCIsIm9ialNyY1Vua2V5ZWQiLCJvYmpDcmVhdGlvbkRhdGUiLCJvYmpQb3NpdGlvblgiLCJvYmpQb3NpdGlvblkiLCJ1cGxvYWQiLCJkcmFnRHJvcEltYWdlcyIsIk1vZGVsZXIiLCJjcmVhdGVEaWFncmFtIiwiX2ludGVyYWN0aW9uTW9kdWxlcyIsIlRvdWNoTW9kdWxlIiwiX21vZGVsaW5nTW9kdWxlcyIsIkFsaWduRWxlbWVudHNNb2R1bGUiLCJBdXRvU2Nyb2xsTW9kdWxlIiwiQmVuZHBvaW50c01vZHVsZSIsIkNvbm5lY3Rpb25QcmV2aWV3TW9kdWxlIiwiSW1hZ2VTZWxlY3Rpb25Nb2R1bGUiLCJLZXlib2FyZE1vdmVTZWxlY3Rpb25Nb2R1bGUiLCJMYWJlbEVkaXRpbmdNb2R1bGUiLCJNb2RlbGluZ01vZHVsZSIsIk1vdmVNb2R1bGUiLCJSZXBsYWNlUHJldmlld01vZHVsZSIsIlNuYXBwaW5nTW9kdWxlIiwiRHJhZ0Ryb3BJbWFnZXNNb2R1bGUiLCJyZXF1aXJlIiwiY29kZVVuaXQiLCJmaXJzdENvZGVVbml0IiwiZXhwb3J0TmFtZSIsIlZFTkRPUl9QUkVGSVhFUyIsIlRFU1RfRUxFTUVOVCIsInNldFRpbWVvdXRDb250ZXh0IiwiYmluZEZuIiwiaW52b2tlQXJyYXlBcmciLCJlYWNoIiwiZGVwcmVjYXRlIiwibWV0aG9kIiwiZGVwcmVjYXRpb25NZXNzYWdlIiwibmV4dEtleSIsImRlc3QiLCJzcmMiLCJtZXJnZSIsImluaGVyaXQiLCJjaGlsZFAiLCJiYXNlUCIsIl9zdXBlciIsImJvb2xPckZuIiwiaWZVbmRlZmluZWQiLCJ2YWwxIiwidmFsMiIsImFkZEV2ZW50TGlzdGVuZXJzIiwic3BsaXRTdHIiLCJyZW1vdmVFdmVudExpc3RlbmVycyIsImhhc1BhcmVudCIsImluU3RyIiwiaW5BcnJheSIsImZpbmRCeUtleSIsInRvQXJyYXkiLCJ1bmlxdWVBcnJheSIsInNvcnQiLCJyZXN1bHRzIiwicHJlZml4ZWQiLCJjYW1lbFByb3AiLCJfdW5pcXVlSWQiLCJnZXRXaW5kb3dGb3JFbGVtZW50IiwicGFyZW50V2luZG93IiwiU1VQUE9SVF9UT1VDSCIsIlNVUFBPUlRfUE9JTlRFUl9FVkVOVFMiLCJTVVBQT1JUX09OTFlfVE9VQ0giLCJ1c2VyQWdlbnQiLCJJTlBVVF9UWVBFX1RPVUNIIiwiSU5QVVRfVFlQRV9NT1VTRSIsIlBST1BTX1hZIiwiUFJPUFNfQ0xJRU5UX1hZIiwiSW5wdXQiLCJtYW5hZ2VyIiwiaW5wdXRUYXJnZXQiLCJkb21IYW5kbGVyIiwiZW5hYmxlIiwiaW5wdXRIYW5kbGVyIiwiZXZlbnRUeXBlIiwiaW5wdXQiLCJwb2ludGVyc0xlbiIsImNoYW5nZWRQb2ludGVyc0xlbiIsImNoYW5nZWRQb2ludGVycyIsImlzRmlyc3QiLCJpc0ZpbmFsIiwicG9pbnRlcnNMZW5ndGgiLCJmaXJzdElucHV0Iiwic2ltcGxlQ2xvbmVJbnB1dERhdGEiLCJmaXJzdE11bHRpcGxlIiwib2Zmc2V0Q2VudGVyIiwiZ2V0Q2VudGVyIiwidGltZVN0YW1wIiwiZGVsdGFUaW1lIiwib2Zmc2V0RGVsdGEiLCJwcmV2RGVsdGEiLCJwcmV2SW5wdXQiLCJjb21wdXRlRGVsdGFYWSIsIm9mZnNldERpcmVjdGlvbiIsIm92ZXJhbGxWZWxvY2l0eSIsImdldFZlbG9jaXR5Iiwib3ZlcmFsbFZlbG9jaXR5WCIsIm92ZXJhbGxWZWxvY2l0eVkiLCJyb3RhdGlvbiIsImdldFJvdGF0aW9uIiwibWF4UG9pbnRlcnMiLCJ2ZWxvY2l0eSIsInZlbG9jaXR5WCIsInZlbG9jaXR5WSIsImxhc3RJbnRlcnZhbCIsImNvbXB1dGVJbnRlcnZhbElucHV0RGF0YSIsImNvbXB1dGVJbnB1dERhdGEiLCJyZWNvZ25pemUiLCJhdGFuMiIsIlBJIiwiZXZFbCIsImV2VGFyZ2V0IiwiZXZXaW4iLCJNT1VTRV9JTlBVVF9NQVAiLCJNT1VTRV9FTEVNRU5UX0VWRU5UUyIsIk1PVVNFX1dJTkRPV19FVkVOVFMiLCJNb3VzZUlucHV0IiwicHJlc3NlZCIsInBvaW50ZXJUeXBlIiwiUE9JTlRFUl9JTlBVVF9NQVAiLCJwb2ludGVyZG93biIsInBvaW50ZXJtb3ZlIiwicG9pbnRlcnVwIiwicG9pbnRlcmNhbmNlbCIsInBvaW50ZXJvdXQiLCJJRTEwX1BPSU5URVJfVFlQRV9FTlVNIiwiUE9JTlRFUl9FTEVNRU5UX0VWRU5UUyIsIlBPSU5URVJfV0lORE9XX0VWRU5UUyIsIlBvaW50ZXJFdmVudElucHV0Iiwic3RvcmUiLCJNU1BvaW50ZXJFdmVudCIsIlBvaW50ZXJFdmVudCIsInJlbW92ZVBvaW50ZXIiLCJldmVudFR5cGVOb3JtYWxpemVkIiwic3RvcmVJbmRleCIsInBvaW50ZXJJZCIsIlNJTkdMRV9UT1VDSF9JTlBVVF9NQVAiLCJ0b3VjaHN0YXJ0IiwidG91Y2htb3ZlIiwidG91Y2hlbmQiLCJ0b3VjaGNhbmNlbCIsIlNJTkdMRV9UT1VDSF9UQVJHRVRfRVZFTlRTIiwiU0lOR0xFX1RPVUNIX1dJTkRPV19FVkVOVFMiLCJTaW5nbGVUb3VjaElucHV0Iiwic3RhcnRlZCIsIm5vcm1hbGl6ZVNpbmdsZVRvdWNoZXMiLCJjaGFuZ2VkVG91Y2hlcyIsIlRPVUNIX0lOUFVUX01BUCIsIlRPVUNIX1RBUkdFVF9FVkVOVFMiLCJUb3VjaElucHV0IiwidGFyZ2V0SWRzIiwiZ2V0VG91Y2hlcyIsImFsbFRvdWNoZXMiLCJpZGVudGlmaWVyIiwidGFyZ2V0VG91Y2hlcyIsImNoYW5nZWRUYXJnZXRUb3VjaGVzIiwidG91Y2giLCJUb3VjaE1vdXNlSW5wdXQiLCJwcmltYXJ5VG91Y2giLCJsYXN0VG91Y2hlcyIsInJlY29yZFRvdWNoZXMiLCJldmVudERhdGEiLCJzZXRMYXN0VG91Y2giLCJsYXN0VG91Y2giLCJsdHMiLCJpc1N5bnRoZXRpY0V2ZW50IiwiaW5wdXRFdmVudCIsImlucHV0RGF0YSIsImlzTW91c2UiLCJzb3VyY2VDYXBhYmlsaXRpZXMiLCJmaXJlc1RvdWNoRXZlbnRzIiwiUFJFRklYRURfVE9VQ0hfQUNUSU9OIiwiTkFUSVZFX1RPVUNIX0FDVElPTiIsIlRPVUNIX0FDVElPTl9DT01QVVRFIiwiVE9VQ0hfQUNUSU9OX0FVVE8iLCJUT1VDSF9BQ1RJT05fTUFOSVBVTEFUSU9OIiwiVE9VQ0hfQUNUSU9OX05PTkUiLCJUT1VDSF9BQ1RJT05fUEFOX1giLCJUT1VDSF9BQ1RJT05fUEFOX1kiLCJUT1VDSF9BQ1RJT05fTUFQIiwidG91Y2hNYXAiLCJjc3NTdXBwb3J0cyIsInN1cHBvcnRzIiwiZ2V0VG91Y2hBY3Rpb25Qcm9wcyIsIlRvdWNoQWN0aW9uIiwiY29tcHV0ZSIsInRvdWNoQWN0aW9uIiwiZ2V0VG91Y2hBY3Rpb24iLCJoYXNQYW5YIiwiaGFzUGFuWSIsImNsZWFuVG91Y2hBY3Rpb25zIiwicHJldmVudGVkIiwiaGFzTm9uZSIsImlzVGFwUG9pbnRlciIsImlzVGFwTW92ZW1lbnQiLCJpc1RhcFRvdWNoVGltZSIsIkRJUkVDVElPTl9MRUZUIiwiRElSRUNUSU9OX1VQIiwicHJldmVudFNyYyIsIlNUQVRFX0ZBSUxFRCIsIlJlY29nbml6ZXIiLCJzaW11bHRhbmVvdXMiLCJyZXF1aXJlRmFpbCIsInN0YXRlU3RyIiwiZGlyZWN0aW9uU3RyIiwiZ2V0UmVjb2duaXplckJ5TmFtZUlmTWFuYWdlciIsIm90aGVyUmVjb2duaXplciIsIkF0dHJSZWNvZ25pemVyIiwiUGFuUmVjb2duaXplciIsInBYIiwicFkiLCJQaW5jaFJlY29nbml6ZXIiLCJQcmVzc1JlY29nbml6ZXIiLCJfdGltZXIiLCJfaW5wdXQiLCJSb3RhdGVSZWNvZ25pemVyIiwiU3dpcGVSZWNvZ25pemVyIiwiVGFwUmVjb2duaXplciIsInBUaW1lIiwicENlbnRlciIsImNvdW50IiwiSGFtbWVyIiwicHJlc2V0IiwiTWFuYWdlciIsIm9sZENzc1Byb3BzIiwidG9nZ2xlQ3NzUHJvcHMiLCJyZWNvZ25pemVXaXRoIiwiY3NzUHJvcHMiLCJkcm9wUmVjb2duaXplV2l0aCIsImRyb3BSZXF1aXJlRmFpbHVyZSIsImhhc1JlcXVpcmVGYWlsdXJlcyIsImNhblJlY29nbml6ZVdpdGgiLCJhZGRpdGlvbmFsRXZlbnQiLCJ0cnlFbWl0IiwiY2FuRW1pdCIsImlucHV0RGF0YUNsb25lIiwicHJvY2VzcyIsImF0dHJUZXN0Iiwib3B0aW9uUG9pbnRlcnMiLCJpc1JlY29nbml6ZWQiLCJpc1ZhbGlkIiwiRElSRUNUSU9OX0hPUklaT05UQUwiLCJkaXJlY3Rpb25UZXN0IiwiaGFzTW92ZWQiLCJpbk91dCIsInRpbWUiLCJ2YWxpZFBvaW50ZXJzIiwidmFsaWRNb3ZlbWVudCIsInZhbGlkVGltZSIsImludGVydmFsIiwicG9zVGhyZXNob2xkIiwidmFsaWRUb3VjaFRpbWUiLCJmYWlsVGltZW91dCIsInZhbGlkSW50ZXJ2YWwiLCJ2YWxpZE11bHRpVGFwIiwidGFwQ291bnQiLCJWRVJTSU9OIiwidXNlclNlbGVjdCIsInRvdWNoU2VsZWN0IiwidG91Y2hDYWxsb3V0IiwiY29udGVudFpvb21pbmciLCJ1c2VyRHJhZyIsInRhcEhpZ2hsaWdodENvbG9yIiwiZ2VzdHVyZUV2ZW50IiwiaW5pdEV2ZW50IiwiZ2VzdHVyZSIsInRyaWdnZXJEb21FdmVudCIsIklOUFVUX1NUQVJUIiwiSU5QVVRfTU9WRSIsIklOUFVUX0VORCIsIklOUFVUX0NBTkNFTCIsIlNUQVRFX1BPU1NJQkxFIiwiU1RBVEVfQkVHQU4iLCJTVEFURV9DSEFOR0VEIiwiU1RBVEVfRU5ERUQiLCJTVEFURV9SRUNPR05JWkVEIiwiU1RBVEVfQ0FOQ0VMTEVEIiwiRElSRUNUSU9OX05PTkUiLCJESVJFQ1RJT05fUklHSFQiLCJESVJFQ1RJT05fRE9XTiIsIkRJUkVDVElPTl9WRVJUSUNBTCIsIkRJUkVDVElPTl9BTEwiLCJUYXAiLCJQYW4iLCJTd2lwZSIsIlBpbmNoIiwiUm90YXRlIiwiUHJlc3MiLCJUZW1wQ3RvciIsIkNvbGxlY3Rpb24iLCJyZWZzIiwiaW52ZXJzZVByb3BlcnR5IiwiaXNFeHRlbmRlZCIsIl9fcmVmc19jb2xsZWN0aW9uIiwiZGVmaW5lQ29sbGVjdGlvblByb3BlcnR5IiwicmVmIiwiX3ZhbHVlIiwib2xkIiwiZW5zdXJlUmVmc0NvbGxlY3Rpb24iLCJlbnN1cmVCb3VuZCIsInAycyIsInRvRmxvYXQiLCJtYXRoIiwibW1pbiIsIm1tYXgiLCJwYXRoQ29tbWFuZCIsInBhdGhWYWx1ZXMiLCJyZXB1c2giLCJpaSIsInBhdGhzIiwicHMiLCJzbGVlcCIsInJlY3RCQm94IiwieDIiLCJ5MiIsInBhdGhUb1N0cmluZyIsInBhdGhDbG9uZSIsInBhdGhBcnJheSIsImZpbmREb3RzQXRTZWdtZW50IiwicDF4IiwicDF5IiwiYzF4IiwiYzF5IiwiYzJ4IiwiYzJ5IiwicDJ4IiwicDJ5IiwidDEiLCJ0MTMiLCJ0MTIiLCJ0MyIsImZpeEVycm9yIiwiYmV6aWVyQkJveCIsImN1cnZlQkJveCIsIngwIiwieTAiLCJ4MSIsInkxIiwiaXNQb2ludEluc2lkZUJCb3giLCJiYXNlMyIsInAzIiwicDQiLCJiZXpsZW4iLCJ4MyIsInkzIiwieDQiLCJ5NCIsInoyIiwiVHZhbHVlcyIsIkN2YWx1ZXMiLCJjdCIsInhiYXNlIiwieWJhc2UiLCJjb21iIiwiaW50ZXJzZWN0TGluZXMiLCJueSIsInB4IiwicHkiLCJweDIiLCJ0b0ZpeGVkIiwicHkyIiwiZmluZEJlemllckludGVyc2VjdGlvbnMiLCJiZXoxIiwiYmV6MiIsImp1c3RDb3VudCIsImJib3gxIiwiYmJveDIiLCJsMSIsIm4xIiwiaXNMaW5lIiwibjIiLCJkb3RzMSIsImRvdHMyIiwieHkiLCJkaTEiLCJkaiIsImRqMSIsImNpIiwiY2oiLCJwYXRoVG9BYnNvbHV0ZSIsInB0aCIsInBhdGhTdHJpbmciLCJwYXJhbUNvdW50cyIsInBhcmFtcyIsInBhcnNlUGF0aFN0cmluZyIsInBhMCIsInBhIiwiamoiLCJrayIsImJleiIsImxpbmVUb0N1cnZlIiwicXViaWNUb0N1cnZlIiwiYXgiLCJheSIsIl8xMyIsIl8yMyIsImFyY1RvQ3VydmUiLCJsYXJnZV9hcmNfZmxhZyIsInN3ZWVwX2ZsYWciLCJyZWN1cnNpdmUiLCJfMTIwIiwicmFkIiwibmV3ZiIsImYxIiwiZjIiLCJyeDIiLCJyeTIiLCJhc2luIiwiZGYiLCJmMm9sZCIsIngyb2xkIiwieTJvbGQiLCJjMSIsImMyIiwidGFuIiwiaHgiLCJoeSIsIm0xIiwibTIiLCJtMyIsIm00IiwibmV3cmVzIiwiYjJhYyIsInNxcnRiMmFjIiwidHZhbHVlcyIsIm10IiwiamxlbiIsInBhdGhUb0N1cnZlIiwiY3VydmUiLCJjdXJ2ZWRQYXRoIiwiYngiLCJieSIsIlgiLCJZIiwicXgiLCJxeSIsInByb2Nlc3NQYXRoIiwibngiLCJUIiwiUSIsImZpeEFyYyIsInBwIiwicGkiLCJwYXRoQ29tbWFuZHMiLCJwZmlyc3QiLCJzZWciLCJzZWdsZW4iLCJwYXRoMSIsInBhdGgyIiwieDFtIiwieTFtIiwieDJtIiwieTJtIiwicGoiLCJpbnRyIiwic2VnbWVudDEiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiX19lc01vZHVsZSIsImdsb2JhbFRoaXMiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyJdLCJzb3VyY2VSb290IjoiIn0=
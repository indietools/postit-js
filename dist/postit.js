/*! For license information please see postit.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.PostItModeler=t():e.PostItModeler=t()}(self,(function(){return(()=>{var e={803:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>ph});var i=n(717),r=n.n(i),o=function(e,t){return function(e){var t=e.exports=function(e,n){if(n||(n=16),void 0===e&&(e=128),e<=0)return"0";for(var i=Math.log(Math.pow(2,e))/Math.log(n),r=2;i===1/0;r*=2)i=Math.log(Math.pow(2,e/r))/Math.log(n)*r;var o=i-Math.floor(i),a="";for(r=0;r<Math.floor(i);r++)a=Math.floor(Math.random()*n).toString(n)+a;if(o){var s=Math.pow(n,o);a=Math.floor(Math.random()*s).toString(n)+a}var c=parseInt(a,n);return c!==1/0&&c>=Math.pow(2,e)?t(e,n):a};t.rack=function(e,n,i){var r=function(r){var a=0;do{if(a++>10){if(!i)throw new Error("too many ID collisions, use more bits");e+=i}var s=t(e,n)}while(Object.hasOwnProperty.call(o,s));return o[s]=r,s},o=r.hats={};return r.get=function(e){return r.hats[e]},r.set=function(e,t){return r.hats[e]=t,r},r.bits=e||128,r.base=n||16,r}}(t={exports:{}}),t.exports}();function a(e){if(!(this instanceof a))return new a(e);e=e||[128,36,1],this._seed=e.length?o.rack(e[0],e[1],e[2]):e}a.prototype.next=function(e){return this._seed(e||!0)},a.prototype.nextPrefixed=function(e,t){var n;do{n=e+this.next(!0)}while(this.assigned(n));return this.claim(n,t),n},a.prototype.claim=function(e,t){this._seed.set(e,t||!0)},a.prototype.assigned=function(e){return this._seed.get(e)||!1},a.prototype.unclaim=function(e){delete this._seed.hats[e]},a.prototype.clear=function(){var e,t=this._seed.hats;for(e in t)this.unclaim(e)};const s=a;function c(e){return Array.prototype.concat.apply([],e)}var u=Object.prototype.toString,l=Object.prototype.hasOwnProperty;function p(e){return void 0===e}function h(e){return void 0!==e}function d(e){return null==e}function f(e){return"[object Array]"===u.call(e)}function y(e){return"[object Object]"===u.call(e)}function v(e){return"[object Number]"===u.call(e)}function g(e){var t=u.call(e);return"[object Function]"===t||"[object AsyncFunction]"===t||"[object GeneratorFunction]"===t||"[object AsyncGeneratorFunction]"===t||"[object Proxy]"===t}function m(e){return"[object String]"===u.call(e)}function x(e,t){return l.call(e,t)}function _(e,t){var n;return t=L(t),b(e,(function(e,i){if(t(e,i))return n=e,!1})),n}function w(e,t){var n=[];return b(e,(function(e,i){t(e,i)&&n.push(e)})),n}function b(e,t){var n;if(!p(e)){var i=f(e)?D:z;for(var r in e)if(x(e,r)&&!1===t(n=e[r],i(r)))return n}}function E(e,t,n){return b(e,(function(e,i){n=t(n,e,i)})),n}function S(e,t){return!!E(e,(function(e,n,i){return e&&t(n,i)}),!0)}function T(e,t){return!!_(e,t)}function k(e,t){var n=[];return b(e,(function(e,i){n.push(t(e,i))})),n}function C(e){return e&&Object.keys(e)||[]}function M(e){return C(e).length}function P(e){return k(e,(function(e){return e}))}function j(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t=N(t),b(e,(function(e){var i=t(e)||"_",r=n[i];r||(r=n[i]=[]),r.push(e)})),n}function B(e){e=N(e);for(var t={},n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];b(i,(function(n){return j(n,e,t)}));var o=k(t,(function(e,t){return e[0]}));return o}var A=B;function R(e,t){t=N(t);var n=[];return b(e,(function(e,i){for(var r=t(e,i),o={d:r,v:e},a=0;a<n.length;a++)if(r<n[a].d)return void n.splice(a,0,o);n.push(o)})),k(n,(function(e){return e.v}))}function O(e){return function(t){return S(e,(function(e,n){return t[n]===e}))}}function N(e){return g(e)?e:function(t){return t[e]}}function L(e){return g(e)?e:function(t){return t===e}}function z(e){return e}function D(e){return Number(e)}function I(e,t){var n,i,r,o;function a(){var a=Date.now(),c=o+t-a;if(c>0)return s(c);e.apply(r,i),n=o=i=r=void 0}function s(e){n=setTimeout(a,e)}return function(){o=Date.now();for(var e=arguments.length,a=new Array(e),c=0;c<e;c++)a[c]=arguments[c];i=a,r=this,n||s(t)}}function F(e,t){return e.bind(t)}function H(){return(H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function G(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return H.apply(void 0,[e].concat(n))}function U(e,t){var n={},i=Object(e);return b(t,(function(t){t in i&&(n[t]=e[t])})),n}function W(e,t){var n={};return b(Object(e),(function(e,i){-1===t.indexOf(i)&&(n[i]=e)})),n}function V(e,t,n){return 2==arguments.length?e.getAttribute(t):null===n?e.removeAttribute(t):(e.setAttribute(t,n),e)}var q=[].indexOf,Y=function(e,t){if(q)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1},X=/\s+/,K=Object.prototype.toString;function Z(e){return new J(e)}function J(e){if(!e||!e.nodeType)throw new Error("A DOM element reference is required");this.el=e,this.list=e.classList}function Q(e){for(var t;e.childNodes.length;)t=e.childNodes[0],e.removeChild(t);return e}J.prototype.add=function(e){if(this.list)return this.list.add(e),this;var t=this.array();return~Y(t,e)||t.push(e),this.el.className=t.join(" "),this},J.prototype.remove=function(e){if("[object RegExp]"==K.call(e))return this.removeMatching(e);if(this.list)return this.list.remove(e),this;var t=this.array(),n=Y(t,e);return~n&&t.splice(n,1),this.el.className=t.join(" "),this},J.prototype.removeMatching=function(e){for(var t=this.array(),n=0;n<t.length;n++)e.test(t[n])&&this.remove(t[n]);return this},J.prototype.toggle=function(e,t){return this.list?(void 0!==t?t!==this.list.toggle(e,t)&&this.list.toggle(e):this.list.toggle(e),this):(void 0!==t?t?this.add(e):this.remove(e):this.has(e)?this.remove(e):this.add(e),this)},J.prototype.array=function(){var e=(this.el.getAttribute("class")||"").replace(/^\s+|\s+$/g,"").split(X);return""===e[0]&&e.shift(),e},J.prototype.has=J.prototype.contains=function(e){return this.list?this.list.contains(e):!!~Y(this.array(),e)};var ee="undefined"!=typeof Element?Element.prototype:{},te=ee.matches||ee.matchesSelector||ee.webkitMatchesSelector||ee.mozMatchesSelector||ee.msMatchesSelector||ee.oMatchesSelector,ne=function(e,t){if(!e||1!==e.nodeType)return!1;if(te)return te.call(e,t);for(var n=e.parentNode.querySelectorAll(t),i=0;i<n.length;i++)if(n[i]==e)return!0;return!1};function ie(e,t,n){for(var i=n?e:e.parentNode;i&&i.nodeType!==document.DOCUMENT_NODE&&i.nodeType!==document.DOCUMENT_FRAGMENT_NODE;){if(ne(i,t))return i;i=i.parentNode}return ne(i,t)?i:null}var re,oe=window.addEventListener?"addEventListener":"attachEvent",ae=window.removeEventListener?"removeEventListener":"detachEvent",se="addEventListener"!==oe?"on":"",ce={bind:function(e,t,n,i){return e[oe](se+t,n,i||!1),n},unbind:function(e,t,n,i){return e[ae](se+t,n,i||!1),n}},ue=["focus","blur"],le=function(e,t,n,i,r){return-1!==ue.indexOf(n)&&(r=!0),ce.bind(e,n,(function(n){var r=n.target||n.srcElement;n.delegateTarget=ie(r,t,!0),n.delegateTarget&&i.call(e,n)}),r)},pe=function(e,t,n,i){return-1!==ue.indexOf(t)&&(i=!0),ce.unbind(e,t,n,i)},he=function(e,t){if("string"!=typeof e)throw new TypeError("String expected");t||(t=document);var n=/<([\w:]+)/.exec(e);if(!n)return t.createTextNode(e);e=e.replace(/^\s+|\s+$/g,"");var i=n[1];if("body"==i)return(r=t.createElement("html")).innerHTML=e,r.removeChild(r.lastChild);var r,o=fe[i]||fe._default,a=o[0],s=o[1],c=o[2];for((r=t.createElement("div")).innerHTML=s+e+c;a--;)r=r.lastChild;if(r.firstChild==r.lastChild)return r.removeChild(r.firstChild);for(var u=t.createDocumentFragment();r.firstChild;)u.appendChild(r.removeChild(r.firstChild));return u},de=!1;"undefined"!=typeof document&&((re=document.createElement("div")).innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',de=!re.getElementsByTagName("link").length,re=void 0);var fe={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:de?[1,"X<div>","</div>"]:[0,"",""]};function ye(e,t){return(t=t||document).querySelector(e)}function ve(e,t){return(t=t||document).querySelectorAll(e)}function ge(e){e.parentNode&&e.parentNode.removeChild(e)}function me(e,t){return t.appendChild(function(e,t){if(e.ownerDocument!==t.ownerDocument)try{return t.ownerDocument.importNode(e,!0)}catch(e){}return e}(e,t))}function xe(e,t){return me(t,e),e}fe.td=fe.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],fe.option=fe.optgroup=[1,'<select multiple="multiple">',"</select>"],fe.thead=fe.tbody=fe.colgroup=fe.caption=fe.tfoot=[1,"<table>","</table>"],fe.polyline=fe.ellipse=fe.polygon=fe.circle=fe.text=fe.line=fe.path=fe.rect=fe.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"];var _e={"alignment-baseline":1,"baseline-shift":1,clip:1,"clip-path":1,"clip-rule":1,color:1,"color-interpolation":1,"color-interpolation-filters":1,"color-profile":1,"color-rendering":1,cursor:1,direction:1,display:1,"dominant-baseline":1,"enable-background":1,fill:1,"fill-opacity":1,"fill-rule":1,filter:1,"flood-color":1,"flood-opacity":1,font:1,"font-family":1,"font-size":2,"font-size-adjust":1,"font-stretch":1,"font-style":1,"font-variant":1,"font-weight":1,"glyph-orientation-horizontal":1,"glyph-orientation-vertical":1,"image-rendering":1,kerning:1,"letter-spacing":1,"lighting-color":1,marker:1,"marker-end":1,"marker-mid":1,"marker-start":1,mask:1,opacity:1,overflow:1,"pointer-events":1,"shape-rendering":1,"stop-color":1,"stop-opacity":1,stroke:1,"stroke-dasharray":1,"stroke-dashoffset":1,"stroke-linecap":1,"stroke-linejoin":1,"stroke-miterlimit":1,"stroke-opacity":1,"stroke-width":2,"text-anchor":1,"text-decoration":1,"text-rendering":1,"unicode-bidi":1,visibility:1,"word-spacing":1,"writing-mode":1};function we(e,t,n){var i=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),r=_e[i];r?(2===r&&"number"==typeof n&&(n=String(n)+"px"),e.style[i]=n):e.setAttributeNS(null,t,n)}function be(e,t,n){if("string"==typeof t){if(void 0===n)return function(e,t){return _e[t]?e.style[t]:e.getAttributeNS(null,t)}(e,t);we(e,t,n)}else!function(e,t){var n,i,r=Object.keys(t);for(n=0;i=r[n];n++)we(e,i,t[i])}(e,t);return e}function Ee(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}var Se=/\s+/,Te=Object.prototype.toString;function ke(e){return void 0!==e}function Ce(e){return new Me(e)}function Me(e){if(!e||!e.nodeType)throw new Error("A DOM element reference is required");this.el=e,this.list=e.classList}function Pe(e){var t=e.parentNode;return t&&t.removeChild(e),e}function je(e){for(var t;t=e.firstChild;)Pe(t);return e}function Be(e){return e.cloneNode(!0)}Me.prototype.add=function(e){if(this.list)return this.list.add(e),this;var t=this.array();return~Ee(t,e)||t.push(e),ke(this.el.className.baseVal)?this.el.className.baseVal=t.join(" "):this.el.className=t.join(" "),this},Me.prototype.remove=function(e){if("[object RegExp]"===Te.call(e))return this.removeMatching(e);if(this.list)return this.list.remove(e),this;var t=this.array(),n=Ee(t,e);return~n&&t.splice(n,1),this.el.className.baseVal=t.join(" "),this},Me.prototype.removeMatching=function(e){for(var t=this.array(),n=0;n<t.length;n++)e.test(t[n])&&this.remove(t[n]);return this},Me.prototype.toggle=function(e,t){return this.list?(ke(t)?t!==this.list.toggle(e,t)&&this.list.toggle(e):this.list.toggle(e),this):(ke(t)?t?this.add(e):this.remove(e):this.has(e)?this.remove(e):this.add(e),this)},Me.prototype.array=function(){var e=(this.el.getAttribute("class")||"").replace(/^\s+|\s+$/g,"").split(Se);return""===e[0]&&e.shift(),e},Me.prototype.has=Me.prototype.contains=function(e){return this.list?this.list.contains(e):!!~Ee(this.array(),e)};var Ae="http://www.w3.org/2000/svg",Re='<svg xmlns="'+Ae+'"';function Oe(e){var t=!1;"<svg"===e.substring(0,4)?-1===e.indexOf(Ae)&&(e=Re+e.substring(4)):(e=Re+">"+e+"</svg>",t=!0);var n=function(e){var t;return(t=new DOMParser).async=!1,t.parseFromString(e,"text/xml")}(e);if(!t)return n;for(var i=document.createDocumentFragment(),r=n.firstChild;r.firstChild;)i.appendChild(r.firstChild);return i}function Ne(e,t){var n;return"<"===e.charAt(0)?(n=Oe(e).firstChild,n=document.importNode(n,!0)):n=document.createElementNS(Ae,e),t&&be(n,t),n}var Le=Ne("svg");function ze(e,t){var n,i,r=Object.keys(t);for(n=0;i=r[n];n++)e[i]=t[i];return e}function De(e){return e?Le.createSVGTransformFromMatrix(e):Le.createSVGTransform()}var Ie=/([&<>]{1})/g,$e=/([\n\r"]{1})/g,Fe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"'"};function He(e,t){return e.replace(t,(function(e,t){return Fe[t]||t}))}function Ge(e,t){var n,i,r,o,a;switch(e.nodeType){case 3:t.push(He(e.textContent,Ie));break;case 1:if(t.push("<",e.tagName),e.hasAttributes())for(n=0,i=(r=e.attributes).length;n<i;++n)o=r.item(n),t.push(" ",o.name,'="',He(o.value,$e),'"');if(e.hasChildNodes()){for(t.push(">"),n=0,i=(a=e.childNodes).length;n<i;++n)Ge(a.item(n),t);t.push("</",e.tagName,">")}else t.push("/>");break;case 8:t.push("\x3c!--",He(e.nodeValue,Ie),"--\x3e");break;case 4:t.push("<![CDATA[",e.nodeValue,"]]>");break;default:throw new Error("unable to handle node "+e.nodeType)}return t}function Ue(e,t){if(void 0!==t){try{!function(e,t){var n=Oe(t);if(je(e),t){(function(e){return"#document-fragment"===e.nodeName})(n)||(n=n.documentElement);for(var i,r=(i=n.childNodes,Array.prototype.slice.call(i)),o=0;o<r.length;o++)me(r[o],e)}}(e,t)}catch(e){throw new Error("error parsing SVG: "+e.message)}return e}return function(e){for(var t=e.firstChild,n=[];t;)Ge(t,n),t=t.nextSibling;return n.join("")}(e)}function We(e,t){return t instanceof SVGMatrix?e.createSVGTransformFromMatrix(t):t}function Ve(e,t){var n=e.transform.baseVal;return t&&(Array.isArray(t)||(t=[t]),function(e,t){var n,i;for(e.clear(),n=0;i=t[n];n++)e.appendItem(We(e,i))}(n,t)),n.consolidate()}var qe=/^class /;function Ye(e){return"[object Array]"===Object.prototype.toString.call(e)}function Xe(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ke(){var e=Array.prototype.slice.call(arguments);1===e.length&&Ye(e[0])&&(e=e[0]);var t=e.pop();return t.$inject=e,t}var Ze=/constructor\s*[^(]*\(\s*([^)]*)\)/m,Je=/^(?:async )?(?:function\s*)?[^(]*\(\s*([^)]*)\)/m,Qe=/\/\*([^*]*)\*\//m;function et(e){if("function"!=typeof e)throw new Error('Cannot annotate "'+e+'". Expected a function!');var t=e.toString().match(function(e){return qe.test(e.toString())}(e)?Ze:Je);return t&&t[1]&&t[1].split(",").map((function(e){return(t=e.match(Qe))?t[1].trim():e.trim()}))||[]}function tt(){var e=[];this.factory=function(t,n){return e.push([t,"factory",n]),this},this.value=function(t,n){return e.push([t,"value",n]),this},this.type=function(t,n){return e.push([t,"type",n]),this},this.forEach=function(t){e.forEach(t)}}function nt(e,t){t=t||{get:function(e,t){if(n.push(e),!1===t)return null;throw a('No provider for "'+e+'"!')}};var n=[],i=this._providers=Object.create(t._providers||null),r=this._instances=Object.create(null),o=r.injector=this,a=function(e){var t=n.join(" -> ");return n.length=0,new Error(t?e+" (Resolving: "+t+")":e)},s=function(e,o){if(!i[e]&&-1!==e.indexOf(".")){for(var c=e.split("."),u=s(c.shift());c.length;)u=u[c.shift()];return u}if(Xe(r,e))return r[e];if(Xe(i,e)){if(-1!==n.indexOf(e))throw n.push(e),a("Cannot resolve circular dependency!");return n.push(e),r[e]=i[e][0](i[e][1]),n.pop(),r[e]}return t.get(e,o)},c=function(e,t){if(void 0===t&&(t={}),"function"!=typeof e){if(!Ye(e))throw new Error('Cannot invoke "'+e+'". Expected a function!');e=Ke(e.slice())}return{fn:e,dependencies:(e.$inject||et(e)).map((function(e){return Xe(t,e)?t[e]:s(e)}))}},u=function(e){var t=c(e),n=t.fn,i=t.dependencies;return new(Function.prototype.bind.apply(n,[null].concat(i)))},l=function(e,t,n){var i=c(e,n),r=i.fn,o=i.dependencies;return r.apply(t,o)},p=function(e){return Ke((function(t){return e.get(t)}))},h={factory:l,type:u,value:function(e){return e}};e.forEach((function(e){function t(e,t){return"value"!==e&&Ye(t)&&(t=Ke(t.slice())),t}if(e instanceof tt)e.forEach((function(e){var n=e[0],r=e[1],o=e[2];i[n]=[h[r],t(r,o),r]}));else if("object"==typeof e)if(e.__exports__){var n=Object.keys(e).reduce((function(t,n){return"__"!==n.substring(0,2)&&(t[n]=e[n]),t}),Object.create(null)),r=new nt((e.__modules__||[]).concat([n]),o),a=Ke((function(e){return r.get(e)}));e.__exports__.forEach((function(e){i[e]=[a,e,"private",r]}))}else Object.keys(e).forEach((function(n){if("private"!==e[n][2]){var r=e[n][0],o=e[n][1];i[n]=[h[r],t(r,o),r]}else i[n]=e[n]}))})),this.get=s,this.invoke=l,this.instantiate=u,this.createChild=function(e,t){if(t&&t.length){var n,r,a,s,c=Object.create(null),u=Object.create(null),l=[],h=[],d=[];for(var f in i)n=i[f],-1!==t.indexOf(f)&&("private"===n[2]?-1===(r=l.indexOf(n[3]))?(a=n[3].createChild([],t),s=p(a),l.push(n[3]),h.push(a),d.push(s),c[f]=[s,f,"private",a]):c[f]=[d[r],f,"private",h[r]]:c[f]=[n[2],n[1]],u[f]=!0),"factory"!==n[2]&&"type"!==n[2]||!n[1].$scope||t.forEach((function(e){-1!==n[1].$scope.indexOf(e)&&(c[f]=[n[2],n[1]],u[e]=!0)}));t.forEach((function(e){if(!u[e])throw new Error('No provider for "'+e+'". Cannot use provider from the parent!')})),e.unshift(c)}return new nt(e,o)}}function it(e,t){var n=this;t=t||1e3,e.on(["render.shape","render.connection"],t,(function(e,t){var i=e.type,r=t.element,o=t.gfx;if(n.canRender(r))return"render.shape"===i?n.drawShape(o,r):n.drawConnection(o,r)})),e.on(["render.getShapePath","render.getConnectionPath"],t,(function(e,t){if(n.canRender(t))return"render.getShapePath"===e.type?n.getShapePath(t):n.getConnectionPath(t)}))}function rt(e){return e.join(",").replace(/,?([A-z]),?/g,"$1")}function ot(e){for(var t,n="",i=0;t=e[i];i++)n+=t.x+","+t.y+" ";return n}function at(e,t){var n=Ne("polyline");return be(n,{points:ot(e)}),t&&be(n,t),n}function st(e){return w(e,(function(t){return!_(e,(function(e){return e!==t&&ct(t,e)}))}))}function ct(e,t){if(t){if(e===t)return t;if(e.parent)return ct(e.parent,t)}}function ut(e,t,n){var i=!n||-1===e.indexOf(t);return i&&e.push(t),i}function lt(e,t,n){n=n||0,f(e)||(e=[e]),b(e,(function(e,i){var r=t(e,i,n);f(r)&&r.length&&lt(r,t,n+1)}))}function pt(e,t){return function(e,t,n){var i=[],r=[];return lt(e,(function(e,o,a){ut(i,e,t);var s=e.children;if((-1===n||a<n)&&s&&ut(r,s,t))return s})),i}(e,!t,-1)}function ht(e,t){var n,i,r,o;return t=!!t,f(e)||(e=[e]),b(e,(function(e){var a=e;e.waypoints&&!t&&(a=ht(e.waypoints,!0));var s=a.x,c=a.y,u=a.height||0,l=a.width||0;(s<n||void 0===n)&&(n=s),(c<i||void 0===i)&&(i=c),(s+l>r||void 0===r)&&(r=s+l),(c+u>o||void 0===o)&&(o=c+u)})),{x:n,y:i,height:o-i,width:r-n}}function dt(e){return"waypoints"in e?"connection":"x"in e?"shape":"root"}function ft(e){return!(!e||!e.isFrame)}function yt(e,t){return G({},e||{},t||{})}function vt(e,t){it.call(this,e,1),this.CONNECTION_STYLE=t.style(["no-fill"],{strokeWidth:5,stroke:"fuchsia"}),this.SHAPE_STYLE=t.style({fill:"white",stroke:"fuchsia",strokeWidth:2}),this.FRAME_STYLE=t.style(["no-fill"],{stroke:"fuchsia",strokeDasharray:4,strokeWidth:2})}it.prototype.canRender=function(){},it.prototype.drawShape=function(){},it.prototype.drawConnection=function(){},it.prototype.getShapePath=function(){},it.prototype.getConnectionPath=function(){},r()(vt,it),vt.prototype.canRender=function(){return!0},vt.prototype.drawShape=function(e,t){var n=Ne("rect");return be(n,{x:0,y:0,width:t.width||0,height:t.height||0}),ft(t)?be(n,this.FRAME_STYLE):be(n,this.SHAPE_STYLE),xe(e,n),n},vt.prototype.drawConnection=function(e,t){var n=at(t.waypoints,this.CONNECTION_STYLE);return xe(e,n),n},vt.prototype.getShapePath=function(e){var t=e.x,n=e.y,i=e.width;return rt([["M",t,n],["l",i,0],["l",0,e.height],["l",-i,0],["z"]])},vt.prototype.getConnectionPath=function(e){var t,n,i=e.waypoints,r=[];for(t=0;n=i[t];t++)n=n.original||n,r.push([0===t?"M":"L",n.x,n.y]);return rt(r)},vt.$inject=["eventBus","styles"];const gt={__init__:["defaultRenderer"],defaultRenderer:["type",vt],styles:["type",function(){var e={"no-fill":{fill:"none"},"no-border":{strokeOpacity:0},"no-events":{pointerEvents:"none"}},t=this;this.cls=function(e,t,n){return G(this.style(t,n),{class:e})},this.style=function(t,n){f(t)||n||(n=t,t=[]);var i=E(t,(function(t,n){return G(t,e[n]||{})}),{});return n?G(i,n):i},this.computeStyle=function(e,n,i){return f(n)||(i=n,n=[]),t.style(n||[],G({},i,e||{}))}}]};function mt(e,t){if(!e||!t)return-1;var n=e.indexOf(t);return-1!==n&&e.splice(n,1),n}function xt(e,t,n){if(e&&t){"number"!=typeof n&&(n=-1);var i=e.indexOf(t);if(-1!==i){if(i===n)return;if(-1===n)return;e.splice(i,1)}-1!==n?e.splice(n,0,t):e.push(t)}}function _t(e,t){return e&&t?e.indexOf(t):-1}function wt(e,t){return Math.round(e*t)/t}function bt(e){return v(e)?e+"px":e}function Et(e,t,n){var i=Ne("g");Ce(i).add(t);var r=void 0!==n?n:e.childNodes.length-1;return e.insertBefore(i,e.childNodes[r]||null),i}var St={shape:["x","y","width","height"],connection:["waypoints"]};function Tt(e,t,n,i){this._eventBus=t,this._elementRegistry=i,this._graphicsFactory=n,this._init(e||{})}function kt(e,t){var n="matrix("+t.a+","+t.b+","+t.c+","+t.d+","+t.e+","+t.f+")";e.setAttribute("transform",n)}Tt.$inject=["config.canvas","eventBus","graphicsFactory","elementRegistry"],Tt.prototype._init=function(e){var t=this._eventBus,n=this._container=function(e){var t=(e=G({},{width:"100%",height:"100%"},e)).container||document.body,n=document.createElement("div");return n.setAttribute("class","djs-container"),G(n.style,{position:"relative",overflow:"hidden",width:bt(e.width),height:bt(e.height)}),t.appendChild(n),n}(e),i=this._svg=Ne("svg");be(i,{width:"100%",height:"100%"}),xe(n,i);var r=this._viewport=Et(i,"viewport");this._layers={},!1!==e.deferUpdate&&(this._viewboxChanged=I(F(this._viewboxChanged,this),300)),t.on("diagram.init",(function(){t.fire("canvas.init",{svg:i,viewport:r})}),this),t.on(["shape.added","connection.added","shape.removed","connection.removed","elements.changed"],(function(){delete this._cachedViewbox}),this),t.on("diagram.destroy",500,this._destroy,this),t.on("diagram.clear",500,this._clear,this)},Tt.prototype._destroy=function(e){this._eventBus.fire("canvas.destroy",{svg:this._svg,viewport:this._viewport});var t=this._container.parentNode;t&&t.removeChild(this._container),delete this._svg,delete this._container,delete this._layers,delete this._rootElement,delete this._viewport},Tt.prototype._clear=function(){var e=this;this._elementRegistry.getAll().forEach((function(t){var n=dt(t);"root"===n?e.setRootElement(null,!0):e._removeElement(t,n)})),delete this._cachedViewbox},Tt.prototype.getDefaultLayer=function(){return this.getLayer("base",0)},Tt.prototype.getLayer=function(e,t){if(!e)throw new Error("must specify a name");var n=this._layers[e];if(n||(n=this._layers[e]=this._createLayer(e,t)),void 0!==t&&n.index!==t)throw new Error("layer <"+e+"> already created at index <"+t+">");return n.group},Tt.prototype._createLayer=function(e,t){t||(t=0);var n=E(this._layers,(function(e,n){return t>=n.index&&e++,e}),0);return{group:Et(this._viewport,"layer-"+e,n),index:t}},Tt.prototype.getContainer=function(){return this._container},Tt.prototype._updateMarker=function(e,t,n){var i;e.id||(e=this._elementRegistry.get(e)),(i=this._elementRegistry._elements[e.id])&&(b([i.gfx,i.secondaryGfx],(function(e){e&&(n?Ce(e).add(t):Ce(e).remove(t))})),this._eventBus.fire("element.marker.update",{element:e,gfx:i.gfx,marker:t,add:!!n}))},Tt.prototype.addMarker=function(e,t){this._updateMarker(e,t,!0)},Tt.prototype.removeMarker=function(e,t){this._updateMarker(e,t,!1)},Tt.prototype.hasMarker=function(e,t){return e.id||(e=this._elementRegistry.get(e)),Ce(this.getGraphics(e)).has(t)},Tt.prototype.toggleMarker=function(e,t){this.hasMarker(e,t)?this.removeMarker(e,t):this.addMarker(e,t)},Tt.prototype.getRootElement=function(){return this._rootElement||this.setRootElement({id:"__implicitroot",children:[]}),this._rootElement},Tt.prototype.setRootElement=function(e,t){e&&this._ensureValid("root",e);var n=this._rootElement,i=this._elementRegistry,r=this._eventBus;if(n){if(!t)throw new Error("rootElement already set, need to specify override");r.fire("root.remove",{element:n}),r.fire("root.removed",{element:n}),i.remove(n)}if(e){var o=this.getDefaultLayer();r.fire("root.add",{element:e}),i.add(e,o,this._svg),r.fire("root.added",{element:e,gfx:o})}return this._rootElement=e,e},Tt.prototype._ensureValid=function(e,t){if(!t.id)throw new Error("element must have an id");if(this._elementRegistry.get(t.id))throw new Error("element with id "+t.id+" already exists");var n=St[e];if(!S(n,(function(e){return void 0!==t[e]})))throw new Error("must supply { "+n.join(", ")+" } with "+e)},Tt.prototype._setParent=function(e,t,n){xt(t.children,e,n),e.parent=t},Tt.prototype._addElement=function(e,t,n,i){n=n||this.getRootElement();var r=this._eventBus,o=this._graphicsFactory;this._ensureValid(e,t),r.fire(e+".add",{element:t,parent:n}),this._setParent(t,n,i);var a=o.create(e,t,i);return this._elementRegistry.add(t,a),o.update(e,t,a),r.fire(e+".added",{element:t,gfx:a}),t},Tt.prototype.addShape=function(e,t,n){return this._addElement("shape",e,t,n)},Tt.prototype.addConnection=function(e,t,n){return this._addElement("connection",e,t,n)},Tt.prototype._removeElement=function(e,t){var n=this._elementRegistry,i=this._graphicsFactory,r=this._eventBus;if(e=n.get(e.id||e))return r.fire(t+".remove",{element:e}),i.remove(e),mt(e.parent&&e.parent.children,e),e.parent=null,r.fire(t+".removed",{element:e}),n.remove(e),e},Tt.prototype.removeShape=function(e){return this._removeElement(e,"shape")},Tt.prototype.removeConnection=function(e){return this._removeElement(e,"connection")},Tt.prototype.getGraphics=function(e,t){return this._elementRegistry.getGraphics(e,t)},Tt.prototype._changeViewbox=function(e){this._eventBus.fire("canvas.viewbox.changing"),e.apply(this),this._cachedViewbox=null,this._viewboxChanged()},Tt.prototype._viewboxChanged=function(){this._eventBus.fire("canvas.viewbox.changed",{viewbox:this.viewbox()})},Tt.prototype.viewbox=function(e){if(void 0===e&&this._cachedViewbox)return this._cachedViewbox;var t,n,i,r,o,a,s=this._viewport,c=this.getSize();return e?(this._changeViewbox((function(){r=Math.min(c.width/e.width,c.height/e.height);var t=this._svg.createSVGMatrix().scale(r).translate(-e.x,-e.y);Ve(s,t)})),e):(t=this.getDefaultLayer().getBBox(),n=(i=Ve(s))?i.matrix:function(e,t,n,i,r,o){var a=Le.createSVGMatrix();switch(arguments.length){case 0:return a;case 1:return ze(a,e);case 6:return ze(a,{a:e,b:t,c:n,d:i,e:r,f:o})}}(),r=wt(n.a,1e3),o=wt(-n.e||0,1e3),a=wt(-n.f||0,1e3),e=this._cachedViewbox={x:o?o/r:0,y:a?a/r:0,width:c.width/r,height:c.height/r,scale:r,inner:{width:t.width,height:t.height,x:t.x,y:t.y},outer:c})},Tt.prototype.scroll=function(e){var t=this._viewport,n=t.getCTM();return e&&this._changeViewbox((function(){e=G({dx:0,dy:0},e||{}),n=this._svg.createSVGMatrix().translate(e.dx,e.dy).multiply(n),kt(t,n)})),{x:n.e,y:n.f}},Tt.prototype.zoom=function(e,t){return e?"fit-viewport"===e?this._fitViewport(t):(this._changeViewbox((function(){"object"!=typeof t&&(n=this.viewbox().outer,t={x:n.width/2,y:n.height/2}),i=this._setZoom(e,t)})),wt(i.a,1e3)):this.viewbox(e).scale;var n,i},Tt.prototype._fitViewport=function(e){var t,n,i=this.viewbox(),r=i.outer,o=i.inner;return o.x>=0&&o.y>=0&&o.x+o.width<=r.width&&o.y+o.height<=r.height&&!e?n={x:0,y:0,width:Math.max(o.width+o.x,r.width),height:Math.max(o.height+o.y,r.height)}:(t=Math.min(1,r.width/o.width,r.height/o.height),n={x:o.x+(e?o.width/2-r.width/t/2:0),y:o.y+(e?o.height/2-r.height/t/2:0),width:r.width/t,height:r.height/t}),this.viewbox(n),this.viewbox(!1).scale},Tt.prototype._setZoom=function(e,t){var n,i,r,o,a=this._svg,s=this._viewport,c=a.createSVGMatrix(),u=a.createSVGPoint(),l=(i=s.getCTM()).a;return t?(n=G(u,t).matrixTransform(i.inverse()),r=c.translate(n.x,n.y).scale(1/l*e).translate(-n.x,-n.y),o=i.multiply(r)):o=c.scale(e),kt(this._viewport,o),o},Tt.prototype.getSize=function(){return{width:this._container.clientWidth,height:this._container.clientHeight}},Tt.prototype.getAbsoluteBBox=function(e){var t,n=this.viewbox();return{x:(t=e.waypoints?this.getGraphics(e).getBBox():e).x*n.scale-n.x*n.scale,y:t.y*n.scale-n.y*n.scale,width:t.width*n.scale,height:t.height*n.scale}},Tt.prototype.resized=function(){delete this._cachedViewbox,this._eventBus.fire("canvas.resized")};var Ct="data-element-id";function Mt(e){this._elements={},this._eventBus=e}Mt.$inject=["eventBus"],Mt.prototype.add=function(e,t,n){var i=e.id;this._validateId(i),be(t,Ct,i),n&&be(n,Ct,i),this._elements[i]={element:e,gfx:t,secondaryGfx:n}},Mt.prototype.remove=function(e){var t=this._elements,n=e.id||e,i=n&&t[n];i&&(be(i.gfx,Ct,""),i.secondaryGfx&&be(i.secondaryGfx,Ct,""),delete t[n])},Mt.prototype.updateId=function(e,t){this._validateId(t),"string"==typeof e&&(e=this.get(e)),this._eventBus.fire("element.updateId",{element:e,newId:t});var n=this.getGraphics(e),i=this.getGraphics(e,!0);this.remove(e),e.id=t,this.add(e,n,i)},Mt.prototype.get=function(e){var t;t="string"==typeof e?e:e&&be(e,Ct);var n=this._elements[t];return n&&n.element},Mt.prototype.filter=function(e){var t=[];return this.forEach((function(n,i){e(n,i)&&t.push(n)})),t},Mt.prototype.find=function(e){for(var t=this._elements,n=Object.keys(t),i=0;i<n.length;i++){var r=t[n[i]],o=r.element;if(e(o,r.gfx))return o}},Mt.prototype.getAll=function(){return this.filter((function(e){return e}))},Mt.prototype.forEach=function(e){var t=this._elements;Object.keys(t).forEach((function(n){var i=t[n],r=i.element,o=i.gfx;return e(r,o)}))},Mt.prototype.getGraphics=function(e,t){var n=e.id||e,i=this._elements[n];return i&&(t?i.secondaryGfx:i.gfx)},Mt.prototype._validateId=function(e){if(!e)throw new Error("element must have an id");if(this._elements[e])throw new Error("element with id "+e+" already added")};var Pt=n(235),jt=n.n(Pt),Bt=new(jt())({name:"children",enumerable:!0,collection:!0},{name:"parent"}),At=new(jt())({name:"labels",enumerable:!0,collection:!0},{name:"labelTarget"}),Rt=new(jt())({name:"attachers",collection:!0},{name:"host"}),Ot=new(jt())({name:"outgoing",collection:!0},{name:"source"}),Nt=new(jt())({name:"incoming",collection:!0},{name:"target"});function Lt(){Object.defineProperty(this,"businessObject",{writable:!0}),Object.defineProperty(this,"label",{get:function(){return this.labels[0]},set:function(e){var t=this.label,n=this.labels;!e&&t?n.remove(t):n.add(e,0)}}),Bt.bind(this,"parent"),At.bind(this,"labels"),Ot.bind(this,"outgoing"),Nt.bind(this,"incoming")}function zt(){Lt.call(this),Bt.bind(this,"children"),Rt.bind(this,"host"),Rt.bind(this,"attachers")}function Dt(){zt.call(this)}function It(){zt.call(this),At.bind(this,"labelTarget")}function $t(){Lt.call(this),Ot.bind(this,"source"),Nt.bind(this,"target")}r()(zt,Lt),r()(Dt,zt),r()(It,zt),r()($t,Lt);var Ft={connection:$t,shape:zt,label:It,root:Dt};function Ht(){this._uid=12}Ht.prototype.createRoot=function(e){return this.create("root",e)},Ht.prototype.createLabel=function(e){return this.create("label",e)},Ht.prototype.createShape=function(e){return this.create("shape",e)},Ht.prototype.createConnection=function(e){return this.create("connection",e)},Ht.prototype.create=function(e,t){return(t=G({},t||{})).id||(t.id=e+"_"+this._uid++),function(e,t){var n=Ft[e];if(!n)throw new Error("unknown type: <"+e+">");return G(new n,t)}(e,t)};var Gt=Array.prototype.slice;function Ut(){this._listeners={},this.on("diagram.destroy",1,this._destroy,this)}function Wt(){}function Vt(e){return e.childNodes[0]}function qt(e,t,n){var i=De();i.setTranslate(t,n),Ve(e,i)}function Yt(e,t){this._eventBus=e,this._elementRegistry=t}function Xt(e,t,n){var i=n||t.firstChild;e!==i&&t.insertBefore(e,i)}Ut.prototype.on=function(e,t,n,i){if(e=f(e)?e:[e],g(t)&&(i=n,n=t,t=1e3),!v(t))throw new Error("priority must be a number");var r=n;i&&((r=F(n,i)).__fn=n.__fn||n);var o=this;e.forEach((function(e){o._addListener(e,{priority:t,callback:r,next:null})}))},Ut.prototype.once=function(e,t,n,i){var r=this;if(g(t)&&(i=n,n=t,t=1e3),!v(t))throw new Error("priority must be a number");function o(){o.__isTomb=!0;var t=n.apply(i,arguments);return r.off(e,o),t}o.__fn=n,this.on(e,t,o)},Ut.prototype.off=function(e,t){e=f(e)?e:[e];var n=this;e.forEach((function(e){n._removeListener(e,t)}))},Ut.prototype.createEvent=function(e){var t=new Wt;return t.init(e),t},Ut.prototype.fire=function(e,t){var n,i,r,o;if(o=Gt.call(arguments),"object"==typeof e&&(e=(t=e).type),!e)throw new Error("no event type specified");if(i=this._listeners[e]){n=t instanceof Wt?t:this.createEvent(t),o[0]=n;var a=n.type;e!==a&&(n.type=e);try{r=this._invokeListeners(n,o,i)}finally{e!==a&&(n.type=a)}return void 0===r&&n.defaultPrevented&&(r=!1),r}},Ut.prototype.handleError=function(e){return!1===this.fire("error",{error:e})},Ut.prototype._destroy=function(){this._listeners={}},Ut.prototype._invokeListeners=function(e,t,n){for(var i;n&&!e.cancelBubble;)i=this._invokeListener(e,t,n),n=n.next;return i},Ut.prototype._invokeListener=function(e,t,n){var i;if(n.callback.__isTomb)return i;try{void 0!==(i=function(e,t){return e.apply(null,t)}(n.callback,t))&&(e.returnValue=i,e.stopPropagation()),!1===i&&e.preventDefault()}catch(e){if(!this.handleError(e))throw console.error("unhandled error in event listener"),console.error(e.stack),e}return i},Ut.prototype._addListener=function(e,t){var n,i=this._getListeners(e);if(i){for(;i;){if(i.priority<t.priority)return t.next=i,void(n?n.next=t:this._setListeners(e,t));n=i,i=i.next}n.next=t}else this._setListeners(e,t)},Ut.prototype._getListeners=function(e){return this._listeners[e]},Ut.prototype._setListeners=function(e,t){this._listeners[e]=t},Ut.prototype._removeListener=function(e,t){var n,i,r,o=this._getListeners(e);if(t)for(;o;)n=o.next,(r=o.callback)!==t&&r.__fn!==t||(i?i.next=n:this._setListeners(e,n)),i=o,o=n;else this._setListeners(e,null)},Wt.prototype.stopPropagation=function(){this.cancelBubble=!0},Wt.prototype.preventDefault=function(){this.defaultPrevented=!0},Wt.prototype.init=function(e){G(this,e||{})},Yt.$inject=["eventBus","elementRegistry"],Yt.prototype._getChildrenContainer=function(e){var t,n=this._elementRegistry.getGraphics(e);return e.parent?(t=function(e){return e.parentNode.childNodes[1]}(n))||(Ce(t=Ne("g")).add("djs-children"),xe(n.parentNode,t)):t=n,t},Yt.prototype._clear=function(e){var t=Vt(e);return Q(t),t},Yt.prototype._createContainer=function(e,t,n,i){var r=Ne("g");Ce(r).add("djs-group"),void 0!==n?Xt(r,t,t.childNodes[n]):xe(t,r);var o=Ne("g");Ce(o).add("djs-element"),Ce(o).add("djs-"+e),i&&Ce(o).add("djs-frame"),xe(r,o);var a=Ne("g");return Ce(a).add("djs-visual"),xe(o,a),o},Yt.prototype.create=function(e,t,n){var i=this._getChildrenContainer(t.parent);return this._createContainer(e,i,n,ft(t))},Yt.prototype.updateContainments=function(e){var t=this,n=this._elementRegistry;b(E(e,(function(e,t){return t.parent&&(e[t.parent.id]=t.parent),e}),{}),(function(e){var i=e.children;if(i){var r=t._getChildrenContainer(e);b(i.slice().reverse(),(function(e){Xt(n.getGraphics(e).parentNode,r)}))}}))},Yt.prototype.drawShape=function(e,t){return this._eventBus.fire("render.shape",{gfx:e,element:t})},Yt.prototype.getShapePath=function(e){return this._eventBus.fire("render.getShapePath",e)},Yt.prototype.drawConnection=function(e,t){return this._eventBus.fire("render.connection",{gfx:e,element:t})},Yt.prototype.getConnectionPath=function(e){return this._eventBus.fire("render.getConnectionPath",e)},Yt.prototype.update=function(e,t,n){if(t.parent){var i=this._clear(n);if("shape"===e)this.drawShape(i,t),qt(n,t.x,t.y);else{if("connection"!==e)throw new Error("unknown type: "+e);this.drawConnection(i,t)}t.hidden?be(n,"display","none"):be(n,"display","block")}},Yt.prototype.remove=function(e){Pe(this._elementRegistry.getGraphics(e).parentNode)};const Kt={__depends__:[gt],__init__:["canvas"],canvas:["type",Tt],elementRegistry:["type",Mt],elementFactory:["type",Ht],eventBus:["type",Ut],graphicsFactory:["type",Yt]};function Zt(e,t){this.injector=t=t||function(e){return function(e){var t=[],n=[];function i(e){return t.indexOf(e)>=0}e.forEach((function e(r){i(r)||((r.__depends__||[]).forEach(e),i(r)||(function(e){t.push(e)}(r),(r.__init__||[]).forEach((function(e){n.push(e)}))))}));var r=new nt(t);return n.forEach((function(e){try{r["string"==typeof e?"get":"invoke"](e)}catch(e){throw console.error("Failed to instantiate component"),console.error(e.stack),e}})),r}([{config:["value",e=e||{}]},Kt].concat(e.modules||[]))}(e),this.get=t.get,this.invoke=t.invoke,this.get("eventBus").fire("diagram.init")}function Jt(){}function Qt(e,t){this.model=e,this.properties=t}Zt.prototype.destroy=function(){this.get("eventBus").fire("diagram.destroy")},Zt.prototype.clear=function(){this.get("eventBus").fire("diagram.clear")},Jt.prototype.get=function(e){return this.$model.properties.get(this,e)},Jt.prototype.set=function(e,t){this.$model.properties.set(this,e,t)},Qt.prototype.createType=function(e){var t=this.model,n=this.properties,i=Object.create(Jt.prototype);b(e.properties,(function(e){e.isMany||void 0===e.default||(i[e.name]=e.default)})),n.defineModel(i,t),n.defineDescriptor(i,e);var r=e.ns.name;function o(e){n.define(this,"$type",{value:r,enumerable:!0}),n.define(this,"$attrs",{value:{}}),n.define(this,"$parent",{writable:!0}),b(e,F((function(e,t){this.set(t,e)}),this))}return o.prototype=i,o.hasType=i.$instanceOf=this.model.hasType,n.defineModel(o,t),n.defineDescriptor(o,e),o};var en={String:!0,Boolean:!0,Integer:!0,Real:!0,Element:!0},tn={String:function(e){return e},Boolean:function(e){return"true"===e},Integer:function(e){return parseInt(e,10)},Real:function(e){return parseFloat(e,10)}};function nn(e,t){var n=tn[e];return n?n(t):t}function rn(e){return!!en[e]}function on(e){return!!tn[e]}function an(e,t){var n,i,r=e.split(/:/);if(1===r.length)n=e,i=t;else{if(2!==r.length)throw new Error("expected <prefix:localName> or <localName>, got "+e);n=r[1],i=r[0]}return{name:e=(i?i+":":"")+n,prefix:i,localName:n}}function sn(e){this.ns=e,this.name=e.name,this.allTypes=[],this.allTypesByName={},this.properties=[],this.propertiesByName={}}function cn(e,t){this.packageMap={},this.typeMap={},this.packages=[],this.properties=t,b(e,F(this.registerPackage,this))}function un(e,t,n){var i=t[n];if(i in e)throw new Error("package with "+n+" <"+i+"> already defined")}function ln(e){this.model=e}function pn(e,t,n){Object.defineProperty(e,t.name,{enumerable:!t.isReference,writable:!0,value:n,configurable:!0})}function hn(e){this.properties=new ln(this),this.factory=new Qt(this,this.properties),this.registry=new cn(e,this.properties),this.typeCache={}}sn.prototype.build=function(){return U(this,["ns","name","allTypes","allTypesByName","properties","propertiesByName","bodyProperty","idProperty"])},sn.prototype.addProperty=function(e,t,n){"boolean"==typeof t&&(n=t,t=void 0),this.addNamedProperty(e,!1!==n);var i=this.properties;void 0!==t?i.splice(t,0,e):i.push(e)},sn.prototype.replaceProperty=function(e,t,n){var i=e.ns,r=this.properties,o=this.propertiesByName,a=e.name!==t.name;if(e.isId){if(!t.isId)throw new Error("property <"+t.ns.name+"> must be id property to refine <"+e.ns.name+">");this.setIdProperty(t,!1)}if(e.isBody){if(!t.isBody)throw new Error("property <"+t.ns.name+"> must be body property to refine <"+e.ns.name+">");this.setBodyProperty(t,!1)}var s=r.indexOf(e);if(-1===s)throw new Error("property <"+i.name+"> not found in property list");r.splice(s,1),this.addProperty(t,n?void 0:s,a),o[i.name]=o[i.localName]=t},sn.prototype.redefineProperty=function(e,t,n){var i=e.ns.prefix,r=t.split("#"),o=an(r[0],i),a=an(r[1],o.prefix).name,s=this.propertiesByName[a];if(!s)throw new Error("refined property <"+a+"> not found");this.replaceProperty(s,e,n),delete e.redefines},sn.prototype.addNamedProperty=function(e,t){var n=e.ns,i=this.propertiesByName;t&&(this.assertNotDefined(e,n.name),this.assertNotDefined(e,n.localName)),i[n.name]=i[n.localName]=e},sn.prototype.removeNamedProperty=function(e){var t=e.ns,n=this.propertiesByName;delete n[t.name],delete n[t.localName]},sn.prototype.setBodyProperty=function(e,t){if(t&&this.bodyProperty)throw new Error("body property defined multiple times (<"+this.bodyProperty.ns.name+">, <"+e.ns.name+">)");this.bodyProperty=e},sn.prototype.setIdProperty=function(e,t){if(t&&this.idProperty)throw new Error("id property defined multiple times (<"+this.idProperty.ns.name+">, <"+e.ns.name+">)");this.idProperty=e},sn.prototype.assertNotDefined=function(e,t){var n=e.name,i=this.propertiesByName[n];if(i)throw new Error("property <"+n+"> already defined; override of <"+i.definedBy.ns.name+"#"+i.ns.name+"> by <"+e.definedBy.ns.name+"#"+e.ns.name+"> not allowed without redefines")},sn.prototype.hasProperty=function(e){return this.propertiesByName[e]},sn.prototype.addTrait=function(e,t){var n=this.allTypesByName,i=this.allTypes,r=e.name;r in n||(b(e.properties,F((function(n){n=G({},n,{name:n.ns.localName,inherited:t}),Object.defineProperty(n,"definedBy",{value:e});var i=n.replaces,r=n.redefines;i||r?this.redefineProperty(n,i||r,i):(n.isBody&&this.setBodyProperty(n),n.isId&&this.setIdProperty(n),this.addProperty(n))}),this)),i.push(e),n[r]=e)},cn.prototype.getPackage=function(e){return this.packageMap[e]},cn.prototype.getPackages=function(){return this.packages},cn.prototype.registerPackage=function(e){e=G({},e);var t=this.packageMap;un(t,e,"prefix"),un(t,e,"uri"),b(e.types,F((function(t){this.registerType(t,e)}),this)),t[e.uri]=t[e.prefix]=e,this.packages.push(e)},cn.prototype.registerType=function(e,t){var n=an((e=G({},e,{superClass:(e.superClass||[]).slice(),extends:(e.extends||[]).slice(),properties:(e.properties||[]).slice(),meta:G(e.meta||{})})).name,t.prefix),i=n.name,r={};b(e.properties,F((function(e){var t=an(e.name,n.prefix),i=t.name;rn(e.type)||(e.type=an(e.type,t.prefix).name),G(e,{ns:t,name:i}),r[i]=e}),this)),G(e,{ns:n,name:i,propertiesByName:r}),b(e.extends,F((function(e){var t=this.typeMap[e];t.traits=t.traits||[],t.traits.push(i)}),this)),this.definePackage(e,t),this.typeMap[i]=e},cn.prototype.mapTypes=function(e,t,n){var i=rn(e.name)?{name:e.name}:this.typeMap[e.name],r=this;function o(e){return a(e,!0)}function a(n,i){var o=an(n,rn(n)?"":e.prefix);r.mapTypes(o,t,i)}if(!i)throw new Error("unknown type <"+e.name+">");b(i.superClass,n?o:a),t(i,!n),b(i.traits,o)},cn.prototype.getEffectiveDescriptor=function(e){var t=an(e),n=new sn(t);this.mapTypes(t,(function(e,t){n.addTrait(e,t)}));var i=n.build();return this.definePackage(i,i.allTypes[i.allTypes.length-1].$pkg),i},cn.prototype.definePackage=function(e,t){this.properties.define(e,"$pkg",{value:t})},ln.prototype.set=function(e,t,n){var i=this.model.getPropertyDescriptor(e,t),r=i&&i.name;void 0===n?i?delete e[r]:delete e.$attrs[t]:i?r in e?e[r]=n:pn(e,i,n):e.$attrs[t]=n},ln.prototype.get=function(e,t){var n=this.model.getPropertyDescriptor(e,t);if(!n)return e.$attrs[t];var i=n.name;return!e[i]&&n.isMany&&pn(e,n,[]),e[i]},ln.prototype.define=function(e,t,n){Object.defineProperty(e,t,n)},ln.prototype.defineDescriptor=function(e,t){this.define(e,"$descriptor",{value:t})},ln.prototype.defineModel=function(e,t){this.define(e,"$model",{value:t})},hn.prototype.create=function(e,t){var n=this.getType(e);if(!n)throw new Error("unknown type <"+e+">");return new n(t)},hn.prototype.getType=function(e){var t=this.typeCache,n=m(e)?e:e.ns.name,i=t[n];return i||(e=this.registry.getEffectiveDescriptor(n),i=t[n]=this.factory.createType(e)),i},hn.prototype.createAny=function(e,t,n){var i=an(e),r={$type:e,$instanceOf:function(e){return e===this.$type}},o={name:e,isGeneric:!0,ns:{prefix:i.prefix,localName:i.localName,uri:t}};return this.properties.defineDescriptor(r,o),this.properties.defineModel(r,this),this.properties.define(r,"$parent",{enumerable:!1,writable:!0}),b(n,(function(e,t){y(e)&&void 0!==e.value?r[e.name]=e.value:r[t]=e})),r},hn.prototype.getPackage=function(e){return this.registry.getPackage(e)},hn.prototype.getPackages=function(){return this.registry.getPackages()},hn.prototype.getElementDescriptor=function(e){return e.$descriptor},hn.prototype.hasType=function(e,t){return void 0===t&&(t=e,e=this),t in e.$model.getElementDescriptor(e).allTypesByName},hn.prototype.getPropertyDescriptor=function(e,t){return this.getElementDescriptor(e).propertiesByName[t]},hn.prototype.getTypeDescriptor=function(e){return this.registry.typeMap[e]};var dn=String.fromCharCode,fn=Object.prototype.hasOwnProperty,yn=/&#(\d+);|&#x([0-9a-f]+);|&(\w+);/gi,vn={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'};function gn(e,t,n,i){return i?fn.call(vn,i)?vn[i]:"&"+i+";":dn(t||parseInt(n,16))}function mn(e){return e.length>3&&-1!==e.indexOf("&")?e.replace(yn,gn):e}Object.keys(vn).forEach((function(e){vn[e.toUpperCase()]=vn[e]}));var xn="xsi:type",_n="non-whitespace outside of root node";function wn(e){return new Error(e)}function bn(e){return"missing namespace for prefix <"+e+">"}function En(e){return{get:e,enumerable:!0}}function Sn(e){var t,n={};for(t in e)n[t]=e[t];return n}function Tn(e){return e+"$uri"}function kn(){return{line:0,column:0}}function Cn(e){throw e}function Mn(e){if(!this)return new Mn(e);var t,n,i,r,o,a,s,c,u,l=e&&e.proxy,p=Cn,h=kn,d=!1,f=!1,y=null,v=!1;function g(e){e instanceof Error||(e=wn(e)),y=e,p(e,h)}function m(e){o&&(e instanceof Error||(e=wn(e)),o(e,h))}this.on=function(e,u){if("function"!=typeof u)throw wn("required args <name, cb>");switch(e){case"openTag":n=u;break;case"text":t=u;break;case"closeTag":i=u;break;case"error":p=u;break;case"warn":o=u;break;case"cdata":r=u;break;case"attention":c=u;break;case"question":s=u;break;case"comment":a=u;break;default:throw wn("unsupported event: "+e)}return this},this.ns=function(e){if(void 0===e&&(e={}),"object"!=typeof e)throw wn("required args <nsMap={}>");var t,n={};for(t in e)n[t]=e[t];return n["http://www.w3.org/2001/XMLSchema-instance"]="xsi",f=!0,u=n,this},this.parse=function(e){if("string"!=typeof e)throw wn("required args <xml=string>");return y=null,function(e){var o,p,y,x,_,w,b,E,S,T,k,C=f?[]:null,M=f?function(e){var t,n,i={};for(t in e)i[n=e[t]]=n,i[Tn(n)]=t;return i}(u):null,P=[],j=0,B=!1,A=!1,R=0,O=0,N="",L=0;function z(){if(null!==k)return k;var e,t,n,i,r,o,a,s,c,l,p,h=f&&M.xmlns,y=f&&d?[]:null,v=L,g=N,x=g.length,_={},w={};e:for(;v<x;v++)if(c=!1,!(32===(l=g.charCodeAt(v))||l<14&&l>8)){for((l<65||l>122||l>90&&l<97)&&95!==l&&58!==l&&(m("illegal first char attribute name"),c=!0),p=v+1;p<x;p++)if(!((l=g.charCodeAt(p))>96&&l<123||l>64&&l<91||l>47&&l<59||46===l||45===l||95===l)){if(32===l||l<14&&l>8){m("missing attribute value"),v=p;continue e}if(61===l)break;m("illegal attribute name char"),c=!0}if("xmlns:xmlns"===(s=g.substring(v,p))&&(m("illegal declaration of xmlns"),c=!0),34===(l=g.charCodeAt(p+1)))-1===(p=g.indexOf('"',v=p+2))&&-1!==(p=g.indexOf("'",v))&&(m("attribute value quote missmatch"),c=!0);else if(39===l)-1===(p=g.indexOf("'",v=p+2))&&-1!==(p=g.indexOf('"',v))&&(m("attribute value quote missmatch"),c=!0);else for(m("missing attribute value quotes"),c=!0,p+=1;p<x&&!(32===(l=g.charCodeAt(p+1))||l<14&&l>8);p++);for(-1===p&&(m("missing closing quotes"),p=x,c=!0),c||(o=g.substring(v,p)),v=p;p+1<x&&!(32===(l=g.charCodeAt(p+1))||l<14&&l>8);p++)v===p&&(m("illegal character after attribute end"),c=!0);if(v=p+1,!c)if(s in w)m("attribute <"+s+"> already defined");else if(w[s]=!0,f)if(d){if(null!==(r="xmlns"===s?"xmlns":120===s.charCodeAt(0)&&"xmlns:"===s.substr(0,6)?s.substr(6):null)){if(e=mn(o),t=Tn(r),!(a=u[e])){if("xmlns"===r||t in M&&M[t]!==e)do{a="ns"+j++}while(void 0!==M[a]);else a=r;u[e]=a}M[r]!==a&&(i||(M=Sn(M),i=!0),M[r]=a,"xmlns"===r&&(M[Tn(a)]=e,h=a),M[t]=e),_[s]=o;continue}y.push(s,o)}else-1!==(l=s.indexOf(":"))?(n=M[s.substring(0,l)])?((s=h===n?s.substr(l+1):n+s.substr(l))===xn&&(-1!==(l=o.indexOf(":"))?(n=o.substring(0,l),o=(n=M[n]||n)+o.substring(l)):o=h+":"+o),_[s]=o):m(bn(s.substring(0,l))):_[s]=o;else _[s]=o}if(d)for(v=0,x=y.length;v<x;v++){if(s=y[v++],o=y[v],-1!==(l=s.indexOf(":"))){if(!(n=M[s.substring(0,l)])){m(bn(s.substring(0,l)));continue}(s=h===n?s.substr(l+1):n+s.substr(l))===xn&&(-1!==(l=o.indexOf(":"))?(n=o.substring(0,l),o=(n=M[n]||n)+o.substring(l)):o=h+":"+o)}_[s]=o}return k=_}for(h=function(){for(var t,n,i=/(\r\n|\r|\n)/g,r=0,o=0,a=0,s=O;R>=a&&(t=i.exec(e))&&!((s=t[0].length+t.index)>R);)r+=1,a=s;return-1==R?(o=s,n=e.substring(O)):0===O?n=e.substring(O,R):(o=R-a,n=-1==O?e.substring(R):e.substring(R,O+1)),{data:n,line:r,column:o}},l&&(T=Object.create({},{name:En((function(){return E})),originalName:En((function(){return S})),attrs:En(z),ns:En((function(){return M}))}));-1!==O;){if(-1===(R=60===e.charCodeAt(O)?O:e.indexOf("<",O)))return P.length?g("unexpected end of file"):0===O?g("missing start tag"):void(O<e.length&&e.substring(O).trim()&&m(_n));if(O!==R)if(P.length){if(t&&(t(e.substring(O,R),mn,h),v))return}else if(e.substring(O,R).trim()&&(m(_n),v))return;if(33===(_=e.charCodeAt(R+1))){if(91===(x=e.charCodeAt(R+2))&&"CDATA["===e.substr(R+3,6)){if(-1===(O=e.indexOf("]]>",R)))return g("unclosed cdata");if(r&&(r(e.substring(R+9,O),h),v))return;O+=3;continue}if(45===x&&45===e.charCodeAt(R+3)){if(-1===(O=e.indexOf("--\x3e",R)))return g("unclosed comment");if(a&&(a(e.substring(R+4,O),mn,h),v))return;O+=3;continue}}if(63!==_){for(p=R+1;;p++){if(w=e.charCodeAt(p),isNaN(w))return O=-1,g("unclosed tag");if(34===w)p=-1!==(x=e.indexOf('"',p+1))?x:p;else if(39===w)p=-1!==(x=e.indexOf("'",p+1))?x:p;else if(62===w){O=p;break}}if(33!==_){if(k={},47===_){if(B=!1,A=!0,!P.length)return g("missing open tag");if(p=E=P.pop(),x=R+2+p.length,e.substring(R+2,x)!==p)return g("closing tag mismatch");for(;x<O;x++)if(!(32===(_=e.charCodeAt(x))||_>8&&_<14))return g("close tag")}else{if(47===e.charCodeAt(O-1)?(p=E=e.substring(R+1,O-1),B=!0,A=!0):(p=E=e.substring(R+1,O),B=!0,A=!1),!(_>96&&_<123||_>64&&_<91||95===_||58===_))return g("illegal first char nodeName");for(x=1,y=p.length;x<y;x++)if(!((_=p.charCodeAt(x))>96&&_<123||_>64&&_<91||_>47&&_<59||45===_||95===_||46==_)){if(32===_||_<14&&_>8){E=p.substring(0,x),k=null;break}return g("invalid nodeName")}A||P.push(E)}if(f){if(o=M,B&&(A||C.push(o),null===k&&(d=-1!==p.indexOf("xmlns",x))&&(L=x,N=p,z(),d=!1)),S=E,-1!==(_=E.indexOf(":"))){if(!(b=M[E.substring(0,_)]))return g("missing namespace on <"+S+">");E=E.substr(_+1)}else b=M.xmlns;b&&(E=b+":"+E)}if(B&&(L=x,N=p,n&&(l?n(T,mn,A,h):n(E,z,mn,A,h),v)))return;if(A){if(i&&(i(l?T:E,mn,B,h),v))return;f&&(M=B?o:C.pop())}O+=1}else{if(c&&(c(e.substring(R,O+1),mn,h),v))return;O+=1}}else{if(-1===(O=e.indexOf("?>",R)))return g("unclosed question");if(s&&(s(e.substring(R,O+2),h),v))return;O+=2}}}(e),h=kn,v=!1,y},this.stop=function(){v=!0}}function Pn(e){return e.xml&&"lowerCase"===e.xml.tagAlias}var jn={xsi:"http://www.w3.org/2001/XMLSchema-instance",xml:"http://www.w3.org/XML/1998/namespace"},Bn="xsi:type";function An(e){return e.xml&&e.xml.serialize}function Rn(e){return An(e)===Bn}function On(e,t){return Pn(t)?e.prefix+":"+((n=e.localName).charAt(0).toUpperCase()+n.slice(1)):e.name;var n}function Nn(e){return new Error(e)}function Ln(e){return e.$descriptor}function zn(e){G(this,e),this.elementsById={},this.references=[],this.warnings=[],this.addReference=function(e){this.references.push(e)},this.addElement=function(e){if(!e)throw Nn("expected element");var t,n=this.elementsById,i=Ln(e).idProperty;if(i&&(t=e.get(i.name))){if(!/^([a-z][\w-.]*:)?[a-z_][\w-.]*$/i.test(t))throw new Error("illegal ID <"+t+">");if(n[t])throw Nn("duplicate ID <"+t+">");n[t]=e}},this.addWarning=function(e){this.warnings.push(e)}}function Dn(){}function In(){}function $n(){}function Fn(e,t){this.property=e,this.context=t}function Hn(e,t){this.element=t,this.propertyDesc=e}function Gn(){}function Un(e,t,n){this.model=e,this.type=e.getType(t),this.context=n}function Wn(e,t,n){Un.call(this,e,t,n)}function Vn(e,t,n){this.model=e,this.context=n}function qn(e){e instanceof hn&&(e={model:e}),G(this,{lax:!1},e)}Dn.prototype.handleEnd=function(){},Dn.prototype.handleText=function(){},Dn.prototype.handleNode=function(){},In.prototype=Object.create(Dn.prototype),In.prototype.handleNode=function(){return this},$n.prototype=Object.create(Dn.prototype),$n.prototype.handleText=function(e){this.body=(this.body||"")+e},Fn.prototype=Object.create($n.prototype),Fn.prototype.handleNode=function(e){if(this.element)throw Nn("expected no sub nodes");return this.element=this.createReference(e),this},Fn.prototype.handleEnd=function(){this.element.id=this.body},Fn.prototype.createReference=function(e){return{property:this.property.ns.name,id:""}},Hn.prototype=Object.create($n.prototype),Hn.prototype.handleEnd=function(){var e=this.body||"",t=this.element,n=this.propertyDesc;e=nn(n.type,e),n.isMany?t.get(n.name).push(e):t.set(n.name,e)},Gn.prototype=Object.create($n.prototype),Gn.prototype.handleNode=function(e){var t=this,n=this.element;return n?t=this.handleChild(e):(n=this.element=this.createElement(e),this.context.addElement(n)),t},Un.prototype=Object.create(Gn.prototype),Un.prototype.addReference=function(e){this.context.addReference(e)},Un.prototype.handleText=function(e){if(!Ln(this.element).bodyProperty)throw Nn("unexpected body text <"+e+">");$n.prototype.handleText.call(this,e)},Un.prototype.handleEnd=function(){var e=this.body,t=this.element,n=Ln(t).bodyProperty;n&&void 0!==e&&(e=nn(n.type,e),t.set(n.name,e))},Un.prototype.createElement=function(e){var t,n=e.attributes,i=this.type,r=Ln(i),o=this.context,a=new i({}),s=this.model;return b(n,(function(e,n){var i=r.propertiesByName[n];i&&i.isReference?i.isMany?b(e.split(" "),(function(e){o.addReference({element:a,property:i.ns.name,id:e})})):o.addReference({element:a,property:i.ns.name,id:e}):(i?e=nn(i.type,e):"xmlns"!==n&&(t=an(n,r.ns.prefix),s.getPackage(t.prefix)&&o.addWarning({message:"unknown attribute <"+n+">",element:a,property:n,value:e})),a.set(n,e))})),a},Un.prototype.getPropertyForNode=function(e){var t,n,i=an(e.name),r=this.type,o=this.model,a=Ln(r),s=i.name,c=a.propertiesByName[s];if(c&&!c.isAttr)return Rn(c)&&(t=e.attributes["xsi:type"])?(t=function(e,t){var n=an(e);return function(e,t){var n=e.name,i=e.localName,r=t.xml&&t.xml.typePrefix;return r&&0===i.indexOf(r)?e.prefix+":"+i.slice(r.length):n}(n,t.getPackage(n.prefix))}(t,o),G({},c,{effectiveType:Ln(n=o.getType(t)).name})):c;var u=o.getPackage(i.prefix);if(u){if(t=On(i,u),n=o.getType(t),c=_(a.properties,(function(e){return!e.isVirtual&&!e.isReference&&!e.isAttribute&&n.hasType(e.type)})))return G({},c,{effectiveType:Ln(n).name})}else if(c=_(a.properties,(function(e){return!e.isReference&&!e.isAttribute&&"Element"===e.type})))return c;throw Nn("unrecognized element <"+i.name+">")},Un.prototype.toString=function(){return"ElementDescriptor["+Ln(this.type).name+"]"},Un.prototype.valueHandler=function(e,t){return new Hn(e,t)},Un.prototype.referenceHandler=function(e){return new Fn(e,this.context)},Un.prototype.handler=function(e){return"Element"===e?new Vn(this.model,e,this.context):new Un(this.model,e,this.context)},Un.prototype.handleChild=function(e){var t,n,i,r;if(t=this.getPropertyForNode(e),i=this.element,on(n=t.effectiveType||t.type))return this.valueHandler(t,i);var o=(r=t.isReference?this.referenceHandler(t).handleNode(e):this.handler(n).handleNode(e)).element;return void 0!==o&&(t.isMany?i.get(t.name).push(o):i.set(t.name,o),t.isReference?(G(o,{element:i}),this.context.addReference(o)):o.$parent=i),r},Wn.prototype=Object.create(Un.prototype),Wn.prototype.createElement=function(e){var t=e.name,n=an(t),i=this.model,r=this.type,o=i.getPackage(n.prefix),a=o&&On(n,o)||t;if(!r.hasType(a))throw Nn("unexpected element <"+e.originalName+">");return Un.prototype.createElement.call(this,e)},Vn.prototype=Object.create(Gn.prototype),Vn.prototype.createElement=function(e){var t=e.name,n=an(t).prefix,i=e.ns[n+"$uri"],r=e.attributes;return this.model.createAny(t,i,r)},Vn.prototype.handleChild=function(e){var t=new Vn(this.model,"Element",this.context).handleNode(e),n=this.element,i=t.element;return void 0!==i&&((n.$children=n.$children||[]).push(i),i.$parent=n),t},Vn.prototype.handleEnd=function(){this.body&&(this.element.$body=this.body)},qn.prototype.fromXML=function(e,t,n){var i=t.rootHandler;t instanceof Un?(i=t,t={}):"string"==typeof t?(i=this.handler(t),t={}):"string"==typeof i&&(i=this.handler(i));var r=this.model,o=this.lax,a=new zn(G({},t,{rootHandler:i})),s=new Mn({proxy:!0}),c=function(){var e=[];return Object.defineProperty(e,"peek",{value:function(){return this[this.length-1]}}),e}();function u(e,t,n){var i=t(),r=i.line,o=i.column,s=i.data;"<"===s.charAt(0)&&-1!==s.indexOf(" ")&&(s=s.slice(0,s.indexOf(" "))+">");var c="unparsable content "+(s?s+" ":"")+"detected\n\tline: "+r+"\n\tcolumn: "+o+"\n\tnested error: "+e.message;if(n)return a.addWarning({message:c,error:e}),!0;throw Nn(c)}function l(e,t){return u(e,t,!0)}i.context=a,c.push(i);var p=/^<\?xml /i,h=/ encoding="([^"]+)"/i,d=/^utf-8$/i;function f(e,t){try{c.peek().handleText(e)}catch(e){l(e,t)}}var y=r.getPackages().reduce((function(e,t){return e[t.uri]=t.prefix,e}),{"http://www.w3.org/XML/1998/namespace":"xml"});return s.ns(y).on("openTag",(function(e,t,n,i){var r=e.attrs||{},a=Object.keys(r).reduce((function(e,n){var i=t(r[n]);return e[n]=i,e}),{});!function(e,t){var n=c.peek();try{c.push(n.handleNode(e))}catch(e){u(e,t,o)&&c.push(new In)}}({name:e.name,originalName:e.originalName,attributes:a,ns:e.ns},i)})).on("question",(function(e){if(p.test(e)){var t=h.exec(e),n=t&&t[1];n&&!d.test(n)&&a.addWarning({message:"unsupported document encoding <"+n+">, falling back to UTF-8"})}})).on("closeTag",(function(){c.pop().handleEnd()})).on("cdata",f).on("text",(function(e,t,n){!function(e,t){(e=e.trim())&&f(e,t)}(t(e),n)})).on("error",u).on("warn",l),new Promise((function(t,n){var r;try{s.parse(e),function(){var e,t,n=a.elementsById,i=a.references;for(e=0;t=i[e];e++){var r=t.element,o=n[t.id],s=Ln(r).propertiesByName[t.property];if(o||a.addWarning({message:"unresolved reference <"+t.id+">",element:t.element,property:t.property,value:t.id}),s.isMany){var c=r.get(s.name),u=c.indexOf(t);-1===u&&(u=c.length),o?c[u]=o:c.splice(u,1)}else r.set(s.name,o)}}()}catch(e){r=e}var o=i.element;r||o||(r=Nn("failed to parse document as <"+i.type.$descriptor.name+">"));var c=a.warnings,u=a.references,l=a.elementsById;return r?(r.warnings=c,n(r)):t({rootElement:o,elementsById:l,references:u,warnings:c})}))},qn.prototype.handler=function(e){return new Wn(this.model,e)};var Yn=/<|>|'|"|&|\n\r|\n/g,Xn=/<|>|&/g;function Kn(e){var t={},n={},i={},r=[],o=[];this.byUri=function(t){return n[t]||e&&e.byUri(t)},this.add=function(e,t){n[e.uri]=e,t?r.push(e):o.push(e),this.mapPrefix(e.prefix,e.uri)},this.uriByPrefix=function(e){return t[e||"xmlns"]},this.mapPrefix=function(e,n){t[e||"xmlns"]=n},this.getNSKey=function(e){return void 0!==e.prefix?e.uri+"|"+e.prefix:e.uri},this.logUsed=function(t){var n=t.uri,r=this.getNSKey(t);i[r]=this.byUri(n),e&&e.logUsed(t)},this.getUsed=function(e){var t=this;return[].concat(r,o).filter((function(e){var n=t.getNSKey(e);return i[n]}))}}function Zn(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function Jn(e){return m(e)?e:(e.prefix?e.prefix+":":"")+e.localName}var Qn={"\n":"#10","\n\r":"#10",'"':"#34","'":"#39","<":"#60",">":"#62","&":"#38"},ei={"<":"lt",">":"gt","&":"amp"};function ti(e,t,n){return(e=m(e)?e:""+e).replace(t,(function(e){return"&"+n[e]+";"}))}function ni(e){this.tagName=e}function ii(){}function ri(e){this.tagName=e}function oi(e,t){this.body=[],this.attrs=[],this.parent=e,this.propertyDescriptor=t}function ai(e,t){oi.call(this,e,t)}function si(){this.value="",this.write=function(e){this.value+=e}}function ci(e,t){var n=[""];this.append=function(t){return e.write(t),this},this.appendNewLine=function(){return t&&e.write("\n"),this},this.appendIndent=function(){return t&&e.write(n.join("  ")),this},this.indent=function(){return n.push(""),this},this.unindent=function(){return n.pop(),this}}function ui(e){return e=G({format:!1,preamble:!0},e||{}),{toXML:function(t,n){var i=n||new si,r=new ci(i,e.format);if(e.preamble&&r.append('<?xml version="1.0" encoding="UTF-8"?>\n'),(new oi).build(t).serializeTo(r),!n)return i.value}}}function li(e,t){hn.call(this,e,t)}ni.prototype.build=function(e){return this.element=e,this},ni.prototype.serializeTo=function(e){e.appendIndent().append("<"+this.tagName+">"+this.element.id+"</"+this.tagName+">").appendNewLine()},ii.prototype.serializeValue=ii.prototype.serializeTo=function(e){e.append(this.escape?ti(this.value,Xn,ei):this.value)},ii.prototype.build=function(e,t){return this.value=t,"String"===e.type&&-1!==t.search(Xn)&&(this.escape=!0),this},Zn(ri,ii),ri.prototype.serializeTo=function(e){e.appendIndent().append("<"+this.tagName+">"),this.serializeValue(e),e.append("</"+this.tagName+">").appendNewLine()},oi.prototype.build=function(e){this.element=e;var t,n,i=e.$descriptor,r=this.propertyDescriptor,o=i.isGeneric;return t=o?this.parseGeneric(e):this.parseNsAttributes(e),this.ns=r?this.nsPropertyTagName(r):this.nsTagName(i),this.tagName=this.addTagName(this.ns),o||(n=function(e){return w(e.$descriptor.properties,(function(t){var n=t.name;if(t.isVirtual)return!1;if(!x(e,n))return!1;var i=e[n];return i!==t.default&&null!==i&&(!t.isMany||i.length)}))}(e),this.parseAttributes(w(n,(function(e){return e.isAttr}))),this.parseContainments(w(n,(function(e){return!e.isAttr})))),this.parseGenericAttributes(e,t),this},oi.prototype.nsTagName=function(e){return function(e,t){return t.isGeneric?G({localName:t.ns.localName},e):G({localName:(n=t.ns.localName,i=t.$pkg,Pn(i)?(r=n).charAt(0).toLowerCase()+r.slice(1):n)},e);var n,i,r}(this.logNamespaceUsed(e.ns),e)},oi.prototype.nsPropertyTagName=function(e){return function(e,t){return G({localName:t.ns.localName},e)}(this.logNamespaceUsed(e.ns),e)},oi.prototype.isLocalNs=function(e){return e.uri===this.ns.uri},oi.prototype.nsAttributeName=function(e){var t;if(t=m(e)?an(e):e.ns,e.inherited)return{localName:t.localName};var n=this.logNamespaceUsed(t);return this.getNamespaces().logUsed(n),this.isLocalNs(n)?{localName:t.localName}:G({localName:t.localName},n)},oi.prototype.parseGeneric=function(e){var t=this,n=this.body,i=[];return b(e,(function(r,o){"$body"===o?n.push((new ii).build({type:"String"},r)):"$children"===o?b(r,(function(e){n.push(new oi(t).build(e))})):0!==o.indexOf("$")&&t.parseNsAttribute(e,o,r)&&i.push({name:o,value:r})})),i},oi.prototype.parseNsAttribute=function(e,t,n){var i,r=e.$model,o=an(t);if("xmlns"===o.prefix&&(i={prefix:o.localName,uri:n}),o.prefix||"xmlns"!==o.localName||(i={uri:n}),!i)return{name:t,value:n};if(r&&r.getPackage(n))this.logNamespace(i,!0,!0);else{var a=this.logNamespaceUsed(i,!0);this.getNamespaces().logUsed(a)}},oi.prototype.parseNsAttributes=function(e,t){var n=this,i=e.$attrs,r=[];return b(i,(function(t,i){var o=n.parseNsAttribute(e,i,t);o&&r.push(o)})),r},oi.prototype.parseGenericAttributes=function(e,t){var n=this;b(t,(function(t){if(t.name!==Bn)try{n.addAttribute(n.nsAttributeName(t.name),t.value)}catch(n){console.warn("missing namespace information for ",t.name,"=",t.value,"on",e,n)}}))},oi.prototype.parseContainments=function(e){var t=this,n=this.body,i=this.element;b(e,(function(e){var r=i.get(e.name),o=e.isReference;if(e.isMany||(r=[r]),e.isBody)n.push((new ii).build(e,r[0]));else if(on(e.type))b(r,(function(i){n.push(new ri(t.addTagName(t.nsPropertyTagName(e))).build(e,i))}));else if(o)b(r,(function(i){n.push(new ni(t.addTagName(t.nsPropertyTagName(e))).build(i))}));else{var a=Rn(e),s=function(e){return"property"===An(e)}(e);b(r,(function(i){var r;r=a?new ai(t,e):s?new oi(t,e):new oi(t),n.push(r.build(i))}))}}))},oi.prototype.getNamespaces=function(e){var t,n=this.namespaces,i=this.parent;return n||(t=i&&i.getNamespaces(),e||!t?this.namespaces=n=new Kn(t):n=t),n},oi.prototype.logNamespace=function(e,t,n){var i=this.getNamespaces(n),r=e.uri,o=e.prefix,a=i.byUri(r);return"xml"===o||a&&!n||i.add(e,t),i.mapPrefix(o,r),e},oi.prototype.logNamespaceUsed=function(e,t){var n,i,r,o=this.element.$model,a=this.getNamespaces(t),s=e.prefix,c=e.uri;if(!s&&!c)return{localName:e.localName};if(r=jn[s]||o&&(o.getPackage(s)||{}).uri,!(c=c||r||a.uriByPrefix(s)))throw new Error("no namespace uri given for prefix <"+s+">");if(!(e=a.byUri(c))){for(n=s,i=1;a.uriByPrefix(n);)n=s+"_"+i++;e=this.logNamespace({prefix:n,uri:c},r===c)}return s&&a.mapPrefix(s,c),e},oi.prototype.parseAttributes=function(e){var t=this,n=this.element;b(e,(function(e){var i=n.get(e.name);if(e.isReference)if(e.isMany){var r=[];b(i,(function(e){r.push(e.id)})),i=r.join(" ")}else i=i.id;t.addAttribute(t.nsAttributeName(e),i)}))},oi.prototype.addTagName=function(e){var t=this.logNamespaceUsed(e);return this.getNamespaces().logUsed(t),Jn(e)},oi.prototype.addAttribute=function(e,t){var n=this.attrs;m(t)&&(t=ti(t,Yn,Qn)),n.push({name:e,value:t})},oi.prototype.serializeAttributes=function(e){var t=this.attrs,n=this.namespaces;n&&(t=function(e){return k(e.getUsed(),(function(e){return{name:"xmlns"+(e.prefix?":"+e.prefix:""),value:e.uri}}))}(n).concat(t)),b(t,(function(t){e.append(" ").append(Jn(t.name)).append('="').append(t.value).append('"')}))},oi.prototype.serializeTo=function(e){var t=this.body[0],n=t&&t.constructor!==ii;e.appendIndent().append("<"+this.tagName),this.serializeAttributes(e),e.append(t?">":" />"),t&&(n&&e.appendNewLine().indent(),b(this.body,(function(t){t.serializeTo(e)})),n&&e.unindent().appendIndent(),e.append("</"+this.tagName+">")),e.appendNewLine()},Zn(ai,oi),ai.prototype.parseNsAttributes=function(e){var t=oi.prototype.parseNsAttributes.call(this,e),n=e.$descriptor;if(n.name===this.propertyDescriptor.type)return t;var i=this.typeNs=this.nsTagName(n);this.getNamespaces().logUsed(this.typeNs);var r=e.$model.getPackage(i.uri),o=r.xml&&r.xml.typePrefix||"";return this.addAttribute(this.nsAttributeName(Bn),(i.prefix?i.prefix+":":"")+o+n.ns.localName),t},ai.prototype.isLocalNs=function(e){return e.uri===(this.typeNs||this.ns).uri},li.prototype=Object.create(hn.prototype),li.prototype.fromXML=function(e,t,n){m(t)||(n=t,t="postit:Definitions");var i=new qn(G({model:this,lax:!0},n)),r=i.handler(t);return i.fromXML(e,r)},li.prototype.toXML=function(e,t){var n=new ui(t);return new Promise((function(t,i){try{return t({xml:n.toXML(e)})}catch(e){return i(e)}}))};var pi={postit:JSON.parse('{"name":"Postit","uri":"http://some-company/schema/postit","prefix":"postit","xml":{"tagAlias":"lowerCase"},"types":[{"name":"BoardElement","isAbstract":true,"properties":[{"name":"name","isAttr":true,"type":"String"},{"name":"id","isAttr":true,"type":"String","isId":true}]},{"name":"PostitBoard","superClass":["RootElement"],"properties":[{"name":"boardElements","isMany":true,"type":"BoardElement"}]},{"name":"Postit","superClass":["BoardElement"],"properties":[{"name":"color","isAttr":true,"type":"String"}]},{"name":"SquarePostit","superClass":["Postit"]},{"name":"CirclePostit","superClass":["Postit"]},{"name":"TextBox","superClass":["BoardElement"]},{"name":"Group","superClass":["BoardElement"]},{"name":"Image","superClass":["BoardElement"],"properties":[{"name":"source","isAttr":true,"type":"String"}]},{"name":"RootElement","isAbstract":true,"superClass":["BoardElement"]},{"name":"Definitions","superClass":["BoardElement"],"properties":[{"name":"targetNamespace","isAttr":true,"type":"String"},{"name":"expressionLanguage","default":"http://www.w3.org/1999/XPath","isAttr":true,"type":"String"},{"name":"typeLanguage","default":"http://www.w3.org/2001/XMLSchema","isAttr":true,"type":"String"},{"name":"rootElements","type":"RootElement","isMany":true},{"name":"rootBoards","isMany":true,"type":"postitDi:PostitRootBoard"},{"name":"exporter","isAttr":true,"type":"String"},{"name":"exporterVersion","isAttr":true,"type":"String"}]}]}'),postitDi:JSON.parse('{"name":"POSTITDI","uri":"http://some-company/schema/postitdi","prefix":"postitDi","xml":{"tagAlias":"lowerCase"},"types":[{"name":"PostitRootBoard","properties":[{"name":"plane","type":"PostitPlane","redefines":"Board#rootElement"},{"name":"labelStyle","type":"PostitLabelStyle","isMany":true}],"superClass":["Board"]},{"name":"PostitPlane","properties":[{"name":"boardElement","isAttr":true,"isReference":true,"type":"postit:BoardElement","redefines":"BoardElement#modelElement"}],"superClass":["Plane"]},{"name":"PostitShape","properties":[{"name":"boardElement","isAttr":true,"isReference":true,"type":"postit:BoardElement","redefines":"BoardElement#modelElement"},{"name":"label","type":"PostitLabel"}],"superClass":["LabeledShape"]},{"name":"PostitLabel","properties":[{"name":"labelStyle","type":"PostitLabelStyle","isAttr":true,"isReference":true,"redefines":"BoardElement#style"}],"superClass":["Label"]},{"name":"PostitLabelStyle","properties":[{"name":"font","type":"dc:Font"}],"superClass":["Style"]},{"name":"BoardElement","isAbstract":true,"properties":[{"name":"id","isAttr":true,"isId":true,"type":"String"},{"name":"owningBoard","type":"Board","isReadOnly":true,"isVirtual":true,"isReference":true},{"name":"owningElement","type":"BoardElement","isReadOnly":true,"isVirtual":true,"isReference":true},{"name":"modelElement","isReadOnly":true,"isVirtual":true,"isReference":true,"type":"Element"},{"name":"style","type":"Style","isReadOnly":true,"isVirtual":true,"isReference":true}]},{"name":"Node","isAbstract":true,"superClass":["BoardElement"]},{"name":"Board","isAbstract":true,"properties":[{"name":"id","isAttr":true,"isId":true,"type":"String"},{"name":"rootElement","type":"BoardElement","isReadOnly":true,"isVirtual":true},{"name":"name","isAttr":true,"type":"String"},{"name":"resolution","isAttr":true,"type":"Real"},{"name":"ownedStyle","type":"Style","isReadOnly":true,"isMany":true,"isVirtual":true}]},{"name":"Shape","isAbstract":true,"superClass":["Node"],"properties":[{"name":"bounds","type":"dc:Bounds"}]},{"name":"Plane","isAbstract":true,"superClass":["Node"],"properties":[{"name":"planeElement","type":"BoardElement","subsettedProperty":"BoardElement-ownedElement","isMany":true}]},{"name":"LabeledEdge","isAbstract":true,"superClass":["Edge"],"properties":[{"name":"ownedLabel","type":"Label","isReadOnly":true,"subsettedProperty":"BoardElement-ownedElement","isMany":true,"isVirtual":true}]},{"name":"LabeledShape","isAbstract":true,"superClass":["Shape"],"properties":[{"name":"ownedLabel","type":"Label","isReadOnly":true,"subsettedProperty":"BoardElement-ownedElement","isMany":true,"isVirtual":true}]},{"name":"Label","isAbstract":true,"superClass":["Node"],"properties":[{"name":"bounds","type":"dc:Bounds"}]},{"name":"Style","isAbstract":true,"properties":[{"name":"id","isAttr":true,"isId":true,"type":"String"}]},{"name":"Extension","properties":[{"name":"values","isMany":true,"type":"Element"}]}],"enumerations":[],"associations":[]}'),dc:JSON.parse('{"name":"dc","uri":"http://www.omg.org/spec/DD/20100524/DC","prefix":"dc","types":[{"name":"Boolean"},{"name":"Integer"},{"name":"Real"},{"name":"String"},{"name":"Font","properties":[{"name":"name","type":"String","isAttr":true},{"name":"size","type":"Real","isAttr":true},{"name":"isBold","type":"Boolean","isAttr":true},{"name":"isItalic","type":"Boolean","isAttr":true},{"name":"isUnderline","type":"Boolean","isAttr":true},{"name":"isStrikeThrough","type":"Boolean","isAttr":true}]},{"name":"Point","properties":[{"name":"x","type":"Real","default":"0","isAttr":true},{"name":"y","type":"Real","default":"0","isAttr":true}]},{"name":"Bounds","properties":[{"name":"x","type":"Real","default":"0","isAttr":true},{"name":"y","type":"Real","default":"0","isAttr":true},{"name":"width","type":"Real","isAttr":true},{"name":"height","type":"Real","isAttr":true}]}],"associations":[]}')};function hi(e,t){return new li(G({},pi,e),t)}function di(e){return e?"<"+e.$type+(e.id?' id="'+e.id:"")+'" />':"<null>"}var fi=new(jt())({name:"boardElement",enumerable:!0},{name:"di",configurable:!0});function yi(e,t){return e.$instanceOf(t)}function vi(e,t){var n={},i=[];function r(t,n){e.error(t,n)}function o(e){n[e.id]=e}function a(e){var n=e.boardElement;n?n.di?r(t("multiple DI elements defined for {element}",{element:di(n)}),{element:n}):(fi.bind(n,"di"),n.di=e):r(t("no boardElement referenced in {element}",{element:di(e)}),{element:e})}function s(e){a(e)}function c(){for(;i.length;)i.shift()()}return{handleDeferred:c,handleDefinitions:function(n,i){var u=n.rootBoards;if(i&&-1===u.indexOf(i))throw new Error(t("rootBoard not part of postit:Definitions"));if(!i&&u&&u.length&&(i=u[0]),!i)throw new Error(t("no rootBoard to display"));!function(e){var t;a(t=e.plane),b(t.planeElement,s)}(i);var l=i.plane;if(!l)throw new Error(t("no plane for {element}",{element:di(i)}));var p=l.boardElement;if(!p){if(!(p=function(e){return _(e.rootElements,(function(e){return yi(e,"postit:PostitBoard")}))}(n)))throw new Error(t("no board to display"));r(t("correcting missing boardElement on {plane} to {rootElement}",{plane:di(l),rootElement:di(p)})),l.boardElement=p,a(l)}var h,d,f,y,v=(h=p,d=l,e.root(h,d));yi(p,"postit:PostitBoard")&&(y=v,function(n,i){b(n,(function(n){!function(n,i){try{var a=n.di&&function(n,i){if(n.gfx)throw new Error(t("already rendered {element}",{element:di(n)}));return e.element(n,i)}(n,i);o(n)}catch(e){r(e.message,{element:n,error:e}),console.error(t("failed to import {element}",{element:di(n)})),console.error(e)}}(n,i)}))}((f=p).boardElements,y),o(f)),c()},registerDi:a}}function gi(e){e=G({},xi,e),this._moddle=this._createModdle(e),this._container=this._createContainer(e),this._init(this._container,this._moddle,e)}function mi(e,t){return e.warnings=t,e}r()(gi,Zt),gi.prototype.importXML=function(e,t){var n=this;return new Promise((function(i,r){e=n._emit("import.parse.start",{xml:e})||e,n._moddle.fromXML(e,"postit:Definitions").then((function(e){var o=e.rootElement,a=e.references,s=e.warnings,c={references:a,elementsById:e.elementsById,warnings:s};o=n._emit("import.parse.complete",{definitions:o,context:c})||o,n.importDefinitions(o,t).then((function(e){var t=[].concat(s,e.warnings||[]);return n._emit("import.done",{error:null,warnings:t}),i({warnings:t})})).catch((function(e){var t=[].concat(s,e.warnings||[]);return n._emit("import.done",{error:e,warnings:t}),r(mi(e,t))}))})).catch((function(e){return n._emit("import.parse.complete",{error:e}),e=function(e){var t=/unparsable content <([^>]+)> detected([\s\S]*)$/.exec(e.message);return t&&(e.message="unparsable content <"+t[1]+"> detected; this may indicate an invalid Postit board file"+t[2]),e}(e),n._emit("import.done",{error:e,warnings:e.warnings}),r(e)}))}))},gi.prototype.importDefinitions=function(e,t){var n=this;return new Promise((function(i,r){n._setDefinitions(e),n.open(t).then((function(e){var t=e.warnings;return i({warnings:t})})).catch((function(e){return r(e)}))}))},gi.prototype.open=function(e){var t=this._definitions,n=e,i=this;return new Promise((function(r,o){if(!t){var a=new Error("no XML imported");return o(mi(a,[]))}if("string"==typeof e&&!(n=function(e,t){return t&&_(e.rootBoards,(function(e){return e.id===t}))||null}(t,e))){var s=new Error("PostitRootBoard <"+e+"> not found");return o(mi(s,[]))}try{i.clear()}catch(e){return o(mi(e,[]))}(function(e,t,n){var i,r,o,a=[];return new Promise((function(s,c){try{return i=e.get("postitImporter"),r=e.get("eventBus"),o=e.get("translate"),r.fire("import.render.start",{definitions:t}),function(e,t){new vi({root:function(e){return i.add(e)},element:function(e,t){return i.add(e,t)},error:function(e,t){a.push({message:e,context:t})}},o).handleDefinitions(e,t)}(t,n),r.fire("import.render.complete",{error:void 0,warnings:a}),s({warnings:a})}catch(e){return c(e)}}))})(i,t,n).then((function(e){var t=e.warnings;return r({warnings:t})})).catch((function(e){return o(e)}))}))},gi.prototype.saveXML=function(e){e=e||{};var t=this,n=this._definitions;return new Promise((function(i,r){if(!n){var o=new Error("no definitions loaded");return r(o)}n=t._emit("saveXML.start",{definitions:n})||n,t._moddle.toXML(n,e).then((function(e){var n=e.xml;try{n=t._emit("saveXML.serialized",{error:null,xml:n})||n,t._emit("saveXML.done",{error:null,xml:n})}catch(e){console.error("error in saveXML life-cycle listener",e)}return i({xml:n})})).catch((function(e){return r(e)}))}))},gi.prototype.saveSVG=function(e){e=e||{};var t=this;return new Promise((function(e,n){var i,r;t._emit("saveSVG.start");try{var o=t.get("canvas"),a=o.getDefaultLayer(),s=ye("defs",o._svg),c=Ue(a),u=s?"<defs>"+Ue(s)+"</defs>":"",l=a.getBBox();i='<?xml version="1.0" encoding="utf-8"?>\n\x3c!-- created with diagram-js / http://bpmn.io --\x3e\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="'+l.width+'" height="'+l.height+'" viewBox="'+l.x+" "+l.y+" "+l.width+" "+l.height+'" version="1.1">'+u+c+"</svg>"}catch(e){r=e}return t._emit("saveSVG.done",{error:r,svg:i}),r?n(r):e({svg:i})}))},gi.prototype._setDefinitions=function(e){this._definitions=e},gi.prototype.getModules=function(){return this._modules},gi.prototype.clear=function(){this.getDefinitions()&&(this.get("elementRegistry").forEach((function(e){var t=e.businessObject;t&&t.di&&delete t.di})),Zt.prototype.clear.call(this))},gi.prototype.destroy=function(){Zt.prototype.destroy.call(this),ge(this._container)},gi.prototype.on=function(e,t,n,i){return this.get("eventBus").on(e,t,n,i)},gi.prototype.off=function(e,t){this.get("eventBus").off(e,t)},gi.prototype.attachTo=function(e){if(!e)throw new Error("parentNode required");this.detach(),e.get&&e.constructor.prototype.jquery&&(e=e.get(0)),"string"==typeof e&&(e=ye(e)),e.appendChild(this._container),this._emit("attach",{}),this.get("canvas").resized()},gi.prototype.getDefinitions=function(){return this._definitions},gi.prototype.detach=function(){var e=this._container,t=e.parentNode;t&&(this._emit("detach",{}),t.removeChild(e))},gi.prototype._init=function(e,t,n){var i=n.modules||this.getModules(),r=n.additionalModules||[],o=[].concat([{postitjs:["value",this],moddle:["value",t]}],i,r),a=G(W(n,["additionalModules"]),{canvas:G({},n.canvas,{container:e}),modules:o});Zt.call(this,a),n&&n.container&&this.attachTo(n.container)},gi.prototype._emit=function(e,t){return this.get("eventBus").fire(e,t)},gi.prototype._createContainer=function(e){var t=he('<div class="pjs-container"></div>');return G(t.style,{width:_i(e.width),height:_i(e.height),position:e.position}),t},gi.prototype._createModdle=function(e){return new hi(G({},this._moddleExtensions,e.moddleExtensions))},gi.prototype._modules=[],gi.prototype._moddleExtensions={};var xi={width:"100%",height:"100%",position:"relative"};function _i(e){return e+(v(e)?"px":"")}function wi(e){gi.call(this,e),this.on("import.parse.complete",(function(e){e.error||this._collectIds(e.definitions,e.context)}),this),this.on("diagram.destroy",(function(){this.get("moddle").ids.clear()}),this)}function bi(e,t){var n=Ei(e);return n&&"function"==typeof n.$instanceOf&&n.$instanceOf(t)}function Ei(e){return e&&e.businessObject||e}function Si(e,t){return T(t,(function(t){return bi(e,t)}))}function Ti(e){if(Si(e,["postit:Postit","postit:TextBox","postit:Group"]))return"name"}function ki(e){var t=e.businessObject,n=Ti(t);if(n)return t[n]||""}function Ci(e){return e.businessObject.di}function Mi(e,t){return ji(e)||Ci(e).get("bioc:fill")||t||"white"}function Pi(e,t){return ji(e)||Ci(e).get("bioc:stroke")||t||"black"}function ji(e){return Ei(e).color||e.color}function Bi(e,t,n,i,r,o,a){it.call(this,t,a);var s=e&&e.defaultFillColor,c=e&&e.defaultStrokeColor,u=n.computeStyle;function l(e,t,n,i,r,o){y(r)&&(o=r,r=0),r=r||0,o=u(o,{stroke:"black",strokeWidth:2,fill:"white"});var a=Ne("rect");return be(a,{x:r,y:r,width:t-2*r,height:n-2*r,rx:i,ry:i}),be(a,o),xe(e,a),a}function p(e,t,n){n=G({size:{width:100}},n);var i=o.createText(t||"",n);return Ce(i).add("djs-label"),xe(e,i),i}function h(e,t,n,i){return p(e,function(e){return e.businessObject}(t).name,{box:t,align:n,padding:5,style:{fill:"black"===Ai(t)?"white":"black",fontSize:i||16}})}this.handlers={"postit:SquarePostit":function(e,t){var n={fill:Mi(t,s),stroke:Pi(t,c)};"fillOpacity"in n||(n.fillOpacity=.95);var i=l(e,t.width,t.height,0,n);return h(e,t,"center-middle"),i},"postit:Group":function(e,t){return l(e,t.width,t.height,10,{stroke:"black",strokeWidth:1,strokeDasharray:"8,3,1,3",fill:"none",pointerEvents:"none"})},"postit:CirclePostit":function(e,t){var n={fill:Mi(t,s),stroke:Pi(t,c)};"fillOpacity"in n||(n.fillOpacity=.95);var i=function(e,t,n,i,r){y(i)&&(r=i,i=0),i=i||0,"none"===(r=u(r,{stroke:"black",strokeWidth:2,fill:"white"})).fill&&delete r.fillOpacity;var o=t/2,a=n/2,s=Ne("circle");return be(s,{cx:o,cy:a,r:Math.round((t+n)/4-i)}),be(s,r),xe(e,s),s}(e,t.width,t.height,n);return h(e,t,"center-middle"),i},"postit:TextBox":function(e,t){var n=t.textSize||16,i=l(e,t.width,t.height,0,{fill:"none",stroke:"none"});return h(e,t,"center-middle",n),i},"postit:Image":function(e,t){var n;return Ri(t)?xe(e,n=Ne("image",{x:0,y:0,width:t.width,height:t.height,href:Ri(t)})):(n=l(e,t.width,t.height,0,{fill:"#ccc",stroke:"#ccc"}),p(e,"Image Placeholder",{box:t,align:"center-middle",padding:5,style:{fill:"black",fontSize:16}})),n},label:function(e,t){return function(e,t){var n={width:90,height:30,x:t.width/2+t.x,y:t.height/2+t.y};return p(e,ki(t),{box:n,fitBox:!0,style:G({},o.getExternalStyle(),{fill:"black"})})}(e,t)}},this._drawPath=function(e,t,n){n=u(n,["no-fill"],{strokeWidth:2,stroke:"black"});var i=Ne("path");return be(i,{d:t}),be(i,n),xe(e,i),i}}function Ai(e){return Ei(e).color||e.color}function Ri(e){return Ei(e).source||e.source}r()(wi,gi),wi.prototype._createModdle=function(e){var t=gi.prototype._createModdle.call(this,e);return t.ids=new s([32,36,1]),t},wi.prototype._collectIds=function(e,t){var n,i=e.$model.ids;for(n in i.clear(),t.elementsById)i.claim(n,t.elementsById[n])},r()(Bi,it),Bi.$inject=["config.postit","eventBus","styles","pathMap","canvas","textRenderer"],Bi.prototype.canRender=function(e){return bi(e,"postit:BoardElement")},Bi.prototype.drawShape=function(e,t){var n=t.type;return(0,this.handlers[n])(e,t)},Bi.prototype.getShapePath=function(e){return rt([["M",(t=e).x,t.y],["l",n=t.width,0],["l",0,t.height],["l",-n,0],["z"]]);var t,n};var Oi={width:150,height:50};function Ni(e,t){var n;t.textContent=e;try{var i,r=""===e;return t.textContent=r?"dummy":e,i={width:(n=t.getBBox()).width+2*n.x,height:n.height},r&&(i.width=0),i}catch(e){return{width:0,height:0}}}function Li(e,t,n){for(var i,r=e.shift(),o=r;;){if((i=Ni(o,n)).width=o?i.width:0," "===o||""===o||i.width<Math.round(t)||o.length<2)return zi(e,o,r,i);o=Di(o,i.width,t)}}function zi(e,t,n,i){if(t.length<n.length){var r=n.slice(t.length).trim();e.unshift(r)}return{width:i.width,height:i.height,text:t}}function Di(e,t,n){var i=Math.max(e.length*(n/t),1),r=function(e,t){var n,i=e.split(/(\s|-|\u00AD)/g),r=[],o=0;if(i.length>1)for(;n=i.shift();){if(!(n.length+o<t)){"-"!==n&&"­"!==n||r.pop();break}r.push(n),o+=n.length}var a=r[r.length-1];return a&&"­"===a&&(r[r.length-1]="-"),r.join("")}(e,i);return r||(r=e.slice(0,Math.max(Math.round(i-1),1))),r}function Ii(e){this._config=G({},{size:Oi,padding:0,style:{},align:"center-top"},e||{})}function $i(e){var t=G({fontFamily:"IBM Plex, sans-serif",fontSize:16,fontWeight:"normal",lineHeight:1.2},e&&e.defaultStyle||{}),n=parseInt(t.fontSize,10)-1,i=G({},t,{fontSize:n},e&&e.externalStyle||{}),r=new Ii({style:t});this.getExternalLabelBounds=function(e,t){var n=r.getDimensions(t,{box:{width:90,height:30,x:e.width/2+e.x,y:e.height/2+e.y},style:i});return{x:Math.round(e.x+e.width/2-n.width/2),y:Math.round(e.y),width:Math.ceil(n.width),height:Math.ceil(n.height)}},this.createText=function(e,t){return r.createText(e,t||{})},this.getDefaultStyle=function(){return t},this.getExternalStyle=function(){return i}}Ii.prototype.createText=function(e,t){return this.layoutText(e,t).element},Ii.prototype.getDimensions=function(e,t){return this.layoutText(e,t).dimensions},Ii.prototype.layoutText=function(e,t){var n,i=G({},this._config.size,t.box),r=G({},this._config.style,t.style),o=function(e){var t=e.split("-");return{horizontal:t[0]||"center",vertical:t[1]||"top"}}(t.align||this._config.align),a=function(e){return y(e)?G({top:0,left:0,right:0,bottom:0},e):{top:e,left:e,right:e,bottom:e}}(void 0!==t.padding?t.padding:this._config.padding),s=t.fitBox||!1,c=function(e){if("fontSize"in e&&"lineHeight"in e)return e.lineHeight*parseInt(e.fontSize,10)}(r),u=e.split(/\u00AD?\r?\n/),l=[],p=i.width-a.left-a.right,h=Ne("text");for(be(h,{x:0,y:0}),be(h,r),xe((n=void 0,(n=document.getElementById("helper-svg"))||(be(n=Ne("svg"),{id:"helper-svg",width:0,height:0,style:"visibility: hidden; position: fixed"}),document.body.appendChild(n)),n),h);u.length;)l.push(Li(u,p,h));"middle"===o.vertical&&(a.top=a.bottom=0);var d=E(l,(function(e,t,n){return e+(c||t.height)}),0)+a.top+a.bottom,f=E(l,(function(e,t,n){return t.width>e?t.width:e}),0),v=a.top;"middle"===o.vertical&&(v+=(i.height-d)/2),v-=(c||l[0].height)/4;var g=Ne("text");return be(g,r),b(l,(function(e){var t;switch(v+=c||e.height,o.horizontal){case"left":t=a.left;break;case"right":t=(s?f:p)-a.right-e.width;break;default:t=Math.max(((s?f:p)-e.width)/2+a.left,0)}var n=Ne("tspan");be(n,{x:t,y:v}),n.textContent=e.text,xe(g,n)})),Pe(h),{dimensions:{width:f,height:d},element:g}},$i.$inject=["config.textRenderer"];var Fi=/\{([^}]+)\}/g,Hi=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g;const Gi={__init__:["postitRenderer"],postitRenderer:["type",Bi],textRenderer:["type",$i],pathMap:["type",function(){this.pathMap={EVENT_MESSAGE:{d:"m {mx},{my} l 0,{e.y1} l {e.x1},0 l 0,-{e.y1} z l {e.x0},{e.y0} l {e.x0},-{e.y0}",height:36,width:36,heightElements:[6,14],widthElements:[10.5,21]},EVENT_SIGNAL:{d:"M {mx},{my} l {e.x0},{e.y0} l -{e.x1},0 Z",height:36,width:36,heightElements:[18],widthElements:[10,20]},EVENT_ESCALATION:{d:"M {mx},{my} l {e.x0},{e.y0} l -{e.x0},-{e.y1} l -{e.x0},{e.y1} Z",height:36,width:36,heightElements:[20,7],widthElements:[8]},EVENT_CONDITIONAL:{d:"M {e.x0},{e.y0} l {e.x1},0 l 0,{e.y2} l -{e.x1},0 Z M {e.x2},{e.y3} l {e.x0},0 M {e.x2},{e.y4} l {e.x0},0 M {e.x2},{e.y5} l {e.x0},0 M {e.x2},{e.y6} l {e.x0},0 M {e.x2},{e.y7} l {e.x0},0 M {e.x2},{e.y8} l {e.x0},0 ",height:36,width:36,heightElements:[8.5,14.5,18,11.5,14.5,17.5,20.5,23.5,26.5],widthElements:[10.5,14.5,12.5]},EVENT_LINK:{d:"m {mx},{my} 0,{e.y0} -{e.x1},0 0,{e.y1} {e.x1},0 0,{e.y0} {e.x0},-{e.y2} -{e.x0},-{e.y2} z",height:36,width:36,heightElements:[4.4375,6.75,7.8125],widthElements:[9.84375,13.5]},EVENT_ERROR:{d:"m {mx},{my} {e.x0},-{e.y0} {e.x1},-{e.y1} {e.x2},{e.y2} {e.x3},-{e.y3} -{e.x4},{e.y4} -{e.x5},-{e.y5} z",height:36,width:36,heightElements:[.023,8.737,8.151,16.564,10.591,8.714],widthElements:[.085,6.672,6.97,4.273,5.337,6.636]},EVENT_CANCEL_45:{d:"m {mx},{my} -{e.x1},0 0,{e.x0} {e.x1},0 0,{e.y1} {e.x0},0 0,-{e.y1} {e.x1},0 0,-{e.y0} -{e.x1},0 0,-{e.y1} -{e.x0},0 z",height:36,width:36,heightElements:[4.75,8.5],widthElements:[4.75,8.5]},EVENT_COMPENSATION:{d:"m {mx},{my} {e.x0},-{e.y0} 0,{e.y1} z m {e.x1},-{e.y2} {e.x2},-{e.y3} 0,{e.y1} -{e.x2},-{e.y3} z",height:36,width:36,heightElements:[6.5,13,.4,6.1],widthElements:[9,9.3,8.7]},EVENT_TIMER_WH:{d:"M {mx},{my} l {e.x0},-{e.y0} m -{e.x0},{e.y0} l {e.x1},{e.y1} ",height:36,width:36,heightElements:[10,2],widthElements:[3,7]},EVENT_TIMER_LINE:{d:"M {mx},{my} m {e.x0},{e.y0} l -{e.x1},{e.y1} ",height:36,width:36,heightElements:[10,3],widthElements:[0,0]},EVENT_MULTIPLE:{d:"m {mx},{my} {e.x1},-{e.y0} {e.x1},{e.y0} -{e.x0},{e.y1} -{e.x2},0 z",height:36,width:36,heightElements:[6.28099,12.56199],widthElements:[3.1405,9.42149,12.56198]},EVENT_PARALLEL_MULTIPLE:{d:"m {mx},{my} {e.x0},0 0,{e.y1} {e.x1},0 0,{e.y0} -{e.x1},0 0,{e.y1} -{e.x0},0 0,-{e.y1} -{e.x1},0 0,-{e.y0} {e.x1},0 z",height:36,width:36,heightElements:[2.56228,7.68683],widthElements:[2.56228,7.68683]},GATEWAY_EXCLUSIVE:{d:"m {mx},{my} {e.x0},{e.y0} {e.x1},{e.y0} {e.x2},0 {e.x4},{e.y2} {e.x4},{e.y1} {e.x2},0 {e.x1},{e.y3} {e.x0},{e.y3} {e.x3},0 {e.x5},{e.y1} {e.x5},{e.y2} {e.x3},0 z",height:17.5,width:17.5,heightElements:[8.5,6.5312,-6.5312,-8.5],widthElements:[6.5,-6.5,3,-3,5,-5]},GATEWAY_PARALLEL:{d:"m {mx},{my} 0,{e.y1} -{e.x1},0 0,{e.y0} {e.x1},0 0,{e.y1} {e.x0},0 0,-{e.y1} {e.x1},0 0,-{e.y0} -{e.x1},0 0,-{e.y1} -{e.x0},0 z",height:30,width:30,heightElements:[5,12.5],widthElements:[5,12.5]},GATEWAY_EVENT_BASED:{d:"m {mx},{my} {e.x0},{e.y0} {e.x0},{e.y1} {e.x1},{e.y2} {e.x2},0 z",height:11,width:11,heightElements:[-6,6,12,-12],widthElements:[9,-3,-12]},GATEWAY_COMPLEX:{d:"m {mx},{my} 0,{e.y0} -{e.x0},-{e.y1} -{e.x1},{e.y2} {e.x0},{e.y1} -{e.x2},0 0,{e.y3} {e.x2},0  -{e.x0},{e.y1} l {e.x1},{e.y2} {e.x0},-{e.y1} 0,{e.y0} {e.x3},0 0,-{e.y0} {e.x0},{e.y1} {e.x1},-{e.y2} -{e.x0},-{e.y1} {e.x2},0 0,-{e.y3} -{e.x2},0 {e.x0},-{e.y1} -{e.x1},-{e.y2} -{e.x0},{e.y1} 0,-{e.y0} -{e.x3},0 z",height:17.125,width:17.125,heightElements:[4.875,3.4375,2.125,3],widthElements:[3.4375,2.125,4.875,3]},DATA_OBJECT_PATH:{d:"m 0,0 {e.x1},0 {e.x0},{e.y0} 0,{e.y1} -{e.x2},0 0,-{e.y2} {e.x1},0 0,{e.y0} {e.x0},0",height:61,width:51,heightElements:[10,50,60],widthElements:[10,40,50,60]},DATA_OBJECT_COLLECTION_PATH:{d:"m {mx}, {my} m  0 15  l 0 -15 m  4 15  l 0 -15 m  4 15  l 0 -15 ",height:61,width:51,heightElements:[12],widthElements:[1,6,12,15]},DATA_ARROW:{d:"m 5,9 9,0 0,-3 5,5 -5,5 0,-3 -9,0 z",height:61,width:51,heightElements:[],widthElements:[]},DATA_STORE:{d:"m  {mx},{my} l  0,{e.y2} c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0 l  0,-{e.y2} c -{e.x0},-{e.y1} -{e.x1},-{e.y1} -{e.x2},0c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0 m  -{e.x2},{e.y0}c  {e.x0},{e.y1} {e.x1},{e.y1} {e.x2},0m  -{e.x2},{e.y0}c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0",height:61,width:61,heightElements:[7,10,45],widthElements:[2,58,60]},TEXT_ANNOTATION:{d:"m {mx}, {my} m 10,0 l -10,0 l 0,{e.y0} l 10,0",height:30,width:10,heightElements:[30],widthElements:[10]},MARKER_SUB_PROCESS:{d:"m{mx},{my} m 7,2 l 0,10 m -5,-5 l 10,0",height:10,width:10,heightElements:[],widthElements:[]},MARKER_PARALLEL:{d:"m{mx},{my} m 3,2 l 0,10 m 3,-10 l 0,10 m 3,-10 l 0,10",height:10,width:10,heightElements:[],widthElements:[]},MARKER_SEQUENTIAL:{d:"m{mx},{my} m 0,3 l 10,0 m -10,3 l 10,0 m -10,3 l 10,0",height:10,width:10,heightElements:[],widthElements:[]},MARKER_COMPENSATION:{d:"m {mx},{my} 7,-5 0,10 z m 7.1,-0.3 6.9,-4.7 0,10 -6.9,-4.7 z",height:10,width:21,heightElements:[],widthElements:[]},MARKER_LOOP:{d:"m {mx},{my} c 3.526979,0 6.386161,-2.829858 6.386161,-6.320661 0,-3.490806 -2.859182,-6.320661 -6.386161,-6.320661 -3.526978,0 -6.38616,2.829855 -6.38616,6.320661 0,1.745402 0.714797,3.325567 1.870463,4.469381 0.577834,0.571908 1.265885,1.034728 2.029916,1.35457 l -0.718163,-3.909793 m 0.718163,3.909793 -3.885211,0.802902",height:13.9,width:13.7,heightElements:[],widthElements:[]},MARKER_ADHOC:{d:"m {mx},{my} m 0.84461,2.64411 c 1.05533,-1.23780996 2.64337,-2.07882 4.29653,-1.97997996 2.05163,0.0805 3.85579,1.15803 5.76082,1.79107 1.06385,0.34139996 2.24454,0.1438 3.18759,-0.43767 0.61743,-0.33642 1.2775,-0.64078 1.7542,-1.17511 0,0.56023 0,1.12046 0,1.6807 -0.98706,0.96237996 -2.29792,1.62393996 -3.6918,1.66181996 -1.24459,0.0927 -2.46671,-0.2491 -3.59505,-0.74812 -1.35789,-0.55965 -2.75133,-1.33436996 -4.27027,-1.18121996 -1.37741,0.14601 -2.41842,1.13685996 -3.44288,1.96782996 z",height:4,width:15,heightElements:[],widthElements:[]},TASK_TYPE_SEND:{d:"m {mx},{my} l 0,{e.y1} l {e.x1},0 l 0,-{e.y1} z l {e.x0},{e.y0} l {e.x0},-{e.y0}",height:14,width:21,heightElements:[6,14],widthElements:[10.5,21]},TASK_TYPE_SCRIPT:{d:"m {mx},{my} c 9.966553,-6.27276 -8.000926,-7.91932 2.968968,-14.938 l -8.802728,0 c -10.969894,7.01868 6.997585,8.66524 -2.968967,14.938 z m -7,-12 l 5,0 m -4.5,3 l 4.5,0 m -3,3 l 5,0m -4,3 l 5,0",height:15,width:12.6,heightElements:[6,14],widthElements:[10.5,21]},TASK_TYPE_USER_1:{d:"m {mx},{my} c 0.909,-0.845 1.594,-2.049 1.594,-3.385 0,-2.554 -1.805,-4.62199999 -4.357,-4.62199999 -2.55199998,0 -4.28799998,2.06799999 -4.28799998,4.62199999 0,1.348 0.974,2.562 1.89599998,3.405 -0.52899998,0.187 -5.669,2.097 -5.794,4.7560005 v 6.718 h 17 v -6.718 c 0,-2.2980005 -5.5279996,-4.5950005 -6.0509996,-4.7760005 zm -8,6 l 0,5.5 m 11,0 l 0,-5"},TASK_TYPE_USER_2:{d:"m {mx},{my} m 2.162,1.009 c 0,2.4470005 -2.158,4.4310005 -4.821,4.4310005 -2.66499998,0 -4.822,-1.981 -4.822,-4.4310005 "},TASK_TYPE_USER_3:{d:"m {mx},{my} m -6.9,-3.80 c 0,0 2.25099998,-2.358 4.27399998,-1.177 2.024,1.181 4.221,1.537 4.124,0.965 -0.098,-0.57 -0.117,-3.79099999 -4.191,-4.13599999 -3.57499998,0.001 -4.20799998,3.36699999 -4.20699998,4.34799999 z"},TASK_TYPE_MANUAL:{d:"m {mx},{my} c 0.234,-0.01 5.604,0.008 8.029,0.004 0.808,0 1.271,-0.172 1.417,-0.752 0.227,-0.898 -0.334,-1.314 -1.338,-1.316 -2.467,-0.01 -7.886,-0.004 -8.108,-0.004 -0.014,-0.079 0.016,-0.533 0,-0.61 0.195,-0.042 8.507,0.006 9.616,0.002 0.877,-0.007 1.35,-0.438 1.353,-1.208 0.003,-0.768 -0.479,-1.09 -1.35,-1.091 -2.968,-0.002 -9.619,-0.013 -9.619,-0.013 v -0.591 c 0,0 5.052,-0.016 7.225,-0.016 0.888,-0.002 1.354,-0.416 1.351,-1.193 -0.006,-0.761 -0.492,-1.196 -1.361,-1.196 -3.473,-0.005 -10.86,-0.003 -11.0829995,-0.003 -0.022,-0.047 -0.045,-0.094 -0.069,-0.139 0.3939995,-0.319 2.0409995,-1.626 2.4149995,-2.017 0.469,-0.4870005 0.519,-1.1650005 0.162,-1.6040005 -0.414,-0.511 -0.973,-0.5 -1.48,-0.236 -1.4609995,0.764 -6.5999995,3.6430005 -7.7329995,4.2710005 -0.9,0.499 -1.516,1.253 -1.882,2.19 -0.37000002,0.95 -0.17,2.01 -0.166,2.979 0.004,0.718 -0.27300002,1.345 -0.055,2.063 0.629,2.087 2.425,3.312 4.859,3.318 4.6179995,0.014 9.2379995,-0.139 13.8569995,-0.158 0.755,-0.004 1.171,-0.301 1.182,-1.033 0.012,-0.754 -0.423,-0.969 -1.183,-0.973 -1.778,-0.01 -5.824,-0.004 -6.04,-0.004 10e-4,-0.084 0.003,-0.586 10e-4,-0.67 z"},TASK_TYPE_INSTANTIATING_SEND:{d:"m {mx},{my} l 0,8.4 l 12.6,0 l 0,-8.4 z l 6.3,3.6 l 6.3,-3.6"},TASK_TYPE_SERVICE:{d:"m {mx},{my} v -1.71335 c 0.352326,-0.0705 0.703932,-0.17838 1.047628,-0.32133 0.344416,-0.14465 0.665822,-0.32133 0.966377,-0.52145 l 1.19431,1.18005 1.567487,-1.57688 -1.195028,-1.18014 c 0.403376,-0.61394 0.683079,-1.29908 0.825447,-2.01824 l 1.622133,-0.01 v -2.2196 l -1.636514,0.01 c -0.07333,-0.35153 -0.178319,-0.70024 -0.323564,-1.04372 -0.145244,-0.34406 -0.321407,-0.6644 -0.522735,-0.96217 l 1.131035,-1.13631 -1.583305,-1.56293 -1.129598,1.13589 c -0.614052,-0.40108 -1.302883,-0.68093 -2.022633,-0.82247 l 0.0093,-1.61852 h -2.241173 l 0.0042,1.63124 c -0.353763,0.0736 -0.705369,0.17977 -1.049785,0.32371 -0.344415,0.14437 -0.665102,0.32092 -0.9635006,0.52046 l -1.1698628,-1.15823 -1.5667691,1.5792 1.1684265,1.15669 c -0.4026573,0.61283 -0.68308,1.29797 -0.8247287,2.01713 l -1.6588041,0.003 v 2.22174 l 1.6724648,-0.006 c 0.073327,0.35077 0.1797598,0.70243 0.3242851,1.04472 0.1452428,0.34448 0.3214064,0.6644 0.5227339,0.96066 l -1.1993431,1.19723 1.5840256,1.56011 1.1964668,-1.19348 c 0.6140517,0.40346 1.3028827,0.68232 2.0233517,0.82331 l 7.19e-4,1.69892 h 2.226848 z m 0.221462,-3.9957 c -1.788948,0.7502 -3.8576,-0.0928 -4.6097055,-1.87438 -0.7521065,-1.78321 0.090598,-3.84627 1.8802645,-4.59604 1.78823,-0.74936 3.856881,0.0929 4.608987,1.87437 0.752106,1.78165 -0.0906,3.84612 -1.879546,4.59605 z"},TASK_TYPE_SERVICE_FILL:{d:"m {mx},{my} c -1.788948,0.7502 -3.8576,-0.0928 -4.6097055,-1.87438 -0.7521065,-1.78321 0.090598,-3.84627 1.8802645,-4.59604 1.78823,-0.74936 3.856881,0.0929 4.608987,1.87437 0.752106,1.78165 -0.0906,3.84612 -1.879546,4.59605 z"},TASK_TYPE_BUSINESS_RULE_HEADER:{d:"m {mx},{my} 0,4 20,0 0,-4 z"},TASK_TYPE_BUSINESS_RULE_MAIN:{d:"m {mx},{my} 0,12 20,0 0,-12 zm 0,8 l 20,0 m -13,-4 l 0,8"},MESSAGE_FLOW_MARKER:{d:"m {mx},{my} m -10.5 ,-7 l 0,14 l 21,0 l 0,-14 z l 10.5,6 l 10.5,-6"}},this.getRawPath=function(e){return this.pathMap[e].d},this.getScaledPath=function(e,t){var n,i,r=this.pathMap[e];t.abspos?(n=t.abspos.x,i=t.abspos.y):(n=t.containerWidth*t.position.mx,i=t.containerHeight*t.position.my);var o,a,s={};if(t.position){for(var c=t.containerHeight/r.height*t.yScaleFactor,u=t.containerWidth/r.width*t.xScaleFactor,l=0;l<r.heightElements.length;l++)s["y"+l]=r.heightElements[l]*c;for(var p=0;p<r.widthElements.length;p++)s["x"+p]=r.widthElements[p]*u}return o=r.d,a={mx:n,my:i,e:s},String(o).replace(Fi,(function(e,t){return function(e,t,n){var i=n;return t.replace(Hi,(function(e,t,n,r,o){t=t||r,i&&(t in i&&(i=i[t]),"function"==typeof i&&o&&(i=i()))})),i=(null==i||i==n?e:i)+""}(e,t,a)}))}}]},Ui={translate:["value",function(e,t){return t=t||{},e.replace(/{([^}]+)}/g,(function(e,n){return t[n]||"{"+n+"}"}))}]};var Wi={width:90,height:20};function Vi(e){return bi(e,"postit:Group")}function qi(e){return Xi(e.label)}function Yi(e){return bi(e,"postit:Group")?{x:e.x+e.width/2,y:e.y+Wi.height/2}:{x:e.x+e.width/2,y:e.y+e.height+Wi.height/2}}function Xi(e){return e&&!!e.labelTarget}function Ki(e,t){return G({id:e.id,type:e.$type,businessObject:e},t)}function Zi(e,t,n,i){return new Error(e("element {element} referenced by {referenced}#{property} not yet drawn",{element:di(n),referenced:di(t),property:i}))}function Ji(e,t,n,i,r,o){this._eventBus=e,this._canvas=t,this._elementFactory=n,this._elementRegistry=i,this._translate=r,this._textRenderer=o}Ji.$inject=["eventBus","canvas","elementFactory","elementRegistry","translate","textRenderer"],Ji.prototype.add=function(e,t){var n,i,r=e.di,o=this._translate;if(bi(r,"postitDi:PostitPlane"))n=this._elementFactory.createRoot(Ki(e)),this._canvas.setRootElement(n);else{if(!bi(r,"postitDi:PostitShape"))throw new Error(o("unknown di {di} for element {semantic}",{di:di(r),semantic:di(e)}));var a=function(e){return bi(e,"postit:Group")}(e);i=t&&(t.hidden||t.collapsed);var s=e.di.bounds;n=this._elementFactory.createShape(Ki(e,{hidden:i,x:Math.round(s.x),y:Math.round(s.y),width:Math.round(s.width),height:Math.round(s.height),isFrame:a})),this._canvas.addShape(n,t,void 0)}return Vi(e)&&ki(n)&&this.addLabel(e,n),this._eventBus.fire("boardElement.added",{element:n}),n},Ji.prototype._attachBoundary=function(e,t){var n=this._translate,i=e.attachedToRef;if(!i)throw new Error(n("missing {semantic}#attachedToRef",{semantic:di(e)}));var r=this._elementRegistry.get(i.id),o=r&&r.attachers;if(!r)throw Zi(n,e,i,"attachedToRef");t.host=r,o||(r.attachers=o=[]),-1===o.indexOf(t)&&o.push(t)},Ji.prototype.addLabel=function(e,t){var n,i,r;return n=function(e,t){var n,i,r,o=e.di.label;return o&&o.bounds?(r=o.bounds,i={width:Math.max(Wi.width,r.width),height:r.height},n={x:r.x+r.width/2,y:r.y+r.height/2}):(n=Yi(t),i=Wi),G({x:n.x-i.width/2,y:n.y-i.height/2},i)}(e,t),(i=ki(t))&&(n=this._textRenderer.getExternalLabelBounds(n,i)),r=this._elementFactory.createLabel(Ki(e,{id:e.id+"_label",labelTarget:t,type:"label",hidden:t.hidden||!ki(t),x:Math.round(n.x),y:Math.round(n.y),width:Math.round(n.width),height:Math.round(n.height)})),this._canvas.addShape(r,t.parent)},Ji.prototype._getEnd=function(e,t){var n,i,r=this._translate;if(n=(i=e[t+"Ref"])&&this._getElement(i))return n;throw i?Zi(r,e,i,t+"Ref"):new Error(r("{semantic}#{side} Ref not specified",{semantic:di(e),side:t}))},Ji.prototype._getSource=function(e){return this._getEnd(e,"source")},Ji.prototype._getTarget=function(e){return this._getEnd(e,"target")},Ji.prototype._getElement=function(e){return this._elementRegistry.get(e.id)};const Qi={__depends__:[Gi,{__depends__:[Ui],postitImporter:["type",Ji]}]};function er(e){e&&"function"==typeof e.stopPropagation&&e.stopPropagation()}function tr(e){return e.originalEvent||e.srcEvent}function nr(e,t){er(e),er(tr(e))}function ir(e){return e.pointers&&e.pointers.length&&(e=e.pointers[0]),e.touches&&e.touches.length&&(e=e.touches[0]),e?{x:e.clientX,y:e.clientY}:null}function rr(e,t){return(tr(e)||e).button===t}function or(e){return rr(e,0)}function ar(e){var t=tr(e)||e;return!!or(e)&&(/mac/i.test(navigator.platform)?t.metaKey:t.ctrlKey)}function sr(e){var t=tr(e)||e;return or(e)&&t.shiftKey}function cr(e){return!0}function ur(e){return or(e)||function(e){return rr(e,1)}(e)}function lr(e,t,n){var i=this;function r(n,i,r){var o,a;(function(e,t){return!(c[e]||or)(t)})(n,i)||(r?a=t.getGraphics(r):(o=i.delegateTarget||i.target)&&(a=o,r=t.get(a)),a&&r&&!1===e.fire(n,{element:r,gfx:a,originalEvent:i})&&(i.stopPropagation(),i.preventDefault()))}var o={};function a(e){return o[e]}var s={click:"element.click",contextmenu:"element.contextmenu",dblclick:"element.dblclick",mousedown:"element.mousedown",mousemove:"element.mousemove",mouseover:"element.hover",mouseout:"element.out",mouseup:"element.mouseup"},c={"element.contextmenu":cr,"element.mousedown":ur,"element.mouseup":ur,"element.click":ur,"element.dblclick":ur};function u(e,t,n,i){var a=o[n]=function(e){r(n,e)};i&&(c[n]=i),a.$delegate=le(e,"svg, .djs-element",t,a)}function l(e,t,n){var i=a(n);i&&pe(e,t,i.$delegate)}e.on("canvas.destroy",(function(e){var t;t=e.svg,b(s,(function(e,n){l(t,n,e)}))})),e.on("canvas.init",(function(e){var t;t=e.svg,b(s,(function(e,n){u(t,n,e)}))})),e.on(["shape.added","connection.added"],(function(t){var n=t.element,i=t.gfx;e.fire("interactionEvents.createHit",{element:n,gfx:i})})),e.on(["shape.changed","connection.changed"],500,(function(t){var n=t.element,i=t.gfx;e.fire("interactionEvents.updateHit",{element:n,gfx:i})})),e.on("interactionEvents.createHit",500,(function(e){var t=e.element,n=e.gfx;i.createDefaultHit(t,n)})),e.on("interactionEvents.updateHit",(function(e){var t=e.element,n=e.gfx;i.updateDefaultHit(t,n)}));var p=f("djs-hit djs-hit-stroke"),h=f("djs-hit djs-hit-click-stroke"),d={all:f("djs-hit djs-hit-all"),"click-stroke":h,stroke:p};function f(e,t){return t=G({stroke:"white",strokeWidth:15},t||{}),n.cls(e,["no-fill","no-border"],t)}function y(e,t){var n=d[t];if(!n)throw new Error("invalid hit type <"+t+">");return be(e,n),e}function v(e,t){xe(e,t)}this.removeHits=function(e){b(ve(".djs-hit",e),Pe)},this.createDefaultHit=function(e,t){var n,i=e.waypoints,r=e.isFrame;return i?this.createWaypointsHit(t,i):(n=r?"stroke":"all",this.createBoxHit(t,n,{width:e.width,height:e.height}))},this.createWaypointsHit=function(e,t){var n=at(t);return y(n,"stroke"),v(e,n),n},this.createBoxHit=function(e,t,n){n=G({x:0,y:0},n);var i=Ne("rect");return y(i,t),be(i,n),v(e,i),i},this.updateDefaultHit=function(e,t){var n=ye(".djs-hit",t);if(n)return e.waypoints?function(e,t){be(e,{points:ot(t)})}(n,e.waypoints):be(n,{width:e.width,height:e.height}),n},this.fire=r,this.triggerMouseEvent=function(e,t,n){var i=s[e];if(!i)throw new Error("unmapped DOM event name <"+e+">");return r(i,t,n)},this.mouseHandler=a,this.registerEvent=u,this.unregisterEvent=l}lr.$inject=["eventBus","elementRegistry","styles"];const pr={__init__:["interactionEvents"],interactionEvents:["type",lr]};function hr(e,t,n){this.offset=6;var i=t.cls("djs-outline",["no-fill"]),r=this;function o(e,t){var n=Ne("rect");return be(n,G({x:10,y:10,width:100,height:100},i)),xe(e,n),n}e.on(["shape.added","shape.changed"],500,(function(e){var t=e.element,n=e.gfx,i=ye(".djs-outline",n);i||(i=o(n)),r.updateShapeOutline(i,t)})),e.on(["connection.added","connection.changed"],(function(e){var t=e.element,n=e.gfx,i=ye(".djs-outline",n);i||(i=o(n)),r.updateConnectionOutline(i,t)}))}hr.prototype.updateShapeOutline=function(e,t){be(e,{x:-this.offset,y:-this.offset,width:t.width+2*this.offset,height:t.height+2*this.offset})},hr.prototype.updateConnectionOutline=function(e,t){var n=ht(t);be(e,{x:n.x-this.offset,y:n.y-this.offset,width:n.width+2*this.offset,height:n.height+2*this.offset})},hr.$inject=["eventBus","styles","elementRegistry"];const dr={__init__:["outline"],outline:["type",hr]};function fr(e){this._eventBus=e,this._selectedElements=[];var t=this;e.on(["shape.remove","connection.remove"],(function(e){var n=e.element;t.deselect(n)})),e.on(["diagram.clear"],(function(e){t.select(null)}))}fr.$inject=["eventBus"],fr.prototype.deselect=function(e){var t=this._selectedElements,n=t.indexOf(e);if(-1!==n){var i=t.slice();t.splice(n,1),this._eventBus.fire("selection.changed",{oldSelection:i,newSelection:t})}},fr.prototype.get=function(){return this._selectedElements},fr.prototype.isSelected=function(e){return-1!==this._selectedElements.indexOf(e)},fr.prototype.select=function(e,t){var n=this._selectedElements,i=n.slice();f(e)||(e=e?[e]:[]),t?b(e,(function(e){-1===n.indexOf(e)&&n.push(e)})):this._selectedElements=n=e.slice(),this._eventBus.fire("selection.changed",{oldSelection:i,newSelection:n})};var yr="hover",vr="selected";function gr(e,t,n,i){function r(e,n){t.addMarker(e,n)}function o(e,n){t.removeMarker(e,n)}this._multiSelectionBox=null,e.on("element.hover",(function(e){r(e.element,yr)})),e.on("element.out",(function(e){o(e.element,yr)})),e.on("selection.changed",(function(e){var t=e.oldSelection,n=e.newSelection;b(t,(function(e){-1===n.indexOf(e)&&o(e,vr)})),b(n,(function(e){-1===t.indexOf(e)&&r(e,vr)}))}))}function mr(e,t,n,i){e.on("create.end",500,(function(e){var n=e.context,i=n.canExecute,r=n.elements,o=(n.hints||{}).autoSelect;if(i){if(!1===o)return;f(o)?t.select(o):t.select(r.filter(xr))}})),e.on("connect.end",500,(function(e){var n=e.context,i=n.canExecute,r=n.hover;i&&r&&t.select(r)})),e.on("shape.move.end",500,(function(e){var n=e.previousSelection||[],r=i.get(e.context.shape.id);_(n,(function(e){return r.id===e.id}))||t.select(r)})),e.on("element.click",(function(e){if(or(e)){var i=e.element;i===n.getRootElement()&&(i=null);var r=t.isSelected(i),o=t.get().length>1,a=ar(e)||sr(e);if(r&&o)return a?t.deselect(i):t.select(i);r?t.deselect(i):t.select(i,a)}}))}function xr(e){return!e.hidden}gr.$inject=["eventBus","canvas","selection","styles"],mr.$inject=["eventBus","selection","canvas","elementRegistry"];const _r={__init__:["selectionVisuals","selectionBehavior"],__depends__:[pr,dr],selection:["type",fr],selectionVisuals:["type",gr],selectionBehavior:["type",mr]};function wr(e){this._counter=0,this._prefix=(e?e+"-":"")+Math.floor(1e9*Math.random())+"-"}wr.prototype.next=function(){return this._prefix+ ++this._counter};var br=new wr("ov");function Er(e,t,n,i){var r,o;this._eventBus=t,this._canvas=n,this._elementRegistry=i,this._ids=br,this._overlayDefaults=G({show:null,scale:!0},e&&e.defaults),this._overlays={},this._overlayContainers=[],this._overlayRoot=(r=n.getContainer(),o=he('<div class="djs-overlay-container" style="position: absolute; width: 0; height: 0;" />'),r.insertBefore(o,r.firstChild),o),this._init()}function Sr(e,t,n){G(e.style,{left:t+"px",top:n+"px"})}function Tr(e,t){e.style.display=!1===t?"none":""}function kr(e,t){e.style["transform-origin"]="top left",["","-ms-","-webkit-"].forEach((function(n){e.style[n+"transform"]=t}))}Er.$inject=["config.overlays","eventBus","canvas","elementRegistry"],Er.prototype.get=function(e){if(m(e)&&(e={id:e}),m(e.element)&&(e.element=this._elementRegistry.get(e.element)),e.element){var t=this._getOverlayContainer(e.element,!0);return t?e.type?w(t.overlays,O({type:e.type})):t.overlays.slice():[]}return e.type?w(this._overlays,O({type:e.type})):e.id?this._overlays[e.id]:null},Er.prototype.add=function(e,t,n){if(y(t)&&(n=t,t=null),e.id||(e=this._elementRegistry.get(e)),!n.position)throw new Error("must specifiy overlay position");if(!n.html)throw new Error("must specifiy overlay html");if(!e)throw new Error("invalid element specified");var i=this._ids.next();return n=G({},this._overlayDefaults,n,{id:i,type:t,element:e,html:n.html}),this._addOverlay(n),i},Er.prototype.remove=function(e){var t=this.get(e)||[];f(t)||(t=[t]);var n=this;b(t,(function(e){var t=n._getOverlayContainer(e.element,!0);if(e&&(ge(e.html),ge(e.htmlContainer),delete e.htmlContainer,delete e.element,delete n._overlays[e.id]),t){var i=t.overlays.indexOf(e);-1!==i&&t.overlays.splice(i,1)}}))},Er.prototype.show=function(){Tr(this._overlayRoot)},Er.prototype.hide=function(){Tr(this._overlayRoot,!1)},Er.prototype.clear=function(){this._overlays={},this._overlayContainers=[],Q(this._overlayRoot)},Er.prototype._updateOverlayContainer=function(e){var t=e.element,n=e.html,i=t.x,r=t.y;if(t.waypoints){var o=ht(t);i=o.x,r=o.y}Sr(n,i,r),V(e.html,"data-container-id",t.id)},Er.prototype._updateOverlay=function(e){var t,n,i=e.position,r=e.htmlContainer,o=e.element,a=i.left,s=i.top;void 0!==i.right&&(t=o.waypoints?ht(o).width:o.width,a=-1*i.right+t),void 0!==i.bottom&&(n=o.waypoints?ht(o).height:o.height,s=-1*i.bottom+n),Sr(r,a||0,s||0)},Er.prototype._createOverlayContainer=function(e){var t=he('<div class="djs-overlays" style="position: absolute" />');this._overlayRoot.appendChild(t);var n={html:t,element:e,overlays:[]};return this._updateOverlayContainer(n),this._overlayContainers.push(n),n},Er.prototype._updateRoot=function(e){var t=e.scale||1,n="matrix("+[t,0,0,t,-1*e.x*t,-1*e.y*t].join(",")+")";kr(this._overlayRoot,n)},Er.prototype._getOverlayContainer=function(e,t){var n=_(this._overlayContainers,(function(t){return t.element===e}));return n||t?n:this._createOverlayContainer(e)},Er.prototype._addOverlay=function(e){var t,n,i=e.id,r=e.element,o=e.html;o.get&&o.constructor.prototype.jquery&&(o=o.get(0)),m(o)&&(o=he(o)),n=this._getOverlayContainer(r),(t=he('<div class="djs-overlay" data-overlay-id="'+i+'" style="position: absolute">')).appendChild(o),e.type&&Z(t).add("djs-overlay-"+e.type),e.htmlContainer=t,n.overlays.push(e),n.html.appendChild(t),this._overlays[i]=e,this._updateOverlay(e),this._updateOverlayVisibilty(e,this._canvas.viewbox())},Er.prototype._updateOverlayVisibilty=function(e,t){var n=e.show,i=n&&n.minZoom,r=n&&n.maxZoom,o=e.htmlContainer,a=!0;n&&((h(i)&&i>t.scale||h(r)&&r<t.scale)&&(a=!1),Tr(o,a)),this._updateOverlayScale(e,t)},Er.prototype._updateOverlayScale=function(e,t){var n,i,r,o=e.scale,a=e.htmlContainer,s="";!0!==o&&(!1===o?(n=1,i=1):(n=o.min,i=o.max),h(n)&&t.scale<n&&(r=(1/t.scale||1)*n),h(i)&&t.scale>i&&(r=(1/t.scale||1)*i)),h(r)&&(s="scale("+r+","+r+")"),kr(a,s)},Er.prototype._updateOverlaysVisibilty=function(e){var t=this;b(this._overlays,(function(n){t._updateOverlayVisibilty(n,e)}))},Er.prototype._init=function(){var e=this._eventBus,t=this;e.on("canvas.viewbox.changing",(function(e){t.hide()})),e.on("canvas.viewbox.changed",(function(e){var n;n=e.viewbox,t._updateRoot(n),t._updateOverlaysVisibilty(n),t.show()})),e.on(["shape.remove","connection.remove"],(function(e){var n=e.element;b(t.get({element:n}),(function(e){t.remove(e.id)}));var i=t._getOverlayContainer(n);if(i){ge(i.html);var r=t._overlayContainers.indexOf(i);-1!==r&&t._overlayContainers.splice(r,1)}})),e.on("element.changed",500,(function(e){var n=e.element,i=t._getOverlayContainer(n,!0);i&&(b(i.overlays,(function(e){t._updateOverlay(e)})),t._updateOverlayContainer(i))})),e.on("element.marker.update",(function(e){var n=t._getOverlayContainer(e.element,!0);n&&Z(n.html)[e.add?"add":"remove"](e.marker)})),e.on("diagram.clear",this.clear,this)};const Cr={__init__:["overlays"],overlays:["type",Er]};function Mr(e){gi.call(this,e)}function Pr(e){return!e.altKey&&(e.ctrlKey||e.metaKey)}function jr(e,t){return-1!==(e=f(e)?e:[e]).indexOf(t.key)||-1!==e.indexOf(t.keyCode)}function Br(e){return e.shiftKey}r()(Mr,gi),Mr.prototype._modules=[Qi,Ui,_r,Cr],Mr.prototype._moddleExtensions={};var Ar="keyboard.keydown";function Rr(e,t){var n=this;this._config=e||{},this._eventBus=t,this._keydownHandler=this._keydownHandler.bind(this),this._keyupHandler=this._keyupHandler.bind(this),t.on("diagram.destroy",(function(){n._fire("destroy"),n.unbind()})),t.on("diagram.init",(function(){n._fire("init")})),t.on("attach",(function(){e&&e.bindTo&&n.bind(e.bindTo)})),t.on("detach",(function(){n.unbind()}))}Rr.$inject=["config.keyboard","eventBus"],Rr.prototype._keydownHandler=function(e){this._keyHandler(e,Ar)},Rr.prototype._keyupHandler=function(e){this._keyHandler(e,"keyboard.keyup")},Rr.prototype._keyHandler=function(e,t){if(!(i=e.target)||!ne(i,"input, textarea")&&"true"!==i.contentEditable){var n={keyEvent:e};this._eventBus.fire(t||Ar,n)&&e.preventDefault()}var i},Rr.prototype.bind=function(e){this.unbind(),this._node=e,ce.bind(e,"keydown",this._keydownHandler,!0),ce.bind(e,"keyup",this._keyupHandler,!0),this._fire("bind")},Rr.prototype.getBinding=function(){return this._node},Rr.prototype.unbind=function(){var e=this._node;e&&(this._fire("unbind"),ce.unbind(e,"keydown",this._keydownHandler,!0),ce.unbind(e,"keyup",this._keyupHandler,!0)),this._node=null},Rr.prototype._fire=function(e){this._eventBus.fire("keyboard."+e,{node:this._node})},Rr.prototype.addListener=function(e,t,n){g(e)&&(n=t,t=e,e=1e3),this._eventBus.on(n||Ar,e,t)},Rr.prototype.removeListener=function(e,t){this._eventBus.off(t||Ar,e)},Rr.prototype.hasModifier=function(e){return e.ctrlKey||e.metaKey||e.shiftKey||e.altKey},Rr.prototype.isCmd=Pr,Rr.prototype.isShift=Br,Rr.prototype.isKey=jr;var Or=["c","C",67],Nr=["v","V",86],Lr=["y","Y",89],zr=["z","Z",90];function Dr(e,t){var n=this;e.on("editorActions.init",500,(function(e){var i=e.editorActions;n.registerBindings(t,i)}))}Dr.$inject=["eventBus","keyboard"],Dr.prototype.registerBindings=function(e,t){function n(n,i){t.isRegistered(n)&&e.addListener(i)}n("undo",(function(e){var n=e.keyEvent;if(Pr(n)&&!Br(n)&&jr(zr,n))return t.trigger("undo"),!0})),n("redo",(function(e){var n=e.keyEvent;if(Pr(n)&&(jr(Lr,n)||jr(zr,n)&&Br(n)))return t.trigger("redo"),!0})),n("copy",(function(e){var n=e.keyEvent;if(Pr(n)&&jr(Or,n))return t.trigger("copy"),!0})),n("paste",(function(e){var n=e.keyEvent;if(Pr(n)&&jr(Nr,n))return t.trigger("paste"),!0})),n("stepZoom",(function(e){var n=e.keyEvent;if(jr(["+","Add","="],n)&&Pr(n))return t.trigger("stepZoom",{value:1}),!0})),n("stepZoom",(function(e){var n=e.keyEvent;if(jr(["-","Subtract"],n)&&Pr(n))return t.trigger("stepZoom",{value:-1}),!0})),n("zoom",(function(e){var n=e.keyEvent;if(jr("0",n)&&Pr(n))return t.trigger("zoom",{value:1}),!0})),n("removeSelection",(function(e){if(jr(["Backspace","Delete","Del"],e.keyEvent))return t.trigger("removeSelection"),!0}))};const Ir={__init__:["keyboard","keyboardBindings"],keyboard:["type",Rr],keyboardBindings:["type",Dr]};var $r={moveSpeed:50,moveSpeedAccelerated:200};function Fr(e,t,n){var i=this;this._config=G({},$r,e||{}),t.addListener((function(e){var n=e.keyEvent,r=i._config;if(t.isCmd(n)&&t.isKey(["ArrowLeft","Left","ArrowUp","Up","ArrowDown","Down","ArrowRight","Right"],n)){var o,a=t.isShift(n)?r.moveSpeedAccelerated:r.moveSpeed;switch(n.key){case"ArrowLeft":case"Left":o="left";break;case"ArrowUp":case"Up":o="up";break;case"ArrowRight":case"Right":o="right";break;case"ArrowDown":case"Down":o="down"}return i.moveCanvas({speed:a,direction:o}),!0}})),this.moveCanvas=function(e){var t=0,i=0,r=e.speed/Math.min(Math.sqrt(n.viewbox().scale),1);switch(e.direction){case"left":t=r;break;case"up":i=r;break;case"right":t=-r;break;case"down":i=-r}n.scroll({dx:t,dy:i})}}Fr.$inject=["config.keyboardMove","keyboard","canvas"];const Hr={__depends__:[Ir],__init__:["keyboardMove"],keyboardMove:["type",Fr]};var Gr=/^djs-cursor-.*$/;function Ur(e){var t=Z(document.body);t.removeMatching(Gr),e&&t.add("djs-cursor-"+e)}function Wr(){Ur(null)}function Vr(e,t){function n(){return!1}return t=t||"element.click",e.once(t,5e3,n),function(){e.off(t,n)}}function qr(e){return{x:e.x+e.width/2,y:e.y+e.height/2}}function Yr(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Xr(e,t){var n;function i(i){var r,o=n.start,a=n.button,s=ir(i),c=Yr(s,o);!n.dragging&&(r=c,Math.sqrt(Math.pow(r.x,2)+Math.pow(r.y,2))>15)&&(n.dragging=!0,0===a&&Vr(e),Ur("grab")),n.dragging&&(c=Yr(s,n.last||n.start),t.scroll({dx:c.x,dy:c.y}),n.last=s),i.preventDefault()}function r(e){ce.unbind(document,"mousemove",i),ce.unbind(document,"mouseup",r),n=null,Wr()}e.on("element.mousedown",500,(function(e){return function(e){if(!ie(e.target,".djs-draggable")){var t=e.button;if(!(t>=2||e.ctrlKey||e.shiftKey||e.altKey))return n={button:t,start:ir(e)},ce.bind(document,"mousemove",i),ce.bind(document,"mouseup",r),!0}}(e.originalEvent)})),this.isActive=function(){return!!n}}Xr.$inject=["eventBus","canvas"];const Kr={__init__:["moveCanvas"],moveCanvas:["type",Xr]};function Zr(e){return Math.log(e)/Math.log(10)}function Jr(e,t){var n=Zr(e.min),i=Zr(e.max);return(Math.abs(n)+Math.abs(i))/t}var Qr=Math.sign||function(e){return e>=0?1:-1},eo={min:.2,max:4};function to(e,t,n){e=e||{},this._enabled=!1,this._canvas=n,this._container=n._container,this._handleWheel=F(this._handleWheel,this),this._totalDelta=0,this._scale=e.scale||.75;var i=this;t.on("canvas.init",(function(t){i._init(!1!==e.enabled)}))}to.$inject=["config.zoomScroll","eventBus","canvas"],to.prototype.scroll=function(e){this._canvas.scroll(e)},to.prototype.reset=function(){this._canvas.zoom("fit-viewport")},to.prototype.zoom=function(e,t){var n=Jr(eo,20);this._totalDelta+=e,Math.abs(this._totalDelta)>.1&&(this._zoom(e,t,n),this._totalDelta=0)},to.prototype._handleWheel=function(e){if(!ie(e.target,".djs-scrollable",!0)){var t=this._container;e.preventDefault();var n,i=e.ctrlKey,r=e.shiftKey,o=-1*this._scale;if(o*=i?0===e.deltaMode?.02:.32:0===e.deltaMode?1:16,i){var a=t.getBoundingClientRect(),s={x:e.clientX-a.left,y:e.clientY-a.top};n=Math.sqrt(Math.pow(e.deltaY,2)+Math.pow(e.deltaX,2))*Qr(e.deltaY)*o,this.zoom(n,s)}else n=r?{dx:o*e.deltaY,dy:0}:{dx:o*e.deltaX,dy:o*e.deltaY},this.scroll(n)}},to.prototype.stepZoom=function(e,t){var n=Jr(eo,10);this._zoom(e,t,n)},to.prototype._zoom=function(e,t,n){var i=this._canvas,r=e>0?1:-1,o=Zr(i.zoom()),a=Math.round(o/n)*n;a+=n*r;var s,c,u=Math.pow(10,a);i.zoom((s=eo,c=u,Math.max(s.min,Math.min(s.max,c))),t)},to.prototype.toggle=function(e){var t=this._container,n=this._handleWheel,i=this._enabled;return void 0===e&&(e=!i),i!==e&&ce[e?"bind":"unbind"](t,"wheel",n,!1),this._enabled=e,e},to.prototype._init=function(e){this.toggle(e)};const no={__init__:["zoomScroll"],zoomScroll:["type",to]};function io(e){Mr.call(this,e)}r()(io,Mr),io.prototype._navigationModules=[Hr,Kr,no],io.prototype._modules=[].concat(Mr.prototype._modules,io.prototype._navigationModules);var ro=n(840),oo=n.n(ro),ao=["mousedown","mouseup","mouseover","mouseout","click","dblclick"];function so(e,t){return t.get(e,!1)}function co(e){e.preventDefault(),"function"==typeof e.stopPropagation?e.stopPropagation():e.srcEvent&&"function"==typeof e.srcEvent.stopPropagation&&e.srcEvent.stopPropagation(),"function"==typeof e.stopImmediatePropagation&&e.stopImmediatePropagation()}function uo(e){function t(t){setTimeout((function(){b(ao,(function(t){ce.unbind(e,t,co,!0)}))}),500)}ce.bind(e,"touchstart",(function(t){b(ao,(function(t){ce.bind(e,t,co,!0)}))}),!0),ce.bind(e,"touchend",t,!0),ce.bind(e,"touchcancel",t,!0);var n=new(oo().Manager)(e,{inputClass:oo().TouchInput,recognizers:[],domEvents:!0}),i=new(oo().Tap),r=new(oo().Pan)({threshold:10}),o=new(oo().Press),a=new(oo().Pinch),s=new(oo().Tap)({event:"doubletap",taps:2});return a.requireFailure(r),a.requireFailure(o),n.add([r,o,a,s,i]),n.reset=function(e){var t=this.recognizers,i=this.session;i.stopped||(n.stop(e),setTimeout((function(){var e,n;for(e=0;n=t[e];e++)n.reset(),n.state=8;i.curRecognizer=null}),0))},n.on("hammer.input",(function(e){e.srcEvent.defaultPrevented&&n.reset(!0)})),n}function lo(e,t,n,i,r){var o,a=so("dragging",e),s=so("move",e),c=so("contextPad",e),u=so("palette",e);function l(e){return function(t){r.fire(e,t)}}function p(e){return ie(e,"svg, .djs-element",!0)}a&&n.on("drag.move",(function(e){var t=e.originalEvent;if(t&&!(t instanceof MouseEvent)){var n=ir(t),r=p(document.elementFromPoint(n.x,n.y)),o=r&&i.get(r);o!==e.hover&&(e.hover&&a.out(e),o&&(a.hover({element:o,gfx:r}),e.hover=o,e.hoverGfx=r))}})),c&&n.on("contextPad.create",(function(e){var t=uo(e.pad.html);t.on("panstart",(function(e){c.trigger("dragstart",e,!0)})),t.on("press",(function(e){c.trigger("dragstart",e,!0)})),t.on("tap",(function(e){c.trigger("click",e)}))})),u&&n.on("palette.create",(function(e){var t=uo(e.container);t.on("panstart",(function(e){u.trigger("dragstart",e,!0)})),t.on("press",(function(e){u.trigger("dragstart",e,!0)})),t.on("tap",(function(e){u.trigger("click",e)}))})),n.on("canvas.init",(function(e){!function(e){function n(e){var n=p(e.target),r=n&&i.get(n);if(s&&t.getRootElement()!==r)return s.start(e,r,!0);!function(e){var n=0,i=0;function r(e){var r=e.deltaX-n,o=e.deltaY-i;t.scroll({dx:r,dy:o}),n=e.deltaX,i=e.deltaY}function a(e){o.off("panmove",r),o.off("panend",a),o.off("pancancel",a)}o.on("panmove",r),o.on("panend",a),o.on("pancancel",a)}()}(o=uo(e)).on("doubletap",l("element.dblclick")),o.on("tap",l("element.click")),o.on("panstart",n),o.on("press",n),o.on("pinchstart",(function(e){var n=t.zoom(),i=e.center;function r(e){var r=1-(1-e.scale)/1.5,o=Math.max(.2,Math.min(4,r*n));t.zoom(o,i),co(e)}function a(e){o.off("pinchmove",r),o.off("pinchend",a),o.off("pinchcancel",a),o.reset(!0)}o.on("pinchmove",r),o.on("pinchend",a),o.on("pinchcancel",a)}))}(e.svg)}))}function po(e,t){var n=this;t.on("canvas.init",(function(e){n.addBBoxMarker(e.svg)}))}lo.$inject=["injector","canvas","eventBus","elementRegistry","interactionEvents","touchFix"],po.$inject=["canvas","eventBus"],po.prototype.addBBoxMarker=function(e){var t={fill:"none",class:"outer-bound-marker"},n=Ne("rect");be(n,{x:-1e4,y:1e4,width:10,height:10}),be(n,t),xe(e,n);var i=Ne("rect");be(i,{x:1e4,y:1e4,width:10,height:10}),be(i,t),xe(e,i)};const ho={__depends__:[{__depends__:[pr],__init__:["touchInteractionEvents"],touchInteractionEvents:["type",lo],touchFix:["type",po]}]};function fo(e){return e&&e[e.length-1]}function yo(e){return e.y}function vo(e){return e.x}var go={left:vo,center:vo,right:function(e){return e.x+e.width},top:yo,middle:yo,bottom:function(e){return e.y+e.height}};function mo(e){this._modeling=e}mo.$inject=["modeling"],mo.prototype._getOrientationDetails=function(e){var t="x",n="width";return-1!==["top","bottom","middle"].indexOf(e)&&(t="y",n="height"),{axis:t,dimension:n}},mo.prototype._isType=function(e,t){return-1!==t.indexOf(e)},mo.prototype._alignmentPosition=function(e,t){var n,i,r,o=this._getOrientationDetails(e),a=o.axis,s=o.dimension,c={},u={},l=!1;if(this._isType(e,["left","top"]))c[e]=t[0][a];else if(this._isType(e,["right","bottom"]))r=fo(t),c[e]=r[a]+r[s];else if(this._isType(e,["center","middle"])){if(b(t,(function(e){var t=e[a]+Math.round(e[s]/2);u[t]?u[t].elements.push(e):u[t]={elements:[e],center:t}})),n=R(u,(function(e){return e.elements.length>1&&(l=!0),e.elements.length})),l)return c[e]=fo(n).center,c;i=t[0],r=fo(t=R(t,(function(e){return e[a]+e[s]}))),c[e]=function(e,t){return Math.round((e[a]+t[a]+t[s])/2)}(i,r)}return c},mo.prototype.trigger=function(e,t){var n=this._modeling,i=w(e,(function(e){return!(e.waypoints||e.host||e.labelTarget)}));if(!(i.length<2)){var r=R(i,go[t]),o=this._alignmentPosition(t,r);n.alignElements(r,o)}};const xo={__init__:["alignElements"],alignElements:["type",mo]};function _o(e,t,n){var i,r,o=this,a=n.get("dragging",!1);a&&t.on("drag.start",(function(n){t.once("drag.move",1500,(function(t){!function(t){if(!t.hover){var n=t.originalEvent,i=o._findTargetGfx(n),r=i&&e.get(i);i&&r&&(t.stopPropagation(),a.hover({element:r,gfx:i}),a.move(n))}}(t)}))})),t.on("element.hover",(function(e){i=e.gfx,r=e.element})),t.on("element.hover",1500,(function(e){r&&t.fire("element.out",{element:r,gfx:i})})),t.on("element.out",(function(){i=null,r=null})),this._findTargetGfx=function(e){var t;if(e instanceof MouseEvent)return t=ir(e),ie(document.elementFromPoint(t.x,t.y),"svg, .djs-element",!0)}}_o.$inject=["elementRegistry","eventBus","injector"];const wo={__init__:["hoverFix"],hoverFix:["type",_o]};var bo=Math.round,Eo="djs-drag-active";function So(e){e.preventDefault()}function To(e,t,n,i){var r,o={threshold:5,trapClick:!0};function a(e){var n=t.viewbox(),i=t._container.getBoundingClientRect();return{x:n.x+(e.x-i.left)/n.scale,y:n.y+(e.y-i.top)/n.scale}}function s(t,n){n=n||r;var i=e.createEvent(G({},n.payload,n.data,{isTouch:n.isTouch}));return!1!==e.fire("drag."+t,i)&&e.fire(n.prefix+"."+t,i)}function c(e,i){var o,c=r.payload,u=r.displacement,l=r.globalStart,p=ir(e),h=Yr(p,l),d=r.localStart,f=a(p),v=Yr(f,d);if(!r.active&&(i||(o=h,Math.sqrt(Math.pow(o.x,2)+Math.pow(o.y,2))>r.threshold))){if(G(c,{x:bo(d.x+u.x),y:bo(d.y+u.y),dx:0,dy:0},{originalEvent:e}),!1===s("start"))return y();r.active=!0,r.keepSelection||(c.previousSelection=n.get(),n.select(null)),r.cursor&&Ur(r.cursor),t.addMarker(t.getRootElement(),Eo)}nr(e),r.active&&(G(c,{x:bo(f.x+u.x),y:bo(f.y+u.y),dx:bo(v.x),dy:bo(v.y)},{originalEvent:e}),s("move"))}function u(e){var t=!0;r.active&&(e&&(r.payload.originalEvent=e,nr(e)),t=s("end")),!1===t&&s("rejected"),s("ended",v(!0!==t))}function l(e){27===e.which&&(So(e),y())}function p(t){var n;r.active&&(n=Vr(e),setTimeout(n,400),So(t)),u(t)}function h(e){c(e)}function d(e){var t=r.payload;t.hoverGfx=e.gfx,t.hover=e.element,s("hover")}function f(e){s("out");var t=r.payload;t.hoverGfx=null,t.hover=null}function y(e){var t;if(r){var n=r.active;n&&s("cancel"),t=v(e),n&&s("canceled",t)}}function v(o){var a,v;s("cleanup"),Wr(),v=r.trapClick?p:u,ce.unbind(document,"mousemove",c),ce.unbind(document,"dragstart",So),ce.unbind(document,"selectstart",So),ce.unbind(document,"mousedown",v,!0),ce.unbind(document,"mouseup",v,!0),ce.unbind(document,"keyup",l),ce.unbind(document,"touchstart",h,!0),ce.unbind(document,"touchcancel",y,!0),ce.unbind(document,"touchmove",c,!0),ce.unbind(document,"touchend",u,!0),e.off("element.hover",d),e.off("element.out",f),t.removeMarker(t.getRootElement(),Eo);var g=r.payload.previousSelection;return!1!==o&&g&&!n.get().length&&function(e){var t=e.filter((function(e){return i.get(e.id)}));t.length&&n.select(t)}(g),a=r,r=null,a}e.on("diagram.destroy",y),this.init=function(t,n,i,v){r&&y(!1),"string"==typeof n&&(v=i,i=n,n=null);var g,m,x,_,w,b=(v=G({},o,v||{})).data||{};_=v.trapClick?p:u,t?(g=tr(t)||t,m=ir(t),nr(t),"dragstart"===g.type&&So(g)):(g=null,m={x:0,y:0}),x=a(m),n||(n=x),w=function(e){return"undefined"!=typeof TouchEvent&&e instanceof TouchEvent}(g),r=G({prefix:i,data:b,payload:{},globalStart:m,displacement:Yr(n,x),localStart:x,isTouch:w},v),v.manual||(w?(ce.bind(document,"touchstart",h,!0),ce.bind(document,"touchcancel",y,!0),ce.bind(document,"touchmove",c,!0),ce.bind(document,"touchend",u,!0)):(ce.bind(document,"mousemove",c),ce.bind(document,"dragstart",So),ce.bind(document,"selectstart",So),ce.bind(document,"mousedown",_,!0),ce.bind(document,"mouseup",_,!0)),ce.bind(document,"keyup",l),e.on("element.hover",d),e.on("element.out",f)),s("init"),v.autoActivate&&c(t,!0)},this.move=c,this.hover=d,this.out=f,this.end=u,this.cancel=y,this.context=function(){return r},this.setOptions=function(e){G(o,e)}}To.$inject=["eventBus","canvas","selection","elementRegistry"];const ko={__depends__:[wo,_r],dragging:["type",To]};function Co(e,t,n){this._canvas=n,this._opts=G({scrollThresholdIn:[20,20,20,20],scrollThresholdOut:[0,0,0,0],scrollRepeatTimeout:15,scrollStep:10},e);var i=this;t.on("drag.move",(function(e){var t=i._toBorderPoint(e);i.startScroll(t)})),t.on(["drag.cleanup"],(function(){i.stopScroll()}))}Co.$inject=["config.autoScroll","eventBus","canvas"],Co.prototype.startScroll=function(e){var t,n,i,r=this._canvas,o=this._opts,a=this,s=r.getContainer().getBoundingClientRect(),c=[e.x,e.y,s.width-e.x,s.height-e.y];this.stopScroll();for(var u=0,l=0,p=0;p<4;p++)t=c[p],n=o.scrollThresholdOut[p],i=o.scrollThresholdIn[p],n<t&&t<i&&(0===p?u=o.scrollStep:1==p?l=o.scrollStep:2==p?u=-o.scrollStep:3==p&&(l=-o.scrollStep));0===u&&0===l||(r.scroll({dx:u,dy:l}),this._scrolling=setTimeout((function(){a.startScroll(e)}),o.scrollRepeatTimeout))},Co.prototype.stopScroll=function(){clearTimeout(this._scrolling)},Co.prototype.setOptions=function(e){this._opts=G({},this._opts,e)},Co.prototype._toBorderPoint=function(e){var t=this._canvas._container.getBoundingClientRect(),n=ir(e.originalEvent);return{x:n.x-t.left,y:n.y-t.top}};const Mo={__depends__:[ko],__init__:["autoScroll"],autoScroll:["type",Co]};function Po(e){this._commandStack=e.get("commandStack",!1)}Po.$inject=["injector"],Po.prototype.allowed=function(e,t){var n=!0,i=this._commandStack;return i&&(n=i.canExecute(e,t)),void 0===n||n};const jo={__init__:["rules"],rules:["type",Po]};function Bo(e,t){return e&&t?Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)):-1}function Ao(e,t,n,i){if(void 0===i&&(i=5),!e||!t||!n)return!1;var r=(t.x-e.x)*(n.y-e.y)-(t.y-e.y)*(n.x-e.x),o=Bo(e,t);return Math.abs(r/o)<=i}function Ro(e,t){var n;return function(e,t){var n,i=(n=f(e)?e:[e,void 0]).slice().shift();return S(n,(function(e){return Math.abs(i.y-e.y)<=2}))}(n=f(e)?e:[e,t])?"h":!!function(e,t){var n,i=(n=f(e)?e:[e,void 0]).slice().shift();return S(n,(function(e){return Math.abs(i.x-e.x)<=2}))}(n)&&"v"}function Oo(e,t){return{x:Math.round(e.x+(t.x-e.x)/2),y:Math.round(e.y+(t.y-e.y)/2)}}var No=n(720),Lo=n.n(No),zo=Math.round,Do=Math.max;function Io(e,t,n){return function(e,t){return function(e,t){var n,i;for(n=0;i=e[n];n++)if(Bo(i,t)<=10)return{point:e[n],bendpoint:!0,index:n};return null}(e,t)||function(e,t){var n,i,r=Lo()(function(e,t){return[["M",e.x,e.y],["m",0,-t],["a",t,t,0,1,1,0,20],["a",t,t,0,1,1,0,-20],["z"]]}(t,10),(n=[],e.forEach((function(e,t){n.push([0===t?"M":"L",e.x,e.y])})),n)),o=r[0],a=r[r.length-1];return o?o!==a?o.segment2!==a.segment2?{point:e[i=Do(o.segment2,a.segment2)-1],bendpoint:!0,index:i}:{point:{x:zo(o.x+a.x)/2,y:zo(o.y+a.y)/2},index:o.segment2}:{point:{x:zo(o.x),y:zo(o.y)},index:o.segment2}:null}(e,t)}(t,function(e,t){var n,i=ir(t),r=e._container.getBoundingClientRect();n={x:r.left,y:r.top};var o=e.viewbox();return{x:o.x+(i.x-n.x)/o.scale,y:o.y+(i.y-n.y)/o.scale}}(e,n))}function $o(e,t){var n=Ne("g");Ce(n).add("djs-bendpoint"),xe(e,n);var i=Ne("circle");be(i,{cx:0,cy:0,r:4}),Ce(i).add("djs-visual"),xe(n,i);var r=Ne("circle");return be(r,{cx:0,cy:0,r:10}),Ce(r).add("djs-hit"),xe(n,r),t&&Ce(n).add(t),n}function Fo(e,t,n){var i=Ne("g"),r=Oo(t,n),o=Ro(t,n);return xe(e,i),function(e,t,n,i){var r=Ne("g");xe(e,r);var o=function(e,t,n){var i=t.x-e.x,r=t.y-e.y;return Ho("h"===n?i:r)}(t,n,i),a=Ne("rect");be(a,{x:-7,y:-1.5,width:14,height:3}),Ce(a).add("djs-visual"),xe(r,a);var s,c,u,l=Ne("rect");be(l,{x:-o/2,y:-7,width:o,height:14}),Ce(l).add("djs-hit"),xe(r,l),s=r,c="v"===i?90:0,(u=De()).setRotate(c,0,0),Ve(s,u)}(i,t,n,o),Ce(i).add("djs-segment-dragger"),Ce(i).add("h"===o?"horizontal":"vertical"),qt(i,r.x,r.y),i}function Ho(e){return Math.abs(Math.round(2*e/3))}var Go=n(269),Uo=n.n(Go);function Wo(e,t,n,i,r){function o(e,t,i){ce.bind(e,t,(function(e){n.triggerMouseEvent(t,e,i),e.stopPropagation()}))}function a(e,n){var i=t.getLayer("overlays"),r=ye('.djs-bendpoints[data-element-id="'+Uo()(e.id)+'"]',i);return!r&&n&&(be(r=Ne("g"),{"data-element-id":e.id}),Ce(r).add("djs-bendpoints"),xe(i,r),o(r,"mousedown",e),o(r,"click",e),o(r,"dblclick",e)),r}function s(e,t){return ye('.djs-segment-dragger[data-segment-idx="'+e+'"]',t)}function c(e,t){t.waypoints.forEach((function(t,n){var i=$o(e);xe(e,i),qt(i,t.x,t.y)})),$o(e,"floating")}function u(e,t){for(var n,i,r,a=t.waypoints,s=1;s<a.length;s++)Ro(n=a[s-1],i=a[s])&&(be(r=Fo(e,n,i),{"data-segment-idx":s}),o(r,"mousemove",t))}function l(e){var t=a(e);return t||(c(t=a(e,!0),e),u(t,e)),t}function p(e){var t=a(e);t&&(function(e){b(ve(".djs-segment-dragger",e),(function(e){Pe(e)}))}(t),function(e){b(ve(".djs-bendpoint",e),(function(e){Pe(e)}))}(t),u(t,e),c(t,e))}e.on("connection.changed",(function(e){p(e.element)})),e.on("connection.remove",(function(e){var t=a(e.element);t&&Pe(t)})),e.on("element.marker.update",(function(e){var t,n=e.element;n.waypoints&&(t=l(n),e.add?Ce(t).add(e.marker):Ce(t).remove(e.marker))})),e.on("element.mousemove",(function(e){var n,i,r=e.element,o=r.waypoints;if(o){if(n=a(r,!0),!(i=Io(t,o,e.originalEvent)))return;!function(e,t){var n=ye(".floating",e),i=t.point;n&&qt(n,i.x,i.y)}(n,i),i.bendpoint||function(e,t,n){var i,r,o=s(t.index,e),a=n[t.index-1],c=n[t.index],u=t.point,l=Oo(a,c),p=Ro(a,c);o&&(i=function(e){return ye(".djs-visual",e)}(o),r={x:u.x-l.x,y:u.y-l.y},"v"===p&&(r={x:r.y,y:r.x}),qt(i,r.x,r.y))}(n,i,o)}})),e.on("element.mousedown",(function(e){if(or(e)){var n=e.originalEvent,o=e.element;if(o.waypoints)return function(e,n){var o=n.waypoints,a=Io(t,o,e);if(a)return function(e,t,n){var i,r,o,a,s,c,u=e.index,l=e.point;return!(u<=0||e.bendpoint)&&(o=Oo(i=t[u-1],r=t[u]),a=Ro(i,r),s=Math.abs(l.x-o.x),c=Math.abs(l.y-o.y),a&&s<=n&&c<=n)}(a,o,function(e,t){var n,i,r=e.waypoints;return t.index<=0||t.bendpoint?null:(i=Ro((n={start:r[t.index-1],end:r[t.index]}).start,n.end))?Ho("h"===i?n.end.x-n.start.x:n.end.y-n.start.y)/2:null}(n,a))?r.start(e,n,a.index):i.start(e,n,a.index,!a.bendpoint),!0}(n,o)}})),e.on("selection.changed",(function(e){var t=e.newSelection[0];t&&t.waypoints&&l(t)})),e.on("element.hover",(function(e){var t=e.element;t.waypoints&&(l(t),n.registerEvent(e.gfx,"mousemove","element.mousemove"))})),e.on("element.out",(function(e){n.unregisterEvent(e.gfx,"mousemove","element.mousemove")})),e.on("element.updateId",(function(e){var t=e.element,n=e.newId;if(t.waypoints){var i=a(t);i&&be(i,{"data-element-id":n})}})),this.addHandles=l,this.updateHandles=p,this.getBendpointsContainer=a,this.getSegmentDragger=s}function Vo(e){return{x:Math.round(e.x),y:Math.round(e.y)}}function qo(e){return{top:e.y,right:e.x+(e.width||0),bottom:e.y+(e.height||0),left:e.x}}function Yo(e){return{x:e.left,y:e.top,width:e.right-e.left,height:e.bottom-e.top}}function Xo(e){return Vo({x:e.x+(e.width||0)/2,y:e.y+(e.height||0)/2})}function Ko(e,t,n){y(n=n||0)||(n={x:n,y:n});var i=qo(e),r=qo(t),o=i.bottom+n.y<=r.top,a=i.left-n.x>=r.right,s=i.top-n.y>=r.bottom,c=o?"top":s?"bottom":null,u=i.right+n.x<=r.left?"left":a?"right":null;return u&&c?c+"-"+u:u||c||"intersect"}function Zo(e,t,n){var i,r,o=(i=e,r=t,Lo()(i,r));return 1===o.length||2===o.length&&Bo(o[0],o[1])<1?Vo(o[0]):o.length>1?Vo((o=R(o,(function(e){var t=Math.floor(100*e.t2)||1;return t=((t=100-t)<10?"0":"")+t,e.segment2+"#"+t})))[n?0:o.length-1]):null}Wo.$inject=["eventBus","canvas","interactionEvents","bendpointMove","connectionSegmentMove"];var Jo=Math.round,Qo="reconnectStart",ea="reconnectEnd",ta="updateWaypoints";function na(e,t,n,i,r,o){this._injector=e,this.start=function(e,t,o,a){var s,c=n.getGraphics(t),u=t.source,l=t.target,p=t.waypoints,h=(s=a||0!==o?a||o!==p.length-1?ta:ea:Qo)===ta?"connection.updateWaypoints":"connection.reconnect",d=r.allowed(h,{connection:t,source:u,target:l});!1===d&&(d=r.allowed(h,{connection:t,source:l,target:u})),!1!==d&&i.init(e,"bendpoint.move",{data:{connection:t,connectionGfx:c,context:{allowed:d,bendpointIndex:o,connection:t,source:u,target:l,insert:a,type:s}}})},t.on("bendpoint.move.hover",(function(e){var t,n=e.context,i=n.connection,o=i.source,a=i.target,s=e.hover,c=n.type;if(n.hover=s,s){var u=c===ta?"connection.updateWaypoints":"connection.reconnect";if(t=n.allowed=r.allowed(u,{connection:i,source:c===Qo?s:o,target:c===ea?s:a}))return n.source=c===Qo?s:o,void(n.target=c===ea?s:a);!1===t&&(t=n.allowed=r.allowed(u,{connection:i,source:c===ea?s:a,target:c===Qo?s:o})),t&&(n.source=c===ea?s:a,n.target=c===Qo?s:o)}})),t.on(["bendpoint.move.out","bendpoint.move.cleanup"],(function(e){var t=e.context,n=t.type;t.hover=null,t.source=null,t.target=null,n!==ta&&(t.allowed=!1)})),t.on("bendpoint.move.end",(function(e){var t=e.context,n=t.allowed,i=t.bendpointIndex,r=t.connection,a=t.insert,s=r.waypoints.slice(),c=t.source,u=t.target,l=t.type,p=t.hints||{},h={x:Jo(e.x),y:Jo(e.y)};if(!n)return!1;l===ta?(a?s.splice(i,0,h):s[i]=h,p.bendpointMove={insert:a,bendpointIndex:i},s=this.cropWaypoints(r,s),o.updateWaypoints(r,function(e){e=e.slice();for(var t,n,i,r=0;e[r];)t=e[r],n=e[r-1],0===Bo(t,i=e[r+1])||Ao(n,i,t)?e.splice(r,1):r++;return e}(s),p)):(l===Qo?(p.docking="source",ia(t)&&(p.docking="target",p.newWaypoints=s.reverse())):l===ea&&(p.docking="target",ia(t)&&(p.docking="source",p.newWaypoints=s.reverse())),o.reconnect(r,c,u,h,p))}),this)}function ia(e){var t=e.hover,n=e.source,i=e.target,r=e.type;return r===Qo?t&&i&&t===i&&n!==i:r===ea?t&&n&&t===n&&n!==i:void 0}na.$inject=["injector","eventBus","canvas","dragging","rules","modeling"],na.prototype.cropWaypoints=function(e,t){var n=this._injector.get("connectionDocking",!1);if(!n)return t;var i=e.waypoints;return e.waypoints=t,e.waypoints=n.getCroppedWaypoints(e),t=e.waypoints,e.waypoints=i,t};var ra="updateWaypoints",oa="connect-ok",aa="connect-not-ok",sa="connect-hover",ca="djs-updating",ua="djs-element-hidden";function la(e,t,n,i){this._injector=t;var r=t.get("connectionPreview",!1);n.on("bendpoint.move.start",(function(e){var t=e.context,n=t.bendpointIndex,r=t.connection,o=t.insert,a=r.waypoints,s=a.slice();t.waypoints=a,o&&s.splice(n,0,{x:e.x,y:e.y}),r.waypoints=s,Ce(t.draggerGfx=$o(i.getLayer("overlays"))).add("djs-dragging"),i.addMarker(r,ua),i.addMarker(r,ca)})),n.on("bendpoint.move.hover",(function(e){var t=e.context,n=t.allowed,r=t.hover,o=t.type;if(r){if(i.addMarker(r,sa),o===ra)return;n?(i.removeMarker(r,aa),i.addMarker(r,oa)):!1===n&&(i.removeMarker(r,oa),i.addMarker(r,aa))}})),n.on(["bendpoint.move.out","bendpoint.move.cleanup"],1100,(function(e){var t=e.context,n=t.hover,r=t.target;n&&(i.removeMarker(n,sa),i.removeMarker(n,r?oa:aa))})),n.on("bendpoint.move.move",(function(t){var n=t.context,i=n.allowed,o=n.bendpointIndex,a=n.draggerGfx,s=n.hover,c=n.type,u=n.connection,l=u.source,p=u.target,h=u.waypoints.slice(),d={x:t.x,y:t.y},f=n.hints||{},y={};r&&(f.connectionStart&&(y.connectionStart=f.connectionStart),f.connectionEnd&&(y.connectionEnd=f.connectionEnd),"reconnectStart"===c?ia(n)?(y.connectionEnd=y.connectionEnd||d,y.source=p,y.target=s||l,h=h.reverse()):(y.connectionStart=y.connectionStart||d,y.source=s||l,y.target=p):"reconnectEnd"===c?ia(n)?(y.connectionStart=y.connectionStart||d,y.source=s||p,y.target=l,h=h.reverse()):(y.connectionEnd=y.connectionEnd||d,y.source=l,y.target=s||p):(y.noCropping=!0,y.noLayout=!0,h[o]=d),c===ra&&(h=e.cropWaypoints(u,h)),y.waypoints=h,r.drawPreview(n,i,y)),qt(a,t.x,t.y)}),this),n.on(["bendpoint.move.end","bendpoint.move.cancel"],1100,(function(e){var t=e.context,n=t.connection,o=t.draggerGfx,a=t.hover,s=t.target,c=t.waypoints;n.waypoints=c,Pe(o),i.removeMarker(n,ca),i.removeMarker(n,ua),a&&(i.removeMarker(a,oa),i.removeMarker(a,s?oa:aa)),r&&r.cleanUp(t)}))}la.$inject=["bendpointMove","injector","eventBus","canvas"];var pa="connect-hover",ha="djs-updating";function da(e,t,n){return fa(e,t,e[t]+n)}function fa(e,t,n){return{x:"x"===t?n:e.x,y:"y"===t?n:e.y}}function ya(e){return"x"===e?"y":"x"}function va(e,t,n){var i,r;return e.original?e.original:(i=Xo(t),fa(e,r=ya(n),i[r]))}function ga(e,t,n,i,r,o){var a=e.get("connectionDocking",!1);function s(e,t){if(!a)return t;var n,i=e.waypoints;return e.waypoints=t,n=a.getCroppedWaypoints(e),e.waypoints=i,n}function c(e){r.update("connection",e.connection,e.connectionGfx)}this.start=function(e,t,r){var o,a,s,c,u=n.getGraphics(t),l=r-1,p=r,h=t.waypoints,d=h[l],f=h[p],y=Io(n,h,e);(a=Ro(d,f))&&(s="v"===a?"x":"y",0===l&&(d=va(d,t.source,s)),p===h.length-1&&(f=va(f,t.target,s)),o={connection:t,segmentStartIndex:l,segmentEndIndex:p,segmentStart:d,segmentEnd:f,axis:s,dragPosition:c=y?y.point:{x:(d.x+f.x)/2,y:(d.y+f.y)/2}},i.init(e,c,"connectionSegment.move",{cursor:"x"===s?"resize-ew":"resize-ns",data:{connection:t,connectionGfx:u,context:o}}))},t.on("connectionSegment.move.start",(function(e){var t=e.context,i=e.connection,r=n.getLayer("overlays");t.originalWaypoints=i.waypoints.slice(),t.draggerGfx=Fo(r,t.segmentStart,t.segmentEnd),Ce(t.draggerGfx).add("djs-dragging"),n.addMarker(i,ha)})),t.on("connectionSegment.move.move",(function(e){var t,n,i=e.context,r=i.connection,o=i.segmentStartIndex,a=i.segmentEndIndex,u=i.segmentStart,l=i.segmentEnd,p=i.axis,h=i.originalWaypoints.slice(),d=da(u,p,e["d"+p]),f=da(l,p,e["d"+p]),y=h.length,v=0;h[o]=d,h[a]=f,o<2&&(t=Ko(r.source,d),1===o?"intersect"===t&&(h.shift(),h[0]=d,v--):"intersect"!==t&&(h.unshift(u),v++)),a>y-3&&(n=Ko(r.target,f),a===y-2?"intersect"===n&&(h.pop(),h[h.length-1]=f):"intersect"!==n&&h.push(l)),i.newWaypoints=r.waypoints=s(r,h),function(e,t,n){var i,r,o,a,s,c,u=e.newWaypoints,l=(i=n,r=u[e.segmentStartIndex+t],o=u[e.segmentEndIndex+t],a=ya(e.axis),s=Math.max(r[a],o[a]),c=Math.min(r[a],o[a]),fa(r,a,Math.min(Math.max(c+20,i[a]),s-20)));qt(e.draggerGfx,l.x,l.y)}(i,v,e),i.newSegmentStartIndex=o+v,c(e)})),t.on("connectionSegment.move.hover",(function(e){e.context.hover=e.hover,n.addMarker(e.hover,pa)})),t.on(["connectionSegment.move.out","connectionSegment.move.cleanup"],(function(e){var t=e.context.hover;t&&n.removeMarker(t,pa)})),t.on("connectionSegment.move.cleanup",(function(e){var t=e.context,i=t.connection;t.draggerGfx&&Pe(t.draggerGfx),n.removeMarker(i,ha)})),t.on(["connectionSegment.move.cancel","connectionSegment.move.end"],(function(e){var t=e.context;t.connection.waypoints=t.originalWaypoints,c(e)})),t.on("connectionSegment.move.end",(function(e){var t=e.context,n=t.connection,i=t.newWaypoints,r=t.newSegmentStartIndex,a=function(e,t){var n=0;return{waypoints:e.filter((function(i,r){return!Ao(e[r-1],e[r+1],i)||(n=r<=t?n-1:n,!1)})),segmentOffset:n}}(i=i.map((function(e){return{original:e.original,x:Math.round(e.x),y:Math.round(e.y)}})),r),c=s(n,a.waypoints),u=a.segmentOffset,l={segmentMove:{segmentStartIndex:t.segmentStartIndex,newSegmentStartIndex:r+u}};o.updateWaypoints(n,c,l)}))}ga.$inject=["injector","eventBus","canvas","dragging","graphicsFactory","modeling"];var ma=Math.abs,xa=Math.round;function _a(e,t){return!e||isNaN(e.x)||isNaN(e.y)?t:{x:xa(e.x+e.width/2),y:xa(e.y+e.height/2)}}function wa(e,t){var n=e.snapped;return!!n&&("string"==typeof t?n[t]:n.x&&n.y)}function ba(e,t,n){if("string"!=typeof t)throw new Error("axis must be in [x, y]");if("number"!=typeof n&&!1!==n)throw new Error("value must be Number or false");var i,r=e[t],o=e.snapped=e.snapped||{};return!1===n?o[t]=!1:(o[t]=!0,i=n-r,e[t]+=i,e["d"+t]+=i),r}function Ea(e){return e.children||[]}var Sa=Math.abs,Ta=Math.round;function ka(e){function t(e,t){if(f(e)){for(var n=e.length;n--;)if(Sa(e[n]-t)<=10)return e[n]}else{var i=t%(e=+e);if(i<10)return t-i;if(i>e-10)return t-i+e}return t}function n(e){if(e.width)return{x:Ta(e.width/2+e.x),y:Ta(e.height/2+e.y)}}e.on("connectionSegment.move.move",1500,(function(e){var i,r,o=function(e){var t=e.snapPoints,i=e.connection,r=i.waypoints,o=e.segmentStart,a=e.segmentStartIndex,s=e.segmentEnd,c=e.segmentEndIndex,u=e.axis;if(t)return t;var l=[r[a-1],o,s,r[c+1]];return a<2&&l.unshift(n(i.source)),c>r.length-3&&l.unshift(n(i.target)),e.snapPoints=t={horizontal:[],vertical:[]},b(l,(function(e){e&&(e=e.original||e,"y"===u&&t.horizontal.push(e.y),"x"===u&&t.vertical.push(e.x))})),t}(e.context),a=e.x,s=e.y;if(o){var c=a-(i=t(o.vertical,a)),u=s-(r=t(o.horizontal,s));G(e,{dx:e.dx-c,dy:e.dy-u,x:i,y:r}),(c||-1!==o.vertical.indexOf(a))&&ba(e,"x",i),(u||-1!==o.horizontal.indexOf(s))&&ba(e,"y",r)}})),e.on(["bendpoint.move.move","bendpoint.move.end"],1500,(function(e){var i,r,o=e.context,a=function(e){var t=e.snapPoints,n=e.connection.waypoints,i=e.bendpointIndex;if(t)return t;var r=[n[i-1],n[i+1]];return e.snapPoints=t={horizontal:[],vertical:[]},b(r,(function(e){e&&(e=e.original||e,t.horizontal.push(e.y),t.vertical.push(e.x))})),t}(o),s=o.hover,c=s&&n(s),u=e.x,l=e.y;if(a){var p=u-(i=t(c?a.vertical.concat([c.x]):a.vertical,u)),h=l-(r=t(c?a.horizontal.concat([c.y]):a.horizontal,l));G(e,{dx:e.dx-p,dy:e.dy-h,x:e.x-p,y:e.y-h}),(p||-1!==a.vertical.indexOf(u))&&ba(e,"x",i),(h||-1!==a.horizontal.indexOf(l))&&ba(e,"y",r)}}))}ka.$inject=["eventBus"];const Ca={__depends__:[ko,jo],__init__:["bendpoints","bendpointSnapping","bendpointMovePreview"],bendpoints:["type",Wo],bendpointMove:["type",na],bendpointMovePreview:["type",la],connectionSegmentMove:["type",ga],bendpointSnapping:["type",ka]},Ma={YELLOW:"#FFFF88",GREEN:"#7EC845",PINK:"#F46F60",ICE_BLUE:"#B8D6F7",BLUE:"#23BFE7",ORANGE:"#FF9D48",BLACK:"black"};var Pa={type:"postit:SquarePostit",color:Ma.YELLOW,$instanceOf:function(){return!0}};function ja(e,t,n,i,r){var o=Pa;e.on("canvas.init",(function(a){var s=a.svg;a.viewport.innerHTML='<filter id="noteDropShadow" style="height: 130%;"><feGaussianBlur in="SourceAlpha" stdDeviation="3"></feGaussianBlur><feOffset dx="1" dy="2" result="offsetblur"></feOffset><feMerge><feMergeNode></feMergeNode><feMergeNode in="SourceGraphic"></feMergeNode></feMerge></filter>',le(s,"svg","dblclick",(function(e){e.target===s&&function(e){var a,s=function(e){var t=ir(e);return{x:t.x,y:t.y}}(e),c=t.createPostitElement("shape",G(o,s)),u=n.getRootElement();Si(a=r.createShape(c,s,u),["postit:Postit","postit:Group","postit:TextBox"])&&i.activate(a)}(e)})),e.on("create.end",(function(e){!function(e){if(e){var t=Ei(e);o={type:e.type,color:e.color||t.color,$instanceOf:function(e){return"function"==typeof t.$instanceOf&&t.$instanceOf(e)}}}else o=Pa}(e.shape)}))}))}ja.prototype.$inject=["eventBus","elementFactory","canvas","directEditing","modeling"];var Ba=Math.min,Aa=Math.max;function Ra(e){e.preventDefault()}function Oa(e){e.stopPropagation()}function Na(e){this.container=e.container,this.parent=he('<div class="djs-direct-editing-parent"><div class="djs-direct-editing-content" contenteditable="true"></div></div>'),this.content=ye("[contenteditable]",this.parent),this.keyHandler=e.keyHandler||function(){},this.resizeHandler=e.resizeHandler||function(){},this.autoResize=F(this.autoResize,this),this.handlePaste=F(this.handlePaste,this)}function La(e,t){this._eventBus=e,this._providers=[],this._textbox=new Na({container:t.getContainer(),keyHandler:F(this._handleKey,this),resizeHandler:F(this._handleResize,this)})}Na.prototype.create=function(e,t,n,i){var r=this.parent,o=this.content,a=this.container;i=this.options=i||{};var s=U(t=this.style=t||{},["width","height","maxWidth","maxHeight","minWidth","minHeight","left","top","backgroundColor","position","overflow","border","wordWrap","textAlign","outline","transform"]);G(r.style,{width:e.width+"px",height:e.height+"px",maxWidth:e.maxWidth+"px",maxHeight:e.maxHeight+"px",minWidth:e.minWidth+"px",minHeight:e.minHeight+"px",left:e.x+"px",top:e.y+"px",backgroundColor:"#ffffff",position:"absolute",overflow:"visible",border:"1px solid #ccc",boxSizing:"border-box",wordWrap:"normal",textAlign:"center",outline:"none"},s);var c=U(t,["fontFamily","fontSize","fontWeight","lineHeight","padding","paddingTop","paddingRight","paddingBottom","paddingLeft"]);return G(o.style,{boxSizing:"border-box",width:"100%",outline:"none",wordWrap:"break-word"},c),i.centerVertically&&G(o.style,{position:"absolute",top:"50%",transform:"translate(0, -50%)"},c),o.innerText=n,ce.bind(o,"keydown",this.keyHandler),ce.bind(o,"mousedown",Oa),ce.bind(o,"paste",this.handlePaste),i.autoResize&&ce.bind(o,"input",this.autoResize),i.resizable&&this.resizable(t),a.appendChild(r),this.setSelection(o.lastChild,o.lastChild&&o.lastChild.length),r},Na.prototype.handlePaste=function(e){var t,n=this.options,i=this.style;if(e.preventDefault(),t=e.clipboardData?e.clipboardData.getData("text/plain"):window.clipboardData.getData("Text"),this.insertText(t),n.autoResize){var r=this.autoResize(i);r&&this.resizeHandler(r)}},Na.prototype.insertText=function(e){document.execCommand("insertText",!1,e)||this._insertTextIE(e)},Na.prototype._insertTextIE=function(e){var t,n,i,r=this.getSelection(),o=r.startContainer,a=r.endContainer,s=r.startOffset,c=r.endOffset,u=r.commonAncestorContainer,l=(t=u.childNodes,[].slice.call(t));if(function(e){return e.nodeType===Node.TEXT_NODE}(u)){var p=o.textContent;o.textContent=p.substring(0,s)+e+p.substring(c),n=o,i=s+e.length}else if(o===this.content&&a===this.content){var h=document.createTextNode(e);this.content.insertBefore(h,l[s]),n=h,i=h.textContent.length}else{var d=l.indexOf(o),f=l.indexOf(a);l.forEach((function(t,n){n===d?t.textContent=o.textContent.substring(0,s)+e+a.textContent.substring(c):n>d&&n<=f&&ge(t)})),n=o,i=s+e.length}n&&void 0!==i&&setTimeout((function(){self.setSelection(n,i)}))},Na.prototype.autoResize=function(){var e=this.parent,t=this.content,n=parseInt(this.style.fontSize)||12;if(t.scrollHeight>e.offsetHeight||t.scrollHeight<e.offsetHeight-n){var i=e.getBoundingClientRect(),r=t.scrollHeight;e.style.height=r+"px",this.resizeHandler({width:i.width,height:i.height,dx:0,dy:r-i.height})}},Na.prototype.resizable=function(){var e=this,t=this.parent,n=this.resizeHandle,i=parseInt(this.style.minWidth)||0,r=parseInt(this.style.minHeight)||0,o=parseInt(this.style.maxWidth)||1/0,a=parseInt(this.style.maxHeight)||1/0;if(!n){var s,c,u,l;n=this.resizeHandle=he('<div class="djs-direct-editing-resize-handle"></div>');var p=function(n){Ra(n),Oa(n);var p=Ba(Aa(u+n.clientX-s,i),o),h=Ba(Aa(l+n.clientY-c,r),a);t.style.width=p+"px",t.style.height=h+"px",e.resizeHandler({width:u,height:l,dx:n.clientX-s,dy:n.clientY-c})},h=function(e){Ra(e),Oa(e),ce.unbind(document,"mousemove",p,!1),ce.unbind(document,"mouseup",h,!1)};ce.bind(n,"mousedown",(function(e){Ra(e),Oa(e),s=e.clientX,c=e.clientY;var n=t.getBoundingClientRect();u=n.width,l=n.height,ce.bind(document,"mousemove",p),ce.bind(document,"mouseup",h)}))}G(n.style,{position:"absolute",bottom:"0px",right:"0px",cursor:"nwse-resize",width:"0",height:"0",borderTop:(parseInt(this.style.fontSize)/4||3)+"px solid transparent",borderRight:(parseInt(this.style.fontSize)/4||3)+"px solid #ccc",borderBottom:(parseInt(this.style.fontSize)/4||3)+"px solid #ccc",borderLeft:(parseInt(this.style.fontSize)/4||3)+"px solid transparent"}),t.appendChild(n)},Na.prototype.destroy=function(){var e=this.parent,t=this.content,n=this.resizeHandle;t.innerText="",e.removeAttribute("style"),t.removeAttribute("style"),ce.unbind(t,"keydown",this.keyHandler),ce.unbind(t,"mousedown",Oa),ce.unbind(t,"input",this.autoResize),ce.unbind(t,"paste",this.handlePaste),n&&(n.removeAttribute("style"),ge(n)),ge(e)},Na.prototype.getValue=function(){return this.content.innerText.trim()},Na.prototype.getSelection=function(){return window.getSelection().getRangeAt(0)},Na.prototype.setSelection=function(e,t){var n=document.createRange();null===e?n.selectNodeContents(this.content):(n.setStart(e,t),n.setEnd(e,t));var i=window.getSelection();i.removeAllRanges(),i.addRange(n)},La.$inject=["eventBus","canvas"],La.prototype.registerProvider=function(e){this._providers.push(e)},La.prototype.isActive=function(){return!!this._active},La.prototype.cancel=function(){this._active&&(this._fire("cancel"),this.close())},La.prototype._fire=function(e,t){this._eventBus.fire("directEditing."+e,t||{active:this._active})},La.prototype.close=function(){this._textbox.destroy(),this._fire("deactivate"),this._active=null,this.resizable=void 0},La.prototype.complete=function(){var e=this._active;if(e){var t,n=e.context.bounds,i=this.$textbox.getBoundingClientRect(),r=this.getValue();r===e.context.text&&i.height===n.height&&i.width===n.width||(t=this._textbox.container.getBoundingClientRect(),e.provider.update(e.element,r,e.context.text,{x:i.left-t.left,y:i.top-t.top,width:i.width,height:i.height})),this._fire("complete"),this.close()}},La.prototype.getValue=function(){return this._textbox.getValue()},La.prototype._handleKey=function(e){e.stopPropagation();var t=e.keyCode||e.charCode;return 27===t?(e.preventDefault(),this.cancel()):13!==t||e.shiftKey?void 0:(e.preventDefault(),this.complete())},La.prototype._handleResize=function(e){this._fire("resize",e)},La.prototype.activate=function(e){var t;this.isActive()&&this.cancel();var n=_(this._providers,(function(n){return(t=n.activate(e))?n:null}));return t&&(this.$textbox=this._textbox.create(t.bounds,t.style,t.text,t.options),this._active={element:e,context:t,provider:n},t.options&&t.options.resizable&&(this.resizable=!0),this._fire("activate")),!!t};const za={__depends__:[pr],__init__:["directEditing"],directEditing:["type",La]},Da={__depends__:[za],__init__:["canvasCreate"],canvasCreate:["type",ja]};function Ia(e,t,n,i){function r(e,t){return i.allowed("connection.create",{source:e,target:t})}e.on("connect.hover",(function(e){var t,n=e.context,i=n.start,o=e.hover;if(n.hover=o,!d(t=n.canExecute=r(i,o))){if(!1!==t)return n.source=i,void(n.target=o);d(t=n.canExecute=r(o,i))||!1!==t&&(n.source=o,n.target=i)}})),e.on(["connect.out","connect.cleanup"],(function(e){var t=e.context;t.hover=null,t.source=null,t.target=null,t.canExecute=!1})),e.on("connect.end",(function(e){var t=e.context,i=t.canExecute,r=t.connectionStart,o={x:e.x,y:e.y},a=t.source,s=t.target;if(!i)return!1;var c=null,u={connectionStart:$a(t)?o:r,connectionEnd:$a(t)?r:o};y(i)&&(c=i),n.connect(a,s,c,u)})),this.start=function(e,n,i,r){y(i)||(r=i,i=Xo(n)),t.init(e,"connect",{autoActivate:r,data:{shape:n,context:{start:n,connectionStart:i}}})}}function $a(e){var t=e.hover,n=e.source,i=e.target;return t&&n&&t===n&&n!==i}Ia.$inject=["eventBus","dragging","modeling","rules"];var Fa="connect-ok",Ha="connect-not-ok";function Ga(e,t,n){var i=e.get("connectionPreview",!1);i&&t.on("connect.move",(function(e){var t=e.context,n=t.canExecute,r=t.hover,o=t.source,a=t.start,s=t.startPosition,c=t.connectionStart,u=t.connectionEnd,l=t.target;c||(c=$a(t)?{x:e.x,y:e.y}:s),u||(u=$a(t)?s:{x:e.x,y:e.y}),i.drawPreview(t,n,{source:o||a,target:l||r,connectionStart:c,connectionEnd:u})})),t.on("connect.hover",900,(function(e){var t=e.context,i=e.hover,r=t.canExecute;null!==r&&n.addMarker(i,r?Fa:Ha)})),t.on(["connect.out","connect.cleanup"],1100,(function(e){var t=e.hover;t&&(n.removeMarker(t,Fa),n.removeMarker(t,Ha))})),i&&t.on("connect.cleanup",(function(e){i.cleanUp(e.context)}))}Ga.$inject=["injector","eventBus","canvas"];const Ua={__depends__:[_r,jo,ko],__init__:["connectPreview"],connect:["type",Ia],connectPreview:["type",Ga]};function Wa(e,t,n,i){this._canvas=t,this._graphicsFactory=n,this._elementFactory=i,this._connectionDocking=e.get("connectionDocking",!1),this._layouter=e.get("layouter",!1)}Wa.$inject=["injector","canvas","graphicsFactory","elementFactory"],Wa.prototype.drawPreview=function(e,t,n){n=n||{};var i,r,o,a=e.connectionPreviewGfx,s=e.getConnection,c=n.source,u=n.target,l=n.waypoints,p=n.connectionStart,h=n.connectionEnd,d=n.noLayout,f=n.noCropping,y=n.noNoop,v=this;a||(a=e.connectionPreviewGfx=this.createConnectionPreviewGfx()),je(a),s||(s=e.getConnection=(r=function(e,t,n){return v.getConnection(e,t,n)},o={},function(e){var t=JSON.stringify(e),n=o[t];return n||(n=o[t]=r.apply(null,arguments)),n})),t&&(i=s(t,c,u)),i?(i.waypoints=l||[],this._layouter&&!d&&(i.waypoints=this._layouter.layoutConnection(i,{source:c,target:u,connectionStart:p,connectionEnd:h,waypoints:n.waypoints||i.waypoints})),i.waypoints&&i.waypoints.length||(i.waypoints=[c?Xo(c):p,u?Xo(u):h]),this._connectionDocking&&(c||u)&&!f&&(i.waypoints=this._connectionDocking.getCroppedWaypoints(i,c,u)),this._graphicsFactory.drawConnection(a,i)):!y&&this.drawNoopPreview(a,n)},Wa.prototype.drawNoopPreview=function(e,t){var n=t.source,i=t.target,r=t.connectionStart||Xo(n),o=t.connectionEnd||Xo(i),a=this.cropWaypoints(r,o,n,i);xe(e,this.createNoopConnection(a[0],a[1]))},Wa.prototype.cropWaypoints=function(e,t,n,i){var r=this._graphicsFactory,o=n&&r.getShapePath(n),a=i&&r.getShapePath(i),s=r.getConnectionPath({waypoints:[e,t]});return[e=n&&Zo(o,s,!0)||e,t=i&&Zo(a,s,!1)||t]},Wa.prototype.cleanUp=function(e){e&&e.connectionPreviewGfx&&Pe(e.connectionPreviewGfx)},Wa.prototype.getConnection=function(e){var t=function(e){return y(e)?e:{}}(e);return this._elementFactory.createConnection(t)},Wa.prototype.createConnectionPreviewGfx=function(){var e=Ne("g");return be(e,{pointerEvents:"none"}),Ce(e).add("djs-connection-preview"),xe(this._canvas.getDefaultLayer(),e),e},Wa.prototype.createNoopConnection=function(e,t){var n=Ne("polyline");return be(n,{stroke:"#333",strokeDasharray:[1],strokeWidth:2,"pointer-events":"none"}),be(n,{points:[e.x,e.y,t.x,t.y]}),n};const Va={__init__:["connectionPreview"],connectionPreview:["type",Wa]};var qa=".entry";function Ya(e,t,n){this._eventBus=t,this._overlays=n;var i=h(e&&e.scale)?e.scale:{min:1,max:1.5};this._overlaysConfig={position:{right:-9,top:-6},scale:i},this._current=null,this._init()}Ya.$inject=["config.contextPad","eventBus","overlays"],Ya.prototype._init=function(){var e=this._eventBus,t=this;e.on("selection.changed",(function(e){var n=e.newSelection;1===n.length?t.open(n[0]):t.close()})),e.on("elements.delete",(function(e){b(e.elements,(function(e){t.isOpen(e)&&t.close()}))})),e.on("element.changed",(function(e){var n=e.element,i=t._current;i&&i.element===n&&t.open(n,!0)}))},Ya.prototype.registerProvider=function(e,t){t||(t=e,e=1e3),this._eventBus.on("contextPad.getProviders",e,(function(e){e.providers.push(t)}))},Ya.prototype.getEntries=function(e){var t=this._getProviders(),n={};return b(t,(function(t){var i=t.getContextPadEntries(e);g(i)?n=i(n):b(i,(function(e,t){n[t]=e}))})),n},Ya.prototype.trigger=function(e,t,n){var i,r,o=this._current.element,a=this._current.entries,s=t.delegateTarget||t.target;if(!s)return t.preventDefault();if(i=a[V(s,"data-action")].action,r=t.originalEvent||t,g(i)){if("click"===e)return i(r,o,n)}else if(i[e])return i[e](r,o,n);t.preventDefault()},Ya.prototype.open=function(e,t){!t&&this.isOpen(e)||(this.close(),this._updateAndOpen(e))},Ya.prototype._getProviders=function(){var e=this._eventBus.createEvent({type:"contextPad.getProviders",providers:[]});return this._eventBus.fire(e),e.providers},Ya.prototype._updateAndOpen=function(e){var t=this.getEntries(e),n=this.getPad(e),i=n.html;b(t,(function(e,t){var n,r=e.group||"default",o=he(e.html||'<div class="entry" draggable="true"></div>');V(o,"data-action",t),(n=ye("[data-group="+r+"]",i))||(n=he('<div class="group" data-group="'+r+'"></div>'),i.appendChild(n)),n.appendChild(o),e.className&&function(e,t){var n=Z(e);(f(t)?t:t.split(/\s+/g)).forEach((function(e){n.add(e)}))}(o,e.className),e.title&&V(o,"title",e.title),e.imageUrl&&o.appendChild(he('<img src="'+e.imageUrl+'">'))})),Z(i).add("open"),this._current={element:e,pad:n,entries:t},this._eventBus.fire("contextPad.open",{current:this._current})},Ya.prototype.getPad=function(e){if(this.isOpen())return this._current.pad;var t=this,n=this._overlays,i=he('<div class="djs-context-pad"></div>'),r=G({html:i},this._overlaysConfig);le(i,qa,"click",(function(e){t.trigger("click",e)})),le(i,qa,"dragstart",(function(e){t.trigger("dragstart",e)})),ce.bind(i,"mousedown",(function(e){e.stopPropagation()})),this._overlayId=n.add(e,"context-pad",r);var o=n.get(this._overlayId);return this._eventBus.fire("contextPad.create",{element:e,pad:o}),o},Ya.prototype.close=function(){this.isOpen()&&(this._overlays.remove(this._overlayId),this._overlayId=null,this._eventBus.fire("contextPad.close",{current:this._current}),this._current=null)},Ya.prototype.isOpen=function(e){return!(!this._current||e&&this._current.element!==e)};const Xa={__depends__:[pr,Cr],contextPad:["type",Ya]};var Ka=["marker-start","marker-mid","marker-end"],Za=["circle","ellipse","line","path","polygon","polyline","rect"];function Ja(e,t,n,i){this._elementRegistry=e,this._canvas=n,this._styles=i,this._clonedMarkers={};var r=this;t.on("drag.cleanup",(function(){b(r._clonedMarkers,(function(e){Pe(e)})),r._clonedMarkers={}}))}Ja.$inject=["elementRegistry","eventBus","canvas","styles"],Ja.prototype.getGfx=function(e){return this._elementRegistry.getGraphics(e)},Ja.prototype.addDragger=function(e,t,n){var i=Be(n=n||this.getGfx(e)),r=n.getBoundingClientRect();return this._cloneMarkers(Vt(i)),be(i,this._styles.cls("djs-dragger",[],{x:r.top,y:r.left})),xe(t,i),i},Ja.prototype.addFrame=function(e,t){var n=Ne("rect",{class:"djs-resize-overlay",width:e.width,height:e.height,x:e.x,y:e.y});return xe(t,n),n},Ja.prototype._cloneMarkers=function(e){var t=this;if(e.childNodes)for(var n=0;n<e.childNodes.length;n++)t._cloneMarkers(e.childNodes[n]);(function(e){return-1!==Za.indexOf(e.nodeName)})(e)&&Ka.forEach((function(n){if(be(e,n)){var i=function(e,t,n){return ye("marker#"+be(e,t).match(/url\(['"]?#([^'"]*)['"]?\)/)[1],n||document)}(e,n,t._canvas.getContainer());t._cloneMarker(e,i,n)}}))},Ja.prototype._cloneMarker=function(e,t,n){var i=t.id,r=this._clonedMarkers[i];if(!r){var o=i+"-clone";(r=Be(t)).id=o,Ce(r).add("djs-dragger").add("djs-dragger-marker"),this._clonedMarkers[i]=r;var a=ye("defs",this._canvas._svg);a||(a=Ne("defs"),xe(this._canvas._svg,a)),xe(a,r)}be(e,n,"url(#"+this._clonedMarkers[i].id+")")};const Qa={__init__:["previewSupport"],previewSupport:["type",Ja]};var es="drop-ok",ts="drop-not-ok",ns="attach-ok",is="new-parent",rs="create";function os(e,t,n,i,r){function o(t,n){[ns,es,ts,is].forEach((function(i){i===n?e.addMarker(t,i):e.removeMarker(t,i)}))}function a(){var e=t.context();e&&e.prefix===rs&&t.cancel()}n.on(["create.move","create.hover"],(function(e){var t=e.context,n=t.elements,i=e.hover,a=t.source,s=t.hints||{};if(!i)return t.canExecute=!1,void(t.target=null);as(e);var c={x:e.x,y:e.y},u=t.canExecute=i&&function(e,t,n,i,o){if(!t)return!1;var a=_(e=w(e,(function(t){var n=t.labelTarget;return!(t.parent||function(e){return!!e.labelTarget}(t)&&-1!==e.indexOf(n))})),(function(e){return!ss(e)})),s=!1,c=!1,u=!1;cs(e)&&(s=r.allowed("shape.attach",{position:n,shape:a,target:t})),s||(u=cs(e)?r.allowed("shape.create",{position:n,shape:a,source:i,target:t}):r.allowed("elements.create",{elements:e,position:n,target:t}));var l=o.connectionTarget;return u||s?(a&&i&&(c=r.allowed("connection.create",{source:l===i?a:i,target:l===i?i:a,hints:{targetParent:t,targetAttach:s}})),{attach:s,connect:c}):(null===u||null===s)&&null}(n,i,c,a,s);i&&null!==u&&(t.target=i,u&&u.attach?o(i,ns):o(i,u?is:ts))})),n.on(["create.end","create.out","create.cleanup"],(function(e){var t=e.hover;t&&o(t,null)})),n.on("create.end",(function(e){var t=e.context,n=t.source,r=t.shape,o=t.elements,a=t.target,s=t.canExecute,c=s&&s.attach,u=s&&s.connect,l=t.hints||{};if(!1===s||!a)return!1;as(e);var p={x:e.x,y:e.y};r=u?i.appendShape(n,r,p,a,{attach:c,connection:!0===u?{}:u,connectionTarget:l.connectionTarget}):_(o=i.createElements(o,p,a,G({},l,{attach:c})),(function(e){return!ss(e)})),G(t,{elements:o,shape:r}),G(e,{elements:o,shape:r})})),n.on("create.init",(function(){n.on("elements.changed",a),n.once(["create.cancel","create.end"],2e3,(function(){n.off("elements.changed",a)}))})),this.start=function(e,n,i){f(n)||(n=[n]);var r=_(n,(function(e){return!ss(e)}));if(r){i=G({elements:n,hints:{},shape:r},i||{}),b(n,(function(e){v(e.x)||(e.x=0),v(e.y)||(e.y=0)}));var o=ht(n);b(n,(function(e){ss(e)&&(e.waypoints=k(e.waypoints,(function(e){return{x:e.x-o.x-o.width/2,y:e.y-o.y-o.height/2}}))),G(e,{x:e.x-o.x-o.width/2,y:e.y-o.y-o.height/2})})),t.init(e,rs,{cursor:"grabbing",autoActivate:!0,data:{shape:r,elements:n,context:i}})}}}function as(e){var t=e.context.createConstraints;t&&(t.left&&(e.x=Math.max(e.x,t.left)),t.right&&(e.x=Math.min(e.x,t.right)),t.top&&(e.y=Math.max(e.y,t.top)),t.bottom&&(e.y=Math.min(e.y,t.bottom)))}function ss(e){return!!e.waypoints}function cs(e){return e&&1===e.length&&!ss(e[0])}function us(e,t,n,i,r){t.on("create.move",750,(function(t){var o=t.hover,a=t.context,s=a.elements,c=a.dragGroup;c||(c=a.dragGroup=function(e){var t=Ne("g");be(t,r.cls("djs-drag-group",["no-events"]));var o=Ne("g");return e.forEach((function(e){var r;e.hidden||(e.waypoints?(r=n._createContainer("connection",o),n.drawConnection(Vt(r),e)):(r=n._createContainer("shape",o),n.drawShape(Vt(r),e),qt(r,e.x,e.y)),i.addDragger(e,t,r))})),t}(s)),o?(c.parentNode||xe(e.getDefaultLayer(),c),qt(c,t.x,t.y)):Pe(c)})),t.on("create.cleanup",(function(e){var t=e.context.dragGroup;t&&Pe(t)}))}os.$inject=["canvas","dragging","eventBus","modeling","rules"],us.$inject=["canvas","eventBus","graphicsFactory","previewSupport","styles"];const ls={__depends__:[ko,Qa,jo,_r],__init__:["create","createPreview"],create:["type",os],createPreview:["type",us]};var ps="data-id",hs=["contextPad.close","canvas.viewbox.changing","commandStack.changed"];function ds(e,t,n){var i=h(e&&e.scale)?e.scale:{min:1,max:1.5};this._config={scale:i},this._eventBus=t,this._canvas=n,this._providers={},this._current={}}ds.$inject=["config.popupMenu","eventBus","canvas"],ds.prototype.registerProvider=function(e,t,n){n||(n=t,t=1e3),this._eventBus.on("popupMenu.getProviders."+e,t,(function(e){e.providers.push(n)}))},ds.prototype.isEmpty=function(e,t){if(!e)throw new Error("element parameter is missing");if(!t)throw new Error("providerId parameter is missing");var n=this._getProviders(t);if(!n)return!0;var i=this._getEntries(e,n),r=this._getHeaderEntries(e,n),o=M(i)>0,a=r&&M(r)>0;return!o&&!a},ds.prototype.open=function(e,t,n){var i=this._getProviders(t);if(!e)throw new Error("Element is missing");if(!i||!i.length)throw new Error("No registered providers for: "+t);if(!n)throw new Error("the position argument is missing");this.isOpen()&&this.close(),this._emit("open");var r=this._current={className:t,element:e,position:n},o=this._getEntries(e,i),a=this._getHeaderEntries(e,i);r.entries=G({},o,a),r.container=this._createContainer(),M(a)&&r.container.appendChild(this._createEntries(a,"djs-popup-header")),M(o)&&r.container.appendChild(this._createEntries(o,"djs-popup-body"));var s=this._canvas.getContainer();this._attachContainer(r.container,s,n.cursor),this._bindAutoClose()},ds.prototype.close=function(){this.isOpen()&&(this._emit("close"),this._unbindAutoClose(),ge(this._current.container),this._current.container=null)},ds.prototype.isOpen=function(){return!!this._current.container},ds.prototype.trigger=function(e){e.preventDefault();var t=V(e.delegateTarget||e.target,ps),n=this._getEntry(t);if(n.action)return n.action.call(null,e,n)},ds.prototype._getProviders=function(e){var t=this._eventBus.createEvent({type:"popupMenu.getProviders."+e,providers:[]});return this._eventBus.fire(t),t.providers},ds.prototype._getEntries=function(e,t){var n={};return b(t,(function(t){if(t.getPopupMenuEntries){var i=t.getPopupMenuEntries(e);g(i)?n=i(n):b(i,(function(e,t){n[t]=e}))}else b(t.getEntries(e),(function(e){var t=e.id;if(!t)throw new Error("every entry must have the id property set");n[t]=W(e,["id"])}))})),n},ds.prototype._getHeaderEntries=function(e,t){var n={};return b(t,(function(t){if(t.getPopupMenuHeaderEntries){var i=t.getPopupMenuHeaderEntries(e);g(i)?n=i(n):b(i,(function(e,t){n[t]=e}))}else{if(!t.getHeaderEntries)return;b(t.getHeaderEntries(e),(function(e){var t=e.id;if(!t)throw new Error("every entry must have the id property set");n[t]=W(e,["id"])}))}})),n},ds.prototype._getEntry=function(e){var t=this._current.entries[e];if(!t)throw new Error("entry not found");return t},ds.prototype._emit=function(e){this._eventBus.fire("popupMenu."+e)},ds.prototype._createContainer=function(){var e=he('<div class="djs-popup">'),t=this._current.position,n=this._current.className;return G(e.style,{position:"absolute",left:t.x+"px",top:t.y+"px",visibility:"hidden"}),Z(e).add(n),e},ds.prototype._attachContainer=function(e,t,n){var i=this;le(e,".entry","click",(function(e){i.trigger(e)})),this._updateScale(e),t.appendChild(e),n&&this._assureIsInbounds(e,n)},ds.prototype._updateScale=function(e){var t,n,i,r,o=this._canvas.zoom(),a=this._config.scale,s=o;!0!==a&&(!1===a?(t=1,n=1):(t=a.min,n=a.max),h(t)&&o<t&&(s=t),h(n)&&o>n&&(s=n)),r="scale("+s+")",(i=e).style["transform-origin"]="top left",["","-ms-","-webkit-"].forEach((function(e){i.style[e+"transform"]=r}))},ds.prototype._assureIsInbounds=function(e,t){var n,i,r=this._canvas._container.getBoundingClientRect(),o=e.offsetLeft,a=e.offsetTop,s=e.scrollWidth,c=e.scrollHeight,u={},l=t.x-r.left,p=t.y-r.top;o+s>r.width&&(u.x=!0),a+c>r.height&&(u.y=!0),u.x&&u.y?(n=l-s+"px",i=p-c+"px"):u.x?(n=l-s+"px",i=p+"px"):u.y&&p<c?(n=l+"px",i="10px"):u.y&&(n=l+"px",i=p-c+"px"),G(e.style,{left:n,top:i},{visibility:"visible","z-index":1e3})},ds.prototype._createEntries=function(e,t){var n=he("<div>"),i=this;return Z(n).add(t),b(e,(function(e,t){var r=i._createEntry(e,t);n.appendChild(r)})),n},ds.prototype._createEntry=function(e,t){var n=he("<div>"),i=Z(n);if(i.add("entry"),e.className&&e.className.split(" ").forEach((function(e){i.add(e)})),V(n,ps,t),e.label){var r=he("<span>");r.textContent=e.label,n.appendChild(r)}return e.imageUrl&&n.appendChild(he('<img src="'+e.imageUrl+'" />')),!0===e.active&&i.add("active"),!0===e.disabled&&i.add("disabled"),e.title&&(n.title=e.title),n},ds.prototype._bindAutoClose=function(){this._eventBus.once(hs,this.close,this)},ds.prototype._unbindAutoClose=function(){this._eventBus.off(hs,this.close,this)};const fs={__init__:["popupMenu"],popupMenu:["type",ds]};function ys(){}ys.prototype.get=function(){return this._data},ys.prototype.set=function(e){this._data=e},ys.prototype.clear=function(){var e=this._data;return delete this._data,e},ys.prototype.isEmpty=function(){return!this._data};const vs={clipboard:["type",ys]};function gs(e){var t=this;function n(e){t._lastMoveEvent=e}this._lastMoveEvent=null,e.on("canvas.init",(function(e){(t._svg=e.svg).addEventListener("mousemove",n)})),e.on("canvas.destroy",(function(){t._lastMouseEvent=null,t._svg.removeEventListener("mousemove",n)}))}gs.$inject=["eventBus"],gs.prototype.getLastMoveEvent=function(){return this._lastMoveEvent||function(e,t){var n=document.createEvent("MouseEvent");return n.initMouseEvent&&n.initMouseEvent("mousemove",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),n}()};const ms={__init__:["mouse"],mouse:["type",gs]};function xs(e,t,n,i,r,o,a,s){this._canvas=e,this._create=t,this._clipboard=n,this._elementFactory=i,this._eventBus=r,this._modeling=o,this._mouse=a,this._rules=s,r.on("copyPaste.copyElement",(function(e){var t=e.descriptor,n=e.element,i=e.elements;t.priority=1,t.id=n.id,_(i,(function(e){return e===n.parent}))&&(t.parent=n.parent.id),function(e){return!!e.host}(n)&&(t.priority=2,t.host=n.host.id),_s(n)&&(t.priority=3,t.source=n.source.id,t.target=n.target.id,t.waypoints=function(e){return k(e.waypoints,(function(e){return(e=bs(e)).original&&(e.original=bs(e.original)),e}))}(n)),ws(n)&&(t.priority=4,t.labelTarget=n.labelTarget.id),b(["x","y","width","height"],(function(e){v(n[e])&&(t[e]=n[e])})),t.hidden=n.hidden,t.collapsed=n.collapsed})),r.on("copyPaste.pasteElements",(function(e){G(e.hints,{createElementsBehavior:!1})}))}function _s(e){return!!e.waypoints}function ws(e){return!!e.labelTarget}function bs(e){return G({},e)}function Es(e,t){var n=t.indexOf(e);return-1===n?t:t.splice(n,1)}xs.$inject=["canvas","create","clipboard","elementFactory","eventBus","modeling","mouse","rules"],xs.prototype.copy=function(e){var t,n;return f(e)||(e=e?[e]:[]),n=!1===(t=this._eventBus.fire("copyPaste.canCopyElements",{elements:e}))?{}:this.createTree(f(t)?t:e),this._clipboard.set(n),this._eventBus.fire("copyPaste.elementsCopied",{elements:e,tree:n}),n},xs.prototype.paste=function(e){var t=this._clipboard.get();if(!this._clipboard.isEmpty()){var n=e&&e.hints||{};this._eventBus.fire("copyPaste.pasteElements",{hints:n});var i=this._createElements(t);if(e&&e.element&&e.point)return this._paste(i,e.element,e.point,n);this._create.start(this._mouse.getLastMoveEvent(),i,{hints:n||{}})}},xs.prototype._paste=function(e,t,n,i){b(e,(function(e){v(e.x)||(e.x=0),v(e.y)||(e.y=0)}));var r=ht(e);return b(e,(function(e){_s(e)&&(e.waypoints=k(e.waypoints,(function(e){return{x:e.x-r.x-r.width/2,y:e.y-r.y-r.height/2}}))),G(e,{x:e.x-r.x-r.width/2,y:e.y-r.y-r.height/2})})),this._modeling.createElements(e,n,t,G({},i))},xs.prototype._createElements=function(e){var t=this,n=this._eventBus,i={},r=[];return b(e,(function(e,o){o=parseInt(o,10),b(e=R(e,"priority"),(function(e){var o,a=G({},W(e,["priority"]));return i[e.parent]?a.parent=i[e.parent]:delete a.parent,n.fire("copyPaste.pasteElement",{cache:i,descriptor:a}),_s(a)?(a.source=i[e.source],a.target=i[e.target],o=i[e.id]=t.createConnection(a),void r.push(o)):ws(a)?(a.labelTarget=i[a.labelTarget],o=i[e.id]=t.createLabel(a),void r.push(o)):(a.host&&(a.host=i[a.host]),o=i[e.id]=t.createShape(a),void r.push(o))}))})),r},xs.prototype.createConnection=function(e){return this._elementFactory.createConnection(W(e,["id"]))},xs.prototype.createLabel=function(e){return this._elementFactory.createLabel(W(e,["id"]))},xs.prototype.createShape=function(e){return this._elementFactory.createShape(W(e,["id"]))},xs.prototype.hasRelations=function(e,t){var n,i;return!(_s(e)&&(n=_(t,O({id:e.source.id})),i=_(t,O({id:e.target.id})),!n||!i)||ws(e)&&!_(t,O({id:e.labelTarget.id})))},xs.prototype.createTree=function(e){var t=this._rules,n=this,i={},r=[];function o(e,t){var n=_(r,(function(t){return e===t.element}));n?n.depth<t&&(r=function(e,t){var n=t.indexOf(e);return-1!==n&&t.splice(n,1),t}(n,r)).push({element:n.element,depth:t}):r.push({element:e,depth:t})}return lt(st(e),(function(e,t,n){if(!ws(e))return b(e.labels,(function(e){o(e,n)})),b([e.attachers,e.incoming,e.outgoing],(function(e){e&&e.length&&b(e,(function(e){b(e.labels,(function(e){o(e,n)})),o(e,n)}))})),o(e,n),e.children})),e=k(r,(function(e){return e.element})),r=R(r=k(r,(function(t){return t.descriptor={},n._eventBus.fire("copyPaste.copyElement",{descriptor:t.descriptor,element:t.element,elements:e}),t})),(function(e){return e.descriptor.priority})),e=k(r,(function(e){return e.element})),b(r,(function(r){var o=r.depth;n.hasRelations(r.element,e)&&function(e,n){return t.allowed("element.copy",{element:e,elements:n})}(r.element,e)?(i[o]||(i[o]=[]),i[o].push(r.descriptor)):Es(r.element,e)})),i};const Ss={__depends__:[vs,ls,ms,jo],__init__:["copyPaste"],copyPaste:["type",xs]};function Ts(e,t,n){f(n)||(n=[n]),b(n,(function(n){p(e[n])||(t[n]=e[n])}))}function ks(e,t,n){var i;t.on("copyPaste.copyElement",750,(function(e){var t=e.descriptor,n=e.element,i=t.oldBusinessObject=Ei(n);if(t.type=n.type,Ts(i,t,"name"),t.di={},Ts(i.di,t.di,["fill","stroke"]),Cs(t))return t})),t.on("copyPaste.pasteElements",(function(){i={}})),t.on("copyPaste.pasteElement",(function(t){var r,o,a,s=t.cache,c=t.descriptor,u=c.oldBusinessObject;Cs(c)?c.businessObject=Ei(s[c.labelTarget]):(r=e.create(u.$type),c.businessObject=n.copyElement(u,r),function(e,t){var n=Ei(e);e.default&&(i[e.default]={element:n,property:"default"}),i=W(i,E(i,(function(t,i,r){var o=i.element,a=i.property;return r===e.id&&(o[a]=n,t.push(e.id)),t}),[]))}(c),Ts(c,r,["color","name"]),o=c,f(a="oldBusinessObject")||(a=[a]),b(a,(function(e){o[e]&&delete o[e]})))}))}function Cs(e){return!!e.labelTarget}ks.$inject=["postitFactory","eventBus","moddleCopy"];var Ms=["boardElements"];function Ps(e,t,n){this._postitFactory=t,this._eventBus=e,this._moddle=n,e.on("moddleCopy.canCopyProperties",(function(e){var t=e.propertyNames;if(t&&t.length)return R(t,(function(e){return"extensionElements"===e}))})),e.on("moddleCopy.canCopyProperty",(function(e){var t=e.parent,n=y(t)&&t.$descriptor,i=e.propertyName;return(!i||-1===Ms.indexOf(i))&&!(i&&n&&!_(n.properties,O({name:i})))&&void 0}))}function js(e,t){return E(e.properties,(function(e,n){return t&&n.default?e:e.concat(n.name)}),[])}Ps.$inject=["eventBus","postitFactory","moddle"],Ps.prototype.copyElement=function(e,t,n){var i=this;n&&!f(n)&&(n=[n]),n=n||js(e.$descriptor);var r=this._eventBus.fire("moddleCopy.canCopyProperties",{propertyNames:n,sourceElement:e,targetElement:t});return!1===r||(f(r)&&(n=r),b(n,(function(n){var r;x(e,n)&&(r=e.get(n));var o=i.copyProperty(r,t,n);!1!==i._eventBus.fire("moddleCopy.canSetCopiedProperty",{parent:t,property:o,propertyName:n})&&h(o)&&t.set(n,o)}))),t},Ps.prototype.copyProperty=function(e,t,n){var i=this,r=this._eventBus.fire("moddleCopy.canCopyProperty",{parent:t,property:e,propertyName:n});if(!1!==r){if(r)return y(r)&&r.$type&&!r.$parent&&(r.$parent=t),r;var o=this._moddle.getPropertyDescriptor(t,n);if(!o.isId&&!o.isReference){if(f(e))return E(e,(function(e,o){return(r=i.copyProperty(o,t,n))?(r.$parent=t,e.concat(r)):e}),[]);if(y(e)&&e.$type){if(this._moddle.getElementDescriptor(e).isGeneric)return;return(r=i._postitFactory.create(e.$type)).$parent=t,r=i.copyElement(e,r)}return e}}};const Bs={__depends__:[Ss],__init__:["postitCopyPaste","moddleCopy"],postitCopyPaste:["type",ks],moddleCopy:["type",Ps]};var As=Math.round;function Rs(e){this._modeling=e}Rs.$inject=["modeling"],Rs.prototype.replaceElement=function(e,t,n){if(e.waypoints)return null;var i=this._modeling,r=t.width||e.width,o=t.height||e.height,a=t.x||e.x,s=t.y||e.y,c=As(a+r/2),u=As(s+o/2);return i.replaceShape(e,G({},t,{x:c,y:u,width:r,height:o}),n)};const Os={__init__:["replace"],replace:["type",Rs]};var Ns=["cancelActivity","instantiate","eventGatewayType","triggeredByEvent","isInterrupting"];function Ls(e,t,n,i,r,o){this.replaceElement=function(t,i,a){a=a||{};var s,c=i.type,u=t.businessObject,l=e.create(c),h={type:c,businessObject:l},d=js(u.$descriptor),y=js(l.$descriptor,!0),v=(s=y,d.filter((function(e){return-1!==s.indexOf(e)})));G(l,U(i,Ns));var g=v;return(l=n.copyElement(u,l,g)).name=u.name,h.di={},function(e,t,n){f(n)||(n=[n]),b(n,(function(n){p(e[n])||(t[n]=e[n])}))}(u.di,h.di,["fill","stroke"]),h=r.replaceElement(t,h,a),!1!==a.select&&o.select(h),h}}Ls.$inject=["postitFactory","elementFactory","moddleCopy","modeling","replace","selection"];const zs={__depends__:[Bs,Os,_r],postitReplace:["type",Ls]};function Ds(e,t,n,i,r,o){this._popupMenu=e,this._modeling=t,this._moddle=n,this._postitReplace=i,this._rules=r,this._translate=o,this.register()}Ds.$inject=["popupMenu","modeling","moddle","postitReplace","rules","translate"],Ds.prototype.register=function(){this._popupMenu.registerProvider("postit-replace",this)},Ds.prototype.getEntries=function(e){return this._rules.allowed("shape.replace",{element:e}),[]},Ds.prototype.getHeaderEntries=function(e){return[]},Ds.prototype._createEntries=function(e,t){var n=[],i=this;return b(t,(function(t){var r=i._createMenuEntry(t,e);n.push(r)})),n},Ds.prototype._createMenuEntry=function(e,t,n){var i=this._translate,r=this._postitReplace.replaceElement;return n=n||function(){return r(t,e.target)},{label:i(e.label),className:e.className,id:e.actionName,action:n}};const Is={__depends__:[fs,zs],__init__:["replaceMenuProvider"],replaceMenuProvider:["type",Ds]};function $s(e,t,n,i,r,o,a,s){e=e||{},i.registerProvider(this),this._contextPad=i,this._modeling=r,this._rules=o,this._imageSelection=a,this._translate=s,!1!==e.autoPlace&&(this._autoPlace=t.get("autoPlace",!1)),n.on("create.end",250,(function(e){var t=e.context.shape;if(ar(e)&&i.isOpen(t)){var n=i.getEntries(t);n.replace&&n.replace.action.click(e,t)}}))}$s.$inject=["config.contextPad","injector","eventBus","contextPad","modeling","rules","imageSelection","translate"],$s.prototype.getContextPadEntries=function(e){const{_rules:t,_modeling:n,_imageSelection:i,_translate:r}=this;let o={};function a(t){var i=new URLSearchParams(window.location.search).get("s_key");null===i?shepherdAlert("Script Required","You must open a script to update it's notes."):$.ajax({type:"DELETE",beforeSend:function(e){e.setRequestHeader("X-CSRF-Token",$('meta[name="csrf-token"]').attr("content"))},url:"/scripts/"+i+"/destroy_image/"+e.businessObject.$attrs.key,responseType:"application/json",dataType:"json",failure:function(e){}}),n.removeElements([e])}function s(t){"postit:Image"===e.type&&void 0!==e.businessObject.$attrs.key?shepherdConfirm("Confirm Delete?","Are you sure you want to delete this element?",a,[t]):n.removeElements([e])}return"label"===e.type||(bi(e,"postit:Postit")&&function(t){b(C(Ma),(i=>{var o,a=Ma[i];G(t,{["color-"+i]:{group:"color",className:(o=[],a===function(e){return Ei(e).color||e.color}(e)&&o.push("pjs-color-entry-disabled"),o.push("pjs-color-entry-"+i),o),title:r("Set Color"),action:{click:t=>function(t){n.setColor(e,t)}(a)}}})}))}(o),bi(e,"postit:Image")&&G(o,{"replace.image":{group:"replace",className:"bpmn-icon-screw-wrench",title:r("Change image source"),action:{click:t=>i.select(e)}}}),function(n){let i=t.allowed("elements.delete",{elements:[e]});f(i)&&(i=i[0]===e),i&&G(n,{delete:{group:"edit",className:"bpmn-icon-trash",title:r("Remove"),action:{click:s}}})}(o)),o};const Fs={__depends__:[za,Xa,_r,Ua,ls,Is],__init__:["contextPadProvider"],contextPadProvider:["type",$s]};var Hs="is not a registered action";function Gs(e,t){this._actions={};var n=this;e.on("diagram.init",(function(){n._registerDefaultActions(t),e.fire("editorActions.init",{editorActions:n})}))}function Us(e,t){return new Error(e+" "+t)}Gs.$inject=["eventBus","injector"],Gs.prototype._registerDefaultActions=function(e){var t=e.get("commandStack",!1),n=e.get("modeling",!1),i=e.get("selection",!1),r=e.get("zoomScroll",!1),o=e.get("copyPaste",!1),a=e.get("canvas",!1),s=e.get("rules",!1),c=e.get("keyboardMove",!1),u=e.get("keyboardMoveSelection",!1);t&&(this.register("undo",(function(){t.undo()})),this.register("redo",(function(){t.redo()}))),o&&i&&this.register("copy",(function(){var e=i.get();o.copy(e)})),o&&this.register("paste",(function(){o.paste()})),r&&this.register("stepZoom",(function(e){r.stepZoom(e.value)})),a&&this.register("zoom",(function(e){a.zoom(e.value)})),n&&i&&s&&this.register("removeSelection",(function(){var e=i.get();if(e.length){var t,r=s.allowed("elements.delete",{elements:e});!1!==r&&(t=f(r)?r:e).length&&n.removeElements(t.slice())}})),c&&this.register("moveCanvas",(function(e){c.moveCanvas(e)})),u&&this.register("moveSelection",(function(e){u.moveSelection(e.direction,e.accelerated)}))},Gs.prototype.trigger=function(e,t){if(!this._actions[e])throw Us(e,Hs);return this._actions[e](t)},Gs.prototype.register=function(e,t){var n=this;if("string"==typeof e)return this._registerAction(e,t);b(e,(function(e,t){n._registerAction(t,e)}))},Gs.prototype._registerAction=function(e,t){if(this.isRegistered(e))throw Us(e,"is already registered");this._actions[e]=t},Gs.prototype.unregister=function(e){if(!this.isRegistered(e))throw Us(e,Hs);this._actions[e]=void 0},Gs.prototype.getActions=function(){return Object.keys(this._actions)},Gs.prototype.isRegistered=function(e){return!!this._actions[e]};const Ws={__init__:["editorActions"],editorActions:["type",Gs]};function Vs(e){e.invoke(Gs,this)}r()(Vs,Gs),Vs.$inject=["injector"],Vs.prototype._registerDefaultActions=function(e){Gs.prototype._registerDefaultActions.call(this,e);var t=e.get("canvas",!1),n=e.get("elementRegistry",!1),i=e.get("selection",!1),r=e.get("spaceTool",!1),o=e.get("lassoTool",!1),a=e.get("handTool",!1),s=e.get("distributeElements",!1),c=e.get("alignElements",!1),u=e.get("directEditing",!1),l=e.get("searchPad",!1),p=e.get("modeling",!1);t&&n&&i&&this._registerAction("selectElements",(function(){var e=t.getRootElement(),r=n.filter((function(t){return t!==e}));return i.select(r),r})),r&&this._registerAction("spaceTool",(function(){r.toggle()})),o&&this._registerAction("lassoTool",(function(){o.toggle()})),a&&this._registerAction("handTool",(function(){a.toggle()})),i&&s&&this._registerAction("distributeElements",(function(e){var t=i.get(),n=e.type;t.length&&s.trigger(t,n)})),i&&c&&this._registerAction("alignElements",(function(e){var t=i.get(),n=e.type;t.length&&c.trigger(t,n)})),i&&p&&this._registerAction("setColor",(function(e){var t=i.get();t.length&&p.setColor(t,e)})),i&&u&&this._registerAction("directEditing",(function(){var e=i.get();e.length&&u.activate(e[0])})),l&&this._registerAction("find",(function(){l.toggle()})),t&&p&&this._registerAction("moveToOrigin",(function(){var e,i=t.getRootElement(),r=n.filter((function(e){return e!==i}));e=ht(r),p.moveElements(r,{x:-e.x,y:-e.y},i)}))};const qs={__depends__:[Ws],editorActions:["type",Vs]};async function Ys(e,t){return await function(e){return new Promise(((t,n)=>{try{var i=new FileReader;i.onloadend=function(){t(i.result)},i.readAsDataURL(e)}catch(e){n(e)}}))}(t)}function Xs(e){var t=(e=e||window.event).pageX,n=e.pageY;return void 0===t&&(t=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,n=e.clientY+document.body.scrollTop+document.documentElement.scrollTop),{pageX:t,pageY:n}}var Ks;function Zs(e,t,n,i){this._canvas=e,this._eventBus=t,this._modeling=n,this._translate=i;var r=this;t.on("create.end",500,(function(e){var t=e.context,n=t.shape;t.hints.selectImage&&r.select(n)})),Ks={URL:this._translate("URL"),"An error occured during the file upload":this._translate("An error occured during the file upload"),"Upload files here":this._translate("Upload files here"),Upload:this._translate("Upload"),file:this._translate("file"),files:this._translate("files"),selected:this._translate("selected"),"Upload again":this._translate("Upload again")},Zs.IMAGE_SELECTION_MARKUP='<div id="pjs-image-selection-modal" class="pjs-io-dialog-local"><div class="pjs-io-dialog-section pjs-first"><div id="pjs-image-selection-input-wrapper"><input id="pjs-image-selection-input" class="pjs-ui-element-bordered"></input></div><div class="pjs-labeled-input"><label for="pjs-image-selection-input" class="pjs-input-text-static">\x3c!--Search / --\x3e'+Ks.URL+':</label></div></div"><div class="pjs-io-dialog-section"><div class="pjs-section-spacer"></div><label for="pjs-image-upload"><div class="pjs-io-dialog-text-hint"><a style="display:block"><ul id="pjs-image-dialog-text-hint-list" class="pjs-horizontal"><li><div class="pjs-general-icon pjs-image-dialog-upload-icon"></div></li><li id="pjs-image-selection-files-text-error">'+Ks["An error occured during the file upload"]+'</li><li id="pjs-image-selection-files-text-upload">'+Ks["Upload files here"]+'</li></ul></a></div></label><input type="file" id="pjs-image-upload" style="display:none" multiple/><div class="pjs-io-dialog-section"><div class="pjs-buttons pjs-image-selection-submit-wrapper"><button id="pjs-image-selection-submit">'+Ks.Upload+"</button></div></div></div></div>"}Zs.prototype._getParentContainer=function(){return this._canvas.getContainer()},Zs.prototype.select=function(e,t){const n=this,i=this._container=he(Zs.IMAGE_SELECTION_MARKUP),r=this._canvas._container.parentElement.parentElement;r.insertBefore(i,r.firstChild);const o=Xs(null);i.style.left=o.pageX-m(i)+"px",i.style.top=o.pageY-x(i)+"px";const a=document.getElementById("pjs-image-selection-input"),s=document.getElementById("pjs-image-selection-submit"),c=document.getElementById("pjs-image-selection-files-text-error"),u=document.getElementById("pjs-image-selection-files-text-upload"),l=document.getElementById("pjs-image-dialog-text-hint-list"),p=document.getElementById("pjs-image-upload"),h=document.getElementById("pjs-image-selection-modal");var d,f,y=l.style.height;a.focus();const v=ce.bind(r,"click",(function(e){if(h){var t=!1;document.querySelectorAll(".djs-context-pad .entry").forEach((function(e){e==event.target&&(t=!0)}));const i=Xs(e);var n=document.defaultView.getComputedStyle(h)["font-size"];n=parseInt(n.substring(0,n.indexOf("px"))),!t&&(i.pageX>h.offsetLeft+m(r)+h.clientWidth||i.pageX<h.offsetLeft+m(r)-n||i.pageY>h.offsetTop+x(r)+h.clientHeight||i.pageY<h.offsetTop+x(r)-n)&&w()}}));for(var g=0;g<p.labels.length;g++)ce.bind(p.labels[g],"click",(function(e){e.preventDefault(),e.stopPropagation(),p.dispatchEvent(new MouseEvent(e.type,e))}));function m(e){var t=0;do{isNaN(e.offsetLeft)||(t+=e.offsetLeft)}while(e=e.offsetParent);return t}function x(e){var t=0;do{isNaN(e.offsetTop)||(t+=e.offsetTop)}while(e=e.offsetParent);return t}async function _(t,n){var i=new URLSearchParams(window.location.search).get("s_key");if(null===i)shepherdAlert("Script Required","You must open a script before you can take notes!");else{let r;"data"!==n.substring(0,4)?(r=await fetch("https://cors-anywhere-dot-indieskedge-production.wl.r.appspot.com/"+n).then((e=>e.blob())),r.name="Remote File"):r=p.files[0],new ActiveStorage.DirectUpload(r,direct_upload_url).create((function(n,r){n?n.search("Status: 403")>=0?shepherdAlert("Subscription Needed!",'You must have an active subscription to save images! You can sign up <button data-toggle="modal" href="#subscriptionModal" onclick="Shepherd.activeTour.complete(); $(\'#ideatorNotesModal\').modal(\'hide\');" data-description="Sign up for image uploading and other great featuers!" data-reset="$(\'#ideatorNotesModal\').modal(\'show\');" style="color: blue; margin-left: -6px; text-decoration: underline;">here!</button>'):(shepherdAlert("Unknown Error","We've logged this issue.  If it continues, please reach out to support."),Bugsnag.notify("Unknown upload response: "+n.toString())):r.key&&$.ajax({type:"GET",beforeSend:function(e){e.setRequestHeader("X-CSRF-Token",$('meta[name="csrf-token"]').attr("content"))},url:"/scripts/"+i+"/image_url/"+r.key,responseType:"application/json",dataType:"json",success:function(n){t._modeling.updateProperties(e,{source:n.url,key:n.key})}})}))}}function w(){h&&h.parentNode&&(h.parentNode.removeChild(h),v&&r.removeEventListener("click",v))}ce.bind(p,"change",(async function(){let e;a.disabled="true";let t=await async function(e,t){let n,i=[],r=t;try{if(r)for(var o=0;o<r.length;o++){i.push(await Ys(0,r[o]))}}catch(e){n=e,i=null}return{uploadResult:i,errors:n}}(0,p.files),n=t.uploadResult;if(t.errors)y=l.style.height,l.style.height="auto",c.style.display="block",u.innerHTML=Ks["Upload again"],document.getElementsByClassName("pjs-image-dialog-upload-icon")[0].classList.add("pjs-image-dialog-upload-icon-error");else{let t=n.length?n.length:0;e=t,!1===isNaN(t)&&(e+=" "+(+(1==n.length)?Ks.file:Ks.files)+" "+Ks.selected,f=n),i=e,l.style.height=y,c.style.display="none",u.innerHTML=i,document.getElementsByClassName("pjs-image-dialog-upload-icon").length>0&&document.getElementsByClassName("pjs-image-dialog-upload-icon")[0].classList.remove("pjs-image-dialog-upload-icon-error")}var i})),ce.bind(s,"click",(async function(){if(d=f,null!==e){if(d)for(const e in f)_(n,f[e]);else d=a.value,_(n,d);n._eventBus.fire("imageSelection.complete",{element:e})}else d||(d=a.value),t(d);w()})),ce.bind(a,"keyup",(function(e){13===event.keyCode&&(event.preventDefault(),s.click())}))},Zs.prototype.$inject=["canvas","eventBus","modelng","translate"];const Js={__init__:["imageSelection"],imageSelection:["type",Zs]};function Qs(e){e.invoke(Dr,this)}r()(Qs,Dr),Qs.$inject=["injector"],Qs.prototype.registerBindings=function(e,t){function n(n,i){t.isRegistered(n)&&e.addListener(i)}Dr.prototype.registerBindings.call(this,e,t),n("selectElements",(function(n){var i=n.keyEvent;if(e.isKey(["a","A"],i)&&e.isCmd(i))return t.trigger("selectElements"),!0})),n("find",(function(n){var i=n.keyEvent;if(e.isKey(["f","F"],i)&&e.isCmd(i))return t.trigger("find"),!0})),n("spaceTool",(function(n){var i=n.keyEvent;if(!e.hasModifier(i))return e.isKey(["s","S"],i)?(t.trigger("spaceTool"),!0):void 0})),n("lassoTool",(function(n){var i=n.keyEvent;if(!e.hasModifier(i))return e.isKey(["l","L"],i)?(t.trigger("lassoTool"),!0):void 0})),n("handTool",(function(n){var i=n.keyEvent;if(!e.hasModifier(i))return e.isKey(["h","H"],i)?(t.trigger("handTool"),!0):void 0})),n("directEditing",(function(n){var i=n.keyEvent;if(!e.hasModifier(i))return e.isKey(["e","E"],i)?(t.trigger("directEditing"),!0):void 0}))};const ec={__depends__:[Ir],__init__:["keyboardBindings"],keyboardBindings:["type",Qs]};var tc={moveSpeed:1,moveSpeedAccelerated:10},nc="left",ic="right",rc="down",oc={ArrowLeft:nc,Left:nc,ArrowUp:"up",Up:"up",ArrowRight:ic,Right:ic,ArrowDown:rc,Down:rc},ac={left:function(e){return{x:-e,y:0}},up:function(e){return{x:0,y:-e}},right:function(e){return{x:e,y:0}},down:function(e){return{x:0,y:e}}};function sc(e,t,n,i,r){var o=this;this._config=G({},tc,e||{}),t.addListener(1500,(function(e){var n=e.keyEvent,i=oc[n.key];if(i&&!t.isCmd(n)){var r=t.isShift(n);return o.moveSelection(i,r),!0}})),this.moveSelection=function(e,t){var o=r.get();if(o.length){var a=this._config[t?"moveSpeedAccelerated":"moveSpeed"],s=ac[e](a);i.allowed("elements.move",{shapes:o})&&n.moveElements(o,s)}}}sc.$inject=["config.keyboardMoveSelection","keyboard","modeling","rules","selection"];const cc={__depends__:[Ir,_r],__init__:["keyboardMoveSelection"],keyboardMoveSelection:["type",sc]};function uc(e,t,n,i){e.on("element.changed",(function(i){var r=i.element;(r.parent||r===t.getRootElement())&&(i.gfx=n.getGraphics(r)),i.gfx&&e.fire(dt(r)+".changed",i)})),e.on("elements.changed",(function(t){var n=t.elements;n.forEach((function(t){e.fire("element.changed",{element:t})})),i.updateContainments(n)})),e.on("shape.changed",(function(e){i.update("shape",e.element,e.gfx)})),e.on("connection.changed",(function(e){i.update("connection",e.element,e.gfx)}))}uc.$inject=["eventBus","canvas","elementRegistry","graphicsFactory"];const lc={__init__:["changeSupport"],changeSupport:["type",uc]};var pc=Math.max,hc=Math.min;function dc(e,t,n){var i=t[e],r=n.min&&n.min[e],o=n.max&&n.max[e];return v(r)&&(i=(/top|left/.test(e)?hc:pc)(i,r)),v(o)&&(i=(/top|left/.test(e)?pc:hc)(i,o)),i}function fc(e,t){return void 0!==e?e:20}function yc(e){return!e.waypoints&&"label"!==e.type}function vc(e,t,n,i){this._dragging=i,this._rules=t;var r=this;e.on("resize.start",(function(e){var t,n,i;n=(t=e.context).resizeConstraints,i=t.minBounds,void 0===n&&(void 0===i&&(i=r.computeMinResizeBox(t)),t.resizeConstraints={min:qo(i)})})),e.on("resize.move",(function(e){var t={x:e.dx,y:e.dy};!function(e,t){var n,i=e.shape,o=e.direction,a=e.resizeConstraints;e.delta=t,n=function(e,t,n){var i=n.x,r=n.y,o={x:e.x,y:e.y,width:e.width,height:e.height};return-1!==t.indexOf("n")?(o.y=e.y+r,o.height=e.height-r):-1!==t.indexOf("s")&&(o.height=e.height+r),-1!==t.indexOf("e")?o.width=e.width+i:-1!==t.indexOf("w")&&(o.x=e.x+i,o.width=e.width-i),o}(i,o,t),e.newBounds=function(e,t){if(!t)return e;var n=qo(e);return Yo({top:dc("top",n,t),right:dc("right",n,t),bottom:dc("bottom",n,t),left:dc("left",n,t)})}(n,a),e.canExecute=r.canResize(e)}(e.context,t)})),e.on("resize.end",(function(e){!function(e){var t,i=e.shape,r=e.canExecute,o=e.newBounds;if(r){if(t=o,!function(e,t){return e.x!==t.x||e.y!==t.y||e.width!==t.width||e.height!==t.height}(i,o={x:Math.round(t.x),y:Math.round(t.y),width:Math.round(t.width),height:Math.round(t.height)}))return;n.resizeShape(i,o)}}(e.context)}))}function gc(e,t){var n=Xo(e),i=qo(e),r={x:n.x,y:n.y};return-1!==t.indexOf("n")?r.y=i.top:-1!==t.indexOf("s")&&(r.y=i.bottom),-1!==t.indexOf("e")?r.x=i.right:-1!==t.indexOf("w")&&(r.x=i.left),r}function mc(e){return"n"===e||"s"===e?"resize-ns":"e"===e||"w"===e?"resize-ew":"nw"===e||"se"===e?"resize-nwse":"resize-nesw"}vc.prototype.canResize=function(e){var t=this._rules,n=U(e,["newBounds","shape","delta","direction"]);return t.allowed("shape.resize",n)},vc.prototype.activate=function(e,t,n){var i,r,o=this._dragging;if("string"==typeof n&&(n={direction:n}),!(r=(i=G({shape:t},n)).direction))throw new Error("must provide a direction (n|w|s|e|nw|se|ne|sw)");o.init(e,gc(t,r),"resize",{autoActivate:!0,cursor:mc(r),data:{shape:t,context:i}})},vc.prototype.computeMinResizeBox=function(e){var t,n,i,r,o,a,s,c=e.shape;return t=e.direction,n=c,i=e.minDimensions||{width:10,height:10},r=function(e,t){var n;if((n=void 0===e.length?w(e.children,yc):e).length)return function(e,t){var n,i,r,o;return"object"==typeof t?(n=fc(t.left),i=fc(t.right),r=fc(t.top),o=fc(t.bottom)):n=i=r=o=fc(t),{x:e.x-n,y:e.y-r,width:e.width+n+i,height:e.height+r+o}}(ht(n),t)}(c,e.childrenBoxPadding),o=qo(n),a={top:/n/.test(t)?o.bottom-i.height:o.top,left:/w/.test(t)?o.right-i.width:o.left,bottom:/s/.test(t)?o.top+i.height:o.bottom,right:/e/.test(t)?o.left+i.width:o.right},s=r?qo(r):a,Yo({top:hc(a.top,s.top),left:hc(a.left,s.left),bottom:pc(a.bottom,s.bottom),right:pc(a.right,s.right)})},vc.$inject=["eventBus","rules","modeling","dragging"];var xc="djs-resizing",_c="resize-not-ok";function wc(e,t,n){e.on("resize.move",500,(function(e){var i,r,o,a;r=(i=e.context).shape,o=i.newBounds,(a=i.frame)||(a=i.frame=n.addFrame(r,t.getDefaultLayer()),t.addMarker(r,xc)),o.width>5&&be(a,{x:o.x,width:o.width}),o.height>5&&be(a,{y:o.y,height:o.height}),i.canExecute?Ce(a).remove(_c):Ce(a).add(_c)})),e.on("resize.cleanup",(function(e){var n,i;i=(n=e.context).shape,n.frame&&Pe(n.frame),t.removeMarker(i,xc)}))}wc.$inject=["eventBus","canvas","previewSupport"];var bc=["n","w","s","e","nw","ne","se","sw"];function Ec(e,t,n,i){this._resize=i,this._canvas=t;var r=this;e.on("selection.changed",(function(e){var t=e.newSelection;r.removeResizers(),1===t.length&&b(t,F(r.addResizer,r))})),e.on("shape.changed",(function(e){var t=e.element;n.isSelected(t)&&(r.removeResizers(),r.addResizer(t))}))}Ec.prototype.makeDraggable=function(e,t,n){var i=this._resize;function r(t){or(t)&&i.activate(t,e,n)}ce.bind(t,"mousedown",r),ce.bind(t,"touchstart",r)},Ec.prototype._createResizer=function(e,t,n,i){var r=this._getResizersParent(),o=function(e){var t={x:0,y:0};return-1!==e.indexOf("e")?t.x=6:-1!==e.indexOf("w")&&(t.x=-6),-1!==e.indexOf("s")?t.y=6:-1!==e.indexOf("n")&&(t.y=-6),t}(i),a=Ne("g");Ce(a).add("djs-resizer"),Ce(a).add("djs-resizer-"+e.id),Ce(a).add("djs-resizer-"+i),xe(r,a);var s=Ne("rect");be(s,{x:-2+o.x,y:-2+o.y,width:4,height:4}),Ce(s).add("djs-resizer-visual"),xe(a,s);var c=Ne("rect");return be(c,{x:-10+o.x,y:-10+o.y,width:20,height:20}),Ce(c).add("djs-resizer-hit"),xe(a,c),function(e,t,n,i,r){var o=De();o.setTranslate(t,n);var a=De();a.setRotate(0,0,0);var s=De();s.setScale(1,1),Ve(e,[o,a,s])}(a,t,n),a},Ec.prototype.createResizer=function(e,t){var n=gc(e,t),i=this._createResizer(e,n.x,n.y,t);this.makeDraggable(e,i,t)},Ec.prototype.addResizer=function(e){var t=this;this._resize.canResize({shape:e})&&b(bc,(function(n){t.createResizer(e,n)}))},Ec.prototype.removeResizers=function(){je(this._getResizersParent())},Ec.prototype._getResizersParent=function(){return this._canvas.getLayer("resizers")},Ec.$inject=["eventBus","canvas","selection","resize"];const Sc={__depends__:[jo,ko,Qa],__init__:["resize","resizePreview","resizeHandles"],resize:["type",vc],resizePreview:["type",wc],resizeHandles:["type",Ec]};function Tc(e,t,n,i,r,o,a){function s(e,t){(t||Si(e,["postit:Postit","postit:Group","postit:TextBox"]))&&i.activate(e)}this._postitFactory=t,this._canvas=n,this._modeling=r,this._textRenderer=a,i.registerProvider(this),e.on("element.dblclick",(function(e){s(e.element,!0)})),e.on(["autoPlace.start","canvas.viewbox.changing","drag.init","element.mousedown","popupMenu.open"],(function(e){i.isActive()&&i.complete()})),e.on(["commandStack.changed"],(function(e){i.isActive()&&i.cancel()})),e.on("directEditing.activate",(function(e){o.removeResizers()})),e.on("create.end",500,(function(e){var t=e.context,n=t.shape,i=e.context.canExecute;e.isTouch||i&&(t.hints&&!1===t.hints.createElementsBehavior||s(n))})),e.on("autoPlace.end",500,(function(e){s(e.shape)}))}Tc.$inject=["eventBus","postitFactory","canvas","directEditing","modeling","resizeHandles","textRenderer"],Tc.prototype.activate=function(e){var t=ki(e);if(void 0!==t){var n={text:t};G(n,this.getEditingBBox(e));var i={};return Si(e,["postit:Postit","postit:TextBox"])&&G(i,{centerVertically:!0}),Vi(e)&&G(i,{autoResize:!0}),G(n,{options:i}),n}},Tc.prototype.getEditingBBox=function(e){var t=this._canvas,n=e.label||e,i=t.getAbsoluteBBox(n),r=i.x+i.width/2,o=(i.y,i.height,{x:i.x,y:i.y}),a=t.zoom(),s=this._textRenderer.getDefaultStyle(),c=this._textRenderer.getExternalStyle(),u=c.fontSize*a,l=c.lineHeight,p=s.fontSize*a,h=s.lineHeight,d={fontFamily:this._textRenderer.getDefaultStyle().fontFamily,fontWeight:this._textRenderer.getDefaultStyle().fontWeight};Si(e,["postit:Postit","postit:TextBox","postit:Group"])&&(G(o,{width:i.width,height:i.height}),G(d,{fontSize:p+"px",lineHeight:h,paddingTop:7*a+"px",paddingBottom:7*a+"px",paddingLeft:5*a+"px",paddingRight:5*a+"px"}));var f=90*a,y=7*a,v=4*a;if(n.labelTarget&&(G(o,{width:f,height:i.height+y+v,x:r-f/2,y:i.y-y}),G(d,{fontSize:u+"px",lineHeight:l,paddingTop:y+"px",paddingBottom:v+"px"})),Vi(n)&&!qi(n)&&!Xi(n)){var g=Yi(e),m=t.getAbsoluteBBox({x:g.x,y:g.y,width:0,height:0}),x=u+y+v;G(o,{width:f,height:x,x:m.x-f/2,y:m.y-x/2}),G(d,{fontSize:u+"px",lineHeight:l,paddingTop:y+"px",paddingBottom:v+"px"})}return Si(e,["postit:Postit"])&&G(d,{backgroundColor:"transparent"}),{bounds:o,style:d}},Tc.prototype.update=function(e,t){var n;(n=t)&&n.trim()||(t=null),this._modeling.updateLabel(e,t)};var kc="djs-element-hidden",Cc="djs-label-hidden";function Mc(e,t,n,i){var r,o;e.on("directEditing.activate",(function(e){var n=e.active;(r=n.element.label||n.element).labelTarget?t.addMarker(r,kc):bi(r,"postit:Postit")&&t.addMarker(r,Cc)})),e.on(["directEditing.complete","directEditing.cancel"],(function(e){var n=e.active;n&&(t.removeMarker(n.element.label||n.element,kc),t.removeMarker(r,Cc)),r=void 0,o&&(Pe(o),o=void 0)}))}Mc.$inject=["eventBus","canvas","elementRegistry","pathMap"];const Pc={__depends__:[lc,Sc,za],__init__:["labelEditingProvider","labelEditingPreview"],labelEditingProvider:["type",Tc],labelEditingPreview:["type",Mc]};function jc(e){this._eventBus=e}jc.$inject=["eventBus"],jc.prototype.on=function(e,t,n,i,r,o){if((g(t)||v(t))&&(o=r,r=i,i=n,n=t,t=null),g(n)&&(o=r,r=i,i=n,n=1e3),y(r)&&(o=r,r=!1),!g(i))throw new Error("handlerFn must be a function");f(e)||(e=[e]);var a=this._eventBus;b(e,(function(e){var s=["commandStack",e,t].filter((function(e){return e})).join(".");a.on(s,n,r?function(e,t){return function(n){return e.call(t||null,n.context,n.command,n)}}(i,o):i,o)}))},b(["canExecute","preExecute","preExecuted","execute","executed","postExecute","postExecuted","revert","reverted"],(function(e){jc.prototype[e]=function(t,n,i,r,o){(g(t)||v(t))&&(o=r,r=i,i=n,n=t,t=null),this.on(t,e,n,i,r,o)}}));var Bc=["top","bottom","left","right"];function Ac(e,t){function n(e){if(qi(e)){var n=function(e){var t=Xo(e.label),n=Rc(Xo(e),t);if(i=n,-1!==Bc.indexOf(i)){var i,r=function(e){var t=Xo(e);return[].concat(e.incoming.map((function(e){return e.waypoints[e.waypoints.length-2]})),e.outgoing.map((function(e){return e.waypoints[1]}))).map((function(e){return Rc(t,e)}))}(e);if(e.host){var o=function(e){var t,n=e.host,i=Ko(Xo(e),n);return t=i.indexOf("-")>=0?i.split("-"):[i],Bc.filter((function(e){return-1===t.indexOf(e)}))}(e);r=r.concat(o)}var a=Bc.filter((function(e){return-1===r.indexOf(e)}));if(-1===a.indexOf(n))return a[0]}}(e);n&&function(e,n){var i=Xo(e),r=e.label,o=Xo(r);if(r.parent){var a,s=qo(e);switch(n){case"top":a={x:i.x,y:s.top-10-r.height/2};break;case"left":a={x:s.left-10-r.width/2,y:i.y};break;case"bottom":a={x:i.x,y:s.bottom+10+r.height/2};break;case"right":a={x:s.right+10+r.width/2,y:i.y}}var c=Yr(a,o);t.moveShape(r,c)}}(e,n)}}jc.call(this,e),this.postExecuted(["connection.create","connection.layout","connection.updateWaypoints"],(function(e){var t=e.context,i=t.connection,r=i.source,o=i.target;!1!==(t.hints||{}).createElementsBehavior&&(n(r),n(o))})),this.postExecuted(["label.create"],(function(e){var t=e.context,i=t.shape;!1!==(t.hints||{}).createElementsBehavior&&n(i.labelTarget)})),this.postExecuted(["elements.create"],(function(e){var t=e.context,i=t.elements;!1!==(t.hints||{}).createElementsBehavior&&i.forEach((function(e){n(e)}))}))}function Rc(e,t){return Ko(t,e,5)}function Oc(e){jc.call(this,e),this.preExecute("shape.append",(function(e){var t=e.source,n=e.shape;e.position||(e.position={x:t.x+t.width+80+n.width/2,y:t.y+t.height/2})}),!0)}function Nc(e,t,n){t.on(["create.hover","create.move","create.end","shape.move.hover","shape.move.move","shape.move.end"],1500,(function(t){var i=t.context.shape||t.shape,r=t.hover,o=n.getRootElement();r!==o&&(i.labelTarget||bi(i,"postit:Group"))&&(t.hover=o,t.hoverGfx=e.getGraphics(t.hover))}))}function Lc(e,t,n,i){var r,o,a,s;return 0==(r=(i.y-n.y)*(t.x-e.x)-(i.x-n.x)*(t.y-e.y))?null:(o=e.y-n.y,a=e.x-n.x,s=((i.x-n.x)*o-(i.y-n.y)*a)/r,{x:Math.round(e.x+s*(t.x-e.x)),y:Math.round(e.y+s*(t.y-e.y))})}function zc(e){function t(e,t,n){var i,r={x:n.x,y:n.y-50},o={x:n.x-50,y:n.y},a=Lc(e,t,n,r),s=Lc(e,t,n,o);i=a&&s?Dc(a,n)>Dc(s,n)?s:a:a||s,e.original=i}e.on("boardElement.added",(function(e){var n,i,r=e.element;r.waypoints&&(t((i=(n=r).waypoints)[0],i[1],Xo(n.source)),t(i[i.length-1],i[i.length-2],Xo(n.target)))}))}function Dc(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Ic(e){return Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2))}function $c(e){return Math.atan((e[1].y-e[0].y)/(e[1].x-e[0].x))}function Fc(e,t){var n=t[0],i=t[1],r={x:i.x-n.x,y:i.y-n.y},o=function(e,t,n){var i=[{n:e[0]-n[0],lambda:t[0]},{n:e[1]-n[1],lambda:t[1]}];return-(i[0].n*t[0]+i[1].n*t[1])/(i[0].lambda*t[0]+i[1].lambda*t[1])}([n.x,n.y],[r.x,r.y],[e.x,e.y]);return{x:n.x+o*r.x,y:n.y+o*r.y}}function Hc(e,t){var n=Fc(e,t);return Ic({x:n.x-e.x,y:n.y-e.y})}function Gc(e,t){return Ic({x:e.x-t.x,y:e.y-t.y})}r()(Ac,jc),Ac.$inject=["eventBus","modeling"],r()(Oc,jc),Oc.$inject=["eventBus"],Nc.$inject=["elementRegistry","eventBus","canvas"],zc.$inject=["eventBus"];var Uc=Math.sqrt,Wc=Math.min,Vc=Math.max,qc=Math.abs;function Yc(e){return Math.pow(e,2)}function Xc(e,t){return Uc(Yc(e.x-t.x)+Yc(e.y-t.y))}function Kc(e,t,n,i){var r=t.x-e.x,o=t.y-e.y,a=n.x-e.x,s=n.y-e.y,c=r*r+o*o,u=(r*a+o*s)/c,l=u*u-(a*a+s*s-i*i)/c;if(l<0&&l>-1e-6&&(l=0),l<0)return[];var p=Uc(l),h=-u+p,d=-u-p,f={x:e.x-r*h,y:e.y-o*h};return 0===l?[f]:[f,{x:e.x-r*d,y:e.y-o*d}].filter((function(n){return function(e,t,n){return Zc(e.x,t.x,n.x)&&Zc(e.y,t.y,n.y)}(n,e,t)}))}function Zc(e,t,n){return e>=Wc(t,n)-Jc&&e<=Vc(t,n)+Jc}var Jc=.1;function Qc(e,t){return qc(e.x-t.x)<=Jc&&qc(e.y-t.y)<=Jc}function eu(e,t){var n=Gc(e[t-1],e[t]);return n/(n+Gc(e[t],e[t+1]))}function tu(e,t){return[e[t],e[t+1]]}function nu(e,t,n){var i=qr(t),r=qr(n),o=Yr(e,i),a=o.x*(n.width/t.width),s=o.y*(n.height/t.height);return Vo({x:r.x+a,y:r.y+s})}function iu(e,t,n){var i=qr(e),r=qr(t),o=qr(n),a=Yr(e,i),s=Yr(i,r),c=function(e,t,n){var i=qo(t),r=qo(n);if(function(e,t){return function(e,t){return e.right!==t.right&&e.left!==t.left}(e,t)||function(e,t){return e.top!==t.top&&e.bottom!==t.bottom}(e,t)}(i,r))return null;var o,a=Ko(t,e);if("top"===a)o={x:0,y:r.bottom-i.bottom};else if("bottom"===a)o={x:0,y:r.top-i.top};else if("right"===a)o={x:r.left-i.left,y:0};else{if("left"!==a)return null;o={x:r.right-i.right,y:0}}return Ko(n,{x:e.x+o.x,y:e.y+o.y})!==a?null:o}(i,t,n);if(c)return c;var u=s.x*(n.width/t.width),l=s.y*(n.height/t.height),p=o.x+u,h=o.y+l;return Vo({x:p+a.x-e.x,y:h+a.y-e.y})}var ru={width:90,height:20};function ou(e,t,n,i){jc.call(this,e),this.postExecute("element.updateProperties",(function(e){var n=e.context,i=n.element,r=n.properties;"name"in r&&t.updateLabel(i,r.name)})),this.postExecute(["shape.create","connection.create"],(function(e){var n=e.context;if(!1!==(n.hints||{}).createElementsBehavior){var r=n.shape||n.connection,o=r.businessObject;if(!Xi(r)&&Vi(r)&&ki(r)){var a=Yi(r),s=i.getExternalLabelBounds(ru,ki(r));t.createLabel(r,a,{id:o.id+"_label",businessObject:o,width:s.width,height:s.height})}}})),this.postExecute("shape.delete",(function(e){var n=e.context,i=n.labelTarget,r=n.hints||{};i&&!1!==r.unsetLabel&&t.updateLabel(i,null,null,{removeShape:!1})})),this.postExecute(["label.create"],(function(e){var t,i=e.context.shape;i.labelTarget&&bi(i.labelTarget||i,"postit:BoardElement")&&((t=i.businessObject.di).label||(t.label=n.create("postitDi:PostitLabel",{bounds:n.create("dc:Bounds")})),G(t.label.bounds,{x:i.x,y:i.y,width:i.width,height:i.height}))})),this.postExecute(["connection.layout","connection.updateWaypoints"],(function(e){var n=e.context;if(!1!==(n.hints||{}).labelBehavior){var i,r=n.connection.label;r&&r.parent&&(i=function(e){var t=e.context,n=t.connection,i=n.label,r=G({},t.hints),o=t.newWaypoints||n.waypoints,a=t.oldWaypoints;return void 0===r.startChanged&&(r.startChanged=!!r.connectionStart),void 0===r.endChanged&&(r.endChanged=!!r.connectionEnd),function(e,t,n,i){var r=0,o=0,a=function(e){return{x:e.x+e.width/2,y:e.y+e.height/2}}(e),s=function(e,t){var n,i,r,o,a,s,c,u,l,p,h,d,f=0;for(f=0;f<t.length-1;f++){if(Qc(n=t[f],i=t[f+1])?s=[n]:(r=Xc(e,n),o=Xc(e,i),s=Kc(n,i,e,Wc(r,o))),s.length<1)throw new Error("expected between [1, 2] circle -> line intersections");1===s.length&&(c={type:"bendpoint",position:s[0],segmentIndex:f,bendpointIndex:Qc(n,s[0])?f:f+1}),2===s.length&&(h=s[0],d=s[1],c={type:"segment",position:a={x:(h.x+d.x)/2,y:(h.y+d.y)/2},segmentIndex:f,relativeLocation:Xc(n,a)/Xc(n,i)}),u=Xc(c.position,e),(!p||l>u)&&(p=c,l=u)}return p}(a,n),c=s.segmentIndex,u=function(e,t,n,i){var r=n.segmentIndex,o=t.length-e.length;if(i.segmentMove){var a=i.segmentMove.segmentStartIndex,s=i.segmentMove.newSegmentStartIndex;return r===a?s:r>=s?r+o<s?s:r+o:r}if(i.bendpointMove){var c,u=i.bendpointMove.insert,l=i.bendpointMove.bendpointIndex;return 0===o?r:(r>=l&&(c=u?r+1:r-1),r<l&&(c=r,u&&"bendpoint"!==n.type&&l-1===r&&eu(t,l)<n.relativeLocation&&c++),c)}return 0===o?r:i.connectionStart?0===r?0:null:i.connectionEnd&&r===e.length-2?t.length-2:null}(n,t,s,i);if(null===u)return{x:r,y:o};if(u<0||u>t.length-2)return{x:r,y:o};var l,p,h,d,f,y,v=tu(n,c),g=tu(t,u),m=s.position,x=(d=m,f=Gc((h=v)[0],h[1]),y=Gc(h[0],d),0===f?0:y/f),_=(l=g,p=$c(v),$c(l)-p);if("bendpoint"===s.type){var w=t.length-n.length,b=s.bendpointIndex,E=n[b];if(-1!==t.indexOf(E))return{x:r,y:o};if(0===w){var S=t[b];return{x:S.x-s.position.x,y:S.y-s.position.y}}w<0&&0!==b&&b<n.length-1&&(x=eu(n,b))}var T,k,C=(g[1].x-g[0].x)*x+g[0].x,M=(g[1].y-g[0].y)*x+g[0].y,P=(T={x:a.x-m.x,y:a.y-m.y},(k=_)?{x:Math.cos(k)*T.x-Math.sin(k)*T.y,y:Math.sin(k)*T.x+Math.cos(k)*T.y}:T);return Vo({x:r=C+P.x-a.x,y:o=M+P.y-a.y})}(i,o,a,r)}(e),t.moveShape(r,i))}})),this.postExecute(["shape.replace"],(function(e){var t=e.context,n=t.newShape,i=t.oldShape,r=Ei(n);r&&Vi(r)&&i.label&&n.label&&(n.label.x=i.label.x,n.label.y=i.label.y)})),this.postExecute("shape.resize",(function(e){var n,i=e.context,r=i.shape,o=i.newBounds,a=i.oldBounds;if(qi(r)){var s=r.label,c=function(e,t,n){return Vo(Yr(nu(e,t,n),e))}(function(e,t){if(t.length)return Fc(e,function(e,t){return R(t.map((function(t){return{line:t,distance:Hc(e,t)}})),"distance")[0].line}(e,t))}(Xo(s),[[{x:(n=a).x,y:n.y},{x:n.x+(n.width||0),y:n.y}],[{x:n.x+(n.width||0),y:n.y},{x:n.x+(n.width||0),y:n.y+(n.height||0)}],[{x:n.x,y:n.y+(n.height||0)},{x:n.x+(n.width||0),y:n.y+(n.height||0)}],[{x:n.x,y:n.y},{x:n.x,y:n.y+(n.height||0)}]]),a,o);t.moveShape(s,c)}}))}function au(e,t,n,i,r,o){i.invoke(jc,this),this._postitReplace=e,this._elementRegistry=n,this._selection=o,this.postExecuted(["elements.move"],500,(function(e){var n=e.context,i=n.newParent,r=n.newHost,o=[];b(n.closure.topLevel,(function(e){o=o.concat(e)})),1===o.length&&r&&(i=r);var a=t.canReplace(o,i);a&&this.replaceElements(o,a.replacements,r)}),this),this.postExecute(["shape.replace"],1500,(function(e){var n,i=e.context,r=i.oldShape,o=i.newShape,a=r.attachers;a&&a.length&&(n=t.canReplace(a,o),this.replaceElements(a,n.replacements))}),this),this.postExecuted(["shape.replace"],1500,(function(e){var t=e.context,n=t.oldShape,i=t.newShape;r.unclaimId(n.businessObject.id,n.businessObject),r.updateProperties(i,{id:n.id})}))}function su(e,t,n,i){t.invoke(jc,this),this.preExecute("shape.delete",(function(e){var t=e.context.shape,n=t.businessObject;Xi(t)||i.unclaimId(n.id,n)})),this.preExecute("canvas.updateRoot",(function(){var t=e.getRootElement().businessObject;n.ids.unclaim(t.id)}))}function cu(e){jc.call(this,e),this.execute("shape.create",(function(e){var t=e.context.shape;if(bi(t,"postit:Postit")){const e=Ei(t);!e.color&&G(e,{color:t.color})}if(bi(t,"postit:Image")){const e=Ei(t);!e.source&&G(e,{source:t.source})}}))}function uu(e,t,n){jc.call(this,e),this.postExecute("element.updateLabel",(function(e){var n=e.element,i=e.newLabel;bi(n,"postit:TextBox")&&lu(i)&&t.removeElements([n])}),!0),e.on("directEditing.cancel",1001,(function(e){var i=e.active.element;bi(i,"postit:TextBox")&&lu(Ei(i).name)&&(n._active=!1,t.removeElements([i]))}))}function lu(e){return!e||""===e}r()(ou,jc),ou.$inject=["eventBus","modeling","postitFactory","textRenderer"],r()(au,jc),au.prototype.replaceElements=function(e,t){var n=this._elementRegistry,i=this._postitReplace,r=this._selection;b(t,(function(t){var r={type:t.newElementType},o=n.get(t.oldElementId),a=e.indexOf(o);e[a]=i.replaceElement(o,r,{select:!1})})),t&&r.select(e)},au.$inject=["postitReplace","postitRules","elementRegistry","injector","modeling","selection"],r()(su,jc),su.$inject=["canvas","injector","moddle","modeling"],r()(cu,jc),cu.$inject=["eventBus"],r()(uu,jc),uu.$inject=["eventBus","modeling","directEditing"];const pu={__init__:["adaptiveLabelPositioningBehavior","appendBehavior","fixHoverBehavior","importDockingFix","labelBehavior","replaceElementBehaviour","unclaimIdBehavior","createBoardElementBehavior","emptyTextBoxBehavior"],adaptiveLabelPositioningBehavior:["type",Ac],appendBehavior:["type",Oc],fixHoverBehavior:["type",Nc],importDockingFix:["type",zc],labelBehavior:["type",ou],replaceElementBehaviour:["type",au],unclaimIdBehavior:["type",su],createBoardElementBehavior:["type",cu],emptyTextBoxBehavior:["type",uu]};function hu(e){jc.call(this,e),this.init()}function du(e){hu.call(this,e)}function fu(e){return bi(e,"postit:Group")&&!e.labelTarget}function yu(e,t){return!!(Xi(e)||fu(e)||bi(e,"postit:BoardElement")&&bi(t,"postit:PostitBoard"))}function vu(e,t){return Array.isArray(e)||(e=[e]),1===e.length&&!Xi(e[0])&&!bi(t,"postit:BoardElement")&&"attach"}function gu(e,t){return!t||e.every((function(e){return yu(e,t)}))}function mu(e,t,n,i){return!!t&&(!(!Xi(e)&&!fu(e))||n!==t&&(!n||(r=n,-1===function(e){for(var t=[];e;)(e=e.parent)&&t.push(e);return t}(t).indexOf(r)))&&yu(e,t));var r}function xu(e,t){return Si(e,["postit:Postit","postit:TextBox"])?!t||t.width>=50&&t.height>=50:!!bi(e,"postit:Group")||!!bi(e,"postit:Image")}hu.$inject=["eventBus"],r()(hu,jc),hu.prototype.addRule=function(e,t,n){var i=this;"string"==typeof e&&(e=[e]),e.forEach((function(e){i.canExecute(e,t,(function(e,t,i){return n(e)}),!0)}))},hu.prototype.init=function(){},r()(du,hu),du.$inject=["eventBus"],du.prototype.init=function(){this.addRule("shape.resize",(function(e){return xu(e.shape,e.newBounds)})),this.addRule("elements.create",(function(e){var t=e.elements,n=(e.position,e.target);return S(t,(function(e){return e.host?vu(e,e.host):mu(e,n,null)}))})),this.addRule("elements.move",(function(e){var t=e.target,n=e.shapes;return e.position,vu(n,t)||gu(n,t)})),this.addRule("shape.create",(function(e){return mu(e.shape,e.target,e.source,e.position)})),this.addRule("shape.attach",(function(e){return vu(e.shape,e.target,e.position)})),this.addRule("element.copy",(function(e){return e.element,e.elements,!0}))},du.prototype.canMove=gu,du.prototype.canAttach=vu,du.prototype.canDrop=yu,du.prototype.canCreate=mu,du.prototype.canReplace=function(e,t){return!!t},du.prototype.canResize=xu,du.prototype.canCopy=function(e,t){return!0};const _u={__depends__:[jo],__init__:["postitRules"],postitRules:["type",du]};function wu(e,t){e.on("saveXML.start",2e3,(function(){var e,n=t.getRootElement(),i=Ei(n).di;e=k(w(pt([n],!1),(function(e){return e!==n&&!e.labelTarget})),Ci),i.set("planeElement",e)}))}wu.$inject=["eventBus","canvas"];const bu={__init__:["postitDiOrdering"],postitDiOrdering:["type",wu]};function Eu(e){jc.call(this,e);var t=this;this.preExecute(["shape.create","connection.create"],(function(e){var n=e.context,i=n.shape||n.connection,r=n.parent,o=t.getOrdering(i,r);o&&(void 0!==o.parent&&(n.parent=o.parent),n.parentIndex=o.index)})),this.preExecute(["shape.move","connection.move"],(function(e){var n=e.context,i=n.shape||n.connection,r=n.newParent||i.parent,o=t.getOrdering(i,r);o&&(void 0!==o.parent&&(n.newParent=o.parent),n.newParentIndex=o.index)}))}function Su(e,t,n){Eu.call(this,e);var i=[{type:"postit:BoardElement",order:{level:5}}];function r(e){var t=e.order;return t||(e.order=t=function(e){if(e.labelTarget)return{level:10};var t=_(i,(function(t){return Si(e,[t.type])}));return t&&t.order||{level:1}}(e)),t}this.getOrdering=function(e,i){if(e.labelTarget)return{parent:t.getRootElement(),index:-1};var o=r(e);o.containers&&(i=function(e,t,i){for(var r=t;r&&!Si(r,i);)r=r.parent;if(!r)throw new Error(n("no parent for {element} in {parent}",{element:e.id,parent:t.id}));return r}(e,i,o.containers));var a=i.children.indexOf(e),s=function(e,t){t=L(t);var n=f(e)?-1:void 0;return b(e,(function(e,i){if(t(e,i))return n=i,!1})),n}(i.children,(function(t){return!(!e.labelTarget&&t.labelTarget)&&o.level<r(t).level}));return-1!==s&&-1!==a&&a<s&&(s-=1),{index:s,parent:i}}}Eu.prototype.getOrdering=function(e,t){return null},r()(Eu,jc),Su.$inject=["eventBus","canvas","translate"],r()(Su,Eu);const Tu={__depends__:[Ui],__init__:["postitOrderingProvider"],postitOrderingProvider:["type",Su]};function ku(e,t){this._handlerMap={},this._stack=[],this._stackIdx=-1,this._currentExecution={actions:[],dirty:[],trigger:null},this._injector=t,this._eventBus=e,this._uid=1,e.on(["diagram.destroy","diagram.clear"],(function(){this.clear(!1)}),this)}ku.$inject=["eventBus","injector"],ku.prototype.execute=function(e,t){if(!e)throw new Error("command required");this._currentExecution.trigger="execute";var n={command:e,context:t};this._pushAction(n),this._internalExecute(n),this._popAction(n)},ku.prototype.canExecute=function(e,t){var n={command:e,context:t},i=this._getHandler(e),r=this._fire(e,"canExecute",n);if(void 0===r){if(!i)return!1;i.canExecute&&(r=i.canExecute(t))}return r},ku.prototype.clear=function(e){this._stack.length=0,this._stackIdx=-1,!1!==e&&this._fire("changed",{trigger:"clear"})},ku.prototype.undo=function(){var e,t=this._getUndoAction();if(t){for(this._currentExecution.trigger="undo",this._pushAction(t);t&&(this._internalUndo(t),(e=this._getUndoAction())&&e.id===t.id);)t=e;this._popAction()}},ku.prototype.redo=function(){var e,t=this._getRedoAction();if(t){for(this._currentExecution.trigger="redo",this._pushAction(t);t&&(this._internalExecute(t,!0),(e=this._getRedoAction())&&e.id===t.id);)t=e;this._popAction()}},ku.prototype.register=function(e,t){this._setHandler(e,t)},ku.prototype.registerHandler=function(e,t){if(!e||!t)throw new Error("command and handlerCls must be defined");var n=this._injector.instantiate(t);this.register(e,n)},ku.prototype.canUndo=function(){return!!this._getUndoAction()},ku.prototype.canRedo=function(){return!!this._getRedoAction()},ku.prototype._getRedoAction=function(){return this._stack[this._stackIdx+1]},ku.prototype._getUndoAction=function(){return this._stack[this._stackIdx]},ku.prototype._internalUndo=function(e){var t=this,n=e.command,i=e.context,r=this._getHandler(n);this._atomicDo((function(){t._fire(n,"revert",e),r.revert&&t._markDirty(r.revert(i)),t._revertedAction(e),t._fire(n,"reverted",e)}))},ku.prototype._fire=function(e,t,n){arguments.length<3&&(n=t,t=null);var i,r,o,a=t?[e+"."+t,t]:[e];for(n=this._eventBus.createEvent(n),i=0;(r=a[i])&&(o=this._eventBus.fire("commandStack."+r,n),!n.cancelBubble);i++);return o},ku.prototype._createId=function(){return this._uid++},ku.prototype._atomicDo=function(e){var t=this._currentExecution;t.atomic=!0;try{e()}finally{t.atomic=!1}},ku.prototype._internalExecute=function(e,t){var n=this,i=e.command,r=e.context,o=this._getHandler(i);if(!o)throw new Error("no command handler registered for <"+i+">");this._pushAction(e),t||(this._fire(i,"preExecute",e),o.preExecute&&o.preExecute(r),this._fire(i,"preExecuted",e)),this._atomicDo((function(){n._fire(i,"execute",e),o.execute&&n._markDirty(o.execute(r)),n._executedAction(e,t),n._fire(i,"executed",e)})),t||(this._fire(i,"postExecute",e),o.postExecute&&o.postExecute(r),this._fire(i,"postExecuted",e)),this._popAction(e)},ku.prototype._pushAction=function(e){var t=this._currentExecution,n=t.actions,i=n[0];if(t.atomic)throw new Error("illegal invocation in <execute> or <revert> phase (action: "+e.command+")");e.id||(e.id=i&&i.id||this._createId()),n.push(e)},ku.prototype._popAction=function(){var e=this._currentExecution,t=e.trigger,n=e.actions,i=e.dirty;n.pop(),n.length||(this._eventBus.fire("elements.changed",{elements:B("id",i.reverse())}),i.length=0,this._fire("changed",{trigger:t}),e.trigger=null)},ku.prototype._markDirty=function(e){var t=this._currentExecution;e&&(e=f(e)?e:[e],t.dirty=t.dirty.concat(e))},ku.prototype._executedAction=function(e,t){var n=++this._stackIdx;t||this._stack.splice(n,this._stack.length,e)},ku.prototype._revertedAction=function(e){this._stackIdx--},ku.prototype._getHandler=function(e){return this._handlerMap[e]},ku.prototype._setHandler=function(e,t){if(!e||!t)throw new Error("command and handler required");if(this._handlerMap[e])throw new Error("overriding handler for command <"+e+">");this._handlerMap[e]=t};const Cu={commandStack:["type",ku]};var Mu=new wr("tt");function Pu(e,t){e.style.display=!1===t?"none":""}var ju=".djs-tooltip";function Bu(e,t){var n,i;this._eventBus=e,this._canvas=t,this._ids=Mu,this._tooltipDefaults={show:{minZoom:.7,maxZoom:5}},this._tooltips={},this._tooltipRoot=(n=t.getContainer(),i=he('<div class="djs-tooltip-container" style="position: absolute; width: 0; height: 0;" />'),n.insertBefore(i,n.firstChild),i);var r=this;le(this._tooltipRoot,ju,"mousedown",(function(e){e.stopPropagation()})),le(this._tooltipRoot,ju,"mouseover",(function(e){r.trigger("mouseover",e)})),le(this._tooltipRoot,ju,"mouseout",(function(e){r.trigger("mouseout",e)})),this._init()}Bu.$inject=["eventBus","canvas"],Bu.prototype.add=function(e){if(!e.position)throw new Error("must specifiy tooltip position");if(!e.html)throw new Error("must specifiy tooltip html");var t=this._ids.next();return e=G({},this._tooltipDefaults,e,{id:t}),this._addTooltip(e),e.timeout&&this.setTimeout(e),t},Bu.prototype.trigger=function(e,t){var n=t.delegateTarget||t.target,i=this.get(V(n,"data-tooltip-id"));i&&("mouseover"===e&&i.timeout&&this.clearTimeout(i),"mouseout"===e&&i.timeout&&(i.timeout=1e3,this.setTimeout(i)))},Bu.prototype.get=function(e){return"string"!=typeof e&&(e=e.id),this._tooltips[e]},Bu.prototype.clearTimeout=function(e){if(e=this.get(e)){var t=e.removeTimer;t&&(clearTimeout(t),e.removeTimer=null)}},Bu.prototype.setTimeout=function(e){if(e=this.get(e)){this.clearTimeout(e);var t=this;e.removeTimer=setTimeout((function(){t.remove(e)}),e.timeout)}},Bu.prototype.remove=function(e){var t=this.get(e);t&&(ge(t.html),ge(t.htmlContainer),delete t.htmlContainer,delete this._tooltips[t.id])},Bu.prototype.show=function(){Pu(this._tooltipRoot)},Bu.prototype.hide=function(){Pu(this._tooltipRoot,!1)},Bu.prototype._updateRoot=function(e){var t=e.scale||1,n=e.scale||1,i="matrix("+t+",0,0,"+n+","+-1*e.x*t+","+-1*e.y*n+")";this._tooltipRoot.style.transform=i,this._tooltipRoot.style["-ms-transform"]=i},Bu.prototype._addTooltip=function(e){var t,n=e.id,i=e.html,r=this._tooltipRoot;i.get&&i.constructor.prototype.jquery&&(i=i.get(0)),m(i)&&(i=he(i)),(t=he('<div data-tooltip-id="'+n+'" class="djs-tooltip" style="position: absolute">')).appendChild(i),e.type&&Z(t).add("djs-tooltip-"+e.type),e.className&&Z(t).add(e.className),e.htmlContainer=t,r.appendChild(t),this._tooltips[n]=e,this._updateTooltip(e)},Bu.prototype._updateTooltip=function(e){var t,n,i,r=e.position;t=e.htmlContainer,n=r.x,i=r.y,G(t.style,{left:n+"px",top:i+"px"})},Bu.prototype._updateTooltipVisibilty=function(e){b(this._tooltips,(function(t){var n=t.show,i=t.htmlContainer,r=!0;n&&((n.minZoom>e.scale||n.maxZoom<e.scale)&&(r=!1),Pu(i,r))}))},Bu.prototype._init=function(){var e=this;this._eventBus.on("canvas.viewbox.changing",(function(t){e.hide()})),this._eventBus.on("canvas.viewbox.changed",(function(t){var n;n=t.viewbox,e._updateRoot(n),e._updateTooltipVisibilty(n),e.show()}))};const Au={__init__:["tooltips"],tooltips:["type",Bu]};function Ru(e,t){if("function"!=typeof t)throw new Error("removeFn iterator must be a function");if(e){for(var n;n=e[0];)t(n);return e}}function Ou(e,t,n){jc.call(this,t);var i=e.get("movePreview",!1);t.on("shape.move.start",1400,(function(e){var t=e.context,n=t.shapes,i=t.validatedShapes;t.shapes=Nu(n),t.validatedShapes=Nu(i)})),i&&t.on("shape.move.start",250,(function(e){var t=e.context,n=t.shapes,r=[];b(n,(function(e){b(e.labels,(function(n){n.hidden||-1!==t.shapes.indexOf(n)||r.push(n),e.labelTarget&&r.push(e)}))})),b(r,(function(e){i.makeDraggable(t,e,!0)}))})),this.preExecuted("elements.move",1400,(function(e){var t=e.context.closure,n=t.enclosedElements,i=[];b(n,(function(e){b(e.labels,(function(e){n[e.id]||i.push(e)}))})),t.addAll(i)})),this.preExecute(["connection.delete","shape.delete"],(function(e){var t=e.context;Ru((t.connection||t.shape).labels,(function(e){n.removeShape(e,{nested:!0})}))})),this.execute("shape.delete",(function(e){var t=e.context,n=t.shape,i=n.labelTarget;i&&(t.labelTargetIndex=_t(i.labels,n),t.labelTarget=i,n.labelTarget=null)})),this.revert("shape.delete",(function(e){var t=e.context,n=t.shape,i=t.labelTarget,r=t.labelTargetIndex;i&&(xt(i.labels,n,r),n.labelTarget=i)}))}function Nu(e){return w(e,(function(t){return-1===e.indexOf(t.labelTarget)}))}r()(Ou,jc),Ou.$inject=["injector","eventBus","modeling"];const Lu={__init__:["labelSupport"],labelSupport:["type",Ou]};var zu="attach-ok";function Du(e,t,n,i,r){jc.call(this,t);var o=e.get("movePreview",!1);t.on("shape.move.start",1401,(function(e){var t,n,i=e.context,r=i.shapes,o=i.validatedShapes;i.shapes=(n=Iu(t=r),A("id",t,n)),i.validatedShapes=function(e){var t=j(e,"id");return w(e,(function(e){for(;e;){if(e.host&&t[e.host.id])return!1;e=e.parent}return!0}))}(o)})),o&&t.on("shape.move.start",251,(function(e){var t=e.context;b(Iu(t.shapes),(function(e){o.makeDraggable(t,e,!0),b(e.labels,(function(e){o.makeDraggable(t,e,!0)}))}))})),o&&t.on("shape.move.start",(function(e){var i=e.context.shapes;if(1===i.length){var r=i[0].host;r&&(n.addMarker(r,zu),t.once(["shape.move.out","shape.move.cleanup"],(function(){n.removeMarker(r,zu)})))}})),this.preExecuted("elements.move",1401,(function(e){var t=e.context,n=t.closure;b(Iu(t.shapes),(function(e){n.add(e,n.topLevel[e.host.id])}))})),this.postExecuted("elements.move",(function(e){var t=e.context,n=t.shapes,i=t.newHost;i&&1!==n.length||b(i?n:w(n,(function(e){var t,i=e.host;return function(e){return!!e.host}(e)&&(t=i,!(-1!==n.indexOf(t)))})),(function(e){r.updateAttachment(e,i)}))})),this.postExecuted("elements.move",(function(e){b(e.context.shapes,(function(e){b(e.attachers,(function(e){b(e.outgoing.slice(),(function(e){i.allowed("connection.reconnect",{connection:e,source:e.source,target:e.target})||r.removeConnection(e)})),b(e.incoming.slice(),(function(e){i.allowed("connection.reconnect",{connection:e,source:e.source,target:e.target})||r.removeConnection(e)}))}))}))})),this.postExecute("shape.create",(function(e){var t=e.context,n=t.shape,i=t.host;i&&r.updateAttachment(n,i)})),this.postExecute("shape.replace",(function(e){var t=e.context,n=t.oldShape,o=t.newShape;Ru(n.attachers,(function(e){"attach"===i.allowed("elements.move",{target:o,shapes:[e]})?r.updateAttachment(e,o):r.removeShape(e)})),o.attachers.length&&b(o.attachers,(function(e){var t=iu(e,n,o);r.moveShape(e,t,e.parent)}))})),this.postExecute("shape.resize",(function(e){var t=e.context,n=t.shape,i=t.oldBounds,o=t.newBounds,a=n.attachers;!1!==(t.hints||{}).attachSupport&&b(a,(function(e){var t=iu(e,i,o);r.moveShape(e,t,e.parent),b(e.labels,(function(e){r.moveShape(e,t,e.parent)}))}))})),this.preExecute("shape.delete",(function(e){var t=e.context.shape;Ru(t.attachers,(function(e){r.removeShape(e)})),t.host&&r.updateAttachment(t,null)}))}function Iu(e){return c(k(e,(function(e){return e.attachers||[]})))}r()(Du,jc),Du.$inject=["injector","eventBus","canvas","rules","modeling"];const $u={__depends__:[jo],__init__:["attachSupport"],attachSupport:["type",Du]};function Fu(e,t){this._eventBus=e,this._dragging=t,this._tools=[],this._active=null}Fu.$inject=["eventBus","dragging"],Fu.prototype.registerTool=function(e,t){var n=this._tools;if(!t)throw new Error('A tool has to be registered with it\'s "events"');n.push(e),this.bindEvents(e,t)},Fu.prototype.isActive=function(e){return e&&this._active===e},Fu.prototype.length=function(e){return this._tools.length},Fu.prototype.setActive=function(e){var t=this._eventBus;this._active!==e&&(this._active=e,t.fire("tool-manager.update",{tool:e}))},Fu.prototype.bindEvents=function(e,t){var n=this._eventBus,i=this._dragging,r=[];n.on(t.tool+".init",(function(t){if(!t.context.reactivate&&this.isActive(e))return this.setActive(null),void i.cancel();this.setActive(e)}),this),b(t,(function(e){r.push(e+".ended"),r.push(e+".canceled")})),n.on(r,250,(function(e){this._active&&(function(e){var t=e.originalEvent&&e.originalEvent.target;return t&&ie(t,'.group[data-group="tools"]')}(e)||this.setActive(null))}),this)};const Hu={__depends__:[ko],__init__:["toolManager"],toolManager:["type",Fu]};function Gu(e,t){return-1!==e.indexOf(t)}var Uu=Math.abs,Wu=Math.round,Vu={x:"width",y:"height"},qu="crosshair",Yu={n:"top",w:"left",s:"bottom",e:"right"},Xu={n:"s",w:"e",s:"n",e:"w"};function Ku(e,t,n,i,r,o,a){this._canvas=e,this._dragging=t,this._eventBus=n,this._modeling=i,this._rules=r,this._toolManager=o,this._mouse=a;var s=this;o.registerTool("space",{tool:"spaceTool.selection",dragging:"spaceTool"}),n.on("spaceTool.selection.end",(function(e){n.once("spaceTool.selection.ended",(function(){s.activateMakeSpace(e.originalEvent)}))})),n.on("spaceTool.move",1500,(function(e){var t=e.context,n=t.initialized;n||(n=t.initialized=s.init(e,t)),n&&Ju(e)})),n.on("spaceTool.end",(function(e){var t=e.context,i=t.axis,r=t.direction,o=t.movingShapes,a=t.resizingShapes,c=t.start;if(t.initialized){Ju(e);var u={x:0,y:0};u[i]=Wu(e["d"+i]),s.makeSpace(o,a,u,r,c),n.once("spaceTool.ended",(function(e){s.activateSelection(e.originalEvent,!0,!0)}))}}))}function Zu(e){return{top:e.top-20,right:e.right+20,bottom:e.bottom+20,left:e.left-20}}function Ju(e){var t,n,i=e.context.spaceToolConstraints;i&&(v(i.left)&&(t=Math.max(e.x,i.left),e.dx=e.dx+t-e.x,e.x=t),v(i.right)&&(t=Math.min(e.x,i.right),e.dx=e.dx+t-e.x,e.x=t),v(i.top)&&(n=Math.max(e.y,i.top),e.dy=e.dy+n-e.y,e.y=n),v(i.bottom)&&(n=Math.min(e.y,i.bottom),e.dy=e.dy+n-e.y,e.y=n))}function Qu(e,t){return-1!==e.indexOf(t)}function el(e){return!!e.waypoints}function tl(e){return!!e.labelTarget}Ku.$inject=["canvas","dragging","eventBus","modeling","rules","toolManager","mouse"],Ku.prototype.activateSelection=function(e,t,n){this._dragging.init(e,"spaceTool.selection",{autoActivate:t,cursor:qu,data:{context:{reactivate:n}},trapClick:!1})},Ku.prototype.activateMakeSpace=function(e){this._dragging.init(e,"spaceTool",{autoActivate:!0,cursor:qu,data:{context:{}}})},Ku.prototype.makeSpace=function(e,t,n,i,r){return this._modeling.createSpace(e,t,n,i,r)},Ku.prototype.init=function(e,t){var n=Uu(e.dx)>Uu(e.dy)?"x":"y",i=e["d"+n],r=e[n]-i;if(Uu(i)<5)return!1;i<0&&(i*=-1),ar(e)&&(i*=-1);var o=function(e,t){if("x"===e){if(t>0)return"e";if(t<0)return"w"}if("y"===e){if(t>0)return"s";if(t<0)return"n"}return null}(n,i),a=pt(this._canvas.getRootElement(),!0),s=this.calculateAdjustments(a,n,i,r);return G(t,s,{axis:n,direction:o,spaceToolConstraints:function(e,t,n,i,r){var o=e.movingShapes,a=e.resizingShapes;if(a.length){var s,c,u={};return b(a,(function(e){var l,p,h,d=qo(e),f=w(e.children,(function(e){return!(el(e)||tl(e)||Qu(o,e)||Qu(a,e))})),y=w(e.children,(function(e){return!el(e)&&!tl(e)&&Qu(o,e)}));f.length&&(p=Zu(qo(ht(f))),l=i-d[Yu[n]]+p[Yu[n]],"n"===n?u.bottom=c=v(c)?Math.min(c,l):l:"w"===n?u.right=c=v(c)?Math.min(c,l):l:"s"===n?u.top=s=v(s)?Math.max(s,l):l:"e"===n&&(u.left=s=v(s)?Math.max(s,l):l)),y.length&&(h=Zu(qo(ht(y))),l=i-h[Yu[Xu[n]]]+d[Yu[Xu[n]]],"n"===n?u.bottom=c=v(c)?Math.min(c,l):l:"w"===n?u.right=c=v(c)?Math.min(c,l):l:"s"===n?u.top=s=v(s)?Math.max(s,l):l:"e"===n&&(u.left=s=v(s)?Math.max(s,l):l));var g=r&&r[e.id];g&&("n"===n?(l=i+e[Vu[t]]-g[Vu[t]],u.bottom=c=v(c)?Math.min(c,l):l):"w"===n?(l=i+e[Vu[t]]-g[Vu[t]],u.right=c=v(c)?Math.min(c,l):l):"s"===n?(l=i-e[Vu[t]]+g[Vu[t]],u.top=s=v(s)?Math.max(s,l):l):"e"===n&&(l=i-e[Vu[t]]+g[Vu[t]],u.left=s=v(s)?Math.max(s,l):l))})),u}}(s,n,o,r,this._eventBus.fire("spaceTool.getMinDimensions",{axis:n,direction:o,shapes:s.resizingShapes,start:r})),start:r}),Ur("resize-"+("x"===n?"ew":"ns")),!0},Ku.prototype.calculateAdjustments=function(e,t,n,i){var r=this._rules,o=[],a=[];return b(e,(function(e){if(e.parent&&!el(e)){var s=e[t],c=s+e[Vu[t]];return n>0&&s>i||n<0&&c<i?o.push(e):s<i&&c>i&&r.allowed("shape.resize",{shape:e})?a.push(e):void 0}})),{movingShapes:o,resizingShapes:a}},Ku.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var e=this._mouse.getLastMoveEvent();this.activateSelection(e,!!e)},Ku.prototype.isActive=function(){var e=this._dragging.context();return e&&/^spaceTool/.test(e.prefix)};var nl="djs-dragging",il="djs-resizing",rl=Math.max;function ol(e,t,n,i,r){function o(e,t){b(e,(function(e){r.addDragger(e,t),n.addMarker(e,nl)}))}e.on("spaceTool.selection.start",(function(e){var t=n.getLayer("space"),r=e.context,o=Ne("g");be(o,i.cls("djs-crosshair-group",["no-events"])),xe(t,o);var a=Ne("path");be(a,"d","M 0,-10000 L 0,10000"),Ce(a).add("djs-crosshair"),xe(o,a);var s=Ne("path");be(s,"d","M -10000,0 L 10000,0"),Ce(s).add("djs-crosshair"),xe(o,s),r.crosshairGroup=o})),e.on("spaceTool.selection.move",(function(e){qt(e.context.crosshairGroup,e.x,e.y)})),e.on("spaceTool.selection.cleanup",(function(e){var t=e.context.crosshairGroup;t&&Pe(t)})),e.on("spaceTool.move",250,(function(e){var a=e.context,s=a.line,c=a.axis,u=a.movingShapes,l=a.resizingShapes;if(a.initialized){if(!a.dragGroup){var p=n.getLayer("space");be(s=Ne("path"),"d","M0,0 L0,0"),Ce(s).add("djs-crosshair"),xe(p,s),a.line=s;var h=Ne("g");be(h,i.cls("djs-drag-group",["no-events"])),xe(n.getDefaultLayer(),h),o(u,h),o(a.movingConnections=t.filter((function(e){var t=!1;b(u,(function(n){b(n.outgoing,(function(n){e===n&&(t=!0)}))}));var n=!1;b(u,(function(t){b(t.incoming,(function(t){e===t&&(n=!0)}))}));var i=!1;b(l,(function(t){b(t.outgoing,(function(t){e===t&&(i=!0)}))}));var r=!1;return b(l,(function(t){b(t.incoming,(function(t){e===t&&(r=!0)}))})),function(e){return e.waypoints}(e)&&(t||i)&&(n||r)})),h),a.dragGroup=h}if(!a.frameGroup){var d=Ne("g");be(d,i.cls("djs-frame-group",["no-events"])),xe(n.getDefaultLayer(),d);var f=[];b(l,(function(e){var t=r.addFrame(e,d),i=t.getBBox();f.push({element:t,initialBounds:i}),n.addMarker(e,il)})),a.frameGroup=d,a.frames=f}be(s,{d:{x:"M"+e.x+", -10000 L"+e.x+", 10000",y:"M -10000, "+e.y+" L 10000, "+e.y}[c]});var y={x:e.dx,y:e.dy};y[{x:"y",y:"x"}[a.axis]]=0,qt(a.dragGroup,y.x,y.y),b(a.frames,(function(e){var t,n,i=e.element,r=e.initialBounds;"e"===a.direction?be(i,{width:rl(r.width+y.x,5)}):be(i,{width:t=rl(r.width-y.x,5),x:r.x+r.width-t}),"s"===a.direction?be(i,{height:rl(r.height+y.y,5)}):be(i,{height:n=rl(r.height-y.y,5),y:r.y+r.height-n})}))}})),e.on("spaceTool.cleanup",(function(e){var t=e.context,i=t.movingShapes,r=t.movingConnections,o=t.resizingShapes,a=t.line,s=t.dragGroup,c=t.frameGroup;b(i,(function(e){n.removeMarker(e,nl)})),b(r,(function(e){n.removeMarker(e,nl)})),s&&(Pe(a),Pe(s)),b(o,(function(e){n.removeMarker(e,il)})),c&&Pe(c)}))}ol.$inject=["eventBus","elementRegistry","canvas","styles","previewSupport"];const al={__init__:["spaceToolPreview"],__depends__:[ko,jo,Hu,Qa,ms],spaceTool:["type",Ku],spaceToolPreview:["type",ol]};function sl(e){this._model=e}function cl(e,t,n,i){jc.call(this,e),this._postitFactory=t,this._translate=i;var r=this;function o(e){b(e.context.oldRoot.children,(function(e){bi(e,"postit:BoardElement")&&r.updateParent(e)}))}function a(e){var t=e.context.shape;bi(t,"postit:BoardElement")&&r.updateBounds(t)}this.executed(["shape.move","shape.create","shape.delete"],ul((function(e){var t=e.context;r.updateParent(t.shape||t.connection,t.oldParent)}))),this.reverted(["shape.move","shape.create","shape.delete"],ul((function(e){var t=e.context,n=t.shape||t.connection,i=t.parent||t.newParent;r.updateParent(n,i)}))),this.executed(["canvas.updateRoot"],o),this.reverted(["canvas.updateRoot"],o),this.executed(["shape.move","shape.create","shape.resize"],ul((function(e){"label"!==e.context.shape.type&&a(e)}))),this.reverted(["shape.move","shape.create","shape.resize"],ul((function(e){"label"!==e.context.shape.type&&a(e)}))),e.on("shape.changed",(function(e){"label"===e.element.type&&a({context:{shape:e.element}})}))}function ul(e){return function(t){var n=t.context;bi(n.shape||n.connection,"postit:BoardElement")&&e(t)}}function ll(e,t,n){Ht.call(this),this._postitFactory=e,this._moddle=t,this._translate=n}function pl(e,t){this._modeling=e,this._canvas=t}function hl(e){this._modeling=e}function dl(e,t){this._canvas=e,this._layouter=t}sl.$inject=["moddle"],sl.prototype._needsId=function(e){return Si(e,["postit:BoardElement"])},sl.prototype._ensureId=function(e){var t;t=bi(e,"postit:Postit")?"Postit":(e.$type||"").replace(/^[^:]*:/g,""),t+="_",!e.id&&this._needsId(e)&&(e.id=this._model.ids.nextPrefixed(t,e))},sl.prototype.create=function(e,t){var n=this._model.create(e,t||{});return this._ensureId(n),n},sl.prototype.createDiLabel=function(){return this.create("postitDi:PostitLabel",{bounds:this.createDiBounds()})},sl.prototype.createDiShape=function(e,t,n){return this.create("postitDi:PostitShape",G({boardElement:e,bounds:this.createDiBounds(t)},n))},sl.prototype.createDiBounds=function(e){return this.create("dc:Bounds",e)},sl.prototype.createDiPlane=function(e){return this.create("postitDi:PostitPlane",{boardElement:e})},r()(cl,jc),cl.$inject=["eventBus","postitFactory","connectionDocking","translate"],cl.prototype.updateAttachment=function(e){var t=e.shape,n=t.businessObject,i=t.host;n.attachedToRef=i&&i.businessObject},cl.prototype.updateParent=function(e,t){if(!(e instanceof It)){var n=e.parent,i=e.businessObject,r=n&&n.businessObject,o=r&&r.di;this.updateSemanticParent(i,r),this.updateDiParent(i.di,o)}},cl.prototype.updateBounds=function(e){var t=e.businessObject.di,n=e instanceof It?this._getLabel(t):t,i=n.bounds;i||(i=this._postitFactory.createDiBounds(),n.set("bounds",i)),G(i,{x:e.x,y:e.y,width:e.width,height:e.height})},cl.prototype.updateDiParent=function(e,t){if(t&&!bi(t,"postitDi:PostitPlane")&&(t=t.$parent),e.$parent!==t){var n=(t||e.$parent).get("planeElement");t?(n.push(e),e.$parent=t):(mt(n,e),e.$parent=null)}},cl.prototype.updateSemanticParent=function(e,t,n){var i,r=this._translate;if(e.$parent!==t){if(bi(e,"postit:BoardElement")&&(i="boardElements"),!i)throw new Error(r("no parent for {element} in {parent}",{element:e.id,parent:t.id}));var o;if(e.$parent&&mt(o=e.$parent.get(i),e),t?((o=t.get(i)).push(e),e.$parent=t):e.$parent=null,n){var a=n.get(i);mt(o,e),t&&(a||(a=[],t.set(i,a)),a.push(e))}}},cl.prototype._getLabel=function(e){return e.label||(e.label=this._postitFactory.createDiLabel()),e.label},r()(ll,Ht),ll.$inject=["postitFactory","moddle","translate"],ll.prototype.baseCreate=Ht.prototype.create,ll.prototype.create=function(e,t){return"label"===e?this.baseCreate(e,G({type:"label"},Wi,t)):this.createPostitElement(e,t)},ll.prototype.createPostitElement=function(e,t){var n,i=this._translate,r=(t=t||{}).businessObject;if(!r){if(!t.type)throw new Error(i("no shape type specified"));r=this._postitFactory.create(t.type)}return r.di||(r.di="root"===e?this._postitFactory.createDiPlane(r,[],{id:r.id+"_di"}):this._postitFactory.createDiShape(r,{},{id:r.id+"_di"})),bi(r,"postit:Group")&&(t=G({isFrame:!0},t)),t.di&&(G(r.di,t.di),delete t.di),function(e,t,n){b(["processRef","isInterrupting","associationDirection","isForCompensation"],(function(n){void 0!==t[n]&&function(e,t,n){e[n]=t[n],delete t[n]}(e,t,n)}))}(r,t),n=this._getDefaultSize(r),t=G({businessObject:r,id:r.id},n,t),this.baseCreate(e,t)},ll.prototype._getDefaultSize=function(e){return bi(e,"postit:Postit")?{width:150,height:150}:bi(e,"postit:Group")||bi(e,"postit:Image")?{width:300,height:300}:{width:100,height:80}},pl.$inject=["modeling","canvas"],pl.prototype.preExecute=function(e){var t=this._modeling,n=e.elements,i=e.alignment;b(n,(function(e){var n={x:0,y:0};i.left?n.x=i.left-e.x:i.right?n.x=i.right-e.width-e.x:i.center?n.x=i.center-Math.round(e.width/2)-e.x:i.top?n.y=i.top-e.y:i.bottom?n.y=i.bottom-e.height-e.y:i.middle&&(n.y=i.middle-Math.round(e.height/2)-e.y),t.moveElements([e],n,e.parent)}))},pl.prototype.postExecute=function(e){},hl.$inject=["modeling"],hl.prototype.preExecute=function(e){var t=e.source;if(!t)throw new Error("source required");var n=e.target||t.parent,i=e.shape,r=e.hints||{};i=e.shape=this._modeling.createShape(i,e.position,n,{attach:r.attach}),e.shape=i},hl.prototype.postExecute=function(e){var t,n,i=e.hints||{};t=e.source,n=e.shape,T(t.outgoing,(function(e){return e.target===n}))||(i.connectionTarget===e.source?this._modeling.connect(e.shape,e.source,e.connection):this._modeling.connect(e.source,e.shape,e.connection))},dl.$inject=["canvas","layouter"],dl.prototype.execute=function(e){var t=e.connection,n=e.source,i=e.target,r=e.parent,o=e.parentIndex,a=e.hints;if(!n||!i)throw new Error("source and target required");if(!r)throw new Error("parent required");return t.source=n,t.target=i,t.waypoints||(t.waypoints=this._layouter.layoutConnection(t,a)),this._canvas.addConnection(t,r,o),t},dl.prototype.revert=function(e){var t=e.connection;return this._canvas.removeConnection(t),t.source=null,t.target=null,t};var fl=Math.round;function yl(e){this._modeling=e}function vl(e){return!!e.waypoints}yl.$inject=["modeling"],yl.prototype.preExecute=function(e){var t=e.elements,n=e.parent,i=e.parentIndex,r=e.position,o=e.hints,a=this._modeling;b(t,(function(e){v(e.x)||(e.x=0),v(e.y)||(e.y=0)}));var s=ht(t);b(t,(function(e){vl(e)&&(e.waypoints=k(e.waypoints,(function(e){return{x:fl(e.x-s.x-s.width/2+r.x),y:fl(e.y-s.y-s.height/2+r.y)}}))),G(e,{x:fl(e.x-s.x-s.width/2+r.x),y:fl(e.y-s.y-s.height/2+r.y)})}));var c=st(t),u={};b(t,(function(e){if(vl(e))u[e.id]=v(i)?a.createConnection(u[e.source.id],u[e.target.id],i,e,e.parent||n,o):a.createConnection(u[e.source.id],u[e.target.id],e,e.parent||n,o);else{var t=G({},o);-1===c.indexOf(e)&&(t.autoResize=!1),u[e.id]=v(i)?a.createShape(e,U(e,["x","y","width","height"]),e.parent||n,i,t):a.createShape(e,U(e,["x","y","width","height"]),e.parent||n,t)}})),e.elements=P(u)};var gl=Math.round;function ml(e){this._canvas=e}function xl(e){ml.call(this,e)}ml.$inject=["canvas"],ml.prototype.execute=function(e){var t=e.shape,n=e.position,i=e.parent,r=e.parentIndex;if(!i)throw new Error("parent required");if(!n)throw new Error("position required");return void 0!==n.width?G(t,n):G(t,{x:n.x-gl(t.width/2),y:n.y-gl(t.height/2)}),this._canvas.addShape(t,i,r),t},ml.prototype.revert=function(e){var t=e.shape;return this._canvas.removeShape(t),t},r()(xl,ml),xl.$inject=["canvas"];var _l=ml.prototype.execute;xl.prototype.execute=function(e){var t=e.shape;return function(e){["width","height"].forEach((function(t){void 0===e[t]&&(e[t]=0)}))}(t),t.labelTarget=e.labelTarget,_l.call(this,e)};var wl=ml.prototype.revert;function bl(e,t){this._canvas=e,this._modeling=t}function El(e,t){this._modeling=e,this._elementRegistry=t}function Sl(e,t){this._canvas=e,this._modeling=t}function Tl(e){this._modeling=e}xl.prototype.revert=function(e){return e.shape.labelTarget=null,wl.call(this,e)},bl.$inject=["canvas","modeling"],bl.prototype.execute=function(e){var t=e.connection,n=t.parent;return e.parent=n,e.parentIndex=_t(n.children,t),e.source=t.source,e.target=t.target,this._canvas.removeConnection(t),t.source=null,t.target=null,t},bl.prototype.revert=function(e){var t=e.connection,n=e.parent,i=e.parentIndex;return t.source=e.source,t.target=e.target,xt(n.children,t,i),this._canvas.addConnection(t,n),t},El.$inject=["modeling","elementRegistry"],El.prototype.postExecute=function(e){var t=this._modeling,n=this._elementRegistry;b(e.elements,(function(e){n.get(e.id)&&(e.waypoints?t.removeConnection(e):t.removeShape(e))}))},Sl.$inject=["canvas","modeling"],Sl.prototype.preExecute=function(e){var t=this._modeling,n=e.shape;Ru(n.incoming,(function(e){t.removeConnection(e,{nested:!0})})),Ru(n.outgoing,(function(e){t.removeConnection(e,{nested:!0})})),Ru(n.children,(function(e){e.waypoints?t.removeConnection(e,{nested:!0}):t.removeShape(e,{nested:!0})}))},Sl.prototype.execute=function(e){var t=this._canvas,n=e.shape,i=n.parent;return e.oldParent=i,e.oldParentIndex=_t(i.children,n),t.removeShape(n),n},Sl.prototype.revert=function(e){var t=this._canvas,n=e.shape,i=e.oldParent,r=e.oldParentIndex;return xt(i.children,n,r),t.addShape(n,i),n},Tl.$inject=["modeling"];var kl={x:"y",y:"x"};function Cl(e,t){this._layouter=e,this._canvas=t}function Ml(){}function Pl(e,t,n){var i=Ol(e),r=Nl(i,t),o=i[0];return r.length?r[r.length-1]:nu(o.original||o,n,t)}function jl(e,t,n){var i=Ol(e),r=Nl(i,t),o=i[i.length-1];return r.length?r[0]:nu(o.original||o,n,t)}function Bl(e,t,n){var i=Ol(e),r=Rl(t,n),o=i[0];return nu(o.original||o,r,t)}function Al(e,t,n){var i=Ol(e),r=Rl(t,n),o=i[i.length-1];return nu(o.original||o,r,t)}function Rl(e,t){return{x:e.x-t.x,y:e.y-t.y,width:e.width,height:e.height}}function Ol(e){var t=e.waypoints;if(!t.length)throw new Error("connection#"+e.id+": no waypoints");return t}function Nl(e,t){return w(k(e,Ll),(function(e){return function(e,t){return"intersect"===Ko(t,e,1)}(e,t)}))}function Ll(e){return e.original||e}function zl(){this.allShapes={},this.allConnections={},this.enclosedElements={},this.enclosedConnections={},this.topLevel={}}function Dl(e){this._modeling=e}function Il(e){this._helper=new Dl(e)}function $l(e){this._modeling=e,this._helper=new Dl(e)}function Fl(e){this._modeling=e}function Hl(e){return e.original||e}function Gl(e,t){this._modeling=e,this._rules=t}function Ul(e){this._modeling=e}function Wl(e){this._modeling=e}function Vl(e){return G({},e)}function ql(e){switch(e){case"n":return"y";case"w":return"x";case"s":return"y";case"e":return"x"}}function Yl(e,t,n){var i=ql(n);return/e|s/.test(n)?e[i]>t:/n|w/.test(n)?e[i]<t:void 0}function Xl(e,t){return-1!==e.indexOf(t)}function Kl(e){this._modeling=e}function Zl(e){var t={};return b(e,(function(e){t[e.id]=e.hidden,e.children&&(t=G({},t,Zl(e.children)))})),t}function Jl(e,t){var n=[];return b(e,(function(e){e.hidden=t,n=n.concat(e),e.children&&(n=n.concat(Jl(e.children,e.collapsed||t)))})),n}function Ql(e,t){var n=[];return b(e,(function(e){e.hidden=t[e.id],n=n.concat(e),e.children&&(n=n.concat(Ql(e.children,t)))})),n}function ep(e){this._modeling=e}function tp(e,t){return mt(e&&e.attachers,t)}function np(e,t,n){if(e){var i=e.attachers;i||(e.attachers=i=[]),xt(i,t,n)}}function ip(){}function rp(e,t,n){this._eventBus=e,this._elementFactory=t,this._commandStack=n;var i=this;e.on("diagram.init",(function(){i.registerHandlers(n)}))}Tl.prototype.preExecute=function(e){var t=this._modeling,n=e.groups,i=e.axis,r=e.dimension;function o(e,t){e.range.min=Math.min(t[i],e.range.min),e.range.max=Math.max(t[i]+t[r],e.range.max)}function a(e){return e[i]+e[r]/2}function s(e){return e.length-1}function c(e){return e.max-e.min}var u,l,p=n[0],h=s(n),d=n[h],f=0;b(n,(function(e,u){var l,p,d;e.elements.length<2?u&&u!==n.length-1&&(o(e,e.elements[0]),f+=c(e.range)):(p=(l=R(e.elements,i))[0],u===h&&(p=l[s(l)]),d=a(p),e.range=null,b(l,(function(n){!function(e,n){var r={y:0};r[i]=e-a(n),r[i]&&(r[kl[i]]=0,t.moveElements([n],r,n.parent))}(d,n),null!==e.range?o(e,n):e.range={min:n[i],max:n[i]+n[r]}})),u&&u!==n.length-1&&(f+=c(e.range)))})),l=Math.abs(d.range.min-p.range.max),(u=Math.round((l-f)/(n.length-1)))<n.length-1||b(n,(function(e,o){var a,s={};e!==p&&e!==d&&(a=n[o-1],e.range.max=0,b(e.elements,(function(n,o){s[kl[i]]=0,s[i]=a.range.max-n[i]+u,e.range.min!==n[i]&&(s[i]+=n[i]-e.range.min),s[i]&&t.moveElements([n],s,n.parent),e.range.max=Math.max(n[i]+n[r],o?e.range.max:0)})))}))},Tl.prototype.postExecute=function(e){},Cl.$inject=["layouter","canvas"],Cl.prototype.execute=function(e){var t=e.connection;return G(e,{oldWaypoints:t.waypoints}),t.waypoints=this._layouter.layoutConnection(t,e.hints),t},Cl.prototype.revert=function(e){var t=e.connection;return t.waypoints=e.oldWaypoints,t},Ml.prototype.execute=function(e){var t=e.connection,n=e.delta,i=e.newParent||t.parent,r=e.newParentIndex,o=t.parent;return e.oldParent=o,e.oldParentIndex=mt(o.children,t),xt(i.children,t,r),t.parent=i,b(t.waypoints,(function(e){e.x+=n.x,e.y+=n.y,e.original&&(e.original.x+=n.x,e.original.y+=n.y)})),t},Ml.prototype.revert=function(e){var t=e.connection,n=t.parent,i=e.oldParent,r=e.oldParentIndex,o=e.delta;return mt(n.children,t),xt(i.children,t,r),t.parent=i,b(t.waypoints,(function(e){e.x-=o.x,e.y-=o.y,e.original&&(e.original.x-=o.x,e.original.y-=o.y)})),t},zl.prototype.add=function(e,t){return this.addAll([e],t)},zl.prototype.addAll=function(e,t){return G(this,function(e,t,n){p(t)&&(t=!0),y(t)&&(n=t,t=!0);var i=yt((n=n||{}).allShapes),r=yt(n.allConnections),o=yt(n.enclosedElements),a=yt(n.enclosedConnections),s=yt(n.topLevel,t&&j(e,(function(e){return e.id})));function c(e){s[e.source.id]&&s[e.target.id]&&(s[e.id]=[e]),i[e.source.id]&&i[e.target.id]&&(a[e.id]=o[e.id]=e),r[e.id]=e}return lt(e,(function(e){if(o[e.id]=e,!e.waypoints)return i[e.id]=e,b(e.incoming,c),b(e.outgoing,c),e.children;a[e.id]=r[e.id]=e})),{allShapes:i,allConnections:r,topLevel:s,enclosedConnections:a,enclosedElements:o}}(e,!!t,this)),this},Dl.prototype.moveRecursive=function(e,t,n){return e?this.moveClosure(this.getClosure(e),t,n):[]},Dl.prototype.moveClosure=function(e,t,n,i,r){var o=this._modeling,a=e.allShapes,s=e.allConnections,c=e.enclosedConnections,u=e.topLevel,l=!1;r&&r.parent===n&&(l=!0),b(a,(function(e){o.moveShape(e,t,u[e.id]&&!l&&n,{recurse:!1,layout:!1})})),b(s,(function(e){var i=!!a[e.source.id],r=!!a[e.target.id];c[e.id]&&i&&r?o.moveConnection(e,t,u[e.id]&&!l&&n):o.layoutConnection(e,{connectionStart:i&&Bl(e,e.source,t),connectionEnd:r&&Al(e,e.target,t)})}))},Dl.prototype.getClosure=function(e){return(new zl).addAll(e,!0)},Il.$inject=["modeling"],Il.prototype.preExecute=function(e){e.closure=this._helper.getClosure(e.shapes)},Il.prototype.postExecute=function(e){var t,n=e.hints;n&&n.primaryShape&&(t=n.primaryShape,n.oldParent=t.parent),this._helper.moveClosure(e.closure,e.delta,e.newParent,e.newHost,t)},$l.$inject=["modeling"],$l.prototype.execute=function(e){var t=e.shape,n=e.delta,i=e.newParent||t.parent,r=e.newParentIndex,o=t.parent;return e.oldBounds=U(t,["x","y","width","height"]),e.oldParent=o,e.oldParentIndex=mt(o.children,t),xt(i.children,t,r),G(t,{parent:i,x:t.x+n.x,y:t.y+n.y}),t},$l.prototype.postExecute=function(e){var t=e.shape,n=e.delta,i=e.hints,r=this._modeling;!1!==i.layout&&(b(t.incoming,(function(e){r.layoutConnection(e,{connectionEnd:Al(e,t,n)})})),b(t.outgoing,(function(e){r.layoutConnection(e,{connectionStart:Bl(e,t,n)})}))),!1!==i.recurse&&this.moveChildren(e)},$l.prototype.revert=function(e){var t=e.shape,n=e.oldParent,i=e.oldParentIndex,r=e.delta;return xt(n.children,t,i),G(t,{parent:n,x:t.x-r.x,y:t.y-r.y}),t},$l.prototype.moveChildren=function(e){var t=e.delta,n=e.shape;this._helper.moveRecursive(n.children,t,null)},$l.prototype.getNewParent=function(e){return e.newParent||e.shape.parent},Fl.$inject=["modeling"],Fl.prototype.execute=function(e){var t=e.newSource,n=e.newTarget,i=e.connection,r=e.dockingOrPoints;if(!t&&!n)throw new Error("newSource or newTarget required");return f(r)&&(e.oldWaypoints=i.waypoints,i.waypoints=r),t&&(e.oldSource=i.source,i.source=t),n&&(e.oldTarget=i.target,i.target=n),i},Fl.prototype.postExecute=function(e){var t=e.connection,n=e.newSource,i=e.newTarget,r=e.dockingOrPoints,o=e.hints||{},a={};o.connectionStart&&(a.connectionStart=o.connectionStart),o.connectionEnd&&(a.connectionEnd=o.connectionEnd),!1!==o.layoutConnection&&(!n||i&&"source"!==o.docking||(a.connectionStart=a.connectionStart||Hl(f(r)?r[0]:r)),!i||n&&"target"!==o.docking||(a.connectionEnd=a.connectionEnd||Hl(f(r)?r[r.length-1]:r)),o.newWaypoints&&(a.waypoints=o.newWaypoints),this._modeling.layoutConnection(t,a))},Fl.prototype.revert=function(e){var t=e.oldSource,n=e.oldTarget,i=e.oldWaypoints,r=e.connection;return t&&(r.source=t),n&&(r.target=n),i&&(r.waypoints=i),r},Gl.$inject=["modeling","rules"],Gl.prototype.preExecute=function(e){var t,n=this,i=this._modeling,r=this._rules,o=e.oldShape,a=e.newData,s=e.hints||{};function c(e,t,n){return r.allowed("connection.reconnect",{connection:n,source:e,target:t})}var u,l={x:a.x,y:a.y},p={x:o.x,y:o.y,width:o.width,height:o.height};t=e.newShape=e.newShape||n.createShape(a,l,o.parent,s),o.host&&i.updateAttachment(t,o.host),!1!==s.moveChildren&&(u=o.children.slice(),i.moveElements(u,{x:0,y:0},t,s));var h=o.incoming.slice(),d=o.outgoing.slice();b(h,(function(e){c(e.source,t,e)&&n.reconnectEnd(e,t,jl(e,t,p),s)})),b(d,(function(e){var i=e.target;c(t,i,e)&&n.reconnectStart(e,t,Pl(e,t,p),s)}))},Gl.prototype.postExecute=function(e){var t=e.oldShape;this._modeling.removeShape(t)},Gl.prototype.execute=function(e){},Gl.prototype.revert=function(e){},Gl.prototype.createShape=function(e,t,n,i){return this._modeling.createShape(e,t,n,i)},Gl.prototype.reconnectStart=function(e,t,n,i){this._modeling.reconnectStart(e,t,n,i)},Gl.prototype.reconnectEnd=function(e,t,n,i){this._modeling.reconnectEnd(e,t,n,i)},Ul.$inject=["modeling"],Ul.prototype.execute=function(e){var t=e.shape,n=e.newBounds,i=e.minBounds;if(void 0===n.x||void 0===n.y||void 0===n.width||void 0===n.height)throw new Error("newBounds must have {x, y, width, height} properties");if(i&&(n.width<i.width||n.height<i.height))throw new Error("width and height cannot be less than minimum height and width");if(!i&&n.width<10||n.height<10)throw new Error("width and height cannot be less than 10px");return e.oldBounds={width:t.width,height:t.height,x:t.x,y:t.y},G(t,{width:n.width,height:n.height,x:n.x,y:n.y}),t},Ul.prototype.postExecute=function(e){var t=this._modeling,n=e.shape,i=e.oldBounds;!1!==(e.hints||{}).layout&&(b(n.incoming,(function(e){t.layoutConnection(e,{connectionEnd:jl(e,n,i)})})),b(n.outgoing,(function(e){t.layoutConnection(e,{connectionStart:Pl(e,n,i)})})))},Ul.prototype.revert=function(e){var t=e.shape,n=e.oldBounds;return G(t,{width:n.width,height:n.height,x:n.x,y:n.y}),t},Wl.$inject=["modeling"],Wl.prototype.preExecute=function(e){var t=e.delta,n=e.direction,i=e.movingShapes,r=e.resizingShapes,o=e.start,a={};this.moveShapes(i,t),b(r,(function(e){a[e.id]=function(e){return{x:e.x,y:e.y,height:e.height,width:e.width}}(e)})),this.resizeShapes(r,t,n),this.updateConnectionWaypoints(function(e,t){var n=[];return b(e.concat(t),(function(i){var r=i.incoming,o=i.outgoing;b(r.concat(o),(function(i){var r=i.source,o=i.target;(Gu(e,r)||Gu(e,o)||Gu(t,r)||Gu(t,o))&&(Gu(n,i)||n.push(i))}))})),n}(i,r),t,n,o,i,r,a)},Wl.prototype.execute=function(){},Wl.prototype.revert=function(){},Wl.prototype.moveShapes=function(e,t){var n=this;b(e,(function(e){n._modeling.moveShape(e,t,null,{autoResize:!1,layout:!1,recurse:!1})}))},Wl.prototype.resizeShapes=function(e,t,n){var i=this;b(e,(function(e){var r=function(e,t,n){var i=e.x,r=e.y,o=e.width,a=e.height,s=n.x,c=n.y;switch(t){case"n":return{x:i,y:r+c,width:o,height:a-c};case"s":return{x:i,y:r,width:o,height:a+c};case"w":return{x:i+s,y:r,width:o-s,height:a};case"e":return{x:i,y:r,width:o+s,height:a};default:throw new Error("unknown direction: "+t)}}(e,n,t);i._modeling.resizeShape(e,r,null,{attachSupport:!1,autoResize:!1,layout:!1})}))},Wl.prototype.updateConnectionWaypoints=function(e,t,n,i,r,o,a){var s=this,c=r.concat(o);b(e,(function(e){var u=e.source,l=e.target,p=function(e){return k(e.waypoints,(function(e){return(e=Vl(e)).original&&(e.original=Vl(e.original)),e}))}(e),h=ql(n),d={labelBehavior:!1};Xl(c,u)&&Xl(c,l)?(p=k(p,(function(e){return Yl(e,i,n)&&(e[h]=e[h]+t[h]),e.original&&Yl(e.original,i,n)&&(e.original[h]=e.original[h]+t[h]),e})),s._modeling.updateWaypoints(e,p,{labelBehavior:!1})):(Xl(c,u)||Xl(c,l))&&(Xl(r,u)?d.connectionStart=Bl(e,u,t):Xl(r,l)?d.connectionEnd=Al(e,l,t):Xl(o,u)?d.connectionStart=Pl(e,u,a[u.id]):Xl(o,l)&&(d.connectionEnd=jl(e,l,a[l.id])),s._modeling.layoutConnection(e,d))}))},Kl.$inject=["modeling"],Kl.prototype.execute=function(e){var t=e.shape,n=t.children;e.oldChildrenVisibility=Zl(n),t.collapsed=!t.collapsed;var i=Jl(n,t.collapsed);return[t].concat(i)},Kl.prototype.revert=function(e){var t=e.shape,n=e.oldChildrenVisibility,i=Ql(t.children,n);return t.collapsed=!t.collapsed,[t].concat(i)},ep.$inject=["modeling"],ep.prototype.execute=function(e){var t=e.shape,n=e.newHost,i=t.host;return e.oldHost=i,e.attacherIdx=tp(i,t),np(n,t),t.host=n,t},ep.prototype.revert=function(e){var t=e.shape,n=e.newHost,i=e.oldHost,r=e.attacherIdx;return t.host=i,tp(n,t),np(i,t,r),t},ip.prototype.execute=function(e){var t=e.connection,n=e.newWaypoints;return e.oldWaypoints=t.waypoints,t.waypoints=n,t},ip.prototype.revert=function(e){var t=e.connection,n=e.oldWaypoints;return t.waypoints=n,t},rp.$inject=["eventBus","elementFactory","commandStack"],rp.prototype.getHandlers=function(){return{"shape.append":hl,"shape.create":ml,"shape.delete":Sl,"shape.move":$l,"shape.resize":Ul,"shape.replace":Gl,"shape.toggleCollapse":Kl,spaceTool:Wl,"label.create":xl,"connection.create":dl,"connection.delete":bl,"connection.move":Ml,"connection.layout":Cl,"connection.updateWaypoints":ip,"connection.reconnect":Fl,"elements.create":yl,"elements.move":Il,"elements.delete":El,"elements.distribute":Tl,"elements.align":pl,"element.updateAttachment":ep}},rp.prototype.registerHandlers=function(e){b(this.getHandlers(),(function(t,n){e.registerHandler(n,t)}))},rp.prototype.moveShape=function(e,t,n,i,r){"object"==typeof i&&(r=i,i=null);var o={shape:e,delta:t,newParent:n,newParentIndex:i,hints:r||{}};this._commandStack.execute("shape.move",o)},rp.prototype.updateAttachment=function(e,t){var n={shape:e,newHost:t};this._commandStack.execute("element.updateAttachment",n)},rp.prototype.moveElements=function(e,t,n,i){var r,o=(i=i||{}).attach,a=n;!0===o?(r=n,a=n.parent):!1===o&&(r=null);var s={shapes:e,delta:t,newParent:a,newHost:r,hints:i};this._commandStack.execute("elements.move",s)},rp.prototype.moveConnection=function(e,t,n,i,r){"object"==typeof i&&(r=i,i=void 0);var o={connection:e,delta:t,newParent:n,newParentIndex:i,hints:r||{}};this._commandStack.execute("connection.move",o)},rp.prototype.layoutConnection=function(e,t){var n={connection:e,hints:t||{}};this._commandStack.execute("connection.layout",n)},rp.prototype.createConnection=function(e,t,n,i,r,o){"object"==typeof n&&(o=r,r=i,i=n,n=void 0);var a={source:e,target:t,parent:r,parentIndex:n,connection:i=this._create("connection",i),hints:o};return this._commandStack.execute("connection.create",a),a.connection},rp.prototype.createShape=function(e,t,n,i,r){"number"!=typeof i&&(r=i,i=void 0);var o,a,s=(r=r||{}).attach;e=this._create("shape",e),s?(o=n.parent,a=n):o=n;var c={position:t,shape:e,parent:o,parentIndex:i,host:a,hints:r};return this._commandStack.execute("shape.create",c),c.shape},rp.prototype.createElements=function(e,t,n,i,r){f(e)||(e=[e]),"number"!=typeof i&&(r=i,i=void 0);var o={position:t,elements:e,parent:n,parentIndex:i,hints:r=r||{}};return this._commandStack.execute("elements.create",o),o.elements},rp.prototype.createLabel=function(e,t,n,i){n=this._create("label",n);var r={labelTarget:e,position:t,parent:i||e.parent,shape:n};return this._commandStack.execute("label.create",r),r.shape},rp.prototype.appendShape=function(e,t,n,i,r){r=r||{};var o={source:e,position:n,target:i,shape:t=this._create("shape",t),connection:r.connection,connectionParent:r.connectionParent,hints:r};return this._commandStack.execute("shape.append",o),o.shape},rp.prototype.removeElements=function(e){var t={elements:e};this._commandStack.execute("elements.delete",t)},rp.prototype.distributeElements=function(e,t,n){var i={groups:e,axis:t,dimension:n};this._commandStack.execute("elements.distribute",i)},rp.prototype.removeShape=function(e,t){var n={shape:e,hints:t||{}};this._commandStack.execute("shape.delete",n)},rp.prototype.removeConnection=function(e,t){var n={connection:e,hints:t||{}};this._commandStack.execute("connection.delete",n)},rp.prototype.replaceShape=function(e,t,n){var i={oldShape:e,newData:t,hints:n||{}};return this._commandStack.execute("shape.replace",i),i.newShape},rp.prototype.alignElements=function(e,t){var n={elements:e,alignment:t};this._commandStack.execute("elements.align",n)},rp.prototype.resizeShape=function(e,t,n,i){var r={shape:e,newBounds:t,minBounds:n,hints:i};this._commandStack.execute("shape.resize",r)},rp.prototype.createSpace=function(e,t,n,i,r){var o={delta:n,direction:i,movingShapes:e,resizingShapes:t,start:r};this._commandStack.execute("spaceTool",o)},rp.prototype.updateWaypoints=function(e,t,n){var i={connection:e,newWaypoints:t,hints:n||{}};this._commandStack.execute("connection.updateWaypoints",i)},rp.prototype.reconnect=function(e,t,n,i,r){var o={connection:e,newSource:t,newTarget:n,dockingOrPoints:i,hints:r||{}};this._commandStack.execute("connection.reconnect",o)},rp.prototype.reconnectStart=function(e,t,n,i){i||(i={}),this.reconnect(e,t,e.target,n,G(i,{docking:"source"}))},rp.prototype.reconnectEnd=function(e,t,n,i){i||(i={}),this.reconnect(e,e.source,t,n,G(i,{docking:"target"}))},rp.prototype.connect=function(e,t,n,i){return this.createConnection(e,t,n||{},e.parent,i)},rp.prototype._create=function(e,t){return t instanceof Lt?t:this._elementFactory.create(e,t)},rp.prototype.toggleCollapse=function(e,t){var n={shape:e,hints:t||{}};this._commandStack.execute("shape.toggleCollapse",n)};var op={width:0,height:0};function ap(e,t,n,i,r){this._elementRegistry=e,this._moddle=t,this._translate=n,this._modeling=i,this._textRenderer=r}function sp(e,t){return"id"in e&&e.id!==t.id}function cp(e,t){b(t,(function(t,n){"di"!==n?e.set(n,t):e.di&&function(e,t){b(t,(function(t,n){e.set(n,t)}))}(e.di,t)}))}ap.$inject=["elementRegistry","moddle","translate","modeling","textRenderer"],ap.prototype.execute=function(e){var t=e.element,n=[t],i=this._translate;if(!t)throw new Error(i("element required"));var r=this._elementRegistry,o=this._moddle.ids,a=t.businessObject,s=function(e){var t=G({},e);return up.forEach((function(n){n in e&&(t[n]=Ei(t[n]))})),t}(e.properties),c=e.oldProperties||function(e,t){return E(C(t),(function(n,i){return n[i]="di"!==i?e.get(i):(r=e.di,E(C(t.di),(function(e,t){return e[t]=r.get(t),e}),{})),n;var r}),{})}(a,s);return sp(s,a)&&(o.unclaim(a.id),r.updateId(t,s.id),o.claim(s.id,a)),cp(a,s),e.oldProperties=c,e.changed=n,n},ap.prototype.postExecute=function(e){var t=e.element.label,n=t&&Ei(t).name;if(n){var i=this._textRenderer.getExternalLabelBounds(t,n);this._modeling.resizeShape(t,i,op)}},ap.prototype.revert=function(e){var t=e.element,n=e.properties,i=e.oldProperties,r=t.businessObject,o=this._elementRegistry,a=this._moddle.ids;return cp(r,i),sp(n,r)&&(a.unclaim(n.id),o.updateId(t,i.id),a.claim(i.id,r)),e.changed};var up=["default"];function lp(e,t){this._canvas=e,this._modeling=t}function pp(e){this._moddle=e}lp.$inject=["canvas","modeling"],lp.prototype.execute=function(e){var t=this._canvas,n=e.newRoot,i=n.businessObject,r=t.getRootElement(),o=r.businessObject,a=o.$parent,s=o.di;t.setRootElement(n,!0),xt(a.rootElements,i),i.$parent=a,mt(a.rootElements,o),o.$parent=null,o.di=null,s.boardElement=i,i.di=s,e.oldRoot=r},lp.prototype.revert=function(e){var t=this._canvas,n=e.newRoot.businessObject,i=e.oldRoot,r=i.businessObject,o=n.$parent,a=n.di;t.setRootElement(i,!0),mt(o.rootElements,n),n.$parent=null,xt(o.rootElements,r),r.$parent=o,n.di=null,a.boardElement=r,r.di=a},pp.$inject=["moddle"],pp.prototype.execute=function(e){var t=this._moddle.ids,n=e.id,i=e.element;e.claiming?t.claim(n,i):t.unclaim(n)},pp.prototype.revert=function(e){var t=this._moddle.ids,n=e.id,i=e.element;e.claiming?t.unclaim(n):t.claim(n,i)};var hp=Ma.YELLOW;function dp(e){this._commandStack=e}dp.$inject=["commandStack"],dp.prototype.postExecute=function(e){var t=e.elements,n=e.color||hp,i=this;b(t,(function(e){i._commandStack.execute("element.updateProperties",{element:e,properties:{color:n}})}))};var fp={width:0,height:0};function yp(e,t){function n(e,t){var n=e.label||e,i=e.labelTarget||e;return function(e,t){var n=e.businessObject,i=Ti(n);i&&(n[i]=t)}(n,t),[n,i]}this.preExecute=function(t){var n=t.element,i=n.businessObject,r=t.newLabel;if(!Xi(n)&&Vi(n)&&!qi(n)&&!vp(r)){var o=Yi(n);o={x:o.x,y:o.y+7},e.createLabel(n,o,{id:i.id+"_label",businessObject:i})}},this.execute=function(e){return e.oldLabel=ki(e.element),n(e.element,e.newLabel)},this.revert=function(e){return n(e.element,e.oldLabel)},this.postExecute=function(n){var i=n.element,r=i.label||i,o=n.newLabel,a=n.newBounds,s=n.hints||{};if(Xi(r))if(Xi(r)&&vp(o))!1!==s.removeShape&&e.removeShape(r,{unsetLabel:!1});else{var c=ki(r);void 0===a&&(a=t.getExternalLabelBounds(r,c)),a&&e.resizeShape(r,a,fp)}}}function vp(e){return!e||!e.trim()}function gp(e,t,n,i){rp.call(this,e,t,n),this._postitRules=i}function mp(){}function xp(e){return G({original:e.point.original||e.point},e.actual)}function _p(e,t){this._elementRegistry=e,this._graphicsFactory=t}yp.$inject=["modeling","textRenderer"],r()(gp,rp),gp.$inject=["eventBus","elementFactory","commandStack","postitRules"],gp.prototype.getHandlers=function(){var e=rp.prototype.getHandlers.call(this);return e["element.updateProperties"]=ap,e["canvas.updateRoot"]=lp,e["id.updateClaim"]=pp,e["element.setColor"]=dp,e["element.updateLabel"]=yp,e},gp.prototype.updateLabel=function(e,t,n,i){this._commandStack.execute("element.updateLabel",{element:e,newLabel:t,newBounds:n,hints:i||{}})},gp.prototype.updateProperties=function(e,t){this._commandStack.execute("element.updateProperties",{element:e,properties:t})},gp.prototype.claimId=function(e,t){this._commandStack.execute("id.updateClaim",{id:e,element:t,claiming:!0})},gp.prototype.unclaimId=function(e,t){this._commandStack.execute("id.updateClaim",{id:e,element:t})},gp.prototype.setColor=function(e,t){e.length||(e=[e]),this._commandStack.execute("element.setColor",{elements:e,color:t})},mp.prototype.layoutConnection=function(e,t){return[(t=t||{}).connectionStart||Xo(t.source||e.source),t.connectionEnd||Xo(t.target||e.target)]},_p.$inject=["elementRegistry","graphicsFactory"],_p.prototype.getCroppedWaypoints=function(e,t,n){t=t||e.source,n=n||e.target;var i=this.getDockingPoint(e,t,!0),r=this.getDockingPoint(e,n),o=e.waypoints.slice(i.idx+1,r.idx);return o.unshift(xp(i)),o.push(xp(r)),o},_p.prototype.getDockingPoint=function(e,t,n){var i,r,o=e.waypoints;return{point:r=o[i=n?0:o.length-1],actual:this._getIntersection(t,e,n)||r,idx:i}},_p.prototype._getIntersection=function(e,t,n){return Zo(this._getShapePath(e),this._getConnectionPath(t),n)},_p.prototype._getConnectionPath=function(e){return this._graphicsFactory.getConnectionPath(e)},_p.prototype._getShapePath=function(e){return this._graphicsFactory.getShapePath(e)},_p.prototype._getGfx=function(e){return this._elementRegistry.getGraphics(e)};const wp={__init__:["modeling","postitUpdater"],__depends__:[pu,_u,bu,Tu,zs,Cu,Au,Lu,$u,_r,lc,al],postitFactory:["type",sl],postitUpdater:["type",cl],elementFactory:["type",ll],modeling:["type",gp],layouter:["type",mp],connectionDocking:["type",_p]};var bp=Math.round;function Ep(e,t,n,i,r){function o(e,t,n,i){return r.allowed("elements.move",{shapes:e,delta:t,position:n,target:i})}function a(e,n,i,r){if(y(i)&&(r=i,i=!1),!n.waypoints&&n.parent){var o=function(e){return{x:e.x+bp(e.width/2),y:e.y+bp(e.height/2)}}(n);return t.init(e,o,"shape.move",{cursor:"grabbing",autoActivate:i,data:{shape:n,context:r||{}}}),!0}}e.on("shape.move.start",1500,(function(e){var t=e.context,n=e.shape,r=i.get().slice();-1===r.indexOf(n)&&(r=[n]),G(t,{shapes:r=function(e){var t=j(e,"id");return w(e,(function(e){for(;e=e.parent;)if(t[e.id])return!1;return!0}))}(r),validatedShapes:r,shape:n})})),e.on("shape.move.start",1250,(function(e){var t=e.context,n=t.validatedShapes;if(!(t.canExecute=o(n)))return!1})),e.on("shape.move.move",500,(function(e){var t,n=e.context,i=n.validatedShapes,r=e.hover,a={x:e.dx,y:e.dy};t=o(i,a,{x:e.x,y:e.y},r),n.delta=a,n.canExecute=t,n.target=null!==t?r:null})),e.on("shape.move.end",(function(e){var t=e.context,i=t.delta,r=t.canExecute,o="attach"===r,a=t.shapes;if(!1===r)return!1;i.x=bp(i.x),i.y=bp(i.y),0===i.x&&0===i.y||n.moveElements(a,i,t.target,{primaryShape:t.shape,attach:o})})),e.on("element.mousedown",(function(e){if(or(e)){var t=tr(e);if(!t)throw new Error("must supply DOM mousedown event");return a(t,e.element)}})),this.start=a}Ep.$inject=["eventBus","dragging","modeling","selection","rules"];var Sp="djs-dragging",Tp="drop-ok",kp="drop-not-ok",Cp="new-parent",Mp="attach-ok";function Pp(e,t,n,i){function r(e){var t=pt(e,!0),n=k(t,(function(e){return(e.incoming||[]).concat(e.outgoing||[])}));return c(t.concat(n))}function o(e,n){[Mp,Tp,kp,Cp].forEach((function(i){i===n?t.addMarker(e,i):t.removeMarker(e,i)}))}e.on("shape.move.start",499,(function(e){var o,a=e.context,s=a.shapes,u=a.allDraggedElements,l=w(o=r(s),(function(e){return!function(e){return e.waypoints}(e)||_(o,O({id:e.source.id}))&&_(o,O({id:e.target.id}))}));if(!a.dragGroup){var p=Ne("g");be(p,n.cls("djs-drag-group",["no-events"])),xe(t.getDefaultLayer(),p),a.dragGroup=p}l.forEach((function(e){i.addDragger(e,a.dragGroup)})),b(u=u?c([u,r(s)]):r(s),(function(e){t.addMarker(e,Sp)})),a.allDraggedElements=u,a.differentParents=1!==M(j(s,(function(e){return e.parent&&e.parent.id})))})),e.on("shape.move.move",499,(function(e){var t=e.context,n=t.dragGroup,i=t.target,r=t.shape.parent,a=t.canExecute;i&&("attach"===a?o(i,Mp):t.canExecute&&i&&i.id!==r.id?o(i,Cp):o(i,t.canExecute?Tp:kp)),qt(n,e.dx,e.dy)})),e.on(["shape.move.out","shape.move.cleanup"],(function(e){var t=e.context.target;t&&o(t,null)})),e.on("shape.move.cleanup",(function(e){var n=e.context,i=n.allDraggedElements,r=n.dragGroup;b(i,(function(e){t.removeMarker(e,Sp)})),r&&Pe(r)})),this.makeDraggable=function(e,n,r){i.addDragger(n,e.dragGroup),r&&t.addMarker(n,Sp),e.allDraggedElements?e.allDraggedElements.push(n):e.allDraggedElements=[n]}}Pp.$inject=["eventBus","canvas","styles","previewSupport"];const jp={__depends__:[pr,_r,dr,jo,ko,Qa],__init__:["move","movePreview"],move:["type",Ep],movePreview:["type",Pp]};var Bp="open";function Ap(e,t){this._eventBus=e,this._canvas=t;var n=this;e.on("tool-manager.update",(function(e){var t=e.tool;n.updateToolHighlight(t)})),e.on("i18n.changed",(function(){n._update()})),e.on("diagram.init",(function(){n._diagramInitialized=!0,n._rebuild()}))}function Rp(e,t){var n=t.getPaletteEntries();return g(n)?n(e):(b(n,(function(t,n){e[n]=t})),e)}Ap.$inject=["eventBus","canvas"],Ap.prototype.registerProvider=function(e,t){t||(t=e,e=1e3),this._eventBus.on("palette.getProviders",e,(function(e){e.providers.push(t)})),this._rebuild()},Ap.prototype.getEntries=function(){return this._getProviders().reduce(Rp,{})},Ap.prototype._rebuild=function(){this._diagramInitialized&&this._getProviders().length&&(this._container||this._init(),this._update())},Ap.prototype._init=function(){var e=this,t=this._eventBus,n=this._getParentContainer(),i=this._container=he(Ap.HTML_MARKUP);n.appendChild(i),le(i,".djs-palette-toggle, .entry","click",(function(t){var n=t.delegateTarget;if(ne(n,".djs-palette-toggle"))return e.toggle();e.trigger("click",t)})),ce.bind(i,"mousedown",(function(e){e.stopPropagation()})),le(i,".entry","dragstart",(function(t){e.trigger("dragstart",t)})),t.on("canvas.resized",this._layoutChanged,this),t.fire("palette.create",{container:i})},Ap.prototype._getProviders=function(e){var t=this._eventBus.createEvent({type:"palette.getProviders",providers:[]});return this._eventBus.fire(t),t.providers},Ap.prototype._toggleState=function(e){e=e||{};var t,n=this._getParentContainer(),i=this._container,r=this._eventBus,o=Z(i);t="twoColumn"in e?e.twoColumn:this._needsCollapse(n.clientHeight,this._entries||{}),o.toggle("two-column",t),"open"in e&&o.toggle(Bp,e.open),r.fire("palette.changed",{twoColumn:t,open:this.isOpen()})},Ap.prototype._update=function(){var e=ye(".djs-palette-entries",this._container),t=this._entries=this.getEntries();Q(e),b(t,(function(t,n){var i=t.group||"default",r=ye("[data-group="+i+"]",e);r||(r=he('<div class="group" data-group="'+i+'"></div>'),e.appendChild(r));var o=t.html||(t.separator?'<hr class="separator" />':'<div class="entry" draggable="true"></div>'),a=he(o);r.appendChild(a),t.separator||(V(a,"data-action",n),t.title&&V(a,"title",t.title),t.className&&function(e,t){var n=Z(e);(f(t)?t:t.split(/\s+/g)).forEach((function(e){n.add(e)}))}(a,t.className),t.imageUrl&&a.appendChild(he('<img src="'+t.imageUrl+'">')))})),this.open()},Ap.prototype.trigger=function(e,t,n){var i,r,o,a=this._entries,s=t.delegateTarget||t.target;if(!s)return t.preventDefault();(i=a[V(s,"data-action")])&&(r=i.action,o=t.originalEvent||t,g(r)?"click"===e&&r(o,n):r[e]&&r[e](o,n),t.preventDefault())},Ap.prototype._layoutChanged=function(){this._toggleState({})},Ap.prototype._needsCollapse=function(e,t){return e<46*Object.keys(t).length+50},Ap.prototype.close=function(){this._toggleState({open:!1,twoColumn:!1})},Ap.prototype.open=function(){this._toggleState({open:!0})},Ap.prototype.toggle=function(e){this.isOpen()?this.close():this.open()},Ap.prototype.isActiveTool=function(e){return e&&this._activeTool===e},Ap.prototype.updateToolHighlight=function(e){var t;this._toolsContainer||(t=ye(".djs-palette-entries",this._container),this._toolsContainer=ye("[data-group=tools]",t)),b(this._toolsContainer.children,(function(t){var n=t.getAttribute("data-action");if(n){var i=Z(t);n=n.replace("-tool",""),i.contains("entry")&&n===e?i.add("highlighted-entry"):i.remove("highlighted-entry")}}))},Ap.prototype.isOpen=function(){return Z(this._container).has(Bp)},Ap.prototype._getParentContainer=function(){return this._canvas.getContainer()},Ap.HTML_MARKUP='<div class="djs-palette"><div class="djs-palette-entries"></div><div class="djs-palette-toggle"></div></div>';const Op={__init__:["palette"],palette:["type",Ap]};var Np="crosshair";function Lp(e,t,n,i,r,o,a){this._selection=r,this._dragging=n,this._mouse=a;var s=this;o.registerTool("lasso",{tool:"lasso.selection",dragging:"lasso"}),e.on("lasso.selection.end",(function(t){var n=t.originalEvent.target;(t.hover||n instanceof SVGElement)&&e.once("lasso.selection.ended",(function(){s.activateLasso(t.originalEvent,!0)}))})),e.on("lasso.end",(function(e){var t=zp(e),n=i.filter((function(e){return e}));s.select(n,t)})),e.on("lasso.start",(function(e){var n=e.context;n.bbox=zp(e),function(e){var n,i=t.getDefaultLayer();be(n=e.frame=Ne("rect"),{class:"djs-lasso-overlay",width:1,height:1,x:0,y:0}),xe(i,n)}(n)})),e.on("lasso.move",(function(e){var t=e.context;t.bbox=zp(e),function(e){var t=e.frame,n=e.bbox;be(t,{x:n.x,y:n.y,width:n.width,height:n.height})}(t)})),e.on("lasso.cleanup",(function(e){!function(e){e.frame&&Pe(e.frame)}(e.context)})),e.on("element.mousedown",1500,(function(e){if(sr(e))return s.activateLasso(e.originalEvent),!0}))}function zp(e){var t={x:e.x-e.dx,y:e.y-e.dy},n={x:e.x,y:e.y};return t.x<=n.x&&t.y<n.y||t.x<n.x&&t.y<=n.y?{x:t.x,y:t.y,width:n.x-t.x,height:n.y-t.y}:t.x>=n.x&&t.y<n.y||t.x>n.x&&t.y<=n.y?{x:n.x,y:t.y,width:t.x-n.x,height:n.y-t.y}:t.x<=n.x&&t.y>n.y||t.x<n.x&&t.y>=n.y?{x:t.x,y:n.y,width:n.x-t.x,height:t.y-n.y}:t.x>=n.x&&t.y>n.y||t.x>n.x&&t.y>=n.y?{x:n.x,y:n.y,width:t.x-n.x,height:t.y-n.y}:{x:n.x,y:n.y,width:0,height:0}}Lp.$inject=["eventBus","canvas","dragging","elementRegistry","selection","toolManager","mouse"],Lp.prototype.activateLasso=function(e,t){this._dragging.init(e,"lasso",{autoActivate:t,cursor:Np,data:{context:{}}})},Lp.prototype.activateSelection=function(e,t){this._dragging.init(e,"lasso.selection",{trapClick:!1,autoActivate:t,cursor:Np,data:{context:{}}})},Lp.prototype.select=function(e,t){var n=function(e,t){var n={};return b(e,(function(e){var i=e;i.waypoints&&(i=ht(i)),!v(t.y)&&i.x>t.x&&(n[e.id]=e),!v(t.x)&&i.y>t.y&&(n[e.id]=e),i.x>t.x&&i.y>t.y&&(v(t.width)&&v(t.height)&&i.width+i.x<t.width+t.x&&i.height+i.y<t.height+t.y?n[e.id]=e:v(t.width)&&v(t.height)||(n[e.id]=e))})),n}(e,t);this._selection.select(P(n))},Lp.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var e=this._mouse.getLastMoveEvent();this.activateSelection(e,!!e)},Lp.prototype.isActive=function(){var e=this._dragging.context();return e&&/^lasso/.test(e.prefix)};const Dp={__depends__:[Hu,ms],__init__:["lassoTool"],lassoTool:["type",Lp]};var Ip=1500,$p="grab";function Fp(e,t,n,i,r,o){this._dragging=n,this._mouse=o;var a=this,s=i.get("keyboard",!1);r.registerTool("hand",{tool:"hand",dragging:"hand.move"}),e.on("element.mousedown",Ip,(function(e){if(ar(e))return a.activateMove(e.originalEvent,!0),!1})),s&&s.addListener(Ip,(function(e){if(Hp(e.keyEvent)&&!a.isActive()){var t=a._mouse.getLastMoveEvent();a.activateMove(t,!!t)}}),"keyboard.keydown"),s&&s.addListener(Ip,(function(e){Hp(e.keyEvent)&&a.isActive()&&a.toggle()}),"keyboard.keyup"),e.on("hand.end",(function(t){var n=t.originalEvent.target;if(!(t.hover||n instanceof SVGElement))return!1;e.once("hand.ended",(function(){a.activateMove(t.originalEvent,{reactivate:!0})}))})),e.on("hand.move.move",(function(e){var n=t.viewbox().scale;t.scroll({dx:e.dx*n,dy:e.dy*n})})),e.on("hand.move.end",(function(t){var n=t.context.reactivate;return!ar(t)&&n&&e.once("hand.move.ended",(function(e){a.activateHand(e.originalEvent,!0,!0)})),!1}))}function Hp(e){return jr(" ",e)}Fp.$inject=["eventBus","canvas","dragging","injector","toolManager","mouse"],Fp.prototype.activateMove=function(e,t,n){"object"==typeof t&&(n=t,t=!1),this._dragging.init(e,"hand.move",{autoActivate:t,cursor:$p,data:{context:n||{}}})},Fp.prototype.activateHand=function(e,t,n){this._dragging.init(e,"hand",{trapClick:!1,autoActivate:t,cursor:$p,data:{context:{reactivate:n}}})},Fp.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var e=this._mouse.getLastMoveEvent();this.activateHand(e,!!e)},Fp.prototype.isActive=function(){var e=this._dragging.context();return!!e&&/^(hand|hand\.move)$/.test(e.prefix)};const Gp={__depends__:[Hu,ms],__init__:["handTool"],handTool:["type",Fp]};function Up(e,t,n,i,r,o,a){this._palette=e,this._create=t,this._elementFactory=n,this._spaceTool=i,this._lassoTool=r,this._handTool=o,this._translate=a,e.registerProvider(this)}Up.$inject=["palette","create","elementFactory","spaceTool","lassoTool","handTool","translate"],Up.prototype.getPaletteEntries=function(e){var t={},n=this._create,i=this._elementFactory,r=this._spaceTool,o=this._lassoTool,a=this._handTool,s=this._translate;function c(e,t,r,o,a){function c(t){var r=i.createShape(G({type:e},a));n.start(t,r)}var u=e.replace(/^postit:/,"");return{group:t,className:r,title:o||s("Create {type}",{type:u}),action:{dragstart:c,click:c}}}function u(e){var t=i.createShape({type:"postit:Image"});n.start(e,t,{hints:{selectImage:!0}})}return G(t,{"hand-tool":{group:"tools",className:"bpmn-icon-hand-tool",title:s("Activate the hand tool"),action:{click:function(e){a.activateHand(e)}}},"lasso-tool":{group:"tools",className:"bpmn-icon-lasso-tool",title:s("Activate the lasso tool"),action:{click:function(e){o.activateSelection(e)}}},"space-tool":{group:"tools",className:"bpmn-icon-space-tool",title:s("Activate the create/remove space tool"),action:{click:function(e){r.activateSelection(e)}}},"tool-separator":{group:"tools",separator:!0},"create.square-postit":c("postit:SquarePostit","postits","pjs-postit-square",s("Create Square Postit"),{color:Ma.YELLOW}),"create.circle-postit":c("postit:CirclePostit","postits","pjs-postit-circle",s("Create Circle Postit"),{color:Ma.PINK}),"postit-separator":{group:"postits",separator:!0},"create.image":{group:"artifact",className:"pjs-image",title:s("Create Image"),action:{click:u,dragstart:u}},"create.text-box":c("postit:TextBox","artifact","pjs-text-box",s("Create Text")),"create.group":c("postit:Group","artifact","pjs-group",s("Create Group"))}),t};const Wp={__depends__:[Op,ls,al,Dp,Gp,Ui],__init__:["paletteProvider"],paletteProvider:["type",Up]};function Vp(e,t,n,i,r){jc.call(this,e),e.on("shape.move.move",250,(function(e){var o=e.context,a=o.canExecute;o.visualReplacements||(o.visualReplacements={}),a&&a.replacements?function(e){b(e.canExecute.replacements,(function(o){var a=o.oldElementId,s={type:o.newElementType};if(!e.visualReplacements[a]){var c=t.get(a);G(s,{x:c.x,y:c.y});var u=n.createShape(s);i.addShape(u,c.parent);var l=ye('[data-element-id="'+Uo()(c.id)+'"]',e.dragGroup);l&&be(l,{display:"none"});var p=r.addDragger(u,e.dragGroup);e.visualReplacements[a]=p,i.removeShape(u)}}))}(o):function(e){var t=e.visualReplacements;b(t,(function(n,i){var r=ye('[data-element-id="'+Uo()(i)+'"]',e.dragGroup);r&&be(r,{display:"inline"}),n.remove(),t[i]&&delete t[i]}))}(o)}))}Vp.$inject=["eventBus","elementRegistry","elementFactory","canvas","previewSupport"],r()(Vp,jc);const qp={__depends__:[Qa],__init__:["postitReplacePreview"],postitReplacePreview:["type",Vp]};function Yp(){this._targets={},this._snapOrigins={},this._snapLocations=[],this._defaultSnaps={}}function Xp(e){this._snapValues={}}function Kp(e,t,n){var i=this;this._elementRegistry=e,t.on(["create.start","shape.move.start"],(function(e){i.initSnap(e)})),t.on(["create.move","create.end","shape.move.move","shape.move.end"],1250,(function(e){var t=e.context,r=t.shape,o=t.snapContext,a=t.target;if((!e.originalEvent||!Pr(e.originalEvent))&&!wa(e)&&a){var s=o.pointsForTarget(a);s.initialized||((s=i.addSnapTargetPoints(s,r,a)).initialized=!0),n.snap(e,s)}})),t.on(["create.cleanup","shape.move.cleanup"],(function(){n.hide()}))}function Zp(e){return!!e.labelTarget}function Jp(e){e.invoke(Kp,this)}function Qp(e,t){var n=this;e.on(["resize.start"],(function(e){n.initSnap(e)})),e.on(["resize.move","resize.end"],1250,(function(e){var i=e.context,r=i.shape,o=r.parent,a=i.direction,s=i.snapContext;if(!(e.originalEvent&&Pr(e.originalEvent)||wa(e))){var c=s.pointsForTarget(o);c.initialized||((c=n.addSnapTargetPoints(c,r,o,a)).initialized=!0),function(e){return"n"===e||"s"===e}(a)&&ba(e,"x",e.x),function(e){return"e"===e||"w"===e}(a)&&ba(e,"y",e.y),t.snap(e,c)}})),e.on(["resize.cleanup"],(function(){t.hide()}))}function eh(e,t){var n=Xo(e),i=qo(e),r={x:n.x,y:n.y};return-1!==t.indexOf("n")?r.y=i.top:-1!==t.indexOf("s")&&(r.y=i.bottom),-1!==t.indexOf("e")?r.x=i.right:-1!==t.indexOf("w")&&(r.x=i.left),r}function th(e){this._canvas=e,this._asyncHide=I(F(this.hide,this),1e3)}Yp.prototype.getSnapOrigin=function(e){return this._snapOrigins[e]},Yp.prototype.setSnapOrigin=function(e,t){this._snapOrigins[e]=t,-1===this._snapLocations.indexOf(e)&&this._snapLocations.push(e)},Yp.prototype.addDefaultSnap=function(e,t){var n=this._defaultSnaps[e];n||(n=this._defaultSnaps[e]=[]),n.push(t)},Yp.prototype.getSnapLocations=function(){return this._snapLocations},Yp.prototype.setSnapLocations=function(e){this._snapLocations=e},Yp.prototype.pointsForTarget=function(e){var t=e.id||e,n=this._targets[t];return n||(n=this._targets[t]=new Xp).initDefaults(this._defaultSnaps),n},Xp.prototype.add=function(e,t){var n=this._snapValues[e];n||(n=this._snapValues[e]={x:[],y:[]}),-1===n.x.indexOf(t.x)&&n.x.push(t.x),-1===n.y.indexOf(t.y)&&n.y.push(t.y)},Xp.prototype.snap=function(e,t,n,i){var r=this._snapValues[t];return r&&function(e,t,n){var i,r;for(n=void 0===n?10:n,i=0;i<t.length;i++)if(r=t[i],ma(r-e)<=n)return r}(e[n],r[n],i)},Xp.prototype.initDefaults=function(e){var t=this;b(e||{},(function(e,n){b(e,(function(e){t.add(n,e)}))}))},Kp.$inject=["elementRegistry","eventBus","snapping"],Kp.prototype.initSnap=function(e){var t,n=this._elementRegistry,i=e.context,r=i.shape,o=i.snapContext;o||(o=i.snapContext=new Yp);var a=(t=n.get(r.id)?_a(r,e):{x:e.x+_a(r).x,y:e.y+_a(r).y}).x-r.width/2,s=t.y-r.height/2,c=t.x+r.width/2,u=t.y+r.height/2;return o.setSnapOrigin("mid",{x:t.x-e.x,y:t.y-e.y}),Zp(r)||(o.setSnapOrigin("top-left",{x:a-e.x,y:s-e.y}),o.setSnapOrigin("bottom-right",{x:c-e.x,y:u-e.y})),o},Kp.prototype.addSnapTargetPoints=function(e,t,n){return b(this.getSnapTargets(t,n),(function(n){if(Zp(n))Zp(t)&&e.add("mid",_a(n));else if(n.waypoints){if(n.waypoints.length<3)return;b(n.waypoints.slice(1,-1),(function(t){e.add("mid",t)}))}else e.add("mid",_a(n))})),v(t.x)&&v(t.y)?(this._elementRegistry.get(t.id)&&e.add("mid",_a(t)),e):e},Kp.prototype.getSnapTargets=function(e,t){return Ea(t).filter((function(e){return!e.hidden}))},r()(Jp,Kp),Jp.$inject=["injector"],Jp.prototype.initSnap=function(e){return Kp.prototype.initSnap.call(this,e)},Jp.prototype.addSnapTargetPoints=function(e,t,n){return Kp.prototype.addSnapTargetPoints.call(this,e,t,n)},Jp.prototype.getSnapTargets=function(e,t){return Kp.prototype.getSnapTargets.call(this,e,t)},Qp.prototype.initSnap=function(e){var t=e.context,n=t.shape,i=t.direction,r=t.snapContext;r||(r=t.snapContext=new Yp);var o=eh(n,i);return r.setSnapOrigin("corner",{x:o.x-e.x,y:o.y-e.y}),r},Qp.prototype.addSnapTargetPoints=function(e,t,n,i){return b(this.getSnapTargets(t,n),(function(t){var n;e.add("corner",{x:(n=t).x+n.width,y:n.y+n.height}),e.add("corner",function(e){return{x:e.x,y:e.y}}(t))})),e.add("corner",eh(t,i)),e},Qp.$inject=["eventBus","snapping"],Qp.prototype.getSnapTargets=function(e,t){return Ea(t).filter((function(t){return n=e,!(t.host===n||function(e){return!!e.waypoints}(t)||function(e){return!!e.hidden}(t)||function(e){return!!e.labelTarget}(t));var n}))},th.$inject=["canvas"],th.prototype.snap=function(e,t){var n=e.context.snapContext,i=n.getSnapLocations(),r={x:wa(e,"x"),y:wa(e,"y")};b(i,(function(i){var o=n.getSnapOrigin(i),a={x:e.x+o.x,y:e.y+o.y};if(b(["x","y"],(function(e){var n;r[e]||void 0!==(n=t.snap(a,i,e,7))&&(r[e]={value:n,originValue:n-o[e]})})),r.x&&r.y)return!1})),this.showSnapLine("vertical",r.x&&r.x.value),this.showSnapLine("horizontal",r.y&&r.y.value),b(["x","y"],(function(t){var n=r[t];y(n)&&ba(e,t,n.originValue)}))},th.prototype._createLine=function(e){var t=this._canvas.getLayer("snap"),n=Ne("path");return be(n,{d:"M0,0 L0,0"}),Ce(n).add("djs-snap-line"),xe(t,n),{update:function(t){v(t)?be(n,"horizontal"===e?{d:"M-100000,"+t+" L+100000,"+t,display:""}:{d:"M "+t+",-100000 L "+t+", +100000",display:""}):be(n,{display:"none"})}}},th.prototype._createSnapLines=function(){this._snapLines={horizontal:this._createLine("horizontal"),vertical:this._createLine("vertical")}},th.prototype.showSnapLine=function(e,t){var n=this.getSnapLine(e);n&&n.update(t),this._asyncHide()},th.prototype.getSnapLine=function(e){return this._snapLines||this._createSnapLines(),this._snapLines[e]},th.prototype.hide=function(){b(this._snapLines,(function(e){e.update()}))};const nh={__depends__:[{__init__:["createMoveSnapping","resizeSnapping","snapping"],createMoveSnapping:["type",Kp],resizeSnapping:["type",Qp],snapping:["type",th]}],__init__:["createMoveSnapping"],createMoveSnapping:["type",Jp]};async function ih(e,t){return await function(e){return new Promise(((t,n)=>{try{var i=new FileReader;i.onloadend=function(){t(i.result)},i.readAsDataURL(e)}catch(e){n(e)}}))}(t)}const rh="postit:Image";function oh(e=5){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=n.length,r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*i));return t}var ah;function sh(e,t,n,i,r,o){this._eventBus=e,this._canvas=t,this._modeling=n,this._elementFactory=i,this._create=r,this._translate=o;const a=uh.bind(this);ah={URL:this._translate("URL"),"An error occured during the file upload":this._translate("An error occured during the file upload"),"Upload files here":this._translate("Upload files here"),"Upload from local is for demo purposes only. It slows down the page and increases the file size.":this._translate("Upload from local is for demo purposes only. It slows down the page and increases the file size."),uploaded:this._translate("uploaded"),file:this._translate("file"),files:this._translate("files"),selected:this._translate("selected"),"Upload again":this._translate("Upload again"),"Drag here":this._translate("Drag here")},sh.CSS="\n    .pjs-visible {\n      visibility: visible !important;\n      display: block !important;\n    }\n    \n    #pjs-drop-zone {\n      visibility: hidden;\n      position: absolute;\n      width: 100%;\n      height: 100%;\n      background-color: #555555;\n      z-index: 1;\n      opacity: 0.9;\n    }\n\n    #pjs-drop-zone-border {\n      border-radius: 10px 10px 10px 10px;\n      -moz-border-radius: 10px 10px 10px 10px;\n      -webkit-border-radius: 10px 10px 10px 10px;\n      border: 5px dashed #000000;\n      z-index: 2;\n      display: table;\n      width: 98.9%;\n      height: 100%; \n    }\n\n    .pjs-drop-zone-text {\n      vertical-align: middle;\n      width: 100%;\n      font-size: 25px;\n      font-weight: bold;\n      margin: 0 auto;\n      text-align: center;\n      display: table-cell;\n  }",sh.HTML_MARKUP='<div id="pjs-drop-zone"><div id="pjs-drop-zone-border"><div class="pjs-drop-zone-text">'+ah["Drag here"]+"</div></div></div>";var s=document.createElement("style");s.type="text/css",s.innerHTML=sh.CSS,document.getElementsByTagName("HEAD")[0].appendChild(s);const c=document.getElementById("noteCanvas"),u=this._container=he(sh.HTML_MARKUP);function l(e){e.preventDefault(),e.stopPropagation()}c.insertBefore(u,t.firstChild),ce.bind(c,"drag",(function(e){}),!1),ce.bind(c,"dragstart",(function(e){}),!1),ce.bind(c,"dragend",(function(e){}),!1),ce.bind(c,"dragover",(function(e){l(e)}),!1),ce.bind(c,"dragenter",(function(e){document.getElementById("pjs-drop-zone").classList.add("pjs-visible")}),!1),ce.bind(c,"dragleave",(function(e){document.getElementById("pjs-drop-zone").classList.remove("pjs-visible")}),!1),ce.bind(c,"drop",(async function(e){l(e),document.getElementById("pjs-drop-zone").classList.remove("pjs-visible"),async function(e){let t,n=await async function(e,t){let n,i=[],r=null;e&&(e.dataTransfer.items||e.dataTransfer.files)&&(r=e.dataTransfer.items||e.dataTransfer.files);try{if(r)for(var o=0;o<r.length;o++)if(e&&e.dataTransfer.items){if("file"===r[o].kind){var a=r[o].getAsFile();i.push(a)}}else i.push(r[o])}catch(e){n=e,i=null}const s=i,c=[];for(var u=0;u<i.length;){s[u].filename=s[u].name;const e=await ih(0,i[u]);c.push(e),u+=1}return{file_results:s,image_results:c,errors:n}}(e),i=n.image_results,r=n.file_results;if(!n.errors){let n=r.length?r.length:null;t=n,!1===isNaN(n)&&(t+=" "+(+(1==r.length)?ah.file:ah.files)+" "+ah.uploaded);let o=r.length;for(;o--;)a(e,ch({source:i[o],file_source:r[o]}));console.log(t)}}(e)}),!1)}const ch=function(e){return{objId:oh(),objType:rh,objTitle:"",objDescription:"",objStarred:!1,objHidden:!1,objUnkeyed:!1,objUnkeyedOriginal:!1,objSrcUnkeyed:"",objCreationDate:"",source:"",objPositionX:null,objPositionY:null,...e}},uh=async function(e,t){t=t||[];const n=this._elementFactory.createShape({type:rh,...t}),i={x:e.x+100*Math.random(),y:e.y+100*Math.random()},r=this._canvas.getRootElement();var o=this._modeling.createElements([n],i,r,G({},{createElementsBehavior:!1},{attach:!1})),a=new URLSearchParams(window.location.search).get("s_key");if(null===a)shepherdAlert("Script Required","You must open a script before you can take notes!");else{let e=t.file_source;var s=new ActiveStorage.DirectUpload(e,direct_upload_url);await s.create(function(e,t,n){null!==t?t.search("Status: 403")>=0?shepherdAlert("Subscription Needed!",'You must have an active subscription to save images! You can sign up <button data-toggle="modal" href="#subscriptionModal" onclick="Shepherd.activeTour.complete(); $(\'#ideatorNotesModal\').modal(\'hide\');" data-description="Sign up for image uploading and other great featuers!" data-reset="$(\'#ideatorNotesModal\').modal(\'show\');" style="color: blue; margin-left: -6px; text-decoration: underline;">here!</button>'):shepherdAlert("Upload Error",t):n.key?$.ajax({type:"GET",beforeSend:function(e){e.setRequestHeader("X-CSRF-Token",$('meta[name="csrf-token"]').attr("content"))},url:"/scripts/"+a+"/image_url/"+n.key,responseType:"application/json",dataType:"json",success:function(e,t){for(let n in e)this._modeling.updateProperties(e[n],{source:t.url,key:t.key})}.bind(this,e)}):(shepherdAlert("Unknown Error","We've logged this issue.  If it continues, please reach out to support."),Bugsnag.notify("Unknown upload response: "+n.toString()))}.bind(this,o))}return{id:n.id,x:i.x,y:i.y,shape:n,width:n.width,height:n.height}};sh.prototype.$inject=["eventBus","canvas","modeling","elementFactory","create","translate"];const lh={__init__:["dragDropImages"],dragDropImages:["type",sh]};function ph(e){wi.call(this,e)}r()(ph,wi),ph.Viewer=Mr,ph.NavigatedViewer=io,ph.prototype.createDiagram=function(){return this.importXML('<?xml version="1.0" encoding="UTF-8"?>\n  <postit:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" id="sample-diagram">\n    <postit:PostitBoard id="Board_1">\n    </postit:PostitBoard>\n    <postitDi:PostitRootBoard id="RootBoard_1">\n      <postitDi:PostitPlane id="PositPlane_1" boardElement="Board_1">\n      </postitDi:PostitPlane>\n    </postitDi:PostitRootBoard>\n  </postit:definitions>')},ph.prototype._interactionModules=[Hr,Kr,ho,no],ph.prototype._modelingModules=[xo,Mo,Ca,Da,Ua,Va,Fs,Bs,ls,qs,Js,ec,cc,Pc,wp,jp,Wp,qp,Sc,nh,lh],ph.prototype._modules=[].concat(Mr.prototype._modules,ph.prototype._interactionModules,ph.prototype._modelingModules)},568:(e,t,n)=>{"use strict";var i=n(803);e.exports=i},269:function(e,t,n){var i;i=void 0!==n.g?n.g:this,e.exports=function(e){if(e.CSS&&e.CSS.escape)return e.CSS.escape;var t=function(e){if(0==arguments.length)throw new TypeError("`CSS.escape` requires an argument.");for(var t,n=String(e),i=n.length,r=-1,o="",a=n.charCodeAt(0);++r<i;)0!=(t=n.charCodeAt(r))?o+=t>=1&&t<=31||127==t||0==r&&t>=48&&t<=57||1==r&&t>=48&&t<=57&&45==a?"\\"+t.toString(16)+" ":0==r&&1==i&&45==t||!(t>=128||45==t||95==t||t>=48&&t<=57||t>=65&&t<=90||t>=97&&t<=122)?"\\"+n.charAt(r):n.charAt(r):o+="�";return o};return e.CSS||(e.CSS={}),e.CSS.escape=t,t}(i)},840:(e,t,n)=>{var i;!function(r,o,a,s){"use strict";var c,u=["","webkit","Moz","MS","ms","o"],l=o.createElement("div"),p=Math.round,h=Math.abs,d=Date.now;function f(e,t,n){return setTimeout(w(e,n),t)}function y(e,t,n){return!!Array.isArray(e)&&(v(e,n[t],n),!0)}function v(e,t,n){var i;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==s)for(i=0;i<e.length;)t.call(n,e[i],i,e),i++;else for(i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e)}function g(e,t,n){var i="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=r.console&&(r.console.warn||r.console.log);return o&&o.call(r.console,i,n),e.apply(this,arguments)}}c="function"!=typeof Object.assign?function(e){if(e===s||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(i!==s&&null!==i)for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r])}return t}:Object.assign;var m=g((function(e,t,n){for(var i=Object.keys(t),r=0;r<i.length;)(!n||n&&e[i[r]]===s)&&(e[i[r]]=t[i[r]]),r++;return e}),"extend","Use `assign`."),x=g((function(e,t){return m(e,t,!0)}),"merge","Use `assign`.");function _(e,t,n){var i,r=t.prototype;(i=e.prototype=Object.create(r)).constructor=e,i._super=r,n&&c(i,n)}function w(e,t){return function(){return e.apply(t,arguments)}}function b(e,t){return"function"==typeof e?e.apply(t&&t[0]||s,t):e}function E(e,t){return e===s?t:e}function S(e,t,n){v(M(t),(function(t){e.addEventListener(t,n,!1)}))}function T(e,t,n){v(M(t),(function(t){e.removeEventListener(t,n,!1)}))}function k(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function C(e,t){return e.indexOf(t)>-1}function M(e){return e.trim().split(/\s+/g)}function P(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var i=0;i<e.length;){if(n&&e[i][n]==t||!n&&e[i]===t)return i;i++}return-1}function j(e){return Array.prototype.slice.call(e,0)}function B(e,t,n){for(var i=[],r=[],o=0;o<e.length;){var a=t?e[o][t]:e[o];P(r,a)<0&&i.push(e[o]),r[o]=a,o++}return n&&(i=t?i.sort((function(e,n){return e[t]>n[t]})):i.sort()),i}function A(e,t){for(var n,i,r=t[0].toUpperCase()+t.slice(1),o=0;o<u.length;){if((i=(n=u[o])?n+r:t)in e)return i;o++}return s}var R=1;function O(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||r}var N="ontouchstart"in r,L=A(r,"PointerEvent")!==s,z=N&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),D="touch",I="mouse",$=["x","y"],F=["clientX","clientY"];function H(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){b(e.options.enable,[e])&&n.handler(t)},this.init()}function G(e,t,n){var i=n.pointers.length,r=n.changedPointers.length,o=1&t&&i-r==0,a=12&t&&i-r==0;n.isFirst=!!o,n.isFinal=!!a,o&&(e.session={}),n.eventType=t,function(e,t){var n=e.session,i=t.pointers,r=i.length;n.firstInput||(n.firstInput=U(t)),r>1&&!n.firstMultiple?n.firstMultiple=U(t):1===r&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,c=a?a.center:o.center,u=t.center=W(i);t.timeStamp=d(),t.deltaTime=t.timeStamp-o.timeStamp,t.angle=X(c,u),t.distance=Y(c,u),function(e,t){var n=t.center,i=e.offsetDelta||{},r=e.prevDelta||{},o=e.prevInput||{};1!==t.eventType&&4!==o.eventType||(r=e.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=e.offsetDelta={x:n.x,y:n.y}),t.deltaX=r.x+(n.x-i.x),t.deltaY=r.y+(n.y-i.y)}(n,t),t.offsetDirection=q(t.deltaX,t.deltaY);var l,p,f=V(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=f.x,t.overallVelocityY=f.y,t.overallVelocity=h(f.x)>h(f.y)?f.x:f.y,t.scale=a?(l=a.pointers,Y((p=i)[0],p[1],F)/Y(l[0],l[1],F)):1,t.rotation=a?function(e,t){return X(t[1],t[0],F)+X(e[1],e[0],F)}(a.pointers,i):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,function(e,t){var n,i,r,o,a=e.lastInterval||t,c=t.timeStamp-a.timeStamp;if(8!=t.eventType&&(c>25||a.velocity===s)){var u=t.deltaX-a.deltaX,l=t.deltaY-a.deltaY,p=V(c,u,l);i=p.x,r=p.y,n=h(p.x)>h(p.y)?p.x:p.y,o=q(u,l),e.lastInterval=t}else n=a.velocity,i=a.velocityX,r=a.velocityY,o=a.direction;t.velocity=n,t.velocityX=i,t.velocityY=r,t.direction=o}(n,t);var y=e.element;k(t.srcEvent.target,y)&&(y=t.srcEvent.target),t.target=y}(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function U(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:p(e.pointers[n].clientX),clientY:p(e.pointers[n].clientY)},n++;return{timeStamp:d(),pointers:t,center:W(t),deltaX:e.deltaX,deltaY:e.deltaY}}function W(e){var t=e.length;if(1===t)return{x:p(e[0].clientX),y:p(e[0].clientY)};for(var n=0,i=0,r=0;r<t;)n+=e[r].clientX,i+=e[r].clientY,r++;return{x:p(n/t),y:p(i/t)}}function V(e,t,n){return{x:t/e||0,y:n/e||0}}function q(e,t){return e===t?1:h(e)>=h(t)?e<0?2:4:t<0?8:16}function Y(e,t,n){n||(n=$);var i=t[n[0]]-e[n[0]],r=t[n[1]]-e[n[1]];return Math.sqrt(i*i+r*r)}function X(e,t,n){n||(n=$);var i=t[n[0]]-e[n[0]],r=t[n[1]]-e[n[1]];return 180*Math.atan2(r,i)/Math.PI}H.prototype={handler:function(){},init:function(){this.evEl&&S(this.element,this.evEl,this.domHandler),this.evTarget&&S(this.target,this.evTarget,this.domHandler),this.evWin&&S(O(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&T(this.element,this.evEl,this.domHandler),this.evTarget&&T(this.target,this.evTarget,this.domHandler),this.evWin&&T(O(this.element),this.evWin,this.domHandler)}};var K={mousedown:1,mousemove:2,mouseup:4},Z="mousedown",J="mousemove mouseup";function Q(){this.evEl=Z,this.evWin=J,this.pressed=!1,H.apply(this,arguments)}_(Q,H,{handler:function(e){var t=K[e.type];1&t&&0===e.button&&(this.pressed=!0),2&t&&1!==e.which&&(t=4),this.pressed&&(4&t&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:I,srcEvent:e}))}});var ee={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},te={2:D,3:"pen",4:I,5:"kinect"},ne="pointerdown",ie="pointermove pointerup pointercancel";function re(){this.evEl=ne,this.evWin=ie,H.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}r.MSPointerEvent&&!r.PointerEvent&&(ne="MSPointerDown",ie="MSPointerMove MSPointerUp MSPointerCancel"),_(re,H,{handler:function(e){var t=this.store,n=!1,i=e.type.toLowerCase().replace("ms",""),r=ee[i],o=te[e.pointerType]||e.pointerType,a=o==D,s=P(t,e.pointerId,"pointerId");1&r&&(0===e.button||a)?s<0&&(t.push(e),s=t.length-1):12&r&&(n=!0),s<0||(t[s]=e,this.callback(this.manager,r,{pointers:t,changedPointers:[e],pointerType:o,srcEvent:e}),n&&t.splice(s,1))}});var oe={touchstart:1,touchmove:2,touchend:4,touchcancel:8},ae="touchstart",se="touchstart touchmove touchend touchcancel";function ce(){this.evTarget=ae,this.evWin=se,this.started=!1,H.apply(this,arguments)}function ue(e,t){var n=j(e.touches),i=j(e.changedTouches);return 12&t&&(n=B(n.concat(i),"identifier",!0)),[n,i]}_(ce,H,{handler:function(e){var t=oe[e.type];if(1===t&&(this.started=!0),this.started){var n=ue.call(this,e,t);12&t&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:D,srcEvent:e})}}});var le={touchstart:1,touchmove:2,touchend:4,touchcancel:8},pe="touchstart touchmove touchend touchcancel";function he(){this.evTarget=pe,this.targetIds={},H.apply(this,arguments)}function de(e,t){var n=j(e.touches),i=this.targetIds;if(3&t&&1===n.length)return i[n[0].identifier]=!0,[n,n];var r,o,a=j(e.changedTouches),s=[],c=this.target;if(o=n.filter((function(e){return k(e.target,c)})),1===t)for(r=0;r<o.length;)i[o[r].identifier]=!0,r++;for(r=0;r<a.length;)i[a[r].identifier]&&s.push(a[r]),12&t&&delete i[a[r].identifier],r++;return s.length?[B(o.concat(s),"identifier",!0),s]:void 0}function fe(){H.apply(this,arguments);var e=w(this.handler,this);this.touch=new he(this.manager,e),this.mouse=new Q(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function ye(e,t){1&e?(this.primaryTouch=t.changedPointers[0].identifier,ve.call(this,t)):12&e&&ve.call(this,t)}function ve(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var i=this.lastTouches;setTimeout((function(){var e=i.indexOf(n);e>-1&&i.splice(e,1)}),2500)}}function ge(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var r=this.lastTouches[i],o=Math.abs(t-r.x),a=Math.abs(n-r.y);if(o<=25&&a<=25)return!0}return!1}_(he,H,{handler:function(e){var t=le[e.type],n=de.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:D,srcEvent:e})}}),_(fe,H,{handler:function(e,t,n){var i=n.pointerType==D,r=n.pointerType==I;if(!(r&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(i)ye.call(this,t,n);else if(r&&ge.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var me=A(l.style,"touchAction"),xe=me!==s,_e="compute",we="auto",be="manipulation",Ee="none",Se="pan-x",Te="pan-y",ke=function(){if(!xe)return!1;var e={},t=r.CSS&&r.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){e[n]=!t||r.CSS.supports("touch-action",n)})),e}();function Ce(e,t){this.manager=e,this.set(t)}Ce.prototype={set:function(e){e==_e&&(e=this.compute()),xe&&this.manager.element.style&&ke[e]&&(this.manager.element.style[me]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return v(this.manager.recognizers,(function(t){b(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))})),function(e){if(C(e,Ee))return Ee;var t=C(e,Se),n=C(e,Te);return t&&n?Ee:t||n?t?Se:Te:C(e,be)?be:we}(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var i=this.actions,r=C(i,Ee)&&!ke.none,o=C(i,Te)&&!ke["pan-y"],a=C(i,Se)&&!ke["pan-x"];if(r){var s=1===e.pointers.length,c=e.distance<2,u=e.deltaTime<250;if(s&&c&&u)return}if(!a||!o)return r||o&&6&n||a&&24&n?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var Me=32;function Pe(e){this.options=c({},this.defaults,e||{}),this.id=R++,this.manager=null,this.options.enable=E(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function je(e){return 16&e?"cancel":8&e?"end":4&e?"move":2&e?"start":""}function Be(e){return 16==e?"down":8==e?"up":2==e?"left":4==e?"right":""}function Ae(e,t){var n=t.manager;return n?n.get(e):e}function Re(){Pe.apply(this,arguments)}function Oe(){Re.apply(this,arguments),this.pX=null,this.pY=null}function Ne(){Re.apply(this,arguments)}function Le(){Pe.apply(this,arguments),this._timer=null,this._input=null}function ze(){Re.apply(this,arguments)}function De(){Re.apply(this,arguments)}function Ie(){Pe.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function $e(e,t){return(t=t||{}).recognizers=E(t.recognizers,$e.defaults.preset),new Fe(e,t)}function Fe(e,t){this.options=c({},$e.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=new(this.options.inputClass||(L?re:z?he:N?fe:Q))(this,G),this.touchAction=new Ce(this,this.options.touchAction),He(this,!0),v(this.options.recognizers,(function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])}),this)}function He(e,t){var n,i=e.element;i.style&&(v(e.options.cssProps,(function(r,o){n=A(i.style,o),t?(e.oldCssProps[n]=i.style[n],i.style[n]=r):i.style[n]=e.oldCssProps[n]||""})),t||(e.oldCssProps={}))}Pe.prototype={defaults:{},set:function(e){return c(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(y(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=Ae(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return y(e,"dropRecognizeWith",this)||(e=Ae(e,this),delete this.simultaneous[e.id]),this},requireFailure:function(e){if(y(e,"requireFailure",this))return this;var t=this.requireFail;return-1===P(t,e=Ae(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(y(e,"dropRequireFailure",this))return this;e=Ae(e,this);var t=P(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,n=this.state;function i(n){t.manager.emit(n,e)}n<8&&i(t.options.event+je(n)),i(t.options.event),e.additionalEvent&&i(e.additionalEvent),n>=8&&i(t.options.event+je(n))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=Me},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(33&this.requireFail[e].state))return!1;e++}return!0},recognize:function(e){var t=c({},e);if(!b(this.options.enable,[this,t]))return this.reset(),void(this.state=Me);56&this.state&&(this.state=1),this.state=this.process(t),30&this.state&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},_(Re,Pe,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,i=6&t,r=this.attrTest(e);return i&&(8&n||!r)?16|t:i||r?4&n?8|t:2&t?4|t:2:Me}}),_(Oe,Re,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var e=this.options.direction,t=[];return 6&e&&t.push(Te),24&e&&t.push(Se),t},directionTest:function(e){var t=this.options,n=!0,i=e.distance,r=e.direction,o=e.deltaX,a=e.deltaY;return r&t.direction||(6&t.direction?(r=0===o?1:o<0?2:4,n=o!=this.pX,i=Math.abs(e.deltaX)):(r=0===a?1:a<0?8:16,n=a!=this.pY,i=Math.abs(e.deltaY))),e.direction=r,n&&i>t.threshold&&r&t.direction},attrTest:function(e){return Re.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=Be(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),_(Ne,Re,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Ee]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),_(Le,Pe,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[we]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,i=e.distance<t.threshold,r=e.deltaTime>t.time;if(this._input=e,!i||!n||12&e.eventType&&!r)this.reset();else if(1&e.eventType)this.reset(),this._timer=f((function(){this.state=8,this.tryEmit()}),t.time,this);else if(4&e.eventType)return 8;return Me},reset:function(){clearTimeout(this._timer)},emit:function(e){8===this.state&&(e&&4&e.eventType?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=d(),this.manager.emit(this.options.event,this._input)))}}),_(ze,Re,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Ee]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)}}),_(De,Re,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return Oe.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return 30&n?t=e.overallVelocity:6&n?t=e.overallVelocityX:24&n&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&h(t)>this.options.velocity&&4&e.eventType},emit:function(e){var t=Be(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),_(Ie,Pe,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[be]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,i=e.distance<t.threshold,r=e.deltaTime<t.time;if(this.reset(),1&e.eventType&&0===this.count)return this.failTimeout();if(i&&r&&n){if(4!=e.eventType)return this.failTimeout();var o=!this.pTime||e.timeStamp-this.pTime<t.interval,a=!this.pCenter||Y(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,a&&o?this.count+=1:this.count=1,this._input=e,0==this.count%t.taps)return this.hasRequireFailures()?(this._timer=f((function(){this.state=8,this.tryEmit()}),t.interval,this),2):8}return Me},failTimeout:function(){return this._timer=f((function(){this.state=Me}),this.options.interval,this),Me},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),$e.VERSION="2.0.7",$e.defaults={domEvents:!1,touchAction:_e,enable:!0,inputTarget:null,inputClass:null,preset:[[ze,{enable:!1}],[Ne,{enable:!1},["rotate"]],[De,{direction:6}],[Oe,{direction:6},["swipe"]],[Ie],[Ie,{event:"doubletap",taps:2},["tap"]],[Le]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Fe.prototype={set:function(e){return c(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){var n;this.touchAction.preventDefaults(e);var i=this.recognizers,r=t.curRecognizer;(!r||r&&8&r.state)&&(r=t.curRecognizer=null);for(var o=0;o<i.length;)n=i[o],2===t.stopped||r&&n!=r&&!n.canRecognizeWith(r)?n.reset():n.recognize(e),!r&&14&n.state&&(r=t.curRecognizer=n),o++}},get:function(e){if(e instanceof Pe)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(y(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(y(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=P(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(e!==s&&t!==s){var n=this.handlers;return v(M(e),(function(e){n[e]=n[e]||[],n[e].push(t)})),this}},off:function(e,t){if(e!==s){var n=this.handlers;return v(M(e),(function(e){t?n[e]&&n[e].splice(P(n[e],t),1):delete n[e]})),this}},emit:function(e,t){this.options.domEvents&&function(e,t){var n=o.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](t),i++}},destroy:function(){this.element&&He(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},c($e,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:Me,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:Fe,Input:H,TouchAction:Ce,TouchInput:he,MouseInput:Q,PointerEventInput:re,TouchMouseInput:fe,SingleTouchInput:ce,Recognizer:Pe,AttrRecognizer:Re,Tap:Ie,Pan:Oe,Swipe:De,Pinch:Ne,Rotate:ze,Press:Le,on:S,off:T,each:v,merge:x,extend:m,assign:c,inherit:_,bindFn:w,prefixed:A}),(void 0!==r?r:"undefined"!=typeof self?self:{}).Hammer=$e,(i=function(){return $e}.call(t,n,t,e))===s||(e.exports=i)}(window,document)},717:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},235:(e,t,n)=>{e.exports=n(302),e.exports.Collection=n(48)},48:e=>{"use strict";e.exports.extend=function(e,t,n,i){var r=n.inverse;return Object.defineProperty(e,"remove",{value:function(e){var n=this.indexOf(e);return-1!==n&&(this.splice(n,1),t.unset(e,r,i)),e}}),Object.defineProperty(e,"contains",{value:function(e){return-1!==this.indexOf(e)}}),Object.defineProperty(e,"add",{value:function(e,n){var o=this.indexOf(e);if(void 0===n){if(-1!==o)return;n=this.length}-1!==o&&this.splice(o,1),this.splice(n,0,e),-1===o&&t.set(e,r,i)}}),Object.defineProperty(e,"__refs_collection",{value:!0}),e},e.exports.isExtended=function(e){return!0===e.__refs_collection}},302:(e,t,n)=>{"use strict";var i=n(48);function r(e,t,n){var r=i.extend(n[t.name]||[],e,t,n);Object.defineProperty(n,t.name,{enumerable:t.enumerable,value:r}),r.length&&r.forEach((function(i){e.set(i,t.inverse,n)}))}function o(e,t){if(!(this instanceof o))return new o(e,t);e.inverse=t,t.inverse=e,this.props={},this.props[e.name]=e,this.props[t.name]=t}o.prototype.bind=function(e,t){if("string"==typeof t){if(!this.props[t])throw new Error("no property <"+t+"> in ref");t=this.props[t]}t.collection?r(this,t,e):function(e,t,n){var i=t.inverse,r=n[t.name];Object.defineProperty(n,t.name,{configurable:t.configurable,enumerable:t.enumerable,get:function(){return r},set:function(t){if(t!==r){var o=r;r=null,o&&e.unset(o,i,n),r=t,e.set(r,i,n)}}})}(this,t,e)},o.prototype.ensureRefsCollection=function(e,t){var n=e[t.name];return i.isExtended(n)||r(this,t,e),n},o.prototype.ensureBound=function(e,t){(function(e,t){return Object.prototype.hasOwnProperty.call(e,t.name||t)})(e,t)||this.bind(e,t)},o.prototype.unset=function(e,t,n){e&&(this.ensureBound(e,t),t.collection?this.ensureRefsCollection(e,t).remove(n):e[t.name]=void 0)},o.prototype.set=function(e,t,n){e&&(this.ensureBound(e,t),t.collection?this.ensureRefsCollection(e,t).add(n):e[t.name]=n)},e.exports=o},720:e=>{"use strict";var t=/,?([a-z]),?/gi,n=parseFloat,i=Math,r=i.PI,o=i.min,a=i.max,s=i.pow,c=i.abs,u=/([a-z])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?[\s]*,?[\s]*)+)/gi,l=/(-?\d*\.?\d*(?:e[-+]?\d+)?)[\s]*,?[\s]*/gi,p=Array.isArray||function(e){return e instanceof Array};function h(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function d(e){if("function"==typeof e||Object(e)!==e)return e;var t=new e.constructor;for(var n in e)h(e,n)&&(t[n]=d(e[n]));return t}function f(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return e.push(e.splice(n,1)[0])}function y(e){var t=y.ps=y.ps||{};return t[e]?t[e].sleep=100:t[e]={sleep:100},setTimeout((function(){for(var n in t)h(t,n)&&n!=e&&(t[n].sleep--,!t[n].sleep&&delete t[n])})),t[e]}function v(e,t,n,i){return 1===arguments.length&&(t=e.y,n=e.width,i=e.height,e=e.x),{x:e,y:t,width:n,height:i,x2:e+n,y2:t+i}}function g(){return this.join(",").replace(t,"$1")}function m(e){var t=d(e);return t.toString=g,t}function x(e,t,n,i,r,o,a,c,u){var l=1-u,p=s(l,3),h=s(l,2),d=u*u*u,f=p*t+3*h*u*i+3*l*u*u*o+d*c;return{x:T(p*e+3*h*u*n+3*l*u*u*r+d*a),y:T(f)}}function _(e){var t=A.apply(null,e);return v(t.x0,t.y0,t.x1-t.x0,t.y1-t.y0)}function w(e,t,n){return t>=e.x&&t<=e.x+e.width&&n>=e.y&&n<=e.y+e.height}function b(e,t,n,i,r){return e*(e*(-3*t+9*n-9*i+3*r)+6*t-12*n+6*i)-3*t+3*n}function E(e,t,n,r,o,a,s,c,u){null==u&&(u=1);for(var l=(u=u>1?1:u<0?0:u)/2,p=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],h=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],d=0,f=0;f<12;f++){var y=l*p[f]+l,v=b(y,e,n,o,s),g=b(y,t,r,a,c),m=v*v+g*g;d+=h[f]*i.sqrt(m)}return l*d}function S(e,t,n,i,r,s,c,u){if(!(a(e,n)<o(r,c)||o(e,n)>a(r,c)||a(t,i)<o(s,u)||o(t,i)>a(s,u))){var l=(e*i-t*n)*(s-u)-(t-i)*(r*u-s*c),p=(e-n)*(s-u)-(t-i)*(r-c);if(p){var h=T(((e*i-t*n)*(r-c)-(e-n)*(r*u-s*c))/p),d=T(l/p),f=+h.toFixed(2),y=+d.toFixed(2);if(!(f<+o(e,n).toFixed(2)||f>+a(e,n).toFixed(2)||f<+o(r,c).toFixed(2)||f>+a(r,c).toFixed(2)||y<+o(t,i).toFixed(2)||y>+a(t,i).toFixed(2)||y<+o(s,u).toFixed(2)||y>+a(s,u).toFixed(2)))return{x:h,y:d}}}}function T(e){return Math.round(1e11*e)/1e11}function k(e,t,n){if(i=_(e),r=_(t),i=v(i),!(w(r=v(r),i.x,i.y)||w(r,i.x2,i.y)||w(r,i.x,i.y2)||w(r,i.x2,i.y2)||w(i,r.x,r.y)||w(i,r.x2,r.y)||w(i,r.x,r.y2)||w(i,r.x2,r.y2)||(i.x<r.x2&&i.x>r.x||r.x<i.x2&&r.x>i.x)&&(i.y<r.y2&&i.y>r.y||r.y<i.y2&&r.y>i.y)))return n?0:[];for(var i,r,o=E.apply(0,e),a=E.apply(0,t),s=M(e)?1:~~(o/5)||1,u=M(t)?1:~~(a/5)||1,l=[],p=[],h={},d=n?0:[],f=0;f<s+1;f++){var y=x.apply(0,e.concat(f/s));l.push({x:y.x,y:y.y,t:f/s})}for(f=0;f<u+1;f++)y=x.apply(0,t.concat(f/u)),p.push({x:y.x,y:y.y,t:f/u});for(f=0;f<s;f++)for(var g=0;g<u;g++){var m,b=l[f],T=l[f+1],k=p[g],C=p[g+1],P=c(T.x-b.x)<.01?"y":"x",j=c(C.x-k.x)<.01?"y":"x",B=S(b.x,b.y,T.x,T.y,k.x,k.y,C.x,C.y);if(B){if(h[m=B.x.toFixed(9)+"#"+B.y.toFixed(9)])continue;h[m]=!0;var A=b.t+c((B[P]-b[P])/(T[P]-b[P]))*(T.t-b.t),R=k.t+c((B[j]-k[j])/(C[j]-k[j]))*(C.t-k.t);A>=0&&A<=1&&R>=0&&R<=1&&(n?d++:d.push({x:B.x,y:B.y,t1:A,t2:R}))}}return d}function C(e){var t=y(e);if(t.abs)return m(t.abs);if(p(e)&&p(e&&e[0])||(e=function(e){if(!e)return null;var t=y(e);if(t.arr)return d(t.arr);var n={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},i=[];return p(e)&&p(e[0])&&(i=d(e)),i.length||String(e).replace(u,(function(e,t,r){var o=[],a=t.toLowerCase();for(r.replace(l,(function(e,t){t&&o.push(+t)})),"m"==a&&o.length>2&&(i.push([t].concat(o.splice(0,2))),a="l",t="m"==t?"l":"L");o.length>=n[a]&&(i.push([t].concat(o.splice(0,n[a]))),n[a]););})),i.toString=y.toString,t.arr=d(i),i}(e)),!e||!e.length)return[["M",0,0]];var n,i=[],r=0,o=0,a=0,s=0,c=0;"M"==e[0][0]&&(a=r=+e[0][1],s=o=+e[0][2],c++,i[0]=["M",r,o]);for(var h,f,v=c,x=e.length;v<x;v++){if(i.push(h=[]),(n=(f=e[v])[0])!=n.toUpperCase())switch(h[0]=n.toUpperCase(),h[0]){case"A":h[1]=f[1],h[2]=f[2],h[3]=f[3],h[4]=f[4],h[5]=f[5],h[6]=+f[6]+r,h[7]=+f[7]+o;break;case"V":h[1]=+f[1]+o;break;case"H":h[1]=+f[1]+r;break;case"M":a=+f[1]+r,s=+f[2]+o;default:for(var _=1,w=f.length;_<w;_++)h[_]=+f[_]+(_%2?r:o)}else for(var b=0,E=f.length;b<E;b++)h[b]=f[b];switch(n=n.toUpperCase(),h[0]){case"Z":r=+a,o=+s;break;case"H":r=h[1];break;case"V":o=h[1];break;case"M":a=h[h.length-2],s=h[h.length-1];default:r=h[h.length-2],o=h[h.length-1]}}return i.toString=g,t.abs=m(i),i}function M(e){return e[0]===e[2]&&e[1]===e[3]&&e[4]===e[6]&&e[5]===e[7]}function P(e,t,n,i){return[e,t,n,i,n,i]}function j(e,t,n,i,r,o){var a=1/3,s=2/3;return[a*e+s*n,a*t+s*i,a*r+s*n,a*o+s*i,r,o]}function B(e,t,n,o,a,s,u,l,p,d){var y,v,g=120*r/180,m=r/180*(+a||0),x=[],_=(v=function(e,t,n){return{x:e*i.cos(n)-t*i.sin(n),y:e*i.sin(n)+t*i.cos(n)}},function e(){var t=Array.prototype.slice.call(arguments,0),n=t.join("␀"),i=e.cache=e.cache||{},r=e.count=e.count||[];return h(i,n)?(f(r,n),i[n]):(r.length>=1e3&&delete i[r.shift()],r.push(n),i[n]=v.apply(0,t),i[n])});if(d)P=d[0],j=d[1],C=d[2],M=d[3];else{e=(y=_(e,t,-m)).x,t=y.y;var w=(e-(l=(y=_(l,p,-m)).x))/2,b=(t-(p=y.y))/2,E=w*w/(n*n)+b*b/(o*o);E>1&&(n*=E=i.sqrt(E),o*=E);var S=n*n,T=o*o,k=(s==u?-1:1)*i.sqrt(c((S*T-S*b*b-T*w*w)/(S*b*b+T*w*w))),C=k*n*b/o+(e+l)/2,M=k*-o*w/n+(t+p)/2,P=i.asin(((t-M)/o).toFixed(9)),j=i.asin(((p-M)/o).toFixed(9));(P=e<C?r-P:P)<0&&(P=2*r+P),(j=l<C?r-j:j)<0&&(j=2*r+j),u&&P>j&&(P-=2*r),!u&&j>P&&(j-=2*r)}var A=j-P;if(c(A)>g){var R=j,O=l,N=p;j=P+g*(u&&j>P?1:-1),x=B(l=C+n*i.cos(j),p=M+o*i.sin(j),n,o,a,0,u,O,N,[j,R,C,M])}A=j-P;var L=i.cos(P),z=i.sin(P),D=i.cos(j),I=i.sin(j),$=i.tan(A/4),F=4/3*n*$,H=4/3*o*$,G=[e,t],U=[e+F*z,t-H*L],W=[l+F*I,p-H*D],V=[l,p];if(U[0]=2*G[0]-U[0],U[1]=2*G[1]-U[1],d)return[U,W,V].concat(x);for(var q=[],Y=0,X=(x=[U,W,V].concat(x).join().split(",")).length;Y<X;Y++)q[Y]=Y%2?_(x[Y-1],x[Y],m).y:_(x[Y],x[Y+1],m).x;return q}function A(e,t,n,r,s,u,l,p){for(var h,d,f,y,v,g,m,x,_=[],w=[[],[]],b=0;b<2;++b)if(0==b?(d=6*e-12*n+6*s,h=-3*e+9*n-9*s+3*l,f=3*n-3*e):(d=6*t-12*r+6*u,h=-3*t+9*r-9*u+3*p,f=3*r-3*t),c(h)<1e-12){if(c(d)<1e-12)continue;0<(y=-f/d)&&y<1&&_.push(y)}else m=d*d-4*f*h,x=i.sqrt(m),m<0||(0<(v=(-d+x)/(2*h))&&v<1&&_.push(v),0<(g=(-d-x)/(2*h))&&g<1&&_.push(g));for(var E,S=_.length,T=S;S--;)E=1-(y=_[S]),w[0][S]=E*E*E*e+3*E*E*y*n+3*E*y*y*s+y*y*y*l,w[1][S]=E*E*E*t+3*E*E*y*r+3*E*y*y*u+y*y*y*p;return w[0][T]=e,w[1][T]=t,w[0][T+1]=l,w[1][T+1]=p,w[0].length=w[1].length=T+2,{x0:o.apply(0,w[0]),y0:o.apply(0,w[1]),x1:a.apply(0,w[0]),y1:a.apply(0,w[1])}}function R(e){var t=y(e);if(t.curve)return m(t.curve);for(var i=C(e),r={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o=function(e,t,n){var i,r;if(!e)return["C",t.x,t.y,t.x,t.y,t.x,t.y];switch(!(e[0]in{T:1,Q:1})&&(t.qx=t.qy=null),e[0]){case"M":t.X=e[1],t.Y=e[2];break;case"A":e=["C"].concat(B.apply(0,[t.x,t.y].concat(e.slice(1))));break;case"S":"C"==n||"S"==n?(i=2*t.x-t.bx,r=2*t.y-t.by):(i=t.x,r=t.y),e=["C",i,r].concat(e.slice(1));break;case"T":"Q"==n||"T"==n?(t.qx=2*t.x-t.qx,t.qy=2*t.y-t.qy):(t.qx=t.x,t.qy=t.y),e=["C"].concat(j(t.x,t.y,t.qx,t.qy,e[1],e[2]));break;case"Q":t.qx=e[1],t.qy=e[2],e=["C"].concat(j(t.x,t.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"].concat(P(t.x,t.y,e[1],e[2]));break;case"H":e=["C"].concat(P(t.x,t.y,e[1],t.y));break;case"V":e=["C"].concat(P(t.x,t.y,t.x,e[1]));break;case"Z":e=["C"].concat(P(t.x,t.y,t.X,t.Y))}return e},a=function(e,t){if(e[t].length>7){e[t].shift();for(var n=e[t];n.length;)s[t]="A",e.splice(t++,0,["C"].concat(n.splice(0,6)));e.splice(t,1),p=i.length}},s=[],c="",u="",l=0,p=i.length;l<p;l++){i[l]&&(c=i[l][0]),"C"!=c&&(s[l]=c,l&&(u=s[l-1])),i[l]=o(i[l],r,u),"A"!=s[l]&&"C"==c&&(s[l]="C"),a(i,l);var h=i[l],d=h.length;r.x=h[d-2],r.y=h[d-1],r.bx=n(h[d-4])||r.x,r.by=n(h[d-3])||r.y}return t.curve=m(i),i}e.exports=function(e,t,n){e=R(e),t=R(t);for(var i,r,o,a,s,c,u,l,p,h,d=n?0:[],f=0,y=e.length;f<y;f++){var v=e[f];if("M"==v[0])i=s=v[1],r=c=v[2];else{"C"==v[0]?(p=[i,r].concat(v.slice(1)),i=p[6],r=p[7]):(p=[i,r,i,r,s,c,s,c],i=s,r=c);for(var g=0,m=t.length;g<m;g++){var x=t[g];if("M"==x[0])o=u=x[1],a=l=x[2];else{"C"==x[0]?(h=[o,a].concat(x.slice(1)),o=h[6],a=h[7]):(h=[o,a,o,a,u,l,u,l],o=u,a=l);var _=k(p,h,n);if(n)d+=_;else{for(var w=0,b=_.length;w<b;w++)_[w].segment1=f,_[w].segment2=g,_[w].bez1=p,_[w].bez2=h;d=d.concat(_)}}}}}return d}}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={exports:{}};return e[i].call(o.exports,o,o.exports,n),o.exports}return n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(568)})()}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyL3dlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2lkcy9kaXN0L2luZGV4LmVzbS5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL21pbi1kYXNoL2Rpc3QvaW5kZXguZXNtLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvbWluLWRvbS9kaXN0L2luZGV4LmVzbS5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL3Rpbnktc3ZnL2Rpc3QvaW5kZXguZXNtLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlkaS9kaXN0L2luZGV4LmVzbS5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2RyYXcvQmFzZVJlbmRlcmVyLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvdXRpbC9SZW5kZXJVdGlsLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvdXRpbC9FbGVtZW50cy5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2RyYXcvRGVmYXVsdFJlbmRlcmVyLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZHJhdy9pbmRleC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2RyYXcvU3R5bGVzLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvdXRpbC9Db2xsZWN0aW9ucy5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2NvcmUvQ2FudmFzLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvY29yZS9FbGVtZW50UmVnaXN0cnkuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9tb2RlbC9pbmRleC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2NvcmUvRWxlbWVudEZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9jb3JlL0V2ZW50QnVzLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvdXRpbC9HcmFwaGljc1V0aWwuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi91dGlsL1N2Z1RyYW5zZm9ybVV0aWwuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9jb3JlL0dyYXBoaWNzRmFjdG9yeS5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2NvcmUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9EaWFncmFtLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvbW9kZGxlL2Rpc3QvaW5kZXguZXNtLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvc2F4ZW4vZGlzdC9pbmRleC5lc20uanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9tb2RkbGUteG1sL2Rpc3QvaW5kZXguZXNtLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9saWIvbW9kZGxlL01vZGRsZS5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbGliL21vZGRsZS9pbmRleC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbGliL2ltcG9ydC9VdGlsLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9saWIvaW1wb3J0L1Bvc3RpdFRyZWVXYWxrZXIuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL2xpYi9CYXNlVmlld2VyLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9saWIvaW1wb3J0L0ltcG9ydGVyLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9saWIvQmFzZU1vZGVsZXIuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL2xpYi91dGlsL01vZGVsVXRpbC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbGliL2ZlYXR1cmVzL21vZGVsaW5nL3V0aWwvTW9kZWxpbmdVdGlsLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9saWIvZmVhdHVyZXMvbGFiZWwtZWRpdGluZy9MYWJlbFV0aWwuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL2xpYi9kcmF3L1Bvc3RpdFJlbmRlcmVyVXRpbC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbGliL2RyYXcvUG9zdGl0UmVuZGVyZXIuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi91dGlsL1RleHQuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL2xpYi9kcmF3L1RleHRSZW5kZXJlci5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbGliL2RyYXcvUGF0aE1hcC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbGliL2RyYXcvaW5kZXguanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9pMThuL3RyYW5zbGF0ZS9pbmRleC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2kxOG4vdHJhbnNsYXRlL3RyYW5zbGF0ZS5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbGliL3V0aWwvTGFiZWxVdGlsLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9saWIvaW1wb3J0L1Bvc3RpdEltcG9ydGVyLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9saWIvaW1wb3J0L2luZGV4LmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9saWIvY29yZS9pbmRleC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL3V0aWwvRXZlbnQuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi91dGlsL01vdXNlLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvdXRpbC9QbGF0Zm9ybS5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2ludGVyYWN0aW9uLWV2ZW50cy9JbnRlcmFjdGlvbkV2ZW50cy5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2ludGVyYWN0aW9uLWV2ZW50cy9pbmRleC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL291dGxpbmUvT3V0bGluZS5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL291dGxpbmUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9zZWxlY3Rpb24vU2VsZWN0aW9uLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvc2VsZWN0aW9uL1NlbGVjdGlvblZpc3VhbHMuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9zZWxlY3Rpb24vU2VsZWN0aW9uQmVoYXZpb3IuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9zZWxlY3Rpb24vaW5kZXguanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi91dGlsL0lkR2VuZXJhdG9yLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvb3ZlcmxheXMvT3ZlcmxheXMuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9vdmVybGF5cy9pbmRleC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbGliL1ZpZXdlci5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2tleWJvYXJkL0tleWJvYXJkVXRpbC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2tleWJvYXJkL0tleWJvYXJkLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMva2V5Ym9hcmQvS2V5Ym9hcmRCaW5kaW5ncy5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2tleWJvYXJkL2luZGV4LmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvbmF2aWdhdGlvbi9rZXlib2FyZC1tb3ZlL0tleWJvYXJkTW92ZS5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL25hdmlnYXRpb24va2V5Ym9hcmQtbW92ZS9pbmRleC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL3V0aWwvQ3Vyc29yLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvdXRpbC9DbGlja1RyYXAuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi91dGlsL1Bvc2l0aW9uVXRpbC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL25hdmlnYXRpb24vbW92ZWNhbnZhcy9Nb3ZlQ2FudmFzLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvbmF2aWdhdGlvbi9tb3ZlY2FudmFzL2luZGV4LmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvdXRpbC9NYXRoLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvbmF2aWdhdGlvbi96b29tc2Nyb2xsL1pvb21VdGlsLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvbmF2aWdhdGlvbi96b29tc2Nyb2xsL1pvb21TY3JvbGwuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9uYXZpZ2F0aW9uL3pvb21zY3JvbGwvaW5kZXguanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL2xpYi9OYXZpZ2F0ZWRWaWV3ZXIuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy90b3VjaC9Ub3VjaEludGVyYWN0aW9uRXZlbnRzLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvdG91Y2gvVG91Y2hGaXguanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy90b3VjaC9pbmRleC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL25hdmlnYXRpb24vdG91Y2gvaW5kZXguanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9hbGlnbi1lbGVtZW50cy9BbGlnbkVsZW1lbnRzLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvYWxpZ24tZWxlbWVudHMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9ob3Zlci1maXgvSG92ZXJGaXguanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9ob3Zlci1maXgvaW5kZXguanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9kcmFnZ2luZy9EcmFnZ2luZy5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2RyYWdnaW5nL2luZGV4LmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvYXV0by1zY3JvbGwvQXV0b1Njcm9sbC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2F1dG8tc2Nyb2xsL2luZGV4LmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvcnVsZXMvUnVsZXMuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9ydWxlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL3V0aWwvR2VvbWV0cnkuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi91dGlsL0xpbmVJbnRlcnNlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9iZW5kcG9pbnRzL0JlbmRwb2ludFV0aWwuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9iZW5kcG9pbnRzL0JlbmRwb2ludHMuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9sYXlvdXQvTGF5b3V0VXRpbC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2JlbmRwb2ludHMvQmVuZHBvaW50TW92ZS5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2JlbmRwb2ludHMvQmVuZHBvaW50TW92ZVByZXZpZXcuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9iZW5kcG9pbnRzL0Nvbm5lY3Rpb25TZWdtZW50TW92ZS5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL3NuYXBwaW5nL1NuYXBVdGlsLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvYmVuZHBvaW50cy9CZW5kcG9pbnRTbmFwcGluZy5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2JlbmRwb2ludHMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL2xpYi91dGlsL0NvbG9yVXRpbC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbGliL2ZlYXR1cmVzL2NhbnZhcy1jcmVhdGUvQ2FudmFzQ3JlYXRlLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy1kaXJlY3QtZWRpdGluZy9saWIvVGV4dEJveC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMtZGlyZWN0LWVkaXRpbmcvbGliL0RpcmVjdEVkaXRpbmcuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzLWRpcmVjdC1lZGl0aW5nL2luZGV4LmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9saWIvZmVhdHVyZXMvY2FudmFzLWNyZWF0ZS9pbmRleC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2Nvbm5lY3QvQ29ubmVjdC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2Nvbm5lY3QvQ29ubmVjdFByZXZpZXcuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9jb25uZWN0L2luZGV4LmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvY29ubmVjdGlvbi1wcmV2aWV3L0Nvbm5lY3Rpb25QcmV2aWV3LmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvY29ubmVjdGlvbi1wcmV2aWV3L2luZGV4LmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvY29udGV4dC1wYWQvQ29udGV4dFBhZC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2NvbnRleHQtcGFkL2luZGV4LmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvcHJldmlldy1zdXBwb3J0L1ByZXZpZXdTdXBwb3J0LmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvcHJldmlldy1zdXBwb3J0L2luZGV4LmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvY3JlYXRlL0NyZWF0ZS5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2NyZWF0ZS9DcmVhdGVQcmV2aWV3LmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvY3JlYXRlL2luZGV4LmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvcG9wdXAtbWVudS9Qb3B1cE1lbnUuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9wb3B1cC1tZW51L2luZGV4LmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvY2xpcGJvYXJkL0NsaXBib2FyZC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2NsaXBib2FyZC9pbmRleC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL21vdXNlL01vdXNlLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvbW91c2UvaW5kZXguanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9jb3B5LXBhc3RlL0NvcHlQYXN0ZS5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2NvcHktcGFzdGUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL2xpYi9mZWF0dXJlcy9jb3B5LXBhc3RlL1Bvc3RpdENvcHlQYXN0ZS5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbGliL2ZlYXR1cmVzL2NvcHktcGFzdGUvTW9kZGxlQ29weS5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbGliL2ZlYXR1cmVzL2NvcHktcGFzdGUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9yZXBsYWNlL1JlcGxhY2UuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9yZXBsYWNlL2luZGV4LmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9saWIvZmVhdHVyZXMvcmVwbGFjZS9Qb3N0aXRSZXBsYWNlLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9saWIvZmVhdHVyZXMvcmVwbGFjZS9pbmRleC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbGliL2ZlYXR1cmVzL3BvcHVwLW1lbnUvUmVwbGFjZU1lbnVQcm92aWRlci5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbGliL2ZlYXR1cmVzL3BvcHVwLW1lbnUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL2xpYi9mZWF0dXJlcy9jb250ZXh0LXBhZC9Db250ZXh0UGFkUHJvdmlkZXIuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL2xpYi9mZWF0dXJlcy9jb250ZXh0LXBhZC9pbmRleC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2VkaXRvci1hY3Rpb25zL0VkaXRvckFjdGlvbnMuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9lZGl0b3ItYWN0aW9ucy9pbmRleC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbGliL2ZlYXR1cmVzL2VkaXRvci1hY3Rpb25zL1Bvc3RpdEVkaXRvckFjdGlvbnMuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL2xpYi9mZWF0dXJlcy9lZGl0b3ItYWN0aW9ucy9pbmRleC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbGliL3V0aWwvRmlsZVV0aWwuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL2xpYi91dGlsL1NjcmVlblV0aWwuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL2xpYi9mZWF0dXJlcy9pbWFnZS1zZWxlY3Rpb24vSW1hZ2VTZWxlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL2xpYi9mZWF0dXJlcy9pbWFnZS1zZWxlY3Rpb24vaW5kZXguanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL2xpYi9mZWF0dXJlcy9rZXlib2FyZC9Qb3N0aXRLZXlib2FyZEJpbmRpbmdzLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9saWIvZmVhdHVyZXMva2V5Ym9hcmQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9rZXlib2FyZC1tb3ZlLXNlbGVjdGlvbi9LZXlib2FyZE1vdmVTZWxlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9rZXlib2FyZC1tb3ZlLXNlbGVjdGlvbi9pbmRleC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2NoYW5nZS1zdXBwb3J0L0NoYW5nZVN1cHBvcnQuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9jaGFuZ2Utc3VwcG9ydC9pbmRleC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL3Jlc2l6ZS9SZXNpemVVdGlsLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvcmVzaXplL1Jlc2l6ZS5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL3Jlc2l6ZS9SZXNpemVQcmV2aWV3LmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvcmVzaXplL1Jlc2l6ZUhhbmRsZXMuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9yZXNpemUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL2xpYi9mZWF0dXJlcy9sYWJlbC1lZGl0aW5nL0xhYmVsRWRpdGluZ1Byb3ZpZGVyLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9saWIvZmVhdHVyZXMvbGFiZWwtZWRpdGluZy9MYWJlbEVkaXRpbmdQcmV2aWV3LmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9saWIvZmVhdHVyZXMvbGFiZWwtZWRpdGluZy9pbmRleC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2NvbW1hbmQvQ29tbWFuZEludGVyY2VwdG9yLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9saWIvZmVhdHVyZXMvbW9kZWxpbmcvYmVoYXZpb3IvQWRhcHRpdmVMYWJlbFBvc2l0aW9uaW5nQmVoYXZpb3IuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL2xpYi9mZWF0dXJlcy9tb2RlbGluZy9iZWhhdmlvci9BcHBlbmRCZWhhdmlvci5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbGliL2ZlYXR1cmVzL21vZGVsaW5nL2JlaGF2aW9yL0ZpeEhvdmVyQmVoYXZpb3IuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL2xpYi9mZWF0dXJlcy9tb2RlbGluZy9iZWhhdmlvci91dGlsL0xpbmVJbnRlcnNlY3QuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL2xpYi9mZWF0dXJlcy9tb2RlbGluZy9iZWhhdmlvci9JbXBvcnREb2NraW5nRml4LmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9saWIvZmVhdHVyZXMvbW9kZWxpbmcvYmVoYXZpb3IvdXRpbC9HZW9tZXRyaWNVdGlsLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9saWIvZmVhdHVyZXMvbW9kZWxpbmcvYmVoYXZpb3IvdXRpbC9MaW5lQXR0YWNobWVudFV0aWwuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL2xpYi9mZWF0dXJlcy9tb2RlbGluZy9iZWhhdmlvci91dGlsL0xhYmVsTGF5b3V0VXRpbC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL3V0aWwvQXR0YWNoVXRpbC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbGliL2ZlYXR1cmVzL21vZGVsaW5nL2JlaGF2aW9yL0xhYmVsQmVoYXZpb3IuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL2xpYi9mZWF0dXJlcy9tb2RlbGluZy9iZWhhdmlvci9SZXBsYWNlRWxlbWVudEJlaGF2aW91ci5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbGliL2ZlYXR1cmVzL21vZGVsaW5nL2JlaGF2aW9yL1VuY2xhaW1JZEJlaGF2aW9yLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9saWIvZmVhdHVyZXMvbW9kZWxpbmcvYmVoYXZpb3IvQ3JlYXRlQm9hcmRFbGVtZW50QmVoYXZpb3IuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL2xpYi9mZWF0dXJlcy9tb2RlbGluZy9iZWhhdmlvci9FbXB0eVRleHRCb3hCZWhhdmlvci5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbGliL2ZlYXR1cmVzL21vZGVsaW5nL2JlaGF2aW9yL2luZGV4LmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvcnVsZXMvUnVsZVByb3ZpZGVyLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9saWIvZmVhdHVyZXMvcnVsZXMvUG9zdGl0UnVsZXMuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL2xpYi9mZWF0dXJlcy9ydWxlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbGliL2ZlYXR1cmVzL2RpLW9yZGVyaW5nL1Bvc3RpdERpT3JkZXJpbmcuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL2xpYi9mZWF0dXJlcy9kaS1vcmRlcmluZy9pbmRleC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL29yZGVyaW5nL09yZGVyaW5nUHJvdmlkZXIuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL2xpYi9mZWF0dXJlcy9vcmRlcmluZy9Qb3N0aXRPcmRlcmluZ1Byb3ZpZGVyLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9saWIvZmVhdHVyZXMvb3JkZXJpbmcvaW5kZXguanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9jb21tYW5kL0NvbW1hbmRTdGFjay5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2NvbW1hbmQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy90b29sdGlwcy9Ub29sdGlwcy5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL3Rvb2x0aXBzL2luZGV4LmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvdXRpbC9SZW1vdmFsLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvbGFiZWwtc3VwcG9ydC9MYWJlbFN1cHBvcnQuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9sYWJlbC1zdXBwb3J0L2luZGV4LmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvYXR0YWNoLXN1cHBvcnQvQXR0YWNoU3VwcG9ydC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2F0dGFjaC1zdXBwb3J0L2luZGV4LmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvdG9vbC1tYW5hZ2VyL1Rvb2xNYW5hZ2VyLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvdG9vbC1tYW5hZ2VyL2luZGV4LmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvc3BhY2UtdG9vbC9TcGFjZVV0aWwuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9zcGFjZS10b29sL1NwYWNlVG9vbC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL3NwYWNlLXRvb2wvU3BhY2VUb29sUHJldmlldy5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL3NwYWNlLXRvb2wvaW5kZXguanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL2xpYi9mZWF0dXJlcy9tb2RlbGluZy9Qb3N0aXRGYWN0b3J5LmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9saWIvZmVhdHVyZXMvbW9kZWxpbmcvUG9zdGl0VXBkYXRlci5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbGliL2ZlYXR1cmVzL21vZGVsaW5nL0VsZW1lbnRGYWN0b3J5LmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvbW9kZWxpbmcvY21kL0FsaWduRWxlbWVudHNIYW5kbGVyLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvbW9kZWxpbmcvY21kL0FwcGVuZFNoYXBlSGFuZGxlci5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL21vZGVsaW5nL2NtZC9DcmVhdGVDb25uZWN0aW9uSGFuZGxlci5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL21vZGVsaW5nL2NtZC9DcmVhdGVFbGVtZW50c0hhbmRsZXIuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9tb2RlbGluZy9jbWQvQ3JlYXRlU2hhcGVIYW5kbGVyLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvbW9kZWxpbmcvY21kL0NyZWF0ZUxhYmVsSGFuZGxlci5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL21vZGVsaW5nL2NtZC9EZWxldGVDb25uZWN0aW9uSGFuZGxlci5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL21vZGVsaW5nL2NtZC9EZWxldGVFbGVtZW50c0hhbmRsZXIuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9tb2RlbGluZy9jbWQvRGVsZXRlU2hhcGVIYW5kbGVyLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvbW9kZWxpbmcvY21kL0Rpc3RyaWJ1dGVFbGVtZW50c0hhbmRsZXIuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9tb2RlbGluZy9jbWQvTGF5b3V0Q29ubmVjdGlvbkhhbmRsZXIuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9tb2RlbGluZy9jbWQvTW92ZUNvbm5lY3Rpb25IYW5kbGVyLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvbW9kZWxpbmcvY21kL2hlbHBlci9BbmNob3JzSGVscGVyLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvbW9kZWxpbmcvY21kL2hlbHBlci9Nb3ZlQ2xvc3VyZS5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL21vZGVsaW5nL2NtZC9oZWxwZXIvTW92ZUhlbHBlci5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL21vZGVsaW5nL2NtZC9Nb3ZlRWxlbWVudHNIYW5kbGVyLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvbW9kZWxpbmcvY21kL01vdmVTaGFwZUhhbmRsZXIuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9tb2RlbGluZy9jbWQvUmVjb25uZWN0Q29ubmVjdGlvbkhhbmRsZXIuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9tb2RlbGluZy9jbWQvUmVwbGFjZVNoYXBlSGFuZGxlci5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL21vZGVsaW5nL2NtZC9SZXNpemVTaGFwZUhhbmRsZXIuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9tb2RlbGluZy9jbWQvU3BhY2VUb29sSGFuZGxlci5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL21vZGVsaW5nL2NtZC9Ub2dnbGVTaGFwZUNvbGxhcHNlSGFuZGxlci5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL21vZGVsaW5nL2NtZC9VcGRhdGVBdHRhY2htZW50SGFuZGxlci5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL21vZGVsaW5nL2NtZC9VcGRhdGVXYXlwb2ludHNIYW5kbGVyLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvbW9kZWxpbmcvTW9kZWxpbmcuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL2xpYi9mZWF0dXJlcy9tb2RlbGluZy9jbWQvVXBkYXRlUHJvcGVydGllc0hhbmRsZXIuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL2xpYi9mZWF0dXJlcy9tb2RlbGluZy9jbWQvVXBkYXRlQ2FudmFzUm9vdEhhbmRsZXIuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL2xpYi9mZWF0dXJlcy9tb2RlbGluZy9jbWQvSWRDbGFpbUhhbmRsZXIuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL2xpYi9mZWF0dXJlcy9tb2RlbGluZy9jbWQvU2V0Q29sb3JIYW5kbGVyLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9saWIvZmVhdHVyZXMvbGFiZWwtZWRpdGluZy9jbWQvVXBkYXRlTGFiZWxIYW5kbGVyLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9saWIvZmVhdHVyZXMvbW9kZWxpbmcvTW9kZWxpbmcuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9sYXlvdXQvQmFzZUxheW91dGVyLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvbGF5b3V0L0Nyb3BwaW5nQ29ubmVjdGlvbkRvY2tpbmcuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL2xpYi9mZWF0dXJlcy9tb2RlbGluZy9pbmRleC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL21vdmUvTW92ZS5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL21vdmUvTW92ZVByZXZpZXcuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9tb3ZlL2luZGV4LmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvcGFsZXR0ZS9QYWxldHRlLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvcGFsZXR0ZS9pbmRleC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2xhc3NvLXRvb2wvTGFzc29Ub29sLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvbGFzc28tdG9vbC9pbmRleC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2hhbmQtdG9vbC9IYW5kVG9vbC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2hhbmQtdG9vbC9pbmRleC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbGliL2ZlYXR1cmVzL3BhbGV0dGUvUGFsZXR0ZVByb3ZpZGVyLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9saWIvZmVhdHVyZXMvcGFsZXR0ZS9pbmRleC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbGliL2ZlYXR1cmVzL3JlcGxhY2UtcHJldmlldy9Qb3N0aXRSZXBsYWNlUHJldmlldy5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbGliL2ZlYXR1cmVzL3JlcGxhY2UtcHJldmlldy9pbmRleC5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL3NuYXBwaW5nL1NuYXBDb250ZXh0LmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvc25hcHBpbmcvQ3JlYXRlTW92ZVNuYXBwaW5nLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9saWIvZmVhdHVyZXMvc25hcHBpbmcvUG9zdGl0Q3JlYXRlTW92ZVNuYXBwaW5nLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvc25hcHBpbmcvUmVzaXplU25hcHBpbmcuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9zbmFwcGluZy9TbmFwcGluZy5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL3NuYXBwaW5nL2luZGV4LmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9saWIvZmVhdHVyZXMvc25hcHBpbmcvaW5kZXguanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL2xpYi9mZWF0dXJlcy9kcmFnLWRyb3AtaW1hZ2VzL0ZpbGVVdGlsLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9saWIvZmVhdHVyZXMvZHJhZy1kcm9wLWltYWdlcy9EcmFnRHJvcEltYWdlcy5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbGliL2ZlYXR1cmVzL2RyYWctZHJvcC1pbWFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL2xpYi9Nb2RlbGVyLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9saWIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9jc3MuZXNjYXBlL2Nzcy5lc2NhcGUuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9oYW1tZXJqcy9oYW1tZXIuanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9pbmhlcml0cy9pbmhlcml0c19icm93c2VyLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvb2JqZWN0LXJlZnMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci8uL25vZGVfbW9kdWxlcy9vYmplY3QtcmVmcy9saWIvY29sbGVjdGlvbi5qcyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyLy4vbm9kZV9tb2R1bGVzL29iamVjdC1yZWZzL2xpYi9yZWZzLmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvLi9ub2RlX21vZHVsZXMvcGF0aC1pbnRlcnNlY3Rpb24vaW50ZXJzZWN0LmpzIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyL3dlYnBhY2svcnVudGltZS9nbG9iYWwiLCJ3ZWJwYWNrOi8vUG9zdEl0TW9kZWxlci93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL1Bvc3RJdE1vZGVsZXIvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9Qb3N0SXRNb2RlbGVyL3dlYnBhY2svc3RhcnR1cCJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJkZWZpbmUiLCJhbWQiLCJzZWxmIiwiaGF0XzEiLCJmbiIsImhhdCIsImJpdHMiLCJiYXNlIiwidW5kZWZpbmVkIiwiZGlnaXRzIiwiTWF0aCIsImxvZyIsInBvdyIsImkiLCJJbmZpbml0eSIsInJlbSIsImZsb29yIiwicmVzIiwicmFuZG9tIiwidG9TdHJpbmciLCJiIiwicGFyc2VkIiwicGFyc2VJbnQiLCJyYWNrIiwiZXhwYW5kQnkiLCJkYXRhIiwiaXRlcnMiLCJFcnJvciIsImlkIiwiT2JqZWN0IiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiaGF0cyIsImdldCIsInNldCIsInZhbHVlIiwiY3JlYXRlQ29tbW9uanNNb2R1bGUiLCJJZHMiLCJzZWVkIiwidGhpcyIsIl9zZWVkIiwibGVuZ3RoIiwicHJvdG90eXBlIiwibmV4dCIsImVsZW1lbnQiLCJuZXh0UHJlZml4ZWQiLCJwcmVmaXgiLCJhc3NpZ25lZCIsImNsYWltIiwidW5jbGFpbSIsImNsZWFyIiwiZmxhdHRlbiIsImFyciIsIkFycmF5IiwiY29uY2F0IiwiYXBwbHkiLCJuYXRpdmVUb1N0cmluZyIsIm5hdGl2ZUhhc093blByb3BlcnR5IiwiaXNVbmRlZmluZWQiLCJvYmoiLCJpc0RlZmluZWQiLCJpc05pbCIsImlzQXJyYXkiLCJpc09iamVjdCIsImlzTnVtYmVyIiwiaXNGdW5jdGlvbiIsInRhZyIsImlzU3RyaW5nIiwiaGFzIiwidGFyZ2V0Iiwia2V5IiwiZmluZCIsImNvbGxlY3Rpb24iLCJtYXRjaGVyIiwibWF0Y2giLCJ0b01hdGNoZXIiLCJmb3JFYWNoIiwidmFsIiwiZmlsdGVyIiwicmVzdWx0IiwicHVzaCIsIml0ZXJhdG9yIiwiY29udmVydEtleSIsInRvTnVtIiwiaWRlbnRpdHkiLCJyZWR1Y2UiLCJpZHgiLCJtYXRjaGVzIiwibWFwIiwia2V5cyIsInNpemUiLCJ2YWx1ZXMiLCJncm91cEJ5IiwiZXh0cmFjdG9yIiwiZ3JvdXBlZCIsImFyZ3VtZW50cyIsInRvRXh0cmFjdG9yIiwiZGlzY3JpbWluYXRvciIsImdyb3VwIiwidW5pcXVlQnkiLCJfbGVuIiwiY29sbGVjdGlvbnMiLCJfa2V5IiwiYyIsInVuaW9uQnkiLCJzb3J0QnkiLCJzb3J0ZWQiLCJkaXNjIiwiZW50cnkiLCJkIiwidiIsInNwbGljZSIsImUiLCJtYXRjaFBhdHRlcm4iLCJwYXR0ZXJuIiwiZWwiLCJhcmciLCJOdW1iZXIiLCJkZWJvdW5jZSIsInRpbWVvdXQiLCJ0aW1lciIsImxhc3RBcmdzIiwibGFzdFRoaXMiLCJsYXN0Tm93IiwiZmlyZSIsIm5vdyIsIkRhdGUiLCJzY2hlZHVsZWREaWZmIiwic2NoZWR1bGUiLCJzZXRUaW1lb3V0IiwiYXJncyIsImJpbmQiLCJfZXh0ZW5kcyIsImFzc2lnbiIsInNvdXJjZSIsIm90aGVycyIsInBpY2siLCJwcm9wZXJ0aWVzIiwicHJvcCIsIm9taXQiLCJpbmRleE9mIiwiYXR0ciIsIm5hbWUiLCJnZXRBdHRyaWJ1dGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJzZXRBdHRyaWJ1dGUiLCJpbmRleG9mIiwicmUiLCJDbGFzc0xpc3QiLCJub2RlVHlwZSIsImxpc3QiLCJjbGFzc0xpc3QiLCJjaGlsZE5vZGVzIiwicmVtb3ZlQ2hpbGQiLCJhZGQiLCJhcnJheSIsImNsYXNzTmFtZSIsImpvaW4iLCJyZW1vdmUiLCJyZW1vdmVNYXRjaGluZyIsInRlc3QiLCJ0b2dnbGUiLCJmb3JjZSIsInJlcGxhY2UiLCJzcGxpdCIsInNoaWZ0IiwiY29udGFpbnMiLCJwcm90byIsIkVsZW1lbnQiLCJ2ZW5kb3IiLCJtYXRjaGVzU2VsZWN0b3IiLCJ3ZWJraXRNYXRjaGVzU2VsZWN0b3IiLCJtb3pNYXRjaGVzU2VsZWN0b3IiLCJtc01hdGNoZXNTZWxlY3RvciIsIm9NYXRjaGVzU2VsZWN0b3IiLCJzZWxlY3RvciIsIm5vZGVzIiwicGFyZW50Tm9kZSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJjbG9zZXN0IiwiY2hlY2tZb3VyU2VsZiIsImN1cnJlbnRFbGVtIiwiZG9jdW1lbnQiLCJET0NVTUVOVF9OT0RFIiwiRE9DVU1FTlRfRlJBR01FTlRfTk9ERSIsImJ1Z1Rlc3REaXYiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwidW5iaW5kIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImNvbXBvbmVudEV2ZW50IiwidHlwZSIsImNhcHR1cmUiLCJmb3JjZUNhcHR1cmVFdmVudHMiLCJkZWxlZ2F0ZSIsInNyY0VsZW1lbnQiLCJkZWxlZ2F0ZVRhcmdldCIsImRvbWlmeSIsImh0bWwiLCJkb2MiLCJUeXBlRXJyb3IiLCJtIiwiZXhlYyIsImNyZWF0ZVRleHROb2RlIiwiY3JlYXRlRWxlbWVudCIsImlubmVySFRNTCIsImxhc3RDaGlsZCIsIndyYXAiLCJfZGVmYXVsdCIsImRlcHRoIiwic3VmZml4IiwiZmlyc3RDaGlsZCIsImZyYWdtZW50IiwiY3JlYXRlRG9jdW1lbnRGcmFnbWVudCIsImFwcGVuZENoaWxkIiwiaW5uZXJIVE1MQnVnIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJsZWdlbmQiLCJ0ciIsImNvbCIsInF1ZXJ5IiwicXVlcnlTZWxlY3RvciIsImFwcGVuZFRvIiwib3duZXJEb2N1bWVudCIsImltcG9ydE5vZGUiLCJlbnN1cmVJbXBvcnRlZCIsImFwcGVuZCIsIm5vZGUiLCJ0ZCIsInRoIiwib3B0aW9uIiwib3B0Z3JvdXAiLCJ0aGVhZCIsInRib2R5IiwiY29sZ3JvdXAiLCJjYXB0aW9uIiwidGZvb3QiLCJwb2x5bGluZSIsImVsbGlwc2UiLCJwb2x5Z29uIiwiY2lyY2xlIiwidGV4dCIsImxpbmUiLCJwYXRoIiwicmVjdCIsImciLCJDU1NfUFJPUEVSVElFUyIsImh5cGhlbmF0ZWQiLCJ0b0xvd2VyQ2FzZSIsIlN0cmluZyIsInN0eWxlIiwic2V0QXR0cmlidXRlTlMiLCJnZXRBdHRyaWJ1dGVOUyIsImF0dHJzIiwibmFtZXMiLCJzZXRBdHRyaWJ1dGVzIiwiaW5kZXgiLCJkZWZpbmVkIiwibyIsImNsYXNzZXMiLCJwYXJlbnQiLCJjaGlsZCIsImNsb25lIiwiY2xvbmVOb2RlIiwiYmFzZVZhbCIsIm5zIiwiU1ZHX1NUQVJUIiwic3ZnIiwidW53cmFwIiwic3Vic3RyaW5nIiwicGFyc2VyIiwiRE9NUGFyc2VyIiwiYXN5bmMiLCJwYXJzZUZyb21TdHJpbmciLCJwYXJzZURvY3VtZW50IiwiY2hhckF0IiwiY3JlYXRlRWxlbWVudE5TIiwiZXh0ZW5kIiwib2JqZWN0IiwicHJvcHMiLCJrIiwibWF0cml4IiwiY3JlYXRlU1ZHVHJhbnNmb3JtRnJvbU1hdHJpeCIsImNyZWF0ZVNWR1RyYW5zZm9ybSIsIlRFWFRfRU5USVRJRVMiLCJBVFRSX0VOVElUSUVTIiwiRU5USVRZX1JFUExBQ0VNRU5UIiwic3RyIiwiZW50aXR5Iiwic2VyaWFsaXplIiwib3V0cHV0IiwibGVuIiwiYXR0ck1hcCIsImF0dHJOb2RlIiwidGV4dENvbnRlbnQiLCJ0YWdOYW1lIiwiaGFzQXR0cmlidXRlcyIsImF0dHJpYnV0ZXMiLCJpdGVtIiwiaGFzQ2hpbGROb2RlcyIsIm5vZGVWYWx1ZSIsImlubmVyU1ZHIiwibm9kZU5hbWUiLCJpc0ZyYWdtZW50IiwiZG9jdW1lbnRFbGVtZW50Iiwic2xpY2UiLCJtZXNzYWdlIiwibmV4dFNpYmxpbmciLCJ3cmFwTWF0cml4IiwidHJhbnNmb3JtTGlzdCIsInRyYW5zZm9ybSIsIlNWR01hdHJpeCIsInRyYW5zZm9ybXMiLCJ0IiwiYXBwZW5kSXRlbSIsInNldFRyYW5zZm9ybXMiLCJjb25zb2xpZGF0ZSIsIkNMQVNTX1BBVFRFUk4iLCJoYXNPd25Qcm9wIiwiYW5ub3RhdGUiLCJwb3AiLCIkaW5qZWN0IiwiQ09OU1RSVUNUT1JfQVJHUyIsIkZOX0FSR1MiLCJGTl9BUkciLCJwYXJzZUFubm90YXRpb25zIiwiaXNDbGFzcyIsInRyaW0iLCJNb2R1bGUiLCJwcm92aWRlcnMiLCJJbmplY3RvciIsIm1vZHVsZXMiLCJzdHJpY3QiLCJjdXJyZW50bHlSZXNvbHZpbmciLCJlcnJvciIsIl9wcm92aWRlcnMiLCJjcmVhdGUiLCJpbnN0YW5jZXMiLCJfaW5zdGFuY2VzIiwiaW5qZWN0b3IiLCJtc2ciLCJzdGFjayIsInBhcnRzIiwicGl2b3QiLCJmbkRlZiIsImxvY2FscyIsImRlcGVuZGVuY2llcyIsImRlcCIsImluc3RhbnRpYXRlIiwiVHlwZSIsImRlZiIsIkZ1bmN0aW9uIiwiaW52b2tlIiwiZnVuYyIsImNvbnRleHQiLCJjcmVhdGVQcml2YXRlSW5qZWN0b3JGYWN0b3J5IiwicHJpdmF0ZUNoaWxkSW5qZWN0b3IiLCJmYWN0b3J5TWFwIiwiYXJyYXlVbndyYXAiLCJwcm92aWRlciIsIl9fZXhwb3J0c19fIiwiY2xvbmVkTW9kdWxlIiwicHJpdmF0ZUluamVjdG9yIiwiX19tb2R1bGVzX18iLCJnZXRGcm9tUHJpdmF0ZUluamVjdG9yIiwiY3JlYXRlQ2hpbGQiLCJmb3JjZU5ld0luc3RhbmNlcyIsImNhY2hlSWR4IiwicHJpdmF0ZUNoaWxkSW5qZWN0b3JGYWN0b3J5IiwiZnJvbVBhcmVudE1vZHVsZSIsIm1hdGNoZWRTY29wZXMiLCJwcml2YXRlSW5qZWN0b3JzQ2FjaGUiLCJwcml2YXRlQ2hpbGRJbmplY3RvcnMiLCJwcml2YXRlQ2hpbGRGYWN0b3JpZXMiLCIkc2NvcGUiLCJzY29wZSIsInVuc2hpZnQiLCJCYXNlUmVuZGVyZXIiLCJldmVudEJ1cyIsInJlbmRlclByaW9yaXR5Iiwib24iLCJldnQiLCJ2aXN1YWxzIiwiZ2Z4IiwiY2FuUmVuZGVyIiwiZHJhd1NoYXBlIiwiZHJhd0Nvbm5lY3Rpb24iLCJnZXRTaGFwZVBhdGgiLCJnZXRDb25uZWN0aW9uUGF0aCIsImVsZW1lbnRzIiwidG9TVkdQb2ludHMiLCJwb2ludHMiLCJwIiwieCIsInkiLCJjcmVhdGVMaW5lIiwiZ2V0UGFyZW50cyIsImdldFBhcmVudCIsInVuaXF1ZSIsImNhbkFkZCIsImVhY2hFbGVtZW50IiwicyIsInNlbGZBbmRBbGxDaGlsZHJlbiIsImFsbG93RHVwbGljYXRlcyIsIm1heERlcHRoIiwicHJvY2Vzc2VkQ2hpbGRyZW4iLCJjaGlsZHJlbiIsInNlbGZBbmRDaGlsZHJlbiIsImdldEJCb3giLCJzdG9wUmVjdXJzaW9uIiwibWluWCIsIm1pblkiLCJtYXhYIiwibWF4WSIsImJib3giLCJ3YXlwb2ludHMiLCJoZWlnaHQiLCJ3aWR0aCIsImdldFR5cGUiLCJpc0ZyYW1lRWxlbWVudCIsImlzRnJhbWUiLCJjb3B5T2JqZWN0Iiwic3JjMSIsInNyYzIiLCJEZWZhdWx0UmVuZGVyZXIiLCJzdHlsZXMiLCJDT05ORUNUSU9OX1NUWUxFIiwic3Ryb2tlV2lkdGgiLCJzdHJva2UiLCJTSEFQRV9TVFlMRSIsImZpbGwiLCJGUkFNRV9TVFlMRSIsInN0cm9rZURhc2hhcnJheSIsImNvbm5lY3Rpb24iLCJzaGFwZSIsInBvaW50IiwiY29ubmVjdGlvblBhdGgiLCJvcmlnaW5hbCIsIl9faW5pdF9fIiwiZGVmYXVsdFJlbmRlcmVyIiwiZGVmYXVsdFRyYWl0cyIsInN0cm9rZU9wYWNpdHkiLCJwb2ludGVyRXZlbnRzIiwiY2xzIiwidHJhaXRzIiwiYWRkaXRpb25hbEF0dHJzIiwiY29tcHV0ZVN0eWxlIiwiY3VzdG9tIiwiZGVmYXVsdFN0eWxlcyIsImN1cnJlbnRJZHgiLCJyb3VuZCIsIm51bWJlciIsInJlc29sdXRpb24iLCJlbnN1cmVQeCIsImNyZWF0ZUdyb3VwIiwiY2hpbGRJbmRleCIsImluc2VydEJlZm9yZSIsIlJFUVVJUkVEX01PREVMX0FUVFJTIiwiQ2FudmFzIiwiY29uZmlnIiwiZ3JhcGhpY3NGYWN0b3J5IiwiZWxlbWVudFJlZ2lzdHJ5IiwiX2V2ZW50QnVzIiwiX2VsZW1lbnRSZWdpc3RyeSIsIl9ncmFwaGljc0ZhY3RvcnkiLCJfaW5pdCIsInNldENUTSIsIm1zdHIiLCJhIiwiZiIsImNvbnRhaW5lciIsIl9jb250YWluZXIiLCJvcHRpb25zIiwiYm9keSIsInBvc2l0aW9uIiwib3ZlcmZsb3ciLCJjcmVhdGVDb250YWluZXIiLCJfc3ZnIiwidmlld3BvcnQiLCJfdmlld3BvcnQiLCJfbGF5ZXJzIiwiZGVmZXJVcGRhdGUiLCJfdmlld2JveENoYW5nZWQiLCJfY2FjaGVkVmlld2JveCIsIl9kZXN0cm95IiwiX2NsZWFyIiwiZW1pdCIsIl9yb290RWxlbWVudCIsImdldEFsbCIsInNldFJvb3RFbGVtZW50IiwiX3JlbW92ZUVsZW1lbnQiLCJnZXREZWZhdWx0TGF5ZXIiLCJnZXRMYXllciIsImxheWVyIiwiX2NyZWF0ZUxheWVyIiwiZ2V0Q29udGFpbmVyIiwiX3VwZGF0ZU1hcmtlciIsIm1hcmtlciIsIl9lbGVtZW50cyIsInNlY29uZGFyeUdmeCIsImFkZE1hcmtlciIsInJlbW92ZU1hcmtlciIsImhhc01hcmtlciIsImdldEdyYXBoaWNzIiwidG9nZ2xlTWFya2VyIiwiZ2V0Um9vdEVsZW1lbnQiLCJvdmVycmlkZSIsIl9lbnN1cmVWYWxpZCIsImN1cnJlbnRSb290IiwicmVxdWlyZWRBdHRycyIsIl9zZXRQYXJlbnQiLCJwYXJlbnRJbmRleCIsIl9hZGRFbGVtZW50IiwidXBkYXRlIiwiYWRkU2hhcGUiLCJhZGRDb25uZWN0aW9uIiwicmVtb3ZlU2hhcGUiLCJyZW1vdmVDb25uZWN0aW9uIiwic2Vjb25kYXJ5IiwiX2NoYW5nZVZpZXdib3giLCJjaGFuZ2VGbiIsInZpZXdib3giLCJib3giLCJpbm5lckJveCIsInNjYWxlIiwib3V0ZXJCb3giLCJnZXRTaXplIiwibWluIiwiY3JlYXRlU1ZHTWF0cml4IiwidHJhbnNsYXRlIiwiY3JlYXRlTWF0cml4IiwiaW5uZXIiLCJvdXRlciIsInNjcm9sbCIsImRlbHRhIiwiZ2V0Q1RNIiwiZHgiLCJkeSIsIm11bHRpcGx5Iiwiem9vbSIsIm5ld1NjYWxlIiwiY2VudGVyIiwiX2ZpdFZpZXdwb3J0IiwiX3NldFpvb20iLCJuZXdWaWV3Ym94IiwidmJveCIsIm1heCIsIm9yaWdpbmFsUG9pbnQiLCJjdXJyZW50TWF0cml4Iiwic2NhbGVNYXRyaXgiLCJuZXdNYXRyaXgiLCJjcmVhdGVTVkdQb2ludCIsImN1cnJlbnRTY2FsZSIsIm1hdHJpeFRyYW5zZm9ybSIsImludmVyc2UiLCJjbGllbnRXaWR0aCIsImNsaWVudEhlaWdodCIsImdldEFic29sdXRlQkJveCIsInJlc2l6ZWQiLCJFTEVNRU5UX0lEIiwiRWxlbWVudFJlZ2lzdHJ5IiwiX3ZhbGlkYXRlSWQiLCJ1cGRhdGVJZCIsIm5ld0lkIiwiZmlsdGVyZWQiLCJwYXJlbnRSZWZzIiwiZW51bWVyYWJsZSIsImxhYmVsUmVmcyIsImF0dGFjaGVyUmVmcyIsIm91dGdvaW5nUmVmcyIsImluY29taW5nUmVmcyIsIkJhc2UiLCJkZWZpbmVQcm9wZXJ0eSIsIndyaXRhYmxlIiwibGFiZWxzIiwibmV3TGFiZWwiLCJsYWJlbCIsIlNoYXBlIiwiUm9vdCIsIkxhYmVsIiwiQ29ubmVjdGlvbiIsInR5cGVzIiwiRWxlbWVudEZhY3RvcnkiLCJfdWlkIiwiY3JlYXRlUm9vdCIsImNyZWF0ZUxhYmVsIiwiY3JlYXRlU2hhcGUiLCJjcmVhdGVDb25uZWN0aW9uIiwiRXZlbnRCdXMiLCJfbGlzdGVuZXJzIiwiSW50ZXJuYWxFdmVudCIsImdldFZpc3VhbCIsInNldFRyYW5zbGF0ZSIsIkdyYXBoaWNzRmFjdG9yeSIsIm5ld05vZGUiLCJzaWJsaW5nTm9kZSIsImV2ZW50cyIsInByaW9yaXR5IiwiY2FsbGJhY2siLCJ0aGF0IiwiYWN0dWFsQ2FsbGJhY2siLCJfYWRkTGlzdGVuZXIiLCJvbmNlIiwiZXZlbnQiLCJ3cmFwcGVkQ2FsbGJhY2siLCJfX2lzVG9tYiIsIm9mZiIsIl9yZW1vdmVMaXN0ZW5lciIsImNyZWF0ZUV2ZW50IiwiaW5pdCIsImZpcnN0TGlzdGVuZXIiLCJyZXR1cm5WYWx1ZSIsIm9yaWdpbmFsVHlwZSIsIl9pbnZva2VMaXN0ZW5lcnMiLCJkZWZhdWx0UHJldmVudGVkIiwiaGFuZGxlRXJyb3IiLCJsaXN0ZW5lciIsImNhbmNlbEJ1YmJsZSIsIl9pbnZva2VMaXN0ZW5lciIsImludm9rZUZ1bmN0aW9uIiwic3RvcFByb3BhZ2F0aW9uIiwicHJldmVudERlZmF1bHQiLCJjb25zb2xlIiwibmV3TGlzdGVuZXIiLCJwcmV2aW91c0xpc3RlbmVyIiwiX2dldExpc3RlbmVycyIsIl9zZXRMaXN0ZW5lcnMiLCJuZXh0TGlzdGVuZXIiLCJsaXN0ZW5lckNhbGxiYWNrIiwiX2dldENoaWxkcmVuQ29udGFpbmVyIiwiY2hpbGRyZW5HZngiLCJnZXRDaGlsZHJlbiIsInZpc3VhbCIsIl9jcmVhdGVDb250YWluZXIiLCJvdXRlckdmeCIsInVwZGF0ZUNvbnRhaW5tZW50cyIsInJldmVyc2UiLCJoaWRkZW4iLCJfX2RlcGVuZHNfXyIsImNhbnZhcyIsImVsZW1lbnRGYWN0b3J5IiwiRGlhZ3JhbSIsImJvb3RzdHJhcE1vZHVsZXMiLCJjb21wb25lbnRzIiwiaGFzTW9kdWxlIiwidmlzaXQiLCJhZGRNb2R1bGUiLCJib290c3RyYXAiLCJjcmVhdGVJbmplY3RvciIsIkZhY3RvcnkiLCJtb2RlbCIsImRlc3Ryb3kiLCIkbW9kZWwiLCJjcmVhdGVUeXBlIiwiZGVzY3JpcHRvciIsImlzTWFueSIsImRlZmF1bHQiLCJkZWZpbmVNb2RlbCIsImRlZmluZURlc2NyaXB0b3IiLCJNb2RkbGVFbGVtZW50IiwiaGFzVHlwZSIsIiRpbnN0YW5jZU9mIiwiQlVJTFRJTlMiLCJCb29sZWFuIiwiSW50ZWdlciIsIlJlYWwiLCJUWVBFX0NPTlZFUlRFUlMiLCJwYXJzZUZsb2F0IiwiY29lcmNlVHlwZSIsImNvbnZlcnRlciIsImlzQnVpbHRJbiIsImlzU2ltcGxlIiwicGFyc2VOYW1lIiwiZGVmYXVsdFByZWZpeCIsImxvY2FsTmFtZSIsIkRlc2NyaXB0b3JCdWlsZGVyIiwibmFtZU5zIiwiYWxsVHlwZXMiLCJhbGxUeXBlc0J5TmFtZSIsInByb3BlcnRpZXNCeU5hbWUiLCJSZWdpc3RyeSIsInBhY2thZ2VzIiwicGFja2FnZU1hcCIsInR5cGVNYXAiLCJyZWdpc3RlclBhY2thZ2UiLCJlbnN1cmVBdmFpbGFibGUiLCJwa2ciLCJpZGVudGlmaWVyS2V5IiwiUHJvcGVydGllcyIsInByb3BlcnR5IiwiaXNSZWZlcmVuY2UiLCJjb25maWd1cmFibGUiLCJNb2RkbGUiLCJyZWdpc3RyeSIsInR5cGVDYWNoZSIsImJ1aWxkIiwiYWRkUHJvcGVydHkiLCJ2YWxpZGF0ZSIsImFkZE5hbWVkUHJvcGVydHkiLCJyZXBsYWNlUHJvcGVydHkiLCJvbGRQcm9wZXJ0eSIsIm5ld1Byb3BlcnR5Iiwib2xkTmFtZU5zIiwicmVuYW1lIiwiaXNJZCIsInNldElkUHJvcGVydHkiLCJpc0JvZHkiLCJzZXRCb2R5UHJvcGVydHkiLCJyZWRlZmluZVByb3BlcnR5IiwidGFyZ2V0UHJvcGVydHlOYW1lIiwibnNQcmVmaXgiLCJhdHRyTmFtZSIsInJlZGVmaW5lZFByb3BlcnR5IiwicmVkZWZpbmVzIiwicHJvcHNCeU5hbWUiLCJhc3NlcnROb3REZWZpbmVkIiwicmVtb3ZlTmFtZWRQcm9wZXJ0eSIsImJvZHlQcm9wZXJ0eSIsImlkUHJvcGVydHkiLCJwcm9wZXJ0eU5hbWUiLCJkZWZpbmVkUHJvcGVydHkiLCJkZWZpbmVkQnkiLCJoYXNQcm9wZXJ0eSIsImFkZFRyYWl0IiwiaW5oZXJpdGVkIiwidHlwZXNCeU5hbWUiLCJ0eXBlTmFtZSIsInJlcGxhY2VzIiwiZ2V0UGFja2FnZSIsInVyaU9yUHJlZml4IiwiZ2V0UGFja2FnZXMiLCJwa2dNYXAiLCJyZWdpc3RlclR5cGUiLCJ1cmkiLCJzdXBlckNsYXNzIiwiZXh0ZW5kcyIsIm1ldGEiLCJwcm9wZXJ0eU5zIiwiZXh0ZW5kc05hbWUiLCJleHRlbmRlZCIsImRlZmluZVBhY2thZ2UiLCJtYXBUeXBlcyIsIm5zTmFtZSIsInRyYWl0IiwidHJhdmVyc2VUcmFpdCIsInRyYXZlcnNlU3VwZXIiLCJwYXJlbnROcyIsImdldEVmZmVjdGl2ZURlc2NyaXB0b3IiLCJidWlsZGVyIiwiJHBrZyIsImdldFByb3BlcnR5RGVzY3JpcHRvciIsIiRhdHRycyIsImNhY2hlIiwiY3JlYXRlQW55IiwibnNVcmkiLCIkdHlwZSIsImlzR2VuZXJpYyIsImdldEVsZW1lbnREZXNjcmlwdG9yIiwiJGRlc2NyaXB0b3IiLCJnZXRUeXBlRGVzY3JpcHRvciIsImZyb21DaGFyQ29kZSIsIkVOVElUWV9QQVRURVJOIiwiRU5USVRZX01BUFBJTkciLCJyZXBsYWNlRW50aXRpZXMiLCJfIiwieiIsImRlY29kZUVudGl0aWVzIiwidG9VcHBlckNhc2UiLCJYU0lfVFlQRSIsIk5PTl9XSElURVNQQUNFX09VVFNJREVfUk9PVF9OT0RFIiwibWlzc2luZ05hbWVzcGFjZUZvclByZWZpeCIsImdldHRlciIsImdldEZuIiwiY2xvbmVOc01hdHJpeCIsIm5zTWF0cml4IiwidXJpUHJlZml4Iiwibm9vcEdldENvbnRleHQiLCJ0aHJvd0Z1bmMiLCJlcnIiLCJQYXJzZXIiLCJvblRleHQiLCJvbk9wZW5UYWciLCJvbkNsb3NlVGFnIiwib25DREFUQSIsIm9uV2FybmluZyIsIm9uQ29tbWVudCIsIm9uUXVlc3Rpb24iLCJvbkF0dGVudGlvbiIsIm5zVXJpVG9QcmVmaXgiLCJwcm94eSIsIm9uRXJyb3IiLCJnZXRDb250ZXh0IiwibWF5YmVOUyIsImlzTmFtZXNwYWNlIiwicmV0dXJuRXJyb3IiLCJwYXJzZVN0b3AiLCJoYW5kbGVXYXJuaW5nIiwiY2IiLCJuc01hcCIsIl9uc1VyaVRvUHJlZml4IiwieG1sIiwiX25zTWF0cml4IiwicSIsInciLCJ4bWxucyIsImVsZW1lbnROYW1lIiwiX2VsZW1lbnROYW1lIiwiZWxlbWVudFByb3h5IiwiY2FjaGVkQXR0cnMiLCJuc01hdHJpeFN0YWNrIiwiYnVpbGROc01hdHJpeCIsIm5vZGVTdGFjayIsImFub255bW91c05zQ291bnQiLCJ0YWdTdGFydCIsInRhZ0VuZCIsImoiLCJhdHRyc1N0cmluZyIsImF0dHJzU3RhcnQiLCJnZXRBdHRycyIsIm5zVXJpUHJlZml4IiwiaGFzTmV3TWF0cml4IiwibmV3YWxpYXMiLCJhbGlhcyIsInNraXBBdHRyIiwiZGVmYXVsdEFsaWFzIiwiYXR0ckxpc3QiLCJsIiwic2VlbkF0dHJzIiwicGFyc2VBdHRyIiwiY2hhckNvZGVBdCIsInN1YnN0ciIsInNwbGl0c1JlIiwiY29sdW1uIiwic3RhcnRPZkxpbmUiLCJlbmRPZkxpbmUiLCJpc05hTiIsInBhcnNlIiwiaGFzTG93ZXJDYXNlQWxpYXMiLCJ0YWdBbGlhcyIsIkRFRkFVTFRfTlNfTUFQIiwic2VyaWFsaXplRm9ybWF0Iiwic2VyaWFsaXplQXNUeXBlIiwiYWxpYXNUb05hbWUiLCJhbGlhc05zIiwiZ2V0TW9kZGxlRGVzY3JpcHRvciIsIkNvbnRleHQiLCJlbGVtZW50c0J5SWQiLCJyZWZlcmVuY2VzIiwid2FybmluZ3MiLCJhZGRSZWZlcmVuY2UiLCJyZWZlcmVuY2UiLCJhZGRFbGVtZW50IiwiYWRkV2FybmluZyIsIndhcm5pbmciLCJCYXNlSGFuZGxlciIsIk5vb3BIYW5kbGVyIiwiQm9keUhhbmRsZXIiLCJSZWZlcmVuY2VIYW5kbGVyIiwiVmFsdWVIYW5kbGVyIiwicHJvcGVydHlEZXNjIiwiQmFzZUVsZW1lbnRIYW5kbGVyIiwiRWxlbWVudEhhbmRsZXIiLCJSb290RWxlbWVudEhhbmRsZXIiLCJHZW5lcmljRWxlbWVudEhhbmRsZXIiLCJSZWFkZXIiLCJsYXgiLCJoYW5kbGVFbmQiLCJoYW5kbGVUZXh0IiwiaGFuZGxlTm9kZSIsImNyZWF0ZVJlZmVyZW5jZSIsImhhbmRsZUNoaWxkIiwicHJvcE5hbWVOcyIsImluc3RhbmNlIiwiZ2V0UHJvcGVydHlGb3JOb2RlIiwiZWxlbWVudFR5cGVOYW1lIiwiZWxlbWVudFR5cGUiLCJpc0F0dHIiLCJ0eXBlUHJlZml4IiwicHJlZml4ZWRUb05hbWUiLCJub3JtYWxpemVYc2lUeXBlTmFtZSIsImVmZmVjdGl2ZVR5cGUiLCJpc1ZpcnR1YWwiLCJpc0F0dHJpYnV0ZSIsInZhbHVlSGFuZGxlciIsInJlZmVyZW5jZUhhbmRsZXIiLCJoYW5kbGVyIiwiY2hpbGRIYW5kbGVyIiwibmV3RWxlbWVudCIsIiRwYXJlbnQiLCJvcmlnaW5hbE5hbWUiLCIkY2hpbGRyZW4iLCIkYm9keSIsImZyb21YTUwiLCJkb25lIiwicm9vdEhhbmRsZXIiLCJjcmVhdGVTdGFjayIsImN0eCIsIlBSRUFNQkxFX1NUQVJUX1BBVFRFUk4iLCJFTkNPRElOR19QQVRURVJOIiwiVVRGXzhfUEFUVEVSTiIsImhhbmRsZUNEYXRhIiwicGVlayIsInVyaU1hcCIsImRlY29kZVN0ciIsInNlbGZDbG9zaW5nIiwiZGVjb2RlZEF0dHJzIiwiaGFuZGxlT3BlbiIsInF1ZXN0aW9uIiwiZW5jb2RpbmciLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInIiLCJyZXNvbHZlUmVmZXJlbmNlcyIsInJvb3RFbGVtZW50IiwiRVNDQVBFX0FUVFJfQ0hBUlMiLCJFU0NBUEVfQ0hBUlMiLCJOYW1lc3BhY2VzIiwicHJlZml4TWFwIiwidXNlZCIsIndlbGxrbm93biIsImJ5VXJpIiwiaXNXZWxsa25vd24iLCJtYXBQcmVmaXgiLCJ1cmlCeVByZWZpeCIsImdldE5TS2V5IiwibG9nVXNlZCIsIm5zS2V5IiwiZ2V0VXNlZCIsImluaGVyaXRzIiwiY3RvciIsInN1cGVyQ3RvciIsInN1cGVyXyIsImNvbnN0cnVjdG9yIiwiRVNDQVBFX0FUVFJfTUFQIiwiJyIsIkVTQ0FQRV9NQVAiLCJjaGFyUGF0dGVybiIsInJlcGxhY2VNYXAiLCJSZWZlcmVuY2VTZXJpYWxpemVyIiwiQm9keVNlcmlhbGl6ZXIiLCJWYWx1ZVNlcmlhbGl6ZXIiLCJFbGVtZW50U2VyaWFsaXplciIsInByb3BlcnR5RGVzY3JpcHRvciIsIlR5cGVTZXJpYWxpemVyIiwiU2F2aW5nV3JpdGVyIiwid3JpdGUiLCJGb3JtYXRpbmdXcml0ZXIiLCJvdXQiLCJmb3JtYXQiLCJpbmRlbnQiLCJhcHBlbmROZXdMaW5lIiwiYXBwZW5kSW5kZW50IiwidW5pbmRlbnQiLCJXcml0ZXIiLCJwcmVhbWJsZSIsInRvWE1MIiwidHJlZSIsIndyaXRlciIsImludGVybmFsV3JpdGVyIiwiZm9ybWF0aW5nV3JpdGVyIiwic2VyaWFsaXplVG8iLCJQb3N0aXRNb2RkbGUiLCJzZXJpYWxpemVWYWx1ZSIsImVzY2FwZSIsInNlYXJjaCIsIm90aGVyQXR0cnMiLCJlbGVtZW50RGVzY3JpcHRvciIsInBhcnNlR2VuZXJpYyIsInBhcnNlTnNBdHRyaWJ1dGVzIiwibnNQcm9wZXJ0eVRhZ05hbWUiLCJuc1RhZ05hbWUiLCJhZGRUYWdOYW1lIiwiZ2V0U2VyaWFsaXphYmxlUHJvcGVydGllcyIsInBhcnNlQXR0cmlidXRlcyIsInBhcnNlQ29udGFpbm1lbnRzIiwicGFyc2VHZW5lcmljQXR0cmlidXRlcyIsInN0cmluZyIsImdldEVsZW1lbnROcyIsImxvZ05hbWVzcGFjZVVzZWQiLCJnZXRQcm9wZXJ0eU5zIiwiaXNMb2NhbE5zIiwibnNBdHRyaWJ1dGVOYW1lIiwiZWZmZWN0aXZlTnMiLCJnZXROYW1lc3BhY2VzIiwicGFyc2VOc0F0dHJpYnV0ZSIsImxvZ05hbWVzcGFjZSIsImFjdHVhbE5zIiwiZ2VuZXJpY0F0dHJzIiwibm9uTnNBdHRyIiwiYWRkQXR0cmlidXRlIiwid2FybiIsImFzVHlwZSIsImFzUHJvcGVydHkiLCJzZXJpYWxpemVBc1Byb3BlcnR5Iiwic2VyaWFsaXplciIsImxvY2FsIiwicGFyZW50TmFtZXNwYWNlcyIsIm5hbWVzcGFjZXMiLCJleGlzdGluZyIsIm5ld1ByZWZpeCIsIndlbGxrbm93blVyaSIsInNlcmlhbGl6ZUF0dHJpYnV0ZXMiLCJnZXROc0F0dHJzIiwiZmlyc3RCb2R5IiwidHlwZU5zIiwieG1sU3RyIiwicmVhZGVyIiwicG9zdGl0IiwicG9zdGl0RGkiLCJkYyIsImFkZGl0aW9uYWxQYWNrYWdlcyIsImVsZW1lbnRUb1N0cmluZyIsImRpUmVmcyIsImlzIiwiUG9zdGl0VHJlZVdhbGtlciIsImhhbmRsZWRFbGVtZW50cyIsImRlZmVycmVkIiwibG9nRXJyb3IiLCJoYW5kbGVkIiwicmVnaXN0ZXJEaSIsImRpIiwiYm9hcmRFbGVtZW50IiwiaGFuZGxlUGxhbmVFbGVtZW50IiwicGxhbmVFbGVtZW50IiwiaGFuZGxlRGVmZXJyZWQiLCJoYW5kbGVEZWZpbml0aW9ucyIsImRlZmluaXRpb25zIiwicm9vdEJvYXJkIiwicm9vdEJvYXJkcyIsImRpYWdyYW0iLCJwbGFuZSIsImhhbmRsZUJvYXJkIiwicm9vdEVsZW1lbnRzIiwiZmluZERpc3BsYXlDYW5kaWRhdGUiLCJib2FyZCIsImJvYXJkRWxlbWVudHMiLCJ2aXNpdElmRGkiLCJoYW5kbGVCb2FyZEVsZW1lbnRzIiwiQmFzZVZpZXdlciIsIkRFRkFVTFRfT1BUSU9OUyIsIl9tb2RkbGUiLCJfY3JlYXRlTW9kZGxlIiwiYWRkV2FybmluZ3NUb0Vycm9yIiwid2FybmluZ3NBcnkiLCJpbXBvcnRYTUwiLCJfZW1pdCIsInRoZW4iLCJwYXJzZVdhcm5pbmdzIiwiaW1wb3J0RGVmaW5pdGlvbnMiLCJhbGxXYXJuaW5ncyIsImNhdGNoIiwiY2hlY2tWYWxpZGF0aW9uRXJyb3IiLCJfc2V0RGVmaW5pdGlvbnMiLCJvcGVuIiwicm9vdEJvYXJkT3JJZCIsIl9kZWZpbml0aW9ucyIsInJvb3RCb3JkIiwiZXJyMSIsImJvYXJkSWQiLCJmaW5kUm9vdEJvYXJkIiwiZXJyMiIsImltcG9ydGVyIiwicGFyZW50U2hhcGUiLCJyZW5kZXIiLCJpbXBvcnRQb3N0aXREaWFncmFtIiwic2F2ZVhNTCIsInNhdmVTVkciLCJjb250ZW50Tm9kZSIsImRlZnNOb2RlIiwiY29udGVudHMiLCJkZWZzIiwiZ2V0TW9kdWxlcyIsIl9tb2R1bGVzIiwiZ2V0RGVmaW5pdGlvbnMiLCJibyIsImJ1c2luZXNzT2JqZWN0IiwiYXR0YWNoVG8iLCJkZXRhY2giLCJqcXVlcnkiLCJtb2RkbGUiLCJiYXNlTW9kdWxlcyIsImFkZGl0aW9uYWxNb2R1bGVzIiwiZGlhZ3JhbU1vZHVsZXMiLCJwb3N0aXRqcyIsImRpYWdyYW1PcHRpb25zIiwiZW5zdXJlVW5pdCIsIl9tb2RkbGVFeHRlbnNpb25zIiwibW9kZGxlRXh0ZW5zaW9ucyIsIkJhc2VNb2RlbGVyIiwiX2NvbGxlY3RJZHMiLCJpZHMiLCJnZXRCdXNpbmVzc09iamVjdCIsImlzQW55IiwiZ2V0TGFiZWxBdHRyIiwic2VtYW50aWMiLCJnZXRMYWJlbCIsImdldERpIiwiZ2V0RmlsbENvbG9yIiwiZGVmYXVsdENvbG9yIiwiZ2V0Q29sb3IiLCJnZXRTdHJva2VDb2xvciIsImNvbG9yIiwiUG9zdGl0UmVuZGVyZXIiLCJwYXRoTWFwIiwidGV4dFJlbmRlcmVyIiwiZGVmYXVsdEZpbGxDb2xvciIsImRlZmF1bHRTdHJva2VDb2xvciIsImRyYXdSZWN0IiwicGFyZW50R2Z4Iiwib2Zmc2V0IiwicngiLCJyeSIsInJlbmRlckxhYmVsIiwiY3JlYXRlVGV4dCIsInJlbmRlckVtYmVkZGVkTGFiZWwiLCJhbGlnbiIsImZvbnRTaXplIiwiZ2V0U2VtYW50aWMiLCJwYWRkaW5nIiwiaGFuZGxlcnMiLCJmaWxsT3BhY2l0eSIsImN4IiwiY3kiLCJkcmF3Q2lyY2xlIiwidGV4dFNpemUiLCJnZXRJbWFnZVNvdXJjZSIsImhyZWYiLCJmaXRCb3giLCJnZXRFeHRlcm5hbFN0eWxlIiwicmVuZGVyRXh0ZXJuYWxMYWJlbCIsIl9kcmF3UGF0aCIsImgiLCJERUZBVUxUX0xBQkVMX1NJWkUiLCJnZXRUZXh0QkJveCIsImZha2VUZXh0IiwidGV4dEJCb3giLCJlbXB0eUxpbmUiLCJsYXlvdXROZXh0IiwibGluZXMiLCJtYXhXaWR0aCIsIm9yaWdpbmFsTGluZSIsImZpdExpbmUiLCJmaXQiLCJzaG9ydGVuTGluZSIsInJlbWFpbmRlciIsInNob3J0ZW5lZExpbmUiLCJtYXhMZW5ndGgiLCJwYXJ0Iiwic2hvcnRlbmVkUGFydHMiLCJsYXN0Iiwic2VtYW50aWNTaG9ydGVuIiwiVGV4dCIsIl9jb25maWciLCJUZXh0UmVuZGVyZXIiLCJkZWZhdWx0U3R5bGUiLCJmb250RmFtaWx5IiwiZm9udFdlaWdodCIsImxpbmVIZWlnaHQiLCJleHRlcm5hbFN0eWxlIiwidGV4dFV0aWwiLCJnZXRFeHRlcm5hbExhYmVsQm91bmRzIiwiYm91bmRzIiwibGF5b3V0ZWREaW1lbnNpb25zIiwiZ2V0RGltZW5zaW9ucyIsImNlaWwiLCJnZXREZWZhdWx0U3R5bGUiLCJsYXlvdXRUZXh0IiwiZGltZW5zaW9ucyIsImhlbHBlclN2ZyIsImhvcml6b250YWwiLCJ2ZXJ0aWNhbCIsInBhcnNlQWxpZ24iLCJ0b3AiLCJsZWZ0IiwicmlnaHQiLCJib3R0b20iLCJwYXJzZVBhZGRpbmciLCJnZXRMaW5lSGVpZ2h0IiwibGF5b3V0ZWQiLCJoZWxwZXJUZXh0IiwiZ2V0RWxlbWVudEJ5SWQiLCJ0b3RhbEhlaWdodCIsInN1bSIsIm1heExpbmVXaWR0aCIsInRleHRFbGVtZW50IiwidHNwYW4iLCJ0b2tlblJlZ2V4Iiwib2JqTm90YXRpb25SZWdleCIsInBvc3RpdFJlbmRlcmVyIiwiaGVpZ2h0RWxlbWVudHMiLCJ3aWR0aEVsZW1lbnRzIiwiZ2V0UmF3UGF0aCIsInBhdGhJZCIsImdldFNjYWxlZFBhdGgiLCJwYXJhbSIsIm14IiwibXkiLCJyYXdQYXRoIiwiYWJzcG9zIiwiY29udGFpbmVyV2lkdGgiLCJjb250YWluZXJIZWlnaHQiLCJjb29yZGluYXRlcyIsImhlaWdodFJhdGlvIiwieVNjYWxlRmFjdG9yIiwid2lkdGhSYXRpbyIsInhTY2FsZUZhY3RvciIsImhlaWdodEluZGV4Iiwid2lkdGhJbmRleCIsImFsbCIsInF1b3RlIiwicXVvdGVkTmFtZSIsImlzRnVuYyIsInJlcGxhY2VyIiwidGVtcGxhdGUiLCJyZXBsYWNlbWVudHMiLCJpc0xhYmVsRXh0ZXJuYWwiLCJoYXNFeHRlcm5hbExhYmVsIiwiaXNMYWJlbCIsImdldEV4dGVybmFsTGFiZWxNaWQiLCJsYWJlbFRhcmdldCIsImVsZW1lbnREYXRhIiwibm90WWV0RHJhd24iLCJyZWZTZW1hbnRpYyIsInJlZmVyZW5jZWQiLCJQb3N0aXRJbXBvcnRlciIsIl9jYW52YXMiLCJfZWxlbWVudEZhY3RvcnkiLCJfdHJhbnNsYXRlIiwiX3RleHRSZW5kZXJlciIsInBhcmVudEVsZW1lbnQiLCJjb2xsYXBzZWQiLCJhZGRMYWJlbCIsIl9hdHRhY2hCb3VuZGFyeSIsImJvdW5kYXJ5U2VtYW50aWMiLCJib3VuZGFyeUVsZW1lbnQiLCJob3N0U2VtYW50aWMiLCJhdHRhY2hlZFRvUmVmIiwiaG9zdCIsImF0dGFjaGVycyIsIm1pZCIsIl9nZXRFbmQiLCJzaWRlIiwiX2dldEVsZW1lbnQiLCJfZ2V0U291cmNlIiwiX2dldFRhcmdldCIsInBvc3RpdEltcG9ydGVyIiwiX19zdG9wUHJvcGFnYXRpb24iLCJnZXRPcmlnaW5hbCIsIm9yaWdpbmFsRXZlbnQiLCJzcmNFdmVudCIsImltbWVkaWF0ZSIsInRvUG9pbnQiLCJwb2ludGVycyIsInRvdWNoZXMiLCJjbGllbnRYIiwiY2xpZW50WSIsImlzQnV0dG9uIiwiYnV0dG9uIiwiaXNQcmltYXJ5QnV0dG9uIiwiaGFzUHJpbWFyeU1vZGlmaWVyIiwibmF2aWdhdG9yIiwicGxhdGZvcm0iLCJtZXRhS2V5IiwiY3RybEtleSIsImhhc1NlY29uZGFyeU1vZGlmaWVyIiwic2hpZnRLZXkiLCJhbGxvd0FsbCIsImFsbG93UHJpbWFyeUFuZEF1eGlsaWFyeSIsImlzQXV4aWxpYXJ5QnV0dG9uIiwiSW50ZXJhY3Rpb25FdmVudHMiLCJsb2NhbEV2ZW50TmFtZSIsImlnbm9yZWRGaWx0ZXJzIiwiaXNJZ25vcmVkIiwibW91c2VIYW5kbGVyIiwiYmluZGluZ3MiLCJjbGljayIsImNvbnRleHRtZW51IiwiZGJsY2xpY2siLCJtb3VzZWRvd24iLCJtb3VzZW1vdmUiLCJtb3VzZW92ZXIiLCJtb3VzZW91dCIsIm1vdXNldXAiLCJyZWdpc3RlckV2ZW50IiwibG9jYWxFdmVudCIsImlnbm9yZWRGaWx0ZXIiLCIkZGVsZWdhdGUiLCJ1bnJlZ2lzdGVyRXZlbnQiLCJjcmVhdGVEZWZhdWx0SGl0IiwidXBkYXRlRGVmYXVsdEhpdCIsIlNUUk9LRV9ISVRfU1RZTEUiLCJjcmVhdGVIaXRTdHlsZSIsIkNMSUNLX1NUUk9LRV9ISVRfU1RZTEUiLCJISVRfVFlQRVMiLCJjbGFzc05hbWVzIiwiYXBwbHlTdHlsZSIsImhpdCIsImFwcGVuZEhpdCIsInJlbW92ZUhpdHMiLCJib3hUeXBlIiwiY3JlYXRlV2F5cG9pbnRzSGl0IiwiY3JlYXRlQm94SGl0IiwidXBkYXRlTGluZSIsInRyaWdnZXJNb3VzZUV2ZW50IiwiZXZlbnROYW1lIiwidGFyZ2V0RWxlbWVudCIsImludGVyYWN0aW9uRXZlbnRzIiwiT3V0bGluZSIsIk9VVExJTkVfU1RZTEUiLCJjcmVhdGVPdXRsaW5lIiwib3V0bGluZSIsInVwZGF0ZVNoYXBlT3V0bGluZSIsInVwZGF0ZUNvbm5lY3Rpb25PdXRsaW5lIiwiU2VsZWN0aW9uIiwiX3NlbGVjdGVkRWxlbWVudHMiLCJkZXNlbGVjdCIsInNlbGVjdCIsInNlbGVjdGVkRWxlbWVudHMiLCJvbGRTZWxlY3Rpb24iLCJuZXdTZWxlY3Rpb24iLCJpc1NlbGVjdGVkIiwiTUFSS0VSX0hPVkVSIiwiTUFSS0VSX1NFTEVDVEVEIiwiU2VsZWN0aW9uVmlzdWFscyIsInNlbGVjdGlvbiIsIl9tdWx0aVNlbGVjdGlvbkJveCIsIlNlbGVjdGlvbkJlaGF2aW9yIiwiY2FuRXhlY3V0ZSIsImF1dG9TZWxlY3QiLCJoaW50cyIsImlzU2hvd24iLCJob3ZlciIsInByZXZpb3VzU2VsZWN0aW9uIiwic2VsZWN0ZWRTaGFwZSIsImlzTXVsdGlTZWxlY3QiLCJzZWxlY3Rpb25WaXN1YWxzIiwic2VsZWN0aW9uQmVoYXZpb3IiLCJJZEdlbmVyYXRvciIsIl9jb3VudGVyIiwiX3ByZWZpeCIsIk92ZXJsYXlzIiwiX2lkcyIsIl9vdmVybGF5RGVmYXVsdHMiLCJzaG93IiwiZGVmYXVsdHMiLCJfb3ZlcmxheXMiLCJfb3ZlcmxheUNvbnRhaW5lcnMiLCJfb3ZlcmxheVJvb3QiLCJzZXRQb3NpdGlvbiIsInNldFZpc2libGUiLCJ2aXNpYmxlIiwiZGlzcGxheSIsInNldFRyYW5zZm9ybSIsIl9nZXRPdmVybGF5Q29udGFpbmVyIiwib3ZlcmxheXMiLCJvdmVybGF5IiwiX2FkZE92ZXJsYXkiLCJodG1sQ29udGFpbmVyIiwiaGlkZSIsIl91cGRhdGVPdmVybGF5Q29udGFpbmVyIiwiX3VwZGF0ZU92ZXJsYXkiLCJfY3JlYXRlT3ZlcmxheUNvbnRhaW5lciIsIl91cGRhdGVSb290IiwicmF3Iiwib3ZlcmxheUNvbnRhaW5lciIsIl91cGRhdGVPdmVybGF5VmlzaWJpbHR5IiwibWluWm9vbSIsIm1heFpvb20iLCJfdXBkYXRlT3ZlcmxheVNjYWxlIiwibWluU2NhbGUiLCJtYXhTY2FsZSIsInNob3VsZFNjYWxlIiwiX3VwZGF0ZU92ZXJsYXlzVmlzaWJpbHR5IiwiVmlld2VyIiwiaXNDbWQiLCJhbHRLZXkiLCJpc0tleSIsImtleUNvZGUiLCJpc1NoaWZ0IiwiS0VZRE9XTl9FVkVOVCIsIktleWJvYXJkIiwiX2tleWRvd25IYW5kbGVyIiwiX2tleXVwSGFuZGxlciIsIl9maXJlIiwiYmluZFRvIiwiX2tleUhhbmRsZXIiLCJjb250ZW50RWRpdGFibGUiLCJrZXlFdmVudCIsIl9ub2RlIiwiZ2V0QmluZGluZyIsImFkZExpc3RlbmVyIiwicmVtb3ZlTGlzdGVuZXIiLCJoYXNNb2RpZmllciIsIktFWVNfQ09QWSIsIktFWVNfUEFTVEUiLCJLRVlTX1JFRE8iLCJLRVlTX1VORE8iLCJLZXlib2FyZEJpbmRpbmdzIiwia2V5Ym9hcmQiLCJlZGl0b3JBY3Rpb25zIiwicmVnaXN0ZXJCaW5kaW5ncyIsImFjdGlvbiIsImlzUmVnaXN0ZXJlZCIsInRyaWdnZXIiLCJrZXlib2FyZEJpbmRpbmdzIiwiREVGQVVMVF9DT05GSUciLCJtb3ZlU3BlZWQiLCJtb3ZlU3BlZWRBY2NlbGVyYXRlZCIsIktleWJvYXJkTW92ZSIsImRpcmVjdGlvbiIsInNwZWVkIiwibW92ZUNhbnZhcyIsIm9wdHMiLCJhY3R1YWxTcGVlZCIsInNxcnQiLCJrZXlib2FyZE1vdmUiLCJDVVJTT1JfQ0xTX1BBVFRFUk4iLCJtb2RlIiwidW5zZXQiLCJpbnN0YWxsIiwidHJhcCIsIk1vdmVDYW52YXMiLCJoYW5kbGVNb3ZlIiwic3RhcnQiLCJkcmFnZ2luZyIsImhhbmRsZVN0YXJ0IiwiaXNBY3RpdmUiLCJsb2cxMCIsImdldFN0ZXBTaXplIiwicmFuZ2UiLCJzdGVwcyIsIm1pbkxpbmVhclJhbmdlIiwibWF4TGluZWFyUmFuZ2UiLCJhYnMiLCJzaWduIiwibiIsIlJBTkdFIiwiWm9vbVNjcm9sbCIsIl9lbmFibGVkIiwiX2hhbmRsZVdoZWVsIiwiX3RvdGFsRGVsdGEiLCJfc2NhbGUiLCJlbmFibGVkIiwicmVzZXQiLCJzdGVwU2l6ZSIsIk5VTV9TVEVQUyIsIl96b29tIiwiaXNab29tIiwiaXNIb3Jpem9udGFsU2Nyb2xsIiwiZmFjdG9yIiwiZGVsdGFNb2RlIiwiZWxlbWVudFJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJkZWx0YVkiLCJkZWx0YVgiLCJzdGVwWm9vbSIsImN1cnJlbnRMaW5lYXJab29tTGV2ZWwiLCJuZXdMaW5lYXJab29tTGV2ZWwiLCJuZXdMb2dab29tTGV2ZWwiLCJuZXdFbmFibGVkIiwiaGFuZGxlV2hlZWwiLCJvbGRFbmFibGVkIiwiem9vbVNjcm9sbCIsIk5hdmlnYXRlZFZpZXdlciIsIl9uYXZpZ2F0aW9uTW9kdWxlcyIsIm1vdXNlRXZlbnRzIiwic2VydmljZSIsInN0b3BFdmVudCIsInN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiIsImNyZWF0ZVRvdWNoUmVjb2duaXplciIsImFsbG93TW91c2UiLCJyZWNvZ25pemVyIiwiaW5wdXRDbGFzcyIsInJlY29nbml6ZXJzIiwiZG9tRXZlbnRzIiwidGFwIiwicGFuIiwidGhyZXNob2xkIiwicHJlc3MiLCJwaW5jaCIsImRvdWJsZVRhcCIsInRhcHMiLCJyZXF1aXJlRmFpbHVyZSIsInNlc3Npb24iLCJzdG9wcGVkIiwic3RvcCIsInN0YXRlIiwiY3VyUmVjb2duaXplciIsIlRvdWNoSW50ZXJhY3Rpb25FdmVudHMiLCJtb3ZlIiwiY29udGV4dFBhZCIsInBhbGV0dGUiLCJnZXRHZngiLCJNb3VzZUV2ZW50IiwiZWxlbWVudEZyb21Qb2ludCIsImhvdmVyR2Z4IiwicGFkUmVjb2duaXplciIsInBhZCIsInN0YXJ0R3JhYiIsImx4IiwibHkiLCJlbmQiLCJzdGFydEdyYWJDYW52YXMiLCJyYXRpbyIsIm5ld1pvb20iLCJpbml0RXZlbnRzIiwiVG91Y2hGaXgiLCJhZGRCQm94TWFya2VyIiwibWFya2VyU3R5bGUiLCJjbGFzcyIsInJlY3QxIiwicmVjdDIiLCJ0b3VjaEludGVyYWN0aW9uRXZlbnRzIiwidG91Y2hGaXgiLCJzb3J0VG9wT3JNaWRkbGUiLCJzb3J0TGVmdE9yQ2VudGVyIiwiQUxJR05NRU5UX1NPUlRJTkciLCJtaWRkbGUiLCJBbGlnbkVsZW1lbnRzIiwibW9kZWxpbmciLCJfbW9kZWxpbmciLCJfZ2V0T3JpZW50YXRpb25EZXRhaWxzIiwiYXhpcyIsImRpbWVuc2lvbiIsIl9pc1R5cGUiLCJfYWxpZ25tZW50UG9zaXRpb24iLCJzb3J0ZWRFbGVtZW50cyIsImNlbnRlcmVkRWxlbWVudHMiLCJmaXJzdEVsZW1lbnQiLCJsYXN0RWxlbWVudCIsIm9yaWVudGF0aW9uIiwiYWxpZ25tZW50IiwiY2VudGVycyIsImhhc1NoYXJlZENlbnRlcnMiLCJmaXJzdCIsImdldE1pZGRsZU9yVG9wIiwiZmlsdGVyZWRFbGVtZW50cyIsImFsaWduRWxlbWVudHMiLCJIb3ZlckZpeCIsIl9maW5kVGFyZ2V0R2Z4IiwiZW5zdXJlSG92ZXIiLCJob3ZlckZpeCIsIkRSQUdfQUNUSVZFX0NMUyIsIkRyYWdnaW5nIiwiZGVmYXVsdE9wdGlvbnMiLCJ0cmFwQ2xpY2siLCJ0b0xvY2FsUG9pbnQiLCJnbG9iYWxQb3NpdGlvbiIsImNsaWVudFJlY3QiLCJkcmFnQ29udGV4dCIsInBheWxvYWQiLCJpc1RvdWNoIiwiYWN0aXZhdGUiLCJkaXNwbGFjZW1lbnQiLCJnbG9iYWxTdGFydCIsImdsb2JhbEN1cnJlbnQiLCJnbG9iYWxEZWx0YSIsImxvY2FsU3RhcnQiLCJsb2NhbEN1cnJlbnQiLCJsb2NhbERlbHRhIiwiYWN0aXZlIiwiY2FuY2VsIiwia2VlcFNlbGVjdGlvbiIsImN1cnNvciIsImNsZWFudXAiLCJjaGVja0NhbmNlbCIsIndoaWNoIiwidHJhcENsaWNrQW5kRW5kIiwidW50cmFwIiwidHJhcFRvdWNoIiwicmVzdG9yZSIsInByZXZpb3VzQ29udGV4dCIsIndhc0FjdGl2ZSIsImVuZERyYWciLCJleGlzdGluZ1NlbGVjdGlvbiIsInJlc3RvcmVTZWxlY3Rpb24iLCJyZWxhdGl2ZVRvIiwiVG91Y2hFdmVudCIsImlzVG91Y2hFdmVudCIsIm1hbnVhbCIsImF1dG9BY3RpdmF0ZSIsInNldE9wdGlvbnMiLCJBdXRvU2Nyb2xsIiwiX29wdHMiLCJzY3JvbGxUaHJlc2hvbGRJbiIsInNjcm9sbFRocmVzaG9sZE91dCIsInNjcm9sbFJlcGVhdFRpbWVvdXQiLCJzY3JvbGxTdGVwIiwiX3RvQm9yZGVyUG9pbnQiLCJzdGFydFNjcm9sbCIsInN0b3BTY3JvbGwiLCJkaWZmIiwiX3Njcm9sbGluZyIsImNsZWFyVGltZW91dCIsImF1dG9TY3JvbGwiLCJSdWxlcyIsIl9jb21tYW5kU3RhY2siLCJhbGxvd2VkIiwiY29tbWFuZFN0YWNrIiwicnVsZXMiLCJwb2ludERpc3RhbmNlIiwicG9pbnRzT25MaW5lIiwiYWNjdXJhY3kiLCJkaXN0IiwicG9pbnRzQWxpZ25lZCIsImZpcnN0UG9pbnQiLCJwb2ludHNBbGlnbmVkSG9yaXpvbnRhbGx5IiwicG9pbnRzQWxpZ25lZFZlcnRpY2FsbHkiLCJnZXRNaWRQb2ludCIsImdldENvbm5lY3Rpb25JbnRlcnNlY3Rpb24iLCJiZW5kcG9pbnQiLCJnZXRCZW5kcG9pbnRJbnRlcnNlY3Rpb24iLCJzZWdtZW50cyIsImludGVyc2VjdGlvbnMiLCJjaXJjbGVQYXRoIiwic2VnbWVudDIiLCJnZXRQYXRoSW50ZXJzZWN0aW9uIiwiZ2V0QXBwcm94SW50ZXJzZWN0aW9uIiwidG9DYW52YXNDb29yZGluYXRlcyIsImFkZEJlbmRwb2ludCIsImdyb3VwR2Z4IiwiYWRkU2VnbWVudERyYWdnZXIiLCJzZWdtZW50U3RhcnQiLCJzZWdtZW50RW5kIiwiZHJhZ2dlckdmeCIsImhpdFdpZHRoIiwic2VnbWVudExlbmd0aFhBeGlzIiwic2VnbWVudExlbmd0aFlBeGlzIiwiY2FsY3VsYXRlU2VnbWVudE1vdmVSZWdpb24iLCJjYWxjdWxhdGVIaXRXaWR0aCIsImFuZ2xlIiwicm90YXRlIiwic2V0Um90YXRlIiwiY3JlYXRlUGFyYWxsZWxEcmFnZ2VyIiwic2VnbWVudExlbmd0aCIsIkJlbmRwb2ludHMiLCJiZW5kcG9pbnRNb3ZlIiwiY29ubmVjdGlvblNlZ21lbnRNb3ZlIiwiYmluZEludGVyYWN0aW9uRXZlbnRzIiwiZ2V0QmVuZHBvaW50c0NvbnRhaW5lciIsImdldFNlZ21lbnREcmFnZ2VyIiwiY3JlYXRlQmVuZHBvaW50cyIsImNyZWF0ZVNlZ21lbnREcmFnZ2VycyIsInNlZ21lbnREcmFnZ2VyR2Z4IiwiYWRkSGFuZGxlcyIsInVwZGF0ZUhhbmRsZXMiLCJjbGVhclNlZ21lbnREcmFnZ2VycyIsImNsZWFyQmVuZHBvaW50cyIsImJlbmRwb2ludHNHZngiLCJpbnRlcnNlY3Rpb24iLCJmbG9hdGluZyIsInVwZGF0ZUZsb2F0aW5nQmVuZHBvaW50UG9zaXRpb24iLCJkcmFnZ2VyVmlzdWFsIiwicmVsYXRpdmVQb3NpdGlvbiIsImdldERyYWdnZXJWaXN1YWwiLCJ1cGRhdGVTZWdtZW50RHJhZ2dlclBvc2l0aW9uIiwidHJlc2hvbGQiLCJwMCIsInAxIiwiYWxpZ25lZCIsInhEZWx0YSIsInlEZWx0YSIsImlzSW50ZXJzZWN0aW9uTWlkZGxlIiwicmVsZXZhbnRTZWdtZW50IiwiY2FsY3VsYXRlSW50ZXJzZWN0aW9uVGhyZXNob2xkIiwiYWN0aXZhdGVCZW5kcG9pbnRNb3ZlIiwicHJpbWFyeSIsImJlbmRwb2ludENvbnRhaW5lciIsInJvdW5kUG9pbnQiLCJhc1RSQkwiLCJhc0JvdW5kcyIsInRyYmwiLCJnZXRNaWQiLCJnZXRPcmllbnRhdGlvbiIsInJlY3RPcmllbnRhdGlvbiIsInJlZmVyZW5jZU9yaWVudGF0aW9uIiwiZ2V0RWxlbWVudExpbmVJbnRlcnNlY3Rpb24iLCJlbGVtZW50UGF0aCIsImxpbmVQYXRoIiwiY3JvcFN0YXJ0IiwiZGlzdGFuY2UiLCJ0MiIsIlJFQ09OTkVDVF9TVEFSVCIsIlJFQ09OTkVDVF9FTkQiLCJVUERBVEVfV0FZUE9JTlRTIiwiQmVuZHBvaW50TW92ZSIsIl9pbmplY3RvciIsImJlbmRwb2ludEluZGV4IiwiaW5zZXJ0IiwiY29tbWFuZCIsImNvbm5lY3Rpb25HZngiLCJuZXdXYXlwb2ludHMiLCJkb2NraW5nIiwiY3JvcFdheXBvaW50cyIsInVwZGF0ZVdheXBvaW50cyIsInByZXZpb3VzUG9pbnQiLCJuZXh0UG9pbnQiLCJmaWx0ZXJSZWR1bmRhbnRXYXlwb2ludHMiLCJpc1JldmVyc2UiLCJyZWNvbm5lY3QiLCJjb25uZWN0aW9uRG9ja2luZyIsImdldENyb3BwZWRXYXlwb2ludHMiLCJNQVJLRVJfT0siLCJNQVJLRVJfTk9UX09LIiwiTUFSS0VSX0NPTk5FQ1RfSE9WRVIiLCJNQVJLRVJfQ09OTkVDVF9VUERBVElORyIsIk1BUktFUl9FTEVNRU5UX0hJRERFTiIsIkJlbmRwb2ludE1vdmVQcmV2aWV3IiwiY29ubmVjdGlvblByZXZpZXciLCJkcmF3UHJldmlld0hpbnRzIiwiY29ubmVjdGlvblN0YXJ0IiwiY29ubmVjdGlvbkVuZCIsIm5vQ3JvcHBpbmciLCJub0xheW91dCIsImRyYXdQcmV2aWV3IiwiY2xlYW5VcCIsImF4aXNBZGQiLCJheGlzU2V0IiwiZmxpcEF4aXMiLCJnZXREb2NraW5nIiwicmVmZXJlbmNlRWxlbWVudCIsIm1vdmVBeGlzIiwicmVmZXJlbmNlTWlkIiwiaW52ZXJzZUF4aXMiLCJDb25uZWN0aW9uU2VnbWVudE1vdmUiLCJjcm9wQ29ubmVjdGlvbiIsImNyb3BwZWRXYXlwb2ludHMiLCJvbGRXYXlwb2ludHMiLCJyZWRyYXdDb25uZWN0aW9uIiwiZHJhZ1Bvc2l0aW9uIiwic2VnbWVudFN0YXJ0SW5kZXgiLCJzZWdtZW50RW5kSW5kZXgiLCJvcmlnaW5hbFdheXBvaW50cyIsInNvdXJjZVRvU2VnbWVudE9yaWVudGF0aW9uIiwidGFyZ2V0VG9TZWdtZW50T3JpZW50YXRpb24iLCJuZXdTZWdtZW50U3RhcnQiLCJuZXdTZWdtZW50RW5kIiwid2F5cG9pbnRDb3VudCIsInNlZ21lbnRPZmZzZXQiLCJtYXhWYWx1ZSIsIm1pblZhbHVlIiwiZHJhZ2dlclBvc2l0aW9uIiwidXBkYXRlRHJhZ2dlciIsIm5ld1NlZ21lbnRTdGFydEluZGV4Iiwic2VnbWVudE1vdmUiLCJkZWZhdWx0VmFsdWUiLCJpc1NuYXBwZWQiLCJzbmFwcGVkIiwic2V0U25hcHBlZCIsInByZXZpb3VzVmFsdWUiLCJCZW5kcG9pbnRTbmFwcGluZyIsInNuYXBUbyIsInN4Iiwic3kiLCJzbmFwUG9pbnRzIiwicmVmZXJlbmNlV2F5cG9pbnRzIiwiZ2V0Q29ubmVjdGlvblNlZ21lbnRTbmFwcyIsImdldEJlbmRwb2ludFNuYXBzIiwiaG92ZXJNaWQiLCJiZW5kcG9pbnRzIiwiYmVuZHBvaW50TW92ZVByZXZpZXciLCJiZW5kcG9pbnRTbmFwcGluZyIsIllFTExPVyIsIkdSRUVOIiwiUElOSyIsIklDRV9CTFVFIiwiQkxVRSIsIk9SQU5HRSIsIkJMQUNLIiwiREVGQVVMVF9TSEFQRSIsIkNhbnZhc0NyZWF0ZSIsImRpcmVjdEVkaXRpbmciLCJsYXN0Q3JlYXRlZFNoYXBlIiwiZXZlbnRQb2ludCIsIl9nZXROZXdTaGFwZVBvc2l0aW9uIiwibmV3U2hhcGUiLCJjcmVhdGVQb3N0aXRFbGVtZW50IiwiX2NyZWF0ZVNoYXBlT25DYW52YXMiLCJfc2F2ZUxhc3RDcmVhdGVkU2hhcGUiLCJUZXh0Qm94IiwiY29udGVudCIsImtleUhhbmRsZXIiLCJyZXNpemVIYW5kbGVyIiwiYXV0b1Jlc2l6ZSIsImhhbmRsZVBhc3RlIiwiRGlyZWN0RWRpdGluZyIsIl90ZXh0Ym94IiwiX2hhbmRsZUtleSIsIl9oYW5kbGVSZXNpemUiLCJwYXJlbnRTdHlsZSIsIm1heEhlaWdodCIsIm1pbldpZHRoIiwibWluSGVpZ2h0IiwiYmFja2dyb3VuZENvbG9yIiwiYm9yZGVyIiwiYm94U2l6aW5nIiwid29yZFdyYXAiLCJ0ZXh0QWxpZ24iLCJjb250ZW50U3R5bGUiLCJjZW50ZXJWZXJ0aWNhbGx5IiwiaW5uZXJUZXh0IiwicmVzaXphYmxlIiwic2V0U2VsZWN0aW9uIiwiY2xpcGJvYXJkRGF0YSIsImdldERhdGEiLCJpbnNlcnRUZXh0IiwiaGFzUmVzaXplZCIsImV4ZWNDb21tYW5kIiwiX2luc2VydFRleHRJRSIsIm5vZGVMaXN0IiwiZ2V0U2VsZWN0aW9uIiwic3RhcnRDb250YWluZXIiLCJlbmRDb250YWluZXIiLCJzdGFydE9mZnNldCIsImVuZE9mZnNldCIsImNvbW1vbkFuY2VzdG9yQ29udGFpbmVyIiwiY2hpbGROb2Rlc0FycmF5IiwiTm9kZSIsIlRFWFRfTk9ERSIsImlzVGV4dE5vZGUiLCJjb250YWluZXJUZXh0Q29udGVudCIsInRleHROb2RlIiwic3RhcnRDb250YWluZXJDaGlsZEluZGV4IiwiZW5kQ29udGFpbmVyQ2hpbGRJbmRleCIsImNoaWxkTm9kZSIsInNjcm9sbEhlaWdodCIsIm9mZnNldEhlaWdodCIsInJlc2l6ZUhhbmRsZSIsInN0YXJ0WCIsInN0YXJ0WSIsInN0YXJ0V2lkdGgiLCJzdGFydEhlaWdodCIsIm9uTW91c2VNb3ZlIiwibmV3V2lkdGgiLCJuZXdIZWlnaHQiLCJvbk1vdXNlVXAiLCJib3JkZXJUb3AiLCJib3JkZXJSaWdodCIsImJvcmRlckJvdHRvbSIsImJvcmRlckxlZnQiLCJnZXRWYWx1ZSIsImdldFJhbmdlQXQiLCJjcmVhdGVSYW5nZSIsInNlbGVjdE5vZGVDb250ZW50cyIsInNldFN0YXJ0Iiwic2V0RW5kIiwicmVtb3ZlQWxsUmFuZ2VzIiwiYWRkUmFuZ2UiLCJyZWdpc3RlclByb3ZpZGVyIiwiX2FjdGl2ZSIsImNsb3NlIiwiY29tcGxldGUiLCJjb250YWluZXJCb3VuZHMiLCJwcmV2aW91c0JvdW5kcyIsIm5ld0JvdW5kcyIsIiR0ZXh0Ym94IiwibmV3VGV4dCIsImNoYXJDb2RlIiwiY2FudmFzQ3JlYXRlIiwiQ29ubmVjdCIsImNhbkNvbm5lY3QiLCJjb25uZWN0IiwiQ29ubmVjdFByZXZpZXciLCJzdGFydFBvc2l0aW9uIiwiY29ubmVjdFByZXZpZXciLCJDb25uZWN0aW9uUHJldmlldyIsIl9jb25uZWN0aW9uRG9ja2luZyIsIl9sYXlvdXRlciIsInJldHVyblZhbHVlcyIsImNvbm5lY3Rpb25QcmV2aWV3R2Z4IiwiZ2V0Q29ubmVjdGlvbiIsIm5vTm9vcCIsImNyZWF0ZUNvbm5lY3Rpb25QcmV2aWV3R2Z4IiwiZmlyc3RBcmd1bWVudCIsIkpTT04iLCJzdHJpbmdpZnkiLCJsYXlvdXRDb25uZWN0aW9uIiwiZHJhd05vb3BQcmV2aWV3IiwiY3JlYXRlTm9vcENvbm5lY3Rpb24iLCJzb3VyY2VQYXRoIiwidGFyZ2V0UGF0aCIsImVuc3VyZUNvbm5lY3Rpb25BdHRycyIsImVudHJ5U2VsZWN0b3IiLCJDb250ZXh0UGFkIiwiX292ZXJsYXlzQ29uZmlnIiwiX2N1cnJlbnQiLCJpc09wZW4iLCJjdXJyZW50IiwiZ2V0RW50cmllcyIsIl9nZXRQcm92aWRlcnMiLCJlbnRyaWVzIiwiZW50cmllc09yVXBkYXRlciIsImdldENvbnRleHRQYWRFbnRyaWVzIiwiX3VwZGF0ZUFuZE9wZW4iLCJnZXRQYWQiLCJncm91cGluZyIsImNvbnRyb2wiLCJhZGRDbGFzc2VzIiwidGl0bGUiLCJpbWFnZVVybCIsIm92ZXJsYXlzQ29uZmlnIiwiX292ZXJsYXlJZCIsIk1BUktFUl9UWVBFUyIsIk5PREVTX0NBTl9IQVZFX01BUktFUiIsIlByZXZpZXdTdXBwb3J0IiwiX3N0eWxlcyIsIl9jbG9uZWRNYXJrZXJzIiwiY2xvbmVkTWFya2VyIiwiYWRkRHJhZ2dlciIsImRyYWdnZXIiLCJfY2xvbmVNYXJrZXJzIiwiYWRkRnJhbWUiLCJmcmFtZSIsImNhbkhhdmVNYXJrZXIiLCJtYXJrZXJUeXBlIiwiZ2V0TWFya2VyIiwiX2Nsb25lTWFya2VyIiwibWFya2VySWQiLCJjbG9uZWRNYXJrZXJJZCIsInByZXZpZXdTdXBwb3J0IiwiTUFSS0VSX0FUVEFDSCIsIk1BUktFUl9ORVdfUEFSRU5UIiwiUFJFRklYIiwiQ3JlYXRlIiwic2V0TWFya2VyIiwiZW5zdXJlQ29uc3RyYWludHMiLCJpc0Nvbm5lY3Rpb24iLCJhdHRhY2giLCJpc1NpbmdsZVNoYXBlIiwiY29ubmVjdGlvblRhcmdldCIsInRhcmdldFBhcmVudCIsInRhcmdldEF0dGFjaCIsImNhbkNyZWF0ZSIsImFwcGVuZFNoYXBlIiwiY3JlYXRlRWxlbWVudHMiLCJ3YXlwb2ludCIsImNyZWF0ZUNvbnN0cmFpbnRzIiwiQ3JlYXRlUHJldmlldyIsImRyYWdHcm91cCIsImNyZWF0ZURyYWdHcm91cCIsImNyZWF0ZVByZXZpZXciLCJEQVRBX1JFRiIsIkNMT1NFX0VWRU5UUyIsIlBvcHVwTWVudSIsImlzRW1wdHkiLCJwcm92aWRlcklkIiwiX2dldEVudHJpZXMiLCJoZWFkZXJFbnRyaWVzIiwiX2dldEhlYWRlckVudHJpZXMiLCJoYXNFbnRyaWVzIiwiaGFzSGVhZGVyRW50cmllcyIsIl9jcmVhdGVFbnRyaWVzIiwiX2F0dGFjaENvbnRhaW5lciIsIl9iaW5kQXV0b0Nsb3NlIiwiX3VuYmluZEF1dG9DbG9zZSIsImVudHJ5SWQiLCJfZ2V0RW50cnkiLCJnZXRQb3B1cE1lbnVFbnRyaWVzIiwiZ2V0UG9wdXBNZW51SGVhZGVyRW50cmllcyIsImdldEhlYWRlckVudHJpZXMiLCJ2aXNpYmlsaXR5IiwiX3VwZGF0ZVNjYWxlIiwiX2Fzc3VyZUlzSW5ib3VuZHMiLCJzY2FsZUNvbmZpZyIsImNvbnRhaW5lclgiLCJvZmZzZXRMZWZ0IiwiY29udGFpbmVyWSIsIm9mZnNldFRvcCIsInNjcm9sbFdpZHRoIiwib3ZlckF4aXMiLCJjdXJzb3JQb3NpdGlvbiIsImVudHJpZXNDb250YWluZXIiLCJlbnRyeUNvbnRhaW5lciIsIl9jcmVhdGVFbnRyeSIsImVudHJ5Q2xhc3NlcyIsImRpc2FibGVkIiwicG9wdXBNZW51IiwiQ2xpcGJvYXJkIiwiX2RhdGEiLCJjbGlwYm9hcmQiLCJNb3VzZSIsInNldExhc3RNb3ZlRXZlbnQiLCJtb3VzZW1vdmVFdmVudCIsIl9sYXN0TW92ZUV2ZW50IiwiX2xhc3RNb3VzZUV2ZW50IiwiZ2V0TGFzdE1vdmVFdmVudCIsImluaXRNb3VzZUV2ZW50IiwiY3JlYXRlTW92ZUV2ZW50IiwibW91c2UiLCJDb3B5UGFzdGUiLCJfY3JlYXRlIiwiX2NsaXBib2FyZCIsIl9tb3VzZSIsIl9ydWxlcyIsImlzQXR0YWNoZXIiLCJjb3B5V2F5cG9pbnQiLCJjb3B5V2F5cG9pbnRzIiwiY3JlYXRlRWxlbWVudHNCZWhhdmlvciIsInJlbW92ZUVsZW1lbnQiLCJjb3B5IiwiY3JlYXRlVHJlZSIsInBhc3RlIiwiX2NyZWF0ZUVsZW1lbnRzIiwiX3Bhc3RlIiwiYnJhbmNoIiwiaGFzUmVsYXRpb25zIiwiZWxlbWVudHNEYXRhIiwiYWRkRWxlbWVudERhdGEiLCJmb3VuZEVsZW1lbnREYXRhIiwicmVtb3ZlRWxlbWVudERhdGEiLCJfaW5kZXgiLCJpbmNvbWluZyIsIm91dGdvaW5nIiwiY2FuQ29weSIsImNvcHlQYXN0ZSIsImNvcHlQcm9wZXJ0aWVzIiwiUG9zdGl0Q29weVBhc3RlIiwicG9zdGl0RmFjdG9yeSIsIm1vZGRsZUNvcHkiLCJvbGRCdXNpbmVzc09iamVjdCIsIm5ld0J1c2luZXNzT2JqZWN0IiwiY29weUVsZW1lbnQiLCJESVNBTExPV0VEX1BST1BFUlRJRVMiLCJNb2RkbGVDb3B5IiwiX3Bvc3RpdEZhY3RvcnkiLCJwcm9wZXJ0eU5hbWVzIiwicGFyZW50RGVzY3JpcHRvciIsImdldFByb3BlcnR5TmFtZXMiLCJrZWVwRGVmYXVsdFByb3BlcnRpZXMiLCJzb3VyY2VFbGVtZW50IiwiY2FuQ29weVByb3BlcnRpZXMiLCJzb3VyY2VQcm9wZXJ0eSIsImNvcGllZFByb3BlcnR5IiwiY29weVByb3BlcnR5IiwiY2hpbGRQcm9wZXJ0aWVzIiwiY2hpbGRQcm9wZXJ0eSIsInBvc3RpdENvcHlQYXN0ZSIsIlJlcGxhY2UiLCJyZXBsYWNlRWxlbWVudCIsIm9sZEVsZW1lbnQiLCJuZXdFbGVtZW50RGF0YSIsImNlbnRlclgiLCJjZW50ZXJZIiwicmVwbGFjZVNoYXBlIiwiQ1VTVE9NX1BST1BFUlRJRVMiLCJQb3N0aXRSZXBsYWNlIiwiYTIiLCJlbGVtZW50UHJvcHMiLCJuZXdFbGVtZW50UHJvcHMiLCJjb3B5UHJvcHMiLCJwb3N0aXRSZXBsYWNlIiwiUmVwbGFjZU1lbnVQcm92aWRlciIsIl9wb3B1cE1lbnUiLCJfcG9zdGl0UmVwbGFjZSIsInJlZ2lzdGVyIiwicmVwbGFjZU9wdGlvbnMiLCJtZW51RW50cmllcyIsImRlZmluaXRpb24iLCJfY3JlYXRlTWVudUVudHJ5IiwiYWN0aW9uTmFtZSIsInJlcGxhY2VNZW51UHJvdmlkZXIiLCJDb250ZXh0UGFkUHJvdmlkZXIiLCJpbWFnZVNlbGVjdGlvbiIsIl9jb250ZXh0UGFkIiwiX2ltYWdlU2VsZWN0aW9uIiwiYXV0b1BsYWNlIiwiX2F1dG9QbGFjZSIsImFjdGlvbnMiLCJzX2tleSIsIlVSTFNlYXJjaFBhcmFtcyIsImxvY2F0aW9uIiwic2hlcGhlcmRBbGVydCIsIiQiLCJhamF4IiwiYmVmb3JlU2VuZCIsInhociIsInNldFJlcXVlc3RIZWFkZXIiLCJ1cmwiLCJyZXNwb25zZVR5cGUiLCJkYXRhVHlwZSIsImZhaWx1cmUiLCJyZW1vdmVFbGVtZW50cyIsInNoZXBoZXJkQ29uZmlybSIsInNldENvbG9yIiwiY3JlYXRlQ29sb3JpbmdFbnRyaWVzIiwiZGVsZXRlQWxsb3dlZCIsImNyZWF0ZURlbGV0ZUVudHJ5IiwiY29udGV4dFBhZFByb3ZpZGVyIiwiTk9UX1JFR0lTVEVSRURfRVJST1IiLCJFZGl0b3JBY3Rpb25zIiwiX2FjdGlvbnMiLCJfcmVnaXN0ZXJEZWZhdWx0QWN0aW9ucyIsImtleWJvYXJkTW92ZVNlbGVjdGlvbiIsInVuZG8iLCJyZWRvIiwicmVtb3ZhYmxlRWxlbWVudHMiLCJtb3ZlU2VsZWN0aW9uIiwiYWNjZWxlcmF0ZWQiLCJfcmVnaXN0ZXJBY3Rpb24iLCJ1bnJlZ2lzdGVyIiwiZ2V0QWN0aW9ucyIsIlBvc3RpdEVkaXRvckFjdGlvbnMiLCJzcGFjZVRvb2wiLCJsYXNzb1Rvb2wiLCJoYW5kVG9vbCIsImRpc3RyaWJ1dGVFbGVtZW50cyIsInNlYXJjaFBhZCIsImN1cnJlbnRTZWxlY3Rpb24iLCJib3VuZGluZ0JveCIsIm1vdmVFbGVtZW50cyIsImltYWdlUHJvY2Vzc29yIiwiZXYiLCJmaWxlIiwiRmlsZVJlYWRlciIsIm9ubG9hZGVuZCIsInJlYWRBc0RhdGFVUkwiLCJmaWxlVG9EYXRhVVJMIiwiZ2V0TW91c2VQb3NpdGlvbiIsInBhZ2VYIiwicGFnZVkiLCJzY3JvbGxMZWZ0Iiwic2Nyb2xsVG9wIiwiSW1hZ2VTZWxlY3Rpb24iLCJzZWxlY3RJbWFnZSIsIklNQUdFX1NFTEVDVElPTl9NQVJLVVAiLCJfZ2V0UGFyZW50Q29udGFpbmVyIiwibW91c2VQb3NpdGlvbiIsImdldE9mZnNldExlZnQiLCJnZXRPZmZzZXRUb3AiLCJpbnB1dEZpZWxkIiwic3VibWl0QnV0dG9uIiwiaW1hZ2VVcGxvYWRUZXh0RXJyb3IiLCJpbWFnZVVwbG9hZFRleHRVcGxvYWQiLCJpbWFnZVVwbG9hZFRleHRMaXN0IiwiaW1hZ2VVcGxvYWRSZWFkZXIiLCJtb2RhbCIsImZpbGVzVG9VcGxvYWQiLCJ1cGxvYWRUZXh0TGlzdEhlaWdodCIsImZvY3VzIiwiY2FudmFzRGVmYXVsdENsaWNrIiwiaXNCdG4iLCJidG4iLCJtb3VzZVBvcyIsImRlZmF1bHRWaWV3IiwiZ2V0Q29tcHV0ZWRTdHlsZSIsInJlbW92ZUltYWdlU2VsZWN0aW9uTW9kYWwiLCJkaXNwYXRjaEV2ZW50IiwiZWxlbSIsIm9mZnNldFBhcmVudCIsInVwbG9hZEltYWdlIiwiYmxvYiIsImZldGNoIiwiZmlsZXMiLCJBY3RpdmVTdG9yYWdlIiwiRGlyZWN0VXBsb2FkIiwiZGlyZWN0X3VwbG9hZF91cmwiLCJCdWdzbmFnIiwibm90aWZ5Iiwic3VjY2VzcyIsInVwZGF0ZVByb3BlcnRpZXMiLCJ1cGxvYWREaXNwbGF5VGV4dCIsInVwbG9hZFJlc3VsdE9iaiIsImVycm9ycyIsInVwbG9hZFJlc3VsdCIsImZpbGVJdGVtcyIsImZpbGVSZWFkZXIiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwidXBsb2FkZWRGaWxlc0NvdW50IiwiZXN2ZW50IiwiUG9zdGl0S2V5Ym9hcmRCaW5kaW5ncyIsIkxFRlQiLCJSSUdIVCIsIkRPV04iLCJLRVlfVE9fRElSRUNUSU9OIiwiQXJyb3dMZWZ0IiwiTGVmdCIsIkFycm93VXAiLCJVcCIsIkFycm93UmlnaHQiLCJSaWdodCIsIkFycm93RG93biIsIkRvd24iLCJESVJFQ1RJT05TX0RFTFRBIiwidXAiLCJkb3duIiwiS2V5Ym9hcmRNb3ZlU2VsZWN0aW9uIiwic2hhcGVzIiwiQ2hhbmdlU3VwcG9ydCIsImNoYW5nZVN1cHBvcnQiLCJhcHBseUNvbnN0cmFpbnRzIiwicmVzaXplQ29uc3RyYWludHMiLCJhc1BhZGRpbmciLCJtYXlCZVBhZGRpbmciLCJpc0JCb3hDaGlsZCIsIlJlc2l6ZSIsIl9kcmFnZ2luZyIsIm1pbkJvdW5kcyIsImNvbXB1dGVNaW5SZXNpemVCb3giLCJyZXNpemVCb3VuZHMiLCJjdXJyZW50Qm91bmRzIiwiY3VycmVudFRyYmwiLCJjYW5SZXNpemUiLCJib3VuZHNDaGFuZ2VkIiwicmVzaXplU2hhcGUiLCJnZXRSZWZlcmVuY2VQb2ludCIsInJlZmVyZW5jZVBvaW50IiwiZ2V0Q3Vyc29yIiwiY29udGV4dE9yRGlyZWN0aW9uIiwibWluRGltZW5zaW9ucyIsImNoaWxkcmVuQm91bmRzIiwiY3VycmVudEJveCIsIm1pbkJveCIsImNoaWxkcmVuQm94Iiwic2hhcGVPckNoaWxkcmVuIiwiYWRkUGFkZGluZyIsImNvbXB1dGVDaGlsZHJlbkJCb3giLCJjaGlsZHJlbkJveFBhZGRpbmciLCJNQVJLRVJfUkVTSVpJTkciLCJNQVJLRVJfUkVTSVpFX05PVF9PSyIsIlJlc2l6ZVByZXZpZXciLCJkaXJlY3Rpb25zIiwiUmVzaXplSGFuZGxlcyIsInJlc2l6ZSIsIl9yZXNpemUiLCJyZW1vdmVSZXNpemVycyIsImFkZFJlc2l6ZXIiLCJtYWtlRHJhZ2dhYmxlIiwic3RhcnRSZXNpemUiLCJfY3JlYXRlUmVzaXplciIsInJlc2l6ZXJzUGFyZW50IiwiX2dldFJlc2l6ZXJzUGFyZW50IiwiZ2V0SGFuZGxlT2Zmc2V0IiwiQ0xTX1JFU0laRVIiLCJhbW91bnQiLCJzZXRTY2FsZSIsImNyZWF0ZVJlc2l6ZXIiLCJyZXNpemVyIiwicmVzaXplUHJldmlldyIsInJlc2l6ZUhhbmRsZXMiLCJMYWJlbEVkaXRpbmdQcm92aWRlciIsImFjdGl2YXRlRGlyZWN0RWRpdCIsImdldEVkaXRpbmdCQm94IiwiZXh0ZXJuYWxGb250U2l6ZSIsImV4dGVybmFsTGluZUhlaWdodCIsImRlZmF1bHRGb250U2l6ZSIsImRlZmF1bHRMaW5lSGVpZ2h0IiwicGFkZGluZ1RvcCIsInBhZGRpbmdCb3R0b20iLCJwYWRkaW5nTGVmdCIsInBhZGRpbmdSaWdodCIsImV4dGVybmFsTGFiZWxNaWQiLCJhYnNvbHV0ZUJCb3giLCJ1cGRhdGVMYWJlbCIsIk1BUktFUl9ISURERU4iLCJNQVJLRVJfTEFCRUxfSElEREVOIiwiTGFiZWxFZGl0aW5nUHJldmlldyIsImFjdGl2ZVByb3ZpZGVyIiwibGFiZWxFZGl0aW5nUHJvdmlkZXIiLCJsYWJlbEVkaXRpbmdQcmV2aWV3IiwiQ29tbWFuZEludGVyY2VwdG9yIiwiaG9vayIsImhhbmRsZXJGbiIsImZ1bGxFdmVudCIsInVud3JhcEV2ZW50IiwiQUxJR05NRU5UUyIsIkFkYXB0aXZlTGFiZWxQb3NpdGlvbmluZ0JlaGF2aW9yIiwiY2hlY2tMYWJlbEFkanVzdG1lbnQiLCJvcHRpbWFsUG9zaXRpb24iLCJsYWJlbE1pZCIsImxhYmVsT3JpZW50YXRpb24iLCJnZXRBcHByb3hpbWF0ZU9yaWVudGF0aW9uIiwidGFrZW5BbGlnbm1lbnRzIiwiZWxlbWVudE1pZCIsImdldFRha2VuQ29ubmVjdGlvbkFsaWdubWVudHMiLCJ0YWtlbkhvc3RBbGlnbm1lbnRzIiwiZnJlZUFsaWdubWVudHMiLCJob3N0RWxlbWVudCIsImhvc3RPcmllbnRhdGlvbiIsImdldFRha2VuSG9zdEFsaWdubWVudHMiLCJnZXRPcHRpbWFsUG9zaXRpb24iLCJuZXdMYWJlbE1pZCIsImVsZW1lbnRUcmJsIiwibW92ZVNoYXBlIiwiYWRqdXN0TGFiZWxQb3NpdGlvbiIsInBvc3RFeGVjdXRlZCIsIkFwcGVuZEJlaGF2aW9yIiwicHJlRXhlY3V0ZSIsIkZpeEhvdmVyQmVoYXZpb3IiLCJsaW5lSW50ZXJzZWN0IiwibDFzIiwibDFlIiwibDJzIiwibDJlIiwiZGVub21pbmF0b3IiLCJJbXBvcnREb2NraW5nRml4IiwiYWRqdXN0RG9ja2luZyIsInN0YXJ0UG9pbnQiLCJjZW50ZXJJbnRlcnNlY3QiLCJlbGVtZW50VG9wIiwiZWxlbWVudExlZnQiLCJ2ZXJ0aWNhbEludGVyc2VjdCIsImhvcml6b250YWxJbnRlcnNlY3QiLCJnZXREaXN0YW5jZSIsInAyIiwidmVjdG9yTGVuZ3RoIiwiZ2V0QW5nbGUiLCJhdGFuIiwicGVycGVuZGljdWxhckZvb3QiLCJiZCIsInN5c3RlbSIsImxhbWJkYSIsInNvbHZlTGFtYmFTeXN0ZW0iLCJnZXREaXN0YW5jZVBvaW50TGluZSIsInBmUG9pbnQiLCJnZXREaXN0YW5jZVBvaW50UG9pbnQiLCJwb2ludDEiLCJwb2ludDIiLCJzcSIsImdldENpcmNsZVNlZ21lbnRJbnRlcnNlY3Rpb25zIiwiczEiLCJzMiIsImNjIiwiY3IiLCJiYVgiLCJiYVkiLCJjYVgiLCJjYVkiLCJwQnkyIiwidG1wU3FydCIsImFiU2NhbGluZ0ZhY3RvcjEiLCJhYlNjYWxpbmdGYWN0b3IyIiwiaTEiLCJmZW5jZWQiLCJpc1BvaW50SW5TZWdtZW50IiwicmFuZ2VTdGFydCIsInJhbmdlRW5kIiwiRVFVQUxfVEhSRVNIT0xEIiwicG9pbnRzRXF1YWwiLCJyZWxhdGl2ZVBvc2l0aW9uTWlkV2F5cG9pbnQiLCJkaXN0YW5jZVNlZ21lbnQxIiwiZ2V0TGluZSIsImdldE5ld0F0dGFjaFBvaW50Iiwib2xkQm91bmRzIiwib2xkQ2VudGVyIiwibmV3Q2VudGVyIiwib2xkRGVsdGEiLCJuZXdEZWx0YSIsImdldE5ld0F0dGFjaFNoYXBlRGVsdGEiLCJzaGFwZUNlbnRlciIsInNoYXBlRGVsdGEiLCJvbGRDZW50ZXJEZWx0YSIsInN0aWNreVBvc2l0aW9uRGVsdGEiLCJvbGRTaGFwZUNlbnRlciIsIm9sZFRSQkwiLCJuZXdUUkJMIiwiaXNIb3Jpem9udGFsbHlNb3ZlZCIsImlzVmVydGljYWxseU1vdmVkIiwiaXNNb3ZlZCIsIm9sZE9yaWVudGF0aW9uIiwiZ2V0U3RpY2t5UG9zaXRpb25EZWx0YSIsIm5ld0NlbnRlckRlbHRhIiwibmV3U2hhcGVDZW50ZXIiLCJERUZBVUxUX0xBQkVMX0RJTUVOU0lPTlMiLCJMYWJlbEJlaGF2aW9yIiwicG9zdEV4ZWN1dGUiLCJsYWJlbENlbnRlciIsImxhYmVsRGltZW5zaW9ucyIsInVuc2V0TGFiZWwiLCJsYWJlbEJlaGF2aW9yIiwibGFiZWxBZGp1c3RtZW50Iiwic3RhcnRDaGFuZ2VkIiwiZW5kQ2hhbmdlZCIsImxhYmVsUG9zaXRpb24iLCJnZXRMYWJlbE1pZCIsImF0dGFjaG1lbnQiLCJzZWdtZW50U3RhcnREaXN0YW5jZSIsInNlZ21lbnRFbmREaXN0YW5jZSIsImF0dGFjaG1lbnRQb3NpdGlvbiIsImF0dGFjaG1lbnREaXN0YW5jZSIsImNsb3Nlc3RBdHRhY2htZW50RGlzdGFuY2UiLCJjbG9zZXN0QXR0YWNobWVudCIsInNlZ21lbnRJbmRleCIsInJlbGF0aXZlTG9jYXRpb24iLCJnZXRBdHRhY2htZW50Iiwib2xkTGFiZWxMaW5lSW5kZXgiLCJuZXdMYWJlbExpbmVJbmRleCIsIm9sZFNlZ21lbnRTdGFydEluZGV4IiwibmV3SW5kZXgiLCJmaW5kTmV3TGFiZWxMaW5lU3RhcnRJbmRleCIsImwyIiwiYTEiLCJmb290IiwibGVuZ3RoVG9Gb290Iiwib2xkTGFiZWxMaW5lIiwibmV3TGFiZWxMaW5lIiwib2xkRm9vdCIsInJlbGF0aXZlRm9vdFBvc2l0aW9uIiwiYW5nbGVEZWx0YSIsIm9sZEJlbmRwb2ludEluZGV4Iiwib2xkQmVuZHBvaW50IiwibmV3QmVuZHBvaW50IiwidmVjdG9yIiwibmV3Rm9vdCIsIm5ld0xhYmVsVmVjdG9yIiwiY29zIiwic2luIiwiZ2V0TGFiZWxBZGp1c3RtZW50IiwiZ2V0VmlzaWJsZUxhYmVsQWRqdXN0bWVudCIsIm9sZFNoYXBlIiwiZ2V0UmVmZXJlbmNlUG9pbnREZWx0YSIsImdldE5lYXJlc3RMaW5lIiwiUmVwbGFjZUVsZW1lbnRCZWhhdmlvdXIiLCJwb3N0aXRSdWxlcyIsIl9zZWxlY3Rpb24iLCJuZXdQYXJlbnQiLCJuZXdIb3N0IiwiY2xvc3VyZSIsInRvcExldmVsIiwidG9wTGV2ZWxFbGVtZW50cyIsImNhblJlcGxhY2UiLCJyZXBsYWNlRWxlbWVudHMiLCJ1bmNsYWltSWQiLCJVbmNsYWltSWRCZWhhdmlvciIsInNoYXBlQm8iLCJyb290RWxlbWVudEJvIiwiQ3JlYXRlQm9hcmRFbGVtZW50QmVoYXZpb3IiLCJleGVjdXRlIiwiRW1wdHlUZXh0Qm94QmVoYXZpb3IiLCJuZXdFbGVtZW50cyIsInJlcGxhY2VtZW50IiwibmV3RWxlbWVudFR5cGUiLCJvbGRFbGVtZW50SWQiLCJhZGFwdGl2ZUxhYmVsUG9zaXRpb25pbmdCZWhhdmlvciIsImFwcGVuZEJlaGF2aW9yIiwiZml4SG92ZXJCZWhhdmlvciIsImltcG9ydERvY2tpbmdGaXgiLCJyZXBsYWNlRWxlbWVudEJlaGF2aW91ciIsInVuY2xhaW1JZEJlaGF2aW9yIiwiY3JlYXRlQm9hcmRFbGVtZW50QmVoYXZpb3IiLCJlbXB0eVRleHRCb3hCZWhhdmlvciIsIlJ1bGVQcm92aWRlciIsIlBvc3RpdFJ1bGVzIiwiaXNHcm91cCIsImNhbkRyb3AiLCJjYW5BdHRhY2giLCJjYW5Nb3ZlIiwiZXZlcnkiLCJwb3NzaWJsZVBhcmVudCIsInBhcmVudHMiLCJhZGRSdWxlIiwiUG9zdGl0RGlPcmRlcmluZyIsImRpRWxlbWVudHMiLCJyb290RGkiLCJwb3N0aXREaU9yZGVyaW5nIiwiT3JkZXJpbmdQcm92aWRlciIsIm9yZGVyaW5nIiwiZ2V0T3JkZXJpbmciLCJuZXdQYXJlbnRJbmRleCIsIlBvc3RpdE9yZGVyaW5nUHJvdmlkZXIiLCJvcmRlcnMiLCJvcmRlciIsImxldmVsIiwiZ2V0T3JkZXIiLCJjb21wdXRlT3JkZXIiLCJlbGVtZW50T3JkZXIiLCJjb250YWluZXJzIiwiYWN0dWFsUGFyZW50IiwiZmluZEFjdHVhbFBhcmVudCIsImN1cnJlbnRJbmRleCIsImluc2VydEluZGV4IiwiZmluZEluZGV4IiwicG9zdGl0T3JkZXJpbmdQcm92aWRlciIsIkNvbW1hbmRTdGFjayIsIl9oYW5kbGVyTWFwIiwiX3N0YWNrIiwiX3N0YWNrSWR4IiwiX2N1cnJlbnRFeGVjdXRpb24iLCJkaXJ0eSIsIl9wdXNoQWN0aW9uIiwiX2ludGVybmFsRXhlY3V0ZSIsIl9wb3BBY3Rpb24iLCJfZ2V0SGFuZGxlciIsIl9nZXRVbmRvQWN0aW9uIiwiX2ludGVybmFsVW5kbyIsIl9nZXRSZWRvQWN0aW9uIiwiX3NldEhhbmRsZXIiLCJyZWdpc3RlckhhbmRsZXIiLCJoYW5kbGVyQ2xzIiwiY2FuVW5kbyIsImNhblJlZG8iLCJfYXRvbWljRG8iLCJyZXZlcnQiLCJfbWFya0RpcnR5IiwiX3JldmVydGVkQWN0aW9uIiwicXVhbGlmaWVyIiwiX2NyZWF0ZUlkIiwiZXhlY3V0aW9uIiwiYXRvbWljIiwiX2V4ZWN1dGVkQWN0aW9uIiwiYmFzZUFjdGlvbiIsInN0YWNrSWR4IiwidG9vbHRpcFNlbGVjdG9yIiwiVG9vbHRpcHMiLCJfdG9vbHRpcERlZmF1bHRzIiwiX3Rvb2x0aXBzIiwiX3Rvb2x0aXBSb290IiwidG9vbHRpcCIsIl9hZGRUb29sdGlwIiwicmVtb3ZlVGltZXIiLCJ0b29sdGlwUm9vdCIsIl91cGRhdGVUb29sdGlwIiwiX3VwZGF0ZVRvb2x0aXBWaXNpYmlsdHkiLCJ0b29sdGlwcyIsInNhdmVDbGVhciIsInJlbW92ZUZuIiwiTGFiZWxTdXBwb3J0IiwibW92ZVByZXZpZXciLCJ2YWxpZGF0ZWRTaGFwZXMiLCJyZW1vdmVMYWJlbHMiLCJwcmVFeGVjdXRlZCIsImVuY2xvc2VkRWxlbWVudHMiLCJlbmNsb3NlZExhYmVscyIsImFkZEFsbCIsIm5lc3RlZCIsImxhYmVsVGFyZ2V0SW5kZXgiLCJsYWJlbFN1cHBvcnQiLCJBdHRhY2hTdXBwb3J0IiwiZ2V0QXR0YWNoZXJzIiwicmVtb3ZlQXR0YWNoZWQiLCJhdHRhY2hlciIsInVwZGF0ZUF0dGFjaG1lbnQiLCJhdHRhY2hTdXBwb3J0IiwiVG9vbE1hbmFnZXIiLCJfdG9vbHMiLCJyZWdpc3RlclRvb2wiLCJ0b29scyIsImJpbmRFdmVudHMiLCJ0b29sIiwic2V0QWN0aXZlIiwiZXZlbnRzVG9SZWdpc3RlciIsInJlYWN0aXZhdGUiLCJpc1BhbGV0dGVDbGljayIsInRvb2xNYW5hZ2VyIiwiQVhJU19UT19ESU1FTlNJT04iLCJDVVJTT1JfQ1JPU1NIQUlSIiwiRElSRUNUSU9OX1RPX1RSQkwiLCJESVJFQ1RJT05fVE9fT1BQT1NJVEUiLCJTcGFjZVRvb2wiLCJfdG9vbE1hbmFnZXIiLCJhY3RpdmF0ZU1ha2VTcGFjZSIsImluaXRpYWxpemVkIiwibW92aW5nU2hhcGVzIiwicmVzaXppbmdTaGFwZXMiLCJtYWtlU3BhY2UiLCJhY3RpdmF0ZVNlbGVjdGlvbiIsInNwYWNlVG9vbENvbnN0cmFpbnRzIiwiY3JlYXRlU3BhY2UiLCJnZXREaXJlY3Rpb24iLCJjYWxjdWxhdGVBZGp1c3RtZW50cyIsInJlc2l6aW5nU2hhcGUiLCJtaW5Pck1heCIsIm5vbk1vdmluZ1Jlc2l6aW5nQ2hpbGRyZW5CQm94IiwibW92aW5nQ2hpbGRyZW5CQm94IiwicmVzaXppbmdTaGFwZUJCb3giLCJub25Nb3ZpbmdSZXNpemluZ0NoaWxkcmVuIiwibW92aW5nQ2hpbGRyZW4iLCJyZXNpemluZ1NoYXBlTWluRGltZW5zaW9ucyIsImdldFNwYWNlVG9vbENvbnN0cmFpbnRzIiwic2hhcGVTdGFydCIsInNoYXBlRW5kIiwibW91c2VFdmVudCIsIk1BUktFUl9EUkFHR0lORyIsIlNwYWNlVG9vbFByZXZpZXciLCJhZGRQcmV2aWV3R2Z4Iiwic3BhY2UiLCJjcm9zc2hhaXJHcm91cCIsInBhdGhYIiwicGF0aFkiLCJzcGFjZUxheWVyIiwibW92aW5nQ29ubmVjdGlvbnMiLCJzb3VyY2VJc01vdmluZyIsInRhcmdldElzTW92aW5nIiwic291cmNlSXNSZXNpemluZyIsInRhcmdldElzUmVzaXppbmciLCJmcmFtZUdyb3VwIiwiZnJhbWVzIiwiaW5pdGlhbEJvdW5kcyIsInNwYWNlVG9vbFByZXZpZXciLCJQb3NpdEZhY3RvcnkiLCJfbW9kZWwiLCJQb3N0aXRVcGRhdGVyIiwidXBkYXRlUm9vdCIsIm9sZFJvb3QiLCJ1cGRhdGVQYXJlbnQiLCJ1cGRhdGVCb3VuZHMiLCJleGVjdXRlZCIsImlmUG9zdGl0Iiwib2xkUGFyZW50IiwicmV2ZXJ0ZWQiLCJBcHBlbmRTaGFwZUhhbmRsZXIiLCJDcmVhdGVDb25uZWN0aW9uSGFuZGxlciIsImxheW91dGVyIiwiX25lZWRzSWQiLCJfZW5zdXJlSWQiLCJjcmVhdGVEaUxhYmVsIiwiY3JlYXRlRGlCb3VuZHMiLCJjcmVhdGVEaVNoYXBlIiwiY3JlYXRlRGlQbGFuZSIsInBhcmVudEJ1c2luZXNzT2JqZWN0IiwicGFyZW50RGkiLCJ1cGRhdGVTZW1hbnRpY1BhcmVudCIsInVwZGF0ZURpUGFyZW50IiwiX2dldExhYmVsIiwicGxhbmVFbGVtZW50cyIsInZpc3VhbFBhcmVudCIsImNvbnRhaW5tZW50IiwiZGlDaGlsZHJlbiIsImJhc2VDcmVhdGUiLCJhdHRyaWJ1dGVOYW1lcyIsImF0dHJpYnV0ZU5hbWUiLCJhcHBseUF0dHJpYnV0ZSIsImFwcGx5QXR0cmlidXRlcyIsIl9nZXREZWZhdWx0U2l6ZSIsIkNyZWF0ZUVsZW1lbnRzSGFuZGxlciIsImNyZWF0ZVNoYXBlSGludHMiLCJDcmVhdGVTaGFwZUhhbmRsZXIiLCJDcmVhdGVMYWJlbEhhbmRsZXIiLCJwb3NpdGlvbk9yQm91bmRzIiwib3JpZ2luYWxFeGVjdXRlIiwiZW5zdXJlVmFsaWREaW1lbnNpb25zIiwib3JpZ2luYWxSZXZlcnQiLCJEZWxldGVDb25uZWN0aW9uSGFuZGxlciIsIkRlbGV0ZUVsZW1lbnRzSGFuZGxlciIsIkRlbGV0ZVNoYXBlSGFuZGxlciIsIkRpc3RyaWJ1dGVFbGVtZW50cyIsIm9sZFBhcmVudEluZGV4IiwiT0ZGX0FYSVMiLCJMYXlvdXRDb25uZWN0aW9uSGFuZGxlciIsIk1vdmVDb25uZWN0aW9uSGFuZGxlciIsImdldFJlc2l6ZWRTb3VyY2VBbmNob3IiLCJzYWZlR2V0V2F5cG9pbnRzIiwid2F5cG9pbnRzSW5zaWRlTmV3Qm91bmRzIiwiZ2V0V2F5cG9pbnRzSW5zaWRlQm91bmRzIiwib2xkQW5jaG9yIiwiZ2V0UmVzaXplZFRhcmdldEFuY2hvciIsImdldE1vdmVkU291cmNlQW5jaG9yIiwibW92ZURlbHRhIiwic3VidHJhY3QiLCJnZXRNb3ZlZFRhcmdldEFuY2hvciIsImlzSW5zaWRlQm91bmRzIiwiTW92ZUNsb3N1cmUiLCJhbGxTaGFwZXMiLCJhbGxDb25uZWN0aW9ucyIsImVuY2xvc2VkQ29ubmVjdGlvbnMiLCJNb3ZlSGVscGVyIiwiTW92ZUVsZW1lbnRzSGFuZGxlciIsIl9oZWxwZXIiLCJNb3ZlU2hhcGVIYW5kbGVyIiwiUmVjb25uZWN0Q29ubmVjdGlvbkhhbmRsZXIiLCJSZXBsYWNlU2hhcGVIYW5kbGVyIiwiUmVzaXplU2hhcGVIYW5kbGVyIiwiU3BhY2VUb29sSGFuZGxlciIsImdldEF4aXNGcm9tRGlyZWN0aW9uIiwic2hvdWxkTW92ZVdheXBvaW50IiwicmVsZXZhbnRBeGlzIiwiVG9nZ2xlU2hhcGVDb2xsYXBzZUhhbmRsZXIiLCJnZXRFbGVtZW50c1Zpc2liaWxpdHlSZWN1cnNpdmUiLCJzZXRIaWRkZW5SZWN1cnNpdmUiLCJuZXdIaWRkZW4iLCJyZXN0b3JlVmlzaWJpbGl0eVJlY3Vyc2l2ZSIsImxhc3RTdGF0ZSIsIlVwZGF0ZUF0dGFjaG1lbnRIYW5kbGVyIiwicmVtb3ZlQXR0YWNoZXIiLCJhZGRBdHRhY2hlciIsIlVwZGF0ZVdheXBvaW50c0hhbmRsZXIiLCJNb2RlbGluZyIsInJlZ2lzdGVySGFuZGxlcnMiLCJncm91cHMiLCJ1cGRhdGVSYW5nZSIsImxhc3RJZHgiLCJyYW5nZURpZmYiLCJtYXJnaW4iLCJzcGFjZUluQmV0d2VlbiIsImZpcnN0R3JvdXAiLCJsYXN0R3JvdXBJZHgiLCJsYXN0R3JvdXAiLCJncm91cHNTaXplIiwicmVmRWxlbSIsInJlZkNlbnRlciIsImNlbnRlckVsZW1lbnQiLCJncm91cElkeCIsInByZXZHcm91cCIsImlzVG9wTGV2ZWwiLCJoYW5kbGVDb25uZWN0aW9uIiwiZ2V0Q2xvc3VyZSIsIm1vdmVSZWN1cnNpdmUiLCJtb3ZlQ2xvc3VyZSIsInByaW1hcnlTaGFwZSIsImtlZXBQYXJlbnQiLCJyZWN1cnNlIiwibGF5b3V0Iiwic291cmNlTW92ZWQiLCJ0YXJnZXRNb3ZlZCIsIm1vdmVDb25uZWN0aW9uIiwibW92ZUNoaWxkcmVuIiwiZ2V0TmV3UGFyZW50IiwibmV3U291cmNlIiwibmV3VGFyZ2V0IiwiZG9ja2luZ09yUG9pbnRzIiwib2xkU291cmNlIiwib2xkVGFyZ2V0IiwibGF5b3V0Q29ubmVjdGlvbkhpbnRzIiwibmV3RGF0YSIsImNhblJlY29ubmVjdCIsInJlY29ubmVjdEVuZCIsInJlY29ubmVjdFN0YXJ0IiwiZG9ja2luZ1BvaW50IiwibW92ZVNoYXBlcyIsImdldEJvdW5kcyIsInJlc2l6ZVNoYXBlcyIsInVwZGF0ZUNvbm5lY3Rpb25XYXlwb2ludHMiLCJ3YXlwb2ludHNVcGRhdGluZ0Nvbm5lY3Rpb25zIiwiZ2V0V2F5cG9pbnRzVXBkYXRpbmdDb25uZWN0aW9ucyIsImNvbm5lY3Rpb25zIiwiYWZmZWN0ZWRTaGFwZXMiLCJsYXlvdXRIaW50cyIsIm9sZENoaWxkcmVuVmlzaWJpbGl0eSIsIm9sZEhvc3QiLCJhdHRhY2hlcklkeCIsImdldEhhbmRsZXJzIiwiY29ubmVjdGlvblBhcmVudCIsInRvZ2dsZUNvbGxhcHNlIiwiTlVMTF9ESU1FTlNJT05TIiwiVXBkYXRlUHJvcGVydGllc0hhbmRsZXIiLCJpc0lkQ2hhbmdlIiwic2V0UHJvcGVydGllcyIsInNldERpUHJvcGVydGllcyIsImNoYW5nZWQiLCJ1bndyYXBwZWRQcm9wcyIsInJlZmVyZW5jZVByb3BlcnR5TmFtZXMiLCJ1bndyYXBCdXNpbmVzc09iamVjdHMiLCJvbGRQcm9wZXJ0aWVzIiwiZ2V0UHJvcGVydGllcyIsIm5ld0xhYmVsQm91bmRzIiwiVXBkYXRlQ2FudmFzUm9vdEhhbmRsZXIiLCJJZENsYWltSGFuZGxlciIsIm5ld1Jvb3QiLCJuZXdSb290QnVzaW5lc3NPYmplY3QiLCJvbGRSb290QnVzaW5lc3NPYmplY3QiLCJwb3N0aXREZWZpbml0aW9ucyIsImRpUGxhbmUiLCJjbGFpbWluZyIsIkRFRkFVTFRfQ09MT1IiLCJTZXRDb2xvckhhbmRsZXIiLCJVcGRhdGVMYWJlbEhhbmRsZXIiLCJzZXRUZXh0Iiwic2V0TGFiZWwiLCJvbGRMYWJlbCIsIl9wb3N0aXRSdWxlcyIsIkJhc2VMYXlvdXRlciIsImRvY2tpbmdUb1BvaW50IiwiYWN0dWFsIiwiQ3JvcHBpbmdDb25uZWN0aW9uRG9ja2luZyIsImNsYWltSWQiLCJtb2RkbGVFbGVtZW50Iiwic291cmNlRG9ja2luZyIsImdldERvY2tpbmdQb2ludCIsInRhcmdldERvY2tpbmciLCJkb2NrU3RhcnQiLCJkb2NraW5nSWR4IiwiX2dldEludGVyc2VjdGlvbiIsInRha2VGaXJzdCIsIl9nZXRTaGFwZVBhdGgiLCJfZ2V0Q29ubmVjdGlvblBhdGgiLCJfZ2V0R2Z4IiwicG9zdGl0VXBkYXRlciIsIk1vdmVFdmVudHMiLCJyZW1vdmVOZXN0ZWQiLCJpc0F0dGFjaCIsIk1vdmVQcmV2aWV3IiwiZ2V0QWxsRHJhZ2dlZEVsZW1lbnRzIiwiZHJhZ1NoYXBlcyIsImFsbERyYWdnZWRFbGVtZW50cyIsInZpc3VhbGx5RHJhZ2dlZFNoYXBlcyIsImRpZmZlcmVudFBhcmVudHMiLCJQQUxFVFRFX09QRU5fQ0xTIiwiUGFsZXR0ZSIsInVwZGF0ZVRvb2xIaWdobGlnaHQiLCJfdXBkYXRlIiwiX2RpYWdyYW1Jbml0aWFsaXplZCIsIl9yZWJ1aWxkIiwiYWRkUGFsZXR0ZUVudHJpZXMiLCJnZXRQYWxldHRlRW50cmllcyIsInBhcmVudENvbnRhaW5lciIsIkhUTUxfTUFSS1VQIiwiVE9HR0xFX1NFTEVDVE9SIiwiX2xheW91dENoYW5nZWQiLCJfdG9nZ2xlU3RhdGUiLCJ0d29Db2x1bW4iLCJfbmVlZHNDb2xsYXBzZSIsIl9lbnRyaWVzIiwic2VwYXJhdG9yIiwiYXZhaWxhYmxlSGVpZ2h0IiwiaXNBY3RpdmVUb29sIiwiX2FjdGl2ZVRvb2wiLCJfdG9vbHNDb250YWluZXIiLCJ0b29sQ2xhc3NlcyIsIkxBU1NPX1RPT0xfQ1VSU09SIiwiTGFzc29Ub29sIiwiU1ZHRWxlbWVudCIsImFjdGl2YXRlTGFzc28iLCJ0b0JCb3giLCJnZXRFbmNsb3NlZEVsZW1lbnRzIiwiSEFORF9DVVJTT1IiLCJIYW5kVG9vbCIsImFjdGl2YXRlTW92ZSIsImlzU3BhY2UiLCJhY3RpdmF0ZUhhbmQiLCJQYWxldHRlUHJvdmlkZXIiLCJfcGFsZXR0ZSIsIl9zcGFjZVRvb2wiLCJfbGFzc29Ub29sIiwiX2hhbmRUb29sIiwiY3JlYXRlQWN0aW9uIiwiY3JlYXRlTGlzdGVuZXIiLCJzaG9ydFR5cGUiLCJkcmFnc3RhcnQiLCJjcmVhdGVJbWFnZSIsInBhbGV0dGVQcm92aWRlciIsIlBvc3RpdFJlcGxhY2VQcmV2aWV3IiwidmlzdWFsUmVwbGFjZW1lbnRzIiwidGVtcFNoYXBlIiwicmVwbGFjZVZpc3VhbCIsIm9yaWdpbmFsR2Z4IiwicmVzdG9yZVZpc3VhbCIsInBvc3RpdFJlcGxhY2VQcmV2aWV3IiwiU25hcENvbnRleHQiLCJfdGFyZ2V0cyIsIl9zbmFwT3JpZ2lucyIsIl9zbmFwTG9jYXRpb25zIiwiX2RlZmF1bHRTbmFwcyIsIlNuYXBQb2ludHMiLCJkZWZhdWx0U25hcHMiLCJfc25hcFZhbHVlcyIsIkNyZWF0ZU1vdmVTbmFwcGluZyIsInNuYXBwaW5nIiwiaW5pdFNuYXAiLCJzbmFwQ29udGV4dCIsInBvaW50c0ZvclRhcmdldCIsImFkZFNuYXBUYXJnZXRQb2ludHMiLCJzbmFwIiwiUG9zdGl0Q3JlYXRlTW92ZVNuYXBwaW5nIiwiUmVzaXplU25hcHBpbmciLCJpc0hvcml6b250YWwiLCJpc1ZlcnRpY2FsIiwiZ2V0U25hcE9yaWdpbiIsInNuYXBPcmlnaW4iLCJTbmFwcGluZyIsIl9hc3luY0hpZGUiLCJzbmFwTG9jYXRpb24iLCJzZXRTbmFwT3JpZ2luIiwiaW5pdGlhbFZhbHVlIiwiYWRkRGVmYXVsdFNuYXAiLCJzbmFwVmFsdWVzIiwiZ2V0U25hcExvY2F0aW9ucyIsInNldFNuYXBMb2NhdGlvbnMiLCJzbmFwTG9jYXRpb25zIiwidGFyZ2V0SWQiLCJpbml0RGVmYXVsdHMiLCJ0b2xlcmFuY2UiLCJzbmFwcGluZ1ZhbHVlcyIsInNuYXBWYWx1ZSIsInNoYXBlTWlkIiwic2hhcGVUb3BMZWZ0Iiwic2hhcGVCb3R0b21SaWdodCIsImdldFNuYXBUYXJnZXRzIiwic25hcFRhcmdldCIsInRvcExlZnQiLCJzbmFwQ3VycmVudCIsImxvY2F0aW9uU25hcHBpbmciLCJvcmlnaW5WYWx1ZSIsInNob3dTbmFwTGluZSIsImF4aXNTbmFwcGluZyIsIl9jcmVhdGVMaW5lIiwiX2NyZWF0ZVNuYXBMaW5lcyIsIl9zbmFwTGluZXMiLCJnZXRTbmFwTGluZSIsInNuYXBMaW5lIiwiY3JlYXRlTW92ZVNuYXBwaW5nIiwicmVzaXplU25hcHBpbmciLCJQT1NUSVRfSU1BR0UiLCJyYW5kU3RyIiwiY2hhcmFjdGVycyIsImNoYXJhY3RlcnNMZW5ndGgiLCJEcmFnRHJvcEltYWdlcyIsImNyZWF0ZUltYWdlRWxlbWVudCIsIl9jcmVhdGVJbWFnZUVsZW1lbnQiLCJDU1MiLCJjYW52YXNET00iLCJwcmV2ZW50RGVmYXVsdHMiLCJkYXRhVHJhbnNmZXIiLCJpdGVtcyIsImtpbmQiLCJnZXRBc0ZpbGUiLCJmaWxlX3Jlc3VsdHMiLCJpbWFnZV9yZXN1bHRzIiwiZmlsZW5hbWUiLCJmaWxlSW1nIiwidXBsb2FkSW1hZ2VSZXN1bHQiLCJ1cGxvYWRGaWxlUmVzdWx0IiwiY29udmVydFRvRW50cnkiLCJmaWxlX3NvdXJjZSIsInVwbG9hZEZpbGVzIiwib2JqSWQiLCJvYmpUeXBlIiwib2JqVGl0bGUiLCJvYmpEZXNjcmlwdGlvbiIsIm9ialN0YXJyZWQiLCJvYmpIaWRkZW4iLCJvYmpVbmtleWVkIiwib2JqVW5rZXllZE9yaWdpbmFsIiwib2JqU3JjVW5rZXllZCIsIm9iakNyZWF0aW9uRGF0ZSIsIm9ialBvc2l0aW9uWCIsIm9ialBvc2l0aW9uWSIsInVwbG9hZCIsImRyYWdEcm9wSW1hZ2VzIiwiTW9kZWxlciIsImNyZWF0ZURpYWdyYW0iLCJfaW50ZXJhY3Rpb25Nb2R1bGVzIiwiX21vZGVsaW5nTW9kdWxlcyIsImNzc0VzY2FwZSIsImNvZGVVbml0IiwiZmlyc3RDb2RlVW5pdCIsImV4cG9ydE5hbWUiLCJWRU5ET1JfUFJFRklYRVMiLCJURVNUX0VMRU1FTlQiLCJzZXRUaW1lb3V0Q29udGV4dCIsImJpbmRGbiIsImludm9rZUFycmF5QXJnIiwiZWFjaCIsImRlcHJlY2F0ZSIsIm1ldGhvZCIsImRlcHJlY2F0aW9uTWVzc2FnZSIsIm5leHRLZXkiLCJkZXN0Iiwic3JjIiwibWVyZ2UiLCJpbmhlcml0IiwiY2hpbGRQIiwiYmFzZVAiLCJfc3VwZXIiLCJib29sT3JGbiIsImlmVW5kZWZpbmVkIiwidmFsMSIsInZhbDIiLCJhZGRFdmVudExpc3RlbmVycyIsInNwbGl0U3RyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lcnMiLCJoYXNQYXJlbnQiLCJpblN0ciIsImluQXJyYXkiLCJmaW5kQnlLZXkiLCJ0b0FycmF5IiwidW5pcXVlQXJyYXkiLCJzb3J0IiwicmVzdWx0cyIsInByZWZpeGVkIiwiY2FtZWxQcm9wIiwiX3VuaXF1ZUlkIiwiZ2V0V2luZG93Rm9yRWxlbWVudCIsInBhcmVudFdpbmRvdyIsIlNVUFBPUlRfVE9VQ0giLCJTVVBQT1JUX1BPSU5URVJfRVZFTlRTIiwiU1VQUE9SVF9PTkxZX1RPVUNIIiwidXNlckFnZW50IiwiSU5QVVRfVFlQRV9UT1VDSCIsIklOUFVUX1RZUEVfTU9VU0UiLCJQUk9QU19YWSIsIlBST1BTX0NMSUVOVF9YWSIsIklucHV0IiwibWFuYWdlciIsImlucHV0VGFyZ2V0IiwiZG9tSGFuZGxlciIsImVuYWJsZSIsImlucHV0SGFuZGxlciIsImV2ZW50VHlwZSIsImlucHV0IiwicG9pbnRlcnNMZW4iLCJjaGFuZ2VkUG9pbnRlcnNMZW4iLCJjaGFuZ2VkUG9pbnRlcnMiLCJpc0ZpcnN0IiwiaXNGaW5hbCIsInBvaW50ZXJzTGVuZ3RoIiwiZmlyc3RJbnB1dCIsInNpbXBsZUNsb25lSW5wdXREYXRhIiwiZmlyc3RNdWx0aXBsZSIsIm9mZnNldENlbnRlciIsImdldENlbnRlciIsInRpbWVTdGFtcCIsImRlbHRhVGltZSIsIm9mZnNldERlbHRhIiwicHJldkRlbHRhIiwicHJldklucHV0IiwiY29tcHV0ZURlbHRhWFkiLCJvZmZzZXREaXJlY3Rpb24iLCJvdmVyYWxsVmVsb2NpdHkiLCJnZXRWZWxvY2l0eSIsIm92ZXJhbGxWZWxvY2l0eVgiLCJvdmVyYWxsVmVsb2NpdHlZIiwicm90YXRpb24iLCJnZXRSb3RhdGlvbiIsIm1heFBvaW50ZXJzIiwidmVsb2NpdHkiLCJ2ZWxvY2l0eVgiLCJ2ZWxvY2l0eVkiLCJsYXN0SW50ZXJ2YWwiLCJjb21wdXRlSW50ZXJ2YWxJbnB1dERhdGEiLCJjb21wdXRlSW5wdXREYXRhIiwicmVjb2duaXplIiwiYXRhbjIiLCJQSSIsImV2RWwiLCJldlRhcmdldCIsImV2V2luIiwiTU9VU0VfSU5QVVRfTUFQIiwiTU9VU0VfRUxFTUVOVF9FVkVOVFMiLCJNT1VTRV9XSU5ET1dfRVZFTlRTIiwiTW91c2VJbnB1dCIsInByZXNzZWQiLCJwb2ludGVyVHlwZSIsIlBPSU5URVJfSU5QVVRfTUFQIiwicG9pbnRlcmRvd24iLCJwb2ludGVybW92ZSIsInBvaW50ZXJ1cCIsInBvaW50ZXJjYW5jZWwiLCJwb2ludGVyb3V0IiwiSUUxMF9QT0lOVEVSX1RZUEVfRU5VTSIsIjIiLCIzIiwiNCIsIjUiLCJQT0lOVEVSX0VMRU1FTlRfRVZFTlRTIiwiUE9JTlRFUl9XSU5ET1dfRVZFTlRTIiwiUG9pbnRlckV2ZW50SW5wdXQiLCJzdG9yZSIsIk1TUG9pbnRlckV2ZW50IiwiUG9pbnRlckV2ZW50IiwicmVtb3ZlUG9pbnRlciIsImV2ZW50VHlwZU5vcm1hbGl6ZWQiLCJzdG9yZUluZGV4IiwicG9pbnRlcklkIiwiU0lOR0xFX1RPVUNIX0lOUFVUX01BUCIsInRvdWNoc3RhcnQiLCJ0b3VjaG1vdmUiLCJ0b3VjaGVuZCIsInRvdWNoY2FuY2VsIiwiU0lOR0xFX1RPVUNIX1RBUkdFVF9FVkVOVFMiLCJTSU5HTEVfVE9VQ0hfV0lORE9XX0VWRU5UUyIsIlNpbmdsZVRvdWNoSW5wdXQiLCJzdGFydGVkIiwibm9ybWFsaXplU2luZ2xlVG91Y2hlcyIsImNoYW5nZWRUb3VjaGVzIiwiVE9VQ0hfSU5QVVRfTUFQIiwiVE9VQ0hfVEFSR0VUX0VWRU5UUyIsIlRvdWNoSW5wdXQiLCJ0YXJnZXRJZHMiLCJnZXRUb3VjaGVzIiwiYWxsVG91Y2hlcyIsImlkZW50aWZpZXIiLCJ0YXJnZXRUb3VjaGVzIiwiY2hhbmdlZFRhcmdldFRvdWNoZXMiLCJ0b3VjaCIsIlRvdWNoTW91c2VJbnB1dCIsInByaW1hcnlUb3VjaCIsImxhc3RUb3VjaGVzIiwicmVjb3JkVG91Y2hlcyIsImV2ZW50RGF0YSIsInNldExhc3RUb3VjaCIsImxhc3RUb3VjaCIsImx0cyIsImlzU3ludGhldGljRXZlbnQiLCJpbnB1dEV2ZW50IiwiaW5wdXREYXRhIiwiaXNNb3VzZSIsInNvdXJjZUNhcGFiaWxpdGllcyIsImZpcmVzVG91Y2hFdmVudHMiLCJQUkVGSVhFRF9UT1VDSF9BQ1RJT04iLCJOQVRJVkVfVE9VQ0hfQUNUSU9OIiwiVE9VQ0hfQUNUSU9OX0NPTVBVVEUiLCJUT1VDSF9BQ1RJT05fQVVUTyIsIlRPVUNIX0FDVElPTl9NQU5JUFVMQVRJT04iLCJUT1VDSF9BQ1RJT05fTk9ORSIsIlRPVUNIX0FDVElPTl9QQU5fWCIsIlRPVUNIX0FDVElPTl9QQU5fWSIsIlRPVUNIX0FDVElPTl9NQVAiLCJ0b3VjaE1hcCIsImNzc1N1cHBvcnRzIiwic3VwcG9ydHMiLCJnZXRUb3VjaEFjdGlvblByb3BzIiwiVG91Y2hBY3Rpb24iLCJjb21wdXRlIiwidG91Y2hBY3Rpb24iLCJnZXRUb3VjaEFjdGlvbiIsImhhc1BhblgiLCJoYXNQYW5ZIiwiY2xlYW5Ub3VjaEFjdGlvbnMiLCJwcmV2ZW50ZWQiLCJoYXNOb25lIiwiaXNUYXBQb2ludGVyIiwiaXNUYXBNb3ZlbWVudCIsImlzVGFwVG91Y2hUaW1lIiwiRElSRUNUSU9OX0xFRlQiLCJESVJFQ1RJT05fVVAiLCJwcmV2ZW50U3JjIiwiU1RBVEVfRkFJTEVEIiwiUmVjb2duaXplciIsInNpbXVsdGFuZW91cyIsInJlcXVpcmVGYWlsIiwic3RhdGVTdHIiLCJkaXJlY3Rpb25TdHIiLCJnZXRSZWNvZ25pemVyQnlOYW1lSWZNYW5hZ2VyIiwib3RoZXJSZWNvZ25pemVyIiwiQXR0clJlY29nbml6ZXIiLCJQYW5SZWNvZ25pemVyIiwicFgiLCJwWSIsIlBpbmNoUmVjb2duaXplciIsIlByZXNzUmVjb2duaXplciIsIl90aW1lciIsIl9pbnB1dCIsIlJvdGF0ZVJlY29nbml6ZXIiLCJTd2lwZVJlY29nbml6ZXIiLCJUYXBSZWNvZ25pemVyIiwicFRpbWUiLCJwQ2VudGVyIiwiY291bnQiLCJIYW1tZXIiLCJwcmVzZXQiLCJNYW5hZ2VyIiwib2xkQ3NzUHJvcHMiLCJ0b2dnbGVDc3NQcm9wcyIsInJlY29nbml6ZVdpdGgiLCJjc3NQcm9wcyIsImRyb3BSZWNvZ25pemVXaXRoIiwiZHJvcFJlcXVpcmVGYWlsdXJlIiwiaGFzUmVxdWlyZUZhaWx1cmVzIiwiY2FuUmVjb2duaXplV2l0aCIsImFkZGl0aW9uYWxFdmVudCIsInRyeUVtaXQiLCJjYW5FbWl0IiwiaW5wdXREYXRhQ2xvbmUiLCJwcm9jZXNzIiwiYXR0clRlc3QiLCJvcHRpb25Qb2ludGVycyIsImlzUmVjb2duaXplZCIsImlzVmFsaWQiLCJESVJFQ1RJT05fSE9SSVpPTlRBTCIsImRpcmVjdGlvblRlc3QiLCJoYXNNb3ZlZCIsImluT3V0IiwidGltZSIsInZhbGlkUG9pbnRlcnMiLCJ2YWxpZE1vdmVtZW50IiwidmFsaWRUaW1lIiwiaW50ZXJ2YWwiLCJwb3NUaHJlc2hvbGQiLCJ2YWxpZFRvdWNoVGltZSIsImZhaWxUaW1lb3V0IiwidmFsaWRJbnRlcnZhbCIsInZhbGlkTXVsdGlUYXAiLCJ0YXBDb3VudCIsIlZFUlNJT04iLCJ1c2VyU2VsZWN0IiwidG91Y2hTZWxlY3QiLCJ0b3VjaENhbGxvdXQiLCJjb250ZW50Wm9vbWluZyIsInVzZXJEcmFnIiwidGFwSGlnaGxpZ2h0Q29sb3IiLCJnZXN0dXJlRXZlbnQiLCJpbml0RXZlbnQiLCJnZXN0dXJlIiwidHJpZ2dlckRvbUV2ZW50IiwiSU5QVVRfU1RBUlQiLCJJTlBVVF9NT1ZFIiwiSU5QVVRfRU5EIiwiSU5QVVRfQ0FOQ0VMIiwiU1RBVEVfUE9TU0lCTEUiLCJTVEFURV9CRUdBTiIsIlNUQVRFX0NIQU5HRUQiLCJTVEFURV9FTkRFRCIsIlNUQVRFX1JFQ09HTklaRUQiLCJTVEFURV9DQU5DRUxMRUQiLCJESVJFQ1RJT05fTk9ORSIsIkRJUkVDVElPTl9SSUdIVCIsIkRJUkVDVElPTl9ET1dOIiwiRElSRUNUSU9OX1ZFUlRJQ0FMIiwiRElSRUNUSU9OX0FMTCIsIlRhcCIsIlBhbiIsIlN3aXBlIiwiUGluY2giLCJSb3RhdGUiLCJQcmVzcyIsIlRlbXBDdG9yIiwiQ29sbGVjdGlvbiIsInJlZnMiLCJpbnZlcnNlUHJvcGVydHkiLCJpc0V4dGVuZGVkIiwiX19yZWZzX2NvbGxlY3Rpb24iLCJkZWZpbmVDb2xsZWN0aW9uUHJvcGVydHkiLCJyZWYiLCJSZWZzIiwiX3ZhbHVlIiwib2xkIiwiZW5zdXJlUmVmc0NvbGxlY3Rpb24iLCJlbnN1cmVCb3VuZCIsInAycyIsInRvRmxvYXQiLCJtYXRoIiwibW1pbiIsIm1tYXgiLCJwYXRoQ29tbWFuZCIsInBhdGhWYWx1ZXMiLCJyZXB1c2giLCJpaSIsInBhdGhzIiwicHMiLCJzbGVlcCIsInJlY3RCQm94IiwieDIiLCJ5MiIsInBhdGhUb1N0cmluZyIsInBhdGhDbG9uZSIsInBhdGhBcnJheSIsImZpbmREb3RzQXRTZWdtZW50IiwicDF4IiwicDF5IiwiYzF4IiwiYzF5IiwiYzJ4IiwiYzJ5IiwicDJ4IiwicDJ5IiwidDEiLCJ0MTMiLCJ0MTIiLCJ0MyIsImZpeEVycm9yIiwiYmV6aWVyQkJveCIsImN1cnZlQkJveCIsIngwIiwieTAiLCJ4MSIsInkxIiwiaXNQb2ludEluc2lkZUJCb3giLCJiYXNlMyIsInAzIiwicDQiLCJiZXpsZW4iLCJ4MyIsInkzIiwieDQiLCJ5NCIsInoyIiwiVHZhbHVlcyIsIkN2YWx1ZXMiLCJjdCIsInhiYXNlIiwieWJhc2UiLCJjb21iIiwiaW50ZXJzZWN0TGluZXMiLCJueSIsInB4IiwicHkiLCJweDIiLCJ0b0ZpeGVkIiwicHkyIiwiZmluZEJlemllckludGVyc2VjdGlvbnMiLCJiZXoxIiwiYmV6MiIsImp1c3RDb3VudCIsImJib3gxIiwiYmJveDIiLCJsMSIsIm4xIiwiaXNMaW5lIiwibjIiLCJkb3RzMSIsImRvdHMyIiwieHkiLCJkaTEiLCJkaiIsImRqMSIsImNpIiwiY2oiLCJwYXRoVG9BYnNvbHV0ZSIsInB0aCIsInBhdGhTdHJpbmciLCJwYXJhbUNvdW50cyIsInBhcmFtcyIsInBhcnNlUGF0aFN0cmluZyIsInBhMCIsInBhIiwiamoiLCJrayIsImJleiIsImxpbmVUb0N1cnZlIiwicXViaWNUb0N1cnZlIiwiYXgiLCJheSIsIl8xMyIsIl8yMyIsImFyY1RvQ3VydmUiLCJsYXJnZV9hcmNfZmxhZyIsInN3ZWVwX2ZsYWciLCJyZWN1cnNpdmUiLCJfMTIwIiwicmFkIiwibmV3ZiIsImYxIiwiZjIiLCJyeDIiLCJyeTIiLCJhc2luIiwiZGYiLCJmMm9sZCIsIngyb2xkIiwieTJvbGQiLCJjMSIsImMyIiwidGFuIiwiaHgiLCJoeSIsIm0xIiwibTIiLCJtMyIsIm00IiwibmV3cmVzIiwiYjJhYyIsInNxcnRiMmFjIiwidHZhbHVlcyIsIm10IiwiamxlbiIsInBhdGhUb0N1cnZlIiwiY3VydmUiLCJjdXJ2ZWRQYXRoIiwiYngiLCJieSIsIlgiLCJZIiwicXgiLCJxeSIsInByb2Nlc3NQYXRoIiwibngiLCJUIiwiUSIsImZpeEFyYyIsInBwIiwicGkiLCJwYXRoQ29tbWFuZHMiLCJwZmlyc3QiLCJzZWciLCJzZWdsZW4iLCJwYXRoMSIsInBhdGgyIiwieDFtIiwieTFtIiwieDJtIiwieTJtIiwicGoiLCJpbnRyIiwic2VnbWVudDEiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiX19lc01vZHVsZSIsImdsb2JhbFRoaXMiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyJdLCJtYXBwaW5ncyI6IjtDQUFBLFNBQTJDQSxFQUFNQyxHQUMxQixpQkFBWkMsU0FBMEMsaUJBQVhDLE9BQ3hDQSxPQUFPRCxRQUFVRCxJQUNRLG1CQUFYRyxRQUF5QkEsT0FBT0MsSUFDOUNELE9BQU8sR0FBSUgsR0FDZSxpQkFBWkMsUUFDZEEsUUFBdUIsY0FBSUQsSUFFM0JELEVBQW9CLGNBQUlDLElBUjFCLENBU0dLLE1BQU0sV0FDVCxNLDZGQ05JQyxFQUpKLFNBQThCQyxFQUFJTCxHQUNqQyxPQUdnQyxTQUFVQSxHQUMzQyxJQUFJTSxFQUFNTixFQUFPRCxRQUFVLFNBQVVRLEVBQU1DLEdBR3ZDLEdBRktBLElBQU1BLEVBQU8sU0FDTEMsSUFBVEYsSUFBb0JBLEVBQU8sS0FDM0JBLEdBQVEsRUFBRyxNQUFPLElBR3RCLElBREEsSUFBSUcsRUFBU0Ms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WHV6RyxRQUEwQkEsT0FBT0MsYUFDMUN6eEcsT0FBTytoQixlQUFlOWpCLEVBQVN1ekcsT0FBT0MsWUFBYSxDQUFFbnhHLE1BQU8sV0FFN0ROLE9BQU8raEIsZUFBZTlqQixFQUFTLGFBQWMsQ0FBRXFDLE9BQU8sS0NGN0I0d0csRUFBb0IsTSIsImZpbGUiOiJwb3N0aXQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJQb3N0SXRNb2RlbGVyXCJdID0gZmFjdG9yeSgpO1xuXHRlbHNlXG5cdFx0cm9vdFtcIlBvc3RJdE1vZGVsZXJcIl0gPSBmYWN0b3J5KCk7XG59KShzZWxmLCBmdW5jdGlvbigpIHtcbnJldHVybiAiLCJmdW5jdGlvbiBjcmVhdGVDb21tb25qc01vZHVsZShmbiwgbW9kdWxlKSB7XG5cdHJldHVybiBtb2R1bGUgPSB7IGV4cG9ydHM6IHt9IH0sIGZuKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMpLCBtb2R1bGUuZXhwb3J0cztcbn1cblxudmFyIGhhdF8xID0gY3JlYXRlQ29tbW9uanNNb2R1bGUoZnVuY3Rpb24gKG1vZHVsZSkge1xudmFyIGhhdCA9IG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGJpdHMsIGJhc2UpIHtcbiAgICBpZiAoIWJhc2UpIGJhc2UgPSAxNjtcbiAgICBpZiAoYml0cyA9PT0gdW5kZWZpbmVkKSBiaXRzID0gMTI4O1xuICAgIGlmIChiaXRzIDw9IDApIHJldHVybiAnMCc7XG4gICAgXG4gICAgdmFyIGRpZ2l0cyA9IE1hdGgubG9nKE1hdGgucG93KDIsIGJpdHMpKSAvIE1hdGgubG9nKGJhc2UpO1xuICAgIGZvciAodmFyIGkgPSAyOyBkaWdpdHMgPT09IEluZmluaXR5OyBpICo9IDIpIHtcbiAgICAgICAgZGlnaXRzID0gTWF0aC5sb2coTWF0aC5wb3coMiwgYml0cyAvIGkpKSAvIE1hdGgubG9nKGJhc2UpICogaTtcbiAgICB9XG4gICAgXG4gICAgdmFyIHJlbSA9IGRpZ2l0cyAtIE1hdGguZmxvb3IoZGlnaXRzKTtcbiAgICBcbiAgICB2YXIgcmVzID0gJyc7XG4gICAgXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBNYXRoLmZsb29yKGRpZ2l0cyk7IGkrKykge1xuICAgICAgICB2YXIgeCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGJhc2UpLnRvU3RyaW5nKGJhc2UpO1xuICAgICAgICByZXMgPSB4ICsgcmVzO1xuICAgIH1cbiAgICBcbiAgICBpZiAocmVtKSB7XG4gICAgICAgIHZhciBiID0gTWF0aC5wb3coYmFzZSwgcmVtKTtcbiAgICAgICAgdmFyIHggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBiKS50b1N0cmluZyhiYXNlKTtcbiAgICAgICAgcmVzID0geCArIHJlcztcbiAgICB9XG4gICAgXG4gICAgdmFyIHBhcnNlZCA9IHBhcnNlSW50KHJlcywgYmFzZSk7XG4gICAgaWYgKHBhcnNlZCAhPT0gSW5maW5pdHkgJiYgcGFyc2VkID49IE1hdGgucG93KDIsIGJpdHMpKSB7XG4gICAgICAgIHJldHVybiBoYXQoYml0cywgYmFzZSlcbiAgICB9XG4gICAgZWxzZSByZXR1cm4gcmVzO1xufTtcblxuaGF0LnJhY2sgPSBmdW5jdGlvbiAoYml0cywgYmFzZSwgZXhwYW5kQnkpIHtcbiAgICB2YXIgZm4gPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB2YXIgaXRlcnMgPSAwO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICBpZiAoaXRlcnMgKysgPiAxMCkge1xuICAgICAgICAgICAgICAgIGlmIChleHBhbmRCeSkgYml0cyArPSBleHBhbmRCeTtcbiAgICAgICAgICAgICAgICBlbHNlIHRocm93IG5ldyBFcnJvcigndG9vIG1hbnkgSUQgY29sbGlzaW9ucywgdXNlIG1vcmUgYml0cycpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHZhciBpZCA9IGhhdChiaXRzLCBiYXNlKTtcbiAgICAgICAgfSB3aGlsZSAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoaGF0cywgaWQpKTtcbiAgICAgICAgXG4gICAgICAgIGhhdHNbaWRdID0gZGF0YTtcbiAgICAgICAgcmV0dXJuIGlkO1xuICAgIH07XG4gICAgdmFyIGhhdHMgPSBmbi5oYXRzID0ge307XG4gICAgXG4gICAgZm4uZ2V0ID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgIHJldHVybiBmbi5oYXRzW2lkXTtcbiAgICB9O1xuICAgIFxuICAgIGZuLnNldCA9IGZ1bmN0aW9uIChpZCwgdmFsdWUpIHtcbiAgICAgICAgZm4uaGF0c1tpZF0gPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIGZuO1xuICAgIH07XG4gICAgXG4gICAgZm4uYml0cyA9IGJpdHMgfHwgMTI4O1xuICAgIGZuLmJhc2UgPSBiYXNlIHx8IDE2O1xuICAgIHJldHVybiBmbjtcbn07XG59KTtcblxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgaWQgZ2VuZXJhdG9yIC8gY2FjaGUgaW5zdGFuY2UuXG4gKlxuICogWW91IG1heSBvcHRpb25hbGx5IHByb3ZpZGUgYSBzZWVkIHRoYXQgaXMgdXNlZCBpbnRlcm5hbGx5LlxuICpcbiAqIEBwYXJhbSB7U2VlZH0gc2VlZFxuICovXG5cbmZ1bmN0aW9uIElkcyhzZWVkKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBJZHMpKSB7XG4gICAgcmV0dXJuIG5ldyBJZHMoc2VlZCk7XG4gIH1cblxuICBzZWVkID0gc2VlZCB8fCBbMTI4LCAzNiwgMV07XG4gIHRoaXMuX3NlZWQgPSBzZWVkLmxlbmd0aCA/IGhhdF8xLnJhY2soc2VlZFswXSwgc2VlZFsxXSwgc2VlZFsyXSkgOiBzZWVkO1xufVxuLyoqXG4gKiBHZW5lcmF0ZSBhIG5leHQgaWQuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IFtlbGVtZW50XSBlbGVtZW50IHRvIGJpbmQgdGhlIGlkIHRvXG4gKlxuICogQHJldHVybiB7U3RyaW5nfSBpZFxuICovXG5cbklkcy5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gIHJldHVybiB0aGlzLl9zZWVkKGVsZW1lbnQgfHwgdHJ1ZSk7XG59O1xuLyoqXG4gKiBHZW5lcmF0ZSBhIG5leHQgaWQgd2l0aCBhIGdpdmVuIHByZWZpeC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gW2VsZW1lbnRdIGVsZW1lbnQgdG8gYmluZCB0aGUgaWQgdG9cbiAqXG4gKiBAcmV0dXJuIHtTdHJpbmd9IGlkXG4gKi9cblxuXG5JZHMucHJvdG90eXBlLm5leHRQcmVmaXhlZCA9IGZ1bmN0aW9uIChwcmVmaXgsIGVsZW1lbnQpIHtcbiAgdmFyIGlkO1xuXG4gIGRvIHtcbiAgICBpZCA9IHByZWZpeCArIHRoaXMubmV4dCh0cnVlKTtcbiAgfSB3aGlsZSAodGhpcy5hc3NpZ25lZChpZCkpOyAvLyBjbGFpbSB7cHJlZml4fXtyYW5kb219XG5cblxuICB0aGlzLmNsYWltKGlkLCBlbGVtZW50KTsgLy8gcmV0dXJuXG5cbiAgcmV0dXJuIGlkO1xufTtcbi8qKlxuICogTWFudWFsbHkgY2xhaW0gYW4gZXhpc3RpbmcgaWQuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGlkXG4gKiBAcGFyYW0ge1N0cmluZ30gW2VsZW1lbnRdIGVsZW1lbnQgdGhlIGlkIGlzIGNsYWltZWQgYnlcbiAqL1xuXG5cbklkcy5wcm90b3R5cGUuY2xhaW0gPSBmdW5jdGlvbiAoaWQsIGVsZW1lbnQpIHtcbiAgdGhpcy5fc2VlZC5zZXQoaWQsIGVsZW1lbnQgfHwgdHJ1ZSk7XG59O1xuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIGlkIGhhcyBhbHJlYWR5IGJlZW4gYXNzaWduZWQuXG4gKlxuICogQHBhcmFtICB7U3RyaW5nfSBpZFxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL1xuXG5cbklkcy5wcm90b3R5cGUuYXNzaWduZWQgPSBmdW5jdGlvbiAoaWQpIHtcbiAgcmV0dXJuIHRoaXMuX3NlZWQuZ2V0KGlkKSB8fCBmYWxzZTtcbn07XG4vKipcbiAqIFVuY2xhaW0gYW4gaWQuXG4gKlxuICogQHBhcmFtICB7U3RyaW5nfSBpZCB0aGUgaWQgdG8gdW5jbGFpbVxuICovXG5cblxuSWRzLnByb3RvdHlwZS51bmNsYWltID0gZnVuY3Rpb24gKGlkKSB7XG4gIGRlbGV0ZSB0aGlzLl9zZWVkLmhhdHNbaWRdO1xufTtcbi8qKlxuICogQ2xlYXIgYWxsIGNsYWltZWQgaWRzLlxuICovXG5cblxuSWRzLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGhhdHMgPSB0aGlzLl9zZWVkLmhhdHMsXG4gICAgICBpZDtcblxuICBmb3IgKGlkIGluIGhhdHMpIHtcbiAgICB0aGlzLnVuY2xhaW0oaWQpO1xuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBJZHM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5lc20uanMubWFwXG4iLCIvKipcbiAqIEZsYXR0ZW4gYXJyYXksIG9uZSBsZXZlbCBkZWVwLlxuICpcbiAqIEBwYXJhbSB7QXJyYXk8Pz59IGFyclxuICpcbiAqIEByZXR1cm4ge0FycmF5PD8+fVxuICovXG5mdW5jdGlvbiBmbGF0dGVuKGFycikge1xuICByZXR1cm4gQXJyYXkucHJvdG90eXBlLmNvbmNhdC5hcHBseShbXSwgYXJyKTtcbn1cblxudmFyIG5hdGl2ZVRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcbnZhciBuYXRpdmVIYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5mdW5jdGlvbiBpc1VuZGVmaW5lZChvYmopIHtcbiAgcmV0dXJuIG9iaiA9PT0gdW5kZWZpbmVkO1xufVxuZnVuY3Rpb24gaXNEZWZpbmVkKG9iaikge1xuICByZXR1cm4gb2JqICE9PSB1bmRlZmluZWQ7XG59XG5mdW5jdGlvbiBpc05pbChvYmopIHtcbiAgcmV0dXJuIG9iaiA9PSBudWxsO1xufVxuZnVuY3Rpb24gaXNBcnJheShvYmopIHtcbiAgcmV0dXJuIG5hdGl2ZVRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbn1cbmZ1bmN0aW9uIGlzT2JqZWN0KG9iaikge1xuICByZXR1cm4gbmF0aXZlVG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBPYmplY3RdJztcbn1cbmZ1bmN0aW9uIGlzTnVtYmVyKG9iaikge1xuICByZXR1cm4gbmF0aXZlVG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBOdW1iZXJdJztcbn1cbmZ1bmN0aW9uIGlzRnVuY3Rpb24ob2JqKSB7XG4gIHZhciB0YWcgPSBuYXRpdmVUb1N0cmluZy5jYWxsKG9iaik7XG4gIHJldHVybiB0YWcgPT09ICdbb2JqZWN0IEZ1bmN0aW9uXScgfHwgdGFnID09PSAnW29iamVjdCBBc3luY0Z1bmN0aW9uXScgfHwgdGFnID09PSAnW29iamVjdCBHZW5lcmF0b3JGdW5jdGlvbl0nIHx8IHRhZyA9PT0gJ1tvYmplY3QgQXN5bmNHZW5lcmF0b3JGdW5jdGlvbl0nIHx8IHRhZyA9PT0gJ1tvYmplY3QgUHJveHldJztcbn1cbmZ1bmN0aW9uIGlzU3RyaW5nKG9iaikge1xuICByZXR1cm4gbmF0aXZlVG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBTdHJpbmddJztcbn1cbi8qKlxuICogRW5zdXJlIGNvbGxlY3Rpb24gaXMgYW4gYXJyYXkuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9ialxuICovXG5cbmZ1bmN0aW9uIGVuc3VyZUFycmF5KG9iaikge1xuICBpZiAoaXNBcnJheShvYmopKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdGhyb3cgbmV3IEVycm9yKCdtdXN0IHN1cHBseSBhcnJheScpO1xufVxuLyoqXG4gKiBSZXR1cm4gdHJ1ZSwgaWYgdGFyZ2V0IG93bnMgYSBwcm9wZXJ0eSB3aXRoIHRoZSBnaXZlbiBrZXkuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHRhcmdldFxuICogQHBhcmFtIHtTdHJpbmd9IGtleVxuICpcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKi9cblxuZnVuY3Rpb24gaGFzKHRhcmdldCwga2V5KSB7XG4gIHJldHVybiBuYXRpdmVIYXNPd25Qcm9wZXJ0eS5jYWxsKHRhcmdldCwga2V5KTtcbn1cblxuLyoqXG4gKiBGaW5kIGVsZW1lbnQgaW4gY29sbGVjdGlvbi5cbiAqXG4gKiBAcGFyYW0gIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb25cbiAqIEBwYXJhbSAge0Z1bmN0aW9ufE9iamVjdH0gbWF0Y2hlclxuICpcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuXG5mdW5jdGlvbiBmaW5kKGNvbGxlY3Rpb24sIG1hdGNoZXIpIHtcbiAgbWF0Y2hlciA9IHRvTWF0Y2hlcihtYXRjaGVyKTtcbiAgdmFyIG1hdGNoO1xuICBmb3JFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uICh2YWwsIGtleSkge1xuICAgIGlmIChtYXRjaGVyKHZhbCwga2V5KSkge1xuICAgICAgbWF0Y2ggPSB2YWw7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIG1hdGNoO1xufVxuLyoqXG4gKiBGaW5kIGVsZW1lbnQgaW5kZXggaW4gY29sbGVjdGlvbi5cbiAqXG4gKiBAcGFyYW0gIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb25cbiAqIEBwYXJhbSAge0Z1bmN0aW9ufSBtYXRjaGVyXG4gKlxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5cbmZ1bmN0aW9uIGZpbmRJbmRleChjb2xsZWN0aW9uLCBtYXRjaGVyKSB7XG4gIG1hdGNoZXIgPSB0b01hdGNoZXIobWF0Y2hlcik7XG4gIHZhciBpZHggPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gLTEgOiB1bmRlZmluZWQ7XG4gIGZvckVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24gKHZhbCwga2V5KSB7XG4gICAgaWYgKG1hdGNoZXIodmFsLCBrZXkpKSB7XG4gICAgICBpZHggPSBrZXk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGlkeDtcbn1cbi8qKlxuICogRmluZCBlbGVtZW50IGluIGNvbGxlY3Rpb24uXG4gKlxuICogQHBhcmFtICB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uXG4gKiBAcGFyYW0gIHtGdW5jdGlvbn0gbWF0Y2hlclxuICpcbiAqIEByZXR1cm4ge0FycmF5fSByZXN1bHRcbiAqL1xuXG5mdW5jdGlvbiBmaWx0ZXIoY29sbGVjdGlvbiwgbWF0Y2hlcikge1xuICB2YXIgcmVzdWx0ID0gW107XG4gIGZvckVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24gKHZhbCwga2V5KSB7XG4gICAgaWYgKG1hdGNoZXIodmFsLCBrZXkpKSB7XG4gICAgICByZXN1bHQucHVzaCh2YWwpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59XG4vKipcbiAqIEl0ZXJhdGUgb3ZlciBjb2xsZWN0aW9uOyByZXR1cm5pbmcgc29tZXRoaW5nXG4gKiAobm9uLXVuZGVmaW5lZCkgd2lsbCBzdG9wIGl0ZXJhdGlvbi5cbiAqXG4gKiBAcGFyYW0gIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb25cbiAqIEBwYXJhbSAge0Z1bmN0aW9ufSBpdGVyYXRvclxuICpcbiAqIEByZXR1cm4ge09iamVjdH0gcmV0dXJuIHJlc3VsdCB0aGF0IHN0b3BwZWQgdGhlIGl0ZXJhdGlvblxuICovXG5cbmZ1bmN0aW9uIGZvckVhY2goY29sbGVjdGlvbiwgaXRlcmF0b3IpIHtcbiAgdmFyIHZhbCwgcmVzdWx0O1xuXG4gIGlmIChpc1VuZGVmaW5lZChjb2xsZWN0aW9uKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBjb252ZXJ0S2V5ID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IHRvTnVtIDogaWRlbnRpdHk7XG5cbiAgZm9yICh2YXIga2V5IGluIGNvbGxlY3Rpb24pIHtcbiAgICBpZiAoaGFzKGNvbGxlY3Rpb24sIGtleSkpIHtcbiAgICAgIHZhbCA9IGNvbGxlY3Rpb25ba2V5XTtcbiAgICAgIHJlc3VsdCA9IGl0ZXJhdG9yKHZhbCwgY29udmVydEtleShrZXkpKTtcblxuICAgICAgaWYgKHJlc3VsdCA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIHZhbDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbi8qKlxuICogUmV0dXJuIGNvbGxlY3Rpb24gd2l0aG91dCBlbGVtZW50LlxuICpcbiAqIEBwYXJhbSAge0FycmF5fSBhcnJcbiAqIEBwYXJhbSAge0Z1bmN0aW9ufSBtYXRjaGVyXG4gKlxuICogQHJldHVybiB7QXJyYXl9XG4gKi9cblxuZnVuY3Rpb24gd2l0aG91dChhcnIsIG1hdGNoZXIpIHtcbiAgaWYgKGlzVW5kZWZpbmVkKGFycikpIHtcbiAgICByZXR1cm4gW107XG4gIH1cblxuICBlbnN1cmVBcnJheShhcnIpO1xuICBtYXRjaGVyID0gdG9NYXRjaGVyKG1hdGNoZXIpO1xuICByZXR1cm4gYXJyLmZpbHRlcihmdW5jdGlvbiAoZWwsIGlkeCkge1xuICAgIHJldHVybiAhbWF0Y2hlcihlbCwgaWR4KTtcbiAgfSk7XG59XG4vKipcbiAqIFJlZHVjZSBjb2xsZWN0aW9uLCByZXR1cm5pbmcgYSBzaW5nbGUgcmVzdWx0LlxuICpcbiAqIEBwYXJhbSAge09iamVjdHxBcnJheX0gY29sbGVjdGlvblxuICogQHBhcmFtICB7RnVuY3Rpb259IGl0ZXJhdG9yXG4gKiBAcGFyYW0gIHtBbnl9IHJlc3VsdFxuICpcbiAqIEByZXR1cm4ge0FueX0gcmVzdWx0IHJldHVybmVkIGZyb20gbGFzdCBpdGVyYXRvclxuICovXG5cbmZ1bmN0aW9uIHJlZHVjZShjb2xsZWN0aW9uLCBpdGVyYXRvciwgcmVzdWx0KSB7XG4gIGZvckVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24gKHZhbHVlLCBpZHgpIHtcbiAgICByZXN1bHQgPSBpdGVyYXRvcihyZXN1bHQsIHZhbHVlLCBpZHgpO1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cbi8qKlxuICogUmV0dXJuIHRydWUgaWYgZXZlcnkgZWxlbWVudCBpbiB0aGUgY29sbGVjdGlvblxuICogbWF0Y2hlcyB0aGUgY3JpdGVyaWEuXG4gKlxuICogQHBhcmFtICB7T2JqZWN0fEFycmF5fSBjb2xsZWN0aW9uXG4gKiBAcGFyYW0gIHtGdW5jdGlvbn0gbWF0Y2hlclxuICpcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKi9cblxuZnVuY3Rpb24gZXZlcnkoY29sbGVjdGlvbiwgbWF0Y2hlcikge1xuICByZXR1cm4gISFyZWR1Y2UoY29sbGVjdGlvbiwgZnVuY3Rpb24gKG1hdGNoZXMsIHZhbCwga2V5KSB7XG4gICAgcmV0dXJuIG1hdGNoZXMgJiYgbWF0Y2hlcih2YWwsIGtleSk7XG4gIH0sIHRydWUpO1xufVxuLyoqXG4gKiBSZXR1cm4gdHJ1ZSBpZiBzb21lIGVsZW1lbnRzIGluIHRoZSBjb2xsZWN0aW9uXG4gKiBtYXRjaCB0aGUgY3JpdGVyaWEuXG4gKlxuICogQHBhcmFtICB7T2JqZWN0fEFycmF5fSBjb2xsZWN0aW9uXG4gKiBAcGFyYW0gIHtGdW5jdGlvbn0gbWF0Y2hlclxuICpcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKi9cblxuZnVuY3Rpb24gc29tZShjb2xsZWN0aW9uLCBtYXRjaGVyKSB7XG4gIHJldHVybiAhIWZpbmQoY29sbGVjdGlvbiwgbWF0Y2hlcik7XG59XG4vKipcbiAqIFRyYW5zZm9ybSBhIGNvbGxlY3Rpb24gaW50byBhbm90aGVyIGNvbGxlY3Rpb25cbiAqIGJ5IHBpcGluZyBlYWNoIG1lbWJlciB0aHJvdWdoIHRoZSBnaXZlbiBmbi5cbiAqXG4gKiBAcGFyYW0gIHtPYmplY3R8QXJyYXl9ICAgY29sbGVjdGlvblxuICogQHBhcmFtICB7RnVuY3Rpb259IGZuXG4gKlxuICogQHJldHVybiB7QXJyYXl9IHRyYW5zZm9ybWVkIGNvbGxlY3Rpb25cbiAqL1xuXG5mdW5jdGlvbiBtYXAoY29sbGVjdGlvbiwgZm4pIHtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICBmb3JFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uICh2YWwsIGtleSkge1xuICAgIHJlc3VsdC5wdXNoKGZuKHZhbCwga2V5KSk7XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufVxuLyoqXG4gKiBHZXQgdGhlIGNvbGxlY3Rpb25zIGtleXMuXG4gKlxuICogQHBhcmFtICB7T2JqZWN0fEFycmF5fSBjb2xsZWN0aW9uXG4gKlxuICogQHJldHVybiB7QXJyYXl9XG4gKi9cblxuZnVuY3Rpb24ga2V5cyhjb2xsZWN0aW9uKSB7XG4gIHJldHVybiBjb2xsZWN0aW9uICYmIE9iamVjdC5rZXlzKGNvbGxlY3Rpb24pIHx8IFtdO1xufVxuLyoqXG4gKiBTaG9ydGhhbmQgZm9yIGBrZXlzKG8pLmxlbmd0aGAuXG4gKlxuICogQHBhcmFtICB7T2JqZWN0fEFycmF5fSBjb2xsZWN0aW9uXG4gKlxuICogQHJldHVybiB7TnVtYmVyfVxuICovXG5cbmZ1bmN0aW9uIHNpemUoY29sbGVjdGlvbikge1xuICByZXR1cm4ga2V5cyhjb2xsZWN0aW9uKS5sZW5ndGg7XG59XG4vKipcbiAqIEdldCB0aGUgdmFsdWVzIGluIHRoZSBjb2xsZWN0aW9uLlxuICpcbiAqIEBwYXJhbSAge09iamVjdHxBcnJheX0gY29sbGVjdGlvblxuICpcbiAqIEByZXR1cm4ge0FycmF5fVxuICovXG5cbmZ1bmN0aW9uIHZhbHVlcyhjb2xsZWN0aW9uKSB7XG4gIHJldHVybiBtYXAoY29sbGVjdGlvbiwgZnVuY3Rpb24gKHZhbCkge1xuICAgIHJldHVybiB2YWw7XG4gIH0pO1xufVxuLyoqXG4gKiBHcm91cCBjb2xsZWN0aW9uIG1lbWJlcnMgYnkgYXR0cmlidXRlLlxuICpcbiAqIEBwYXJhbSAge09iamVjdHxBcnJheX0gY29sbGVjdGlvblxuICogQHBhcmFtICB7RnVuY3Rpb259IGV4dHJhY3RvclxuICpcbiAqIEByZXR1cm4ge09iamVjdH0gbWFwIHdpdGggeyBhdHRyVmFsdWUgPT4gWyBhLCBiLCBjIF0gfVxuICovXG5cbmZ1bmN0aW9uIGdyb3VwQnkoY29sbGVjdGlvbiwgZXh0cmFjdG9yKSB7XG4gIHZhciBncm91cGVkID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcbiAgZXh0cmFjdG9yID0gdG9FeHRyYWN0b3IoZXh0cmFjdG9yKTtcbiAgZm9yRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbiAodmFsKSB7XG4gICAgdmFyIGRpc2NyaW1pbmF0b3IgPSBleHRyYWN0b3IodmFsKSB8fCAnXyc7XG4gICAgdmFyIGdyb3VwID0gZ3JvdXBlZFtkaXNjcmltaW5hdG9yXTtcblxuICAgIGlmICghZ3JvdXApIHtcbiAgICAgIGdyb3VwID0gZ3JvdXBlZFtkaXNjcmltaW5hdG9yXSA9IFtdO1xuICAgIH1cblxuICAgIGdyb3VwLnB1c2godmFsKTtcbiAgfSk7XG4gIHJldHVybiBncm91cGVkO1xufVxuZnVuY3Rpb24gdW5pcXVlQnkoZXh0cmFjdG9yKSB7XG4gIGV4dHJhY3RvciA9IHRvRXh0cmFjdG9yKGV4dHJhY3Rvcik7XG4gIHZhciBncm91cGVkID0ge307XG5cbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGNvbGxlY3Rpb25zID0gbmV3IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBjb2xsZWN0aW9uc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICBmb3JFYWNoKGNvbGxlY3Rpb25zLCBmdW5jdGlvbiAoYykge1xuICAgIHJldHVybiBncm91cEJ5KGMsIGV4dHJhY3RvciwgZ3JvdXBlZCk7XG4gIH0pO1xuICB2YXIgcmVzdWx0ID0gbWFwKGdyb3VwZWQsIGZ1bmN0aW9uICh2YWwsIGtleSkge1xuICAgIHJldHVybiB2YWxbMF07XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufVxudmFyIHVuaW9uQnkgPSB1bmlxdWVCeTtcbi8qKlxuICogU29ydCBjb2xsZWN0aW9uIGJ5IGNyaXRlcmlhLlxuICpcbiAqIEBwYXJhbSAge09iamVjdHxBcnJheX0gY29sbGVjdGlvblxuICogQHBhcmFtICB7U3RyaW5nfEZ1bmN0aW9ufSBleHRyYWN0b3JcbiAqXG4gKiBAcmV0dXJuIHtBcnJheX1cbiAqL1xuXG5mdW5jdGlvbiBzb3J0QnkoY29sbGVjdGlvbiwgZXh0cmFjdG9yKSB7XG4gIGV4dHJhY3RvciA9IHRvRXh0cmFjdG9yKGV4dHJhY3Rvcik7XG4gIHZhciBzb3J0ZWQgPSBbXTtcbiAgZm9yRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbiAodmFsdWUsIGtleSkge1xuICAgIHZhciBkaXNjID0gZXh0cmFjdG9yKHZhbHVlLCBrZXkpO1xuICAgIHZhciBlbnRyeSA9IHtcbiAgICAgIGQ6IGRpc2MsXG4gICAgICB2OiB2YWx1ZVxuICAgIH07XG5cbiAgICBmb3IgKHZhciBpZHggPSAwOyBpZHggPCBzb3J0ZWQubGVuZ3RoOyBpZHgrKykge1xuICAgICAgdmFyIGQgPSBzb3J0ZWRbaWR4XS5kO1xuXG4gICAgICBpZiAoZGlzYyA8IGQpIHtcbiAgICAgICAgc29ydGVkLnNwbGljZShpZHgsIDAsIGVudHJ5KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH0gLy8gbm90IGluc2VydGVkLCBhcHBlbmQgKCEpXG5cblxuICAgIHNvcnRlZC5wdXNoKGVudHJ5KTtcbiAgfSk7XG4gIHJldHVybiBtYXAoc29ydGVkLCBmdW5jdGlvbiAoZSkge1xuICAgIHJldHVybiBlLnY7XG4gIH0pO1xufVxuLyoqXG4gKiBDcmVhdGUgYW4gb2JqZWN0IHBhdHRlcm4gbWF0Y2hlci5cbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIGNvbnN0IG1hdGNoZXIgPSBtYXRjaFBhdHRlcm4oeyBpZDogMSB9KTtcbiAqXG4gKiB2YXIgZWxlbWVudCA9IGZpbmQoZWxlbWVudHMsIG1hdGNoZXIpO1xuICpcbiAqIEBwYXJhbSAge09iamVjdH0gcGF0dGVyblxuICpcbiAqIEByZXR1cm4ge0Z1bmN0aW9ufSBtYXRjaGVyRm5cbiAqL1xuXG5mdW5jdGlvbiBtYXRjaFBhdHRlcm4ocGF0dGVybikge1xuICByZXR1cm4gZnVuY3Rpb24gKGVsKSB7XG4gICAgcmV0dXJuIGV2ZXJ5KHBhdHRlcm4sIGZ1bmN0aW9uICh2YWwsIGtleSkge1xuICAgICAgcmV0dXJuIGVsW2tleV0gPT09IHZhbDtcbiAgICB9KTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gdG9FeHRyYWN0b3IoZXh0cmFjdG9yKSB7XG4gIHJldHVybiBpc0Z1bmN0aW9uKGV4dHJhY3RvcikgPyBleHRyYWN0b3IgOiBmdW5jdGlvbiAoZSkge1xuICAgIHJldHVybiBlW2V4dHJhY3Rvcl07XG4gIH07XG59XG5cbmZ1bmN0aW9uIHRvTWF0Y2hlcihtYXRjaGVyKSB7XG4gIHJldHVybiBpc0Z1bmN0aW9uKG1hdGNoZXIpID8gbWF0Y2hlciA6IGZ1bmN0aW9uIChlKSB7XG4gICAgcmV0dXJuIGUgPT09IG1hdGNoZXI7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGlkZW50aXR5KGFyZykge1xuICByZXR1cm4gYXJnO1xufVxuXG5mdW5jdGlvbiB0b051bShhcmcpIHtcbiAgcmV0dXJuIE51bWJlcihhcmcpO1xufVxuXG4vKipcbiAqIERlYm91bmNlIGZuLCBjYWxsaW5nIGl0IG9ubHkgb25jZSBpZlxuICogdGhlIGdpdmVuIHRpbWUgZWxhcHNlZCBiZXR3ZWVuIGNhbGxzLlxuICpcbiAqIEBwYXJhbSAge0Z1bmN0aW9ufSBmblxuICogQHBhcmFtICB7TnVtYmVyfSB0aW1lb3V0XG4gKlxuICogQHJldHVybiB7RnVuY3Rpb259IGRlYm91bmNlZCBmdW5jdGlvblxuICovXG5mdW5jdGlvbiBkZWJvdW5jZShmbiwgdGltZW91dCkge1xuICB2YXIgdGltZXI7XG4gIHZhciBsYXN0QXJncztcbiAgdmFyIGxhc3RUaGlzO1xuICB2YXIgbGFzdE5vdztcblxuICBmdW5jdGlvbiBmaXJlKCkge1xuICAgIHZhciBub3cgPSBEYXRlLm5vdygpO1xuICAgIHZhciBzY2hlZHVsZWREaWZmID0gbGFzdE5vdyArIHRpbWVvdXQgLSBub3c7XG5cbiAgICBpZiAoc2NoZWR1bGVkRGlmZiA+IDApIHtcbiAgICAgIHJldHVybiBzY2hlZHVsZShzY2hlZHVsZWREaWZmKTtcbiAgICB9XG5cbiAgICBmbi5hcHBseShsYXN0VGhpcywgbGFzdEFyZ3MpO1xuICAgIHRpbWVyID0gbGFzdE5vdyA9IGxhc3RBcmdzID0gbGFzdFRoaXMgPSB1bmRlZmluZWQ7XG4gIH1cblxuICBmdW5jdGlvbiBzY2hlZHVsZSh0aW1lb3V0KSB7XG4gICAgdGltZXIgPSBzZXRUaW1lb3V0KGZpcmUsIHRpbWVvdXQpO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBsYXN0Tm93ID0gRGF0ZS5ub3coKTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICBsYXN0QXJncyA9IGFyZ3M7XG4gICAgbGFzdFRoaXMgPSB0aGlzOyAvLyBlbnN1cmUgYW4gZXhlY3V0aW9uIGlzIHNjaGVkdWxlZFxuXG4gICAgaWYgKCF0aW1lcikge1xuICAgICAgc2NoZWR1bGUodGltZW91dCk7XG4gICAgfVxuICB9O1xufVxuLyoqXG4gKiBUaHJvdHRsZSBmbiwgY2FsbGluZyBhdCBtb3N0IG9uY2VcbiAqIGluIHRoZSBnaXZlbiBpbnRlcnZhbC5cbiAqXG4gKiBAcGFyYW0gIHtGdW5jdGlvbn0gZm5cbiAqIEBwYXJhbSAge051bWJlcn0gaW50ZXJ2YWxcbiAqXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn0gdGhyb3R0bGVkIGZ1bmN0aW9uXG4gKi9cblxuZnVuY3Rpb24gdGhyb3R0bGUoZm4sIGludGVydmFsKSB7XG4gIHZhciB0aHJvdHRsaW5nID0gZmFsc2U7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRocm90dGxpbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmbi5hcHBseSh2b2lkIDAsIGFyZ3VtZW50cyk7XG4gICAgdGhyb3R0bGluZyA9IHRydWU7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICB0aHJvdHRsaW5nID0gZmFsc2U7XG4gICAgfSwgaW50ZXJ2YWwpO1xuICB9O1xufVxuLyoqXG4gKiBCaW5kIGZ1bmN0aW9uIGFnYWluc3QgdGFyZ2V0IDx0aGlzPi5cbiAqXG4gKiBAcGFyYW0gIHtGdW5jdGlvbn0gZm5cbiAqIEBwYXJhbSAge09iamVjdH0gICB0YXJnZXRcbiAqXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn0gYm91bmQgZnVuY3Rpb25cbiAqL1xuXG5mdW5jdGlvbiBiaW5kKGZuLCB0YXJnZXQpIHtcbiAgcmV0dXJuIGZuLmJpbmQodGFyZ2V0KTtcbn1cblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7XG4gIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfTtcblxuICByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuLyoqXG4gKiBDb252ZW5pZW5jZSB3cmFwcGVyIGZvciBgT2JqZWN0LmFzc2lnbmAuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHRhcmdldFxuICogQHBhcmFtIHsuLi5PYmplY3R9IG90aGVyc1xuICpcbiAqIEByZXR1cm4ge09iamVjdH0gdGhlIHRhcmdldFxuICovXG5cbmZ1bmN0aW9uIGFzc2lnbih0YXJnZXQpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIG90aGVycyA9IG5ldyBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgb3RoZXJzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIHJldHVybiBfZXh0ZW5kcy5hcHBseSh2b2lkIDAsIFt0YXJnZXRdLmNvbmNhdChvdGhlcnMpKTtcbn1cbi8qKlxuICogU2V0cyBhIG5lc3RlZCBwcm9wZXJ0eSBvZiBhIGdpdmVuIG9iamVjdCB0byB0aGUgc3BlY2lmaWVkIHZhbHVlLlxuICpcbiAqIFRoaXMgbXV0YXRlcyB0aGUgb2JqZWN0IGFuZCByZXR1cm5zIGl0LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXQgVGhlIHRhcmdldCBvZiB0aGUgc2V0IG9wZXJhdGlvbi5cbiAqIEBwYXJhbSB7KHN0cmluZ3xudW1iZXIpW119IHBhdGggVGhlIHBhdGggdG8gdGhlIG5lc3RlZCB2YWx1ZS5cbiAqIEBwYXJhbSB7YW55fSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICovXG5cbmZ1bmN0aW9uIHNldCh0YXJnZXQsIHBhdGgsIHZhbHVlKSB7XG4gIHZhciBjdXJyZW50VGFyZ2V0ID0gdGFyZ2V0O1xuICBmb3JFYWNoKHBhdGgsIGZ1bmN0aW9uIChrZXksIGlkeCkge1xuICAgIGlmIChrZXkgPT09ICdfX3Byb3RvX18nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2lsbGVnYWwga2V5OiBfX3Byb3RvX18nKTtcbiAgICB9XG5cbiAgICB2YXIgbmV4dEtleSA9IHBhdGhbaWR4ICsgMV07XG4gICAgdmFyIG5leHRUYXJnZXQgPSBjdXJyZW50VGFyZ2V0W2tleV07XG5cbiAgICBpZiAoaXNEZWZpbmVkKG5leHRLZXkpICYmIGlzTmlsKG5leHRUYXJnZXQpKSB7XG4gICAgICBuZXh0VGFyZ2V0ID0gY3VycmVudFRhcmdldFtrZXldID0gaXNOYU4oK25leHRLZXkpID8ge30gOiBbXTtcbiAgICB9XG5cbiAgICBpZiAoaXNVbmRlZmluZWQobmV4dEtleSkpIHtcbiAgICAgIGlmIChpc1VuZGVmaW5lZCh2YWx1ZSkpIHtcbiAgICAgICAgZGVsZXRlIGN1cnJlbnRUYXJnZXRba2V5XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGN1cnJlbnRUYXJnZXRba2V5XSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjdXJyZW50VGFyZ2V0ID0gbmV4dFRhcmdldDtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gdGFyZ2V0O1xufVxuLyoqXG4gKiBHZXRzIGEgbmVzdGVkIHByb3BlcnR5IG9mIGEgZ2l2ZW4gb2JqZWN0LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXQgVGhlIHRhcmdldCBvZiB0aGUgZ2V0IG9wZXJhdGlvbi5cbiAqIEBwYXJhbSB7KHN0cmluZ3xudW1iZXIpW119IHBhdGggVGhlIHBhdGggdG8gdGhlIG5lc3RlZCB2YWx1ZS5cbiAqIEBwYXJhbSB7YW55fSBbZGVmYXVsdFZhbHVlXSBUaGUgdmFsdWUgdG8gcmV0dXJuIGlmIG5vIHZhbHVlIGV4aXN0cy5cbiAqL1xuXG5mdW5jdGlvbiBnZXQodGFyZ2V0LCBwYXRoLCBkZWZhdWx0VmFsdWUpIHtcbiAgdmFyIGN1cnJlbnRUYXJnZXQgPSB0YXJnZXQ7XG4gIGZvckVhY2gocGF0aCwgZnVuY3Rpb24gKGtleSkge1xuICAgIC8vIGFjY2Vzc2luZyBuaWwgcHJvcGVydHkgeWllbGRzIDx1bmRlZmluZWQ+XG4gICAgaWYgKGlzTmlsKGN1cnJlbnRUYXJnZXQpKSB7XG4gICAgICBjdXJyZW50VGFyZ2V0ID0gdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGN1cnJlbnRUYXJnZXQgPSBjdXJyZW50VGFyZ2V0W2tleV07XG4gIH0pO1xuICByZXR1cm4gaXNVbmRlZmluZWQoY3VycmVudFRhcmdldCkgPyBkZWZhdWx0VmFsdWUgOiBjdXJyZW50VGFyZ2V0O1xufVxuLyoqXG4gKiBQaWNrIGdpdmVuIHByb3BlcnRpZXMgZnJvbSB0aGUgdGFyZ2V0IG9iamVjdC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdGFyZ2V0XG4gKiBAcGFyYW0ge0FycmF5fSBwcm9wZXJ0aWVzXG4gKlxuICogQHJldHVybiB7T2JqZWN0fSB0YXJnZXRcbiAqL1xuXG5mdW5jdGlvbiBwaWNrKHRhcmdldCwgcHJvcGVydGllcykge1xuICB2YXIgcmVzdWx0ID0ge307XG4gIHZhciBvYmogPSBPYmplY3QodGFyZ2V0KTtcbiAgZm9yRWFjaChwcm9wZXJ0aWVzLCBmdW5jdGlvbiAocHJvcCkge1xuICAgIGlmIChwcm9wIGluIG9iaikge1xuICAgICAgcmVzdWx0W3Byb3BdID0gdGFyZ2V0W3Byb3BdO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59XG4vKipcbiAqIFBpY2sgYWxsIHRhcmdldCBwcm9wZXJ0aWVzLCBleGNsdWRpbmcgdGhlIGdpdmVuIG9uZXMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHRhcmdldFxuICogQHBhcmFtIHtBcnJheX0gcHJvcGVydGllc1xuICpcbiAqIEByZXR1cm4ge09iamVjdH0gdGFyZ2V0XG4gKi9cblxuZnVuY3Rpb24gb21pdCh0YXJnZXQsIHByb3BlcnRpZXMpIHtcbiAgdmFyIHJlc3VsdCA9IHt9O1xuICB2YXIgb2JqID0gT2JqZWN0KHRhcmdldCk7XG4gIGZvckVhY2gob2JqLCBmdW5jdGlvbiAocHJvcCwga2V5KSB7XG4gICAgaWYgKHByb3BlcnRpZXMuaW5kZXhPZihrZXkpID09PSAtMSkge1xuICAgICAgcmVzdWx0W2tleV0gPSBwcm9wO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59XG4vKipcbiAqIFJlY3Vyc2l2ZWx5IG1lcmdlIGAuLi5zb3VyY2VzYCBpbnRvIGdpdmVuIHRhcmdldC5cbiAqXG4gKiBEb2VzIHN1cHBvcnQgbWVyZ2luZyBvYmplY3RzOyBkb2VzIG5vdCBzdXBwb3J0IG1lcmdpbmcgYXJyYXlzLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXRcbiAqIEBwYXJhbSB7Li4uT2JqZWN0fSBzb3VyY2VzXG4gKlxuICogQHJldHVybiB7T2JqZWN0fSB0aGUgdGFyZ2V0XG4gKi9cblxuZnVuY3Rpb24gbWVyZ2UodGFyZ2V0KSB7XG4gIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgc291cmNlcyA9IG5ldyBBcnJheShfbGVuMiA+IDEgPyBfbGVuMiAtIDEgOiAwKSwgX2tleTIgPSAxOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgc291cmNlc1tfa2V5MiAtIDFdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgfVxuXG4gIGlmICghc291cmNlcy5sZW5ndGgpIHtcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG5cbiAgZm9yRWFjaChzb3VyY2VzLCBmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgLy8gc2tpcCBub24tb2JqIHNvdXJjZXMsIGkuZS4gbnVsbFxuICAgIGlmICghc291cmNlIHx8ICFpc09iamVjdChzb3VyY2UpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZm9yRWFjaChzb3VyY2UsIGZ1bmN0aW9uIChzb3VyY2VWYWwsIGtleSkge1xuICAgICAgaWYgKGtleSA9PT0gJ19fcHJvdG9fXycpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgdGFyZ2V0VmFsID0gdGFyZ2V0W2tleV07XG5cbiAgICAgIGlmIChpc09iamVjdChzb3VyY2VWYWwpKSB7XG4gICAgICAgIGlmICghaXNPYmplY3QodGFyZ2V0VmFsKSkge1xuICAgICAgICAgIC8vIG92ZXJyaWRlIHRhcmdldFtrZXldIHdpdGggb2JqZWN0XG4gICAgICAgICAgdGFyZ2V0VmFsID0ge307XG4gICAgICAgIH1cblxuICAgICAgICB0YXJnZXRba2V5XSA9IG1lcmdlKHRhcmdldFZhbCwgc291cmNlVmFsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRhcmdldFtrZXldID0gc291cmNlVmFsO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuZXhwb3J0IHsgYXNzaWduLCBiaW5kLCBkZWJvdW5jZSwgZW5zdXJlQXJyYXksIGV2ZXJ5LCBmaWx0ZXIsIGZpbmQsIGZpbmRJbmRleCwgZmxhdHRlbiwgZm9yRWFjaCwgZ2V0LCBncm91cEJ5LCBoYXMsIGlzQXJyYXksIGlzRGVmaW5lZCwgaXNGdW5jdGlvbiwgaXNOaWwsIGlzTnVtYmVyLCBpc09iamVjdCwgaXNTdHJpbmcsIGlzVW5kZWZpbmVkLCBrZXlzLCBtYXAsIG1hdGNoUGF0dGVybiwgbWVyZ2UsIG9taXQsIHBpY2ssIHJlZHVjZSwgc2V0LCBzaXplLCBzb21lLCBzb3J0QnksIHRocm90dGxlLCB1bmlvbkJ5LCB1bmlxdWVCeSwgdmFsdWVzLCB3aXRob3V0IH07XG4iLCIvKipcbiAqIFNldCBhdHRyaWJ1dGUgYG5hbWVgIHRvIGB2YWxgLCBvciBnZXQgYXR0ciBgbmFtZWAuXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbFxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVcbiAqIEBwYXJhbSB7U3RyaW5nfSBbdmFsXVxuICogQGFwaSBwdWJsaWNcbiAqL1xuZnVuY3Rpb24gYXR0cihlbCwgbmFtZSwgdmFsKSB7XG4gIC8vIGdldFxuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PSAyKSB7XG4gICAgcmV0dXJuIGVsLmdldEF0dHJpYnV0ZShuYW1lKTtcbiAgfVxuXG4gIC8vIHJlbW92ZVxuICBpZiAodmFsID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGVsLnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtcbiAgfVxuXG4gIC8vIHNldFxuICBlbC5zZXRBdHRyaWJ1dGUobmFtZSwgdmFsKTtcblxuICByZXR1cm4gZWw7XG59XG5cbnZhciBpbmRleE9mID0gW10uaW5kZXhPZjtcblxudmFyIGluZGV4b2YgPSBmdW5jdGlvbihhcnIsIG9iail7XG4gIGlmIChpbmRleE9mKSByZXR1cm4gYXJyLmluZGV4T2Yob2JqKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyArK2kpIHtcbiAgICBpZiAoYXJyW2ldID09PSBvYmopIHJldHVybiBpO1xuICB9XG4gIHJldHVybiAtMTtcbn07XG5cbi8qKlxuICogVGFrZW4gZnJvbSBodHRwczovL2dpdGh1Yi5jb20vY29tcG9uZW50L2NsYXNzZXNcbiAqXG4gKiBXaXRob3V0IHRoZSBjb21wb25lbnQgYml0cy5cbiAqL1xuXG4vKipcbiAqIFdoaXRlc3BhY2UgcmVnZXhwLlxuICovXG5cbnZhciByZSA9IC9cXHMrLztcblxuLyoqXG4gKiB0b1N0cmluZyByZWZlcmVuY2UuXG4gKi9cblxudmFyIHRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcblxuLyoqXG4gKiBXcmFwIGBlbGAgaW4gYSBgQ2xhc3NMaXN0YC5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsXG4gKiBAcmV0dXJuIHtDbGFzc0xpc3R9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGNsYXNzZXMoZWwpIHtcbiAgcmV0dXJuIG5ldyBDbGFzc0xpc3QoZWwpO1xufVxuXG4vKipcbiAqIEluaXRpYWxpemUgYSBuZXcgQ2xhc3NMaXN0IGZvciBgZWxgLlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIENsYXNzTGlzdChlbCkge1xuICBpZiAoIWVsIHx8ICFlbC5ub2RlVHlwZSkge1xuICAgIHRocm93IG5ldyBFcnJvcignQSBET00gZWxlbWVudCByZWZlcmVuY2UgaXMgcmVxdWlyZWQnKTtcbiAgfVxuICB0aGlzLmVsID0gZWw7XG4gIHRoaXMubGlzdCA9IGVsLmNsYXNzTGlzdDtcbn1cblxuLyoqXG4gKiBBZGQgY2xhc3MgYG5hbWVgIGlmIG5vdCBhbHJlYWR5IHByZXNlbnQuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVcbiAqIEByZXR1cm4ge0NsYXNzTGlzdH1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuQ2xhc3NMaXN0LnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAobmFtZSkge1xuICAvLyBjbGFzc0xpc3RcbiAgaWYgKHRoaXMubGlzdCkge1xuICAgIHRoaXMubGlzdC5hZGQobmFtZSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvLyBmYWxsYmFja1xuICB2YXIgYXJyID0gdGhpcy5hcnJheSgpO1xuICB2YXIgaSA9IGluZGV4b2YoYXJyLCBuYW1lKTtcbiAgaWYgKCF+aSkgYXJyLnB1c2gobmFtZSk7XG4gIHRoaXMuZWwuY2xhc3NOYW1lID0gYXJyLmpvaW4oJyAnKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFJlbW92ZSBjbGFzcyBgbmFtZWAgd2hlbiBwcmVzZW50LCBvclxuICogcGFzcyBhIHJlZ3VsYXIgZXhwcmVzc2lvbiB0byByZW1vdmVcbiAqIGFueSB3aGljaCBtYXRjaC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xSZWdFeHB9IG5hbWVcbiAqIEByZXR1cm4ge0NsYXNzTGlzdH1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuQ2xhc3NMaXN0LnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAobmFtZSkge1xuICBpZiAoJ1tvYmplY3QgUmVnRXhwXScgPT0gdG9TdHJpbmcuY2FsbChuYW1lKSkge1xuICAgIHJldHVybiB0aGlzLnJlbW92ZU1hdGNoaW5nKG5hbWUpO1xuICB9XG5cbiAgLy8gY2xhc3NMaXN0XG4gIGlmICh0aGlzLmxpc3QpIHtcbiAgICB0aGlzLmxpc3QucmVtb3ZlKG5hbWUpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLy8gZmFsbGJhY2tcbiAgdmFyIGFyciA9IHRoaXMuYXJyYXkoKTtcbiAgdmFyIGkgPSBpbmRleG9mKGFyciwgbmFtZSk7XG4gIGlmICh+aSkgYXJyLnNwbGljZShpLCAxKTtcbiAgdGhpcy5lbC5jbGFzc05hbWUgPSBhcnIuam9pbignICcpO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogUmVtb3ZlIGFsbCBjbGFzc2VzIG1hdGNoaW5nIGByZWAuXG4gKlxuICogQHBhcmFtIHtSZWdFeHB9IHJlXG4gKiBAcmV0dXJuIHtDbGFzc0xpc3R9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5DbGFzc0xpc3QucHJvdG90eXBlLnJlbW92ZU1hdGNoaW5nID0gZnVuY3Rpb24gKHJlKSB7XG4gIHZhciBhcnIgPSB0aGlzLmFycmF5KCk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHJlLnRlc3QoYXJyW2ldKSkge1xuICAgICAgdGhpcy5yZW1vdmUoYXJyW2ldKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFRvZ2dsZSBjbGFzcyBgbmFtZWAsIGNhbiBmb3JjZSBzdGF0ZSB2aWEgYGZvcmNlYC5cbiAqXG4gKiBGb3IgYnJvd3NlcnMgdGhhdCBzdXBwb3J0IGNsYXNzTGlzdCwgYnV0IGRvIG5vdCBzdXBwb3J0IGBmb3JjZWAgeWV0LFxuICogdGhlIG1pc3Rha2Ugd2lsbCBiZSBkZXRlY3RlZCBhbmQgY29ycmVjdGVkLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGZvcmNlXG4gKiBAcmV0dXJuIHtDbGFzc0xpc3R9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbkNsYXNzTGlzdC5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24gKG5hbWUsIGZvcmNlKSB7XG4gIC8vIGNsYXNzTGlzdFxuICBpZiAodGhpcy5saXN0KSB7XG4gICAgaWYgKCd1bmRlZmluZWQnICE9PSB0eXBlb2YgZm9yY2UpIHtcbiAgICAgIGlmIChmb3JjZSAhPT0gdGhpcy5saXN0LnRvZ2dsZShuYW1lLCBmb3JjZSkpIHtcbiAgICAgICAgdGhpcy5saXN0LnRvZ2dsZShuYW1lKTsgLy8gdG9nZ2xlIGFnYWluIHRvIGNvcnJlY3RcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5saXN0LnRvZ2dsZShuYW1lKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvLyBmYWxsYmFja1xuICBpZiAoJ3VuZGVmaW5lZCcgIT09IHR5cGVvZiBmb3JjZSkge1xuICAgIGlmICghZm9yY2UpIHtcbiAgICAgIHRoaXMucmVtb3ZlKG5hbWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmFkZChuYW1lKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKHRoaXMuaGFzKG5hbWUpKSB7XG4gICAgICB0aGlzLnJlbW92ZShuYW1lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5hZGQobmFtZSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFJldHVybiBhbiBhcnJheSBvZiBjbGFzc2VzLlxuICpcbiAqIEByZXR1cm4ge0FycmF5fVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5DbGFzc0xpc3QucHJvdG90eXBlLmFycmF5ID0gZnVuY3Rpb24gKCkge1xuICB2YXIgY2xhc3NOYW1lID0gdGhpcy5lbC5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykgfHwgJyc7XG4gIHZhciBzdHIgPSBjbGFzc05hbWUucmVwbGFjZSgvXlxccyt8XFxzKyQvZywgJycpO1xuICB2YXIgYXJyID0gc3RyLnNwbGl0KHJlKTtcbiAgaWYgKCcnID09PSBhcnJbMF0pIGFyci5zaGlmdCgpO1xuICByZXR1cm4gYXJyO1xufTtcblxuLyoqXG4gKiBDaGVjayBpZiBjbGFzcyBgbmFtZWAgaXMgcHJlc2VudC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZVxuICogQHJldHVybiB7Q2xhc3NMaXN0fVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5DbGFzc0xpc3QucHJvdG90eXBlLmhhcyA9IENsYXNzTGlzdC5wcm90b3R5cGUuY29udGFpbnMgPSBmdW5jdGlvbiAobmFtZSkge1xuICByZXR1cm4gdGhpcy5saXN0ID8gdGhpcy5saXN0LmNvbnRhaW5zKG5hbWUpIDogISF+aW5kZXhvZih0aGlzLmFycmF5KCksIG5hbWUpO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgYWxsIGNoaWxkcmVuIGZyb20gdGhlIGdpdmVuIGVsZW1lbnQuXG4gKi9cbmZ1bmN0aW9uIGNsZWFyKGVsKSB7XG5cbiAgdmFyIGM7XG5cbiAgd2hpbGUgKGVsLmNoaWxkTm9kZXMubGVuZ3RoKSB7XG4gICAgYyA9IGVsLmNoaWxkTm9kZXNbMF07XG4gICAgZWwucmVtb3ZlQ2hpbGQoYyk7XG4gIH1cblxuICByZXR1cm4gZWw7XG59XG5cbnZhciBwcm90byA9IHR5cGVvZiBFbGVtZW50ICE9PSAndW5kZWZpbmVkJyA/IEVsZW1lbnQucHJvdG90eXBlIDoge307XG52YXIgdmVuZG9yID0gcHJvdG8ubWF0Y2hlc1xuICB8fCBwcm90by5tYXRjaGVzU2VsZWN0b3JcbiAgfHwgcHJvdG8ud2Via2l0TWF0Y2hlc1NlbGVjdG9yXG4gIHx8IHByb3RvLm1vek1hdGNoZXNTZWxlY3RvclxuICB8fCBwcm90by5tc01hdGNoZXNTZWxlY3RvclxuICB8fCBwcm90by5vTWF0Y2hlc1NlbGVjdG9yO1xuXG52YXIgbWF0Y2hlc1NlbGVjdG9yID0gbWF0Y2g7XG5cbi8qKlxuICogTWF0Y2ggYGVsYCB0byBgc2VsZWN0b3JgLlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxcbiAqIEBwYXJhbSB7U3RyaW5nfSBzZWxlY3RvclxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gbWF0Y2goZWwsIHNlbGVjdG9yKSB7XG4gIGlmICghZWwgfHwgZWwubm9kZVR5cGUgIT09IDEpIHJldHVybiBmYWxzZTtcbiAgaWYgKHZlbmRvcikgcmV0dXJuIHZlbmRvci5jYWxsKGVsLCBzZWxlY3Rvcik7XG4gIHZhciBub2RlcyA9IGVsLnBhcmVudE5vZGUucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAobm9kZXNbaV0gPT0gZWwpIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBDbG9zZXN0XG4gKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbFxuICogQHBhcmFtIHtTdHJpbmd9IHNlbGVjdG9yXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGNoZWNrWW91clNlbGYgKG9wdGlvbmFsKVxuICovXG5mdW5jdGlvbiBjbG9zZXN0IChlbGVtZW50LCBzZWxlY3RvciwgY2hlY2tZb3VyU2VsZikge1xuICB2YXIgY3VycmVudEVsZW0gPSBjaGVja1lvdXJTZWxmID8gZWxlbWVudCA6IGVsZW1lbnQucGFyZW50Tm9kZTtcblxuICB3aGlsZSAoY3VycmVudEVsZW0gJiYgY3VycmVudEVsZW0ubm9kZVR5cGUgIT09IGRvY3VtZW50LkRPQ1VNRU5UX05PREUgJiYgY3VycmVudEVsZW0ubm9kZVR5cGUgIT09IGRvY3VtZW50LkRPQ1VNRU5UX0ZSQUdNRU5UX05PREUpIHtcblxuICAgIGlmIChtYXRjaGVzU2VsZWN0b3IoY3VycmVudEVsZW0sIHNlbGVjdG9yKSkge1xuICAgICAgcmV0dXJuIGN1cnJlbnRFbGVtO1xuICAgIH1cblxuICAgIGN1cnJlbnRFbGVtID0gY3VycmVudEVsZW0ucGFyZW50Tm9kZTtcbiAgfVxuXG4gIHJldHVybiBtYXRjaGVzU2VsZWN0b3IoY3VycmVudEVsZW0sIHNlbGVjdG9yKSA/IGN1cnJlbnRFbGVtIDogbnVsbDtcbn1cblxudmFyIGJpbmQgPSB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciA/ICdhZGRFdmVudExpc3RlbmVyJyA6ICdhdHRhY2hFdmVudCcsXG4gICAgdW5iaW5kID0gd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIgPyAncmVtb3ZlRXZlbnRMaXN0ZW5lcicgOiAnZGV0YWNoRXZlbnQnLFxuICAgIHByZWZpeCA9IGJpbmQgIT09ICdhZGRFdmVudExpc3RlbmVyJyA/ICdvbicgOiAnJztcblxuLyoqXG4gKiBCaW5kIGBlbGAgZXZlbnQgYHR5cGVgIHRvIGBmbmAuXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbFxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGNhcHR1cmVcbiAqIEByZXR1cm4ge0Z1bmN0aW9ufVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG52YXIgYmluZF8xID0gZnVuY3Rpb24oZWwsIHR5cGUsIGZuLCBjYXB0dXJlKXtcbiAgZWxbYmluZF0ocHJlZml4ICsgdHlwZSwgZm4sIGNhcHR1cmUgfHwgZmFsc2UpO1xuICByZXR1cm4gZm47XG59O1xuXG4vKipcbiAqIFVuYmluZCBgZWxgIGV2ZW50IGB0eXBlYCdzIGNhbGxiYWNrIGBmbmAuXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbFxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGNhcHR1cmVcbiAqIEByZXR1cm4ge0Z1bmN0aW9ufVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG52YXIgdW5iaW5kXzEgPSBmdW5jdGlvbihlbCwgdHlwZSwgZm4sIGNhcHR1cmUpe1xuICBlbFt1bmJpbmRdKHByZWZpeCArIHR5cGUsIGZuLCBjYXB0dXJlIHx8IGZhbHNlKTtcbiAgcmV0dXJuIGZuO1xufTtcblxudmFyIGNvbXBvbmVudEV2ZW50ID0ge1xuXHRiaW5kOiBiaW5kXzEsXG5cdHVuYmluZDogdW5iaW5kXzFcbn07XG5cbi8qKlxuICogTW9kdWxlIGRlcGVuZGVuY2llcy5cbiAqL1xuXG4vKipcbiAqIERlbGVnYXRlIGV2ZW50IGB0eXBlYCB0byBgc2VsZWN0b3JgXG4gKiBhbmQgaW52b2tlIGBmbihlKWAuIEEgY2FsbGJhY2sgZnVuY3Rpb25cbiAqIGlzIHJldHVybmVkIHdoaWNoIG1heSBiZSBwYXNzZWQgdG8gYC51bmJpbmQoKWAuXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbFxuICogQHBhcmFtIHtTdHJpbmd9IHNlbGVjdG9yXG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gY2FwdHVyZVxuICogQHJldHVybiB7RnVuY3Rpb259XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbi8vIFNvbWUgZXZlbnRzIGRvbid0IGJ1YmJsZSwgc28gd2Ugd2FudCB0byBiaW5kIHRvIHRoZSBjYXB0dXJlIHBoYXNlIGluc3RlYWRcbi8vIHdoZW4gZGVsZWdhdGluZy5cbnZhciBmb3JjZUNhcHR1cmVFdmVudHMgPSBbJ2ZvY3VzJywgJ2JsdXInXTtcblxuZnVuY3Rpb24gYmluZCQxKGVsLCBzZWxlY3RvciwgdHlwZSwgZm4sIGNhcHR1cmUpIHtcbiAgaWYgKGZvcmNlQ2FwdHVyZUV2ZW50cy5pbmRleE9mKHR5cGUpICE9PSAtMSkge1xuICAgIGNhcHR1cmUgPSB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIGNvbXBvbmVudEV2ZW50LmJpbmQoZWwsIHR5cGUsIGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyIHRhcmdldCA9IGUudGFyZ2V0IHx8IGUuc3JjRWxlbWVudDtcbiAgICBlLmRlbGVnYXRlVGFyZ2V0ID0gY2xvc2VzdCh0YXJnZXQsIHNlbGVjdG9yLCB0cnVlLCBlbCk7XG4gICAgaWYgKGUuZGVsZWdhdGVUYXJnZXQpIHtcbiAgICAgIGZuLmNhbGwoZWwsIGUpO1xuICAgIH1cbiAgfSwgY2FwdHVyZSk7XG59XG5cbi8qKlxuICogVW5iaW5kIGV2ZW50IGB0eXBlYCdzIGNhbGxiYWNrIGBmbmAuXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbFxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGNhcHR1cmVcbiAqIEBhcGkgcHVibGljXG4gKi9cbmZ1bmN0aW9uIHVuYmluZCQxKGVsLCB0eXBlLCBmbiwgY2FwdHVyZSkge1xuICBpZiAoZm9yY2VDYXB0dXJlRXZlbnRzLmluZGV4T2YodHlwZSkgIT09IC0xKSB7XG4gICAgY2FwdHVyZSA9IHRydWU7XG4gIH1cblxuICByZXR1cm4gY29tcG9uZW50RXZlbnQudW5iaW5kKGVsLCB0eXBlLCBmbiwgY2FwdHVyZSk7XG59XG5cbnZhciBkZWxlZ2F0ZSA9IHtcbiAgYmluZDogYmluZCQxLFxuICB1bmJpbmQ6IHVuYmluZCQxXG59O1xuXG4vKipcbiAqIEV4cG9zZSBgcGFyc2VgLlxuICovXG5cbnZhciBkb21pZnkgPSBwYXJzZTtcblxuLyoqXG4gKiBUZXN0cyBmb3IgYnJvd3NlciBzdXBwb3J0LlxuICovXG5cbnZhciBpbm5lckhUTUxCdWcgPSBmYWxzZTtcbnZhciBidWdUZXN0RGl2O1xuaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgYnVnVGVzdERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAvLyBTZXR1cFxuICBidWdUZXN0RGl2LmlubmVySFRNTCA9ICcgIDxsaW5rLz48dGFibGU+PC90YWJsZT48YSBocmVmPVwiL2FcIj5hPC9hPjxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIi8+JztcbiAgLy8gTWFrZSBzdXJlIHRoYXQgbGluayBlbGVtZW50cyBnZXQgc2VyaWFsaXplZCBjb3JyZWN0bHkgYnkgaW5uZXJIVE1MXG4gIC8vIFRoaXMgcmVxdWlyZXMgYSB3cmFwcGVyIGVsZW1lbnQgaW4gSUVcbiAgaW5uZXJIVE1MQnVnID0gIWJ1Z1Rlc3REaXYuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2xpbmsnKS5sZW5ndGg7XG4gIGJ1Z1Rlc3REaXYgPSB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogV3JhcCBtYXAgZnJvbSBqcXVlcnkuXG4gKi9cblxudmFyIG1hcCA9IHtcbiAgbGVnZW5kOiBbMSwgJzxmaWVsZHNldD4nLCAnPC9maWVsZHNldD4nXSxcbiAgdHI6IFsyLCAnPHRhYmxlPjx0Ym9keT4nLCAnPC90Ym9keT48L3RhYmxlPiddLFxuICBjb2w6IFsyLCAnPHRhYmxlPjx0Ym9keT48L3Rib2R5Pjxjb2xncm91cD4nLCAnPC9jb2xncm91cD48L3RhYmxlPiddLFxuICAvLyBmb3Igc2NyaXB0L2xpbmsvc3R5bGUgdGFncyB0byB3b3JrIGluIElFNi04LCB5b3UgaGF2ZSB0byB3cmFwXG4gIC8vIGluIGEgZGl2IHdpdGggYSBub24td2hpdGVzcGFjZSBjaGFyYWN0ZXIgaW4gZnJvbnQsIGhhIVxuICBfZGVmYXVsdDogaW5uZXJIVE1MQnVnID8gWzEsICdYPGRpdj4nLCAnPC9kaXY+J10gOiBbMCwgJycsICcnXVxufTtcblxubWFwLnRkID1cbm1hcC50aCA9IFszLCAnPHRhYmxlPjx0Ym9keT48dHI+JywgJzwvdHI+PC90Ym9keT48L3RhYmxlPiddO1xuXG5tYXAub3B0aW9uID1cbm1hcC5vcHRncm91cCA9IFsxLCAnPHNlbGVjdCBtdWx0aXBsZT1cIm11bHRpcGxlXCI+JywgJzwvc2VsZWN0PiddO1xuXG5tYXAudGhlYWQgPVxubWFwLnRib2R5ID1cbm1hcC5jb2xncm91cCA9XG5tYXAuY2FwdGlvbiA9XG5tYXAudGZvb3QgPSBbMSwgJzx0YWJsZT4nLCAnPC90YWJsZT4nXTtcblxubWFwLnBvbHlsaW5lID1cbm1hcC5lbGxpcHNlID1cbm1hcC5wb2x5Z29uID1cbm1hcC5jaXJjbGUgPVxubWFwLnRleHQgPVxubWFwLmxpbmUgPVxubWFwLnBhdGggPVxubWFwLnJlY3QgPVxubWFwLmcgPSBbMSwgJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHZlcnNpb249XCIxLjFcIj4nLCc8L3N2Zz4nXTtcblxuLyoqXG4gKiBQYXJzZSBgaHRtbGAgYW5kIHJldHVybiBhIERPTSBOb2RlIGluc3RhbmNlLCB3aGljaCBjb3VsZCBiZSBhIFRleHROb2RlLFxuICogSFRNTCBET00gTm9kZSBvZiBzb21lIGtpbmQgKDxkaXY+IGZvciBleGFtcGxlKSwgb3IgYSBEb2N1bWVudEZyYWdtZW50XG4gKiBpbnN0YW5jZSwgZGVwZW5kaW5nIG9uIHRoZSBjb250ZW50cyBvZiB0aGUgYGh0bWxgIHN0cmluZy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gaHRtbCAtIEhUTUwgc3RyaW5nIHRvIFwiZG9taWZ5XCJcbiAqIEBwYXJhbSB7RG9jdW1lbnR9IGRvYyAtIFRoZSBgZG9jdW1lbnRgIGluc3RhbmNlIHRvIGNyZWF0ZSB0aGUgTm9kZSBmb3JcbiAqIEByZXR1cm4ge0RPTU5vZGV9IHRoZSBUZXh0Tm9kZSwgRE9NIE5vZGUsIG9yIERvY3VtZW50RnJhZ21lbnQgaW5zdGFuY2VcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIHBhcnNlKGh0bWwsIGRvYykge1xuICBpZiAoJ3N0cmluZycgIT0gdHlwZW9mIGh0bWwpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1N0cmluZyBleHBlY3RlZCcpO1xuXG4gIC8vIGRlZmF1bHQgdG8gdGhlIGdsb2JhbCBgZG9jdW1lbnRgIG9iamVjdFxuICBpZiAoIWRvYykgZG9jID0gZG9jdW1lbnQ7XG5cbiAgLy8gdGFnIG5hbWVcbiAgdmFyIG0gPSAvPChbXFx3Ol0rKS8uZXhlYyhodG1sKTtcbiAgaWYgKCFtKSByZXR1cm4gZG9jLmNyZWF0ZVRleHROb2RlKGh0bWwpO1xuXG4gIGh0bWwgPSBodG1sLnJlcGxhY2UoL15cXHMrfFxccyskL2csICcnKTsgLy8gUmVtb3ZlIGxlYWRpbmcvdHJhaWxpbmcgd2hpdGVzcGFjZVxuXG4gIHZhciB0YWcgPSBtWzFdO1xuXG4gIC8vIGJvZHkgc3VwcG9ydFxuICBpZiAodGFnID09ICdib2R5Jykge1xuICAgIHZhciBlbCA9IGRvYy5jcmVhdGVFbGVtZW50KCdodG1sJyk7XG4gICAgZWwuaW5uZXJIVE1MID0gaHRtbDtcbiAgICByZXR1cm4gZWwucmVtb3ZlQ2hpbGQoZWwubGFzdENoaWxkKTtcbiAgfVxuXG4gIC8vIHdyYXAgbWFwXG4gIHZhciB3cmFwID0gbWFwW3RhZ10gfHwgbWFwLl9kZWZhdWx0O1xuICB2YXIgZGVwdGggPSB3cmFwWzBdO1xuICB2YXIgcHJlZml4ID0gd3JhcFsxXTtcbiAgdmFyIHN1ZmZpeCA9IHdyYXBbMl07XG4gIHZhciBlbCA9IGRvYy5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgZWwuaW5uZXJIVE1MID0gcHJlZml4ICsgaHRtbCArIHN1ZmZpeDtcbiAgd2hpbGUgKGRlcHRoLS0pIGVsID0gZWwubGFzdENoaWxkO1xuXG4gIC8vIG9uZSBlbGVtZW50XG4gIGlmIChlbC5maXJzdENoaWxkID09IGVsLmxhc3RDaGlsZCkge1xuICAgIHJldHVybiBlbC5yZW1vdmVDaGlsZChlbC5maXJzdENoaWxkKTtcbiAgfVxuXG4gIC8vIHNldmVyYWwgZWxlbWVudHNcbiAgdmFyIGZyYWdtZW50ID0gZG9jLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcbiAgd2hpbGUgKGVsLmZpcnN0Q2hpbGQpIHtcbiAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChlbC5yZW1vdmVDaGlsZChlbC5maXJzdENoaWxkKSk7XG4gIH1cblxuICByZXR1cm4gZnJhZ21lbnQ7XG59XG5cbmZ1bmN0aW9uIHF1ZXJ5KHNlbGVjdG9yLCBlbCkge1xuICBlbCA9IGVsIHx8IGRvY3VtZW50O1xuXG4gIHJldHVybiBlbC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbn1cblxuZnVuY3Rpb24gYWxsKHNlbGVjdG9yLCBlbCkge1xuICBlbCA9IGVsIHx8IGRvY3VtZW50O1xuXG4gIHJldHVybiBlbC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlKGVsKSB7XG4gIGVsLnBhcmVudE5vZGUgJiYgZWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbCk7XG59XG5cbmV4cG9ydCB7IGF0dHIsIGNsYXNzZXMsIGNsZWFyLCBjbG9zZXN0LCBkZWxlZ2F0ZSwgZG9taWZ5LCBjb21wb25lbnRFdmVudCBhcyBldmVudCwgbWF0Y2hlc1NlbGVjdG9yIGFzIG1hdGNoZXMsIHF1ZXJ5LCBhbGwgYXMgcXVlcnlBbGwsIHJlbW92ZSB9O1xuIiwiZnVuY3Rpb24gZW5zdXJlSW1wb3J0ZWQoZWxlbWVudCwgdGFyZ2V0KSB7XG5cbiAgaWYgKGVsZW1lbnQub3duZXJEb2N1bWVudCAhPT0gdGFyZ2V0Lm93bmVyRG9jdW1lbnQpIHtcbiAgICB0cnkge1xuICAgICAgLy8gbWF5IGZhaWwgb24gd2Via2l0XG4gICAgICByZXR1cm4gdGFyZ2V0Lm93bmVyRG9jdW1lbnQuaW1wb3J0Tm9kZShlbGVtZW50LCB0cnVlKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvLyBpZ25vcmVcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZWxlbWVudDtcbn1cblxuLyoqXG4gKiBhcHBlbmRUbyB1dGlsaXR5XG4gKi9cblxuLyoqXG4gKiBBcHBlbmQgYSBub2RlIHRvIGEgdGFyZ2V0IGVsZW1lbnQgYW5kIHJldHVybiB0aGUgYXBwZW5kZWQgbm9kZS5cbiAqXG4gKiBAcGFyYW0gIHtTVkdFbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0gIHtTVkdFbGVtZW50fSB0YXJnZXRcbiAqXG4gKiBAcmV0dXJuIHtTVkdFbGVtZW50fSB0aGUgYXBwZW5kZWQgbm9kZVxuICovXG5mdW5jdGlvbiBhcHBlbmRUbyhlbGVtZW50LCB0YXJnZXQpIHtcbiAgcmV0dXJuIHRhcmdldC5hcHBlbmRDaGlsZChlbnN1cmVJbXBvcnRlZChlbGVtZW50LCB0YXJnZXQpKTtcbn1cblxuLyoqXG4gKiBhcHBlbmQgdXRpbGl0eVxuICovXG5cbi8qKlxuICogQXBwZW5kIGEgbm9kZSB0byBhbiBlbGVtZW50XG4gKlxuICogQHBhcmFtICB7U1ZHRWxlbWVudH0gZWxlbWVudFxuICogQHBhcmFtICB7U1ZHRWxlbWVudH0gbm9kZVxuICpcbiAqIEByZXR1cm4ge1NWR0VsZW1lbnR9IHRoZSBlbGVtZW50XG4gKi9cbmZ1bmN0aW9uIGFwcGVuZCh0YXJnZXQsIG5vZGUpIHtcbiAgYXBwZW5kVG8obm9kZSwgdGFyZ2V0KTtcbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuLyoqXG4gKiBhdHRyaWJ1dGUgYWNjZXNzb3IgdXRpbGl0eVxuICovXG5cbnZhciBMRU5HVEhfQVRUUiA9IDI7XG5cbnZhciBDU1NfUFJPUEVSVElFUyA9IHtcbiAgJ2FsaWdubWVudC1iYXNlbGluZSc6IDEsXG4gICdiYXNlbGluZS1zaGlmdCc6IDEsXG4gICdjbGlwJzogMSxcbiAgJ2NsaXAtcGF0aCc6IDEsXG4gICdjbGlwLXJ1bGUnOiAxLFxuICAnY29sb3InOiAxLFxuICAnY29sb3ItaW50ZXJwb2xhdGlvbic6IDEsXG4gICdjb2xvci1pbnRlcnBvbGF0aW9uLWZpbHRlcnMnOiAxLFxuICAnY29sb3ItcHJvZmlsZSc6IDEsXG4gICdjb2xvci1yZW5kZXJpbmcnOiAxLFxuICAnY3Vyc29yJzogMSxcbiAgJ2RpcmVjdGlvbic6IDEsXG4gICdkaXNwbGF5JzogMSxcbiAgJ2RvbWluYW50LWJhc2VsaW5lJzogMSxcbiAgJ2VuYWJsZS1iYWNrZ3JvdW5kJzogMSxcbiAgJ2ZpbGwnOiAxLFxuICAnZmlsbC1vcGFjaXR5JzogMSxcbiAgJ2ZpbGwtcnVsZSc6IDEsXG4gICdmaWx0ZXInOiAxLFxuICAnZmxvb2QtY29sb3InOiAxLFxuICAnZmxvb2Qtb3BhY2l0eSc6IDEsXG4gICdmb250JzogMSxcbiAgJ2ZvbnQtZmFtaWx5JzogMSxcbiAgJ2ZvbnQtc2l6ZSc6IExFTkdUSF9BVFRSLFxuICAnZm9udC1zaXplLWFkanVzdCc6IDEsXG4gICdmb250LXN0cmV0Y2gnOiAxLFxuICAnZm9udC1zdHlsZSc6IDEsXG4gICdmb250LXZhcmlhbnQnOiAxLFxuICAnZm9udC13ZWlnaHQnOiAxLFxuICAnZ2x5cGgtb3JpZW50YXRpb24taG9yaXpvbnRhbCc6IDEsXG4gICdnbHlwaC1vcmllbnRhdGlvbi12ZXJ0aWNhbCc6IDEsXG4gICdpbWFnZS1yZW5kZXJpbmcnOiAxLFxuICAna2VybmluZyc6IDEsXG4gICdsZXR0ZXItc3BhY2luZyc6IDEsXG4gICdsaWdodGluZy1jb2xvcic6IDEsXG4gICdtYXJrZXInOiAxLFxuICAnbWFya2VyLWVuZCc6IDEsXG4gICdtYXJrZXItbWlkJzogMSxcbiAgJ21hcmtlci1zdGFydCc6IDEsXG4gICdtYXNrJzogMSxcbiAgJ29wYWNpdHknOiAxLFxuICAnb3ZlcmZsb3cnOiAxLFxuICAncG9pbnRlci1ldmVudHMnOiAxLFxuICAnc2hhcGUtcmVuZGVyaW5nJzogMSxcbiAgJ3N0b3AtY29sb3InOiAxLFxuICAnc3RvcC1vcGFjaXR5JzogMSxcbiAgJ3N0cm9rZSc6IDEsXG4gICdzdHJva2UtZGFzaGFycmF5JzogMSxcbiAgJ3N0cm9rZS1kYXNob2Zmc2V0JzogMSxcbiAgJ3N0cm9rZS1saW5lY2FwJzogMSxcbiAgJ3N0cm9rZS1saW5lam9pbic6IDEsXG4gICdzdHJva2UtbWl0ZXJsaW1pdCc6IDEsXG4gICdzdHJva2Utb3BhY2l0eSc6IDEsXG4gICdzdHJva2Utd2lkdGgnOiBMRU5HVEhfQVRUUixcbiAgJ3RleHQtYW5jaG9yJzogMSxcbiAgJ3RleHQtZGVjb3JhdGlvbic6IDEsXG4gICd0ZXh0LXJlbmRlcmluZyc6IDEsXG4gICd1bmljb2RlLWJpZGknOiAxLFxuICAndmlzaWJpbGl0eSc6IDEsXG4gICd3b3JkLXNwYWNpbmcnOiAxLFxuICAnd3JpdGluZy1tb2RlJzogMVxufTtcblxuXG5mdW5jdGlvbiBnZXRBdHRyaWJ1dGUobm9kZSwgbmFtZSkge1xuICBpZiAoQ1NTX1BST1BFUlRJRVNbbmFtZV0pIHtcbiAgICByZXR1cm4gbm9kZS5zdHlsZVtuYW1lXTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbm9kZS5nZXRBdHRyaWJ1dGVOUyhudWxsLCBuYW1lKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzZXRBdHRyaWJ1dGUobm9kZSwgbmFtZSwgdmFsdWUpIHtcbiAgdmFyIGh5cGhlbmF0ZWQgPSBuYW1lLnJlcGxhY2UoLyhbYS16XSkoW0EtWl0pL2csICckMS0kMicpLnRvTG93ZXJDYXNlKCk7XG5cbiAgdmFyIHR5cGUgPSBDU1NfUFJPUEVSVElFU1toeXBoZW5hdGVkXTtcblxuICBpZiAodHlwZSkge1xuICAgIC8vIGFwcGVuZCBwaXhlbCB1bml0LCB1bmxlc3MgcHJlc2VudFxuICAgIGlmICh0eXBlID09PSBMRU5HVEhfQVRUUiAmJiB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgICB2YWx1ZSA9IFN0cmluZyh2YWx1ZSkgKyAncHgnO1xuICAgIH1cblxuICAgIG5vZGUuc3R5bGVbaHlwaGVuYXRlZF0gPSB2YWx1ZTtcbiAgfSBlbHNlIHtcbiAgICBub2RlLnNldEF0dHJpYnV0ZU5TKG51bGwsIG5hbWUsIHZhbHVlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzZXRBdHRyaWJ1dGVzKG5vZGUsIGF0dHJzKSB7XG5cbiAgdmFyIG5hbWVzID0gT2JqZWN0LmtleXMoYXR0cnMpLCBpLCBuYW1lO1xuXG4gIGZvciAoaSA9IDAsIG5hbWU7IChuYW1lID0gbmFtZXNbaV0pOyBpKyspIHtcbiAgICBzZXRBdHRyaWJ1dGUobm9kZSwgbmFtZSwgYXR0cnNbbmFtZV0pO1xuICB9XG59XG5cbi8qKlxuICogR2V0cyBvciBzZXRzIHJhdyBhdHRyaWJ1dGVzIG9uIGEgbm9kZS5cbiAqXG4gKiBAcGFyYW0gIHtTVkdFbGVtZW50fSBub2RlXG4gKiBAcGFyYW0gIHtPYmplY3R9IFthdHRyc11cbiAqIEBwYXJhbSAge1N0cmluZ30gW25hbWVdXG4gKiBAcGFyYW0gIHtTdHJpbmd9IFt2YWx1ZV1cbiAqXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGF0dHIobm9kZSwgbmFtZSwgdmFsdWUpIHtcbiAgaWYgKHR5cGVvZiBuYW1lID09PSAnc3RyaW5nJykge1xuICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBzZXRBdHRyaWJ1dGUobm9kZSwgbmFtZSwgdmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZ2V0QXR0cmlidXRlKG5vZGUsIG5hbWUpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBzZXRBdHRyaWJ1dGVzKG5vZGUsIG5hbWUpO1xuICB9XG5cbiAgcmV0dXJuIG5vZGU7XG59XG5cbi8qKlxyXG4gKiBDbGVhciB1dGlsaXR5XHJcbiAqL1xyXG5mdW5jdGlvbiBpbmRleChhcnIsIG9iaikge1xyXG4gIGlmIChhcnIuaW5kZXhPZikge1xyXG4gICAgcmV0dXJuIGFyci5pbmRleE9mKG9iaik7XHJcbiAgfVxyXG5cclxuXHJcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyArK2kpIHtcclxuICAgIGlmIChhcnJbaV0gPT09IG9iaikge1xyXG4gICAgICByZXR1cm4gaTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiAtMTtcclxufVxyXG5cclxudmFyIHJlID0gL1xccysvO1xyXG5cclxudmFyIHRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcclxuXHJcbmZ1bmN0aW9uIGRlZmluZWQobykge1xyXG4gIHJldHVybiB0eXBlb2YgbyAhPT0gJ3VuZGVmaW5lZCc7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBXcmFwIGBlbGAgaW4gYSBgQ2xhc3NMaXN0YC5cclxuICpcclxuICogQHBhcmFtIHtFbGVtZW50fSBlbFxyXG4gKiBAcmV0dXJuIHtDbGFzc0xpc3R9XHJcbiAqIEBhcGkgcHVibGljXHJcbiAqL1xyXG5cclxuZnVuY3Rpb24gY2xhc3NlcyhlbCkge1xyXG4gIHJldHVybiBuZXcgQ2xhc3NMaXN0KGVsKTtcclxufVxyXG5cclxuZnVuY3Rpb24gQ2xhc3NMaXN0KGVsKSB7XHJcbiAgaWYgKCFlbCB8fCAhZWwubm9kZVR5cGUpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcignQSBET00gZWxlbWVudCByZWZlcmVuY2UgaXMgcmVxdWlyZWQnKTtcclxuICB9XHJcbiAgdGhpcy5lbCA9IGVsO1xyXG4gIHRoaXMubGlzdCA9IGVsLmNsYXNzTGlzdDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEFkZCBjbGFzcyBgbmFtZWAgaWYgbm90IGFscmVhZHkgcHJlc2VudC5cclxuICpcclxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVcclxuICogQHJldHVybiB7Q2xhc3NMaXN0fVxyXG4gKiBAYXBpIHB1YmxpY1xyXG4gKi9cclxuXHJcbkNsYXNzTGlzdC5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24obmFtZSkge1xyXG5cclxuICAvLyBjbGFzc0xpc3RcclxuICBpZiAodGhpcy5saXN0KSB7XHJcbiAgICB0aGlzLmxpc3QuYWRkKG5hbWUpO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICAvLyBmYWxsYmFja1xyXG4gIHZhciBhcnIgPSB0aGlzLmFycmF5KCk7XHJcbiAgdmFyIGkgPSBpbmRleChhcnIsIG5hbWUpO1xyXG4gIGlmICghfmkpIHtcclxuICAgIGFyci5wdXNoKG5hbWUpO1xyXG4gIH1cclxuXHJcbiAgaWYgKGRlZmluZWQodGhpcy5lbC5jbGFzc05hbWUuYmFzZVZhbCkpIHtcclxuICAgIHRoaXMuZWwuY2xhc3NOYW1lLmJhc2VWYWwgPSBhcnIuam9pbignICcpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICB0aGlzLmVsLmNsYXNzTmFtZSA9IGFyci5qb2luKCcgJyk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gdGhpcztcclxufTtcclxuXHJcbi8qKlxyXG4gKiBSZW1vdmUgY2xhc3MgYG5hbWVgIHdoZW4gcHJlc2VudCwgb3JcclxuICogcGFzcyBhIHJlZ3VsYXIgZXhwcmVzc2lvbiB0byByZW1vdmVcclxuICogYW55IHdoaWNoIG1hdGNoLlxyXG4gKlxyXG4gKiBAcGFyYW0ge1N0cmluZ3xSZWdFeHB9IG5hbWVcclxuICogQHJldHVybiB7Q2xhc3NMaXN0fVxyXG4gKiBAYXBpIHB1YmxpY1xyXG4gKi9cclxuXHJcbkNsYXNzTGlzdC5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24obmFtZSkge1xyXG4gIGlmICgnW29iamVjdCBSZWdFeHBdJyA9PT0gdG9TdHJpbmcuY2FsbChuYW1lKSkge1xyXG4gICAgcmV0dXJuIHRoaXMucmVtb3ZlTWF0Y2hpbmcobmFtZSk7XHJcbiAgfVxyXG5cclxuICAvLyBjbGFzc0xpc3RcclxuICBpZiAodGhpcy5saXN0KSB7XHJcbiAgICB0aGlzLmxpc3QucmVtb3ZlKG5hbWUpO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICAvLyBmYWxsYmFja1xyXG4gIHZhciBhcnIgPSB0aGlzLmFycmF5KCk7XHJcbiAgdmFyIGkgPSBpbmRleChhcnIsIG5hbWUpO1xyXG4gIGlmICh+aSkge1xyXG4gICAgYXJyLnNwbGljZShpLCAxKTtcclxuICB9XHJcbiAgdGhpcy5lbC5jbGFzc05hbWUuYmFzZVZhbCA9IGFyci5qb2luKCcgJyk7XHJcbiAgcmV0dXJuIHRoaXM7XHJcbn07XHJcblxyXG4vKipcclxuICogUmVtb3ZlIGFsbCBjbGFzc2VzIG1hdGNoaW5nIGByZWAuXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVnRXhwfSByZVxyXG4gKiBAcmV0dXJuIHtDbGFzc0xpc3R9XHJcbiAqIEBhcGkgcHJpdmF0ZVxyXG4gKi9cclxuXHJcbkNsYXNzTGlzdC5wcm90b3R5cGUucmVtb3ZlTWF0Y2hpbmcgPSBmdW5jdGlvbihyZSkge1xyXG4gIHZhciBhcnIgPSB0aGlzLmFycmF5KCk7XHJcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcclxuICAgIGlmIChyZS50ZXN0KGFycltpXSkpIHtcclxuICAgICAgdGhpcy5yZW1vdmUoYXJyW2ldKTtcclxuICAgIH1cclxuICB9XHJcbiAgcmV0dXJuIHRoaXM7XHJcbn07XHJcblxyXG4vKipcclxuICogVG9nZ2xlIGNsYXNzIGBuYW1lYCwgY2FuIGZvcmNlIHN0YXRlIHZpYSBgZm9yY2VgLlxyXG4gKlxyXG4gKiBGb3IgYnJvd3NlcnMgdGhhdCBzdXBwb3J0IGNsYXNzTGlzdCwgYnV0IGRvIG5vdCBzdXBwb3J0IGBmb3JjZWAgeWV0LFxyXG4gKiB0aGUgbWlzdGFrZSB3aWxsIGJlIGRldGVjdGVkIGFuZCBjb3JyZWN0ZWQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lXHJcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gZm9yY2VcclxuICogQHJldHVybiB7Q2xhc3NMaXN0fVxyXG4gKiBAYXBpIHB1YmxpY1xyXG4gKi9cclxuXHJcbkNsYXNzTGlzdC5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24obmFtZSwgZm9yY2UpIHtcclxuICAvLyBjbGFzc0xpc3RcclxuICBpZiAodGhpcy5saXN0KSB7XHJcbiAgICBpZiAoZGVmaW5lZChmb3JjZSkpIHtcclxuICAgICAgaWYgKGZvcmNlICE9PSB0aGlzLmxpc3QudG9nZ2xlKG5hbWUsIGZvcmNlKSkge1xyXG4gICAgICAgIHRoaXMubGlzdC50b2dnbGUobmFtZSk7IC8vIHRvZ2dsZSBhZ2FpbiB0byBjb3JyZWN0XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMubGlzdC50b2dnbGUobmFtZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8vIGZhbGxiYWNrXHJcbiAgaWYgKGRlZmluZWQoZm9yY2UpKSB7XHJcbiAgICBpZiAoIWZvcmNlKSB7XHJcbiAgICAgIHRoaXMucmVtb3ZlKG5hbWUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5hZGQobmFtZSk7XHJcbiAgICB9XHJcbiAgfSBlbHNlIHtcclxuICAgIGlmICh0aGlzLmhhcyhuYW1lKSkge1xyXG4gICAgICB0aGlzLnJlbW92ZShuYW1lKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuYWRkKG5hbWUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHRoaXM7XHJcbn07XHJcblxyXG4vKipcclxuICogUmV0dXJuIGFuIGFycmF5IG9mIGNsYXNzZXMuXHJcbiAqXHJcbiAqIEByZXR1cm4ge0FycmF5fVxyXG4gKiBAYXBpIHB1YmxpY1xyXG4gKi9cclxuXHJcbkNsYXNzTGlzdC5wcm90b3R5cGUuYXJyYXkgPSBmdW5jdGlvbigpIHtcclxuICB2YXIgY2xhc3NOYW1lID0gdGhpcy5lbC5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykgfHwgJyc7XHJcbiAgdmFyIHN0ciA9IGNsYXNzTmFtZS5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLCAnJyk7XHJcbiAgdmFyIGFyciA9IHN0ci5zcGxpdChyZSk7XHJcbiAgaWYgKCcnID09PSBhcnJbMF0pIHtcclxuICAgIGFyci5zaGlmdCgpO1xyXG4gIH1cclxuICByZXR1cm4gYXJyO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIENoZWNrIGlmIGNsYXNzIGBuYW1lYCBpcyBwcmVzZW50LlxyXG4gKlxyXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZVxyXG4gKiBAcmV0dXJuIHtDbGFzc0xpc3R9XHJcbiAqIEBhcGkgcHVibGljXHJcbiAqL1xyXG5cclxuQ2xhc3NMaXN0LnByb3RvdHlwZS5oYXMgPVxyXG5DbGFzc0xpc3QucHJvdG90eXBlLmNvbnRhaW5zID0gZnVuY3Rpb24obmFtZSkge1xyXG4gIHJldHVybiAoXHJcbiAgICB0aGlzLmxpc3QgP1xyXG4gICAgICB0aGlzLmxpc3QuY29udGFpbnMobmFtZSkgOlxyXG4gICAgICAhISB+aW5kZXgodGhpcy5hcnJheSgpLCBuYW1lKVxyXG4gICk7XHJcbn07XG5cbmZ1bmN0aW9uIHJlbW92ZShlbGVtZW50KSB7XG4gIHZhciBwYXJlbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7XG5cbiAgaWYgKHBhcmVudCkge1xuICAgIHBhcmVudC5yZW1vdmVDaGlsZChlbGVtZW50KTtcbiAgfVxuXG4gIHJldHVybiBlbGVtZW50O1xufVxuXG4vKipcbiAqIENsZWFyIHV0aWxpdHlcbiAqL1xuXG4vKipcbiAqIFJlbW92ZXMgYWxsIGNoaWxkcmVuIGZyb20gdGhlIGdpdmVuIGVsZW1lbnRcbiAqXG4gKiBAcGFyYW0gIHtET01FbGVtZW50fSBlbGVtZW50XG4gKiBAcmV0dXJuIHtET01FbGVtZW50fSB0aGUgZWxlbWVudCAoZm9yIGNoYWluaW5nKVxuICovXG5mdW5jdGlvbiBjbGVhcihlbGVtZW50KSB7XG4gIHZhciBjaGlsZDtcblxuICB3aGlsZSAoKGNoaWxkID0gZWxlbWVudC5maXJzdENoaWxkKSkge1xuICAgIHJlbW92ZShjaGlsZCk7XG4gIH1cblxuICByZXR1cm4gZWxlbWVudDtcbn1cblxuZnVuY3Rpb24gY2xvbmUoZWxlbWVudCkge1xuICByZXR1cm4gZWxlbWVudC5jbG9uZU5vZGUodHJ1ZSk7XG59XG5cbnZhciBucyA9IHtcbiAgc3ZnOiAnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnXG59O1xuXG4vKipcbiAqIERPTSBwYXJzaW5nIHV0aWxpdHlcbiAqL1xuXG52YXIgU1ZHX1NUQVJUID0gJzxzdmcgeG1sbnM9XCInICsgbnMuc3ZnICsgJ1wiJztcblxuZnVuY3Rpb24gcGFyc2Uoc3ZnKSB7XG5cbiAgdmFyIHVud3JhcCA9IGZhbHNlO1xuXG4gIC8vIGVuc3VyZSB3ZSBpbXBvcnQgYSB2YWxpZCBzdmcgZG9jdW1lbnRcbiAgaWYgKHN2Zy5zdWJzdHJpbmcoMCwgNCkgPT09ICc8c3ZnJykge1xuICAgIGlmIChzdmcuaW5kZXhPZihucy5zdmcpID09PSAtMSkge1xuICAgICAgc3ZnID0gU1ZHX1NUQVJUICsgc3ZnLnN1YnN0cmluZyg0KTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gbmFtZXNwYWNlIHN2Z1xuICAgIHN2ZyA9IFNWR19TVEFSVCArICc+JyArIHN2ZyArICc8L3N2Zz4nO1xuICAgIHVud3JhcCA9IHRydWU7XG4gIH1cblxuICB2YXIgcGFyc2VkID0gcGFyc2VEb2N1bWVudChzdmcpO1xuXG4gIGlmICghdW53cmFwKSB7XG4gICAgcmV0dXJuIHBhcnNlZDtcbiAgfVxuXG4gIHZhciBmcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcblxuICB2YXIgcGFyZW50ID0gcGFyc2VkLmZpcnN0Q2hpbGQ7XG5cbiAgd2hpbGUgKHBhcmVudC5maXJzdENoaWxkKSB7XG4gICAgZnJhZ21lbnQuYXBwZW5kQ2hpbGQocGFyZW50LmZpcnN0Q2hpbGQpO1xuICB9XG5cbiAgcmV0dXJuIGZyYWdtZW50O1xufVxuXG5mdW5jdGlvbiBwYXJzZURvY3VtZW50KHN2Zykge1xuXG4gIHZhciBwYXJzZXI7XG5cbiAgLy8gcGFyc2VcbiAgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpO1xuICBwYXJzZXIuYXN5bmMgPSBmYWxzZTtcblxuICByZXR1cm4gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhzdmcsICd0ZXh0L3htbCcpO1xufVxuXG4vKipcbiAqIENyZWF0ZSB1dGlsaXR5IGZvciBTVkcgZWxlbWVudHNcbiAqL1xuXG5cbi8qKlxuICogQ3JlYXRlIGEgc3BlY2lmaWMgdHlwZSBmcm9tIG5hbWUgb3IgU1ZHIG1hcmt1cC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZSB0aGUgbmFtZSBvciBtYXJrdXAgb2YgdGhlIGVsZW1lbnRcbiAqIEBwYXJhbSB7T2JqZWN0fSBbYXR0cnNdIGF0dHJpYnV0ZXMgdG8gc2V0IG9uIHRoZSBlbGVtZW50XG4gKlxuICogQHJldHVybnMge1NWR0VsZW1lbnR9XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZShuYW1lLCBhdHRycykge1xuICB2YXIgZWxlbWVudDtcblxuICBpZiAobmFtZS5jaGFyQXQoMCkgPT09ICc8Jykge1xuICAgIGVsZW1lbnQgPSBwYXJzZShuYW1lKS5maXJzdENoaWxkO1xuICAgIGVsZW1lbnQgPSBkb2N1bWVudC5pbXBvcnROb2RlKGVsZW1lbnQsIHRydWUpO1xuICB9IGVsc2Uge1xuICAgIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMobnMuc3ZnLCBuYW1lKTtcbiAgfVxuXG4gIGlmIChhdHRycykge1xuICAgIGF0dHIoZWxlbWVudCwgYXR0cnMpO1xuICB9XG5cbiAgcmV0dXJuIGVsZW1lbnQ7XG59XG5cbi8qKlxuICogRXZlbnRzIGhhbmRsaW5nIHV0aWxpdHlcbiAqL1xuXG5mdW5jdGlvbiBvbihub2RlLCBldmVudCwgbGlzdGVuZXIsIHVzZUNhcHR1cmUpIHtcbiAgbm9kZS5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lciwgdXNlQ2FwdHVyZSk7XG59XG5cbmZ1bmN0aW9uIG9mZihub2RlLCBldmVudCwgbGlzdGVuZXIsIHVzZUNhcHR1cmUpIHtcbiAgbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lciwgdXNlQ2FwdHVyZSk7XG59XG5cbi8qKlxuICogR2VvbWV0cnkgaGVscGVyc1xuICovXG5cbi8vIGZha2Ugbm9kZSB1c2VkIHRvIGluc3RhbnRpYXRlIHN2ZyBnZW9tZXRyeSBlbGVtZW50c1xudmFyIG5vZGUgPSBjcmVhdGUoJ3N2ZycpO1xuXG5mdW5jdGlvbiBleHRlbmQob2JqZWN0LCBwcm9wcykge1xuICB2YXIgaSwgaywga2V5cyA9IE9iamVjdC5rZXlzKHByb3BzKTtcblxuICBmb3IgKGkgPSAwOyAoayA9IGtleXNbaV0pOyBpKyspIHtcbiAgICBvYmplY3Rba10gPSBwcm9wc1trXTtcbiAgfVxuXG4gIHJldHVybiBvYmplY3Q7XG59XG5cblxuZnVuY3Rpb24gY3JlYXRlUG9pbnQoeCwgeSkge1xuICB2YXIgcG9pbnQgPSBub2RlLmNyZWF0ZVNWR1BvaW50KCk7XG5cbiAgc3dpdGNoIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gIGNhc2UgMDpcbiAgICByZXR1cm4gcG9pbnQ7XG4gIGNhc2UgMjpcbiAgICB4ID0ge1xuICAgICAgeDogeCxcbiAgICAgIHk6IHlcbiAgICB9O1xuICAgIGJyZWFrO1xuICB9XG5cbiAgcmV0dXJuIGV4dGVuZChwb2ludCwgeCk7XG59XG5cbi8qKlxuICogQ3JlYXRlIG1hdHJpeCB2aWEgYXJncy5cbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIGNyZWF0ZU1hdHJpeCh7IGE6IDEsIGI6IDEgfSk7XG4gKiBjcmVhdGVNYXRyaXgoKTtcbiAqIGNyZWF0ZU1hdHJpeCgxLCAyLCAwLCAwLCAzMCwgMjApO1xuICpcbiAqIEByZXR1cm4ge1NWR01hdHJpeH1cbiAqL1xuZnVuY3Rpb24gY3JlYXRlTWF0cml4KGEsIGIsIGMsIGQsIGUsIGYpIHtcbiAgdmFyIG1hdHJpeCA9IG5vZGUuY3JlYXRlU1ZHTWF0cml4KCk7XG5cbiAgc3dpdGNoIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gIGNhc2UgMDpcbiAgICByZXR1cm4gbWF0cml4O1xuICBjYXNlIDE6XG4gICAgcmV0dXJuIGV4dGVuZChtYXRyaXgsIGEpO1xuICBjYXNlIDY6XG4gICAgcmV0dXJuIGV4dGVuZChtYXRyaXgsIHtcbiAgICAgIGE6IGEsXG4gICAgICBiOiBiLFxuICAgICAgYzogYyxcbiAgICAgIGQ6IGQsXG4gICAgICBlOiBlLFxuICAgICAgZjogZlxuICAgIH0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVRyYW5zZm9ybShtYXRyaXgpIHtcbiAgaWYgKG1hdHJpeCkge1xuICAgIHJldHVybiBub2RlLmNyZWF0ZVNWR1RyYW5zZm9ybUZyb21NYXRyaXgobWF0cml4KTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbm9kZS5jcmVhdGVTVkdUcmFuc2Zvcm0oKTtcbiAgfVxufVxuXG4vKipcbiAqIFNlcmlhbGl6YXRpb24gdXRpbFxuICovXG5cbnZhciBURVhUX0VOVElUSUVTID0gLyhbJjw+XXsxfSkvZztcbnZhciBBVFRSX0VOVElUSUVTID0gLyhbXFxuXFxyXCJdezF9KS9nO1xuXG52YXIgRU5USVRZX1JFUExBQ0VNRU5UID0ge1xuICAnJic6ICcmYW1wOycsXG4gICc8JzogJyZsdDsnLFxuICAnPic6ICcmZ3Q7JyxcbiAgJ1wiJzogJ1xcJydcbn07XG5cbmZ1bmN0aW9uIGVzY2FwZShzdHIsIHBhdHRlcm4pIHtcblxuICBmdW5jdGlvbiByZXBsYWNlRm4obWF0Y2gsIGVudGl0eSkge1xuICAgIHJldHVybiBFTlRJVFlfUkVQTEFDRU1FTlRbZW50aXR5XSB8fCBlbnRpdHk7XG4gIH1cblxuICByZXR1cm4gc3RyLnJlcGxhY2UocGF0dGVybiwgcmVwbGFjZUZuKTtcbn1cblxuZnVuY3Rpb24gc2VyaWFsaXplKG5vZGUsIG91dHB1dCkge1xuXG4gIHZhciBpLCBsZW4sIGF0dHJNYXAsIGF0dHJOb2RlLCBjaGlsZE5vZGVzO1xuXG4gIHN3aXRjaCAobm9kZS5ub2RlVHlwZSkge1xuICAvLyBURVhUXG4gIGNhc2UgMzpcbiAgICAvLyByZXBsYWNlIHNwZWNpYWwgWE1MIGNoYXJhY3RlcnNcbiAgICBvdXRwdXQucHVzaChlc2NhcGUobm9kZS50ZXh0Q29udGVudCwgVEVYVF9FTlRJVElFUykpO1xuICAgIGJyZWFrO1xuXG4gIC8vIEVMRU1FTlRcbiAgY2FzZSAxOlxuICAgIG91dHB1dC5wdXNoKCc8Jywgbm9kZS50YWdOYW1lKTtcblxuICAgIGlmIChub2RlLmhhc0F0dHJpYnV0ZXMoKSkge1xuICAgICAgYXR0ck1hcCA9IG5vZGUuYXR0cmlidXRlcztcbiAgICAgIGZvciAoaSA9IDAsIGxlbiA9IGF0dHJNYXAubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgYXR0ck5vZGUgPSBhdHRyTWFwLml0ZW0oaSk7XG4gICAgICAgIG91dHB1dC5wdXNoKCcgJywgYXR0ck5vZGUubmFtZSwgJz1cIicsIGVzY2FwZShhdHRyTm9kZS52YWx1ZSwgQVRUUl9FTlRJVElFUyksICdcIicpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChub2RlLmhhc0NoaWxkTm9kZXMoKSkge1xuICAgICAgb3V0cHV0LnB1c2goJz4nKTtcbiAgICAgIGNoaWxkTm9kZXMgPSBub2RlLmNoaWxkTm9kZXM7XG4gICAgICBmb3IgKGkgPSAwLCBsZW4gPSBjaGlsZE5vZGVzLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICAgIHNlcmlhbGl6ZShjaGlsZE5vZGVzLml0ZW0oaSksIG91dHB1dCk7XG4gICAgICB9XG4gICAgICBvdXRwdXQucHVzaCgnPC8nLCBub2RlLnRhZ05hbWUsICc+Jyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dHB1dC5wdXNoKCcvPicpO1xuICAgIH1cbiAgICBicmVhaztcblxuICAvLyBDT01NRU5UXG4gIGNhc2UgODpcbiAgICBvdXRwdXQucHVzaCgnPCEtLScsIGVzY2FwZShub2RlLm5vZGVWYWx1ZSwgVEVYVF9FTlRJVElFUyksICctLT4nKTtcbiAgICBicmVhaztcblxuICAvLyBDREFUQVxuICBjYXNlIDQ6XG4gICAgb3V0cHV0LnB1c2goJzwhW0NEQVRBWycsIG5vZGUubm9kZVZhbHVlLCAnXV0+Jyk7XG4gICAgYnJlYWs7XG5cbiAgZGVmYXVsdDpcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3VuYWJsZSB0byBoYW5kbGUgbm9kZSAnICsgbm9kZS5ub2RlVHlwZSk7XG4gIH1cblxuICByZXR1cm4gb3V0cHV0O1xufVxuXG4vKipcbiAqIGlubmVySFRNTCBsaWtlIGZ1bmN0aW9uYWxpdHkgZm9yIFNWRyBlbGVtZW50cy5cbiAqIGJhc2VkIG9uIGlubmVyU1ZHIChodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2lubmVyc3ZnKVxuICovXG5cblxuZnVuY3Rpb24gc2V0KGVsZW1lbnQsIHN2Zykge1xuXG4gIHZhciBwYXJzZWQgPSBwYXJzZShzdmcpO1xuXG4gIC8vIGNsZWFyIGVsZW1lbnQgY29udGVudHNcbiAgY2xlYXIoZWxlbWVudCk7XG5cbiAgaWYgKCFzdmcpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoIWlzRnJhZ21lbnQocGFyc2VkKSkge1xuICAgIC8vIGV4dHJhY3QgPHN2Zz4gZnJvbSBwYXJzZWQgZG9jdW1lbnRcbiAgICBwYXJzZWQgPSBwYXJzZWQuZG9jdW1lbnRFbGVtZW50O1xuICB9XG5cbiAgdmFyIG5vZGVzID0gc2xpY2UocGFyc2VkLmNoaWxkTm9kZXMpO1xuXG4gIC8vIGltcG9ydCArIGFwcGVuZCBlYWNoIG5vZGVcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2Rlcy5sZW5ndGg7IGkrKykge1xuICAgIGFwcGVuZFRvKG5vZGVzW2ldLCBlbGVtZW50KTtcbiAgfVxuXG59XG5cbmZ1bmN0aW9uIGdldChlbGVtZW50KSB7XG4gIHZhciBjaGlsZCA9IGVsZW1lbnQuZmlyc3RDaGlsZCxcbiAgICAgIG91dHB1dCA9IFtdO1xuXG4gIHdoaWxlIChjaGlsZCkge1xuICAgIHNlcmlhbGl6ZShjaGlsZCwgb3V0cHV0KTtcbiAgICBjaGlsZCA9IGNoaWxkLm5leHRTaWJsaW5nO1xuICB9XG5cbiAgcmV0dXJuIG91dHB1dC5qb2luKCcnKTtcbn1cblxuZnVuY3Rpb24gaXNGcmFnbWVudChub2RlKSB7XG4gIHJldHVybiBub2RlLm5vZGVOYW1lID09PSAnI2RvY3VtZW50LWZyYWdtZW50Jztcbn1cblxuZnVuY3Rpb24gaW5uZXJTVkcoZWxlbWVudCwgc3ZnKSB7XG5cbiAgaWYgKHN2ZyAhPT0gdW5kZWZpbmVkKSB7XG5cbiAgICB0cnkge1xuICAgICAgc2V0KGVsZW1lbnQsIHN2Zyk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdlcnJvciBwYXJzaW5nIFNWRzogJyArIGUubWVzc2FnZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGVsZW1lbnQ7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGdldChlbGVtZW50KTtcbiAgfVxufVxuXG5cbmZ1bmN0aW9uIHNsaWNlKGFycikge1xuICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJyKTtcbn1cblxuLyoqXG4gKiBTZWxlY3Rpb24gdXRpbGl0aWVzXG4gKi9cblxuZnVuY3Rpb24gc2VsZWN0KG5vZGUsIHNlbGVjdG9yKSB7XG4gIHJldHVybiBub2RlLnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xufVxuXG5mdW5jdGlvbiBzZWxlY3RBbGwobm9kZSwgc2VsZWN0b3IpIHtcbiAgdmFyIG5vZGVzID0gbm9kZS5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcblxuICByZXR1cm4gW10ubWFwLmNhbGwobm9kZXMsIGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfSk7XG59XG5cbi8qKlxuICogcHJlcGVuZFRvIHV0aWxpdHlcbiAqL1xuXG4vKipcbiAqIFByZXBlbmQgYSBub2RlIHRvIGEgdGFyZ2V0IGVsZW1lbnQgYW5kIHJldHVybiB0aGUgcHJlcGVuZGVkIG5vZGUuXG4gKlxuICogQHBhcmFtICB7U1ZHRWxlbWVudH0gbm9kZVxuICogQHBhcmFtICB7U1ZHRWxlbWVudH0gdGFyZ2V0XG4gKlxuICogQHJldHVybiB7U1ZHRWxlbWVudH0gdGhlIHByZXBlbmRlZCBub2RlXG4gKi9cbmZ1bmN0aW9uIHByZXBlbmRUbyhub2RlLCB0YXJnZXQpIHtcbiAgcmV0dXJuIHRhcmdldC5pbnNlcnRCZWZvcmUoZW5zdXJlSW1wb3J0ZWQobm9kZSwgdGFyZ2V0KSwgdGFyZ2V0LmZpcnN0Q2hpbGQgfHwgbnVsbCk7XG59XG5cbi8qKlxuICogcHJlcGVuZCB1dGlsaXR5XG4gKi9cblxuLyoqXG4gKiBQcmVwZW5kIGEgbm9kZSB0byBhIHRhcmdldCBlbGVtZW50XG4gKlxuICogQHBhcmFtICB7U1ZHRWxlbWVudH0gdGFyZ2V0XG4gKiBAcGFyYW0gIHtTVkdFbGVtZW50fSBub2RlXG4gKlxuICogQHJldHVybiB7U1ZHRWxlbWVudH0gdGhlIHRhcmdldCBlbGVtZW50XG4gKi9cbmZ1bmN0aW9uIHByZXBlbmQodGFyZ2V0LCBub2RlKSB7XG4gIHByZXBlbmRUbyhub2RlLCB0YXJnZXQpO1xuICByZXR1cm4gdGFyZ2V0O1xufVxuXG4vKipcbiAqIFJlcGxhY2UgdXRpbGl0eVxuICovXG5cbmZ1bmN0aW9uIHJlcGxhY2UoZWxlbWVudCwgcmVwbGFjZW1lbnQpIHtcbiAgZWxlbWVudC5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChlbnN1cmVJbXBvcnRlZChyZXBsYWNlbWVudCwgZWxlbWVudCksIGVsZW1lbnQpO1xuICByZXR1cm4gcmVwbGFjZW1lbnQ7XG59XG5cbi8qKlxuICogdHJhbnNmb3JtIGFjY2Vzc29yIHV0aWxpdHlcbiAqL1xuXG5mdW5jdGlvbiB3cmFwTWF0cml4KHRyYW5zZm9ybUxpc3QsIHRyYW5zZm9ybSkge1xuICBpZiAodHJhbnNmb3JtIGluc3RhbmNlb2YgU1ZHTWF0cml4KSB7XG4gICAgcmV0dXJuIHRyYW5zZm9ybUxpc3QuY3JlYXRlU1ZHVHJhbnNmb3JtRnJvbU1hdHJpeCh0cmFuc2Zvcm0pO1xuICB9XG5cbiAgcmV0dXJuIHRyYW5zZm9ybTtcbn1cblxuXG5mdW5jdGlvbiBzZXRUcmFuc2Zvcm1zKHRyYW5zZm9ybUxpc3QsIHRyYW5zZm9ybXMpIHtcbiAgdmFyIGksIHQ7XG5cbiAgdHJhbnNmb3JtTGlzdC5jbGVhcigpO1xuXG4gIGZvciAoaSA9IDA7ICh0ID0gdHJhbnNmb3Jtc1tpXSk7IGkrKykge1xuICAgIHRyYW5zZm9ybUxpc3QuYXBwZW5kSXRlbSh3cmFwTWF0cml4KHRyYW5zZm9ybUxpc3QsIHQpKTtcbiAgfVxufVxuXG4vKipcbiAqIEdldCBvciBzZXQgdGhlIHRyYW5zZm9ybXMgb24gdGhlIGdpdmVuIG5vZGUuXG4gKlxuICogQHBhcmFtIHtTVkdFbGVtZW50fSBub2RlXG4gKiBAcGFyYW0gIHtTVkdUcmFuc2Zvcm18U1ZHTWF0cml4fEFycmF5PFNWR1RyYW5zZm9ybXxTVkdNYXRyaXg+fSBbdHJhbnNmb3Jtc11cbiAqXG4gKiBAcmV0dXJuIHtTVkdUcmFuc2Zvcm19IHRoZSBjb25zb2xpZGF0ZWQgdHJhbnNmb3JtXG4gKi9cbmZ1bmN0aW9uIHRyYW5zZm9ybShub2RlLCB0cmFuc2Zvcm1zKSB7XG4gIHZhciB0cmFuc2Zvcm1MaXN0ID0gbm9kZS50cmFuc2Zvcm0uYmFzZVZhbDtcblxuICBpZiAodHJhbnNmb3Jtcykge1xuXG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHRyYW5zZm9ybXMpKSB7XG4gICAgICB0cmFuc2Zvcm1zID0gWyB0cmFuc2Zvcm1zIF07XG4gICAgfVxuXG4gICAgc2V0VHJhbnNmb3Jtcyh0cmFuc2Zvcm1MaXN0LCB0cmFuc2Zvcm1zKTtcbiAgfVxuXG4gIHJldHVybiB0cmFuc2Zvcm1MaXN0LmNvbnNvbGlkYXRlKCk7XG59XG5cbmV4cG9ydCB7IGFwcGVuZCwgYXBwZW5kVG8sIGF0dHIsIGNsYXNzZXMsIGNsZWFyLCBjbG9uZSwgY3JlYXRlLCBpbm5lclNWRywgcHJlcGVuZCwgcHJlcGVuZFRvLCByZW1vdmUsIHJlcGxhY2UsIHRyYW5zZm9ybSwgb24sIG9mZiwgY3JlYXRlUG9pbnQsIGNyZWF0ZU1hdHJpeCwgY3JlYXRlVHJhbnNmb3JtLCBzZWxlY3QsIHNlbGVjdEFsbCB9O1xuIiwidmFyIENMQVNTX1BBVFRFUk4gPSAvXmNsYXNzIC87XG5cbmZ1bmN0aW9uIGlzQ2xhc3MoZm4pIHtcbiAgcmV0dXJuIENMQVNTX1BBVFRFUk4udGVzdChmbi50b1N0cmluZygpKTtcbn1cblxuZnVuY3Rpb24gaXNBcnJheShvYmopIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBBcnJheV0nO1xufVxuXG5mdW5jdGlvbiBoYXNPd25Qcm9wKG9iaiwgcHJvcCkge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCk7XG59XG5cbmZ1bmN0aW9uIGFubm90YXRlKCkge1xuICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XG5cbiAgaWYgKGFyZ3MubGVuZ3RoID09PSAxICYmIGlzQXJyYXkoYXJnc1swXSkpIHtcbiAgICBhcmdzID0gYXJnc1swXTtcbiAgfVxuXG4gIHZhciBmbiA9IGFyZ3MucG9wKCk7XG5cbiAgZm4uJGluamVjdCA9IGFyZ3M7XG5cbiAgcmV0dXJuIGZuO1xufVxuXG5cbi8vIEN1cnJlbnQgbGltaXRhdGlvbnM6XG4vLyAtIGNhbid0IHB1dCBpbnRvIFwiZnVuY3Rpb24gYXJnXCIgY29tbWVudHNcbi8vIGZ1bmN0aW9uIC8qIChubyBwYXJlbnRoZXNpcyBsaWtlIHRoaXMpICovICgpe31cbi8vIGZ1bmN0aW9uIGFiYyggLyogeHggKG5vIHBhcmVudGhlc2lzIGxpa2UgdGhpcykgKi8gYSwgYikge31cbi8vXG4vLyBKdXN0IHB1dCB0aGUgY29tbWVudCBiZWZvcmUgZnVuY3Rpb24gb3IgaW5zaWRlOlxuLy8gLyogKCgodGhpcyBpcyBmaW5lKSkpICovIGZ1bmN0aW9uKGEsIGIpIHt9XG4vLyBmdW5jdGlvbiBhYmMoYSkgeyAvKiAoKCh0aGlzIGlzIGZpbmUpKSkgKi99XG4vL1xuLy8gLSBjYW4ndCByZWxpYWJseSBhdXRvLWFubm90YXRlIGNvbnN0cnVjdG9yOyB3ZSdsbCBtYXRjaCB0aGVcbi8vIGZpcnN0IGNvbnN0cnVjdG9yKC4uLikgcGF0dGVybiBmb3VuZCB3aGljaCBtYXkgYmUgdGhlIG9uZVxuLy8gb2YgYSBuZXN0ZWQgY2xhc3MsIHRvby5cblxudmFyIENPTlNUUlVDVE9SX0FSR1MgPSAvY29uc3RydWN0b3JcXHMqW14oXSpcXChcXHMqKFteKV0qKVxcKS9tO1xudmFyIEZOX0FSR1MgPSAvXig/OmFzeW5jICk/KD86ZnVuY3Rpb25cXHMqKT9bXihdKlxcKFxccyooW14pXSopXFwpL207XG52YXIgRk5fQVJHID0gL1xcL1xcKihbXipdKilcXCpcXC8vbTtcblxuZnVuY3Rpb24gcGFyc2VBbm5vdGF0aW9ucyhmbikge1xuXG4gIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBhbm5vdGF0ZSBcIicgKyBmbiArICdcIi4gRXhwZWN0ZWQgYSBmdW5jdGlvbiEnKTtcbiAgfVxuXG4gIHZhciBtYXRjaCA9IGZuLnRvU3RyaW5nKCkubWF0Y2goaXNDbGFzcyhmbikgPyBDT05TVFJVQ1RPUl9BUkdTIDogRk5fQVJHUyk7XG5cbiAgLy8gbWF5IHBhcnNlIGNsYXNzIHdpdGhvdXQgY29uc3RydWN0b3JcbiAgaWYgKCFtYXRjaCkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIHJldHVybiBtYXRjaFsxXSAmJiBtYXRjaFsxXS5zcGxpdCgnLCcpLm1hcChmdW5jdGlvbihhcmcpIHtcbiAgICBtYXRjaCA9IGFyZy5tYXRjaChGTl9BUkcpO1xuICAgIHJldHVybiBtYXRjaCA/IG1hdGNoWzFdLnRyaW0oKSA6IGFyZy50cmltKCk7XG4gIH0pIHx8IFtdO1xufVxuXG5mdW5jdGlvbiBNb2R1bGUoKSB7XG4gIHZhciBwcm92aWRlcnMgPSBbXTtcblxuICB0aGlzLmZhY3RvcnkgPSBmdW5jdGlvbihuYW1lLCBmYWN0b3J5KSB7XG4gICAgcHJvdmlkZXJzLnB1c2goW25hbWUsICdmYWN0b3J5JywgZmFjdG9yeV0pO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIHRoaXMudmFsdWUgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICAgIHByb3ZpZGVycy5wdXNoKFtuYW1lLCAndmFsdWUnLCB2YWx1ZV0pO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIHRoaXMudHlwZSA9IGZ1bmN0aW9uKG5hbWUsIHR5cGUpIHtcbiAgICBwcm92aWRlcnMucHVzaChbbmFtZSwgJ3R5cGUnLCB0eXBlXSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgdGhpcy5mb3JFYWNoID0gZnVuY3Rpb24oaXRlcmF0b3IpIHtcbiAgICBwcm92aWRlcnMuZm9yRWFjaChpdGVyYXRvcik7XG4gIH07XG5cbn1cblxuZnVuY3Rpb24gSW5qZWN0b3IobW9kdWxlcywgcGFyZW50KSB7XG4gIHBhcmVudCA9IHBhcmVudCB8fCB7XG4gICAgZ2V0OiBmdW5jdGlvbihuYW1lLCBzdHJpY3QpIHtcbiAgICAgIGN1cnJlbnRseVJlc29sdmluZy5wdXNoKG5hbWUpO1xuXG4gICAgICBpZiAoc3RyaWN0ID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IGVycm9yKCdObyBwcm92aWRlciBmb3IgXCInICsgbmFtZSArICdcIiEnKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgdmFyIGN1cnJlbnRseVJlc29sdmluZyA9IFtdO1xuICB2YXIgcHJvdmlkZXJzID0gdGhpcy5fcHJvdmlkZXJzID0gT2JqZWN0LmNyZWF0ZShwYXJlbnQuX3Byb3ZpZGVycyB8fCBudWxsKTtcbiAgdmFyIGluc3RhbmNlcyA9IHRoaXMuX2luc3RhbmNlcyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cbiAgdmFyIHNlbGYgPSBpbnN0YW5jZXMuaW5qZWN0b3IgPSB0aGlzO1xuXG4gIHZhciBlcnJvciA9IGZ1bmN0aW9uKG1zZykge1xuICAgIHZhciBzdGFjayA9IGN1cnJlbnRseVJlc29sdmluZy5qb2luKCcgLT4gJyk7XG4gICAgY3VycmVudGx5UmVzb2x2aW5nLmxlbmd0aCA9IDA7XG4gICAgcmV0dXJuIG5ldyBFcnJvcihzdGFjayA/IG1zZyArICcgKFJlc29sdmluZzogJyArIHN0YWNrICsgJyknIDogbXNnKTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJuIGEgbmFtZWQgc2VydmljZS5cbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWVcbiAgICogQHBhcmFtIHtCb29sZWFufSBbc3RyaWN0PXRydWVdIGlmIGZhbHNlLCByZXNvbHZlIG1pc3Npbmcgc2VydmljZXMgdG8gbnVsbFxuICAgKlxuICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAqL1xuICB2YXIgZ2V0ID0gZnVuY3Rpb24obmFtZSwgc3RyaWN0KSB7XG4gICAgaWYgKCFwcm92aWRlcnNbbmFtZV0gJiYgbmFtZS5pbmRleE9mKCcuJykgIT09IC0xKSB7XG4gICAgICB2YXIgcGFydHMgPSBuYW1lLnNwbGl0KCcuJyk7XG4gICAgICB2YXIgcGl2b3QgPSBnZXQocGFydHMuc2hpZnQoKSk7XG5cbiAgICAgIHdoaWxlIChwYXJ0cy5sZW5ndGgpIHtcbiAgICAgICAgcGl2b3QgPSBwaXZvdFtwYXJ0cy5zaGlmdCgpXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHBpdm90O1xuICAgIH1cblxuICAgIGlmIChoYXNPd25Qcm9wKGluc3RhbmNlcywgbmFtZSkpIHtcbiAgICAgIHJldHVybiBpbnN0YW5jZXNbbmFtZV07XG4gICAgfVxuXG4gICAgaWYgKGhhc093blByb3AocHJvdmlkZXJzLCBuYW1lKSkge1xuICAgICAgaWYgKGN1cnJlbnRseVJlc29sdmluZy5pbmRleE9mKG5hbWUpICE9PSAtMSkge1xuICAgICAgICBjdXJyZW50bHlSZXNvbHZpbmcucHVzaChuYW1lKTtcbiAgICAgICAgdGhyb3cgZXJyb3IoJ0Nhbm5vdCByZXNvbHZlIGNpcmN1bGFyIGRlcGVuZGVuY3khJyk7XG4gICAgICB9XG5cbiAgICAgIGN1cnJlbnRseVJlc29sdmluZy5wdXNoKG5hbWUpO1xuICAgICAgaW5zdGFuY2VzW25hbWVdID0gcHJvdmlkZXJzW25hbWVdWzBdKHByb3ZpZGVyc1tuYW1lXVsxXSk7XG4gICAgICBjdXJyZW50bHlSZXNvbHZpbmcucG9wKCk7XG5cbiAgICAgIHJldHVybiBpbnN0YW5jZXNbbmFtZV07XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhcmVudC5nZXQobmFtZSwgc3RyaWN0KTtcbiAgfTtcblxuICB2YXIgZm5EZWYgPSBmdW5jdGlvbihmbiwgbG9jYWxzKSB7XG5cbiAgICBpZiAodHlwZW9mIGxvY2FscyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGxvY2FscyA9IHt9O1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGlmIChpc0FycmF5KGZuKSkge1xuICAgICAgICBmbiA9IGFubm90YXRlKGZuLnNsaWNlKCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgaW52b2tlIFwiJyArIGZuICsgJ1wiLiBFeHBlY3RlZCBhIGZ1bmN0aW9uIScpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBpbmplY3QgPSBmbi4kaW5qZWN0IHx8IHBhcnNlQW5ub3RhdGlvbnMoZm4pO1xuICAgIHZhciBkZXBlbmRlbmNpZXMgPSBpbmplY3QubWFwKGZ1bmN0aW9uKGRlcCkge1xuICAgICAgaWYgKGhhc093blByb3AobG9jYWxzLCBkZXApKSB7XG4gICAgICAgIHJldHVybiBsb2NhbHNbZGVwXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBnZXQoZGVwKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiB7XG4gICAgICBmbjogZm4sXG4gICAgICBkZXBlbmRlbmNpZXM6IGRlcGVuZGVuY2llc1xuICAgIH07XG4gIH07XG5cbiAgdmFyIGluc3RhbnRpYXRlID0gZnVuY3Rpb24oVHlwZSkge1xuICAgIHZhciBkZWYgPSBmbkRlZihUeXBlKTtcblxuICAgIHZhciBmbiA9IGRlZi5mbixcbiAgICAgICAgZGVwZW5kZW5jaWVzID0gZGVmLmRlcGVuZGVuY2llcztcblxuICAgIC8vIGluc3RhbnRpYXRlIHZhciBhcmdzIGNvbnN0cnVjdG9yXG4gICAgdmFyIENvbnN0cnVjdG9yID0gRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuYXBwbHkoZm4sIFsgbnVsbCBdLmNvbmNhdChkZXBlbmRlbmNpZXMpKTtcblxuICAgIHJldHVybiBuZXcgQ29uc3RydWN0b3IoKTtcbiAgfTtcblxuICB2YXIgaW52b2tlID0gZnVuY3Rpb24oZnVuYywgY29udGV4dCwgbG9jYWxzKSB7XG4gICAgdmFyIGRlZiA9IGZuRGVmKGZ1bmMsIGxvY2Fscyk7XG5cbiAgICB2YXIgZm4gPSBkZWYuZm4sXG4gICAgICAgIGRlcGVuZGVuY2llcyA9IGRlZi5kZXBlbmRlbmNpZXM7XG5cbiAgICByZXR1cm4gZm4uYXBwbHkoY29udGV4dCwgZGVwZW5kZW5jaWVzKTtcbiAgfTtcblxuXG4gIHZhciBjcmVhdGVQcml2YXRlSW5qZWN0b3JGYWN0b3J5ID0gZnVuY3Rpb24ocHJpdmF0ZUNoaWxkSW5qZWN0b3IpIHtcbiAgICByZXR1cm4gYW5ub3RhdGUoZnVuY3Rpb24oa2V5KSB7XG4gICAgICByZXR1cm4gcHJpdmF0ZUNoaWxkSW5qZWN0b3IuZ2V0KGtleSk7XG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZUNoaWxkID0gZnVuY3Rpb24obW9kdWxlcywgZm9yY2VOZXdJbnN0YW5jZXMpIHtcbiAgICBpZiAoZm9yY2VOZXdJbnN0YW5jZXMgJiYgZm9yY2VOZXdJbnN0YW5jZXMubGVuZ3RoKSB7XG4gICAgICB2YXIgZnJvbVBhcmVudE1vZHVsZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICB2YXIgbWF0Y2hlZFNjb3BlcyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cbiAgICAgIHZhciBwcml2YXRlSW5qZWN0b3JzQ2FjaGUgPSBbXTtcbiAgICAgIHZhciBwcml2YXRlQ2hpbGRJbmplY3RvcnMgPSBbXTtcbiAgICAgIHZhciBwcml2YXRlQ2hpbGRGYWN0b3JpZXMgPSBbXTtcblxuICAgICAgdmFyIHByb3ZpZGVyO1xuICAgICAgdmFyIGNhY2hlSWR4O1xuICAgICAgdmFyIHByaXZhdGVDaGlsZEluamVjdG9yO1xuICAgICAgdmFyIHByaXZhdGVDaGlsZEluamVjdG9yRmFjdG9yeTtcbiAgICAgIGZvciAodmFyIG5hbWUgaW4gcHJvdmlkZXJzKSB7XG4gICAgICAgIHByb3ZpZGVyID0gcHJvdmlkZXJzW25hbWVdO1xuXG4gICAgICAgIGlmIChmb3JjZU5ld0luc3RhbmNlcy5pbmRleE9mKG5hbWUpICE9PSAtMSkge1xuICAgICAgICAgIGlmIChwcm92aWRlclsyXSA9PT0gJ3ByaXZhdGUnKSB7XG4gICAgICAgICAgICBjYWNoZUlkeCA9IHByaXZhdGVJbmplY3RvcnNDYWNoZS5pbmRleE9mKHByb3ZpZGVyWzNdKTtcbiAgICAgICAgICAgIGlmIChjYWNoZUlkeCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgcHJpdmF0ZUNoaWxkSW5qZWN0b3IgPSBwcm92aWRlclszXS5jcmVhdGVDaGlsZChbXSwgZm9yY2VOZXdJbnN0YW5jZXMpO1xuICAgICAgICAgICAgICBwcml2YXRlQ2hpbGRJbmplY3RvckZhY3RvcnkgPSBjcmVhdGVQcml2YXRlSW5qZWN0b3JGYWN0b3J5KHByaXZhdGVDaGlsZEluamVjdG9yKTtcbiAgICAgICAgICAgICAgcHJpdmF0ZUluamVjdG9yc0NhY2hlLnB1c2gocHJvdmlkZXJbM10pO1xuICAgICAgICAgICAgICBwcml2YXRlQ2hpbGRJbmplY3RvcnMucHVzaChwcml2YXRlQ2hpbGRJbmplY3Rvcik7XG4gICAgICAgICAgICAgIHByaXZhdGVDaGlsZEZhY3Rvcmllcy5wdXNoKHByaXZhdGVDaGlsZEluamVjdG9yRmFjdG9yeSk7XG4gICAgICAgICAgICAgIGZyb21QYXJlbnRNb2R1bGVbbmFtZV0gPSBbcHJpdmF0ZUNoaWxkSW5qZWN0b3JGYWN0b3J5LCBuYW1lLCAncHJpdmF0ZScsIHByaXZhdGVDaGlsZEluamVjdG9yXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGZyb21QYXJlbnRNb2R1bGVbbmFtZV0gPSBbcHJpdmF0ZUNoaWxkRmFjdG9yaWVzW2NhY2hlSWR4XSwgbmFtZSwgJ3ByaXZhdGUnLCBwcml2YXRlQ2hpbGRJbmplY3RvcnNbY2FjaGVJZHhdXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZnJvbVBhcmVudE1vZHVsZVtuYW1lXSA9IFtwcm92aWRlclsyXSwgcHJvdmlkZXJbMV1dO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtYXRjaGVkU2NvcGVzW25hbWVdID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgocHJvdmlkZXJbMl0gPT09ICdmYWN0b3J5JyB8fCBwcm92aWRlclsyXSA9PT0gJ3R5cGUnKSAmJiBwcm92aWRlclsxXS4kc2NvcGUpIHtcbiAgICAgICAgICAvKiBqc2hpbnQgLVcwODMgKi9cbiAgICAgICAgICBmb3JjZU5ld0luc3RhbmNlcy5mb3JFYWNoKGZ1bmN0aW9uKHNjb3BlKSB7XG4gICAgICAgICAgICBpZiAocHJvdmlkZXJbMV0uJHNjb3BlLmluZGV4T2Yoc2NvcGUpICE9PSAtMSkge1xuICAgICAgICAgICAgICBmcm9tUGFyZW50TW9kdWxlW25hbWVdID0gW3Byb3ZpZGVyWzJdLCBwcm92aWRlclsxXV07XG4gICAgICAgICAgICAgIG1hdGNoZWRTY29wZXNbc2NvcGVdID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmb3JjZU5ld0luc3RhbmNlcy5mb3JFYWNoKGZ1bmN0aW9uKHNjb3BlKSB7XG4gICAgICAgIGlmICghbWF0Y2hlZFNjb3Blc1tzY29wZV0pIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHByb3ZpZGVyIGZvciBcIicgKyBzY29wZSArICdcIi4gQ2Fubm90IHVzZSBwcm92aWRlciBmcm9tIHRoZSBwYXJlbnQhJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBtb2R1bGVzLnVuc2hpZnQoZnJvbVBhcmVudE1vZHVsZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBJbmplY3Rvcihtb2R1bGVzLCBzZWxmKTtcbiAgfTtcblxuICB2YXIgZmFjdG9yeU1hcCA9IHtcbiAgICBmYWN0b3J5OiBpbnZva2UsXG4gICAgdHlwZTogaW5zdGFudGlhdGUsXG4gICAgdmFsdWU6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICB9O1xuXG4gIG1vZHVsZXMuZm9yRWFjaChmdW5jdGlvbihtb2R1bGUpIHtcblxuICAgIGZ1bmN0aW9uIGFycmF5VW53cmFwKHR5cGUsIHZhbHVlKSB7XG4gICAgICBpZiAodHlwZSAhPT0gJ3ZhbHVlJyAmJiBpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICB2YWx1ZSA9IGFubm90YXRlKHZhbHVlLnNsaWNlKCkpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgLy8gVE9ETyh2b2p0YSk6IGhhbmRsZSB3cm9uZyBpbnB1dHMgKG1vZHVsZXMpXG4gICAgaWYgKG1vZHVsZSBpbnN0YW5jZW9mIE1vZHVsZSkge1xuICAgICAgbW9kdWxlLmZvckVhY2goZnVuY3Rpb24ocHJvdmlkZXIpIHtcbiAgICAgICAgdmFyIG5hbWUgPSBwcm92aWRlclswXTtcbiAgICAgICAgdmFyIHR5cGUgPSBwcm92aWRlclsxXTtcbiAgICAgICAgdmFyIHZhbHVlID0gcHJvdmlkZXJbMl07XG5cbiAgICAgICAgcHJvdmlkZXJzW25hbWVdID0gW2ZhY3RvcnlNYXBbdHlwZV0sIGFycmF5VW53cmFwKHR5cGUsIHZhbHVlKSwgdHlwZV07XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKSB7XG4gICAgICBpZiAobW9kdWxlLl9fZXhwb3J0c19fKSB7XG4gICAgICAgIHZhciBjbG9uZWRNb2R1bGUgPSBPYmplY3Qua2V5cyhtb2R1bGUpLnJlZHVjZShmdW5jdGlvbihtLCBrZXkpIHtcbiAgICAgICAgICBpZiAoa2V5LnN1YnN0cmluZygwLCAyKSAhPT0gJ19fJykge1xuICAgICAgICAgICAgbVtrZXldID0gbW9kdWxlW2tleV07XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBtO1xuICAgICAgICB9LCBPYmplY3QuY3JlYXRlKG51bGwpKTtcblxuICAgICAgICB2YXIgcHJpdmF0ZUluamVjdG9yID0gbmV3IEluamVjdG9yKChtb2R1bGUuX19tb2R1bGVzX18gfHwgW10pLmNvbmNhdChbY2xvbmVkTW9kdWxlXSksIHNlbGYpO1xuICAgICAgICB2YXIgZ2V0RnJvbVByaXZhdGVJbmplY3RvciA9IGFubm90YXRlKGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgIHJldHVybiBwcml2YXRlSW5qZWN0b3IuZ2V0KGtleSk7XG4gICAgICAgIH0pO1xuICAgICAgICBtb2R1bGUuX19leHBvcnRzX18uZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICBwcm92aWRlcnNba2V5XSA9IFtnZXRGcm9tUHJpdmF0ZUluamVjdG9yLCBrZXksICdwcml2YXRlJywgcHJpdmF0ZUluamVjdG9yXTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBPYmplY3Qua2V5cyhtb2R1bGUpLmZvckVhY2goZnVuY3Rpb24obmFtZSkge1xuICAgICAgICAgIGlmIChtb2R1bGVbbmFtZV1bMl0gPT09ICdwcml2YXRlJykge1xuICAgICAgICAgICAgcHJvdmlkZXJzW25hbWVdID0gbW9kdWxlW25hbWVdO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciB0eXBlID0gbW9kdWxlW25hbWVdWzBdO1xuICAgICAgICAgIHZhciB2YWx1ZSA9IG1vZHVsZVtuYW1lXVsxXTtcblxuICAgICAgICAgIHByb3ZpZGVyc1tuYW1lXSA9IFtmYWN0b3J5TWFwW3R5cGVdLCBhcnJheVVud3JhcCh0eXBlLCB2YWx1ZSksIHR5cGVdO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIC8vIHB1YmxpYyBBUElcbiAgdGhpcy5nZXQgPSBnZXQ7XG4gIHRoaXMuaW52b2tlID0gaW52b2tlO1xuICB0aGlzLmluc3RhbnRpYXRlID0gaW5zdGFudGlhdGU7XG4gIHRoaXMuY3JlYXRlQ2hpbGQgPSBjcmVhdGVDaGlsZDtcbn1cblxuZXhwb3J0IHsgYW5ub3RhdGUsIHBhcnNlQW5ub3RhdGlvbnMsIE1vZHVsZSwgSW5qZWN0b3IgfTtcbiIsInZhciBERUZBVUxUX1JFTkRFUl9QUklPUklUWSA9IDEwMDA7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2Ygc2hhcGUgYW5kIGNvbm5lY3Rpb24gcmVuZGVyZXJzLlxuICpcbiAqIEBwYXJhbSB7RXZlbnRCdXN9IGV2ZW50QnVzXG4gKiBAcGFyYW0ge251bWJlcn0gW3JlbmRlclByaW9yaXR5PTEwMDBdXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEJhc2VSZW5kZXJlcihldmVudEJ1cywgcmVuZGVyUHJpb3JpdHkpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIHJlbmRlclByaW9yaXR5ID0gcmVuZGVyUHJpb3JpdHkgfHwgREVGQVVMVF9SRU5ERVJfUFJJT1JJVFk7XG5cbiAgZXZlbnRCdXMub24oWyAncmVuZGVyLnNoYXBlJywgJ3JlbmRlci5jb25uZWN0aW9uJyBdLCByZW5kZXJQcmlvcml0eSwgZnVuY3Rpb24oZXZ0LCBjb250ZXh0KSB7XG4gICAgdmFyIHR5cGUgPSBldnQudHlwZSxcbiAgICAgICAgZWxlbWVudCA9IGNvbnRleHQuZWxlbWVudCxcbiAgICAgICAgdmlzdWFscyA9IGNvbnRleHQuZ2Z4O1xuXG4gICAgaWYgKHNlbGYuY2FuUmVuZGVyKGVsZW1lbnQpKSB7XG4gICAgICBpZiAodHlwZSA9PT0gJ3JlbmRlci5zaGFwZScpIHtcbiAgICAgICAgcmV0dXJuIHNlbGYuZHJhd1NoYXBlKHZpc3VhbHMsIGVsZW1lbnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHNlbGYuZHJhd0Nvbm5lY3Rpb24odmlzdWFscywgZWxlbWVudCk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICBldmVudEJ1cy5vbihbICdyZW5kZXIuZ2V0U2hhcGVQYXRoJywgJ3JlbmRlci5nZXRDb25uZWN0aW9uUGF0aCddLCByZW5kZXJQcmlvcml0eSwgZnVuY3Rpb24oZXZ0LCBlbGVtZW50KSB7XG4gICAgaWYgKHNlbGYuY2FuUmVuZGVyKGVsZW1lbnQpKSB7XG4gICAgICBpZiAoZXZ0LnR5cGUgPT09ICdyZW5kZXIuZ2V0U2hhcGVQYXRoJykge1xuICAgICAgICByZXR1cm4gc2VsZi5nZXRTaGFwZVBhdGgoZWxlbWVudCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gc2VsZi5nZXRDb25uZWN0aW9uUGF0aChlbGVtZW50KTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufVxuXG4vKipcbiAqIFNob3VsZCBjaGVjayB3aGV0aGVyICp0aGlzKiByZW5kZXJlciBjYW4gcmVuZGVyXG4gKiB0aGUgZWxlbWVudC9jb25uZWN0aW9uLlxuICpcbiAqIEBwYXJhbSB7ZWxlbWVudH0gZWxlbWVudFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5CYXNlUmVuZGVyZXIucHJvdG90eXBlLmNhblJlbmRlciA9IGZ1bmN0aW9uKCkge307XG5cbi8qKlxuICogUHJvdmlkZXMgdGhlIHNoYXBlJ3Mgc25hcCBzdmcgZWxlbWVudCB0byBiZSBkcmF3biBvbiB0aGUgYGNhbnZhc2AuXG4gKlxuICogQHBhcmFtIHtkanMuR3JhcGhpY3N9IHZpc3VhbHNcbiAqIEBwYXJhbSB7U2hhcGV9IHNoYXBlXG4gKlxuICogQHJldHVybnMge1NuYXAuc3ZnfSBbcmV0dXJucyBhIFNuYXAuc3ZnIHBhcGVyIGVsZW1lbnQgXVxuICovXG5CYXNlUmVuZGVyZXIucHJvdG90eXBlLmRyYXdTaGFwZSA9IGZ1bmN0aW9uKCkge307XG5cbi8qKlxuICogUHJvdmlkZXMgdGhlIHNoYXBlJ3Mgc25hcCBzdmcgZWxlbWVudCB0byBiZSBkcmF3biBvbiB0aGUgYGNhbnZhc2AuXG4gKlxuICogQHBhcmFtIHtkanMuR3JhcGhpY3N9IHZpc3VhbHNcbiAqIEBwYXJhbSB7Q29ubmVjdGlvbn0gY29ubmVjdGlvblxuICpcbiAqIEByZXR1cm5zIHtTbmFwLnN2Z30gW3JldHVybnMgYSBTbmFwLnN2ZyBwYXBlciBlbGVtZW50IF1cbiAqL1xuQmFzZVJlbmRlcmVyLnByb3RvdHlwZS5kcmF3Q29ubmVjdGlvbiA9IGZ1bmN0aW9uKCkge307XG5cbi8qKlxuICogR2V0cyB0aGUgU1ZHIHBhdGggb2YgYSBzaGFwZSB0aGF0IHJlcHJlc2VudHMgaXQncyB2aXN1YWwgYm91bmRzLlxuICpcbiAqIEBwYXJhbSB7U2hhcGV9IHNoYXBlXG4gKlxuICogQHJldHVybiB7c3RyaW5nfSBzdmcgcGF0aFxuICovXG5CYXNlUmVuZGVyZXIucHJvdG90eXBlLmdldFNoYXBlUGF0aCA9IGZ1bmN0aW9uKCkge307XG5cbi8qKlxuICogR2V0cyB0aGUgU1ZHIHBhdGggb2YgYSBjb25uZWN0aW9uIHRoYXQgcmVwcmVzZW50cyBpdCdzIHZpc3VhbCBib3VuZHMuXG4gKlxuICogQHBhcmFtIHtDb25uZWN0aW9ufSBjb25uZWN0aW9uXG4gKlxuICogQHJldHVybiB7c3RyaW5nfSBzdmcgcGF0aFxuICovXG5CYXNlUmVuZGVyZXIucHJvdG90eXBlLmdldENvbm5lY3Rpb25QYXRoID0gZnVuY3Rpb24oKSB7fTtcbiIsImltcG9ydCB7XG4gIGF0dHIgYXMgc3ZnQXR0cixcbiAgY3JlYXRlIGFzIHN2Z0NyZWF0ZVxufSBmcm9tICd0aW55LXN2Zyc7XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbXBvbmVudHNUb1BhdGgoZWxlbWVudHMpIHtcbiAgcmV0dXJuIGVsZW1lbnRzLmpvaW4oJywnKS5yZXBsYWNlKC8sPyhbQS16XSksPy9nLCAnJDEnKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvU1ZHUG9pbnRzKHBvaW50cykge1xuICB2YXIgcmVzdWx0ID0gJyc7XG5cbiAgZm9yICh2YXIgaSA9IDAsIHA7IChwID0gcG9pbnRzW2ldKTsgaSsrKSB7XG4gICAgcmVzdWx0ICs9IHAueCArICcsJyArIHAueSArICcgJztcbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVMaW5lKHBvaW50cywgYXR0cnMpIHtcblxuICB2YXIgbGluZSA9IHN2Z0NyZWF0ZSgncG9seWxpbmUnKTtcbiAgc3ZnQXR0cihsaW5lLCB7IHBvaW50czogdG9TVkdQb2ludHMocG9pbnRzKSB9KTtcblxuICBpZiAoYXR0cnMpIHtcbiAgICBzdmdBdHRyKGxpbmUsIGF0dHJzKTtcbiAgfVxuXG4gIHJldHVybiBsaW5lO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlTGluZShnZngsIHBvaW50cykge1xuICBzdmdBdHRyKGdmeCwgeyBwb2ludHM6IHRvU1ZHUG9pbnRzKHBvaW50cykgfSk7XG5cbiAgcmV0dXJuIGdmeDtcbn1cbiIsImltcG9ydCB7XG4gIGFzc2lnbixcbiAgZmlsdGVyLFxuICBmaW5kLFxuICBpc0FycmF5LFxuICBpc051bWJlcixcbiAgaXNPYmplY3QsXG4gIGlzVW5kZWZpbmVkLFxuICBncm91cEJ5LFxuICBmb3JFYWNoXG59IGZyb20gJ21pbi1kYXNoJztcblxuXG4vKipcbiAqIEdldCBwYXJlbnQgZWxlbWVudHMuXG4gKlxuICogQHBhcmFtIHtBcnJheTxkanMubW9kZWwuYmFzZT59IGVsZW1lbnRzXG4gKlxuICogQHJldHVybnMge0FycmF5PGRqcy5tb2RlbC5CYXNlPn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFBhcmVudHMoZWxlbWVudHMpIHtcblxuICAvLyBmaW5kIGVsZW1lbnRzIHRoYXQgYXJlIG5vdCBjaGlsZHJlbiBvZiBhbnkgb3RoZXIgZWxlbWVudHNcbiAgcmV0dXJuIGZpbHRlcihlbGVtZW50cywgZnVuY3Rpb24oZWxlbWVudCkge1xuICAgIHJldHVybiAhZmluZChlbGVtZW50cywgZnVuY3Rpb24oZSkge1xuICAgICAgcmV0dXJuIGUgIT09IGVsZW1lbnQgJiYgZ2V0UGFyZW50KGVsZW1lbnQsIGUpO1xuICAgIH0pO1xuICB9KTtcbn1cblxuXG5mdW5jdGlvbiBnZXRQYXJlbnQoZWxlbWVudCwgcGFyZW50KSB7XG4gIGlmICghcGFyZW50KSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKGVsZW1lbnQgPT09IHBhcmVudCkge1xuICAgIHJldHVybiBwYXJlbnQ7XG4gIH1cblxuICBpZiAoIWVsZW1lbnQucGFyZW50KSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgcmV0dXJuIGdldFBhcmVudChlbGVtZW50LnBhcmVudCwgcGFyZW50KTtcbn1cblxuXG4vKipcbiAqIEFkZHMgYW4gZWxlbWVudCB0byBhIGNvbGxlY3Rpb24gYW5kIHJldHVybnMgdHJ1ZSBpZiB0aGVcbiAqIGVsZW1lbnQgd2FzIGFkZGVkLlxuICpcbiAqIEBwYXJhbSB7QXJyYXk8T2JqZWN0Pn0gZWxlbWVudHNcbiAqIEBwYXJhbSB7T2JqZWN0fSBlXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHVuaXF1ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gYWRkKGVsZW1lbnRzLCBlLCB1bmlxdWUpIHtcbiAgdmFyIGNhbkFkZCA9ICF1bmlxdWUgfHwgZWxlbWVudHMuaW5kZXhPZihlKSA9PT0gLTE7XG5cbiAgaWYgKGNhbkFkZCkge1xuICAgIGVsZW1lbnRzLnB1c2goZSk7XG4gIH1cblxuICByZXR1cm4gY2FuQWRkO1xufVxuXG5cbi8qKlxuICogSXRlcmF0ZSBvdmVyIGVhY2ggZWxlbWVudCBpbiBhIGNvbGxlY3Rpb24sIGNhbGxpbmcgdGhlIGl0ZXJhdG9yIGZ1bmN0aW9uIGBmbmBcbiAqIHdpdGggKGVsZW1lbnQsIGluZGV4LCByZWN1cnNpb25EZXB0aCkuXG4gKlxuICogUmVjdXJzZSBpbnRvIGFsbCBlbGVtZW50cyB0aGF0IGFyZSByZXR1cm5lZCBieSBgZm5gLlxuICpcbiAqIEBwYXJhbSAge09iamVjdHxBcnJheTxPYmplY3Q+fSBlbGVtZW50c1xuICogQHBhcmFtICB7RnVuY3Rpb259IGZuIGl0ZXJhdG9yIGZ1bmN0aW9uIGNhbGxlZCB3aXRoIChlbGVtZW50LCBpbmRleCwgcmVjdXJzaW9uRGVwdGgpXG4gKiBAcGFyYW0gIHtudW1iZXJ9IFtkZXB0aF0gbWF4aW11bSByZWN1cnNpb24gZGVwdGhcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVhY2hFbGVtZW50KGVsZW1lbnRzLCBmbiwgZGVwdGgpIHtcblxuICBkZXB0aCA9IGRlcHRoIHx8IDA7XG5cbiAgaWYgKCFpc0FycmF5KGVsZW1lbnRzKSkge1xuICAgIGVsZW1lbnRzID0gWyBlbGVtZW50cyBdO1xuICB9XG5cbiAgZm9yRWFjaChlbGVtZW50cywgZnVuY3Rpb24ocywgaSkge1xuICAgIHZhciBmaWx0ZXIgPSBmbihzLCBpLCBkZXB0aCk7XG5cbiAgICBpZiAoaXNBcnJheShmaWx0ZXIpICYmIGZpbHRlci5sZW5ndGgpIHtcbiAgICAgIGVhY2hFbGVtZW50KGZpbHRlciwgZm4sIGRlcHRoICsgMSk7XG4gICAgfVxuICB9KTtcbn1cblxuXG4vKipcbiAqIENvbGxlY3RzIHNlbGYgKyBjaGlsZCBlbGVtZW50cyB1cCB0byBhIGdpdmVuIGRlcHRoIGZyb20gYSBsaXN0IG9mIGVsZW1lbnRzLlxuICpcbiAqIEBwYXJhbSAge2Rqcy5tb2RlbC5CYXNlfEFycmF5PGRqcy5tb2RlbC5CYXNlPn0gZWxlbWVudHMgdGhlIGVsZW1lbnRzIHRvIHNlbGVjdCB0aGUgY2hpbGRyZW4gZnJvbVxuICogQHBhcmFtICB7Ym9vbGVhbn0gdW5pcXVlIHdoZXRoZXIgdG8gcmV0dXJuIGEgdW5pcXVlIHJlc3VsdCBzZXQgKG5vIGR1cGxpY2F0ZXMpXG4gKiBAcGFyYW0gIHtudW1iZXJ9IG1heERlcHRoIHRoZSBkZXB0aCB0byBzZWFyY2ggdGhyb3VnaCBvciAtMSBmb3IgaW5maW5pdGVcbiAqXG4gKiBAcmV0dXJuIHtBcnJheTxkanMubW9kZWwuQmFzZT59IGZvdW5kIGVsZW1lbnRzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZWxmQW5kQ2hpbGRyZW4oZWxlbWVudHMsIHVuaXF1ZSwgbWF4RGVwdGgpIHtcbiAgdmFyIHJlc3VsdCA9IFtdLFxuICAgICAgcHJvY2Vzc2VkQ2hpbGRyZW4gPSBbXTtcblxuICBlYWNoRWxlbWVudChlbGVtZW50cywgZnVuY3Rpb24oZWxlbWVudCwgaSwgZGVwdGgpIHtcbiAgICBhZGQocmVzdWx0LCBlbGVtZW50LCB1bmlxdWUpO1xuXG4gICAgdmFyIGNoaWxkcmVuID0gZWxlbWVudC5jaGlsZHJlbjtcblxuICAgIC8vIG1heCB0cmF2ZXJzYWwgZGVwdGggbm90IHJlYWNoZWQgeWV0XG4gICAgaWYgKG1heERlcHRoID09PSAtMSB8fCBkZXB0aCA8IG1heERlcHRoKSB7XG5cbiAgICAgIC8vIGNoaWxkcmVuIGV4aXN0ICYmIGNoaWxkcmVuIG5vdCB5ZXQgcHJvY2Vzc2VkXG4gICAgICBpZiAoY2hpbGRyZW4gJiYgYWRkKHByb2Nlc3NlZENoaWxkcmVuLCBjaGlsZHJlbiwgdW5pcXVlKSkge1xuICAgICAgICByZXR1cm4gY2hpbGRyZW47XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIFJldHVybiBzZWxmICsgZGlyZWN0IGNoaWxkcmVuIGZvciBhIG51bWJlciBvZiBlbGVtZW50c1xuICpcbiAqIEBwYXJhbSAge0FycmF5PGRqcy5tb2RlbC5CYXNlPn0gZWxlbWVudHMgdG8gcXVlcnlcbiAqIEBwYXJhbSAge2Jvb2xlYW59IGFsbG93RHVwbGljYXRlcyB0byBhbGxvdyBkdXBsaWNhdGVzIGluIHRoZSByZXN1bHQgc2V0XG4gKlxuICogQHJldHVybiB7QXJyYXk8ZGpzLm1vZGVsLkJhc2U+fSB0aGUgY29sbGVjdGVkIGVsZW1lbnRzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZWxmQW5kRGlyZWN0Q2hpbGRyZW4oZWxlbWVudHMsIGFsbG93RHVwbGljYXRlcykge1xuICByZXR1cm4gc2VsZkFuZENoaWxkcmVuKGVsZW1lbnRzLCAhYWxsb3dEdXBsaWNhdGVzLCAxKTtcbn1cblxuXG4vKipcbiAqIFJldHVybiBzZWxmICsgQUxMIGNoaWxkcmVuIGZvciBhIG51bWJlciBvZiBlbGVtZW50c1xuICpcbiAqIEBwYXJhbSAge0FycmF5PGRqcy5tb2RlbC5CYXNlPn0gZWxlbWVudHMgdG8gcXVlcnlcbiAqIEBwYXJhbSAge2Jvb2xlYW59IGFsbG93RHVwbGljYXRlcyB0byBhbGxvdyBkdXBsaWNhdGVzIGluIHRoZSByZXN1bHQgc2V0XG4gKlxuICogQHJldHVybiB7QXJyYXk8ZGpzLm1vZGVsLkJhc2U+fSB0aGUgY29sbGVjdGVkIGVsZW1lbnRzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZWxmQW5kQWxsQ2hpbGRyZW4oZWxlbWVudHMsIGFsbG93RHVwbGljYXRlcykge1xuICByZXR1cm4gc2VsZkFuZENoaWxkcmVuKGVsZW1lbnRzLCAhYWxsb3dEdXBsaWNhdGVzLCAtMSk7XG59XG5cblxuLyoqXG4gKiBHZXRzIHRoZSB0aGUgY2xvc3VyZSBmb3IgYWxsIHNlbGVjdGVkIGVsZW1lbnRzLFxuICogdGhlaXIgZW5jbG9zZWQgY2hpbGRyZW4gYW5kIGNvbm5lY3Rpb25zLlxuICpcbiAqIEBwYXJhbSB7QXJyYXk8ZGpzLm1vZGVsLkJhc2U+fSBlbGVtZW50c1xuICogQHBhcmFtIHtib29sZWFufSBbaXNUb3BMZXZlbD10cnVlXVxuICogQHBhcmFtIHtPYmplY3R9IFtleGlzdGluZ0Nsb3N1cmVdXG4gKlxuICogQHJldHVybiB7T2JqZWN0fSBuZXdDbG9zdXJlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRDbG9zdXJlKGVsZW1lbnRzLCBpc1RvcExldmVsLCBjbG9zdXJlKSB7XG5cbiAgaWYgKGlzVW5kZWZpbmVkKGlzVG9wTGV2ZWwpKSB7XG4gICAgaXNUb3BMZXZlbCA9IHRydWU7XG4gIH1cblxuICBpZiAoaXNPYmplY3QoaXNUb3BMZXZlbCkpIHtcbiAgICBjbG9zdXJlID0gaXNUb3BMZXZlbDtcbiAgICBpc1RvcExldmVsID0gdHJ1ZTtcbiAgfVxuXG5cbiAgY2xvc3VyZSA9IGNsb3N1cmUgfHwge307XG5cbiAgdmFyIGFsbFNoYXBlcyA9IGNvcHlPYmplY3QoY2xvc3VyZS5hbGxTaGFwZXMpLFxuICAgICAgYWxsQ29ubmVjdGlvbnMgPSBjb3B5T2JqZWN0KGNsb3N1cmUuYWxsQ29ubmVjdGlvbnMpLFxuICAgICAgZW5jbG9zZWRFbGVtZW50cyA9IGNvcHlPYmplY3QoY2xvc3VyZS5lbmNsb3NlZEVsZW1lbnRzKSxcbiAgICAgIGVuY2xvc2VkQ29ubmVjdGlvbnMgPSBjb3B5T2JqZWN0KGNsb3N1cmUuZW5jbG9zZWRDb25uZWN0aW9ucyk7XG5cbiAgdmFyIHRvcExldmVsID0gY29weU9iamVjdChcbiAgICBjbG9zdXJlLnRvcExldmVsLFxuICAgIGlzVG9wTGV2ZWwgJiYgZ3JvdXBCeShlbGVtZW50cywgZnVuY3Rpb24oZSkgeyByZXR1cm4gZS5pZDsgfSlcbiAgKTtcblxuXG4gIGZ1bmN0aW9uIGhhbmRsZUNvbm5lY3Rpb24oYykge1xuICAgIGlmICh0b3BMZXZlbFtjLnNvdXJjZS5pZF0gJiYgdG9wTGV2ZWxbYy50YXJnZXQuaWRdKSB7XG4gICAgICB0b3BMZXZlbFtjLmlkXSA9IFsgYyBdO1xuICAgIH1cblxuICAgIC8vIG5vdCBlbmNsb3NlZCBhcyBhIGNoaWxkLCBidXQgbWF5YmUgbG9naWNhbGx5XG4gICAgLy8gKGNvbm5lY3RpbmcgdHdvIG1vdmVkIGVsZW1lbnRzPylcbiAgICBpZiAoYWxsU2hhcGVzW2Muc291cmNlLmlkXSAmJiBhbGxTaGFwZXNbYy50YXJnZXQuaWRdKSB7XG4gICAgICBlbmNsb3NlZENvbm5lY3Rpb25zW2MuaWRdID0gZW5jbG9zZWRFbGVtZW50c1tjLmlkXSA9IGM7XG4gICAgfVxuXG4gICAgYWxsQ29ubmVjdGlvbnNbYy5pZF0gPSBjO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlRWxlbWVudChlbGVtZW50KSB7XG5cbiAgICBlbmNsb3NlZEVsZW1lbnRzW2VsZW1lbnQuaWRdID0gZWxlbWVudDtcblxuICAgIGlmIChlbGVtZW50LndheXBvaW50cykge1xuXG4gICAgICAvLyByZW1lbWJlciBjb25uZWN0aW9uXG4gICAgICBlbmNsb3NlZENvbm5lY3Rpb25zW2VsZW1lbnQuaWRdID0gYWxsQ29ubmVjdGlvbnNbZWxlbWVudC5pZF0gPSBlbGVtZW50O1xuICAgIH0gZWxzZSB7XG5cbiAgICAgIC8vIHJlbWVtYmVyIHNoYXBlXG4gICAgICBhbGxTaGFwZXNbZWxlbWVudC5pZF0gPSBlbGVtZW50O1xuXG4gICAgICAvLyByZW1lbWJlciBhbGwgY29ubmVjdGlvbnNcbiAgICAgIGZvckVhY2goZWxlbWVudC5pbmNvbWluZywgaGFuZGxlQ29ubmVjdGlvbik7XG5cbiAgICAgIGZvckVhY2goZWxlbWVudC5vdXRnb2luZywgaGFuZGxlQ29ubmVjdGlvbik7XG5cbiAgICAgIC8vIHJlY3Vyc2UgaW50byBjaGlsZHJlblxuICAgICAgcmV0dXJuIGVsZW1lbnQuY2hpbGRyZW47XG4gICAgfVxuICB9XG5cbiAgZWFjaEVsZW1lbnQoZWxlbWVudHMsIGhhbmRsZUVsZW1lbnQpO1xuXG4gIHJldHVybiB7XG4gICAgYWxsU2hhcGVzOiBhbGxTaGFwZXMsXG4gICAgYWxsQ29ubmVjdGlvbnM6IGFsbENvbm5lY3Rpb25zLFxuICAgIHRvcExldmVsOiB0b3BMZXZlbCxcbiAgICBlbmNsb3NlZENvbm5lY3Rpb25zOiBlbmNsb3NlZENvbm5lY3Rpb25zLFxuICAgIGVuY2xvc2VkRWxlbWVudHM6IGVuY2xvc2VkRWxlbWVudHNcbiAgfTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBzdXJyb3VuZGluZyBiYm94IGZvciBhbGwgZWxlbWVudHMgaW5cbiAqIHRoZSBhcnJheSBvciB0aGUgZWxlbWVudCBwcmltaXRpdmUuXG4gKlxuICogQHBhcmFtIHtBcnJheTxkanMubW9kZWwuU2hhcGU+fGRqcy5tb2RlbC5TaGFwZX0gZWxlbWVudHNcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gc3RvcFJlY3Vyc2lvblxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0QkJveChlbGVtZW50cywgc3RvcFJlY3Vyc2lvbikge1xuXG4gIHN0b3BSZWN1cnNpb24gPSAhIXN0b3BSZWN1cnNpb247XG4gIGlmICghaXNBcnJheShlbGVtZW50cykpIHtcbiAgICBlbGVtZW50cyA9IFtlbGVtZW50c107XG4gIH1cblxuICB2YXIgbWluWCxcbiAgICAgIG1pblksXG4gICAgICBtYXhYLFxuICAgICAgbWF4WTtcblxuICBmb3JFYWNoKGVsZW1lbnRzLCBmdW5jdGlvbihlbGVtZW50KSB7XG5cbiAgICAvLyBJZiBlbGVtZW50IGlzIGEgY29ubmVjdGlvbiB0aGUgYmJveCBtdXN0IGJlIGNvbXB1dGVkIGZpcnN0XG4gICAgdmFyIGJib3ggPSBlbGVtZW50O1xuICAgIGlmIChlbGVtZW50LndheXBvaW50cyAmJiAhc3RvcFJlY3Vyc2lvbikge1xuICAgICAgYmJveCA9IGdldEJCb3goZWxlbWVudC53YXlwb2ludHMsIHRydWUpO1xuICAgIH1cblxuICAgIHZhciB4ID0gYmJveC54LFxuICAgICAgICB5ID0gYmJveC55LFxuICAgICAgICBoZWlnaHQgPSBiYm94LmhlaWdodCB8fCAwLFxuICAgICAgICB3aWR0aCA9IGJib3gud2lkdGggfHwgMDtcblxuICAgIGlmICh4IDwgbWluWCB8fCBtaW5YID09PSB1bmRlZmluZWQpIHtcbiAgICAgIG1pblggPSB4O1xuICAgIH1cbiAgICBpZiAoeSA8IG1pblkgfHwgbWluWSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBtaW5ZID0geTtcbiAgICB9XG5cbiAgICBpZiAoKHggKyB3aWR0aCkgPiBtYXhYIHx8IG1heFggPT09IHVuZGVmaW5lZCkge1xuICAgICAgbWF4WCA9IHggKyB3aWR0aDtcbiAgICB9XG4gICAgaWYgKCh5ICsgaGVpZ2h0KSA+IG1heFkgfHwgbWF4WSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBtYXhZID0geSArIGhlaWdodDtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiB7XG4gICAgeDogbWluWCxcbiAgICB5OiBtaW5ZLFxuICAgIGhlaWdodDogbWF4WSAtIG1pblksXG4gICAgd2lkdGg6IG1heFggLSBtaW5YXG4gIH07XG59XG5cblxuLyoqXG4gKiBSZXR1cm5zIGFsbCBlbGVtZW50cyB0aGF0IGFyZSBlbmNsb3NlZCBmcm9tIHRoZSBib3VuZGluZyBib3guXG4gKlxuICogICAqIElmIGJib3guKHdpZHRofGhlaWdodCkgaXMgbm90IHNwZWNpZmllZCB0aGUgbWV0aG9kIHJldHVybnNcbiAqICAgICBhbGwgZWxlbWVudHMgd2l0aCBlbGVtZW50LngveSA+IGJib3gueC95XG4gKiAgICogSWYgb25seSBiYm94Lnggb3IgYmJveC55IGlzIHNwZWNpZmllZCwgbWV0aG9kIHJldHVybiBhbGwgZWxlbWVudHMgd2l0aFxuICogICAgIGUueCA+IGJib3gueCBvciBlLnkgPiBiYm94LnlcbiAqXG4gKiBAcGFyYW0ge0FycmF5PGRqcy5tb2RlbC5TaGFwZT59IGVsZW1lbnRzIExpc3Qgb2YgRWxlbWVudHMgdG8gc2VhcmNoIHRocm91Z2hcbiAqIEBwYXJhbSB7ZGpzLm1vZGVsLlNoYXBlfSBiYm94IHRoZSBlbmNsb3NpbmcgYmJveC5cbiAqXG4gKiBAcmV0dXJuIHtBcnJheTxkanMubW9kZWwuU2hhcGU+fSBlbmNsb3NlZCBlbGVtZW50c1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RW5jbG9zZWRFbGVtZW50cyhlbGVtZW50cywgYmJveCkge1xuXG4gIHZhciBmaWx0ZXJlZEVsZW1lbnRzID0ge307XG5cbiAgZm9yRWFjaChlbGVtZW50cywgZnVuY3Rpb24oZWxlbWVudCkge1xuXG4gICAgdmFyIGUgPSBlbGVtZW50O1xuXG4gICAgaWYgKGUud2F5cG9pbnRzKSB7XG4gICAgICBlID0gZ2V0QkJveChlKTtcbiAgICB9XG5cbiAgICBpZiAoIWlzTnVtYmVyKGJib3gueSkgJiYgKGUueCA+IGJib3gueCkpIHtcbiAgICAgIGZpbHRlcmVkRWxlbWVudHNbZWxlbWVudC5pZF0gPSBlbGVtZW50O1xuICAgIH1cbiAgICBpZiAoIWlzTnVtYmVyKGJib3gueCkgJiYgKGUueSA+IGJib3gueSkpIHtcbiAgICAgIGZpbHRlcmVkRWxlbWVudHNbZWxlbWVudC5pZF0gPSBlbGVtZW50O1xuICAgIH1cbiAgICBpZiAoZS54ID4gYmJveC54ICYmIGUueSA+IGJib3gueSkge1xuICAgICAgaWYgKGlzTnVtYmVyKGJib3gud2lkdGgpICYmIGlzTnVtYmVyKGJib3guaGVpZ2h0KSAmJlxuICAgICAgICAgIGUud2lkdGggKyBlLnggPCBiYm94LndpZHRoICsgYmJveC54ICYmXG4gICAgICAgICAgZS5oZWlnaHQgKyBlLnkgPCBiYm94LmhlaWdodCArIGJib3gueSkge1xuXG4gICAgICAgIGZpbHRlcmVkRWxlbWVudHNbZWxlbWVudC5pZF0gPSBlbGVtZW50O1xuICAgICAgfSBlbHNlIGlmICghaXNOdW1iZXIoYmJveC53aWR0aCkgfHwgIWlzTnVtYmVyKGJib3guaGVpZ2h0KSkge1xuICAgICAgICBmaWx0ZXJlZEVsZW1lbnRzW2VsZW1lbnQuaWRdID0gZWxlbWVudDtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBmaWx0ZXJlZEVsZW1lbnRzO1xufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUeXBlKGVsZW1lbnQpIHtcblxuICBpZiAoJ3dheXBvaW50cycgaW4gZWxlbWVudCkge1xuICAgIHJldHVybiAnY29ubmVjdGlvbic7XG4gIH1cblxuICBpZiAoJ3gnIGluIGVsZW1lbnQpIHtcbiAgICByZXR1cm4gJ3NoYXBlJztcbiAgfVxuXG4gIHJldHVybiAncm9vdCc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0ZyYW1lRWxlbWVudChlbGVtZW50KSB7XG5cbiAgcmV0dXJuICEhKGVsZW1lbnQgJiYgZWxlbWVudC5pc0ZyYW1lKTtcbn1cblxuLy8gaGVscGVycyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbmZ1bmN0aW9uIGNvcHlPYmplY3Qoc3JjMSwgc3JjMikge1xuICByZXR1cm4gYXNzaWduKHt9LCBzcmMxIHx8IHt9LCBzcmMyIHx8IHt9KTtcbn0iLCJpbXBvcnQgaW5oZXJpdHMgZnJvbSAnaW5oZXJpdHMnO1xuXG5pbXBvcnQgQmFzZVJlbmRlcmVyIGZyb20gJy4vQmFzZVJlbmRlcmVyJztcblxuaW1wb3J0IHtcbiAgY29tcG9uZW50c1RvUGF0aCxcbiAgY3JlYXRlTGluZVxufSBmcm9tICcuLi91dGlsL1JlbmRlclV0aWwnO1xuXG5pbXBvcnQge1xuICBhcHBlbmQgYXMgc3ZnQXBwZW5kLFxuICBhdHRyIGFzIHN2Z0F0dHIsXG4gIGNyZWF0ZSBhcyBzdmdDcmVhdGVcbn0gZnJvbSAndGlueS1zdmcnO1xuXG5pbXBvcnQge1xuICBpc0ZyYW1lRWxlbWVudFxufSBmcm9tICcuLi91dGlsL0VsZW1lbnRzJztcblxuLy8gYXBwbHkgZGVmYXVsdCByZW5kZXJlciB3aXRoIGxvd2VzdCBwb3NzaWJsZSBwcmlvcml0eVxuLy8gc28gdGhhdCBpdCBvbmx5IGtpY2tzIGluIGlmIG5vb25lIGVsc2UgY291bGQgcmVuZGVyXG52YXIgREVGQVVMVF9SRU5ERVJfUFJJT1JJVFkgPSAxO1xuXG4vKipcbiAqIFRoZSBkZWZhdWx0IHJlbmRlcmVyIHVzZWQgZm9yIHNoYXBlcyBhbmQgY29ubmVjdGlvbnMuXG4gKlxuICogQHBhcmFtIHtFdmVudEJ1c30gZXZlbnRCdXNcbiAqIEBwYXJhbSB7U3R5bGVzfSBzdHlsZXNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gRGVmYXVsdFJlbmRlcmVyKGV2ZW50QnVzLCBzdHlsZXMpIHtcblxuICAvL1xuICBCYXNlUmVuZGVyZXIuY2FsbCh0aGlzLCBldmVudEJ1cywgREVGQVVMVF9SRU5ERVJfUFJJT1JJVFkpO1xuXG4gIHRoaXMuQ09OTkVDVElPTl9TVFlMRSA9IHN0eWxlcy5zdHlsZShbICduby1maWxsJyBdLCB7IHN0cm9rZVdpZHRoOiA1LCBzdHJva2U6ICdmdWNoc2lhJyB9KTtcbiAgdGhpcy5TSEFQRV9TVFlMRSA9IHN0eWxlcy5zdHlsZSh7IGZpbGw6ICd3aGl0ZScsIHN0cm9rZTogJ2Z1Y2hzaWEnLCBzdHJva2VXaWR0aDogMiB9KTtcbiAgdGhpcy5GUkFNRV9TVFlMRSA9IHN0eWxlcy5zdHlsZShbICduby1maWxsJyBdLCB7IHN0cm9rZTogJ2Z1Y2hzaWEnLCBzdHJva2VEYXNoYXJyYXk6IDQsIHN0cm9rZVdpZHRoOiAyIH0pO1xufVxuXG5pbmhlcml0cyhEZWZhdWx0UmVuZGVyZXIsIEJhc2VSZW5kZXJlcik7XG5cblxuRGVmYXVsdFJlbmRlcmVyLnByb3RvdHlwZS5jYW5SZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRydWU7XG59O1xuXG5EZWZhdWx0UmVuZGVyZXIucHJvdG90eXBlLmRyYXdTaGFwZSA9IGZ1bmN0aW9uIGRyYXdTaGFwZSh2aXN1YWxzLCBlbGVtZW50KSB7XG4gIHZhciByZWN0ID0gc3ZnQ3JlYXRlKCdyZWN0Jyk7XG5cbiAgc3ZnQXR0cihyZWN0LCB7XG4gICAgeDogMCxcbiAgICB5OiAwLFxuICAgIHdpZHRoOiBlbGVtZW50LndpZHRoIHx8IDAsXG4gICAgaGVpZ2h0OiBlbGVtZW50LmhlaWdodCB8fCAwXG4gIH0pO1xuXG4gIGlmIChpc0ZyYW1lRWxlbWVudChlbGVtZW50KSkge1xuICAgIHN2Z0F0dHIocmVjdCwgdGhpcy5GUkFNRV9TVFlMRSk7XG4gIH0gZWxzZSB7XG4gICAgc3ZnQXR0cihyZWN0LCB0aGlzLlNIQVBFX1NUWUxFKTtcbiAgfVxuXG4gIHN2Z0FwcGVuZCh2aXN1YWxzLCByZWN0KTtcblxuICByZXR1cm4gcmVjdDtcbn07XG5cbkRlZmF1bHRSZW5kZXJlci5wcm90b3R5cGUuZHJhd0Nvbm5lY3Rpb24gPSBmdW5jdGlvbiBkcmF3Q29ubmVjdGlvbih2aXN1YWxzLCBjb25uZWN0aW9uKSB7XG5cbiAgdmFyIGxpbmUgPSBjcmVhdGVMaW5lKGNvbm5lY3Rpb24ud2F5cG9pbnRzLCB0aGlzLkNPTk5FQ1RJT05fU1RZTEUpO1xuICBzdmdBcHBlbmQodmlzdWFscywgbGluZSk7XG5cbiAgcmV0dXJuIGxpbmU7XG59O1xuXG5EZWZhdWx0UmVuZGVyZXIucHJvdG90eXBlLmdldFNoYXBlUGF0aCA9IGZ1bmN0aW9uIGdldFNoYXBlUGF0aChzaGFwZSkge1xuXG4gIHZhciB4ID0gc2hhcGUueCxcbiAgICAgIHkgPSBzaGFwZS55LFxuICAgICAgd2lkdGggPSBzaGFwZS53aWR0aCxcbiAgICAgIGhlaWdodCA9IHNoYXBlLmhlaWdodDtcblxuICB2YXIgc2hhcGVQYXRoID0gW1xuICAgIFsnTScsIHgsIHldLFxuICAgIFsnbCcsIHdpZHRoLCAwXSxcbiAgICBbJ2wnLCAwLCBoZWlnaHRdLFxuICAgIFsnbCcsIC13aWR0aCwgMF0sXG4gICAgWyd6J11cbiAgXTtcblxuICByZXR1cm4gY29tcG9uZW50c1RvUGF0aChzaGFwZVBhdGgpO1xufTtcblxuRGVmYXVsdFJlbmRlcmVyLnByb3RvdHlwZS5nZXRDb25uZWN0aW9uUGF0aCA9IGZ1bmN0aW9uIGdldENvbm5lY3Rpb25QYXRoKGNvbm5lY3Rpb24pIHtcbiAgdmFyIHdheXBvaW50cyA9IGNvbm5lY3Rpb24ud2F5cG9pbnRzO1xuXG4gIHZhciBpZHgsIHBvaW50LCBjb25uZWN0aW9uUGF0aCA9IFtdO1xuXG4gIGZvciAoaWR4ID0gMDsgKHBvaW50ID0gd2F5cG9pbnRzW2lkeF0pOyBpZHgrKykge1xuXG4gICAgLy8gdGFrZSBpbnZpc2libGUgZG9ja2luZyBpbnRvIGFjY291bnRcbiAgICAvLyB3aGVuIGNyZWF0aW5nIHRoZSBwYXRoXG4gICAgcG9pbnQgPSBwb2ludC5vcmlnaW5hbCB8fCBwb2ludDtcblxuICAgIGNvbm5lY3Rpb25QYXRoLnB1c2goWyBpZHggPT09IDAgPyAnTScgOiAnTCcsIHBvaW50LngsIHBvaW50LnkgXSk7XG4gIH1cblxuICByZXR1cm4gY29tcG9uZW50c1RvUGF0aChjb25uZWN0aW9uUGF0aCk7XG59O1xuXG5cbkRlZmF1bHRSZW5kZXJlci4kaW5qZWN0ID0gWyAnZXZlbnRCdXMnLCAnc3R5bGVzJyBdO1xuIiwiaW1wb3J0IERlZmF1bHRSZW5kZXJlciBmcm9tICcuL0RlZmF1bHRSZW5kZXJlcic7XG5pbXBvcnQgU3R5bGVzIGZyb20gJy4vU3R5bGVzJztcblxuZXhwb3J0IGRlZmF1bHQge1xuICBfX2luaXRfXzogWyAnZGVmYXVsdFJlbmRlcmVyJyBdLFxuICBkZWZhdWx0UmVuZGVyZXI6IFsgJ3R5cGUnLCBEZWZhdWx0UmVuZGVyZXIgXSxcbiAgc3R5bGVzOiBbICd0eXBlJywgU3R5bGVzIF1cbn07XG4iLCJpbXBvcnQge1xuICBpc0FycmF5LFxuICBhc3NpZ24sXG4gIHJlZHVjZVxufSBmcm9tICdtaW4tZGFzaCc7XG5cblxuLyoqXG4gKiBBIGNvbXBvbmVudCB0aGF0IG1hbmFnZXMgc2hhcGUgc3R5bGVzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFN0eWxlcygpIHtcblxuICB2YXIgZGVmYXVsdFRyYWl0cyA9IHtcblxuICAgICduby1maWxsJzoge1xuICAgICAgZmlsbDogJ25vbmUnXG4gICAgfSxcbiAgICAnbm8tYm9yZGVyJzoge1xuICAgICAgc3Ryb2tlT3BhY2l0eTogMC4wXG4gICAgfSxcbiAgICAnbm8tZXZlbnRzJzoge1xuICAgICAgcG9pbnRlckV2ZW50czogJ25vbmUnXG4gICAgfVxuICB9O1xuXG4gIHZhciBzZWxmID0gdGhpcztcblxuICAvKipcbiAgICogQnVpbGRzIGEgc3R5bGUgZGVmaW5pdGlvbiBmcm9tIGEgY2xhc3NOYW1lLCBhIGxpc3Qgb2YgdHJhaXRzIGFuZCBhbiBvYmplY3Qgb2YgYWRkaXRpb25hbCBhdHRyaWJ1dGVzLlxuICAgKlxuICAgKiBAcGFyYW0gIHtzdHJpbmd9IGNsYXNzTmFtZVxuICAgKiBAcGFyYW0gIHtBcnJheTxzdHJpbmc+fSB0cmFpdHNcbiAgICogQHBhcmFtICB7T2JqZWN0fSBhZGRpdGlvbmFsQXR0cnNcbiAgICpcbiAgICogQHJldHVybiB7T2JqZWN0fSB0aGUgc3R5bGUgZGVmaW50aW9uXG4gICAqL1xuICB0aGlzLmNscyA9IGZ1bmN0aW9uKGNsYXNzTmFtZSwgdHJhaXRzLCBhZGRpdGlvbmFsQXR0cnMpIHtcbiAgICB2YXIgYXR0cnMgPSB0aGlzLnN0eWxlKHRyYWl0cywgYWRkaXRpb25hbEF0dHJzKTtcblxuICAgIHJldHVybiBhc3NpZ24oYXR0cnMsIHsgJ2NsYXNzJzogY2xhc3NOYW1lIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBCdWlsZHMgYSBzdHlsZSBkZWZpbml0aW9uIGZyb20gYSBsaXN0IG9mIHRyYWl0cyBhbmQgYW4gb2JqZWN0IG9mIGFkZGl0aW9uYWwgYXR0cmlidXRlcy5cbiAgICpcbiAgICogQHBhcmFtICB7QXJyYXk8c3RyaW5nPn0gdHJhaXRzXG4gICAqIEBwYXJhbSAge09iamVjdH0gYWRkaXRpb25hbEF0dHJzXG4gICAqXG4gICAqIEByZXR1cm4ge09iamVjdH0gdGhlIHN0eWxlIGRlZmludGlvblxuICAgKi9cbiAgdGhpcy5zdHlsZSA9IGZ1bmN0aW9uKHRyYWl0cywgYWRkaXRpb25hbEF0dHJzKSB7XG5cbiAgICBpZiAoIWlzQXJyYXkodHJhaXRzKSAmJiAhYWRkaXRpb25hbEF0dHJzKSB7XG4gICAgICBhZGRpdGlvbmFsQXR0cnMgPSB0cmFpdHM7XG4gICAgICB0cmFpdHMgPSBbXTtcbiAgICB9XG5cbiAgICB2YXIgYXR0cnMgPSByZWR1Y2UodHJhaXRzLCBmdW5jdGlvbihhdHRycywgdCkge1xuICAgICAgcmV0dXJuIGFzc2lnbihhdHRycywgZGVmYXVsdFRyYWl0c1t0XSB8fCB7fSk7XG4gICAgfSwge30pO1xuXG4gICAgcmV0dXJuIGFkZGl0aW9uYWxBdHRycyA/IGFzc2lnbihhdHRycywgYWRkaXRpb25hbEF0dHJzKSA6IGF0dHJzO1xuICB9O1xuXG4gIHRoaXMuY29tcHV0ZVN0eWxlID0gZnVuY3Rpb24oY3VzdG9tLCB0cmFpdHMsIGRlZmF1bHRTdHlsZXMpIHtcbiAgICBpZiAoIWlzQXJyYXkodHJhaXRzKSkge1xuICAgICAgZGVmYXVsdFN0eWxlcyA9IHRyYWl0cztcbiAgICAgIHRyYWl0cyA9IFtdO1xuICAgIH1cblxuICAgIHJldHVybiBzZWxmLnN0eWxlKHRyYWl0cyB8fCBbXSwgYXNzaWduKHt9LCBkZWZhdWx0U3R5bGVzLCBjdXN0b20gfHwge30pKTtcbiAgfTtcbn1cbiIsIi8qKlxuICogRmFpbHNhZmUgcmVtb3ZlIGFuIGVsZW1lbnQgZnJvbSBhIGNvbGxlY3Rpb25cbiAqXG4gKiBAcGFyYW0gIHtBcnJheTxPYmplY3Q+fSBbY29sbGVjdGlvbl1cbiAqIEBwYXJhbSAge09iamVjdH0gW2VsZW1lbnRdXG4gKlxuICogQHJldHVybiB7bnVtYmVyfSB0aGUgcHJldmlvdXMgaW5kZXggb2YgdGhlIGVsZW1lbnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZShjb2xsZWN0aW9uLCBlbGVtZW50KSB7XG5cbiAgaWYgKCFjb2xsZWN0aW9uIHx8ICFlbGVtZW50KSB7XG4gICAgcmV0dXJuIC0xO1xuICB9XG5cbiAgdmFyIGlkeCA9IGNvbGxlY3Rpb24uaW5kZXhPZihlbGVtZW50KTtcblxuICBpZiAoaWR4ICE9PSAtMSkge1xuICAgIGNvbGxlY3Rpb24uc3BsaWNlKGlkeCwgMSk7XG4gIH1cblxuICByZXR1cm4gaWR4O1xufVxuXG4vKipcbiAqIEZhaWwgc2F2ZSBhZGQgYW4gZWxlbWVudCB0byB0aGUgZ2l2ZW4gY29ubmVjdGlvbiwgZW5zdXJpbmdcbiAqIGl0IGRvZXMgbm90IHlldCBleGlzdC5cbiAqXG4gKiBAcGFyYW0ge0FycmF5PE9iamVjdD59IGNvbGxlY3Rpb25cbiAqIEBwYXJhbSB7T2JqZWN0fSBlbGVtZW50XG4gKiBAcGFyYW0ge251bWJlcn0gaWR4XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGQoY29sbGVjdGlvbiwgZWxlbWVudCwgaWR4KSB7XG5cbiAgaWYgKCFjb2xsZWN0aW9uIHx8ICFlbGVtZW50KSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBpZHggIT09ICdudW1iZXInKSB7XG4gICAgaWR4ID0gLTE7XG4gIH1cblxuICB2YXIgY3VycmVudElkeCA9IGNvbGxlY3Rpb24uaW5kZXhPZihlbGVtZW50KTtcblxuICBpZiAoY3VycmVudElkeCAhPT0gLTEpIHtcblxuICAgIGlmIChjdXJyZW50SWR4ID09PSBpZHgpIHtcblxuICAgICAgLy8gbm90aGluZyB0byBkbywgcG9zaXRpb24gaGFzIG5vdCBjaGFuZ2VkXG4gICAgICByZXR1cm47XG4gICAgfSBlbHNlIHtcblxuICAgICAgaWYgKGlkeCAhPT0gLTEpIHtcblxuICAgICAgICAvLyByZW1vdmUgZnJvbSBjdXJyZW50IHBvc2l0aW9uXG4gICAgICAgIGNvbGxlY3Rpb24uc3BsaWNlKGN1cnJlbnRJZHgsIDEpO1xuICAgICAgfSBlbHNlIHtcblxuICAgICAgICAvLyBhbHJlYWR5IGV4aXN0cyBpbiBjb2xsZWN0aW9uXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpZiAoaWR4ICE9PSAtMSkge1xuXG4gICAgLy8gaW5zZXJ0IGF0IHNwZWNpZmllZCBwb3NpdGlvblxuICAgIGNvbGxlY3Rpb24uc3BsaWNlKGlkeCwgMCwgZWxlbWVudCk7XG4gIH0gZWxzZSB7XG5cbiAgICAvLyBwdXNoIHRvIGVuZFxuICAgIGNvbGxlY3Rpb24ucHVzaChlbGVtZW50KTtcbiAgfVxufVxuXG5cbi8qKlxuICogRmFpbCBzYXZlIGdldCB0aGUgaW5kZXggb2YgYW4gZWxlbWVudCBpbiBhIGNvbGxlY3Rpb24uXG4gKlxuICogQHBhcmFtIHtBcnJheTxPYmplY3Q+fSBjb2xsZWN0aW9uXG4gKiBAcGFyYW0ge09iamVjdH0gZWxlbWVudFxuICpcbiAqIEByZXR1cm4ge251bWJlcn0gdGhlIGluZGV4IG9yIC0xIGlmIGNvbGxlY3Rpb24gb3IgZWxlbWVudCBkb1xuICogICAgICAgICAgICAgICAgICBub3QgZXhpc3Qgb3IgdGhlIGVsZW1lbnQgaXMgbm90IGNvbnRhaW5lZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluZGV4T2YoY29sbGVjdGlvbiwgZWxlbWVudCkge1xuXG4gIGlmICghY29sbGVjdGlvbiB8fCAhZWxlbWVudCkge1xuICAgIHJldHVybiAtMTtcbiAgfVxuXG4gIHJldHVybiBjb2xsZWN0aW9uLmluZGV4T2YoZWxlbWVudCk7XG59XG4iLCJpbXBvcnQge1xuICBpc051bWJlcixcbiAgYXNzaWduLFxuICBmb3JFYWNoLFxuICBldmVyeSxcbiAgZGVib3VuY2UsXG4gIGJpbmQsXG4gIHJlZHVjZVxufSBmcm9tICdtaW4tZGFzaCc7XG5cbmltcG9ydCB7XG4gIGFkZCBhcyBjb2xsZWN0aW9uQWRkLFxuICByZW1vdmUgYXMgY29sbGVjdGlvblJlbW92ZVxufSBmcm9tICcuLi91dGlsL0NvbGxlY3Rpb25zJztcblxuaW1wb3J0IHtcbiAgZ2V0VHlwZVxufSBmcm9tICcuLi91dGlsL0VsZW1lbnRzJztcblxuaW1wb3J0IHtcbiAgYXBwZW5kIGFzIHN2Z0FwcGVuZCxcbiAgYXR0ciBhcyBzdmdBdHRyLFxuICBjbGFzc2VzIGFzIHN2Z0NsYXNzZXMsXG4gIGNyZWF0ZSBhcyBzdmdDcmVhdGUsXG4gIHRyYW5zZm9ybSBhcyBzdmdUcmFuc2Zvcm1cbn0gZnJvbSAndGlueS1zdmcnO1xuXG5pbXBvcnQgeyBjcmVhdGVNYXRyaXggYXMgY3JlYXRlTWF0cml4IH0gZnJvbSAndGlueS1zdmcnO1xuXG5cbmZ1bmN0aW9uIHJvdW5kKG51bWJlciwgcmVzb2x1dGlvbikge1xuICByZXR1cm4gTWF0aC5yb3VuZChudW1iZXIgKiByZXNvbHV0aW9uKSAvIHJlc29sdXRpb247XG59XG5cbmZ1bmN0aW9uIGVuc3VyZVB4KG51bWJlcikge1xuICByZXR1cm4gaXNOdW1iZXIobnVtYmVyKSA/IG51bWJlciArICdweCcgOiBudW1iZXI7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIEhUTUwgY29udGFpbmVyIGVsZW1lbnQgZm9yIGEgU1ZHIGVsZW1lbnQgd2l0aFxuICogdGhlIGdpdmVuIGNvbmZpZ3VyYXRpb25cbiAqXG4gKiBAcGFyYW0gIHtPYmplY3R9IG9wdGlvbnNcbiAqIEByZXR1cm4ge0hUTUxFbGVtZW50fSB0aGUgY29udGFpbmVyIGVsZW1lbnRcbiAqL1xuZnVuY3Rpb24gY3JlYXRlQ29udGFpbmVyKG9wdGlvbnMpIHtcblxuICBvcHRpb25zID0gYXNzaWduKHt9LCB7IHdpZHRoOiAnMTAwJScsIGhlaWdodDogJzEwMCUnIH0sIG9wdGlvbnMpO1xuXG4gIHZhciBjb250YWluZXIgPSBvcHRpb25zLmNvbnRhaW5lciB8fCBkb2N1bWVudC5ib2R5O1xuXG4gIC8vIGNyZWF0ZSBhIDxkaXY+IGFyb3VuZCB0aGUgc3ZnIGVsZW1lbnQgd2l0aCB0aGUgcmVzcGVjdGl2ZSBzaXplXG4gIC8vIHRoaXMgd2F5IHdlIGNhbiBhbHdheXMgZ2V0IHRoZSBjb3JyZWN0IGNvbnRhaW5lciBzaXplXG4gIC8vICh0aGlzIGlzIGltcG9zc2libGUgZm9yIDxzdmc+IGVsZW1lbnRzIGF0IHRoZSBtb21lbnQpXG4gIHZhciBwYXJlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgcGFyZW50LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnZGpzLWNvbnRhaW5lcicpO1xuXG4gIGFzc2lnbihwYXJlbnQuc3R5bGUsIHtcbiAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICBvdmVyZmxvdzogJ2hpZGRlbicsXG4gICAgd2lkdGg6IGVuc3VyZVB4KG9wdGlvbnMud2lkdGgpLFxuICAgIGhlaWdodDogZW5zdXJlUHgob3B0aW9ucy5oZWlnaHQpXG4gIH0pO1xuXG4gIGNvbnRhaW5lci5hcHBlbmRDaGlsZChwYXJlbnQpO1xuXG4gIHJldHVybiBwYXJlbnQ7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUdyb3VwKHBhcmVudCwgY2xzLCBjaGlsZEluZGV4KSB7XG4gIHZhciBncm91cCA9IHN2Z0NyZWF0ZSgnZycpO1xuICBzdmdDbGFzc2VzKGdyb3VwKS5hZGQoY2xzKTtcblxuICB2YXIgaW5kZXggPSBjaGlsZEluZGV4ICE9PSB1bmRlZmluZWQgPyBjaGlsZEluZGV4IDogcGFyZW50LmNoaWxkTm9kZXMubGVuZ3RoIC0gMTtcblxuICAvLyBtdXN0IGVuc3VyZSBzZWNvbmQgYXJndW1lbnQgaXMgbm9kZSBvciBfbnVsbF9cbiAgLy8gY2YuIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Ob2RlL2luc2VydEJlZm9yZVxuICBwYXJlbnQuaW5zZXJ0QmVmb3JlKGdyb3VwLCBwYXJlbnQuY2hpbGROb2Rlc1tpbmRleF0gfHwgbnVsbCk7XG5cbiAgcmV0dXJuIGdyb3VwO1xufVxuXG52YXIgQkFTRV9MQVlFUiA9ICdiYXNlJztcblxuXG52YXIgUkVRVUlSRURfTU9ERUxfQVRUUlMgPSB7XG4gIHNoYXBlOiBbICd4JywgJ3knLCAnd2lkdGgnLCAnaGVpZ2h0JyBdLFxuICBjb25uZWN0aW9uOiBbICd3YXlwb2ludHMnIF1cbn07XG5cbi8qKlxuICogVGhlIG1haW4gZHJhd2luZyBjYW52YXMuXG4gKlxuICogQGNsYXNzXG4gKiBAY29uc3RydWN0b3JcbiAqXG4gKiBAZW1pdHMgQ2FudmFzI2NhbnZhcy5pbml0XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZ1xuICogQHBhcmFtIHtFdmVudEJ1c30gZXZlbnRCdXNcbiAqIEBwYXJhbSB7R3JhcGhpY3NGYWN0b3J5fSBncmFwaGljc0ZhY3RvcnlcbiAqIEBwYXJhbSB7RWxlbWVudFJlZ2lzdHJ5fSBlbGVtZW50UmVnaXN0cnlcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ2FudmFzKGNvbmZpZywgZXZlbnRCdXMsIGdyYXBoaWNzRmFjdG9yeSwgZWxlbWVudFJlZ2lzdHJ5KSB7XG5cbiAgdGhpcy5fZXZlbnRCdXMgPSBldmVudEJ1cztcbiAgdGhpcy5fZWxlbWVudFJlZ2lzdHJ5ID0gZWxlbWVudFJlZ2lzdHJ5O1xuICB0aGlzLl9ncmFwaGljc0ZhY3RvcnkgPSBncmFwaGljc0ZhY3Rvcnk7XG5cbiAgdGhpcy5faW5pdChjb25maWcgfHwge30pO1xufVxuXG5DYW52YXMuJGluamVjdCA9IFtcbiAgJ2NvbmZpZy5jYW52YXMnLFxuICAnZXZlbnRCdXMnLFxuICAnZ3JhcGhpY3NGYWN0b3J5JyxcbiAgJ2VsZW1lbnRSZWdpc3RyeSdcbl07XG5cblxuQ2FudmFzLnByb3RvdHlwZS5faW5pdCA9IGZ1bmN0aW9uKGNvbmZpZykge1xuXG4gIHZhciBldmVudEJ1cyA9IHRoaXMuX2V2ZW50QnVzO1xuXG4gIC8vIENyZWF0ZXMgYSA8c3ZnPiBlbGVtZW50IHRoYXQgaXMgd3JhcHBlZCBpbnRvIGEgPGRpdj4uXG4gIC8vIFRoaXMgd2F5IHdlIGFyZSBhbHdheXMgYWJsZSB0byBjb3JyZWN0bHkgZmlndXJlIG91dCB0aGUgc2l6ZSBvZiB0aGUgc3ZnIGVsZW1lbnRcbiAgLy8gYnkgcXVlcnlpbmcgdGhlIHBhcmVudCBub2RlLlxuICAvL1xuICAvLyAoSXQgaXMgbm90IHBvc3NpYmxlIHRvIGdldCB0aGUgc2l6ZSBvZiBhIHN2ZyBlbGVtZW50IGNyb3NzIGJyb3dzZXIgQCAyMDE0LTA0LTAxKVxuICAvL1xuICAvLyA8ZGl2IGNsYXNzPVwiZGpzLWNvbnRhaW5lclwiIHN0eWxlPVwid2lkdGg6IHtkZXNpcmVkLXdpZHRofSwgaGVpZ2h0OiB7ZGVzaXJlZC1oZWlnaHR9XCI+XG4gIC8vICAgPHN2ZyB3aWR0aD1cIjEwMCVcIiBoZWlnaHQ9XCIxMDAlXCI+XG4gIC8vICAgIC4uLlxuICAvLyAgIDwvc3ZnPlxuICAvLyA8L2Rpdj5cblxuICAvLyBodG1sIGNvbnRhaW5lclxuICB2YXIgY29udGFpbmVyID0gdGhpcy5fY29udGFpbmVyID0gY3JlYXRlQ29udGFpbmVyKGNvbmZpZyk7XG5cbiAgdmFyIHN2ZyA9IHRoaXMuX3N2ZyA9IHN2Z0NyZWF0ZSgnc3ZnJyk7XG4gIHN2Z0F0dHIoc3ZnLCB7IHdpZHRoOiAnMTAwJScsIGhlaWdodDogJzEwMCUnIH0pO1xuXG4gIHN2Z0FwcGVuZChjb250YWluZXIsIHN2Zyk7XG5cbiAgdmFyIHZpZXdwb3J0ID0gdGhpcy5fdmlld3BvcnQgPSBjcmVhdGVHcm91cChzdmcsICd2aWV3cG9ydCcpO1xuXG4gIHRoaXMuX2xheWVycyA9IHt9O1xuXG4gIC8vIGRlYm91bmNlIGNhbnZhcy52aWV3Ym94LmNoYW5nZWQgZXZlbnRzXG4gIC8vIGZvciBzbW9vdGhlciBkaWFncmFtIGludGVyYWN0aW9uXG4gIGlmIChjb25maWcuZGVmZXJVcGRhdGUgIT09IGZhbHNlKSB7XG4gICAgdGhpcy5fdmlld2JveENoYW5nZWQgPSBkZWJvdW5jZShiaW5kKHRoaXMuX3ZpZXdib3hDaGFuZ2VkLCB0aGlzKSwgMzAwKTtcbiAgfVxuXG4gIGV2ZW50QnVzLm9uKCdkaWFncmFtLmluaXQnLCBmdW5jdGlvbigpIHtcblxuICAgIC8qKlxuICAgICAqIEFuIGV2ZW50IGluZGljYXRpbmcgdGhhdCB0aGUgY2FudmFzIGlzIHJlYWR5IHRvIGJlIGRyYXduIG9uLlxuICAgICAqXG4gICAgICogQG1lbWJlck9mIENhbnZhc1xuICAgICAqXG4gICAgICogQGV2ZW50IGNhbnZhcy5pbml0XG4gICAgICpcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqIEBwcm9wZXJ0eSB7U1ZHRWxlbWVudH0gc3ZnIHRoZSBjcmVhdGVkIHN2ZyBlbGVtZW50XG4gICAgICogQHByb3BlcnR5IHtTVkdFbGVtZW50fSB2aWV3cG9ydCB0aGUgZGlyZWN0IHBhcmVudCBvZiBkaWFncmFtIGVsZW1lbnRzIGFuZCBzaGFwZXNcbiAgICAgKi9cbiAgICBldmVudEJ1cy5maXJlKCdjYW52YXMuaW5pdCcsIHtcbiAgICAgIHN2Zzogc3ZnLFxuICAgICAgdmlld3BvcnQ6IHZpZXdwb3J0XG4gICAgfSk7XG5cbiAgfSwgdGhpcyk7XG5cbiAgLy8gcmVzZXQgdmlld2JveCBvbiBzaGFwZSBjaGFuZ2VzIHRvXG4gIC8vIHJlY29tcHV0ZSB0aGUgdmlld2JveFxuICBldmVudEJ1cy5vbihbXG4gICAgJ3NoYXBlLmFkZGVkJyxcbiAgICAnY29ubmVjdGlvbi5hZGRlZCcsXG4gICAgJ3NoYXBlLnJlbW92ZWQnLFxuICAgICdjb25uZWN0aW9uLnJlbW92ZWQnLFxuICAgICdlbGVtZW50cy5jaGFuZ2VkJ1xuICBdLCBmdW5jdGlvbigpIHtcbiAgICBkZWxldGUgdGhpcy5fY2FjaGVkVmlld2JveDtcbiAgfSwgdGhpcyk7XG5cbiAgZXZlbnRCdXMub24oJ2RpYWdyYW0uZGVzdHJveScsIDUwMCwgdGhpcy5fZGVzdHJveSwgdGhpcyk7XG4gIGV2ZW50QnVzLm9uKCdkaWFncmFtLmNsZWFyJywgNTAwLCB0aGlzLl9jbGVhciwgdGhpcyk7XG59O1xuXG5DYW52YXMucHJvdG90eXBlLl9kZXN0cm95ID0gZnVuY3Rpb24oZW1pdCkge1xuICB0aGlzLl9ldmVudEJ1cy5maXJlKCdjYW52YXMuZGVzdHJveScsIHtcbiAgICBzdmc6IHRoaXMuX3N2ZyxcbiAgICB2aWV3cG9ydDogdGhpcy5fdmlld3BvcnRcbiAgfSk7XG5cbiAgdmFyIHBhcmVudCA9IHRoaXMuX2NvbnRhaW5lci5wYXJlbnROb2RlO1xuXG4gIGlmIChwYXJlbnQpIHtcbiAgICBwYXJlbnQucmVtb3ZlQ2hpbGQodGhpcy5fY29udGFpbmVyKTtcbiAgfVxuXG4gIGRlbGV0ZSB0aGlzLl9zdmc7XG4gIGRlbGV0ZSB0aGlzLl9jb250YWluZXI7XG4gIGRlbGV0ZSB0aGlzLl9sYXllcnM7XG4gIGRlbGV0ZSB0aGlzLl9yb290RWxlbWVudDtcbiAgZGVsZXRlIHRoaXMuX3ZpZXdwb3J0O1xufTtcblxuQ2FudmFzLnByb3RvdHlwZS5fY2xlYXIgPSBmdW5jdGlvbigpIHtcblxuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgdmFyIGFsbEVsZW1lbnRzID0gdGhpcy5fZWxlbWVudFJlZ2lzdHJ5LmdldEFsbCgpO1xuXG4gIC8vIHJlbW92ZSBhbGwgZWxlbWVudHNcbiAgYWxsRWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgdmFyIHR5cGUgPSBnZXRUeXBlKGVsZW1lbnQpO1xuXG4gICAgaWYgKHR5cGUgPT09ICdyb290Jykge1xuICAgICAgc2VsZi5zZXRSb290RWxlbWVudChudWxsLCB0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VsZi5fcmVtb3ZlRWxlbWVudChlbGVtZW50LCB0eXBlKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIGZvcmNlIHJlY29tcHV0YXRpb24gb2YgdmlldyBib3hcbiAgZGVsZXRlIHRoaXMuX2NhY2hlZFZpZXdib3g7XG59O1xuXG4vKipcbiAqIFJldHVybnMgdGhlIGRlZmF1bHQgbGF5ZXIgb24gd2hpY2hcbiAqIGFsbCBlbGVtZW50cyBhcmUgZHJhd24uXG4gKlxuICogQHJldHVybnMge1NWR0VsZW1lbnR9XG4gKi9cbkNhbnZhcy5wcm90b3R5cGUuZ2V0RGVmYXVsdExheWVyID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmdldExheWVyKEJBU0VfTEFZRVIsIDApO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIGEgbGF5ZXIgdGhhdCBpcyB1c2VkIHRvIGRyYXcgZWxlbWVudHNcbiAqIG9yIGFubm90YXRpb25zIG9uIGl0LlxuICpcbiAqIE5vbi1leGlzdGluZyBsYXllcnMgcmV0cmlldmVkIHRocm91Z2ggdGhpcyBtZXRob2RcbiAqIHdpbGwgYmUgY3JlYXRlZC4gRHVyaW5nIGNyZWF0aW9uLCB0aGUgb3B0aW9uYWwgaW5kZXhcbiAqIG1heSBiZSB1c2VkIHRvIGNyZWF0ZSBsYXllcnMgYmVsb3cgb3IgYWJvdmUgZXhpc3RpbmcgbGF5ZXJzLlxuICogQSBsYXllciB3aXRoIGEgY2VydGFpbiBpbmRleCBpcyBhbHdheXMgY3JlYXRlZCBhYm92ZSBhbGxcbiAqIGV4aXN0aW5nIGxheWVycyB3aXRoIHRoZSBzYW1lIGluZGV4LlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gKiBAcGFyYW0ge251bWJlcn0gaW5kZXhcbiAqXG4gKiBAcmV0dXJucyB7U1ZHRWxlbWVudH1cbiAqL1xuQ2FudmFzLnByb3RvdHlwZS5nZXRMYXllciA9IGZ1bmN0aW9uKG5hbWUsIGluZGV4KSB7XG5cbiAgaWYgKCFuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdtdXN0IHNwZWNpZnkgYSBuYW1lJyk7XG4gIH1cblxuICB2YXIgbGF5ZXIgPSB0aGlzLl9sYXllcnNbbmFtZV07XG5cbiAgaWYgKCFsYXllcikge1xuICAgIGxheWVyID0gdGhpcy5fbGF5ZXJzW25hbWVdID0gdGhpcy5fY3JlYXRlTGF5ZXIobmFtZSwgaW5kZXgpO1xuICB9XG5cbiAgLy8gdGhyb3cgYW4gZXJyb3IgaWYgbGF5ZXIgY3JlYXRpb24gLyByZXRyaXZhbCBpc1xuICAvLyByZXF1ZXN0ZWQgb24gZGlmZmVyZW50IGluZGV4XG4gIGlmICh0eXBlb2YgaW5kZXggIT09ICd1bmRlZmluZWQnICYmIGxheWVyLmluZGV4ICE9PSBpbmRleCkge1xuICAgIHRocm93IG5ldyBFcnJvcignbGF5ZXIgPCcgKyBuYW1lICsgJz4gYWxyZWFkeSBjcmVhdGVkIGF0IGluZGV4IDwnICsgaW5kZXggKyAnPicpO1xuICB9XG5cbiAgcmV0dXJuIGxheWVyLmdyb3VwO1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgZ2l2ZW4gbGF5ZXIgYW5kIHJldHVybnMgaXQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAqIEBwYXJhbSB7bnVtYmVyfSBbaW5kZXg9MF1cbiAqXG4gKiBAcmV0dXJuIHtPYmplY3R9IGxheWVyIGRlc2NyaXB0b3Igd2l0aCB7IGluZGV4LCBncm91cDogU1ZHR3JvdXAgfVxuICovXG5DYW52YXMucHJvdG90eXBlLl9jcmVhdGVMYXllciA9IGZ1bmN0aW9uKG5hbWUsIGluZGV4KSB7XG5cbiAgaWYgKCFpbmRleCkge1xuICAgIGluZGV4ID0gMDtcbiAgfVxuXG4gIHZhciBjaGlsZEluZGV4ID0gcmVkdWNlKHRoaXMuX2xheWVycywgZnVuY3Rpb24oY2hpbGRJbmRleCwgbGF5ZXIpIHtcbiAgICBpZiAoaW5kZXggPj0gbGF5ZXIuaW5kZXgpIHtcbiAgICAgIGNoaWxkSW5kZXgrKztcbiAgICB9XG5cbiAgICByZXR1cm4gY2hpbGRJbmRleDtcbiAgfSwgMCk7XG5cbiAgcmV0dXJuIHtcbiAgICBncm91cDogY3JlYXRlR3JvdXAodGhpcy5fdmlld3BvcnQsICdsYXllci0nICsgbmFtZSwgY2hpbGRJbmRleCksXG4gICAgaW5kZXg6IGluZGV4XG4gIH07XG5cbn07XG5cbi8qKlxuICogUmV0dXJucyB0aGUgaHRtbCBlbGVtZW50IHRoYXQgZW5jbG9zZXMgdGhlXG4gKiBkcmF3aW5nIGNhbnZhcy5cbiAqXG4gKiBAcmV0dXJuIHtET01Ob2RlfVxuICovXG5DYW52YXMucHJvdG90eXBlLmdldENvbnRhaW5lciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5fY29udGFpbmVyO1xufTtcblxuXG4vLyBtYXJrZXJzIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuQ2FudmFzLnByb3RvdHlwZS5fdXBkYXRlTWFya2VyID0gZnVuY3Rpb24oZWxlbWVudCwgbWFya2VyLCBhZGQpIHtcbiAgdmFyIGNvbnRhaW5lcjtcblxuICBpZiAoIWVsZW1lbnQuaWQpIHtcbiAgICBlbGVtZW50ID0gdGhpcy5fZWxlbWVudFJlZ2lzdHJ5LmdldChlbGVtZW50KTtcbiAgfVxuXG4gIC8vIHdlIG5lZWQgdG8gYWNjZXNzIGFsbFxuICBjb250YWluZXIgPSB0aGlzLl9lbGVtZW50UmVnaXN0cnkuX2VsZW1lbnRzW2VsZW1lbnQuaWRdO1xuXG4gIGlmICghY29udGFpbmVyKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgZm9yRWFjaChbIGNvbnRhaW5lci5nZngsIGNvbnRhaW5lci5zZWNvbmRhcnlHZnggXSwgZnVuY3Rpb24oZ2Z4KSB7XG4gICAgaWYgKGdmeCkge1xuXG4gICAgICAvLyBpbnZva2UgZWl0aGVyIGFkZENsYXNzIG9yIHJlbW92ZUNsYXNzIGJhc2VkIG9uIG1vZGVcbiAgICAgIGlmIChhZGQpIHtcbiAgICAgICAgc3ZnQ2xhc3NlcyhnZngpLmFkZChtYXJrZXIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3ZnQ2xhc3NlcyhnZngpLnJlbW92ZShtYXJrZXIpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgLyoqXG4gICAqIEFuIGV2ZW50IGluZGljYXRpbmcgdGhhdCBhIG1hcmtlciBoYXMgYmVlbiB1cGRhdGVkIGZvciBhbiBlbGVtZW50XG4gICAqXG4gICAqIEBldmVudCBlbGVtZW50Lm1hcmtlci51cGRhdGVcbiAgICogQHR5cGUge09iamVjdH1cbiAgICogQHByb3BlcnR5IHtkanMubW9kZWwuRWxlbWVudH0gZWxlbWVudCB0aGUgc2hhcGVcbiAgICogQHByb3BlcnR5IHtPYmplY3R9IGdmeCB0aGUgZ3JhcGhpY2FsIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBzaGFwZVxuICAgKiBAcHJvcGVydHkge3N0cmluZ30gbWFya2VyXG4gICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gYWRkIHRydWUgaWYgdGhlIG1hcmtlciB3YXMgYWRkZWQsIGZhbHNlIGlmIGl0IGdvdCByZW1vdmVkXG4gICAqL1xuICB0aGlzLl9ldmVudEJ1cy5maXJlKCdlbGVtZW50Lm1hcmtlci51cGRhdGUnLCB7IGVsZW1lbnQ6IGVsZW1lbnQsIGdmeDogY29udGFpbmVyLmdmeCwgbWFya2VyOiBtYXJrZXIsIGFkZDogISFhZGQgfSk7XG59O1xuXG5cbi8qKlxuICogQWRkcyBhIG1hcmtlciB0byBhbiBlbGVtZW50IChiYXNpY2FsbHkgYSBjc3MgY2xhc3MpLlxuICpcbiAqIEZpcmVzIHRoZSBlbGVtZW50Lm1hcmtlci51cGRhdGUgZXZlbnQsIG1ha2luZyBpdCBwb3NzaWJsZSB0b1xuICogaW50ZWdyYXRlIGV4dGVuc2lvbiBpbnRvIHRoZSBtYXJrZXIgbGlmZS1jeWNsZSwgdG9vLlxuICpcbiAqIEBleGFtcGxlXG4gKiBjYW52YXMuYWRkTWFya2VyKCdmb28nLCAnc29tZS1tYXJrZXInKTtcbiAqXG4gKiB2YXIgZm9vR2Z4ID0gY2FudmFzLmdldEdyYXBoaWNzKCdmb28nKTtcbiAqXG4gKiBmb29HZng7IC8vIDxnIGNsYXNzPVwiLi4uIHNvbWUtbWFya2VyXCI+IC4uLiA8L2c+XG4gKlxuICogQHBhcmFtIHtzdHJpbmd8ZGpzLm1vZGVsLkJhc2V9IGVsZW1lbnRcbiAqIEBwYXJhbSB7c3RyaW5nfSBtYXJrZXJcbiAqL1xuQ2FudmFzLnByb3RvdHlwZS5hZGRNYXJrZXIgPSBmdW5jdGlvbihlbGVtZW50LCBtYXJrZXIpIHtcbiAgdGhpcy5fdXBkYXRlTWFya2VyKGVsZW1lbnQsIG1hcmtlciwgdHJ1ZSk7XG59O1xuXG5cbi8qKlxuICogUmVtb3ZlIGEgbWFya2VyIGZyb20gYW4gZWxlbWVudC5cbiAqXG4gKiBGaXJlcyB0aGUgZWxlbWVudC5tYXJrZXIudXBkYXRlIGV2ZW50LCBtYWtpbmcgaXQgcG9zc2libGUgdG9cbiAqIGludGVncmF0ZSBleHRlbnNpb24gaW50byB0aGUgbWFya2VyIGxpZmUtY3ljbGUsIHRvby5cbiAqXG4gKiBAcGFyYW0gIHtzdHJpbmd8ZGpzLm1vZGVsLkJhc2V9IGVsZW1lbnRcbiAqIEBwYXJhbSAge3N0cmluZ30gbWFya2VyXG4gKi9cbkNhbnZhcy5wcm90b3R5cGUucmVtb3ZlTWFya2VyID0gZnVuY3Rpb24oZWxlbWVudCwgbWFya2VyKSB7XG4gIHRoaXMuX3VwZGF0ZU1hcmtlcihlbGVtZW50LCBtYXJrZXIsIGZhbHNlKTtcbn07XG5cbi8qKlxuICogQ2hlY2sgdGhlIGV4aXN0ZW5jZSBvZiBhIG1hcmtlciBvbiBlbGVtZW50LlxuICpcbiAqIEBwYXJhbSAge3N0cmluZ3xkanMubW9kZWwuQmFzZX0gZWxlbWVudFxuICogQHBhcmFtICB7c3RyaW5nfSBtYXJrZXJcbiAqL1xuQ2FudmFzLnByb3RvdHlwZS5oYXNNYXJrZXIgPSBmdW5jdGlvbihlbGVtZW50LCBtYXJrZXIpIHtcbiAgaWYgKCFlbGVtZW50LmlkKSB7XG4gICAgZWxlbWVudCA9IHRoaXMuX2VsZW1lbnRSZWdpc3RyeS5nZXQoZWxlbWVudCk7XG4gIH1cblxuICB2YXIgZ2Z4ID0gdGhpcy5nZXRHcmFwaGljcyhlbGVtZW50KTtcblxuICByZXR1cm4gc3ZnQ2xhc3NlcyhnZngpLmhhcyhtYXJrZXIpO1xufTtcblxuLyoqXG4gKiBUb2dnbGVzIGEgbWFya2VyIG9uIGFuIGVsZW1lbnQuXG4gKlxuICogRmlyZXMgdGhlIGVsZW1lbnQubWFya2VyLnVwZGF0ZSBldmVudCwgbWFraW5nIGl0IHBvc3NpYmxlIHRvXG4gKiBpbnRlZ3JhdGUgZXh0ZW5zaW9uIGludG8gdGhlIG1hcmtlciBsaWZlLWN5Y2xlLCB0b28uXG4gKlxuICogQHBhcmFtICB7c3RyaW5nfGRqcy5tb2RlbC5CYXNlfSBlbGVtZW50XG4gKiBAcGFyYW0gIHtzdHJpbmd9IG1hcmtlclxuICovXG5DYW52YXMucHJvdG90eXBlLnRvZ2dsZU1hcmtlciA9IGZ1bmN0aW9uKGVsZW1lbnQsIG1hcmtlcikge1xuICBpZiAodGhpcy5oYXNNYXJrZXIoZWxlbWVudCwgbWFya2VyKSkge1xuICAgIHRoaXMucmVtb3ZlTWFya2VyKGVsZW1lbnQsIG1hcmtlcik7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5hZGRNYXJrZXIoZWxlbWVudCwgbWFya2VyKTtcbiAgfVxufTtcblxuQ2FudmFzLnByb3RvdHlwZS5nZXRSb290RWxlbWVudCA9IGZ1bmN0aW9uKCkge1xuICBpZiAoIXRoaXMuX3Jvb3RFbGVtZW50KSB7XG4gICAgdGhpcy5zZXRSb290RWxlbWVudCh7IGlkOiAnX19pbXBsaWNpdHJvb3QnLCBjaGlsZHJlbjogW10gfSk7XG4gIH1cblxuICByZXR1cm4gdGhpcy5fcm9vdEVsZW1lbnQ7XG59O1xuXG5cblxuLy8gcm9vdCBlbGVtZW50IGhhbmRsaW5nIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLyoqXG4gKiBTZXRzIGEgZ2l2ZW4gZWxlbWVudCBhcyB0aGUgbmV3IHJvb3QgZWxlbWVudCBmb3IgdGhlIGNhbnZhc1xuICogYW5kIHJldHVybnMgdGhlIG5ldyByb290IGVsZW1lbnQuXG4gKlxuICogQHBhcmFtIHtPYmplY3R8ZGpzLm1vZGVsLlJvb3R9IGVsZW1lbnRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW292ZXJyaWRlXSB3aGV0aGVyIHRvIG92ZXJyaWRlIHRoZSBjdXJyZW50IHJvb3QgZWxlbWVudCwgaWYgYW55XG4gKlxuICogQHJldHVybiB7T2JqZWN0fGRqcy5tb2RlbC5Sb290fSBuZXcgcm9vdCBlbGVtZW50XG4gKi9cbkNhbnZhcy5wcm90b3R5cGUuc2V0Um9vdEVsZW1lbnQgPSBmdW5jdGlvbihlbGVtZW50LCBvdmVycmlkZSkge1xuXG4gIGlmIChlbGVtZW50KSB7XG4gICAgdGhpcy5fZW5zdXJlVmFsaWQoJ3Jvb3QnLCBlbGVtZW50KTtcbiAgfVxuXG4gIHZhciBjdXJyZW50Um9vdCA9IHRoaXMuX3Jvb3RFbGVtZW50LFxuICAgICAgZWxlbWVudFJlZ2lzdHJ5ID0gdGhpcy5fZWxlbWVudFJlZ2lzdHJ5LFxuICAgICAgZXZlbnRCdXMgPSB0aGlzLl9ldmVudEJ1cztcblxuICBpZiAoY3VycmVudFJvb3QpIHtcbiAgICBpZiAoIW92ZXJyaWRlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ3Jvb3RFbGVtZW50IGFscmVhZHkgc2V0LCBuZWVkIHRvIHNwZWNpZnkgb3ZlcnJpZGUnKTtcbiAgICB9XG5cbiAgICAvLyBzaW11bGF0ZSBlbGVtZW50IHJlbW92ZSBldmVudCBzZXF1ZW5jZVxuICAgIGV2ZW50QnVzLmZpcmUoJ3Jvb3QucmVtb3ZlJywgeyBlbGVtZW50OiBjdXJyZW50Um9vdCB9KTtcbiAgICBldmVudEJ1cy5maXJlKCdyb290LnJlbW92ZWQnLCB7IGVsZW1lbnQ6IGN1cnJlbnRSb290IH0pO1xuXG4gICAgZWxlbWVudFJlZ2lzdHJ5LnJlbW92ZShjdXJyZW50Um9vdCk7XG4gIH1cblxuICBpZiAoZWxlbWVudCkge1xuICAgIHZhciBnZnggPSB0aGlzLmdldERlZmF1bHRMYXllcigpO1xuXG4gICAgLy8gcmVzZW1ibGUgZWxlbWVudCBhZGQgZXZlbnQgc2VxdWVuY2VcbiAgICBldmVudEJ1cy5maXJlKCdyb290LmFkZCcsIHsgZWxlbWVudDogZWxlbWVudCB9KTtcblxuICAgIGVsZW1lbnRSZWdpc3RyeS5hZGQoZWxlbWVudCwgZ2Z4LCB0aGlzLl9zdmcpO1xuXG4gICAgZXZlbnRCdXMuZmlyZSgncm9vdC5hZGRlZCcsIHsgZWxlbWVudDogZWxlbWVudCwgZ2Z4OiBnZnggfSk7XG4gIH1cblxuICB0aGlzLl9yb290RWxlbWVudCA9IGVsZW1lbnQ7XG5cbiAgcmV0dXJuIGVsZW1lbnQ7XG59O1xuXG5cblxuLy8gYWRkIGZ1bmN0aW9uYWxpdHkgLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5DYW52YXMucHJvdG90eXBlLl9lbnN1cmVWYWxpZCA9IGZ1bmN0aW9uKHR5cGUsIGVsZW1lbnQpIHtcbiAgaWYgKCFlbGVtZW50LmlkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdlbGVtZW50IG11c3QgaGF2ZSBhbiBpZCcpO1xuICB9XG5cbiAgaWYgKHRoaXMuX2VsZW1lbnRSZWdpc3RyeS5nZXQoZWxlbWVudC5pZCkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2VsZW1lbnQgd2l0aCBpZCAnICsgZWxlbWVudC5pZCArICcgYWxyZWFkeSBleGlzdHMnKTtcbiAgfVxuXG4gIHZhciByZXF1aXJlZEF0dHJzID0gUkVRVUlSRURfTU9ERUxfQVRUUlNbdHlwZV07XG5cbiAgdmFyIHZhbGlkID0gZXZlcnkocmVxdWlyZWRBdHRycywgZnVuY3Rpb24oYXR0cikge1xuICAgIHJldHVybiB0eXBlb2YgZWxlbWVudFthdHRyXSAhPT0gJ3VuZGVmaW5lZCc7XG4gIH0pO1xuXG4gIGlmICghdmFsaWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAnbXVzdCBzdXBwbHkgeyAnICsgcmVxdWlyZWRBdHRycy5qb2luKCcsICcpICsgJyB9IHdpdGggJyArIHR5cGUpO1xuICB9XG59O1xuXG5DYW52YXMucHJvdG90eXBlLl9zZXRQYXJlbnQgPSBmdW5jdGlvbihlbGVtZW50LCBwYXJlbnQsIHBhcmVudEluZGV4KSB7XG4gIGNvbGxlY3Rpb25BZGQocGFyZW50LmNoaWxkcmVuLCBlbGVtZW50LCBwYXJlbnRJbmRleCk7XG4gIGVsZW1lbnQucGFyZW50ID0gcGFyZW50O1xufTtcblxuLyoqXG4gKiBBZGRzIGFuIGVsZW1lbnQgdG8gdGhlIGNhbnZhcy5cbiAqXG4gKiBUaGlzIHdpcmVzIHRoZSBwYXJlbnQgPC0+IGNoaWxkIHJlbGF0aW9uc2hpcCBiZXR3ZWVuIHRoZSBlbGVtZW50IGFuZFxuICogYSBleHBsaWNpdGx5IHNwZWNpZmllZCBwYXJlbnQgb3IgYW4gaW1wbGljaXQgcm9vdCBlbGVtZW50LlxuICpcbiAqIER1cmluZyBhZGQgaXQgZW1pdHMgdGhlIGV2ZW50c1xuICpcbiAqICAqIDx7dHlwZX0uYWRkPiAoZWxlbWVudCwgcGFyZW50KVxuICogICogPHt0eXBlfS5hZGRlZD4gKGVsZW1lbnQsIGdmeClcbiAqXG4gKiBFeHRlbnNpb25zIG1heSBob29rIGludG8gdGhlc2UgZXZlbnRzIHRvIHBlcmZvcm0gdGhlaXIgbWFnaWMuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGVcbiAqIEBwYXJhbSB7T2JqZWN0fGRqcy5tb2RlbC5CYXNlfSBlbGVtZW50XG4gKiBAcGFyYW0ge09iamVjdHxkanMubW9kZWwuQmFzZX0gW3BhcmVudF1cbiAqIEBwYXJhbSB7bnVtYmVyfSBbcGFyZW50SW5kZXhdXG4gKlxuICogQHJldHVybiB7T2JqZWN0fGRqcy5tb2RlbC5CYXNlfSB0aGUgYWRkZWQgZWxlbWVudFxuICovXG5DYW52YXMucHJvdG90eXBlLl9hZGRFbGVtZW50ID0gZnVuY3Rpb24odHlwZSwgZWxlbWVudCwgcGFyZW50LCBwYXJlbnRJbmRleCkge1xuXG4gIHBhcmVudCA9IHBhcmVudCB8fCB0aGlzLmdldFJvb3RFbGVtZW50KCk7XG5cbiAgdmFyIGV2ZW50QnVzID0gdGhpcy5fZXZlbnRCdXMsXG4gICAgICBncmFwaGljc0ZhY3RvcnkgPSB0aGlzLl9ncmFwaGljc0ZhY3Rvcnk7XG5cbiAgdGhpcy5fZW5zdXJlVmFsaWQodHlwZSwgZWxlbWVudCk7XG5cbiAgZXZlbnRCdXMuZmlyZSh0eXBlICsgJy5hZGQnLCB7IGVsZW1lbnQ6IGVsZW1lbnQsIHBhcmVudDogcGFyZW50IH0pO1xuXG4gIHRoaXMuX3NldFBhcmVudChlbGVtZW50LCBwYXJlbnQsIHBhcmVudEluZGV4KTtcblxuICAvLyBjcmVhdGUgZ3JhcGhpY3NcbiAgdmFyIGdmeCA9IGdyYXBoaWNzRmFjdG9yeS5jcmVhdGUodHlwZSwgZWxlbWVudCwgcGFyZW50SW5kZXgpO1xuXG4gIHRoaXMuX2VsZW1lbnRSZWdpc3RyeS5hZGQoZWxlbWVudCwgZ2Z4KTtcblxuICAvLyB1cGRhdGUgaXRzIHZpc3VhbFxuICBncmFwaGljc0ZhY3RvcnkudXBkYXRlKHR5cGUsIGVsZW1lbnQsIGdmeCk7XG5cbiAgZXZlbnRCdXMuZmlyZSh0eXBlICsgJy5hZGRlZCcsIHsgZWxlbWVudDogZWxlbWVudCwgZ2Z4OiBnZnggfSk7XG5cbiAgcmV0dXJuIGVsZW1lbnQ7XG59O1xuXG4vKipcbiAqIEFkZHMgYSBzaGFwZSB0byB0aGUgY2FudmFzXG4gKlxuICogQHBhcmFtIHtPYmplY3R8ZGpzLm1vZGVsLlNoYXBlfSBzaGFwZSB0byBhZGQgdG8gdGhlIGRpYWdyYW1cbiAqIEBwYXJhbSB7ZGpzLm1vZGVsLkJhc2V9IFtwYXJlbnRdXG4gKiBAcGFyYW0ge251bWJlcn0gW3BhcmVudEluZGV4XVxuICpcbiAqIEByZXR1cm4ge2Rqcy5tb2RlbC5TaGFwZX0gdGhlIGFkZGVkIHNoYXBlXG4gKi9cbkNhbnZhcy5wcm90b3R5cGUuYWRkU2hhcGUgPSBmdW5jdGlvbihzaGFwZSwgcGFyZW50LCBwYXJlbnRJbmRleCkge1xuICByZXR1cm4gdGhpcy5fYWRkRWxlbWVudCgnc2hhcGUnLCBzaGFwZSwgcGFyZW50LCBwYXJlbnRJbmRleCk7XG59O1xuXG4vKipcbiAqIEFkZHMgYSBjb25uZWN0aW9uIHRvIHRoZSBjYW52YXNcbiAqXG4gKiBAcGFyYW0ge09iamVjdHxkanMubW9kZWwuQ29ubmVjdGlvbn0gY29ubmVjdGlvbiB0byBhZGQgdG8gdGhlIGRpYWdyYW1cbiAqIEBwYXJhbSB7ZGpzLm1vZGVsLkJhc2V9IFtwYXJlbnRdXG4gKiBAcGFyYW0ge251bWJlcn0gW3BhcmVudEluZGV4XVxuICpcbiAqIEByZXR1cm4ge2Rqcy5tb2RlbC5Db25uZWN0aW9ufSB0aGUgYWRkZWQgY29ubmVjdGlvblxuICovXG5DYW52YXMucHJvdG90eXBlLmFkZENvbm5lY3Rpb24gPSBmdW5jdGlvbihjb25uZWN0aW9uLCBwYXJlbnQsIHBhcmVudEluZGV4KSB7XG4gIHJldHVybiB0aGlzLl9hZGRFbGVtZW50KCdjb25uZWN0aW9uJywgY29ubmVjdGlvbiwgcGFyZW50LCBwYXJlbnRJbmRleCk7XG59O1xuXG5cbi8qKlxuICogSW50ZXJuYWwgcmVtb3ZlIGVsZW1lbnRcbiAqL1xuQ2FudmFzLnByb3RvdHlwZS5fcmVtb3ZlRWxlbWVudCA9IGZ1bmN0aW9uKGVsZW1lbnQsIHR5cGUpIHtcblxuICB2YXIgZWxlbWVudFJlZ2lzdHJ5ID0gdGhpcy5fZWxlbWVudFJlZ2lzdHJ5LFxuICAgICAgZ3JhcGhpY3NGYWN0b3J5ID0gdGhpcy5fZ3JhcGhpY3NGYWN0b3J5LFxuICAgICAgZXZlbnRCdXMgPSB0aGlzLl9ldmVudEJ1cztcblxuICBlbGVtZW50ID0gZWxlbWVudFJlZ2lzdHJ5LmdldChlbGVtZW50LmlkIHx8IGVsZW1lbnQpO1xuXG4gIGlmICghZWxlbWVudCkge1xuXG4gICAgLy8gZWxlbWVudCB3YXMgcmVtb3ZlZCBhbHJlYWR5XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgZXZlbnRCdXMuZmlyZSh0eXBlICsgJy5yZW1vdmUnLCB7IGVsZW1lbnQ6IGVsZW1lbnQgfSk7XG5cbiAgZ3JhcGhpY3NGYWN0b3J5LnJlbW92ZShlbGVtZW50KTtcblxuICAvLyB1bnNldCBwYXJlbnQgPC0+IGNoaWxkIHJlbGF0aW9uc2hpcFxuICBjb2xsZWN0aW9uUmVtb3ZlKGVsZW1lbnQucGFyZW50ICYmIGVsZW1lbnQucGFyZW50LmNoaWxkcmVuLCBlbGVtZW50KTtcbiAgZWxlbWVudC5wYXJlbnQgPSBudWxsO1xuXG4gIGV2ZW50QnVzLmZpcmUodHlwZSArICcucmVtb3ZlZCcsIHsgZWxlbWVudDogZWxlbWVudCB9KTtcblxuICBlbGVtZW50UmVnaXN0cnkucmVtb3ZlKGVsZW1lbnQpO1xuXG4gIHJldHVybiBlbGVtZW50O1xufTtcblxuXG4vKipcbiAqIFJlbW92ZXMgYSBzaGFwZSBmcm9tIHRoZSBjYW52YXNcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ3xkanMubW9kZWwuU2hhcGV9IHNoYXBlIG9yIHNoYXBlIGlkIHRvIGJlIHJlbW92ZWRcbiAqXG4gKiBAcmV0dXJuIHtkanMubW9kZWwuU2hhcGV9IHRoZSByZW1vdmVkIHNoYXBlXG4gKi9cbkNhbnZhcy5wcm90b3R5cGUucmVtb3ZlU2hhcGUgPSBmdW5jdGlvbihzaGFwZSkge1xuXG4gIC8qKlxuICAgKiBBbiBldmVudCBpbmRpY2F0aW5nIHRoYXQgYSBzaGFwZSBpcyBhYm91dCB0byBiZSByZW1vdmVkIGZyb20gdGhlIGNhbnZhcy5cbiAgICpcbiAgICogQG1lbWJlck9mIENhbnZhc1xuICAgKlxuICAgKiBAZXZlbnQgc2hhcGUucmVtb3ZlXG4gICAqIEB0eXBlIHtPYmplY3R9XG4gICAqIEBwcm9wZXJ0eSB7ZGpzLm1vZGVsLlNoYXBlfSBlbGVtZW50IHRoZSBzaGFwZSBkZXNjcmlwdG9yXG4gICAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBnZnggdGhlIGdyYXBoaWNhbCByZXByZXNlbnRhdGlvbiBvZiB0aGUgc2hhcGVcbiAgICovXG5cbiAgLyoqXG4gICAqIEFuIGV2ZW50IGluZGljYXRpbmcgdGhhdCBhIHNoYXBlIGhhcyBiZWVuIHJlbW92ZWQgZnJvbSB0aGUgY2FudmFzLlxuICAgKlxuICAgKiBAbWVtYmVyT2YgQ2FudmFzXG4gICAqXG4gICAqIEBldmVudCBzaGFwZS5yZW1vdmVkXG4gICAqIEB0eXBlIHtPYmplY3R9XG4gICAqIEBwcm9wZXJ0eSB7ZGpzLm1vZGVsLlNoYXBlfSBlbGVtZW50IHRoZSBzaGFwZSBkZXNjcmlwdG9yXG4gICAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBnZnggdGhlIGdyYXBoaWNhbCByZXByZXNlbnRhdGlvbiBvZiB0aGUgc2hhcGVcbiAgICovXG4gIHJldHVybiB0aGlzLl9yZW1vdmVFbGVtZW50KHNoYXBlLCAnc2hhcGUnKTtcbn07XG5cblxuLyoqXG4gKiBSZW1vdmVzIGEgY29ubmVjdGlvbiBmcm9tIHRoZSBjYW52YXNcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ3xkanMubW9kZWwuQ29ubmVjdGlvbn0gY29ubmVjdGlvbiBvciBjb25uZWN0aW9uIGlkIHRvIGJlIHJlbW92ZWRcbiAqXG4gKiBAcmV0dXJuIHtkanMubW9kZWwuQ29ubmVjdGlvbn0gdGhlIHJlbW92ZWQgY29ubmVjdGlvblxuICovXG5DYW52YXMucHJvdG90eXBlLnJlbW92ZUNvbm5lY3Rpb24gPSBmdW5jdGlvbihjb25uZWN0aW9uKSB7XG5cbiAgLyoqXG4gICAqIEFuIGV2ZW50IGluZGljYXRpbmcgdGhhdCBhIGNvbm5lY3Rpb24gaXMgYWJvdXQgdG8gYmUgcmVtb3ZlZCBmcm9tIHRoZSBjYW52YXMuXG4gICAqXG4gICAqIEBtZW1iZXJPZiBDYW52YXNcbiAgICpcbiAgICogQGV2ZW50IGNvbm5lY3Rpb24ucmVtb3ZlXG4gICAqIEB0eXBlIHtPYmplY3R9XG4gICAqIEBwcm9wZXJ0eSB7ZGpzLm1vZGVsLkNvbm5lY3Rpb259IGVsZW1lbnQgdGhlIGNvbm5lY3Rpb24gZGVzY3JpcHRvclxuICAgKiBAcHJvcGVydHkge09iamVjdH0gZ2Z4IHRoZSBncmFwaGljYWwgcmVwcmVzZW50YXRpb24gb2YgdGhlIGNvbm5lY3Rpb25cbiAgICovXG5cbiAgLyoqXG4gICAqIEFuIGV2ZW50IGluZGljYXRpbmcgdGhhdCBhIGNvbm5lY3Rpb24gaGFzIGJlZW4gcmVtb3ZlZCBmcm9tIHRoZSBjYW52YXMuXG4gICAqXG4gICAqIEBtZW1iZXJPZiBDYW52YXNcbiAgICpcbiAgICogQGV2ZW50IGNvbm5lY3Rpb24ucmVtb3ZlZFxuICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgKiBAcHJvcGVydHkge2Rqcy5tb2RlbC5Db25uZWN0aW9ufSBlbGVtZW50IHRoZSBjb25uZWN0aW9uIGRlc2NyaXB0b3JcbiAgICogQHByb3BlcnR5IHtPYmplY3R9IGdmeCB0aGUgZ3JhcGhpY2FsIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBjb25uZWN0aW9uXG4gICAqL1xuICByZXR1cm4gdGhpcy5fcmVtb3ZlRWxlbWVudChjb25uZWN0aW9uLCAnY29ubmVjdGlvbicpO1xufTtcblxuXG4vKipcbiAqIFJldHVybiB0aGUgZ3JhcGhpY2FsIG9iamVjdCB1bmRlcmxheWluZyBhIGNlcnRhaW4gZGlhZ3JhbSBlbGVtZW50XG4gKlxuICogQHBhcmFtIHtzdHJpbmd8ZGpzLm1vZGVsLkJhc2V9IGVsZW1lbnQgZGVzY3JpcHRvciBvZiB0aGUgZWxlbWVudFxuICogQHBhcmFtIHtib29sZWFufSBbc2Vjb25kYXJ5PWZhbHNlXSB3aGV0aGVyIHRvIHJldHVybiB0aGUgc2Vjb25kYXJ5IGNvbm5lY3RlZCBlbGVtZW50XG4gKlxuICogQHJldHVybiB7U1ZHRWxlbWVudH1cbiAqL1xuQ2FudmFzLnByb3RvdHlwZS5nZXRHcmFwaGljcyA9IGZ1bmN0aW9uKGVsZW1lbnQsIHNlY29uZGFyeSkge1xuICByZXR1cm4gdGhpcy5fZWxlbWVudFJlZ2lzdHJ5LmdldEdyYXBoaWNzKGVsZW1lbnQsIHNlY29uZGFyeSk7XG59O1xuXG5cbi8qKlxuICogUGVyZm9ybSBhIHZpZXdib3ggdXBkYXRlIHZpYSBhIGdpdmVuIGNoYW5nZSBmdW5jdGlvbi5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjaGFuZ2VGblxuICovXG5DYW52YXMucHJvdG90eXBlLl9jaGFuZ2VWaWV3Ym94ID0gZnVuY3Rpb24oY2hhbmdlRm4pIHtcblxuICAvLyBub3RpZnkgb3RoZXJzIG9mIHRoZSB1cGNvbWluZyB2aWV3Ym94IGNoYW5nZVxuICB0aGlzLl9ldmVudEJ1cy5maXJlKCdjYW52YXMudmlld2JveC5jaGFuZ2luZycpO1xuXG4gIC8vIHBlcmZvcm0gYWN0dWFsIGNoYW5nZVxuICBjaGFuZ2VGbi5hcHBseSh0aGlzKTtcblxuICAvLyByZXNldCB0aGUgY2FjaGVkIHZpZXdib3ggc28gdGhhdFxuICAvLyBhIG5ldyBnZXQgb3BlcmF0aW9uIG9uIHZpZXdib3ggb3Igem9vbVxuICAvLyB0cmlnZ2VycyBhIHZpZXdib3ggcmUtY29tcHV0YXRpb25cbiAgdGhpcy5fY2FjaGVkVmlld2JveCA9IG51bGw7XG5cbiAgLy8gbm90aWZ5IG90aGVycyBvZiB0aGUgY2hhbmdlOyB0aGlzIHN0ZXBcbiAgLy8gbWF5IG9yIG1heSBub3QgYmUgZGVib3VuY2VkXG4gIHRoaXMuX3ZpZXdib3hDaGFuZ2VkKCk7XG59O1xuXG5DYW52YXMucHJvdG90eXBlLl92aWV3Ym94Q2hhbmdlZCA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLl9ldmVudEJ1cy5maXJlKCdjYW52YXMudmlld2JveC5jaGFuZ2VkJywgeyB2aWV3Ym94OiB0aGlzLnZpZXdib3goKSB9KTtcbn07XG5cblxuLyoqXG4gKiBHZXRzIG9yIHNldHMgdGhlIHZpZXcgYm94IG9mIHRoZSBjYW52YXMsIGkuZS4gdGhlXG4gKiBhcmVhIHRoYXQgaXMgY3VycmVudGx5IGRpc3BsYXllZC5cbiAqXG4gKiBUaGUgZ2V0dGVyIG1heSByZXR1cm4gYSBjYWNoZWQgdmlld2JveCAoaWYgaXQgaXMgY3VycmVudGx5XG4gKiBjaGFuZ2luZykuIFRvIGZvcmNlIGEgcmVjb21wdXRhdGlvbiwgcGFzcyBgZmFsc2VgIGFzIHRoZSBmaXJzdCBhcmd1bWVudC5cbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIGNhbnZhcy52aWV3Ym94KHsgeDogMTAwLCB5OiAxMDAsIHdpZHRoOiA1MDAsIGhlaWdodDogNTAwIH0pXG4gKlxuICogLy8gc2V0cyB0aGUgdmlzaWJsZSBhcmVhIG9mIHRoZSBkaWFncmFtIHRvICgxMDB8MTAwKSAtPiAoNjAwfDEwMClcbiAqIC8vIGFuZCBhbmQgc2NhbGVzIGl0IGFjY29yZGluZyB0byB0aGUgZGlhZ3JhbSB3aWR0aFxuICpcbiAqIHZhciB2aWV3Ym94ID0gY2FudmFzLnZpZXdib3goKTsgLy8gcGFzcyBgZmFsc2VgIHRvIGZvcmNlIHJlY29tcHV0aW5nIHRoZSBib3guXG4gKlxuICogY29uc29sZS5sb2codmlld2JveCk7XG4gKiAvLyB7XG4gKiAvLyAgIGlubmVyOiBEaW1lbnNpb25zLFxuICogLy8gICBvdXRlcjogRGltZW5zaW9ucyxcbiAqIC8vICAgc2NhbGUsXG4gKiAvLyAgIHgsIHksXG4gKiAvLyAgIHdpZHRoLCBoZWlnaHRcbiAqIC8vIH1cbiAqXG4gKiAvLyBpZiB0aGUgY3VycmVudCBkaWFncmFtIGlzIHpvb21lZCBhbmQgc2Nyb2xsZWQsIHlvdSBtYXkgcmVzZXQgaXQgdG8gdGhlXG4gKiAvLyBkZWZhdWx0IHpvb20gdmlhIHRoaXMgbWV0aG9kLCB0b286XG4gKlxuICogdmFyIHpvb21lZEFuZFNjcm9sbGVkVmlld2JveCA9IGNhbnZhcy52aWV3Ym94KCk7XG4gKlxuICogY2FudmFzLnZpZXdib3goe1xuICogICB4OiAwLFxuICogICB5OiAwLFxuICogICB3aWR0aDogem9vbWVkQW5kU2Nyb2xsZWRWaWV3Ym94Lm91dGVyLndpZHRoLFxuICogICBoZWlnaHQ6IHpvb21lZEFuZFNjcm9sbGVkVmlld2JveC5vdXRlci5oZWlnaHRcbiAqIH0pO1xuICpcbiAqIEBwYXJhbSAge09iamVjdH0gW2JveF0gdGhlIG5ldyB2aWV3IGJveCB0byBzZXRcbiAqIEBwYXJhbSAge251bWJlcn0gYm94LnggdGhlIHRvcCBsZWZ0IFggY29vcmRpbmF0ZSBvZiB0aGUgY2FudmFzIHZpc2libGUgaW4gdmlldyBib3hcbiAqIEBwYXJhbSAge251bWJlcn0gYm94LnkgdGhlIHRvcCBsZWZ0IFkgY29vcmRpbmF0ZSBvZiB0aGUgY2FudmFzIHZpc2libGUgaW4gdmlldyBib3hcbiAqIEBwYXJhbSAge251bWJlcn0gYm94LndpZHRoIHRoZSB2aXNpYmxlIHdpZHRoXG4gKiBAcGFyYW0gIHtudW1iZXJ9IGJveC5oZWlnaHRcbiAqXG4gKiBAcmV0dXJuIHtPYmplY3R9IHRoZSBjdXJyZW50IHZpZXcgYm94XG4gKi9cbkNhbnZhcy5wcm90b3R5cGUudmlld2JveCA9IGZ1bmN0aW9uKGJveCkge1xuXG4gIGlmIChib3ggPT09IHVuZGVmaW5lZCAmJiB0aGlzLl9jYWNoZWRWaWV3Ym94KSB7XG4gICAgcmV0dXJuIHRoaXMuX2NhY2hlZFZpZXdib3g7XG4gIH1cblxuICB2YXIgdmlld3BvcnQgPSB0aGlzLl92aWV3cG9ydCxcbiAgICAgIGlubmVyQm94LFxuICAgICAgb3V0ZXJCb3ggPSB0aGlzLmdldFNpemUoKSxcbiAgICAgIG1hdHJpeCxcbiAgICAgIHRyYW5zZm9ybSxcbiAgICAgIHNjYWxlLFxuICAgICAgeCwgeTtcblxuICBpZiAoIWJveCkge1xuXG4gICAgLy8gY29tcHV0ZSB0aGUgaW5uZXIgYm94IGJhc2VkIG9uIHRoZVxuICAgIC8vIGRpYWdyYW1zIGRlZmF1bHQgbGF5ZXIuIFRoaXMgYWxsb3dzIHVzIHRvIGV4Y2x1ZGVcbiAgICAvLyBleHRlcm5hbCBjb21wb25lbnRzLCBzdWNoIGFzIG92ZXJsYXlzXG4gICAgaW5uZXJCb3ggPSB0aGlzLmdldERlZmF1bHRMYXllcigpLmdldEJCb3goKTtcblxuICAgIHRyYW5zZm9ybSA9IHN2Z1RyYW5zZm9ybSh2aWV3cG9ydCk7XG4gICAgbWF0cml4ID0gdHJhbnNmb3JtID8gdHJhbnNmb3JtLm1hdHJpeCA6IGNyZWF0ZU1hdHJpeCgpO1xuICAgIHNjYWxlID0gcm91bmQobWF0cml4LmEsIDEwMDApO1xuXG4gICAgeCA9IHJvdW5kKC1tYXRyaXguZSB8fCAwLCAxMDAwKTtcbiAgICB5ID0gcm91bmQoLW1hdHJpeC5mIHx8IDAsIDEwMDApO1xuXG4gICAgYm94ID0gdGhpcy5fY2FjaGVkVmlld2JveCA9IHtcbiAgICAgIHg6IHggPyB4IC8gc2NhbGUgOiAwLFxuICAgICAgeTogeSA/IHkgLyBzY2FsZSA6IDAsXG4gICAgICB3aWR0aDogb3V0ZXJCb3gud2lkdGggLyBzY2FsZSxcbiAgICAgIGhlaWdodDogb3V0ZXJCb3guaGVpZ2h0IC8gc2NhbGUsXG4gICAgICBzY2FsZTogc2NhbGUsXG4gICAgICBpbm5lcjoge1xuICAgICAgICB3aWR0aDogaW5uZXJCb3gud2lkdGgsXG4gICAgICAgIGhlaWdodDogaW5uZXJCb3guaGVpZ2h0LFxuICAgICAgICB4OiBpbm5lckJveC54LFxuICAgICAgICB5OiBpbm5lckJveC55XG4gICAgICB9LFxuICAgICAgb3V0ZXI6IG91dGVyQm94XG4gICAgfTtcblxuICAgIHJldHVybiBib3g7XG4gIH0gZWxzZSB7XG5cbiAgICB0aGlzLl9jaGFuZ2VWaWV3Ym94KGZ1bmN0aW9uKCkge1xuICAgICAgc2NhbGUgPSBNYXRoLm1pbihvdXRlckJveC53aWR0aCAvIGJveC53aWR0aCwgb3V0ZXJCb3guaGVpZ2h0IC8gYm94LmhlaWdodCk7XG5cbiAgICAgIHZhciBtYXRyaXggPSB0aGlzLl9zdmcuY3JlYXRlU1ZHTWF0cml4KClcbiAgICAgICAgLnNjYWxlKHNjYWxlKVxuICAgICAgICAudHJhbnNsYXRlKC1ib3gueCwgLWJveC55KTtcblxuICAgICAgc3ZnVHJhbnNmb3JtKHZpZXdwb3J0LCBtYXRyaXgpO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIGJveDtcbn07XG5cblxuLyoqXG4gKiBHZXRzIG9yIHNldHMgdGhlIHNjcm9sbCBvZiB0aGUgY2FudmFzLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBbZGVsdGFdIHRoZSBuZXcgc2Nyb2xsIHRvIGFwcGx5LlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBbZGVsdGEuZHhdXG4gKiBAcGFyYW0ge251bWJlcn0gW2RlbHRhLmR5XVxuICovXG5DYW52YXMucHJvdG90eXBlLnNjcm9sbCA9IGZ1bmN0aW9uKGRlbHRhKSB7XG5cbiAgdmFyIG5vZGUgPSB0aGlzLl92aWV3cG9ydDtcbiAgdmFyIG1hdHJpeCA9IG5vZGUuZ2V0Q1RNKCk7XG5cbiAgaWYgKGRlbHRhKSB7XG4gICAgdGhpcy5fY2hhbmdlVmlld2JveChmdW5jdGlvbigpIHtcbiAgICAgIGRlbHRhID0gYXNzaWduKHsgZHg6IDAsIGR5OiAwIH0sIGRlbHRhIHx8IHt9KTtcblxuICAgICAgbWF0cml4ID0gdGhpcy5fc3ZnLmNyZWF0ZVNWR01hdHJpeCgpLnRyYW5zbGF0ZShkZWx0YS5keCwgZGVsdGEuZHkpLm11bHRpcGx5KG1hdHJpeCk7XG5cbiAgICAgIHNldENUTShub2RlLCBtYXRyaXgpO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIHsgeDogbWF0cml4LmUsIHk6IG1hdHJpeC5mIH07XG59O1xuXG5cbi8qKlxuICogR2V0cyBvciBzZXRzIHRoZSBjdXJyZW50IHpvb20gb2YgdGhlIGNhbnZhcywgb3B0aW9uYWxseSB6b29taW5nXG4gKiB0byB0aGUgc3BlY2lmaWVkIHBvc2l0aW9uLlxuICpcbiAqIFRoZSBnZXR0ZXIgbWF5IHJldHVybiBhIGNhY2hlZCB6b29tIGxldmVsLiBDYWxsIGl0IHdpdGggYGZhbHNlYCBhc1xuICogdGhlIGZpcnN0IGFyZ3VtZW50IHRvIGZvcmNlIHJlY29tcHV0YXRpb24gb2YgdGhlIGN1cnJlbnQgbGV2ZWwuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBbbmV3U2NhbGVdIHRoZSBuZXcgem9vbSBsZXZlbCwgZWl0aGVyIGEgbnVtYmVyLCBpLmUuIDAuOSxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvciBgZml0LXZpZXdwb3J0YCB0byBhZGp1c3QgdGhlIHNpemUgdG8gZml0IHRoZSBjdXJyZW50IHZpZXdwb3J0XG4gKiBAcGFyYW0ge3N0cmluZ3xQb2ludH0gW2NlbnRlcl0gdGhlIHJlZmVyZW5jZSBwb2ludCB7IHg6IC4uLCB5OiAuLn0gdG8gem9vbSB0bywgJ2F1dG8nIHRvIHpvb20gaW50byBtaWQgb3IgbnVsbFxuICpcbiAqIEByZXR1cm4ge251bWJlcn0gdGhlIGN1cnJlbnQgc2NhbGVcbiAqL1xuQ2FudmFzLnByb3RvdHlwZS56b29tID0gZnVuY3Rpb24obmV3U2NhbGUsIGNlbnRlcikge1xuXG4gIGlmICghbmV3U2NhbGUpIHtcbiAgICByZXR1cm4gdGhpcy52aWV3Ym94KG5ld1NjYWxlKS5zY2FsZTtcbiAgfVxuXG4gIGlmIChuZXdTY2FsZSA9PT0gJ2ZpdC12aWV3cG9ydCcpIHtcbiAgICByZXR1cm4gdGhpcy5fZml0Vmlld3BvcnQoY2VudGVyKTtcbiAgfVxuXG4gIHZhciBvdXRlcixcbiAgICAgIG1hdHJpeDtcblxuICB0aGlzLl9jaGFuZ2VWaWV3Ym94KGZ1bmN0aW9uKCkge1xuXG4gICAgaWYgKHR5cGVvZiBjZW50ZXIgIT09ICdvYmplY3QnKSB7XG4gICAgICBvdXRlciA9IHRoaXMudmlld2JveCgpLm91dGVyO1xuXG4gICAgICBjZW50ZXIgPSB7XG4gICAgICAgIHg6IG91dGVyLndpZHRoIC8gMixcbiAgICAgICAgeTogb3V0ZXIuaGVpZ2h0IC8gMlxuICAgICAgfTtcbiAgICB9XG5cbiAgICBtYXRyaXggPSB0aGlzLl9zZXRab29tKG5ld1NjYWxlLCBjZW50ZXIpO1xuICB9KTtcblxuICByZXR1cm4gcm91bmQobWF0cml4LmEsIDEwMDApO1xufTtcblxuZnVuY3Rpb24gc2V0Q1RNKG5vZGUsIG0pIHtcbiAgdmFyIG1zdHIgPSAnbWF0cml4KCcgKyBtLmEgKyAnLCcgKyBtLmIgKyAnLCcgKyBtLmMgKyAnLCcgKyBtLmQgKyAnLCcgKyBtLmUgKyAnLCcgKyBtLmYgKyAnKSc7XG4gIG5vZGUuc2V0QXR0cmlidXRlKCd0cmFuc2Zvcm0nLCBtc3RyKTtcbn1cblxuQ2FudmFzLnByb3RvdHlwZS5fZml0Vmlld3BvcnQgPSBmdW5jdGlvbihjZW50ZXIpIHtcblxuICB2YXIgdmJveCA9IHRoaXMudmlld2JveCgpLFxuICAgICAgb3V0ZXIgPSB2Ym94Lm91dGVyLFxuICAgICAgaW5uZXIgPSB2Ym94LmlubmVyLFxuICAgICAgbmV3U2NhbGUsXG4gICAgICBuZXdWaWV3Ym94O1xuXG4gIC8vIGRpc3BsYXkgdGhlIGNvbXBsZXRlIGRpYWdyYW0gd2l0aG91dCB6b29taW5nIGluLlxuICAvLyBpbnN0ZWFkIG9mIHJlbHlpbmcgb24gaW50ZXJuYWwgem9vbSwgd2UgcGVyZm9ybSBhXG4gIC8vIGhhcmQgcmVzZXQgb24gdGhlIGNhbnZhcyB2aWV3Ym94IHRvIHJlYWxpemUgdGhpc1xuICAvL1xuICAvLyBpZiBkaWFncmFtIGRvZXMgbm90IG5lZWQgdG8gYmUgem9vbWVkIGluLCB3ZSBmb2N1cyBpdCBhcm91bmRcbiAgLy8gdGhlIGRpYWdyYW0gb3JpZ2luIGluc3RlYWRcblxuICBpZiAoaW5uZXIueCA+PSAwICYmXG4gICAgICBpbm5lci55ID49IDAgJiZcbiAgICAgIGlubmVyLnggKyBpbm5lci53aWR0aCA8PSBvdXRlci53aWR0aCAmJlxuICAgICAgaW5uZXIueSArIGlubmVyLmhlaWdodCA8PSBvdXRlci5oZWlnaHQgJiZcbiAgICAgICFjZW50ZXIpIHtcblxuICAgIG5ld1ZpZXdib3ggPSB7XG4gICAgICB4OiAwLFxuICAgICAgeTogMCxcbiAgICAgIHdpZHRoOiBNYXRoLm1heChpbm5lci53aWR0aCArIGlubmVyLngsIG91dGVyLndpZHRoKSxcbiAgICAgIGhlaWdodDogTWF0aC5tYXgoaW5uZXIuaGVpZ2h0ICsgaW5uZXIueSwgb3V0ZXIuaGVpZ2h0KVxuICAgIH07XG4gIH0gZWxzZSB7XG5cbiAgICBuZXdTY2FsZSA9IE1hdGgubWluKDEsIG91dGVyLndpZHRoIC8gaW5uZXIud2lkdGgsIG91dGVyLmhlaWdodCAvIGlubmVyLmhlaWdodCk7XG4gICAgbmV3Vmlld2JveCA9IHtcbiAgICAgIHg6IGlubmVyLnggKyAoY2VudGVyID8gaW5uZXIud2lkdGggLyAyIC0gb3V0ZXIud2lkdGggLyBuZXdTY2FsZSAvIDIgOiAwKSxcbiAgICAgIHk6IGlubmVyLnkgKyAoY2VudGVyID8gaW5uZXIuaGVpZ2h0IC8gMiAtIG91dGVyLmhlaWdodCAvIG5ld1NjYWxlIC8gMiA6IDApLFxuICAgICAgd2lkdGg6IG91dGVyLndpZHRoIC8gbmV3U2NhbGUsXG4gICAgICBoZWlnaHQ6IG91dGVyLmhlaWdodCAvIG5ld1NjYWxlXG4gICAgfTtcbiAgfVxuXG4gIHRoaXMudmlld2JveChuZXdWaWV3Ym94KTtcblxuICByZXR1cm4gdGhpcy52aWV3Ym94KGZhbHNlKS5zY2FsZTtcbn07XG5cblxuQ2FudmFzLnByb3RvdHlwZS5fc2V0Wm9vbSA9IGZ1bmN0aW9uKHNjYWxlLCBjZW50ZXIpIHtcblxuICB2YXIgc3ZnID0gdGhpcy5fc3ZnLFxuICAgICAgdmlld3BvcnQgPSB0aGlzLl92aWV3cG9ydDtcblxuICB2YXIgbWF0cml4ID0gc3ZnLmNyZWF0ZVNWR01hdHJpeCgpO1xuICB2YXIgcG9pbnQgPSBzdmcuY3JlYXRlU1ZHUG9pbnQoKTtcblxuICB2YXIgY2VudGVyUG9pbnQsXG4gICAgICBvcmlnaW5hbFBvaW50LFxuICAgICAgY3VycmVudE1hdHJpeCxcbiAgICAgIHNjYWxlTWF0cml4LFxuICAgICAgbmV3TWF0cml4O1xuXG4gIGN1cnJlbnRNYXRyaXggPSB2aWV3cG9ydC5nZXRDVE0oKTtcblxuICB2YXIgY3VycmVudFNjYWxlID0gY3VycmVudE1hdHJpeC5hO1xuXG4gIGlmIChjZW50ZXIpIHtcbiAgICBjZW50ZXJQb2ludCA9IGFzc2lnbihwb2ludCwgY2VudGVyKTtcblxuICAgIC8vIHJldmVydCBhcHBsaWVkIHZpZXdwb3J0IHRyYW5zZm9ybWF0aW9uc1xuICAgIG9yaWdpbmFsUG9pbnQgPSBjZW50ZXJQb2ludC5tYXRyaXhUcmFuc2Zvcm0oY3VycmVudE1hdHJpeC5pbnZlcnNlKCkpO1xuXG4gICAgLy8gY3JlYXRlIHNjYWxlIG1hdHJpeFxuICAgIHNjYWxlTWF0cml4ID0gbWF0cml4XG4gICAgICAudHJhbnNsYXRlKG9yaWdpbmFsUG9pbnQueCwgb3JpZ2luYWxQb2ludC55KVxuICAgICAgLnNjYWxlKDEgLyBjdXJyZW50U2NhbGUgKiBzY2FsZSlcbiAgICAgIC50cmFuc2xhdGUoLW9yaWdpbmFsUG9pbnQueCwgLW9yaWdpbmFsUG9pbnQueSk7XG5cbiAgICBuZXdNYXRyaXggPSBjdXJyZW50TWF0cml4Lm11bHRpcGx5KHNjYWxlTWF0cml4KTtcbiAgfSBlbHNlIHtcbiAgICBuZXdNYXRyaXggPSBtYXRyaXguc2NhbGUoc2NhbGUpO1xuICB9XG5cbiAgc2V0Q1RNKHRoaXMuX3ZpZXdwb3J0LCBuZXdNYXRyaXgpO1xuXG4gIHJldHVybiBuZXdNYXRyaXg7XG59O1xuXG5cbi8qKlxuICogUmV0dXJucyB0aGUgc2l6ZSBvZiB0aGUgY2FudmFzXG4gKlxuICogQHJldHVybiB7RGltZW5zaW9uc31cbiAqL1xuQ2FudmFzLnByb3RvdHlwZS5nZXRTaXplID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgd2lkdGg6IHRoaXMuX2NvbnRhaW5lci5jbGllbnRXaWR0aCxcbiAgICBoZWlnaHQ6IHRoaXMuX2NvbnRhaW5lci5jbGllbnRIZWlnaHRcbiAgfTtcbn07XG5cblxuLyoqXG4gKiBSZXR1cm4gdGhlIGFic29sdXRlIGJvdW5kaW5nIGJveCBmb3IgdGhlIGdpdmVuIGVsZW1lbnRcbiAqXG4gKiBUaGUgYWJzb2x1dGUgYm91bmRpbmcgYm94IG1heSBiZSB1c2VkIHRvIGRpc3BsYXkgb3ZlcmxheXMgaW4gdGhlXG4gKiBjYWxsZXJzIChicm93c2VyKSBjb29yZGluYXRlIHN5c3RlbSByYXRoZXIgdGhhbiB0aGUgem9vbWVkIGluL291dFxuICogY2FudmFzIGNvb3JkaW5hdGVzLlxuICpcbiAqIEBwYXJhbSAge0VsZW1lbnREZXNjcmlwdG9yfSBlbGVtZW50XG4gKiBAcmV0dXJuIHtCb3VuZHN9IHRoZSBhYnNvbHV0ZSBib3VuZGluZyBib3hcbiAqL1xuQ2FudmFzLnByb3RvdHlwZS5nZXRBYnNvbHV0ZUJCb3ggPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gIHZhciB2Ym94ID0gdGhpcy52aWV3Ym94KCk7XG4gIHZhciBiYm94O1xuXG4gIC8vIGNvbm5lY3Rpb25cbiAgLy8gdXNlIHN2ZyBiYm94XG4gIGlmIChlbGVtZW50LndheXBvaW50cykge1xuICAgIHZhciBnZnggPSB0aGlzLmdldEdyYXBoaWNzKGVsZW1lbnQpO1xuXG4gICAgYmJveCA9IGdmeC5nZXRCQm94KCk7XG4gIH1cblxuICAvLyBzaGFwZXNcbiAgLy8gdXNlIGRhdGFcbiAgZWxzZSB7XG4gICAgYmJveCA9IGVsZW1lbnQ7XG4gIH1cblxuICB2YXIgeCA9IGJib3gueCAqIHZib3guc2NhbGUgLSB2Ym94LnggKiB2Ym94LnNjYWxlO1xuICB2YXIgeSA9IGJib3gueSAqIHZib3guc2NhbGUgLSB2Ym94LnkgKiB2Ym94LnNjYWxlO1xuXG4gIHZhciB3aWR0aCA9IGJib3gud2lkdGggKiB2Ym94LnNjYWxlO1xuICB2YXIgaGVpZ2h0ID0gYmJveC5oZWlnaHQgKiB2Ym94LnNjYWxlO1xuXG4gIHJldHVybiB7XG4gICAgeDogeCxcbiAgICB5OiB5LFxuICAgIHdpZHRoOiB3aWR0aCxcbiAgICBoZWlnaHQ6IGhlaWdodFxuICB9O1xufTtcblxuLyoqXG4gKiBGaXJlcyBhbiBldmVudCBpbiBvcmRlciBvdGhlciBtb2R1bGVzIGNhbiByZWFjdCB0byB0aGVcbiAqIGNhbnZhcyByZXNpemluZ1xuICovXG5DYW52YXMucHJvdG90eXBlLnJlc2l6ZWQgPSBmdW5jdGlvbigpIHtcblxuICAvLyBmb3JjZSByZWNvbXB1dGF0aW9uIG9mIHZpZXcgYm94XG4gIGRlbGV0ZSB0aGlzLl9jYWNoZWRWaWV3Ym94O1xuXG4gIHRoaXMuX2V2ZW50QnVzLmZpcmUoJ2NhbnZhcy5yZXNpemVkJyk7XG59O1xuIiwidmFyIEVMRU1FTlRfSUQgPSAnZGF0YS1lbGVtZW50LWlkJztcblxuaW1wb3J0IHsgYXR0ciBhcyBzdmdBdHRyIH0gZnJvbSAndGlueS1zdmcnO1xuXG5cbi8qKlxuICogQGNsYXNzXG4gKlxuICogQSByZWdpc3RyeSB0aGF0IGtlZXBzIHRyYWNrIG9mIGFsbCBzaGFwZXMgaW4gdGhlIGRpYWdyYW0uXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEVsZW1lbnRSZWdpc3RyeShldmVudEJ1cykge1xuICB0aGlzLl9lbGVtZW50cyA9IHt9O1xuXG4gIHRoaXMuX2V2ZW50QnVzID0gZXZlbnRCdXM7XG59XG5cbkVsZW1lbnRSZWdpc3RyeS4kaW5qZWN0ID0gWyAnZXZlbnRCdXMnIF07XG5cbi8qKlxuICogUmVnaXN0ZXIgYSBwYWlyIG9mIChlbGVtZW50LCBnZngsIChzZWNvbmRhcnlHZngpKS5cbiAqXG4gKiBAcGFyYW0ge2Rqcy5tb2RlbC5CYXNlfSBlbGVtZW50XG4gKiBAcGFyYW0ge1NWR0VsZW1lbnR9IGdmeFxuICogQHBhcmFtIHtTVkdFbGVtZW50fSBbc2Vjb25kYXJ5R2Z4XSBvcHRpb25hbCBvdGhlciBlbGVtZW50IHRvIHJlZ2lzdGVyLCB0b29cbiAqL1xuRWxlbWVudFJlZ2lzdHJ5LnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbihlbGVtZW50LCBnZngsIHNlY29uZGFyeUdmeCkge1xuXG4gIHZhciBpZCA9IGVsZW1lbnQuaWQ7XG5cbiAgdGhpcy5fdmFsaWRhdGVJZChpZCk7XG5cbiAgLy8gYXNzb2NpYXRlIGRvbSBub2RlIHdpdGggZWxlbWVudFxuICBzdmdBdHRyKGdmeCwgRUxFTUVOVF9JRCwgaWQpO1xuXG4gIGlmIChzZWNvbmRhcnlHZngpIHtcbiAgICBzdmdBdHRyKHNlY29uZGFyeUdmeCwgRUxFTUVOVF9JRCwgaWQpO1xuICB9XG5cbiAgdGhpcy5fZWxlbWVudHNbaWRdID0geyBlbGVtZW50OiBlbGVtZW50LCBnZng6IGdmeCwgc2Vjb25kYXJ5R2Z4OiBzZWNvbmRhcnlHZnggfTtcbn07XG5cbi8qKlxuICogUmVtb3ZlcyBhbiBlbGVtZW50IGZyb20gdGhlIHJlZ2lzdHJ5LlxuICpcbiAqIEBwYXJhbSB7ZGpzLm1vZGVsLkJhc2V9IGVsZW1lbnRcbiAqL1xuRWxlbWVudFJlZ2lzdHJ5LnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gIHZhciBlbGVtZW50cyA9IHRoaXMuX2VsZW1lbnRzLFxuICAgICAgaWQgPSBlbGVtZW50LmlkIHx8IGVsZW1lbnQsXG4gICAgICBjb250YWluZXIgPSBpZCAmJiBlbGVtZW50c1tpZF07XG5cbiAgaWYgKGNvbnRhaW5lcikge1xuXG4gICAgLy8gdW5zZXQgZWxlbWVudCBpZCBvbiBnZnhcbiAgICBzdmdBdHRyKGNvbnRhaW5lci5nZngsIEVMRU1FTlRfSUQsICcnKTtcblxuICAgIGlmIChjb250YWluZXIuc2Vjb25kYXJ5R2Z4KSB7XG4gICAgICBzdmdBdHRyKGNvbnRhaW5lci5zZWNvbmRhcnlHZngsIEVMRU1FTlRfSUQsICcnKTtcbiAgICB9XG5cbiAgICBkZWxldGUgZWxlbWVudHNbaWRdO1xuICB9XG59O1xuXG4vKipcbiAqIFVwZGF0ZSB0aGUgaWQgb2YgYW4gZWxlbWVudFxuICpcbiAqIEBwYXJhbSB7ZGpzLm1vZGVsLkJhc2V9IGVsZW1lbnRcbiAqIEBwYXJhbSB7c3RyaW5nfSBuZXdJZFxuICovXG5FbGVtZW50UmVnaXN0cnkucHJvdG90eXBlLnVwZGF0ZUlkID0gZnVuY3Rpb24oZWxlbWVudCwgbmV3SWQpIHtcblxuICB0aGlzLl92YWxpZGF0ZUlkKG5ld0lkKTtcblxuICBpZiAodHlwZW9mIGVsZW1lbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgZWxlbWVudCA9IHRoaXMuZ2V0KGVsZW1lbnQpO1xuICB9XG5cbiAgdGhpcy5fZXZlbnRCdXMuZmlyZSgnZWxlbWVudC51cGRhdGVJZCcsIHtcbiAgICBlbGVtZW50OiBlbGVtZW50LFxuICAgIG5ld0lkOiBuZXdJZFxuICB9KTtcblxuICB2YXIgZ2Z4ID0gdGhpcy5nZXRHcmFwaGljcyhlbGVtZW50KSxcbiAgICAgIHNlY29uZGFyeUdmeCA9IHRoaXMuZ2V0R3JhcGhpY3MoZWxlbWVudCwgdHJ1ZSk7XG5cbiAgdGhpcy5yZW1vdmUoZWxlbWVudCk7XG5cbiAgZWxlbWVudC5pZCA9IG5ld0lkO1xuXG4gIHRoaXMuYWRkKGVsZW1lbnQsIGdmeCwgc2Vjb25kYXJ5R2Z4KTtcbn07XG5cbi8qKlxuICogUmV0dXJuIHRoZSBtb2RlbCBlbGVtZW50IGZvciBhIGdpdmVuIGlkIG9yIGdyYXBoaWNzLlxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogZWxlbWVudFJlZ2lzdHJ5LmdldCgnU29tZUVsZW1lbnRJZF8xJyk7XG4gKiBlbGVtZW50UmVnaXN0cnkuZ2V0KGdmeCk7XG4gKlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfFNWR0VsZW1lbnR9IGZpbHRlciBmb3Igc2VsZWN0aW5nIHRoZSBlbGVtZW50XG4gKlxuICogQHJldHVybiB7ZGpzLm1vZGVsLkJhc2V9XG4gKi9cbkVsZW1lbnRSZWdpc3RyeS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oZmlsdGVyKSB7XG4gIHZhciBpZDtcblxuICBpZiAodHlwZW9mIGZpbHRlciA9PT0gJ3N0cmluZycpIHtcbiAgICBpZCA9IGZpbHRlcjtcbiAgfSBlbHNlIHtcbiAgICBpZCA9IGZpbHRlciAmJiBzdmdBdHRyKGZpbHRlciwgRUxFTUVOVF9JRCk7XG4gIH1cblxuICB2YXIgY29udGFpbmVyID0gdGhpcy5fZWxlbWVudHNbaWRdO1xuICByZXR1cm4gY29udGFpbmVyICYmIGNvbnRhaW5lci5lbGVtZW50O1xufTtcblxuLyoqXG4gKiBSZXR1cm4gYWxsIGVsZW1lbnRzIHRoYXQgbWF0Y2ggYSBnaXZlbiBmaWx0ZXIgZnVuY3Rpb24uXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAqXG4gKiBAcmV0dXJuIHtBcnJheTxkanMubW9kZWwuQmFzZT59XG4gKi9cbkVsZW1lbnRSZWdpc3RyeS5wcm90b3R5cGUuZmlsdGVyID0gZnVuY3Rpb24oZm4pIHtcblxuICB2YXIgZmlsdGVyZWQgPSBbXTtcblxuICB0aGlzLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCwgZ2Z4KSB7XG4gICAgaWYgKGZuKGVsZW1lbnQsIGdmeCkpIHtcbiAgICAgIGZpbHRlcmVkLnB1c2goZWxlbWVudCk7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gZmlsdGVyZWQ7XG59O1xuXG4vKipcbiAqIFJldHVybiB0aGUgZmlyc3QgZWxlbWVudCB0aGF0IHNhdGlzZmllcyB0aGUgcHJvdmlkZWQgdGVzdGluZyBmdW5jdGlvbi5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICpcbiAqIEByZXR1cm4ge2Rqcy5tb2RlbC5CYXNlfVxuICovXG5FbGVtZW50UmVnaXN0cnkucHJvdG90eXBlLmZpbmQgPSBmdW5jdGlvbihmbikge1xuICB2YXIgbWFwID0gdGhpcy5fZWxlbWVudHMsXG4gICAgICBrZXlzID0gT2JqZWN0LmtleXMobWFwKTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaWQgPSBrZXlzW2ldLFxuICAgICAgICBjb250YWluZXIgPSBtYXBbaWRdLFxuICAgICAgICBlbGVtZW50ID0gY29udGFpbmVyLmVsZW1lbnQsXG4gICAgICAgIGdmeCA9IGNvbnRhaW5lci5nZng7XG5cbiAgICBpZiAoZm4oZWxlbWVudCwgZ2Z4KSkge1xuICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfVxuICB9XG59O1xuXG4vKipcbiAqIFJldHVybiBhbGwgcmVuZGVyZWQgbW9kZWwgZWxlbWVudHMuXG4gKlxuICogQHJldHVybiB7QXJyYXk8ZGpzLm1vZGVsLkJhc2U+fVxuICovXG5FbGVtZW50UmVnaXN0cnkucHJvdG90eXBlLmdldEFsbCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5maWx0ZXIoZnVuY3Rpb24oZSkgeyByZXR1cm4gZTsgfSk7XG59O1xuXG4vKipcbiAqIEl0ZXJhdGUgb3ZlciBhbGwgZGlhZ3JhbSBlbGVtZW50cy5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICovXG5FbGVtZW50UmVnaXN0cnkucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbihmbikge1xuXG4gIHZhciBtYXAgPSB0aGlzLl9lbGVtZW50cztcblxuICBPYmplY3Qua2V5cyhtYXApLmZvckVhY2goZnVuY3Rpb24oaWQpIHtcbiAgICB2YXIgY29udGFpbmVyID0gbWFwW2lkXSxcbiAgICAgICAgZWxlbWVudCA9IGNvbnRhaW5lci5lbGVtZW50LFxuICAgICAgICBnZnggPSBjb250YWluZXIuZ2Z4O1xuXG4gICAgcmV0dXJuIGZuKGVsZW1lbnQsIGdmeCk7XG4gIH0pO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gdGhlIGdyYXBoaWNhbCByZXByZXNlbnRhdGlvbiBvZiBhbiBlbGVtZW50IG9yIGl0cyBpZC5cbiAqXG4gKiBAZXhhbXBsZVxuICogZWxlbWVudFJlZ2lzdHJ5LmdldEdyYXBoaWNzKCdTb21lRWxlbWVudElkXzEnKTtcbiAqIGVsZW1lbnRSZWdpc3RyeS5nZXRHcmFwaGljcyhyb290RWxlbWVudCk7IC8vIDxnIC4uLj5cbiAqXG4gKiBlbGVtZW50UmVnaXN0cnkuZ2V0R3JhcGhpY3Mocm9vdEVsZW1lbnQsIHRydWUpOyAvLyA8c3ZnIC4uLj5cbiAqXG4gKlxuICogQHBhcmFtIHtzdHJpbmd8ZGpzLm1vZGVsLkJhc2V9IGZpbHRlclxuICogQHBhcmFtIHtib29sZWFufSBbc2Vjb25kYXJ5PWZhbHNlXSB3aGV0aGVyIHRvIHJldHVybiB0aGUgc2Vjb25kYXJ5IGNvbm5lY3RlZCBlbGVtZW50XG4gKlxuICogQHJldHVybiB7U1ZHRWxlbWVudH1cbiAqL1xuRWxlbWVudFJlZ2lzdHJ5LnByb3RvdHlwZS5nZXRHcmFwaGljcyA9IGZ1bmN0aW9uKGZpbHRlciwgc2Vjb25kYXJ5KSB7XG4gIHZhciBpZCA9IGZpbHRlci5pZCB8fCBmaWx0ZXI7XG5cbiAgdmFyIGNvbnRhaW5lciA9IHRoaXMuX2VsZW1lbnRzW2lkXTtcbiAgcmV0dXJuIGNvbnRhaW5lciAmJiAoc2Vjb25kYXJ5ID8gY29udGFpbmVyLnNlY29uZGFyeUdmeCA6IGNvbnRhaW5lci5nZngpO1xufTtcblxuLyoqXG4gKiBWYWxpZGF0ZSB0aGUgc3VpdGFiaWxpdHkgb2YgdGhlIGdpdmVuIGlkIGFuZCBzaWduYWxzIGEgcHJvYmxlbVxuICogd2l0aCBhbiBleGNlcHRpb24uXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGlkXG4gKlxuICogQHRocm93cyB7RXJyb3J9IGlmIGlkIGlzIGVtcHR5IG9yIGFscmVhZHkgYXNzaWduZWRcbiAqL1xuRWxlbWVudFJlZ2lzdHJ5LnByb3RvdHlwZS5fdmFsaWRhdGVJZCA9IGZ1bmN0aW9uKGlkKSB7XG4gIGlmICghaWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2VsZW1lbnQgbXVzdCBoYXZlIGFuIGlkJyk7XG4gIH1cblxuICBpZiAodGhpcy5fZWxlbWVudHNbaWRdKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdlbGVtZW50IHdpdGggaWQgJyArIGlkICsgJyBhbHJlYWR5IGFkZGVkJyk7XG4gIH1cbn07XG4iLCJpbXBvcnQgeyBhc3NpZ24gfSBmcm9tICdtaW4tZGFzaCc7XG5pbXBvcnQgaW5oZXJpdHMgZnJvbSAnaW5oZXJpdHMnO1xuXG5pbXBvcnQgUmVmcyBmcm9tICdvYmplY3QtcmVmcyc7XG5cbnZhciBwYXJlbnRSZWZzID0gbmV3IFJlZnMoeyBuYW1lOiAnY2hpbGRyZW4nLCBlbnVtZXJhYmxlOiB0cnVlLCBjb2xsZWN0aW9uOiB0cnVlIH0sIHsgbmFtZTogJ3BhcmVudCcgfSksXG4gICAgbGFiZWxSZWZzID0gbmV3IFJlZnMoeyBuYW1lOiAnbGFiZWxzJywgZW51bWVyYWJsZTogdHJ1ZSwgY29sbGVjdGlvbjogdHJ1ZSB9LCB7IG5hbWU6ICdsYWJlbFRhcmdldCcgfSksXG4gICAgYXR0YWNoZXJSZWZzID0gbmV3IFJlZnMoeyBuYW1lOiAnYXR0YWNoZXJzJywgY29sbGVjdGlvbjogdHJ1ZSB9LCB7IG5hbWU6ICdob3N0JyB9KSxcbiAgICBvdXRnb2luZ1JlZnMgPSBuZXcgUmVmcyh7IG5hbWU6ICdvdXRnb2luZycsIGNvbGxlY3Rpb246IHRydWUgfSwgeyBuYW1lOiAnc291cmNlJyB9KSxcbiAgICBpbmNvbWluZ1JlZnMgPSBuZXcgUmVmcyh7IG5hbWU6ICdpbmNvbWluZycsIGNvbGxlY3Rpb246IHRydWUgfSwgeyBuYW1lOiAndGFyZ2V0JyB9KTtcblxuLyoqXG4gKiBAbmFtZXNwYWNlIGRqcy5tb2RlbFxuICovXG5cbi8qKlxuICogQG1lbWJlck9mIGRqcy5tb2RlbFxuICovXG5cbi8qKlxuICogVGhlIGJhc2ljIGdyYXBoaWNhbCByZXByZXNlbnRhdGlvblxuICpcbiAqIEBjbGFzc1xuICpcbiAqIEBhYnN0cmFjdFxuICovXG5leHBvcnQgZnVuY3Rpb24gQmFzZSgpIHtcblxuICAvKipcbiAgICogVGhlIG9iamVjdCB0aGF0IGJhY2tzIHVwIHRoZSBzaGFwZVxuICAgKlxuICAgKiBAbmFtZSBCYXNlI2J1c2luZXNzT2JqZWN0XG4gICAqIEB0eXBlIE9iamVjdFxuICAgKi9cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdidXNpbmVzc09iamVjdCcsIHtcbiAgICB3cml0YWJsZTogdHJ1ZVxuICB9KTtcblxuXG4gIC8qKlxuICAgKiBTaW5nbGUgbGFiZWwgc3VwcG9ydCwgd2lsbCBtYXBwZWQgdG8gbXVsdGkgbGFiZWwgYXJyYXlcbiAgICpcbiAgICogQG5hbWUgQmFzZSNsYWJlbFxuICAgKiBAdHlwZSBPYmplY3RcbiAgICovXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnbGFiZWwnLCB7XG4gICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLmxhYmVsc1swXTtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24obmV3TGFiZWwpIHtcblxuICAgICAgdmFyIGxhYmVsID0gdGhpcy5sYWJlbCxcbiAgICAgICAgICBsYWJlbHMgPSB0aGlzLmxhYmVscztcblxuICAgICAgaWYgKCFuZXdMYWJlbCAmJiBsYWJlbCkge1xuICAgICAgICBsYWJlbHMucmVtb3ZlKGxhYmVsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxhYmVscy5hZGQobmV3TGFiZWwsIDApO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgLyoqXG4gICAqIFRoZSBwYXJlbnQgc2hhcGVcbiAgICpcbiAgICogQG5hbWUgQmFzZSNwYXJlbnRcbiAgICogQHR5cGUgU2hhcGVcbiAgICovXG4gIHBhcmVudFJlZnMuYmluZCh0aGlzLCAncGFyZW50Jyk7XG5cbiAgLyoqXG4gICAqIFRoZSBsaXN0IG9mIGxhYmVsc1xuICAgKlxuICAgKiBAbmFtZSBCYXNlI2xhYmVsc1xuICAgKiBAdHlwZSBMYWJlbFxuICAgKi9cbiAgbGFiZWxSZWZzLmJpbmQodGhpcywgJ2xhYmVscycpO1xuXG4gIC8qKlxuICAgKiBUaGUgbGlzdCBvZiBvdXRnb2luZyBjb25uZWN0aW9uc1xuICAgKlxuICAgKiBAbmFtZSBCYXNlI291dGdvaW5nXG4gICAqIEB0eXBlIEFycmF5PENvbm5lY3Rpb24+XG4gICAqL1xuICBvdXRnb2luZ1JlZnMuYmluZCh0aGlzLCAnb3V0Z29pbmcnKTtcblxuICAvKipcbiAgICogVGhlIGxpc3Qgb2YgaW5jb21pbmcgY29ubmVjdGlvbnNcbiAgICpcbiAgICogQG5hbWUgQmFzZSNpbmNvbWluZ1xuICAgKiBAdHlwZSBBcnJheTxDb25uZWN0aW9uPlxuICAgKi9cbiAgaW5jb21pbmdSZWZzLmJpbmQodGhpcywgJ2luY29taW5nJyk7XG59XG5cblxuLyoqXG4gKiBBIGdyYXBoaWNhbCBvYmplY3RcbiAqXG4gKiBAY2xhc3NcbiAqIEBjb25zdHJ1Y3RvclxuICpcbiAqIEBleHRlbmRzIEJhc2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFNoYXBlKCkge1xuICBCYXNlLmNhbGwodGhpcyk7XG5cbiAgLyoqXG4gICAqIEluZGljYXRlcyBmcmFtZSBzaGFwZXNcbiAgICpcbiAgICogQG5hbWUgU2hhcGUjaXNGcmFtZVxuICAgKiBAdHlwZSBib29sZWFuXG4gICAqL1xuXG4gIC8qKlxuICAgKiBUaGUgbGlzdCBvZiBjaGlsZHJlblxuICAgKlxuICAgKiBAbmFtZSBTaGFwZSNjaGlsZHJlblxuICAgKiBAdHlwZSBBcnJheTxCYXNlPlxuICAgKi9cbiAgcGFyZW50UmVmcy5iaW5kKHRoaXMsICdjaGlsZHJlbicpO1xuXG4gIC8qKlxuICAgKiBAbmFtZSBTaGFwZSNob3N0XG4gICAqIEB0eXBlIFNoYXBlXG4gICAqL1xuICBhdHRhY2hlclJlZnMuYmluZCh0aGlzLCAnaG9zdCcpO1xuXG4gIC8qKlxuICAgKiBAbmFtZSBTaGFwZSNhdHRhY2hlcnNcbiAgICogQHR5cGUgU2hhcGVcbiAgICovXG4gIGF0dGFjaGVyUmVmcy5iaW5kKHRoaXMsICdhdHRhY2hlcnMnKTtcbn1cblxuaW5oZXJpdHMoU2hhcGUsIEJhc2UpO1xuXG5cbi8qKlxuICogQSByb290IGdyYXBoaWNhbCBvYmplY3RcbiAqXG4gKiBAY2xhc3NcbiAqIEBjb25zdHJ1Y3RvclxuICpcbiAqIEBleHRlbmRzIFNoYXBlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBSb290KCkge1xuICBTaGFwZS5jYWxsKHRoaXMpO1xufVxuXG5pbmhlcml0cyhSb290LCBTaGFwZSk7XG5cblxuLyoqXG4gKiBBIGxhYmVsIGZvciBhbiBlbGVtZW50XG4gKlxuICogQGNsYXNzXG4gKiBAY29uc3RydWN0b3JcbiAqXG4gKiBAZXh0ZW5kcyBTaGFwZVxuICovXG5leHBvcnQgZnVuY3Rpb24gTGFiZWwoKSB7XG4gIFNoYXBlLmNhbGwodGhpcyk7XG5cbiAgLyoqXG4gICAqIFRoZSBsYWJlbGVkIGVsZW1lbnRcbiAgICpcbiAgICogQG5hbWUgTGFiZWwjbGFiZWxUYXJnZXRcbiAgICogQHR5cGUgQmFzZVxuICAgKi9cbiAgbGFiZWxSZWZzLmJpbmQodGhpcywgJ2xhYmVsVGFyZ2V0Jyk7XG59XG5cbmluaGVyaXRzKExhYmVsLCBTaGFwZSk7XG5cblxuLyoqXG4gKiBBIGNvbm5lY3Rpb24gYmV0d2VlbiB0d28gZWxlbWVudHNcbiAqXG4gKiBAY2xhc3NcbiAqIEBjb25zdHJ1Y3RvclxuICpcbiAqIEBleHRlbmRzIEJhc2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIENvbm5lY3Rpb24oKSB7XG4gIEJhc2UuY2FsbCh0aGlzKTtcblxuICAvKipcbiAgICogVGhlIGVsZW1lbnQgdGhpcyBjb25uZWN0aW9uIG9yaWdpbmF0ZXMgZnJvbVxuICAgKlxuICAgKiBAbmFtZSBDb25uZWN0aW9uI3NvdXJjZVxuICAgKiBAdHlwZSBCYXNlXG4gICAqL1xuICBvdXRnb2luZ1JlZnMuYmluZCh0aGlzLCAnc291cmNlJyk7XG5cbiAgLyoqXG4gICAqIFRoZSBlbGVtZW50IHRoaXMgY29ubmVjdGlvbiBwb2ludHMgdG9cbiAgICpcbiAgICogQG5hbWUgQ29ubmVjdGlvbiN0YXJnZXRcbiAgICogQHR5cGUgQmFzZVxuICAgKi9cbiAgaW5jb21pbmdSZWZzLmJpbmQodGhpcywgJ3RhcmdldCcpO1xufVxuXG5pbmhlcml0cyhDb25uZWN0aW9uLCBCYXNlKTtcblxuXG52YXIgdHlwZXMgPSB7XG4gIGNvbm5lY3Rpb246IENvbm5lY3Rpb24sXG4gIHNoYXBlOiBTaGFwZSxcbiAgbGFiZWw6IExhYmVsLFxuICByb290OiBSb290XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgbW9kZWwgZWxlbWVudCBvZiB0aGUgc3BlY2lmaWVkIHR5cGVcbiAqXG4gKiBAbWV0aG9kIGNyZWF0ZVxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIHNoYXBlMSA9IE1vZGVsLmNyZWF0ZSgnc2hhcGUnLCB7IHg6IDEwLCB5OiAxMCwgd2lkdGg6IDEwMCwgaGVpZ2h0OiAxMDAgfSk7XG4gKiB2YXIgc2hhcGUyID0gTW9kZWwuY3JlYXRlKCdzaGFwZScsIHsgeDogMjEwLCB5OiAyMTAsIHdpZHRoOiAxMDAsIGhlaWdodDogMTAwIH0pO1xuICpcbiAqIHZhciBjb25uZWN0aW9uID0gTW9kZWwuY3JlYXRlKCdjb25uZWN0aW9uJywgeyB3YXlwb2ludHM6IFsgeyB4OiAxMTAsIHk6IDU1IH0sIHt4OiAyMTAsIHk6IDU1IH0gXSB9KTtcbiAqXG4gKiBAcGFyYW0gIHtzdHJpbmd9IHR5cGUgbG93ZXItY2FzZWQgbW9kZWwgbmFtZVxuICogQHBhcmFtICB7T2JqZWN0fSBhdHRycyBhdHRyaWJ1dGVzIHRvIGluaXRpYWxpemUgdGhlIG5ldyBtb2RlbCBpbnN0YW5jZSB3aXRoXG4gKlxuICogQHJldHVybiB7QmFzZX0gdGhlIG5ldyBtb2RlbCBpbnN0YW5jZVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlKHR5cGUsIGF0dHJzKSB7XG4gIHZhciBUeXBlID0gdHlwZXNbdHlwZV07XG4gIGlmICghVHlwZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigndW5rbm93biB0eXBlOiA8JyArIHR5cGUgKyAnPicpO1xuICB9XG4gIHJldHVybiBhc3NpZ24obmV3IFR5cGUoKSwgYXR0cnMpO1xufSIsImltcG9ydCB7XG4gIGNyZWF0ZVxufSBmcm9tICcuLi9tb2RlbCc7XG5cbmltcG9ydCB7IGFzc2lnbiB9IGZyb20gJ21pbi1kYXNoJztcblxuLyoqXG4gKiBBIGZhY3RvcnkgZm9yIGRpYWdyYW0tanMgc2hhcGVzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEVsZW1lbnRGYWN0b3J5KCkge1xuICB0aGlzLl91aWQgPSAxMjtcbn1cblxuXG5FbGVtZW50RmFjdG9yeS5wcm90b3R5cGUuY3JlYXRlUm9vdCA9IGZ1bmN0aW9uKGF0dHJzKSB7XG4gIHJldHVybiB0aGlzLmNyZWF0ZSgncm9vdCcsIGF0dHJzKTtcbn07XG5cbkVsZW1lbnRGYWN0b3J5LnByb3RvdHlwZS5jcmVhdGVMYWJlbCA9IGZ1bmN0aW9uKGF0dHJzKSB7XG4gIHJldHVybiB0aGlzLmNyZWF0ZSgnbGFiZWwnLCBhdHRycyk7XG59O1xuXG5FbGVtZW50RmFjdG9yeS5wcm90b3R5cGUuY3JlYXRlU2hhcGUgPSBmdW5jdGlvbihhdHRycykge1xuICByZXR1cm4gdGhpcy5jcmVhdGUoJ3NoYXBlJywgYXR0cnMpO1xufTtcblxuRWxlbWVudEZhY3RvcnkucHJvdG90eXBlLmNyZWF0ZUNvbm5lY3Rpb24gPSBmdW5jdGlvbihhdHRycykge1xuICByZXR1cm4gdGhpcy5jcmVhdGUoJ2Nvbm5lY3Rpb24nLCBhdHRycyk7XG59O1xuXG4vKipcbiAqIENyZWF0ZSBhIG1vZGVsIGVsZW1lbnQgd2l0aCB0aGUgZ2l2ZW4gdHlwZSBhbmRcbiAqIGEgbnVtYmVyIG9mIHByZS1zZXQgYXR0cmlidXRlcy5cbiAqXG4gKiBAcGFyYW0gIHtzdHJpbmd9IHR5cGVcbiAqIEBwYXJhbSAge09iamVjdH0gYXR0cnNcbiAqIEByZXR1cm4ge2Rqcy5tb2RlbC5CYXNlfSB0aGUgbmV3bHkgY3JlYXRlZCBtb2RlbCBpbnN0YW5jZVxuICovXG5FbGVtZW50RmFjdG9yeS5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24odHlwZSwgYXR0cnMpIHtcblxuICBhdHRycyA9IGFzc2lnbih7fSwgYXR0cnMgfHwge30pO1xuXG4gIGlmICghYXR0cnMuaWQpIHtcbiAgICBhdHRycy5pZCA9IHR5cGUgKyAnXycgKyAodGhpcy5fdWlkKyspO1xuICB9XG5cbiAgcmV0dXJuIGNyZWF0ZSh0eXBlLCBhdHRycyk7XG59OyIsImltcG9ydCB7XG4gIGlzRnVuY3Rpb24sXG4gIGlzQXJyYXksXG4gIGlzTnVtYmVyLFxuICBiaW5kLFxuICBhc3NpZ25cbn0gZnJvbSAnbWluLWRhc2gnO1xuXG52YXIgRk5fUkVGID0gJ19fZm4nO1xuXG52YXIgREVGQVVMVF9QUklPUklUWSA9IDEwMDA7XG5cbnZhciBzbGljZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZTtcblxuLyoqXG4gKiBBIGdlbmVyYWwgcHVycG9zZSBldmVudCBidXMuXG4gKlxuICogVGhpcyBjb21wb25lbnQgaXMgdXNlZCB0byBjb21tdW5pY2F0ZSBhY3Jvc3MgYSBkaWFncmFtIGluc3RhbmNlLlxuICogT3RoZXIgcGFydHMgb2YgYSBkaWFncmFtIGNhbiB1c2UgaXQgdG8gbGlzdGVuIHRvIGFuZCBicm9hZGNhc3QgZXZlbnRzLlxuICpcbiAqXG4gKiAjIyBSZWdpc3RlcmluZyBmb3IgRXZlbnRzXG4gKlxuICogVGhlIGV2ZW50IGJ1cyBwcm92aWRlcyB0aGUge0BsaW5rIEV2ZW50QnVzI29ufSBhbmQge0BsaW5rIEV2ZW50QnVzI29uY2V9XG4gKiBtZXRob2RzIHRvIHJlZ2lzdGVyIGZvciBldmVudHMuIHtAbGluayBFdmVudEJ1cyNvZmZ9IGNhbiBiZSB1c2VkIHRvXG4gKiByZW1vdmUgZXZlbnQgcmVnaXN0cmF0aW9ucy4gTGlzdGVuZXJzIHJlY2VpdmUgYW4gaW5zdGFuY2Ugb2Yge0BsaW5rIEV2ZW50fVxuICogYXMgdGhlIGZpcnN0IGFyZ3VtZW50LiBJdCBhbGxvd3MgdGhlbSB0byBob29rIGludG8gdGhlIGV2ZW50IGV4ZWN1dGlvbi5cbiAqXG4gKiBgYGBqYXZhc2NyaXB0XG4gKlxuICogLy8gbGlzdGVuIGZvciBldmVudFxuICogZXZlbnRCdXMub24oJ2ZvbycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gKlxuICogICAvLyBhY2Nlc3MgZXZlbnQgdHlwZVxuICogICBldmVudC50eXBlOyAvLyAnZm9vJ1xuICpcbiAqICAgLy8gc3RvcCBwcm9wYWdhdGlvbiB0byBvdGhlciBsaXN0ZW5lcnNcbiAqICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gKlxuICogICAvLyBwcmV2ZW50IGV2ZW50IGRlZmF1bHRcbiAqICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAqIH0pO1xuICpcbiAqIC8vIGxpc3RlbiBmb3IgZXZlbnQgd2l0aCBjdXN0b20gcGF5bG9hZFxuICogZXZlbnRCdXMub24oJ2JhcicsIGZ1bmN0aW9uKGV2ZW50LCBwYXlsb2FkKSB7XG4gKiAgIGNvbnNvbGUubG9nKHBheWxvYWQpO1xuICogfSk7XG4gKlxuICogLy8gbGlzdGVuIGZvciBldmVudCByZXR1cm5pbmcgdmFsdWVcbiAqIGV2ZW50QnVzLm9uKCdmb29iYXInLCBmdW5jdGlvbihldmVudCkge1xuICpcbiAqICAgLy8gc3RvcCBldmVudCBwcm9wYWdhdGlvbiArIHByZXZlbnQgZGVmYXVsdFxuICogICByZXR1cm4gZmFsc2U7XG4gKlxuICogICAvLyBzdG9wIGV2ZW50IHByb3BhZ2F0aW9uICsgcmV0dXJuIGN1c3RvbSByZXN1bHRcbiAqICAgcmV0dXJuIHtcbiAqICAgICBjb21wbGV4OiAnbGlzdGVuaW5nIHJlc3VsdCdcbiAqICAgfTtcbiAqIH0pO1xuICpcbiAqXG4gKiAvLyBsaXN0ZW4gd2l0aCBjdXN0b20gcHJpb3JpdHkgKGRlZmF1bHQ9MTAwMCwgaGlnaGVyIGlzIGJldHRlcilcbiAqIGV2ZW50QnVzLm9uKCdwcmlvcml0eWZvbycsIDE1MDAsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gKiAgIGNvbnNvbGUubG9nKCdpbnZva2VkIGZpcnN0IScpO1xuICogfSk7XG4gKlxuICpcbiAqIC8vIGxpc3RlbiBmb3IgZXZlbnQgYW5kIHBhc3MgdGhlIGNvbnRleHQgKGB0aGlzYClcbiAqIGV2ZW50QnVzLm9uKCdmb29iYXInLCBmdW5jdGlvbihldmVudCkge1xuICogICB0aGlzLmZvbygpO1xuICogfSwgdGhpcyk7XG4gKiBgYGBcbiAqXG4gKlxuICogIyMgRW1pdHRpbmcgRXZlbnRzXG4gKlxuICogRXZlbnRzIGNhbiBiZSBlbWl0dGVkIHZpYSB0aGUgZXZlbnQgYnVzIHVzaW5nIHtAbGluayBFdmVudEJ1cyNmaXJlfS5cbiAqXG4gKiBgYGBqYXZhc2NyaXB0XG4gKlxuICogLy8gZmFsc2UgaW5kaWNhdGVzIHRoYXQgdGhlIGRlZmF1bHQgYWN0aW9uXG4gKiAvLyB3YXMgcHJldmVudGVkIGJ5IGxpc3RlbmVyc1xuICogaWYgKGV2ZW50QnVzLmZpcmUoJ2ZvbycpID09PSBmYWxzZSkge1xuICogICBjb25zb2xlLmxvZygnZGVmYXVsdCBoYXMgYmVlbiBwcmV2ZW50ZWQhJyk7XG4gKiB9O1xuICpcbiAqXG4gKiAvLyBjdXN0b20gYXJncyArIHJldHVybiB2YWx1ZSBsaXN0ZW5lclxuICogZXZlbnRCdXMub24oJ3N1bScsIGZ1bmN0aW9uKGV2ZW50LCBhLCBiKSB7XG4gKiAgIHJldHVybiBhICsgYjtcbiAqIH0pO1xuICpcbiAqIC8vIHlvdSBjYW4gcGFzcyBjdXN0b20gYXJndW1lbnRzICsgcmV0cmlldmUgcmVzdWx0IHZhbHVlcy5cbiAqIHZhciBzdW0gPSBldmVudEJ1cy5maXJlKCdzdW0nLCAxLCAyKTtcbiAqIGNvbnNvbGUubG9nKHN1bSk7IC8vIDNcbiAqIGBgYFxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBFdmVudEJ1cygpIHtcbiAgdGhpcy5fbGlzdGVuZXJzID0ge307XG5cbiAgLy8gY2xlYW51cCBvbiBkZXN0cm95IG9uIGxvd2VzdCBwcmlvcml0eSB0byBhbGxvd1xuICAvLyBtZXNzYWdlIHBhc3NpbmcgdW50aWwgdGhlIGJpdHRlciBlbmRcbiAgdGhpcy5vbignZGlhZ3JhbS5kZXN0cm95JywgMSwgdGhpcy5fZGVzdHJveSwgdGhpcyk7XG59XG5cblxuLyoqXG4gKiBSZWdpc3RlciBhbiBldmVudCBsaXN0ZW5lciBmb3IgZXZlbnRzIHdpdGggdGhlIGdpdmVuIG5hbWUuXG4gKlxuICogVGhlIGNhbGxiYWNrIHdpbGwgYmUgaW52b2tlZCB3aXRoIGBldmVudCwgLi4uYWRkaXRpb25hbEFyZ3VtZW50c2BcbiAqIHRoYXQgaGF2ZSBiZWVuIHBhc3NlZCB0byB7QGxpbmsgRXZlbnRCdXMjZmlyZX0uXG4gKlxuICogUmV0dXJuaW5nIGZhbHNlIGZyb20gYSBsaXN0ZW5lciB3aWxsIHByZXZlbnQgdGhlIGV2ZW50cyBkZWZhdWx0IGFjdGlvblxuICogKGlmIGFueSBpcyBzcGVjaWZpZWQpLiBUbyBzdG9wIGFuIGV2ZW50IGZyb20gYmVpbmcgcHJvY2Vzc2VkIGZ1cnRoZXIgaW5cbiAqIG90aGVyIGxpc3RlbmVycyBleGVjdXRlIHtAbGluayBFdmVudCNzdG9wUHJvcGFnYXRpb259LlxuICpcbiAqIFJldHVybmluZyBhbnl0aGluZyBidXQgYHVuZGVmaW5lZGAgZnJvbSBhIGxpc3RlbmVyIHdpbGwgc3RvcCB0aGUgbGlzdGVuZXIgcHJvcGFnYXRpb24uXG4gKlxuICogQHBhcmFtIHtzdHJpbmd8QXJyYXk8c3RyaW5nPn0gZXZlbnRzXG4gKiBAcGFyYW0ge251bWJlcn0gW3ByaW9yaXR5PTEwMDBdIHRoZSBwcmlvcml0eSBpbiB3aGljaCB0aGlzIGxpc3RlbmVyIGlzIGNhbGxlZCwgbGFyZ2VyIGlzIGhpZ2hlclxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEBwYXJhbSB7T2JqZWN0fSBbdGhhdF0gUGFzcyBjb250ZXh0IChgdGhpc2ApIHRvIHRoZSBjYWxsYmFja1xuICovXG5FdmVudEJ1cy5wcm90b3R5cGUub24gPSBmdW5jdGlvbihldmVudHMsIHByaW9yaXR5LCBjYWxsYmFjaywgdGhhdCkge1xuXG4gIGV2ZW50cyA9IGlzQXJyYXkoZXZlbnRzKSA/IGV2ZW50cyA6IFsgZXZlbnRzIF07XG5cbiAgaWYgKGlzRnVuY3Rpb24ocHJpb3JpdHkpKSB7XG4gICAgdGhhdCA9IGNhbGxiYWNrO1xuICAgIGNhbGxiYWNrID0gcHJpb3JpdHk7XG4gICAgcHJpb3JpdHkgPSBERUZBVUxUX1BSSU9SSVRZO1xuICB9XG5cbiAgaWYgKCFpc051bWJlcihwcmlvcml0eSkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3ByaW9yaXR5IG11c3QgYmUgYSBudW1iZXInKTtcbiAgfVxuXG4gIHZhciBhY3R1YWxDYWxsYmFjayA9IGNhbGxiYWNrO1xuXG4gIGlmICh0aGF0KSB7XG4gICAgYWN0dWFsQ2FsbGJhY2sgPSBiaW5kKGNhbGxiYWNrLCB0aGF0KTtcblxuICAgIC8vIG1ha2Ugc3VyZSB3ZSByZW1lbWJlciBhbmQgYXJlIGFibGUgdG8gcmVtb3ZlXG4gICAgLy8gYm91bmQgY2FsbGJhY2tzIHZpYSB7QGxpbmsgI29mZn0gdXNpbmcgdGhlIG9yaWdpbmFsXG4gICAgLy8gY2FsbGJhY2tcbiAgICBhY3R1YWxDYWxsYmFja1tGTl9SRUZdID0gY2FsbGJhY2tbRk5fUkVGXSB8fCBjYWxsYmFjaztcbiAgfVxuXG4gIHZhciBzZWxmID0gdGhpcztcblxuICBldmVudHMuZm9yRWFjaChmdW5jdGlvbihlKSB7XG4gICAgc2VsZi5fYWRkTGlzdGVuZXIoZSwge1xuICAgICAgcHJpb3JpdHk6IHByaW9yaXR5LFxuICAgICAgY2FsbGJhY2s6IGFjdHVhbENhbGxiYWNrLFxuICAgICAgbmV4dDogbnVsbFxuICAgIH0pO1xuICB9KTtcbn07XG5cblxuLyoqXG4gKiBSZWdpc3RlciBhbiBldmVudCBsaXN0ZW5lciB0aGF0IGlzIGV4ZWN1dGVkIG9ubHkgb25jZS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gZXZlbnQgdGhlIGV2ZW50IG5hbWUgdG8gcmVnaXN0ZXIgZm9yXG4gKiBAcGFyYW0ge251bWJlcn0gW3ByaW9yaXR5PTEwMDBdIHRoZSBwcmlvcml0eSBpbiB3aGljaCB0aGlzIGxpc3RlbmVyIGlzIGNhbGxlZCwgbGFyZ2VyIGlzIGhpZ2hlclxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgdGhlIGNhbGxiYWNrIHRvIGV4ZWN1dGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBbdGhhdF0gUGFzcyBjb250ZXh0IChgdGhpc2ApIHRvIHRoZSBjYWxsYmFja1xuICovXG5FdmVudEJ1cy5wcm90b3R5cGUub25jZSA9IGZ1bmN0aW9uKGV2ZW50LCBwcmlvcml0eSwgY2FsbGJhY2ssIHRoYXQpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIGlmIChpc0Z1bmN0aW9uKHByaW9yaXR5KSkge1xuICAgIHRoYXQgPSBjYWxsYmFjaztcbiAgICBjYWxsYmFjayA9IHByaW9yaXR5O1xuICAgIHByaW9yaXR5ID0gREVGQVVMVF9QUklPUklUWTtcbiAgfVxuXG4gIGlmICghaXNOdW1iZXIocHJpb3JpdHkpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcmlvcml0eSBtdXN0IGJlIGEgbnVtYmVyJyk7XG4gIH1cblxuICBmdW5jdGlvbiB3cmFwcGVkQ2FsbGJhY2soKSB7XG4gICAgd3JhcHBlZENhbGxiYWNrLl9faXNUb21iID0gdHJ1ZTtcblxuICAgIHZhciByZXN1bHQgPSBjYWxsYmFjay5hcHBseSh0aGF0LCBhcmd1bWVudHMpO1xuXG4gICAgc2VsZi5vZmYoZXZlbnQsIHdyYXBwZWRDYWxsYmFjayk7XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLy8gbWFrZSBzdXJlIHdlIHJlbWVtYmVyIGFuZCBhcmUgYWJsZSB0byByZW1vdmVcbiAgLy8gYm91bmQgY2FsbGJhY2tzIHZpYSB7QGxpbmsgI29mZn0gdXNpbmcgdGhlIG9yaWdpbmFsXG4gIC8vIGNhbGxiYWNrXG4gIHdyYXBwZWRDYWxsYmFja1tGTl9SRUZdID0gY2FsbGJhY2s7XG5cbiAgdGhpcy5vbihldmVudCwgcHJpb3JpdHksIHdyYXBwZWRDYWxsYmFjayk7XG59O1xuXG5cbi8qKlxuICogUmVtb3ZlcyBldmVudCBsaXN0ZW5lcnMgYnkgZXZlbnQgYW5kIGNhbGxiYWNrLlxuICpcbiAqIElmIG5vIGNhbGxiYWNrIGlzIGdpdmVuLCBhbGwgbGlzdGVuZXJzIGZvciBhIGdpdmVuIGV2ZW50IG5hbWUgYXJlIGJlaW5nIHJlbW92ZWQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd8QXJyYXk8c3RyaW5nPn0gZXZlbnRzXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdXG4gKi9cbkV2ZW50QnVzLnByb3RvdHlwZS5vZmYgPSBmdW5jdGlvbihldmVudHMsIGNhbGxiYWNrKSB7XG5cbiAgZXZlbnRzID0gaXNBcnJheShldmVudHMpID8gZXZlbnRzIDogWyBldmVudHMgXTtcblxuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgZXZlbnRzLmZvckVhY2goZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBzZWxmLl9yZW1vdmVMaXN0ZW5lcihldmVudCwgY2FsbGJhY2spO1xuICB9KTtcblxufTtcblxuXG4vKipcbiAqIENyZWF0ZSBhbiBFdmVudEJ1cyBldmVudC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gZGF0YVxuICpcbiAqIEByZXR1cm4ge09iamVjdH0gZXZlbnQsIHJlY29nbml6ZWQgYnkgdGhlIGV2ZW50QnVzXG4gKi9cbkV2ZW50QnVzLnByb3RvdHlwZS5jcmVhdGVFdmVudCA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgdmFyIGV2ZW50ID0gbmV3IEludGVybmFsRXZlbnQoKTtcblxuICBldmVudC5pbml0KGRhdGEpO1xuXG4gIHJldHVybiBldmVudDtcbn07XG5cblxuLyoqXG4gKiBGaXJlcyBhIG5hbWVkIGV2ZW50LlxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogLy8gZmlyZSBldmVudCBieSBuYW1lXG4gKiBldmVudHMuZmlyZSgnZm9vJyk7XG4gKlxuICogLy8gZmlyZSBldmVudCBvYmplY3Qgd2l0aCBuZXN0ZWQgdHlwZVxuICogdmFyIGV2ZW50ID0geyB0eXBlOiAnZm9vJyB9O1xuICogZXZlbnRzLmZpcmUoZXZlbnQpO1xuICpcbiAqIC8vIGZpcmUgZXZlbnQgd2l0aCBleHBsaWNpdCB0eXBlXG4gKiB2YXIgZXZlbnQgPSB7IHg6IDEwLCB5OiAyMCB9O1xuICogZXZlbnRzLmZpcmUoJ2VsZW1lbnQubW92ZWQnLCBldmVudCk7XG4gKlxuICogLy8gcGFzcyBhZGRpdGlvbmFsIGFyZ3VtZW50cyB0byB0aGUgZXZlbnRcbiAqIGV2ZW50cy5vbignZm9vJywgZnVuY3Rpb24oZXZlbnQsIGJhcikge1xuICogICBhbGVydChiYXIpO1xuICogfSk7XG4gKlxuICogZXZlbnRzLmZpcmUoeyB0eXBlOiAnZm9vJyB9LCAnSSBhbSBiYXIhJyk7XG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IFtuYW1lXSB0aGUgb3B0aW9uYWwgZXZlbnQgbmFtZVxuICogQHBhcmFtIHtPYmplY3R9IFtldmVudF0gdGhlIGV2ZW50IG9iamVjdFxuICogQHBhcmFtIHsuLi5PYmplY3R9IGFkZGl0aW9uYWwgYXJndW1lbnRzIHRvIGJlIHBhc3NlZCB0byB0aGUgY2FsbGJhY2sgZnVuY3Rpb25zXG4gKlxuICogQHJldHVybiB7Ym9vbGVhbn0gdGhlIGV2ZW50cyByZXR1cm4gdmFsdWUsIGlmIHNwZWNpZmllZCBvciBmYWxzZSBpZiB0aGVcbiAqICAgICAgICAgICAgICAgICAgIGRlZmF1bHQgYWN0aW9uIHdhcyBwcmV2ZW50ZWQgYnkgbGlzdGVuZXJzXG4gKi9cbkV2ZW50QnVzLnByb3RvdHlwZS5maXJlID0gZnVuY3Rpb24odHlwZSwgZGF0YSkge1xuICB2YXIgZXZlbnQsXG4gICAgICBmaXJzdExpc3RlbmVyLFxuICAgICAgcmV0dXJuVmFsdWUsXG4gICAgICBhcmdzO1xuXG4gIGFyZ3MgPSBzbGljZS5jYWxsKGFyZ3VtZW50cyk7XG5cbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnb2JqZWN0Jykge1xuICAgIGRhdGEgPSB0eXBlO1xuICAgIHR5cGUgPSBkYXRhLnR5cGU7XG4gIH1cblxuICBpZiAoIXR5cGUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ25vIGV2ZW50IHR5cGUgc3BlY2lmaWVkJyk7XG4gIH1cblxuICBmaXJzdExpc3RlbmVyID0gdGhpcy5fbGlzdGVuZXJzW3R5cGVdO1xuXG4gIGlmICghZmlyc3RMaXN0ZW5lcikge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIHdlIG1ha2Ugc3VyZSB3ZSBmaXJlIGluc3RhbmNlcyBvZiBvdXIgaG9tZSBtYWRlXG4gIC8vIGV2ZW50cyBoZXJlLiBXZSB3cmFwIHRoZW0gb25seSBvbmNlLCB0aG91Z2hcbiAgaWYgKGRhdGEgaW5zdGFuY2VvZiBJbnRlcm5hbEV2ZW50KSB7XG5cbiAgICAvLyB3ZSBhcmUgZmluZSwgd2UgYWxyZWFkIGhhdmUgYW4gZXZlbnRcbiAgICBldmVudCA9IGRhdGE7XG4gIH0gZWxzZSB7XG4gICAgZXZlbnQgPSB0aGlzLmNyZWF0ZUV2ZW50KGRhdGEpO1xuICB9XG5cbiAgLy8gZW5zdXJlIHdlIHBhc3MgdGhlIGV2ZW50IGFzIHRoZSBmaXJzdCBwYXJhbWV0ZXJcbiAgYXJnc1swXSA9IGV2ZW50O1xuXG4gIC8vIG9yaWdpbmFsIGV2ZW50IHR5cGUgKGluIGNhc2Ugd2UgZGVsZWdhdGUpXG4gIHZhciBvcmlnaW5hbFR5cGUgPSBldmVudC50eXBlO1xuXG4gIC8vIHVwZGF0ZSBldmVudCB0eXBlIGJlZm9yZSBkZWxlZ2F0aW9uXG4gIGlmICh0eXBlICE9PSBvcmlnaW5hbFR5cGUpIHtcbiAgICBldmVudC50eXBlID0gdHlwZTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgcmV0dXJuVmFsdWUgPSB0aGlzLl9pbnZva2VMaXN0ZW5lcnMoZXZlbnQsIGFyZ3MsIGZpcnN0TGlzdGVuZXIpO1xuICB9IGZpbmFsbHkge1xuXG4gICAgLy8gcmVzZXQgZXZlbnQgdHlwZSBhZnRlciBkZWxlZ2F0aW9uXG4gICAgaWYgKHR5cGUgIT09IG9yaWdpbmFsVHlwZSkge1xuICAgICAgZXZlbnQudHlwZSA9IG9yaWdpbmFsVHlwZTtcbiAgICB9XG4gIH1cblxuICAvLyBzZXQgdGhlIHJldHVybiB2YWx1ZSB0byBmYWxzZSBpZiB0aGUgZXZlbnQgZGVmYXVsdFxuICAvLyBnb3QgcHJldmVudGVkIGFuZCBubyBvdGhlciByZXR1cm4gdmFsdWUgZXhpc3RzXG4gIGlmIChyZXR1cm5WYWx1ZSA9PT0gdW5kZWZpbmVkICYmIGV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICByZXR1cm5WYWx1ZSA9IGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHJldHVyblZhbHVlO1xufTtcblxuXG5FdmVudEJ1cy5wcm90b3R5cGUuaGFuZGxlRXJyb3IgPSBmdW5jdGlvbihlcnJvcikge1xuICByZXR1cm4gdGhpcy5maXJlKCdlcnJvcicsIHsgZXJyb3I6IGVycm9yIH0pID09PSBmYWxzZTtcbn07XG5cblxuRXZlbnRCdXMucHJvdG90eXBlLl9kZXN0cm95ID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuX2xpc3RlbmVycyA9IHt9O1xufTtcblxuRXZlbnRCdXMucHJvdG90eXBlLl9pbnZva2VMaXN0ZW5lcnMgPSBmdW5jdGlvbihldmVudCwgYXJncywgbGlzdGVuZXIpIHtcblxuICB2YXIgcmV0dXJuVmFsdWU7XG5cbiAgd2hpbGUgKGxpc3RlbmVyKSB7XG5cbiAgICAvLyBoYW5kbGUgc3RvcHBlZCBwcm9wYWdhdGlvblxuICAgIGlmIChldmVudC5jYW5jZWxCdWJibGUpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIHJldHVyblZhbHVlID0gdGhpcy5faW52b2tlTGlzdGVuZXIoZXZlbnQsIGFyZ3MsIGxpc3RlbmVyKTtcblxuICAgIGxpc3RlbmVyID0gbGlzdGVuZXIubmV4dDtcbiAgfVxuXG4gIHJldHVybiByZXR1cm5WYWx1ZTtcbn07XG5cbkV2ZW50QnVzLnByb3RvdHlwZS5faW52b2tlTGlzdGVuZXIgPSBmdW5jdGlvbihldmVudCwgYXJncywgbGlzdGVuZXIpIHtcblxuICB2YXIgcmV0dXJuVmFsdWU7XG5cbiAgaWYgKGxpc3RlbmVyLmNhbGxiYWNrLl9faXNUb21iKSB7XG4gICAgcmV0dXJuIHJldHVyblZhbHVlO1xuICB9XG5cbiAgdHJ5IHtcblxuICAgIC8vIHJldHVybmluZyBmYWxzZSBwcmV2ZW50cyB0aGUgZGVmYXVsdCBhY3Rpb25cbiAgICByZXR1cm5WYWx1ZSA9IGludm9rZUZ1bmN0aW9uKGxpc3RlbmVyLmNhbGxiYWNrLCBhcmdzKTtcblxuICAgIC8vIHN0b3AgcHJvcGFnYXRpb24gb24gcmV0dXJuIHZhbHVlXG4gICAgaWYgKHJldHVyblZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGV2ZW50LnJldHVyblZhbHVlID0gcmV0dXJuVmFsdWU7XG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9XG5cbiAgICAvLyBwcmV2ZW50IGRlZmF1bHQgb24gcmV0dXJuIGZhbHNlXG4gICAgaWYgKHJldHVyblZhbHVlID09PSBmYWxzZSkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBpZiAoIXRoaXMuaGFuZGxlRXJyb3IoZSkpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ3VuaGFuZGxlZCBlcnJvciBpbiBldmVudCBsaXN0ZW5lcicpO1xuICAgICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcblxuICAgICAgdGhyb3cgZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmV0dXJuVmFsdWU7XG59O1xuXG4vKlxuICogQWRkIG5ldyBsaXN0ZW5lciB3aXRoIGEgY2VydGFpbiBwcmlvcml0eSB0byB0aGUgbGlzdFxuICogb2YgbGlzdGVuZXJzIChmb3IgdGhlIGdpdmVuIGV2ZW50KS5cbiAqXG4gKiBUaGUgc2VtYW50aWNzIG9mIGxpc3RlbmVyIHJlZ2lzdHJhdGlvbiAvIGxpc3RlbmVyIGV4ZWN1dGlvbiBhcmVcbiAqIGZpcnN0IHJlZ2lzdGVyLCBmaXJzdCBzZXJ2ZTogTmV3IGxpc3RlbmVycyB3aWxsIGFsd2F5cyBiZSBpbnNlcnRlZFxuICogYWZ0ZXIgZXhpc3RpbmcgbGlzdGVuZXJzIHdpdGggdGhlIHNhbWUgcHJpb3JpdHkuXG4gKlxuICogRXhhbXBsZTogSW5zZXJ0aW5nIHR3byBsaXN0ZW5lcnMgd2l0aCBwcmlvcml0eSAxMDAwIGFuZCAxMzAwXG4gKlxuICogICAgKiBiZWZvcmU6IFsgMTUwMCwgMTUwMCwgMTAwMCwgMTAwMCBdXG4gKiAgICAqIGFmdGVyOiBbIDE1MDAsIDE1MDAsIChuZXc9MTMwMCksIDEwMDAsIDEwMDAsIChuZXc9MTAwMCkgXVxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBldmVudFxuICogQHBhcmFtIHtPYmplY3R9IGxpc3RlbmVyIHsgcHJpb3JpdHksIGNhbGxiYWNrIH1cbiAqL1xuRXZlbnRCdXMucHJvdG90eXBlLl9hZGRMaXN0ZW5lciA9IGZ1bmN0aW9uKGV2ZW50LCBuZXdMaXN0ZW5lcikge1xuXG4gIHZhciBsaXN0ZW5lciA9IHRoaXMuX2dldExpc3RlbmVycyhldmVudCksXG4gICAgICBwcmV2aW91c0xpc3RlbmVyO1xuXG4gIC8vIG5vIHByaW9yIGxpc3RlbmVyc1xuICBpZiAoIWxpc3RlbmVyKSB7XG4gICAgdGhpcy5fc2V0TGlzdGVuZXJzKGV2ZW50LCBuZXdMaXN0ZW5lcik7XG5cbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBlbnN1cmUgd2Ugb3JkZXIgbGlzdGVuZXJzIGJ5IHByaW9yaXR5IGZyb21cbiAgLy8gMCAoaGlnaCkgdG8gbiA+IDAgKGxvdylcbiAgd2hpbGUgKGxpc3RlbmVyKSB7XG5cbiAgICBpZiAobGlzdGVuZXIucHJpb3JpdHkgPCBuZXdMaXN0ZW5lci5wcmlvcml0eSkge1xuXG4gICAgICBuZXdMaXN0ZW5lci5uZXh0ID0gbGlzdGVuZXI7XG5cbiAgICAgIGlmIChwcmV2aW91c0xpc3RlbmVyKSB7XG4gICAgICAgIHByZXZpb3VzTGlzdGVuZXIubmV4dCA9IG5ld0xpc3RlbmVyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fc2V0TGlzdGVuZXJzKGV2ZW50LCBuZXdMaXN0ZW5lcik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBwcmV2aW91c0xpc3RlbmVyID0gbGlzdGVuZXI7XG4gICAgbGlzdGVuZXIgPSBsaXN0ZW5lci5uZXh0O1xuICB9XG5cbiAgLy8gYWRkIG5ldyBsaXN0ZW5lciB0byBiYWNrXG4gIHByZXZpb3VzTGlzdGVuZXIubmV4dCA9IG5ld0xpc3RlbmVyO1xufTtcblxuXG5FdmVudEJ1cy5wcm90b3R5cGUuX2dldExpc3RlbmVycyA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgcmV0dXJuIHRoaXMuX2xpc3RlbmVyc1tuYW1lXTtcbn07XG5cbkV2ZW50QnVzLnByb3RvdHlwZS5fc2V0TGlzdGVuZXJzID0gZnVuY3Rpb24obmFtZSwgbGlzdGVuZXIpIHtcbiAgdGhpcy5fbGlzdGVuZXJzW25hbWVdID0gbGlzdGVuZXI7XG59O1xuXG5FdmVudEJ1cy5wcm90b3R5cGUuX3JlbW92ZUxpc3RlbmVyID0gZnVuY3Rpb24oZXZlbnQsIGNhbGxiYWNrKSB7XG5cbiAgdmFyIGxpc3RlbmVyID0gdGhpcy5fZ2V0TGlzdGVuZXJzKGV2ZW50KSxcbiAgICAgIG5leHRMaXN0ZW5lcixcbiAgICAgIHByZXZpb3VzTGlzdGVuZXIsXG4gICAgICBsaXN0ZW5lckNhbGxiYWNrO1xuXG4gIGlmICghY2FsbGJhY2spIHtcblxuICAgIC8vIGNsZWFyIGxpc3RlbmVyc1xuICAgIHRoaXMuX3NldExpc3RlbmVycyhldmVudCwgbnVsbCk7XG5cbiAgICByZXR1cm47XG4gIH1cblxuICB3aGlsZSAobGlzdGVuZXIpIHtcblxuICAgIG5leHRMaXN0ZW5lciA9IGxpc3RlbmVyLm5leHQ7XG5cbiAgICBsaXN0ZW5lckNhbGxiYWNrID0gbGlzdGVuZXIuY2FsbGJhY2s7XG5cbiAgICBpZiAobGlzdGVuZXJDYWxsYmFjayA9PT0gY2FsbGJhY2sgfHwgbGlzdGVuZXJDYWxsYmFja1tGTl9SRUZdID09PSBjYWxsYmFjaykge1xuICAgICAgaWYgKHByZXZpb3VzTGlzdGVuZXIpIHtcbiAgICAgICAgcHJldmlvdXNMaXN0ZW5lci5uZXh0ID0gbmV4dExpc3RlbmVyO1xuICAgICAgfSBlbHNlIHtcblxuICAgICAgICAvLyBuZXcgZmlyc3QgbGlzdGVuZXJcbiAgICAgICAgdGhpcy5fc2V0TGlzdGVuZXJzKGV2ZW50LCBuZXh0TGlzdGVuZXIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHByZXZpb3VzTGlzdGVuZXIgPSBsaXN0ZW5lcjtcbiAgICBsaXN0ZW5lciA9IG5leHRMaXN0ZW5lcjtcbiAgfVxufTtcblxuLyoqXG4gKiBBIGV2ZW50IHRoYXQgaXMgZW1pdHRlZCB2aWEgdGhlIGV2ZW50IGJ1cy5cbiAqL1xuZnVuY3Rpb24gSW50ZXJuYWxFdmVudCgpIHsgfVxuXG5JbnRlcm5hbEV2ZW50LnByb3RvdHlwZS5zdG9wUHJvcGFnYXRpb24gPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5jYW5jZWxCdWJibGUgPSB0cnVlO1xufTtcblxuSW50ZXJuYWxFdmVudC5wcm90b3R5cGUucHJldmVudERlZmF1bHQgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5kZWZhdWx0UHJldmVudGVkID0gdHJ1ZTtcbn07XG5cbkludGVybmFsRXZlbnQucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbihkYXRhKSB7XG4gIGFzc2lnbih0aGlzLCBkYXRhIHx8IHt9KTtcbn07XG5cblxuLyoqXG4gKiBJbnZva2UgZnVuY3Rpb24uIEJlIGZhc3QuLi5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICogQHBhcmFtIHtBcnJheTxPYmplY3Q+fSBhcmdzXG4gKlxuICogQHJldHVybiB7QW55fVxuICovXG5mdW5jdGlvbiBpbnZva2VGdW5jdGlvbihmbiwgYXJncykge1xuICByZXR1cm4gZm4uYXBwbHkobnVsbCwgYXJncyk7XG59XG4iLCIvKipcbiAqIFNWR3MgZm9yIGVsZW1lbnRzIGFyZSBnZW5lcmF0ZWQgYnkgdGhlIHtAbGluayBHcmFwaGljc0ZhY3Rvcnl9LlxuICpcbiAqIFRoaXMgdXRpbGl0eSBnaXZlcyBxdWljayBhY2Nlc3MgdG8gdGhlIGltcG9ydGFudCBzZW1hbnRpY1xuICogcGFydHMgb2YgYW4gZWxlbWVudC5cbiAqL1xuXG4vKipcbiAqIFJldHVybnMgdGhlIHZpc3VhbCBwYXJ0IG9mIGEgZGlhZ3JhbSBlbGVtZW50XG4gKlxuICogQHBhcmFtIHtTbmFwPFNWR0VsZW1lbnQ+fSBnZnhcbiAqXG4gKiBAcmV0dXJuIHtTbmFwPFNWR0VsZW1lbnQ+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0VmlzdWFsKGdmeCkge1xuICByZXR1cm4gZ2Z4LmNoaWxkTm9kZXNbMF07XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgY2hpbGRyZW4gZm9yIGEgZ2l2ZW4gZGlhZ3JhbSBlbGVtZW50LlxuICpcbiAqIEBwYXJhbSB7U25hcDxTVkdFbGVtZW50Pn0gZ2Z4XG4gKiBAcmV0dXJuIHtTbmFwPFNWR0VsZW1lbnQ+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2hpbGRyZW4oZ2Z4KSB7XG4gIHJldHVybiBnZngucGFyZW50Tm9kZS5jaGlsZE5vZGVzWzFdO1xufSIsImltcG9ydCB7XHJcbiAgdHJhbnNmb3JtIGFzIHN2Z1RyYW5zZm9ybSxcclxuICBjcmVhdGVUcmFuc2Zvcm1cclxufSBmcm9tICd0aW55LXN2Zyc7XHJcblxyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7PFNWR0VsZW1lbnQ+fSBlbGVtZW50XHJcbiAqIEBwYXJhbSB7bnVtYmVyfSB4XHJcbiAqIEBwYXJhbSB7bnVtYmVyfSB5XHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBhbmdsZVxyXG4gKiBAcGFyYW0ge251bWJlcn0gYW1vdW50XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtKGdmeCwgeCwgeSwgYW5nbGUsIGFtb3VudCkge1xyXG4gIHZhciB0cmFuc2xhdGUgPSBjcmVhdGVUcmFuc2Zvcm0oKTtcclxuICB0cmFuc2xhdGUuc2V0VHJhbnNsYXRlKHgsIHkpO1xyXG5cclxuICB2YXIgcm90YXRlID0gY3JlYXRlVHJhbnNmb3JtKCk7XHJcbiAgcm90YXRlLnNldFJvdGF0ZShhbmdsZSB8fCAwLCAwLCAwKTtcclxuXHJcbiAgdmFyIHNjYWxlID0gY3JlYXRlVHJhbnNmb3JtKCk7XHJcbiAgc2NhbGUuc2V0U2NhbGUoYW1vdW50IHx8IDEsIGFtb3VudCB8fCAxKTtcclxuXHJcbiAgc3ZnVHJhbnNmb3JtKGdmeCwgWyB0cmFuc2xhdGUsIHJvdGF0ZSwgc2NhbGUgXSk7XHJcbn1cclxuXHJcblxyXG4vKipcclxuICogQHBhcmFtIHtTVkdFbGVtZW50fSBlbGVtZW50XHJcbiAqIEBwYXJhbSB7bnVtYmVyfSB4XHJcbiAqIEBwYXJhbSB7bnVtYmVyfSB5XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNsYXRlKGdmeCwgeCwgeSkge1xyXG4gIHZhciB0cmFuc2xhdGUgPSBjcmVhdGVUcmFuc2Zvcm0oKTtcclxuICB0cmFuc2xhdGUuc2V0VHJhbnNsYXRlKHgsIHkpO1xyXG5cclxuICBzdmdUcmFuc2Zvcm0oZ2Z4LCB0cmFuc2xhdGUpO1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7U1ZHRWxlbWVudH0gZWxlbWVudFxyXG4gKiBAcGFyYW0ge251bWJlcn0gYW5nbGVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiByb3RhdGUoZ2Z4LCBhbmdsZSkge1xyXG4gIHZhciByb3RhdGUgPSBjcmVhdGVUcmFuc2Zvcm0oKTtcclxuICByb3RhdGUuc2V0Um90YXRlKGFuZ2xlLCAwLCAwKTtcclxuXHJcbiAgc3ZnVHJhbnNmb3JtKGdmeCwgcm90YXRlKTtcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiBAcGFyYW0ge1NWR0VsZW1lbnR9IGVsZW1lbnRcclxuICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlKGdmeCwgYW1vdW50KSB7XHJcbiAgdmFyIHNjYWxlID0gY3JlYXRlVHJhbnNmb3JtKCk7XHJcbiAgc2NhbGUuc2V0U2NhbGUoYW1vdW50LCBhbW91bnQpO1xyXG5cclxuICBzdmdUcmFuc2Zvcm0oZ2Z4LCBzY2FsZSk7XHJcbn0iLCJpbXBvcnQge1xuICBmb3JFYWNoLFxuICByZWR1Y2Vcbn0gZnJvbSAnbWluLWRhc2gnO1xuXG5pbXBvcnQge1xuICBnZXRDaGlsZHJlbixcbiAgZ2V0VmlzdWFsXG59IGZyb20gJy4uL3V0aWwvR3JhcGhpY3NVdGlsJztcblxuaW1wb3J0IHsgdHJhbnNsYXRlIH0gZnJvbSAnLi4vdXRpbC9TdmdUcmFuc2Zvcm1VdGlsJztcblxuaW1wb3J0IHsgY2xlYXIgYXMgZG9tQ2xlYXIgfSBmcm9tICdtaW4tZG9tJztcblxuaW1wb3J0IHtcbiAgYXBwZW5kIGFzIHN2Z0FwcGVuZCxcbiAgYXR0ciBhcyBzdmdBdHRyLFxuICBjbGFzc2VzIGFzIHN2Z0NsYXNzZXMsXG4gIGNyZWF0ZSBhcyBzdmdDcmVhdGUsXG4gIHJlbW92ZSBhcyBzdmdSZW1vdmVcbn0gZnJvbSAndGlueS1zdmcnO1xuXG5pbXBvcnQge1xuICBpc0ZyYW1lRWxlbWVudFxufSBmcm9tICcuLi91dGlsL0VsZW1lbnRzJztcblxuLyoqXG4gKiBBIGZhY3RvcnkgdGhhdCBjcmVhdGVzIGdyYXBoaWNhbCBlbGVtZW50c1xuICpcbiAqIEBwYXJhbSB7RXZlbnRCdXN9IGV2ZW50QnVzXG4gKiBAcGFyYW0ge0VsZW1lbnRSZWdpc3RyeX0gZWxlbWVudFJlZ2lzdHJ5XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEdyYXBoaWNzRmFjdG9yeShldmVudEJ1cywgZWxlbWVudFJlZ2lzdHJ5KSB7XG4gIHRoaXMuX2V2ZW50QnVzID0gZXZlbnRCdXM7XG4gIHRoaXMuX2VsZW1lbnRSZWdpc3RyeSA9IGVsZW1lbnRSZWdpc3RyeTtcbn1cblxuR3JhcGhpY3NGYWN0b3J5LiRpbmplY3QgPSBbICdldmVudEJ1cycgLCAnZWxlbWVudFJlZ2lzdHJ5JyBdO1xuXG5cbkdyYXBoaWNzRmFjdG9yeS5wcm90b3R5cGUuX2dldENoaWxkcmVuQ29udGFpbmVyID0gZnVuY3Rpb24oZWxlbWVudCkge1xuXG4gIHZhciBnZnggPSB0aGlzLl9lbGVtZW50UmVnaXN0cnkuZ2V0R3JhcGhpY3MoZWxlbWVudCk7XG5cbiAgdmFyIGNoaWxkcmVuR2Z4O1xuXG4gIC8vIHJvb3QgZWxlbWVudFxuICBpZiAoIWVsZW1lbnQucGFyZW50KSB7XG4gICAgY2hpbGRyZW5HZnggPSBnZng7XG4gIH0gZWxzZSB7XG4gICAgY2hpbGRyZW5HZnggPSBnZXRDaGlsZHJlbihnZngpO1xuICAgIGlmICghY2hpbGRyZW5HZngpIHtcbiAgICAgIGNoaWxkcmVuR2Z4ID0gc3ZnQ3JlYXRlKCdnJyk7XG4gICAgICBzdmdDbGFzc2VzKGNoaWxkcmVuR2Z4KS5hZGQoJ2Rqcy1jaGlsZHJlbicpO1xuXG4gICAgICBzdmdBcHBlbmQoZ2Z4LnBhcmVudE5vZGUsIGNoaWxkcmVuR2Z4KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gY2hpbGRyZW5HZng7XG59O1xuXG4vKipcbiAqIENsZWFycyB0aGUgZ3JhcGhpY2FsIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBlbGVtZW50IGFuZCByZXR1cm5zIHRoZVxuICogY2xlYXJlZCB2aXN1YWwgKHRoZSA8ZyBjbGFzcz1cImRqcy12aXN1YWxcIiAvPiBlbGVtZW50KS5cbiAqL1xuR3JhcGhpY3NGYWN0b3J5LnByb3RvdHlwZS5fY2xlYXIgPSBmdW5jdGlvbihnZngpIHtcbiAgdmFyIHZpc3VhbCA9IGdldFZpc3VhbChnZngpO1xuXG4gIGRvbUNsZWFyKHZpc3VhbCk7XG5cbiAgcmV0dXJuIHZpc3VhbDtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIGdmeCBjb250YWluZXIgZm9yIHNoYXBlcyBhbmQgY29ubmVjdGlvbnNcbiAqXG4gKiBUaGUgbGF5b3V0IGlzIGFzIGZvbGxvd3M6XG4gKlxuICogPGcgY2xhc3M9XCJkanMtZ3JvdXBcIj5cbiAqXG4gKiAgIDwhLS0gdGhlIGdmeCAtLT5cbiAqICAgPGcgY2xhc3M9XCJkanMtZWxlbWVudCBkanMtKHNoYXBlfGNvbm5lY3Rpb258ZnJhbWUpXCI+XG4gKiAgICAgPGcgY2xhc3M9XCJkanMtdmlzdWFsXCI+XG4gKiAgICAgICA8IS0tIHRoZSByZW5kZXJlciBkcmF3cyBpbiBoZXJlIC0tPlxuICogICAgIDwvZz5cbiAqXG4gKiAgICAgPCEtLSBleHRlbnNpb25zIChvdmVybGF5cywgY2xpY2sgYm94LCAuLi4pIGdvZXMgaGVyZVxuICogICA8L2c+XG4gKlxuICogICA8IS0tIHRoZSBnZnggY2hpbGQgbm9kZXMgLS0+XG4gKiAgIDxnIGNsYXNzPVwiZGpzLWNoaWxkcmVuXCI+PC9nPlxuICogPC9nPlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIHRoZSB0eXBlIG9mIHRoZSBlbGVtZW50LCBpLmUuIHNoYXBlIHwgY29ubmVjdGlvblxuICogQHBhcmFtIHtTVkdFbGVtZW50fSBbY2hpbGRyZW5HZnhdXG4gKiBAcGFyYW0ge251bWJlcn0gW3BhcmVudEluZGV4XSBwb3NpdGlvbiB0byBjcmVhdGUgY29udGFpbmVyIGluIHBhcmVudFxuICogQHBhcmFtIHtib29sZWFufSBbaXNGcmFtZV0gaXMgZnJhbWUgZWxlbWVudFxuICpcbiAqIEByZXR1cm4ge1NWR0VsZW1lbnR9XG4gKi9cbkdyYXBoaWNzRmFjdG9yeS5wcm90b3R5cGUuX2NyZWF0ZUNvbnRhaW5lciA9IGZ1bmN0aW9uKFxuICAgIHR5cGUsIGNoaWxkcmVuR2Z4LCBwYXJlbnRJbmRleCwgaXNGcmFtZVxuKSB7XG4gIHZhciBvdXRlckdmeCA9IHN2Z0NyZWF0ZSgnZycpO1xuICBzdmdDbGFzc2VzKG91dGVyR2Z4KS5hZGQoJ2Rqcy1ncm91cCcpO1xuXG4gIC8vIGluc2VydCBub2RlIGF0IHBvc2l0aW9uXG4gIGlmICh0eXBlb2YgcGFyZW50SW5kZXggIT09ICd1bmRlZmluZWQnKSB7XG4gICAgcHJlcGVuZFRvKG91dGVyR2Z4LCBjaGlsZHJlbkdmeCwgY2hpbGRyZW5HZnguY2hpbGROb2Rlc1twYXJlbnRJbmRleF0pO1xuICB9IGVsc2Uge1xuICAgIHN2Z0FwcGVuZChjaGlsZHJlbkdmeCwgb3V0ZXJHZngpO1xuICB9XG5cbiAgdmFyIGdmeCA9IHN2Z0NyZWF0ZSgnZycpO1xuICBzdmdDbGFzc2VzKGdmeCkuYWRkKCdkanMtZWxlbWVudCcpO1xuICBzdmdDbGFzc2VzKGdmeCkuYWRkKCdkanMtJyArIHR5cGUpO1xuXG4gIGlmIChpc0ZyYW1lKSB7XG4gICAgc3ZnQ2xhc3NlcyhnZngpLmFkZCgnZGpzLWZyYW1lJyk7XG4gIH1cblxuICBzdmdBcHBlbmQob3V0ZXJHZngsIGdmeCk7XG5cbiAgLy8gY3JlYXRlIHZpc3VhbFxuICB2YXIgdmlzdWFsID0gc3ZnQ3JlYXRlKCdnJyk7XG4gIHN2Z0NsYXNzZXModmlzdWFsKS5hZGQoJ2Rqcy12aXN1YWwnKTtcblxuICBzdmdBcHBlbmQoZ2Z4LCB2aXN1YWwpO1xuXG4gIHJldHVybiBnZng7XG59O1xuXG5HcmFwaGljc0ZhY3RvcnkucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uKHR5cGUsIGVsZW1lbnQsIHBhcmVudEluZGV4KSB7XG4gIHZhciBjaGlsZHJlbkdmeCA9IHRoaXMuX2dldENoaWxkcmVuQ29udGFpbmVyKGVsZW1lbnQucGFyZW50KTtcbiAgcmV0dXJuIHRoaXMuX2NyZWF0ZUNvbnRhaW5lcih0eXBlLCBjaGlsZHJlbkdmeCwgcGFyZW50SW5kZXgsIGlzRnJhbWVFbGVtZW50KGVsZW1lbnQpKTtcbn07XG5cbkdyYXBoaWNzRmFjdG9yeS5wcm90b3R5cGUudXBkYXRlQ29udGFpbm1lbnRzID0gZnVuY3Rpb24oZWxlbWVudHMpIHtcblxuICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICBlbGVtZW50UmVnaXN0cnkgPSB0aGlzLl9lbGVtZW50UmVnaXN0cnksXG4gICAgICBwYXJlbnRzO1xuXG4gIHBhcmVudHMgPSByZWR1Y2UoZWxlbWVudHMsIGZ1bmN0aW9uKG1hcCwgZSkge1xuXG4gICAgaWYgKGUucGFyZW50KSB7XG4gICAgICBtYXBbZS5wYXJlbnQuaWRdID0gZS5wYXJlbnQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1hcDtcbiAgfSwge30pO1xuXG4gIC8vIHVwZGF0ZSBhbGwgcGFyZW50cyBvZiBjaGFuZ2VkIGFuZCByZW9yZ2FuaXplZCB0aGVpciBjaGlsZHJlblxuICAvLyBpbiB0aGUgY29ycmVjdCBvcmRlciAoYXMgaW5kaWNhdGVkIGluIG91ciBtb2RlbClcbiAgZm9yRWFjaChwYXJlbnRzLCBmdW5jdGlvbihwYXJlbnQpIHtcblxuICAgIHZhciBjaGlsZHJlbiA9IHBhcmVudC5jaGlsZHJlbjtcblxuICAgIGlmICghY2hpbGRyZW4pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgY2hpbGRyZW5HZnggPSBzZWxmLl9nZXRDaGlsZHJlbkNvbnRhaW5lcihwYXJlbnQpO1xuXG4gICAgZm9yRWFjaChjaGlsZHJlbi5zbGljZSgpLnJldmVyc2UoKSwgZnVuY3Rpb24oY2hpbGQpIHtcbiAgICAgIHZhciBjaGlsZEdmeCA9IGVsZW1lbnRSZWdpc3RyeS5nZXRHcmFwaGljcyhjaGlsZCk7XG5cbiAgICAgIHByZXBlbmRUbyhjaGlsZEdmeC5wYXJlbnROb2RlLCBjaGlsZHJlbkdmeCk7XG4gICAgfSk7XG4gIH0pO1xufTtcblxuR3JhcGhpY3NGYWN0b3J5LnByb3RvdHlwZS5kcmF3U2hhcGUgPSBmdW5jdGlvbih2aXN1YWwsIGVsZW1lbnQpIHtcbiAgdmFyIGV2ZW50QnVzID0gdGhpcy5fZXZlbnRCdXM7XG5cbiAgcmV0dXJuIGV2ZW50QnVzLmZpcmUoJ3JlbmRlci5zaGFwZScsIHsgZ2Z4OiB2aXN1YWwsIGVsZW1lbnQ6IGVsZW1lbnQgfSk7XG59O1xuXG5HcmFwaGljc0ZhY3RvcnkucHJvdG90eXBlLmdldFNoYXBlUGF0aCA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgdmFyIGV2ZW50QnVzID0gdGhpcy5fZXZlbnRCdXM7XG5cbiAgcmV0dXJuIGV2ZW50QnVzLmZpcmUoJ3JlbmRlci5nZXRTaGFwZVBhdGgnLCBlbGVtZW50KTtcbn07XG5cbkdyYXBoaWNzRmFjdG9yeS5wcm90b3R5cGUuZHJhd0Nvbm5lY3Rpb24gPSBmdW5jdGlvbih2aXN1YWwsIGVsZW1lbnQpIHtcbiAgdmFyIGV2ZW50QnVzID0gdGhpcy5fZXZlbnRCdXM7XG5cbiAgcmV0dXJuIGV2ZW50QnVzLmZpcmUoJ3JlbmRlci5jb25uZWN0aW9uJywgeyBnZng6IHZpc3VhbCwgZWxlbWVudDogZWxlbWVudCB9KTtcbn07XG5cbkdyYXBoaWNzRmFjdG9yeS5wcm90b3R5cGUuZ2V0Q29ubmVjdGlvblBhdGggPSBmdW5jdGlvbih3YXlwb2ludHMpIHtcbiAgdmFyIGV2ZW50QnVzID0gdGhpcy5fZXZlbnRCdXM7XG5cbiAgcmV0dXJuIGV2ZW50QnVzLmZpcmUoJ3JlbmRlci5nZXRDb25uZWN0aW9uUGF0aCcsIHdheXBvaW50cyk7XG59O1xuXG5HcmFwaGljc0ZhY3RvcnkucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uKHR5cGUsIGVsZW1lbnQsIGdmeCkge1xuXG4gIC8vIGRvIE5PVCB1cGRhdGUgcm9vdCBlbGVtZW50XG4gIGlmICghZWxlbWVudC5wYXJlbnQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgdmlzdWFsID0gdGhpcy5fY2xlYXIoZ2Z4KTtcblxuICAvLyByZWRyYXdcbiAgaWYgKHR5cGUgPT09ICdzaGFwZScpIHtcbiAgICB0aGlzLmRyYXdTaGFwZSh2aXN1YWwsIGVsZW1lbnQpO1xuXG4gICAgLy8gdXBkYXRlIHBvc2l0aW9uaW5nXG4gICAgdHJhbnNsYXRlKGdmeCwgZWxlbWVudC54LCBlbGVtZW50LnkpO1xuICB9IGVsc2VcbiAgaWYgKHR5cGUgPT09ICdjb25uZWN0aW9uJykge1xuICAgIHRoaXMuZHJhd0Nvbm5lY3Rpb24odmlzdWFsLCBlbGVtZW50KTtcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Vua25vd24gdHlwZTogJyArIHR5cGUpO1xuICB9XG5cbiAgaWYgKGVsZW1lbnQuaGlkZGVuKSB7XG4gICAgc3ZnQXR0cihnZngsICdkaXNwbGF5JywgJ25vbmUnKTtcbiAgfSBlbHNlIHtcbiAgICBzdmdBdHRyKGdmeCwgJ2Rpc3BsYXknLCAnYmxvY2snKTtcbiAgfVxufTtcblxuR3JhcGhpY3NGYWN0b3J5LnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gIHZhciBnZnggPSB0aGlzLl9lbGVtZW50UmVnaXN0cnkuZ2V0R3JhcGhpY3MoZWxlbWVudCk7XG5cbiAgLy8gcmVtb3ZlXG4gIHN2Z1JlbW92ZShnZngucGFyZW50Tm9kZSk7XG59O1xuXG5cbi8vIGhlbHBlcnMgLy8vLy8vLy8vL1xuXG5mdW5jdGlvbiBwcmVwZW5kVG8obmV3Tm9kZSwgcGFyZW50Tm9kZSwgc2libGluZ05vZGUpIHtcbiAgdmFyIG5vZGUgPSBzaWJsaW5nTm9kZSB8fCBwYXJlbnROb2RlLmZpcnN0Q2hpbGQ7XG5cbiAgLy8gZG8gbm90IHByZXBlbmQgbm9kZSB0byBpdHNlbGYgdG8gcHJldmVudCBJRSBmcm9tIGNyYXNoaW5nXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9icG1uLWlvL2JwbW4tanMvaXNzdWVzLzc0NlxuICBpZiAobmV3Tm9kZSA9PT0gbm9kZSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG5ld05vZGUsIG5vZGUpO1xufVxuIiwiaW1wb3J0IERyYXdNb2R1bGUgZnJvbSAnLi4vZHJhdyc7XG5cbmltcG9ydCBDYW52YXMgZnJvbSAnLi9DYW52YXMnO1xuaW1wb3J0IEVsZW1lbnRSZWdpc3RyeSBmcm9tICcuL0VsZW1lbnRSZWdpc3RyeSc7XG5pbXBvcnQgRWxlbWVudEZhY3RvcnkgZnJvbSAnLi9FbGVtZW50RmFjdG9yeSc7XG5pbXBvcnQgRXZlbnRCdXMgZnJvbSAnLi9FdmVudEJ1cyc7XG5pbXBvcnQgR3JhcGhpY3NGYWN0b3J5IGZyb20gJy4vR3JhcGhpY3NGYWN0b3J5JztcblxuZXhwb3J0IGRlZmF1bHQge1xuICBfX2RlcGVuZHNfXzogWyBEcmF3TW9kdWxlIF0sXG4gIF9faW5pdF9fOiBbICdjYW52YXMnIF0sXG4gIGNhbnZhczogWyAndHlwZScsIENhbnZhcyBdLFxuICBlbGVtZW50UmVnaXN0cnk6IFsgJ3R5cGUnLCBFbGVtZW50UmVnaXN0cnkgXSxcbiAgZWxlbWVudEZhY3Rvcnk6IFsgJ3R5cGUnLCBFbGVtZW50RmFjdG9yeSBdLFxuICBldmVudEJ1czogWyAndHlwZScsIEV2ZW50QnVzIF0sXG4gIGdyYXBoaWNzRmFjdG9yeTogWyAndHlwZScsIEdyYXBoaWNzRmFjdG9yeSBdXG59OyIsImltcG9ydCB7IEluamVjdG9yIH0gZnJvbSAnZGlkaSc7XG5cbmltcG9ydCBDb3JlTW9kdWxlIGZyb20gJy4vY29yZSc7XG5cblxuLyoqXG4gKiBCb290c3RyYXAgYW4gaW5qZWN0b3IgZnJvbSBhIGxpc3Qgb2YgbW9kdWxlcywgaW5zdGFudGlhdGluZyBhIG51bWJlciBvZiBkZWZhdWx0IGNvbXBvbmVudHNcbiAqXG4gKiBAaWdub3JlXG4gKiBAcGFyYW0ge0FycmF5PGRpZGkuTW9kdWxlPn0gYm9vdHN0cmFwTW9kdWxlc1xuICpcbiAqIEByZXR1cm4ge2RpZGkuSW5qZWN0b3J9IGEgaW5qZWN0b3IgdG8gdXNlIHRvIGFjY2VzcyB0aGUgY29tcG9uZW50c1xuICovXG5mdW5jdGlvbiBib290c3RyYXAoYm9vdHN0cmFwTW9kdWxlcykge1xuXG4gIHZhciBtb2R1bGVzID0gW10sXG4gICAgICBjb21wb25lbnRzID0gW107XG5cbiAgZnVuY3Rpb24gaGFzTW9kdWxlKG0pIHtcbiAgICByZXR1cm4gbW9kdWxlcy5pbmRleE9mKG0pID49IDA7XG4gIH1cblxuICBmdW5jdGlvbiBhZGRNb2R1bGUobSkge1xuICAgIG1vZHVsZXMucHVzaChtKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHZpc2l0KG0pIHtcbiAgICBpZiAoaGFzTW9kdWxlKG0pKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgKG0uX19kZXBlbmRzX18gfHwgW10pLmZvckVhY2godmlzaXQpO1xuXG4gICAgaWYgKGhhc01vZHVsZShtKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGFkZE1vZHVsZShtKTtcblxuICAgIChtLl9faW5pdF9fIHx8IFtdKS5mb3JFYWNoKGZ1bmN0aW9uKGMpIHtcbiAgICAgIGNvbXBvbmVudHMucHVzaChjKTtcbiAgICB9KTtcbiAgfVxuXG4gIGJvb3RzdHJhcE1vZHVsZXMuZm9yRWFjaCh2aXNpdCk7XG5cbiAgdmFyIGluamVjdG9yID0gbmV3IEluamVjdG9yKG1vZHVsZXMpO1xuXG4gIGNvbXBvbmVudHMuZm9yRWFjaChmdW5jdGlvbihjKSB7XG5cbiAgICB0cnkge1xuXG4gICAgICAvLyBlYWdlcmx5IHJlc29sdmUgY29tcG9uZW50IChmbiBvciBzdHJpbmcpXG4gICAgICBpbmplY3Rvclt0eXBlb2YgYyA9PT0gJ3N0cmluZycgPyAnZ2V0JyA6ICdpbnZva2UnXShjKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gaW5zdGFudGlhdGUgY29tcG9uZW50Jyk7XG4gICAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuXG4gICAgICB0aHJvdyBlO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIGluamVjdG9yO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYW4gaW5qZWN0b3IgZnJvbSBwYXNzZWQgb3B0aW9ucy5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcGFyYW0gIHtPYmplY3R9IG9wdGlvbnNcbiAqIEByZXR1cm4ge2RpZGkuSW5qZWN0b3J9XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUluamVjdG9yKG9wdGlvbnMpIHtcblxuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICB2YXIgY29uZmlnTW9kdWxlID0ge1xuICAgICdjb25maWcnOiBbJ3ZhbHVlJywgb3B0aW9uc11cbiAgfTtcblxuICB2YXIgbW9kdWxlcyA9IFsgY29uZmlnTW9kdWxlLCBDb3JlTW9kdWxlIF0uY29uY2F0KG9wdGlvbnMubW9kdWxlcyB8fCBbXSk7XG5cbiAgcmV0dXJuIGJvb3RzdHJhcChtb2R1bGVzKTtcbn1cblxuXG4vKipcbiAqIFRoZSBtYWluIGRpYWdyYW0tanMgZW50cnkgcG9pbnQgdGhhdCBib290c3RyYXBzIHRoZSBkaWFncmFtIHdpdGggdGhlIGdpdmVuXG4gKiBjb25maWd1cmF0aW9uLlxuICpcbiAqIFRvIHJlZ2lzdGVyIGV4dGVuc2lvbnMgd2l0aCB0aGUgZGlhZ3JhbSwgcGFzcyB0aGVtIGFzIEFycmF5PGRpZGkuTW9kdWxlPiB0byB0aGUgY29uc3RydWN0b3IuXG4gKlxuICogQGNsYXNzIGRqcy5EaWFncmFtXG4gKiBAbWVtYmVyT2YgZGpzXG4gKiBAY29uc3RydWN0b3JcbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIDxjYXB0aW9uPkNyZWF0aW5nIGEgcGx1Zy1pbiB0aGF0IGxvZ3Mgd2hlbmV2ZXIgYSBzaGFwZSBpcyBhZGRlZCB0byB0aGUgY2FudmFzLjwvY2FwdGlvbj5cbiAqXG4gKiAvLyBwbHVnLWluIGltcGxlbWVuZW50YXRpb25cbiAqIGZ1bmN0aW9uIE15TG9nZ2luZ1BsdWdpbihldmVudEJ1cykge1xuICogICBldmVudEJ1cy5vbignc2hhcGUuYWRkZWQnLCBmdW5jdGlvbihldmVudCkge1xuICogICAgIGNvbnNvbGUubG9nKCdzaGFwZSAnLCBldmVudC5zaGFwZSwgJyB3YXMgYWRkZWQgdG8gdGhlIGRpYWdyYW0nKTtcbiAqICAgfSk7XG4gKiB9XG4gKlxuICogLy8gZXhwb3J0IGFzIG1vZHVsZVxuICogZXhwb3J0IGRlZmF1bHQge1xuICogICBfX2luaXRfXzogWyAnbXlMb2dnaW5nUGx1Z2luJyBdLFxuICogICAgIG15TG9nZ2luZ1BsdWdpbjogWyAndHlwZScsIE15TG9nZ2luZ1BsdWdpbiBdXG4gKiB9O1xuICpcbiAqXG4gKiAvLyBpbnN0YW50aWF0ZSB0aGUgZGlhZ3JhbSB3aXRoIHRoZSBuZXcgcGx1Zy1pblxuICpcbiAqIGltcG9ydCBNeUxvZ2dpbmdNb2R1bGUgZnJvbSAncGF0aC10by1teS1sb2dnaW5nLXBsdWdpbic7XG4gKlxuICogdmFyIGRpYWdyYW0gPSBuZXcgRGlhZ3JhbSh7XG4gKiAgIG1vZHVsZXM6IFtcbiAqICAgICBNeUxvZ2dpbmdNb2R1bGVcbiAqICAgXVxuICogfSk7XG4gKlxuICogZGlhZ3JhbS5pbnZva2UoWyAnY2FudmFzJywgZnVuY3Rpb24oY2FudmFzKSB7XG4gKiAgIC8vIGFkZCBzaGFwZSB0byBkcmF3aW5nIGNhbnZhc1xuICogICBjYW52YXMuYWRkU2hhcGUoeyB4OiAxMCwgeTogMTAgfSk7XG4gKiB9KTtcbiAqXG4gKiAvLyAnc2hhcGUgLi4uIHdhcyBhZGRlZCB0byB0aGUgZGlhZ3JhbScgbG9nZ2VkIHRvIGNvbnNvbGVcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICogQHBhcmFtIHtBcnJheTxkaWRpLk1vZHVsZT59IFtvcHRpb25zLm1vZHVsZXNdIGV4dGVybmFsIG1vZHVsZXMgdG8gaW5zdGFudGlhdGUgd2l0aCB0aGUgZGlhZ3JhbVxuICogQHBhcmFtIHtkaWRpLkluamVjdG9yfSBbaW5qZWN0b3JdIGFuIChvcHRpb25hbCkgaW5qZWN0b3IgdG8gYm9vdHN0cmFwIHRoZSBkaWFncmFtIHdpdGhcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gRGlhZ3JhbShvcHRpb25zLCBpbmplY3Rvcikge1xuXG4gIC8vIGNyZWF0ZSBpbmplY3RvciB1bmxlc3MgZXhwbGljaXRseSBzcGVjaWZpZWRcbiAgdGhpcy5pbmplY3RvciA9IGluamVjdG9yID0gaW5qZWN0b3IgfHwgY3JlYXRlSW5qZWN0b3Iob3B0aW9ucyk7XG5cbiAgLy8gQVBJXG5cbiAgLyoqXG4gICAqIFJlc29sdmVzIGEgZGlhZ3JhbSBzZXJ2aWNlXG4gICAqXG4gICAqIEBtZXRob2QgRGlhZ3JhbSNnZXRcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgdGhlIG5hbWUgb2YgdGhlIGRpYWdyYW0gc2VydmljZSB0byBiZSByZXRyaWV2ZWRcbiAgICogQHBhcmFtIHtib29sZWFufSBbc3RyaWN0PXRydWVdIGlmIGZhbHNlLCByZXNvbHZlIG1pc3Npbmcgc2VydmljZXMgdG8gbnVsbFxuICAgKi9cbiAgdGhpcy5nZXQgPSBpbmplY3Rvci5nZXQ7XG5cbiAgLyoqXG4gICAqIEV4ZWN1dGVzIGEgZnVuY3Rpb24gaW50byB3aGljaCBkaWFncmFtIHNlcnZpY2VzIGFyZSBpbmplY3RlZFxuICAgKlxuICAgKiBAbWV0aG9kIERpYWdyYW0jaW52b2tlXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0W119IGZuIHRoZSBmdW5jdGlvbiB0byByZXNvbHZlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBsb2NhbHMgYSBudW1iZXIgb2YgbG9jYWxzIHRvIHVzZSB0byByZXNvbHZlIGNlcnRhaW4gZGVwZW5kZW5jaWVzXG4gICAqL1xuICB0aGlzLmludm9rZSA9IGluamVjdG9yLmludm9rZTtcblxuICAvLyBpbml0XG5cbiAgLy8gaW5kaWNhdGUgdmlhIGV2ZW50XG5cblxuICAvKipcbiAgICogQW4gZXZlbnQgaW5kaWNhdGluZyB0aGF0IGFsbCBwbHVnLWlucyBhcmUgbG9hZGVkLlxuICAgKlxuICAgKiBVc2UgdGhpcyBldmVudCB0byBmaXJlIG90aGVyIGV2ZW50cyB0byBpbnRlcmVzdGVkIHBsdWctaW5zXG4gICAqXG4gICAqIEBtZW1iZXJPZiBEaWFncmFtXG4gICAqXG4gICAqIEBldmVudCBkaWFncmFtLmluaXRcbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICpcbiAgICogZXZlbnRCdXMub24oJ2RpYWdyYW0uaW5pdCcsIGZ1bmN0aW9uKCkge1xuICAgKiAgIGV2ZW50QnVzLmZpcmUoJ215LWN1c3RvbS1ldmVudCcsIHsgZm9vOiAnQkFSJyB9KTtcbiAgICogfSk7XG4gICAqXG4gICAqIEB0eXBlIHtPYmplY3R9XG4gICAqL1xuICB0aGlzLmdldCgnZXZlbnRCdXMnKS5maXJlKCdkaWFncmFtLmluaXQnKTtcbn1cblxuXG4vKipcbiAqIERlc3Ryb3lzIHRoZSBkaWFncmFtXG4gKlxuICogQG1ldGhvZCAgRGlhZ3JhbSNkZXN0cm95XG4gKi9cbkRpYWdyYW0ucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5nZXQoJ2V2ZW50QnVzJykuZmlyZSgnZGlhZ3JhbS5kZXN0cm95Jyk7XG59O1xuXG4vKipcbiAqIENsZWFyIHRoZSBkaWFncmFtLCByZW1vdmluZyBhbGwgY29udGVudHMuXG4gKi9cbkRpYWdyYW0ucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuZ2V0KCdldmVudEJ1cycpLmZpcmUoJ2RpYWdyYW0uY2xlYXInKTtcbn07XG4iLCJpbXBvcnQgeyBmb3JFYWNoLCBiaW5kLCBwaWNrLCBhc3NpZ24sIGlzU3RyaW5nLCBpc09iamVjdCB9IGZyb20gJ21pbi1kYXNoJztcblxuLyoqXG4gKiBNb2RkbGUgYmFzZSBlbGVtZW50LlxuICovXG5mdW5jdGlvbiBCYXNlKCkgeyB9XG5cbkJhc2UucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgcmV0dXJuIHRoaXMuJG1vZGVsLnByb3BlcnRpZXMuZ2V0KHRoaXMsIG5hbWUpO1xufTtcblxuQmFzZS5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgdGhpcy4kbW9kZWwucHJvcGVydGllcy5zZXQodGhpcywgbmFtZSwgdmFsdWUpO1xufTtcblxuLyoqXG4gKiBBIG1vZGVsIGVsZW1lbnQgZmFjdG9yeS5cbiAqXG4gKiBAcGFyYW0ge01vZGRsZX0gbW9kZWxcbiAqIEBwYXJhbSB7UHJvcGVydGllc30gcHJvcGVydGllc1xuICovXG5mdW5jdGlvbiBGYWN0b3J5KG1vZGVsLCBwcm9wZXJ0aWVzKSB7XG4gIHRoaXMubW9kZWwgPSBtb2RlbDtcbiAgdGhpcy5wcm9wZXJ0aWVzID0gcHJvcGVydGllcztcbn1cblxuXG5GYWN0b3J5LnByb3RvdHlwZS5jcmVhdGVUeXBlID0gZnVuY3Rpb24oZGVzY3JpcHRvcikge1xuXG4gIHZhciBtb2RlbCA9IHRoaXMubW9kZWw7XG5cbiAgdmFyIHByb3BzID0gdGhpcy5wcm9wZXJ0aWVzLFxuICAgICAgcHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShCYXNlLnByb3RvdHlwZSk7XG5cbiAgLy8gaW5pdGlhbGl6ZSBkZWZhdWx0IHZhbHVlc1xuICBmb3JFYWNoKGRlc2NyaXB0b3IucHJvcGVydGllcywgZnVuY3Rpb24ocCkge1xuICAgIGlmICghcC5pc01hbnkgJiYgcC5kZWZhdWx0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHByb3RvdHlwZVtwLm5hbWVdID0gcC5kZWZhdWx0O1xuICAgIH1cbiAgfSk7XG5cbiAgcHJvcHMuZGVmaW5lTW9kZWwocHJvdG90eXBlLCBtb2RlbCk7XG4gIHByb3BzLmRlZmluZURlc2NyaXB0b3IocHJvdG90eXBlLCBkZXNjcmlwdG9yKTtcblxuICB2YXIgbmFtZSA9IGRlc2NyaXB0b3IubnMubmFtZTtcblxuICAvKipcbiAgICogVGhlIG5ldyB0eXBlIGNvbnN0cnVjdG9yXG4gICAqL1xuICBmdW5jdGlvbiBNb2RkbGVFbGVtZW50KGF0dHJzKSB7XG4gICAgcHJvcHMuZGVmaW5lKHRoaXMsICckdHlwZScsIHsgdmFsdWU6IG5hbWUsIGVudW1lcmFibGU6IHRydWUgfSk7XG4gICAgcHJvcHMuZGVmaW5lKHRoaXMsICckYXR0cnMnLCB7IHZhbHVlOiB7fSB9KTtcbiAgICBwcm9wcy5kZWZpbmUodGhpcywgJyRwYXJlbnQnLCB7IHdyaXRhYmxlOiB0cnVlIH0pO1xuXG4gICAgZm9yRWFjaChhdHRycywgYmluZChmdW5jdGlvbih2YWwsIGtleSkge1xuICAgICAgdGhpcy5zZXQoa2V5LCB2YWwpO1xuICAgIH0sIHRoaXMpKTtcbiAgfVxuXG4gIE1vZGRsZUVsZW1lbnQucHJvdG90eXBlID0gcHJvdG90eXBlO1xuXG4gIE1vZGRsZUVsZW1lbnQuaGFzVHlwZSA9IHByb3RvdHlwZS4kaW5zdGFuY2VPZiA9IHRoaXMubW9kZWwuaGFzVHlwZTtcblxuICAvLyBzdGF0aWMgbGlua3NcbiAgcHJvcHMuZGVmaW5lTW9kZWwoTW9kZGxlRWxlbWVudCwgbW9kZWwpO1xuICBwcm9wcy5kZWZpbmVEZXNjcmlwdG9yKE1vZGRsZUVsZW1lbnQsIGRlc2NyaXB0b3IpO1xuXG4gIHJldHVybiBNb2RkbGVFbGVtZW50O1xufTtcblxuLyoqXG4gKiBCdWlsdC1pbiBtb2RkbGUgdHlwZXNcbiAqL1xudmFyIEJVSUxUSU5TID0ge1xuICBTdHJpbmc6IHRydWUsXG4gIEJvb2xlYW46IHRydWUsXG4gIEludGVnZXI6IHRydWUsXG4gIFJlYWw6IHRydWUsXG4gIEVsZW1lbnQ6IHRydWVcbn07XG5cbi8qKlxuICogQ29udmVydGVycyBmb3IgYnVpbHQgaW4gdHlwZXMgZnJvbSBzdHJpbmcgcmVwcmVzZW50YXRpb25zXG4gKi9cbnZhciBUWVBFX0NPTlZFUlRFUlMgPSB7XG4gIFN0cmluZzogZnVuY3Rpb24ocykgeyByZXR1cm4gczsgfSxcbiAgQm9vbGVhbjogZnVuY3Rpb24ocykgeyByZXR1cm4gcyA9PT0gJ3RydWUnOyB9LFxuICBJbnRlZ2VyOiBmdW5jdGlvbihzKSB7IHJldHVybiBwYXJzZUludChzLCAxMCk7IH0sXG4gIFJlYWw6IGZ1bmN0aW9uKHMpIHsgcmV0dXJuIHBhcnNlRmxvYXQocywgMTApOyB9XG59O1xuXG4vKipcbiAqIENvbnZlcnQgYSB0eXBlIHRvIGl0cyByZWFsIHJlcHJlc2VudGF0aW9uXG4gKi9cbmZ1bmN0aW9uIGNvZXJjZVR5cGUodHlwZSwgdmFsdWUpIHtcblxuICB2YXIgY29udmVydGVyID0gVFlQRV9DT05WRVJURVJTW3R5cGVdO1xuXG4gIGlmIChjb252ZXJ0ZXIpIHtcbiAgICByZXR1cm4gY29udmVydGVyKHZhbHVlKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbn1cblxuLyoqXG4gKiBSZXR1cm4gd2hldGhlciB0aGUgZ2l2ZW4gdHlwZSBpcyBidWlsdC1pblxuICovXG5mdW5jdGlvbiBpc0J1aWx0SW4odHlwZSkge1xuICByZXR1cm4gISFCVUlMVElOU1t0eXBlXTtcbn1cblxuLyoqXG4gKiBSZXR1cm4gd2hldGhlciB0aGUgZ2l2ZW4gdHlwZSBpcyBzaW1wbGVcbiAqL1xuZnVuY3Rpb24gaXNTaW1wbGUodHlwZSkge1xuICByZXR1cm4gISFUWVBFX0NPTlZFUlRFUlNbdHlwZV07XG59XG5cbi8qKlxuICogUGFyc2VzIGEgbmFtZXNwYWNlZCBhdHRyaWJ1dGUgbmFtZSBvZiB0aGUgZm9ybSAobnM6KWxvY2FsTmFtZSB0byBhbiBvYmplY3QsXG4gKiBnaXZlbiBhIGRlZmF1bHQgcHJlZml4IHRvIGFzc3VtZSBpbiBjYXNlIG5vIGV4cGxpY2l0IG5hbWVzcGFjZSBpcyBnaXZlbi5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZVxuICogQHBhcmFtIHtTdHJpbmd9IFtkZWZhdWx0UHJlZml4XSB0aGUgZGVmYXVsdCBwcmVmaXggdG8gdGFrZSwgaWYgbm9uZSBpcyBwcmVzZW50LlxuICpcbiAqIEByZXR1cm4ge09iamVjdH0gdGhlIHBhcnNlZCBuYW1lXG4gKi9cbmZ1bmN0aW9uIHBhcnNlTmFtZShuYW1lLCBkZWZhdWx0UHJlZml4KSB7XG4gIHZhciBwYXJ0cyA9IG5hbWUuc3BsaXQoLzovKSxcbiAgICAgIGxvY2FsTmFtZSwgcHJlZml4O1xuXG4gIC8vIG5vIHByZWZpeCAoaS5lLiBvbmx5IGxvY2FsIG5hbWUpXG4gIGlmIChwYXJ0cy5sZW5ndGggPT09IDEpIHtcbiAgICBsb2NhbE5hbWUgPSBuYW1lO1xuICAgIHByZWZpeCA9IGRlZmF1bHRQcmVmaXg7XG4gIH0gZWxzZVxuICAvLyBwcmVmaXggKyBsb2NhbCBuYW1lXG4gIGlmIChwYXJ0cy5sZW5ndGggPT09IDIpIHtcbiAgICBsb2NhbE5hbWUgPSBwYXJ0c1sxXTtcbiAgICBwcmVmaXggPSBwYXJ0c1swXTtcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2V4cGVjdGVkIDxwcmVmaXg6bG9jYWxOYW1lPiBvciA8bG9jYWxOYW1lPiwgZ290ICcgKyBuYW1lKTtcbiAgfVxuXG4gIG5hbWUgPSAocHJlZml4ID8gcHJlZml4ICsgJzonIDogJycpICsgbG9jYWxOYW1lO1xuXG4gIHJldHVybiB7XG4gICAgbmFtZTogbmFtZSxcbiAgICBwcmVmaXg6IHByZWZpeCxcbiAgICBsb2NhbE5hbWU6IGxvY2FsTmFtZVxuICB9O1xufVxuXG4vKipcbiAqIEEgdXRpbGl0eSB0byBidWlsZCBlbGVtZW50IGRlc2NyaXB0b3JzLlxuICovXG5mdW5jdGlvbiBEZXNjcmlwdG9yQnVpbGRlcihuYW1lTnMpIHtcbiAgdGhpcy5ucyA9IG5hbWVOcztcbiAgdGhpcy5uYW1lID0gbmFtZU5zLm5hbWU7XG4gIHRoaXMuYWxsVHlwZXMgPSBbXTtcbiAgdGhpcy5hbGxUeXBlc0J5TmFtZSA9IHt9O1xuICB0aGlzLnByb3BlcnRpZXMgPSBbXTtcbiAgdGhpcy5wcm9wZXJ0aWVzQnlOYW1lID0ge307XG59XG5cblxuRGVzY3JpcHRvckJ1aWxkZXIucHJvdG90eXBlLmJ1aWxkID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBwaWNrKHRoaXMsIFtcbiAgICAnbnMnLFxuICAgICduYW1lJyxcbiAgICAnYWxsVHlwZXMnLFxuICAgICdhbGxUeXBlc0J5TmFtZScsXG4gICAgJ3Byb3BlcnRpZXMnLFxuICAgICdwcm9wZXJ0aWVzQnlOYW1lJyxcbiAgICAnYm9keVByb3BlcnR5JyxcbiAgICAnaWRQcm9wZXJ0eSdcbiAgXSk7XG59O1xuXG4vKipcbiAqIEFkZCBwcm9wZXJ0eSBhdCBnaXZlbiBpbmRleC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gcFxuICogQHBhcmFtIHtOdW1iZXJ9IFtpZHhdXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFt2YWxpZGF0ZT10cnVlXVxuICovXG5EZXNjcmlwdG9yQnVpbGRlci5wcm90b3R5cGUuYWRkUHJvcGVydHkgPSBmdW5jdGlvbihwLCBpZHgsIHZhbGlkYXRlKSB7XG5cbiAgaWYgKHR5cGVvZiBpZHggPT09ICdib29sZWFuJykge1xuICAgIHZhbGlkYXRlID0gaWR4O1xuICAgIGlkeCA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIHRoaXMuYWRkTmFtZWRQcm9wZXJ0eShwLCB2YWxpZGF0ZSAhPT0gZmFsc2UpO1xuXG4gIHZhciBwcm9wZXJ0aWVzID0gdGhpcy5wcm9wZXJ0aWVzO1xuXG4gIGlmIChpZHggIT09IHVuZGVmaW5lZCkge1xuICAgIHByb3BlcnRpZXMuc3BsaWNlKGlkeCwgMCwgcCk7XG4gIH0gZWxzZSB7XG4gICAgcHJvcGVydGllcy5wdXNoKHApO1xuICB9XG59O1xuXG5cbkRlc2NyaXB0b3JCdWlsZGVyLnByb3RvdHlwZS5yZXBsYWNlUHJvcGVydHkgPSBmdW5jdGlvbihvbGRQcm9wZXJ0eSwgbmV3UHJvcGVydHksIHJlcGxhY2UpIHtcbiAgdmFyIG9sZE5hbWVOcyA9IG9sZFByb3BlcnR5Lm5zO1xuXG4gIHZhciBwcm9wcyA9IHRoaXMucHJvcGVydGllcyxcbiAgICAgIHByb3BlcnRpZXNCeU5hbWUgPSB0aGlzLnByb3BlcnRpZXNCeU5hbWUsXG4gICAgICByZW5hbWUgPSBvbGRQcm9wZXJ0eS5uYW1lICE9PSBuZXdQcm9wZXJ0eS5uYW1lO1xuXG4gIGlmIChvbGRQcm9wZXJ0eS5pc0lkKSB7XG4gICAgaWYgKCFuZXdQcm9wZXJ0eS5pc0lkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdwcm9wZXJ0eSA8JyArIG5ld1Byb3BlcnR5Lm5zLm5hbWUgKyAnPiBtdXN0IGJlIGlkIHByb3BlcnR5ICcgK1xuICAgICAgICAndG8gcmVmaW5lIDwnICsgb2xkUHJvcGVydHkubnMubmFtZSArICc+Jyk7XG4gICAgfVxuXG4gICAgdGhpcy5zZXRJZFByb3BlcnR5KG5ld1Byb3BlcnR5LCBmYWxzZSk7XG4gIH1cblxuICBpZiAob2xkUHJvcGVydHkuaXNCb2R5KSB7XG5cbiAgICBpZiAoIW5ld1Byb3BlcnR5LmlzQm9keSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAncHJvcGVydHkgPCcgKyBuZXdQcm9wZXJ0eS5ucy5uYW1lICsgJz4gbXVzdCBiZSBib2R5IHByb3BlcnR5ICcgK1xuICAgICAgICAndG8gcmVmaW5lIDwnICsgb2xkUHJvcGVydHkubnMubmFtZSArICc+Jyk7XG4gICAgfVxuXG4gICAgLy8gVE9ETzogQ2hlY2sgY29tcGF0aWJpbGl0eVxuICAgIHRoaXMuc2V0Qm9keVByb3BlcnR5KG5ld1Byb3BlcnR5LCBmYWxzZSk7XG4gIH1cblxuICAvLyB2YWxpZGF0ZSBleGlzdGVuY2UgYW5kIGdldCBsb2NhdGlvbiBvZiBvbGQgcHJvcGVydHlcbiAgdmFyIGlkeCA9IHByb3BzLmluZGV4T2Yob2xkUHJvcGVydHkpO1xuICBpZiAoaWR4ID09PSAtMSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvcGVydHkgPCcgKyBvbGROYW1lTnMubmFtZSArICc+IG5vdCBmb3VuZCBpbiBwcm9wZXJ0eSBsaXN0Jyk7XG4gIH1cblxuICAvLyByZW1vdmUgb2xkIHByb3BlcnR5XG4gIHByb3BzLnNwbGljZShpZHgsIDEpO1xuXG4gIC8vIHJlcGxhY2luZyB0aGUgbmFtZWQgcHJvcGVydHkgaXMgaW50ZW50aW9uYWxcbiAgLy9cbiAgLy8gICogdmFsaWRhdGUgb25seSBpZiB0aGlzIGlzIGEgXCJyZW5hbWVcIiBvcGVyYXRpb25cbiAgLy8gICogYWRkIGF0IHNwZWNpZmljIGluZGV4IHVubGVzcyB3ZSBcInJlcGxhY2VcIlxuICAvL1xuICB0aGlzLmFkZFByb3BlcnR5KG5ld1Byb3BlcnR5LCByZXBsYWNlID8gdW5kZWZpbmVkIDogaWR4LCByZW5hbWUpO1xuXG4gIC8vIG1ha2UgbmV3IHByb3BlcnR5IGF2YWlsYWJsZSB1bmRlciBvbGQgbmFtZVxuICBwcm9wZXJ0aWVzQnlOYW1lW29sZE5hbWVOcy5uYW1lXSA9IHByb3BlcnRpZXNCeU5hbWVbb2xkTmFtZU5zLmxvY2FsTmFtZV0gPSBuZXdQcm9wZXJ0eTtcbn07XG5cblxuRGVzY3JpcHRvckJ1aWxkZXIucHJvdG90eXBlLnJlZGVmaW5lUHJvcGVydHkgPSBmdW5jdGlvbihwLCB0YXJnZXRQcm9wZXJ0eU5hbWUsIHJlcGxhY2UpIHtcblxuICB2YXIgbnNQcmVmaXggPSBwLm5zLnByZWZpeDtcbiAgdmFyIHBhcnRzID0gdGFyZ2V0UHJvcGVydHlOYW1lLnNwbGl0KCcjJyk7XG5cbiAgdmFyIG5hbWUgPSBwYXJzZU5hbWUocGFydHNbMF0sIG5zUHJlZml4KTtcbiAgdmFyIGF0dHJOYW1lID0gcGFyc2VOYW1lKHBhcnRzWzFdLCBuYW1lLnByZWZpeCkubmFtZTtcblxuICB2YXIgcmVkZWZpbmVkUHJvcGVydHkgPSB0aGlzLnByb3BlcnRpZXNCeU5hbWVbYXR0ck5hbWVdO1xuICBpZiAoIXJlZGVmaW5lZFByb3BlcnR5KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdyZWZpbmVkIHByb3BlcnR5IDwnICsgYXR0ck5hbWUgKyAnPiBub3QgZm91bmQnKTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLnJlcGxhY2VQcm9wZXJ0eShyZWRlZmluZWRQcm9wZXJ0eSwgcCwgcmVwbGFjZSk7XG4gIH1cblxuICBkZWxldGUgcC5yZWRlZmluZXM7XG59O1xuXG5EZXNjcmlwdG9yQnVpbGRlci5wcm90b3R5cGUuYWRkTmFtZWRQcm9wZXJ0eSA9IGZ1bmN0aW9uKHAsIHZhbGlkYXRlKSB7XG4gIHZhciBucyA9IHAubnMsXG4gICAgICBwcm9wc0J5TmFtZSA9IHRoaXMucHJvcGVydGllc0J5TmFtZTtcblxuICBpZiAodmFsaWRhdGUpIHtcbiAgICB0aGlzLmFzc2VydE5vdERlZmluZWQocCwgbnMubmFtZSk7XG4gICAgdGhpcy5hc3NlcnROb3REZWZpbmVkKHAsIG5zLmxvY2FsTmFtZSk7XG4gIH1cblxuICBwcm9wc0J5TmFtZVtucy5uYW1lXSA9IHByb3BzQnlOYW1lW25zLmxvY2FsTmFtZV0gPSBwO1xufTtcblxuRGVzY3JpcHRvckJ1aWxkZXIucHJvdG90eXBlLnJlbW92ZU5hbWVkUHJvcGVydHkgPSBmdW5jdGlvbihwKSB7XG4gIHZhciBucyA9IHAubnMsXG4gICAgICBwcm9wc0J5TmFtZSA9IHRoaXMucHJvcGVydGllc0J5TmFtZTtcblxuICBkZWxldGUgcHJvcHNCeU5hbWVbbnMubmFtZV07XG4gIGRlbGV0ZSBwcm9wc0J5TmFtZVtucy5sb2NhbE5hbWVdO1xufTtcblxuRGVzY3JpcHRvckJ1aWxkZXIucHJvdG90eXBlLnNldEJvZHlQcm9wZXJ0eSA9IGZ1bmN0aW9uKHAsIHZhbGlkYXRlKSB7XG5cbiAgaWYgKHZhbGlkYXRlICYmIHRoaXMuYm9keVByb3BlcnR5KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgJ2JvZHkgcHJvcGVydHkgZGVmaW5lZCBtdWx0aXBsZSB0aW1lcyAnICtcbiAgICAgICcoPCcgKyB0aGlzLmJvZHlQcm9wZXJ0eS5ucy5uYW1lICsgJz4sIDwnICsgcC5ucy5uYW1lICsgJz4pJyk7XG4gIH1cblxuICB0aGlzLmJvZHlQcm9wZXJ0eSA9IHA7XG59O1xuXG5EZXNjcmlwdG9yQnVpbGRlci5wcm90b3R5cGUuc2V0SWRQcm9wZXJ0eSA9IGZ1bmN0aW9uKHAsIHZhbGlkYXRlKSB7XG5cbiAgaWYgKHZhbGlkYXRlICYmIHRoaXMuaWRQcm9wZXJ0eSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICdpZCBwcm9wZXJ0eSBkZWZpbmVkIG11bHRpcGxlIHRpbWVzICcgK1xuICAgICAgJyg8JyArIHRoaXMuaWRQcm9wZXJ0eS5ucy5uYW1lICsgJz4sIDwnICsgcC5ucy5uYW1lICsgJz4pJyk7XG4gIH1cblxuICB0aGlzLmlkUHJvcGVydHkgPSBwO1xufTtcblxuRGVzY3JpcHRvckJ1aWxkZXIucHJvdG90eXBlLmFzc2VydE5vdERlZmluZWQgPSBmdW5jdGlvbihwLCBuYW1lKSB7XG4gIHZhciBwcm9wZXJ0eU5hbWUgPSBwLm5hbWUsXG4gICAgICBkZWZpbmVkUHJvcGVydHkgPSB0aGlzLnByb3BlcnRpZXNCeU5hbWVbcHJvcGVydHlOYW1lXTtcblxuICBpZiAoZGVmaW5lZFByb3BlcnR5KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgJ3Byb3BlcnR5IDwnICsgcHJvcGVydHlOYW1lICsgJz4gYWxyZWFkeSBkZWZpbmVkOyAnICtcbiAgICAgICdvdmVycmlkZSBvZiA8JyArIGRlZmluZWRQcm9wZXJ0eS5kZWZpbmVkQnkubnMubmFtZSArICcjJyArIGRlZmluZWRQcm9wZXJ0eS5ucy5uYW1lICsgJz4gYnkgJyArXG4gICAgICAnPCcgKyBwLmRlZmluZWRCeS5ucy5uYW1lICsgJyMnICsgcC5ucy5uYW1lICsgJz4gbm90IGFsbG93ZWQgd2l0aG91dCByZWRlZmluZXMnKTtcbiAgfVxufTtcblxuRGVzY3JpcHRvckJ1aWxkZXIucHJvdG90eXBlLmhhc1Byb3BlcnR5ID0gZnVuY3Rpb24obmFtZSkge1xuICByZXR1cm4gdGhpcy5wcm9wZXJ0aWVzQnlOYW1lW25hbWVdO1xufTtcblxuRGVzY3JpcHRvckJ1aWxkZXIucHJvdG90eXBlLmFkZFRyYWl0ID0gZnVuY3Rpb24odCwgaW5oZXJpdGVkKSB7XG5cbiAgdmFyIHR5cGVzQnlOYW1lID0gdGhpcy5hbGxUeXBlc0J5TmFtZSxcbiAgICAgIHR5cGVzID0gdGhpcy5hbGxUeXBlcztcblxuICB2YXIgdHlwZU5hbWUgPSB0Lm5hbWU7XG5cbiAgaWYgKHR5cGVOYW1lIGluIHR5cGVzQnlOYW1lKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgZm9yRWFjaCh0LnByb3BlcnRpZXMsIGJpbmQoZnVuY3Rpb24ocCkge1xuXG4gICAgLy8gY2xvbmUgcHJvcGVydHkgdG8gYWxsb3cgZXh0ZW5zaW9uc1xuICAgIHAgPSBhc3NpZ24oe30sIHAsIHtcbiAgICAgIG5hbWU6IHAubnMubG9jYWxOYW1lLFxuICAgICAgaW5oZXJpdGVkOiBpbmhlcml0ZWRcbiAgICB9KTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwLCAnZGVmaW5lZEJ5Jywge1xuICAgICAgdmFsdWU6IHRcbiAgICB9KTtcblxuICAgIHZhciByZXBsYWNlcyA9IHAucmVwbGFjZXMsXG4gICAgICAgIHJlZGVmaW5lcyA9IHAucmVkZWZpbmVzO1xuXG4gICAgLy8gYWRkIHJlcGxhY2UvcmVkZWZpbmUgc3VwcG9ydFxuICAgIGlmIChyZXBsYWNlcyB8fCByZWRlZmluZXMpIHtcbiAgICAgIHRoaXMucmVkZWZpbmVQcm9wZXJ0eShwLCByZXBsYWNlcyB8fCByZWRlZmluZXMsIHJlcGxhY2VzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHAuaXNCb2R5KSB7XG4gICAgICAgIHRoaXMuc2V0Qm9keVByb3BlcnR5KHApO1xuICAgICAgfVxuICAgICAgaWYgKHAuaXNJZCkge1xuICAgICAgICB0aGlzLnNldElkUHJvcGVydHkocCk7XG4gICAgICB9XG4gICAgICB0aGlzLmFkZFByb3BlcnR5KHApO1xuICAgIH1cbiAgfSwgdGhpcykpO1xuXG4gIHR5cGVzLnB1c2godCk7XG4gIHR5cGVzQnlOYW1lW3R5cGVOYW1lXSA9IHQ7XG59O1xuXG4vKipcbiAqIEEgcmVnaXN0cnkgb2YgTW9kZGxlIHBhY2thZ2VzLlxuICpcbiAqIEBwYXJhbSB7QXJyYXk8UGFja2FnZT59IHBhY2thZ2VzXG4gKiBAcGFyYW0ge1Byb3BlcnRpZXN9IHByb3BlcnRpZXNcbiAqL1xuZnVuY3Rpb24gUmVnaXN0cnkocGFja2FnZXMsIHByb3BlcnRpZXMpIHtcbiAgdGhpcy5wYWNrYWdlTWFwID0ge307XG4gIHRoaXMudHlwZU1hcCA9IHt9O1xuXG4gIHRoaXMucGFja2FnZXMgPSBbXTtcblxuICB0aGlzLnByb3BlcnRpZXMgPSBwcm9wZXJ0aWVzO1xuXG4gIGZvckVhY2gocGFja2FnZXMsIGJpbmQodGhpcy5yZWdpc3RlclBhY2thZ2UsIHRoaXMpKTtcbn1cblxuXG5SZWdpc3RyeS5wcm90b3R5cGUuZ2V0UGFja2FnZSA9IGZ1bmN0aW9uKHVyaU9yUHJlZml4KSB7XG4gIHJldHVybiB0aGlzLnBhY2thZ2VNYXBbdXJpT3JQcmVmaXhdO1xufTtcblxuUmVnaXN0cnkucHJvdG90eXBlLmdldFBhY2thZ2VzID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnBhY2thZ2VzO1xufTtcblxuXG5SZWdpc3RyeS5wcm90b3R5cGUucmVnaXN0ZXJQYWNrYWdlID0gZnVuY3Rpb24ocGtnKSB7XG5cbiAgLy8gY29weSBwYWNrYWdlXG4gIHBrZyA9IGFzc2lnbih7fSwgcGtnKTtcblxuICB2YXIgcGtnTWFwID0gdGhpcy5wYWNrYWdlTWFwO1xuXG4gIGVuc3VyZUF2YWlsYWJsZShwa2dNYXAsIHBrZywgJ3ByZWZpeCcpO1xuICBlbnN1cmVBdmFpbGFibGUocGtnTWFwLCBwa2csICd1cmknKTtcblxuICAvLyByZWdpc3RlciB0eXBlc1xuICBmb3JFYWNoKHBrZy50eXBlcywgYmluZChmdW5jdGlvbihkZXNjcmlwdG9yKSB7XG4gICAgdGhpcy5yZWdpc3RlclR5cGUoZGVzY3JpcHRvciwgcGtnKTtcbiAgfSwgdGhpcykpO1xuXG4gIHBrZ01hcFtwa2cudXJpXSA9IHBrZ01hcFtwa2cucHJlZml4XSA9IHBrZztcbiAgdGhpcy5wYWNrYWdlcy5wdXNoKHBrZyk7XG59O1xuXG5cbi8qKlxuICogUmVnaXN0ZXIgYSB0eXBlIGZyb20gYSBzcGVjaWZpYyBwYWNrYWdlIHdpdGggdXNcbiAqL1xuUmVnaXN0cnkucHJvdG90eXBlLnJlZ2lzdGVyVHlwZSA9IGZ1bmN0aW9uKHR5cGUsIHBrZykge1xuXG4gIHR5cGUgPSBhc3NpZ24oe30sIHR5cGUsIHtcbiAgICBzdXBlckNsYXNzOiAodHlwZS5zdXBlckNsYXNzIHx8IFtdKS5zbGljZSgpLFxuICAgIGV4dGVuZHM6ICh0eXBlLmV4dGVuZHMgfHwgW10pLnNsaWNlKCksXG4gICAgcHJvcGVydGllczogKHR5cGUucHJvcGVydGllcyB8fCBbXSkuc2xpY2UoKSxcbiAgICBtZXRhOiBhc3NpZ24oKHR5cGUubWV0YSB8fCB7fSkpXG4gIH0pO1xuXG4gIHZhciBucyA9IHBhcnNlTmFtZSh0eXBlLm5hbWUsIHBrZy5wcmVmaXgpLFxuICAgICAgbmFtZSA9IG5zLm5hbWUsXG4gICAgICBwcm9wZXJ0aWVzQnlOYW1lID0ge307XG5cbiAgLy8gcGFyc2UgcHJvcGVydGllc1xuICBmb3JFYWNoKHR5cGUucHJvcGVydGllcywgYmluZChmdW5jdGlvbihwKSB7XG5cbiAgICAvLyBuYW1lc3BhY2UgcHJvcGVydHkgbmFtZXNcbiAgICB2YXIgcHJvcGVydHlOcyA9IHBhcnNlTmFtZShwLm5hbWUsIG5zLnByZWZpeCksXG4gICAgICAgIHByb3BlcnR5TmFtZSA9IHByb3BlcnR5TnMubmFtZTtcblxuICAgIC8vIG5hbWVzcGFjZSBwcm9wZXJ0eSB0eXBlc1xuICAgIGlmICghaXNCdWlsdEluKHAudHlwZSkpIHtcbiAgICAgIHAudHlwZSA9IHBhcnNlTmFtZShwLnR5cGUsIHByb3BlcnR5TnMucHJlZml4KS5uYW1lO1xuICAgIH1cblxuICAgIGFzc2lnbihwLCB7XG4gICAgICBuczogcHJvcGVydHlOcyxcbiAgICAgIG5hbWU6IHByb3BlcnR5TmFtZVxuICAgIH0pO1xuXG4gICAgcHJvcGVydGllc0J5TmFtZVtwcm9wZXJ0eU5hbWVdID0gcDtcbiAgfSwgdGhpcykpO1xuXG4gIC8vIHVwZGF0ZSBucyArIG5hbWVcbiAgYXNzaWduKHR5cGUsIHtcbiAgICBuczogbnMsXG4gICAgbmFtZTogbmFtZSxcbiAgICBwcm9wZXJ0aWVzQnlOYW1lOiBwcm9wZXJ0aWVzQnlOYW1lXG4gIH0pO1xuXG4gIGZvckVhY2godHlwZS5leHRlbmRzLCBiaW5kKGZ1bmN0aW9uKGV4dGVuZHNOYW1lKSB7XG4gICAgdmFyIGV4dGVuZGVkID0gdGhpcy50eXBlTWFwW2V4dGVuZHNOYW1lXTtcblxuICAgIGV4dGVuZGVkLnRyYWl0cyA9IGV4dGVuZGVkLnRyYWl0cyB8fCBbXTtcbiAgICBleHRlbmRlZC50cmFpdHMucHVzaChuYW1lKTtcbiAgfSwgdGhpcykpO1xuXG4gIC8vIGxpbmsgdG8gcGFja2FnZVxuICB0aGlzLmRlZmluZVBhY2thZ2UodHlwZSwgcGtnKTtcblxuICAvLyByZWdpc3RlclxuICB0aGlzLnR5cGVNYXBbbmFtZV0gPSB0eXBlO1xufTtcblxuXG4vKipcbiAqIFRyYXZlcnNlIHRoZSB0eXBlIGhpZXJhcmNoeSBmcm9tIGJvdHRvbSB0byB0b3AsXG4gKiBjYWxsaW5nIGl0ZXJhdG9yIHdpdGggKHR5cGUsIGluaGVyaXRlZCkgZm9yIGFsbCBlbGVtZW50cyBpblxuICogdGhlIGluaGVyaXRhbmNlIGNoYWluLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBuc05hbWVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdG9yXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFt0cmFpdD1mYWxzZV1cbiAqL1xuUmVnaXN0cnkucHJvdG90eXBlLm1hcFR5cGVzID0gZnVuY3Rpb24obnNOYW1lLCBpdGVyYXRvciwgdHJhaXQpIHtcblxuICB2YXIgdHlwZSA9IGlzQnVpbHRJbihuc05hbWUubmFtZSkgPyB7IG5hbWU6IG5zTmFtZS5uYW1lIH0gOiB0aGlzLnR5cGVNYXBbbnNOYW1lLm5hbWVdO1xuXG4gIHZhciBzZWxmID0gdGhpcztcblxuICAvKipcbiAgICogVHJhdmVyc2UgdGhlIHNlbGVjdGVkIHRyYWl0LlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gY2xzXG4gICAqL1xuICBmdW5jdGlvbiB0cmF2ZXJzZVRyYWl0KGNscykge1xuICAgIHJldHVybiB0cmF2ZXJzZVN1cGVyKGNscywgdHJ1ZSk7XG4gIH1cblxuICAvKipcbiAgICogVHJhdmVyc2UgdGhlIHNlbGVjdGVkIHN1cGVyIHR5cGUgb3IgdHJhaXRcbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IGNsc1xuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFt0cmFpdD1mYWxzZV1cbiAgICovXG4gIGZ1bmN0aW9uIHRyYXZlcnNlU3VwZXIoY2xzLCB0cmFpdCkge1xuICAgIHZhciBwYXJlbnROcyA9IHBhcnNlTmFtZShjbHMsIGlzQnVpbHRJbihjbHMpID8gJycgOiBuc05hbWUucHJlZml4KTtcbiAgICBzZWxmLm1hcFR5cGVzKHBhcmVudE5zLCBpdGVyYXRvciwgdHJhaXQpO1xuICB9XG5cbiAgaWYgKCF0eXBlKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCd1bmtub3duIHR5cGUgPCcgKyBuc05hbWUubmFtZSArICc+Jyk7XG4gIH1cblxuICBmb3JFYWNoKHR5cGUuc3VwZXJDbGFzcywgdHJhaXQgPyB0cmF2ZXJzZVRyYWl0IDogdHJhdmVyc2VTdXBlcik7XG5cbiAgLy8gY2FsbCBpdGVyYXRvciB3aXRoICh0eXBlLCBpbmhlcml0ZWQ9IXRyYWl0KVxuICBpdGVyYXRvcih0eXBlLCAhdHJhaXQpO1xuXG4gIGZvckVhY2godHlwZS50cmFpdHMsIHRyYXZlcnNlVHJhaXQpO1xufTtcblxuXG4vKipcbiAqIFJldHVybnMgdGhlIGVmZmVjdGl2ZSBkZXNjcmlwdG9yIGZvciBhIHR5cGUuXG4gKlxuICogQHBhcmFtICB7U3RyaW5nfSB0eXBlIHRoZSBuYW1lc3BhY2VkIG5hbWUgKG5zOmxvY2FsTmFtZSkgb2YgdGhlIHR5cGVcbiAqXG4gKiBAcmV0dXJuIHtEZXNjcmlwdG9yfSB0aGUgcmVzdWx0aW5nIGVmZmVjdGl2ZSBkZXNjcmlwdG9yXG4gKi9cblJlZ2lzdHJ5LnByb3RvdHlwZS5nZXRFZmZlY3RpdmVEZXNjcmlwdG9yID0gZnVuY3Rpb24obmFtZSkge1xuXG4gIHZhciBuc05hbWUgPSBwYXJzZU5hbWUobmFtZSk7XG5cbiAgdmFyIGJ1aWxkZXIgPSBuZXcgRGVzY3JpcHRvckJ1aWxkZXIobnNOYW1lKTtcblxuICB0aGlzLm1hcFR5cGVzKG5zTmFtZSwgZnVuY3Rpb24odHlwZSwgaW5oZXJpdGVkKSB7XG4gICAgYnVpbGRlci5hZGRUcmFpdCh0eXBlLCBpbmhlcml0ZWQpO1xuICB9KTtcblxuICB2YXIgZGVzY3JpcHRvciA9IGJ1aWxkZXIuYnVpbGQoKTtcblxuICAvLyBkZWZpbmUgcGFja2FnZSBsaW5rXG4gIHRoaXMuZGVmaW5lUGFja2FnZShkZXNjcmlwdG9yLCBkZXNjcmlwdG9yLmFsbFR5cGVzW2Rlc2NyaXB0b3IuYWxsVHlwZXMubGVuZ3RoIC0gMV0uJHBrZyk7XG5cbiAgcmV0dXJuIGRlc2NyaXB0b3I7XG59O1xuXG5cblJlZ2lzdHJ5LnByb3RvdHlwZS5kZWZpbmVQYWNrYWdlID0gZnVuY3Rpb24odGFyZ2V0LCBwa2cpIHtcbiAgdGhpcy5wcm9wZXJ0aWVzLmRlZmluZSh0YXJnZXQsICckcGtnJywgeyB2YWx1ZTogcGtnIH0pO1xufTtcblxuXG5cbi8vLy8vLy8vLyBoZWxwZXJzIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuZnVuY3Rpb24gZW5zdXJlQXZhaWxhYmxlKHBhY2thZ2VNYXAsIHBrZywgaWRlbnRpZmllcktleSkge1xuXG4gIHZhciB2YWx1ZSA9IHBrZ1tpZGVudGlmaWVyS2V5XTtcblxuICBpZiAodmFsdWUgaW4gcGFja2FnZU1hcCkge1xuICAgIHRocm93IG5ldyBFcnJvcigncGFja2FnZSB3aXRoICcgKyBpZGVudGlmaWVyS2V5ICsgJyA8JyArIHZhbHVlICsgJz4gYWxyZWFkeSBkZWZpbmVkJyk7XG4gIH1cbn1cblxuLyoqXG4gKiBBIHV0aWxpdHkgdGhhdCBnZXRzIGFuZCBzZXRzIHByb3BlcnRpZXMgb2YgbW9kZWwgZWxlbWVudHMuXG4gKlxuICogQHBhcmFtIHtNb2RlbH0gbW9kZWxcbiAqL1xuZnVuY3Rpb24gUHJvcGVydGllcyhtb2RlbCkge1xuICB0aGlzLm1vZGVsID0gbW9kZWw7XG59XG5cblxuLyoqXG4gKiBTZXRzIGEgbmFtZWQgcHJvcGVydHkgb24gdGhlIHRhcmdldCBlbGVtZW50LlxuICogSWYgdGhlIHZhbHVlIGlzIHVuZGVmaW5lZCwgdGhlIHByb3BlcnR5IGdldHMgZGVsZXRlZC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdGFyZ2V0XG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZVxuICogQHBhcmFtIHtPYmplY3R9IHZhbHVlXG4gKi9cblByb3BlcnRpZXMucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uKHRhcmdldCwgbmFtZSwgdmFsdWUpIHtcblxuICB2YXIgcHJvcGVydHkgPSB0aGlzLm1vZGVsLmdldFByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIG5hbWUpO1xuXG4gIHZhciBwcm9wZXJ0eU5hbWUgPSBwcm9wZXJ0eSAmJiBwcm9wZXJ0eS5uYW1lO1xuXG4gIGlmIChpc1VuZGVmaW5lZCh2YWx1ZSkpIHtcbiAgICAvLyB1bnNldCB0aGUgcHJvcGVydHksIGlmIHRoZSBzcGVjaWZpZWQgdmFsdWUgaXMgdW5kZWZpbmVkO1xuICAgIC8vIGRlbGV0ZSBmcm9tICRhdHRycyAoZm9yIGV4dGVuc2lvbnMpIG9yIHRoZSB0YXJnZXQgaXRzZWxmXG4gICAgaWYgKHByb3BlcnR5KSB7XG4gICAgICBkZWxldGUgdGFyZ2V0W3Byb3BlcnR5TmFtZV07XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlbGV0ZSB0YXJnZXQuJGF0dHJzW25hbWVdO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBzZXQgdGhlIHByb3BlcnR5LCBkZWZpbmluZyB3ZWxsIGRlZmluZWQgcHJvcGVydGllcyBvbiB0aGUgZmx5XG4gICAgLy8gb3Igc2ltcGx5IHVwZGF0aW5nIHRoZW0gaW4gdGFyZ2V0LiRhdHRycyAoZm9yIGV4dGVuc2lvbnMpXG4gICAgaWYgKHByb3BlcnR5KSB7XG4gICAgICBpZiAocHJvcGVydHlOYW1lIGluIHRhcmdldCkge1xuICAgICAgICB0YXJnZXRbcHJvcGVydHlOYW1lXSA9IHZhbHVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0YXJnZXQuJGF0dHJzW25hbWVdID0gdmFsdWU7XG4gICAgfVxuICB9XG59O1xuXG4vKipcbiAqIFJldHVybnMgdGhlIG5hbWVkIHByb3BlcnR5IG9mIHRoZSBnaXZlbiBlbGVtZW50XG4gKlxuICogQHBhcmFtICB7T2JqZWN0fSB0YXJnZXRcbiAqIEBwYXJhbSAge1N0cmluZ30gbmFtZVxuICpcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuUHJvcGVydGllcy5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24odGFyZ2V0LCBuYW1lKSB7XG5cbiAgdmFyIHByb3BlcnR5ID0gdGhpcy5tb2RlbC5nZXRQcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBuYW1lKTtcblxuICBpZiAoIXByb3BlcnR5KSB7XG4gICAgcmV0dXJuIHRhcmdldC4kYXR0cnNbbmFtZV07XG4gIH1cblxuICB2YXIgcHJvcGVydHlOYW1lID0gcHJvcGVydHkubmFtZTtcblxuICAvLyBjaGVjayBpZiBhY2Nlc3MgdG8gY29sbGVjdGlvbiBwcm9wZXJ0eSBhbmQgbGF6aWx5IGluaXRpYWxpemUgaXRcbiAgaWYgKCF0YXJnZXRbcHJvcGVydHlOYW1lXSAmJiBwcm9wZXJ0eS5pc01hbnkpIHtcbiAgICBkZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCBbXSk7XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0W3Byb3BlcnR5TmFtZV07XG59O1xuXG5cbi8qKlxuICogRGVmaW5lIGEgcHJvcGVydHkgb24gdGhlIHRhcmdldCBlbGVtZW50XG4gKlxuICogQHBhcmFtICB7T2JqZWN0fSB0YXJnZXRcbiAqIEBwYXJhbSAge1N0cmluZ30gbmFtZVxuICogQHBhcmFtICB7T2JqZWN0fSBvcHRpb25zXG4gKi9cblByb3BlcnRpZXMucHJvdG90eXBlLmRlZmluZSA9IGZ1bmN0aW9uKHRhcmdldCwgbmFtZSwgb3B0aW9ucykge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBuYW1lLCBvcHRpb25zKTtcbn07XG5cblxuLyoqXG4gKiBEZWZpbmUgdGhlIGRlc2NyaXB0b3IgZm9yIGFuIGVsZW1lbnRcbiAqL1xuUHJvcGVydGllcy5wcm90b3R5cGUuZGVmaW5lRGVzY3JpcHRvciA9IGZ1bmN0aW9uKHRhcmdldCwgZGVzY3JpcHRvcikge1xuICB0aGlzLmRlZmluZSh0YXJnZXQsICckZGVzY3JpcHRvcicsIHsgdmFsdWU6IGRlc2NyaXB0b3IgfSk7XG59O1xuXG4vKipcbiAqIERlZmluZSB0aGUgbW9kZWwgZm9yIGFuIGVsZW1lbnRcbiAqL1xuUHJvcGVydGllcy5wcm90b3R5cGUuZGVmaW5lTW9kZWwgPSBmdW5jdGlvbih0YXJnZXQsIG1vZGVsKSB7XG4gIHRoaXMuZGVmaW5lKHRhcmdldCwgJyRtb2RlbCcsIHsgdmFsdWU6IG1vZGVsIH0pO1xufTtcblxuXG5mdW5jdGlvbiBpc1VuZGVmaW5lZCh2YWwpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWwgPT09ICd1bmRlZmluZWQnO1xufVxuXG5mdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCB2YWx1ZSkge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eS5uYW1lLCB7XG4gICAgZW51bWVyYWJsZTogIXByb3BlcnR5LmlzUmVmZXJlbmNlLFxuICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgIHZhbHVlOiB2YWx1ZSxcbiAgICBjb25maWd1cmFibGU6IHRydWVcbiAgfSk7XG59XG5cbi8vLy8gTW9kZGxlIGltcGxlbWVudGF0aW9uIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLyoqXG4gKiBAY2xhc3MgTW9kZGxlXG4gKlxuICogQSBtb2RlbCB0aGF0IGNhbiBiZSB1c2VkIHRvIGNyZWF0ZSBlbGVtZW50cyBvZiBhIHNwZWNpZmljIHR5cGUuXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgTW9kZGxlID0gcmVxdWlyZSgnbW9kZGxlJyk7XG4gKlxuICogdmFyIHBrZyA9IHtcbiAqICAgbmFtZTogJ215cGFja2FnZScsXG4gKiAgIHByZWZpeDogJ215JyxcbiAqICAgdHlwZXM6IFtcbiAqICAgICB7IG5hbWU6ICdSb290JyB9XG4gKiAgIF1cbiAqIH07XG4gKlxuICogdmFyIG1vZGRsZSA9IG5ldyBNb2RkbGUoW3BrZ10pO1xuICpcbiAqIEBwYXJhbSB7QXJyYXk8UGFja2FnZT59IHBhY2thZ2VzIHRoZSBwYWNrYWdlcyB0byBjb250YWluXG4gKi9cbmZ1bmN0aW9uIE1vZGRsZShwYWNrYWdlcykge1xuXG4gIHRoaXMucHJvcGVydGllcyA9IG5ldyBQcm9wZXJ0aWVzKHRoaXMpO1xuXG4gIHRoaXMuZmFjdG9yeSA9IG5ldyBGYWN0b3J5KHRoaXMsIHRoaXMucHJvcGVydGllcyk7XG4gIHRoaXMucmVnaXN0cnkgPSBuZXcgUmVnaXN0cnkocGFja2FnZXMsIHRoaXMucHJvcGVydGllcyk7XG5cbiAgdGhpcy50eXBlQ2FjaGUgPSB7fTtcbn1cblxuXG4vKipcbiAqIENyZWF0ZSBhbiBpbnN0YW5jZSBvZiB0aGUgc3BlY2lmaWVkIHR5cGUuXG4gKlxuICogQG1ldGhvZCBNb2RkbGUjY3JlYXRlXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgZm9vID0gbW9kZGxlLmNyZWF0ZSgnbXk6Rm9vJyk7XG4gKiB2YXIgYmFyID0gbW9kZGxlLmNyZWF0ZSgnbXk6QmFyJywgeyBpZDogJ0JBUl8xJyB9KTtcbiAqXG4gKiBAcGFyYW0gIHtTdHJpbmd8T2JqZWN0fSBkZXNjcmlwdG9yIHRoZSB0eXBlIGRlc2NyaXB0b3Igb3IgbmFtZSBrbm93IHRvIHRoZSBtb2RlbFxuICogQHBhcmFtICB7T2JqZWN0fSBhdHRycyAgIGEgbnVtYmVyIG9mIGF0dHJpYnV0ZXMgdG8gaW5pdGlhbGl6ZSB0aGUgbW9kZWwgaW5zdGFuY2Ugd2l0aFxuICogQHJldHVybiB7T2JqZWN0fSAgICAgICAgIG1vZGVsIGluc3RhbmNlXG4gKi9cbk1vZGRsZS5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24oZGVzY3JpcHRvciwgYXR0cnMpIHtcbiAgdmFyIFR5cGUgPSB0aGlzLmdldFR5cGUoZGVzY3JpcHRvcik7XG5cbiAgaWYgKCFUeXBlKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCd1bmtub3duIHR5cGUgPCcgKyBkZXNjcmlwdG9yICsgJz4nKTtcbiAgfVxuXG4gIHJldHVybiBuZXcgVHlwZShhdHRycyk7XG59O1xuXG5cbi8qKlxuICogUmV0dXJucyB0aGUgdHlwZSByZXByZXNlbnRpbmcgYSBnaXZlbiBkZXNjcmlwdG9yXG4gKlxuICogQG1ldGhvZCBNb2RkbGUjZ2V0VHlwZVxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIEZvbyA9IG1vZGRsZS5nZXRUeXBlKCdteTpGb28nKTtcbiAqIHZhciBmb28gPSBuZXcgRm9vKHsgJ2lkJyA6ICdGT09fMScgfSk7XG4gKlxuICogQHBhcmFtICB7U3RyaW5nfE9iamVjdH0gZGVzY3JpcHRvciB0aGUgdHlwZSBkZXNjcmlwdG9yIG9yIG5hbWUga25vdyB0byB0aGUgbW9kZWxcbiAqIEByZXR1cm4ge09iamVjdH0gICAgICAgICB0aGUgdHlwZSByZXByZXNlbnRpbmcgdGhlIGRlc2NyaXB0b3JcbiAqL1xuTW9kZGxlLnByb3RvdHlwZS5nZXRUeXBlID0gZnVuY3Rpb24oZGVzY3JpcHRvcikge1xuXG4gIHZhciBjYWNoZSA9IHRoaXMudHlwZUNhY2hlO1xuXG4gIHZhciBuYW1lID0gaXNTdHJpbmcoZGVzY3JpcHRvcikgPyBkZXNjcmlwdG9yIDogZGVzY3JpcHRvci5ucy5uYW1lO1xuXG4gIHZhciB0eXBlID0gY2FjaGVbbmFtZV07XG5cbiAgaWYgKCF0eXBlKSB7XG4gICAgZGVzY3JpcHRvciA9IHRoaXMucmVnaXN0cnkuZ2V0RWZmZWN0aXZlRGVzY3JpcHRvcihuYW1lKTtcbiAgICB0eXBlID0gY2FjaGVbbmFtZV0gPSB0aGlzLmZhY3RvcnkuY3JlYXRlVHlwZShkZXNjcmlwdG9yKTtcbiAgfVxuXG4gIHJldHVybiB0eXBlO1xufTtcblxuXG4vKipcbiAqIENyZWF0ZXMgYW4gYW55LWVsZW1lbnQgdHlwZSB0byBiZSB1c2VkIHdpdGhpbiBtb2RlbCBpbnN0YW5jZXMuXG4gKlxuICogVGhpcyBjYW4gYmUgdXNlZCB0byBjcmVhdGUgY3VzdG9tIGVsZW1lbnRzIHRoYXQgbGllIG91dHNpZGUgdGhlIG1ldGEtbW9kZWwuXG4gKiBUaGUgY3JlYXRlZCBlbGVtZW50IGNvbnRhaW5zIGFsbCB0aGUgbWV0YS1kYXRhIHJlcXVpcmVkIHRvIHNlcmlhbGl6ZSBpdFxuICogYXMgcGFydCBvZiBtZXRhLW1vZGVsIGVsZW1lbnRzLlxuICpcbiAqIEBtZXRob2QgTW9kZGxlI2NyZWF0ZUFueVxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIGZvbyA9IG1vZGRsZS5jcmVhdGVBbnkoJ3ZlbmRvcjpGb28nLCAnaHR0cDovL3ZlbmRvcicsIHtcbiAqICAgdmFsdWU6ICdiYXInXG4gKiB9KTtcbiAqXG4gKiB2YXIgY29udGFpbmVyID0gbW9kZGxlLmNyZWF0ZSgnbXk6Q29udGFpbmVyJywgJ2h0dHA6Ly9teScsIHtcbiAqICAgYW55OiBbIGZvbyBdXG4gKiB9KTtcbiAqXG4gKiAvLyBnbyBhaGVhZCBhbmQgc2VyaWFsaXplIHRoZSBzdHVmZlxuICpcbiAqXG4gKiBAcGFyYW0gIHtTdHJpbmd9IG5hbWUgIHRoZSBuYW1lIG9mIHRoZSBlbGVtZW50XG4gKiBAcGFyYW0gIHtTdHJpbmd9IG5zVXJpIHRoZSBuYW1lc3BhY2UgdXJpIG9mIHRoZSBlbGVtZW50XG4gKiBAcGFyYW0gIHtPYmplY3R9IFtwcm9wZXJ0aWVzXSBhIG1hcCBvZiBwcm9wZXJ0aWVzIHRvIGluaXRpYWxpemUgdGhlIGluc3RhbmNlIHdpdGhcbiAqIEByZXR1cm4ge09iamVjdH0gdGhlIGFueSB0eXBlIGluc3RhbmNlXG4gKi9cbk1vZGRsZS5wcm90b3R5cGUuY3JlYXRlQW55ID0gZnVuY3Rpb24obmFtZSwgbnNVcmksIHByb3BlcnRpZXMpIHtcblxuICB2YXIgbmFtZU5zID0gcGFyc2VOYW1lKG5hbWUpO1xuXG4gIHZhciBlbGVtZW50ID0ge1xuICAgICR0eXBlOiBuYW1lLFxuICAgICRpbnN0YW5jZU9mOiBmdW5jdGlvbih0eXBlKSB7XG4gICAgICByZXR1cm4gdHlwZSA9PT0gdGhpcy4kdHlwZTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGRlc2NyaXB0b3IgPSB7XG4gICAgbmFtZTogbmFtZSxcbiAgICBpc0dlbmVyaWM6IHRydWUsXG4gICAgbnM6IHtcbiAgICAgIHByZWZpeDogbmFtZU5zLnByZWZpeCxcbiAgICAgIGxvY2FsTmFtZTogbmFtZU5zLmxvY2FsTmFtZSxcbiAgICAgIHVyaTogbnNVcmlcbiAgICB9XG4gIH07XG5cbiAgdGhpcy5wcm9wZXJ0aWVzLmRlZmluZURlc2NyaXB0b3IoZWxlbWVudCwgZGVzY3JpcHRvcik7XG4gIHRoaXMucHJvcGVydGllcy5kZWZpbmVNb2RlbChlbGVtZW50LCB0aGlzKTtcbiAgdGhpcy5wcm9wZXJ0aWVzLmRlZmluZShlbGVtZW50LCAnJHBhcmVudCcsIHsgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlIH0pO1xuXG4gIGZvckVhY2gocHJvcGVydGllcywgZnVuY3Rpb24oYSwga2V5KSB7XG4gICAgaWYgKGlzT2JqZWN0KGEpICYmIGEudmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgZWxlbWVudFthLm5hbWVdID0gYS52YWx1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgZWxlbWVudFtrZXldID0gYTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBlbGVtZW50O1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIGEgcmVnaXN0ZXJlZCBwYWNrYWdlIGJ5IHVyaSBvciBwcmVmaXhcbiAqXG4gKiBAcmV0dXJuIHtPYmplY3R9IHRoZSBwYWNrYWdlXG4gKi9cbk1vZGRsZS5wcm90b3R5cGUuZ2V0UGFja2FnZSA9IGZ1bmN0aW9uKHVyaU9yUHJlZml4KSB7XG4gIHJldHVybiB0aGlzLnJlZ2lzdHJ5LmdldFBhY2thZ2UodXJpT3JQcmVmaXgpO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIGEgc25hcHNob3Qgb2YgYWxsIGtub3duIHBhY2thZ2VzXG4gKlxuICogQHJldHVybiB7T2JqZWN0fSB0aGUgcGFja2FnZVxuICovXG5Nb2RkbGUucHJvdG90eXBlLmdldFBhY2thZ2VzID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnJlZ2lzdHJ5LmdldFBhY2thZ2VzKCk7XG59O1xuXG4vKipcbiAqIFJldHVybnMgdGhlIGRlc2NyaXB0b3IgZm9yIGFuIGVsZW1lbnRcbiAqL1xuTW9kZGxlLnByb3RvdHlwZS5nZXRFbGVtZW50RGVzY3JpcHRvciA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgcmV0dXJuIGVsZW1lbnQuJGRlc2NyaXB0b3I7XG59O1xuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gZGVzY3JpcHRvciBvciBpbnN0YW5jZVxuICogcmVwcmVzZW50cyB0aGUgZ2l2ZW4gdHlwZS5cbiAqXG4gKiBNYXkgYmUgYXBwbGllZCB0byB0aGlzLCBpZiBlbGVtZW50IGlzIG9taXR0ZWQuXG4gKi9cbk1vZGRsZS5wcm90b3R5cGUuaGFzVHlwZSA9IGZ1bmN0aW9uKGVsZW1lbnQsIHR5cGUpIHtcbiAgaWYgKHR5cGUgPT09IHVuZGVmaW5lZCkge1xuICAgIHR5cGUgPSBlbGVtZW50O1xuICAgIGVsZW1lbnQgPSB0aGlzO1xuICB9XG5cbiAgdmFyIGRlc2NyaXB0b3IgPSBlbGVtZW50LiRtb2RlbC5nZXRFbGVtZW50RGVzY3JpcHRvcihlbGVtZW50KTtcblxuICByZXR1cm4gKHR5cGUgaW4gZGVzY3JpcHRvci5hbGxUeXBlc0J5TmFtZSk7XG59O1xuXG4vKipcbiAqIFJldHVybnMgdGhlIGRlc2NyaXB0b3Igb2YgYW4gZWxlbWVudHMgbmFtZWQgcHJvcGVydHlcbiAqL1xuTW9kZGxlLnByb3RvdHlwZS5nZXRQcm9wZXJ0eURlc2NyaXB0b3IgPSBmdW5jdGlvbihlbGVtZW50LCBwcm9wZXJ0eSkge1xuICByZXR1cm4gdGhpcy5nZXRFbGVtZW50RGVzY3JpcHRvcihlbGVtZW50KS5wcm9wZXJ0aWVzQnlOYW1lW3Byb3BlcnR5XTtcbn07XG5cbi8qKlxuICogUmV0dXJucyBhIG1hcHBlZCB0eXBlJ3MgZGVzY3JpcHRvclxuICovXG5Nb2RkbGUucHJvdG90eXBlLmdldFR5cGVEZXNjcmlwdG9yID0gZnVuY3Rpb24odHlwZSkge1xuICByZXR1cm4gdGhpcy5yZWdpc3RyeS50eXBlTWFwW3R5cGVdO1xufTtcblxuZXhwb3J0IHsgTW9kZGxlLCBjb2VyY2VUeXBlLCBpc0J1aWx0SW4gYXMgaXNCdWlsdEluVHlwZSwgaXNTaW1wbGUgYXMgaXNTaW1wbGVUeXBlLCBwYXJzZU5hbWUgYXMgcGFyc2VOYW1lTlMgfTtcbiIsInZhciBmcm9tQ2hhckNvZGUgPSBTdHJpbmcuZnJvbUNoYXJDb2RlO1xuXG52YXIgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuXG52YXIgRU5USVRZX1BBVFRFUk4gPSAvJiMoXFxkKyk7fCYjeChbMC05YS1mXSspO3wmKFxcdyspOy9pZztcblxudmFyIEVOVElUWV9NQVBQSU5HID0ge1xuICAnYW1wJzogJyYnLFxuICAnYXBvcyc6ICdcXCcnLFxuICAnZ3QnOiAnPicsXG4gICdsdCc6ICc8JyxcbiAgJ3F1b3QnOiAnXCInXG59O1xuXG4vLyBtYXAgVVBQRVJDQVNFIHZhcmlhbnRzIG9mIHN1cHBvcnRlZCBzcGVjaWFsIGNoYXJzXG5PYmplY3Qua2V5cyhFTlRJVFlfTUFQUElORykuZm9yRWFjaChmdW5jdGlvbihrKSB7XG4gIEVOVElUWV9NQVBQSU5HW2sudG9VcHBlckNhc2UoKV0gPSBFTlRJVFlfTUFQUElOR1trXTtcbn0pO1xuXG5cbmZ1bmN0aW9uIHJlcGxhY2VFbnRpdGllcyhfLCBkLCB4LCB6KSB7XG5cbiAgLy8gcmVzZXJ2ZWQgbmFtZXMsIGkuZS4gJm5ic3A7XG4gIGlmICh6KSB7XG4gICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoRU5USVRZX01BUFBJTkcsIHopKSB7XG4gICAgICByZXR1cm4gRU5USVRZX01BUFBJTkdbel07XG4gICAgfSBlbHNlIHtcblxuICAgICAgLy8gZmFsbCBiYWNrIHRvIG9yaWdpbmFsIHZhbHVlXG4gICAgICByZXR1cm4gJyYnICsgeiArICc7JztcbiAgICB9XG4gIH1cblxuICAvLyBkZWNpbWFsIGVuY29kZWQgY2hhclxuICBpZiAoZCkge1xuICAgIHJldHVybiBmcm9tQ2hhckNvZGUoZCk7XG4gIH1cblxuICAvLyBoZXggZW5jb2RlZCBjaGFyXG4gIHJldHVybiBmcm9tQ2hhckNvZGUocGFyc2VJbnQoeCwgMTYpKTtcbn1cblxuXG4vKipcbiAqIEEgYmFzaWMgZW50aXR5IGRlY29kZXIgdGhhdCBjYW4gZGVjb2RlIGEgbWluaW1hbFxuICogc3ViLXNldCBvZiByZXNlcnZlZCBuYW1lcyAoJmFtcDspIGFzIHdlbGwgYXNcbiAqIGhleCAoJiN4YWFmOykgYW5kIGRlY2ltYWwgKCYjMTIzMTspIGVuY29kZWQgY2hhcmFjdGVycy5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyXG4gKlxuICogQHJldHVybiB7c3RyaW5nfSBkZWNvZGVkIHN0cmluZ1xuICovXG5mdW5jdGlvbiBkZWNvZGVFbnRpdGllcyhzKSB7XG4gIGlmIChzLmxlbmd0aCA+IDMgJiYgcy5pbmRleE9mKCcmJykgIT09IC0xKSB7XG4gICAgcmV0dXJuIHMucmVwbGFjZShFTlRJVFlfUEFUVEVSTiwgcmVwbGFjZUVudGl0aWVzKTtcbiAgfVxuXG4gIHJldHVybiBzO1xufVxuXG52YXIgWFNJX1VSSSA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYS1pbnN0YW5jZSc7XG52YXIgWFNJX1BSRUZJWCA9ICd4c2knO1xudmFyIFhTSV9UWVBFID0gJ3hzaTp0eXBlJztcblxudmFyIE5PTl9XSElURVNQQUNFX09VVFNJREVfUk9PVF9OT0RFID0gJ25vbi13aGl0ZXNwYWNlIG91dHNpZGUgb2Ygcm9vdCBub2RlJztcblxuZnVuY3Rpb24gZXJyb3IobXNnKSB7XG4gIHJldHVybiBuZXcgRXJyb3IobXNnKTtcbn1cblxuZnVuY3Rpb24gbWlzc2luZ05hbWVzcGFjZUZvclByZWZpeChwcmVmaXgpIHtcbiAgcmV0dXJuICdtaXNzaW5nIG5hbWVzcGFjZSBmb3IgcHJlZml4IDwnICsgcHJlZml4ICsgJz4nO1xufVxuXG5mdW5jdGlvbiBnZXR0ZXIoZ2V0Rm4pIHtcbiAgcmV0dXJuIHtcbiAgICAnZ2V0JzogZ2V0Rm4sXG4gICAgJ2VudW1lcmFibGUnOiB0cnVlXG4gIH07XG59XG5cbmZ1bmN0aW9uIGNsb25lTnNNYXRyaXgobnNNYXRyaXgpIHtcbiAgdmFyIGNsb25lID0ge30sIGtleTtcbiAgZm9yIChrZXkgaW4gbnNNYXRyaXgpIHtcbiAgICBjbG9uZVtrZXldID0gbnNNYXRyaXhba2V5XTtcbiAgfVxuICByZXR1cm4gY2xvbmU7XG59XG5cbmZ1bmN0aW9uIHVyaVByZWZpeChwcmVmaXgpIHtcbiAgcmV0dXJuIHByZWZpeCArICckdXJpJztcbn1cblxuZnVuY3Rpb24gYnVpbGROc01hdHJpeChuc1VyaVRvUHJlZml4KSB7XG4gIHZhciBuc01hdHJpeCA9IHt9LFxuICAgICAgdXJpLFxuICAgICAgcHJlZml4O1xuXG4gIGZvciAodXJpIGluIG5zVXJpVG9QcmVmaXgpIHtcbiAgICBwcmVmaXggPSBuc1VyaVRvUHJlZml4W3VyaV07XG4gICAgbnNNYXRyaXhbcHJlZml4XSA9IHByZWZpeDtcbiAgICBuc01hdHJpeFt1cmlQcmVmaXgocHJlZml4KV0gPSB1cmk7XG4gIH1cblxuICByZXR1cm4gbnNNYXRyaXg7XG59XG5cbmZ1bmN0aW9uIG5vb3BHZXRDb250ZXh0KCkge1xuICByZXR1cm4geyAnbGluZSc6IDAsICdjb2x1bW4nOiAwIH07XG59XG5cbmZ1bmN0aW9uIHRocm93RnVuYyhlcnIpIHtcbiAgdGhyb3cgZXJyO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgcGFyc2VyIHdpdGggdGhlIGdpdmVuIG9wdGlvbnMuXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKlxuICogQHBhcmFtICB7IU9iamVjdDxzdHJpbmcsID8+PX0gb3B0aW9uc1xuICovXG5mdW5jdGlvbiBQYXJzZXIob3B0aW9ucykge1xuXG4gIGlmICghdGhpcykge1xuICAgIHJldHVybiBuZXcgUGFyc2VyKG9wdGlvbnMpO1xuICB9XG5cbiAgdmFyIHByb3h5ID0gb3B0aW9ucyAmJiBvcHRpb25zWydwcm94eSddO1xuXG4gIHZhciBvblRleHQsXG4gICAgICBvbk9wZW5UYWcsXG4gICAgICBvbkNsb3NlVGFnLFxuICAgICAgb25DREFUQSxcbiAgICAgIG9uRXJyb3IgPSB0aHJvd0Z1bmMsXG4gICAgICBvbldhcm5pbmcsXG4gICAgICBvbkNvbW1lbnQsXG4gICAgICBvblF1ZXN0aW9uLFxuICAgICAgb25BdHRlbnRpb247XG5cbiAgdmFyIGdldENvbnRleHQgPSBub29wR2V0Q29udGV4dDtcblxuICAvKipcbiAgICogRG8gd2UgbmVlZCB0byBwYXJzZSB0aGUgY3VycmVudCBlbGVtZW50cyBhdHRyaWJ1dGVzIGZvciBuYW1lc3BhY2VzP1xuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICovXG4gIHZhciBtYXliZU5TID0gZmFsc2U7XG5cbiAgLyoqXG4gICAqIERvIHdlIHByb2Nlc3MgbmFtZXNwYWNlcyBhdCBhbGw/XG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKi9cbiAgdmFyIGlzTmFtZXNwYWNlID0gZmFsc2U7XG5cbiAgLyoqXG4gICAqIFRoZSBjYXVnaHQgZXJyb3IgcmV0dXJuZWQgb24gcGFyc2UgZW5kXG4gICAqXG4gICAqIEB0eXBlIHtFcnJvcn1cbiAgICovXG4gIHZhciByZXR1cm5FcnJvciA9IG51bGw7XG5cbiAgLyoqXG4gICAqIFNob3VsZCB3ZSBzdG9wIHBhcnNpbmc/XG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKi9cbiAgdmFyIHBhcnNlU3RvcCA9IGZhbHNlO1xuXG4gIC8qKlxuICAgKiBBIG1hcCBvZiB7IHVyaTogcHJlZml4IH0gdXNlZCBieSB0aGUgcGFyc2VyLlxuICAgKlxuICAgKiBUaGlzIG1hcCB3aWxsIGVuc3VyZSB3ZSBjYW4gbm9ybWFsaXplIHByZWZpeGVzIGR1cmluZyBwcm9jZXNzaW5nO1xuICAgKiBmb3IgZWFjaCB1cmksIG9ubHkgb25lIHByZWZpeCB3aWxsIGJlIGV4cG9zZWQgdG8gdGhlIGhhbmRsZXJzLlxuICAgKlxuICAgKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsIHN0cmluZz59fVxuICAgKi9cbiAgdmFyIG5zVXJpVG9QcmVmaXg7XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBwYXJzZSBlcnJvci5cbiAgICpcbiAgICogQHBhcmFtICB7c3RyaW5nfEVycm9yfSBlcnJcbiAgICovXG4gIGZ1bmN0aW9uIGhhbmRsZUVycm9yKGVycikge1xuICAgIGlmICghKGVyciBpbnN0YW5jZW9mIEVycm9yKSkge1xuICAgICAgZXJyID0gZXJyb3IoZXJyKTtcbiAgICB9XG5cbiAgICByZXR1cm5FcnJvciA9IGVycjtcblxuICAgIG9uRXJyb3IoZXJyLCBnZXRDb250ZXh0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgcGFyc2UgZXJyb3IuXG4gICAqXG4gICAqIEBwYXJhbSAge3N0cmluZ3xFcnJvcn0gZXJyXG4gICAqL1xuICBmdW5jdGlvbiBoYW5kbGVXYXJuaW5nKGVycikge1xuXG4gICAgaWYgKCFvbldhcm5pbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIShlcnIgaW5zdGFuY2VvZiBFcnJvcikpIHtcbiAgICAgIGVyciA9IGVycm9yKGVycik7XG4gICAgfVxuXG4gICAgb25XYXJuaW5nKGVyciwgZ2V0Q29udGV4dCk7XG4gIH1cblxuICAvKipcbiAgICogUmVnaXN0ZXIgcGFyc2UgbGlzdGVuZXIuXG4gICAqXG4gICAqIEBwYXJhbSAge3N0cmluZ30gICBuYW1lXG4gICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBjYlxuICAgKlxuICAgKiBAcmV0dXJuIHtQYXJzZXJ9XG4gICAqL1xuICB0aGlzWydvbiddID0gZnVuY3Rpb24obmFtZSwgY2IpIHtcblxuICAgIGlmICh0eXBlb2YgY2IgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IGVycm9yKCdyZXF1aXJlZCBhcmdzIDxuYW1lLCBjYj4nKTtcbiAgICB9XG5cbiAgICBzd2l0Y2ggKG5hbWUpIHtcbiAgICBjYXNlICdvcGVuVGFnJzogb25PcGVuVGFnID0gY2I7IGJyZWFrO1xuICAgIGNhc2UgJ3RleHQnOiBvblRleHQgPSBjYjsgYnJlYWs7XG4gICAgY2FzZSAnY2xvc2VUYWcnOiBvbkNsb3NlVGFnID0gY2I7IGJyZWFrO1xuICAgIGNhc2UgJ2Vycm9yJzogb25FcnJvciA9IGNiOyBicmVhaztcbiAgICBjYXNlICd3YXJuJzogb25XYXJuaW5nID0gY2I7IGJyZWFrO1xuICAgIGNhc2UgJ2NkYXRhJzogb25DREFUQSA9IGNiOyBicmVhaztcbiAgICBjYXNlICdhdHRlbnRpb24nOiBvbkF0dGVudGlvbiA9IGNiOyBicmVhazsgLy8gPCFYWFhYWCB6enp6PVwiZWVlZVwiPlxuICAgIGNhc2UgJ3F1ZXN0aW9uJzogb25RdWVzdGlvbiA9IGNiOyBicmVhazsgLy8gPD8gLi4uLiAgPz5cbiAgICBjYXNlICdjb21tZW50Jzogb25Db21tZW50ID0gY2I7IGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBlcnJvcigndW5zdXBwb3J0ZWQgZXZlbnQ6ICcgKyBuYW1lKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogU2V0IHRoZSBuYW1lc3BhY2UgdG8gcHJlZml4IG1hcHBpbmcuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqXG4gICAqIHBhcnNlci5ucyh7XG4gICAqICAgJ2h0dHA6Ly9mb28nOiAnZm9vJyxcbiAgICogICAnaHR0cDovL2Jhcic6ICdiYXInXG4gICAqIH0pO1xuICAgKlxuICAgKiBAcGFyYW0gIHshT2JqZWN0PHN0cmluZywgc3RyaW5nPn0gbnNNYXBcbiAgICpcbiAgICogQHJldHVybiB7UGFyc2VyfVxuICAgKi9cbiAgdGhpc1snbnMnXSA9IGZ1bmN0aW9uKG5zTWFwKSB7XG5cbiAgICBpZiAodHlwZW9mIG5zTWFwID09PSAndW5kZWZpbmVkJykge1xuICAgICAgbnNNYXAgPSB7fTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG5zTWFwICE9PSAnb2JqZWN0Jykge1xuICAgICAgdGhyb3cgZXJyb3IoJ3JlcXVpcmVkIGFyZ3MgPG5zTWFwPXt9PicpO1xuICAgIH1cblxuICAgIHZhciBfbnNVcmlUb1ByZWZpeCA9IHt9LCBrO1xuXG4gICAgZm9yIChrIGluIG5zTWFwKSB7XG4gICAgICBfbnNVcmlUb1ByZWZpeFtrXSA9IG5zTWFwW2tdO1xuICAgIH1cblxuICAgIC8vIEZPUkNFIGRlZmF1bHQgbWFwcGluZyBmb3Igc2NoZW1hIGluc3RhbmNlXG4gICAgX25zVXJpVG9QcmVmaXhbWFNJX1VSSV0gPSBYU0lfUFJFRklYO1xuXG4gICAgaXNOYW1lc3BhY2UgPSB0cnVlO1xuICAgIG5zVXJpVG9QcmVmaXggPSBfbnNVcmlUb1ByZWZpeDtcblxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBQYXJzZSB4bWwgc3RyaW5nLlxuICAgKlxuICAgKiBAcGFyYW0gIHtzdHJpbmd9IHhtbFxuICAgKlxuICAgKiBAcmV0dXJuIHtFcnJvcn0gcmV0dXJuRXJyb3IsIGlmIG5vdCB0aHJvd25cbiAgICovXG4gIHRoaXNbJ3BhcnNlJ10gPSBmdW5jdGlvbih4bWwpIHtcbiAgICBpZiAodHlwZW9mIHhtbCAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IGVycm9yKCdyZXF1aXJlZCBhcmdzIDx4bWw9c3RyaW5nPicpO1xuICAgIH1cblxuICAgIHJldHVybkVycm9yID0gbnVsbDtcblxuICAgIHBhcnNlKHhtbCk7XG5cbiAgICBnZXRDb250ZXh0ID0gbm9vcEdldENvbnRleHQ7XG4gICAgcGFyc2VTdG9wID0gZmFsc2U7XG5cbiAgICByZXR1cm4gcmV0dXJuRXJyb3I7XG4gIH07XG5cbiAgLyoqXG4gICAqIFN0b3AgcGFyc2luZy5cbiAgICovXG4gIHRoaXNbJ3N0b3AnXSA9IGZ1bmN0aW9uKCkge1xuICAgIHBhcnNlU3RvcCA9IHRydWU7XG4gIH07XG5cbiAgLyoqXG4gICAqIFBhcnNlIHN0cmluZywgaW52b2tpbmcgY29uZmlndXJlZCBsaXN0ZW5lcnMgb24gZWxlbWVudC5cbiAgICpcbiAgICogQHBhcmFtICB7c3RyaW5nfSB4bWxcbiAgICovXG4gIGZ1bmN0aW9uIHBhcnNlKHhtbCkge1xuICAgIHZhciBuc01hdHJpeFN0YWNrID0gaXNOYW1lc3BhY2UgPyBbXSA6IG51bGwsXG4gICAgICAgIG5zTWF0cml4ID0gaXNOYW1lc3BhY2UgPyBidWlsZE5zTWF0cml4KG5zVXJpVG9QcmVmaXgpIDogbnVsbCxcbiAgICAgICAgX25zTWF0cml4LFxuICAgICAgICBub2RlU3RhY2sgPSBbXSxcbiAgICAgICAgYW5vbnltb3VzTnNDb3VudCA9IDAsXG4gICAgICAgIHRhZ1N0YXJ0ID0gZmFsc2UsXG4gICAgICAgIHRhZ0VuZCA9IGZhbHNlLFxuICAgICAgICBpID0gMCwgaiA9IDAsXG4gICAgICAgIHgsIHksIHEsIHcsIHYsXG4gICAgICAgIHhtbG5zLFxuICAgICAgICBlbGVtZW50TmFtZSxcbiAgICAgICAgX2VsZW1lbnROYW1lLFxuICAgICAgICBlbGVtZW50UHJveHlcbiAgICAgICAgO1xuXG4gICAgdmFyIGF0dHJzU3RyaW5nID0gJycsXG4gICAgICAgIGF0dHJzU3RhcnQgPSAwLFxuICAgICAgICBjYWNoZWRBdHRycyAvLyBmYWxzZSA9IHBhcnNlZCB3aXRoIGVycm9ycywgbnVsbCA9IG5lZWRzIHBhcnNpbmdcbiAgICAgICAgO1xuXG4gICAgLyoqXG4gICAgICogUGFyc2UgYXR0cmlidXRlcyBvbiBkZW1hbmQgYW5kIHJldHVybnMgdGhlIHBhcnNlZCBhdHRyaWJ1dGVzLlxuICAgICAqXG4gICAgICogUmV0dXJuIHNlbWFudGljczogKDEpIGBmYWxzZWAgb24gYXR0cmlidXRlIHBhcnNlIGVycm9yLFxuICAgICAqICgyKSBvYmplY3QgaGFzaCBvbiBleHRyYWN0ZWQgYXR0cnMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufE9iamVjdH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRBdHRycygpIHtcbiAgICAgIGlmIChjYWNoZWRBdHRycyAhPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gY2FjaGVkQXR0cnM7XG4gICAgICB9XG5cbiAgICAgIHZhciBuc1VyaSxcbiAgICAgICAgICBuc1VyaVByZWZpeCxcbiAgICAgICAgICBuc05hbWUsXG4gICAgICAgICAgZGVmYXVsdEFsaWFzID0gaXNOYW1lc3BhY2UgJiYgbnNNYXRyaXhbJ3htbG5zJ10sXG4gICAgICAgICAgYXR0ckxpc3QgPSBpc05hbWVzcGFjZSAmJiBtYXliZU5TID8gW10gOiBudWxsLFxuICAgICAgICAgIGkgPSBhdHRyc1N0YXJ0LFxuICAgICAgICAgIHMgPSBhdHRyc1N0cmluZyxcbiAgICAgICAgICBsID0gcy5sZW5ndGgsXG4gICAgICAgICAgaGFzTmV3TWF0cml4LFxuICAgICAgICAgIG5ld2FsaWFzLFxuICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgIGFsaWFzLFxuICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgYXR0cnMgPSB7fSxcbiAgICAgICAgICBzZWVuQXR0cnMgPSB7fSxcbiAgICAgICAgICBza2lwQXR0cixcbiAgICAgICAgICB3LFxuICAgICAgICAgIGo7XG5cbiAgICAgIHBhcnNlQXR0cjpcbiAgICAgIGZvciAoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIHNraXBBdHRyID0gZmFsc2U7XG4gICAgICAgIHcgPSBzLmNoYXJDb2RlQXQoaSk7XG5cbiAgICAgICAgaWYgKHcgPT09IDMyIHx8ICh3IDwgMTQgJiYgdyA+IDgpKSB7IC8vIFdISVRFU1BBQ0U9eyBcXGZcXG5cXHJcXHRcXHZ9XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB3YWl0IGZvciBub24gd2hpdGVzcGFjZSBjaGFyYWN0ZXJcbiAgICAgICAgaWYgKHcgPCA2NSB8fCB3ID4gMTIyIHx8ICh3ID4gOTAgJiYgdyA8IDk3KSkge1xuICAgICAgICAgIGlmICh3ICE9PSA5NSAmJiB3ICE9PSA1OCkgeyAvLyBjaGFyIDk1XCJfXCIgNThcIjpcIlxuICAgICAgICAgICAgaGFuZGxlV2FybmluZygnaWxsZWdhbCBmaXJzdCBjaGFyIGF0dHJpYnV0ZSBuYW1lJyk7XG4gICAgICAgICAgICBza2lwQXR0ciA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gcGFyc2UgYXR0cmlidXRlIG5hbWVcbiAgICAgICAgZm9yIChqID0gaSArIDE7IGogPCBsOyBqKyspIHtcbiAgICAgICAgICB3ID0gcy5jaGFyQ29kZUF0KGopO1xuXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgdyA+IDk2ICYmIHcgPCAxMjMgfHxcbiAgICAgICAgICAgIHcgPiA2NCAmJiB3IDwgOTEgfHxcbiAgICAgICAgICAgIHcgPiA0NyAmJiB3IDwgNTkgfHxcbiAgICAgICAgICAgIHcgPT09IDQ2IHx8IC8vICcuJ1xuICAgICAgICAgICAgdyA9PT0gNDUgfHwgLy8gJy0nXG4gICAgICAgICAgICB3ID09PSA5NSAvLyAnXydcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIHVuZXhwZWN0ZWQgd2hpdGVzcGFjZVxuICAgICAgICAgIGlmICh3ID09PSAzMiB8fCAodyA8IDE0ICYmIHcgPiA4KSkgeyAvLyBXSElURVNQQUNFXG4gICAgICAgICAgICBoYW5kbGVXYXJuaW5nKCdtaXNzaW5nIGF0dHJpYnV0ZSB2YWx1ZScpO1xuICAgICAgICAgICAgaSA9IGo7XG5cbiAgICAgICAgICAgIGNvbnRpbnVlIHBhcnNlQXR0cjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBleHBlY3RlZCBcIj1cIlxuICAgICAgICAgIGlmICh3ID09PSA2MSkgeyAvLyBcIj1cIiA9PSA2MVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaGFuZGxlV2FybmluZygnaWxsZWdhbCBhdHRyaWJ1dGUgbmFtZSBjaGFyJyk7XG4gICAgICAgICAgc2tpcEF0dHIgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgbmFtZSA9IHMuc3Vic3RyaW5nKGksIGopO1xuXG4gICAgICAgIGlmIChuYW1lID09PSAneG1sbnM6eG1sbnMnKSB7XG4gICAgICAgICAgaGFuZGxlV2FybmluZygnaWxsZWdhbCBkZWNsYXJhdGlvbiBvZiB4bWxucycpO1xuICAgICAgICAgIHNraXBBdHRyID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHcgPSBzLmNoYXJDb2RlQXQoaiArIDEpO1xuXG4gICAgICAgIGlmICh3ID09PSAzNCkgeyAvLyAnXCInXG4gICAgICAgICAgaiA9IHMuaW5kZXhPZignXCInLCBpID0gaiArIDIpO1xuXG4gICAgICAgICAgaWYgKGogPT09IC0xKSB7XG4gICAgICAgICAgICBqID0gcy5pbmRleE9mKCdcXCcnLCBpKTtcblxuICAgICAgICAgICAgaWYgKGogIT09IC0xKSB7XG4gICAgICAgICAgICAgIGhhbmRsZVdhcm5pbmcoJ2F0dHJpYnV0ZSB2YWx1ZSBxdW90ZSBtaXNzbWF0Y2gnKTtcbiAgICAgICAgICAgICAgc2tpcEF0dHIgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICB9IGVsc2UgaWYgKHcgPT09IDM5KSB7IC8vIFwiJ1wiXG4gICAgICAgICAgaiA9IHMuaW5kZXhPZignXFwnJywgaSA9IGogKyAyKTtcblxuICAgICAgICAgIGlmIChqID09PSAtMSkge1xuICAgICAgICAgICAgaiA9IHMuaW5kZXhPZignXCInLCBpKTtcblxuICAgICAgICAgICAgaWYgKGogIT09IC0xKSB7XG4gICAgICAgICAgICAgIGhhbmRsZVdhcm5pbmcoJ2F0dHJpYnV0ZSB2YWx1ZSBxdW90ZSBtaXNzbWF0Y2gnKTtcbiAgICAgICAgICAgICAgc2tpcEF0dHIgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGhhbmRsZVdhcm5pbmcoJ21pc3NpbmcgYXR0cmlidXRlIHZhbHVlIHF1b3RlcycpO1xuICAgICAgICAgIHNraXBBdHRyID0gdHJ1ZTtcblxuICAgICAgICAgIC8vIHNraXAgdG8gbmV4dCBzcGFjZVxuICAgICAgICAgIGZvciAoaiA9IGogKyAxOyBqIDwgbDsgaisrKSB7XG4gICAgICAgICAgICB3ID0gcy5jaGFyQ29kZUF0KGogKyAxKTtcblxuICAgICAgICAgICAgaWYgKHcgPT09IDMyIHx8ICh3IDwgMTQgJiYgdyA+IDgpKSB7IC8vIFdISVRFU1BBQ0VcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaiA9PT0gLTEpIHtcbiAgICAgICAgICBoYW5kbGVXYXJuaW5nKCdtaXNzaW5nIGNsb3NpbmcgcXVvdGVzJyk7XG5cbiAgICAgICAgICBqID0gbDtcbiAgICAgICAgICBza2lwQXR0ciA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXNraXBBdHRyKSB7XG4gICAgICAgICAgdmFsdWUgPSBzLnN1YnN0cmluZyhpLCBqKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGkgPSBqO1xuXG4gICAgICAgIC8vIGVuc3VyZSBTUEFDRSBmb2xsb3dzIGF0dHJpYnV0ZVxuICAgICAgICAvLyBza2lwIGlsbGVnYWwgY29udGVudCBvdGhlcndpc2VcbiAgICAgICAgLy8gZXhhbXBsZSBhPVwiYlwiY1xuICAgICAgICBmb3IgKDsgaiArIDEgPCBsOyBqKyspIHtcbiAgICAgICAgICB3ID0gcy5jaGFyQ29kZUF0KGogKyAxKTtcblxuICAgICAgICAgIGlmICh3ID09PSAzMiB8fCAodyA8IDE0ICYmIHcgPiA4KSkgeyAvLyBXSElURVNQQUNFXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBGSVJTVCBJTExFR0FMIENIQVJcbiAgICAgICAgICBpZiAoaSA9PT0gaikge1xuICAgICAgICAgICAgaGFuZGxlV2FybmluZygnaWxsZWdhbCBjaGFyYWN0ZXIgYWZ0ZXIgYXR0cmlidXRlIGVuZCcpO1xuICAgICAgICAgICAgc2tpcEF0dHIgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGFkdmFuY2UgY3Vyc29yIHRvIG5leHQgYXR0cmlidXRlXG4gICAgICAgIGkgPSBqICsgMTtcblxuICAgICAgICBpZiAoc2tpcEF0dHIpIHtcbiAgICAgICAgICBjb250aW51ZSBwYXJzZUF0dHI7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjaGVjayBhdHRyaWJ1dGUgcmUtZGVjbGFyYXRpb25cbiAgICAgICAgaWYgKG5hbWUgaW4gc2VlbkF0dHJzKSB7XG4gICAgICAgICAgaGFuZGxlV2FybmluZygnYXR0cmlidXRlIDwnICsgbmFtZSArICc+IGFscmVhZHkgZGVmaW5lZCcpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgc2VlbkF0dHJzW25hbWVdID0gdHJ1ZTtcblxuICAgICAgICBpZiAoIWlzTmFtZXNwYWNlKSB7XG4gICAgICAgICAgYXR0cnNbbmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRyeSB0byBleHRyYWN0IG5hbWVzcGFjZSBpbmZvcm1hdGlvblxuICAgICAgICBpZiAobWF5YmVOUykge1xuICAgICAgICAgIG5ld2FsaWFzID0gKFxuICAgICAgICAgICAgbmFtZSA9PT0gJ3htbG5zJ1xuICAgICAgICAgICAgICA/ICd4bWxucydcbiAgICAgICAgICAgICAgOiAobmFtZS5jaGFyQ29kZUF0KDApID09PSAxMjAgJiYgbmFtZS5zdWJzdHIoMCwgNikgPT09ICd4bWxuczonKVxuICAgICAgICAgICAgICAgID8gbmFtZS5zdWJzdHIoNilcbiAgICAgICAgICAgICAgICA6IG51bGxcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgLy8gaGFuZGxlIHhtbG5zKDphbGlhcykgYXNzaWdubWVudFxuICAgICAgICAgIGlmIChuZXdhbGlhcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgbnNVcmkgPSBkZWNvZGVFbnRpdGllcyh2YWx1ZSk7XG4gICAgICAgICAgICBuc1VyaVByZWZpeCA9IHVyaVByZWZpeChuZXdhbGlhcyk7XG5cbiAgICAgICAgICAgIGFsaWFzID0gbnNVcmlUb1ByZWZpeFtuc1VyaV07XG5cbiAgICAgICAgICAgIGlmICghYWxpYXMpIHtcblxuICAgICAgICAgICAgICAvLyBubyBwcmVmaXggZGVmaW5lZCBvciBwcmVmaXggY29sbGlzaW9uXG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAobmV3YWxpYXMgPT09ICd4bWxucycpIHx8XG4gICAgICAgICAgICAgICAgKG5zVXJpUHJlZml4IGluIG5zTWF0cml4ICYmIG5zTWF0cml4W25zVXJpUHJlZml4XSAhPT0gbnNVcmkpXG4gICAgICAgICAgICAgICkge1xuXG4gICAgICAgICAgICAgICAgLy8gYWxvY2F0ZSBmcmVlIG5zIHByZWZpeFxuICAgICAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICAgIGFsaWFzID0gJ25zJyArIChhbm9ueW1vdXNOc0NvdW50KyspO1xuICAgICAgICAgICAgICAgIH0gd2hpbGUgKHR5cGVvZiBuc01hdHJpeFthbGlhc10gIT09ICd1bmRlZmluZWQnKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhbGlhcyA9IG5ld2FsaWFzO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgbnNVcmlUb1ByZWZpeFtuc1VyaV0gPSBhbGlhcztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG5zTWF0cml4W25ld2FsaWFzXSAhPT0gYWxpYXMpIHtcbiAgICAgICAgICAgICAgaWYgKCFoYXNOZXdNYXRyaXgpIHtcbiAgICAgICAgICAgICAgICBuc01hdHJpeCA9IGNsb25lTnNNYXRyaXgobnNNYXRyaXgpO1xuICAgICAgICAgICAgICAgIGhhc05ld01hdHJpeCA9IHRydWU7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBuc01hdHJpeFtuZXdhbGlhc10gPSBhbGlhcztcbiAgICAgICAgICAgICAgaWYgKG5ld2FsaWFzID09PSAneG1sbnMnKSB7XG4gICAgICAgICAgICAgICAgbnNNYXRyaXhbdXJpUHJlZml4KGFsaWFzKV0gPSBuc1VyaTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0QWxpYXMgPSBhbGlhcztcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIG5zTWF0cml4W25zVXJpUHJlZml4XSA9IG5zVXJpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBleHBvc2UgeG1sbnMoOmFzZCk9XCIuLi5cIiBpbiBhdHRyaWJ1dGVzXG4gICAgICAgICAgICBhdHRyc1tuYW1lXSA9IHZhbHVlO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gY29sbGVjdCBhdHRyaWJ1dGVzIHVudGlsIGFsbCBuYW1lc3BhY2VcbiAgICAgICAgICAvLyBkZWNsYXJhdGlvbnMgYXJlIHByb2Nlc3NlZFxuICAgICAgICAgIGF0dHJMaXN0LnB1c2gobmFtZSwgdmFsdWUpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICAgIH0gLyoqIGVuZCBpZiAobWF5YmVOcykgKi9cblxuICAgICAgICAvLyBoYW5kbGUgYXR0cmlidXRlcyBvbiBlbGVtZW50IHdpdGhvdXRcbiAgICAgICAgLy8gbmFtZXNwYWNlIGRlY2xhcmF0aW9uc1xuICAgICAgICB3ID0gbmFtZS5pbmRleE9mKCc6Jyk7XG4gICAgICAgIGlmICh3ID09PSAtMSkge1xuICAgICAgICAgIGF0dHJzW25hbWVdID0gdmFsdWU7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBub3JtYWxpemUgbnMgYXR0cmlidXRlIG5hbWVcbiAgICAgICAgaWYgKCEobnNOYW1lID0gbnNNYXRyaXhbbmFtZS5zdWJzdHJpbmcoMCwgdyldKSkge1xuICAgICAgICAgIGhhbmRsZVdhcm5pbmcobWlzc2luZ05hbWVzcGFjZUZvclByZWZpeChuYW1lLnN1YnN0cmluZygwLCB3KSkpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgbmFtZSA9IGRlZmF1bHRBbGlhcyA9PT0gbnNOYW1lXG4gICAgICAgICAgPyBuYW1lLnN1YnN0cih3ICsgMSlcbiAgICAgICAgICA6IG5zTmFtZSArIG5hbWUuc3Vic3RyKHcpO1xuXG4gICAgICAgIC8vIGVuZDogbm9ybWFsaXplIG5zIGF0dHJpYnV0ZSBuYW1lXG5cbiAgICAgICAgLy8gbm9ybWFsaXplIHhzaTp0eXBlIG5zIGF0dHJpYnV0ZSB2YWx1ZVxuICAgICAgICBpZiAobmFtZSA9PT0gWFNJX1RZUEUpIHtcbiAgICAgICAgICB3ID0gdmFsdWUuaW5kZXhPZignOicpO1xuXG4gICAgICAgICAgaWYgKHcgIT09IC0xKSB7XG4gICAgICAgICAgICBuc05hbWUgPSB2YWx1ZS5zdWJzdHJpbmcoMCwgdyk7XG5cbiAgICAgICAgICAgIC8vIGhhbmRsZSBkZWZhdWx0IHByZWZpeGVzLCBpLmUuIHhzOlN0cmluZyBncmFjZWZ1bGx5XG4gICAgICAgICAgICBuc05hbWUgPSBuc01hdHJpeFtuc05hbWVdIHx8IG5zTmFtZTtcbiAgICAgICAgICAgIHZhbHVlID0gbnNOYW1lICsgdmFsdWUuc3Vic3RyaW5nKHcpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YWx1ZSA9IGRlZmF1bHRBbGlhcyArICc6JyArIHZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGVuZDogbm9ybWFsaXplIHhzaTp0eXBlIG5zIGF0dHJpYnV0ZSB2YWx1ZVxuXG4gICAgICAgIGF0dHJzW25hbWVdID0gdmFsdWU7XG4gICAgICB9XG5cblxuICAgICAgLy8gaGFuZGxlIGRlZmVycmVkLCBwb3NzaWJseSBuYW1lc3BhY2VkIGF0dHJpYnV0ZXNcbiAgICAgIGlmIChtYXliZU5TKSB7XG5cbiAgICAgICAgLy8gbm9ybWFsaXplIGNhcHR1cmVkIGF0dHJpYnV0ZXNcbiAgICAgICAgZm9yIChpID0gMCwgbCA9IGF0dHJMaXN0Lmxlbmd0aDsgaSA8IGw7IGkrKykge1xuXG4gICAgICAgICAgbmFtZSA9IGF0dHJMaXN0W2krK107XG4gICAgICAgICAgdmFsdWUgPSBhdHRyTGlzdFtpXTtcblxuICAgICAgICAgIHcgPSBuYW1lLmluZGV4T2YoJzonKTtcblxuICAgICAgICAgIGlmICh3ICE9PSAtMSkge1xuXG4gICAgICAgICAgICAvLyBub3JtYWxpemUgbnMgYXR0cmlidXRlIG5hbWVcbiAgICAgICAgICAgIGlmICghKG5zTmFtZSA9IG5zTWF0cml4W25hbWUuc3Vic3RyaW5nKDAsIHcpXSkpIHtcbiAgICAgICAgICAgICAgaGFuZGxlV2FybmluZyhtaXNzaW5nTmFtZXNwYWNlRm9yUHJlZml4KG5hbWUuc3Vic3RyaW5nKDAsIHcpKSk7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBuYW1lID0gZGVmYXVsdEFsaWFzID09PSBuc05hbWVcbiAgICAgICAgICAgICAgPyBuYW1lLnN1YnN0cih3ICsgMSlcbiAgICAgICAgICAgICAgOiBuc05hbWUgKyBuYW1lLnN1YnN0cih3KTtcblxuICAgICAgICAgICAgLy8gZW5kOiBub3JtYWxpemUgbnMgYXR0cmlidXRlIG5hbWVcblxuICAgICAgICAgICAgLy8gbm9ybWFsaXplIHhzaTp0eXBlIG5zIGF0dHJpYnV0ZSB2YWx1ZVxuICAgICAgICAgICAgaWYgKG5hbWUgPT09IFhTSV9UWVBFKSB7XG4gICAgICAgICAgICAgIHcgPSB2YWx1ZS5pbmRleE9mKCc6Jyk7XG5cbiAgICAgICAgICAgICAgaWYgKHcgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgbnNOYW1lID0gdmFsdWUuc3Vic3RyaW5nKDAsIHcpO1xuXG4gICAgICAgICAgICAgICAgLy8gaGFuZGxlIGRlZmF1bHQgcHJlZml4ZXMsIGkuZS4geHM6U3RyaW5nIGdyYWNlZnVsbHlcbiAgICAgICAgICAgICAgICBuc05hbWUgPSBuc01hdHJpeFtuc05hbWVdIHx8IG5zTmFtZTtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IG5zTmFtZSArIHZhbHVlLnN1YnN0cmluZyh3KTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IGRlZmF1bHRBbGlhcyArICc6JyArIHZhbHVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGVuZDogbm9ybWFsaXplIHhzaTp0eXBlIG5zIGF0dHJpYnV0ZSB2YWx1ZVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGF0dHJzW25hbWVdID0gdmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBlbmQ6IG5vcm1hbGl6ZSBjYXB0dXJlZCBhdHRyaWJ1dGVzXG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjYWNoZWRBdHRycyA9IGF0dHJzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4dHJhY3QgdGhlIHBhcnNlIGNvbnRleHQgeyBsaW5lLCBjb2x1bW4sIHBhcnQgfVxuICAgICAqIGZyb20gdGhlIGN1cnJlbnQgcGFyc2VyIHBvc2l0aW9uLlxuICAgICAqXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBwYXJzZSBjb250ZXh0XG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0UGFyc2VDb250ZXh0KCkge1xuICAgICAgdmFyIHNwbGl0c1JlID0gLyhcXHJcXG58XFxyfFxcbikvZztcblxuICAgICAgdmFyIGxpbmUgPSAwO1xuICAgICAgdmFyIGNvbHVtbiA9IDA7XG4gICAgICB2YXIgc3RhcnRPZkxpbmUgPSAwO1xuICAgICAgdmFyIGVuZE9mTGluZSA9IGo7XG4gICAgICB2YXIgbWF0Y2g7XG4gICAgICB2YXIgZGF0YTtcblxuICAgICAgd2hpbGUgKGkgPj0gc3RhcnRPZkxpbmUpIHtcblxuICAgICAgICBtYXRjaCA9IHNwbGl0c1JlLmV4ZWMoeG1sKTtcblxuICAgICAgICBpZiAoIW1hdGNoKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBlbmQgb2YgbGluZSA9IChicmVhayBpZHggKyBicmVhayBjaGFycylcbiAgICAgICAgZW5kT2ZMaW5lID0gbWF0Y2hbMF0ubGVuZ3RoICsgbWF0Y2guaW5kZXg7XG5cbiAgICAgICAgaWYgKGVuZE9mTGluZSA+IGkpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGFkdmFuY2UgdG8gbmV4dCBsaW5lXG4gICAgICAgIGxpbmUgKz0gMTtcblxuICAgICAgICBzdGFydE9mTGluZSA9IGVuZE9mTGluZTtcbiAgICAgIH1cblxuICAgICAgLy8gRU9GIGVycm9yc1xuICAgICAgaWYgKGkgPT0gLTEpIHtcbiAgICAgICAgY29sdW1uID0gZW5kT2ZMaW5lO1xuICAgICAgICBkYXRhID0geG1sLnN1YnN0cmluZyhqKTtcbiAgICAgIH0gZWxzZVxuXG4gICAgICAvLyBzdGFydCBlcnJvcnNcbiAgICAgIGlmIChqID09PSAwKSB7XG4gICAgICAgIGRhdGEgPSB4bWwuc3Vic3RyaW5nKGosIGkpO1xuICAgICAgfVxuXG4gICAgICAvLyBvdGhlciBlcnJvcnNcbiAgICAgIGVsc2Uge1xuICAgICAgICBjb2x1bW4gPSBpIC0gc3RhcnRPZkxpbmU7XG4gICAgICAgIGRhdGEgPSAoaiA9PSAtMSA/IHhtbC5zdWJzdHJpbmcoaSkgOiB4bWwuc3Vic3RyaW5nKGksIGogKyAxKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgICdkYXRhJzogZGF0YSxcbiAgICAgICAgJ2xpbmUnOiBsaW5lLFxuICAgICAgICAnY29sdW1uJzogY29sdW1uXG4gICAgICB9O1xuICAgIH1cblxuICAgIGdldENvbnRleHQgPSBnZXRQYXJzZUNvbnRleHQ7XG5cblxuICAgIGlmIChwcm94eSkge1xuICAgICAgZWxlbWVudFByb3h5ID0gT2JqZWN0LmNyZWF0ZSh7fSwge1xuICAgICAgICAnbmFtZSc6IGdldHRlcihmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gZWxlbWVudE5hbWU7XG4gICAgICAgIH0pLFxuICAgICAgICAnb3JpZ2luYWxOYW1lJzogZ2V0dGVyKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBfZWxlbWVudE5hbWU7XG4gICAgICAgIH0pLFxuICAgICAgICAnYXR0cnMnOiBnZXR0ZXIoZ2V0QXR0cnMpLFxuICAgICAgICAnbnMnOiBnZXR0ZXIoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIG5zTWF0cml4O1xuICAgICAgICB9KVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gYWN0dWFsIHBhcnNlIGxvZ2ljXG4gICAgd2hpbGUgKGogIT09IC0xKSB7XG5cbiAgICAgIGlmICh4bWwuY2hhckNvZGVBdChqKSA9PT0gNjApIHsgLy8gXCI8XCJcbiAgICAgICAgaSA9IGo7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpID0geG1sLmluZGV4T2YoJzwnLCBqKTtcbiAgICAgIH1cblxuICAgICAgLy8gcGFyc2UgZW5kXG4gICAgICBpZiAoaSA9PT0gLTEpIHtcbiAgICAgICAgaWYgKG5vZGVTdGFjay5sZW5ndGgpIHtcbiAgICAgICAgICByZXR1cm4gaGFuZGxlRXJyb3IoJ3VuZXhwZWN0ZWQgZW5kIG9mIGZpbGUnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChqID09PSAwKSB7XG4gICAgICAgICAgcmV0dXJuIGhhbmRsZUVycm9yKCdtaXNzaW5nIHN0YXJ0IHRhZycpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGogPCB4bWwubGVuZ3RoKSB7XG4gICAgICAgICAgaWYgKHhtbC5zdWJzdHJpbmcoaikudHJpbSgpKSB7XG4gICAgICAgICAgICBoYW5kbGVXYXJuaW5nKE5PTl9XSElURVNQQUNFX09VVFNJREVfUk9PVF9OT0RFKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIHBhcnNlIHRleHRcbiAgICAgIGlmIChqICE9PSBpKSB7XG5cbiAgICAgICAgaWYgKG5vZGVTdGFjay5sZW5ndGgpIHtcbiAgICAgICAgICBpZiAob25UZXh0KSB7XG4gICAgICAgICAgICBvblRleHQoeG1sLnN1YnN0cmluZyhqLCBpKSwgZGVjb2RlRW50aXRpZXMsIGdldENvbnRleHQpO1xuXG4gICAgICAgICAgICBpZiAocGFyc2VTdG9wKSB7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHhtbC5zdWJzdHJpbmcoaiwgaSkudHJpbSgpKSB7XG4gICAgICAgICAgICBoYW5kbGVXYXJuaW5nKE5PTl9XSElURVNQQUNFX09VVFNJREVfUk9PVF9OT0RFKTtcblxuICAgICAgICAgICAgaWYgKHBhcnNlU3RvcCkge1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHcgPSB4bWwuY2hhckNvZGVBdChpKzEpO1xuXG4gICAgICAvLyBwYXJzZSBjb21tZW50cyArIENEQVRBXG4gICAgICBpZiAodyA9PT0gMzMpIHsgLy8gXCIhXCJcbiAgICAgICAgcSA9IHhtbC5jaGFyQ29kZUF0KGkrMik7XG5cbiAgICAgICAgLy8gQ0RBVEEgc2VjdGlvblxuICAgICAgICBpZiAocSA9PT0gOTEgJiYgeG1sLnN1YnN0cihpICsgMywgNikgPT09ICdDREFUQVsnKSB7IC8vIDkxID09IFwiW1wiXG4gICAgICAgICAgaiA9IHhtbC5pbmRleE9mKCddXT4nLCBpKTtcbiAgICAgICAgICBpZiAoaiA9PT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiBoYW5kbGVFcnJvcigndW5jbG9zZWQgY2RhdGEnKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAob25DREFUQSkge1xuICAgICAgICAgICAgb25DREFUQSh4bWwuc3Vic3RyaW5nKGkgKyA5LCBqKSwgZ2V0Q29udGV4dCk7XG4gICAgICAgICAgICBpZiAocGFyc2VTdG9wKSB7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBqICs9IDM7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjb21tZW50XG4gICAgICAgIGlmIChxID09PSA0NSAmJiB4bWwuY2hhckNvZGVBdChpICsgMykgPT09IDQ1KSB7IC8vIDQ1ID09IFwiLVwiXG4gICAgICAgICAgaiA9IHhtbC5pbmRleE9mKCctLT4nLCBpKTtcbiAgICAgICAgICBpZiAoaiA9PT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiBoYW5kbGVFcnJvcigndW5jbG9zZWQgY29tbWVudCcpO1xuICAgICAgICAgIH1cblxuXG4gICAgICAgICAgaWYgKG9uQ29tbWVudCkge1xuICAgICAgICAgICAgb25Db21tZW50KHhtbC5zdWJzdHJpbmcoaSArIDQsIGopLCBkZWNvZGVFbnRpdGllcywgZ2V0Q29udGV4dCk7XG4gICAgICAgICAgICBpZiAocGFyc2VTdG9wKSB7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBqICs9IDM7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gcGFyc2UgcXVlc3Rpb24gPD8gLi4uID8+XG4gICAgICBpZiAodyA9PT0gNjMpIHsgLy8gXCI/XCJcbiAgICAgICAgaiA9IHhtbC5pbmRleE9mKCc/PicsIGkpO1xuICAgICAgICBpZiAoaiA9PT0gLTEpIHtcbiAgICAgICAgICByZXR1cm4gaGFuZGxlRXJyb3IoJ3VuY2xvc2VkIHF1ZXN0aW9uJyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob25RdWVzdGlvbikge1xuICAgICAgICAgIG9uUXVlc3Rpb24oeG1sLnN1YnN0cmluZyhpLCBqICsgMiksIGdldENvbnRleHQpO1xuICAgICAgICAgIGlmIChwYXJzZVN0b3ApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBqICs9IDI7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBmaW5kIG1hdGNoaW5nIGNsb3NpbmcgdGFnIGZvciBhdHRlbnRpb24gb3Igc3RhbmRhcmQgdGFnc1xuICAgICAgLy8gZm9yIHRoYXQgd2UgbXVzdCBza2lwIHRocm91Z2ggYXR0cmlidXRlIHZhbHVlc1xuICAgICAgLy8gKGVuY2xvc2VkIGluIHNpbmdsZSBvciBkb3VibGUgcXVvdGVzKVxuICAgICAgZm9yICh4ID0gaSArIDE7IDsgeCsrKSB7XG4gICAgICAgIHYgPSB4bWwuY2hhckNvZGVBdCh4KTtcbiAgICAgICAgaWYgKGlzTmFOKHYpKSB7XG4gICAgICAgICAgaiA9IC0xO1xuICAgICAgICAgIHJldHVybiBoYW5kbGVFcnJvcigndW5jbG9zZWQgdGFnJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBbMTBdIEF0dFZhbHVlIDo6PSAnXCInIChbXjwmXCJdIHwgUmVmZXJlbmNlKSogJ1wiJyB8IFwiJ1wiIChbXjwmJ10gfCBSZWZlcmVuY2UpKiBcIidcIlxuICAgICAgICAvLyBza2lwcyB0aGUgcXVvdGVkIHN0cmluZ1xuICAgICAgICAvLyAoZG91YmxlIHF1b3RlcykgZG9lcyBub3QgYXBwZWFyIGluIGEgbGl0ZXJhbCBlbmNsb3NlZCBieSAoZG91YmxlIHF1b3RlcylcbiAgICAgICAgLy8gKHNpbmdsZSBxdW90ZSkgZG9lcyBub3QgYXBwZWFyIGluIGEgbGl0ZXJhbCBlbmNsb3NlZCBieSAoc2luZ2xlIHF1b3RlKVxuICAgICAgICBpZiAodiA9PT0gMzQpIHsgLy8gICdcIidcbiAgICAgICAgICBxID0geG1sLmluZGV4T2YoJ1wiJywgeCArIDEpO1xuICAgICAgICAgIHggPSBxICE9PSAtMSA/IHEgOiB4O1xuICAgICAgICB9IGVsc2UgaWYgKHYgPT09IDM5KSB7IC8vIFwiJ1wiXG4gICAgICAgICAgcSA9IHhtbC5pbmRleE9mKFwiJ1wiLCB4ICsgMSk7XG4gICAgICAgICAgeCA9IHEgIT09IC0xID8gcSA6IHg7XG4gICAgICAgIH0gZWxzZSBpZiAodiA9PT0gNjIpIHsgLy8gJz4nXG4gICAgICAgICAgaiA9IHg7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cblxuXG4gICAgICAvLyBwYXJzZSBhdHRlbnRpb24gPCEgLi4uPlxuICAgICAgLy8gcHJldmlvdXNseSBjb21tZW50IGFuZCBDREFUQSBoYXZlIGFscmVhZHkgYmVlbiBwYXJzZWRcbiAgICAgIGlmICh3ID09PSAzMykgeyAvLyBcIiFcIlxuXG4gICAgICAgIGlmIChvbkF0dGVudGlvbikge1xuICAgICAgICAgIG9uQXR0ZW50aW9uKHhtbC5zdWJzdHJpbmcoaSwgaiArIDEpLCBkZWNvZGVFbnRpdGllcywgZ2V0Q29udGV4dCk7XG4gICAgICAgICAgaWYgKHBhcnNlU3RvcCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGogKz0gMTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIC8vIGRvbid0IHByb2Nlc3MgYXR0cmlidXRlcztcbiAgICAgIC8vIHRoZXJlIGFyZSBub25lXG4gICAgICBjYWNoZWRBdHRycyA9IHt9O1xuXG4gICAgICAvLyBpZiAoeG1sLmNoYXJDb2RlQXQoaSsxKSA9PT0gNDcpIHsgLy8gPC8uLi5cbiAgICAgIGlmICh3ID09PSA0NykgeyAvLyA8Ly4uLlxuICAgICAgICB0YWdTdGFydCA9IGZhbHNlO1xuICAgICAgICB0YWdFbmQgPSB0cnVlO1xuXG4gICAgICAgIGlmICghbm9kZVN0YWNrLmxlbmd0aCkge1xuICAgICAgICAgIHJldHVybiBoYW5kbGVFcnJvcignbWlzc2luZyBvcGVuIHRhZycpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdmVyaWZ5IG9wZW4gPC0+IGNsb3NlIHRhZyBtYXRjaFxuICAgICAgICB4ID0gZWxlbWVudE5hbWUgPSBub2RlU3RhY2sucG9wKCk7XG4gICAgICAgIHEgPSBpICsgMiArIHgubGVuZ3RoO1xuXG4gICAgICAgIGlmICh4bWwuc3Vic3RyaW5nKGkgKyAyLCBxKSAhPT0geCkge1xuICAgICAgICAgIHJldHVybiBoYW5kbGVFcnJvcignY2xvc2luZyB0YWcgbWlzbWF0Y2gnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHZlcmlmeSBjaGFycyBpbiBjbG9zZSB0YWdcbiAgICAgICAgZm9yICg7IHEgPCBqOyBxKyspIHtcbiAgICAgICAgICB3ID0geG1sLmNoYXJDb2RlQXQocSk7XG5cbiAgICAgICAgICBpZiAodyA9PT0gMzIgfHwgKHcgPiA4ICYmIHcgPCAxNCkpIHsgLy8gXFxmXFxuXFxyXFx0XFx2IHNwYWNlXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gaGFuZGxlRXJyb3IoJ2Nsb3NlIHRhZycpO1xuICAgICAgICB9XG5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICh4bWwuY2hhckNvZGVBdChqIC0gMSkgPT09IDQ3KSB7IC8vIC4uLi8+XG4gICAgICAgICAgeCA9IGVsZW1lbnROYW1lID0geG1sLnN1YnN0cmluZyhpICsgMSwgaiAtIDEpO1xuXG4gICAgICAgICAgdGFnU3RhcnQgPSB0cnVlO1xuICAgICAgICAgIHRhZ0VuZCA9IHRydWU7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB4ID0gZWxlbWVudE5hbWUgPSB4bWwuc3Vic3RyaW5nKGkgKyAxLCBqKTtcblxuICAgICAgICAgIHRhZ1N0YXJ0ID0gdHJ1ZTtcbiAgICAgICAgICB0YWdFbmQgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghKHcgPiA5NiAmJiB3IDwgMTIzIHx8IHcgPiA2NCAmJiB3IDwgOTEgfHwgdyA9PT0gOTUgfHwgdyA9PT0gNTgpKSB7IC8vIGNoYXIgOTVcIl9cIiA1OFwiOlwiXG4gICAgICAgICAgcmV0dXJuIGhhbmRsZUVycm9yKCdpbGxlZ2FsIGZpcnN0IGNoYXIgbm9kZU5hbWUnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAocSA9IDEsIHkgPSB4Lmxlbmd0aDsgcSA8IHk7IHErKykge1xuICAgICAgICAgIHcgPSB4LmNoYXJDb2RlQXQocSk7XG5cbiAgICAgICAgICBpZiAodyA+IDk2ICYmIHcgPCAxMjMgfHwgdyA+IDY0ICYmIHcgPCA5MSB8fCB3ID4gNDcgJiYgdyA8IDU5IHx8IHcgPT09IDQ1IHx8IHcgPT09IDk1IHx8IHcgPT0gNDYpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICh3ID09PSAzMiB8fCAodyA8IDE0ICYmIHcgPiA4KSkgeyAvLyBcXGZcXG5cXHJcXHRcXHYgc3BhY2VcbiAgICAgICAgICAgIGVsZW1lbnROYW1lID0geC5zdWJzdHJpbmcoMCwgcSk7XG5cbiAgICAgICAgICAgIC8vIG1heWJlIHRoZXJlIGFyZSBhdHRyaWJ1dGVzXG4gICAgICAgICAgICBjYWNoZWRBdHRycyA9IG51bGw7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gaGFuZGxlRXJyb3IoJ2ludmFsaWQgbm9kZU5hbWUnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGFnRW5kKSB7XG4gICAgICAgICAgbm9kZVN0YWNrLnB1c2goZWxlbWVudE5hbWUpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChpc05hbWVzcGFjZSkge1xuXG4gICAgICAgIF9uc01hdHJpeCA9IG5zTWF0cml4O1xuXG4gICAgICAgIGlmICh0YWdTdGFydCkge1xuXG4gICAgICAgICAgLy8gcmVtZW1iZXIgb2xkIG5hbWVzcGFjZVxuICAgICAgICAgIC8vIHVubGVzcyB3ZSdyZSBzZWxmLWNsb3NpbmdcbiAgICAgICAgICBpZiAoIXRhZ0VuZCkge1xuICAgICAgICAgICAgbnNNYXRyaXhTdGFjay5wdXNoKF9uc01hdHJpeCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGNhY2hlZEF0dHJzID09PSBudWxsKSB7XG5cbiAgICAgICAgICAgIC8vIHF1aWNrIGNoZWNrLCB3aGV0aGVyIHRoZXJlIG1heSBiZSBuYW1lc3BhY2VcbiAgICAgICAgICAgIC8vIGRlY2xhcmF0aW9ucyBvbiB0aGUgbm9kZTsgaWYgdGhhdCBpcyB0aGUgY2FzZVxuICAgICAgICAgICAgLy8gd2UgbmVlZCB0byBlYWdlcmx5IHBhcnNlIHRoZSBub2RlIGF0dHJpYnV0ZXNcbiAgICAgICAgICAgIGlmICgobWF5YmVOUyA9IHguaW5kZXhPZigneG1sbnMnLCBxKSAhPT0gLTEpKSB7XG4gICAgICAgICAgICAgIGF0dHJzU3RhcnQgPSBxO1xuICAgICAgICAgICAgICBhdHRyc1N0cmluZyA9IHg7XG5cbiAgICAgICAgICAgICAgZ2V0QXR0cnMoKTtcblxuICAgICAgICAgICAgICBtYXliZU5TID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgX2VsZW1lbnROYW1lID0gZWxlbWVudE5hbWU7XG5cbiAgICAgICAgdyA9IGVsZW1lbnROYW1lLmluZGV4T2YoJzonKTtcbiAgICAgICAgaWYgKHcgIT09IC0xKSB7XG4gICAgICAgICAgeG1sbnMgPSBuc01hdHJpeFtlbGVtZW50TmFtZS5zdWJzdHJpbmcoMCwgdyldO1xuXG4gICAgICAgICAgLy8gcHJlZml4IGdpdmVuOyBuYW1lc3BhY2UgbXVzdCBleGlzdFxuICAgICAgICAgIGlmICgheG1sbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBoYW5kbGVFcnJvcignbWlzc2luZyBuYW1lc3BhY2Ugb24gPCcgKyBfZWxlbWVudE5hbWUgKyAnPicpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGVsZW1lbnROYW1lID0gZWxlbWVudE5hbWUuc3Vic3RyKHcgKyAxKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB4bWxucyA9IG5zTWF0cml4Wyd4bWxucyddO1xuXG4gICAgICAgICAgLy8gaWYgbm8gZGVmYXVsdCBuYW1lc3BhY2UgaXMgZGVmaW5lZCxcbiAgICAgICAgICAvLyB3ZSdsbCBpbXBvcnQgdGhlIGVsZW1lbnQgYXMgYW5vbnltb3VzLlxuICAgICAgICAgIC8vXG4gICAgICAgICAgLy8gaXQgaXMgdXAgdG8gdXNlcnMgdG8gY29ycmVjdCB0aGF0IHRvIHRoZSBkb2N1bWVudCBkZWZpbmVkXG4gICAgICAgICAgLy8gdGFyZ2V0TmFtZXNwYWNlLCBvciB3aGF0ZXZlciB0aGVpciB1bmRlcnNhbmRpbmcgb2YgdGhlXG4gICAgICAgICAgLy8gWE1MIHNwZWMgbWFuZGF0ZXMuXG4gICAgICAgIH1cblxuICAgICAgICAvLyBhZGp1c3QgbmFtZXNwYWNlIHByZWZpeHMgYXMgY29uZmlndXJlZFxuICAgICAgICBpZiAoeG1sbnMpIHtcbiAgICAgICAgICBlbGVtZW50TmFtZSA9IHhtbG5zICsgJzonICsgZWxlbWVudE5hbWU7XG4gICAgICAgIH1cblxuICAgICAgfVxuXG4gICAgICBpZiAodGFnU3RhcnQpIHtcbiAgICAgICAgYXR0cnNTdGFydCA9IHE7XG4gICAgICAgIGF0dHJzU3RyaW5nID0geDtcblxuICAgICAgICBpZiAob25PcGVuVGFnKSB7XG4gICAgICAgICAgaWYgKHByb3h5KSB7XG4gICAgICAgICAgICBvbk9wZW5UYWcoZWxlbWVudFByb3h5LCBkZWNvZGVFbnRpdGllcywgdGFnRW5kLCBnZXRDb250ZXh0KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb25PcGVuVGFnKGVsZW1lbnROYW1lLCBnZXRBdHRycywgZGVjb2RlRW50aXRpZXMsIHRhZ0VuZCwgZ2V0Q29udGV4dCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHBhcnNlU3RvcCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICB9XG5cbiAgICAgIGlmICh0YWdFbmQpIHtcblxuICAgICAgICBpZiAob25DbG9zZVRhZykge1xuICAgICAgICAgIG9uQ2xvc2VUYWcocHJveHkgPyBlbGVtZW50UHJveHkgOiBlbGVtZW50TmFtZSwgZGVjb2RlRW50aXRpZXMsIHRhZ1N0YXJ0LCBnZXRDb250ZXh0KTtcblxuICAgICAgICAgIGlmIChwYXJzZVN0b3ApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZXN0b3JlIG9sZCBuYW1lc3BhY2VcbiAgICAgICAgaWYgKGlzTmFtZXNwYWNlKSB7XG4gICAgICAgICAgaWYgKCF0YWdTdGFydCkge1xuICAgICAgICAgICAgbnNNYXRyaXggPSBuc01hdHJpeFN0YWNrLnBvcCgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuc01hdHJpeCA9IF9uc01hdHJpeDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaiArPSAxO1xuICAgIH1cbiAgfSAvKiogZW5kIHBhcnNlICovXG5cbn1cblxuZXhwb3J0IHsgUGFyc2VyLCBkZWNvZGVFbnRpdGllcyBhcyBkZWNvZGUgfTtcbiIsImltcG9ydCB7IGZvckVhY2gsIGFzc2lnbiwgZmluZCwgZmlsdGVyLCBoYXMsIGlzU3RyaW5nLCBtYXAgfSBmcm9tICdtaW4tZGFzaCc7XG5pbXBvcnQgeyBQYXJzZXIgfSBmcm9tICdzYXhlbic7XG5pbXBvcnQgeyBjb2VyY2VUeXBlLCBwYXJzZU5hbWVOUywgaXNTaW1wbGVUeXBlLCBNb2RkbGUgfSBmcm9tICdtb2RkbGUnO1xuXG5mdW5jdGlvbiBoYXNMb3dlckNhc2VBbGlhcyhwa2cpIHtcbiAgcmV0dXJuIHBrZy54bWwgJiYgcGtnLnhtbC50YWdBbGlhcyA9PT0gJ2xvd2VyQ2FzZSc7XG59XG5cbnZhciBERUZBVUxUX05TX01BUCA9IHtcbiAgJ3hzaSc6ICdodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYS1pbnN0YW5jZScsXG4gICd4bWwnOiAnaHR0cDovL3d3dy53My5vcmcvWE1MLzE5OTgvbmFtZXNwYWNlJ1xufTtcblxudmFyIFhTSV9UWVBFID0gJ3hzaTp0eXBlJztcblxuZnVuY3Rpb24gc2VyaWFsaXplRm9ybWF0KGVsZW1lbnQpIHtcbiAgcmV0dXJuIGVsZW1lbnQueG1sICYmIGVsZW1lbnQueG1sLnNlcmlhbGl6ZTtcbn1cblxuZnVuY3Rpb24gc2VyaWFsaXplQXNUeXBlKGVsZW1lbnQpIHtcbiAgcmV0dXJuIHNlcmlhbGl6ZUZvcm1hdChlbGVtZW50KSA9PT0gWFNJX1RZUEU7XG59XG5cbmZ1bmN0aW9uIHNlcmlhbGl6ZUFzUHJvcGVydHkoZWxlbWVudCkge1xuICByZXR1cm4gc2VyaWFsaXplRm9ybWF0KGVsZW1lbnQpID09PSAncHJvcGVydHknO1xufVxuXG5mdW5jdGlvbiBjYXBpdGFsaXplKHN0cikge1xuICByZXR1cm4gc3RyLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3RyLnNsaWNlKDEpO1xufVxuXG5mdW5jdGlvbiBhbGlhc1RvTmFtZShhbGlhc05zLCBwa2cpIHtcblxuICBpZiAoIWhhc0xvd2VyQ2FzZUFsaWFzKHBrZykpIHtcbiAgICByZXR1cm4gYWxpYXNOcy5uYW1lO1xuICB9XG5cbiAgcmV0dXJuIGFsaWFzTnMucHJlZml4ICsgJzonICsgY2FwaXRhbGl6ZShhbGlhc05zLmxvY2FsTmFtZSk7XG59XG5cbmZ1bmN0aW9uIHByZWZpeGVkVG9OYW1lKG5hbWVOcywgcGtnKSB7XG5cbiAgdmFyIG5hbWUgPSBuYW1lTnMubmFtZSxcbiAgICAgIGxvY2FsTmFtZSA9IG5hbWVOcy5sb2NhbE5hbWU7XG5cbiAgdmFyIHR5cGVQcmVmaXggPSBwa2cueG1sICYmIHBrZy54bWwudHlwZVByZWZpeDtcblxuICBpZiAodHlwZVByZWZpeCAmJiBsb2NhbE5hbWUuaW5kZXhPZih0eXBlUHJlZml4KSA9PT0gMCkge1xuICAgIHJldHVybiBuYW1lTnMucHJlZml4ICsgJzonICsgbG9jYWxOYW1lLnNsaWNlKHR5cGVQcmVmaXgubGVuZ3RoKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbmFtZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBub3JtYWxpemVYc2lUeXBlTmFtZShuYW1lLCBtb2RlbCkge1xuXG4gIHZhciBuYW1lTnMgPSBwYXJzZU5hbWVOUyhuYW1lKTtcbiAgdmFyIHBrZyA9IG1vZGVsLmdldFBhY2thZ2UobmFtZU5zLnByZWZpeCk7XG5cbiAgcmV0dXJuIHByZWZpeGVkVG9OYW1lKG5hbWVOcywgcGtnKTtcbn1cblxuZnVuY3Rpb24gZXJyb3IobWVzc2FnZSkge1xuICByZXR1cm4gbmV3IEVycm9yKG1lc3NhZ2UpO1xufVxuXG4vKipcbiAqIEdldCB0aGUgbW9kZGxlIGRlc2NyaXB0b3IgZm9yIGEgZ2l2ZW4gaW5zdGFuY2Ugb3IgdHlwZS5cbiAqXG4gKiBAcGFyYW0gIHtNb2RkbGVFbGVtZW50fEZ1bmN0aW9ufSBlbGVtZW50XG4gKlxuICogQHJldHVybiB7T2JqZWN0fSB0aGUgbW9kZGxlIGRlc2NyaXB0b3JcbiAqL1xuZnVuY3Rpb24gZ2V0TW9kZGxlRGVzY3JpcHRvcihlbGVtZW50KSB7XG4gIHJldHVybiBlbGVtZW50LiRkZXNjcmlwdG9yO1xufVxuXG5cbi8qKlxuICogQSBwYXJzZSBjb250ZXh0LlxuICpcbiAqIEBjbGFzc1xuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gKiBAcGFyYW0ge0VsZW1lbnRIYW5kbGVyfSBvcHRpb25zLnJvb3RIYW5kbGVyIHRoZSByb290IGhhbmRsZXIgZm9yIHBhcnNpbmcgYSBkb2N1bWVudFxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5sYXg9ZmFsc2VdIHdoZXRoZXIgb3Igbm90IHRvIGlnbm9yZSBpbnZhbGlkIGVsZW1lbnRzXG4gKi9cbmZ1bmN0aW9uIENvbnRleHQob3B0aW9ucykge1xuXG4gIC8qKlxuICAgKiBAcHJvcGVydHkge0VsZW1lbnRIYW5kbGVyfSByb290SGFuZGxlclxuICAgKi9cblxuICAvKipcbiAgICogQHByb3BlcnR5IHtCb29sZWFufSBsYXhcbiAgICovXG5cbiAgYXNzaWduKHRoaXMsIG9wdGlvbnMpO1xuXG4gIHRoaXMuZWxlbWVudHNCeUlkID0ge307XG4gIHRoaXMucmVmZXJlbmNlcyA9IFtdO1xuICB0aGlzLndhcm5pbmdzID0gW107XG5cbiAgLyoqXG4gICAqIEFkZCBhbiB1bnJlc29sdmVkIHJlZmVyZW5jZS5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IHJlZmVyZW5jZVxuICAgKi9cbiAgdGhpcy5hZGRSZWZlcmVuY2UgPSBmdW5jdGlvbihyZWZlcmVuY2UpIHtcbiAgICB0aGlzLnJlZmVyZW5jZXMucHVzaChyZWZlcmVuY2UpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBBZGQgYSBwcm9jZXNzZWQgZWxlbWVudC5cbiAgICpcbiAgICogQHBhcmFtIHtNb2RkbGVFbGVtZW50fSBlbGVtZW50XG4gICAqL1xuICB0aGlzLmFkZEVsZW1lbnQgPSBmdW5jdGlvbihlbGVtZW50KSB7XG5cbiAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgIHRocm93IGVycm9yKCdleHBlY3RlZCBlbGVtZW50Jyk7XG4gICAgfVxuXG4gICAgdmFyIGVsZW1lbnRzQnlJZCA9IHRoaXMuZWxlbWVudHNCeUlkO1xuXG4gICAgdmFyIGRlc2NyaXB0b3IgPSBnZXRNb2RkbGVEZXNjcmlwdG9yKGVsZW1lbnQpO1xuXG4gICAgdmFyIGlkUHJvcGVydHkgPSBkZXNjcmlwdG9yLmlkUHJvcGVydHksXG4gICAgICAgIGlkO1xuXG4gICAgaWYgKGlkUHJvcGVydHkpIHtcbiAgICAgIGlkID0gZWxlbWVudC5nZXQoaWRQcm9wZXJ0eS5uYW1lKTtcblxuICAgICAgaWYgKGlkKSB7XG5cbiAgICAgICAgLy8gZm9yIFFOYW1lIHZhbGlkYXRpb24gYXMgcGVyIGh0dHA6Ly93d3cudzMub3JnL1RSL1JFQy14bWwvI05ULU5hbWVDaGFyXG4gICAgICAgIGlmICghL14oW2Etel1bXFx3LS5dKjopP1thLXpfXVtcXHctLl0qJC9pLnRlc3QoaWQpKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbGxlZ2FsIElEIDwnICsgaWQgKyAnPicpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGVsZW1lbnRzQnlJZFtpZF0pIHtcbiAgICAgICAgICB0aHJvdyBlcnJvcignZHVwbGljYXRlIElEIDwnICsgaWQgKyAnPicpO1xuICAgICAgICB9XG5cbiAgICAgICAgZWxlbWVudHNCeUlkW2lkXSA9IGVsZW1lbnQ7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBBZGQgYW4gaW1wb3J0IHdhcm5pbmcuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSB3YXJuaW5nXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB3YXJuaW5nLm1lc3NhZ2VcbiAgICogQHBhcmFtIHtFcnJvcn0gW3dhcm5pbmcuZXJyb3JdXG4gICAqL1xuICB0aGlzLmFkZFdhcm5pbmcgPSBmdW5jdGlvbih3YXJuaW5nKSB7XG4gICAgdGhpcy53YXJuaW5ncy5wdXNoKHdhcm5pbmcpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBCYXNlSGFuZGxlcigpIHt9XG5cbkJhc2VIYW5kbGVyLnByb3RvdHlwZS5oYW5kbGVFbmQgPSBmdW5jdGlvbigpIHt9O1xuQmFzZUhhbmRsZXIucHJvdG90eXBlLmhhbmRsZVRleHQgPSBmdW5jdGlvbigpIHt9O1xuQmFzZUhhbmRsZXIucHJvdG90eXBlLmhhbmRsZU5vZGUgPSBmdW5jdGlvbigpIHt9O1xuXG5cbi8qKlxuICogQSBzaW1wbGUgcGFzcyB0aHJvdWdoIGhhbmRsZXIgdGhhdCBkb2VzIG5vdGhpbmcgZXhjZXB0IGZvclxuICogaWdub3JpbmcgYWxsIGlucHV0IGl0IHJlY2VpdmVzLlxuICpcbiAqIFRoaXMgaXMgdXNlZCB0byBpZ25vcmUgdW5rbm93biBlbGVtZW50cyBhbmRcbiAqIGF0dHJpYnV0ZXMuXG4gKi9cbmZ1bmN0aW9uIE5vb3BIYW5kbGVyKCkgeyB9XG5cbk5vb3BIYW5kbGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQmFzZUhhbmRsZXIucHJvdG90eXBlKTtcblxuTm9vcEhhbmRsZXIucHJvdG90eXBlLmhhbmRsZU5vZGUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5mdW5jdGlvbiBCb2R5SGFuZGxlcigpIHt9XG5cbkJvZHlIYW5kbGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQmFzZUhhbmRsZXIucHJvdG90eXBlKTtcblxuQm9keUhhbmRsZXIucHJvdG90eXBlLmhhbmRsZVRleHQgPSBmdW5jdGlvbih0ZXh0KSB7XG4gIHRoaXMuYm9keSA9ICh0aGlzLmJvZHkgfHwgJycpICsgdGV4dDtcbn07XG5cbmZ1bmN0aW9uIFJlZmVyZW5jZUhhbmRsZXIocHJvcGVydHksIGNvbnRleHQpIHtcbiAgdGhpcy5wcm9wZXJ0eSA9IHByb3BlcnR5O1xuICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xufVxuXG5SZWZlcmVuY2VIYW5kbGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQm9keUhhbmRsZXIucHJvdG90eXBlKTtcblxuUmVmZXJlbmNlSGFuZGxlci5wcm90b3R5cGUuaGFuZGxlTm9kZSA9IGZ1bmN0aW9uKG5vZGUpIHtcblxuICBpZiAodGhpcy5lbGVtZW50KSB7XG4gICAgdGhyb3cgZXJyb3IoJ2V4cGVjdGVkIG5vIHN1YiBub2RlcycpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuZWxlbWVudCA9IHRoaXMuY3JlYXRlUmVmZXJlbmNlKG5vZGUpO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5SZWZlcmVuY2VIYW5kbGVyLnByb3RvdHlwZS5oYW5kbGVFbmQgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5lbGVtZW50LmlkID0gdGhpcy5ib2R5O1xufTtcblxuUmVmZXJlbmNlSGFuZGxlci5wcm90b3R5cGUuY3JlYXRlUmVmZXJlbmNlID0gZnVuY3Rpb24obm9kZSkge1xuICByZXR1cm4ge1xuICAgIHByb3BlcnR5OiB0aGlzLnByb3BlcnR5Lm5zLm5hbWUsXG4gICAgaWQ6ICcnXG4gIH07XG59O1xuXG5mdW5jdGlvbiBWYWx1ZUhhbmRsZXIocHJvcGVydHlEZXNjLCBlbGVtZW50KSB7XG4gIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gIHRoaXMucHJvcGVydHlEZXNjID0gcHJvcGVydHlEZXNjO1xufVxuXG5WYWx1ZUhhbmRsZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShCb2R5SGFuZGxlci5wcm90b3R5cGUpO1xuXG5WYWx1ZUhhbmRsZXIucHJvdG90eXBlLmhhbmRsZUVuZCA9IGZ1bmN0aW9uKCkge1xuXG4gIHZhciB2YWx1ZSA9IHRoaXMuYm9keSB8fCAnJyxcbiAgICAgIGVsZW1lbnQgPSB0aGlzLmVsZW1lbnQsXG4gICAgICBwcm9wZXJ0eURlc2MgPSB0aGlzLnByb3BlcnR5RGVzYztcblxuICB2YWx1ZSA9IGNvZXJjZVR5cGUocHJvcGVydHlEZXNjLnR5cGUsIHZhbHVlKTtcblxuICBpZiAocHJvcGVydHlEZXNjLmlzTWFueSkge1xuICAgIGVsZW1lbnQuZ2V0KHByb3BlcnR5RGVzYy5uYW1lKS5wdXNoKHZhbHVlKTtcbiAgfSBlbHNlIHtcbiAgICBlbGVtZW50LnNldChwcm9wZXJ0eURlc2MubmFtZSwgdmFsdWUpO1xuICB9XG59O1xuXG5cbmZ1bmN0aW9uIEJhc2VFbGVtZW50SGFuZGxlcigpIHt9XG5cbkJhc2VFbGVtZW50SGFuZGxlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEJvZHlIYW5kbGVyLnByb3RvdHlwZSk7XG5cbkJhc2VFbGVtZW50SGFuZGxlci5wcm90b3R5cGUuaGFuZGxlTm9kZSA9IGZ1bmN0aW9uKG5vZGUpIHtcbiAgdmFyIHBhcnNlciA9IHRoaXMsXG4gICAgICBlbGVtZW50ID0gdGhpcy5lbGVtZW50O1xuXG4gIGlmICghZWxlbWVudCkge1xuICAgIGVsZW1lbnQgPSB0aGlzLmVsZW1lbnQgPSB0aGlzLmNyZWF0ZUVsZW1lbnQobm9kZSk7XG5cbiAgICB0aGlzLmNvbnRleHQuYWRkRWxlbWVudChlbGVtZW50KTtcbiAgfSBlbHNlIHtcbiAgICBwYXJzZXIgPSB0aGlzLmhhbmRsZUNoaWxkKG5vZGUpO1xuICB9XG5cbiAgcmV0dXJuIHBhcnNlcjtcbn07XG5cbi8qKlxuICogQGNsYXNzIFJlYWRlci5FbGVtZW50SGFuZGxlclxuICpcbiAqL1xuZnVuY3Rpb24gRWxlbWVudEhhbmRsZXIobW9kZWwsIHR5cGVOYW1lLCBjb250ZXh0KSB7XG4gIHRoaXMubW9kZWwgPSBtb2RlbDtcbiAgdGhpcy50eXBlID0gbW9kZWwuZ2V0VHlwZSh0eXBlTmFtZSk7XG4gIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG59XG5cbkVsZW1lbnRIYW5kbGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQmFzZUVsZW1lbnRIYW5kbGVyLnByb3RvdHlwZSk7XG5cbkVsZW1lbnRIYW5kbGVyLnByb3RvdHlwZS5hZGRSZWZlcmVuY2UgPSBmdW5jdGlvbihyZWZlcmVuY2UpIHtcbiAgdGhpcy5jb250ZXh0LmFkZFJlZmVyZW5jZShyZWZlcmVuY2UpO1xufTtcblxuRWxlbWVudEhhbmRsZXIucHJvdG90eXBlLmhhbmRsZVRleHQgPSBmdW5jdGlvbih0ZXh0KSB7XG5cbiAgdmFyIGVsZW1lbnQgPSB0aGlzLmVsZW1lbnQsXG4gICAgICBkZXNjcmlwdG9yID0gZ2V0TW9kZGxlRGVzY3JpcHRvcihlbGVtZW50KSxcbiAgICAgIGJvZHlQcm9wZXJ0eSA9IGRlc2NyaXB0b3IuYm9keVByb3BlcnR5O1xuXG4gIGlmICghYm9keVByb3BlcnR5KSB7XG4gICAgdGhyb3cgZXJyb3IoJ3VuZXhwZWN0ZWQgYm9keSB0ZXh0IDwnICsgdGV4dCArICc+Jyk7XG4gIH1cblxuICBCb2R5SGFuZGxlci5wcm90b3R5cGUuaGFuZGxlVGV4dC5jYWxsKHRoaXMsIHRleHQpO1xufTtcblxuRWxlbWVudEhhbmRsZXIucHJvdG90eXBlLmhhbmRsZUVuZCA9IGZ1bmN0aW9uKCkge1xuXG4gIHZhciB2YWx1ZSA9IHRoaXMuYm9keSxcbiAgICAgIGVsZW1lbnQgPSB0aGlzLmVsZW1lbnQsXG4gICAgICBkZXNjcmlwdG9yID0gZ2V0TW9kZGxlRGVzY3JpcHRvcihlbGVtZW50KSxcbiAgICAgIGJvZHlQcm9wZXJ0eSA9IGRlc2NyaXB0b3IuYm9keVByb3BlcnR5O1xuXG4gIGlmIChib2R5UHJvcGVydHkgJiYgdmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgIHZhbHVlID0gY29lcmNlVHlwZShib2R5UHJvcGVydHkudHlwZSwgdmFsdWUpO1xuICAgIGVsZW1lbnQuc2V0KGJvZHlQcm9wZXJ0eS5uYW1lLCB2YWx1ZSk7XG4gIH1cbn07XG5cbi8qKlxuICogQ3JlYXRlIGFuIGluc3RhbmNlIG9mIHRoZSBtb2RlbCBmcm9tIHRoZSBnaXZlbiBub2RlLlxuICpcbiAqIEBwYXJhbSAge0VsZW1lbnR9IG5vZGUgdGhlIHhtbCBub2RlXG4gKi9cbkVsZW1lbnRIYW5kbGVyLnByb3RvdHlwZS5jcmVhdGVFbGVtZW50ID0gZnVuY3Rpb24obm9kZSkge1xuICB2YXIgYXR0cmlidXRlcyA9IG5vZGUuYXR0cmlidXRlcyxcbiAgICAgIFR5cGUgPSB0aGlzLnR5cGUsXG4gICAgICBkZXNjcmlwdG9yID0gZ2V0TW9kZGxlRGVzY3JpcHRvcihUeXBlKSxcbiAgICAgIGNvbnRleHQgPSB0aGlzLmNvbnRleHQsXG4gICAgICBpbnN0YW5jZSA9IG5ldyBUeXBlKHt9KSxcbiAgICAgIG1vZGVsID0gdGhpcy5tb2RlbCxcbiAgICAgIHByb3BOYW1lTnM7XG5cbiAgZm9yRWFjaChhdHRyaWJ1dGVzLCBmdW5jdGlvbih2YWx1ZSwgbmFtZSkge1xuXG4gICAgdmFyIHByb3AgPSBkZXNjcmlwdG9yLnByb3BlcnRpZXNCeU5hbWVbbmFtZV0sXG4gICAgICAgIHZhbHVlcztcblxuICAgIGlmIChwcm9wICYmIHByb3AuaXNSZWZlcmVuY2UpIHtcblxuICAgICAgaWYgKCFwcm9wLmlzTWFueSkge1xuICAgICAgICBjb250ZXh0LmFkZFJlZmVyZW5jZSh7XG4gICAgICAgICAgZWxlbWVudDogaW5zdGFuY2UsXG4gICAgICAgICAgcHJvcGVydHk6IHByb3AubnMubmFtZSxcbiAgICAgICAgICBpZDogdmFsdWVcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuXG4gICAgICAgIC8vIElEUkVGUzogcGFyc2UgcmVmZXJlbmNlcyBhcyB3aGl0ZXNwYWNlLXNlcGFyYXRlZCBsaXN0XG4gICAgICAgIHZhbHVlcyA9IHZhbHVlLnNwbGl0KCcgJyk7XG5cbiAgICAgICAgZm9yRWFjaCh2YWx1ZXMsIGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgICBjb250ZXh0LmFkZFJlZmVyZW5jZSh7XG4gICAgICAgICAgICBlbGVtZW50OiBpbnN0YW5jZSxcbiAgICAgICAgICAgIHByb3BlcnR5OiBwcm9wLm5zLm5hbWUsXG4gICAgICAgICAgICBpZDogdlxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAocHJvcCkge1xuICAgICAgICB2YWx1ZSA9IGNvZXJjZVR5cGUocHJvcC50eXBlLCB2YWx1ZSk7XG4gICAgICB9IGVsc2VcbiAgICAgIGlmIChuYW1lICE9PSAneG1sbnMnKSB7XG4gICAgICAgIHByb3BOYW1lTnMgPSBwYXJzZU5hbWVOUyhuYW1lLCBkZXNjcmlwdG9yLm5zLnByZWZpeCk7XG5cbiAgICAgICAgLy8gY2hlY2sgd2hldGhlciBhdHRyaWJ1dGUgaXMgZGVmaW5lZCBpbiBhIHdlbGwta25vd24gbmFtZXNwYWNlXG4gICAgICAgIC8vIGlmIHRoYXQgaXMgdGhlIGNhc2Ugd2UgZW1pdCBhIHdhcm5pbmcgdG8gaW5kaWNhdGUgcG90ZW50aWFsIG1pc3VzZVxuICAgICAgICBpZiAobW9kZWwuZ2V0UGFja2FnZShwcm9wTmFtZU5zLnByZWZpeCkpIHtcblxuICAgICAgICAgIGNvbnRleHQuYWRkV2FybmluZyh7XG4gICAgICAgICAgICBtZXNzYWdlOiAndW5rbm93biBhdHRyaWJ1dGUgPCcgKyBuYW1lICsgJz4nLFxuICAgICAgICAgICAgZWxlbWVudDogaW5zdGFuY2UsXG4gICAgICAgICAgICBwcm9wZXJ0eTogbmFtZSxcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGluc3RhbmNlLnNldChuYW1lLCB2YWx1ZSk7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gaW5zdGFuY2U7XG59O1xuXG5FbGVtZW50SGFuZGxlci5wcm90b3R5cGUuZ2V0UHJvcGVydHlGb3JOb2RlID0gZnVuY3Rpb24obm9kZSkge1xuXG4gIHZhciBuYW1lID0gbm9kZS5uYW1lO1xuICB2YXIgbmFtZU5zID0gcGFyc2VOYW1lTlMobmFtZSk7XG5cbiAgdmFyIHR5cGUgPSB0aGlzLnR5cGUsXG4gICAgICBtb2RlbCA9IHRoaXMubW9kZWwsXG4gICAgICBkZXNjcmlwdG9yID0gZ2V0TW9kZGxlRGVzY3JpcHRvcih0eXBlKTtcblxuICB2YXIgcHJvcGVydHlOYW1lID0gbmFtZU5zLm5hbWUsXG4gICAgICBwcm9wZXJ0eSA9IGRlc2NyaXB0b3IucHJvcGVydGllc0J5TmFtZVtwcm9wZXJ0eU5hbWVdLFxuICAgICAgZWxlbWVudFR5cGVOYW1lLFxuICAgICAgZWxlbWVudFR5cGU7XG5cbiAgLy8gc2VhcmNoIGZvciBwcm9wZXJ0aWVzIGJ5IG5hbWUgZmlyc3RcblxuICBpZiAocHJvcGVydHkgJiYgIXByb3BlcnR5LmlzQXR0cikge1xuXG4gICAgaWYgKHNlcmlhbGl6ZUFzVHlwZShwcm9wZXJ0eSkpIHtcbiAgICAgIGVsZW1lbnRUeXBlTmFtZSA9IG5vZGUuYXR0cmlidXRlc1tYU0lfVFlQRV07XG5cbiAgICAgIC8vIHhzaSB0eXBlIGlzIG9wdGlvbmFsLCBpZiBpdCBkb2VzIG5vdCBleGlzdHMgdGhlXG4gICAgICAvLyBkZWZhdWx0IHR5cGUgaXMgYXNzdW1lZFxuICAgICAgaWYgKGVsZW1lbnRUeXBlTmFtZSkge1xuXG4gICAgICAgIC8vIHRha2UgcG9zc2libGUgdHlwZSBwcmVmaXhlcyBmcm9tIFhNTFxuICAgICAgICAvLyBpbnRvIGFjY291bnQsIGkuZS46IHhzaTp0eXBlPVwidHtBY3R1YWxUeXBlfVwiXG4gICAgICAgIGVsZW1lbnRUeXBlTmFtZSA9IG5vcm1hbGl6ZVhzaVR5cGVOYW1lKGVsZW1lbnRUeXBlTmFtZSwgbW9kZWwpO1xuXG4gICAgICAgIGVsZW1lbnRUeXBlID0gbW9kZWwuZ2V0VHlwZShlbGVtZW50VHlwZU5hbWUpO1xuXG4gICAgICAgIHJldHVybiBhc3NpZ24oe30sIHByb3BlcnR5LCB7XG4gICAgICAgICAgZWZmZWN0aXZlVHlwZTogZ2V0TW9kZGxlRGVzY3JpcHRvcihlbGVtZW50VHlwZSkubmFtZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBzZWFyY2ggZm9yIHByb3BlcnRpZXMgYnkgbmFtZSBmaXJzdFxuICAgIHJldHVybiBwcm9wZXJ0eTtcbiAgfVxuXG4gIHZhciBwa2cgPSBtb2RlbC5nZXRQYWNrYWdlKG5hbWVOcy5wcmVmaXgpO1xuXG4gIGlmIChwa2cpIHtcbiAgICBlbGVtZW50VHlwZU5hbWUgPSBhbGlhc1RvTmFtZShuYW1lTnMsIHBrZyk7XG4gICAgZWxlbWVudFR5cGUgPSBtb2RlbC5nZXRUeXBlKGVsZW1lbnRUeXBlTmFtZSk7XG5cbiAgICAvLyBzZWFyY2ggZm9yIGNvbGxlY3Rpb24gbWVtYmVycyBsYXRlclxuICAgIHByb3BlcnR5ID0gZmluZChkZXNjcmlwdG9yLnByb3BlcnRpZXMsIGZ1bmN0aW9uKHApIHtcbiAgICAgIHJldHVybiAhcC5pc1ZpcnR1YWwgJiYgIXAuaXNSZWZlcmVuY2UgJiYgIXAuaXNBdHRyaWJ1dGUgJiYgZWxlbWVudFR5cGUuaGFzVHlwZShwLnR5cGUpO1xuICAgIH0pO1xuXG4gICAgaWYgKHByb3BlcnR5KSB7XG4gICAgICByZXR1cm4gYXNzaWduKHt9LCBwcm9wZXJ0eSwge1xuICAgICAgICBlZmZlY3RpdmVUeXBlOiBnZXRNb2RkbGVEZXNjcmlwdG9yKGVsZW1lbnRUeXBlKS5uYW1lXG4gICAgICB9KTtcbiAgICB9XG4gIH0gZWxzZSB7XG5cbiAgICAvLyBwYXJzZSB1bmtub3duIGVsZW1lbnQgKG1heWJlIGV4dGVuc2lvbilcbiAgICBwcm9wZXJ0eSA9IGZpbmQoZGVzY3JpcHRvci5wcm9wZXJ0aWVzLCBmdW5jdGlvbihwKSB7XG4gICAgICByZXR1cm4gIXAuaXNSZWZlcmVuY2UgJiYgIXAuaXNBdHRyaWJ1dGUgJiYgcC50eXBlID09PSAnRWxlbWVudCc7XG4gICAgfSk7XG5cbiAgICBpZiAocHJvcGVydHkpIHtcbiAgICAgIHJldHVybiBwcm9wZXJ0eTtcbiAgICB9XG4gIH1cblxuICB0aHJvdyBlcnJvcigndW5yZWNvZ25pemVkIGVsZW1lbnQgPCcgKyBuYW1lTnMubmFtZSArICc+Jyk7XG59O1xuXG5FbGVtZW50SGFuZGxlci5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuICdFbGVtZW50RGVzY3JpcHRvclsnICsgZ2V0TW9kZGxlRGVzY3JpcHRvcih0aGlzLnR5cGUpLm5hbWUgKyAnXSc7XG59O1xuXG5FbGVtZW50SGFuZGxlci5wcm90b3R5cGUudmFsdWVIYW5kbGVyID0gZnVuY3Rpb24ocHJvcGVydHlEZXNjLCBlbGVtZW50KSB7XG4gIHJldHVybiBuZXcgVmFsdWVIYW5kbGVyKHByb3BlcnR5RGVzYywgZWxlbWVudCk7XG59O1xuXG5FbGVtZW50SGFuZGxlci5wcm90b3R5cGUucmVmZXJlbmNlSGFuZGxlciA9IGZ1bmN0aW9uKHByb3BlcnR5RGVzYykge1xuICByZXR1cm4gbmV3IFJlZmVyZW5jZUhhbmRsZXIocHJvcGVydHlEZXNjLCB0aGlzLmNvbnRleHQpO1xufTtcblxuRWxlbWVudEhhbmRsZXIucHJvdG90eXBlLmhhbmRsZXIgPSBmdW5jdGlvbih0eXBlKSB7XG4gIGlmICh0eXBlID09PSAnRWxlbWVudCcpIHtcbiAgICByZXR1cm4gbmV3IEdlbmVyaWNFbGVtZW50SGFuZGxlcih0aGlzLm1vZGVsLCB0eXBlLCB0aGlzLmNvbnRleHQpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBuZXcgRWxlbWVudEhhbmRsZXIodGhpcy5tb2RlbCwgdHlwZSwgdGhpcy5jb250ZXh0KTtcbiAgfVxufTtcblxuLyoqXG4gKiBIYW5kbGUgdGhlIGNoaWxkIGVsZW1lbnQgcGFyc2luZ1xuICpcbiAqIEBwYXJhbSAge0VsZW1lbnR9IG5vZGUgdGhlIHhtbCBub2RlXG4gKi9cbkVsZW1lbnRIYW5kbGVyLnByb3RvdHlwZS5oYW5kbGVDaGlsZCA9IGZ1bmN0aW9uKG5vZGUpIHtcbiAgdmFyIHByb3BlcnR5RGVzYywgdHlwZSwgZWxlbWVudCwgY2hpbGRIYW5kbGVyO1xuXG4gIHByb3BlcnR5RGVzYyA9IHRoaXMuZ2V0UHJvcGVydHlGb3JOb2RlKG5vZGUpO1xuICBlbGVtZW50ID0gdGhpcy5lbGVtZW50O1xuXG4gIHR5cGUgPSBwcm9wZXJ0eURlc2MuZWZmZWN0aXZlVHlwZSB8fCBwcm9wZXJ0eURlc2MudHlwZTtcblxuICBpZiAoaXNTaW1wbGVUeXBlKHR5cGUpKSB7XG4gICAgcmV0dXJuIHRoaXMudmFsdWVIYW5kbGVyKHByb3BlcnR5RGVzYywgZWxlbWVudCk7XG4gIH1cblxuICBpZiAocHJvcGVydHlEZXNjLmlzUmVmZXJlbmNlKSB7XG4gICAgY2hpbGRIYW5kbGVyID0gdGhpcy5yZWZlcmVuY2VIYW5kbGVyKHByb3BlcnR5RGVzYykuaGFuZGxlTm9kZShub2RlKTtcbiAgfSBlbHNlIHtcbiAgICBjaGlsZEhhbmRsZXIgPSB0aGlzLmhhbmRsZXIodHlwZSkuaGFuZGxlTm9kZShub2RlKTtcbiAgfVxuXG4gIHZhciBuZXdFbGVtZW50ID0gY2hpbGRIYW5kbGVyLmVsZW1lbnQ7XG5cbiAgLy8gY2hpbGQgaGFuZGxlcyBtYXkgZGVjaWRlIHRvIHNraXAgZWxlbWVudHNcbiAgLy8gYnkgbm90IHJldHVybmluZyBhbnl0aGluZ1xuICBpZiAobmV3RWxlbWVudCAhPT0gdW5kZWZpbmVkKSB7XG5cbiAgICBpZiAocHJvcGVydHlEZXNjLmlzTWFueSkge1xuICAgICAgZWxlbWVudC5nZXQocHJvcGVydHlEZXNjLm5hbWUpLnB1c2gobmV3RWxlbWVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsZW1lbnQuc2V0KHByb3BlcnR5RGVzYy5uYW1lLCBuZXdFbGVtZW50KTtcbiAgICB9XG5cbiAgICBpZiAocHJvcGVydHlEZXNjLmlzUmVmZXJlbmNlKSB7XG4gICAgICBhc3NpZ24obmV3RWxlbWVudCwge1xuICAgICAgICBlbGVtZW50OiBlbGVtZW50XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5jb250ZXh0LmFkZFJlZmVyZW5jZShuZXdFbGVtZW50KTtcbiAgICB9IGVsc2Uge1xuXG4gICAgICAvLyBlc3RhYmxpc2ggY2hpbGQgLT4gcGFyZW50IHJlbGF0aW9uc2hpcFxuICAgICAgbmV3RWxlbWVudC4kcGFyZW50ID0gZWxlbWVudDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gY2hpbGRIYW5kbGVyO1xufTtcblxuLyoqXG4gKiBBbiBlbGVtZW50IGhhbmRsZXIgdGhhdCBwZXJmb3JtcyBzcGVjaWFsIHZhbGlkYXRpb25cbiAqIHRvIGVuc3VyZSB0aGUgbm9kZSBpdCBnZXRzIGluaXRpYWxpemVkIHdpdGggbWF0Y2hlc1xuICogdGhlIGhhbmRsZXJzIHR5cGUgKG5hbWVzcGFjZSB3aXNlKS5cbiAqXG4gKiBAcGFyYW0ge01vZGRsZX0gbW9kZWxcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlTmFtZVxuICogQHBhcmFtIHtDb250ZXh0fSBjb250ZXh0XG4gKi9cbmZ1bmN0aW9uIFJvb3RFbGVtZW50SGFuZGxlcihtb2RlbCwgdHlwZU5hbWUsIGNvbnRleHQpIHtcbiAgRWxlbWVudEhhbmRsZXIuY2FsbCh0aGlzLCBtb2RlbCwgdHlwZU5hbWUsIGNvbnRleHQpO1xufVxuXG5Sb290RWxlbWVudEhhbmRsZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFbGVtZW50SGFuZGxlci5wcm90b3R5cGUpO1xuXG5Sb290RWxlbWVudEhhbmRsZXIucHJvdG90eXBlLmNyZWF0ZUVsZW1lbnQgPSBmdW5jdGlvbihub2RlKSB7XG5cbiAgdmFyIG5hbWUgPSBub2RlLm5hbWUsXG4gICAgICBuYW1lTnMgPSBwYXJzZU5hbWVOUyhuYW1lKSxcbiAgICAgIG1vZGVsID0gdGhpcy5tb2RlbCxcbiAgICAgIHR5cGUgPSB0aGlzLnR5cGUsXG4gICAgICBwa2cgPSBtb2RlbC5nZXRQYWNrYWdlKG5hbWVOcy5wcmVmaXgpLFxuICAgICAgdHlwZU5hbWUgPSBwa2cgJiYgYWxpYXNUb05hbWUobmFtZU5zLCBwa2cpIHx8IG5hbWU7XG5cbiAgLy8gdmVyaWZ5IHRoZSBjb3JyZWN0IG5hbWVzcGFjZSBpZiB3ZSBwYXJzZVxuICAvLyB0aGUgZmlyc3QgZWxlbWVudCBpbiB0aGUgaGFuZGxlciB0cmVlXG4gIC8vXG4gIC8vIHRoaXMgZW5zdXJlcyB3ZSBkb24ndCBtaXN0YWtlbmx5IGltcG9ydCB3cm9uZyBuYW1lc3BhY2UgZWxlbWVudHNcbiAgaWYgKCF0eXBlLmhhc1R5cGUodHlwZU5hbWUpKSB7XG4gICAgdGhyb3cgZXJyb3IoJ3VuZXhwZWN0ZWQgZWxlbWVudCA8JyArIG5vZGUub3JpZ2luYWxOYW1lICsgJz4nKTtcbiAgfVxuXG4gIHJldHVybiBFbGVtZW50SGFuZGxlci5wcm90b3R5cGUuY3JlYXRlRWxlbWVudC5jYWxsKHRoaXMsIG5vZGUpO1xufTtcblxuXG5mdW5jdGlvbiBHZW5lcmljRWxlbWVudEhhbmRsZXIobW9kZWwsIHR5cGVOYW1lLCBjb250ZXh0KSB7XG4gIHRoaXMubW9kZWwgPSBtb2RlbDtcbiAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbn1cblxuR2VuZXJpY0VsZW1lbnRIYW5kbGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQmFzZUVsZW1lbnRIYW5kbGVyLnByb3RvdHlwZSk7XG5cbkdlbmVyaWNFbGVtZW50SGFuZGxlci5wcm90b3R5cGUuY3JlYXRlRWxlbWVudCA9IGZ1bmN0aW9uKG5vZGUpIHtcblxuICB2YXIgbmFtZSA9IG5vZGUubmFtZSxcbiAgICAgIG5zID0gcGFyc2VOYW1lTlMobmFtZSksXG4gICAgICBwcmVmaXggPSBucy5wcmVmaXgsXG4gICAgICB1cmkgPSBub2RlLm5zW3ByZWZpeCArICckdXJpJ10sXG4gICAgICBhdHRyaWJ1dGVzID0gbm9kZS5hdHRyaWJ1dGVzO1xuXG4gIHJldHVybiB0aGlzLm1vZGVsLmNyZWF0ZUFueShuYW1lLCB1cmksIGF0dHJpYnV0ZXMpO1xufTtcblxuR2VuZXJpY0VsZW1lbnRIYW5kbGVyLnByb3RvdHlwZS5oYW5kbGVDaGlsZCA9IGZ1bmN0aW9uKG5vZGUpIHtcblxuICB2YXIgaGFuZGxlciA9IG5ldyBHZW5lcmljRWxlbWVudEhhbmRsZXIodGhpcy5tb2RlbCwgJ0VsZW1lbnQnLCB0aGlzLmNvbnRleHQpLmhhbmRsZU5vZGUobm9kZSksXG4gICAgICBlbGVtZW50ID0gdGhpcy5lbGVtZW50O1xuXG4gIHZhciBuZXdFbGVtZW50ID0gaGFuZGxlci5lbGVtZW50LFxuICAgICAgY2hpbGRyZW47XG5cbiAgaWYgKG5ld0VsZW1lbnQgIT09IHVuZGVmaW5lZCkge1xuICAgIGNoaWxkcmVuID0gZWxlbWVudC4kY2hpbGRyZW4gPSBlbGVtZW50LiRjaGlsZHJlbiB8fCBbXTtcbiAgICBjaGlsZHJlbi5wdXNoKG5ld0VsZW1lbnQpO1xuXG4gICAgLy8gZXN0YWJsaXNoIGNoaWxkIC0+IHBhcmVudCByZWxhdGlvbnNoaXBcbiAgICBuZXdFbGVtZW50LiRwYXJlbnQgPSBlbGVtZW50O1xuICB9XG5cbiAgcmV0dXJuIGhhbmRsZXI7XG59O1xuXG5HZW5lcmljRWxlbWVudEhhbmRsZXIucHJvdG90eXBlLmhhbmRsZUVuZCA9IGZ1bmN0aW9uKCkge1xuICBpZiAodGhpcy5ib2R5KSB7XG4gICAgdGhpcy5lbGVtZW50LiRib2R5ID0gdGhpcy5ib2R5O1xuICB9XG59O1xuXG4vKipcbiAqIEEgcmVhZGVyIGZvciBhIG1ldGEtbW9kZWxcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICogQHBhcmFtIHtNb2RlbH0gb3B0aW9ucy5tb2RlbCB1c2VkIHRvIHJlYWQgeG1sIGZpbGVzXG4gKiBAcGFyYW0ge0Jvb2xlYW59IG9wdGlvbnMubGF4IHdoZXRoZXIgdG8gbWFrZSBwYXJzZSBlcnJvcnMgd2FybmluZ3NcbiAqL1xuZnVuY3Rpb24gUmVhZGVyKG9wdGlvbnMpIHtcblxuICBpZiAob3B0aW9ucyBpbnN0YW5jZW9mIE1vZGRsZSkge1xuICAgIG9wdGlvbnMgPSB7XG4gICAgICBtb2RlbDogb3B0aW9uc1xuICAgIH07XG4gIH1cblxuICBhc3NpZ24odGhpcywgeyBsYXg6IGZhbHNlIH0sIG9wdGlvbnMpO1xufVxuXG4vKipcbiAqIFRoZSBmcm9tWE1MIHJlc3VsdC5cbiAqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBQYXJzZVJlc3VsdFxuICpcbiAqIEBwcm9wZXJ0eSB7TW9kZGxlRWxlbWVudH0gcm9vdEVsZW1lbnRcbiAqIEBwcm9wZXJ0eSB7QXJyYXk8T2JqZWN0Pn0gcmVmZXJlbmNlc1xuICogQHByb3BlcnR5IHtBcnJheTxFcnJvcj59IHdhcm5pbmdzXG4gKiBAcHJvcGVydHkge09iamVjdH0gZWxlbWVudHNCeUlkIC0gYSBtYXBwaW5nIGNvbnRhaW5pbmcgZWFjaCBJRCAtPiBNb2RkbGVFbGVtZW50XG4gKi9cblxuLyoqXG4gKiBUaGUgZnJvbVhNTCByZXN1bHQuXG4gKlxuICogQHR5cGVkZWYge0Vycm9yfSBQYXJzZUVycm9yXG4gKlxuICogQHByb3BlcnR5IHtBcnJheTxFcnJvcj59IHdhcm5pbmdzXG4gKi9cblxuLyoqXG4gKiBQYXJzZSB0aGUgZ2l2ZW4gWE1MIGludG8gYSBtb2RkbGUgZG9jdW1lbnQgdHJlZS5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30geG1sXG4gKiBAcGFyYW0ge0VsZW1lbnRIYW5kbGVyfE9iamVjdH0gb3B0aW9ucyBvciByb290SGFuZGxlclxuICpcbiAqIEByZXR1cm5zIHtQcm9taXNlPFBhcnNlUmVzdWx0LCBQYXJzZUVycm9yPn1cbiAqL1xuUmVhZGVyLnByb3RvdHlwZS5mcm9tWE1MID0gZnVuY3Rpb24oeG1sLCBvcHRpb25zLCBkb25lKSB7XG5cbiAgdmFyIHJvb3RIYW5kbGVyID0gb3B0aW9ucy5yb290SGFuZGxlcjtcblxuICBpZiAob3B0aW9ucyBpbnN0YW5jZW9mIEVsZW1lbnRIYW5kbGVyKSB7XG5cbiAgICAvLyByb290IGhhbmRsZXIgcGFzc2VkIHZpYSAoeG1sLCB7IHJvb3RIYW5kbGVyOiBFbGVtZW50SGFuZGxlciB9LCAuLi4pXG4gICAgcm9vdEhhbmRsZXIgPSBvcHRpb25zO1xuICAgIG9wdGlvbnMgPSB7fTtcbiAgfSBlbHNlIHtcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdzdHJpbmcnKSB7XG5cbiAgICAgIC8vIHJvb3RIYW5kbGVyIHBhc3NlZCB2aWEgKHhtbCwgJ3NvbWVTdHJpbmcnLCAuLi4pXG4gICAgICByb290SGFuZGxlciA9IHRoaXMuaGFuZGxlcihvcHRpb25zKTtcbiAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiByb290SGFuZGxlciA9PT0gJ3N0cmluZycpIHtcblxuICAgICAgLy8gcm9vdEhhbmRsZXIgcGFzc2VkIHZpYSAoeG1sLCB7IHJvb3RIYW5kbGVyOiAnc29tZVN0cmluZycgfSwgLi4uKVxuICAgICAgcm9vdEhhbmRsZXIgPSB0aGlzLmhhbmRsZXIocm9vdEhhbmRsZXIpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBtb2RlbCA9IHRoaXMubW9kZWwsXG4gICAgICBsYXggPSB0aGlzLmxheDtcblxuICB2YXIgY29udGV4dCA9IG5ldyBDb250ZXh0KGFzc2lnbih7fSwgb3B0aW9ucywgeyByb290SGFuZGxlcjogcm9vdEhhbmRsZXIgfSkpLFxuICAgICAgcGFyc2VyID0gbmV3IFBhcnNlcih7IHByb3h5OiB0cnVlIH0pLFxuICAgICAgc3RhY2sgPSBjcmVhdGVTdGFjaygpO1xuXG4gIHJvb3RIYW5kbGVyLmNvbnRleHQgPSBjb250ZXh0O1xuXG4gIC8vIHB1c2ggcm9vdCBoYW5kbGVyXG4gIHN0YWNrLnB1c2gocm9vdEhhbmRsZXIpO1xuXG5cbiAgLyoqXG4gICAqIEhhbmRsZSBlcnJvci5cbiAgICpcbiAgICogQHBhcmFtICB7RXJyb3J9IGVyclxuICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gZ2V0Q29udGV4dFxuICAgKiBAcGFyYW0gIHtib29sZWFufSBsYXhcbiAgICpcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gdHJ1ZSBpZiBoYW5kbGVkXG4gICAqL1xuICBmdW5jdGlvbiBoYW5kbGVFcnJvcihlcnIsIGdldENvbnRleHQsIGxheCkge1xuXG4gICAgdmFyIGN0eCA9IGdldENvbnRleHQoKTtcblxuICAgIHZhciBsaW5lID0gY3R4LmxpbmUsXG4gICAgICAgIGNvbHVtbiA9IGN0eC5jb2x1bW4sXG4gICAgICAgIGRhdGEgPSBjdHguZGF0YTtcblxuICAgIC8vIHdlIHJlY2VpdmUgdGhlIGZ1bGwgY29udGV4dCBkYXRhIGhlcmUsXG4gICAgLy8gZm9yIGVsZW1lbnRzIHRyaW0gZG93biB0aGUgaW5mb3JtYXRpb25cbiAgICAvLyB0byB0aGUgdGFnIG5hbWUsIG9ubHlcbiAgICBpZiAoZGF0YS5jaGFyQXQoMCkgPT09ICc8JyAmJiBkYXRhLmluZGV4T2YoJyAnKSAhPT0gLTEpIHtcbiAgICAgIGRhdGEgPSBkYXRhLnNsaWNlKDAsIGRhdGEuaW5kZXhPZignICcpKSArICc+JztcbiAgICB9XG5cbiAgICB2YXIgbWVzc2FnZSA9XG4gICAgICAndW5wYXJzYWJsZSBjb250ZW50ICcgKyAoZGF0YSA/IGRhdGEgKyAnICcgOiAnJykgKyAnZGV0ZWN0ZWRcXG5cXHQnICtcbiAgICAgICAgJ2xpbmU6ICcgKyBsaW5lICsgJ1xcblxcdCcgK1xuICAgICAgICAnY29sdW1uOiAnICsgY29sdW1uICsgJ1xcblxcdCcgK1xuICAgICAgICAnbmVzdGVkIGVycm9yOiAnICsgZXJyLm1lc3NhZ2U7XG5cbiAgICBpZiAobGF4KSB7XG4gICAgICBjb250ZXh0LmFkZFdhcm5pbmcoe1xuICAgICAgICBtZXNzYWdlOiBtZXNzYWdlLFxuICAgICAgICBlcnJvcjogZXJyXG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IGVycm9yKG1lc3NhZ2UpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZVdhcm5pbmcoZXJyLCBnZXRDb250ZXh0KSB7XG5cbiAgICAvLyBqdXN0IGxpa2UgaGFuZGxpbmcgZXJyb3JzIGluIDxsYXg9dHJ1ZT4gbW9kZVxuICAgIHJldHVybiBoYW5kbGVFcnJvcihlcnIsIGdldENvbnRleHQsIHRydWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlc29sdmUgY29sbGVjdGVkIHJlZmVyZW5jZXMgb24gcGFyc2UgZW5kLlxuICAgKi9cbiAgZnVuY3Rpb24gcmVzb2x2ZVJlZmVyZW5jZXMoKSB7XG5cbiAgICB2YXIgZWxlbWVudHNCeUlkID0gY29udGV4dC5lbGVtZW50c0J5SWQ7XG4gICAgdmFyIHJlZmVyZW5jZXMgPSBjb250ZXh0LnJlZmVyZW5jZXM7XG5cbiAgICB2YXIgaSwgcjtcblxuICAgIGZvciAoaSA9IDA7IChyID0gcmVmZXJlbmNlc1tpXSk7IGkrKykge1xuICAgICAgdmFyIGVsZW1lbnQgPSByLmVsZW1lbnQ7XG4gICAgICB2YXIgcmVmZXJlbmNlID0gZWxlbWVudHNCeUlkW3IuaWRdO1xuICAgICAgdmFyIHByb3BlcnR5ID0gZ2V0TW9kZGxlRGVzY3JpcHRvcihlbGVtZW50KS5wcm9wZXJ0aWVzQnlOYW1lW3IucHJvcGVydHldO1xuXG4gICAgICBpZiAoIXJlZmVyZW5jZSkge1xuICAgICAgICBjb250ZXh0LmFkZFdhcm5pbmcoe1xuICAgICAgICAgIG1lc3NhZ2U6ICd1bnJlc29sdmVkIHJlZmVyZW5jZSA8JyArIHIuaWQgKyAnPicsXG4gICAgICAgICAgZWxlbWVudDogci5lbGVtZW50LFxuICAgICAgICAgIHByb3BlcnR5OiByLnByb3BlcnR5LFxuICAgICAgICAgIHZhbHVlOiByLmlkXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAocHJvcGVydHkuaXNNYW55KSB7XG4gICAgICAgIHZhciBjb2xsZWN0aW9uID0gZWxlbWVudC5nZXQocHJvcGVydHkubmFtZSksXG4gICAgICAgICAgICBpZHggPSBjb2xsZWN0aW9uLmluZGV4T2Yocik7XG5cbiAgICAgICAgLy8gd2UgcmVwbGFjZSBhbiBleGlzdGluZyBwbGFjZSBob2xkZXIgKGlkeCAhPSAtMSkgb3JcbiAgICAgICAgLy8gYXBwZW5kIHRvIHRoZSBjb2xsZWN0aW9uIGluc3RlYWRcbiAgICAgICAgaWYgKGlkeCA9PT0gLTEpIHtcbiAgICAgICAgICBpZHggPSBjb2xsZWN0aW9uLmxlbmd0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghcmVmZXJlbmNlKSB7XG5cbiAgICAgICAgICAvLyByZW1vdmUgdW5yZXNvbHZhYmxlIHJlZmVyZW5jZVxuICAgICAgICAgIGNvbGxlY3Rpb24uc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAvLyBhZGQgb3IgdXBkYXRlIHJlZmVyZW5jZSBpbiBjb2xsZWN0aW9uXG4gICAgICAgICAgY29sbGVjdGlvbltpZHhdID0gcmVmZXJlbmNlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbGVtZW50LnNldChwcm9wZXJ0eS5uYW1lLCByZWZlcmVuY2UpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZUNsb3NlKCkge1xuICAgIHN0YWNrLnBvcCgpLmhhbmRsZUVuZCgpO1xuICB9XG5cbiAgdmFyIFBSRUFNQkxFX1NUQVJUX1BBVFRFUk4gPSAvXjxcXD94bWwgL2k7XG5cbiAgdmFyIEVOQ09ESU5HX1BBVFRFUk4gPSAvIGVuY29kaW5nPVwiKFteXCJdKylcIi9pO1xuXG4gIHZhciBVVEZfOF9QQVRURVJOID0gL151dGYtOCQvaTtcblxuICBmdW5jdGlvbiBoYW5kbGVRdWVzdGlvbihxdWVzdGlvbikge1xuXG4gICAgaWYgKCFQUkVBTUJMRV9TVEFSVF9QQVRURVJOLnRlc3QocXVlc3Rpb24pKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIG1hdGNoID0gRU5DT0RJTkdfUEFUVEVSTi5leGVjKHF1ZXN0aW9uKTtcbiAgICB2YXIgZW5jb2RpbmcgPSBtYXRjaCAmJiBtYXRjaFsxXTtcblxuICAgIGlmICghZW5jb2RpbmcgfHwgVVRGXzhfUEFUVEVSTi50ZXN0KGVuY29kaW5nKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnRleHQuYWRkV2FybmluZyh7XG4gICAgICBtZXNzYWdlOlxuICAgICAgICAndW5zdXBwb3J0ZWQgZG9jdW1lbnQgZW5jb2RpbmcgPCcgKyBlbmNvZGluZyArICc+LCAnICtcbiAgICAgICAgJ2ZhbGxpbmcgYmFjayB0byBVVEYtOCdcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZU9wZW4obm9kZSwgZ2V0Q29udGV4dCkge1xuICAgIHZhciBoYW5kbGVyID0gc3RhY2sucGVlaygpO1xuXG4gICAgdHJ5IHtcbiAgICAgIHN0YWNrLnB1c2goaGFuZGxlci5oYW5kbGVOb2RlKG5vZGUpKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcblxuICAgICAgaWYgKGhhbmRsZUVycm9yKGVyciwgZ2V0Q29udGV4dCwgbGF4KSkge1xuICAgICAgICBzdGFjay5wdXNoKG5ldyBOb29wSGFuZGxlcigpKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVDRGF0YSh0ZXh0LCBnZXRDb250ZXh0KSB7XG5cbiAgICB0cnkge1xuICAgICAgc3RhY2sucGVlaygpLmhhbmRsZVRleHQodGV4dCk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBoYW5kbGVXYXJuaW5nKGVyciwgZ2V0Q29udGV4dCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlVGV4dCh0ZXh0LCBnZXRDb250ZXh0KSB7XG5cbiAgICAvLyBzdHJpcCB3aGl0ZXNwYWNlIG9ubHkgbm9kZXMsIGkuZS4gYmVmb3JlXG4gICAgLy8gPCFDREFUQVsgLi4uIF0+IHNlY3Rpb25zIGFuZCBpbiBiZXR3ZWVuIHRhZ3NcbiAgICB0ZXh0ID0gdGV4dC50cmltKCk7XG5cbiAgICBpZiAoIXRleHQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBoYW5kbGVDRGF0YSh0ZXh0LCBnZXRDb250ZXh0KTtcbiAgfVxuXG4gIHZhciB1cmlNYXAgPSBtb2RlbC5nZXRQYWNrYWdlcygpLnJlZHVjZShmdW5jdGlvbih1cmlNYXAsIHApIHtcbiAgICB1cmlNYXBbcC51cmldID0gcC5wcmVmaXg7XG5cbiAgICByZXR1cm4gdXJpTWFwO1xuICB9LCB7XG4gICAgJ2h0dHA6Ly93d3cudzMub3JnL1hNTC8xOTk4L25hbWVzcGFjZSc6ICd4bWwnIC8vIGFkZCBkZWZhdWx0IHhtbCBuc1xuICB9KTtcbiAgcGFyc2VyXG4gICAgLm5zKHVyaU1hcClcbiAgICAub24oJ29wZW5UYWcnLCBmdW5jdGlvbihvYmosIGRlY29kZVN0ciwgc2VsZkNsb3NpbmcsIGdldENvbnRleHQpIHtcblxuICAgICAgLy8gZ3JhY2VmdWxseSBoYW5kbGUgdW5wYXJzYWJsZSBhdHRyaWJ1dGVzIChhdHRycz1mYWxzZSlcbiAgICAgIHZhciBhdHRycyA9IG9iai5hdHRycyB8fCB7fTtcblxuICAgICAgdmFyIGRlY29kZWRBdHRycyA9IE9iamVjdC5rZXlzKGF0dHJzKS5yZWR1Y2UoZnVuY3Rpb24oZCwga2V5KSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGRlY29kZVN0cihhdHRyc1trZXldKTtcblxuICAgICAgICBkW2tleV0gPSB2YWx1ZTtcblxuICAgICAgICByZXR1cm4gZDtcbiAgICAgIH0sIHt9KTtcblxuICAgICAgdmFyIG5vZGUgPSB7XG4gICAgICAgIG5hbWU6IG9iai5uYW1lLFxuICAgICAgICBvcmlnaW5hbE5hbWU6IG9iai5vcmlnaW5hbE5hbWUsXG4gICAgICAgIGF0dHJpYnV0ZXM6IGRlY29kZWRBdHRycyxcbiAgICAgICAgbnM6IG9iai5uc1xuICAgICAgfTtcblxuICAgICAgaGFuZGxlT3Blbihub2RlLCBnZXRDb250ZXh0KTtcbiAgICB9KVxuICAgIC5vbigncXVlc3Rpb24nLCBoYW5kbGVRdWVzdGlvbilcbiAgICAub24oJ2Nsb3NlVGFnJywgaGFuZGxlQ2xvc2UpXG4gICAgLm9uKCdjZGF0YScsIGhhbmRsZUNEYXRhKVxuICAgIC5vbigndGV4dCcsIGZ1bmN0aW9uKHRleHQsIGRlY29kZUVudGl0aWVzLCBnZXRDb250ZXh0KSB7XG4gICAgICBoYW5kbGVUZXh0KGRlY29kZUVudGl0aWVzKHRleHQpLCBnZXRDb250ZXh0KTtcbiAgICB9KVxuICAgIC5vbignZXJyb3InLCBoYW5kbGVFcnJvcilcbiAgICAub24oJ3dhcm4nLCBoYW5kbGVXYXJuaW5nKTtcblxuICAvLyBhc3luYyBYTUwgcGFyc2luZyB0byBtYWtlIHN1cmUgdGhlIGV4ZWN1dGlvbiBlbnZpcm9ubWVudFxuICAvLyAobm9kZSBvciBicm93ZXIpIGlzIGtlcHQgcmVzcG9uc2l2ZSBhbmQgdGhhdCBjZXJ0YWluIG9wdGltaXphdGlvblxuICAvLyBzdHJhdGVnaWVzIGNhbiBraWNrIGluLlxuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cbiAgICB2YXIgZXJyO1xuXG4gICAgdHJ5IHtcbiAgICAgIHBhcnNlci5wYXJzZSh4bWwpO1xuXG4gICAgICByZXNvbHZlUmVmZXJlbmNlcygpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGVyciA9IGU7XG4gICAgfVxuXG4gICAgdmFyIHJvb3RFbGVtZW50ID0gcm9vdEhhbmRsZXIuZWxlbWVudDtcblxuICAgIGlmICghZXJyICYmICFyb290RWxlbWVudCkge1xuICAgICAgZXJyID0gZXJyb3IoJ2ZhaWxlZCB0byBwYXJzZSBkb2N1bWVudCBhcyA8JyArIHJvb3RIYW5kbGVyLnR5cGUuJGRlc2NyaXB0b3IubmFtZSArICc+Jyk7XG4gICAgfVxuXG4gICAgdmFyIHdhcm5pbmdzID0gY29udGV4dC53YXJuaW5ncztcbiAgICB2YXIgcmVmZXJlbmNlcyA9IGNvbnRleHQucmVmZXJlbmNlcztcbiAgICB2YXIgZWxlbWVudHNCeUlkID0gY29udGV4dC5lbGVtZW50c0J5SWQ7XG5cbiAgICBpZiAoZXJyKSB7XG4gICAgICBlcnIud2FybmluZ3MgPSB3YXJuaW5ncztcblxuICAgICAgcmV0dXJuIHJlamVjdChlcnIpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZSh7XG4gICAgICAgIHJvb3RFbGVtZW50OiByb290RWxlbWVudCxcbiAgICAgICAgZWxlbWVudHNCeUlkOiBlbGVtZW50c0J5SWQsXG4gICAgICAgIHJlZmVyZW5jZXM6IHJlZmVyZW5jZXMsXG4gICAgICAgIHdhcm5pbmdzOiB3YXJuaW5nc1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn07XG5cblJlYWRlci5wcm90b3R5cGUuaGFuZGxlciA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgcmV0dXJuIG5ldyBSb290RWxlbWVudEhhbmRsZXIodGhpcy5tb2RlbCwgbmFtZSk7XG59O1xuXG5cbi8vIGhlbHBlcnMgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuZnVuY3Rpb24gY3JlYXRlU3RhY2soKSB7XG4gIHZhciBzdGFjayA9IFtdO1xuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzdGFjaywgJ3BlZWsnLCB7XG4gICAgdmFsdWU6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXNbdGhpcy5sZW5ndGggLSAxXTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBzdGFjaztcbn1cblxudmFyIFhNTF9QUkVBTUJMRSA9ICc8P3htbCB2ZXJzaW9uPVwiMS4wXCIgZW5jb2Rpbmc9XCJVVEYtOFwiPz5cXG4nO1xuXG52YXIgRVNDQVBFX0FUVFJfQ0hBUlMgPSAvPHw+fCd8XCJ8JnxcXG5cXHJ8XFxuL2c7XG52YXIgRVNDQVBFX0NIQVJTID0gLzx8PnwmL2c7XG5cblxuZnVuY3Rpb24gTmFtZXNwYWNlcyhwYXJlbnQpIHtcblxuICB2YXIgcHJlZml4TWFwID0ge307XG4gIHZhciB1cmlNYXAgPSB7fTtcbiAgdmFyIHVzZWQgPSB7fTtcblxuICB2YXIgd2VsbGtub3duID0gW107XG4gIHZhciBjdXN0b20gPSBbXTtcblxuICAvLyBBUElcblxuICB0aGlzLmJ5VXJpID0gZnVuY3Rpb24odXJpKSB7XG4gICAgcmV0dXJuIHVyaU1hcFt1cmldIHx8IChcbiAgICAgIHBhcmVudCAmJiBwYXJlbnQuYnlVcmkodXJpKVxuICAgICk7XG4gIH07XG5cbiAgdGhpcy5hZGQgPSBmdW5jdGlvbihucywgaXNXZWxsa25vd24pIHtcblxuICAgIHVyaU1hcFtucy51cmldID0gbnM7XG5cbiAgICBpZiAoaXNXZWxsa25vd24pIHtcbiAgICAgIHdlbGxrbm93bi5wdXNoKG5zKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY3VzdG9tLnB1c2gobnMpO1xuICAgIH1cblxuICAgIHRoaXMubWFwUHJlZml4KG5zLnByZWZpeCwgbnMudXJpKTtcbiAgfTtcblxuICB0aGlzLnVyaUJ5UHJlZml4ID0gZnVuY3Rpb24ocHJlZml4KSB7XG4gICAgcmV0dXJuIHByZWZpeE1hcFtwcmVmaXggfHwgJ3htbG5zJ107XG4gIH07XG5cbiAgdGhpcy5tYXBQcmVmaXggPSBmdW5jdGlvbihwcmVmaXgsIHVyaSkge1xuICAgIHByZWZpeE1hcFtwcmVmaXggfHwgJ3htbG5zJ10gPSB1cmk7XG4gIH07XG5cbiAgdGhpcy5nZXROU0tleSA9IGZ1bmN0aW9uKG5zKSB7XG4gICAgcmV0dXJuIChucy5wcmVmaXggIT09IHVuZGVmaW5lZCkgPyAobnMudXJpICsgJ3wnICsgbnMucHJlZml4KSA6IG5zLnVyaTtcbiAgfTtcblxuICB0aGlzLmxvZ1VzZWQgPSBmdW5jdGlvbihucykge1xuXG4gICAgdmFyIHVyaSA9IG5zLnVyaTtcbiAgICB2YXIgbnNLZXkgPSB0aGlzLmdldE5TS2V5KG5zKTtcblxuICAgIHVzZWRbbnNLZXldID0gdGhpcy5ieVVyaSh1cmkpO1xuXG4gICAgLy8gSW5mb3JtIHBhcmVudCByZWN1cnNpdmVseSBhYm91dCB0aGUgdXNhZ2Ugb2YgdGhpcyBOU1xuICAgIGlmIChwYXJlbnQpIHtcbiAgICAgIHBhcmVudC5sb2dVc2VkKG5zKTtcbiAgICB9XG4gIH07XG5cbiAgdGhpcy5nZXRVc2VkID0gZnVuY3Rpb24obnMpIHtcblxuICAgIGZ1bmN0aW9uIGlzVXNlZChucykge1xuICAgICAgdmFyIG5zS2V5ID0gc2VsZi5nZXROU0tleShucyk7XG5cbiAgICAgIHJldHVybiB1c2VkW25zS2V5XTtcbiAgICB9XG5cbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICB2YXIgYWxsTnMgPSBbXS5jb25jYXQod2VsbGtub3duLCBjdXN0b20pO1xuXG4gICAgcmV0dXJuIGFsbE5zLmZpbHRlcihpc1VzZWQpO1xuICB9O1xuXG59XG5cbmZ1bmN0aW9uIGxvd2VyKHN0cmluZykge1xuICByZXR1cm4gc3RyaW5nLmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpICsgc3RyaW5nLnNsaWNlKDEpO1xufVxuXG5mdW5jdGlvbiBuYW1lVG9BbGlhcyhuYW1lLCBwa2cpIHtcbiAgaWYgKGhhc0xvd2VyQ2FzZUFsaWFzKHBrZykpIHtcbiAgICByZXR1cm4gbG93ZXIobmFtZSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG5hbWU7XG4gIH1cbn1cblxuZnVuY3Rpb24gaW5oZXJpdHMoY3Rvciwgc3VwZXJDdG9yKSB7XG4gIGN0b3Iuc3VwZXJfID0gc3VwZXJDdG9yO1xuICBjdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDdG9yLnByb3RvdHlwZSwge1xuICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICB2YWx1ZTogY3RvcixcbiAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBuc05hbWUobnMpIHtcbiAgaWYgKGlzU3RyaW5nKG5zKSkge1xuICAgIHJldHVybiBucztcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gKG5zLnByZWZpeCA/IG5zLnByZWZpeCArICc6JyA6ICcnKSArIG5zLmxvY2FsTmFtZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXROc0F0dHJzKG5hbWVzcGFjZXMpIHtcblxuICByZXR1cm4gbWFwKG5hbWVzcGFjZXMuZ2V0VXNlZCgpLCBmdW5jdGlvbihucykge1xuICAgIHZhciBuYW1lID0gJ3htbG5zJyArIChucy5wcmVmaXggPyAnOicgKyBucy5wcmVmaXggOiAnJyk7XG4gICAgcmV0dXJuIHsgbmFtZTogbmFtZSwgdmFsdWU6IG5zLnVyaSB9O1xuICB9KTtcblxufVxuXG5mdW5jdGlvbiBnZXRFbGVtZW50TnMobnMsIGRlc2NyaXB0b3IpIHtcbiAgaWYgKGRlc2NyaXB0b3IuaXNHZW5lcmljKSB7XG4gICAgcmV0dXJuIGFzc2lnbih7IGxvY2FsTmFtZTogZGVzY3JpcHRvci5ucy5sb2NhbE5hbWUgfSwgbnMpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBhc3NpZ24oeyBsb2NhbE5hbWU6IG5hbWVUb0FsaWFzKGRlc2NyaXB0b3IubnMubG9jYWxOYW1lLCBkZXNjcmlwdG9yLiRwa2cpIH0sIG5zKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRQcm9wZXJ0eU5zKG5zLCBkZXNjcmlwdG9yKSB7XG4gIHJldHVybiBhc3NpZ24oeyBsb2NhbE5hbWU6IGRlc2NyaXB0b3IubnMubG9jYWxOYW1lIH0sIG5zKTtcbn1cblxuZnVuY3Rpb24gZ2V0U2VyaWFsaXphYmxlUHJvcGVydGllcyhlbGVtZW50KSB7XG4gIHZhciBkZXNjcmlwdG9yID0gZWxlbWVudC4kZGVzY3JpcHRvcjtcblxuICByZXR1cm4gZmlsdGVyKGRlc2NyaXB0b3IucHJvcGVydGllcywgZnVuY3Rpb24ocCkge1xuICAgIHZhciBuYW1lID0gcC5uYW1lO1xuXG4gICAgaWYgKHAuaXNWaXJ0dWFsKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gZG8gbm90IHNlcmlhbGl6ZSBkZWZhdWx0c1xuICAgIGlmICghaGFzKGVsZW1lbnQsIG5hbWUpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIHZhbHVlID0gZWxlbWVudFtuYW1lXTtcblxuICAgIC8vIGRvIG5vdCBzZXJpYWxpemUgZGVmYXVsdCBlcXVhbHNcbiAgICBpZiAodmFsdWUgPT09IHAuZGVmYXVsdCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIGRvIG5vdCBzZXJpYWxpemUgbnVsbCBwcm9wZXJ0aWVzXG4gICAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHAuaXNNYW55ID8gdmFsdWUubGVuZ3RoIDogdHJ1ZTtcbiAgfSk7XG59XG5cbnZhciBFU0NBUEVfQVRUUl9NQVAgPSB7XG4gICdcXG4nOiAnIzEwJyxcbiAgJ1xcblxccic6ICcjMTAnLFxuICAnXCInOiAnIzM0JyxcbiAgJ1xcJyc6ICcjMzknLFxuICAnPCc6ICcjNjAnLFxuICAnPic6ICcjNjInLFxuICAnJic6ICcjMzgnXG59O1xuXG52YXIgRVNDQVBFX01BUCA9IHtcbiAgJzwnOiAnbHQnLFxuICAnPic6ICdndCcsXG4gICcmJzogJ2FtcCdcbn07XG5cbmZ1bmN0aW9uIGVzY2FwZShzdHIsIGNoYXJQYXR0ZXJuLCByZXBsYWNlTWFwKSB7XG5cbiAgLy8gZW5zdXJlIHdlIGFyZSBoYW5kbGluZyBzdHJpbmdzIGhlcmVcbiAgc3RyID0gaXNTdHJpbmcoc3RyKSA/IHN0ciA6ICcnICsgc3RyO1xuXG4gIHJldHVybiBzdHIucmVwbGFjZShjaGFyUGF0dGVybiwgZnVuY3Rpb24ocykge1xuICAgIHJldHVybiAnJicgKyByZXBsYWNlTWFwW3NdICsgJzsnO1xuICB9KTtcbn1cblxuLyoqXG4gKiBFc2NhcGUgYSBzdHJpbmcgYXR0cmlidXRlIHRvIG5vdCBjb250YWluIGFueSBiYWQgdmFsdWVzIChsaW5lIGJyZWFrcywgJ1wiJywgLi4uKVxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHIgdGhlIHN0cmluZyB0byBlc2NhcGVcbiAqIEByZXR1cm4ge1N0cmluZ30gdGhlIGVzY2FwZWQgc3RyaW5nXG4gKi9cbmZ1bmN0aW9uIGVzY2FwZUF0dHIoc3RyKSB7XG4gIHJldHVybiBlc2NhcGUoc3RyLCBFU0NBUEVfQVRUUl9DSEFSUywgRVNDQVBFX0FUVFJfTUFQKTtcbn1cblxuZnVuY3Rpb24gZXNjYXBlQm9keShzdHIpIHtcbiAgcmV0dXJuIGVzY2FwZShzdHIsIEVTQ0FQRV9DSEFSUywgRVNDQVBFX01BUCk7XG59XG5cbmZ1bmN0aW9uIGZpbHRlckF0dHJpYnV0ZXMocHJvcHMpIHtcbiAgcmV0dXJuIGZpbHRlcihwcm9wcywgZnVuY3Rpb24ocCkgeyByZXR1cm4gcC5pc0F0dHI7IH0pO1xufVxuXG5mdW5jdGlvbiBmaWx0ZXJDb250YWluZWQocHJvcHMpIHtcbiAgcmV0dXJuIGZpbHRlcihwcm9wcywgZnVuY3Rpb24ocCkgeyByZXR1cm4gIXAuaXNBdHRyOyB9KTtcbn1cblxuXG5mdW5jdGlvbiBSZWZlcmVuY2VTZXJpYWxpemVyKHRhZ05hbWUpIHtcbiAgdGhpcy50YWdOYW1lID0gdGFnTmFtZTtcbn1cblxuUmVmZXJlbmNlU2VyaWFsaXplci5wcm90b3R5cGUuYnVpbGQgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gIHJldHVybiB0aGlzO1xufTtcblxuUmVmZXJlbmNlU2VyaWFsaXplci5wcm90b3R5cGUuc2VyaWFsaXplVG8gPSBmdW5jdGlvbih3cml0ZXIpIHtcbiAgd3JpdGVyXG4gICAgLmFwcGVuZEluZGVudCgpXG4gICAgLmFwcGVuZCgnPCcgKyB0aGlzLnRhZ05hbWUgKyAnPicgKyB0aGlzLmVsZW1lbnQuaWQgKyAnPC8nICsgdGhpcy50YWdOYW1lICsgJz4nKVxuICAgIC5hcHBlbmROZXdMaW5lKCk7XG59O1xuXG5mdW5jdGlvbiBCb2R5U2VyaWFsaXplcigpIHt9XG5cbkJvZHlTZXJpYWxpemVyLnByb3RvdHlwZS5zZXJpYWxpemVWYWx1ZSA9XG5Cb2R5U2VyaWFsaXplci5wcm90b3R5cGUuc2VyaWFsaXplVG8gPSBmdW5jdGlvbih3cml0ZXIpIHtcbiAgd3JpdGVyLmFwcGVuZChcbiAgICB0aGlzLmVzY2FwZVxuICAgICAgPyBlc2NhcGVCb2R5KHRoaXMudmFsdWUpXG4gICAgICA6IHRoaXMudmFsdWVcbiAgKTtcbn07XG5cbkJvZHlTZXJpYWxpemVyLnByb3RvdHlwZS5idWlsZCA9IGZ1bmN0aW9uKHByb3AsIHZhbHVlKSB7XG4gIHRoaXMudmFsdWUgPSB2YWx1ZTtcblxuICBpZiAocHJvcC50eXBlID09PSAnU3RyaW5nJyAmJiB2YWx1ZS5zZWFyY2goRVNDQVBFX0NIQVJTKSAhPT0gLTEpIHtcbiAgICB0aGlzLmVzY2FwZSA9IHRydWU7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbmZ1bmN0aW9uIFZhbHVlU2VyaWFsaXplcih0YWdOYW1lKSB7XG4gIHRoaXMudGFnTmFtZSA9IHRhZ05hbWU7XG59XG5cbmluaGVyaXRzKFZhbHVlU2VyaWFsaXplciwgQm9keVNlcmlhbGl6ZXIpO1xuXG5WYWx1ZVNlcmlhbGl6ZXIucHJvdG90eXBlLnNlcmlhbGl6ZVRvID0gZnVuY3Rpb24od3JpdGVyKSB7XG5cbiAgd3JpdGVyXG4gICAgLmFwcGVuZEluZGVudCgpXG4gICAgLmFwcGVuZCgnPCcgKyB0aGlzLnRhZ05hbWUgKyAnPicpO1xuXG4gIHRoaXMuc2VyaWFsaXplVmFsdWUod3JpdGVyKTtcblxuICB3cml0ZXJcbiAgICAuYXBwZW5kKCc8LycgKyB0aGlzLnRhZ05hbWUgKyAnPicpXG4gICAgLmFwcGVuZE5ld0xpbmUoKTtcbn07XG5cbmZ1bmN0aW9uIEVsZW1lbnRTZXJpYWxpemVyKHBhcmVudCwgcHJvcGVydHlEZXNjcmlwdG9yKSB7XG4gIHRoaXMuYm9keSA9IFtdO1xuICB0aGlzLmF0dHJzID0gW107XG5cbiAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gIHRoaXMucHJvcGVydHlEZXNjcmlwdG9yID0gcHJvcGVydHlEZXNjcmlwdG9yO1xufVxuXG5FbGVtZW50U2VyaWFsaXplci5wcm90b3R5cGUuYnVpbGQgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG5cbiAgdmFyIGVsZW1lbnREZXNjcmlwdG9yID0gZWxlbWVudC4kZGVzY3JpcHRvcixcbiAgICAgIHByb3BlcnR5RGVzY3JpcHRvciA9IHRoaXMucHJvcGVydHlEZXNjcmlwdG9yO1xuXG4gIHZhciBvdGhlckF0dHJzLFxuICAgICAgcHJvcGVydGllcztcblxuICB2YXIgaXNHZW5lcmljID0gZWxlbWVudERlc2NyaXB0b3IuaXNHZW5lcmljO1xuXG4gIGlmIChpc0dlbmVyaWMpIHtcbiAgICBvdGhlckF0dHJzID0gdGhpcy5wYXJzZUdlbmVyaWMoZWxlbWVudCk7XG4gIH0gZWxzZSB7XG4gICAgb3RoZXJBdHRycyA9IHRoaXMucGFyc2VOc0F0dHJpYnV0ZXMoZWxlbWVudCk7XG4gIH1cblxuICBpZiAocHJvcGVydHlEZXNjcmlwdG9yKSB7XG4gICAgdGhpcy5ucyA9IHRoaXMubnNQcm9wZXJ0eVRhZ05hbWUocHJvcGVydHlEZXNjcmlwdG9yKTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLm5zID0gdGhpcy5uc1RhZ05hbWUoZWxlbWVudERlc2NyaXB0b3IpO1xuICB9XG5cbiAgLy8gY29tcHV0ZSB0YWcgbmFtZVxuICB0aGlzLnRhZ05hbWUgPSB0aGlzLmFkZFRhZ05hbWUodGhpcy5ucyk7XG5cbiAgaWYgKCFpc0dlbmVyaWMpIHtcbiAgICBwcm9wZXJ0aWVzID0gZ2V0U2VyaWFsaXphYmxlUHJvcGVydGllcyhlbGVtZW50KTtcblxuICAgIHRoaXMucGFyc2VBdHRyaWJ1dGVzKGZpbHRlckF0dHJpYnV0ZXMocHJvcGVydGllcykpO1xuICAgIHRoaXMucGFyc2VDb250YWlubWVudHMoZmlsdGVyQ29udGFpbmVkKHByb3BlcnRpZXMpKTtcbiAgfVxuXG4gIHRoaXMucGFyc2VHZW5lcmljQXR0cmlidXRlcyhlbGVtZW50LCBvdGhlckF0dHJzKTtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbkVsZW1lbnRTZXJpYWxpemVyLnByb3RvdHlwZS5uc1RhZ05hbWUgPSBmdW5jdGlvbihkZXNjcmlwdG9yKSB7XG4gIHZhciBlZmZlY3RpdmVOcyA9IHRoaXMubG9nTmFtZXNwYWNlVXNlZChkZXNjcmlwdG9yLm5zKTtcbiAgcmV0dXJuIGdldEVsZW1lbnROcyhlZmZlY3RpdmVOcywgZGVzY3JpcHRvcik7XG59O1xuXG5FbGVtZW50U2VyaWFsaXplci5wcm90b3R5cGUubnNQcm9wZXJ0eVRhZ05hbWUgPSBmdW5jdGlvbihkZXNjcmlwdG9yKSB7XG4gIHZhciBlZmZlY3RpdmVOcyA9IHRoaXMubG9nTmFtZXNwYWNlVXNlZChkZXNjcmlwdG9yLm5zKTtcbiAgcmV0dXJuIGdldFByb3BlcnR5TnMoZWZmZWN0aXZlTnMsIGRlc2NyaXB0b3IpO1xufTtcblxuRWxlbWVudFNlcmlhbGl6ZXIucHJvdG90eXBlLmlzTG9jYWxOcyA9IGZ1bmN0aW9uKG5zKSB7XG4gIHJldHVybiBucy51cmkgPT09IHRoaXMubnMudXJpO1xufTtcblxuLyoqXG4gKiBHZXQgdGhlIGFjdHVhbCBucyBhdHRyaWJ1dGUgbmFtZSBmb3IgdGhlIGdpdmVuIGVsZW1lbnQuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGVsZW1lbnRcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW2VsZW1lbnQuaW5oZXJpdGVkPWZhbHNlXVxuICpcbiAqIEByZXR1cm4ge09iamVjdH0gbnNOYW1lXG4gKi9cbkVsZW1lbnRTZXJpYWxpemVyLnByb3RvdHlwZS5uc0F0dHJpYnV0ZU5hbWUgPSBmdW5jdGlvbihlbGVtZW50KSB7XG5cbiAgdmFyIG5zO1xuXG4gIGlmIChpc1N0cmluZyhlbGVtZW50KSkge1xuICAgIG5zID0gcGFyc2VOYW1lTlMoZWxlbWVudCk7XG4gIH0gZWxzZSB7XG4gICAgbnMgPSBlbGVtZW50Lm5zO1xuICB9XG5cbiAgLy8gcmV0dXJuIGp1c3QgbG9jYWwgbmFtZSBmb3IgaW5oZXJpdGVkIGF0dHJpYnV0ZXNcbiAgaWYgKGVsZW1lbnQuaW5oZXJpdGVkKSB7XG4gICAgcmV0dXJuIHsgbG9jYWxOYW1lOiBucy5sb2NhbE5hbWUgfTtcbiAgfVxuXG4gIC8vIHBhcnNlICsgbG9nIGVmZmVjdGl2ZSBuc1xuICB2YXIgZWZmZWN0aXZlTnMgPSB0aGlzLmxvZ05hbWVzcGFjZVVzZWQobnMpO1xuXG4gIC8vIExPRyBBQ1RVQUwgbmFtZXNwYWNlIHVzZVxuICB0aGlzLmdldE5hbWVzcGFjZXMoKS5sb2dVc2VkKGVmZmVjdGl2ZU5zKTtcblxuICAvLyBzdHJpcCBwcmVmaXggaWYgc2FtZSBuYW1lc3BhY2UgbGlrZSBwYXJlbnRcbiAgaWYgKHRoaXMuaXNMb2NhbE5zKGVmZmVjdGl2ZU5zKSkge1xuICAgIHJldHVybiB7IGxvY2FsTmFtZTogbnMubG9jYWxOYW1lIH07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGFzc2lnbih7IGxvY2FsTmFtZTogbnMubG9jYWxOYW1lIH0sIGVmZmVjdGl2ZU5zKTtcbiAgfVxufTtcblxuRWxlbWVudFNlcmlhbGl6ZXIucHJvdG90eXBlLnBhcnNlR2VuZXJpYyA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcblxuICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICBib2R5ID0gdGhpcy5ib2R5O1xuXG4gIHZhciBhdHRyaWJ1dGVzID0gW107XG5cbiAgZm9yRWFjaChlbGVtZW50LCBmdW5jdGlvbih2YWwsIGtleSkge1xuXG4gICAgdmFyIG5vbk5zQXR0cjtcblxuICAgIGlmIChrZXkgPT09ICckYm9keScpIHtcbiAgICAgIGJvZHkucHVzaChuZXcgQm9keVNlcmlhbGl6ZXIoKS5idWlsZCh7IHR5cGU6ICdTdHJpbmcnIH0sIHZhbCkpO1xuICAgIH0gZWxzZVxuICAgIGlmIChrZXkgPT09ICckY2hpbGRyZW4nKSB7XG4gICAgICBmb3JFYWNoKHZhbCwgZnVuY3Rpb24oY2hpbGQpIHtcbiAgICAgICAgYm9keS5wdXNoKG5ldyBFbGVtZW50U2VyaWFsaXplcihzZWxmKS5idWlsZChjaGlsZCkpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlXG4gICAgaWYgKGtleS5pbmRleE9mKCckJykgIT09IDApIHtcbiAgICAgIG5vbk5zQXR0ciA9IHNlbGYucGFyc2VOc0F0dHJpYnV0ZShlbGVtZW50LCBrZXksIHZhbCk7XG5cbiAgICAgIGlmIChub25Oc0F0dHIpIHtcbiAgICAgICAgYXR0cmlidXRlcy5wdXNoKHsgbmFtZToga2V5LCB2YWx1ZTogdmFsIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIGF0dHJpYnV0ZXM7XG59O1xuXG5FbGVtZW50U2VyaWFsaXplci5wcm90b3R5cGUucGFyc2VOc0F0dHJpYnV0ZSA9IGZ1bmN0aW9uKGVsZW1lbnQsIG5hbWUsIHZhbHVlKSB7XG4gIHZhciBtb2RlbCA9IGVsZW1lbnQuJG1vZGVsO1xuXG4gIHZhciBuYW1lTnMgPSBwYXJzZU5hbWVOUyhuYW1lKTtcblxuICB2YXIgbnM7XG5cbiAgLy8gcGFyc2UgeG1sbnM6Zm9vPVwiaHR0cDovL2Zvby5iYXJcIlxuICBpZiAobmFtZU5zLnByZWZpeCA9PT0gJ3htbG5zJykge1xuICAgIG5zID0geyBwcmVmaXg6IG5hbWVOcy5sb2NhbE5hbWUsIHVyaTogdmFsdWUgfTtcbiAgfVxuXG4gIC8vIHBhcnNlIHhtbG5zPVwiaHR0cDovL2Zvby5iYXJcIlxuICBpZiAoIW5hbWVOcy5wcmVmaXggJiYgbmFtZU5zLmxvY2FsTmFtZSA9PT0gJ3htbG5zJykge1xuICAgIG5zID0geyB1cmk6IHZhbHVlIH07XG4gIH1cblxuICBpZiAoIW5zKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6IG5hbWUsXG4gICAgICB2YWx1ZTogdmFsdWVcbiAgICB9O1xuICB9XG5cbiAgaWYgKG1vZGVsICYmIG1vZGVsLmdldFBhY2thZ2UodmFsdWUpKSB7XG5cbiAgICAvLyByZWdpc3RlciB3ZWxsIGtub3duIG5hbWVzcGFjZVxuICAgIHRoaXMubG9nTmFtZXNwYWNlKG5zLCB0cnVlLCB0cnVlKTtcbiAgfSBlbHNlIHtcblxuICAgIC8vIGxvZyBjdXN0b20gbmFtZXNwYWNlIGRpcmVjdGx5IGFzIHVzZWRcbiAgICB2YXIgYWN0dWFsTnMgPSB0aGlzLmxvZ05hbWVzcGFjZVVzZWQobnMsIHRydWUpO1xuXG4gICAgdGhpcy5nZXROYW1lc3BhY2VzKCkubG9nVXNlZChhY3R1YWxOcyk7XG4gIH1cbn07XG5cblxuLyoqXG4gKiBQYXJzZSBuYW1lc3BhY2VzIGFuZCByZXR1cm4gYSBsaXN0IG9mIGxlZnQgb3ZlciBnZW5lcmljIGF0dHJpYnV0ZXNcbiAqXG4gKiBAcGFyYW0gIHtPYmplY3R9IGVsZW1lbnRcbiAqIEByZXR1cm4ge0FycmF5PE9iamVjdD59XG4gKi9cbkVsZW1lbnRTZXJpYWxpemVyLnByb3RvdHlwZS5wYXJzZU5zQXR0cmlidXRlcyA9IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHJzKSB7XG4gIHZhciBzZWxmID0gdGhpcztcblxuICB2YXIgZ2VuZXJpY0F0dHJzID0gZWxlbWVudC4kYXR0cnM7XG5cbiAgdmFyIGF0dHJpYnV0ZXMgPSBbXTtcblxuICAvLyBwYXJzZSBuYW1lc3BhY2UgYXR0cmlidXRlcyBmaXJzdFxuICAvLyBhbmQgbG9nIHRoZW0uIHB1c2ggbm9uIG5hbWVzcGFjZSBhdHRyaWJ1dGVzIHRvIGEgbGlzdFxuICAvLyBhbmQgcHJvY2VzcyB0aGVtIGxhdGVyXG4gIGZvckVhY2goZ2VuZXJpY0F0dHJzLCBmdW5jdGlvbih2YWx1ZSwgbmFtZSkge1xuXG4gICAgdmFyIG5vbk5zQXR0ciA9IHNlbGYucGFyc2VOc0F0dHJpYnV0ZShlbGVtZW50LCBuYW1lLCB2YWx1ZSk7XG5cbiAgICBpZiAobm9uTnNBdHRyKSB7XG4gICAgICBhdHRyaWJ1dGVzLnB1c2gobm9uTnNBdHRyKTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBhdHRyaWJ1dGVzO1xufTtcblxuRWxlbWVudFNlcmlhbGl6ZXIucHJvdG90eXBlLnBhcnNlR2VuZXJpY0F0dHJpYnV0ZXMgPSBmdW5jdGlvbihlbGVtZW50LCBhdHRyaWJ1dGVzKSB7XG5cbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIGZvckVhY2goYXR0cmlidXRlcywgZnVuY3Rpb24oYXR0cikge1xuXG4gICAgLy8gZG8gbm90IHNlcmlhbGl6ZSB4c2k6dHlwZSBhdHRyaWJ1dGVcbiAgICAvLyBpdCBpcyBzZXQgbWFudWFsbHkgYmFzZWQgb24gdGhlIGFjdHVhbCBpbXBsZW1lbnRhdGlvbiB0eXBlXG4gICAgaWYgKGF0dHIubmFtZSA9PT0gWFNJX1RZUEUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgc2VsZi5hZGRBdHRyaWJ1dGUoc2VsZi5uc0F0dHJpYnV0ZU5hbWUoYXR0ci5uYW1lKSwgYXR0ci52YWx1ZSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAnbWlzc2luZyBuYW1lc3BhY2UgaW5mb3JtYXRpb24gZm9yICcsXG4gICAgICAgIGF0dHIubmFtZSwgJz0nLCBhdHRyLnZhbHVlLCAnb24nLCBlbGVtZW50LFxuICAgICAgICBlKTtcbiAgICB9XG4gIH0pO1xufTtcblxuRWxlbWVudFNlcmlhbGl6ZXIucHJvdG90eXBlLnBhcnNlQ29udGFpbm1lbnRzID0gZnVuY3Rpb24ocHJvcGVydGllcykge1xuXG4gIHZhciBzZWxmID0gdGhpcyxcbiAgICAgIGJvZHkgPSB0aGlzLmJvZHksXG4gICAgICBlbGVtZW50ID0gdGhpcy5lbGVtZW50O1xuXG4gIGZvckVhY2gocHJvcGVydGllcywgZnVuY3Rpb24ocCkge1xuICAgIHZhciB2YWx1ZSA9IGVsZW1lbnQuZ2V0KHAubmFtZSksXG4gICAgICAgIGlzUmVmZXJlbmNlID0gcC5pc1JlZmVyZW5jZSxcbiAgICAgICAgaXNNYW55ID0gcC5pc01hbnk7XG5cbiAgICBpZiAoIWlzTWFueSkge1xuICAgICAgdmFsdWUgPSBbIHZhbHVlIF07XG4gICAgfVxuXG4gICAgaWYgKHAuaXNCb2R5KSB7XG4gICAgICBib2R5LnB1c2gobmV3IEJvZHlTZXJpYWxpemVyKCkuYnVpbGQocCwgdmFsdWVbMF0pKTtcbiAgICB9IGVsc2VcbiAgICBpZiAoaXNTaW1wbGVUeXBlKHAudHlwZSkpIHtcbiAgICAgIGZvckVhY2godmFsdWUsIGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgYm9keS5wdXNoKG5ldyBWYWx1ZVNlcmlhbGl6ZXIoc2VsZi5hZGRUYWdOYW1lKHNlbGYubnNQcm9wZXJ0eVRhZ05hbWUocCkpKS5idWlsZChwLCB2KSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2VcbiAgICBpZiAoaXNSZWZlcmVuY2UpIHtcbiAgICAgIGZvckVhY2godmFsdWUsIGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgYm9keS5wdXNoKG5ldyBSZWZlcmVuY2VTZXJpYWxpemVyKHNlbGYuYWRkVGFnTmFtZShzZWxmLm5zUHJvcGVydHlUYWdOYW1lKHApKSkuYnVpbGQodikpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcblxuICAgICAgLy8gYWxsb3cgc2VyaWFsaXphdGlvbiB2aWEgdHlwZVxuICAgICAgLy8gcmF0aGVyIHRoYW4gZWxlbWVudCBuYW1lXG4gICAgICB2YXIgYXNUeXBlID0gc2VyaWFsaXplQXNUeXBlKHApLFxuICAgICAgICAgIGFzUHJvcGVydHkgPSBzZXJpYWxpemVBc1Byb3BlcnR5KHApO1xuXG4gICAgICBmb3JFYWNoKHZhbHVlLCBmdW5jdGlvbih2KSB7XG4gICAgICAgIHZhciBzZXJpYWxpemVyO1xuXG4gICAgICAgIGlmIChhc1R5cGUpIHtcbiAgICAgICAgICBzZXJpYWxpemVyID0gbmV3IFR5cGVTZXJpYWxpemVyKHNlbGYsIHApO1xuICAgICAgICB9IGVsc2VcbiAgICAgICAgaWYgKGFzUHJvcGVydHkpIHtcbiAgICAgICAgICBzZXJpYWxpemVyID0gbmV3IEVsZW1lbnRTZXJpYWxpemVyKHNlbGYsIHApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlcmlhbGl6ZXIgPSBuZXcgRWxlbWVudFNlcmlhbGl6ZXIoc2VsZik7XG4gICAgICAgIH1cblxuICAgICAgICBib2R5LnB1c2goc2VyaWFsaXplci5idWlsZCh2KSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xufTtcblxuRWxlbWVudFNlcmlhbGl6ZXIucHJvdG90eXBlLmdldE5hbWVzcGFjZXMgPSBmdW5jdGlvbihsb2NhbCkge1xuXG4gIHZhciBuYW1lc3BhY2VzID0gdGhpcy5uYW1lc3BhY2VzLFxuICAgICAgcGFyZW50ID0gdGhpcy5wYXJlbnQsXG4gICAgICBwYXJlbnROYW1lc3BhY2VzO1xuXG4gIGlmICghbmFtZXNwYWNlcykge1xuICAgIHBhcmVudE5hbWVzcGFjZXMgPSBwYXJlbnQgJiYgcGFyZW50LmdldE5hbWVzcGFjZXMoKTtcblxuICAgIGlmIChsb2NhbCB8fCAhcGFyZW50TmFtZXNwYWNlcykge1xuICAgICAgdGhpcy5uYW1lc3BhY2VzID0gbmFtZXNwYWNlcyA9IG5ldyBOYW1lc3BhY2VzKHBhcmVudE5hbWVzcGFjZXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBuYW1lc3BhY2VzID0gcGFyZW50TmFtZXNwYWNlcztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbmFtZXNwYWNlcztcbn07XG5cbkVsZW1lbnRTZXJpYWxpemVyLnByb3RvdHlwZS5sb2dOYW1lc3BhY2UgPSBmdW5jdGlvbihucywgd2VsbGtub3duLCBsb2NhbCkge1xuICB2YXIgbmFtZXNwYWNlcyA9IHRoaXMuZ2V0TmFtZXNwYWNlcyhsb2NhbCk7XG5cbiAgdmFyIG5zVXJpID0gbnMudXJpLFxuICAgICAgbnNQcmVmaXggPSBucy5wcmVmaXg7XG5cbiAgdmFyIGV4aXN0aW5nID0gbmFtZXNwYWNlcy5ieVVyaShuc1VyaSk7XG5cbiAgaWYgKG5zUHJlZml4ICE9PSAneG1sJyAmJiAoIWV4aXN0aW5nIHx8IGxvY2FsKSkge1xuICAgIG5hbWVzcGFjZXMuYWRkKG5zLCB3ZWxsa25vd24pO1xuICB9XG5cbiAgbmFtZXNwYWNlcy5tYXBQcmVmaXgobnNQcmVmaXgsIG5zVXJpKTtcblxuICByZXR1cm4gbnM7XG59O1xuXG5FbGVtZW50U2VyaWFsaXplci5wcm90b3R5cGUubG9nTmFtZXNwYWNlVXNlZCA9IGZ1bmN0aW9uKG5zLCBsb2NhbCkge1xuICB2YXIgZWxlbWVudCA9IHRoaXMuZWxlbWVudCxcbiAgICAgIG1vZGVsID0gZWxlbWVudC4kbW9kZWwsXG4gICAgICBuYW1lc3BhY2VzID0gdGhpcy5nZXROYW1lc3BhY2VzKGxvY2FsKTtcblxuICAvLyBucyBtYXkgYmVcbiAgLy9cbiAgLy8gICAqIHByZWZpeCBvbmx5XG4gIC8vICAgKiBwcmVmaXg6dXJpXG4gIC8vICAgKiBsb2NhbE5hbWUgb25seVxuXG4gIHZhciBwcmVmaXggPSBucy5wcmVmaXgsXG4gICAgICB1cmkgPSBucy51cmksXG4gICAgICBuZXdQcmVmaXgsIGlkeCxcbiAgICAgIHdlbGxrbm93blVyaTtcblxuICAvLyBoYW5kbGUgYW5vbnltb3VzIG5hbWVzcGFjZXMgKGVsZW1lbnRGb3JtPXVucXVhbGlmaWVkKSwgY2YuICMyM1xuICBpZiAoIXByZWZpeCAmJiAhdXJpKSB7XG4gICAgcmV0dXJuIHsgbG9jYWxOYW1lOiBucy5sb2NhbE5hbWUgfTtcbiAgfVxuXG4gIHdlbGxrbm93blVyaSA9IERFRkFVTFRfTlNfTUFQW3ByZWZpeF0gfHwgbW9kZWwgJiYgKG1vZGVsLmdldFBhY2thZ2UocHJlZml4KSB8fCB7fSkudXJpO1xuXG4gIHVyaSA9IHVyaSB8fCB3ZWxsa25vd25VcmkgfHwgbmFtZXNwYWNlcy51cmlCeVByZWZpeChwcmVmaXgpO1xuXG4gIGlmICghdXJpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdubyBuYW1lc3BhY2UgdXJpIGdpdmVuIGZvciBwcmVmaXggPCcgKyBwcmVmaXggKyAnPicpO1xuICB9XG5cbiAgbnMgPSBuYW1lc3BhY2VzLmJ5VXJpKHVyaSk7XG5cbiAgaWYgKCFucykge1xuICAgIG5ld1ByZWZpeCA9IHByZWZpeDtcbiAgICBpZHggPSAxO1xuXG4gICAgLy8gZmluZCBhIHByZWZpeCB0aGF0IGlzIG5vdCBtYXBwZWQgeWV0XG4gICAgd2hpbGUgKG5hbWVzcGFjZXMudXJpQnlQcmVmaXgobmV3UHJlZml4KSkge1xuICAgICAgbmV3UHJlZml4ID0gcHJlZml4ICsgJ18nICsgaWR4Kys7XG4gICAgfVxuXG4gICAgbnMgPSB0aGlzLmxvZ05hbWVzcGFjZSh7IHByZWZpeDogbmV3UHJlZml4LCB1cmk6IHVyaSB9LCB3ZWxsa25vd25VcmkgPT09IHVyaSk7XG4gIH1cblxuICBpZiAocHJlZml4KSB7XG4gICAgbmFtZXNwYWNlcy5tYXBQcmVmaXgocHJlZml4LCB1cmkpO1xuICB9XG5cbiAgcmV0dXJuIG5zO1xufTtcblxuRWxlbWVudFNlcmlhbGl6ZXIucHJvdG90eXBlLnBhcnNlQXR0cmlidXRlcyA9IGZ1bmN0aW9uKHByb3BlcnRpZXMpIHtcbiAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgZWxlbWVudCA9IHRoaXMuZWxlbWVudDtcblxuICBmb3JFYWNoKHByb3BlcnRpZXMsIGZ1bmN0aW9uKHApIHtcblxuICAgIHZhciB2YWx1ZSA9IGVsZW1lbnQuZ2V0KHAubmFtZSk7XG5cbiAgICBpZiAocC5pc1JlZmVyZW5jZSkge1xuXG4gICAgICBpZiAoIXAuaXNNYW55KSB7XG4gICAgICAgIHZhbHVlID0gdmFsdWUuaWQ7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdmFyIHZhbHVlcyA9IFtdO1xuICAgICAgICBmb3JFYWNoKHZhbHVlLCBmdW5jdGlvbih2KSB7XG4gICAgICAgICAgdmFsdWVzLnB1c2godi5pZCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIElEUkVGUyBpcyBhIHdoaXRlc3BhY2Utc2VwYXJhdGVkIGxpc3Qgb2YgcmVmZXJlbmNlcy5cbiAgICAgICAgdmFsdWUgPSB2YWx1ZXMuam9pbignICcpO1xuICAgICAgfVxuXG4gICAgfVxuXG4gICAgc2VsZi5hZGRBdHRyaWJ1dGUoc2VsZi5uc0F0dHJpYnV0ZU5hbWUocCksIHZhbHVlKTtcbiAgfSk7XG59O1xuXG5FbGVtZW50U2VyaWFsaXplci5wcm90b3R5cGUuYWRkVGFnTmFtZSA9IGZ1bmN0aW9uKG5zVGFnTmFtZSkge1xuICB2YXIgYWN0dWFsTnMgPSB0aGlzLmxvZ05hbWVzcGFjZVVzZWQobnNUYWdOYW1lKTtcblxuICB0aGlzLmdldE5hbWVzcGFjZXMoKS5sb2dVc2VkKGFjdHVhbE5zKTtcblxuICByZXR1cm4gbnNOYW1lKG5zVGFnTmFtZSk7XG59O1xuXG5FbGVtZW50U2VyaWFsaXplci5wcm90b3R5cGUuYWRkQXR0cmlidXRlID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgdmFyIGF0dHJzID0gdGhpcy5hdHRycztcblxuICBpZiAoaXNTdHJpbmcodmFsdWUpKSB7XG4gICAgdmFsdWUgPSBlc2NhcGVBdHRyKHZhbHVlKTtcbiAgfVxuXG4gIGF0dHJzLnB1c2goeyBuYW1lOiBuYW1lLCB2YWx1ZTogdmFsdWUgfSk7XG59O1xuXG5FbGVtZW50U2VyaWFsaXplci5wcm90b3R5cGUuc2VyaWFsaXplQXR0cmlidXRlcyA9IGZ1bmN0aW9uKHdyaXRlcikge1xuICB2YXIgYXR0cnMgPSB0aGlzLmF0dHJzLFxuICAgICAgbmFtZXNwYWNlcyA9IHRoaXMubmFtZXNwYWNlcztcblxuICBpZiAobmFtZXNwYWNlcykge1xuICAgIGF0dHJzID0gZ2V0TnNBdHRycyhuYW1lc3BhY2VzKS5jb25jYXQoYXR0cnMpO1xuICB9XG5cbiAgZm9yRWFjaChhdHRycywgZnVuY3Rpb24oYSkge1xuICAgIHdyaXRlclxuICAgICAgLmFwcGVuZCgnICcpXG4gICAgICAuYXBwZW5kKG5zTmFtZShhLm5hbWUpKS5hcHBlbmQoJz1cIicpLmFwcGVuZChhLnZhbHVlKS5hcHBlbmQoJ1wiJyk7XG4gIH0pO1xufTtcblxuRWxlbWVudFNlcmlhbGl6ZXIucHJvdG90eXBlLnNlcmlhbGl6ZVRvID0gZnVuY3Rpb24od3JpdGVyKSB7XG4gIHZhciBmaXJzdEJvZHkgPSB0aGlzLmJvZHlbMF0sXG4gICAgICBpbmRlbnQgPSBmaXJzdEJvZHkgJiYgZmlyc3RCb2R5LmNvbnN0cnVjdG9yICE9PSBCb2R5U2VyaWFsaXplcjtcblxuICB3cml0ZXJcbiAgICAuYXBwZW5kSW5kZW50KClcbiAgICAuYXBwZW5kKCc8JyArIHRoaXMudGFnTmFtZSk7XG5cbiAgdGhpcy5zZXJpYWxpemVBdHRyaWJ1dGVzKHdyaXRlcik7XG5cbiAgd3JpdGVyLmFwcGVuZChmaXJzdEJvZHkgPyAnPicgOiAnIC8+Jyk7XG5cbiAgaWYgKGZpcnN0Qm9keSkge1xuXG4gICAgaWYgKGluZGVudCkge1xuICAgICAgd3JpdGVyXG4gICAgICAgIC5hcHBlbmROZXdMaW5lKClcbiAgICAgICAgLmluZGVudCgpO1xuICAgIH1cblxuICAgIGZvckVhY2godGhpcy5ib2R5LCBmdW5jdGlvbihiKSB7XG4gICAgICBiLnNlcmlhbGl6ZVRvKHdyaXRlcik7XG4gICAgfSk7XG5cbiAgICBpZiAoaW5kZW50KSB7XG4gICAgICB3cml0ZXJcbiAgICAgICAgLnVuaW5kZW50KClcbiAgICAgICAgLmFwcGVuZEluZGVudCgpO1xuICAgIH1cblxuICAgIHdyaXRlci5hcHBlbmQoJzwvJyArIHRoaXMudGFnTmFtZSArICc+Jyk7XG4gIH1cblxuICB3cml0ZXIuYXBwZW5kTmV3TGluZSgpO1xufTtcblxuLyoqXG4gKiBBIHNlcmlhbGl6ZXIgZm9yIHR5cGVzIHRoYXQgaGFuZGxlcyBzZXJpYWxpemF0aW9uIG9mIGRhdGEgdHlwZXNcbiAqL1xuZnVuY3Rpb24gVHlwZVNlcmlhbGl6ZXIocGFyZW50LCBwcm9wZXJ0eURlc2NyaXB0b3IpIHtcbiAgRWxlbWVudFNlcmlhbGl6ZXIuY2FsbCh0aGlzLCBwYXJlbnQsIHByb3BlcnR5RGVzY3JpcHRvcik7XG59XG5cbmluaGVyaXRzKFR5cGVTZXJpYWxpemVyLCBFbGVtZW50U2VyaWFsaXplcik7XG5cblR5cGVTZXJpYWxpemVyLnByb3RvdHlwZS5wYXJzZU5zQXR0cmlidXRlcyA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcblxuICAvLyBleHRyYWN0ZWQgYXR0cmlidXRlc1xuICB2YXIgYXR0cmlidXRlcyA9IEVsZW1lbnRTZXJpYWxpemVyLnByb3RvdHlwZS5wYXJzZU5zQXR0cmlidXRlcy5jYWxsKHRoaXMsIGVsZW1lbnQpO1xuXG4gIHZhciBkZXNjcmlwdG9yID0gZWxlbWVudC4kZGVzY3JpcHRvcjtcblxuICAvLyBvbmx5IHNlcmlhbGl6ZSB4c2k6dHlwZSBpZiBuZWNlc3NhcnlcbiAgaWYgKGRlc2NyaXB0b3IubmFtZSA9PT0gdGhpcy5wcm9wZXJ0eURlc2NyaXB0b3IudHlwZSkge1xuICAgIHJldHVybiBhdHRyaWJ1dGVzO1xuICB9XG5cbiAgdmFyIHR5cGVOcyA9IHRoaXMudHlwZU5zID0gdGhpcy5uc1RhZ05hbWUoZGVzY3JpcHRvcik7XG4gIHRoaXMuZ2V0TmFtZXNwYWNlcygpLmxvZ1VzZWQodGhpcy50eXBlTnMpO1xuXG4gIC8vIGFkZCB4c2k6dHlwZSBhdHRyaWJ1dGUgdG8gcmVwcmVzZW50IHRoZSBlbGVtZW50c1xuICAvLyBhY3R1YWwgdHlwZVxuXG4gIHZhciBwa2cgPSBlbGVtZW50LiRtb2RlbC5nZXRQYWNrYWdlKHR5cGVOcy51cmkpLFxuICAgICAgdHlwZVByZWZpeCA9IChwa2cueG1sICYmIHBrZy54bWwudHlwZVByZWZpeCkgfHwgJyc7XG5cbiAgdGhpcy5hZGRBdHRyaWJ1dGUoXG4gICAgdGhpcy5uc0F0dHJpYnV0ZU5hbWUoWFNJX1RZUEUpLFxuICAgICh0eXBlTnMucHJlZml4ID8gdHlwZU5zLnByZWZpeCArICc6JyA6ICcnKSArIHR5cGVQcmVmaXggKyBkZXNjcmlwdG9yLm5zLmxvY2FsTmFtZVxuICApO1xuXG4gIHJldHVybiBhdHRyaWJ1dGVzO1xufTtcblxuVHlwZVNlcmlhbGl6ZXIucHJvdG90eXBlLmlzTG9jYWxOcyA9IGZ1bmN0aW9uKG5zKSB7XG4gIHJldHVybiBucy51cmkgPT09ICh0aGlzLnR5cGVOcyB8fCB0aGlzLm5zKS51cmk7XG59O1xuXG5mdW5jdGlvbiBTYXZpbmdXcml0ZXIoKSB7XG4gIHRoaXMudmFsdWUgPSAnJztcblxuICB0aGlzLndyaXRlID0gZnVuY3Rpb24oc3RyKSB7XG4gICAgdGhpcy52YWx1ZSArPSBzdHI7XG4gIH07XG59XG5cbmZ1bmN0aW9uIEZvcm1hdGluZ1dyaXRlcihvdXQsIGZvcm1hdCkge1xuXG4gIHZhciBpbmRlbnQgPSBbJyddO1xuXG4gIHRoaXMuYXBwZW5kID0gZnVuY3Rpb24oc3RyKSB7XG4gICAgb3V0LndyaXRlKHN0cik7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICB0aGlzLmFwcGVuZE5ld0xpbmUgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoZm9ybWF0KSB7XG4gICAgICBvdXQud3JpdGUoJ1xcbicpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIHRoaXMuYXBwZW5kSW5kZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKGZvcm1hdCkge1xuICAgICAgb3V0LndyaXRlKGluZGVudC5qb2luKCcgICcpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICB0aGlzLmluZGVudCA9IGZ1bmN0aW9uKCkge1xuICAgIGluZGVudC5wdXNoKCcnKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICB0aGlzLnVuaW5kZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgaW5kZW50LnBvcCgpO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xufVxuXG4vKipcbiAqIEEgd3JpdGVyIGZvciBtZXRhLW1vZGVsIGJhY2tlZCBkb2N1bWVudCB0cmVlc1xuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIG91dHB1dCBvcHRpb25zIHRvIHBhc3MgaW50byB0aGUgd3JpdGVyXG4gKi9cbmZ1bmN0aW9uIFdyaXRlcihvcHRpb25zKSB7XG5cbiAgb3B0aW9ucyA9IGFzc2lnbih7IGZvcm1hdDogZmFsc2UsIHByZWFtYmxlOiB0cnVlIH0sIG9wdGlvbnMgfHwge30pO1xuXG4gIGZ1bmN0aW9uIHRvWE1MKHRyZWUsIHdyaXRlcikge1xuICAgIHZhciBpbnRlcm5hbFdyaXRlciA9IHdyaXRlciB8fCBuZXcgU2F2aW5nV3JpdGVyKCk7XG4gICAgdmFyIGZvcm1hdGluZ1dyaXRlciA9IG5ldyBGb3JtYXRpbmdXcml0ZXIoaW50ZXJuYWxXcml0ZXIsIG9wdGlvbnMuZm9ybWF0KTtcblxuICAgIGlmIChvcHRpb25zLnByZWFtYmxlKSB7XG4gICAgICBmb3JtYXRpbmdXcml0ZXIuYXBwZW5kKFhNTF9QUkVBTUJMRSk7XG4gICAgfVxuXG4gICAgbmV3IEVsZW1lbnRTZXJpYWxpemVyKCkuYnVpbGQodHJlZSkuc2VyaWFsaXplVG8oZm9ybWF0aW5nV3JpdGVyKTtcblxuICAgIGlmICghd3JpdGVyKSB7XG4gICAgICByZXR1cm4gaW50ZXJuYWxXcml0ZXIudmFsdWU7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICB0b1hNTDogdG9YTUxcbiAgfTtcbn1cblxuZXhwb3J0IHsgUmVhZGVyLCBXcml0ZXIgfTtcbiIsImltcG9ydCB7IGlzU3RyaW5nLCBhc3NpZ24gfSBmcm9tICdtaW4tZGFzaCc7XG5cbmltcG9ydCB7IE1vZGRsZSB9IGZyb20gJ21vZGRsZSc7XG5cbmltcG9ydCB7IFJlYWRlciwgV3JpdGVyIH0gZnJvbSAnbW9kZGxlLXhtbCc7XG5cbi8qKlxuICogQSBzdWIgY2xhc3Mgb2Yge0BsaW5rIE1vZGRsZX0gd2l0aCBzdXBwb3J0IGZvciBpbXBvcnQgYW5kIGV4cG9ydCBvZiBQb3N0aXQtanMgeG1sIGZpbGVzLlxuICpcbiAqIEBjbGFzcyBQb3N0aXRNb2RkbGVcbiAqXG4gKiBAZXh0ZW5kcyBNb2RkbGVcbiAqXG4gKiBAcGFyYW0ge09iamVjdHxBcnJheX0gcGFja2FnZXMgdG8gdXNlIGZvciBpbnN0YW50aWF0aW5nIHRoZSBtb2RlbFxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBhZGRpdGlvbmFsIG9wdGlvbnMgdG8gcGFzcyBvdmVyXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFBvc3RpdE1vZGRsZShwYWNrYWdlcywgb3B0aW9ucykge1xuICBNb2RkbGUuY2FsbCh0aGlzLCBwYWNrYWdlcywgb3B0aW9ucyk7XG59XG5cblBvc3RpdE1vZGRsZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKE1vZGRsZS5wcm90b3R5cGUpO1xuXG4vKipcbiAqIFRoZSBmcm9tWE1MIHJlc3VsdC5cbiAqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBQYXJzZVJlc3VsdFxuICpcbiAqIEBwcm9wZXJ0eSB7TW9kZGxlRWxlbWVudH0gcm9vdEVsZW1lbnRcbiAqIEBwcm9wZXJ0eSB7QXJyYXk8T2JqZWN0Pn0gcmVmZXJlbmNlc1xuICogQHByb3BlcnR5IHtBcnJheTxFcnJvcj59IHdhcm5pbmdzXG4gKiBAcHJvcGVydHkge09iamVjdH0gZWxlbWVudHNCeUlkIC0gYSBtYXBwaW5nIGNvbnRhaW5pbmcgZWFjaCBJRCAtPiBNb2RkbGVFbGVtZW50XG4gKi9cblxuLyoqXG4gKiBUaGUgZnJvbVhNTCBlcnJvci5cbiAqXG4gKiBAdHlwZWRlZiB7RXJyb3J9IFBhcnNlRXJyb3JcbiAqXG4gKiBAcHJvcGVydHkge0FycmF5PEVycm9yPn0gd2FybmluZ3NcbiAqL1xuXG4vKipcbiAqIEluc3RhbnRpYXRlcyBhIFBvc3RpdCBtb2RlbCB0cmVlIGZyb20gYSBnaXZlbiB4bWwgc3RyaW5nLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSAgIHhtbFN0clxuICogQHBhcmFtIHtTdHJpbmd9ICAgW3R5cGVOYW1lPSdwb3N0aXQ6RGVmaW5pdGlvbnMnXSBuYW1lIG9mIHRoZSByb290IGVsZW1lbnRcbiAqIEBwYXJhbSB7T2JqZWN0fSAgIFtvcHRpb25zXSAgb3B0aW9ucyB0byBwYXNzIHRvIHRoZSB1bmRlcmx5aW5nIHJlYWRlclxuICpcbiAqIEByZXR1cm5zIHtQcm9taXNlPFBhcnNlUmVzdWx0LCBQYXJzZUVycm9yPn1cbiAqL1xuUG9zdGl0TW9kZGxlLnByb3RvdHlwZS5mcm9tWE1MID0gZnVuY3Rpb24oeG1sU3RyLCB0eXBlTmFtZSwgb3B0aW9ucykge1xuICBpZiAoIWlzU3RyaW5nKHR5cGVOYW1lKSkge1xuICAgIG9wdGlvbnMgPSB0eXBlTmFtZTtcbiAgICB0eXBlTmFtZSA9ICdwb3N0aXQ6RGVmaW5pdGlvbnMnO1xuICB9XG5cbiAgdmFyIHJlYWRlciA9IG5ldyBSZWFkZXIoYXNzaWduKHsgbW9kZWw6IHRoaXMsIGxheDogdHJ1ZSB9LCBvcHRpb25zKSk7XG4gIHZhciByb290SGFuZGxlciA9IHJlYWRlci5oYW5kbGVyKHR5cGVOYW1lKTtcblxuICByZXR1cm4gcmVhZGVyLmZyb21YTUwoeG1sU3RyLCByb290SGFuZGxlcik7XG59O1xuXG4vKipcbiAqIFRoZSB0b1hNTCByZXN1bHQuXG4gKlxuICogQHR5cGVkZWYge09iamVjdH0gU2VyaWFsaXphdGlvblJlc3VsdFxuICpcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSB4bWxcbiAqL1xuXG4vKipcbiAqIFNlcmlhbGl6ZXMgYSBQb3N0aXQgb2JqZWN0IHRyZWUgdG8gWE1MLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSAgIGVsZW1lbnQgICAgdGhlIHJvb3QgZWxlbWVudCwgdHlwaWNhbGx5IGFuIGluc3RhbmNlIG9mIGBwb3N0aXQ6RGVmaW5pdGlvbnNgXG4gKiBAcGFyYW0ge09iamVjdH0gICBbb3B0aW9uc10gIHRvIHBhc3MgdG8gdGhlIHVuZGVybHlpbmcgd3JpdGVyXG4gKlxuICogQHJldHVybnMge1Byb21pc2U8U2VyaWFsaXphdGlvblJlc3VsdCwgRXJyb3I+fVxuICovXG5Qb3N0aXRNb2RkbGUucHJvdG90eXBlLnRvWE1MID0gZnVuY3Rpb24oZWxlbWVudCwgb3B0aW9ucykge1xuICB2YXIgd3JpdGVyID0gbmV3IFdyaXRlcihvcHRpb25zKTtcblxuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgdHJ5IHtcbiAgICAgIHZhciByZXN1bHQgPSB3cml0ZXIudG9YTUwoZWxlbWVudCk7XG5cbiAgICAgIHJldHVybiByZXNvbHZlKHtcbiAgICAgICAgeG1sOiByZXN1bHRcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgcmV0dXJuIHJlamVjdChlcnIpO1xuICAgIH1cbiAgfSk7XG59O1xuIiwiXG5pbXBvcnQge1xuICBhc3NpZ25cbn0gZnJvbSAnbWluLWRhc2gnO1xuXG5pbXBvcnQgTW9kZGxlIGZyb20gJy4vTW9kZGxlJztcblxuaW1wb3J0IFBvc3RpdERlc2NyaXB0b3JzIGZyb20gJy4vcmVzb3VyY2VzL3Bvc3RpdC5qc29uJztcbmltcG9ydCBEaURlc2NyaXB0b3JzIGZyb20gJy4vcmVzb3VyY2VzL3Bvc3RpdERpLmpzb24nO1xuaW1wb3J0IERjRGVzY3JpcHRvcnMgZnJvbSAnLi9yZXNvdXJjZXMvZGMuanNvbic7XG5cbnZhciBwYWNrYWdlcyA9IHtcbiAgcG9zdGl0OiBQb3N0aXREZXNjcmlwdG9ycyxcbiAgcG9zdGl0RGk6IERpRGVzY3JpcHRvcnMsXG4gIGRjOiBEY0Rlc2NyaXB0b3JzLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oYWRkaXRpb25hbFBhY2thZ2VzLCBvcHRpb25zKSB7XG4gIHZhciBwa3MgPSBhc3NpZ24oe30sIHBhY2thZ2VzLCBhZGRpdGlvbmFsUGFja2FnZXMpO1xuXG4gIHJldHVybiBuZXcgTW9kZGxlKHBrcywgb3B0aW9ucyk7XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gZWxlbWVudFRvU3RyaW5nKGUpIHtcbiAgaWYgKCFlKSB7XG4gICAgcmV0dXJuICc8bnVsbD4nO1xuICB9XG5cbiAgcmV0dXJuICc8JyArIGUuJHR5cGUgKyAoZS5pZCA/ICcgaWQ9XCInICsgZS5pZCA6ICcnKSArICdcIiAvPic7XG59IiwiaW1wb3J0IHtcbiAgZmluZCxcbiAgZm9yRWFjaFxufSBmcm9tICdtaW4tZGFzaCc7XG5cbmltcG9ydCBSZWZzIGZyb20gJ29iamVjdC1yZWZzJztcblxuaW1wb3J0IHtcbiAgZWxlbWVudFRvU3RyaW5nXG59IGZyb20gJy4vVXRpbCc7XG5cbnZhciBkaVJlZnMgPSBuZXcgUmVmcyhcbiAgeyBuYW1lOiAnYm9hcmRFbGVtZW50JywgZW51bWVyYWJsZTogdHJ1ZSB9LFxuICB7IG5hbWU6ICdkaScsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9XG4pO1xuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiBhbiBlbGVtZW50IGhhcyB0aGUgZ2l2ZW4gbWV0YS1tb2RlbCB0eXBlXG4gKlxuICogQHBhcmFtICB7TW9kZGxlRWxlbWVudH0gIGVsZW1lbnRcbiAqIEBwYXJhbSAge1N0cmluZ30gICAgICAgICB0eXBlXG4gKlxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaXMoZWxlbWVudCwgdHlwZSkge1xuICByZXR1cm4gZWxlbWVudC4kaW5zdGFuY2VPZih0eXBlKTtcbn1cblxuXG4vKipcbiAqIEZpbmQgYSBzdWl0YWJsZSBkaXNwbGF5IGNhbmRpZGF0ZSBmb3IgZGVmaW5pdGlvbnMgd2hlcmUgdGhlIERJIGRvZXMgbm90XG4gKiBjb3JyZWN0bHkgc3BlY2lmeSBvbmUuXG4gKi9cbmZ1bmN0aW9uIGZpbmREaXNwbGF5Q2FuZGlkYXRlKGRlZmluaXRpb25zKSB7XG4gIHJldHVybiBmaW5kKGRlZmluaXRpb25zLnJvb3RFbGVtZW50cywgZnVuY3Rpb24oZSkge1xuICAgIHJldHVybiBpcyhlLCAncG9zdGl0OlBvc3RpdEJvYXJkJyk7XG4gIH0pO1xufVxuXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFBvc3RpdFRyZWVXYWxrZXIoaGFuZGxlciwgdHJhbnNsYXRlKSB7XG5cbiAgLy8gbGlzdCBvZiBjb250YWluZXJzIGFscmVhZHkgd2Fsa2VkXG4gIHZhciBoYW5kbGVkRWxlbWVudHMgPSB7fTtcblxuICAvLyBsaXN0IG9mIGVsZW1lbnRzIHRvIGhhbmRsZSBkZWZlcnJlZCB0byBlbnN1cmVcbiAgLy8gcHJlcmVxdWlzaXRlcyBhcmUgZHJhd25cbiAgdmFyIGRlZmVycmVkID0gW107XG5cbiAgLy8gSGVscGVycyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgZnVuY3Rpb24gdmlzaXRSb290KGVsZW1lbnQsIGRpYWdyYW0pIHtcbiAgICByZXR1cm4gaGFuZGxlci5yb290KGVsZW1lbnQsIGRpYWdyYW0pO1xuICB9XG5cbiAgZnVuY3Rpb24gdmlzaXQoZWxlbWVudCwgY3R4KSB7XG5cbiAgICB2YXIgZ2Z4ID0gZWxlbWVudC5nZng7XG5cbiAgICAvLyBhdm9pZCBtdWx0aXBsZSByZW5kZXJpbmcgb2YgZWxlbWVudHNcbiAgICBpZiAoZ2Z4KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIHRyYW5zbGF0ZSgnYWxyZWFkeSByZW5kZXJlZCB7ZWxlbWVudH0nLCB7IGVsZW1lbnQ6IGVsZW1lbnRUb1N0cmluZyhlbGVtZW50KSB9KVxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBjYWxsIGhhbmRsZXJcbiAgICByZXR1cm4gaGFuZGxlci5lbGVtZW50KGVsZW1lbnQsIGN0eCk7XG4gIH1cblxuICBmdW5jdGlvbiB2aXNpdElmRGkoZWxlbWVudCwgY3R4KSB7XG5cbiAgICB0cnkge1xuICAgICAgdmFyIGdmeCA9IGVsZW1lbnQuZGkgJiYgdmlzaXQoZWxlbWVudCwgY3R4KTtcblxuICAgICAgaGFuZGxlZChlbGVtZW50KTtcblxuICAgICAgcmV0dXJuIGdmeDtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBsb2dFcnJvcihlLm1lc3NhZ2UsIHsgZWxlbWVudDogZWxlbWVudCwgZXJyb3I6IGUgfSk7XG5cbiAgICAgIGNvbnNvbGUuZXJyb3IodHJhbnNsYXRlKCdmYWlsZWQgdG8gaW1wb3J0IHtlbGVtZW50fScsIHsgZWxlbWVudDogZWxlbWVudFRvU3RyaW5nKGVsZW1lbnQpIH0pKTtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gbG9nRXJyb3IobWVzc2FnZSwgY29udGV4dCkge1xuICAgIGhhbmRsZXIuZXJyb3IobWVzc2FnZSwgY29udGV4dCk7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVkKGVsZW1lbnQpIHtcbiAgICBoYW5kbGVkRWxlbWVudHNbZWxlbWVudC5pZF0gPSBlbGVtZW50O1xuICB9XG5cbiAgLy8gREkgaGFuZGxpbmcgLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gIGZ1bmN0aW9uIHJlZ2lzdGVyRGkoZGkpIHtcbiAgICB2YXIgYm9hcmRFbGVtZW50ID0gZGkuYm9hcmRFbGVtZW50O1xuXG4gICAgaWYgKGJvYXJkRWxlbWVudCkge1xuICAgICAgaWYgKGJvYXJkRWxlbWVudC5kaSkge1xuICAgICAgICBsb2dFcnJvcihcbiAgICAgICAgICB0cmFuc2xhdGUoJ211bHRpcGxlIERJIGVsZW1lbnRzIGRlZmluZWQgZm9yIHtlbGVtZW50fScsIHtcbiAgICAgICAgICAgIGVsZW1lbnQ6IGVsZW1lbnRUb1N0cmluZyhib2FyZEVsZW1lbnQpXG4gICAgICAgICAgfSksXG4gICAgICAgICAgeyBlbGVtZW50OiBib2FyZEVsZW1lbnQgfVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGlSZWZzLmJpbmQoYm9hcmRFbGVtZW50LCAnZGknKTtcbiAgICAgICAgYm9hcmRFbGVtZW50LmRpID0gZGk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvZ0Vycm9yKFxuICAgICAgICB0cmFuc2xhdGUoJ25vIGJvYXJkRWxlbWVudCByZWZlcmVuY2VkIGluIHtlbGVtZW50fScsIHtcbiAgICAgICAgICBlbGVtZW50OiBlbGVtZW50VG9TdHJpbmcoZGkpXG4gICAgICAgIH0pLFxuICAgICAgICB7IGVsZW1lbnQ6IGRpIH1cbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlQm9hcmQoZGlhZ3JhbSkge1xuICAgIGhhbmRsZVBsYW5lKGRpYWdyYW0ucGxhbmUpO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlUGxhbmUocGxhbmUpIHtcbiAgICByZWdpc3RlckRpKHBsYW5lKTtcblxuICAgIGZvckVhY2gocGxhbmUucGxhbmVFbGVtZW50LCBoYW5kbGVQbGFuZUVsZW1lbnQpO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlUGxhbmVFbGVtZW50KHBsYW5lRWxlbWVudCkge1xuICAgIHJlZ2lzdGVyRGkocGxhbmVFbGVtZW50KTtcbiAgfVxuXG5cbiAgLy8gU2VtYW50aWMgaGFuZGxpbmcgLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gIC8qKlxuICAgKiBIYW5kbGUgZGVmaW5pdGlvbnMgYW5kIHJldHVybiB0aGUgcmVuZGVyZWQgYm9hcmQgKGlmIGFueSlcbiAgICpcbiAgICogQHBhcmFtIHtNb2RkbGVFbGVtZW50fSBkZWZpbml0aW9ucyB0byB3YWxrIGFuZCBpbXBvcnRcbiAgICogQHBhcmFtIHtNb2RkbGVFbGVtZW50fSBbcm9vdEJvYXJkXSBzcGVjaWZpYyBib2FyZCB0byBpbXBvcnQgYW5kIGRpc3BsYXlcbiAgICpcbiAgICogQHRocm93cyB7RXJyb3J9IGlmIG5vIGRpYWdyYW0gdG8gZGlzcGxheSBjb3VsZCBiZSBmb3VuZFxuICAgKi9cbiAgZnVuY3Rpb24gaGFuZGxlRGVmaW5pdGlvbnMoZGVmaW5pdGlvbnMsIHJvb3RCb2FyZCkge1xuXG4gICAgLy8gbWFrZSBzdXJlIHdlIHdhbGsgdGhlIGNvcnJlY3QgYm9hcmRFbGVtZW50XG5cbiAgICB2YXIgcm9vdEJvYXJkcyA9IGRlZmluaXRpb25zLnJvb3RCb2FyZHM7XG5cbiAgICBpZiAocm9vdEJvYXJkICYmIHJvb3RCb2FyZHMuaW5kZXhPZihyb290Qm9hcmQpID09PSAtMSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKHRyYW5zbGF0ZSgncm9vdEJvYXJkIG5vdCBwYXJ0IG9mIHBvc3RpdDpEZWZpbml0aW9ucycpKTtcbiAgICB9XG5cbiAgICBpZiAoIXJvb3RCb2FyZCAmJiByb290Qm9hcmRzICYmIHJvb3RCb2FyZHMubGVuZ3RoKSB7XG4gICAgICByb290Qm9hcmQgPSByb290Qm9hcmRzWzBdO1xuICAgIH1cblxuICAgIC8vIG5vIHJvb3QgYm9hcmQgLT4gbm90aGluZyB0byBpbXBvcnRcbiAgICBpZiAoIXJvb3RCb2FyZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKHRyYW5zbGF0ZSgnbm8gcm9vdEJvYXJkIHRvIGRpc3BsYXknKSk7XG4gICAgfVxuXG4gICAgLy8gbG9hZCBESSBmcm9tIHNlbGVjdGVkIHJvb3QgYm9hcmQgb25seVxuICAgIGhhbmRsZUJvYXJkKHJvb3RCb2FyZCk7XG5cbiAgICB2YXIgcGxhbmUgPSByb290Qm9hcmQucGxhbmU7XG5cbiAgICBpZiAoIXBsYW5lKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IodHJhbnNsYXRlKFxuICAgICAgICAnbm8gcGxhbmUgZm9yIHtlbGVtZW50fScsXG4gICAgICAgIHsgZWxlbWVudDogZWxlbWVudFRvU3RyaW5nKHJvb3RCb2FyZCkgfVxuICAgICAgKSk7XG4gICAgfVxuXG4gICAgdmFyIHJvb3RFbGVtZW50ID0gcGxhbmUuYm9hcmRFbGVtZW50O1xuXG4gICAgLy8gZW5zdXJlIHdlIGRlZmF1bHQgdG8gYSBzdWl0YWJsZSBkaXNwbGF5IGNhbmRpZGF0ZSAoYm9hcmQpLFxuICAgIC8vIGV2ZW4gaWYgbm9uIGlzIHNwZWNpZmllZCBpbiBESVxuICAgIGlmICghcm9vdEVsZW1lbnQpIHtcbiAgICAgIHJvb3RFbGVtZW50ID0gZmluZERpc3BsYXlDYW5kaWRhdGUoZGVmaW5pdGlvbnMpO1xuXG4gICAgICBpZiAoIXJvb3RFbGVtZW50KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcih0cmFuc2xhdGUoJ25vIGJvYXJkIHRvIGRpc3BsYXknKSk7XG4gICAgICB9IGVsc2Uge1xuXG4gICAgICAgIGxvZ0Vycm9yKFxuICAgICAgICAgIHRyYW5zbGF0ZSgnY29ycmVjdGluZyBtaXNzaW5nIGJvYXJkRWxlbWVudCBvbiB7cGxhbmV9IHRvIHtyb290RWxlbWVudH0nLCB7XG4gICAgICAgICAgICBwbGFuZTogZWxlbWVudFRvU3RyaW5nKHBsYW5lKSxcbiAgICAgICAgICAgIHJvb3RFbGVtZW50OiBlbGVtZW50VG9TdHJpbmcocm9vdEVsZW1lbnQpXG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcblxuICAgICAgICAvLyBjb3JyZWN0IERJIG9uIHRoZSBmbHlcbiAgICAgICAgcGxhbmUuYm9hcmRFbGVtZW50ID0gcm9vdEVsZW1lbnQ7XG4gICAgICAgIHJlZ2lzdGVyRGkocGxhbmUpO1xuICAgICAgfVxuICAgIH1cblxuXG4gICAgdmFyIGN0eCA9IHZpc2l0Um9vdChyb290RWxlbWVudCwgcGxhbmUpO1xuXG4gICAgaWYgKGlzKHJvb3RFbGVtZW50LCAncG9zdGl0OlBvc3RpdEJvYXJkJykpIHtcbiAgICAgIGhhbmRsZVBvc3RpdEJvYXJkKHJvb3RFbGVtZW50LCBjdHgpO1xuICAgIH1cblxuICAgIC8vIGhhbmRsZSBhbGwgZGVmZXJyZWQgZWxlbWVudHNcbiAgICBoYW5kbGVEZWZlcnJlZChkZWZlcnJlZCk7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVCb2FyZEVsZW1lbnRzKGJvYXJkRWxlbWVudHMsIGNvbnRleHQpIHtcbiAgICBmb3JFYWNoKGJvYXJkRWxlbWVudHMsIGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgIHZpc2l0SWZEaShlbGVtZW50LCBjb250ZXh0KTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZVBvc3RpdEJvYXJkKGJvYXJkLCBjb250ZXh0KSB7XG4gICAgaGFuZGxlQm9hcmRFbGVtZW50cyhib2FyZC5ib2FyZEVsZW1lbnRzLCBjb250ZXh0KTtcblxuICAgIC8vIGxvZyBib2FyZCBoYW5kbGVkXG4gICAgaGFuZGxlZChib2FyZCk7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVEZWZlcnJlZCgpIHtcblxuICAgIHZhciBmbjtcblxuICAgIC8vIGRyYWluIGRlZmVycmVkIHVudGlsIGVtcHR5XG4gICAgd2hpbGUgKGRlZmVycmVkLmxlbmd0aCkge1xuICAgICAgZm4gPSBkZWZlcnJlZC5zaGlmdCgpO1xuXG4gICAgICBmbigpO1xuICAgIH1cbiAgfVxuXG5cblxuXG4gIC8vIEFQSSAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgcmV0dXJuIHtcbiAgICBoYW5kbGVEZWZlcnJlZDogaGFuZGxlRGVmZXJyZWQsXG4gICAgaGFuZGxlRGVmaW5pdGlvbnM6IGhhbmRsZURlZmluaXRpb25zLFxuICAgIHJlZ2lzdGVyRGk6IHJlZ2lzdGVyRGlcbiAgfTtcbn0iLCIvKipcbiAqIFRoZSBjb2RlIGluIHRoZSA8cHJvamVjdC1sb2dvPjwvcHJvamVjdC1sb2dvPiBhcmVhXG4gKiBtdXN0IG5vdCBiZSBjaGFuZ2VkLlxuICpcbiAqIEBzZWUgaHR0cDovL2JwbW4uaW8vbGljZW5zZSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAqL1xuaW1wb3J0IHtcbiAgYXNzaWduLFxuICBmaW5kLFxuICBpc051bWJlcixcbiAgb21pdFxufSBmcm9tICdtaW4tZGFzaCc7XG5cbmltcG9ydCB7XG4gIGRvbWlmeSxcbiAgcXVlcnkgYXMgZG9tUXVlcnksXG4gIHJlbW92ZSBhcyBkb21SZW1vdmVcbn0gZnJvbSAnbWluLWRvbSc7XG5cbmltcG9ydCB7XG4gIGlubmVyU1ZHXG59IGZyb20gJ3Rpbnktc3ZnJztcblxuaW1wb3J0IERpYWdyYW0gZnJvbSAnZGlhZ3JhbS1qcyc7XG5pbXBvcnQgTW9kZGxlIGZyb20gJy4vbW9kZGxlJztcblxuaW1wb3J0IGluaGVyaXRzIGZyb20gJ2luaGVyaXRzJztcblxuaW1wb3J0IHtcbiAgaW1wb3J0UG9zdGl0RGlhZ3JhbVxufSBmcm9tICcuL2ltcG9ydC9JbXBvcnRlcic7XG5cblxuXG5cbi8qKlxuICogQSBiYXNlIHZpZXdlciBmb3IgUG9zdGl0IGJvYXJkcy5cbiAqXG4gKiBIYXZlIGEgbG9vayBhdCB7QGxpbmsgVmlld2VyfSwge0BsaW5rIE5hdmlnYXRlZFZpZXdlcn0gb3Ige0BsaW5rIE1vZGVsZXJ9IGZvclxuICogYnVuZGxlcyB0aGF0IGluY2x1ZGUgYWN0dWFsIGZlYXR1cmVzLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gY29uZmlndXJhdGlvbiBvcHRpb25zIHRvIHBhc3MgdG8gdGhlIHZpZXdlclxuICogQHBhcmFtIHtET01FbGVtZW50fSBbb3B0aW9ucy5jb250YWluZXJdIHRoZSBjb250YWluZXIgdG8gcmVuZGVyIHRoZSB2aWV3ZXIgaW4sIGRlZmF1bHRzIHRvIGJvZHkuXG4gKiBAcGFyYW0ge1N0cmluZ3xOdW1iZXJ9IFtvcHRpb25zLndpZHRoXSB0aGUgd2lkdGggb2YgdGhlIHZpZXdlclxuICogQHBhcmFtIHtTdHJpbmd8TnVtYmVyfSBbb3B0aW9ucy5oZWlnaHRdIHRoZSBoZWlnaHQgb2YgdGhlIHZpZXdlclxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLm1vZGRsZUV4dGVuc2lvbnNdIGV4dGVuc2lvbiBwYWNrYWdlcyB0byBwcm92aWRlXG4gKiBAcGFyYW0ge0FycmF5PGRpZGkuTW9kdWxlPn0gW29wdGlvbnMubW9kdWxlc10gYSBsaXN0IG9mIG1vZHVsZXMgdG8gb3ZlcnJpZGUgdGhlIGRlZmF1bHQgbW9kdWxlc1xuICogQHBhcmFtIHtBcnJheTxkaWRpLk1vZHVsZT59IFtvcHRpb25zLmFkZGl0aW9uYWxNb2R1bGVzXSBhIGxpc3Qgb2YgbW9kdWxlcyB0byB1c2Ugd2l0aCB0aGUgZGVmYXVsdCBtb2R1bGVzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEJhc2VWaWV3ZXIob3B0aW9ucykge1xuXG4gIG9wdGlvbnMgPSBhc3NpZ24oe30sIERFRkFVTFRfT1BUSU9OUywgb3B0aW9ucyk7XG5cbiAgdGhpcy5fbW9kZGxlID0gdGhpcy5fY3JlYXRlTW9kZGxlKG9wdGlvbnMpO1xuXG4gIHRoaXMuX2NvbnRhaW5lciA9IHRoaXMuX2NyZWF0ZUNvbnRhaW5lcihvcHRpb25zKTtcblxuICB0aGlzLl9pbml0KHRoaXMuX2NvbnRhaW5lciwgdGhpcy5fbW9kZGxlLCBvcHRpb25zKTtcbn1cblxuaW5oZXJpdHMoQmFzZVZpZXdlciwgRGlhZ3JhbSk7XG5cbi8qKlxuKiBUaGUgaW1wb3J0WE1MIHJlc3VsdC5cbipcbiogQHR5cGVkZWYge09iamVjdH0gSW1wb3J0WE1MUmVzdWx0XG4qXG4qIEBwcm9wZXJ0eSB7QXJyYXk8c3RyaW5nPn0gd2FybmluZ3NcbiovXG5cbi8qKlxuKiBUaGUgaW1wb3J0WE1MIGVycm9yLlxuKlxuKiBAdHlwZWRlZiB7RXJyb3J9IEltcG9ydFhNTEVycm9yXG4qXG4qIEBwcm9wZXJ0eSB7QXJyYXk8c3RyaW5nPn0gd2FybmluZ3NcbiovXG5cblxuLyoqXG4gKiBQYXJzZSBhbmQgcmVuZGVyIGEgUG9zdGl0IGRpYWdyYW0uXG4gKlxuICogT25jZSBmaW5pc2hlZCB0aGUgdmlld2VyIHJlcG9ydHMgYmFjayB0aGUgcmVzdWx0IHRvIHRoZVxuICogcHJvdmlkZWQgY2FsbGJhY2sgZnVuY3Rpb24gd2l0aCAoZXJyLCB3YXJuaW5ncykuXG4gKlxuICogIyMgTGlmZS1DeWNsZSBFdmVudHNcbiAqXG4gKiBEdXJpbmcgaW1wb3J0IHRoZSB2aWV3ZXIgd2lsbCBmaXJlIGxpZmUtY3ljbGUgZXZlbnRzOlxuICpcbiAqICAgKiBpbXBvcnQucGFyc2Uuc3RhcnQgKGFib3V0IHRvIHJlYWQgbW9kZWwgZnJvbSB4bWwpXG4gKiAgICogaW1wb3J0LnBhcnNlLmNvbXBsZXRlIChtb2RlbCByZWFkOyBtYXkgaGF2ZSB3b3JrZWQgb3Igbm90KVxuICogICAqIGltcG9ydC5yZW5kZXIuc3RhcnQgKGdyYXBoaWNhbCBpbXBvcnQgc3RhcnQpXG4gKiAgICogaW1wb3J0LnJlbmRlci5jb21wbGV0ZSAoZ3JhcGhpY2FsIGltcG9ydCBmaW5pc2hlZClcbiAqICAgKiBpbXBvcnQuZG9uZSAoZXZlcnl0aGluZyBkb25lKVxuICpcbiAqIFlvdSBjYW4gdXNlIHRoZXNlIGV2ZW50cyB0byBob29rIGludG8gdGhlIGxpZmUtY3ljbGUuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHhtbCB0aGUgUG9zdGl0IHhtbFxuICogQHBhcmFtIHtNb2RkbGVFbGVtZW50PFBvc3RpdFJvb3RCb2FyZD58U3RyaW5nfSBbcm9vdEJvYXJkXSBQb3N0aXQgYm9hcmQgb3IgaWQgb2YgYm9hcmQgdG8gcmVuZGVyIChpZiBub3QgcHJvdmlkZWQsIHRoZSBmaXJzdCBvbmUgd2lsbCBiZSByZW5kZXJlZClcbiAqXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxJbXBvcnRYTUxSZXN1bHQsIEltcG9ydFhNTEVycm9yPn1cbiAqL1xuQmFzZVZpZXdlci5wcm90b3R5cGUuaW1wb3J0WE1MID0gZnVuY3Rpb24oeG1sLCByb290Qm9hcmQpIHtcblxuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuXG4gICAgLy8gaG9vayBpbiBwcmUtcGFyc2UgbGlzdGVuZXJzICtcbiAgICAvLyBhbGxvdyB4bWwgbWFuaXB1bGF0aW9uXG4gICAgeG1sID0gc2VsZi5fZW1pdCgnaW1wb3J0LnBhcnNlLnN0YXJ0JywgeyB4bWw6IHhtbCB9KSB8fCB4bWw7XG5cbiAgICBzZWxmLl9tb2RkbGUuZnJvbVhNTCh4bWwsICdwb3N0aXQ6RGVmaW5pdGlvbnMnKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCkge1xuXG4gICAgICB2YXIgZGVmaW5pdGlvbnMgPSByZXN1bHQucm9vdEVsZW1lbnQ7XG4gICAgICB2YXIgcmVmZXJlbmNlcyA9IHJlc3VsdC5yZWZlcmVuY2VzO1xuICAgICAgdmFyIHBhcnNlV2FybmluZ3MgPSByZXN1bHQud2FybmluZ3M7XG4gICAgICB2YXIgZWxlbWVudHNCeUlkID0gcmVzdWx0LmVsZW1lbnRzQnlJZDtcblxuICAgICAgdmFyIGNvbnRleHQgPSB7XG4gICAgICAgIHJlZmVyZW5jZXM6IHJlZmVyZW5jZXMsXG4gICAgICAgIGVsZW1lbnRzQnlJZDogZWxlbWVudHNCeUlkLFxuICAgICAgICB3YXJuaW5nczogcGFyc2VXYXJuaW5nc1xuICAgICAgfTtcblxuICAgICAgLy8gaG9vayBpbiBwb3N0IHBhcnNlIGxpc3RlbmVycyArXG4gICAgICAvLyBhbGxvdyBkZWZpbml0aW9ucyBtYW5pcHVsYXRpb25cbiAgICAgIGRlZmluaXRpb25zID0gc2VsZi5fZW1pdCgnaW1wb3J0LnBhcnNlLmNvbXBsZXRlJywge1xuICAgICAgICBkZWZpbml0aW9uczogZGVmaW5pdGlvbnMsXG4gICAgICAgIGNvbnRleHQ6IGNvbnRleHRcbiAgICAgIH0pIHx8IGRlZmluaXRpb25zO1xuXG4gICAgICBzZWxmLmltcG9ydERlZmluaXRpb25zKGRlZmluaXRpb25zLCByb290Qm9hcmQpLnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgIHZhciBhbGxXYXJuaW5ncyA9IFtdLmNvbmNhdChwYXJzZVdhcm5pbmdzLCByZXN1bHQud2FybmluZ3MgfHwgW10pO1xuXG4gICAgICAgIHNlbGYuX2VtaXQoJ2ltcG9ydC5kb25lJywgeyBlcnJvcjogbnVsbCwgd2FybmluZ3M6IGFsbFdhcm5pbmdzIH0pO1xuXG4gICAgICAgIHJldHVybiByZXNvbHZlKHsgd2FybmluZ3M6IGFsbFdhcm5pbmdzIH0pO1xuICAgICAgfSkuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgIHZhciBhbGxXYXJuaW5ncyA9IFtdLmNvbmNhdChwYXJzZVdhcm5pbmdzLCBlcnIud2FybmluZ3MgfHwgW10pO1xuXG4gICAgICAgIHNlbGYuX2VtaXQoJ2ltcG9ydC5kb25lJywgeyBlcnJvcjogZXJyLCB3YXJuaW5nczogYWxsV2FybmluZ3MgfSk7XG5cbiAgICAgICAgcmV0dXJuIHJlamVjdChhZGRXYXJuaW5nc1RvRXJyb3IoZXJyLCBhbGxXYXJuaW5ncykpO1xuICAgICAgfSk7XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XG5cbiAgICAgIHNlbGYuX2VtaXQoJ2ltcG9ydC5wYXJzZS5jb21wbGV0ZScsIHtcbiAgICAgICAgZXJyb3I6IGVyclxuICAgICAgfSk7XG5cbiAgICAgIGVyciA9IGNoZWNrVmFsaWRhdGlvbkVycm9yKGVycik7XG5cbiAgICAgIHNlbGYuX2VtaXQoJ2ltcG9ydC5kb25lJywgeyBlcnJvcjogZXJyLCB3YXJuaW5nczogZXJyLndhcm5pbmdzIH0pO1xuXG4gICAgICByZXR1cm4gcmVqZWN0KGVycik7XG4gICAgfSk7XG5cbiAgfSk7XG59O1xuXG4vKipcbiogVGhlIGltcG9ydERlZmluaXRpb25zIHJlc3VsdC5cbipcbiogQHR5cGVkZWYge09iamVjdH0gSW1wb3J0RGVmaW5pdGlvbnNSZXN1bHRcbipcbiogQHByb3BlcnR5IHtBcnJheTxzdHJpbmc+fSB3YXJuaW5nc1xuKi9cblxuLyoqXG4qIFRoZSBpbXBvcnREZWZpbml0aW9ucyBlcnJvci5cbipcbiogQHR5cGVkZWYge0Vycm9yfSBJbXBvcnREZWZpbml0aW9uc0Vycm9yXG4qXG4qIEBwcm9wZXJ0eSB7QXJyYXk8c3RyaW5nPn0gd2FybmluZ3NcbiovXG5cbi8qKlxuICogSW1wb3J0IHBhcnNlZCBkZWZpbml0aW9ucyBhbmQgcmVuZGVyIGEgUG9zdGl0IGRpYWdyYW0uXG4gKlxuICogT25jZSBmaW5pc2hlZCB0aGUgdmlld2VyIHJlcG9ydHMgYmFjayB0aGUgcmVzdWx0IHRvIHRoZVxuICogcHJvdmlkZWQgY2FsbGJhY2sgZnVuY3Rpb24gd2l0aCAoZXJyLCB3YXJuaW5ncykuXG4gKlxuICogIyMgTGlmZS1DeWNsZSBFdmVudHNcbiAqXG4gKiBEdXJpbmcgaW1wb3J0IHRoZSB2aWV3ZXIgd2lsbCBmaXJlIGxpZmUtY3ljbGUgZXZlbnRzOlxuICpcbiAqICAgKiBpbXBvcnQucmVuZGVyLnN0YXJ0IChncmFwaGljYWwgaW1wb3J0IHN0YXJ0KVxuICogICAqIGltcG9ydC5yZW5kZXIuY29tcGxldGUgKGdyYXBoaWNhbCBpbXBvcnQgZmluaXNoZWQpXG4gKlxuICogWW91IGNhbiB1c2UgdGhlc2UgZXZlbnRzIHRvIGhvb2sgaW50byB0aGUgbGlmZS1jeWNsZS5cbiAqXG4gKiBAcGFyYW0ge01vZGRsZUVsZW1lbnQ8RGVmaW5pdGlvbnM+fSBkZWZpbml0aW9ucyBwYXJzZWQgUG9zdGl0IGRlZmluaXRpb25zXG4gKiBAcGFyYW0ge01vZGRsZUVsZW1lbnQ8UG9zdGl0Um9vdEJvYXJkPnxTdHJpbmd9IFtyb290Qm9hcmRdIFBvc3RpdCBib2FyZCBvciBpZCBvZiBib2FyZCB0byByZW5kZXIgKGlmIG5vdCBwcm92aWRlZCwgdGhlIGZpcnN0IG9uZSB3aWxsIGJlIHJlbmRlcmVkKVxuICpcbiAqIHJldHVybnMge1Byb21pc2U8SW1wb3J0RGVmaW5pdGlvbnNSZXN1bHQsIEltcG9ydERlZmluaXRpb25zRXJyb3I+fVxuICovXG5CYXNlVmlld2VyLnByb3RvdHlwZS5pbXBvcnREZWZpbml0aW9ucyA9IGZ1bmN0aW9uKGRlZmluaXRpb25zLCByb290Qm9hcmQpIHtcblxuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuXG4gICAgc2VsZi5fc2V0RGVmaW5pdGlvbnMoZGVmaW5pdGlvbnMpO1xuXG4gICAgc2VsZi5vcGVuKHJvb3RCb2FyZCkudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcblxuICAgICAgdmFyIHdhcm5pbmdzID0gcmVzdWx0Lndhcm5pbmdzO1xuXG4gICAgICByZXR1cm4gcmVzb2x2ZSh7IHdhcm5pbmdzOiB3YXJuaW5ncyB9KTtcbiAgICB9KS5jYXRjaChmdW5jdGlvbihlcnIpIHtcblxuICAgICAgcmV0dXJuIHJlamVjdChlcnIpO1xuICAgIH0pO1xuICB9KTtcbn07XG5cbi8qKlxuICogVGhlIG9wZW4gcmVzdWx0LlxuICpcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wZW5SZXN1bHRcbiAqXG4gKiBAcHJvcGVydHkge0FycmF5PHN0cmluZz59IHdhcm5pbmdzXG4gKi9cblxuLyoqXG4qIFRoZSBvcGVuIGVycm9yLlxuKlxuKiBAdHlwZWRlZiB7RXJyb3J9IE9wZW5FcnJvclxuKlxuKiBAcHJvcGVydHkge0FycmF5PHN0cmluZz59IHdhcm5pbmdzXG4qL1xuXG4vKipcbiAqIE9wZW4gYm9hcmQgb2YgcHJldmlvdXNseSBpbXBvcnRlZCBYTUwuXG4gKlxuICogT25jZSBmaW5pc2hlZCB0aGUgdmlld2VyIHJlcG9ydHMgYmFjayB0aGUgcmVzdWx0IHRvIHRoZVxuICogcHJvdmlkZWQgY2FsbGJhY2sgZnVuY3Rpb24gd2l0aCAoZXJyLCB3YXJuaW5ncykuXG4gKlxuICogIyMgTGlmZS1DeWNsZSBFdmVudHNcbiAqXG4gKiBEdXJpbmcgc3dpdGNoIHRoZSB2aWV3ZXIgd2lsbCBmaXJlIGxpZmUtY3ljbGUgZXZlbnRzOlxuICpcbiAqICAgKiBpbXBvcnQucmVuZGVyLnN0YXJ0IChncmFwaGljYWwgaW1wb3J0IHN0YXJ0KVxuICogICAqIGltcG9ydC5yZW5kZXIuY29tcGxldGUgKGdyYXBoaWNhbCBpbXBvcnQgZmluaXNoZWQpXG4gKlxuICogWW91IGNhbiB1c2UgdGhlc2UgZXZlbnRzIHRvIGhvb2sgaW50byB0aGUgbGlmZS1jeWNsZS5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xNb2RkbGVFbGVtZW50PFBvc3RpdFJvb3RCb2FyZD59IFtyb290Qm9hcmRPcklkXSBpZCBvciB0aGUgZGlhZ3JhbSB0byBvcGVuXG4gKlxuICogcmV0dXJucyB7UHJvbWlzZTxPcGVuUmVzdWx0LCBPcGVuRXJyb3I+fVxuICovXG5CYXNlVmlld2VyLnByb3RvdHlwZS5vcGVuID0gZnVuY3Rpb24ocm9vdEJvYXJkT3JJZCkge1xuXG4gIHZhciBkZWZpbml0aW9ucyA9IHRoaXMuX2RlZmluaXRpb25zO1xuICB2YXIgcm9vdEJvcmQgPSByb290Qm9hcmRPcklkO1xuXG4gIHZhciBzZWxmID0gdGhpcztcblxuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgaWYgKCFkZWZpbml0aW9ucykge1xuICAgICAgdmFyIGVycjEgPSBuZXcgRXJyb3IoJ25vIFhNTCBpbXBvcnRlZCcpO1xuXG4gICAgICByZXR1cm4gcmVqZWN0KGFkZFdhcm5pbmdzVG9FcnJvcihlcnIxLCBbXSkpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygcm9vdEJvYXJkT3JJZCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHJvb3RCb3JkID0gZmluZFJvb3RCb2FyZChkZWZpbml0aW9ucywgcm9vdEJvYXJkT3JJZCk7XG5cbiAgICAgIGlmICghcm9vdEJvcmQpIHtcbiAgICAgICAgdmFyIGVycjIgPSBuZXcgRXJyb3IoJ1Bvc3RpdFJvb3RCb2FyZCA8JyArIHJvb3RCb2FyZE9ySWQgKyAnPiBub3QgZm91bmQnKTtcblxuICAgICAgICByZXR1cm4gcmVqZWN0KGFkZFdhcm5pbmdzVG9FcnJvcihlcnIyLCBbXSkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGNsZWFyIGV4aXN0aW5nIHJlbmRlcmVkIGRpYWdyYW1cbiAgICAvLyBjYXRjaCBzeW5jaHJvbm91cyBleGNlcHRpb25zIGR1cmluZyAjY2xlYXIoKVxuICAgIHRyeSB7XG4gICAgICBzZWxmLmNsZWFyKCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcblxuICAgICAgcmV0dXJuIHJlamVjdChhZGRXYXJuaW5nc1RvRXJyb3IoZXJyb3IsIFtdKSk7XG4gICAgfVxuXG4gICAgLy8gcGVyZm9ybSBncmFwaGljYWwgaW1wb3J0XG4gICAgaW1wb3J0UG9zdGl0RGlhZ3JhbShzZWxmLCBkZWZpbml0aW9ucywgcm9vdEJvcmQpLnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7XG5cbiAgICAgIHZhciB3YXJuaW5ncyA9IHJlc3VsdC53YXJuaW5ncztcblxuICAgICAgcmV0dXJuIHJlc29sdmUoeyB3YXJuaW5nczogd2FybmluZ3MgfSk7XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XG5cbiAgICAgIHJldHVybiByZWplY3QoZXJyKTtcbiAgICB9KTtcbiAgfSk7XG59O1xuXG4vKipcbiAqIFRoZSBzYXZlWE1MIHJlc3VsdC5cbiAqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBTYXZlWE1MUmVzdWx0XG4gKlxuICogQHByb3BlcnR5IHtzdHJpbmd9IHhtbFxuICovXG5cbi8qKlxuICogRXhwb3J0IHRoZSBjdXJyZW50bHkgZGlzcGxheWVkIFBvc3RpdCBkaWFncmFtIGFzXG4gKiBhIFBvc3RpdCBYTUwgZG9jdW1lbnQuXG4gKlxuICogIyMgTGlmZS1DeWNsZSBFdmVudHNcbiAqXG4gKiBEdXJpbmcgWE1MIHNhdmluZyB0aGUgdmlld2VyIHdpbGwgZmlyZSBsaWZlLWN5Y2xlIGV2ZW50czpcbiAqXG4gKiAgICogc2F2ZVhNTC5zdGFydCAoYmVmb3JlIHNlcmlhbGl6YXRpb24pXG4gKiAgICogc2F2ZVhNTC5zZXJpYWxpemVkIChhZnRlciB4bWwgZ2VuZXJhdGlvbilcbiAqICAgKiBzYXZlWE1MLmRvbmUgKGV2ZXJ5dGhpbmcgZG9uZSlcbiAqXG4gKiBZb3UgY2FuIHVzZSB0aGVzZSBldmVudHMgdG8gaG9vayBpbnRvIHRoZSBsaWZlLWN5Y2xlLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gZXhwb3J0IG9wdGlvbnNcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuZm9ybWF0PWZhbHNlXSBvdXRwdXQgZm9ybWF0dGVkIFhNTFxuICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5wcmVhbWJsZT10cnVlXSBvdXRwdXQgcHJlYW1ibGVcbiAqXG4gKiByZXR1cm5zIHtQcm9taXNlPFNhdmVYTUxSZXN1bHQsIEVycm9yPn1cbiAqL1xuQmFzZVZpZXdlci5wcm90b3R5cGUuc2F2ZVhNTCA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcblxuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgdmFyIGRlZmluaXRpb25zID0gdGhpcy5fZGVmaW5pdGlvbnM7XG5cbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuXG4gICAgaWYgKCFkZWZpbml0aW9ucykge1xuICAgICAgdmFyIGVyciA9IG5ldyBFcnJvcignbm8gZGVmaW5pdGlvbnMgbG9hZGVkJyk7XG5cbiAgICAgIHJldHVybiByZWplY3QoZXJyKTtcbiAgICB9XG5cbiAgICAvLyBhbGxvdyB0byBmaWRkbGUgYXJvdW5kIHdpdGggZGVmaW5pdGlvbnNcbiAgICBkZWZpbml0aW9ucyA9IHNlbGYuX2VtaXQoJ3NhdmVYTUwuc3RhcnQnLCB7XG4gICAgICBkZWZpbml0aW9uczogZGVmaW5pdGlvbnNcbiAgICB9KSB8fCBkZWZpbml0aW9ucztcblxuICAgIHNlbGYuX21vZGRsZS50b1hNTChkZWZpbml0aW9ucywgb3B0aW9ucykudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcblxuICAgICAgdmFyIHhtbCA9IHJlc3VsdC54bWw7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIHhtbCA9IHNlbGYuX2VtaXQoJ3NhdmVYTUwuc2VyaWFsaXplZCcsIHtcbiAgICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgICB4bWw6IHhtbFxuICAgICAgICB9KSB8fCB4bWw7XG5cbiAgICAgICAgc2VsZi5fZW1pdCgnc2F2ZVhNTC5kb25lJywge1xuICAgICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICAgIHhtbDogeG1sXG4gICAgICAgIH0pO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdlcnJvciBpbiBzYXZlWE1MIGxpZmUtY3ljbGUgbGlzdGVuZXInLCBlKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlc29sdmUoeyB4bWw6IHhtbCB9KTtcbiAgICB9KS5jYXRjaChmdW5jdGlvbihlcnIpIHtcblxuICAgICAgcmV0dXJuIHJlamVjdChlcnIpO1xuICAgIH0pO1xuICB9KTtcbn07XG5cbi8qKlxuICogVGhlIHNhdmVTVkcgcmVzdWx0LlxuICpcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFNhdmVTVkdSZXN1bHRcbiAqXG4gKiBAcHJvcGVydHkge3N0cmluZ30gc3ZnXG4gKi9cblxuLyoqXG4gKiBFeHBvcnQgdGhlIGN1cnJlbnRseSBkaXNwbGF5ZWQgUG9zdGl0IGRpYWdyYW0gYXNcbiAqIGFuIFNWRyBpbWFnZS5cbiAqXG4gKiAjIyBMaWZlLUN5Y2xlIEV2ZW50c1xuICpcbiAqIER1cmluZyBTVkcgc2F2aW5nIHRoZSB2aWV3ZXIgd2lsbCBmaXJlIGxpZmUtY3ljbGUgZXZlbnRzOlxuICpcbiAqICAgKiBzYXZlU1ZHLnN0YXJ0IChiZWZvcmUgc2VyaWFsaXphdGlvbilcbiAqICAgKiBzYXZlU1ZHLmRvbmUgKGV2ZXJ5dGhpbmcgZG9uZSlcbiAqXG4gKiBZb3UgY2FuIHVzZSB0aGVzZSBldmVudHMgdG8gaG9vayBpbnRvIHRoZSBsaWZlLWN5Y2xlLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAqXG4gKiByZXR1cm5zIHtQcm9taXNlPFNhdmVTVkdSZXN1bHQsIEVycm9yPn1cbiAqL1xuQmFzZVZpZXdlci5wcm90b3R5cGUuc2F2ZVNWRyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcblxuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuXG4gICAgc2VsZi5fZW1pdCgnc2F2ZVNWRy5zdGFydCcpO1xuXG4gICAgdmFyIHN2ZywgZXJyO1xuXG4gICAgdHJ5IHtcbiAgICAgIHZhciBjYW52YXMgPSBzZWxmLmdldCgnY2FudmFzJyk7XG5cbiAgICAgIHZhciBjb250ZW50Tm9kZSA9IGNhbnZhcy5nZXREZWZhdWx0TGF5ZXIoKSxcbiAgICAgICAgICBkZWZzTm9kZSA9IGRvbVF1ZXJ5KCdkZWZzJywgY2FudmFzLl9zdmcpO1xuXG4gICAgICB2YXIgY29udGVudHMgPSBpbm5lclNWRyhjb250ZW50Tm9kZSksXG4gICAgICAgICAgZGVmcyA9IGRlZnNOb2RlID8gJzxkZWZzPicgKyBpbm5lclNWRyhkZWZzTm9kZSkgKyAnPC9kZWZzPicgOiAnJztcblxuICAgICAgdmFyIGJib3ggPSBjb250ZW50Tm9kZS5nZXRCQm94KCk7XG5cbiAgICAgIHN2ZyA9XG4gICAgICAgICc8P3htbCB2ZXJzaW9uPVwiMS4wXCIgZW5jb2Rpbmc9XCJ1dGYtOFwiPz5cXG4nICtcbiAgICAgICAgJzwhLS0gY3JlYXRlZCB3aXRoIGRpYWdyYW0tanMgLyBodHRwOi8vYnBtbi5pbyAtLT5cXG4nICtcbiAgICAgICAgJzwhRE9DVFlQRSBzdmcgUFVCTElDIFwiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU5cIiBcImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZFwiPlxcbicgK1xuICAgICAgICAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgeG1sbnM6eGxpbms9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIgJyArXG4gICAgICAgICAgICAgJ3dpZHRoPVwiJyArIGJib3gud2lkdGggKyAnXCIgaGVpZ2h0PVwiJyArIGJib3guaGVpZ2h0ICsgJ1wiICcgK1xuICAgICAgICAgICAgICd2aWV3Qm94PVwiJyArIGJib3gueCArICcgJyArIGJib3gueSArICcgJyArIGJib3gud2lkdGggKyAnICcgKyBiYm94LmhlaWdodCArICdcIiB2ZXJzaW9uPVwiMS4xXCI+JyArXG4gICAgICAgICAgZGVmcyArIGNvbnRlbnRzICtcbiAgICAgICAgJzwvc3ZnPic7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgZXJyID0gZTtcbiAgICB9XG5cbiAgICBzZWxmLl9lbWl0KCdzYXZlU1ZHLmRvbmUnLCB7XG4gICAgICBlcnJvcjogZXJyLFxuICAgICAgc3ZnOiBzdmdcbiAgICB9KTtcblxuICAgIGlmICghZXJyKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZSh7IHN2Zzogc3ZnIH0pO1xuICAgIH1cblxuICAgIHJldHVybiByZWplY3QoZXJyKTtcbiAgfSk7XG59O1xuXG4vKipcbiAqIEdldCBhIG5hbWVkIGRpYWdyYW0gc2VydmljZS5cbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBlbGVtZW50UmVnaXN0cnkgPSB2aWV3ZXIuZ2V0KCdlbGVtZW50UmVnaXN0cnknKTtcbiAqIHZhciBzdGFydEV2ZW50U2hhcGUgPSBlbGVtZW50UmVnaXN0cnkuZ2V0KCdTdGFydEV2ZW50XzEnKTtcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZVxuICpcbiAqIEByZXR1cm4ge09iamVjdH0gZGlhZ3JhbSBzZXJ2aWNlIGluc3RhbmNlXG4gKlxuICogQG1ldGhvZCBCYXNlVmlld2VyI2dldFxuICovXG5cbi8qKlxuICogSW52b2tlIGEgZnVuY3Rpb24gaW4gdGhlIGNvbnRleHQgb2YgdGhpcyB2aWV3ZXIuXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiB2aWV3ZXIuaW52b2tlKGZ1bmN0aW9uKGVsZW1lbnRSZWdpc3RyeSkge1xuICogICB2YXIgc3RhcnRFdmVudFNoYXBlID0gZWxlbWVudFJlZ2lzdHJ5LmdldCgnU3RhcnRFdmVudF8xJyk7XG4gKiB9KTtcbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiB0byBiZSBpbnZva2VkXG4gKlxuICogQHJldHVybiB7T2JqZWN0fSB0aGUgZnVuY3Rpb25zIHJldHVybiB2YWx1ZVxuICpcbiAqIEBtZXRob2QgQmFzZVZpZXdlciNpbnZva2VcbiAqL1xuXG5cbkJhc2VWaWV3ZXIucHJvdG90eXBlLl9zZXREZWZpbml0aW9ucyA9IGZ1bmN0aW9uKGRlZmluaXRpb25zKSB7XG4gIHRoaXMuX2RlZmluaXRpb25zID0gZGVmaW5pdGlvbnM7XG59O1xuXG5CYXNlVmlld2VyLnByb3RvdHlwZS5nZXRNb2R1bGVzID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLl9tb2R1bGVzO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgYWxsIGRyYXduIGVsZW1lbnRzIGZyb20gdGhlIHZpZXdlci5cbiAqXG4gKiBBZnRlciBjYWxsaW5nIHRoaXMgbWV0aG9kIHRoZSB2aWV3ZXIgY2FuIHN0aWxsXG4gKiBiZSByZXVzZWQgZm9yIG9wZW5pbmcgYW5vdGhlciBkaWFncmFtLlxuICpcbiAqIEBtZXRob2QgQmFzZVZpZXdlciNjbGVhclxuICovXG5CYXNlVmlld2VyLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uKCkge1xuICBpZiAoIXRoaXMuZ2V0RGVmaW5pdGlvbnMoKSkge1xuXG4gICAgLy8gbm8gZGlhZ3JhbSB0byBjbGVhclxuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIHJlbW92ZSBidXNpbmVzc09iamVjdCNkaSBiaW5kaW5nXG4gIC8vXG4gIC8vIHRoaXMgaXMgbmVjZXNzYXJ5LCBhcyB3ZSBlc3RhYmxpc2ggdGhlIGJpbmRpbmdzXG4gIC8vIGluIHRoZSBQb3N0aXRUcmVlV2Fsa2VyIChhbmQgYXNzdW1lIG5vbmUgYXJlIGdpdmVuXG4gIC8vIG9uIHJlaW1wb3J0KVxuICB0aGlzLmdldCgnZWxlbWVudFJlZ2lzdHJ5JykuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgdmFyIGJvID0gZWxlbWVudC5idXNpbmVzc09iamVjdDtcblxuICAgIGlmIChibyAmJiBiby5kaSkge1xuICAgICAgZGVsZXRlIGJvLmRpO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gcmVtb3ZlIGRyYXduIGVsZW1lbnRzXG4gIERpYWdyYW0ucHJvdG90eXBlLmNsZWFyLmNhbGwodGhpcyk7XG59O1xuXG4vKipcbiAqIERlc3Ryb3kgdGhlIHZpZXdlciBpbnN0YW5jZSBhbmQgcmVtb3ZlIGFsbCBpdHNcbiAqIHJlbWFpbmRlcnMgZnJvbSB0aGUgZG9jdW1lbnQgdHJlZS5cbiAqL1xuQmFzZVZpZXdlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xuXG4gIC8vIGRpYWdyYW0gZGVzdHJveVxuICBEaWFncmFtLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7XG5cbiAgLy8gZG9tIGRldGFjaFxuICBkb21SZW1vdmUodGhpcy5fY29udGFpbmVyKTtcbn07XG5cbi8qKlxuICogUmVnaXN0ZXIgYW4gZXZlbnQgbGlzdGVuZXJcbiAqXG4gKiBSZW1vdmUgYSBwcmV2aW91c2x5IGFkZGVkIGxpc3RlbmVyIHZpYSB7QGxpbmsgI29mZihldmVudCwgY2FsbGJhY2spfS5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSBbcHJpb3JpdHldXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICogQHBhcmFtIHtPYmplY3R9IFt0aGF0XVxuICovXG5CYXNlVmlld2VyLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uKGV2ZW50LCBwcmlvcml0eSwgY2FsbGJhY2ssIHRhcmdldCkge1xuICByZXR1cm4gdGhpcy5nZXQoJ2V2ZW50QnVzJykub24oZXZlbnQsIHByaW9yaXR5LCBjYWxsYmFjaywgdGFyZ2V0KTtcbn07XG5cbi8qKlxuICogRGUtcmVnaXN0ZXIgYW4gZXZlbnQgbGlzdGVuZXJcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gKi9cbkJhc2VWaWV3ZXIucHJvdG90eXBlLm9mZiA9IGZ1bmN0aW9uKGV2ZW50LCBjYWxsYmFjaykge1xuICB0aGlzLmdldCgnZXZlbnRCdXMnKS5vZmYoZXZlbnQsIGNhbGxiYWNrKTtcbn07XG5cbkJhc2VWaWV3ZXIucHJvdG90eXBlLmF0dGFjaFRvID0gZnVuY3Rpb24ocGFyZW50Tm9kZSkge1xuXG4gIGlmICghcGFyZW50Tm9kZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncGFyZW50Tm9kZSByZXF1aXJlZCcpO1xuICB9XG5cbiAgLy8gZW5zdXJlIHdlIGRldGFjaCBmcm9tIHRoZVxuICAvLyBwcmV2aW91cywgb2xkIHBhcmVudFxuICB0aGlzLmRldGFjaCgpO1xuXG4gIC8vIHVud3JhcCBqUXVlcnkgaWYgcHJvdmlkZWRcbiAgaWYgKHBhcmVudE5vZGUuZ2V0ICYmIHBhcmVudE5vZGUuY29uc3RydWN0b3IucHJvdG90eXBlLmpxdWVyeSkge1xuICAgIHBhcmVudE5vZGUgPSBwYXJlbnROb2RlLmdldCgwKTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgcGFyZW50Tm9kZSA9PT0gJ3N0cmluZycpIHtcbiAgICBwYXJlbnROb2RlID0gZG9tUXVlcnkocGFyZW50Tm9kZSk7XG4gIH1cblxuICBwYXJlbnROb2RlLmFwcGVuZENoaWxkKHRoaXMuX2NvbnRhaW5lcik7XG5cbiAgdGhpcy5fZW1pdCgnYXR0YWNoJywge30pO1xuXG4gIHRoaXMuZ2V0KCdjYW52YXMnKS5yZXNpemVkKCk7XG59O1xuXG5CYXNlVmlld2VyLnByb3RvdHlwZS5nZXREZWZpbml0aW9ucyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5fZGVmaW5pdGlvbnM7XG59O1xuXG5CYXNlVmlld2VyLnByb3RvdHlwZS5kZXRhY2ggPSBmdW5jdGlvbigpIHtcblxuICB2YXIgY29udGFpbmVyID0gdGhpcy5fY29udGFpbmVyLFxuICAgICAgcGFyZW50Tm9kZSA9IGNvbnRhaW5lci5wYXJlbnROb2RlO1xuXG4gIGlmICghcGFyZW50Tm9kZSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHRoaXMuX2VtaXQoJ2RldGFjaCcsIHt9KTtcblxuICBwYXJlbnROb2RlLnJlbW92ZUNoaWxkKGNvbnRhaW5lcik7XG59O1xuXG5CYXNlVmlld2VyLnByb3RvdHlwZS5faW5pdCA9IGZ1bmN0aW9uKGNvbnRhaW5lciwgbW9kZGxlLCBvcHRpb25zKSB7XG5cbiAgdmFyIGJhc2VNb2R1bGVzID0gb3B0aW9ucy5tb2R1bGVzIHx8IHRoaXMuZ2V0TW9kdWxlcygpLFxuICAgICAgYWRkaXRpb25hbE1vZHVsZXMgPSBvcHRpb25zLmFkZGl0aW9uYWxNb2R1bGVzIHx8IFtdLFxuICAgICAgc3RhdGljTW9kdWxlcyA9IFtcbiAgICAgICAge1xuICAgICAgICAgIHBvc3RpdGpzOiBbICd2YWx1ZScsIHRoaXMgXSxcbiAgICAgICAgICBtb2RkbGU6IFsgJ3ZhbHVlJywgbW9kZGxlIF1cbiAgICAgICAgfVxuICAgICAgXTtcblxuICB2YXIgZGlhZ3JhbU1vZHVsZXMgPSBbXS5jb25jYXQoc3RhdGljTW9kdWxlcywgYmFzZU1vZHVsZXMsIGFkZGl0aW9uYWxNb2R1bGVzKTtcblxuICB2YXIgZGlhZ3JhbU9wdGlvbnMgPSBhc3NpZ24ob21pdChvcHRpb25zLCBbICdhZGRpdGlvbmFsTW9kdWxlcycgXSksIHtcbiAgICBjYW52YXM6IGFzc2lnbih7fSwgb3B0aW9ucy5jYW52YXMsIHsgY29udGFpbmVyOiBjb250YWluZXIgfSksXG4gICAgbW9kdWxlczogZGlhZ3JhbU1vZHVsZXNcbiAgfSk7XG5cbiAgLy8gaW52b2tlIGRpYWdyYW0gY29uc3RydWN0b3JcbiAgRGlhZ3JhbS5jYWxsKHRoaXMsIGRpYWdyYW1PcHRpb25zKTtcblxuICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmNvbnRhaW5lcikge1xuICAgIHRoaXMuYXR0YWNoVG8ob3B0aW9ucy5jb250YWluZXIpO1xuICB9XG59O1xuXG4vKipcbiAqIEVtaXQgYW4gZXZlbnQgb24gdGhlIHVuZGVybHlpbmcge0BsaW5rIEV2ZW50QnVzfVxuICpcbiAqIEBwYXJhbSAge1N0cmluZ30gdHlwZVxuICogQHBhcmFtICB7T2JqZWN0fSBldmVudFxuICpcbiAqIEByZXR1cm4ge09iamVjdH0gZXZlbnQgcHJvY2Vzc2luZyByZXN1bHQgKGlmIGFueSlcbiAqL1xuQmFzZVZpZXdlci5wcm90b3R5cGUuX2VtaXQgPSBmdW5jdGlvbih0eXBlLCBldmVudCkge1xuICByZXR1cm4gdGhpcy5nZXQoJ2V2ZW50QnVzJykuZmlyZSh0eXBlLCBldmVudCk7XG59O1xuXG5CYXNlVmlld2VyLnByb3RvdHlwZS5fY3JlYXRlQ29udGFpbmVyID0gZnVuY3Rpb24ob3B0aW9ucykge1xuXG4gIHZhciBjb250YWluZXIgPSBkb21pZnkoJzxkaXYgY2xhc3M9XCJwanMtY29udGFpbmVyXCI+PC9kaXY+Jyk7XG5cbiAgYXNzaWduKGNvbnRhaW5lci5zdHlsZSwge1xuICAgIHdpZHRoOiBlbnN1cmVVbml0KG9wdGlvbnMud2lkdGgpLFxuICAgIGhlaWdodDogZW5zdXJlVW5pdChvcHRpb25zLmhlaWdodCksXG4gICAgcG9zaXRpb246IG9wdGlvbnMucG9zaXRpb25cbiAgfSk7XG5cbiAgcmV0dXJuIGNvbnRhaW5lcjtcbn07XG5cbkJhc2VWaWV3ZXIucHJvdG90eXBlLl9jcmVhdGVNb2RkbGUgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gIHZhciBtb2RkbGVPcHRpb25zID0gYXNzaWduKHt9LCB0aGlzLl9tb2RkbGVFeHRlbnNpb25zLCBvcHRpb25zLm1vZGRsZUV4dGVuc2lvbnMpO1xuXG4gIHJldHVybiBuZXcgTW9kZGxlKG1vZGRsZU9wdGlvbnMpO1xufTtcblxuQmFzZVZpZXdlci5wcm90b3R5cGUuX21vZHVsZXMgPSBbXTtcblxuQmFzZVZpZXdlci5wcm90b3R5cGUuX21vZGRsZUV4dGVuc2lvbnMgPSB7fTtcblxuXG4vLyBoZWxwZXJzIC8vLy8vLy8vLy8vLy8vL1xuXG5mdW5jdGlvbiBhZGRXYXJuaW5nc1RvRXJyb3IoZXJyLCB3YXJuaW5nc0FyeSkge1xuICBlcnIud2FybmluZ3MgPSB3YXJuaW5nc0FyeTtcbiAgcmV0dXJuIGVycjtcbn1cblxuZnVuY3Rpb24gY2hlY2tWYWxpZGF0aW9uRXJyb3IoZXJyKSB7XG5cbiAgLy8gY2hlY2sgaWYgd2UgY2FuIGhlbHAgdGhlIHVzZXIgYnkgaW5kaWNhdGluZyB3cm9uZyBQb3N0aXQgeG1sXG4gIC8vIChpbiBjYXNlIGhlIG9yIHRoZSBleHBvcnRpbmcgdG9vbCBkaWQgbm90IGdldCB0aGF0IHJpZ2h0KVxuXG4gIHZhciBwYXR0ZXJuID0gL3VucGFyc2FibGUgY29udGVudCA8KFtePl0rKT4gZGV0ZWN0ZWQoW1xcc1xcU10qKSQvO1xuICB2YXIgbWF0Y2ggPSBwYXR0ZXJuLmV4ZWMoZXJyLm1lc3NhZ2UpO1xuXG4gIGlmIChtYXRjaCkge1xuICAgIGVyci5tZXNzYWdlID1cbiAgICAgICd1bnBhcnNhYmxlIGNvbnRlbnQgPCcgKyBtYXRjaFsxXSArICc+IGRldGVjdGVkOyAnICtcbiAgICAgICd0aGlzIG1heSBpbmRpY2F0ZSBhbiBpbnZhbGlkIFBvc3RpdCBib2FyZCBmaWxlJyArIG1hdGNoWzJdO1xuICB9XG5cbiAgcmV0dXJuIGVycjtcbn1cblxudmFyIERFRkFVTFRfT1BUSU9OUyA9IHtcbiAgd2lkdGg6ICcxMDAlJyxcbiAgaGVpZ2h0OiAnMTAwJScsXG4gIHBvc2l0aW9uOiAncmVsYXRpdmUnXG59O1xuXG5cbi8qKlxuICogRW5zdXJlIHRoZSBwYXNzZWQgYXJndW1lbnQgaXMgYSBwcm9wZXIgdW5pdCAoZGVmYXVsdGluZyB0byBweClcbiAqL1xuZnVuY3Rpb24gZW5zdXJlVW5pdCh2YWwpIHtcbiAgcmV0dXJuIHZhbCArIChpc051bWJlcih2YWwpID8gJ3B4JyA6ICcnKTtcbn1cblxuXG4vKipcbiAqIEZpbmQgUm9vdEJvYXJkIGluIGRlZmluaXRpb25zIGJ5IElEXG4gKlxuICogQHBhcmFtIHtNb2RkbGVFbGVtZW50PERlZmluaXRpb25zPn0gZGVmaW5pdGlvbnNcbiAqIEBwYXJhbSB7U3RyaW5nfSBib2FyZElkXG4gKlxuICogQHJldHVybiB7TW9kZGxlRWxlbWVudDxQb3N0aXRSb290Qm9hcmQ+fG51bGx9XG4gKi9cbmZ1bmN0aW9uIGZpbmRSb290Qm9hcmQoZGVmaW5pdGlvbnMsIGJvYXJkSWQpIHtcbiAgaWYgKCFib2FyZElkKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gZmluZChkZWZpbml0aW9ucy5yb290Qm9hcmRzLCBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgcmV0dXJuIGVsZW1lbnQuaWQgPT09IGJvYXJkSWQ7XG4gIH0pIHx8IG51bGw7XG59XG5cblxuaW1wb3J0IHtcbiAgZXZlbnQgYXMgZG9tRXZlbnRcbn0gZnJvbSAnbWluLWRvbSc7XG4iLCJpbXBvcnQgUG9zdGl0VHJlZVdhbGtlciBmcm9tICcuL1Bvc3RpdFRyZWVXYWxrZXInO1xuXG4vKipcbiAqIFRoZSBpbXBvcnRQb3N0aXREaWFncmFtIHJlc3VsdC5cbiAqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBpbXBvcnRQb3N0aXREaWFncmFtUmVzdWx0XG4gKlxuICogQHByb3BlcnR5IHtBcnJheTxzdHJpbmc+fSB3YXJuaW5nc1xuICovXG5cbi8qKlxuKiBUaGUgaW1wb3J0UG9zdGl0RGlhZ3JhbSBlcnJvci5cbipcbiogQHR5cGVkZWYge0Vycm9yfSBpbXBvcnRQb3N0aXREaWFncmFtRXJyb3JcbipcbiogQHByb3BlcnR5IHtBcnJheTxzdHJpbmc+fSB3YXJuaW5nc1xuKi9cblxuLyoqXG4gKiBJbXBvcnQgdGhlIGRlZmluaXRpb25zIGludG8gYSBkaWFncmFtLlxuICpcbiAqIEVycm9ycyBhbmQgd2FybmluZ3MgYXJlIHJlcG9ydGVkIHRocm91Z2ggdGhlIHNwZWNpZmllZCBjYWxsYmFjay5cbiAqXG4gKiBAcGFyYW0gIHtkanMuRGlhZ3JhbX0gZGlhZ3JhbVxuICogQHBhcmFtICB7TW9kZGxlRWxlbWVudDxEZWZpbml0aW9ucz59IGRlZmluaXRpb25zXG4gKiBAcGFyYW0gIHtNb2RkbGVFbGVtZW50PFBvdGl0Um9vdEJvYXJkPn0gW3Jvb3RCb2FyZF0gdGhlIGRpYWdyYW0gdG8gYmUgcmVuZGVyZWRcbiAqIChpZiBub3QgcHJvdmlkZWQsIHRoZSBmaXJzdCBvbmUgd2lsbCBiZSByZW5kZXJlZClcbiAqXG4gKiBSZXR1cm5zIHtQcm9taXNlPGltcG9ydFBvc3RpdERpYWdyYW1SZXN1bHQsIGltcG9ydFBvc3RpdERpYWdyYW1FcnJvcj59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbXBvcnRQb3N0aXREaWFncmFtKGRpYWdyYW0sIGRlZmluaXRpb25zLCByb290Qm9hcmQpIHtcblxuICB2YXIgaW1wb3J0ZXIsXG4gICAgICBldmVudEJ1cyxcbiAgICAgIHRyYW5zbGF0ZTtcblxuICB2YXIgZXJyb3IsXG4gICAgICB3YXJuaW5ncyA9IFtdO1xuXG4gIC8qKlxuICAgKiBXYWxrIHRoZSBkaWFncmFtIHNlbWFudGljYWxseSwgaW1wb3J0aW5nICg9ZHJhd2luZylcbiAgICogYWxsIGVsZW1lbnRzIHlvdSBlbmNvdW50ZXIuXG4gICAqXG4gICAqIEBwYXJhbSB7TW9kZGxlRWxlbWVudDxEZWZpbml0aW9ucz59IGRlZmluaXRpb25zXG4gICAqIEBwYXJhbSB7TW9kZGxlRWxlbWVudDxQb3N0aXRSb290Qm9hcmQ+fSByb290Qm9hcmRcbiAgICovXG4gIGZ1bmN0aW9uIHJlbmRlcihkZWZpbml0aW9ucywgcm9vdEJvYXJkKSB7XG5cbiAgICB2YXIgdmlzaXRvciA9IHtcblxuICAgICAgcm9vdDogZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICByZXR1cm4gaW1wb3J0ZXIuYWRkKGVsZW1lbnQpO1xuICAgICAgfSxcblxuICAgICAgZWxlbWVudDogZnVuY3Rpb24oZWxlbWVudCwgcGFyZW50U2hhcGUpIHtcbiAgICAgICAgcmV0dXJuIGltcG9ydGVyLmFkZChlbGVtZW50LCBwYXJlbnRTaGFwZSk7XG4gICAgICB9LFxuXG4gICAgICBlcnJvcjogZnVuY3Rpb24obWVzc2FnZSwgY29udGV4dCkge1xuICAgICAgICB3YXJuaW5ncy5wdXNoKHsgbWVzc2FnZTogbWVzc2FnZSwgY29udGV4dDogY29udGV4dCB9KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdmFyIHdhbGtlciA9IG5ldyBQb3N0aXRUcmVlV2Fsa2VyKHZpc2l0b3IsIHRyYW5zbGF0ZSk7XG5cbiAgICAvLyB0cmF2ZXJzZSB4bWwgZG9jdW1lbnQgbW9kZWwsXG4gICAgLy8gc3RhcnRpbmcgYXQgZGVmaW5pdGlvbnNcbiAgICB3YWxrZXIuaGFuZGxlRGVmaW5pdGlvbnMoZGVmaW5pdGlvbnMsIHJvb3RCb2FyZCk7XG4gIH1cblxuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgdHJ5IHtcbiAgICAgIGltcG9ydGVyID0gZGlhZ3JhbS5nZXQoJ3Bvc3RpdEltcG9ydGVyJyk7XG4gICAgICBldmVudEJ1cyA9IGRpYWdyYW0uZ2V0KCdldmVudEJ1cycpO1xuICAgICAgdHJhbnNsYXRlID0gZGlhZ3JhbS5nZXQoJ3RyYW5zbGF0ZScpO1xuXG4gICAgICBldmVudEJ1cy5maXJlKCdpbXBvcnQucmVuZGVyLnN0YXJ0JywgeyBkZWZpbml0aW9uczogZGVmaW5pdGlvbnMgfSk7XG5cbiAgICAgIHJlbmRlcihkZWZpbml0aW9ucywgcm9vdEJvYXJkKTtcblxuICAgICAgZXZlbnRCdXMuZmlyZSgnaW1wb3J0LnJlbmRlci5jb21wbGV0ZScsIHtcbiAgICAgICAgZXJyb3I6IGVycm9yLFxuICAgICAgICB3YXJuaW5nczogd2FybmluZ3NcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gcmVzb2x2ZSh7IHdhcm5pbmdzOiB3YXJuaW5ncyB9KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gcmVqZWN0KGUpO1xuICAgIH1cbiAgfSk7XG59IiwiaW1wb3J0IGluaGVyaXRzIGZyb20gJ2luaGVyaXRzJztcblxuaW1wb3J0IElkcyBmcm9tICdpZHMnO1xuXG5pbXBvcnQgQmFzZVZpZXdlciBmcm9tICcuL0Jhc2VWaWV3ZXInO1xuXG5cbi8qKlxuICogQSBiYXNlIG1vZGVsZXIgZm9yIHBvc3RpdC1qcyBib2FyZHMuXG4gKlxuICogSGF2ZSBhIGxvb2sgYXQge0BsaW5rIE1vZGVsZXJ9IGZvciBhIGJ1bmRsZSB0aGF0IGluY2x1ZGVzIGFjdHVhbCBmZWF0dXJlcy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIGNvbmZpZ3VyYXRpb24gb3B0aW9ucyB0byBwYXNzIHRvIHRoZSB2aWV3ZXJcbiAqIEBwYXJhbSB7RE9NRWxlbWVudH0gW29wdGlvbnMuY29udGFpbmVyXSB0aGUgY29udGFpbmVyIHRvIHJlbmRlciB0aGUgdmlld2VyIGluLCBkZWZhdWx0cyB0byBib2R5LlxuICogQHBhcmFtIHtTdHJpbmd8TnVtYmVyfSBbb3B0aW9ucy53aWR0aF0gdGhlIHdpZHRoIG9mIHRoZSB2aWV3ZXJcbiAqIEBwYXJhbSB7U3RyaW5nfE51bWJlcn0gW29wdGlvbnMuaGVpZ2h0XSB0aGUgaGVpZ2h0IG9mIHRoZSB2aWV3ZXJcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5tb2RkbGVFeHRlbnNpb25zXSBleHRlbnNpb24gcGFja2FnZXMgdG8gcHJvdmlkZVxuICogQHBhcmFtIHtBcnJheTxkaWRpLk1vZHVsZT59IFtvcHRpb25zLm1vZHVsZXNdIGEgbGlzdCBvZiBtb2R1bGVzIHRvIG92ZXJyaWRlIHRoZSBkZWZhdWx0IG1vZHVsZXNcbiAqIEBwYXJhbSB7QXJyYXk8ZGlkaS5Nb2R1bGU+fSBbb3B0aW9ucy5hZGRpdGlvbmFsTW9kdWxlc10gYSBsaXN0IG9mIG1vZHVsZXMgdG8gdXNlIHdpdGggdGhlIGRlZmF1bHQgbW9kdWxlc1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBCYXNlTW9kZWxlcihvcHRpb25zKSB7XG4gIEJhc2VWaWV3ZXIuY2FsbCh0aGlzLCBvcHRpb25zKTtcblxuICAvLyBob29rIElEIGNvbGxlY3Rpb24gaW50byB0aGUgbW9kZWxlclxuICB0aGlzLm9uKCdpbXBvcnQucGFyc2UuY29tcGxldGUnLCBmdW5jdGlvbihldmVudCkge1xuICAgIGlmICghZXZlbnQuZXJyb3IpIHtcbiAgICAgIHRoaXMuX2NvbGxlY3RJZHMoZXZlbnQuZGVmaW5pdGlvbnMsIGV2ZW50LmNvbnRleHQpO1xuICAgIH1cbiAgfSwgdGhpcyk7XG5cbiAgdGhpcy5vbignZGlhZ3JhbS5kZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5nZXQoJ21vZGRsZScpLmlkcy5jbGVhcigpO1xuICB9LCB0aGlzKTtcbn1cblxuaW5oZXJpdHMoQmFzZU1vZGVsZXIsIEJhc2VWaWV3ZXIpO1xuXG5cbi8qKlxuICogQ3JlYXRlIGEgbW9kZGxlIGluc3RhbmNlLCBhdHRhY2hpbmcgaWRzIHRvIGl0LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gKi9cbkJhc2VNb2RlbGVyLnByb3RvdHlwZS5fY3JlYXRlTW9kZGxlID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICB2YXIgbW9kZGxlID0gQmFzZVZpZXdlci5wcm90b3R5cGUuX2NyZWF0ZU1vZGRsZS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuXG4gIC8vIGF0dGFjaCBpZHMgdG8gbW9kZGxlIHRvIGJlIGFibGUgdG8gdHJhY2tcbiAgLy8gYW5kIHZhbGlkYXRlZCBpZHMgaW4gdGhlIFhNTCBkb2N1bWVudFxuICAvLyB0cmVlXG4gIG1vZGRsZS5pZHMgPSBuZXcgSWRzKFsgMzIsIDM2LCAxIF0pO1xuXG4gIHJldHVybiBtb2RkbGU7XG59O1xuXG4vKipcbiAqIENvbGxlY3QgaWRzIHByb2Nlc3NlZCBkdXJpbmcgcGFyc2luZyBvZiB0aGVcbiAqIGRlZmluaXRpb25zIG9iamVjdC5cbiAqXG4gKiBAcGFyYW0ge01vZGRsZUVsZW1lbnR9IGRlZmluaXRpb25zXG4gKiBAcGFyYW0ge0NvbnRleHR9IGNvbnRleHRcbiAqL1xuQmFzZU1vZGVsZXIucHJvdG90eXBlLl9jb2xsZWN0SWRzID0gZnVuY3Rpb24oZGVmaW5pdGlvbnMsIGNvbnRleHQpIHtcblxuICB2YXIgbW9kZGxlID0gZGVmaW5pdGlvbnMuJG1vZGVsLFxuICAgICAgaWRzID0gbW9kZGxlLmlkcyxcbiAgICAgIGlkO1xuXG4gIC8vIHJlbW92ZSByZWZlcmVuY2VzIGZyb20gcHJldmlvdXMgaW1wb3J0XG4gIGlkcy5jbGVhcigpO1xuXG4gIGZvciAoaWQgaW4gY29udGV4dC5lbGVtZW50c0J5SWQpIHtcbiAgICBpZHMuY2xhaW0oaWQsIGNvbnRleHQuZWxlbWVudHNCeUlkW2lkXSk7XG4gIH1cbn07XG4iLCIvKipcbiAqIElzIGFuIGVsZW1lbnQgb2YgdGhlIGdpdmVuIHBvc3RpdCB0eXBlP1xuICpcbiAqIEBwYXJhbSAge2Rqcy5tb2RlbC5CYXNlfE1vZGRsZUVsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSAge1N0cmluZ30gdHlwZVxuICpcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpcyhlbGVtZW50LCB0eXBlKSB7XG4gIHZhciBibyA9IGdldEJ1c2luZXNzT2JqZWN0KGVsZW1lbnQpO1xuXG4gIHJldHVybiBibyAmJiAodHlwZW9mIGJvLiRpbnN0YW5jZU9mID09PSAnZnVuY3Rpb24nKSAmJiBiby4kaW5zdGFuY2VPZih0eXBlKTtcbn1cblxuXG4vKipcbiAqIFJldHVybiB0aGUgYnVzaW5lc3Mgb2JqZWN0IGZvciBhIGdpdmVuIGVsZW1lbnQuXG4gKlxuICogQHBhcmFtICB7ZGpzLm1vZGVsLkJhc2V8TW9kZGxlRWxlbWVudH0gZWxlbWVudFxuICpcbiAqIEByZXR1cm4ge01vZGRsZUVsZW1lbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRCdXNpbmVzc09iamVjdChlbGVtZW50KSB7XG4gIHJldHVybiAoZWxlbWVudCAmJiBlbGVtZW50LmJ1c2luZXNzT2JqZWN0KSB8fCBlbGVtZW50O1xufSIsImltcG9ydCB7XG4gIHNvbWVcbn0gZnJvbSAnbWluLWRhc2gnO1xuXG5pbXBvcnQgeyBpcyB9IGZyb20gJy4uLy4uLy4uL3V0aWwvTW9kZWxVdGlsJztcblxuXG4vKipcbiAqIFJldHVybiB0cnVlIGlmIGVsZW1lbnQgaGFzIGFueSBvZiB0aGUgZ2l2ZW4gdHlwZXMuXG4gKlxuICogQHBhcmFtIHtkanMubW9kZWwuQmFzZX0gZWxlbWVudFxuICogQHBhcmFtIHtBcnJheTxTdHJpbmc+fSB0eXBlc1xuICpcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0FueShlbGVtZW50LCB0eXBlcykge1xuICByZXR1cm4gc29tZSh0eXBlcywgZnVuY3Rpb24odCkge1xuICAgIHJldHVybiBpcyhlbGVtZW50LCB0KTtcbiAgfSk7XG59XG5cblxuLyoqXG4gKiBSZXR1cm4gdGhlIHBhcmVudCBvZiB0aGUgZWxlbWVudCB3aXRoIGFueSBvZiB0aGUgZ2l2ZW4gdHlwZXMuXG4gKlxuICogQHBhcmFtIHtkanMubW9kZWwuQmFzZX0gZWxlbWVudFxuICogQHBhcmFtIHtTdHJpbmd8QXJyYXk8U3RyaW5nPn0gYW55VHlwZVxuICpcbiAqIEByZXR1cm4ge2Rqcy5tb2RlbC5CYXNlfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0UGFyZW50KGVsZW1lbnQsIGFueVR5cGUpIHtcblxuICBpZiAodHlwZW9mIGFueVR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgYW55VHlwZSA9IFsgYW55VHlwZSBdO1xuICB9XG5cbiAgd2hpbGUgKChlbGVtZW50ID0gZWxlbWVudC5wYXJlbnQpKSB7XG4gICAgaWYgKGlzQW55KGVsZW1lbnQsIGFueVR5cGUpKSB7XG4gICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn0iLCJpbXBvcnQgeyBpc0FueSB9IGZyb20gJy4uL21vZGVsaW5nL3V0aWwvTW9kZWxpbmdVdGlsJztcblxuZnVuY3Rpb24gZ2V0TGFiZWxBdHRyKHNlbWFudGljKSB7XG4gIGlmIChpc0FueShzZW1hbnRpYywgWyAncG9zdGl0OlBvc3RpdCcsICdwb3N0aXQ6VGV4dEJveCcsICdwb3N0aXQ6R3JvdXAnIF0pKSB7XG4gICAgcmV0dXJuICduYW1lJztcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TGFiZWwoZWxlbWVudCkge1xuICB2YXIgc2VtYW50aWMgPSBlbGVtZW50LmJ1c2luZXNzT2JqZWN0LFxuICAgICAgYXR0ciA9IGdldExhYmVsQXR0cihzZW1hbnRpYyk7XG5cbiAgaWYgKGF0dHIpIHtcbiAgICByZXR1cm4gc2VtYW50aWNbYXR0cl0gfHwgJyc7XG4gIH1cbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gc2V0TGFiZWwoZWxlbWVudCwgdGV4dCkge1xuICB2YXIgc2VtYW50aWMgPSBlbGVtZW50LmJ1c2luZXNzT2JqZWN0LFxuICAgICAgYXR0ciA9IGdldExhYmVsQXR0cihzZW1hbnRpYyk7XG5cbiAgaWYgKGF0dHIpIHtcbiAgICBzZW1hbnRpY1thdHRyXSA9IHRleHQ7XG4gIH1cblxuICByZXR1cm4gZWxlbWVudDtcbn0iLCJpbXBvcnQge1xuICBldmVyeSxcbiAgc29tZVxufSBmcm9tICdtaW4tZGFzaCc7XG5cbmltcG9ydCB7XG4gIGNvbXBvbmVudHNUb1BhdGhcbn0gZnJvbSAnZGlhZ3JhbS1qcy9saWIvdXRpbC9SZW5kZXJVdGlsJztcblxuaW1wb3J0IHtcbiAgZ2V0QnVzaW5lc3NPYmplY3Rcbn0gZnJvbSAnLi4vdXRpbC9Nb2RlbFV0aWwnO1xuXG5cbi8vIGVsZW1lbnQgdXRpbHMgLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4vKipcbiAqIENoZWNrcyBpZiBldmVudERlZmluaXRpb24gb2YgdGhlIGdpdmVuIGVsZW1lbnQgbWF0Y2hlcyB3aXRoIHNlbWFudGljIHR5cGUuXG4gKlxuICogQHJldHVybiB7Ym9vbGVhbn0gdHJ1ZSBpZiBlbGVtZW50IGlzIG9mIHRoZSBnaXZlbiBzZW1hbnRpYyB0eXBlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1R5cGVkRXZlbnQoZXZlbnQsIGV2ZW50RGVmaW5pdGlvblR5cGUsIGZpbHRlcikge1xuXG4gIGZ1bmN0aW9uIG1hdGNoZXMoZGVmaW5pdGlvbiwgZmlsdGVyKSB7XG4gICAgcmV0dXJuIGV2ZXJ5KGZpbHRlciwgZnVuY3Rpb24odmFsLCBrZXkpIHtcblxuICAgICAgLy8gd2Ugd2FudCBhID09IGNvbnZlcnNpb24gaGVyZSwgdG8gYmUgYWJsZSB0byBjYXRjaFxuICAgICAgLy8gdW5kZWZpbmVkID09IGZhbHNlIGFuZCBmcmllbmRzXG4gICAgICAvKiBqc2hpbnQgLVcxMTYgKi9cbiAgICAgIHJldHVybiBkZWZpbml0aW9uW2tleV0gPT0gdmFsO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIHNvbWUoZXZlbnQuZXZlbnREZWZpbml0aW9ucywgZnVuY3Rpb24oZGVmaW5pdGlvbikge1xuICAgIHJldHVybiBkZWZpbml0aW9uLiR0eXBlID09PSBldmVudERlZmluaXRpb25UeXBlICYmIG1hdGNoZXMoZXZlbnQsIGZpbHRlcik7XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGkoZWxlbWVudCkge1xuICByZXR1cm4gZWxlbWVudC5idXNpbmVzc09iamVjdC5kaTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFNlbWFudGljKGVsZW1lbnQpIHtcbiAgcmV0dXJuIGVsZW1lbnQuYnVzaW5lc3NPYmplY3Q7XG59XG5cblxuLy8gY29sb3IgYWNjZXNzIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEZpbGxDb2xvcihlbGVtZW50LCBkZWZhdWx0Q29sb3IpIHtcbiAgcmV0dXJuIChcbiAgICBnZXRDb2xvcihlbGVtZW50KSB8fFxuICAgIGdldERpKGVsZW1lbnQpLmdldCgnYmlvYzpmaWxsJykgfHxcbiAgICBkZWZhdWx0Q29sb3IgfHxcbiAgICAnd2hpdGUnXG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTdHJva2VDb2xvcihlbGVtZW50LCBkZWZhdWx0Q29sb3IpIHtcbiAgcmV0dXJuIChcbiAgICBnZXRDb2xvcihlbGVtZW50KSB8fFxuICAgIGdldERpKGVsZW1lbnQpLmdldCgnYmlvYzpzdHJva2UnKSB8fFxuICAgIGRlZmF1bHRDb2xvciB8fFxuICAgICdibGFjaydcbiAgKTtcbn1cblxuXG4vLyBjcm9wcGluZyBwYXRoIGN1c3RvbWl6YXRpb25zIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuZXhwb3J0IGZ1bmN0aW9uIGdldENpcmNsZVBhdGgoc2hhcGUpIHtcblxuICB2YXIgY3ggPSBzaGFwZS54ICsgc2hhcGUud2lkdGggLyAyLFxuICAgICAgY3kgPSBzaGFwZS55ICsgc2hhcGUuaGVpZ2h0IC8gMixcbiAgICAgIHJhZGl1cyA9IHNoYXBlLndpZHRoIC8gMjtcblxuICB2YXIgY2lyY2xlUGF0aCA9IFtcbiAgICBbJ00nLCBjeCwgY3ldLFxuICAgIFsnbScsIDAsIC1yYWRpdXNdLFxuICAgIFsnYScsIHJhZGl1cywgcmFkaXVzLCAwLCAxLCAxLCAwLCAyICogcmFkaXVzXSxcbiAgICBbJ2EnLCByYWRpdXMsIHJhZGl1cywgMCwgMSwgMSwgMCwgLTIgKiByYWRpdXNdLFxuICAgIFsneiddXG4gIF07XG5cbiAgcmV0dXJuIGNvbXBvbmVudHNUb1BhdGgoY2lyY2xlUGF0aCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRSb3VuZFJlY3RQYXRoKHNoYXBlLCBib3JkZXJSYWRpdXMpIHtcblxuICB2YXIgeCA9IHNoYXBlLngsXG4gICAgICB5ID0gc2hhcGUueSxcbiAgICAgIHdpZHRoID0gc2hhcGUud2lkdGgsXG4gICAgICBoZWlnaHQgPSBzaGFwZS5oZWlnaHQ7XG5cbiAgdmFyIHJvdW5kUmVjdFBhdGggPSBbXG4gICAgWydNJywgeCArIGJvcmRlclJhZGl1cywgeV0sXG4gICAgWydsJywgd2lkdGggLSBib3JkZXJSYWRpdXMgKiAyLCAwXSxcbiAgICBbJ2EnLCBib3JkZXJSYWRpdXMsIGJvcmRlclJhZGl1cywgMCwgMCwgMSwgYm9yZGVyUmFkaXVzLCBib3JkZXJSYWRpdXNdLFxuICAgIFsnbCcsIDAsIGhlaWdodCAtIGJvcmRlclJhZGl1cyAqIDJdLFxuICAgIFsnYScsIGJvcmRlclJhZGl1cywgYm9yZGVyUmFkaXVzLCAwLCAwLCAxLCAtYm9yZGVyUmFkaXVzLCBib3JkZXJSYWRpdXNdLFxuICAgIFsnbCcsIGJvcmRlclJhZGl1cyAqIDIgLSB3aWR0aCwgMF0sXG4gICAgWydhJywgYm9yZGVyUmFkaXVzLCBib3JkZXJSYWRpdXMsIDAsIDAsIDEsIC1ib3JkZXJSYWRpdXMsIC1ib3JkZXJSYWRpdXNdLFxuICAgIFsnbCcsIDAsIGJvcmRlclJhZGl1cyAqIDIgLSBoZWlnaHRdLFxuICAgIFsnYScsIGJvcmRlclJhZGl1cywgYm9yZGVyUmFkaXVzLCAwLCAwLCAxLCBib3JkZXJSYWRpdXMsIC1ib3JkZXJSYWRpdXNdLFxuICAgIFsneiddXG4gIF07XG5cbiAgcmV0dXJuIGNvbXBvbmVudHNUb1BhdGgocm91bmRSZWN0UGF0aCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXREaWFtb25kUGF0aChzaGFwZSkge1xuXG4gIHZhciB3aWR0aCA9IHNoYXBlLndpZHRoLFxuICAgICAgaGVpZ2h0ID0gc2hhcGUuaGVpZ2h0LFxuICAgICAgeCA9IHNoYXBlLngsXG4gICAgICB5ID0gc2hhcGUueSxcbiAgICAgIGhhbGZXaWR0aCA9IHdpZHRoIC8gMixcbiAgICAgIGhhbGZIZWlnaHQgPSBoZWlnaHQgLyAyO1xuXG4gIHZhciBkaWFtb25kUGF0aCA9IFtcbiAgICBbJ00nLCB4ICsgaGFsZldpZHRoLCB5XSxcbiAgICBbJ2wnLCBoYWxmV2lkdGgsIGhhbGZIZWlnaHRdLFxuICAgIFsnbCcsIC1oYWxmV2lkdGgsIGhhbGZIZWlnaHRdLFxuICAgIFsnbCcsIC1oYWxmV2lkdGgsIC1oYWxmSGVpZ2h0XSxcbiAgICBbJ3onXVxuICBdO1xuXG4gIHJldHVybiBjb21wb25lbnRzVG9QYXRoKGRpYW1vbmRQYXRoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFJlY3RQYXRoKHNoYXBlKSB7XG4gIHZhciB4ID0gc2hhcGUueCxcbiAgICAgIHkgPSBzaGFwZS55LFxuICAgICAgd2lkdGggPSBzaGFwZS53aWR0aCxcbiAgICAgIGhlaWdodCA9IHNoYXBlLmhlaWdodDtcblxuICB2YXIgcmVjdFBhdGggPSBbXG4gICAgWydNJywgeCwgeV0sXG4gICAgWydsJywgd2lkdGgsIDBdLFxuICAgIFsnbCcsIDAsIGhlaWdodF0sXG4gICAgWydsJywgLXdpZHRoLCAwXSxcbiAgICBbJ3onXVxuICBdO1xuXG4gIHJldHVybiBjb21wb25lbnRzVG9QYXRoKHJlY3RQYXRoKTtcbn1cblxuLy8gaGVscGVycyAvLy8vLy8vLy8vXG5cbmZ1bmN0aW9uIGdldENvbG9yKGVsZW1lbnQpIHtcbiAgdmFyIGJvID0gZ2V0QnVzaW5lc3NPYmplY3QoZWxlbWVudCk7XG5cbiAgcmV0dXJuIGJvLmNvbG9yIHx8IGVsZW1lbnQuY29sb3I7XG59IiwiaW1wb3J0IGluaGVyaXRzIGZyb20gJ2luaGVyaXRzJztcblxuaW1wb3J0IHtcbiAgaXNPYmplY3QsXG4gIGFzc2lnblxufSBmcm9tICdtaW4tZGFzaCc7XG5cbmltcG9ydCB7XG4gIGFwcGVuZCBhcyBzdmdBcHBlbmQsXG4gIGF0dHIgYXMgc3ZnQXR0cixcbiAgY3JlYXRlIGFzIHN2Z0NyZWF0ZSxcbiAgY2xhc3NlcyBhcyBzdmdDbGFzc2VzXG59IGZyb20gJ3Rpbnktc3ZnJztcblxuaW1wb3J0IEJhc2VSZW5kZXJlciBmcm9tICdkaWFncmFtLWpzL2xpYi9kcmF3L0Jhc2VSZW5kZXJlcic7XG5cbmltcG9ydCB7XG4gIGdldExhYmVsXG59IGZyb20gJy4uL2ZlYXR1cmVzL2xhYmVsLWVkaXRpbmcvTGFiZWxVdGlsJztcblxuaW1wb3J0IHtcbiAgZ2V0QnVzaW5lc3NPYmplY3QsXG4gIGlzXG59IGZyb20gJy4uL3V0aWwvTW9kZWxVdGlsJztcblxuaW1wb3J0IHtcbiAgZ2V0U2VtYW50aWMsXG4gIGdldFJlY3RQYXRoLFxuICBnZXRGaWxsQ29sb3IsXG4gIGdldFN0cm9rZUNvbG9yXG59IGZyb20gJy4vUG9zdGl0UmVuZGVyZXJVdGlsJztcblxudmFyIERFRkFVTFRfRklMTF9PUEFDSVRZID0gLjk1O1xuXG52YXIgVEFTS19CT1JERVJfUkFESVVTID0gMTA7XG5cbnZhciBERUZBVUxUX1RFWFRfU0laRSA9IDE2O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBQb3N0aXRSZW5kZXJlcihcbiAgICBjb25maWcsIGV2ZW50QnVzLCBzdHlsZXMsIHBhdGhNYXAsXG4gICAgY2FudmFzLCB0ZXh0UmVuZGVyZXIsIHByaW9yaXR5KSB7XG5cbiAgQmFzZVJlbmRlcmVyLmNhbGwodGhpcywgZXZlbnRCdXMsIHByaW9yaXR5KTtcblxuICB2YXIgZGVmYXVsdEZpbGxDb2xvciA9IGNvbmZpZyAmJiBjb25maWcuZGVmYXVsdEZpbGxDb2xvcixcbiAgICAgIGRlZmF1bHRTdHJva2VDb2xvciA9IGNvbmZpZyAmJiBjb25maWcuZGVmYXVsdFN0cm9rZUNvbG9yO1xuXG4gIHZhciBjb21wdXRlU3R5bGUgPSBzdHlsZXMuY29tcHV0ZVN0eWxlO1xuXG4gIGZ1bmN0aW9uIGRyYXdDaXJjbGUocGFyZW50R2Z4LCB3aWR0aCwgaGVpZ2h0LCBvZmZzZXQsIGF0dHJzKSB7XG5cbiAgICBpZiAoaXNPYmplY3Qob2Zmc2V0KSkge1xuICAgICAgYXR0cnMgPSBvZmZzZXQ7XG4gICAgICBvZmZzZXQgPSAwO1xuICAgIH1cblxuICAgIG9mZnNldCA9IG9mZnNldCB8fCAwO1xuXG4gICAgYXR0cnMgPSBjb21wdXRlU3R5bGUoYXR0cnMsIHtcbiAgICAgIHN0cm9rZTogJ2JsYWNrJyxcbiAgICAgIHN0cm9rZVdpZHRoOiAyLFxuICAgICAgZmlsbDogJ3doaXRlJ1xuICAgIH0pO1xuXG4gICAgaWYgKGF0dHJzLmZpbGwgPT09ICdub25lJykge1xuICAgICAgZGVsZXRlIGF0dHJzLmZpbGxPcGFjaXR5O1xuICAgIH1cblxuICAgIHZhciBjeCA9IHdpZHRoIC8gMixcbiAgICAgICAgY3kgPSBoZWlnaHQgLyAyO1xuXG4gICAgdmFyIGNpcmNsZSA9IHN2Z0NyZWF0ZSgnY2lyY2xlJyk7XG4gICAgc3ZnQXR0cihjaXJjbGUsIHtcbiAgICAgIGN4OiBjeCxcbiAgICAgIGN5OiBjeSxcbiAgICAgIHI6IE1hdGgucm91bmQoKHdpZHRoICsgaGVpZ2h0KSAvIDQgLSBvZmZzZXQpXG4gICAgfSk7XG4gICAgc3ZnQXR0cihjaXJjbGUsIGF0dHJzKTtcblxuICAgIHN2Z0FwcGVuZChwYXJlbnRHZngsIGNpcmNsZSk7XG5cbiAgICByZXR1cm4gY2lyY2xlO1xuICB9XG5cbiAgZnVuY3Rpb24gZHJhd1JlY3QocGFyZW50R2Z4LCB3aWR0aCwgaGVpZ2h0LCByLCBvZmZzZXQsIGF0dHJzKSB7XG5cbiAgICBpZiAoaXNPYmplY3Qob2Zmc2V0KSkge1xuICAgICAgYXR0cnMgPSBvZmZzZXQ7XG4gICAgICBvZmZzZXQgPSAwO1xuICAgIH1cblxuICAgIG9mZnNldCA9IG9mZnNldCB8fCAwO1xuXG4gICAgYXR0cnMgPSBjb21wdXRlU3R5bGUoYXR0cnMsIHtcbiAgICAgIHN0cm9rZTogJ2JsYWNrJyxcbiAgICAgIHN0cm9rZVdpZHRoOiAyLFxuICAgICAgZmlsbDogJ3doaXRlJ1xuICAgIH0pO1xuXG4gICAgdmFyIHJlY3QgPSBzdmdDcmVhdGUoJ3JlY3QnKTtcbiAgICBzdmdBdHRyKHJlY3QsIHtcbiAgICAgIHg6IG9mZnNldCxcbiAgICAgIHk6IG9mZnNldCxcbiAgICAgIHdpZHRoOiB3aWR0aCAtIG9mZnNldCAqIDIsXG4gICAgICBoZWlnaHQ6IGhlaWdodCAtIG9mZnNldCAqIDIsXG4gICAgICByeDogcixcbiAgICAgIHJ5OiByXG4gICAgfSk7XG4gICAgc3ZnQXR0cihyZWN0LCBhdHRycyk7XG5cbiAgICBzdmdBcHBlbmQocGFyZW50R2Z4LCByZWN0KTtcblxuICAgIHJldHVybiByZWN0O1xuICB9XG5cbiAgZnVuY3Rpb24gZHJhd1BhdGgocGFyZW50R2Z4LCBkLCBhdHRycykge1xuXG4gICAgYXR0cnMgPSBjb21wdXRlU3R5bGUoYXR0cnMsIFsgJ25vLWZpbGwnIF0sIHtcbiAgICAgIHN0cm9rZVdpZHRoOiAyLFxuICAgICAgc3Ryb2tlOiAnYmxhY2snXG4gICAgfSk7XG5cbiAgICB2YXIgcGF0aCA9IHN2Z0NyZWF0ZSgncGF0aCcpO1xuICAgIHN2Z0F0dHIocGF0aCwgeyBkOiBkIH0pO1xuICAgIHN2Z0F0dHIocGF0aCwgYXR0cnMpO1xuXG4gICAgc3ZnQXBwZW5kKHBhcmVudEdmeCwgcGF0aCk7XG5cbiAgICByZXR1cm4gcGF0aDtcbiAgfVxuXG5cbiAgZnVuY3Rpb24gcmVuZGVyTGFiZWwocGFyZW50R2Z4LCBsYWJlbCwgb3B0aW9ucykge1xuXG4gICAgb3B0aW9ucyA9IGFzc2lnbih7XG4gICAgICBzaXplOiB7XG4gICAgICAgIHdpZHRoOiAxMDBcbiAgICAgIH1cbiAgICB9LCBvcHRpb25zKTtcblxuICAgIHZhciB0ZXh0ID0gdGV4dFJlbmRlcmVyLmNyZWF0ZVRleHQobGFiZWwgfHwgJycsIG9wdGlvbnMpO1xuXG4gICAgc3ZnQ2xhc3Nlcyh0ZXh0KS5hZGQoJ2Rqcy1sYWJlbCcpO1xuXG4gICAgc3ZnQXBwZW5kKHBhcmVudEdmeCwgdGV4dCk7XG5cbiAgICByZXR1cm4gdGV4dDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbmRlckVtYmVkZGVkTGFiZWwocGFyZW50R2Z4LCBlbGVtZW50LCBhbGlnbiwgZm9udFNpemUpIHtcbiAgICB2YXIgc2VtYW50aWMgPSBnZXRTZW1hbnRpYyhlbGVtZW50KTtcblxuICAgIHJldHVybiByZW5kZXJMYWJlbChwYXJlbnRHZngsIHNlbWFudGljLm5hbWUsIHtcbiAgICAgIGJveDogZWxlbWVudCxcbiAgICAgIGFsaWduOiBhbGlnbixcbiAgICAgIHBhZGRpbmc6IDUsXG4gICAgICBzdHlsZToge1xuICAgICAgICBmaWxsOiBnZXRDb2xvcihlbGVtZW50KSA9PT0gJ2JsYWNrJyA/ICd3aGl0ZScgOiAnYmxhY2snLFxuICAgICAgICBmb250U2l6ZTogZm9udFNpemUgfHwgREVGQVVMVF9URVhUX1NJWkVcbiAgICAgIH0sXG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiByZW5kZXJFeHRlcm5hbExhYmVsKHBhcmVudEdmeCwgZWxlbWVudCkge1xuXG4gICAgdmFyIGJveCA9IHtcbiAgICAgIHdpZHRoOiA5MCxcbiAgICAgIGhlaWdodDogMzAsXG4gICAgICB4OiBlbGVtZW50LndpZHRoIC8gMiArIGVsZW1lbnQueCxcbiAgICAgIHk6IGVsZW1lbnQuaGVpZ2h0IC8gMiArIGVsZW1lbnQueVxuICAgIH07XG5cbiAgICByZXR1cm4gcmVuZGVyTGFiZWwocGFyZW50R2Z4LCBnZXRMYWJlbChlbGVtZW50KSwge1xuICAgICAgYm94OiBib3gsXG4gICAgICBmaXRCb3g6IHRydWUsXG4gICAgICBzdHlsZTogYXNzaWduKFxuICAgICAgICB7fSxcbiAgICAgICAgdGV4dFJlbmRlcmVyLmdldEV4dGVybmFsU3R5bGUoKSxcbiAgICAgICAge1xuICAgICAgICAgIGZpbGw6ICdibGFjaydcbiAgICAgICAgfVxuICAgICAgKVxuICAgIH0pO1xuICB9XG5cbiAgdGhpcy5oYW5kbGVycyA9IHtcbiAgICAncG9zdGl0OlNxdWFyZVBvc3RpdCc6IGZ1bmN0aW9uKHBhcmVudEdmeCwgZWxlbWVudCkge1xuXG4gICAgICB2YXIgYXR0cnMgPSB7XG4gICAgICAgIGZpbGw6IGdldEZpbGxDb2xvcihlbGVtZW50LCBkZWZhdWx0RmlsbENvbG9yKSxcbiAgICAgICAgc3Ryb2tlOiBnZXRTdHJva2VDb2xvcihlbGVtZW50LCBkZWZhdWx0U3Ryb2tlQ29sb3IpXG4gICAgICB9O1xuXG4gICAgICBpZiAoISgnZmlsbE9wYWNpdHknIGluIGF0dHJzKSkge1xuICAgICAgICBhdHRycy5maWxsT3BhY2l0eSA9IERFRkFVTFRfRklMTF9PUEFDSVRZO1xuICAgICAgfVxuXG4gICAgICB2YXIgcmVjdCA9IGRyYXdSZWN0KHBhcmVudEdmeCwgZWxlbWVudC53aWR0aCwgZWxlbWVudC5oZWlnaHQsIDAsIGF0dHJzKTtcblxuICAgICAgcmVuZGVyRW1iZWRkZWRMYWJlbChwYXJlbnRHZngsIGVsZW1lbnQsICdjZW50ZXItbWlkZGxlJyk7XG5cbiAgICAgIHJldHVybiByZWN0O1xuICAgIH0sXG5cbiAgICAncG9zdGl0Okdyb3VwJzogZnVuY3Rpb24ocGFyZW50R2Z4LCBlbGVtZW50KSB7XG5cbiAgICAgIHZhciBncm91cCA9IGRyYXdSZWN0KHBhcmVudEdmeCwgZWxlbWVudC53aWR0aCwgZWxlbWVudC5oZWlnaHQsIFRBU0tfQk9SREVSX1JBRElVUywge1xuICAgICAgICBzdHJva2U6ICdibGFjaycsXG4gICAgICAgIHN0cm9rZVdpZHRoOiAxLFxuICAgICAgICBzdHJva2VEYXNoYXJyYXk6ICc4LDMsMSwzJyxcbiAgICAgICAgZmlsbDogJ25vbmUnLFxuICAgICAgICBwb2ludGVyRXZlbnRzOiAnbm9uZSdcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gZ3JvdXA7XG4gICAgfSxcblxuICAgICdwb3N0aXQ6Q2lyY2xlUG9zdGl0JzogZnVuY3Rpb24ocGFyZW50R2Z4LCBlbGVtZW50KSB7XG4gICAgICB2YXIgYXR0cnMgPSB7XG4gICAgICAgIGZpbGw6IGdldEZpbGxDb2xvcihlbGVtZW50LCBkZWZhdWx0RmlsbENvbG9yKSxcbiAgICAgICAgc3Ryb2tlOiBnZXRTdHJva2VDb2xvcihlbGVtZW50LCBkZWZhdWx0U3Ryb2tlQ29sb3IpXG4gICAgICB9O1xuXG4gICAgICBpZiAoISgnZmlsbE9wYWNpdHknIGluIGF0dHJzKSkge1xuICAgICAgICBhdHRycy5maWxsT3BhY2l0eSA9IERFRkFVTFRfRklMTF9PUEFDSVRZO1xuICAgICAgfVxuXG4gICAgICB2YXIgcmVjdCA9IGRyYXdDaXJjbGUocGFyZW50R2Z4LCBlbGVtZW50LndpZHRoLCBlbGVtZW50LmhlaWdodCwgYXR0cnMpO1xuXG4gICAgICByZW5kZXJFbWJlZGRlZExhYmVsKHBhcmVudEdmeCwgZWxlbWVudCwgJ2NlbnRlci1taWRkbGUnKTtcblxuICAgICAgcmV0dXJuIHJlY3Q7XG4gICAgfSxcbiAgICAncG9zdGl0OlRleHRCb3gnOiBmdW5jdGlvbihwYXJlbnRHZngsIGVsZW1lbnQpIHtcbiAgICAgIHZhciBhdHRycyA9IHtcbiAgICAgICAgZmlsbDogJ25vbmUnLFxuICAgICAgICBzdHJva2U6ICdub25lJ1xuICAgICAgfTtcblxuICAgICAgdmFyIHRleHRTaXplID0gZWxlbWVudC50ZXh0U2l6ZSB8fCBERUZBVUxUX1RFWFRfU0laRTtcblxuICAgICAgdmFyIHJlY3QgPSBkcmF3UmVjdChwYXJlbnRHZngsIGVsZW1lbnQud2lkdGgsIGVsZW1lbnQuaGVpZ2h0LCAwLCBhdHRycyk7XG5cbiAgICAgIHJlbmRlckVtYmVkZGVkTGFiZWwocGFyZW50R2Z4LCBlbGVtZW50LCAnY2VudGVyLW1pZGRsZScsIHRleHRTaXplKTtcblxuICAgICAgcmV0dXJuIHJlY3Q7XG4gICAgfSxcbiAgICAncG9zdGl0OkltYWdlJzogZnVuY3Rpb24ocGFyZW50R2Z4LCBlbGVtZW50KSB7XG4gICAgICB2YXIgaW1hZ2VTb3VyY2UgPSBnZXRJbWFnZVNvdXJjZShlbGVtZW50KTtcblxuICAgICAgdmFyIGdmeDtcbiAgICAgIGlmICghaW1hZ2VTb3VyY2UpIHtcblxuICAgICAgICAvLyBkZWZhdWx0IHBsYWNlaG9sZGVyXG4gICAgICAgIGdmeCA9IGRyYXdSZWN0KHBhcmVudEdmeCwgZWxlbWVudC53aWR0aCwgZWxlbWVudC5oZWlnaHQsIDAsIHtcbiAgICAgICAgICBmaWxsOiAnI2NjYycsXG4gICAgICAgICAgc3Ryb2tlOiAnI2NjYydcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmVuZGVyTGFiZWwocGFyZW50R2Z4LCAnSW1hZ2UgUGxhY2Vob2xkZXInLCB7XG4gICAgICAgICAgYm94OiBlbGVtZW50LFxuICAgICAgICAgIGFsaWduOiAnY2VudGVyLW1pZGRsZScsXG4gICAgICAgICAgcGFkZGluZzogNSxcbiAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgZmlsbDogJ2JsYWNrJyxcbiAgICAgICAgICAgIGZvbnRTaXplOiBERUZBVUxUX1RFWFRfU0laRVxuICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBnZnggPSBzdmdDcmVhdGUoJ2ltYWdlJywge1xuICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgeTogMCxcbiAgICAgICAgICB3aWR0aDogZWxlbWVudC53aWR0aCxcbiAgICAgICAgICBoZWlnaHQ6IGVsZW1lbnQuaGVpZ2h0LFxuICAgICAgICAgIGhyZWY6IGdldEltYWdlU291cmNlKGVsZW1lbnQpXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHN2Z0FwcGVuZChwYXJlbnRHZngsIGdmeCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBnZng7XG4gICAgfSxcblxuICAgICdsYWJlbCc6IGZ1bmN0aW9uKHBhcmVudEdmeCwgZWxlbWVudCkge1xuICAgICAgcmV0dXJuIHJlbmRlckV4dGVybmFsTGFiZWwocGFyZW50R2Z4LCBlbGVtZW50KTtcbiAgICB9XG4gIH07XG5cblxuICAvLyBleHRlbnNpb24gQVBJLCB1c2UgYXQgeW91ciBvd24gcmlza1xuICB0aGlzLl9kcmF3UGF0aCA9IGRyYXdQYXRoO1xuXG59XG5cblxuaW5oZXJpdHMoUG9zdGl0UmVuZGVyZXIsIEJhc2VSZW5kZXJlcik7XG5cblBvc3RpdFJlbmRlcmVyLiRpbmplY3QgPSBbXG4gICdjb25maWcucG9zdGl0JyxcbiAgJ2V2ZW50QnVzJyxcbiAgJ3N0eWxlcycsXG4gICdwYXRoTWFwJyxcbiAgJ2NhbnZhcycsXG4gICd0ZXh0UmVuZGVyZXInXG5dO1xuXG5cblBvc3RpdFJlbmRlcmVyLnByb3RvdHlwZS5jYW5SZW5kZXIgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gIHJldHVybiBpcyhlbGVtZW50LCAncG9zdGl0OkJvYXJkRWxlbWVudCcpO1xufTtcblxuUG9zdGl0UmVuZGVyZXIucHJvdG90eXBlLmRyYXdTaGFwZSA9IGZ1bmN0aW9uKHBhcmVudEdmeCwgZWxlbWVudCkge1xuICB2YXIgdHlwZSA9IGVsZW1lbnQudHlwZTtcbiAgdmFyIGggPSB0aGlzLmhhbmRsZXJzW3R5cGVdO1xuXG4gIC8qIGpzaGludCAtVzA0MCAqL1xuICByZXR1cm4gaChwYXJlbnRHZngsIGVsZW1lbnQpO1xufTtcblxuUG9zdGl0UmVuZGVyZXIucHJvdG90eXBlLmdldFNoYXBlUGF0aCA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcblxuICByZXR1cm4gZ2V0UmVjdFBhdGgoZWxlbWVudCk7XG59O1xuXG4vLyBoZWxwZXJzIC8vLy8vLy8vLy9cblxuZnVuY3Rpb24gZ2V0Q29sb3IoZWxlbWVudCkge1xuICB2YXIgYm8gPSBnZXRCdXNpbmVzc09iamVjdChlbGVtZW50KTtcblxuICByZXR1cm4gYm8uY29sb3IgfHwgZWxlbWVudC5jb2xvcjtcbn1cblxuZnVuY3Rpb24gZ2V0SW1hZ2VTb3VyY2UoZWxlbWVudCkge1xuICB2YXIgYm8gPSBnZXRCdXNpbmVzc09iamVjdChlbGVtZW50KTtcblxuICByZXR1cm4gYm8uc291cmNlIHx8IGVsZW1lbnQuc291cmNlO1xufVxuXG4iLCJpbXBvcnQge1xuICBpc09iamVjdCxcbiAgYXNzaWduLFxuICBmb3JFYWNoLFxuICByZWR1Y2Vcbn0gZnJvbSAnbWluLWRhc2gnO1xuXG5pbXBvcnQge1xuICBhcHBlbmQgYXMgc3ZnQXBwZW5kLFxuICBhdHRyIGFzIHN2Z0F0dHIsXG4gIGNyZWF0ZSBhcyBzdmdDcmVhdGUsXG4gIHJlbW92ZSBhcyBzdmdSZW1vdmVcbn0gZnJvbSAndGlueS1zdmcnO1xuXG52YXIgREVGQVVMVF9CT1hfUEFERElORyA9IDA7XG5cbnZhciBERUZBVUxUX0xBQkVMX1NJWkUgPSB7XG4gIHdpZHRoOiAxNTAsXG4gIGhlaWdodDogNTBcbn07XG5cblxuZnVuY3Rpb24gcGFyc2VBbGlnbihhbGlnbikge1xuXG4gIHZhciBwYXJ0cyA9IGFsaWduLnNwbGl0KCctJyk7XG5cbiAgcmV0dXJuIHtcbiAgICBob3Jpem9udGFsOiBwYXJ0c1swXSB8fCAnY2VudGVyJyxcbiAgICB2ZXJ0aWNhbDogcGFydHNbMV0gfHwgJ3RvcCdcbiAgfTtcbn1cblxuZnVuY3Rpb24gcGFyc2VQYWRkaW5nKHBhZGRpbmcpIHtcblxuICBpZiAoaXNPYmplY3QocGFkZGluZykpIHtcbiAgICByZXR1cm4gYXNzaWduKHsgdG9wOiAwLCBsZWZ0OiAwLCByaWdodDogMCwgYm90dG9tOiAwIH0sIHBhZGRpbmcpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB7XG4gICAgICB0b3A6IHBhZGRpbmcsXG4gICAgICBsZWZ0OiBwYWRkaW5nLFxuICAgICAgcmlnaHQ6IHBhZGRpbmcsXG4gICAgICBib3R0b206IHBhZGRpbmdcbiAgICB9O1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldFRleHRCQm94KHRleHQsIGZha2VUZXh0KSB7XG5cbiAgZmFrZVRleHQudGV4dENvbnRlbnQgPSB0ZXh0O1xuXG4gIHZhciB0ZXh0QkJveDtcblxuICB0cnkge1xuICAgIHZhciBiYm94LFxuICAgICAgICBlbXB0eUxpbmUgPSB0ZXh0ID09PSAnJztcblxuICAgIC8vIGFkZCBkdW1teSB0ZXh0LCB3aGVuIGxpbmUgaXMgZW1wdHkgdG9cbiAgICAvLyBkZXRlcm1pbmUgY29ycmVjdCBoZWlnaHRcbiAgICBmYWtlVGV4dC50ZXh0Q29udGVudCA9IGVtcHR5TGluZSA/ICdkdW1teScgOiB0ZXh0O1xuXG4gICAgdGV4dEJCb3ggPSBmYWtlVGV4dC5nZXRCQm94KCk7XG5cbiAgICAvLyB0YWtlIHRleHQgcmVuZGVyaW5nIHJlbGF0ZWQgaG9yaXpvbnRhbFxuICAgIC8vIHBhZGRpbmcgaW50byBhY2NvdW50XG4gICAgYmJveCA9IHtcbiAgICAgIHdpZHRoOiB0ZXh0QkJveC53aWR0aCArIHRleHRCQm94LnggKiAyLFxuICAgICAgaGVpZ2h0OiB0ZXh0QkJveC5oZWlnaHRcbiAgICB9O1xuXG4gICAgaWYgKGVtcHR5TGluZSkge1xuXG4gICAgICAvLyBjb3JyZWN0IHdpZHRoXG4gICAgICBiYm94LndpZHRoID0gMDtcbiAgICB9XG5cbiAgICByZXR1cm4gYmJveDtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiB7IHdpZHRoOiAwLCBoZWlnaHQ6IDAgfTtcbiAgfVxufVxuXG5cbi8qKlxuICogTGF5b3V0IHRoZSBuZXh0IGxpbmUgYW5kIHJldHVybiB0aGUgbGF5b3V0ZWQgZWxlbWVudC5cbiAqXG4gKiBBbHRlcnMgdGhlIGxpbmVzIHBhc3NlZC5cbiAqXG4gKiBAcGFyYW0gIHtBcnJheTxzdHJpbmc+fSBsaW5lc1xuICogQHJldHVybiB7T2JqZWN0fSB0aGUgbGluZSBkZXNjcmlwdG9yLCBhbiBvYmplY3QgeyB3aWR0aCwgaGVpZ2h0LCB0ZXh0IH1cbiAqL1xuZnVuY3Rpb24gbGF5b3V0TmV4dChsaW5lcywgbWF4V2lkdGgsIGZha2VUZXh0KSB7XG5cbiAgdmFyIG9yaWdpbmFsTGluZSA9IGxpbmVzLnNoaWZ0KCksXG4gICAgICBmaXRMaW5lID0gb3JpZ2luYWxMaW5lO1xuXG4gIHZhciB0ZXh0QkJveDtcblxuICBmb3IgKDs7KSB7XG4gICAgdGV4dEJCb3ggPSBnZXRUZXh0QkJveChmaXRMaW5lLCBmYWtlVGV4dCk7XG5cbiAgICB0ZXh0QkJveC53aWR0aCA9IGZpdExpbmUgPyB0ZXh0QkJveC53aWR0aCA6IDA7XG5cbiAgICAvLyB0cnkgdG8gZml0XG4gICAgaWYgKGZpdExpbmUgPT09ICcgJyB8fCBmaXRMaW5lID09PSAnJyB8fCB0ZXh0QkJveC53aWR0aCA8IE1hdGgucm91bmQobWF4V2lkdGgpIHx8IGZpdExpbmUubGVuZ3RoIDwgMikge1xuICAgICAgcmV0dXJuIGZpdChsaW5lcywgZml0TGluZSwgb3JpZ2luYWxMaW5lLCB0ZXh0QkJveCk7XG4gICAgfVxuXG4gICAgZml0TGluZSA9IHNob3J0ZW5MaW5lKGZpdExpbmUsIHRleHRCQm94LndpZHRoLCBtYXhXaWR0aCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZml0KGxpbmVzLCBmaXRMaW5lLCBvcmlnaW5hbExpbmUsIHRleHRCQm94KSB7XG4gIGlmIChmaXRMaW5lLmxlbmd0aCA8IG9yaWdpbmFsTGluZS5sZW5ndGgpIHtcbiAgICB2YXIgcmVtYWluZGVyID0gb3JpZ2luYWxMaW5lLnNsaWNlKGZpdExpbmUubGVuZ3RoKS50cmltKCk7XG5cbiAgICBsaW5lcy51bnNoaWZ0KHJlbWFpbmRlcik7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHdpZHRoOiB0ZXh0QkJveC53aWR0aCxcbiAgICBoZWlnaHQ6IHRleHRCQm94LmhlaWdodCxcbiAgICB0ZXh0OiBmaXRMaW5lXG4gIH07XG59XG5cbnZhciBTT0ZUX0JSRUFLID0gJ1xcdTAwQUQnO1xuXG5cbi8qKlxuICogU2hvcnRlbnMgYSBsaW5lIGJhc2VkIG9uIHNwYWNpbmcgYW5kIGh5cGhlbnMuXG4gKiBSZXR1cm5zIHRoZSBzaG9ydGVuZWQgcmVzdWx0IG9uIHN1Y2Nlc3MuXG4gKlxuICogQHBhcmFtICB7c3RyaW5nfSBsaW5lXG4gKiBAcGFyYW0gIHtudW1iZXJ9IG1heExlbmd0aCB0aGUgbWF4aW11bSBjaGFyYWN0ZXJzIG9mIHRoZSBzdHJpbmdcbiAqIEByZXR1cm4ge3N0cmluZ30gdGhlIHNob3J0ZW5lZCBzdHJpbmdcbiAqL1xuZnVuY3Rpb24gc2VtYW50aWNTaG9ydGVuKGxpbmUsIG1heExlbmd0aCkge1xuXG4gIHZhciBwYXJ0cyA9IGxpbmUuc3BsaXQoLyhcXHN8LXxcXHUwMEFEKS9nKSxcbiAgICAgIHBhcnQsXG4gICAgICBzaG9ydGVuZWRQYXJ0cyA9IFtdLFxuICAgICAgbGVuZ3RoID0gMDtcblxuICAvLyB0cnkgdG8gc2hvcnRlbiB2aWEgYnJlYWsgY2hhcnNcbiAgaWYgKHBhcnRzLmxlbmd0aCA+IDEpIHtcblxuICAgIHdoaWxlICgocGFydCA9IHBhcnRzLnNoaWZ0KCkpKSB7XG4gICAgICBpZiAocGFydC5sZW5ndGggKyBsZW5ndGggPCBtYXhMZW5ndGgpIHtcbiAgICAgICAgc2hvcnRlbmVkUGFydHMucHVzaChwYXJ0KTtcbiAgICAgICAgbGVuZ3RoICs9IHBhcnQubGVuZ3RoO1xuICAgICAgfSBlbHNlIHtcblxuICAgICAgICAvLyByZW1vdmUgcHJldmlvdXMgcGFydCwgdG9vIGlmIGh5cGhlbiBkb2VzIG5vdCBmaXQgYW55bW9yZVxuICAgICAgICBpZiAocGFydCA9PT0gJy0nIHx8IHBhcnQgPT09IFNPRlRfQlJFQUspIHtcbiAgICAgICAgICBzaG9ydGVuZWRQYXJ0cy5wb3AoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHZhciBsYXN0ID0gc2hvcnRlbmVkUGFydHNbc2hvcnRlbmVkUGFydHMubGVuZ3RoIC0gMV07XG5cbiAgLy8gdHJhbnNsYXRlIHRyYWlsaW5nIHNvZnQgYnJlYWsgdG8gYWN0dWFsIGh5cGhlblxuICBpZiAobGFzdCAmJiBsYXN0ID09PSBTT0ZUX0JSRUFLKSB7XG4gICAgc2hvcnRlbmVkUGFydHNbc2hvcnRlbmVkUGFydHMubGVuZ3RoIC0gMV0gPSAnLSc7XG4gIH1cblxuICByZXR1cm4gc2hvcnRlbmVkUGFydHMuam9pbignJyk7XG59XG5cblxuZnVuY3Rpb24gc2hvcnRlbkxpbmUobGluZSwgd2lkdGgsIG1heFdpZHRoKSB7XG4gIHZhciBsZW5ndGggPSBNYXRoLm1heChsaW5lLmxlbmd0aCAqIChtYXhXaWR0aCAvIHdpZHRoKSwgMSk7XG5cbiAgLy8gdHJ5IHRvIHNob3J0ZW4gc2VtYW50aWNhbGx5IChpLmUuIGJhc2VkIG9uIHNwYWNlcyBhbmQgaHlwaGVucylcbiAgdmFyIHNob3J0ZW5lZExpbmUgPSBzZW1hbnRpY1Nob3J0ZW4obGluZSwgbGVuZ3RoKTtcblxuICBpZiAoIXNob3J0ZW5lZExpbmUpIHtcblxuICAgIC8vIGZvcmNlIHNob3J0ZW4gYnkgY3V0dGluZyB0aGUgbG9uZyB3b3JkXG4gICAgc2hvcnRlbmVkTGluZSA9IGxpbmUuc2xpY2UoMCwgTWF0aC5tYXgoTWF0aC5yb3VuZChsZW5ndGggLSAxKSwgMSkpO1xuICB9XG5cbiAgcmV0dXJuIHNob3J0ZW5lZExpbmU7XG59XG5cblxuZnVuY3Rpb24gZ2V0SGVscGVyU3ZnKCkge1xuICB2YXIgaGVscGVyU3ZnID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hlbHBlci1zdmcnKTtcblxuICBpZiAoIWhlbHBlclN2Zykge1xuICAgIGhlbHBlclN2ZyA9IHN2Z0NyZWF0ZSgnc3ZnJyk7XG5cbiAgICBzdmdBdHRyKGhlbHBlclN2Zywge1xuICAgICAgaWQ6ICdoZWxwZXItc3ZnJyxcbiAgICAgIHdpZHRoOiAwLFxuICAgICAgaGVpZ2h0OiAwLFxuICAgICAgc3R5bGU6ICd2aXNpYmlsaXR5OiBoaWRkZW47IHBvc2l0aW9uOiBmaXhlZCdcbiAgICB9KTtcblxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoaGVscGVyU3ZnKTtcbiAgfVxuXG4gIHJldHVybiBoZWxwZXJTdmc7XG59XG5cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IGxhYmVsIHV0aWxpdHlcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnXG4gKiBAcGFyYW0ge0RpbWVuc2lvbnN9IGNvbmZpZy5zaXplXG4gKiBAcGFyYW0ge251bWJlcn0gY29uZmlnLnBhZGRpbmdcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcuc3R5bGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb25maWcuYWxpZ25cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gVGV4dChjb25maWcpIHtcblxuICB0aGlzLl9jb25maWcgPSBhc3NpZ24oe30sIHtcbiAgICBzaXplOiBERUZBVUxUX0xBQkVMX1NJWkUsXG4gICAgcGFkZGluZzogREVGQVVMVF9CT1hfUEFERElORyxcbiAgICBzdHlsZToge30sXG4gICAgYWxpZ246ICdjZW50ZXItdG9wJ1xuICB9LCBjb25maWcgfHwge30pO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIGxheW91dGVkIHRleHQgYXMgYW4gU1ZHIGVsZW1lbnQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHRcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gKlxuICogQHJldHVybiB7U1ZHRWxlbWVudH1cbiAqL1xuVGV4dC5wcm90b3R5cGUuY3JlYXRlVGV4dCA9IGZ1bmN0aW9uKHRleHQsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIHRoaXMubGF5b3V0VGV4dCh0ZXh0LCBvcHRpb25zKS5lbGVtZW50O1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIGEgbGFiZWxzIGxheW91dGVkIGRpbWVuc2lvbnMuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQgdG8gbGF5b3V0XG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICpcbiAqIEByZXR1cm4ge0RpbWVuc2lvbnN9XG4gKi9cblRleHQucHJvdG90eXBlLmdldERpbWVuc2lvbnMgPSBmdW5jdGlvbih0ZXh0LCBvcHRpb25zKSB7XG4gIHJldHVybiB0aGlzLmxheW91dFRleHQodGV4dCwgb3B0aW9ucykuZGltZW5zaW9ucztcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhbmQgcmV0dXJucyBhIGxhYmVsIGFuZCBpdHMgYm91bmRpbmcgYm94LlxuICpcbiAqIEBtZXRob2QgVGV4dCNjcmVhdGVUZXh0XG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQgdGhlIHRleHQgdG8gcmVuZGVyIG9uIHRoZSBsYWJlbFxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25zLmFsaWduIGhvdyB0byBhbGlnbiBpbiB0aGUgYm91bmRpbmcgYm94LlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQW55IG9mIHsgJ2NlbnRlci1taWRkbGUnLCAnY2VudGVyLXRvcCcgfSxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRzIHRvICdjZW50ZXItdG9wJy5cbiAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25zLnN0eWxlIHN0eWxlIHRvIGJlIGFwcGxpZWQgdG8gdGhlIHRleHRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0aW9ucy5maXRCb3ggaW5kaWNhdGVzIGlmIGJveCB3aWxsIGJlIHJlY2FsY3VsYXRlZCB0b1xuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaXQgdGV4dFxuICpcbiAqIEByZXR1cm4ge09iamVjdH0geyBlbGVtZW50LCBkaW1lbnNpb25zIH1cbiAqL1xuVGV4dC5wcm90b3R5cGUubGF5b3V0VGV4dCA9IGZ1bmN0aW9uKHRleHQsIG9wdGlvbnMpIHtcbiAgdmFyIGJveCA9IGFzc2lnbih7fSwgdGhpcy5fY29uZmlnLnNpemUsIG9wdGlvbnMuYm94KSxcbiAgICAgIHN0eWxlID0gYXNzaWduKHt9LCB0aGlzLl9jb25maWcuc3R5bGUsIG9wdGlvbnMuc3R5bGUpLFxuICAgICAgYWxpZ24gPSBwYXJzZUFsaWduKG9wdGlvbnMuYWxpZ24gfHwgdGhpcy5fY29uZmlnLmFsaWduKSxcbiAgICAgIHBhZGRpbmcgPSBwYXJzZVBhZGRpbmcob3B0aW9ucy5wYWRkaW5nICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnBhZGRpbmcgOiB0aGlzLl9jb25maWcucGFkZGluZyksXG4gICAgICBmaXRCb3ggPSBvcHRpb25zLmZpdEJveCB8fCBmYWxzZTtcblxuICB2YXIgbGluZUhlaWdodCA9IGdldExpbmVIZWlnaHQoc3R5bGUpO1xuXG4gIC8vIHdlIHNwbGl0IHRleHQgYnkgbGluZXMgYW5kIG5vcm1hbGl6ZVxuICAvLyB7c29mdCBicmVha30gKyB7bGluZSBicmVha30gPT4geyBsaW5lIGJyZWFrIH1cbiAgdmFyIGxpbmVzID0gdGV4dC5zcGxpdCgvXFx1MDBBRD9cXHI/XFxuLyksXG4gICAgICBsYXlvdXRlZCA9IFtdO1xuXG4gIHZhciBtYXhXaWR0aCA9IGJveC53aWR0aCAtIHBhZGRpbmcubGVmdCAtIHBhZGRpbmcucmlnaHQ7XG5cbiAgLy8gZW5zdXJlIGNvcnJlY3QgcmVuZGVyaW5nIGJ5IGF0dGFjaGluZyBoZWxwZXIgdGV4dCBub2RlIHRvIGludmlzaWJsZSBTVkdcbiAgdmFyIGhlbHBlclRleHQgPSBzdmdDcmVhdGUoJ3RleHQnKTtcbiAgc3ZnQXR0cihoZWxwZXJUZXh0LCB7IHg6IDAsIHk6IDAgfSk7XG4gIHN2Z0F0dHIoaGVscGVyVGV4dCwgc3R5bGUpO1xuXG4gIHZhciBoZWxwZXJTdmcgPSBnZXRIZWxwZXJTdmcoKTtcblxuICBzdmdBcHBlbmQoaGVscGVyU3ZnLCBoZWxwZXJUZXh0KTtcblxuICB3aGlsZSAobGluZXMubGVuZ3RoKSB7XG4gICAgbGF5b3V0ZWQucHVzaChsYXlvdXROZXh0KGxpbmVzLCBtYXhXaWR0aCwgaGVscGVyVGV4dCkpO1xuICB9XG5cbiAgaWYgKGFsaWduLnZlcnRpY2FsID09PSAnbWlkZGxlJykge1xuICAgIHBhZGRpbmcudG9wID0gcGFkZGluZy5ib3R0b20gPSAwO1xuICB9XG5cbiAgdmFyIHRvdGFsSGVpZ2h0ID0gcmVkdWNlKGxheW91dGVkLCBmdW5jdGlvbihzdW0sIGxpbmUsIGlkeCkge1xuICAgIHJldHVybiBzdW0gKyAobGluZUhlaWdodCB8fCBsaW5lLmhlaWdodCk7XG4gIH0sIDApICsgcGFkZGluZy50b3AgKyBwYWRkaW5nLmJvdHRvbTtcblxuICB2YXIgbWF4TGluZVdpZHRoID0gcmVkdWNlKGxheW91dGVkLCBmdW5jdGlvbihzdW0sIGxpbmUsIGlkeCkge1xuICAgIHJldHVybiBsaW5lLndpZHRoID4gc3VtID8gbGluZS53aWR0aCA6IHN1bTtcbiAgfSwgMCk7XG5cbiAgLy8gdGhlIHkgcG9zaXRpb24gb2YgdGhlIG5leHQgbGluZVxuICB2YXIgeSA9IHBhZGRpbmcudG9wO1xuXG4gIGlmIChhbGlnbi52ZXJ0aWNhbCA9PT0gJ21pZGRsZScpIHtcbiAgICB5ICs9IChib3guaGVpZ2h0IC0gdG90YWxIZWlnaHQpIC8gMjtcbiAgfVxuXG4gIC8vIG1hZ2ljIG51bWJlciBpbml0aWFsIG9mZnNldFxuICB5IC09IChsaW5lSGVpZ2h0IHx8IGxheW91dGVkWzBdLmhlaWdodCkgLyA0O1xuXG5cbiAgdmFyIHRleHRFbGVtZW50ID0gc3ZnQ3JlYXRlKCd0ZXh0Jyk7XG5cbiAgc3ZnQXR0cih0ZXh0RWxlbWVudCwgc3R5bGUpO1xuXG4gIC8vIGxheW91dCBlYWNoIGxpbmUgdGFraW5nIGludG8gYWNjb3VudCB0aGF0IHBhcmVudFxuICAvLyBzaGFwZSBtaWdodCByZXNpemUgdG8gZml0IHRleHQgc2l6ZVxuICBmb3JFYWNoKGxheW91dGVkLCBmdW5jdGlvbihsaW5lKSB7XG5cbiAgICB2YXIgeDtcblxuICAgIHkgKz0gKGxpbmVIZWlnaHQgfHwgbGluZS5oZWlnaHQpO1xuXG4gICAgc3dpdGNoIChhbGlnbi5ob3Jpem9udGFsKSB7XG4gICAgY2FzZSAnbGVmdCc6XG4gICAgICB4ID0gcGFkZGluZy5sZWZ0O1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdyaWdodCc6XG4gICAgICB4ID0gKChmaXRCb3ggPyBtYXhMaW5lV2lkdGggOiBtYXhXaWR0aClcbiAgICAgICAgLSBwYWRkaW5nLnJpZ2h0IC0gbGluZS53aWR0aCk7XG4gICAgICBicmVhaztcblxuICAgIGRlZmF1bHQ6XG5cbiAgICAgIC8vIGFrYSBjZW50ZXJcbiAgICAgIHggPSBNYXRoLm1heCgoKChmaXRCb3ggPyBtYXhMaW5lV2lkdGggOiBtYXhXaWR0aClcbiAgICAgICAgLSBsaW5lLndpZHRoKSAvIDIgKyBwYWRkaW5nLmxlZnQpLCAwKTtcbiAgICB9XG5cbiAgICB2YXIgdHNwYW4gPSBzdmdDcmVhdGUoJ3RzcGFuJyk7XG4gICAgc3ZnQXR0cih0c3BhbiwgeyB4OiB4LCB5OiB5IH0pO1xuXG4gICAgdHNwYW4udGV4dENvbnRlbnQgPSBsaW5lLnRleHQ7XG5cbiAgICBzdmdBcHBlbmQodGV4dEVsZW1lbnQsIHRzcGFuKTtcbiAgfSk7XG5cbiAgc3ZnUmVtb3ZlKGhlbHBlclRleHQpO1xuXG4gIHZhciBkaW1lbnNpb25zID0ge1xuICAgIHdpZHRoOiBtYXhMaW5lV2lkdGgsXG4gICAgaGVpZ2h0OiB0b3RhbEhlaWdodFxuICB9O1xuXG4gIHJldHVybiB7XG4gICAgZGltZW5zaW9uczogZGltZW5zaW9ucyxcbiAgICBlbGVtZW50OiB0ZXh0RWxlbWVudFxuICB9O1xufTtcblxuXG5mdW5jdGlvbiBnZXRMaW5lSGVpZ2h0KHN0eWxlKSB7XG4gIGlmICgnZm9udFNpemUnIGluIHN0eWxlICYmICdsaW5lSGVpZ2h0JyBpbiBzdHlsZSkge1xuICAgIHJldHVybiBzdHlsZS5saW5lSGVpZ2h0ICogcGFyc2VJbnQoc3R5bGUuZm9udFNpemUsIDEwKTtcbiAgfVxufSIsImltcG9ydCB7IGFzc2lnbiB9IGZyb20gJ21pbi1kYXNoJztcblxuaW1wb3J0IFRleHRVdGlsIGZyb20gJ2RpYWdyYW0tanMvbGliL3V0aWwvVGV4dCc7XG5cbnZhciBERUZBVUxUX0ZPTlRfU0laRSA9IDE2O1xudmFyIExJTkVfSEVJR0hUX1JBVElPID0gMS4yO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFRleHRSZW5kZXJlcihjb25maWcpIHtcblxuICB2YXIgZGVmYXVsdFN0eWxlID0gYXNzaWduKHtcbiAgICBmb250RmFtaWx5OiAnSUJNIFBsZXgsIHNhbnMtc2VyaWYnLFxuICAgIGZvbnRTaXplOiBERUZBVUxUX0ZPTlRfU0laRSxcbiAgICBmb250V2VpZ2h0OiAnbm9ybWFsJyxcbiAgICBsaW5lSGVpZ2h0OiBMSU5FX0hFSUdIVF9SQVRJT1xuICB9LCBjb25maWcgJiYgY29uZmlnLmRlZmF1bHRTdHlsZSB8fCB7fSk7XG5cbiAgdmFyIGZvbnRTaXplID0gcGFyc2VJbnQoZGVmYXVsdFN0eWxlLmZvbnRTaXplLCAxMCkgLSAxO1xuXG4gIHZhciBleHRlcm5hbFN0eWxlID0gYXNzaWduKHt9LCBkZWZhdWx0U3R5bGUsIHtcbiAgICBmb250U2l6ZTogZm9udFNpemVcbiAgfSwgY29uZmlnICYmIGNvbmZpZy5leHRlcm5hbFN0eWxlIHx8IHt9KTtcblxuICB2YXIgdGV4dFV0aWwgPSBuZXcgVGV4dFV0aWwoe1xuICAgIHN0eWxlOiBkZWZhdWx0U3R5bGVcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbmV3IGJvdW5kcyBvZiBhbiBleHRlcm5hbGx5IHJlbmRlcmVkLFxuICAgKiBsYXlvdXRlZCBsYWJlbC5cbiAgICpcbiAgICogQHBhcmFtICB7Qm91bmRzfSBib3VuZHNcbiAgICogQHBhcmFtICB7U3RyaW5nfSB0ZXh0XG4gICAqXG4gICAqIEByZXR1cm4ge0JvdW5kc31cbiAgICovXG4gIHRoaXMuZ2V0RXh0ZXJuYWxMYWJlbEJvdW5kcyA9IGZ1bmN0aW9uKGJvdW5kcywgdGV4dCkge1xuXG4gICAgdmFyIGxheW91dGVkRGltZW5zaW9ucyA9IHRleHRVdGlsLmdldERpbWVuc2lvbnModGV4dCwge1xuICAgICAgYm94OiB7XG4gICAgICAgIHdpZHRoOiA5MCxcbiAgICAgICAgaGVpZ2h0OiAzMCxcbiAgICAgICAgeDogYm91bmRzLndpZHRoIC8gMiArIGJvdW5kcy54LFxuICAgICAgICB5OiBib3VuZHMuaGVpZ2h0IC8gMiArIGJvdW5kcy55XG4gICAgICB9LFxuICAgICAgc3R5bGU6IGV4dGVybmFsU3R5bGVcbiAgICB9KTtcblxuICAgIC8vIHJlc2l6ZSBsYWJlbCBzaGFwZSB0byBmaXQgbGFiZWwgdGV4dFxuICAgIHJldHVybiB7XG4gICAgICB4OiBNYXRoLnJvdW5kKGJvdW5kcy54ICsgYm91bmRzLndpZHRoIC8gMiAtIGxheW91dGVkRGltZW5zaW9ucy53aWR0aCAvIDIpLFxuICAgICAgeTogTWF0aC5yb3VuZChib3VuZHMueSksXG4gICAgICB3aWR0aDogTWF0aC5jZWlsKGxheW91dGVkRGltZW5zaW9ucy53aWR0aCksXG4gICAgICBoZWlnaHQ6IE1hdGguY2VpbChsYXlvdXRlZERpbWVuc2lvbnMuaGVpZ2h0KVxuICAgIH07XG5cbiAgfTtcblxuICAvKipcbiAgICogQ3JlYXRlIGEgbGF5b3V0ZWQgdGV4dCBlbGVtZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gdGV4dFxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gICAqXG4gICAqIEByZXR1cm4ge1NWR0VsZW1lbnR9IHJlbmRlcmVkIHRleHRcbiAgICovXG4gIHRoaXMuY3JlYXRlVGV4dCA9IGZ1bmN0aW9uKHRleHQsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGV4dFV0aWwuY3JlYXRlVGV4dCh0ZXh0LCBvcHRpb25zIHx8IHt9KTtcbiAgfTtcblxuICAvKipcbiAgICogR2V0IGRlZmF1bHQgdGV4dCBzdHlsZS5cbiAgICovXG4gIHRoaXMuZ2V0RGVmYXVsdFN0eWxlID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGRlZmF1bHRTdHlsZTtcbiAgfTtcblxuICAvKipcbiAgICogR2V0IHRoZSBleHRlcm5hbCB0ZXh0IHN0eWxlLlxuICAgKi9cbiAgdGhpcy5nZXRFeHRlcm5hbFN0eWxlID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGV4dGVybmFsU3R5bGU7XG4gIH07XG5cbn1cblxuVGV4dFJlbmRlcmVyLiRpbmplY3QgPSBbXG4gICdjb25maWcudGV4dFJlbmRlcmVyJ1xuXTsiLCIvKipcbiAqIE1hcCBjb250YWluaW5nIFNWRyBwYXRocyBuZWVkZWQgYnkgUG9zdGl0UmVuZGVyZXIuXG4gKi9cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUGF0aE1hcCgpIHtcblxuICAvKipcbiAgICogQ29udGFpbnMgYSBtYXAgb2YgcGF0aCBlbGVtZW50c1xuICAgKlxuICAgKiA8aDE+UGF0aCBkZWZpbml0aW9uPC9oMT5cbiAgICogQSBwYXJhbWV0ZXJpemVkIHBhdGggaXMgZGVmaW5lZCBsaWtlIHRoaXM6XG4gICAqIDxwcmU+XG4gICAqICdHQVRFV0FZX1BBUkFMTEVMJzoge1xuICAgKiAgIGQ6ICdtIHtteH0se215fSB7ZS54MH0sMCAwLHtlLngxfSB7ZS54MX0sMCAwLHtlLnkwfSAte2UueDF9LDAgMCx7ZS55MX0gJyArXG4gICAgICAgICAgJy17ZS54MH0sMCAwLC17ZS55MX0gLXtlLngxfSwwIDAsLXtlLnkwfSB7ZS54MX0sMCB6JyxcbiAgICogICBoZWlnaHQ6IDE3LjUsXG4gICAqICAgd2lkdGg6ICAxNy41LFxuICAgKiAgIGhlaWdodEVsZW1lbnRzOiBbMi41LCA3LjVdLFxuICAgKiAgIHdpZHRoRWxlbWVudHM6IFsyLjUsIDcuNV1cbiAgICogfVxuICAgKiA8L3ByZT5cbiAgICogPHA+SXQncyBpbXBvcnRhbnQgdG8gc3BlY2lmeSBhIGNvcnJlY3QgPGI+aGVpZ2h0IGFuZCB3aWR0aDwvYj4gZm9yIHRoZSBwYXRoIGFzIHRoZSBzY2FsaW5nXG4gICAqIGlzIGJhc2VkIG9uIHRoZSByYXRpbyBiZXR3ZWVuIHRoZSBzcGVjaWZpZWQgaGVpZ2h0IGFuZCB3aWR0aCBpbiB0aGlzIG9iamVjdCBhbmQgdGhlXG4gICAqIGhlaWdodCBhbmQgd2lkdGggdGhhdCBpcyBzZXQgYXMgc2NhbGUgdGFyZ2V0IChOb3RlIHgseSBjb29yZGluYXRlcyB3aWxsIGJlIHNjYWxlZCB3aXRoXG4gICAqIGluZGl2aWR1YWwgcmF0aW9zKS48L3A+XG4gICAqIDxwPlRoZSAnPGI+aGVpZ2h0RWxlbWVudHM8L2I+JyBhbmQgJzxiPndpZHRoRWxlbWVudHM8L2I+JyBhcnJheSBtdXN0IGNvbnRhaW4gdGhlIHZhbHVlcyB0aGF0IHdpbGwgYmUgc2NhbGVkLlxuICAgKiBUaGUgc2NhbGluZyBpcyBiYXNlZCBvbiB0aGUgY29tcHV0ZWQgcmF0aW9zLlxuICAgKiBDb29yZGluYXRlcyBvbiB0aGUgeSBheGlzIHNob3VsZCBiZSBpbiB0aGUgPGI+aGVpZ2h0RWxlbWVudDwvYj4ncyBhcnJheSwgdGhleSB3aWxsIGJlIHNjYWxlZCB1c2luZ1xuICAgKiB0aGUgY29tcHV0ZWQgcmF0aW8gY29lZmZpY2llbnQuXG4gICAqIEluIHRoZSBwYXJhbWV0ZXJpemVkIHBhdGggdGhlIHNjYWxlZCB2YWx1ZXMgY2FuIGJlIGFjY2Vzc2VkIHRocm91Z2ggdGhlICdlJyBvYmplY3QgaW4ge30gYnJhY2tldHMuXG4gICAqICAgPHVsPlxuICAgKiAgICA8bGk+VGhlIHZhbHVlcyBmb3IgdGhlIHkgYXhpcyBjYW4gYmUgYWNjZXNzZWQgaW4gdGhlIHBhdGggc3RyaW5nIHVzaW5nIHtlLnkwfSwge2UueTF9LCAuLi4uPC9saT5cbiAgICogICAgPGxpPlRoZSB2YWx1ZXMgZm9yIHRoZSB4IGF4aXMgY2FuIGJlIGFjY2Vzc2VkIGluIHRoZSBwYXRoIHN0cmluZyB1c2luZyB7ZS54MH0sIHtlLngxfSwgLi4uLjwvbGk+XG4gICAqICAgPC91bD5cbiAgICogICBUaGUgbnVtYmVycyB4MCwgeDEgcmVzcGVjdGl2ZWx5IHkwLCB5MSwgLi4uIG1hcCB0byB0aGUgY29ycmVzcG9uZGluZyBhcnJheSBpbmRleC5cbiAgICogPC9wPlxuICAgKi9cbiAgdGhpcy5wYXRoTWFwID0ge1xuICAgICdFVkVOVF9NRVNTQUdFJzoge1xuICAgICAgZDogJ20ge214fSx7bXl9IGwgMCx7ZS55MX0gbCB7ZS54MX0sMCBsIDAsLXtlLnkxfSB6IGwge2UueDB9LHtlLnkwfSBsIHtlLngwfSwte2UueTB9JyxcbiAgICAgIGhlaWdodDogMzYsXG4gICAgICB3aWR0aDogIDM2LFxuICAgICAgaGVpZ2h0RWxlbWVudHM6IFs2LCAxNF0sXG4gICAgICB3aWR0aEVsZW1lbnRzOiBbMTAuNSwgMjFdXG4gICAgfSxcbiAgICAnRVZFTlRfU0lHTkFMJzoge1xuICAgICAgZDogJ00ge214fSx7bXl9IGwge2UueDB9LHtlLnkwfSBsIC17ZS54MX0sMCBaJyxcbiAgICAgIGhlaWdodDogMzYsXG4gICAgICB3aWR0aDogMzYsXG4gICAgICBoZWlnaHRFbGVtZW50czogWzE4XSxcbiAgICAgIHdpZHRoRWxlbWVudHM6IFsxMCwgMjBdXG4gICAgfSxcbiAgICAnRVZFTlRfRVNDQUxBVElPTic6IHtcbiAgICAgIGQ6ICdNIHtteH0se215fSBsIHtlLngwfSx7ZS55MH0gbCAte2UueDB9LC17ZS55MX0gbCAte2UueDB9LHtlLnkxfSBaJyxcbiAgICAgIGhlaWdodDogMzYsXG4gICAgICB3aWR0aDogMzYsXG4gICAgICBoZWlnaHRFbGVtZW50czogWzIwLCA3XSxcbiAgICAgIHdpZHRoRWxlbWVudHM6IFs4XVxuICAgIH0sXG4gICAgJ0VWRU5UX0NPTkRJVElPTkFMJzoge1xuICAgICAgZDogJ00ge2UueDB9LHtlLnkwfSBsIHtlLngxfSwwIGwgMCx7ZS55Mn0gbCAte2UueDF9LDAgWiAnICtcbiAgICAgICAgICdNIHtlLngyfSx7ZS55M30gbCB7ZS54MH0sMCAnICtcbiAgICAgICAgICdNIHtlLngyfSx7ZS55NH0gbCB7ZS54MH0sMCAnICtcbiAgICAgICAgICdNIHtlLngyfSx7ZS55NX0gbCB7ZS54MH0sMCAnICtcbiAgICAgICAgICdNIHtlLngyfSx7ZS55Nn0gbCB7ZS54MH0sMCAnICtcbiAgICAgICAgICdNIHtlLngyfSx7ZS55N30gbCB7ZS54MH0sMCAnICtcbiAgICAgICAgICdNIHtlLngyfSx7ZS55OH0gbCB7ZS54MH0sMCAnLFxuICAgICAgaGVpZ2h0OiAzNixcbiAgICAgIHdpZHRoOiAgMzYsXG4gICAgICBoZWlnaHRFbGVtZW50czogWzguNSwgMTQuNSwgMTgsIDExLjUsIDE0LjUsIDE3LjUsIDIwLjUsIDIzLjUsIDI2LjVdLFxuICAgICAgd2lkdGhFbGVtZW50czogIFsxMC41LCAxNC41LCAxMi41XVxuICAgIH0sXG4gICAgJ0VWRU5UX0xJTksnOiB7XG4gICAgICBkOiAnbSB7bXh9LHtteX0gMCx7ZS55MH0gLXtlLngxfSwwIDAse2UueTF9IHtlLngxfSwwIDAse2UueTB9IHtlLngwfSwte2UueTJ9IC17ZS54MH0sLXtlLnkyfSB6JyxcbiAgICAgIGhlaWdodDogMzYsXG4gICAgICB3aWR0aDogMzYsXG4gICAgICBoZWlnaHRFbGVtZW50czogWzQuNDM3NSwgNi43NSwgNy44MTI1XSxcbiAgICAgIHdpZHRoRWxlbWVudHM6IFs5Ljg0Mzc1LCAxMy41XVxuICAgIH0sXG4gICAgJ0VWRU5UX0VSUk9SJzoge1xuICAgICAgZDogJ20ge214fSx7bXl9IHtlLngwfSwte2UueTB9IHtlLngxfSwte2UueTF9IHtlLngyfSx7ZS55Mn0ge2UueDN9LC17ZS55M30gLXtlLng0fSx7ZS55NH0gLXtlLng1fSwte2UueTV9IHonLFxuICAgICAgaGVpZ2h0OiAzNixcbiAgICAgIHdpZHRoOiAzNixcbiAgICAgIGhlaWdodEVsZW1lbnRzOiBbMC4wMjMsIDguNzM3LCA4LjE1MSwgMTYuNTY0LCAxMC41OTEsIDguNzE0XSxcbiAgICAgIHdpZHRoRWxlbWVudHM6IFswLjA4NSwgNi42NzIsIDYuOTcsIDQuMjczLCA1LjMzNywgNi42MzZdXG4gICAgfSxcbiAgICAnRVZFTlRfQ0FOQ0VMXzQ1Jzoge1xuICAgICAgZDogJ20ge214fSx7bXl9IC17ZS54MX0sMCAwLHtlLngwfSB7ZS54MX0sMCAwLHtlLnkxfSB7ZS54MH0sMCAnICtcbiAgICAgICAgJzAsLXtlLnkxfSB7ZS54MX0sMCAwLC17ZS55MH0gLXtlLngxfSwwIDAsLXtlLnkxfSAte2UueDB9LDAgeicsXG4gICAgICBoZWlnaHQ6IDM2LFxuICAgICAgd2lkdGg6IDM2LFxuICAgICAgaGVpZ2h0RWxlbWVudHM6IFs0Ljc1LCA4LjVdLFxuICAgICAgd2lkdGhFbGVtZW50czogWzQuNzUsIDguNV1cbiAgICB9LFxuICAgICdFVkVOVF9DT01QRU5TQVRJT04nOiB7XG4gICAgICBkOiAnbSB7bXh9LHtteX0ge2UueDB9LC17ZS55MH0gMCx7ZS55MX0geiBtIHtlLngxfSwte2UueTJ9IHtlLngyfSwte2UueTN9IDAse2UueTF9IC17ZS54Mn0sLXtlLnkzfSB6JyxcbiAgICAgIGhlaWdodDogMzYsXG4gICAgICB3aWR0aDogMzYsXG4gICAgICBoZWlnaHRFbGVtZW50czogWzYuNSwgMTMsIDAuNCwgNi4xXSxcbiAgICAgIHdpZHRoRWxlbWVudHM6IFs5LCA5LjMsIDguN11cbiAgICB9LFxuICAgICdFVkVOVF9USU1FUl9XSCc6IHtcbiAgICAgIGQ6ICdNIHtteH0se215fSBsIHtlLngwfSwte2UueTB9IG0gLXtlLngwfSx7ZS55MH0gbCB7ZS54MX0se2UueTF9ICcsXG4gICAgICBoZWlnaHQ6IDM2LFxuICAgICAgd2lkdGg6ICAzNixcbiAgICAgIGhlaWdodEVsZW1lbnRzOiBbMTAsIDJdLFxuICAgICAgd2lkdGhFbGVtZW50czogWzMsIDddXG4gICAgfSxcbiAgICAnRVZFTlRfVElNRVJfTElORSc6IHtcbiAgICAgIGQ6ICAnTSB7bXh9LHtteX0gJyArXG4gICAgICAgICAgJ20ge2UueDB9LHtlLnkwfSBsIC17ZS54MX0se2UueTF9ICcsXG4gICAgICBoZWlnaHQ6IDM2LFxuICAgICAgd2lkdGg6ICAzNixcbiAgICAgIGhlaWdodEVsZW1lbnRzOiBbMTAsIDNdLFxuICAgICAgd2lkdGhFbGVtZW50czogWzAsIDBdXG4gICAgfSxcbiAgICAnRVZFTlRfTVVMVElQTEUnOiB7XG4gICAgICBkOidtIHtteH0se215fSB7ZS54MX0sLXtlLnkwfSB7ZS54MX0se2UueTB9IC17ZS54MH0se2UueTF9IC17ZS54Mn0sMCB6JyxcbiAgICAgIGhlaWdodDogMzYsXG4gICAgICB3aWR0aDogIDM2LFxuICAgICAgaGVpZ2h0RWxlbWVudHM6IFs2LjI4MDk5LCAxMi41NjE5OV0sXG4gICAgICB3aWR0aEVsZW1lbnRzOiBbMy4xNDA1LCA5LjQyMTQ5LCAxMi41NjE5OF1cbiAgICB9LFxuICAgICdFVkVOVF9QQVJBTExFTF9NVUxUSVBMRSc6IHtcbiAgICAgIGQ6J20ge214fSx7bXl9IHtlLngwfSwwIDAse2UueTF9IHtlLngxfSwwIDAse2UueTB9IC17ZS54MX0sMCAwLHtlLnkxfSAnICtcbiAgICAgICAgJy17ZS54MH0sMCAwLC17ZS55MX0gLXtlLngxfSwwIDAsLXtlLnkwfSB7ZS54MX0sMCB6JyxcbiAgICAgIGhlaWdodDogMzYsXG4gICAgICB3aWR0aDogIDM2LFxuICAgICAgaGVpZ2h0RWxlbWVudHM6IFsyLjU2MjI4LCA3LjY4NjgzXSxcbiAgICAgIHdpZHRoRWxlbWVudHM6IFsyLjU2MjI4LCA3LjY4NjgzXVxuICAgIH0sXG4gICAgJ0dBVEVXQVlfRVhDTFVTSVZFJzoge1xuICAgICAgZDonbSB7bXh9LHtteX0ge2UueDB9LHtlLnkwfSB7ZS54MX0se2UueTB9IHtlLngyfSwwIHtlLng0fSx7ZS55Mn0gJyArXG4gICAgICAgICAgICAgICAgICAgICd7ZS54NH0se2UueTF9IHtlLngyfSwwIHtlLngxfSx7ZS55M30ge2UueDB9LHtlLnkzfSAnICtcbiAgICAgICAgICAgICAgICAgICAgJ3tlLngzfSwwIHtlLng1fSx7ZS55MX0ge2UueDV9LHtlLnkyfSB7ZS54M30sMCB6JyxcbiAgICAgIGhlaWdodDogMTcuNSxcbiAgICAgIHdpZHRoOiAgMTcuNSxcbiAgICAgIGhlaWdodEVsZW1lbnRzOiBbOC41LCA2LjUzMTIsIC02LjUzMTIsIC04LjVdLFxuICAgICAgd2lkdGhFbGVtZW50czogIFs2LjUsIC02LjUsIDMsIC0zLCA1LCAtNV1cbiAgICB9LFxuICAgICdHQVRFV0FZX1BBUkFMTEVMJzoge1xuICAgICAgZDonbSB7bXh9LHtteX0gMCx7ZS55MX0gLXtlLngxfSwwIDAse2UueTB9IHtlLngxfSwwIDAse2UueTF9IHtlLngwfSwwICcgK1xuICAgICAgICAnMCwte2UueTF9IHtlLngxfSwwIDAsLXtlLnkwfSAte2UueDF9LDAgMCwte2UueTF9IC17ZS54MH0sMCB6JyxcbiAgICAgIGhlaWdodDogMzAsXG4gICAgICB3aWR0aDogIDMwLFxuICAgICAgaGVpZ2h0RWxlbWVudHM6IFs1LCAxMi41XSxcbiAgICAgIHdpZHRoRWxlbWVudHM6IFs1LCAxMi41XVxuICAgIH0sXG4gICAgJ0dBVEVXQVlfRVZFTlRfQkFTRUQnOiB7XG4gICAgICBkOidtIHtteH0se215fSB7ZS54MH0se2UueTB9IHtlLngwfSx7ZS55MX0ge2UueDF9LHtlLnkyfSB7ZS54Mn0sMCB6JyxcbiAgICAgIGhlaWdodDogMTEsXG4gICAgICB3aWR0aDogIDExLFxuICAgICAgaGVpZ2h0RWxlbWVudHM6IFstNiwgNiwgMTIsIC0xMl0sXG4gICAgICB3aWR0aEVsZW1lbnRzOiBbOSwgLTMsIC0xMl1cbiAgICB9LFxuICAgICdHQVRFV0FZX0NPTVBMRVgnOiB7XG4gICAgICBkOidtIHtteH0se215fSAwLHtlLnkwfSAte2UueDB9LC17ZS55MX0gLXtlLngxfSx7ZS55Mn0ge2UueDB9LHtlLnkxfSAte2UueDJ9LDAgMCx7ZS55M30gJyArXG4gICAgICAgICd7ZS54Mn0sMCAgLXtlLngwfSx7ZS55MX0gbCB7ZS54MX0se2UueTJ9IHtlLngwfSwte2UueTF9IDAse2UueTB9IHtlLngzfSwwIDAsLXtlLnkwfSB7ZS54MH0se2UueTF9ICcgK1xuICAgICAgICAne2UueDF9LC17ZS55Mn0gLXtlLngwfSwte2UueTF9IHtlLngyfSwwIDAsLXtlLnkzfSAte2UueDJ9LDAge2UueDB9LC17ZS55MX0gLXtlLngxfSwte2UueTJ9ICcgK1xuICAgICAgICAnLXtlLngwfSx7ZS55MX0gMCwte2UueTB9IC17ZS54M30sMCB6JyxcbiAgICAgIGhlaWdodDogMTcuMTI1LFxuICAgICAgd2lkdGg6ICAxNy4xMjUsXG4gICAgICBoZWlnaHRFbGVtZW50czogWzQuODc1LCAzLjQzNzUsIDIuMTI1LCAzXSxcbiAgICAgIHdpZHRoRWxlbWVudHM6IFszLjQzNzUsIDIuMTI1LCA0Ljg3NSwgM11cbiAgICB9LFxuICAgICdEQVRBX09CSkVDVF9QQVRIJzoge1xuICAgICAgZDonbSAwLDAge2UueDF9LDAge2UueDB9LHtlLnkwfSAwLHtlLnkxfSAte2UueDJ9LDAgMCwte2UueTJ9IHtlLngxfSwwIDAse2UueTB9IHtlLngwfSwwJyxcbiAgICAgIGhlaWdodDogNjEsXG4gICAgICB3aWR0aDogIDUxLFxuICAgICAgaGVpZ2h0RWxlbWVudHM6IFsxMCwgNTAsIDYwXSxcbiAgICAgIHdpZHRoRWxlbWVudHM6IFsxMCwgNDAsIDUwLCA2MF1cbiAgICB9LFxuICAgICdEQVRBX09CSkVDVF9DT0xMRUNUSU9OX1BBVEgnOiB7XG4gICAgICBkOidtIHtteH0sIHtteX0gJyArXG4gICAgICAgICdtICAwIDE1ICBsIDAgLTE1ICcgK1xuICAgICAgICAnbSAgNCAxNSAgbCAwIC0xNSAnICtcbiAgICAgICAgJ20gIDQgMTUgIGwgMCAtMTUgJyxcbiAgICAgIGhlaWdodDogNjEsXG4gICAgICB3aWR0aDogIDUxLFxuICAgICAgaGVpZ2h0RWxlbWVudHM6IFsxMl0sXG4gICAgICB3aWR0aEVsZW1lbnRzOiBbMSwgNiwgMTIsIDE1XVxuICAgIH0sXG4gICAgJ0RBVEFfQVJST1cnOiB7XG4gICAgICBkOidtIDUsOSA5LDAgMCwtMyA1LDUgLTUsNSAwLC0zIC05LDAgeicsXG4gICAgICBoZWlnaHQ6IDYxLFxuICAgICAgd2lkdGg6ICA1MSxcbiAgICAgIGhlaWdodEVsZW1lbnRzOiBbXSxcbiAgICAgIHdpZHRoRWxlbWVudHM6IFtdXG4gICAgfSxcbiAgICAnREFUQV9TVE9SRSc6IHtcbiAgICAgIGQ6J20gIHtteH0se215fSAnICtcbiAgICAgICAgJ2wgIDAse2UueTJ9ICcgK1xuICAgICAgICAnYyAge2UueDB9LHtlLnkxfSB7ZS54MX0se2UueTF9ICB7ZS54Mn0sMCAnICtcbiAgICAgICAgJ2wgIDAsLXtlLnkyfSAnICtcbiAgICAgICAgJ2MgLXtlLngwfSwte2UueTF9IC17ZS54MX0sLXtlLnkxfSAte2UueDJ9LDAnICtcbiAgICAgICAgJ2MgIHtlLngwfSx7ZS55MX0ge2UueDF9LHtlLnkxfSAge2UueDJ9LDAgJyArXG4gICAgICAgICdtICAte2UueDJ9LHtlLnkwfScgK1xuICAgICAgICAnYyAge2UueDB9LHtlLnkxfSB7ZS54MX0se2UueTF9IHtlLngyfSwwJyArXG4gICAgICAgICdtICAte2UueDJ9LHtlLnkwfScgK1xuICAgICAgICAnYyAge2UueDB9LHtlLnkxfSB7ZS54MX0se2UueTF9ICB7ZS54Mn0sMCcsXG4gICAgICBoZWlnaHQ6IDYxLFxuICAgICAgd2lkdGg6ICA2MSxcbiAgICAgIGhlaWdodEVsZW1lbnRzOiBbNywgMTAsIDQ1XSxcbiAgICAgIHdpZHRoRWxlbWVudHM6ICBbMiwgNTgsIDYwXVxuICAgIH0sXG4gICAgJ1RFWFRfQU5OT1RBVElPTic6IHtcbiAgICAgIGQ6ICdtIHtteH0sIHtteX0gbSAxMCwwIGwgLTEwLDAgbCAwLHtlLnkwfSBsIDEwLDAnLFxuICAgICAgaGVpZ2h0OiAzMCxcbiAgICAgIHdpZHRoOiAxMCxcbiAgICAgIGhlaWdodEVsZW1lbnRzOiBbMzBdLFxuICAgICAgd2lkdGhFbGVtZW50czogWzEwXVxuICAgIH0sXG4gICAgJ01BUktFUl9TVUJfUFJPQ0VTUyc6IHtcbiAgICAgIGQ6ICdte214fSx7bXl9IG0gNywyIGwgMCwxMCBtIC01LC01IGwgMTAsMCcsXG4gICAgICBoZWlnaHQ6IDEwLFxuICAgICAgd2lkdGg6IDEwLFxuICAgICAgaGVpZ2h0RWxlbWVudHM6IFtdLFxuICAgICAgd2lkdGhFbGVtZW50czogW11cbiAgICB9LFxuICAgICdNQVJLRVJfUEFSQUxMRUwnOiB7XG4gICAgICBkOiAnbXtteH0se215fSBtIDMsMiBsIDAsMTAgbSAzLC0xMCBsIDAsMTAgbSAzLC0xMCBsIDAsMTAnLFxuICAgICAgaGVpZ2h0OiAxMCxcbiAgICAgIHdpZHRoOiAxMCxcbiAgICAgIGhlaWdodEVsZW1lbnRzOiBbXSxcbiAgICAgIHdpZHRoRWxlbWVudHM6IFtdXG4gICAgfSxcbiAgICAnTUFSS0VSX1NFUVVFTlRJQUwnOiB7XG4gICAgICBkOiAnbXtteH0se215fSBtIDAsMyBsIDEwLDAgbSAtMTAsMyBsIDEwLDAgbSAtMTAsMyBsIDEwLDAnLFxuICAgICAgaGVpZ2h0OiAxMCxcbiAgICAgIHdpZHRoOiAxMCxcbiAgICAgIGhlaWdodEVsZW1lbnRzOiBbXSxcbiAgICAgIHdpZHRoRWxlbWVudHM6IFtdXG4gICAgfSxcbiAgICAnTUFSS0VSX0NPTVBFTlNBVElPTic6IHtcbiAgICAgIGQ6ICdtIHtteH0se215fSA3LC01IDAsMTAgeiBtIDcuMSwtMC4zIDYuOSwtNC43IDAsMTAgLTYuOSwtNC43IHonLFxuICAgICAgaGVpZ2h0OiAxMCxcbiAgICAgIHdpZHRoOiAyMSxcbiAgICAgIGhlaWdodEVsZW1lbnRzOiBbXSxcbiAgICAgIHdpZHRoRWxlbWVudHM6IFtdXG4gICAgfSxcbiAgICAnTUFSS0VSX0xPT1AnOiB7XG4gICAgICBkOiAnbSB7bXh9LHtteX0gYyAzLjUyNjk3OSwwIDYuMzg2MTYxLC0yLjgyOTg1OCA2LjM4NjE2MSwtNi4zMjA2NjEgMCwtMy40OTA4MDYgLTIuODU5MTgyLC02LjMyMDY2MSAnICtcbiAgICAgICAgJy02LjM4NjE2MSwtNi4zMjA2NjEgLTMuNTI2OTc4LDAgLTYuMzg2MTYsMi44Mjk4NTUgLTYuMzg2MTYsNi4zMjA2NjEgMCwxLjc0NTQwMiAnICtcbiAgICAgICAgJzAuNzE0Nzk3LDMuMzI1NTY3IDEuODcwNDYzLDQuNDY5MzgxIDAuNTc3ODM0LDAuNTcxOTA4IDEuMjY1ODg1LDEuMDM0NzI4IDIuMDI5OTE2LDEuMzU0NTcgJyArXG4gICAgICAgICdsIC0wLjcxODE2MywtMy45MDk3OTMgbSAwLjcxODE2MywzLjkwOTc5MyAtMy44ODUyMTEsMC44MDI5MDInLFxuICAgICAgaGVpZ2h0OiAxMy45LFxuICAgICAgd2lkdGg6IDEzLjcsXG4gICAgICBoZWlnaHRFbGVtZW50czogW10sXG4gICAgICB3aWR0aEVsZW1lbnRzOiBbXVxuICAgIH0sXG4gICAgJ01BUktFUl9BREhPQyc6IHtcbiAgICAgIGQ6ICdtIHtteH0se215fSBtIDAuODQ0NjEsMi42NDQxMSBjIDEuMDU1MzMsLTEuMjM3ODA5OTYgMi42NDMzNywtMi4wNzg4MiA0LjI5NjUzLC0xLjk3OTk3OTk2IDIuMDUxNjMsMC4wODA1ICcgK1xuICAgICAgICAnMy44NTU3OSwxLjE1ODAzIDUuNzYwODIsMS43OTEwNyAxLjA2Mzg1LDAuMzQxMzk5OTYgMi4yNDQ1NCwwLjE0MzggMy4xODc1OSwtMC40Mzc2NyAwLjYxNzQzLC0wLjMzNjQyICcgK1xuICAgICAgICAnMS4yNzc1LC0wLjY0MDc4IDEuNzU0MiwtMS4xNzUxMSAwLDAuNTYwMjMgMCwxLjEyMDQ2IDAsMS42ODA3IC0wLjk4NzA2LDAuOTYyMzc5OTYgLTIuMjk3OTIsMS42MjM5Mzk5NiAnICtcbiAgICAgICAgJy0zLjY5MTgsMS42NjE4MTk5NiAtMS4yNDQ1OSwwLjA5MjcgLTIuNDY2NzEsLTAuMjQ5MSAtMy41OTUwNSwtMC43NDgxMiAtMS4zNTc4OSwtMC41NTk2NSAnICtcbiAgICAgICAgJy0yLjc1MTMzLC0xLjMzNDM2OTk2IC00LjI3MDI3LC0xLjE4MTIxOTk2IC0xLjM3NzQxLDAuMTQ2MDEgLTIuNDE4NDIsMS4xMzY4NTk5NiAtMy40NDI4OCwxLjk2NzgyOTk2IHonLFxuICAgICAgaGVpZ2h0OiA0LFxuICAgICAgd2lkdGg6IDE1LFxuICAgICAgaGVpZ2h0RWxlbWVudHM6IFtdLFxuICAgICAgd2lkdGhFbGVtZW50czogW11cbiAgICB9LFxuICAgICdUQVNLX1RZUEVfU0VORCc6IHtcbiAgICAgIGQ6ICdtIHtteH0se215fSBsIDAse2UueTF9IGwge2UueDF9LDAgbCAwLC17ZS55MX0geiBsIHtlLngwfSx7ZS55MH0gbCB7ZS54MH0sLXtlLnkwfScsXG4gICAgICBoZWlnaHQ6IDE0LFxuICAgICAgd2lkdGg6ICAyMSxcbiAgICAgIGhlaWdodEVsZW1lbnRzOiBbNiwgMTRdLFxuICAgICAgd2lkdGhFbGVtZW50czogWzEwLjUsIDIxXVxuICAgIH0sXG4gICAgJ1RBU0tfVFlQRV9TQ1JJUFQnOiB7XG4gICAgICBkOiAnbSB7bXh9LHtteX0gYyA5Ljk2NjU1MywtNi4yNzI3NiAtOC4wMDA5MjYsLTcuOTE5MzIgMi45Njg5NjgsLTE0LjkzOCBsIC04LjgwMjcyOCwwICcgK1xuICAgICAgICAnYyAtMTAuOTY5ODk0LDcuMDE4NjggNi45OTc1ODUsOC42NjUyNCAtMi45Njg5NjcsMTQuOTM4IHogJyArXG4gICAgICAgICdtIC03LC0xMiBsIDUsMCAnICtcbiAgICAgICAgJ20gLTQuNSwzIGwgNC41LDAgJyArXG4gICAgICAgICdtIC0zLDMgbCA1LDAnICtcbiAgICAgICAgJ20gLTQsMyBsIDUsMCcsXG4gICAgICBoZWlnaHQ6IDE1LFxuICAgICAgd2lkdGg6ICAxMi42LFxuICAgICAgaGVpZ2h0RWxlbWVudHM6IFs2LCAxNF0sXG4gICAgICB3aWR0aEVsZW1lbnRzOiBbMTAuNSwgMjFdXG4gICAgfSxcbiAgICAnVEFTS19UWVBFX1VTRVJfMSc6IHtcbiAgICAgIGQ6ICdtIHtteH0se215fSBjIDAuOTA5LC0wLjg0NSAxLjU5NCwtMi4wNDkgMS41OTQsLTMuMzg1IDAsLTIuNTU0IC0xLjgwNSwtNC42MjE5OTk5OSAnICtcbiAgICAgICAgJy00LjM1NywtNC42MjE5OTk5OSAtMi41NTE5OTk5OCwwIC00LjI4Nzk5OTk4LDIuMDY3OTk5OTkgLTQuMjg3OTk5OTgsNC42MjE5OTk5OSAwLDEuMzQ4ICcgK1xuICAgICAgICAnMC45NzQsMi41NjIgMS44OTU5OTk5OCwzLjQwNSAtMC41Mjg5OTk5OCwwLjE4NyAtNS42NjksMi4wOTcgLTUuNzk0LDQuNzU2MDAwNSB2IDYuNzE4ICcgK1xuICAgICAgICAnaCAxNyB2IC02LjcxOCBjIDAsLTIuMjk4MDAwNSAtNS41Mjc5OTk2LC00LjU5NTAwMDUgLTYuMDUwOTk5NiwtNC43NzYwMDA1IHonICtcbiAgICAgICAgJ20gLTgsNiBsIDAsNS41IG0gMTEsMCBsIDAsLTUnXG4gICAgfSxcbiAgICAnVEFTS19UWVBFX1VTRVJfMic6IHtcbiAgICAgIGQ6ICdtIHtteH0se215fSBtIDIuMTYyLDEuMDA5IGMgMCwyLjQ0NzAwMDUgLTIuMTU4LDQuNDMxMDAwNSAtNC44MjEsNC40MzEwMDA1ICcgK1xuICAgICAgICAnLTIuNjY0OTk5OTgsMCAtNC44MjIsLTEuOTgxIC00LjgyMiwtNC40MzEwMDA1ICdcbiAgICB9LFxuICAgICdUQVNLX1RZUEVfVVNFUl8zJzoge1xuICAgICAgZDogJ20ge214fSx7bXl9IG0gLTYuOSwtMy44MCBjIDAsMCAyLjI1MDk5OTk4LC0yLjM1OCA0LjI3Mzk5OTk4LC0xLjE3NyAyLjAyNCwxLjE4MSA0LjIyMSwxLjUzNyAnICtcbiAgICAgICAgJzQuMTI0LDAuOTY1IC0wLjA5OCwtMC41NyAtMC4xMTcsLTMuNzkwOTk5OTkgLTQuMTkxLC00LjEzNTk5OTk5IC0zLjU3NDk5OTk4LDAuMDAxICcgK1xuICAgICAgICAnLTQuMjA3OTk5OTgsMy4zNjY5OTk5OSAtNC4yMDY5OTk5OCw0LjM0Nzk5OTk5IHonXG4gICAgfSxcbiAgICAnVEFTS19UWVBFX01BTlVBTCc6IHtcbiAgICAgIGQ6ICdtIHtteH0se215fSBjIDAuMjM0LC0wLjAxIDUuNjA0LDAuMDA4IDguMDI5LDAuMDA0IDAuODA4LDAgMS4yNzEsLTAuMTcyIDEuNDE3LC0wLjc1MiAwLjIyNywtMC44OTggJyArXG4gICAgICAgICctMC4zMzQsLTEuMzE0IC0xLjMzOCwtMS4zMTYgLTIuNDY3LC0wLjAxIC03Ljg4NiwtMC4wMDQgLTguMTA4LC0wLjAwNCAtMC4wMTQsLTAuMDc5IDAuMDE2LC0wLjUzMyAwLC0wLjYxICcgK1xuICAgICAgICAnMC4xOTUsLTAuMDQyIDguNTA3LDAuMDA2IDkuNjE2LDAuMDAyIDAuODc3LC0wLjAwNyAxLjM1LC0wLjQzOCAxLjM1MywtMS4yMDggMC4wMDMsLTAuNzY4IC0wLjQ3OSwtMS4wOSAnICtcbiAgICAgICAgJy0xLjM1LC0xLjA5MSAtMi45NjgsLTAuMDAyIC05LjYxOSwtMC4wMTMgLTkuNjE5LC0wLjAxMyB2IC0wLjU5MSBjIDAsMCA1LjA1MiwtMC4wMTYgNy4yMjUsLTAuMDE2ICcgK1xuICAgICAgICAnMC44ODgsLTAuMDAyIDEuMzU0LC0wLjQxNiAxLjM1MSwtMS4xOTMgLTAuMDA2LC0wLjc2MSAtMC40OTIsLTEuMTk2IC0xLjM2MSwtMS4xOTYgLTMuNDczLC0wLjAwNSAnICtcbiAgICAgICAgJy0xMC44NiwtMC4wMDMgLTExLjA4Mjk5OTUsLTAuMDAzIC0wLjAyMiwtMC4wNDcgLTAuMDQ1LC0wLjA5NCAtMC4wNjksLTAuMTM5IDAuMzkzOTk5NSwtMC4zMTkgJyArXG4gICAgICAgICcyLjA0MDk5OTUsLTEuNjI2IDIuNDE0OTk5NSwtMi4wMTcgMC40NjksLTAuNDg3MDAwNSAwLjUxOSwtMS4xNjUwMDA1IDAuMTYyLC0xLjYwNDAwMDUgLTAuNDE0LC0wLjUxMSAnICtcbiAgICAgICAgJy0wLjk3MywtMC41IC0xLjQ4LC0wLjIzNiAtMS40NjA5OTk1LDAuNzY0IC02LjU5OTk5OTUsMy42NDMwMDA1IC03LjczMjk5OTUsNC4yNzEwMDA1IC0wLjksMC40OTkgJyArXG4gICAgICAgICctMS41MTYsMS4yNTMgLTEuODgyLDIuMTkgLTAuMzcwMDAwMDIsMC45NSAtMC4xNywyLjAxIC0wLjE2NiwyLjk3OSAwLjAwNCwwLjcxOCAtMC4yNzMwMDAwMiwxLjM0NSAnICtcbiAgICAgICAgJy0wLjA1NSwyLjA2MyAwLjYyOSwyLjA4NyAyLjQyNSwzLjMxMiA0Ljg1OSwzLjMxOCA0LjYxNzk5OTUsMC4wMTQgOS4yMzc5OTk1LC0wLjEzOSAxMy44NTY5OTk1LC0wLjE1OCAnICtcbiAgICAgICAgJzAuNzU1LC0wLjAwNCAxLjE3MSwtMC4zMDEgMS4xODIsLTEuMDMzIDAuMDEyLC0wLjc1NCAtMC40MjMsLTAuOTY5IC0xLjE4MywtMC45NzMgLTEuNzc4LC0wLjAxICcgK1xuICAgICAgICAnLTUuODI0LC0wLjAwNCAtNi4wNCwtMC4wMDQgMTBlLTQsLTAuMDg0IDAuMDAzLC0wLjU4NiAxMGUtNCwtMC42NyB6J1xuICAgIH0sXG4gICAgJ1RBU0tfVFlQRV9JTlNUQU5USUFUSU5HX1NFTkQnOiB7XG4gICAgICBkOiAnbSB7bXh9LHtteX0gbCAwLDguNCBsIDEyLjYsMCBsIDAsLTguNCB6IGwgNi4zLDMuNiBsIDYuMywtMy42J1xuICAgIH0sXG4gICAgJ1RBU0tfVFlQRV9TRVJWSUNFJzoge1xuICAgICAgZDogJ20ge214fSx7bXl9IHYgLTEuNzEzMzUgYyAwLjM1MjMyNiwtMC4wNzA1IDAuNzAzOTMyLC0wLjE3ODM4IDEuMDQ3NjI4LC0wLjMyMTMzICcgK1xuICAgICAgICAnMC4zNDQ0MTYsLTAuMTQ0NjUgMC42NjU4MjIsLTAuMzIxMzMgMC45NjYzNzcsLTAuNTIxNDUgbCAxLjE5NDMxLDEuMTgwMDUgMS41Njc0ODcsLTEuNTc2ODggJyArXG4gICAgICAgICctMS4xOTUwMjgsLTEuMTgwMTQgYyAwLjQwMzM3NiwtMC42MTM5NCAwLjY4MzA3OSwtMS4yOTkwOCAwLjgyNTQ0NywtMi4wMTgyNCBsIDEuNjIyMTMzLC0wLjAxICcgK1xuICAgICAgICAndiAtMi4yMTk2IGwgLTEuNjM2NTE0LDAuMDEgYyAtMC4wNzMzMywtMC4zNTE1MyAtMC4xNzgzMTksLTAuNzAwMjQgLTAuMzIzNTY0LC0xLjA0MzcyICcgK1xuICAgICAgICAnLTAuMTQ1MjQ0LC0wLjM0NDA2IC0wLjMyMTQwNywtMC42NjQ0IC0wLjUyMjczNSwtMC45NjIxNyBsIDEuMTMxMDM1LC0xLjEzNjMxIC0xLjU4MzMwNSwtMS41NjI5MyAnICtcbiAgICAgICAgJy0xLjEyOTU5OCwxLjEzNTg5IGMgLTAuNjE0MDUyLC0wLjQwMTA4IC0xLjMwMjg4MywtMC42ODA5MyAtMi4wMjI2MzMsLTAuODIyNDcgbCAwLjAwOTMsLTEuNjE4NTIgJyArXG4gICAgICAgICdoIC0yLjI0MTE3MyBsIDAuMDA0MiwxLjYzMTI0IGMgLTAuMzUzNzYzLDAuMDczNiAtMC43MDUzNjksMC4xNzk3NyAtMS4wNDk3ODUsMC4zMjM3MSAtMC4zNDQ0MTUsMC4xNDQzNyAnICtcbiAgICAgICAgJy0wLjY2NTEwMiwwLjMyMDkyIC0wLjk2MzUwMDYsMC41MjA0NiBsIC0xLjE2OTg2MjgsLTEuMTU4MjMgLTEuNTY2NzY5MSwxLjU3OTIgMS4xNjg0MjY1LDEuMTU2NjkgJyArXG4gICAgICAgICdjIC0wLjQwMjY1NzMsMC42MTI4MyAtMC42ODMwOCwxLjI5Nzk3IC0wLjgyNDcyODcsMi4wMTcxMyBsIC0xLjY1ODgwNDEsMC4wMDMgdiAyLjIyMTc0ICcgK1xuICAgICAgICAnbCAxLjY3MjQ2NDgsLTAuMDA2IGMgMC4wNzMzMjcsMC4zNTA3NyAwLjE3OTc1OTgsMC43MDI0MyAwLjMyNDI4NTEsMS4wNDQ3MiAwLjE0NTI0MjgsMC4zNDQ0OCAnICtcbiAgICAgICAgJzAuMzIxNDA2NCwwLjY2NDQgMC41MjI3MzM5LDAuOTYwNjYgbCAtMS4xOTkzNDMxLDEuMTk3MjMgMS41ODQwMjU2LDEuNTYwMTEgMS4xOTY0NjY4LC0xLjE5MzQ4ICcgK1xuICAgICAgICAnYyAwLjYxNDA1MTcsMC40MDM0NiAxLjMwMjg4MjcsMC42ODIzMiAyLjAyMzM1MTcsMC44MjMzMSBsIDcuMTllLTQsMS42OTg5MiBoIDIuMjI2ODQ4IHogJyArXG4gICAgICAgICdtIDAuMjIxNDYyLC0zLjk5NTcgYyAtMS43ODg5NDgsMC43NTAyIC0zLjg1NzYsLTAuMDkyOCAtNC42MDk3MDU1LC0xLjg3NDM4IC0wLjc1MjEwNjUsLTEuNzgzMjEgJyArXG4gICAgICAgICcwLjA5MDU5OCwtMy44NDYyNyAxLjg4MDI2NDUsLTQuNTk2MDQgMS43ODgyMywtMC43NDkzNiAzLjg1Njg4MSwwLjA5MjkgNC42MDg5ODcsMS44NzQzNyAnICtcbiAgICAgICAgJzAuNzUyMTA2LDEuNzgxNjUgLTAuMDkwNiwzLjg0NjEyIC0xLjg3OTU0Niw0LjU5NjA1IHonXG4gICAgfSxcbiAgICAnVEFTS19UWVBFX1NFUlZJQ0VfRklMTCc6IHtcbiAgICAgIGQ6ICdtIHtteH0se215fSBjIC0xLjc4ODk0OCwwLjc1MDIgLTMuODU3NiwtMC4wOTI4IC00LjYwOTcwNTUsLTEuODc0MzggLTAuNzUyMTA2NSwtMS43ODMyMSAnICtcbiAgICAgICAgJzAuMDkwNTk4LC0zLjg0NjI3IDEuODgwMjY0NSwtNC41OTYwNCAxLjc4ODIzLC0wLjc0OTM2IDMuODU2ODgxLDAuMDkyOSA0LjYwODk4NywxLjg3NDM3ICcgK1xuICAgICAgICAnMC43NTIxMDYsMS43ODE2NSAtMC4wOTA2LDMuODQ2MTIgLTEuODc5NTQ2LDQuNTk2MDUgeidcbiAgICB9LFxuICAgICdUQVNLX1RZUEVfQlVTSU5FU1NfUlVMRV9IRUFERVInOiB7XG4gICAgICBkOiAnbSB7bXh9LHtteX0gMCw0IDIwLDAgMCwtNCB6J1xuICAgIH0sXG4gICAgJ1RBU0tfVFlQRV9CVVNJTkVTU19SVUxFX01BSU4nOiB7XG4gICAgICBkOiAnbSB7bXh9LHtteX0gMCwxMiAyMCwwIDAsLTEyIHonICtcbiAgICAgICAgJ20gMCw4IGwgMjAsMCAnICtcbiAgICAgICAgJ20gLTEzLC00IGwgMCw4J1xuICAgIH0sXG4gICAgJ01FU1NBR0VfRkxPV19NQVJLRVInOiB7XG4gICAgICBkOiAnbSB7bXh9LHtteX0gbSAtMTAuNSAsLTcgbCAwLDE0IGwgMjEsMCBsIDAsLTE0IHogbCAxMC41LDYgbCAxMC41LC02J1xuICAgIH1cbiAgfTtcblxuICB0aGlzLmdldFJhd1BhdGggPSBmdW5jdGlvbiBnZXRSYXdQYXRoKHBhdGhJZCkge1xuICAgIHJldHVybiB0aGlzLnBhdGhNYXBbcGF0aElkXS5kO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTY2FsZXMgdGhlIHBhdGggdG8gdGhlIGdpdmVuIGhlaWdodCBhbmQgd2lkdGguXG4gICAqIDxoMT5Vc2UgY2FzZTwvaDE+XG4gICAqIDxwPlVzZSBjYXNlIGlzIHRvIHNjYWxlIHRoZSBjb250ZW50IG9mIGVsZW1lbnRzIChldmVudCwgZ2F0ZXdheXMpIGJhc2VkXG4gICAqIG9uIHRoZSBlbGVtZW50IGJvdW5kaW5nIGJveCdzIHNpemUuXG4gICAqIDwvcD5cbiAgICogPGgxPldoeSBub3QgdHJhbnNmb3JtPC9oMT5cbiAgICogPHA+U2NhbGluZyBhIHBhdGggd2l0aCB0cmFuc2Zvcm0oKSB3aWxsIGFsc28gc2NhbGUgdGhlIHN0cm9rZSBhbmQgSUUgZG9lcyBub3Qgc3VwcG9ydFxuICAgKiB0aGUgb3B0aW9uICdub24tc2NhbGluZy1zdHJva2UnIHRvIHByZXZlbnQgdGhpcy5cbiAgICogQWxzbyB0aGVyZSBhcmUgdXNlIGNhc2VzIHdoZXJlIG9ubHkgc29tZSBwYXJ0cyBvZiBhIHBhdGggc2hvdWxkIGJlXG4gICAqIHNjYWxlZC48L3A+XG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBwYXRoSWQgVGhlIElEIG9mIHRoZSBwYXRoLlxuICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW0gPHA+XG4gICAqICAgRXhhbXBsZSBwYXJhbSBvYmplY3Qgc2NhbGVzIHRoZSBwYXRoIHRvIDYwJSBzaXplIG9mIHRoZSBjb250YWluZXIgKGRhdGEud2lkdGgsIGRhdGEuaGVpZ2h0KS5cbiAgICogICA8cHJlPlxuICAgKiAgIHtcbiAgICogICAgIHhTY2FsZUZhY3RvcjogMC42LFxuICAgKiAgICAgeVNjYWxlRmFjdG9yOjAuNixcbiAgICogICAgIGNvbnRhaW5lcldpZHRoOiBkYXRhLndpZHRoLFxuICAgKiAgICAgY29udGFpbmVySGVpZ2h0OiBkYXRhLmhlaWdodCxcbiAgICogICAgIHBvc2l0aW9uOiB7XG4gICAqICAgICAgIG14OiAwLjQ2LFxuICAgKiAgICAgICBteTogMC4yLFxuICAgKiAgICAgfVxuICAgKiAgIH1cbiAgICogICA8L3ByZT5cbiAgICogICA8dWw+XG4gICAqICAgIDxsaT50YXJnZXRwYXRod2lkdGggPSB4U2NhbGVGYWN0b3IgKiBjb250YWluZXJXaWR0aDwvbGk+XG4gICAqICAgIDxsaT50YXJnZXRwYXRoaGVpZ2h0ID0geVNjYWxlRmFjdG9yICogY29udGFpbmVySGVpZ2h0PC9saT5cbiAgICogICAgPGxpPlBvc2l0aW9uIGlzIHVzZWQgdG8gc2V0IHRoZSBzdGFydGluZyBjb29yZGluYXRlIG9mIHRoZSBwYXRoLiBNIGlzIGNvbXB1dGVkOlxuICAgICogICAgPHVsPlxuICAgICogICAgICA8bGk+cG9zaXRpb24ueCAqIGNvbnRhaW5lcldpZHRoPC9saT5cbiAgICAqICAgICAgPGxpPnBvc2l0aW9uLnkgKiBjb250YWluZXJIZWlnaHQ8L2xpPlxuICAgICogICAgPC91bD5cbiAgICAqICAgIENlbnRlciBvZiB0aGUgY29udGFpbmVyIDxwcmU+IHBvc2l0aW9uOiB7XG4gICAqICAgICAgIG14OiAwLjUsXG4gICAqICAgICAgIG15OiAwLjUsXG4gICAqICAgICB9PC9wcmU+XG4gICAqICAgICBVcHBlciBsZWZ0IGNvcm5lciBvZiB0aGUgY29udGFpbmVyXG4gICAqICAgICA8cHJlPiBwb3NpdGlvbjoge1xuICAgKiAgICAgICBteDogMC4wLFxuICAgKiAgICAgICBteTogMC4wLFxuICAgKiAgICAgfTwvcHJlPlxuICAgKiAgICA8L2xpPlxuICAgKiAgIDwvdWw+XG4gICAqIDwvcD5cbiAgICpcbiAgICovXG4gIHRoaXMuZ2V0U2NhbGVkUGF0aCA9IGZ1bmN0aW9uIGdldFNjYWxlZFBhdGgocGF0aElkLCBwYXJhbSkge1xuICAgIHZhciByYXdQYXRoID0gdGhpcy5wYXRoTWFwW3BhdGhJZF07XG5cbiAgICAvLyBwb3NpdGlvbmluZ1xuICAgIC8vIGNvbXB1dGUgdGhlIHN0YXJ0IHBvaW50IG9mIHRoZSBwYXRoXG4gICAgdmFyIG14LCBteTtcblxuICAgIGlmIChwYXJhbS5hYnNwb3MpIHtcbiAgICAgIG14ID0gcGFyYW0uYWJzcG9zLng7XG4gICAgICBteSA9IHBhcmFtLmFic3Bvcy55O1xuICAgIH0gZWxzZSB7XG4gICAgICBteCA9IHBhcmFtLmNvbnRhaW5lcldpZHRoICogcGFyYW0ucG9zaXRpb24ubXg7XG4gICAgICBteSA9IHBhcmFtLmNvbnRhaW5lckhlaWdodCAqIHBhcmFtLnBvc2l0aW9uLm15O1xuICAgIH1cblxuICAgIHZhciBjb29yZGluYXRlcyA9IHt9OyAvLyBtYXAgZm9yIHRoZSBzY2FsZWQgY29vcmRpbmF0ZXNcbiAgICBpZiAocGFyYW0ucG9zaXRpb24pIHtcblxuICAgICAgLy8gcGF0aFxuICAgICAgdmFyIGhlaWdodFJhdGlvID0gKHBhcmFtLmNvbnRhaW5lckhlaWdodCAvIHJhd1BhdGguaGVpZ2h0KSAqIHBhcmFtLnlTY2FsZUZhY3RvcjtcbiAgICAgIHZhciB3aWR0aFJhdGlvID0gKHBhcmFtLmNvbnRhaW5lcldpZHRoIC8gcmF3UGF0aC53aWR0aCkgKiBwYXJhbS54U2NhbGVGYWN0b3I7XG5cblxuICAgICAgLy8gQXBwbHkgaGVpZ2h0IHJhdGlvXG4gICAgICBmb3IgKHZhciBoZWlnaHRJbmRleCA9IDA7IGhlaWdodEluZGV4IDwgcmF3UGF0aC5oZWlnaHRFbGVtZW50cy5sZW5ndGg7IGhlaWdodEluZGV4KyspIHtcbiAgICAgICAgY29vcmRpbmF0ZXNbJ3knICsgaGVpZ2h0SW5kZXhdID0gcmF3UGF0aC5oZWlnaHRFbGVtZW50c1toZWlnaHRJbmRleF0gKiBoZWlnaHRSYXRpbztcbiAgICAgIH1cblxuICAgICAgLy8gQXBwbHkgd2lkdGggcmF0aW9cbiAgICAgIGZvciAodmFyIHdpZHRoSW5kZXggPSAwOyB3aWR0aEluZGV4IDwgcmF3UGF0aC53aWR0aEVsZW1lbnRzLmxlbmd0aDsgd2lkdGhJbmRleCsrKSB7XG4gICAgICAgIGNvb3JkaW5hdGVzWyd4JyArIHdpZHRoSW5kZXhdID0gcmF3UGF0aC53aWR0aEVsZW1lbnRzW3dpZHRoSW5kZXhdICogd2lkdGhSYXRpbztcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBBcHBseSB2YWx1ZSB0byByYXcgcGF0aFxuICAgIHZhciBwYXRoID0gZm9ybWF0KFxuICAgICAgcmF3UGF0aC5kLCB7XG4gICAgICAgIG14OiBteCxcbiAgICAgICAgbXk6IG15LFxuICAgICAgICBlOiBjb29yZGluYXRlc1xuICAgICAgfVxuICAgICk7XG4gICAgcmV0dXJuIHBhdGg7XG4gIH07XG59XG5cbi8vIGhlbHBlcnMgLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4vLyBjb3BpZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vYWRvYmUtd2VicGxhdGZvcm0vU25hcC5zdmcvYmxvYi9tYXN0ZXIvc3JjL3N2Zy5qc1xudmFyIHRva2VuUmVnZXggPSAvXFx7KFtefV0rKVxcfS9nLFxuICAgIG9iak5vdGF0aW9uUmVnZXggPSAvKD86KD86XnxcXC4pKC4rPykoPz1cXFt8XFwufCR8XFwoKXxcXFsoJ3xcIikoLis/KVxcMlxcXSkoXFwoXFwpKT8vZzsgLy8gbWF0Y2hlcyAueHh4eHggb3IgW1wieHh4eHhcIl0gdG8gcnVuIG92ZXIgb2JqZWN0IHByb3BlcnRpZXNcblxuZnVuY3Rpb24gcmVwbGFjZXIoYWxsLCBrZXksIG9iaikge1xuICB2YXIgcmVzID0gb2JqO1xuICBrZXkucmVwbGFjZShvYmpOb3RhdGlvblJlZ2V4LCBmdW5jdGlvbihhbGwsIG5hbWUsIHF1b3RlLCBxdW90ZWROYW1lLCBpc0Z1bmMpIHtcbiAgICBuYW1lID0gbmFtZSB8fCBxdW90ZWROYW1lO1xuICAgIGlmIChyZXMpIHtcbiAgICAgIGlmIChuYW1lIGluIHJlcykge1xuICAgICAgICByZXMgPSByZXNbbmFtZV07XG4gICAgICB9XG4gICAgICB0eXBlb2YgcmVzID09ICdmdW5jdGlvbicgJiYgaXNGdW5jICYmIChyZXMgPSByZXMoKSk7XG4gICAgfVxuICB9KTtcbiAgcmVzID0gKHJlcyA9PSBudWxsIHx8IHJlcyA9PSBvYmogPyBhbGwgOiByZXMpICsgJyc7XG5cbiAgcmV0dXJuIHJlcztcbn1cblxuZnVuY3Rpb24gZm9ybWF0KHN0ciwgb2JqKSB7XG4gIHJldHVybiBTdHJpbmcoc3RyKS5yZXBsYWNlKHRva2VuUmVnZXgsIGZ1bmN0aW9uKGFsbCwga2V5KSB7XG4gICAgcmV0dXJuIHJlcGxhY2VyKGFsbCwga2V5LCBvYmopO1xuICB9KTtcbn1cbiIsImltcG9ydCBQb3N0aXRSZW5kZXJlciBmcm9tICcuL1Bvc3RpdFJlbmRlcmVyJztcbmltcG9ydCBUZXh0UmVuZGVyZXIgZnJvbSAnLi9UZXh0UmVuZGVyZXInO1xuXG5pbXBvcnQgUGF0aE1hcCBmcm9tICcuL1BhdGhNYXAnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9faW5pdF9fOiBbICdwb3N0aXRSZW5kZXJlcicgXSxcbiAgcG9zdGl0UmVuZGVyZXI6IFsgJ3R5cGUnLCBQb3N0aXRSZW5kZXJlciBdLFxuICB0ZXh0UmVuZGVyZXI6IFsgJ3R5cGUnLCBUZXh0UmVuZGVyZXIgXSxcbiAgcGF0aE1hcDogWyAndHlwZScsIFBhdGhNYXAgXVxufTtcbiIsImltcG9ydCB0cmFuc2xhdGUgZnJvbSAnLi90cmFuc2xhdGUnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIHRyYW5zbGF0ZTogWyAndmFsdWUnLCB0cmFuc2xhdGUgXVxufTsiLCIvKipcbiAqIEEgc2ltcGxlIHRyYW5zbGF0aW9uIHN0dWIgdG8gYmUgdXNlZCBmb3IgbXVsdGktbGFuZ3VhZ2Ugc3VwcG9ydFxuICogaW4gZGlhZ3JhbXMuIENhbiBiZSBlYXNpbHkgcmVwbGFjZWQgd2l0aCBhIG1vcmUgc29waGlzdGljYXRlZFxuICogc29sdXRpb24uXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiAvLyB1c2UgaXQgaW5zaWRlIGFueSBkaWFncmFtIGNvbXBvbmVudCBieSBpbmplY3RpbmcgYHRyYW5zbGF0ZWAuXG4gKlxuICogZnVuY3Rpb24gTXlTZXJ2aWNlKHRyYW5zbGF0ZSkge1xuICogICBhbGVydCh0cmFuc2xhdGUoJ0hFTExPIHt5b3V9JywgeyB5b3U6ICdZb3UhJyB9KSk7XG4gKiB9XG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHRlbXBsYXRlIHRvIGludGVycG9sYXRlXG4gKiBAcGFyYW0ge09iamVjdH0gW3JlcGxhY2VtZW50c10gYSBtYXAgd2l0aCBzdWJzdGl0dXRlc1xuICpcbiAqIEByZXR1cm4ge3N0cmluZ30gdGhlIHRyYW5zbGF0ZWQgc3RyaW5nXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRyYW5zbGF0ZSh0ZW1wbGF0ZSwgcmVwbGFjZW1lbnRzKSB7XG5cbiAgcmVwbGFjZW1lbnRzID0gcmVwbGFjZW1lbnRzIHx8IHt9O1xuXG4gIHJldHVybiB0ZW1wbGF0ZS5yZXBsYWNlKC97KFtefV0rKX0vZywgZnVuY3Rpb24oXywga2V5KSB7XG4gICAgcmV0dXJuIHJlcGxhY2VtZW50c1trZXldIHx8ICd7JyArIGtleSArICd9JztcbiAgfSk7XG59IiwiaW1wb3J0IHtcbiAgYXNzaWduXG59IGZyb20gJ21pbi1kYXNoJztcblxuaW1wb3J0IHsgaXMgfSBmcm9tICcuL01vZGVsVXRpbCc7XG5cblxuZXhwb3J0IHZhciBERUZBVUxUX0xBQkVMX1NJWkUgPSB7XG4gIHdpZHRoOiA5MCxcbiAgaGVpZ2h0OiAyMFxufTtcblxuZXhwb3J0IHZhciBGTE9XX0xBQkVMX0lOREVOVCA9IDE1O1xuXG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiBzZW1hbnRpYyBoYXMgYW4gZXh0ZXJuYWwgbGFiZWxcbiAqXG4gKiBAcGFyYW0ge0JvYXJkRWxlbWVudH0gc2VtYW50aWNcbiAqIEByZXR1cm4ge0Jvb2xlYW59IHRydWUgaWYgaGFzIGxhYmVsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0xhYmVsRXh0ZXJuYWwoc2VtYW50aWMpIHtcbiAgcmV0dXJuIGlzKHNlbWFudGljLCAncG9zdGl0Okdyb3VwJyk7XG59XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiBlbGVtZW50IGhhcyBhbiBleHRlcm5hbCBsYWJlbFxuICpcbiAqIEBwYXJhbSB7ZGpzLm1vZGVsLnNoYXBlfSBlbGVtZW50XG4gKiBAcmV0dXJuIHtCb29sZWFufSB0cnVlIGlmIGhhcyBsYWJlbFxuICovXG5leHBvcnQgZnVuY3Rpb24gaGFzRXh0ZXJuYWxMYWJlbChlbGVtZW50KSB7XG4gIHJldHVybiBpc0xhYmVsKGVsZW1lbnQubGFiZWwpO1xufVxuXG5cbi8qKlxuICogR2V0IHRoZSBtaWRkbGUgb2YgYSBudW1iZXIgb2Ygd2F5cG9pbnRzXG4gKlxuICogQHBhcmFtICB7QXJyYXk8UG9pbnQ+fSB3YXlwb2ludHNcbiAqIEByZXR1cm4ge1BvaW50fSB0aGUgbWlkIHBvaW50XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRXYXlwb2ludHNNaWQod2F5cG9pbnRzKSB7XG5cbiAgdmFyIG1pZCA9IHdheXBvaW50cy5sZW5ndGggLyAyIC0gMTtcblxuICB2YXIgZmlyc3QgPSB3YXlwb2ludHNbTWF0aC5mbG9vcihtaWQpXTtcbiAgdmFyIHNlY29uZCA9IHdheXBvaW50c1tNYXRoLmNlaWwobWlkICsgMC4wMSldO1xuXG4gIHJldHVybiB7XG4gICAgeDogZmlyc3QueCArIChzZWNvbmQueCAtIGZpcnN0LngpIC8gMixcbiAgICB5OiBmaXJzdC55ICsgKHNlY29uZC55IC0gZmlyc3QueSkgLyAyXG4gIH07XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEV4dGVybmFsTGFiZWxNaWQoZWxlbWVudCkge1xuXG4gIGlmIChpcyhlbGVtZW50LCAncG9zdGl0Okdyb3VwJykpIHtcbiAgICByZXR1cm4ge1xuICAgICAgeDogZWxlbWVudC54ICsgZWxlbWVudC53aWR0aCAvIDIsXG4gICAgICB5OiBlbGVtZW50LnkgKyBERUZBVUxUX0xBQkVMX1NJWkUuaGVpZ2h0IC8gMlxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHg6IGVsZW1lbnQueCArIGVsZW1lbnQud2lkdGggLyAyLFxuICAgICAgeTogZWxlbWVudC55ICsgZWxlbWVudC5oZWlnaHQgKyBERUZBVUxUX0xBQkVMX1NJWkUuaGVpZ2h0IC8gMlxuICAgIH07XG4gIH1cbn1cblxuXG4vKipcbiAqIFJldHVybnMgdGhlIGJvdW5kcyBvZiBhbiBlbGVtZW50cyBsYWJlbCwgcGFyc2VkIGZyb20gdGhlIGVsZW1lbnRzIERJIG9yXG4gKiBnZW5lcmF0ZWQgZnJvbSBpdHMgYm91bmRzLlxuICpcbiAqIEBwYXJhbSB7Qm9hcmRFbGVtZW50fSBzZW1hbnRpY1xuICogQHBhcmFtIHtkanMubW9kZWwuQmFzZX0gZWxlbWVudFxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RXh0ZXJuYWxMYWJlbEJvdW5kcyhzZW1hbnRpYywgZWxlbWVudCkge1xuXG4gIHZhciBtaWQsXG4gICAgICBzaXplLFxuICAgICAgYm91bmRzLFxuICAgICAgZGkgPSBzZW1hbnRpYy5kaSxcbiAgICAgIGxhYmVsID0gZGkubGFiZWw7XG5cbiAgaWYgKGxhYmVsICYmIGxhYmVsLmJvdW5kcykge1xuICAgIGJvdW5kcyA9IGxhYmVsLmJvdW5kcztcblxuICAgIHNpemUgPSB7XG4gICAgICB3aWR0aDogTWF0aC5tYXgoREVGQVVMVF9MQUJFTF9TSVpFLndpZHRoLCBib3VuZHMud2lkdGgpLFxuICAgICAgaGVpZ2h0OiBib3VuZHMuaGVpZ2h0XG4gICAgfTtcblxuICAgIG1pZCA9IHtcbiAgICAgIHg6IGJvdW5kcy54ICsgYm91bmRzLndpZHRoIC8gMixcbiAgICAgIHk6IGJvdW5kcy55ICsgYm91bmRzLmhlaWdodCAvIDJcbiAgICB9O1xuICB9IGVsc2Uge1xuXG4gICAgbWlkID0gZ2V0RXh0ZXJuYWxMYWJlbE1pZChlbGVtZW50KTtcblxuICAgIHNpemUgPSBERUZBVUxUX0xBQkVMX1NJWkU7XG4gIH1cblxuICByZXR1cm4gYXNzaWduKHtcbiAgICB4OiBtaWQueCAtIHNpemUud2lkdGggLyAyLFxuICAgIHk6IG1pZC55IC0gc2l6ZS5oZWlnaHQgLyAyXG4gIH0sIHNpemUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNMYWJlbChlbGVtZW50KSB7XG4gIHJldHVybiBlbGVtZW50ICYmICEhZWxlbWVudC5sYWJlbFRhcmdldDtcbn1cbiIsImltcG9ydCB7XG4gIGFzc2lnblxufSBmcm9tICdtaW4tZGFzaCc7XG5cbmltcG9ydCB7IGlzIH0gZnJvbSAnLi4vdXRpbC9Nb2RlbFV0aWwnO1xuXG5pbXBvcnQge1xuICBpc0xhYmVsRXh0ZXJuYWwsXG4gIGdldEV4dGVybmFsTGFiZWxCb3VuZHNcbn0gZnJvbSAnLi4vdXRpbC9MYWJlbFV0aWwnO1xuXG5pbXBvcnQge1xuICBnZXRMYWJlbFxufSBmcm9tICcuLi9mZWF0dXJlcy9sYWJlbC1lZGl0aW5nL0xhYmVsVXRpbCc7XG5cbmltcG9ydCB7XG4gIGVsZW1lbnRUb1N0cmluZ1xufSBmcm9tICcuL1V0aWwnO1xuXG5cbmZ1bmN0aW9uIGVsZW1lbnREYXRhKHNlbWFudGljLCBhdHRycykge1xuICByZXR1cm4gYXNzaWduKHtcbiAgICBpZDogc2VtYW50aWMuaWQsXG4gICAgdHlwZTogc2VtYW50aWMuJHR5cGUsXG4gICAgYnVzaW5lc3NPYmplY3Q6IHNlbWFudGljXG4gIH0sIGF0dHJzKTtcbn1cblxuZnVuY3Rpb24gbm90WWV0RHJhd24odHJhbnNsYXRlLCBzZW1hbnRpYywgcmVmU2VtYW50aWMsIHByb3BlcnR5KSB7XG4gIHJldHVybiBuZXcgRXJyb3IodHJhbnNsYXRlKCdlbGVtZW50IHtlbGVtZW50fSByZWZlcmVuY2VkIGJ5IHtyZWZlcmVuY2VkfSN7cHJvcGVydHl9IG5vdCB5ZXQgZHJhd24nLCB7XG4gICAgZWxlbWVudDogZWxlbWVudFRvU3RyaW5nKHJlZlNlbWFudGljKSxcbiAgICByZWZlcmVuY2VkOiBlbGVtZW50VG9TdHJpbmcoc2VtYW50aWMpLFxuICAgIHByb3BlcnR5OiBwcm9wZXJ0eVxuICB9KSk7XG59XG5cblxuLyoqXG4gKiBBbiBpbXBvcnRlciB0aGF0IGFkZHMgcG9zdGl0IGVsZW1lbnRzIHRvIHRoZSBjYW52YXNcbiAqXG4gKiBAcGFyYW0ge0V2ZW50QnVzfSBldmVudEJ1c1xuICogQHBhcmFtIHtDYW52YXN9IGNhbnZhc1xuICogQHBhcmFtIHtFbGVtZW50RmFjdG9yeX0gZWxlbWVudEZhY3RvcnlcbiAqIEBwYXJhbSB7RWxlbWVudFJlZ2lzdHJ5fSBlbGVtZW50UmVnaXN0cnlcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHRyYW5zbGF0ZVxuICogQHBhcmFtIHtUZXh0UmVuZGVyZXJ9IHRleHRSZW5kZXJlclxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBQb3N0aXRJbXBvcnRlcihcbiAgICBldmVudEJ1cywgY2FudmFzLCBlbGVtZW50RmFjdG9yeSxcbiAgICBlbGVtZW50UmVnaXN0cnksIHRyYW5zbGF0ZSwgdGV4dFJlbmRlcmVyKSB7XG5cbiAgdGhpcy5fZXZlbnRCdXMgPSBldmVudEJ1cztcbiAgdGhpcy5fY2FudmFzID0gY2FudmFzO1xuICB0aGlzLl9lbGVtZW50RmFjdG9yeSA9IGVsZW1lbnRGYWN0b3J5O1xuICB0aGlzLl9lbGVtZW50UmVnaXN0cnkgPSBlbGVtZW50UmVnaXN0cnk7XG4gIHRoaXMuX3RyYW5zbGF0ZSA9IHRyYW5zbGF0ZTtcbiAgdGhpcy5fdGV4dFJlbmRlcmVyID0gdGV4dFJlbmRlcmVyO1xufVxuXG5Qb3N0aXRJbXBvcnRlci4kaW5qZWN0ID0gW1xuICAnZXZlbnRCdXMnLFxuICAnY2FudmFzJyxcbiAgJ2VsZW1lbnRGYWN0b3J5JyxcbiAgJ2VsZW1lbnRSZWdpc3RyeScsXG4gICd0cmFuc2xhdGUnLFxuICAndGV4dFJlbmRlcmVyJ1xuXTtcblxuXG4vKipcbiAqIEFkZCBwb3N0aXQgZWxlbWVudCAoc2VtYW50aWMpIHRvIHRoZSBjYW52YXMgb250byB0aGVcbiAqIHNwZWNpZmllZCBwYXJlbnQgc2hhcGUuXG4gKi9cblBvc3RpdEltcG9ydGVyLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbihzZW1hbnRpYywgcGFyZW50RWxlbWVudCkge1xuXG4gIHZhciBkaSA9IHNlbWFudGljLmRpLFxuICAgICAgZWxlbWVudCxcbiAgICAgIHRyYW5zbGF0ZSA9IHRoaXMuX3RyYW5zbGF0ZSxcbiAgICAgIGhpZGRlbjtcblxuICB2YXIgcGFyZW50SW5kZXg7XG5cbiAgLy8gUk9PVCBFTEVNRU5UXG4gIC8vIGhhbmRsZSB0aGUgc3BlY2lhbCBjYXNlIHRoYXQgd2UgZGVhbCB3aXRoIGFcbiAgLy8gaW52aXNpYmxlIHJvb3QgZWxlbWVudFxuICBpZiAoaXMoZGksICdwb3N0aXREaTpQb3N0aXRQbGFuZScpKSB7XG5cbiAgICAvLyBhZGQgYSB2aXJ0dWFsIGVsZW1lbnQgKG5vdCBiZWluZyBkcmF3bilcbiAgICBlbGVtZW50ID0gdGhpcy5fZWxlbWVudEZhY3RvcnkuY3JlYXRlUm9vdChlbGVtZW50RGF0YShzZW1hbnRpYykpO1xuXG4gICAgdGhpcy5fY2FudmFzLnNldFJvb3RFbGVtZW50KGVsZW1lbnQpO1xuICB9XG5cbiAgLy8gU0hBUEVcbiAgZWxzZSBpZiAoaXMoZGksICdwb3N0aXREaTpQb3N0aXRTaGFwZScpKSB7XG5cbiAgICB2YXIgaXNGcmFtZSA9IGlzRnJhbWVFbGVtZW50KHNlbWFudGljKTtcblxuICAgIGhpZGRlbiA9IHBhcmVudEVsZW1lbnQgJiYgKHBhcmVudEVsZW1lbnQuaGlkZGVuIHx8IHBhcmVudEVsZW1lbnQuY29sbGFwc2VkKTtcblxuICAgIHZhciBib3VuZHMgPSBzZW1hbnRpYy5kaS5ib3VuZHM7XG5cbiAgICBlbGVtZW50ID0gdGhpcy5fZWxlbWVudEZhY3RvcnkuY3JlYXRlU2hhcGUoZWxlbWVudERhdGEoc2VtYW50aWMsIHtcbiAgICAgIGhpZGRlbjogaGlkZGVuLFxuICAgICAgeDogTWF0aC5yb3VuZChib3VuZHMueCksXG4gICAgICB5OiBNYXRoLnJvdW5kKGJvdW5kcy55KSxcbiAgICAgIHdpZHRoOiBNYXRoLnJvdW5kKGJvdW5kcy53aWR0aCksXG4gICAgICBoZWlnaHQ6IE1hdGgucm91bmQoYm91bmRzLmhlaWdodCksXG4gICAgICBpc0ZyYW1lOiBpc0ZyYW1lXG4gICAgfSkpO1xuXG4gICAgdGhpcy5fY2FudmFzLmFkZFNoYXBlKGVsZW1lbnQsIHBhcmVudEVsZW1lbnQsIHBhcmVudEluZGV4KTtcbiAgfVxuXG4gIGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcih0cmFuc2xhdGUoJ3Vua25vd24gZGkge2RpfSBmb3IgZWxlbWVudCB7c2VtYW50aWN9Jywge1xuICAgICAgZGk6IGVsZW1lbnRUb1N0cmluZyhkaSksXG4gICAgICBzZW1hbnRpYzogZWxlbWVudFRvU3RyaW5nKHNlbWFudGljKVxuICAgIH0pKTtcbiAgfVxuXG4gIC8vIChvcHRpb25hbCkgTEFCRUxcbiAgaWYgKGlzTGFiZWxFeHRlcm5hbChzZW1hbnRpYykgJiYgZ2V0TGFiZWwoZWxlbWVudCkpIHtcbiAgICB0aGlzLmFkZExhYmVsKHNlbWFudGljLCBlbGVtZW50KTtcbiAgfVxuXG5cbiAgdGhpcy5fZXZlbnRCdXMuZmlyZSgnYm9hcmRFbGVtZW50LmFkZGVkJywgeyBlbGVtZW50OiBlbGVtZW50IH0pO1xuXG4gIHJldHVybiBlbGVtZW50O1xufTtcblxuXG4vKipcbiAqIEF0dGFjaCB0aGUgYm91bmRhcnkgZWxlbWVudCB0byB0aGUgZ2l2ZW4gaG9zdFxuICpcbiAqIEBwYXJhbSB7TW9kZGxlRWxlbWVudH0gYm91bmRhcnlTZW1hbnRpY1xuICogQHBhcmFtIHtkanMubW9kZWwuQmFzZX0gYm91bmRhcnlFbGVtZW50XG4gKi9cblBvc3RpdEltcG9ydGVyLnByb3RvdHlwZS5fYXR0YWNoQm91bmRhcnkgPSBmdW5jdGlvbihib3VuZGFyeVNlbWFudGljLCBib3VuZGFyeUVsZW1lbnQpIHtcbiAgdmFyIHRyYW5zbGF0ZSA9IHRoaXMuX3RyYW5zbGF0ZTtcbiAgdmFyIGhvc3RTZW1hbnRpYyA9IGJvdW5kYXJ5U2VtYW50aWMuYXR0YWNoZWRUb1JlZjtcblxuICBpZiAoIWhvc3RTZW1hbnRpYykge1xuICAgIHRocm93IG5ldyBFcnJvcih0cmFuc2xhdGUoJ21pc3Npbmcge3NlbWFudGljfSNhdHRhY2hlZFRvUmVmJywge1xuICAgICAgc2VtYW50aWM6IGVsZW1lbnRUb1N0cmluZyhib3VuZGFyeVNlbWFudGljKVxuICAgIH0pKTtcbiAgfVxuXG4gIHZhciBob3N0ID0gdGhpcy5fZWxlbWVudFJlZ2lzdHJ5LmdldChob3N0U2VtYW50aWMuaWQpLFxuICAgICAgYXR0YWNoZXJzID0gaG9zdCAmJiBob3N0LmF0dGFjaGVycztcblxuICBpZiAoIWhvc3QpIHtcbiAgICB0aHJvdyBub3RZZXREcmF3bih0cmFuc2xhdGUsIGJvdW5kYXJ5U2VtYW50aWMsIGhvc3RTZW1hbnRpYywgJ2F0dGFjaGVkVG9SZWYnKTtcbiAgfVxuXG4gIC8vIHdpcmUgZWxlbWVudC5ob3N0IDw+IGhvc3QuYXR0YWNoZXJzXG4gIGJvdW5kYXJ5RWxlbWVudC5ob3N0ID0gaG9zdDtcblxuICBpZiAoIWF0dGFjaGVycykge1xuICAgIGhvc3QuYXR0YWNoZXJzID0gYXR0YWNoZXJzID0gW107XG4gIH1cblxuICBpZiAoYXR0YWNoZXJzLmluZGV4T2YoYm91bmRhcnlFbGVtZW50KSA9PT0gLTEpIHtcbiAgICBhdHRhY2hlcnMucHVzaChib3VuZGFyeUVsZW1lbnQpO1xuICB9XG59O1xuXG5cbi8qKlxuICogYWRkIGxhYmVsIGZvciBhbiBlbGVtZW50XG4gKi9cblBvc3RpdEltcG9ydGVyLnByb3RvdHlwZS5hZGRMYWJlbCA9IGZ1bmN0aW9uKHNlbWFudGljLCBlbGVtZW50KSB7XG4gIHZhciBib3VuZHMsXG4gICAgICB0ZXh0LFxuICAgICAgbGFiZWw7XG5cbiAgYm91bmRzID0gZ2V0RXh0ZXJuYWxMYWJlbEJvdW5kcyhzZW1hbnRpYywgZWxlbWVudCk7XG5cbiAgdGV4dCA9IGdldExhYmVsKGVsZW1lbnQpO1xuXG4gIGlmICh0ZXh0KSB7XG5cbiAgICAvLyBnZXQgY29ycmVjdGVkIGJvdW5kcyBmcm9tIGFjdHVhbCBsYXlvdXRlZCB0ZXh0XG4gICAgYm91bmRzID0gdGhpcy5fdGV4dFJlbmRlcmVyLmdldEV4dGVybmFsTGFiZWxCb3VuZHMoYm91bmRzLCB0ZXh0KTtcbiAgfVxuXG4gIGxhYmVsID0gdGhpcy5fZWxlbWVudEZhY3RvcnkuY3JlYXRlTGFiZWwoZWxlbWVudERhdGEoc2VtYW50aWMsIHtcbiAgICBpZDogc2VtYW50aWMuaWQgKyAnX2xhYmVsJyxcbiAgICBsYWJlbFRhcmdldDogZWxlbWVudCxcbiAgICB0eXBlOiAnbGFiZWwnLFxuICAgIGhpZGRlbjogZWxlbWVudC5oaWRkZW4gfHwgIWdldExhYmVsKGVsZW1lbnQpLFxuICAgIHg6IE1hdGgucm91bmQoYm91bmRzLngpLFxuICAgIHk6IE1hdGgucm91bmQoYm91bmRzLnkpLFxuICAgIHdpZHRoOiBNYXRoLnJvdW5kKGJvdW5kcy53aWR0aCksXG4gICAgaGVpZ2h0OiBNYXRoLnJvdW5kKGJvdW5kcy5oZWlnaHQpXG4gIH0pKTtcblxuICByZXR1cm4gdGhpcy5fY2FudmFzLmFkZFNoYXBlKGxhYmVsLCBlbGVtZW50LnBhcmVudCk7XG59O1xuXG4vKipcbiAqIFJldHVybiB0aGUgZHJhd24gY29ubmVjdGlvbiBlbmQgYmFzZWQgb24gdGhlIGdpdmVuIHNpZGUuXG4gKlxuICogQHRocm93cyB7RXJyb3J9IGlmIHRoZSBlbmQgaXMgbm90IHlldCBkcmF3blxuICovXG5Qb3N0aXRJbXBvcnRlci5wcm90b3R5cGUuX2dldEVuZCA9IGZ1bmN0aW9uKHNlbWFudGljLCBzaWRlKSB7XG5cbiAgdmFyIGVsZW1lbnQsXG4gICAgICByZWZTZW1hbnRpYyxcbiAgICAgIHRyYW5zbGF0ZSA9IHRoaXMuX3RyYW5zbGF0ZTtcblxuICByZWZTZW1hbnRpYyA9IHNlbWFudGljW3NpZGUgKyAnUmVmJ107XG5cblxuICBlbGVtZW50ID0gcmVmU2VtYW50aWMgJiYgdGhpcy5fZ2V0RWxlbWVudChyZWZTZW1hbnRpYyk7XG5cbiAgaWYgKGVsZW1lbnQpIHtcbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfVxuXG4gIGlmIChyZWZTZW1hbnRpYykge1xuICAgIHRocm93IG5vdFlldERyYXduKHRyYW5zbGF0ZSwgc2VtYW50aWMsIHJlZlNlbWFudGljLCBzaWRlICsgJ1JlZicpO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcih0cmFuc2xhdGUoJ3tzZW1hbnRpY30je3NpZGV9IFJlZiBub3Qgc3BlY2lmaWVkJywge1xuICAgICAgc2VtYW50aWM6IGVsZW1lbnRUb1N0cmluZyhzZW1hbnRpYyksXG4gICAgICBzaWRlOiBzaWRlXG4gICAgfSkpO1xuICB9XG59O1xuXG5Qb3N0aXRJbXBvcnRlci5wcm90b3R5cGUuX2dldFNvdXJjZSA9IGZ1bmN0aW9uKHNlbWFudGljKSB7XG4gIHJldHVybiB0aGlzLl9nZXRFbmQoc2VtYW50aWMsICdzb3VyY2UnKTtcbn07XG5cblBvc3RpdEltcG9ydGVyLnByb3RvdHlwZS5fZ2V0VGFyZ2V0ID0gZnVuY3Rpb24oc2VtYW50aWMpIHtcbiAgcmV0dXJuIHRoaXMuX2dldEVuZChzZW1hbnRpYywgJ3RhcmdldCcpO1xufTtcblxuXG5Qb3N0aXRJbXBvcnRlci5wcm90b3R5cGUuX2dldEVsZW1lbnQgPSBmdW5jdGlvbihzZW1hbnRpYykge1xuICByZXR1cm4gdGhpcy5fZWxlbWVudFJlZ2lzdHJ5LmdldChzZW1hbnRpYy5pZCk7XG59O1xuXG5cbi8vIGhlbHBlcnMgLy8vLy8vLy8vL1xuXG5mdW5jdGlvbiBpc0ZyYW1lRWxlbWVudChzZW1hbnRpYykge1xuICByZXR1cm4gaXMoc2VtYW50aWMsICdwb3N0aXQ6R3JvdXAnKTtcbn0iLCJpbXBvcnQgdHJhbnNsYXRlIGZyb20gJ2RpYWdyYW0tanMvbGliL2kxOG4vdHJhbnNsYXRlJztcblxuaW1wb3J0IFBvc3RpdEltcG9ydGVyIGZyb20gJy4vUG9zdGl0SW1wb3J0ZXInO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9fZGVwZW5kc19fOiBbXG4gICAgdHJhbnNsYXRlXG4gIF0sXG4gIHBvc3RpdEltcG9ydGVyOiBbICd0eXBlJywgUG9zdGl0SW1wb3J0ZXIgXVxufTsiLCJpbXBvcnQgRHJhd01vZHVsZSBmcm9tICcuLi9kcmF3JztcbmltcG9ydCBJbXBvcnRNb2R1bGUgZnJvbSAnLi4vaW1wb3J0JztcblxuZXhwb3J0IGRlZmF1bHQge1xuICBfX2RlcGVuZHNfXzogW1xuICAgIERyYXdNb2R1bGUsXG4gICAgSW1wb3J0TW9kdWxlXG4gIF1cbn07IiwiZnVuY3Rpb24gX19zdG9wUHJvcGFnYXRpb24oZXZlbnQpIHtcbiAgaWYgKCFldmVudCB8fCB0eXBlb2YgZXZlbnQuc3RvcFByb3BhZ2F0aW9uICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGdldE9yaWdpbmFsKGV2ZW50KSB7XG4gIHJldHVybiBldmVudC5vcmlnaW5hbEV2ZW50IHx8IGV2ZW50LnNyY0V2ZW50O1xufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBzdG9wUHJvcGFnYXRpb24oZXZlbnQsIGltbWVkaWF0ZSkge1xuICBfX3N0b3BQcm9wYWdhdGlvbihldmVudCwgaW1tZWRpYXRlKTtcbiAgX19zdG9wUHJvcGFnYXRpb24oZ2V0T3JpZ2luYWwoZXZlbnQpLCBpbW1lZGlhdGUpO1xufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiB0b1BvaW50KGV2ZW50KSB7XG5cbiAgaWYgKGV2ZW50LnBvaW50ZXJzICYmIGV2ZW50LnBvaW50ZXJzLmxlbmd0aCkge1xuICAgIGV2ZW50ID0gZXZlbnQucG9pbnRlcnNbMF07XG4gIH1cblxuICBpZiAoZXZlbnQudG91Y2hlcyAmJiBldmVudC50b3VjaGVzLmxlbmd0aCkge1xuICAgIGV2ZW50ID0gZXZlbnQudG91Y2hlc1swXTtcbiAgfVxuXG4gIHJldHVybiBldmVudCA/IHtcbiAgICB4OiBldmVudC5jbGllbnRYLFxuICAgIHk6IGV2ZW50LmNsaWVudFlcbiAgfSA6IG51bGw7XG59IiwiaW1wb3J0IHtcbiAgZ2V0T3JpZ2luYWwgYXMgZ2V0T3JpZ2luYWxFdmVudFxufSBmcm9tICcuL0V2ZW50JztcblxuaW1wb3J0IHtcbiAgaXNNYWNcbn0gZnJvbSAnLi9QbGF0Zm9ybSc7XG5cbmV4cG9ydCB7XG4gIGlzTWFjXG59IGZyb20gJy4vUGxhdGZvcm0nO1xuXG5leHBvcnQgZnVuY3Rpb24gaXNCdXR0b24oZXZlbnQsIGJ1dHRvbikge1xuICByZXR1cm4gKGdldE9yaWdpbmFsRXZlbnQoZXZlbnQpIHx8IGV2ZW50KS5idXR0b24gPT09IGJ1dHRvbjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzUHJpbWFyeUJ1dHRvbihldmVudCkge1xuXG4gIC8vIGJ1dHRvbiA9PT0gMCAtPiBsZWZ0IMOha2EgcHJpbWFyeSBtb3VzZSBidXR0b25cbiAgcmV0dXJuIGlzQnV0dG9uKGV2ZW50LCAwKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzQXV4aWxpYXJ5QnV0dG9uKGV2ZW50KSB7XG5cbiAgLy8gYnV0dG9uID09PSAxIC0+IGF1eGlsaWFyeSDDoWthIHdoZWVsIGJ1dHRvblxuICByZXR1cm4gaXNCdXR0b24oZXZlbnQsIDEpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNTZWNvbmRhcnlCdXR0b24oZXZlbnQpIHtcblxuICAvLyBidXR0b24gPT09IDIgLT4gcmlnaHQgw6FrYSBzZWNvbmRhcnkgYnV0dG9uXG4gIHJldHVybiBpc0J1dHRvbihldmVudCwgMik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoYXNQcmltYXJ5TW9kaWZpZXIoZXZlbnQpIHtcbiAgdmFyIG9yaWdpbmFsRXZlbnQgPSBnZXRPcmlnaW5hbEV2ZW50KGV2ZW50KSB8fCBldmVudDtcblxuICBpZiAoIWlzUHJpbWFyeUJ1dHRvbihldmVudCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvLyBVc2UgY21kIGFzIHByaW1hcnkgbW9kaWZpZXIga2V5IGZvciBtYWMgT1NcbiAgaWYgKGlzTWFjKCkpIHtcbiAgICByZXR1cm4gb3JpZ2luYWxFdmVudC5tZXRhS2V5O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBvcmlnaW5hbEV2ZW50LmN0cmxLZXk7XG4gIH1cbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gaGFzU2Vjb25kYXJ5TW9kaWZpZXIoZXZlbnQpIHtcbiAgdmFyIG9yaWdpbmFsRXZlbnQgPSBnZXRPcmlnaW5hbEV2ZW50KGV2ZW50KSB8fCBldmVudDtcblxuICByZXR1cm4gaXNQcmltYXJ5QnV0dG9uKGV2ZW50KSAmJiBvcmlnaW5hbEV2ZW50LnNoaWZ0S2V5O1xufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIGlzTWFjKCkge1xuICByZXR1cm4gKC9tYWMvaSkudGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pO1xufSIsImltcG9ydCB7XG4gIGZvckVhY2gsXG4gIGFzc2lnblxufSBmcm9tICdtaW4tZGFzaCc7XG5cbmltcG9ydCB7XG4gIGRlbGVnYXRlIGFzIGRvbURlbGVnYXRlLFxuICBxdWVyeSBhcyBkb21RdWVyeSxcbiAgcXVlcnlBbGwgYXMgZG9tUXVlcnlBbGxcbn0gZnJvbSAnbWluLWRvbSc7XG5cbmltcG9ydCB7XG4gIGlzUHJpbWFyeUJ1dHRvbixcbiAgaXNBdXhpbGlhcnlCdXR0b25cbn0gZnJvbSAnLi4vLi4vdXRpbC9Nb3VzZSc7XG5cbmltcG9ydCB7XG4gIGFwcGVuZCBhcyBzdmdBcHBlbmQsXG4gIGF0dHIgYXMgc3ZnQXR0cixcbiAgY3JlYXRlIGFzIHN2Z0NyZWF0ZSxcbiAgcmVtb3ZlIGFzIHN2Z1JlbW92ZVxufSBmcm9tICd0aW55LXN2Zyc7XG5cbmltcG9ydCB7XG4gIGNyZWF0ZUxpbmUsXG4gIHVwZGF0ZUxpbmVcbn0gZnJvbSAnLi4vLi4vdXRpbC9SZW5kZXJVdGlsJztcblxuZnVuY3Rpb24gYWxsb3dBbGwoZXZlbnQpIHsgcmV0dXJuIHRydWU7IH1cblxuZnVuY3Rpb24gYWxsb3dQcmltYXJ5QW5kQXV4aWxpYXJ5KGV2ZW50KSB7XG4gIHJldHVybiBpc1ByaW1hcnlCdXR0b24oZXZlbnQpIHx8IGlzQXV4aWxpYXJ5QnV0dG9uKGV2ZW50KTtcbn1cblxudmFyIExPV19QUklPUklUWSA9IDUwMDtcblxuXG4vKipcbiAqIEEgcGx1Z2luIHRoYXQgcHJvdmlkZXMgaW50ZXJhY3Rpb24gZXZlbnRzIGZvciBkaWFncmFtIGVsZW1lbnRzLlxuICpcbiAqIEl0IGVtaXRzIHRoZSBmb2xsb3dpbmcgZXZlbnRzOlxuICpcbiAqICAgKiBlbGVtZW50LmNsaWNrXG4gKiAgICogZWxlbWVudC5jb250ZXh0bWVudVxuICogICAqIGVsZW1lbnQuZGJsY2xpY2tcbiAqICAgKiBlbGVtZW50LmhvdmVyXG4gKiAgICogZWxlbWVudC5tb3VzZWRvd25cbiAqICAgKiBlbGVtZW50Lm1vdXNlbW92ZVxuICogICAqIGVsZW1lbnQubW91c2V1cFxuICogICAqIGVsZW1lbnQub3V0XG4gKlxuICogRWFjaCBldmVudCBpcyBhIHR1cGxlIHsgZWxlbWVudCwgZ2Z4LCBvcmlnaW5hbEV2ZW50IH0uXG4gKlxuICogQ2FuY2VsaW5nIHRoZSBldmVudCB2aWEgRXZlbnQjcHJldmVudERlZmF1bHQoKVxuICogcHJldmVudHMgdGhlIG9yaWdpbmFsIERPTSBvcGVyYXRpb24uXG4gKlxuICogQHBhcmFtIHtFdmVudEJ1c30gZXZlbnRCdXNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gSW50ZXJhY3Rpb25FdmVudHMoZXZlbnRCdXMsIGVsZW1lbnRSZWdpc3RyeSwgc3R5bGVzKSB7XG5cbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIC8qKlxuICAgKiBGaXJlIGFuIGludGVyYWN0aW9uIGV2ZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBsb2NhbCBldmVudCBuYW1lLCBlLmcuIGVsZW1lbnQuY2xpY2suXG4gICAqIEBwYXJhbSB7RE9NRXZlbnR9IGV2ZW50IG5hdGl2ZSBldmVudFxuICAgKiBAcGFyYW0ge2Rqcy5tb2RlbC5CYXNlfSBbZWxlbWVudF0gdGhlIGRpYWdyYW0gZWxlbWVudCB0byBlbWl0IHRoZSBldmVudCBvbjtcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRzIHRvIHRoZSBldmVudCB0YXJnZXRcbiAgICovXG4gIGZ1bmN0aW9uIGZpcmUodHlwZSwgZXZlbnQsIGVsZW1lbnQpIHtcblxuICAgIGlmIChpc0lnbm9yZWQodHlwZSwgZXZlbnQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHRhcmdldCwgZ2Z4LCByZXR1cm5WYWx1ZTtcblxuICAgIGlmICghZWxlbWVudCkge1xuICAgICAgdGFyZ2V0ID0gZXZlbnQuZGVsZWdhdGVUYXJnZXQgfHwgZXZlbnQudGFyZ2V0O1xuXG4gICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgIGdmeCA9IHRhcmdldDtcbiAgICAgICAgZWxlbWVudCA9IGVsZW1lbnRSZWdpc3RyeS5nZXQoZ2Z4KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZ2Z4ID0gZWxlbWVudFJlZ2lzdHJ5LmdldEdyYXBoaWNzKGVsZW1lbnQpO1xuICAgIH1cblxuICAgIGlmICghZ2Z4IHx8ICFlbGVtZW50KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcmV0dXJuVmFsdWUgPSBldmVudEJ1cy5maXJlKHR5cGUsIHtcbiAgICAgIGVsZW1lbnQ6IGVsZW1lbnQsXG4gICAgICBnZng6IGdmeCxcbiAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2ZW50XG4gICAgfSk7XG5cbiAgICBpZiAocmV0dXJuVmFsdWUgPT09IGZhbHNlKSB7XG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuICB9XG5cbiAgLy8gVE9ETyhuaWtrdSk6IGRvY3VtZW50IHRoaXNcbiAgdmFyIGhhbmRsZXJzID0ge307XG5cbiAgZnVuY3Rpb24gbW91c2VIYW5kbGVyKGxvY2FsRXZlbnROYW1lKSB7XG4gICAgcmV0dXJuIGhhbmRsZXJzW2xvY2FsRXZlbnROYW1lXTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzSWdub3JlZChsb2NhbEV2ZW50TmFtZSwgZXZlbnQpIHtcblxuICAgIHZhciBmaWx0ZXIgPSBpZ25vcmVkRmlsdGVyc1tsb2NhbEV2ZW50TmFtZV0gfHwgaXNQcmltYXJ5QnV0dG9uO1xuXG4gICAgLy8gb25seSByZWFjdCBvbiBsZWZ0IG1vdXNlIGJ1dHRvbiBpbnRlcmFjdGlvbnNcbiAgICAvLyBleGNlcHQgZm9yIGludGVyYWN0aW9uIGV2ZW50cyB0aGF0IGFyZSBlbmFibGVkXG4gICAgLy8gZm9yIHNlY3VuZGFyeSBtb3VzZSBidXR0b25cbiAgICByZXR1cm4gIWZpbHRlcihldmVudCk7XG4gIH1cblxuICB2YXIgYmluZGluZ3MgPSB7XG4gICAgY2xpY2s6ICdlbGVtZW50LmNsaWNrJyxcbiAgICBjb250ZXh0bWVudTogJ2VsZW1lbnQuY29udGV4dG1lbnUnLFxuICAgIGRibGNsaWNrOiAnZWxlbWVudC5kYmxjbGljaycsXG4gICAgbW91c2Vkb3duOiAnZWxlbWVudC5tb3VzZWRvd24nLFxuICAgIG1vdXNlbW92ZTogJ2VsZW1lbnQubW91c2Vtb3ZlJyxcbiAgICBtb3VzZW92ZXI6ICdlbGVtZW50LmhvdmVyJyxcbiAgICBtb3VzZW91dDogJ2VsZW1lbnQub3V0JyxcbiAgICBtb3VzZXVwOiAnZWxlbWVudC5tb3VzZXVwJyxcbiAgfTtcblxuICB2YXIgaWdub3JlZEZpbHRlcnMgPSB7XG4gICAgJ2VsZW1lbnQuY29udGV4dG1lbnUnOiBhbGxvd0FsbCxcbiAgICAnZWxlbWVudC5tb3VzZWRvd24nOiBhbGxvd1ByaW1hcnlBbmRBdXhpbGlhcnksXG4gICAgJ2VsZW1lbnQubW91c2V1cCc6IGFsbG93UHJpbWFyeUFuZEF1eGlsaWFyeSxcbiAgICAnZWxlbWVudC5jbGljayc6IGFsbG93UHJpbWFyeUFuZEF1eGlsaWFyeSxcbiAgICAnZWxlbWVudC5kYmxjbGljayc6IGFsbG93UHJpbWFyeUFuZEF1eGlsaWFyeVxuICB9O1xuXG5cbiAgLy8gbWFudWFsIGV2ZW50IHRyaWdnZXIgLy8vLy8vLy8vL1xuXG4gIC8qKlxuICAgKiBUcmlnZ2VyIGFuIGludGVyYWN0aW9uIGV2ZW50IChiYXNlZCBvbiBhIG5hdGl2ZSBkb20gZXZlbnQpXG4gICAqIG9uIHRoZSB0YXJnZXQgc2hhcGUgb3IgY29ubmVjdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50TmFtZSB0aGUgbmFtZSBvZiB0aGUgdHJpZ2dlcmVkIERPTSBldmVudFxuICAgKiBAcGFyYW0ge01vdXNlRXZlbnR9IGV2ZW50XG4gICAqIEBwYXJhbSB7ZGpzLm1vZGVsLkJhc2V9IHRhcmdldEVsZW1lbnRcbiAgICovXG4gIGZ1bmN0aW9uIHRyaWdnZXJNb3VzZUV2ZW50KGV2ZW50TmFtZSwgZXZlbnQsIHRhcmdldEVsZW1lbnQpIHtcblxuICAgIC8vIGkuZS4gZWxlbWVudC5tb3VzZWRvd24uLi5cbiAgICB2YXIgbG9jYWxFdmVudE5hbWUgPSBiaW5kaW5nc1tldmVudE5hbWVdO1xuXG4gICAgaWYgKCFsb2NhbEV2ZW50TmFtZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCd1bm1hcHBlZCBET00gZXZlbnQgbmFtZSA8JyArIGV2ZW50TmFtZSArICc+Jyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZpcmUobG9jYWxFdmVudE5hbWUsIGV2ZW50LCB0YXJnZXRFbGVtZW50KTtcbiAgfVxuXG5cbiAgdmFyIEVMRU1FTlRfU0VMRUNUT1IgPSAnc3ZnLCAuZGpzLWVsZW1lbnQnO1xuXG4gIC8vIGV2ZW50IGhhbmRsaW5nIC8vLy8vLy9cblxuICBmdW5jdGlvbiByZWdpc3RlckV2ZW50KG5vZGUsIGV2ZW50LCBsb2NhbEV2ZW50LCBpZ25vcmVkRmlsdGVyKSB7XG5cbiAgICB2YXIgaGFuZGxlciA9IGhhbmRsZXJzW2xvY2FsRXZlbnRdID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIGZpcmUobG9jYWxFdmVudCwgZXZlbnQpO1xuICAgIH07XG5cbiAgICBpZiAoaWdub3JlZEZpbHRlcikge1xuICAgICAgaWdub3JlZEZpbHRlcnNbbG9jYWxFdmVudF0gPSBpZ25vcmVkRmlsdGVyO1xuICAgIH1cblxuICAgIGhhbmRsZXIuJGRlbGVnYXRlID0gZG9tRGVsZWdhdGUuYmluZChub2RlLCBFTEVNRU5UX1NFTEVDVE9SLCBldmVudCwgaGFuZGxlcik7XG4gIH1cblxuICBmdW5jdGlvbiB1bnJlZ2lzdGVyRXZlbnQobm9kZSwgZXZlbnQsIGxvY2FsRXZlbnQpIHtcblxuICAgIHZhciBoYW5kbGVyID0gbW91c2VIYW5kbGVyKGxvY2FsRXZlbnQpO1xuXG4gICAgaWYgKCFoYW5kbGVyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZG9tRGVsZWdhdGUudW5iaW5kKG5vZGUsIGV2ZW50LCBoYW5kbGVyLiRkZWxlZ2F0ZSk7XG4gIH1cblxuICBmdW5jdGlvbiByZWdpc3RlckV2ZW50cyhzdmcpIHtcbiAgICBmb3JFYWNoKGJpbmRpbmdzLCBmdW5jdGlvbih2YWwsIGtleSkge1xuICAgICAgcmVnaXN0ZXJFdmVudChzdmcsIGtleSwgdmFsKTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVucmVnaXN0ZXJFdmVudHMoc3ZnKSB7XG4gICAgZm9yRWFjaChiaW5kaW5ncywgZnVuY3Rpb24odmFsLCBrZXkpIHtcbiAgICAgIHVucmVnaXN0ZXJFdmVudChzdmcsIGtleSwgdmFsKTtcbiAgICB9KTtcbiAgfVxuXG4gIGV2ZW50QnVzLm9uKCdjYW52YXMuZGVzdHJveScsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdW5yZWdpc3RlckV2ZW50cyhldmVudC5zdmcpO1xuICB9KTtcblxuICBldmVudEJ1cy5vbignY2FudmFzLmluaXQnLCBmdW5jdGlvbihldmVudCkge1xuICAgIHJlZ2lzdGVyRXZlbnRzKGV2ZW50LnN2Zyk7XG4gIH0pO1xuXG5cbiAgLy8gaGl0IGJveCB1cGRhdGluZyAvLy8vLy8vLy8vLy8vLy8vXG5cbiAgZXZlbnRCdXMub24oWyAnc2hhcGUuYWRkZWQnLCAnY29ubmVjdGlvbi5hZGRlZCcgXSwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgZWxlbWVudCA9IGV2ZW50LmVsZW1lbnQsXG4gICAgICAgIGdmeCA9IGV2ZW50LmdmeDtcblxuICAgIGV2ZW50QnVzLmZpcmUoJ2ludGVyYWN0aW9uRXZlbnRzLmNyZWF0ZUhpdCcsIHsgZWxlbWVudDogZWxlbWVudCwgZ2Z4OiBnZnggfSk7XG4gIH0pO1xuXG4gIC8vIFVwZGF0ZSBkanMtaGl0IG9uIGNoYW5nZS5cbiAgLy8gQSBsb3cgcHJpb3J0aXR5IGlzIG5lY2Vzc2FyeSwgYmVjYXVzZSBkanMtaGl0IG9mIGxhYmVscyBoYXMgdG8gYmUgdXBkYXRlZFxuICAvLyBhZnRlciB0aGUgbGFiZWwgYm91bmRzIGhhdmUgYmVlbiB1cGRhdGVkIGluIHRoZSByZW5kZXJlci5cbiAgZXZlbnRCdXMub24oW1xuICAgICdzaGFwZS5jaGFuZ2VkJyxcbiAgICAnY29ubmVjdGlvbi5jaGFuZ2VkJ1xuICBdLCBMT1dfUFJJT1JJVFksIGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICB2YXIgZWxlbWVudCA9IGV2ZW50LmVsZW1lbnQsXG4gICAgICAgIGdmeCA9IGV2ZW50LmdmeDtcblxuICAgIGV2ZW50QnVzLmZpcmUoJ2ludGVyYWN0aW9uRXZlbnRzLnVwZGF0ZUhpdCcsIHsgZWxlbWVudDogZWxlbWVudCwgZ2Z4OiBnZnggfSk7XG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKCdpbnRlcmFjdGlvbkV2ZW50cy5jcmVhdGVIaXQnLCBMT1dfUFJJT1JJVFksIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIGVsZW1lbnQgPSBldmVudC5lbGVtZW50LFxuICAgICAgICBnZnggPSBldmVudC5nZng7XG5cbiAgICBzZWxmLmNyZWF0ZURlZmF1bHRIaXQoZWxlbWVudCwgZ2Z4KTtcbiAgfSk7XG5cbiAgZXZlbnRCdXMub24oJ2ludGVyYWN0aW9uRXZlbnRzLnVwZGF0ZUhpdCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIGVsZW1lbnQgPSBldmVudC5lbGVtZW50LFxuICAgICAgICBnZnggPSBldmVudC5nZng7XG5cbiAgICBzZWxmLnVwZGF0ZURlZmF1bHRIaXQoZWxlbWVudCwgZ2Z4KTtcbiAgfSk7XG5cblxuICAvLyBoaXQgc3R5bGVzIC8vLy8vLy8vLy8vL1xuXG4gIHZhciBTVFJPS0VfSElUX1NUWUxFID0gY3JlYXRlSGl0U3R5bGUoJ2Rqcy1oaXQgZGpzLWhpdC1zdHJva2UnKTtcblxuICB2YXIgQ0xJQ0tfU1RST0tFX0hJVF9TVFlMRSA9IGNyZWF0ZUhpdFN0eWxlKCdkanMtaGl0IGRqcy1oaXQtY2xpY2stc3Ryb2tlJyk7XG5cbiAgdmFyIEFMTF9ISVRfU1RZTEUgPSBjcmVhdGVIaXRTdHlsZSgnZGpzLWhpdCBkanMtaGl0LWFsbCcpO1xuXG4gIHZhciBISVRfVFlQRVMgPSB7XG4gICAgJ2FsbCc6IEFMTF9ISVRfU1RZTEUsXG4gICAgJ2NsaWNrLXN0cm9rZSc6IENMSUNLX1NUUk9LRV9ISVRfU1RZTEUsXG4gICAgJ3N0cm9rZSc6IFNUUk9LRV9ISVRfU1RZTEVcbiAgfTtcblxuICBmdW5jdGlvbiBjcmVhdGVIaXRTdHlsZShjbGFzc05hbWVzLCBhdHRycykge1xuXG4gICAgYXR0cnMgPSBhc3NpZ24oe1xuICAgICAgc3Ryb2tlOiAnd2hpdGUnLFxuICAgICAgc3Ryb2tlV2lkdGg6IDE1XG4gICAgfSwgYXR0cnMgfHwge30pO1xuXG4gICAgcmV0dXJuIHN0eWxlcy5jbHMoY2xhc3NOYW1lcywgWyAnbm8tZmlsbCcsICduby1ib3JkZXInIF0sIGF0dHJzKTtcbiAgfVxuXG5cbiAgLy8gc3R5bGUgaGVscGVycyAvLy8vLy8vLy8vLy8vLy9cblxuICBmdW5jdGlvbiBhcHBseVN0eWxlKGhpdCwgdHlwZSkge1xuXG4gICAgdmFyIGF0dHJzID0gSElUX1RZUEVTW3R5cGVdO1xuXG4gICAgaWYgKCFhdHRycykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIGhpdCB0eXBlIDwnICsgdHlwZSArICc+Jyk7XG4gICAgfVxuXG4gICAgc3ZnQXR0cihoaXQsIGF0dHJzKTtcblxuICAgIHJldHVybiBoaXQ7XG4gIH1cblxuICBmdW5jdGlvbiBhcHBlbmRIaXQoZ2Z4LCBoaXQpIHtcbiAgICBzdmdBcHBlbmQoZ2Z4LCBoaXQpO1xuICB9XG5cblxuICAvLyBBUElcblxuICAvKipcbiAgICogUmVtb3ZlIGhpbnRzIG9uIHRoZSBnaXZlbiBncmFwaGljcy5cbiAgICpcbiAgICogQHBhcmFtIHtTVkdFbGVtZW50fSBnZnhcbiAgICovXG4gIHRoaXMucmVtb3ZlSGl0cyA9IGZ1bmN0aW9uKGdmeCkge1xuICAgIHZhciBoaXRzID0gZG9tUXVlcnlBbGwoJy5kanMtaGl0JywgZ2Z4KTtcblxuICAgIGZvckVhY2goaGl0cywgc3ZnUmVtb3ZlKTtcbiAgfTtcblxuICAvKipcbiAgICogQ3JlYXRlIGRlZmF1bHQgaGl0IGZvciB0aGUgZ2l2ZW4gZWxlbWVudC5cbiAgICpcbiAgICogQHBhcmFtIHtkanMubW9kZWwuQmFzZX0gZWxlbWVudFxuICAgKiBAcGFyYW0ge1NWR0VsZW1lbnR9IGdmeFxuICAgKlxuICAgKiBAcmV0dXJuIHtTVkdFbGVtZW50fSBjcmVhdGVkIGhpdFxuICAgKi9cbiAgdGhpcy5jcmVhdGVEZWZhdWx0SGl0ID0gZnVuY3Rpb24oZWxlbWVudCwgZ2Z4KSB7XG4gICAgdmFyIHdheXBvaW50cyA9IGVsZW1lbnQud2F5cG9pbnRzLFxuICAgICAgICBpc0ZyYW1lID0gZWxlbWVudC5pc0ZyYW1lLFxuICAgICAgICBib3hUeXBlO1xuXG4gICAgaWYgKHdheXBvaW50cykge1xuICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlV2F5cG9pbnRzSGl0KGdmeCwgd2F5cG9pbnRzKTtcbiAgICB9IGVsc2Uge1xuXG4gICAgICBib3hUeXBlID0gaXNGcmFtZSA/ICdzdHJva2UnIDogJ2FsbCc7XG5cbiAgICAgIHJldHVybiB0aGlzLmNyZWF0ZUJveEhpdChnZngsIGJveFR5cGUsIHtcbiAgICAgICAgd2lkdGg6IGVsZW1lbnQud2lkdGgsXG4gICAgICAgIGhlaWdodDogZWxlbWVudC5oZWlnaHRcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQ3JlYXRlIGhpdHMgZm9yIHRoZSBnaXZlbiB3YXlwb2ludHMuXG4gICAqXG4gICAqIEBwYXJhbSB7U1ZHRWxlbWVudH0gZ2Z4XG4gICAqIEBwYXJhbSB7QXJyYXk8UG9pbnQ+fSB3YXlwb2ludHNcbiAgICpcbiAgICogQHJldHVybiB7U1ZHRWxlbWVudH1cbiAgICovXG4gIHRoaXMuY3JlYXRlV2F5cG9pbnRzSGl0ID0gZnVuY3Rpb24oZ2Z4LCB3YXlwb2ludHMpIHtcblxuICAgIHZhciBoaXQgPSBjcmVhdGVMaW5lKHdheXBvaW50cyk7XG5cbiAgICBhcHBseVN0eWxlKGhpdCwgJ3N0cm9rZScpO1xuXG4gICAgYXBwZW5kSGl0KGdmeCwgaGl0KTtcblxuICAgIHJldHVybiBoaXQ7XG4gIH07XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBoaXRzIGZvciBhIGJveC5cbiAgICpcbiAgICogQHBhcmFtIHtTVkdFbGVtZW50fSBnZnhcbiAgICogQHBhcmFtIHtzdHJpbmd9IGhpdFR5cGVcbiAgICogQHBhcmFtIHtPYmplY3R9IGF0dHJzXG4gICAqXG4gICAqIEByZXR1cm4ge1NWR0VsZW1lbnR9XG4gICAqL1xuICB0aGlzLmNyZWF0ZUJveEhpdCA9IGZ1bmN0aW9uKGdmeCwgdHlwZSwgYXR0cnMpIHtcblxuICAgIGF0dHJzID0gYXNzaWduKHtcbiAgICAgIHg6IDAsXG4gICAgICB5OiAwXG4gICAgfSwgYXR0cnMpO1xuXG4gICAgdmFyIGhpdCA9IHN2Z0NyZWF0ZSgncmVjdCcpO1xuXG4gICAgYXBwbHlTdHlsZShoaXQsIHR5cGUpO1xuXG4gICAgc3ZnQXR0cihoaXQsIGF0dHJzKTtcblxuICAgIGFwcGVuZEhpdChnZngsIGhpdCk7XG5cbiAgICByZXR1cm4gaGl0O1xuICB9O1xuXG4gIC8qKlxuICAgKiBVcGRhdGUgZGVmYXVsdCBoaXQgb2YgdGhlIGVsZW1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSAge2Rqcy5tb2RlbC5CYXNlfSBlbGVtZW50XG4gICAqIEBwYXJhbSAge1NWR0VsZW1lbnR9IGdmeFxuICAgKlxuICAgKiBAcmV0dXJuIHtTVkdFbGVtZW50fSB1cGRhdGVkIGhpdFxuICAgKi9cbiAgdGhpcy51cGRhdGVEZWZhdWx0SGl0ID0gZnVuY3Rpb24oZWxlbWVudCwgZ2Z4KSB7XG5cbiAgICB2YXIgaGl0ID0gZG9tUXVlcnkoJy5kanMtaGl0JywgZ2Z4KTtcblxuICAgIGlmICghaGl0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGVsZW1lbnQud2F5cG9pbnRzKSB7XG4gICAgICB1cGRhdGVMaW5lKGhpdCwgZWxlbWVudC53YXlwb2ludHMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdmdBdHRyKGhpdCwge1xuICAgICAgICB3aWR0aDogZWxlbWVudC53aWR0aCxcbiAgICAgICAgaGVpZ2h0OiBlbGVtZW50LmhlaWdodFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGhpdDtcbiAgfTtcblxuICB0aGlzLmZpcmUgPSBmaXJlO1xuXG4gIHRoaXMudHJpZ2dlck1vdXNlRXZlbnQgPSB0cmlnZ2VyTW91c2VFdmVudDtcblxuICB0aGlzLm1vdXNlSGFuZGxlciA9IG1vdXNlSGFuZGxlcjtcblxuICB0aGlzLnJlZ2lzdGVyRXZlbnQgPSByZWdpc3RlckV2ZW50O1xuICB0aGlzLnVucmVnaXN0ZXJFdmVudCA9IHVucmVnaXN0ZXJFdmVudDtcbn1cblxuXG5JbnRlcmFjdGlvbkV2ZW50cy4kaW5qZWN0ID0gW1xuICAnZXZlbnRCdXMnLFxuICAnZWxlbWVudFJlZ2lzdHJ5JyxcbiAgJ3N0eWxlcydcbl07XG5cblxuLyoqXG4gKiBBbiBldmVudCBpbmRpY2F0aW5nIHRoYXQgdGhlIG1vdXNlIGhvdmVyZWQgb3ZlciBhbiBlbGVtZW50XG4gKlxuICogQGV2ZW50IGVsZW1lbnQuaG92ZXJcbiAqXG4gKiBAdHlwZSB7T2JqZWN0fVxuICogQHByb3BlcnR5IHtkanMubW9kZWwuQmFzZX0gZWxlbWVudFxuICogQHByb3BlcnR5IHtTVkdFbGVtZW50fSBnZnhcbiAqIEBwcm9wZXJ0eSB7RXZlbnR9IG9yaWdpbmFsRXZlbnRcbiAqL1xuXG4vKipcbiAqIEFuIGV2ZW50IGluZGljYXRpbmcgdGhhdCB0aGUgbW91c2UgaGFzIGxlZnQgYW4gZWxlbWVudFxuICpcbiAqIEBldmVudCBlbGVtZW50Lm91dFxuICpcbiAqIEB0eXBlIHtPYmplY3R9XG4gKiBAcHJvcGVydHkge2Rqcy5tb2RlbC5CYXNlfSBlbGVtZW50XG4gKiBAcHJvcGVydHkge1NWR0VsZW1lbnR9IGdmeFxuICogQHByb3BlcnR5IHtFdmVudH0gb3JpZ2luYWxFdmVudFxuICovXG5cbi8qKlxuICogQW4gZXZlbnQgaW5kaWNhdGluZyB0aGF0IHRoZSBtb3VzZSBoYXMgY2xpY2tlZCBhbiBlbGVtZW50XG4gKlxuICogQGV2ZW50IGVsZW1lbnQuY2xpY2tcbiAqXG4gKiBAdHlwZSB7T2JqZWN0fVxuICogQHByb3BlcnR5IHtkanMubW9kZWwuQmFzZX0gZWxlbWVudFxuICogQHByb3BlcnR5IHtTVkdFbGVtZW50fSBnZnhcbiAqIEBwcm9wZXJ0eSB7RXZlbnR9IG9yaWdpbmFsRXZlbnRcbiAqL1xuXG4vKipcbiAqIEFuIGV2ZW50IGluZGljYXRpbmcgdGhhdCB0aGUgbW91c2UgaGFzIGRvdWJsZSBjbGlja2VkIGFuIGVsZW1lbnRcbiAqXG4gKiBAZXZlbnQgZWxlbWVudC5kYmxjbGlja1xuICpcbiAqIEB0eXBlIHtPYmplY3R9XG4gKiBAcHJvcGVydHkge2Rqcy5tb2RlbC5CYXNlfSBlbGVtZW50XG4gKiBAcHJvcGVydHkge1NWR0VsZW1lbnR9IGdmeFxuICogQHByb3BlcnR5IHtFdmVudH0gb3JpZ2luYWxFdmVudFxuICovXG5cbi8qKlxuICogQW4gZXZlbnQgaW5kaWNhdGluZyB0aGF0IHRoZSBtb3VzZSBoYXMgZ29uZSBkb3duIG9uIGFuIGVsZW1lbnQuXG4gKlxuICogQGV2ZW50IGVsZW1lbnQubW91c2Vkb3duXG4gKlxuICogQHR5cGUge09iamVjdH1cbiAqIEBwcm9wZXJ0eSB7ZGpzLm1vZGVsLkJhc2V9IGVsZW1lbnRcbiAqIEBwcm9wZXJ0eSB7U1ZHRWxlbWVudH0gZ2Z4XG4gKiBAcHJvcGVydHkge0V2ZW50fSBvcmlnaW5hbEV2ZW50XG4gKi9cblxuLyoqXG4gKiBBbiBldmVudCBpbmRpY2F0aW5nIHRoYXQgdGhlIG1vdXNlIGhhcyBnb25lIHVwIG9uIGFuIGVsZW1lbnQuXG4gKlxuICogQGV2ZW50IGVsZW1lbnQubW91c2V1cFxuICpcbiAqIEB0eXBlIHtPYmplY3R9XG4gKiBAcHJvcGVydHkge2Rqcy5tb2RlbC5CYXNlfSBlbGVtZW50XG4gKiBAcHJvcGVydHkge1NWR0VsZW1lbnR9IGdmeFxuICogQHByb3BlcnR5IHtFdmVudH0gb3JpZ2luYWxFdmVudFxuICovXG5cbi8qKlxuICogQW4gZXZlbnQgaW5kaWNhdGluZyB0aGF0IHRoZSBjb250ZXh0IG1lbnUgYWN0aW9uIGlzIHRyaWdnZXJlZFxuICogdmlhIG1vdXNlIG9yIHRvdWNoIGNvbnRyb2xzLlxuICpcbiAqIEBldmVudCBlbGVtZW50LmNvbnRleHRtZW51XG4gKlxuICogQHR5cGUge09iamVjdH1cbiAqIEBwcm9wZXJ0eSB7ZGpzLm1vZGVsLkJhc2V9IGVsZW1lbnRcbiAqIEBwcm9wZXJ0eSB7U1ZHRWxlbWVudH0gZ2Z4XG4gKiBAcHJvcGVydHkge0V2ZW50fSBvcmlnaW5hbEV2ZW50XG4gKi8iLCJpbXBvcnQgSW50ZXJhY3Rpb25FdmVudHMgZnJvbSAnLi9JbnRlcmFjdGlvbkV2ZW50cyc7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgX19pbml0X186IFsgJ2ludGVyYWN0aW9uRXZlbnRzJyBdLFxuICBpbnRlcmFjdGlvbkV2ZW50czogWyAndHlwZScsIEludGVyYWN0aW9uRXZlbnRzIF1cbn07IiwiaW1wb3J0IHsgZ2V0QkJveCB9IGZyb20gJy4uLy4uL3V0aWwvRWxlbWVudHMnO1xuXG52YXIgTE9XX1BSSU9SSVRZID0gNTAwO1xuXG5pbXBvcnQge1xuICBhcHBlbmQgYXMgc3ZnQXBwZW5kLFxuICBhdHRyIGFzIHN2Z0F0dHIsXG4gIGNyZWF0ZSBhcyBzdmdDcmVhdGVcbn0gZnJvbSAndGlueS1zdmcnO1xuXG5pbXBvcnQge1xuICBxdWVyeSBhcyBkb21RdWVyeVxufSBmcm9tICdtaW4tZG9tJztcblxuaW1wb3J0IHtcbiAgYXNzaWduXG59IGZyb20gJ21pbi1kYXNoJztcblxuXG4vKipcbiAqIEBjbGFzc1xuICpcbiAqIEEgcGx1Z2luIHRoYXQgYWRkcyBhbiBvdXRsaW5lIHRvIHNoYXBlcyBhbmQgY29ubmVjdGlvbnMgdGhhdCBtYXkgYmUgYWN0aXZhdGVkIGFuZCBzdHlsZWRcbiAqIHZpYSBDU1MgY2xhc3Nlcy5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50QnVzfSBldmVudEJ1c1xuICogQHBhcmFtIHtTdHlsZXN9IHN0eWxlc1xuICogQHBhcmFtIHtFbGVtZW50UmVnaXN0cnl9IGVsZW1lbnRSZWdpc3RyeVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBPdXRsaW5lKGV2ZW50QnVzLCBzdHlsZXMsIGVsZW1lbnRSZWdpc3RyeSkge1xuXG4gIHRoaXMub2Zmc2V0ID0gNjtcblxuICB2YXIgT1VUTElORV9TVFlMRSA9IHN0eWxlcy5jbHMoJ2Rqcy1vdXRsaW5lJywgWyAnbm8tZmlsbCcgXSk7XG5cbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIGZ1bmN0aW9uIGNyZWF0ZU91dGxpbmUoZ2Z4LCBib3VuZHMpIHtcbiAgICB2YXIgb3V0bGluZSA9IHN2Z0NyZWF0ZSgncmVjdCcpO1xuXG4gICAgc3ZnQXR0cihvdXRsaW5lLCBhc3NpZ24oe1xuICAgICAgeDogMTAsXG4gICAgICB5OiAxMCxcbiAgICAgIHdpZHRoOiAxMDAsXG4gICAgICBoZWlnaHQ6IDEwMFxuICAgIH0sIE9VVExJTkVfU1RZTEUpKTtcblxuICAgIHN2Z0FwcGVuZChnZngsIG91dGxpbmUpO1xuXG4gICAgcmV0dXJuIG91dGxpbmU7XG4gIH1cblxuICAvLyBBIGxvdyBwcmlvcnRpdHkgaXMgbmVjZXNzYXJ5LCBiZWNhdXNlIG91dGxpbmVzIG9mIGxhYmVscyBoYXZlIHRvIGJlIHVwZGF0ZWRcbiAgLy8gYWZ0ZXIgdGhlIGxhYmVsIGJvdW5kcyBoYXZlIGJlZW4gdXBkYXRlZCBpbiB0aGUgcmVuZGVyZXIuXG4gIGV2ZW50QnVzLm9uKFsgJ3NoYXBlLmFkZGVkJywgJ3NoYXBlLmNoYW5nZWQnIF0sIExPV19QUklPUklUWSwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgZWxlbWVudCA9IGV2ZW50LmVsZW1lbnQsXG4gICAgICAgIGdmeCA9IGV2ZW50LmdmeDtcblxuICAgIHZhciBvdXRsaW5lID0gZG9tUXVlcnkoJy5kanMtb3V0bGluZScsIGdmeCk7XG5cbiAgICBpZiAoIW91dGxpbmUpIHtcbiAgICAgIG91dGxpbmUgPSBjcmVhdGVPdXRsaW5lKGdmeCwgZWxlbWVudCk7XG4gICAgfVxuXG4gICAgc2VsZi51cGRhdGVTaGFwZU91dGxpbmUob3V0bGluZSwgZWxlbWVudCk7XG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKFsgJ2Nvbm5lY3Rpb24uYWRkZWQnLCAnY29ubmVjdGlvbi5jaGFuZ2VkJyBdLCBmdW5jdGlvbihldmVudCkge1xuICAgIHZhciBlbGVtZW50ID0gZXZlbnQuZWxlbWVudCxcbiAgICAgICAgZ2Z4ID0gZXZlbnQuZ2Z4O1xuXG4gICAgdmFyIG91dGxpbmUgPSBkb21RdWVyeSgnLmRqcy1vdXRsaW5lJywgZ2Z4KTtcblxuICAgIGlmICghb3V0bGluZSkge1xuICAgICAgb3V0bGluZSA9IGNyZWF0ZU91dGxpbmUoZ2Z4LCBlbGVtZW50KTtcbiAgICB9XG5cbiAgICBzZWxmLnVwZGF0ZUNvbm5lY3Rpb25PdXRsaW5lKG91dGxpbmUsIGVsZW1lbnQpO1xuICB9KTtcbn1cblxuXG4vKipcbiAqIFVwZGF0ZXMgdGhlIG91dGxpbmUgb2YgYSBzaGFwZSByZXNwZWN0aW5nIHRoZSBkaW1lbnNpb24gb2YgdGhlXG4gKiBlbGVtZW50IGFuZCBhbiBvdXRsaW5lIG9mZnNldC5cbiAqXG4gKiBAcGFyYW0gIHtTVkdFbGVtZW50fSBvdXRsaW5lXG4gKiBAcGFyYW0gIHtkanMubW9kZWwuQmFzZX0gZWxlbWVudFxuICovXG5PdXRsaW5lLnByb3RvdHlwZS51cGRhdGVTaGFwZU91dGxpbmUgPSBmdW5jdGlvbihvdXRsaW5lLCBlbGVtZW50KSB7XG5cbiAgc3ZnQXR0cihvdXRsaW5lLCB7XG4gICAgeDogLXRoaXMub2Zmc2V0LFxuICAgIHk6IC10aGlzLm9mZnNldCxcbiAgICB3aWR0aDogZWxlbWVudC53aWR0aCArIHRoaXMub2Zmc2V0ICogMixcbiAgICBoZWlnaHQ6IGVsZW1lbnQuaGVpZ2h0ICsgdGhpcy5vZmZzZXQgKiAyXG4gIH0pO1xuXG59O1xuXG5cbi8qKlxuICogVXBkYXRlcyB0aGUgb3V0bGluZSBvZiBhIGNvbm5lY3Rpb24gcmVzcGVjdGluZyB0aGUgYm91bmRpbmcgYm94IG9mXG4gKiB0aGUgY29ubmVjdGlvbiBhbmQgYW4gb3V0bGluZSBvZmZzZXQuXG4gKlxuICogQHBhcmFtICB7U1ZHRWxlbWVudH0gb3V0bGluZVxuICogQHBhcmFtICB7ZGpzLm1vZGVsLkJhc2V9IGVsZW1lbnRcbiAqL1xuT3V0bGluZS5wcm90b3R5cGUudXBkYXRlQ29ubmVjdGlvbk91dGxpbmUgPSBmdW5jdGlvbihvdXRsaW5lLCBjb25uZWN0aW9uKSB7XG5cbiAgdmFyIGJib3ggPSBnZXRCQm94KGNvbm5lY3Rpb24pO1xuXG4gIHN2Z0F0dHIob3V0bGluZSwge1xuICAgIHg6IGJib3gueCAtIHRoaXMub2Zmc2V0LFxuICAgIHk6IGJib3gueSAtIHRoaXMub2Zmc2V0LFxuICAgIHdpZHRoOiBiYm94LndpZHRoICsgdGhpcy5vZmZzZXQgKiAyLFxuICAgIGhlaWdodDogYmJveC5oZWlnaHQgKyB0aGlzLm9mZnNldCAqIDJcbiAgfSk7XG5cbn07XG5cblxuT3V0bGluZS4kaW5qZWN0ID0gWydldmVudEJ1cycsICdzdHlsZXMnLCAnZWxlbWVudFJlZ2lzdHJ5J107IiwiaW1wb3J0IE91dGxpbmUgZnJvbSAnLi9PdXRsaW5lJztcblxuZXhwb3J0IGRlZmF1bHQge1xuICBfX2luaXRfXzogWyAnb3V0bGluZScgXSxcbiAgb3V0bGluZTogWyAndHlwZScsIE91dGxpbmUgXVxufTsiLCJpbXBvcnQge1xuICBpc0FycmF5LFxuICBmb3JFYWNoXG59IGZyb20gJ21pbi1kYXNoJztcblxuXG4vKipcbiAqIEEgc2VydmljZSB0aGF0IG9mZmVycyB0aGUgY3VycmVudCBzZWxlY3Rpb24gaW4gYSBkaWFncmFtLlxuICogT2ZmZXJzIHRoZSBhcGkgdG8gY29udHJvbCB0aGUgc2VsZWN0aW9uLCB0b28uXG4gKlxuICogQGNsYXNzXG4gKlxuICogQHBhcmFtIHtFdmVudEJ1c30gZXZlbnRCdXMgdGhlIGV2ZW50IGJ1c1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBTZWxlY3Rpb24oZXZlbnRCdXMpIHtcblxuICB0aGlzLl9ldmVudEJ1cyA9IGV2ZW50QnVzO1xuXG4gIHRoaXMuX3NlbGVjdGVkRWxlbWVudHMgPSBbXTtcblxuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgZXZlbnRCdXMub24oWyAnc2hhcGUucmVtb3ZlJywgJ2Nvbm5lY3Rpb24ucmVtb3ZlJyBdLCBmdW5jdGlvbihlKSB7XG4gICAgdmFyIGVsZW1lbnQgPSBlLmVsZW1lbnQ7XG4gICAgc2VsZi5kZXNlbGVjdChlbGVtZW50KTtcbiAgfSk7XG5cbiAgZXZlbnRCdXMub24oWyAnZGlhZ3JhbS5jbGVhcicgXSwgZnVuY3Rpb24oZSkge1xuICAgIHNlbGYuc2VsZWN0KG51bGwpO1xuICB9KTtcbn1cblxuU2VsZWN0aW9uLiRpbmplY3QgPSBbICdldmVudEJ1cycgXTtcblxuXG5TZWxlY3Rpb24ucHJvdG90eXBlLmRlc2VsZWN0ID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICB2YXIgc2VsZWN0ZWRFbGVtZW50cyA9IHRoaXMuX3NlbGVjdGVkRWxlbWVudHM7XG5cbiAgdmFyIGlkeCA9IHNlbGVjdGVkRWxlbWVudHMuaW5kZXhPZihlbGVtZW50KTtcblxuICBpZiAoaWR4ICE9PSAtMSkge1xuICAgIHZhciBvbGRTZWxlY3Rpb24gPSBzZWxlY3RlZEVsZW1lbnRzLnNsaWNlKCk7XG5cbiAgICBzZWxlY3RlZEVsZW1lbnRzLnNwbGljZShpZHgsIDEpO1xuXG4gICAgdGhpcy5fZXZlbnRCdXMuZmlyZSgnc2VsZWN0aW9uLmNoYW5nZWQnLCB7IG9sZFNlbGVjdGlvbjogb2xkU2VsZWN0aW9uLCBuZXdTZWxlY3Rpb246IHNlbGVjdGVkRWxlbWVudHMgfSk7XG4gIH1cbn07XG5cblxuU2VsZWN0aW9uLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuX3NlbGVjdGVkRWxlbWVudHM7XG59O1xuXG5TZWxlY3Rpb24ucHJvdG90eXBlLmlzU2VsZWN0ZWQgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gIHJldHVybiB0aGlzLl9zZWxlY3RlZEVsZW1lbnRzLmluZGV4T2YoZWxlbWVudCkgIT09IC0xO1xufTtcblxuXG4vKipcbiAqIFRoaXMgbWV0aG9kIHNlbGVjdHMgb25lIG9yIG1vcmUgZWxlbWVudHMgb24gdGhlIGRpYWdyYW0uXG4gKlxuICogQnkgcGFzc2luZyBhbiBhZGRpdGlvbmFsIGFkZCBwYXJhbWV0ZXIgeW91IGNhbiBkZWNpZGUgd2hldGhlciBvciBub3QgdGhlIGVsZW1lbnQocylcbiAqIHNob3VsZCBiZSBhZGRlZCB0byB0aGUgYWxyZWFkeSBleGlzdGluZyBzZWxlY3Rpb24gb3Igbm90LlxuICpcbiAqIEBtZXRob2QgU2VsZWN0aW9uI3NlbGVjdFxuICpcbiAqIEBwYXJhbSAge09iamVjdHxPYmplY3RbXX0gZWxlbWVudHMgZWxlbWVudCBvciBhcnJheSBvZiBlbGVtZW50cyB0byBiZSBzZWxlY3RlZFxuICogQHBhcmFtICB7Ym9vbGVhbn0gW2FkZF0gd2hldGhlciB0aGUgZWxlbWVudChzKSBzaG91bGQgYmUgYXBwZW5kZWQgdG8gdGhlIGN1cnJlbnQgc2VsZWN0aW9uLCBkZWZhdWx0cyB0byBmYWxzZVxuICovXG5TZWxlY3Rpb24ucHJvdG90eXBlLnNlbGVjdCA9IGZ1bmN0aW9uKGVsZW1lbnRzLCBhZGQpIHtcbiAgdmFyIHNlbGVjdGVkRWxlbWVudHMgPSB0aGlzLl9zZWxlY3RlZEVsZW1lbnRzLFxuICAgICAgb2xkU2VsZWN0aW9uID0gc2VsZWN0ZWRFbGVtZW50cy5zbGljZSgpO1xuXG4gIGlmICghaXNBcnJheShlbGVtZW50cykpIHtcbiAgICBlbGVtZW50cyA9IGVsZW1lbnRzID8gWyBlbGVtZW50cyBdIDogW107XG4gIH1cblxuICAvLyBzZWxlY3Rpb24gbWF5IGJlIGNsZWFyZWQgYnkgcGFzc2luZyBhbiBlbXB0eSBhcnJheSBvciBudWxsXG4gIC8vIHRvIHRoZSBtZXRob2RcbiAgaWYgKGFkZCkge1xuICAgIGZvckVhY2goZWxlbWVudHMsIGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgIGlmIChzZWxlY3RlZEVsZW1lbnRzLmluZGV4T2YoZWxlbWVudCkgIT09IC0xKSB7XG5cbiAgICAgICAgLy8gYWxyZWFkeSBzZWxlY3RlZFxuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZWxlY3RlZEVsZW1lbnRzLnB1c2goZWxlbWVudCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5fc2VsZWN0ZWRFbGVtZW50cyA9IHNlbGVjdGVkRWxlbWVudHMgPSBlbGVtZW50cy5zbGljZSgpO1xuICB9XG5cbiAgdGhpcy5fZXZlbnRCdXMuZmlyZSgnc2VsZWN0aW9uLmNoYW5nZWQnLCB7IG9sZFNlbGVjdGlvbjogb2xkU2VsZWN0aW9uLCBuZXdTZWxlY3Rpb246IHNlbGVjdGVkRWxlbWVudHMgfSk7XG59O1xuIiwiaW1wb3J0IHtcbiAgZm9yRWFjaFxufSBmcm9tICdtaW4tZGFzaCc7XG5cbnZhciBNQVJLRVJfSE9WRVIgPSAnaG92ZXInLFxuICAgIE1BUktFUl9TRUxFQ1RFRCA9ICdzZWxlY3RlZCc7XG5cblxuLyoqXG4gKiBBIHBsdWdpbiB0aGF0IGFkZHMgYSB2aXNpYmxlIHNlbGVjdGlvbiBVSSB0byBzaGFwZXMgYW5kIGNvbm5lY3Rpb25zXG4gKiBieSBhcHBlbmRpbmcgdGhlIDxjb2RlPmhvdmVyPC9jb2RlPiBhbmQgPGNvZGU+c2VsZWN0ZWQ8L2NvZGU+IGNsYXNzZXMgdG8gdGhlbS5cbiAqXG4gKiBAY2xhc3NcbiAqXG4gKiBNYWtlcyBlbGVtZW50cyBzZWxlY3RhYmxlLCB0b28uXG4gKlxuICogQHBhcmFtIHtFdmVudEJ1c30gZXZlbnRzXG4gKiBAcGFyYW0ge1NlbGVjdGlvblNlcnZpY2V9IHNlbGVjdGlvblxuICogQHBhcmFtIHtDYW52YXN9IGNhbnZhc1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBTZWxlY3Rpb25WaXN1YWxzKGV2ZW50cywgY2FudmFzLCBzZWxlY3Rpb24sIHN0eWxlcykge1xuXG4gIHRoaXMuX211bHRpU2VsZWN0aW9uQm94ID0gbnVsbDtcblxuICBmdW5jdGlvbiBhZGRNYXJrZXIoZSwgY2xzKSB7XG4gICAgY2FudmFzLmFkZE1hcmtlcihlLCBjbHMpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVtb3ZlTWFya2VyKGUsIGNscykge1xuICAgIGNhbnZhcy5yZW1vdmVNYXJrZXIoZSwgY2xzKTtcbiAgfVxuXG4gIGV2ZW50cy5vbignZWxlbWVudC5ob3ZlcicsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgYWRkTWFya2VyKGV2ZW50LmVsZW1lbnQsIE1BUktFUl9IT1ZFUik7XG4gIH0pO1xuXG4gIGV2ZW50cy5vbignZWxlbWVudC5vdXQnLCBmdW5jdGlvbihldmVudCkge1xuICAgIHJlbW92ZU1hcmtlcihldmVudC5lbGVtZW50LCBNQVJLRVJfSE9WRVIpO1xuICB9KTtcblxuICBldmVudHMub24oJ3NlbGVjdGlvbi5jaGFuZ2VkJywgZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgIGZ1bmN0aW9uIGRlc2VsZWN0KHMpIHtcbiAgICAgIHJlbW92ZU1hcmtlcihzLCBNQVJLRVJfU0VMRUNURUQpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNlbGVjdChzKSB7XG4gICAgICBhZGRNYXJrZXIocywgTUFSS0VSX1NFTEVDVEVEKTtcbiAgICB9XG5cbiAgICB2YXIgb2xkU2VsZWN0aW9uID0gZXZlbnQub2xkU2VsZWN0aW9uLFxuICAgICAgICBuZXdTZWxlY3Rpb24gPSBldmVudC5uZXdTZWxlY3Rpb247XG5cbiAgICBmb3JFYWNoKG9sZFNlbGVjdGlvbiwgZnVuY3Rpb24oZSkge1xuICAgICAgaWYgKG5ld1NlbGVjdGlvbi5pbmRleE9mKGUpID09PSAtMSkge1xuICAgICAgICBkZXNlbGVjdChlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGZvckVhY2gobmV3U2VsZWN0aW9uLCBmdW5jdGlvbihlKSB7XG4gICAgICBpZiAob2xkU2VsZWN0aW9uLmluZGV4T2YoZSkgPT09IC0xKSB7XG4gICAgICAgIHNlbGVjdChlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG59XG5cblNlbGVjdGlvblZpc3VhbHMuJGluamVjdCA9IFtcbiAgJ2V2ZW50QnVzJyxcbiAgJ2NhbnZhcycsXG4gICdzZWxlY3Rpb24nLFxuICAnc3R5bGVzJ1xuXTsiLCJpbXBvcnQge1xuICBoYXNQcmltYXJ5TW9kaWZpZXIsXG4gIGhhc1NlY29uZGFyeU1vZGlmaWVyLFxuICBpc1ByaW1hcnlCdXR0b25cbn0gZnJvbSAnLi4vLi4vdXRpbC9Nb3VzZSc7XG5cbmltcG9ydCB7XG4gIGZpbmQsXG4gIGlzQXJyYXlcbn0gZnJvbSAnbWluLWRhc2gnO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFNlbGVjdGlvbkJlaGF2aW9yKGV2ZW50QnVzLCBzZWxlY3Rpb24sIGNhbnZhcywgZWxlbWVudFJlZ2lzdHJ5KSB7XG5cbiAgLy8gU2VsZWN0IGVsZW1lbnRzIG9uIGNyZWF0ZVxuICBldmVudEJ1cy5vbignY3JlYXRlLmVuZCcsIDUwMCwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgY29udGV4dCA9IGV2ZW50LmNvbnRleHQsXG4gICAgICAgIGNhbkV4ZWN1dGUgPSBjb250ZXh0LmNhbkV4ZWN1dGUsXG4gICAgICAgIGVsZW1lbnRzID0gY29udGV4dC5lbGVtZW50cyxcbiAgICAgICAgaGludHMgPSBjb250ZXh0LmhpbnRzIHx8IHt9LFxuICAgICAgICBhdXRvU2VsZWN0ID0gaGludHMuYXV0b1NlbGVjdDtcblxuICAgIGlmIChjYW5FeGVjdXRlKSB7XG4gICAgICBpZiAoYXV0b1NlbGVjdCA9PT0gZmFsc2UpIHtcblxuICAgICAgICAvLyBTZWxlY3Qgbm8gZWxlbWVudHNcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNBcnJheShhdXRvU2VsZWN0KSkge1xuICAgICAgICBzZWxlY3Rpb24uc2VsZWN0KGF1dG9TZWxlY3QpO1xuICAgICAgfSBlbHNlIHtcblxuICAgICAgICAvLyBTZWxlY3QgYWxsIGVsZW1lbnRzIGJ5IGRlZmF1bHRcbiAgICAgICAgc2VsZWN0aW9uLnNlbGVjdChlbGVtZW50cy5maWx0ZXIoaXNTaG93bikpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgLy8gU2VsZWN0IGNvbm5lY3Rpb24gdGFyZ2V0cyBvbiBjb25uZWN0XG4gIGV2ZW50QnVzLm9uKCdjb25uZWN0LmVuZCcsIDUwMCwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgY29udGV4dCA9IGV2ZW50LmNvbnRleHQsXG4gICAgICAgIGNhbkV4ZWN1dGUgPSBjb250ZXh0LmNhbkV4ZWN1dGUsXG4gICAgICAgIGhvdmVyID0gY29udGV4dC5ob3ZlcjtcblxuICAgIGlmIChjYW5FeGVjdXRlICYmIGhvdmVyKSB7XG4gICAgICBzZWxlY3Rpb24uc2VsZWN0KGhvdmVyKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIFNlbGVjdCBzaGFwZXMgb24gbW92ZVxuICBldmVudEJ1cy5vbignc2hhcGUubW92ZS5lbmQnLCA1MDAsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIHByZXZpb3VzU2VsZWN0aW9uID0gZXZlbnQucHJldmlvdXNTZWxlY3Rpb24gfHwgW107XG5cbiAgICB2YXIgc2hhcGUgPSBlbGVtZW50UmVnaXN0cnkuZ2V0KGV2ZW50LmNvbnRleHQuc2hhcGUuaWQpO1xuXG4gICAgLy8gQWx3YXlzIHNlbGVjdCBtYWluIHNoYXBlIG9uIG1vdmVcbiAgICB2YXIgaXNTZWxlY3RlZCA9IGZpbmQocHJldmlvdXNTZWxlY3Rpb24sIGZ1bmN0aW9uKHNlbGVjdGVkU2hhcGUpIHtcbiAgICAgIHJldHVybiBzaGFwZS5pZCA9PT0gc2VsZWN0ZWRTaGFwZS5pZDtcbiAgICB9KTtcblxuICAgIGlmICghaXNTZWxlY3RlZCkge1xuICAgICAgc2VsZWN0aW9uLnNlbGVjdChzaGFwZSk7XG4gICAgfVxuICB9KTtcblxuICAvLyBTZWxlY3QgZWxlbWVudHMgb24gY2xpY2tcbiAgZXZlbnRCdXMub24oJ2VsZW1lbnQuY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuXG4gICAgaWYgKCFpc1ByaW1hcnlCdXR0b24oZXZlbnQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGVsZW1lbnQgPSBldmVudC5lbGVtZW50O1xuXG4gICAgaWYgKGVsZW1lbnQgPT09IGNhbnZhcy5nZXRSb290RWxlbWVudCgpKSB7XG4gICAgICBlbGVtZW50ID0gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgaXNTZWxlY3RlZCA9IHNlbGVjdGlvbi5pc1NlbGVjdGVkKGVsZW1lbnQpLFxuICAgICAgICBpc011bHRpU2VsZWN0ID0gc2VsZWN0aW9uLmdldCgpLmxlbmd0aCA+IDE7XG5cbiAgICAvLyBBZGQgdG8gc2VsZWN0aW9uIGlmIENUUkwgb3IgU0hJRlQgcHJlc3NlZFxuICAgIHZhciBhZGQgPSBoYXNQcmltYXJ5TW9kaWZpZXIoZXZlbnQpIHx8IGhhc1NlY29uZGFyeU1vZGlmaWVyKGV2ZW50KTtcblxuICAgIGlmIChpc1NlbGVjdGVkICYmIGlzTXVsdGlTZWxlY3QpIHtcbiAgICAgIGlmIChhZGQpIHtcblxuICAgICAgICAvLyBEZXNlbGVjdCBlbGVtZW50XG4gICAgICAgIHJldHVybiBzZWxlY3Rpb24uZGVzZWxlY3QoZWxlbWVudCk7XG4gICAgICB9IGVsc2Uge1xuXG4gICAgICAgIC8vIFNlbGVjdCBlbGVtZW50IG9ubHlcbiAgICAgICAgcmV0dXJuIHNlbGVjdGlvbi5zZWxlY3QoZWxlbWVudCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghaXNTZWxlY3RlZCkge1xuXG4gICAgICAvLyBTZWxlY3QgZWxlbWVudFxuICAgICAgc2VsZWN0aW9uLnNlbGVjdChlbGVtZW50LCBhZGQpO1xuICAgIH0gZWxzZSB7XG5cbiAgICAgIC8vIERlc2VsZWN0IGVsZW1lbnRcbiAgICAgIHNlbGVjdGlvbi5kZXNlbGVjdChlbGVtZW50KTtcbiAgICB9XG4gIH0pO1xufVxuXG5TZWxlY3Rpb25CZWhhdmlvci4kaW5qZWN0ID0gW1xuICAnZXZlbnRCdXMnLFxuICAnc2VsZWN0aW9uJyxcbiAgJ2NhbnZhcycsXG4gICdlbGVtZW50UmVnaXN0cnknXG5dO1xuXG5cbmZ1bmN0aW9uIGlzU2hvd24oZWxlbWVudCkge1xuICByZXR1cm4gIWVsZW1lbnQuaGlkZGVuO1xufVxuIiwiaW1wb3J0IEludGVyYWN0aW9uRXZlbnRzTW9kdWxlIGZyb20gJy4uL2ludGVyYWN0aW9uLWV2ZW50cyc7XG5pbXBvcnQgT3V0bGluZU1vZHVsZSBmcm9tICcuLi9vdXRsaW5lJztcblxuaW1wb3J0IFNlbGVjdGlvbiBmcm9tICcuL1NlbGVjdGlvbic7XG5pbXBvcnQgU2VsZWN0aW9uVmlzdWFscyBmcm9tICcuL1NlbGVjdGlvblZpc3VhbHMnO1xuaW1wb3J0IFNlbGVjdGlvbkJlaGF2aW9yIGZyb20gJy4vU2VsZWN0aW9uQmVoYXZpb3InO1xuXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgX19pbml0X186IFsgJ3NlbGVjdGlvblZpc3VhbHMnLCAnc2VsZWN0aW9uQmVoYXZpb3InIF0sXG4gIF9fZGVwZW5kc19fOiBbXG4gICAgSW50ZXJhY3Rpb25FdmVudHNNb2R1bGUsXG4gICAgT3V0bGluZU1vZHVsZVxuICBdLFxuICBzZWxlY3Rpb246IFsgJ3R5cGUnLCBTZWxlY3Rpb24gXSxcbiAgc2VsZWN0aW9uVmlzdWFsczogWyAndHlwZScsIFNlbGVjdGlvblZpc3VhbHMgXSxcbiAgc2VsZWN0aW9uQmVoYXZpb3I6IFsgJ3R5cGUnLCBTZWxlY3Rpb25CZWhhdmlvciBdXG59O1xuIiwiLyoqXG4gKiBVdGlsIHRoYXQgcHJvdmlkZXMgdW5pcXVlIElEcy5cbiAqXG4gKiBAY2xhc3MgZGpzLnV0aWwuSWRHZW5lcmF0b3JcbiAqIEBjb25zdHJ1Y3RvclxuICogQG1lbWJlck9mIGRqcy51dGlsXG4gKlxuICogVGhlIGlkcyBjYW4gYmUgY3VzdG9taXplZCB2aWEgYSBnaXZlbiBwcmVmaXggYW5kIGNvbnRhaW4gYSByYW5kb20gdmFsdWUgdG8gYXZvaWQgY29sbGlzaW9ucy5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gcHJlZml4IGEgcHJlZml4IHRvIHByZXBlbmQgdG8gZ2VuZXJhdGVkIGlkcyAoZm9yIGJldHRlciByZWFkYWJpbGl0eSlcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gSWRHZW5lcmF0b3IocHJlZml4KSB7XG5cbiAgdGhpcy5fY291bnRlciA9IDA7XG4gIHRoaXMuX3ByZWZpeCA9IChwcmVmaXggPyBwcmVmaXggKyAnLScgOiAnJykgKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwMDAwMDAwKSArICctJztcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgbmV4dCB1bmlxdWUgSUQuXG4gKlxuICogQG1ldGhvZCBkanMudXRpbC5JZEdlbmVyYXRvciNuZXh0XG4gKlxuICogQHJldHVybnMge3N0cmluZ30gdGhlIGlkXG4gKi9cbklkR2VuZXJhdG9yLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLl9wcmVmaXggKyAoKyt0aGlzLl9jb3VudGVyKTtcbn07XG4iLCJpbXBvcnQge1xuICBpc0FycmF5LFxuICBpc1N0cmluZyxcbiAgaXNPYmplY3QsXG4gIGFzc2lnbixcbiAgZm9yRWFjaCxcbiAgZmluZCxcbiAgZmlsdGVyLFxuICBtYXRjaFBhdHRlcm4sXG4gIGlzRGVmaW5lZFxufSBmcm9tICdtaW4tZGFzaCc7XG5cbmltcG9ydCB7XG4gIGRvbWlmeSxcbiAgY2xhc3NlcyBhcyBkb21DbGFzc2VzLFxuICBhdHRyIGFzIGRvbUF0dHIsXG4gIHJlbW92ZSBhcyBkb21SZW1vdmUsXG4gIGNsZWFyIGFzIGRvbUNsZWFyXG59IGZyb20gJ21pbi1kb20nO1xuXG5pbXBvcnQge1xuICBnZXRCQm94XG59IGZyb20gJy4uLy4uL3V0aWwvRWxlbWVudHMnO1xuXG5pbXBvcnQgSWRzIGZyb20gJy4uLy4uL3V0aWwvSWRHZW5lcmF0b3InO1xuXG4vLyBkb2N1bWVudCB3aWRlIHVuaXF1ZSBvdmVybGF5IGlkc1xudmFyIGlkcyA9IG5ldyBJZHMoJ292Jyk7XG5cbnZhciBMT1dfUFJJT1JJVFkgPSA1MDA7XG5cblxuLyoqXG4gKiBBIHNlcnZpY2UgdGhhdCBhbGxvd3MgdXNlcnMgdG8gYXR0YWNoIG92ZXJsYXlzIHRvIGRpYWdyYW0gZWxlbWVudHMuXG4gKlxuICogVGhlIG92ZXJsYXkgc2VydmljZSB3aWxsIHRha2UgY2FyZSBvZiBvdmVybGF5IHBvc2l0aW9uaW5nIGR1cmluZyB1cGRhdGVzLlxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogLy8gYWRkIGEgcGluayBiYWRnZSBvbiB0aGUgdG9wIGxlZnQgb2YgdGhlIHNoYXBlXG4gKiBvdmVybGF5cy5hZGQoc29tZVNoYXBlLCB7XG4gKiAgIHBvc2l0aW9uOiB7XG4gKiAgICAgdG9wOiAtNSxcbiAqICAgICBsZWZ0OiAtNVxuICogICB9LFxuICogICBodG1sOiAnPGRpdiBzdHlsZT1cIndpZHRoOiAxMHB4OyBiYWNrZ3JvdW5kOiBmdWNoc2lhOyBjb2xvcjogd2hpdGU7XCI+MDwvZGl2PidcbiAqIH0pO1xuICpcbiAqIC8vIG9yIGFkZCB2aWEgc2hhcGUgaWRcbiAqXG4gKiBvdmVybGF5cy5hZGQoJ3NvbWUtZWxlbWVudC1pZCcsIHtcbiAqICAgcG9zaXRpb246IHtcbiAqICAgICB0b3A6IC01LFxuICogICAgIGxlZnQ6IC01XG4gKiAgIH1cbiAqICAgaHRtbDogJzxkaXYgc3R5bGU9XCJ3aWR0aDogMTBweDsgYmFja2dyb3VuZDogZnVjaHNpYTsgY29sb3I6IHdoaXRlO1wiPjA8L2Rpdj4nXG4gKiB9KTtcbiAqXG4gKiAvLyBvciBhZGQgd2l0aCBvcHRpb25hbCB0eXBlXG4gKlxuICogb3ZlcmxheXMuYWRkKHNvbWVTaGFwZSwgJ2JhZGdlJywge1xuICogICBwb3NpdGlvbjoge1xuICogICAgIHRvcDogLTUsXG4gKiAgICAgbGVmdDogLTVcbiAqICAgfVxuICogICBodG1sOiAnPGRpdiBzdHlsZT1cIndpZHRoOiAxMHB4OyBiYWNrZ3JvdW5kOiBmdWNoc2lhOyBjb2xvcjogd2hpdGU7XCI+MDwvZGl2PidcbiAqIH0pO1xuICpcbiAqXG4gKiAvLyByZW1vdmUgYW4gb3ZlcmxheVxuICpcbiAqIHZhciBpZCA9IG92ZXJsYXlzLmFkZCguLi4pO1xuICogb3ZlcmxheXMucmVtb3ZlKGlkKTtcbiAqXG4gKlxuICogWW91IG1heSBjb25maWd1cmUgb3ZlcmxheSBkZWZhdWx0cyBkdXJpbmcgdG9vbCBieSBwcm92aWRpbmcgYSBgY29uZmlnYCBtb2R1bGVcbiAqIHdpdGggYG92ZXJsYXlzLmRlZmF1bHRzYCBhcyBhbiBlbnRyeTpcbiAqXG4gKiB7XG4gKiAgIG92ZXJsYXlzOiB7XG4gKiAgICAgZGVmYXVsdHM6IHtcbiAqICAgICAgIHNob3c6IHtcbiAqICAgICAgICAgbWluWm9vbTogMC43LFxuICogICAgICAgICBtYXhab29tOiA1LjBcbiAqICAgICAgIH0sXG4gKiAgICAgICBzY2FsZToge1xuICogICAgICAgICBtaW46IDFcbiAqICAgICAgIH1cbiAqICAgICB9XG4gKiB9XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZ1xuICogQHBhcmFtIHtFdmVudEJ1c30gZXZlbnRCdXNcbiAqIEBwYXJhbSB7Q2FudmFzfSBjYW52YXNcbiAqIEBwYXJhbSB7RWxlbWVudFJlZ2lzdHJ5fSBlbGVtZW50UmVnaXN0cnlcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gT3ZlcmxheXMoY29uZmlnLCBldmVudEJ1cywgY2FudmFzLCBlbGVtZW50UmVnaXN0cnkpIHtcblxuICB0aGlzLl9ldmVudEJ1cyA9IGV2ZW50QnVzO1xuICB0aGlzLl9jYW52YXMgPSBjYW52YXM7XG4gIHRoaXMuX2VsZW1lbnRSZWdpc3RyeSA9IGVsZW1lbnRSZWdpc3RyeTtcblxuICB0aGlzLl9pZHMgPSBpZHM7XG5cbiAgdGhpcy5fb3ZlcmxheURlZmF1bHRzID0gYXNzaWduKHtcblxuICAgIC8vIG5vIHNob3cgY29uc3RyYWludHNcbiAgICBzaG93OiBudWxsLFxuXG4gICAgLy8gYWx3YXlzIHNjYWxlXG4gICAgc2NhbGU6IHRydWVcbiAgfSwgY29uZmlnICYmIGNvbmZpZy5kZWZhdWx0cyk7XG5cbiAgLyoqXG4gICAqIE1hcHBpbmcgb3ZlcmxheUlkIC0+IG92ZXJsYXlcbiAgICovXG4gIHRoaXMuX292ZXJsYXlzID0ge307XG5cbiAgLyoqXG4gICAqIE1hcHBpbmcgZWxlbWVudElkIC0+IG92ZXJsYXkgY29udGFpbmVyXG4gICAqL1xuICB0aGlzLl9vdmVybGF5Q29udGFpbmVycyA9IFtdO1xuXG4gIC8vIHJvb3QgaHRtbCBlbGVtZW50IGZvciBhbGwgb3ZlcmxheXNcbiAgdGhpcy5fb3ZlcmxheVJvb3QgPSBjcmVhdGVSb290KGNhbnZhcy5nZXRDb250YWluZXIoKSk7XG5cbiAgdGhpcy5faW5pdCgpO1xufVxuXG5cbk92ZXJsYXlzLiRpbmplY3QgPSBbXG4gICdjb25maWcub3ZlcmxheXMnLFxuICAnZXZlbnRCdXMnLFxuICAnY2FudmFzJyxcbiAgJ2VsZW1lbnRSZWdpc3RyeSdcbl07XG5cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBvdmVybGF5IHdpdGggdGhlIHNwZWNpZmllZCBpZCBvciBhIGxpc3Qgb2Ygb3ZlcmxheXNcbiAqIGZvciBhbiBlbGVtZW50IHdpdGggYSBnaXZlbiB0eXBlLlxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogLy8gcmV0dXJuIHRoZSBzaW5nbGUgb3ZlcmxheSB3aXRoIHRoZSBnaXZlbiBpZFxuICogb3ZlcmxheXMuZ2V0KCdzb21lLWlkJyk7XG4gKlxuICogLy8gcmV0dXJuIGFsbCBvdmVybGF5cyBmb3IgdGhlIHNoYXBlXG4gKiBvdmVybGF5cy5nZXQoeyBlbGVtZW50OiBzb21lU2hhcGUgfSk7XG4gKlxuICogLy8gcmV0dXJuIGFsbCBvdmVybGF5cyBvbiBzaGFwZSB3aXRoIHR5cGUgJ2JhZGdlJ1xuICogb3ZlcmxheXMuZ2V0KHsgZWxlbWVudDogc29tZVNoYXBlLCB0eXBlOiAnYmFkZ2UnIH0pO1xuICpcbiAqIC8vIHNoYXBlIGNhbiBhbHNvIGJlIHNwZWNpZmllZCBhcyBpZFxuICogb3ZlcmxheXMuZ2V0KHsgZWxlbWVudDogJ2VsZW1lbnQtaWQnLCB0eXBlOiAnYmFkZ2UnIH0pO1xuICpcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gc2VhcmNoXG4gKiBAcGFyYW0ge3N0cmluZ30gW3NlYXJjaC5pZF1cbiAqIEBwYXJhbSB7c3RyaW5nfGRqcy5tb2RlbC5CYXNlfSBbc2VhcmNoLmVsZW1lbnRdXG4gKiBAcGFyYW0ge3N0cmluZ30gW3NlYXJjaC50eXBlXVxuICpcbiAqIEByZXR1cm4ge09iamVjdHxBcnJheTxPYmplY3Q+fSB0aGUgb3ZlcmxheShzKVxuICovXG5PdmVybGF5cy5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oc2VhcmNoKSB7XG5cbiAgaWYgKGlzU3RyaW5nKHNlYXJjaCkpIHtcbiAgICBzZWFyY2ggPSB7IGlkOiBzZWFyY2ggfTtcbiAgfVxuXG4gIGlmIChpc1N0cmluZyhzZWFyY2guZWxlbWVudCkpIHtcbiAgICBzZWFyY2guZWxlbWVudCA9IHRoaXMuX2VsZW1lbnRSZWdpc3RyeS5nZXQoc2VhcmNoLmVsZW1lbnQpO1xuICB9XG5cbiAgaWYgKHNlYXJjaC5lbGVtZW50KSB7XG4gICAgdmFyIGNvbnRhaW5lciA9IHRoaXMuX2dldE92ZXJsYXlDb250YWluZXIoc2VhcmNoLmVsZW1lbnQsIHRydWUpO1xuXG4gICAgLy8gcmV0dXJuIGEgbGlzdCBvZiBvdmVybGF5cyB3aGVuIHNlYXJjaGluZyBieSBlbGVtZW50ICgrdHlwZSlcbiAgICBpZiAoY29udGFpbmVyKSB7XG4gICAgICByZXR1cm4gc2VhcmNoLnR5cGUgPyBmaWx0ZXIoY29udGFpbmVyLm92ZXJsYXlzLCBtYXRjaFBhdHRlcm4oeyB0eXBlOiBzZWFyY2gudHlwZSB9KSkgOiBjb250YWluZXIub3ZlcmxheXMuc2xpY2UoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgfSBlbHNlXG4gIGlmIChzZWFyY2gudHlwZSkge1xuICAgIHJldHVybiBmaWx0ZXIodGhpcy5fb3ZlcmxheXMsIG1hdGNoUGF0dGVybih7IHR5cGU6IHNlYXJjaC50eXBlIH0pKTtcbiAgfSBlbHNlIHtcblxuICAgIC8vIHJldHVybiBzaW5nbGUgZWxlbWVudCB3aGVuIHNlYXJjaGluZyBieSBpZFxuICAgIHJldHVybiBzZWFyY2guaWQgPyB0aGlzLl9vdmVybGF5c1tzZWFyY2guaWRdIDogbnVsbDtcbiAgfVxufTtcblxuLyoqXG4gKiBBZGRzIGEgSFRNTCBvdmVybGF5IHRvIGFuIGVsZW1lbnQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd8ZGpzLm1vZGVsLkJhc2V9ICAgZWxlbWVudCAgIGF0dGFjaCBvdmVybGF5IHRvIHRoaXMgc2hhcGVcbiAqIEBwYXJhbSB7c3RyaW5nfSAgICAgICAgICAgICAgICAgIFt0eXBlXSAgICBvcHRpb25hbCB0eXBlIHRvIGFzc2lnbiB0byB0aGUgb3ZlcmxheVxuICogQHBhcmFtIHtPYmplY3R9ICAgICAgICAgICAgICAgICAgb3ZlcmxheSAgIHRoZSBvdmVybGF5IGNvbmZpZ3VyYXRpb25cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ3xET01FbGVtZW50fSAgICAgICBvdmVybGF5Lmh0bWwgICAgICAgICAgICAgICAgIGh0bWwgZWxlbWVudCB0byB1c2UgYXMgYW4gb3ZlcmxheVxuICogQHBhcmFtIHtPYmplY3R9ICAgICAgICAgICAgICAgICAgW292ZXJsYXkuc2hvd10gICAgICAgICAgICAgICBzaG93IGNvbmZpZ3VyYXRpb25cbiAqIEBwYXJhbSB7bnVtYmVyfSAgICAgICAgICAgICAgICAgIFtvdmVybGF5LnNob3cubWluWm9vbV0gICAgICAgbWluaW1hbCB6b29tIGxldmVsIHRvIHNob3cgdGhlIG92ZXJsYXlcbiAqIEBwYXJhbSB7bnVtYmVyfSAgICAgICAgICAgICAgICAgIFtvdmVybGF5LnNob3cubWF4Wm9vbV0gICAgICAgbWF4aW11bSB6b29tIGxldmVsIHRvIHNob3cgdGhlIG92ZXJsYXlcbiAqIEBwYXJhbSB7T2JqZWN0fSAgICAgICAgICAgICAgICAgIG92ZXJsYXkucG9zaXRpb24gICAgICAgICAgICAgd2hlcmUgdG8gYXR0YWNoIHRoZSBvdmVybGF5XG4gKiBAcGFyYW0ge251bWJlcn0gICAgICAgICAgICAgICAgICBbb3ZlcmxheS5wb3NpdGlvbi5sZWZ0XSAgICAgIHJlbGF0aXZlIHRvIGVsZW1lbnQgYmJveCBsZWZ0IGF0dGFjaG1lbnRcbiAqIEBwYXJhbSB7bnVtYmVyfSAgICAgICAgICAgICAgICAgIFtvdmVybGF5LnBvc2l0aW9uLnRvcF0gICAgICAgcmVsYXRpdmUgdG8gZWxlbWVudCBiYm94IHRvcCBhdHRhY2htZW50XG4gKiBAcGFyYW0ge251bWJlcn0gICAgICAgICAgICAgICAgICBbb3ZlcmxheS5wb3NpdGlvbi5ib3R0b21dICAgIHJlbGF0aXZlIHRvIGVsZW1lbnQgYmJveCBib3R0b20gYXR0YWNobWVudFxuICogQHBhcmFtIHtudW1iZXJ9ICAgICAgICAgICAgICAgICAgW292ZXJsYXkucG9zaXRpb24ucmlnaHRdICAgICByZWxhdGl2ZSB0byBlbGVtZW50IGJib3ggcmlnaHQgYXR0YWNobWVudFxuICogQHBhcmFtIHtib29sZWFufE9iamVjdH0gICAgICAgICAgW292ZXJsYXkuc2NhbGU9dHJ1ZV0gICAgICAgICBmYWxzZSB0byBwcmVzZXJ2ZSB0aGUgc2FtZSBzaXplIHJlZ2FyZGxlc3Mgb2ZcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlhZ3JhbSB6b29tXG4gKiBAcGFyYW0ge251bWJlcn0gICAgICAgICAgICAgICAgICBbb3ZlcmxheS5zY2FsZS5taW5dXG4gKiBAcGFyYW0ge251bWJlcn0gICAgICAgICAgICAgICAgICBbb3ZlcmxheS5zY2FsZS5tYXhdXG4gKlxuICogQHJldHVybiB7c3RyaW5nfSAgICAgICAgICAgICAgICAgaWQgdGhhdCBtYXkgYmUgdXNlZCB0byByZWZlcmVuY2UgdGhlIG92ZXJsYXkgZm9yIHVwZGF0ZSBvciByZW1vdmFsXG4gKi9cbk92ZXJsYXlzLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbihlbGVtZW50LCB0eXBlLCBvdmVybGF5KSB7XG5cbiAgaWYgKGlzT2JqZWN0KHR5cGUpKSB7XG4gICAgb3ZlcmxheSA9IHR5cGU7XG4gICAgdHlwZSA9IG51bGw7XG4gIH1cblxuICBpZiAoIWVsZW1lbnQuaWQpIHtcbiAgICBlbGVtZW50ID0gdGhpcy5fZWxlbWVudFJlZ2lzdHJ5LmdldChlbGVtZW50KTtcbiAgfVxuXG4gIGlmICghb3ZlcmxheS5wb3NpdGlvbikge1xuICAgIHRocm93IG5ldyBFcnJvcignbXVzdCBzcGVjaWZpeSBvdmVybGF5IHBvc2l0aW9uJyk7XG4gIH1cblxuICBpZiAoIW92ZXJsYXkuaHRtbCkge1xuICAgIHRocm93IG5ldyBFcnJvcignbXVzdCBzcGVjaWZpeSBvdmVybGF5IGh0bWwnKTtcbiAgfVxuXG4gIGlmICghZWxlbWVudCkge1xuICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBlbGVtZW50IHNwZWNpZmllZCcpO1xuICB9XG5cbiAgdmFyIGlkID0gdGhpcy5faWRzLm5leHQoKTtcblxuICBvdmVybGF5ID0gYXNzaWduKHt9LCB0aGlzLl9vdmVybGF5RGVmYXVsdHMsIG92ZXJsYXksIHtcbiAgICBpZDogaWQsXG4gICAgdHlwZTogdHlwZSxcbiAgICBlbGVtZW50OiBlbGVtZW50LFxuICAgIGh0bWw6IG92ZXJsYXkuaHRtbFxuICB9KTtcblxuICB0aGlzLl9hZGRPdmVybGF5KG92ZXJsYXkpO1xuXG4gIHJldHVybiBpZDtcbn07XG5cblxuLyoqXG4gKiBSZW1vdmUgYW4gb3ZlcmxheSB3aXRoIHRoZSBnaXZlbiBpZCBvciBhbGwgb3ZlcmxheXMgbWF0Y2hpbmcgdGhlIGdpdmVuIGZpbHRlci5cbiAqXG4gKiBAc2VlIE92ZXJsYXlzI2dldCBmb3IgZmlsdGVyIG9wdGlvbnMuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IFtpZF1cbiAqIEBwYXJhbSB7T2JqZWN0fSBbZmlsdGVyXVxuICovXG5PdmVybGF5cy5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24oZmlsdGVyKSB7XG5cbiAgdmFyIG92ZXJsYXlzID0gdGhpcy5nZXQoZmlsdGVyKSB8fCBbXTtcblxuICBpZiAoIWlzQXJyYXkob3ZlcmxheXMpKSB7XG4gICAgb3ZlcmxheXMgPSBbIG92ZXJsYXlzIF07XG4gIH1cblxuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgZm9yRWFjaChvdmVybGF5cywgZnVuY3Rpb24ob3ZlcmxheSkge1xuXG4gICAgdmFyIGNvbnRhaW5lciA9IHNlbGYuX2dldE92ZXJsYXlDb250YWluZXIob3ZlcmxheS5lbGVtZW50LCB0cnVlKTtcblxuICAgIGlmIChvdmVybGF5KSB7XG4gICAgICBkb21SZW1vdmUob3ZlcmxheS5odG1sKTtcbiAgICAgIGRvbVJlbW92ZShvdmVybGF5Lmh0bWxDb250YWluZXIpO1xuXG4gICAgICBkZWxldGUgb3ZlcmxheS5odG1sQ29udGFpbmVyO1xuICAgICAgZGVsZXRlIG92ZXJsYXkuZWxlbWVudDtcblxuICAgICAgZGVsZXRlIHNlbGYuX292ZXJsYXlzW292ZXJsYXkuaWRdO1xuICAgIH1cblxuICAgIGlmIChjb250YWluZXIpIHtcbiAgICAgIHZhciBpZHggPSBjb250YWluZXIub3ZlcmxheXMuaW5kZXhPZihvdmVybGF5KTtcbiAgICAgIGlmIChpZHggIT09IC0xKSB7XG4gICAgICAgIGNvbnRhaW5lci5vdmVybGF5cy5zcGxpY2UoaWR4LCAxKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG59O1xuXG5cbk92ZXJsYXlzLnByb3RvdHlwZS5zaG93ID0gZnVuY3Rpb24oKSB7XG4gIHNldFZpc2libGUodGhpcy5fb3ZlcmxheVJvb3QpO1xufTtcblxuXG5PdmVybGF5cy5wcm90b3R5cGUuaGlkZSA9IGZ1bmN0aW9uKCkge1xuICBzZXRWaXNpYmxlKHRoaXMuX292ZXJsYXlSb290LCBmYWxzZSk7XG59O1xuXG5PdmVybGF5cy5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5fb3ZlcmxheXMgPSB7fTtcblxuICB0aGlzLl9vdmVybGF5Q29udGFpbmVycyA9IFtdO1xuXG4gIGRvbUNsZWFyKHRoaXMuX292ZXJsYXlSb290KTtcbn07XG5cbk92ZXJsYXlzLnByb3RvdHlwZS5fdXBkYXRlT3ZlcmxheUNvbnRhaW5lciA9IGZ1bmN0aW9uKGNvbnRhaW5lcikge1xuICB2YXIgZWxlbWVudCA9IGNvbnRhaW5lci5lbGVtZW50LFxuICAgICAgaHRtbCA9IGNvbnRhaW5lci5odG1sO1xuXG4gIC8vIHVwZGF0ZSBjb250YWluZXIgbGVmdCx0b3AgYWNjb3JkaW5nIHRvIHRoZSBlbGVtZW50cyB4LHkgY29vcmRpbmF0ZXNcbiAgLy8gdGhpcyBlbnN1cmVzIHdlIGNhbiBhdHRhY2ggY2hpbGQgZWxlbWVudHMgcmVsYXRpdmUgdG8gdGhpcyBjb250YWluZXJcblxuICB2YXIgeCA9IGVsZW1lbnQueCxcbiAgICAgIHkgPSBlbGVtZW50Lnk7XG5cbiAgaWYgKGVsZW1lbnQud2F5cG9pbnRzKSB7XG4gICAgdmFyIGJib3ggPSBnZXRCQm94KGVsZW1lbnQpO1xuICAgIHggPSBiYm94Lng7XG4gICAgeSA9IGJib3gueTtcbiAgfVxuXG4gIHNldFBvc2l0aW9uKGh0bWwsIHgsIHkpO1xuXG4gIGRvbUF0dHIoY29udGFpbmVyLmh0bWwsICdkYXRhLWNvbnRhaW5lci1pZCcsIGVsZW1lbnQuaWQpO1xufTtcblxuXG5PdmVybGF5cy5wcm90b3R5cGUuX3VwZGF0ZU92ZXJsYXkgPSBmdW5jdGlvbihvdmVybGF5KSB7XG5cbiAgdmFyIHBvc2l0aW9uID0gb3ZlcmxheS5wb3NpdGlvbixcbiAgICAgIGh0bWxDb250YWluZXIgPSBvdmVybGF5Lmh0bWxDb250YWluZXIsXG4gICAgICBlbGVtZW50ID0gb3ZlcmxheS5lbGVtZW50O1xuXG4gIC8vIHVwZGF0ZSBvdmVybGF5IGh0bWwgcmVsYXRpdmUgdG8gc2hhcGUgYmVjYXVzZVxuICAvLyBpdCBpcyBhbHJlYWR5IHBvc2l0aW9uZWQgb24gdGhlIGVsZW1lbnRcblxuICAvLyB1cGRhdGUgcmVsYXRpdmVcbiAgdmFyIGxlZnQgPSBwb3NpdGlvbi5sZWZ0LFxuICAgICAgdG9wID0gcG9zaXRpb24udG9wO1xuXG4gIGlmIChwb3NpdGlvbi5yaWdodCAhPT0gdW5kZWZpbmVkKSB7XG5cbiAgICB2YXIgd2lkdGg7XG5cbiAgICBpZiAoZWxlbWVudC53YXlwb2ludHMpIHtcbiAgICAgIHdpZHRoID0gZ2V0QkJveChlbGVtZW50KS53aWR0aDtcbiAgICB9IGVsc2Uge1xuICAgICAgd2lkdGggPSBlbGVtZW50LndpZHRoO1xuICAgIH1cblxuICAgIGxlZnQgPSBwb3NpdGlvbi5yaWdodCAqIC0xICsgd2lkdGg7XG4gIH1cblxuICBpZiAocG9zaXRpb24uYm90dG9tICE9PSB1bmRlZmluZWQpIHtcblxuICAgIHZhciBoZWlnaHQ7XG5cbiAgICBpZiAoZWxlbWVudC53YXlwb2ludHMpIHtcbiAgICAgIGhlaWdodCA9IGdldEJCb3goZWxlbWVudCkuaGVpZ2h0O1xuICAgIH0gZWxzZSB7XG4gICAgICBoZWlnaHQgPSBlbGVtZW50LmhlaWdodDtcbiAgICB9XG5cbiAgICB0b3AgPSBwb3NpdGlvbi5ib3R0b20gKiAtMSArIGhlaWdodDtcbiAgfVxuXG4gIHNldFBvc2l0aW9uKGh0bWxDb250YWluZXIsIGxlZnQgfHwgMCwgdG9wIHx8IDApO1xufTtcblxuXG5PdmVybGF5cy5wcm90b3R5cGUuX2NyZWF0ZU92ZXJsYXlDb250YWluZXIgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gIHZhciBodG1sID0gZG9taWZ5KCc8ZGl2IGNsYXNzPVwiZGpzLW92ZXJsYXlzXCIgc3R5bGU9XCJwb3NpdGlvbjogYWJzb2x1dGVcIiAvPicpO1xuXG4gIHRoaXMuX292ZXJsYXlSb290LmFwcGVuZENoaWxkKGh0bWwpO1xuXG4gIHZhciBjb250YWluZXIgPSB7XG4gICAgaHRtbDogaHRtbCxcbiAgICBlbGVtZW50OiBlbGVtZW50LFxuICAgIG92ZXJsYXlzOiBbXVxuICB9O1xuXG4gIHRoaXMuX3VwZGF0ZU92ZXJsYXlDb250YWluZXIoY29udGFpbmVyKTtcblxuICB0aGlzLl9vdmVybGF5Q29udGFpbmVycy5wdXNoKGNvbnRhaW5lcik7XG5cbiAgcmV0dXJuIGNvbnRhaW5lcjtcbn07XG5cblxuT3ZlcmxheXMucHJvdG90eXBlLl91cGRhdGVSb290ID0gZnVuY3Rpb24odmlld2JveCkge1xuICB2YXIgc2NhbGUgPSB2aWV3Ym94LnNjYWxlIHx8IDE7XG5cbiAgdmFyIG1hdHJpeCA9ICdtYXRyaXgoJyArXG4gIFtcbiAgICBzY2FsZSxcbiAgICAwLFxuICAgIDAsXG4gICAgc2NhbGUsXG4gICAgLTEgKiB2aWV3Ym94LnggKiBzY2FsZSxcbiAgICAtMSAqIHZpZXdib3gueSAqIHNjYWxlXG4gIF0uam9pbignLCcpICtcbiAgJyknO1xuXG4gIHNldFRyYW5zZm9ybSh0aGlzLl9vdmVybGF5Um9vdCwgbWF0cml4KTtcbn07XG5cblxuT3ZlcmxheXMucHJvdG90eXBlLl9nZXRPdmVybGF5Q29udGFpbmVyID0gZnVuY3Rpb24oZWxlbWVudCwgcmF3KSB7XG4gIHZhciBjb250YWluZXIgPSBmaW5kKHRoaXMuX292ZXJsYXlDb250YWluZXJzLCBmdW5jdGlvbihjKSB7XG4gICAgcmV0dXJuIGMuZWxlbWVudCA9PT0gZWxlbWVudDtcbiAgfSk7XG5cblxuICBpZiAoIWNvbnRhaW5lciAmJiAhcmF3KSB7XG4gICAgcmV0dXJuIHRoaXMuX2NyZWF0ZU92ZXJsYXlDb250YWluZXIoZWxlbWVudCk7XG4gIH1cblxuICByZXR1cm4gY29udGFpbmVyO1xufTtcblxuXG5PdmVybGF5cy5wcm90b3R5cGUuX2FkZE92ZXJsYXkgPSBmdW5jdGlvbihvdmVybGF5KSB7XG5cbiAgdmFyIGlkID0gb3ZlcmxheS5pZCxcbiAgICAgIGVsZW1lbnQgPSBvdmVybGF5LmVsZW1lbnQsXG4gICAgICBodG1sID0gb3ZlcmxheS5odG1sLFxuICAgICAgaHRtbENvbnRhaW5lcixcbiAgICAgIG92ZXJsYXlDb250YWluZXI7XG5cbiAgLy8gdW53cmFwIGpxdWVyeSAoZm9yIHRob3NlIHdobyBuZWVkIGl0KVxuICBpZiAoaHRtbC5nZXQgJiYgaHRtbC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuanF1ZXJ5KSB7XG4gICAgaHRtbCA9IGh0bWwuZ2V0KDApO1xuICB9XG5cbiAgLy8gY3JlYXRlIHByb3BlciBodG1sIGVsZW1lbnRzIGZyb21cbiAgLy8gb3ZlcmxheSBIVE1MIHN0cmluZ3NcbiAgaWYgKGlzU3RyaW5nKGh0bWwpKSB7XG4gICAgaHRtbCA9IGRvbWlmeShodG1sKTtcbiAgfVxuXG4gIG92ZXJsYXlDb250YWluZXIgPSB0aGlzLl9nZXRPdmVybGF5Q29udGFpbmVyKGVsZW1lbnQpO1xuXG4gIGh0bWxDb250YWluZXIgPSBkb21pZnkoJzxkaXYgY2xhc3M9XCJkanMtb3ZlcmxheVwiIGRhdGEtb3ZlcmxheS1pZD1cIicgKyBpZCArICdcIiBzdHlsZT1cInBvc2l0aW9uOiBhYnNvbHV0ZVwiPicpO1xuXG4gIGh0bWxDb250YWluZXIuYXBwZW5kQ2hpbGQoaHRtbCk7XG5cbiAgaWYgKG92ZXJsYXkudHlwZSkge1xuICAgIGRvbUNsYXNzZXMoaHRtbENvbnRhaW5lcikuYWRkKCdkanMtb3ZlcmxheS0nICsgb3ZlcmxheS50eXBlKTtcbiAgfVxuXG4gIG92ZXJsYXkuaHRtbENvbnRhaW5lciA9IGh0bWxDb250YWluZXI7XG5cbiAgb3ZlcmxheUNvbnRhaW5lci5vdmVybGF5cy5wdXNoKG92ZXJsYXkpO1xuICBvdmVybGF5Q29udGFpbmVyLmh0bWwuYXBwZW5kQ2hpbGQoaHRtbENvbnRhaW5lcik7XG5cbiAgdGhpcy5fb3ZlcmxheXNbaWRdID0gb3ZlcmxheTtcblxuICB0aGlzLl91cGRhdGVPdmVybGF5KG92ZXJsYXkpO1xuICB0aGlzLl91cGRhdGVPdmVybGF5VmlzaWJpbHR5KG92ZXJsYXksIHRoaXMuX2NhbnZhcy52aWV3Ym94KCkpO1xufTtcblxuXG5PdmVybGF5cy5wcm90b3R5cGUuX3VwZGF0ZU92ZXJsYXlWaXNpYmlsdHkgPSBmdW5jdGlvbihvdmVybGF5LCB2aWV3Ym94KSB7XG4gIHZhciBzaG93ID0gb3ZlcmxheS5zaG93LFxuICAgICAgbWluWm9vbSA9IHNob3cgJiYgc2hvdy5taW5ab29tLFxuICAgICAgbWF4Wm9vbSA9IHNob3cgJiYgc2hvdy5tYXhab29tLFxuICAgICAgaHRtbENvbnRhaW5lciA9IG92ZXJsYXkuaHRtbENvbnRhaW5lcixcbiAgICAgIHZpc2libGUgPSB0cnVlO1xuXG4gIGlmIChzaG93KSB7XG4gICAgaWYgKFxuICAgICAgKGlzRGVmaW5lZChtaW5ab29tKSAmJiBtaW5ab29tID4gdmlld2JveC5zY2FsZSkgfHxcbiAgICAgIChpc0RlZmluZWQobWF4Wm9vbSkgJiYgbWF4Wm9vbSA8IHZpZXdib3guc2NhbGUpXG4gICAgKSB7XG4gICAgICB2aXNpYmxlID0gZmFsc2U7XG4gICAgfVxuXG4gICAgc2V0VmlzaWJsZShodG1sQ29udGFpbmVyLCB2aXNpYmxlKTtcbiAgfVxuXG4gIHRoaXMuX3VwZGF0ZU92ZXJsYXlTY2FsZShvdmVybGF5LCB2aWV3Ym94KTtcbn07XG5cblxuT3ZlcmxheXMucHJvdG90eXBlLl91cGRhdGVPdmVybGF5U2NhbGUgPSBmdW5jdGlvbihvdmVybGF5LCB2aWV3Ym94KSB7XG4gIHZhciBzaG91bGRTY2FsZSA9IG92ZXJsYXkuc2NhbGUsXG4gICAgICBtaW5TY2FsZSxcbiAgICAgIG1heFNjYWxlLFxuICAgICAgaHRtbENvbnRhaW5lciA9IG92ZXJsYXkuaHRtbENvbnRhaW5lcjtcblxuICB2YXIgc2NhbGUsIHRyYW5zZm9ybSA9ICcnO1xuXG4gIGlmIChzaG91bGRTY2FsZSAhPT0gdHJ1ZSkge1xuXG4gICAgaWYgKHNob3VsZFNjYWxlID09PSBmYWxzZSkge1xuICAgICAgbWluU2NhbGUgPSAxO1xuICAgICAgbWF4U2NhbGUgPSAxO1xuICAgIH0gZWxzZSB7XG4gICAgICBtaW5TY2FsZSA9IHNob3VsZFNjYWxlLm1pbjtcbiAgICAgIG1heFNjYWxlID0gc2hvdWxkU2NhbGUubWF4O1xuICAgIH1cblxuICAgIGlmIChpc0RlZmluZWQobWluU2NhbGUpICYmIHZpZXdib3guc2NhbGUgPCBtaW5TY2FsZSkge1xuICAgICAgc2NhbGUgPSAoMSAvIHZpZXdib3guc2NhbGUgfHwgMSkgKiBtaW5TY2FsZTtcbiAgICB9XG5cbiAgICBpZiAoaXNEZWZpbmVkKG1heFNjYWxlKSAmJiB2aWV3Ym94LnNjYWxlID4gbWF4U2NhbGUpIHtcbiAgICAgIHNjYWxlID0gKDEgLyB2aWV3Ym94LnNjYWxlIHx8IDEpICogbWF4U2NhbGU7XG4gICAgfVxuICB9XG5cbiAgaWYgKGlzRGVmaW5lZChzY2FsZSkpIHtcbiAgICB0cmFuc2Zvcm0gPSAnc2NhbGUoJyArIHNjYWxlICsgJywnICsgc2NhbGUgKyAnKSc7XG4gIH1cblxuICBzZXRUcmFuc2Zvcm0oaHRtbENvbnRhaW5lciwgdHJhbnNmb3JtKTtcbn07XG5cblxuT3ZlcmxheXMucHJvdG90eXBlLl91cGRhdGVPdmVybGF5c1Zpc2liaWx0eSA9IGZ1bmN0aW9uKHZpZXdib3gpIHtcblxuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgZm9yRWFjaCh0aGlzLl9vdmVybGF5cywgZnVuY3Rpb24ob3ZlcmxheSkge1xuICAgIHNlbGYuX3VwZGF0ZU92ZXJsYXlWaXNpYmlsdHkob3ZlcmxheSwgdmlld2JveCk7XG4gIH0pO1xufTtcblxuXG5PdmVybGF5cy5wcm90b3R5cGUuX2luaXQgPSBmdW5jdGlvbigpIHtcblxuICB2YXIgZXZlbnRCdXMgPSB0aGlzLl9ldmVudEJ1cztcblxuICB2YXIgc2VsZiA9IHRoaXM7XG5cblxuICAvLyBzY3JvbGwvem9vbSBpbnRlZ3JhdGlvblxuXG4gIGZ1bmN0aW9uIHVwZGF0ZVZpZXdib3godmlld2JveCkge1xuICAgIHNlbGYuX3VwZGF0ZVJvb3Qodmlld2JveCk7XG4gICAgc2VsZi5fdXBkYXRlT3ZlcmxheXNWaXNpYmlsdHkodmlld2JveCk7XG5cbiAgICBzZWxmLnNob3coKTtcbiAgfVxuXG4gIGV2ZW50QnVzLm9uKCdjYW52YXMudmlld2JveC5jaGFuZ2luZycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgc2VsZi5oaWRlKCk7XG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKCdjYW52YXMudmlld2JveC5jaGFuZ2VkJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB1cGRhdGVWaWV3Ym94KGV2ZW50LnZpZXdib3gpO1xuICB9KTtcblxuXG4gIC8vIHJlbW92ZSBpbnRlZ3JhdGlvblxuXG4gIGV2ZW50QnVzLm9uKFsgJ3NoYXBlLnJlbW92ZScsICdjb25uZWN0aW9uLnJlbW92ZScgXSwgZnVuY3Rpb24oZSkge1xuICAgIHZhciBlbGVtZW50ID0gZS5lbGVtZW50O1xuICAgIHZhciBvdmVybGF5cyA9IHNlbGYuZ2V0KHsgZWxlbWVudDogZWxlbWVudCB9KTtcblxuICAgIGZvckVhY2gob3ZlcmxheXMsIGZ1bmN0aW9uKG8pIHtcbiAgICAgIHNlbGYucmVtb3ZlKG8uaWQpO1xuICAgIH0pO1xuXG4gICAgdmFyIGNvbnRhaW5lciA9IHNlbGYuX2dldE92ZXJsYXlDb250YWluZXIoZWxlbWVudCk7XG5cbiAgICBpZiAoY29udGFpbmVyKSB7XG4gICAgICBkb21SZW1vdmUoY29udGFpbmVyLmh0bWwpO1xuICAgICAgdmFyIGkgPSBzZWxmLl9vdmVybGF5Q29udGFpbmVycy5pbmRleE9mKGNvbnRhaW5lcik7XG4gICAgICBpZiAoaSAhPT0gLTEpIHtcbiAgICAgICAgc2VsZi5fb3ZlcmxheUNvbnRhaW5lcnMuc3BsaWNlKGksIDEpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cblxuICAvLyBtb3ZlIGludGVncmF0aW9uXG5cbiAgZXZlbnRCdXMub24oJ2VsZW1lbnQuY2hhbmdlZCcsIExPV19QUklPUklUWSwgZnVuY3Rpb24oZSkge1xuICAgIHZhciBlbGVtZW50ID0gZS5lbGVtZW50O1xuXG4gICAgdmFyIGNvbnRhaW5lciA9IHNlbGYuX2dldE92ZXJsYXlDb250YWluZXIoZWxlbWVudCwgdHJ1ZSk7XG5cbiAgICBpZiAoY29udGFpbmVyKSB7XG4gICAgICBmb3JFYWNoKGNvbnRhaW5lci5vdmVybGF5cywgZnVuY3Rpb24ob3ZlcmxheSkge1xuICAgICAgICBzZWxmLl91cGRhdGVPdmVybGF5KG92ZXJsYXkpO1xuICAgICAgfSk7XG5cbiAgICAgIHNlbGYuX3VwZGF0ZU92ZXJsYXlDb250YWluZXIoY29udGFpbmVyKTtcbiAgICB9XG4gIH0pO1xuXG5cbiAgLy8gbWFya2VyIGludGVncmF0aW9uLCBzaW1wbHkgYWRkIHRoZW0gb24gdGhlIG92ZXJsYXlzIGFzIGNsYXNzZXMsIHRvby5cblxuICBldmVudEJ1cy5vbignZWxlbWVudC5tYXJrZXIudXBkYXRlJywgZnVuY3Rpb24oZSkge1xuICAgIHZhciBjb250YWluZXIgPSBzZWxmLl9nZXRPdmVybGF5Q29udGFpbmVyKGUuZWxlbWVudCwgdHJ1ZSk7XG4gICAgaWYgKGNvbnRhaW5lcikge1xuICAgICAgZG9tQ2xhc3Nlcyhjb250YWluZXIuaHRtbClbZS5hZGQgPyAnYWRkJyA6ICdyZW1vdmUnXShlLm1hcmtlcik7XG4gICAgfVxuICB9KTtcblxuXG4gIC8vIGNsZWFyIG92ZXJsYXlzIHdpdGggZGlhZ3JhbVxuXG4gIGV2ZW50QnVzLm9uKCdkaWFncmFtLmNsZWFyJywgdGhpcy5jbGVhciwgdGhpcyk7XG59O1xuXG5cblxuLy8gaGVscGVycyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5mdW5jdGlvbiBjcmVhdGVSb290KHBhcmVudE5vZGUpIHtcbiAgdmFyIHJvb3QgPSBkb21pZnkoXG4gICAgJzxkaXYgY2xhc3M9XCJkanMtb3ZlcmxheS1jb250YWluZXJcIiBzdHlsZT1cInBvc2l0aW9uOiBhYnNvbHV0ZTsgd2lkdGg6IDA7IGhlaWdodDogMDtcIiAvPidcbiAgKTtcblxuICBwYXJlbnROb2RlLmluc2VydEJlZm9yZShyb290LCBwYXJlbnROb2RlLmZpcnN0Q2hpbGQpO1xuXG4gIHJldHVybiByb290O1xufVxuXG5mdW5jdGlvbiBzZXRQb3NpdGlvbihlbCwgeCwgeSkge1xuICBhc3NpZ24oZWwuc3R5bGUsIHsgbGVmdDogeCArICdweCcsIHRvcDogeSArICdweCcgfSk7XG59XG5cbmZ1bmN0aW9uIHNldFZpc2libGUoZWwsIHZpc2libGUpIHtcbiAgZWwuc3R5bGUuZGlzcGxheSA9IHZpc2libGUgPT09IGZhbHNlID8gJ25vbmUnIDogJyc7XG59XG5cbmZ1bmN0aW9uIHNldFRyYW5zZm9ybShlbCwgdHJhbnNmb3JtKSB7XG5cbiAgZWwuc3R5bGVbJ3RyYW5zZm9ybS1vcmlnaW4nXSA9ICd0b3AgbGVmdCc7XG5cbiAgWyAnJywgJy1tcy0nLCAnLXdlYmtpdC0nIF0uZm9yRWFjaChmdW5jdGlvbihwcmVmaXgpIHtcbiAgICBlbC5zdHlsZVtwcmVmaXggKyAndHJhbnNmb3JtJ10gPSB0cmFuc2Zvcm07XG4gIH0pO1xufSIsImltcG9ydCBPdmVybGF5cyBmcm9tICcuL092ZXJsYXlzJztcblxuZXhwb3J0IGRlZmF1bHQge1xuICBfX2luaXRfXzogWyAnb3ZlcmxheXMnIF0sXG4gIG92ZXJsYXlzOiBbICd0eXBlJywgT3ZlcmxheXMgXVxufTsiLCJpbXBvcnQgaW5oZXJpdHMgZnJvbSAnaW5oZXJpdHMnO1xuXG5pbXBvcnQgQ29yZU1vZHVsZSBmcm9tICcuL2NvcmUnO1xuaW1wb3J0IFRyYW5zbGF0ZU1vZHVsZSBmcm9tICdkaWFncmFtLWpzL2xpYi9pMThuL3RyYW5zbGF0ZSc7XG5pbXBvcnQgU2VsZWN0aW9uTW9kdWxlIGZyb20gJ2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL3NlbGVjdGlvbic7XG5pbXBvcnQgT3ZlcmxheXNNb2R1bGUgZnJvbSAnZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvb3ZlcmxheXMnO1xuXG5pbXBvcnQgQmFzZVZpZXdlciBmcm9tICcuL0Jhc2VWaWV3ZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBWaWV3ZXIob3B0aW9ucykge1xuICBCYXNlVmlld2VyLmNhbGwodGhpcywgb3B0aW9ucyk7XG59XG5cbmluaGVyaXRzKFZpZXdlciwgQmFzZVZpZXdlcik7XG5cbi8vIG1vZHVsZXMgdGhlIHZpZXdlciBpcyBjb21wb3NlZCBvZlxuVmlld2VyLnByb3RvdHlwZS5fbW9kdWxlcyA9IFtcbiAgQ29yZU1vZHVsZSxcbiAgVHJhbnNsYXRlTW9kdWxlLFxuICBTZWxlY3Rpb25Nb2R1bGUsXG4gIE92ZXJsYXlzTW9kdWxlXG5dO1xuXG4vLyBkZWZhdWx0IG1vZGRsZSBleHRlbnNpb25zIHRoZSB2aWV3ZXIgaXMgY29tcG9zZWQgb2ZcblZpZXdlci5wcm90b3R5cGUuX21vZGRsZUV4dGVuc2lvbnMgPSB7fTsiLCJpbXBvcnQgeyBpc0FycmF5IH0gZnJvbSAnbWluLWRhc2gnO1xyXG5cclxuLyoqXHJcbiAqIFJldHVybnMgdHJ1ZSBpZiBldmVudCB3YXMgdHJpZ2dlcmVkIHdpdGggYW55IG1vZGlmaWVyXHJcbiAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZXZlbnRcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBoYXNNb2RpZmllcihldmVudCkge1xyXG4gIHJldHVybiAoZXZlbnQuY3RybEtleSB8fCBldmVudC5tZXRhS2V5IHx8IGV2ZW50LnNoaWZ0S2V5IHx8IGV2ZW50LmFsdEtleSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGV2ZW50XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXNDbWQoZXZlbnQpIHtcclxuXHJcbiAgLy8gZW5zdXJlIHdlIGRvbid0IHJlYWN0IHRvIEFsdEdyXHJcbiAgLy8gKG1hcHBlZCB0byBDVFJMICsgQUxUKVxyXG4gIGlmIChldmVudC5hbHRLZXkpIHtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIHJldHVybiBldmVudC5jdHJsS2V5IHx8IGV2ZW50Lm1ldGFLZXk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDaGVja3MgaWYga2V5IHByZXNzZWQgaXMgb25lIG9mIHByb3ZpZGVkIGtleXMuXHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfEFycmF5PHN0cmluZz59IGtleXNcclxuICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBldmVudFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzS2V5KGtleXMsIGV2ZW50KSB7XHJcbiAga2V5cyA9IGlzQXJyYXkoa2V5cykgPyBrZXlzIDogWyBrZXlzIF07XHJcblxyXG4gIHJldHVybiBrZXlzLmluZGV4T2YoZXZlbnQua2V5KSAhPT0gLTEgfHwga2V5cy5pbmRleE9mKGV2ZW50LmtleUNvZGUpICE9PSAtMTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZXZlbnRcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1NoaWZ0KGV2ZW50KSB7XHJcbiAgcmV0dXJuIGV2ZW50LnNoaWZ0S2V5O1xyXG59IiwiaW1wb3J0IHtcbiAgaXNGdW5jdGlvblxufSBmcm9tICdtaW4tZGFzaCc7XG5cbmltcG9ydCB7XG4gIGV2ZW50IGFzIGRvbUV2ZW50LFxuICBtYXRjaGVzIGFzIGRvbU1hdGNoZXNcbn0gZnJvbSAnbWluLWRvbSc7XG5cbmltcG9ydCB7XG4gIGhhc01vZGlmaWVyLFxuICBpc0NtZCxcbiAgaXNLZXksXG4gIGlzU2hpZnRcbn0gZnJvbSAnLi9LZXlib2FyZFV0aWwnO1xuXG52YXIgS0VZRE9XTl9FVkVOVCA9ICdrZXlib2FyZC5rZXlkb3duJyxcbiAgICBLRVlVUF9FVkVOVCA9ICdrZXlib2FyZC5rZXl1cCc7XG5cbnZhciBERUZBVUxUX1BSSU9SSVRZID0gMTAwMDtcblxuXG4vKipcbiAqIEEga2V5Ym9hcmQgYWJzdHJhY3Rpb24gdGhhdCBtYXkgYmUgYWN0aXZhdGVkIGFuZFxuICogZGVhY3RpdmF0ZWQgYnkgdXNlcnMgYXQgd2lsbCwgY29uc3VtaW5nIGtleSBldmVudHNcbiAqIGFuZCB0cmlnZ2VyaW5nIGRpYWdyYW0gYWN0aW9ucy5cbiAqXG4gKiBGb3Iga2V5cyBwcmVzc2VkIGRvd24sIGtleWJvYXJkIGZpcmVzIGBrZXlib2FyZC5rZXlkb3duYCBldmVudC5cbiAqIFRoZSBldmVudCBjb250ZXh0IGNvbnRhaW5zIG9uZSBmaWVsZCB3aGljaCBpcyBgS2V5Ym9hcmRFdmVudGAgZXZlbnQuXG4gKlxuICogVGhlIGltcGxlbWVudGF0aW9uIGZpcmVzIHRoZSBmb2xsb3dpbmcga2V5IGV2ZW50cyB0aGF0IGFsbG93XG4gKiBvdGhlciBjb21wb25lbnRzIHRvIGhvb2sgaW50byBrZXkgaGFuZGxpbmc6XG4gKlxuICogIC0ga2V5Ym9hcmQuYmluZFxuICogIC0ga2V5Ym9hcmQudW5iaW5kXG4gKiAgLSBrZXlib2FyZC5pbml0XG4gKiAgLSBrZXlib2FyZC5kZXN0cm95XG4gKlxuICogQWxsIGV2ZW50cyBjb250YWluIG9uZSBmaWVsZCB3aGljaCBpcyBub2RlLlxuICpcbiAqIEEgZGVmYXVsdCBiaW5kaW5nIGZvciB0aGUga2V5Ym9hcmQgbWF5IGJlIHNwZWNpZmllZCB2aWEgdGhlXG4gKiBga2V5Ym9hcmQuYmluZFRvYCBjb25maWd1cmF0aW9uIG9wdGlvbi5cbiAqXG4gKiBAcGFyYW0ge0NvbmZpZ30gY29uZmlnXG4gKiBAcGFyYW0ge0V2ZW50QnVzfSBldmVudEJ1c1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBLZXlib2FyZChjb25maWcsIGV2ZW50QnVzKSB7XG4gIHZhciBzZWxmID0gdGhpcztcblxuICB0aGlzLl9jb25maWcgPSBjb25maWcgfHwge307XG4gIHRoaXMuX2V2ZW50QnVzID0gZXZlbnRCdXM7XG5cbiAgdGhpcy5fa2V5ZG93bkhhbmRsZXIgPSB0aGlzLl9rZXlkb3duSGFuZGxlci5iaW5kKHRoaXMpO1xuICB0aGlzLl9rZXl1cEhhbmRsZXIgPSB0aGlzLl9rZXl1cEhhbmRsZXIuYmluZCh0aGlzKTtcblxuICAvLyBwcm9wZXJseSBjbGVhbiBkb20gcmVnaXN0cmF0aW9uc1xuICBldmVudEJ1cy5vbignZGlhZ3JhbS5kZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgc2VsZi5fZmlyZSgnZGVzdHJveScpO1xuXG4gICAgc2VsZi51bmJpbmQoKTtcbiAgfSk7XG5cbiAgZXZlbnRCdXMub24oJ2RpYWdyYW0uaW5pdCcsIGZ1bmN0aW9uKCkge1xuICAgIHNlbGYuX2ZpcmUoJ2luaXQnKTtcbiAgfSk7XG5cbiAgZXZlbnRCdXMub24oJ2F0dGFjaCcsIGZ1bmN0aW9uKCkge1xuICAgIGlmIChjb25maWcgJiYgY29uZmlnLmJpbmRUbykge1xuICAgICAgc2VsZi5iaW5kKGNvbmZpZy5iaW5kVG8pO1xuICAgIH1cbiAgfSk7XG5cbiAgZXZlbnRCdXMub24oJ2RldGFjaCcsIGZ1bmN0aW9uKCkge1xuICAgIHNlbGYudW5iaW5kKCk7XG4gIH0pO1xufVxuXG5LZXlib2FyZC4kaW5qZWN0ID0gW1xuICAnY29uZmlnLmtleWJvYXJkJyxcbiAgJ2V2ZW50QnVzJ1xuXTtcblxuS2V5Ym9hcmQucHJvdG90eXBlLl9rZXlkb3duSGFuZGxlciA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gIHRoaXMuX2tleUhhbmRsZXIoZXZlbnQsIEtFWURPV05fRVZFTlQpO1xufTtcblxuS2V5Ym9hcmQucHJvdG90eXBlLl9rZXl1cEhhbmRsZXIgPSBmdW5jdGlvbihldmVudCkge1xuICB0aGlzLl9rZXlIYW5kbGVyKGV2ZW50LCBLRVlVUF9FVkVOVCk7XG59O1xuXG5LZXlib2FyZC5wcm90b3R5cGUuX2tleUhhbmRsZXIgPSBmdW5jdGlvbihldmVudCwgdHlwZSkge1xuICB2YXIgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0LFxuICAgICAgZXZlbnRCdXNSZXN1bHQ7XG5cbiAgaWYgKGlzSW5wdXQodGFyZ2V0KSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBjb250ZXh0ID0ge1xuICAgIGtleUV2ZW50OiBldmVudFxuICB9O1xuXG4gIGV2ZW50QnVzUmVzdWx0ID0gdGhpcy5fZXZlbnRCdXMuZmlyZSh0eXBlIHx8IEtFWURPV05fRVZFTlQsIGNvbnRleHQpO1xuXG4gIGlmIChldmVudEJ1c1Jlc3VsdCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gIH1cbn07XG5cbktleWJvYXJkLnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24obm9kZSkge1xuXG4gIC8vIG1ha2Ugc3VyZSB0aGF0IHRoZSBrZXlib2FyZCBpcyBvbmx5IGJvdW5kIG9uY2UgdG8gdGhlIERPTVxuICB0aGlzLnVuYmluZCgpO1xuXG4gIHRoaXMuX25vZGUgPSBub2RlO1xuXG4gIC8vIGJpbmQga2V5IGV2ZW50c1xuICBkb21FdmVudC5iaW5kKG5vZGUsICdrZXlkb3duJywgdGhpcy5fa2V5ZG93bkhhbmRsZXIsIHRydWUpO1xuICBkb21FdmVudC5iaW5kKG5vZGUsICdrZXl1cCcsIHRoaXMuX2tleXVwSGFuZGxlciwgdHJ1ZSk7XG5cbiAgdGhpcy5fZmlyZSgnYmluZCcpO1xufTtcblxuS2V5Ym9hcmQucHJvdG90eXBlLmdldEJpbmRpbmcgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuX25vZGU7XG59O1xuXG5LZXlib2FyZC5wcm90b3R5cGUudW5iaW5kID0gZnVuY3Rpb24oKSB7XG4gIHZhciBub2RlID0gdGhpcy5fbm9kZTtcblxuICBpZiAobm9kZSkge1xuICAgIHRoaXMuX2ZpcmUoJ3VuYmluZCcpO1xuXG4gICAgLy8gdW5iaW5kIGtleSBldmVudHNcbiAgICBkb21FdmVudC51bmJpbmQobm9kZSwgJ2tleWRvd24nLCB0aGlzLl9rZXlkb3duSGFuZGxlciwgdHJ1ZSk7XG4gICAgZG9tRXZlbnQudW5iaW5kKG5vZGUsICdrZXl1cCcsIHRoaXMuX2tleXVwSGFuZGxlciwgdHJ1ZSk7XG4gIH1cblxuICB0aGlzLl9ub2RlID0gbnVsbDtcbn07XG5cbktleWJvYXJkLnByb3RvdHlwZS5fZmlyZSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gIHRoaXMuX2V2ZW50QnVzLmZpcmUoJ2tleWJvYXJkLicgKyBldmVudCwgeyBub2RlOiB0aGlzLl9ub2RlIH0pO1xufTtcblxuLyoqXG4gKiBBZGQgYSBsaXN0ZW5lciBmdW5jdGlvbiB0aGF0IGlzIG5vdGlmaWVkIHdpdGggYEtleWJvYXJkRXZlbnRgIHdoZW5ldmVyXG4gKiB0aGUga2V5Ym9hcmQgaXMgYm91bmQgYW5kIHRoZSB1c2VyIHByZXNzZXMgYSBrZXkuIElmIG5vIHByaW9yaXR5IGlzXG4gKiBwcm92aWRlZCwgdGhlIGRlZmF1bHQgdmFsdWUgb2YgMTAwMCBpcyB1c2VkLlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBbcHJpb3JpdHldXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBsaXN0ZW5lclxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGVcbiAqL1xuS2V5Ym9hcmQucHJvdG90eXBlLmFkZExpc3RlbmVyID0gZnVuY3Rpb24ocHJpb3JpdHksIGxpc3RlbmVyLCB0eXBlKSB7XG4gIGlmIChpc0Z1bmN0aW9uKHByaW9yaXR5KSkge1xuICAgIHR5cGUgPSBsaXN0ZW5lcjtcbiAgICBsaXN0ZW5lciA9IHByaW9yaXR5O1xuICAgIHByaW9yaXR5ID0gREVGQVVMVF9QUklPUklUWTtcbiAgfVxuXG4gIHRoaXMuX2V2ZW50QnVzLm9uKHR5cGUgfHwgS0VZRE9XTl9FVkVOVCwgcHJpb3JpdHksIGxpc3RlbmVyKTtcbn07XG5cbktleWJvYXJkLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9IGZ1bmN0aW9uKGxpc3RlbmVyLCB0eXBlKSB7XG4gIHRoaXMuX2V2ZW50QnVzLm9mZih0eXBlIHx8IEtFWURPV05fRVZFTlQsIGxpc3RlbmVyKTtcbn07XG5cbktleWJvYXJkLnByb3RvdHlwZS5oYXNNb2RpZmllciA9IGhhc01vZGlmaWVyO1xuS2V5Ym9hcmQucHJvdG90eXBlLmlzQ21kID0gaXNDbWQ7XG5LZXlib2FyZC5wcm90b3R5cGUuaXNTaGlmdCA9IGlzU2hpZnQ7XG5LZXlib2FyZC5wcm90b3R5cGUuaXNLZXkgPSBpc0tleTtcblxuXG5cbi8vIGhlbHBlcnMgLy8vLy8vL1xuXG5mdW5jdGlvbiBpc0lucHV0KHRhcmdldCkge1xuICByZXR1cm4gdGFyZ2V0ICYmIChkb21NYXRjaGVzKHRhcmdldCwgJ2lucHV0LCB0ZXh0YXJlYScpIHx8IHRhcmdldC5jb250ZW50RWRpdGFibGUgPT09ICd0cnVlJyk7XG59XG4iLCJpbXBvcnQge1xuICBpc0NtZCxcbiAgaXNLZXksXG4gIGlzU2hpZnRcbn0gZnJvbSAnLi9LZXlib2FyZFV0aWwnO1xuXG52YXIgTE9XX1BSSU9SSVRZID0gNTAwO1xuXG5leHBvcnQgdmFyIEtFWUNPREVfQyA9IDY3O1xuZXhwb3J0IHZhciBLRVlDT0RFX1YgPSA4NjtcbmV4cG9ydCB2YXIgS0VZQ09ERV9ZID0gODk7XG5leHBvcnQgdmFyIEtFWUNPREVfWiA9IDkwO1xuXG5leHBvcnQgdmFyIEtFWVNfQ09QWSA9IFsnYycsICdDJywgS0VZQ09ERV9DIF07XG5leHBvcnQgdmFyIEtFWVNfUEFTVEUgPSBbICd2JywgJ1YnLCBLRVlDT0RFX1YgXTtcbmV4cG9ydCB2YXIgS0VZU19SRURPID0gWyAneScsICdZJywgS0VZQ09ERV9ZIF07XG5leHBvcnQgdmFyIEtFWVNfVU5ETyA9IFsgJ3onLCAnWicsIEtFWUNPREVfWiBdO1xuXG5cbi8qKlxuICogQWRkcyBkZWZhdWx0IGtleWJvYXJkIGJpbmRpbmdzLlxuICpcbiAqIFRoaXMgZG9lcyBub3QgcHVsbCBpbiBhbnkgZmVhdHVyZXMgd2lsbCBiaW5kIG9ubHkgYWN0aW9ucyB0aGF0XG4gKiBoYXZlIHByZXZpb3VzbHkgYmVlbiByZWdpc3RlcmVkIGFnYWluc3QgdGhlIGVkaXRvckFjdGlvbnMgY29tcG9uZW50LlxuICpcbiAqIEBwYXJhbSB7RXZlbnRCdXN9IGV2ZW50QnVzXG4gKiBAcGFyYW0ge0tleWJvYXJkfSBrZXlib2FyZFxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBLZXlib2FyZEJpbmRpbmdzKGV2ZW50QnVzLCBrZXlib2FyZCkge1xuXG4gIHZhciBzZWxmID0gdGhpcztcblxuICBldmVudEJ1cy5vbignZWRpdG9yQWN0aW9ucy5pbml0JywgTE9XX1BSSU9SSVRZLCBmdW5jdGlvbihldmVudCkge1xuXG4gICAgdmFyIGVkaXRvckFjdGlvbnMgPSBldmVudC5lZGl0b3JBY3Rpb25zO1xuXG4gICAgc2VsZi5yZWdpc3RlckJpbmRpbmdzKGtleWJvYXJkLCBlZGl0b3JBY3Rpb25zKTtcbiAgfSk7XG59XG5cbktleWJvYXJkQmluZGluZ3MuJGluamVjdCA9IFtcbiAgJ2V2ZW50QnVzJyxcbiAgJ2tleWJvYXJkJ1xuXTtcblxuXG4vKipcbiAqIFJlZ2lzdGVyIGF2YWlsYWJsZSBrZXlib2FyZCBiaW5kaW5ncy5cbiAqXG4gKiBAcGFyYW0ge0tleWJvYXJkfSBrZXlib2FyZFxuICogQHBhcmFtIHtFZGl0b3JBY3Rpb25zfSBlZGl0b3JBY3Rpb25zXG4gKi9cbktleWJvYXJkQmluZGluZ3MucHJvdG90eXBlLnJlZ2lzdGVyQmluZGluZ3MgPSBmdW5jdGlvbihrZXlib2FyZCwgZWRpdG9yQWN0aW9ucykge1xuXG4gIC8qKlxuICAgKiBBZGQga2V5Ym9hcmQgYmluZGluZyBpZiByZXNwZWN0aXZlIGVkaXRvciBhY3Rpb25cbiAgICogaXMgcmVnaXN0ZXJlZC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGFjdGlvbiBuYW1lXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIHRoYXQgaW1wbGVtZW50cyB0aGUga2V5IGJpbmRpbmdcbiAgICovXG4gIGZ1bmN0aW9uIGFkZExpc3RlbmVyKGFjdGlvbiwgZm4pIHtcblxuICAgIGlmIChlZGl0b3JBY3Rpb25zLmlzUmVnaXN0ZXJlZChhY3Rpb24pKSB7XG4gICAgICBrZXlib2FyZC5hZGRMaXN0ZW5lcihmbik7XG4gICAgfVxuICB9XG5cblxuICAvLyB1bmRvXG4gIC8vIChDVFJMfENNRCkgKyBaXG4gIGFkZExpc3RlbmVyKCd1bmRvJywgZnVuY3Rpb24oY29udGV4dCkge1xuXG4gICAgdmFyIGV2ZW50ID0gY29udGV4dC5rZXlFdmVudDtcblxuICAgIGlmIChpc0NtZChldmVudCkgJiYgIWlzU2hpZnQoZXZlbnQpICYmIGlzS2V5KEtFWVNfVU5ETywgZXZlbnQpKSB7XG4gICAgICBlZGl0b3JBY3Rpb25zLnRyaWdnZXIoJ3VuZG8nKTtcblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9KTtcblxuICAvLyByZWRvXG4gIC8vIENUUkwgKyBZXG4gIC8vIENNRCArIFNISUZUICsgWlxuICBhZGRMaXN0ZW5lcigncmVkbycsIGZ1bmN0aW9uKGNvbnRleHQpIHtcblxuICAgIHZhciBldmVudCA9IGNvbnRleHQua2V5RXZlbnQ7XG5cbiAgICBpZiAoaXNDbWQoZXZlbnQpICYmIChpc0tleShLRVlTX1JFRE8sIGV2ZW50KSB8fCAoaXNLZXkoS0VZU19VTkRPLCBldmVudCkgJiYgaXNTaGlmdChldmVudCkpKSkge1xuICAgICAgZWRpdG9yQWN0aW9ucy50cmlnZ2VyKCdyZWRvJyk7XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gY29weVxuICAvLyBDVFJML0NNRCArIENcbiAgYWRkTGlzdGVuZXIoJ2NvcHknLCBmdW5jdGlvbihjb250ZXh0KSB7XG5cbiAgICB2YXIgZXZlbnQgPSBjb250ZXh0LmtleUV2ZW50O1xuXG4gICAgaWYgKGlzQ21kKGV2ZW50KSAmJiBpc0tleShLRVlTX0NPUFksIGV2ZW50KSkge1xuICAgICAgZWRpdG9yQWN0aW9ucy50cmlnZ2VyKCdjb3B5Jyk7XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gcGFzdGVcbiAgLy8gQ1RSTC9DTUQgKyBWXG4gIGFkZExpc3RlbmVyKCdwYXN0ZScsIGZ1bmN0aW9uKGNvbnRleHQpIHtcblxuICAgIHZhciBldmVudCA9IGNvbnRleHQua2V5RXZlbnQ7XG5cbiAgICBpZiAoaXNDbWQoZXZlbnQpICYmIGlzS2V5KEtFWVNfUEFTVEUsIGV2ZW50KSkge1xuICAgICAgZWRpdG9yQWN0aW9ucy50cmlnZ2VyKCdwYXN0ZScpO1xuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIHpvb20gaW4gb25lIHN0ZXBcbiAgLy8gQ1RSTC9DTUQgKyArXG4gIGFkZExpc3RlbmVyKCdzdGVwWm9vbScsIGZ1bmN0aW9uKGNvbnRleHQpIHtcblxuICAgIHZhciBldmVudCA9IGNvbnRleHQua2V5RXZlbnQ7XG5cbiAgICAvLyBxdWlyazogaXQgaGFzIHRvIGJlIHRyaWdnZXJlZCBieSBgPWAgYXMgd2VsbCB0byB3b3JrIG9uIGludGVybmF0aW9uYWwga2V5Ym9hcmQgbGF5b3V0XG4gICAgLy8gY2Y6IGh0dHBzOi8vZ2l0aHViLmNvbS9icG1uLWlvL2JwbW4tanMvaXNzdWVzLzEzNjIjaXNzdWVjb21tZW50LTcyMjk4OTc1NFxuICAgIGlmIChpc0tleShbICcrJywgJ0FkZCcsICc9JyBdLCBldmVudCkgJiYgaXNDbWQoZXZlbnQpKSB7XG4gICAgICBlZGl0b3JBY3Rpb25zLnRyaWdnZXIoJ3N0ZXBab29tJywgeyB2YWx1ZTogMSB9KTtcblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9KTtcblxuICAvLyB6b29tIG91dCBvbmUgc3RlcFxuICAvLyBDVFJMICsgLVxuICBhZGRMaXN0ZW5lcignc3RlcFpvb20nLCBmdW5jdGlvbihjb250ZXh0KSB7XG5cbiAgICB2YXIgZXZlbnQgPSBjb250ZXh0LmtleUV2ZW50O1xuXG4gICAgaWYgKGlzS2V5KFsgJy0nLCAnU3VidHJhY3QnIF0sIGV2ZW50KSAmJiBpc0NtZChldmVudCkpIHtcbiAgICAgIGVkaXRvckFjdGlvbnMudHJpZ2dlcignc3RlcFpvb20nLCB7IHZhbHVlOiAtMSB9KTtcblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9KTtcblxuICAvLyB6b29tIHRvIHRoZSBkZWZhdWx0IGxldmVsXG4gIC8vIENUUkwgKyAwXG4gIGFkZExpc3RlbmVyKCd6b29tJywgZnVuY3Rpb24oY29udGV4dCkge1xuXG4gICAgdmFyIGV2ZW50ID0gY29udGV4dC5rZXlFdmVudDtcblxuICAgIGlmIChpc0tleSgnMCcsIGV2ZW50KSAmJiBpc0NtZChldmVudCkpIHtcbiAgICAgIGVkaXRvckFjdGlvbnMudHJpZ2dlcignem9vbScsIHsgdmFsdWU6IDEgfSk7XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gZGVsZXRlIHNlbGVjdGVkIGVsZW1lbnRcbiAgLy8gREVMXG4gIGFkZExpc3RlbmVyKCdyZW1vdmVTZWxlY3Rpb24nLCBmdW5jdGlvbihjb250ZXh0KSB7XG5cbiAgICB2YXIgZXZlbnQgPSBjb250ZXh0LmtleUV2ZW50O1xuXG4gICAgaWYgKGlzS2V5KFsnQmFja3NwYWNlJywgJ0RlbGV0ZScsICdEZWwnIF0sIGV2ZW50KSkge1xuICAgICAgZWRpdG9yQWN0aW9ucy50cmlnZ2VyKCdyZW1vdmVTZWxlY3Rpb24nKTtcblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9KTtcbn07IiwiaW1wb3J0IEtleWJvYXJkIGZyb20gJy4vS2V5Ym9hcmQnO1xuaW1wb3J0IEtleWJvYXJkQmluZGluZ3MgZnJvbSAnLi9LZXlib2FyZEJpbmRpbmdzJztcblxuZXhwb3J0IGRlZmF1bHQge1xuICBfX2luaXRfXzogWyAna2V5Ym9hcmQnLCAna2V5Ym9hcmRCaW5kaW5ncycgXSxcbiAga2V5Ym9hcmQ6IFsgJ3R5cGUnLCBLZXlib2FyZCBdLFxuICBrZXlib2FyZEJpbmRpbmdzOiBbICd0eXBlJywgS2V5Ym9hcmRCaW5kaW5ncyBdXG59O1xuIiwiaW1wb3J0IHsgYXNzaWduIH0gZnJvbSAnbWluLWRhc2gnO1xuXG5cbnZhciBERUZBVUxUX0NPTkZJRyA9IHtcbiAgbW92ZVNwZWVkOiA1MCxcbiAgbW92ZVNwZWVkQWNjZWxlcmF0ZWQ6IDIwMFxufTtcblxuXG4vKipcbiAqIEEgZmVhdHVyZSB0aGF0IGFsbG93cyB1c2VycyB0byBtb3ZlIHRoZSBjYW52YXMgdXNpbmcgdGhlIGtleWJvYXJkLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWdcbiAqIEBwYXJhbSB7bnVtYmVyfSBbY29uZmlnLm1vdmVTcGVlZD01MF1cbiAqIEBwYXJhbSB7bnVtYmVyfSBbY29uZmlnLm1vdmVTcGVlZEFjY2VsZXJhdGVkPTIwMF1cbiAqIEBwYXJhbSB7S2V5Ym9hcmR9IGtleWJvYXJkXG4gKiBAcGFyYW0ge0NhbnZhc30gY2FudmFzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEtleWJvYXJkTW92ZShcbiAgICBjb25maWcsXG4gICAga2V5Ym9hcmQsXG4gICAgY2FudmFzXG4pIHtcblxuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgdGhpcy5fY29uZmlnID0gYXNzaWduKHt9LCBERUZBVUxUX0NPTkZJRywgY29uZmlnIHx8IHt9KTtcblxuICBrZXlib2FyZC5hZGRMaXN0ZW5lcihhcnJvd3NMaXN0ZW5lcik7XG5cblxuICBmdW5jdGlvbiBhcnJvd3NMaXN0ZW5lcihjb250ZXh0KSB7XG5cbiAgICB2YXIgZXZlbnQgPSBjb250ZXh0LmtleUV2ZW50LFxuICAgICAgICBjb25maWcgPSBzZWxmLl9jb25maWc7XG5cbiAgICBpZiAoIWtleWJvYXJkLmlzQ21kKGV2ZW50KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChrZXlib2FyZC5pc0tleShbXG4gICAgICAnQXJyb3dMZWZ0JywgJ0xlZnQnLFxuICAgICAgJ0Fycm93VXAnLCAnVXAnLFxuICAgICAgJ0Fycm93RG93bicsICdEb3duJyxcbiAgICAgICdBcnJvd1JpZ2h0JywgJ1JpZ2h0J1xuICAgIF0sIGV2ZW50KSkge1xuXG4gICAgICB2YXIgc3BlZWQgPSAoXG4gICAgICAgIGtleWJvYXJkLmlzU2hpZnQoZXZlbnQpID9cbiAgICAgICAgICBjb25maWcubW92ZVNwZWVkQWNjZWxlcmF0ZWQgOlxuICAgICAgICAgIGNvbmZpZy5tb3ZlU3BlZWRcbiAgICAgICk7XG5cbiAgICAgIHZhciBkaXJlY3Rpb247XG5cbiAgICAgIHN3aXRjaCAoZXZlbnQua2V5KSB7XG4gICAgICBjYXNlICdBcnJvd0xlZnQnOlxuICAgICAgY2FzZSAnTGVmdCc6XG4gICAgICAgIGRpcmVjdGlvbiA9ICdsZWZ0JztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdBcnJvd1VwJzpcbiAgICAgIGNhc2UgJ1VwJzpcbiAgICAgICAgZGlyZWN0aW9uID0gJ3VwJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdBcnJvd1JpZ2h0JzpcbiAgICAgIGNhc2UgJ1JpZ2h0JzpcbiAgICAgICAgZGlyZWN0aW9uID0gJ3JpZ2h0JztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdBcnJvd0Rvd24nOlxuICAgICAgY2FzZSAnRG93bic6XG4gICAgICAgIGRpcmVjdGlvbiA9ICdkb3duJztcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIHNlbGYubW92ZUNhbnZhcyh7XG4gICAgICAgIHNwZWVkOiBzcGVlZCxcbiAgICAgICAgZGlyZWN0aW9uOiBkaXJlY3Rpb25cbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICB0aGlzLm1vdmVDYW52YXMgPSBmdW5jdGlvbihvcHRzKSB7XG5cbiAgICB2YXIgZHggPSAwLFxuICAgICAgICBkeSA9IDAsXG4gICAgICAgIHNwZWVkID0gb3B0cy5zcGVlZDtcblxuICAgIHZhciBhY3R1YWxTcGVlZCA9IHNwZWVkIC8gTWF0aC5taW4oTWF0aC5zcXJ0KGNhbnZhcy52aWV3Ym94KCkuc2NhbGUpLCAxKTtcblxuICAgIHN3aXRjaCAob3B0cy5kaXJlY3Rpb24pIHtcbiAgICBjYXNlICdsZWZ0JzogLy8gTGVmdFxuICAgICAgZHggPSBhY3R1YWxTcGVlZDtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3VwJzogLy8gVXBcbiAgICAgIGR5ID0gYWN0dWFsU3BlZWQ7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdyaWdodCc6IC8vIFJpZ2h0XG4gICAgICBkeCA9IC1hY3R1YWxTcGVlZDtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2Rvd24nOiAvLyBEb3duXG4gICAgICBkeSA9IC1hY3R1YWxTcGVlZDtcbiAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIGNhbnZhcy5zY3JvbGwoe1xuICAgICAgZHg6IGR4LFxuICAgICAgZHk6IGR5XG4gICAgfSk7XG4gIH07XG5cbn1cblxuXG5LZXlib2FyZE1vdmUuJGluamVjdCA9IFtcbiAgJ2NvbmZpZy5rZXlib2FyZE1vdmUnLFxuICAna2V5Ym9hcmQnLFxuICAnY2FudmFzJ1xuXTtcbiIsImltcG9ydCBLZXlib2FyZE1vZHVsZSBmcm9tICcuLi8uLi9mZWF0dXJlcy9rZXlib2FyZCc7XG5cbmltcG9ydCBLZXlib2FyZE1vdmUgZnJvbSAnLi9LZXlib2FyZE1vdmUnO1xuXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgX19kZXBlbmRzX186IFtcbiAgICBLZXlib2FyZE1vZHVsZVxuICBdLFxuICBfX2luaXRfXzogWyAna2V5Ym9hcmRNb3ZlJyBdLFxuICBrZXlib2FyZE1vdmU6IFsgJ3R5cGUnLCBLZXlib2FyZE1vdmUgXVxufTsiLCJpbXBvcnQge1xuICBjbGFzc2VzIGFzIGRvbUNsYXNzZXNcbn0gZnJvbSAnbWluLWRvbSc7XG5cbnZhciBDVVJTT1JfQ0xTX1BBVFRFUk4gPSAvXmRqcy1jdXJzb3ItLiokLztcblxuXG5leHBvcnQgZnVuY3Rpb24gc2V0KG1vZGUpIHtcbiAgdmFyIGNsYXNzZXMgPSBkb21DbGFzc2VzKGRvY3VtZW50LmJvZHkpO1xuXG4gIGNsYXNzZXMucmVtb3ZlTWF0Y2hpbmcoQ1VSU09SX0NMU19QQVRURVJOKTtcblxuICBpZiAobW9kZSkge1xuICAgIGNsYXNzZXMuYWRkKCdkanMtY3Vyc29yLScgKyBtb2RlKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdW5zZXQoKSB7XG4gIHNldChudWxsKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhhcyhtb2RlKSB7XG4gIHZhciBjbGFzc2VzID0gZG9tQ2xhc3Nlcyhkb2N1bWVudC5ib2R5KTtcblxuICByZXR1cm4gY2xhc3Nlcy5oYXMoJ2Rqcy1jdXJzb3ItJyArIG1vZGUpO1xufVxuIiwidmFyIFRSQVBfUFJJT1JJVFkgPSA1MDAwO1xuXG4vKipcbiAqIEluc3RhbGxzIGEgY2xpY2sgdHJhcCB0aGF0IHByZXZlbnRzIGEgZ2hvc3QgY2xpY2sgZm9sbG93aW5nIGEgZHJhZ2dpbmcgb3BlcmF0aW9uLlxuICpcbiAqIEByZXR1cm4ge0Z1bmN0aW9ufSBhIGZ1bmN0aW9uIHRvIGltbWVkaWF0ZWx5IHJlbW92ZSB0aGUgaW5zdGFsbGVkIHRyYXAuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnN0YWxsKGV2ZW50QnVzLCBldmVudE5hbWUpIHtcblxuICBldmVudE5hbWUgPSBldmVudE5hbWUgfHwgJ2VsZW1lbnQuY2xpY2snO1xuXG4gIGZ1bmN0aW9uIHRyYXAoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgZXZlbnRCdXMub25jZShldmVudE5hbWUsIFRSQVBfUFJJT1JJVFksIHRyYXApO1xuXG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICBldmVudEJ1cy5vZmYoZXZlbnROYW1lLCB0cmFwKTtcbiAgfTtcbn0iLCJleHBvcnQgZnVuY3Rpb24gY2VudGVyKGJvdW5kcykge1xuICByZXR1cm4ge1xuICAgIHg6IGJvdW5kcy54ICsgKGJvdW5kcy53aWR0aCAvIDIpLFxuICAgIHk6IGJvdW5kcy55ICsgKGJvdW5kcy5oZWlnaHQgLyAyKVxuICB9O1xufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBkZWx0YShhLCBiKSB7XG4gIHJldHVybiB7XG4gICAgeDogYS54IC0gYi54LFxuICAgIHk6IGEueSAtIGIueVxuICB9O1xufSIsImltcG9ydCB7XG4gIHNldCBhcyBjdXJzb3JTZXQsXG4gIHVuc2V0IGFzIGN1cnNvclVuc2V0XG59IGZyb20gJy4uLy4uL3V0aWwvQ3Vyc29yJztcblxuaW1wb3J0IHtcbiAgaW5zdGFsbCBhcyBpbnN0YWxsQ2xpY2tUcmFwXG59IGZyb20gJy4uLy4uL3V0aWwvQ2xpY2tUcmFwJztcblxuaW1wb3J0IHtcbiAgZGVsdGEgYXMgZGVsdGFQb3Ncbn0gZnJvbSAnLi4vLi4vdXRpbC9Qb3NpdGlvblV0aWwnO1xuXG5pbXBvcnQge1xuICBldmVudCBhcyBkb21FdmVudCxcbiAgY2xvc2VzdCBhcyBkb21DbG9zZXN0XG59IGZyb20gJ21pbi1kb20nO1xuXG5pbXBvcnQge1xuICB0b1BvaW50XG59IGZyb20gJy4uLy4uL3V0aWwvRXZlbnQnO1xuXG5cbnZhciBUSFJFU0hPTEQgPSAxNTtcblxuXG4vKipcbiAqIE1vdmUgdGhlIGNhbnZhcyB2aWEgbW91c2UuXG4gKlxuICogQHBhcmFtIHtFdmVudEJ1c30gZXZlbnRCdXNcbiAqIEBwYXJhbSB7Q2FudmFzfSBjYW52YXNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTW92ZUNhbnZhcyhldmVudEJ1cywgY2FudmFzKSB7XG5cbiAgdmFyIGNvbnRleHQ7XG5cblxuICAvLyBsaXN0ZW4gZm9yIG1vdmUgb24gZWxlbWVudCBtb3VzZSBkb3duO1xuICAvLyBhbGxvdyBvdGhlcnMgdG8gaG9vayBpbnRvIHRoZSBldmVudCBiZWZvcmUgdXMgdGhvdWdoXG4gIC8vIChkcmFnZ2luZyAvIGVsZW1lbnQgbW92aW5nIHdpbGwgZG8gdGhpcylcbiAgZXZlbnRCdXMub24oJ2VsZW1lbnQubW91c2Vkb3duJywgNTAwLCBmdW5jdGlvbihlKSB7XG4gICAgcmV0dXJuIGhhbmRsZVN0YXJ0KGUub3JpZ2luYWxFdmVudCk7XG4gIH0pO1xuXG5cbiAgZnVuY3Rpb24gaGFuZGxlTW92ZShldmVudCkge1xuXG4gICAgdmFyIHN0YXJ0ID0gY29udGV4dC5zdGFydCxcbiAgICAgICAgYnV0dG9uID0gY29udGV4dC5idXR0b24sXG4gICAgICAgIHBvc2l0aW9uID0gdG9Qb2ludChldmVudCksXG4gICAgICAgIGRlbHRhID0gZGVsdGFQb3MocG9zaXRpb24sIHN0YXJ0KTtcblxuICAgIGlmICghY29udGV4dC5kcmFnZ2luZyAmJiBsZW5ndGgoZGVsdGEpID4gVEhSRVNIT0xEKSB7XG4gICAgICBjb250ZXh0LmRyYWdnaW5nID0gdHJ1ZTtcblxuICAgICAgaWYgKGJ1dHRvbiA9PT0gMCkge1xuICAgICAgICBpbnN0YWxsQ2xpY2tUcmFwKGV2ZW50QnVzKTtcbiAgICAgIH1cblxuICAgICAgY3Vyc29yU2V0KCdncmFiJyk7XG4gICAgfVxuXG4gICAgaWYgKGNvbnRleHQuZHJhZ2dpbmcpIHtcblxuICAgICAgdmFyIGxhc3RQb3NpdGlvbiA9IGNvbnRleHQubGFzdCB8fCBjb250ZXh0LnN0YXJ0O1xuXG4gICAgICBkZWx0YSA9IGRlbHRhUG9zKHBvc2l0aW9uLCBsYXN0UG9zaXRpb24pO1xuXG4gICAgICBjYW52YXMuc2Nyb2xsKHtcbiAgICAgICAgZHg6IGRlbHRhLngsXG4gICAgICAgIGR5OiBkZWx0YS55XG4gICAgICB9KTtcblxuICAgICAgY29udGV4dC5sYXN0ID0gcG9zaXRpb247XG4gICAgfVxuXG4gICAgLy8gcHJldmVudCBzZWxlY3RcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICB9XG5cblxuICBmdW5jdGlvbiBoYW5kbGVFbmQoZXZlbnQpIHtcbiAgICBkb21FdmVudC51bmJpbmQoZG9jdW1lbnQsICdtb3VzZW1vdmUnLCBoYW5kbGVNb3ZlKTtcbiAgICBkb21FdmVudC51bmJpbmQoZG9jdW1lbnQsICdtb3VzZXVwJywgaGFuZGxlRW5kKTtcblxuICAgIGNvbnRleHQgPSBudWxsO1xuXG4gICAgY3Vyc29yVW5zZXQoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZVN0YXJ0KGV2ZW50KSB7XG5cbiAgICAvLyBldmVudCBpcyBhbHJlYWR5IGhhbmRsZWQgYnkgJy5kanMtZHJhZ2dhYmxlJ1xuICAgIGlmIChkb21DbG9zZXN0KGV2ZW50LnRhcmdldCwgJy5kanMtZHJhZ2dhYmxlJykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgYnV0dG9uID0gZXZlbnQuYnV0dG9uO1xuXG4gICAgLy8gcmVqZWN0IHJpZ2h0IG1vdXNlIGJ1dHRvbiBvciBtb2RpZmllciBrZXlcbiAgICBpZiAoYnV0dG9uID49IDIgfHwgZXZlbnQuY3RybEtleSB8fCBldmVudC5zaGlmdEtleSB8fCBldmVudC5hbHRLZXkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb250ZXh0ID0ge1xuICAgICAgYnV0dG9uOiBidXR0b24sXG4gICAgICBzdGFydDogdG9Qb2ludChldmVudClcbiAgICB9O1xuXG4gICAgZG9tRXZlbnQuYmluZChkb2N1bWVudCwgJ21vdXNlbW92ZScsIGhhbmRsZU1vdmUpO1xuICAgIGRvbUV2ZW50LmJpbmQoZG9jdW1lbnQsICdtb3VzZXVwJywgaGFuZGxlRW5kKTtcblxuICAgIC8vIHdlJ3ZlIGhhbmRsZWQgdGhlIGV2ZW50XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICB0aGlzLmlzQWN0aXZlID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuICEhY29udGV4dDtcbiAgfTtcblxufVxuXG5cbk1vdmVDYW52YXMuJGluamVjdCA9IFtcbiAgJ2V2ZW50QnVzJyxcbiAgJ2NhbnZhcydcbl07XG5cblxuXG4vLyBoZWxwZXJzIC8vLy8vLy9cblxuZnVuY3Rpb24gbGVuZ3RoKHBvaW50KSB7XG4gIHJldHVybiBNYXRoLnNxcnQoTWF0aC5wb3cocG9pbnQueCwgMikgKyBNYXRoLnBvdyhwb2ludC55LCAyKSk7XG59XG4iLCJpbXBvcnQgTW92ZUNhbnZhcyBmcm9tICcuL01vdmVDYW52YXMnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9faW5pdF9fOiBbICdtb3ZlQ2FudmFzJyBdLFxuICBtb3ZlQ2FudmFzOiBbICd0eXBlJywgTW92ZUNhbnZhcyBdXG59OyIsIi8qKlxuICogR2V0IHRoZSBsb2dhcml0aG0gb2YgeCB3aXRoIGJhc2UgMTBcbiAqIEBwYXJhbSAge0ludGVnZXJ9IHZhbHVlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsb2cxMCh4KSB7XG4gIHJldHVybiBNYXRoLmxvZyh4KSAvIE1hdGgubG9nKDEwKTtcbn1cblxuZXhwb3J0IHsgZGVsdGEgYXMgc3Vic3RyYWN0IH0gZnJvbSAnLi9Qb3NpdGlvblV0aWwnO1xuIiwiaW1wb3J0IHtcbiAgbG9nMTBcbn0gZnJvbSAnLi4vLi4vdXRpbC9NYXRoJztcblxuLyoqXG4gKiBHZXQgc3RlcCBzaXplIGZvciBnaXZlbiByYW5nZSBhbmQgbnVtYmVyIG9mIHN0ZXBzLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSByYW5nZVxuICogQHBhcmFtIHtudW1iZXJ9IHJhbmdlLm1pblxuICogQHBhcmFtIHtudW1iZXJ9IHJhbmdlLm1heFxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3RlcFNpemUocmFuZ2UsIHN0ZXBzKSB7XG5cbiAgdmFyIG1pbkxpbmVhclJhbmdlID0gbG9nMTAocmFuZ2UubWluKSxcbiAgICAgIG1heExpbmVhclJhbmdlID0gbG9nMTAocmFuZ2UubWF4KTtcblxuICB2YXIgYWJzb2x1dGVMaW5lYXJSYW5nZSA9IE1hdGguYWJzKG1pbkxpbmVhclJhbmdlKSArIE1hdGguYWJzKG1heExpbmVhclJhbmdlKTtcblxuICByZXR1cm4gYWJzb2x1dGVMaW5lYXJSYW5nZSAvIHN0ZXBzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2FwKHJhbmdlLCBzY2FsZSkge1xuICByZXR1cm4gTWF0aC5tYXgocmFuZ2UubWluLCBNYXRoLm1pbihyYW5nZS5tYXgsIHNjYWxlKSk7XG59XG4iLCJpbXBvcnQge1xuICBldmVudCBhcyBkb21FdmVudCxcbiAgY2xvc2VzdCBhcyBkb21DbG9zZXN0XG59IGZyb20gJ21pbi1kb20nO1xuXG5pbXBvcnQge1xuICBnZXRTdGVwU2l6ZSxcbiAgY2FwXG59IGZyb20gJy4vWm9vbVV0aWwnO1xuXG5pbXBvcnQge1xuICBsb2cxMFxufSBmcm9tICcuLi8uLi91dGlsL01hdGgnO1xuXG5pbXBvcnQge1xuICBiaW5kXG59IGZyb20gJ21pbi1kYXNoJztcblxudmFyIHNpZ24gPSBNYXRoLnNpZ24gfHwgZnVuY3Rpb24obikge1xuICByZXR1cm4gbiA+PSAwID8gMSA6IC0xO1xufTtcblxudmFyIFJBTkdFID0geyBtaW46IDAuMiwgbWF4OiA0IH0sXG4gICAgTlVNX1NURVBTID0gMTA7XG5cbnZhciBERUxUQV9USFJFU0hPTEQgPSAwLjE7XG5cbnZhciBERUZBVUxUX1NDQUxFID0gMC43NTtcblxuLyoqXG4gKiBBbiBpbXBsZW1lbnRhdGlvbiBvZiB6b29taW5nIGFuZCBzY3JvbGxpbmcgd2l0aGluIHRoZVxuICoge0BsaW5rIENhbnZhc30gdmlhIHRoZSBtb3VzZSB3aGVlbC5cbiAqXG4gKiBNb3VzZSB3aGVlbCB6b29taW5nIC8gc2Nyb2xsaW5nIG1heSBiZSBkaXNhYmxlZCB1c2luZ1xuICogdGhlIHtAbGluayB0b2dnbGUoZW5hYmxlZCl9IG1ldGhvZC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZ11cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NvbmZpZy5lbmFibGVkPXRydWVdIGRlZmF1bHQgZW5hYmxlZCBzdGF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IFtjb25maWcuc2NhbGU9Ljc1XSBzY3JvbGwgc2Vuc2l2aXR5XG4gKiBAcGFyYW0ge0V2ZW50QnVzfSBldmVudEJ1c1xuICogQHBhcmFtIHtDYW52YXN9IGNhbnZhc1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBab29tU2Nyb2xsKGNvbmZpZywgZXZlbnRCdXMsIGNhbnZhcykge1xuXG4gIGNvbmZpZyA9IGNvbmZpZyB8fCB7fTtcblxuICB0aGlzLl9lbmFibGVkID0gZmFsc2U7XG5cbiAgdGhpcy5fY2FudmFzID0gY2FudmFzO1xuICB0aGlzLl9jb250YWluZXIgPSBjYW52YXMuX2NvbnRhaW5lcjtcblxuICB0aGlzLl9oYW5kbGVXaGVlbCA9IGJpbmQodGhpcy5faGFuZGxlV2hlZWwsIHRoaXMpO1xuXG4gIHRoaXMuX3RvdGFsRGVsdGEgPSAwO1xuICB0aGlzLl9zY2FsZSA9IGNvbmZpZy5zY2FsZSB8fCBERUZBVUxUX1NDQUxFO1xuXG4gIHZhciBzZWxmID0gdGhpcztcblxuICBldmVudEJ1cy5vbignY2FudmFzLmluaXQnLCBmdW5jdGlvbihlKSB7XG4gICAgc2VsZi5faW5pdChjb25maWcuZW5hYmxlZCAhPT0gZmFsc2UpO1xuICB9KTtcbn1cblxuWm9vbVNjcm9sbC4kaW5qZWN0ID0gW1xuICAnY29uZmlnLnpvb21TY3JvbGwnLFxuICAnZXZlbnRCdXMnLFxuICAnY2FudmFzJ1xuXTtcblxuWm9vbVNjcm9sbC5wcm90b3R5cGUuc2Nyb2xsID0gZnVuY3Rpb24gc2Nyb2xsKGRlbHRhKSB7XG4gIHRoaXMuX2NhbnZhcy5zY3JvbGwoZGVsdGEpO1xufTtcblxuXG5ab29tU2Nyb2xsLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uIHJlc2V0KCkge1xuICB0aGlzLl9jYW52YXMuem9vbSgnZml0LXZpZXdwb3J0Jyk7XG59O1xuXG4vKipcbiAqIFpvb20gZGVwZW5kaW5nIG9uIGRlbHRhLlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YVxuICogQHBhcmFtIHtPYmplY3R9IHBvc2l0aW9uXG4gKi9cblpvb21TY3JvbGwucHJvdG90eXBlLnpvb20gPSBmdW5jdGlvbiB6b29tKGRlbHRhLCBwb3NpdGlvbikge1xuXG4gIC8vIHpvb20gd2l0aCBoYWxmIHRoZSBzdGVwIHNpemUgb2Ygc3RlcFpvb21cbiAgdmFyIHN0ZXBTaXplID0gZ2V0U3RlcFNpemUoUkFOR0UsIE5VTV9TVEVQUyAqIDIpO1xuXG4gIC8vIGFkZCB1bnRpbCB0aHJlc2hvbGQgcmVhY2hlZFxuICB0aGlzLl90b3RhbERlbHRhICs9IGRlbHRhO1xuXG4gIGlmIChNYXRoLmFicyh0aGlzLl90b3RhbERlbHRhKSA+IERFTFRBX1RIUkVTSE9MRCkge1xuICAgIHRoaXMuX3pvb20oZGVsdGEsIHBvc2l0aW9uLCBzdGVwU2l6ZSk7XG5cbiAgICAvLyByZXNldFxuICAgIHRoaXMuX3RvdGFsRGVsdGEgPSAwO1xuICB9XG59O1xuXG5cblpvb21TY3JvbGwucHJvdG90eXBlLl9oYW5kbGVXaGVlbCA9IGZ1bmN0aW9uIGhhbmRsZVdoZWVsKGV2ZW50KSB7XG5cbiAgLy8gZXZlbnQgaXMgYWxyZWFkeSBoYW5kbGVkIGJ5ICcuZGpzLXNjcm9sbGFibGUnXG4gIGlmIChkb21DbG9zZXN0KGV2ZW50LnRhcmdldCwgJy5kanMtc2Nyb2xsYWJsZScsIHRydWUpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIGVsZW1lbnQgPSB0aGlzLl9jb250YWluZXI7XG5cbiAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAvLyBwaW5jaCB0byB6b29tIGlzIG1hcHBlZCB0byB3aGVlbCArIGN0cmxLZXkgPSB0cnVlXG4gIC8vIGluIG1vZGVybiBicm93c2VycyAoISlcblxuICB2YXIgaXNab29tID0gZXZlbnQuY3RybEtleTtcblxuICB2YXIgaXNIb3Jpem9udGFsU2Nyb2xsID0gZXZlbnQuc2hpZnRLZXk7XG5cbiAgdmFyIGZhY3RvciA9IC0xICogdGhpcy5fc2NhbGUsXG4gICAgICBkZWx0YTtcblxuICBpZiAoaXNab29tKSB7XG4gICAgZmFjdG9yICo9IGV2ZW50LmRlbHRhTW9kZSA9PT0gMCA/IDAuMDIwIDogMC4zMjtcbiAgfSBlbHNlIHtcbiAgICBmYWN0b3IgKj0gZXZlbnQuZGVsdGFNb2RlID09PSAwID8gMS4wIDogMTYuMDtcbiAgfVxuXG4gIGlmIChpc1pvb20pIHtcbiAgICB2YXIgZWxlbWVudFJlY3QgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgdmFyIG9mZnNldCA9IHtcbiAgICAgIHg6IGV2ZW50LmNsaWVudFggLSBlbGVtZW50UmVjdC5sZWZ0LFxuICAgICAgeTogZXZlbnQuY2xpZW50WSAtIGVsZW1lbnRSZWN0LnRvcFxuICAgIH07XG5cbiAgICBkZWx0YSA9IChcbiAgICAgIE1hdGguc3FydChcbiAgICAgICAgTWF0aC5wb3coZXZlbnQuZGVsdGFZLCAyKSArXG4gICAgICAgIE1hdGgucG93KGV2ZW50LmRlbHRhWCwgMilcbiAgICAgICkgKiBzaWduKGV2ZW50LmRlbHRhWSkgKiBmYWN0b3JcbiAgICApO1xuXG4gICAgLy8gem9vbSBpbiByZWxhdGl2ZSB0byBkaWFncmFtIHt4LHl9IGNvb3JkaW5hdGVzXG4gICAgdGhpcy56b29tKGRlbHRhLCBvZmZzZXQpO1xuICB9IGVsc2Uge1xuXG4gICAgaWYgKGlzSG9yaXpvbnRhbFNjcm9sbCkge1xuICAgICAgZGVsdGEgPSB7XG4gICAgICAgIGR4OiBmYWN0b3IgKiBldmVudC5kZWx0YVksXG4gICAgICAgIGR5OiAwXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWx0YSA9IHtcbiAgICAgICAgZHg6IGZhY3RvciAqIGV2ZW50LmRlbHRhWCxcbiAgICAgICAgZHk6IGZhY3RvciAqIGV2ZW50LmRlbHRhWVxuICAgICAgfTtcbiAgICB9XG5cbiAgICB0aGlzLnNjcm9sbChkZWx0YSk7XG4gIH1cbn07XG5cbi8qKlxuICogWm9vbSB3aXRoIGZpeGVkIHN0ZXAgc2l6ZS5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gZGVsdGEgLSBab29tIGRlbHRhICgxIGZvciB6b29taW5nIGluLCAtMSBmb3Igb3V0KS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBwb3NpdGlvblxuICovXG5ab29tU2Nyb2xsLnByb3RvdHlwZS5zdGVwWm9vbSA9IGZ1bmN0aW9uIHN0ZXBab29tKGRlbHRhLCBwb3NpdGlvbikge1xuXG4gIHZhciBzdGVwU2l6ZSA9IGdldFN0ZXBTaXplKFJBTkdFLCBOVU1fU1RFUFMpO1xuXG4gIHRoaXMuX3pvb20oZGVsdGEsIHBvc2l0aW9uLCBzdGVwU2l6ZSk7XG59O1xuXG5cbi8qKlxuICogWm9vbSBpbi9vdXQgZ2l2ZW4gYSBzdGVwIHNpemUuXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhXG4gKiBAcGFyYW0ge09iamVjdH0gcG9zaXRpb25cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdGVwU2l6ZVxuICovXG5ab29tU2Nyb2xsLnByb3RvdHlwZS5fem9vbSA9IGZ1bmN0aW9uKGRlbHRhLCBwb3NpdGlvbiwgc3RlcFNpemUpIHtcbiAgdmFyIGNhbnZhcyA9IHRoaXMuX2NhbnZhcztcblxuICB2YXIgZGlyZWN0aW9uID0gZGVsdGEgPiAwID8gMSA6IC0xO1xuXG4gIHZhciBjdXJyZW50TGluZWFyWm9vbUxldmVsID0gbG9nMTAoY2FudmFzLnpvb20oKSk7XG5cbiAgLy8gc25hcCB0byBhIHByb3hpbWF0ZSB6b29tIHN0ZXBcbiAgdmFyIG5ld0xpbmVhclpvb21MZXZlbCA9IE1hdGgucm91bmQoY3VycmVudExpbmVhclpvb21MZXZlbCAvIHN0ZXBTaXplKSAqIHN0ZXBTaXplO1xuXG4gIC8vIGluY3JlYXNlIG9yIGRlY3JlYXNlIG9uZSB6b29tIHN0ZXAgaW4gdGhlIGdpdmVuIGRpcmVjdGlvblxuICBuZXdMaW5lYXJab29tTGV2ZWwgKz0gc3RlcFNpemUgKiBkaXJlY3Rpb247XG5cbiAgLy8gY2FsY3VsYXRlIHRoZSBhYnNvbHV0ZSBsb2dhcml0aG1pYyB6b29tIGxldmVsIGJhc2VkIG9uIHRoZSBsaW5lYXIgem9vbSBsZXZlbFxuICAvLyAoZS5nLiAyIGZvciBhbiBhYnNvbHV0ZSB4MiB6b29tKVxuICB2YXIgbmV3TG9nWm9vbUxldmVsID0gTWF0aC5wb3coMTAsIG5ld0xpbmVhclpvb21MZXZlbCk7XG5cbiAgY2FudmFzLnpvb20oY2FwKFJBTkdFLCBuZXdMb2dab29tTGV2ZWwpLCBwb3NpdGlvbik7XG59O1xuXG5cbi8qKlxuICogVG9nZ2xlIHRoZSB6b29tIHNjcm9sbCBhYmlsaXR5IHZpYSBtb3VzZSB3aGVlbC5cbiAqXG4gKiBAcGFyYW0gIHtib29sZWFufSBbbmV3RW5hYmxlZF0gbmV3IGVuYWJsZWQgc3RhdGVcbiAqL1xuWm9vbVNjcm9sbC5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24gdG9nZ2xlKG5ld0VuYWJsZWQpIHtcblxuICB2YXIgZWxlbWVudCA9IHRoaXMuX2NvbnRhaW5lcjtcbiAgdmFyIGhhbmRsZVdoZWVsID0gdGhpcy5faGFuZGxlV2hlZWw7XG5cbiAgdmFyIG9sZEVuYWJsZWQgPSB0aGlzLl9lbmFibGVkO1xuXG4gIGlmICh0eXBlb2YgbmV3RW5hYmxlZCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBuZXdFbmFibGVkID0gIW9sZEVuYWJsZWQ7XG4gIH1cblxuICAvLyBvbmx5IHJlYWN0IG9uIGFjdHVhbCBjaGFuZ2VzXG4gIGlmIChvbGRFbmFibGVkICE9PSBuZXdFbmFibGVkKSB7XG5cbiAgICAvLyBhZGQgb3IgcmVtb3ZlIHdoZWVsIGxpc3RlbmVyIGJhc2VkIG9uXG4gICAgLy8gY2hhbmdlZCBlbmFibGVkIHN0YXRlXG4gICAgZG9tRXZlbnRbbmV3RW5hYmxlZCA/ICdiaW5kJyA6ICd1bmJpbmQnXShlbGVtZW50LCAnd2hlZWwnLCBoYW5kbGVXaGVlbCwgZmFsc2UpO1xuICB9XG5cbiAgdGhpcy5fZW5hYmxlZCA9IG5ld0VuYWJsZWQ7XG5cbiAgcmV0dXJuIG5ld0VuYWJsZWQ7XG59O1xuXG5cblpvb21TY3JvbGwucHJvdG90eXBlLl9pbml0ID0gZnVuY3Rpb24obmV3RW5hYmxlZCkge1xuICB0aGlzLnRvZ2dsZShuZXdFbmFibGVkKTtcbn07XG4iLCJpbXBvcnQgWm9vbVNjcm9sbCBmcm9tICcuL1pvb21TY3JvbGwnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9faW5pdF9fOiBbICd6b29tU2Nyb2xsJyBdLFxuICB6b29tU2Nyb2xsOiBbICd0eXBlJywgWm9vbVNjcm9sbCBdXG59OyIsImltcG9ydCBpbmhlcml0cyBmcm9tICdpbmhlcml0cyc7XG5cbmltcG9ydCBWaWV3ZXIgZnJvbSAnLi9WaWV3ZXInO1xuXG5pbXBvcnQgS2V5Ym9hcmRNb3ZlTW9kdWxlIGZyb20gJ2RpYWdyYW0tanMvbGliL25hdmlnYXRpb24va2V5Ym9hcmQtbW92ZSc7XG5pbXBvcnQgTW92ZUNhbnZhc01vZHVsZSBmcm9tICdkaWFncmFtLWpzL2xpYi9uYXZpZ2F0aW9uL21vdmVjYW52YXMnO1xuaW1wb3J0IFpvb21TY3JvbGxNb2R1bGUgZnJvbSAnZGlhZ3JhbS1qcy9saWIvbmF2aWdhdGlvbi96b29tc2Nyb2xsJztcblxuXG4vKipcbiAqIEEgdmlld2VyIHRoYXQgaW5jbHVkZXMgbW91c2UgbmF2aWdhdGlvbiBmYWNpbGl0aWVzXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTmF2aWdhdGVkVmlld2VyKG9wdGlvbnMpIHtcbiAgVmlld2VyLmNhbGwodGhpcywgb3B0aW9ucyk7XG59XG5cbmluaGVyaXRzKE5hdmlnYXRlZFZpZXdlciwgVmlld2VyKTtcblxuXG5OYXZpZ2F0ZWRWaWV3ZXIucHJvdG90eXBlLl9uYXZpZ2F0aW9uTW9kdWxlcyA9IFtcbiAgS2V5Ym9hcmRNb3ZlTW9kdWxlLFxuICBNb3ZlQ2FudmFzTW9kdWxlLFxuICBab29tU2Nyb2xsTW9kdWxlXG5dO1xuXG5OYXZpZ2F0ZWRWaWV3ZXIucHJvdG90eXBlLl9tb2R1bGVzID0gW10uY29uY2F0KFxuICBWaWV3ZXIucHJvdG90eXBlLl9tb2R1bGVzLFxuICBOYXZpZ2F0ZWRWaWV3ZXIucHJvdG90eXBlLl9uYXZpZ2F0aW9uTW9kdWxlc1xuKTsiLCJpbXBvcnQge1xuICBmb3JFYWNoXG59IGZyb20gJ21pbi1kYXNoJztcblxuaW1wb3J0IHtcbiAgZXZlbnQgYXMgZG9tRXZlbnQsXG4gIGNsb3Nlc3QgYXMgZG9tQ2xvc2VzdFxufSBmcm9tICdtaW4tZG9tJztcblxuaW1wb3J0IEhhbW1lciBmcm9tICdoYW1tZXJqcyc7XG5cbmltcG9ydCB7XG4gIHRvUG9pbnRcbn0gZnJvbSAnLi4vLi4vdXRpbC9FdmVudCc7XG5cbnZhciBNSU5fWk9PTSA9IDAuMixcbiAgICBNQVhfWk9PTSA9IDQ7XG5cbnZhciBtb3VzZUV2ZW50cyA9IFtcbiAgJ21vdXNlZG93bicsXG4gICdtb3VzZXVwJyxcbiAgJ21vdXNlb3ZlcicsXG4gICdtb3VzZW91dCcsXG4gICdjbGljaycsXG4gICdkYmxjbGljaydcbl07XG5cbmZ1bmN0aW9uIGxvZygpIHtcblxuICAvLyBjb25zb2xlLmxvZy5hcHBseShjb25zb2xlLCBhcmd1bWVudHMpO1xufVxuXG5mdW5jdGlvbiBnZXQoc2VydmljZSwgaW5qZWN0b3IpIHtcbiAgcmV0dXJuIGluamVjdG9yLmdldChzZXJ2aWNlLCBmYWxzZSk7XG59XG5cbmZ1bmN0aW9uIHN0b3BFdmVudChldmVudCkge1xuXG4gIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgaWYgKHR5cGVvZiBldmVudC5zdG9wUHJvcGFnYXRpb24gPT09ICdmdW5jdGlvbicpIHtcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgfSBlbHNlIGlmIChldmVudC5zcmNFdmVudCAmJiB0eXBlb2YgZXZlbnQuc3JjRXZlbnQuc3RvcFByb3BhZ2F0aW9uID09PSAnZnVuY3Rpb24nKSB7XG5cbiAgICAvLyBpUGhvbmUgJiBpUGFkXG4gICAgZXZlbnQuc3JjRXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gIH1cblxuICBpZiAodHlwZW9mIGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuICB9XG59XG5cblxuZnVuY3Rpb24gY3JlYXRlVG91Y2hSZWNvZ25pemVyKG5vZGUpIHtcblxuICBmdW5jdGlvbiBzdG9wTW91c2UoZXZlbnQpIHtcblxuICAgIGZvckVhY2gobW91c2VFdmVudHMsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIGRvbUV2ZW50LmJpbmQobm9kZSwgZSwgc3RvcEV2ZW50LCB0cnVlKTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFsbG93TW91c2UoZXZlbnQpIHtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgZm9yRWFjaChtb3VzZUV2ZW50cywgZnVuY3Rpb24oZSkge1xuICAgICAgICBkb21FdmVudC51bmJpbmQobm9kZSwgZSwgc3RvcEV2ZW50LCB0cnVlKTtcbiAgICAgIH0pO1xuICAgIH0sIDUwMCk7XG4gIH1cblxuICBkb21FdmVudC5iaW5kKG5vZGUsICd0b3VjaHN0YXJ0Jywgc3RvcE1vdXNlLCB0cnVlKTtcbiAgZG9tRXZlbnQuYmluZChub2RlLCAndG91Y2hlbmQnLCBhbGxvd01vdXNlLCB0cnVlKTtcbiAgZG9tRXZlbnQuYmluZChub2RlLCAndG91Y2hjYW5jZWwnLCBhbGxvd01vdXNlLCB0cnVlKTtcblxuICAvLyBBIHRvdWNoIGV2ZW50IHJlY29nbml6ZXIgdGhhdCBoYW5kbGVzXG4gIC8vIHRvdWNoIGV2ZW50cyBvbmx5ICh3ZSBrbm93LCB3ZSBjYW4gYWxyZWFkeSBoYW5kbGVcbiAgLy8gbW91c2UgZXZlbnRzIG91dCBvZiB0aGUgYm94KVxuXG4gIHZhciByZWNvZ25pemVyID0gbmV3IEhhbW1lci5NYW5hZ2VyKG5vZGUsIHtcbiAgICBpbnB1dENsYXNzOiBIYW1tZXIuVG91Y2hJbnB1dCxcbiAgICByZWNvZ25pemVyczogW10sXG4gICAgZG9tRXZlbnRzOiB0cnVlXG4gIH0pO1xuXG5cbiAgdmFyIHRhcCA9IG5ldyBIYW1tZXIuVGFwKCk7XG4gIHZhciBwYW4gPSBuZXcgSGFtbWVyLlBhbih7IHRocmVzaG9sZDogMTAgfSk7XG4gIHZhciBwcmVzcyA9IG5ldyBIYW1tZXIuUHJlc3MoKTtcbiAgdmFyIHBpbmNoID0gbmV3IEhhbW1lci5QaW5jaCgpO1xuXG4gIHZhciBkb3VibGVUYXAgPSBuZXcgSGFtbWVyLlRhcCh7IGV2ZW50OiAnZG91YmxldGFwJywgdGFwczogMiB9KTtcblxuICBwaW5jaC5yZXF1aXJlRmFpbHVyZShwYW4pO1xuICBwaW5jaC5yZXF1aXJlRmFpbHVyZShwcmVzcyk7XG5cbiAgcmVjb2duaXplci5hZGQoWyBwYW4sIHByZXNzLCBwaW5jaCwgZG91YmxlVGFwLCB0YXAgXSk7XG5cbiAgcmVjb2duaXplci5yZXNldCA9IGZ1bmN0aW9uKGZvcmNlKSB7XG4gICAgdmFyIHJlY29nbml6ZXJzID0gdGhpcy5yZWNvZ25pemVycyxcbiAgICAgICAgc2Vzc2lvbiA9IHRoaXMuc2Vzc2lvbjtcblxuICAgIGlmIChzZXNzaW9uLnN0b3BwZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsb2coJ3JlY29nbml6ZXInLCAnc3RvcCcpO1xuXG4gICAgcmVjb2duaXplci5zdG9wKGZvcmNlKTtcblxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgaSwgcjtcblxuICAgICAgbG9nKCdyZWNvZ25pemVyJywgJ3Jlc2V0Jyk7XG4gICAgICBmb3IgKGkgPSAwOyAociA9IHJlY29nbml6ZXJzW2ldKTsgaSsrKSB7XG4gICAgICAgIHIucmVzZXQoKTtcbiAgICAgICAgci5zdGF0ZSA9IDg7IC8vIEZBSUxFRCBTVEFURVxuICAgICAgfVxuXG4gICAgICBzZXNzaW9uLmN1clJlY29nbml6ZXIgPSBudWxsO1xuICAgIH0sIDApO1xuICB9O1xuXG4gIHJlY29nbml6ZXIub24oJ2hhbW1lci5pbnB1dCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LnNyY0V2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICAgIHJlY29nbml6ZXIucmVzZXQodHJ1ZSk7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gcmVjb2duaXplcjtcbn1cblxuLyoqXG4gKiBBIHBsdWdpbiB0aGF0IHByb3ZpZGVzIHRvdWNoIGV2ZW50cyBmb3IgZWxlbWVudHMuXG4gKlxuICogQHBhcmFtIHtFdmVudEJ1c30gZXZlbnRCdXNcbiAqIEBwYXJhbSB7SW50ZXJhY3Rpb25FdmVudHN9IGludGVyYWN0aW9uRXZlbnRzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFRvdWNoSW50ZXJhY3Rpb25FdmVudHMoXG4gICAgaW5qZWN0b3IsIGNhbnZhcywgZXZlbnRCdXMsXG4gICAgZWxlbWVudFJlZ2lzdHJ5LCBpbnRlcmFjdGlvbkV2ZW50cykge1xuXG4gIC8vIG9wdGlvbmFsIGludGVncmF0aW9uc1xuICB2YXIgZHJhZ2dpbmcgPSBnZXQoJ2RyYWdnaW5nJywgaW5qZWN0b3IpLFxuICAgICAgbW92ZSA9IGdldCgnbW92ZScsIGluamVjdG9yKSxcbiAgICAgIGNvbnRleHRQYWQgPSBnZXQoJ2NvbnRleHRQYWQnLCBpbmplY3RvciksXG4gICAgICBwYWxldHRlID0gZ2V0KCdwYWxldHRlJywgaW5qZWN0b3IpO1xuXG4gIC8vIHRoZSB0b3VjaCByZWNvZ25pemVyXG4gIHZhciByZWNvZ25pemVyO1xuXG4gIGZ1bmN0aW9uIGhhbmRsZXIodHlwZSkge1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICBsb2coJ2VsZW1lbnQnLCB0eXBlLCBldmVudCk7XG5cbiAgICAgIGludGVyYWN0aW9uRXZlbnRzLmZpcmUodHlwZSwgZXZlbnQpO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBnZXRHZngodGFyZ2V0KSB7XG4gICAgdmFyIG5vZGUgPSBkb21DbG9zZXN0KHRhcmdldCwgJ3N2ZywgLmRqcy1lbGVtZW50JywgdHJ1ZSk7XG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cblxuICBmdW5jdGlvbiBpbml0RXZlbnRzKHN2Zykge1xuXG4gICAgLy8gdG91Y2ggcmVjb2duaXplclxuICAgIHJlY29nbml6ZXIgPSBjcmVhdGVUb3VjaFJlY29nbml6ZXIoc3ZnKTtcblxuICAgIHJlY29nbml6ZXIub24oJ2RvdWJsZXRhcCcsIGhhbmRsZXIoJ2VsZW1lbnQuZGJsY2xpY2snKSk7XG5cbiAgICByZWNvZ25pemVyLm9uKCd0YXAnLCBoYW5kbGVyKCdlbGVtZW50LmNsaWNrJykpO1xuXG4gICAgZnVuY3Rpb24gc3RhcnRHcmFiQ2FudmFzKGV2ZW50KSB7XG5cbiAgICAgIGxvZygnY2FudmFzJywgJ2dyYWIgc3RhcnQnKTtcblxuICAgICAgdmFyIGx4ID0gMCwgbHkgPSAwO1xuXG4gICAgICBmdW5jdGlvbiB1cGRhdGUoZSkge1xuXG4gICAgICAgIHZhciBkeCA9IGUuZGVsdGFYIC0gbHgsXG4gICAgICAgICAgICBkeSA9IGUuZGVsdGFZIC0gbHk7XG5cbiAgICAgICAgY2FudmFzLnNjcm9sbCh7IGR4OiBkeCwgZHk6IGR5IH0pO1xuXG4gICAgICAgIGx4ID0gZS5kZWx0YVg7XG4gICAgICAgIGx5ID0gZS5kZWx0YVk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGVuZChlKSB7XG4gICAgICAgIHJlY29nbml6ZXIub2ZmKCdwYW5tb3ZlJywgdXBkYXRlKTtcbiAgICAgICAgcmVjb2duaXplci5vZmYoJ3BhbmVuZCcsIGVuZCk7XG4gICAgICAgIHJlY29nbml6ZXIub2ZmKCdwYW5jYW5jZWwnLCBlbmQpO1xuXG4gICAgICAgIGxvZygnY2FudmFzJywgJ2dyYWIgZW5kJyk7XG4gICAgICB9XG5cbiAgICAgIHJlY29nbml6ZXIub24oJ3Bhbm1vdmUnLCB1cGRhdGUpO1xuICAgICAgcmVjb2duaXplci5vbigncGFuZW5kJywgZW5kKTtcbiAgICAgIHJlY29nbml6ZXIub24oJ3BhbmNhbmNlbCcsIGVuZCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc3RhcnRHcmFiKGV2ZW50KSB7XG5cbiAgICAgIHZhciBnZnggPSBnZXRHZngoZXZlbnQudGFyZ2V0KSxcbiAgICAgICAgICBlbGVtZW50ID0gZ2Z4ICYmIGVsZW1lbnRSZWdpc3RyeS5nZXQoZ2Z4KTtcblxuICAgICAgLy8gcmVjb2duaXplclxuICAgICAgaWYgKG1vdmUgJiYgY2FudmFzLmdldFJvb3RFbGVtZW50KCkgIT09IGVsZW1lbnQpIHtcbiAgICAgICAgbG9nKCdlbGVtZW50JywgJ21vdmUgc3RhcnQnLCBlbGVtZW50LCBldmVudCwgdHJ1ZSk7XG4gICAgICAgIHJldHVybiBtb3ZlLnN0YXJ0KGV2ZW50LCBlbGVtZW50LCB0cnVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0YXJ0R3JhYkNhbnZhcyhldmVudCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc3RhcnRab29tKGUpIHtcblxuICAgICAgbG9nKCdjYW52YXMnLCAnem9vbSBzdGFydCcpO1xuXG4gICAgICB2YXIgem9vbSA9IGNhbnZhcy56b29tKCksXG4gICAgICAgICAgbWlkID0gZS5jZW50ZXI7XG5cbiAgICAgIGZ1bmN0aW9uIHVwZGF0ZShlKSB7XG5cbiAgICAgICAgdmFyIHJhdGlvID0gMSAtICgxIC0gZS5zY2FsZSkgLyAxLjUwLFxuICAgICAgICAgICAgbmV3Wm9vbSA9IE1hdGgubWF4KE1JTl9aT09NLCBNYXRoLm1pbihNQVhfWk9PTSwgcmF0aW8gKiB6b29tKSk7XG5cbiAgICAgICAgY2FudmFzLnpvb20obmV3Wm9vbSwgbWlkKTtcblxuICAgICAgICBzdG9wRXZlbnQoZSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGVuZChlKSB7XG4gICAgICAgIHJlY29nbml6ZXIub2ZmKCdwaW5jaG1vdmUnLCB1cGRhdGUpO1xuICAgICAgICByZWNvZ25pemVyLm9mZigncGluY2hlbmQnLCBlbmQpO1xuICAgICAgICByZWNvZ25pemVyLm9mZigncGluY2hjYW5jZWwnLCBlbmQpO1xuXG4gICAgICAgIHJlY29nbml6ZXIucmVzZXQodHJ1ZSk7XG5cbiAgICAgICAgbG9nKCdjYW52YXMnLCAnem9vbSBlbmQnKTtcbiAgICAgIH1cblxuICAgICAgcmVjb2duaXplci5vbigncGluY2htb3ZlJywgdXBkYXRlKTtcbiAgICAgIHJlY29nbml6ZXIub24oJ3BpbmNoZW5kJywgZW5kKTtcbiAgICAgIHJlY29nbml6ZXIub24oJ3BpbmNoY2FuY2VsJywgZW5kKTtcbiAgICB9XG5cbiAgICByZWNvZ25pemVyLm9uKCdwYW5zdGFydCcsIHN0YXJ0R3JhYik7XG4gICAgcmVjb2duaXplci5vbigncHJlc3MnLCBzdGFydEdyYWIpO1xuXG4gICAgcmVjb2duaXplci5vbigncGluY2hzdGFydCcsIHN0YXJ0Wm9vbSk7XG4gIH1cblxuICBpZiAoZHJhZ2dpbmcpIHtcblxuICAgIC8vIHNpbXVsYXRlIGhvdmVyIGR1cmluZyBkcmFnZ2luZ1xuICAgIGV2ZW50QnVzLm9uKCdkcmFnLm1vdmUnLCBmdW5jdGlvbihldmVudCkge1xuXG4gICAgICB2YXIgb3JpZ2luYWxFdmVudCA9IGV2ZW50Lm9yaWdpbmFsRXZlbnQ7XG5cbiAgICAgIGlmICghb3JpZ2luYWxFdmVudCB8fCBvcmlnaW5hbEV2ZW50IGluc3RhbmNlb2YgTW91c2VFdmVudCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBwb3NpdGlvbiA9IHRvUG9pbnQob3JpZ2luYWxFdmVudCk7XG5cbiAgICAgIC8vIHRoaXMgZ2V0cyByZWFsbHkgZXhwZW5zaXZlIC4uLlxuICAgICAgdmFyIG5vZGUgPSBkb2N1bWVudC5lbGVtZW50RnJvbVBvaW50KHBvc2l0aW9uLngsIHBvc2l0aW9uLnkpLFxuICAgICAgICAgIGdmeCA9IGdldEdmeChub2RlKSxcbiAgICAgICAgICBlbGVtZW50ID0gZ2Z4ICYmIGVsZW1lbnRSZWdpc3RyeS5nZXQoZ2Z4KTtcblxuICAgICAgaWYgKGVsZW1lbnQgIT09IGV2ZW50LmhvdmVyKSB7XG4gICAgICAgIGlmIChldmVudC5ob3Zlcikge1xuICAgICAgICAgIGRyYWdnaW5nLm91dChldmVudCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZWxlbWVudCkge1xuICAgICAgICAgIGRyYWdnaW5nLmhvdmVyKHsgZWxlbWVudDogZWxlbWVudCwgZ2Z4OiBnZnggfSk7XG5cbiAgICAgICAgICBldmVudC5ob3ZlciA9IGVsZW1lbnQ7XG4gICAgICAgICAgZXZlbnQuaG92ZXJHZnggPSBnZng7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGlmIChjb250ZXh0UGFkKSB7XG5cbiAgICBldmVudEJ1cy5vbignY29udGV4dFBhZC5jcmVhdGUnLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgdmFyIG5vZGUgPSBldmVudC5wYWQuaHRtbDtcblxuICAgICAgLy8gdG91Y2ggcmVjb2duaXplclxuICAgICAgdmFyIHBhZFJlY29nbml6ZXIgPSBjcmVhdGVUb3VjaFJlY29nbml6ZXIobm9kZSk7XG5cbiAgICAgIHBhZFJlY29nbml6ZXIub24oJ3BhbnN0YXJ0JywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgbG9nKCdjb250ZXh0LXBhZCcsICdwYW5zdGFydCcsIGV2ZW50KTtcbiAgICAgICAgY29udGV4dFBhZC50cmlnZ2VyKCdkcmFnc3RhcnQnLCBldmVudCwgdHJ1ZSk7XG4gICAgICB9KTtcblxuICAgICAgcGFkUmVjb2duaXplci5vbigncHJlc3MnLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICBsb2coJ2NvbnRleHQtcGFkJywgJ3ByZXNzJywgZXZlbnQpO1xuICAgICAgICBjb250ZXh0UGFkLnRyaWdnZXIoJ2RyYWdzdGFydCcsIGV2ZW50LCB0cnVlKTtcbiAgICAgIH0pO1xuXG4gICAgICBwYWRSZWNvZ25pemVyLm9uKCd0YXAnLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICBsb2coJ2NvbnRleHQtcGFkJywgJ3RhcCcsIGV2ZW50KTtcbiAgICAgICAgY29udGV4dFBhZC50cmlnZ2VyKCdjbGljaycsIGV2ZW50KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgaWYgKHBhbGV0dGUpIHtcbiAgICBldmVudEJ1cy5vbigncGFsZXR0ZS5jcmVhdGUnLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgdmFyIG5vZGUgPSBldmVudC5jb250YWluZXI7XG5cbiAgICAgIC8vIHRvdWNoIHJlY29nbml6ZXJcbiAgICAgIHZhciBwYWRSZWNvZ25pemVyID0gY3JlYXRlVG91Y2hSZWNvZ25pemVyKG5vZGUpO1xuXG4gICAgICBwYWRSZWNvZ25pemVyLm9uKCdwYW5zdGFydCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIGxvZygncGFsZXR0ZScsICdwYW5zdGFydCcsIGV2ZW50KTtcbiAgICAgICAgcGFsZXR0ZS50cmlnZ2VyKCdkcmFnc3RhcnQnLCBldmVudCwgdHJ1ZSk7XG4gICAgICB9KTtcblxuICAgICAgcGFkUmVjb2duaXplci5vbigncHJlc3MnLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICBsb2coJ3BhbGV0dGUnLCAncHJlc3MnLCBldmVudCk7XG4gICAgICAgIHBhbGV0dGUudHJpZ2dlcignZHJhZ3N0YXJ0JywgZXZlbnQsIHRydWUpO1xuICAgICAgfSk7XG5cbiAgICAgIHBhZFJlY29nbml6ZXIub24oJ3RhcCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIGxvZygncGFsZXR0ZScsICd0YXAnLCBldmVudCk7XG4gICAgICAgIHBhbGV0dGUudHJpZ2dlcignY2xpY2snLCBldmVudCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGV2ZW50QnVzLm9uKCdjYW52YXMuaW5pdCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgaW5pdEV2ZW50cyhldmVudC5zdmcpO1xuICB9KTtcbn1cblxuXG5Ub3VjaEludGVyYWN0aW9uRXZlbnRzLiRpbmplY3QgPSBbXG4gICdpbmplY3RvcicsXG4gICdjYW52YXMnLFxuICAnZXZlbnRCdXMnLFxuICAnZWxlbWVudFJlZ2lzdHJ5JyxcbiAgJ2ludGVyYWN0aW9uRXZlbnRzJyxcbiAgJ3RvdWNoRml4J1xuXTtcbiIsImltcG9ydCB7XG4gIGFwcGVuZCBhcyBzdmdBcHBlbmQsXG4gIGF0dHIgYXMgc3ZnQXR0cixcbiAgY3JlYXRlIGFzIHN2Z0NyZWF0ZVxufSBmcm9tICd0aW55LXN2Zyc7XG5cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gVG91Y2hGaXgoY2FudmFzLCBldmVudEJ1cykge1xuXG4gIHZhciBzZWxmID0gdGhpcztcblxuICBldmVudEJ1cy5vbignY2FudmFzLmluaXQnLCBmdW5jdGlvbihlKSB7XG4gICAgc2VsZi5hZGRCQm94TWFya2VyKGUuc3ZnKTtcbiAgfSk7XG59XG5cblRvdWNoRml4LiRpbmplY3QgPSBbICdjYW52YXMnLCAnZXZlbnRCdXMnIF07XG5cblxuLyoqXG4gKiBTYWZhcmkgbW9iaWxlIChpT1MgNykgZG9lcyBub3QgZmlyZSB0b3VjaHN0YXJ0IGV2ZW50IGluIDxTVkc+IGVsZW1lbnRcbiAqIGlmIHRoZXJlIGlzIG5vIHNoYXBlIGJldHdlZW4gMCwwIGFuZCB2aWV3cG9ydCBlbGVtZW50cyBvcmlnaW4uXG4gKlxuICogU28gdG91Y2hzdGFydCBldmVudCBpcyBvbmx5IGZpcmVkIHdoZW4gdGhlIDxnIGNsYXNzPVwidmlld3BvcnRcIj4gZWxlbWVudCB3YXMgaGl0LlxuICogUHV0dGluZyBhbiBlbGVtZW50IG92ZXIgYW5kIGJlbG93IHRoZSAndmlld3BvcnQnIGZpeGVzIHRoYXQgYmVoYXZpb3IuXG4gKi9cblRvdWNoRml4LnByb3RvdHlwZS5hZGRCQm94TWFya2VyID0gZnVuY3Rpb24oc3ZnKSB7XG5cbiAgdmFyIG1hcmtlclN0eWxlID0ge1xuICAgIGZpbGw6ICdub25lJyxcbiAgICBjbGFzczogJ291dGVyLWJvdW5kLW1hcmtlcidcbiAgfTtcblxuICB2YXIgcmVjdDEgPSBzdmdDcmVhdGUoJ3JlY3QnKTtcbiAgc3ZnQXR0cihyZWN0MSwge1xuICAgIHg6IC0xMDAwMCxcbiAgICB5OiAxMDAwMCxcbiAgICB3aWR0aDogMTAsXG4gICAgaGVpZ2h0OiAxMFxuICB9KTtcbiAgc3ZnQXR0cihyZWN0MSwgbWFya2VyU3R5bGUpO1xuXG4gIHN2Z0FwcGVuZChzdmcsIHJlY3QxKTtcblxuICB2YXIgcmVjdDIgPSBzdmdDcmVhdGUoJ3JlY3QnKTtcbiAgc3ZnQXR0cihyZWN0Miwge1xuICAgIHg6IDEwMDAwLFxuICAgIHk6IDEwMDAwLFxuICAgIHdpZHRoOiAxMCxcbiAgICBoZWlnaHQ6IDEwXG4gIH0pO1xuICBzdmdBdHRyKHJlY3QyLCBtYXJrZXJTdHlsZSk7XG5cbiAgc3ZnQXBwZW5kKHN2ZywgcmVjdDIpO1xufTtcbiIsImltcG9ydCBJbnRlcmFjdGlvbkV2ZW50c01vZHVsZSBmcm9tICcuLi9pbnRlcmFjdGlvbi1ldmVudHMnO1xuXG5pbXBvcnQgVG91Y2hJbnRlcmFjdGlvbkV2ZW50cyBmcm9tICcuL1RvdWNoSW50ZXJhY3Rpb25FdmVudHMnO1xuaW1wb3J0IFRvdWNoRml4IGZyb20gJy4vVG91Y2hGaXgnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9fZGVwZW5kc19fOiBbIEludGVyYWN0aW9uRXZlbnRzTW9kdWxlIF0sXG4gIF9faW5pdF9fOiBbICd0b3VjaEludGVyYWN0aW9uRXZlbnRzJyBdLFxuICB0b3VjaEludGVyYWN0aW9uRXZlbnRzOiBbICd0eXBlJywgVG91Y2hJbnRlcmFjdGlvbkV2ZW50cyBdLFxuICB0b3VjaEZpeDogWyAndHlwZScsIFRvdWNoRml4IF1cbn07IiwiaW1wb3J0IFRvdWNoTW9kdWxlIGZyb20gJy4uLy4uL2ZlYXR1cmVzL3RvdWNoJztcblxuZXhwb3J0IGRlZmF1bHQge1xuICBfX2RlcGVuZHNfXzogW1xuICAgIFRvdWNoTW9kdWxlXG4gIF1cbn07IiwiaW1wb3J0IHtcbiAgZmlsdGVyLFxuICBmb3JFYWNoLFxuICBzb3J0Qnlcbn0gZnJvbSAnbWluLWRhc2gnO1xuXG5mdW5jdGlvbiBsYXN0KGFycikge1xuICByZXR1cm4gYXJyICYmIGFyclthcnIubGVuZ3RoIC0gMV07XG59XG5cbmZ1bmN0aW9uIHNvcnRUb3BPck1pZGRsZShlbGVtZW50KSB7XG4gIHJldHVybiBlbGVtZW50Lnk7XG59XG5cbmZ1bmN0aW9uIHNvcnRMZWZ0T3JDZW50ZXIoZWxlbWVudCkge1xuICByZXR1cm4gZWxlbWVudC54O1xufVxuXG4vKipcbiAqIFNvcnRpbmcgZnVuY3Rpb25zIGZvciBkaWZmZXJlbnQgdHlwZXMgb2YgYWxpZ25tZW50XG4gKlxuICogQHR5cGUge09iamVjdH1cbiAqXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn1cbiAqL1xudmFyIEFMSUdOTUVOVF9TT1JUSU5HID0ge1xuICBsZWZ0OiBzb3J0TGVmdE9yQ2VudGVyLFxuICBjZW50ZXI6IHNvcnRMZWZ0T3JDZW50ZXIsXG4gIHJpZ2h0OiBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgcmV0dXJuIGVsZW1lbnQueCArIGVsZW1lbnQud2lkdGg7XG4gIH0sXG4gIHRvcDogc29ydFRvcE9yTWlkZGxlLFxuICBtaWRkbGU6IHNvcnRUb3BPck1pZGRsZSxcbiAgYm90dG9tOiBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgcmV0dXJuIGVsZW1lbnQueSArIGVsZW1lbnQuaGVpZ2h0O1xuICB9XG59O1xuXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEFsaWduRWxlbWVudHMobW9kZWxpbmcpIHtcbiAgdGhpcy5fbW9kZWxpbmcgPSBtb2RlbGluZztcbn1cblxuQWxpZ25FbGVtZW50cy4kaW5qZWN0ID0gWyAnbW9kZWxpbmcnIF07XG5cblxuLyoqXG4gKiBHZXQgdGhlIHJlbGV2YW50IFwiYXhpc1wiIGFuZCBcImRpbWVuc2lvblwiIHJlbGF0ZWQgdG8gdGhlIGN1cnJlbnQgdHlwZSBvZiBhbGlnbm1lbnRcbiAqXG4gKiBAcGFyYW0gIHtzdHJpbmd9IHR5cGUgbGVmdHxyaWdodHxjZW50ZXJ8dG9wfGJvdHRvbXxtaWRkbGVcbiAqXG4gKiBAcmV0dXJuIHtPYmplY3R9IHsgYXhpcywgZGltZW5zaW9uIH1cbiAqL1xuQWxpZ25FbGVtZW50cy5wcm90b3R5cGUuX2dldE9yaWVudGF0aW9uRGV0YWlscyA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgdmFyIHZlcnRpY2FsID0gWyAndG9wJywgJ2JvdHRvbScsICdtaWRkbGUnIF0sXG4gICAgICBheGlzID0gJ3gnLFxuICAgICAgZGltZW5zaW9uID0gJ3dpZHRoJztcblxuICBpZiAodmVydGljYWwuaW5kZXhPZih0eXBlKSAhPT0gLTEpIHtcbiAgICBheGlzID0gJ3knO1xuICAgIGRpbWVuc2lvbiA9ICdoZWlnaHQnO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBheGlzOiBheGlzLFxuICAgIGRpbWVuc2lvbjogZGltZW5zaW9uXG4gIH07XG59O1xuXG5BbGlnbkVsZW1lbnRzLnByb3RvdHlwZS5faXNUeXBlID0gZnVuY3Rpb24odHlwZSwgdHlwZXMpIHtcbiAgcmV0dXJuIHR5cGVzLmluZGV4T2YodHlwZSkgIT09IC0xO1xufTtcblxuLyoqXG4gKiBHZXQgYSBwb2ludCBvbiB0aGUgcmVsZXZhbnQgYXhpcyB3aGVyZSBlbGVtZW50cyBzaG91bGQgYWxpZ24gdG9cbiAqXG4gKiBAcGFyYW0gIHtzdHJpbmd9IHR5cGUgbGVmdHxyaWdodHxjZW50ZXJ8dG9wfGJvdHRvbXxtaWRkbGVcbiAqIEBwYXJhbSAge0FycmF5fSBzb3J0ZWRFbGVtZW50c1xuICpcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuQWxpZ25FbGVtZW50cy5wcm90b3R5cGUuX2FsaWdubWVudFBvc2l0aW9uID0gZnVuY3Rpb24odHlwZSwgc29ydGVkRWxlbWVudHMpIHtcbiAgdmFyIG9yaWVudGF0aW9uID0gdGhpcy5fZ2V0T3JpZW50YXRpb25EZXRhaWxzKHR5cGUpLFxuICAgICAgYXhpcyA9IG9yaWVudGF0aW9uLmF4aXMsXG4gICAgICBkaW1lbnNpb24gPSBvcmllbnRhdGlvbi5kaW1lbnNpb24sXG4gICAgICBhbGlnbm1lbnQgPSB7fSxcbiAgICAgIGNlbnRlcnMgPSB7fSxcbiAgICAgIGhhc1NoYXJlZENlbnRlcnMgPSBmYWxzZSxcbiAgICAgIGNlbnRlcmVkRWxlbWVudHMsXG4gICAgICBmaXJzdEVsZW1lbnQsXG4gICAgICBsYXN0RWxlbWVudDtcblxuICBmdW5jdGlvbiBnZXRNaWRkbGVPclRvcChmaXJzdCwgbGFzdCkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKChmaXJzdFtheGlzXSArIGxhc3RbYXhpc10gKyBsYXN0W2RpbWVuc2lvbl0pIC8gMik7XG4gIH1cblxuICBpZiAodGhpcy5faXNUeXBlKHR5cGUsIFsgJ2xlZnQnLCAndG9wJyBdKSkge1xuICAgIGFsaWdubWVudFt0eXBlXSA9IHNvcnRlZEVsZW1lbnRzWzBdW2F4aXNdO1xuXG4gIH0gZWxzZSBpZiAodGhpcy5faXNUeXBlKHR5cGUsIFsgJ3JpZ2h0JywgJ2JvdHRvbScgXSkpIHtcbiAgICBsYXN0RWxlbWVudCA9IGxhc3Qoc29ydGVkRWxlbWVudHMpO1xuXG4gICAgYWxpZ25tZW50W3R5cGVdID0gbGFzdEVsZW1lbnRbYXhpc10gKyBsYXN0RWxlbWVudFtkaW1lbnNpb25dO1xuXG4gIH0gZWxzZSBpZiAodGhpcy5faXNUeXBlKHR5cGUsIFsgJ2NlbnRlcicsICdtaWRkbGUnIF0pKSB7XG5cbiAgICAvLyBjaGVjayBpZiB0aGVyZSBpcyBhIGNlbnRlciBzaGFyZWQgYnkgbW9yZSB0aGFuIG9uZSBzaGFwZVxuICAgIC8vIGlmIG5vdCwganVzdCB0YWtlIHRoZSBtaWRkbGUgb2YgdGhlIHJhbmdlXG4gICAgZm9yRWFjaChzb3J0ZWRFbGVtZW50cywgZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgdmFyIGNlbnRlciA9IGVsZW1lbnRbYXhpc10gKyBNYXRoLnJvdW5kKGVsZW1lbnRbZGltZW5zaW9uXSAvIDIpO1xuXG4gICAgICBpZiAoY2VudGVyc1tjZW50ZXJdKSB7XG4gICAgICAgIGNlbnRlcnNbY2VudGVyXS5lbGVtZW50cy5wdXNoKGVsZW1lbnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2VudGVyc1tjZW50ZXJdID0ge1xuICAgICAgICAgIGVsZW1lbnRzOiBbIGVsZW1lbnQgXSxcbiAgICAgICAgICBjZW50ZXI6IGNlbnRlclxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgY2VudGVyZWRFbGVtZW50cyA9IHNvcnRCeShjZW50ZXJzLCBmdW5jdGlvbihjZW50ZXIpIHtcbiAgICAgIGlmIChjZW50ZXIuZWxlbWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBoYXNTaGFyZWRDZW50ZXJzID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNlbnRlci5lbGVtZW50cy5sZW5ndGg7XG4gICAgfSk7XG5cbiAgICBpZiAoaGFzU2hhcmVkQ2VudGVycykge1xuICAgICAgYWxpZ25tZW50W3R5cGVdID0gbGFzdChjZW50ZXJlZEVsZW1lbnRzKS5jZW50ZXI7XG5cbiAgICAgIHJldHVybiBhbGlnbm1lbnQ7XG4gICAgfVxuXG4gICAgZmlyc3RFbGVtZW50ID0gc29ydGVkRWxlbWVudHNbMF07XG5cbiAgICBzb3J0ZWRFbGVtZW50cyA9IHNvcnRCeShzb3J0ZWRFbGVtZW50cywgZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgcmV0dXJuIGVsZW1lbnRbYXhpc10gKyBlbGVtZW50W2RpbWVuc2lvbl07XG4gICAgfSk7XG5cbiAgICBsYXN0RWxlbWVudCA9IGxhc3Qoc29ydGVkRWxlbWVudHMpO1xuXG4gICAgYWxpZ25tZW50W3R5cGVdID0gZ2V0TWlkZGxlT3JUb3AoZmlyc3RFbGVtZW50LCBsYXN0RWxlbWVudCk7XG4gIH1cblxuICByZXR1cm4gYWxpZ25tZW50O1xufTtcblxuLyoqXG4gKiBFeGVjdXRlcyB0aGUgYWxpZ25tZW50IG9mIGEgc2VsZWN0aW9uIG9mIGVsZW1lbnRzXG4gKlxuICogQHBhcmFtICB7QXJyYXl9IGVsZW1lbnRzIFtkZXNjcmlwdGlvbl1cbiAqIEBwYXJhbSAge3N0cmluZ30gdHlwZSBsZWZ0fHJpZ2h0fGNlbnRlcnx0b3B8Ym90dG9tfG1pZGRsZVxuICovXG5BbGlnbkVsZW1lbnRzLnByb3RvdHlwZS50cmlnZ2VyID0gZnVuY3Rpb24oZWxlbWVudHMsIHR5cGUpIHtcbiAgdmFyIG1vZGVsaW5nID0gdGhpcy5fbW9kZWxpbmc7XG5cbiAgdmFyIGZpbHRlcmVkRWxlbWVudHMgPSBmaWx0ZXIoZWxlbWVudHMsIGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICByZXR1cm4gIShlbGVtZW50LndheXBvaW50cyB8fCBlbGVtZW50Lmhvc3QgfHwgZWxlbWVudC5sYWJlbFRhcmdldCk7XG4gIH0pO1xuXG4gIGlmIChmaWx0ZXJlZEVsZW1lbnRzLmxlbmd0aCA8IDIpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgc29ydEZuID0gQUxJR05NRU5UX1NPUlRJTkdbdHlwZV07XG5cbiAgdmFyIHNvcnRlZEVsZW1lbnRzID0gc29ydEJ5KGZpbHRlcmVkRWxlbWVudHMsIHNvcnRGbik7XG5cbiAgdmFyIGFsaWdubWVudCA9IHRoaXMuX2FsaWdubWVudFBvc2l0aW9uKHR5cGUsIHNvcnRlZEVsZW1lbnRzKTtcblxuICBtb2RlbGluZy5hbGlnbkVsZW1lbnRzKHNvcnRlZEVsZW1lbnRzLCBhbGlnbm1lbnQpO1xufTtcbiIsImltcG9ydCBBbGlnbkVsZW1lbnRzIGZyb20gJy4vQWxpZ25FbGVtZW50cyc7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgX19pbml0X186IFsgJ2FsaWduRWxlbWVudHMnIF0sXG4gIGFsaWduRWxlbWVudHM6IFsgJ3R5cGUnLCBBbGlnbkVsZW1lbnRzIF1cbn07XG4iLCJpbXBvcnQge1xuICBjbG9zZXN0IGFzIGRvbUNsb3Nlc3Rcbn0gZnJvbSAnbWluLWRvbSc7XG5cbmltcG9ydCB7XG4gIHRvUG9pbnRcbn0gZnJvbSAnLi4vLi4vdXRpbC9FdmVudCc7XG5cbnZhciBISUdIX1BSSU9SSVRZID0gMTUwMDtcblxuXG4vKipcbiAqIEJyb3dzZXJzIG1heSBzd2FsbG93IGNlcnRhaW4gZXZlbnRzIChob3Zlciwgb3V0IC4uLikgaWYgdXNlcnMgYXJlIHRvXG4gKiBmYXN0IHdpdGggdGhlIG1vdXNlLlxuICpcbiAqIEBzZWUgaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy83NDQ4NDY4L3doeS1jYW50LWktcmVsaWFibHktY2FwdHVyZS1hLW1vdXNlb3V0LWV2ZW50XG4gKlxuICogVGhlIGZpeCBpbXBsZW1lbnRlZCBpbiB0aGlzIGNvbXBvbmVudCBlbnN1cmUgdGhhdCB3ZVxuICpcbiAqIDEpIGhhdmUgYSBob3ZlciBzdGF0ZSBhZnRlciBhIHN1Y2Nlc3NmdWwgZHJhZy5tb3ZlIGV2ZW50XG4gKiAyKSBoYXZlIGFuIG91dCBldmVudCB3aGVuIGRyYWdnaW5nIGxlYXZlcyBhbiBlbGVtZW50XG4gKlxuICogQHBhcmFtIHtFbGVtZW50UmVnaXN0cnl9IGVsZW1lbnRSZWdpc3RyeVxuICogQHBhcmFtIHtFdmVudEJ1c30gZXZlbnRCdXNcbiAqIEBwYXJhbSB7SW5qZWN0b3J9IGluamVjdG9yXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEhvdmVyRml4KGVsZW1lbnRSZWdpc3RyeSwgZXZlbnRCdXMsIGluamVjdG9yKSB7XG5cbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIHZhciBkcmFnZ2luZyA9IGluamVjdG9yLmdldCgnZHJhZ2dpbmcnLCBmYWxzZSk7XG5cbiAgLyoqXG4gICAqIE1ha2Ugc3VyZSB3ZSBhcmUgZ29kIGRhbW4gaG92ZXJpbmchXG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnR9IGRyYWdnaW5nIGV2ZW50XG4gICAqL1xuICBmdW5jdGlvbiBlbnN1cmVIb3ZlcihldmVudCkge1xuXG4gICAgaWYgKGV2ZW50LmhvdmVyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIG9yaWdpbmFsRXZlbnQgPSBldmVudC5vcmlnaW5hbEV2ZW50O1xuXG4gICAgdmFyIGdmeCA9IHNlbGYuX2ZpbmRUYXJnZXRHZngob3JpZ2luYWxFdmVudCk7XG5cbiAgICB2YXIgZWxlbWVudCA9IGdmeCAmJiBlbGVtZW50UmVnaXN0cnkuZ2V0KGdmeCk7XG5cbiAgICBpZiAoZ2Z4ICYmIGVsZW1lbnQpIHtcblxuICAgICAgLy8gMSkgY2FuY2VsIGN1cnJlbnQgbW91c2Vtb3ZlXG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgLy8gMikgZW1pdCBmYWtlIGhvdmVyIGZvciBuZXcgdGFyZ2V0XG4gICAgICBkcmFnZ2luZy5ob3Zlcih7IGVsZW1lbnQ6IGVsZW1lbnQsIGdmeDogZ2Z4IH0pO1xuXG4gICAgICAvLyAzKSByZS10cmlnZ2VyIG1vdmUgZXZlbnRcbiAgICAgIGRyYWdnaW5nLm1vdmUob3JpZ2luYWxFdmVudCk7XG4gICAgfVxuICB9XG5cblxuICBpZiAoZHJhZ2dpbmcpIHtcblxuICAgIC8qKlxuICAgICAqIFdlIHdhaXQgZm9yIGEgc3BlY2lmaWMgc2VxdWVuY2Ugb2YgZXZlbnRzIGJlZm9yZVxuICAgICAqIGVtaXR0aW5nIGEgZmFrZSBkcmFnLmhvdmVyIGV2ZW50LlxuICAgICAqXG4gICAgICogRXZlbnQgU2VxdWVuY2U6XG4gICAgICpcbiAgICAgKiBkcmFnLnN0YXJ0XG4gICAgICogZHJhZy5tb3ZlID4+IGVuc3VyZSB3ZSBhcmUgaG92ZXJpbmdcbiAgICAgKi9cbiAgICBldmVudEJ1cy5vbignZHJhZy5zdGFydCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICAgIGV2ZW50QnVzLm9uY2UoJ2RyYWcubW92ZScsIEhJR0hfUFJJT1JJVFksIGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICAgICAgZW5zdXJlSG92ZXIoZXZlbnQpO1xuXG4gICAgICB9KTtcblxuICAgIH0pO1xuICB9XG5cblxuICAvKipcbiAgICogV2UgbWFrZSBzdXJlIHRoYXQgZWxlbWVudC5vdXQgaXMgYWx3YXlzIGZpcmVkLCBldmVuIGlmIHRoZVxuICAgKiBicm93c2VyIHN3YWxsb3dzIGFuIGVsZW1lbnQub3V0IGV2ZW50LlxuICAgKlxuICAgKiBFdmVudCBzZXF1ZW5jZTpcbiAgICpcbiAgICogZWxlbWVudC5ob3ZlclxuICAgKiAoZWxlbWVudC5vdXQgPj4gc29tZXRpbWVzIHN3YWxsb3dlZClcbiAgICogZWxlbWVudC5ob3ZlciA+PiBlbnN1cmUgd2UgZmlyZWQgZWxlbWVudC5vdXRcbiAgICovXG4gIChmdW5jdGlvbigpIHtcbiAgICB2YXIgaG92ZXJHZng7XG4gICAgdmFyIGhvdmVyO1xuXG4gICAgZXZlbnRCdXMub24oJ2VsZW1lbnQuaG92ZXInLCBmdW5jdGlvbihldmVudCkge1xuXG4gICAgICAvLyAoMSkgcmVtZW1iZXIgY3VycmVudCBob3ZlciBlbGVtZW50XG4gICAgICBob3ZlckdmeCA9IGV2ZW50LmdmeDtcbiAgICAgIGhvdmVyID0gZXZlbnQuZWxlbWVudDtcbiAgICB9KTtcblxuICAgIGV2ZW50QnVzLm9uKCdlbGVtZW50LmhvdmVyJywgSElHSF9QUklPUklUWSwgZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgICAgLy8gKDMpIGFtIEkgb24gYW4gZWxlbWVudCBzdGlsbD9cbiAgICAgIGlmIChob3Zlcikge1xuXG4gICAgICAgIC8vICg0KSB0aGF0IGlzIGEgcHJvYmxlbSwgZ290dGEgXCJzaW11bGF0ZSB0aGUgb3V0XCJcbiAgICAgICAgZXZlbnRCdXMuZmlyZSgnZWxlbWVudC5vdXQnLCB7XG4gICAgICAgICAgZWxlbWVudDogaG92ZXIsXG4gICAgICAgICAgZ2Z4OiBob3ZlckdmeFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgIH0pO1xuXG4gICAgZXZlbnRCdXMub24oJ2VsZW1lbnQub3V0JywgZnVuY3Rpb24oKSB7XG5cbiAgICAgIC8vICgyKSB1bnNldCBob3ZlciBzdGF0ZSBpZiB3ZSBjb3JyZWN0bHkgb3V0ZWQgdXMgKkdHKlxuICAgICAgaG92ZXJHZnggPSBudWxsO1xuICAgICAgaG92ZXIgPSBudWxsO1xuICAgIH0pO1xuXG4gIH0pKCk7XG5cbiAgdGhpcy5fZmluZFRhcmdldEdmeCA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIHBvc2l0aW9uLFxuICAgICAgICB0YXJnZXQ7XG5cbiAgICBpZiAoIShldmVudCBpbnN0YW5jZW9mIE1vdXNlRXZlbnQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcG9zaXRpb24gPSB0b1BvaW50KGV2ZW50KTtcblxuICAgIC8vIGRhbW4gZXhwZW5zaXZlIG9wZXJhdGlvbiwgb3VjaCFcbiAgICB0YXJnZXQgPSBkb2N1bWVudC5lbGVtZW50RnJvbVBvaW50KHBvc2l0aW9uLngsIHBvc2l0aW9uLnkpO1xuXG4gICAgcmV0dXJuIGdldEdmeCh0YXJnZXQpO1xuICB9O1xuXG59XG5cbkhvdmVyRml4LiRpbmplY3QgPSBbXG4gICdlbGVtZW50UmVnaXN0cnknLFxuICAnZXZlbnRCdXMnLFxuICAnaW5qZWN0b3InXG5dO1xuXG5cbi8vIGhlbHBlcnMgLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbmZ1bmN0aW9uIGdldEdmeCh0YXJnZXQpIHtcbiAgcmV0dXJuIGRvbUNsb3Nlc3QodGFyZ2V0LCAnc3ZnLCAuZGpzLWVsZW1lbnQnLCB0cnVlKTtcbn0iLCJpbXBvcnQgSG92ZXJGaXggZnJvbSAnLi9Ib3ZlckZpeCc7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgX19pbml0X186IFtcbiAgICAnaG92ZXJGaXgnXG4gIF0sXG4gIGhvdmVyRml4OiBbICd0eXBlJywgSG92ZXJGaXggXSxcbn07IiwidmFyIHJvdW5kID0gTWF0aC5yb3VuZDtcblxuaW1wb3J0IHsgYXNzaWduIH0gZnJvbSAnbWluLWRhc2gnO1xuXG5pbXBvcnQge1xuICBldmVudCBhcyBkb21FdmVudFxufSBmcm9tICdtaW4tZG9tJztcblxuaW1wb3J0IHtcbiAgZ2V0T3JpZ2luYWwsXG4gIHRvUG9pbnQsXG4gIHN0b3BQcm9wYWdhdGlvblxufSBmcm9tICcuLi8uLi91dGlsL0V2ZW50JztcblxuaW1wb3J0IHtcbiAgc2V0IGFzIGN1cnNvclNldCxcbiAgdW5zZXQgYXMgY3Vyc29yVW5zZXRcbn0gZnJvbSAnLi4vLi4vdXRpbC9DdXJzb3InO1xuXG5pbXBvcnQge1xuICBpbnN0YWxsIGFzIGluc3RhbGxDbGlja1RyYXBcbn0gZnJvbSAnLi4vLi4vdXRpbC9DbGlja1RyYXAnO1xuXG5pbXBvcnQge1xuICBkZWx0YSBhcyBkZWx0YVBvc1xufSBmcm9tICcuLi8uLi91dGlsL1Bvc2l0aW9uVXRpbCc7XG5cbnZhciBEUkFHX0FDVElWRV9DTFMgPSAnZGpzLWRyYWctYWN0aXZlJztcblxuXG5mdW5jdGlvbiBwcmV2ZW50RGVmYXVsdChldmVudCkge1xuICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xufVxuXG5mdW5jdGlvbiBpc1RvdWNoRXZlbnQoZXZlbnQpIHtcblxuICAvLyBjaGVjayBmb3IgVG91Y2hFdmVudCBiZWluZyBhdmFpbGFibGUgZmlyc3RcbiAgLy8gKGkuZS4gbm90IGF2YWlsYWJsZSBvbiBkZXNrdG9wIEZpcmVmb3gpXG4gIHJldHVybiB0eXBlb2YgVG91Y2hFdmVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgZXZlbnQgaW5zdGFuY2VvZiBUb3VjaEV2ZW50O1xufVxuXG5mdW5jdGlvbiBnZXRMZW5ndGgocG9pbnQpIHtcbiAgcmV0dXJuIE1hdGguc3FydChNYXRoLnBvdyhwb2ludC54LCAyKSArIE1hdGgucG93KHBvaW50LnksIDIpKTtcbn1cblxuLyoqXG4gKiBBIGhlbHBlciB0aGF0IGZpcmVzIGNhbnZhcyBsb2NhbGl6ZWQgZHJhZyBldmVudHMgYW5kIHJlYWxpemVzXG4gKiB0aGUgZ2VuZXJhbCBcImRyYWctYW5kLWRyb3BcIiBsb29rIGFuZCBmZWVsLlxuICpcbiAqIENhbGxpbmcge0BsaW5rIERyYWdnaW5nI2FjdGl2YXRlfSBhY3RpdmF0ZXMgZHJhZ2dpbmcgb24gYSBjYW52YXMuXG4gKlxuICogSXQgcHJvdmlkZXMgdGhlIGZvbGxvd2luZzpcbiAqXG4gKiAgICogZW1pdHMgbGlmZSBjeWNsZSBldmVudHMsIG5hbWVzcGFjZWQgd2l0aCBhIHByZWZpeCBhc3NpZ25lZFxuICogICAgIGR1cmluZyBkcmFnZ2luZyBhY3RpdmF0aW9uXG4gKiAgICogc2V0cyBhbmQgcmVzdG9yZXMgdGhlIGN1cnNvclxuICogICAqIHNldHMgYW5kIHJlc3RvcmVzIHRoZSBzZWxlY3Rpb24gaWYgZWxlbWVudHMgc3RpbGwgZXhpc3RcbiAqICAgKiBlbnN1cmVzIHRoZXJlIGNhbiBiZSBvbmx5IG9uZSBkcmFnIG9wZXJhdGlvbiBhY3RpdmUgYXQgYSB0aW1lXG4gKlxuICogRHJhZ2dpbmcgbWF5IGJlIGNhbmNlbGVkIG1hbnVhbGx5IGJ5IGNhbGxpbmcge0BsaW5rIERyYWdnaW5nI2NhbmNlbH1cbiAqIG9yIGJ5IHByZXNzaW5nIEVTQy5cbiAqXG4gKlxuICogIyMgTGlmZS1jeWNsZSBldmVudHNcbiAqXG4gKiBEcmFnZ2luZyBjYW4gYmUgaW4gdGhyZWUgZGlmZmVyZW50IHN0YXRlcywgb2ZmLCBpbml0aWFsaXplZFxuICogYW5kIGFjdGl2ZS5cbiAqXG4gKiAoMSkgb2ZmOiBubyBkcmFnZ2luZyBvcGVyYXRpb24gaXMgaW4gcHJvZ3Jlc3NcbiAqICgyKSBpbml0aWFsaXplZDogYSBuZXcgZHJhZyBvcGVyYXRpb24gZ290IGluaXRpYWxpemVkIGJ1dCBub3QgeWV0XG4gKiAgICAgICAgICAgICAgICAgIHN0YXJ0ZWQgKGkuZS4gYmVjYXVzZSBvZiBubyBpbml0aWFsIG1vdmUpXG4gKiAoMykgc3RhcnRlZDogZHJhZ2dpbmcgaXMgaW4gcHJvZ3Jlc3NcbiAqXG4gKiBFdmVudHVhbGx5IGRyYWdnaW5nIHdpbGwgYmUgb2ZmIGFnYWluIGFmdGVyIGEgZHJhZyBvcGVyYXRpb24gaGFzXG4gKiBiZWVuIGVuZGVkIG9yIGNhbmNlbGVkIHZpYSB1c2VyIGNsaWNrIG9yIEVTQyBrZXkgcHJlc3MuXG4gKlxuICogVG8gaW5kaWNhdGUgdHJhbnNpdGlvbnMgYmV0d2VlbiB0aGVzZSBzdGF0ZXMgZHJhZ2dpbmcgZW1pdHMgZ2VuZXJpY1xuICogbGlmZS1jeWNsZSBldmVudHMgd2l0aCB0aGUgYGRyYWcuYCBwcmVmaXggX2FuZF8gZXZlbnRzIG5hbWVzcGFjZWRcbiAqIHRvIGEgcHJlZml4IGNob29zZW4gYnkgYSB1c2VyIGR1cmluZyBkcmFnIGluaXRpYWxpemF0aW9uLlxuICpcbiAqIFRoZSBmb2xsb3dpbmcgZXZlbnRzIGFyZSBlbWl0dGVkIChhcHByb3ByaWF0ZWx5IHByZWZpeGVkKSB2aWFcbiAqIHRoZSB7QGxpbmsgRXZlbnRCdXN9LlxuICpcbiAqICogYGluaXRgXG4gKiAqIGBzdGFydGBcbiAqICogYG1vdmVgXG4gKiAqIGBlbmRgXG4gKiAqIGBlbmRlZGAgKGRyYWdnaW5nIGFscmVhZHkgaW4gb2ZmIHN0YXRlKVxuICogKiBgY2FuY2VsYCAob25seSBpZiBwcmV2aW91c2x5IHN0YXJ0ZWQpXG4gKiAqIGBjYW5jZWxlZGAgKGRyYWdnaW5nIGFscmVhZHkgaW4gb2ZmIHN0YXRlLCBvbmx5IGlmIHByZXZpb3VzbHkgc3RhcnRlZClcbiAqICogYGNsZWFudXBgXG4gKlxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogZnVuY3Rpb24gTXlEcmFnQ29tcG9uZW50KGV2ZW50QnVzLCBkcmFnZ2luZykge1xuICpcbiAqICAgZXZlbnRCdXMub24oJ215ZHJhZy5zdGFydCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gKiAgICAgY29uc29sZS5sb2coJ3llcywgd2Ugc3RhcnQgZHJhZ2dpbmcnKTtcbiAqICAgfSk7XG4gKlxuICogICBldmVudEJ1cy5vbignbXlkcmFnLm1vdmUnLCBmdW5jdGlvbihldmVudCkge1xuICogICAgIGNvbnNvbGUubG9nKCdjYW52YXMgbG9jYWwgY29vcmRpbmF0ZXMnLCBldmVudC54LCBldmVudC55LCBldmVudC5keCwgZXZlbnQuZHkpO1xuICpcbiAqICAgICAvLyBsb2NhbCBkcmFnIGRhdGEgaXMgcGFzc2VkIHdpdGggdGhlIGV2ZW50XG4gKiAgICAgZXZlbnQuY29udGV4dC5mb287IC8vIFwiQkFSXCJcbiAqXG4gKiAgICAgLy8gdGhlIG9yaWdpbmFsIG1vdXNlIGV2ZW50LCB0b29cbiAqICAgICBldmVudC5vcmlnaW5hbEV2ZW50OyAvLyBNb3VzZUV2ZW50KC4uLilcbiAqICAgfSk7XG4gKlxuICogICBldmVudEJ1cy5vbignZWxlbWVudC5jbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gKiAgICAgZHJhZ2dpbmcuaW5pdChldmVudCwgJ215ZHJhZycsIHtcbiAqICAgICAgIGN1cnNvcjogJ2dyYWJiaW5nJyxcbiAqICAgICAgIGRhdGE6IHtcbiAqICAgICAgICAgY29udGV4dDoge1xuICogICAgICAgICAgIGZvbzogXCJCQVJcIlxuICogICAgICAgICB9XG4gKiAgICAgICB9XG4gKiAgICAgfSk7XG4gKiAgIH0pO1xuICogfVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBEcmFnZ2luZyhldmVudEJ1cywgY2FudmFzLCBzZWxlY3Rpb24sIGVsZW1lbnRSZWdpc3RyeSkge1xuXG4gIHZhciBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgICB0aHJlc2hvbGQ6IDUsXG4gICAgdHJhcENsaWNrOiB0cnVlXG4gIH07XG5cbiAgLy8gdGhlIGN1cnJlbnRseSBhY3RpdmUgZHJhZyBvcGVyYXRpb25cbiAgLy8gZHJhZ2dpbmcgaXMgYWN0aXZlIGFzIHNvb24gYXMgdGhpcyBjb250ZXh0IGV4aXN0cy5cbiAgLy9cbiAgLy8gaXQgaXMgdmlzdWFsbHkgX2FjdGl2ZV8gb25seSB3aGVuIGEgY29udGV4dC5hY3RpdmUgZmxhZyBpcyBzZXQgdG8gdHJ1ZS5cbiAgdmFyIGNvbnRleHQ7XG5cbiAgLyogY29udmVydCBhIGdsb2JhbCBldmVudCBpbnRvIGxvY2FsIGNvb3JkaW5hdGVzICovXG4gIGZ1bmN0aW9uIHRvTG9jYWxQb2ludChnbG9iYWxQb3NpdGlvbikge1xuXG4gICAgdmFyIHZpZXdib3ggPSBjYW52YXMudmlld2JveCgpO1xuXG4gICAgdmFyIGNsaWVudFJlY3QgPSBjYW52YXMuX2NvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgIHJldHVybiB7XG4gICAgICB4OiB2aWV3Ym94LnggKyAoZ2xvYmFsUG9zaXRpb24ueCAtIGNsaWVudFJlY3QubGVmdCkgLyB2aWV3Ym94LnNjYWxlLFxuICAgICAgeTogdmlld2JveC55ICsgKGdsb2JhbFBvc2l0aW9uLnkgLSBjbGllbnRSZWN0LnRvcCkgLyB2aWV3Ym94LnNjYWxlXG4gICAgfTtcbiAgfVxuXG4gIC8vIGhlbHBlcnNcblxuICBmdW5jdGlvbiBmaXJlKHR5cGUsIGRyYWdDb250ZXh0KSB7XG4gICAgZHJhZ0NvbnRleHQgPSBkcmFnQ29udGV4dCB8fCBjb250ZXh0O1xuXG4gICAgdmFyIGV2ZW50ID0gZXZlbnRCdXMuY3JlYXRlRXZlbnQoXG4gICAgICBhc3NpZ24oXG4gICAgICAgIHt9LFxuICAgICAgICBkcmFnQ29udGV4dC5wYXlsb2FkLFxuICAgICAgICBkcmFnQ29udGV4dC5kYXRhLFxuICAgICAgICB7IGlzVG91Y2g6IGRyYWdDb250ZXh0LmlzVG91Y2ggfVxuICAgICAgKVxuICAgICk7XG5cbiAgICAvLyBkZWZhdWx0IGludGVncmF0aW9uXG4gICAgaWYgKGV2ZW50QnVzLmZpcmUoJ2RyYWcuJyArIHR5cGUsIGV2ZW50KSA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZXZlbnRCdXMuZmlyZShkcmFnQ29udGV4dC5wcmVmaXggKyAnLicgKyB0eXBlLCBldmVudCk7XG4gIH1cblxuICBmdW5jdGlvbiByZXN0b3JlU2VsZWN0aW9uKHByZXZpb3VzU2VsZWN0aW9uKSB7XG4gICAgdmFyIGV4aXN0aW5nU2VsZWN0aW9uID0gcHJldmlvdXNTZWxlY3Rpb24uZmlsdGVyKGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgIHJldHVybiBlbGVtZW50UmVnaXN0cnkuZ2V0KGVsZW1lbnQuaWQpO1xuICAgIH0pO1xuXG4gICAgZXhpc3RpbmdTZWxlY3Rpb24ubGVuZ3RoICYmIHNlbGVjdGlvbi5zZWxlY3QoZXhpc3RpbmdTZWxlY3Rpb24pO1xuICB9XG5cbiAgLy8gZXZlbnQgbGlzdGVuZXJzXG5cbiAgZnVuY3Rpb24gbW92ZShldmVudCwgYWN0aXZhdGUpIHtcbiAgICB2YXIgcGF5bG9hZCA9IGNvbnRleHQucGF5bG9hZCxcbiAgICAgICAgZGlzcGxhY2VtZW50ID0gY29udGV4dC5kaXNwbGFjZW1lbnQ7XG5cbiAgICB2YXIgZ2xvYmFsU3RhcnQgPSBjb250ZXh0Lmdsb2JhbFN0YXJ0LFxuICAgICAgICBnbG9iYWxDdXJyZW50ID0gdG9Qb2ludChldmVudCksXG4gICAgICAgIGdsb2JhbERlbHRhID0gZGVsdGFQb3MoZ2xvYmFsQ3VycmVudCwgZ2xvYmFsU3RhcnQpO1xuXG4gICAgdmFyIGxvY2FsU3RhcnQgPSBjb250ZXh0LmxvY2FsU3RhcnQsXG4gICAgICAgIGxvY2FsQ3VycmVudCA9IHRvTG9jYWxQb2ludChnbG9iYWxDdXJyZW50KSxcbiAgICAgICAgbG9jYWxEZWx0YSA9IGRlbHRhUG9zKGxvY2FsQ3VycmVudCwgbG9jYWxTdGFydCk7XG5cblxuICAgIC8vIGFjdGl2YXRlIGNvbnRleHQgZXhwbGljaXRseSBvciBvbmNlIHRocmVzaG9sZCBpcyByZWFjaGVkXG4gICAgaWYgKCFjb250ZXh0LmFjdGl2ZSAmJiAoYWN0aXZhdGUgfHwgZ2V0TGVuZ3RoKGdsb2JhbERlbHRhKSA+IGNvbnRleHQudGhyZXNob2xkKSkge1xuXG4gICAgICAvLyBmaXJlIHN0YXJ0IGV2ZW50IHdpdGggb3JpZ2luYWxcbiAgICAgIC8vIHN0YXJ0aW5nIGNvb3JkaW5hdGVzXG5cbiAgICAgIGFzc2lnbihwYXlsb2FkLCB7XG4gICAgICAgIHg6IHJvdW5kKGxvY2FsU3RhcnQueCArIGRpc3BsYWNlbWVudC54KSxcbiAgICAgICAgeTogcm91bmQobG9jYWxTdGFydC55ICsgZGlzcGxhY2VtZW50LnkpLFxuICAgICAgICBkeDogMCxcbiAgICAgICAgZHk6IDBcbiAgICAgIH0sIHsgb3JpZ2luYWxFdmVudDogZXZlbnQgfSk7XG5cbiAgICAgIGlmIChmYWxzZSA9PT0gZmlyZSgnc3RhcnQnKSkge1xuICAgICAgICByZXR1cm4gY2FuY2VsKCk7XG4gICAgICB9XG5cbiAgICAgIGNvbnRleHQuYWN0aXZlID0gdHJ1ZTtcblxuICAgICAgLy8gdW5zZXQgc2VsZWN0aW9uIGFuZCByZW1lbWJlciBvbGQgc2VsZWN0aW9uXG4gICAgICAvLyB0aGUgcHJldmlvdXMgKG9sZCkgc2VsZWN0aW9uIHdpbGwgYWx3YXlzIHBhc3NlZFxuICAgICAgLy8gd2l0aCB0aGUgZXZlbnQgdmlhIHRoZSBldmVudC5wcmV2aW91c1NlbGVjdGlvbiBwcm9wZXJ0eVxuICAgICAgaWYgKCFjb250ZXh0LmtlZXBTZWxlY3Rpb24pIHtcbiAgICAgICAgcGF5bG9hZC5wcmV2aW91c1NlbGVjdGlvbiA9IHNlbGVjdGlvbi5nZXQoKTtcbiAgICAgICAgc2VsZWN0aW9uLnNlbGVjdChudWxsKTtcbiAgICAgIH1cblxuICAgICAgLy8gYWxsb3cgY3VzdG9tIGN1cnNvclxuICAgICAgaWYgKGNvbnRleHQuY3Vyc29yKSB7XG4gICAgICAgIGN1cnNvclNldChjb250ZXh0LmN1cnNvcik7XG4gICAgICB9XG5cbiAgICAgIC8vIGluZGljYXRlIGRyYWdnaW5nIHZpYSBtYXJrZXIgb24gcm9vdCBlbGVtZW50XG4gICAgICBjYW52YXMuYWRkTWFya2VyKGNhbnZhcy5nZXRSb290RWxlbWVudCgpLCBEUkFHX0FDVElWRV9DTFMpO1xuICAgIH1cblxuICAgIHN0b3BQcm9wYWdhdGlvbihldmVudCk7XG5cbiAgICBpZiAoY29udGV4dC5hY3RpdmUpIHtcblxuICAgICAgLy8gdXBkYXRlIHBheWxvYWQgd2l0aCBhY3R1YWwgY29vcmRpbmF0ZXNcbiAgICAgIGFzc2lnbihwYXlsb2FkLCB7XG4gICAgICAgIHg6IHJvdW5kKGxvY2FsQ3VycmVudC54ICsgZGlzcGxhY2VtZW50LngpLFxuICAgICAgICB5OiByb3VuZChsb2NhbEN1cnJlbnQueSArIGRpc3BsYWNlbWVudC55KSxcbiAgICAgICAgZHg6IHJvdW5kKGxvY2FsRGVsdGEueCksXG4gICAgICAgIGR5OiByb3VuZChsb2NhbERlbHRhLnkpXG4gICAgICB9LCB7IG9yaWdpbmFsRXZlbnQ6IGV2ZW50IH0pO1xuXG4gICAgICAvLyBlbWl0IG1vdmUgZXZlbnRcbiAgICAgIGZpcmUoJ21vdmUnKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBlbmQoZXZlbnQpIHtcbiAgICB2YXIgcHJldmlvdXNDb250ZXh0LFxuICAgICAgICByZXR1cm5WYWx1ZSA9IHRydWU7XG5cbiAgICBpZiAoY29udGV4dC5hY3RpdmUpIHtcblxuICAgICAgaWYgKGV2ZW50KSB7XG4gICAgICAgIGNvbnRleHQucGF5bG9hZC5vcmlnaW5hbEV2ZW50ID0gZXZlbnQ7XG5cbiAgICAgICAgLy8gc3VwcHJlc3Mgb3JpZ2luYWwgZXZlbnQgKGNsaWNrLCAuLi4pXG4gICAgICAgIC8vIGJlY2F1c2Ugd2UganVzdCBlbmRlZCBhIGRyYWcgb3BlcmF0aW9uXG4gICAgICAgIHN0b3BQcm9wYWdhdGlvbihldmVudCk7XG4gICAgICB9XG5cbiAgICAgIC8vIGltcGxlbWVudGF0aW9ucyBtYXkgc3RvcCByZXN0b3JpbmcgdGhlXG4gICAgICAvLyBvcmlnaW5hbCBzdGF0ZSAoc2VsZWN0aW9ucywgLi4uKSBieSBwcmV2ZW50aW5nIHRoZVxuICAgICAgLy8gZW5kIGV2ZW50cyBkZWZhdWx0IGFjdGlvblxuICAgICAgcmV0dXJuVmFsdWUgPSBmaXJlKCdlbmQnKTtcbiAgICB9XG5cbiAgICBpZiAocmV0dXJuVmFsdWUgPT09IGZhbHNlKSB7XG4gICAgICBmaXJlKCdyZWplY3RlZCcpO1xuICAgIH1cblxuICAgIHByZXZpb3VzQ29udGV4dCA9IGNsZWFudXAocmV0dXJuVmFsdWUgIT09IHRydWUpO1xuXG4gICAgLy8gbGFzdCBldmVudCB0byBiZSBmaXJlZCB3aGVuIGFsbCBkcmFnIG9wZXJhdGlvbnMgYXJlIGRvbmVcbiAgICAvLyBhdCB0aGlzIHBvaW50IGluIHRpbWUgbm8gZHJhZyBvcGVyYXRpb24gaXMgaW4gcHJvZ3Jlc3MgYW55bW9yZVxuICAgIGZpcmUoJ2VuZGVkJywgcHJldmlvdXNDb250ZXh0KTtcbiAgfVxuXG5cbiAgLy8gY2FuY2VsIGFjdGl2ZSBkcmFnIG9wZXJhdGlvbiBpZiB0aGUgdXNlciBwcmVzc2VzXG4gIC8vIHRoZSBFU0Mga2V5IG9uIHRoZSBrZXlib2FyZFxuXG4gIGZ1bmN0aW9uIGNoZWNrQ2FuY2VsKGV2ZW50KSB7XG5cbiAgICBpZiAoZXZlbnQud2hpY2ggPT09IDI3KSB7XG4gICAgICBwcmV2ZW50RGVmYXVsdChldmVudCk7XG5cbiAgICAgIGNhbmNlbCgpO1xuICAgIH1cbiAgfVxuXG5cbiAgLy8gcHJldmVudCBnaG9zdCBjbGljayB0aGF0IG1pZ2h0IG9jY3VyIGFmdGVyIGEgZmluaXNoZWRcbiAgLy8gZHJhZyBhbmQgZHJvcCBzZXNzaW9uXG5cbiAgZnVuY3Rpb24gdHJhcENsaWNrQW5kRW5kKGV2ZW50KSB7XG5cbiAgICB2YXIgdW50cmFwO1xuXG4gICAgLy8gdHJhcCB0aGUgY2xpY2sgaW4gY2FzZSB3ZSBhcmUgcGFydCBvZiBhbiBhY3RpdmVcbiAgICAvLyBkcmFnIG9wZXJhdGlvbi4gVGhpcyB3aWxsIGVmZmVjdGl2ZWx5IHByZXZlbnRcbiAgICAvLyB0aGUgZ2hvc3QgY2xpY2sgdGhhdCBjYW5ub3QgYmUgY2FuY2VsZWQgb3RoZXJ3aXNlLlxuICAgIGlmIChjb250ZXh0LmFjdGl2ZSkge1xuXG4gICAgICB1bnRyYXAgPSBpbnN0YWxsQ2xpY2tUcmFwKGV2ZW50QnVzKTtcblxuICAgICAgLy8gcmVtb3ZlIHRyYXAgYWZ0ZXIgbWluaW1hbCBkZWxheVxuICAgICAgc2V0VGltZW91dCh1bnRyYXAsIDQwMCk7XG5cbiAgICAgIC8vIHByZXZlbnQgZGVmYXVsdCBhY3Rpb24gKGNsaWNrKVxuICAgICAgcHJldmVudERlZmF1bHQoZXZlbnQpO1xuICAgIH1cblxuICAgIGVuZChldmVudCk7XG4gIH1cblxuICBmdW5jdGlvbiB0cmFwVG91Y2goZXZlbnQpIHtcbiAgICBtb3ZlKGV2ZW50KTtcbiAgfVxuXG4gIC8vIHVwZGF0ZSB0aGUgZHJhZyBldmVudHMgaG92ZXIgKGRqcy5tb2RlbC5CYXNlKSBhbmQgaG92ZXJHZnggKFNuYXA8U1ZHRWxlbWVudD4pXG4gIC8vIHByb3BlcnRpZXMgZHVyaW5nIGhvdmVyIGFuZCBvdXQgYW5kIGZpcmUge3ByZWZpeH0uaG92ZXIgYW5kIHtwcmVmaXh9Lm91dCBwcm9wZXJ0aWVzXG4gIC8vIHJlc3BlY3RpdmVseVxuXG4gIGZ1bmN0aW9uIGhvdmVyKGV2ZW50KSB7XG4gICAgdmFyIHBheWxvYWQgPSBjb250ZXh0LnBheWxvYWQ7XG5cbiAgICBwYXlsb2FkLmhvdmVyR2Z4ID0gZXZlbnQuZ2Z4O1xuICAgIHBheWxvYWQuaG92ZXIgPSBldmVudC5lbGVtZW50O1xuXG4gICAgZmlyZSgnaG92ZXInKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG91dChldmVudCkge1xuICAgIGZpcmUoJ291dCcpO1xuXG4gICAgdmFyIHBheWxvYWQgPSBjb250ZXh0LnBheWxvYWQ7XG5cbiAgICBwYXlsb2FkLmhvdmVyR2Z4ID0gbnVsbDtcbiAgICBwYXlsb2FkLmhvdmVyID0gbnVsbDtcbiAgfVxuXG5cbiAgLy8gbGlmZS1jeWNsZSBtZXRob2RzXG5cbiAgZnVuY3Rpb24gY2FuY2VsKHJlc3RvcmUpIHtcbiAgICB2YXIgcHJldmlvdXNDb250ZXh0O1xuXG4gICAgaWYgKCFjb250ZXh0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHdhc0FjdGl2ZSA9IGNvbnRleHQuYWN0aXZlO1xuXG4gICAgaWYgKHdhc0FjdGl2ZSkge1xuICAgICAgZmlyZSgnY2FuY2VsJyk7XG4gICAgfVxuXG4gICAgcHJldmlvdXNDb250ZXh0ID0gY2xlYW51cChyZXN0b3JlKTtcblxuICAgIGlmICh3YXNBY3RpdmUpIHtcblxuICAgICAgLy8gbGFzdCBldmVudCB0byBiZSBmaXJlZCB3aGVuIGFsbCBkcmFnIG9wZXJhdGlvbnMgYXJlIGRvbmVcbiAgICAgIC8vIGF0IHRoaXMgcG9pbnQgaW4gdGltZSBubyBkcmFnIG9wZXJhdGlvbiBpcyBpbiBwcm9ncmVzcyBhbnltb3JlXG4gICAgICBmaXJlKCdjYW5jZWxlZCcsIHByZXZpb3VzQ29udGV4dCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY2xlYW51cChyZXN0b3JlKSB7XG4gICAgdmFyIHByZXZpb3VzQ29udGV4dCxcbiAgICAgICAgZW5kRHJhZztcblxuICAgIGZpcmUoJ2NsZWFudXAnKTtcblxuICAgIC8vIHJlc2V0IGN1cnNvclxuICAgIGN1cnNvclVuc2V0KCk7XG5cbiAgICBpZiAoY29udGV4dC50cmFwQ2xpY2spIHtcbiAgICAgIGVuZERyYWcgPSB0cmFwQ2xpY2tBbmRFbmQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVuZERyYWcgPSBlbmQ7XG4gICAgfVxuXG4gICAgLy8gcmVzZXQgZG9tIGxpc3RlbmVyc1xuICAgIGRvbUV2ZW50LnVuYmluZChkb2N1bWVudCwgJ21vdXNlbW92ZScsIG1vdmUpO1xuXG4gICAgZG9tRXZlbnQudW5iaW5kKGRvY3VtZW50LCAnZHJhZ3N0YXJ0JywgcHJldmVudERlZmF1bHQpO1xuICAgIGRvbUV2ZW50LnVuYmluZChkb2N1bWVudCwgJ3NlbGVjdHN0YXJ0JywgcHJldmVudERlZmF1bHQpO1xuXG4gICAgZG9tRXZlbnQudW5iaW5kKGRvY3VtZW50LCAnbW91c2Vkb3duJywgZW5kRHJhZywgdHJ1ZSk7XG4gICAgZG9tRXZlbnQudW5iaW5kKGRvY3VtZW50LCAnbW91c2V1cCcsIGVuZERyYWcsIHRydWUpO1xuXG4gICAgZG9tRXZlbnQudW5iaW5kKGRvY3VtZW50LCAna2V5dXAnLCBjaGVja0NhbmNlbCk7XG5cbiAgICBkb21FdmVudC51bmJpbmQoZG9jdW1lbnQsICd0b3VjaHN0YXJ0JywgdHJhcFRvdWNoLCB0cnVlKTtcbiAgICBkb21FdmVudC51bmJpbmQoZG9jdW1lbnQsICd0b3VjaGNhbmNlbCcsIGNhbmNlbCwgdHJ1ZSk7XG4gICAgZG9tRXZlbnQudW5iaW5kKGRvY3VtZW50LCAndG91Y2htb3ZlJywgbW92ZSwgdHJ1ZSk7XG4gICAgZG9tRXZlbnQudW5iaW5kKGRvY3VtZW50LCAndG91Y2hlbmQnLCBlbmQsIHRydWUpO1xuXG4gICAgZXZlbnRCdXMub2ZmKCdlbGVtZW50LmhvdmVyJywgaG92ZXIpO1xuICAgIGV2ZW50QnVzLm9mZignZWxlbWVudC5vdXQnLCBvdXQpO1xuXG4gICAgLy8gcmVtb3ZlIGRyYWcgbWFya2VyIG9uIHJvb3QgZWxlbWVudFxuICAgIGNhbnZhcy5yZW1vdmVNYXJrZXIoY2FudmFzLmdldFJvb3RFbGVtZW50KCksIERSQUdfQUNUSVZFX0NMUyk7XG5cbiAgICAvLyByZXN0b3JlIHNlbGVjdGlvbiwgdW5sZXNzIGl0IGhhcyBjaGFuZ2VkXG4gICAgdmFyIHByZXZpb3VzU2VsZWN0aW9uID0gY29udGV4dC5wYXlsb2FkLnByZXZpb3VzU2VsZWN0aW9uO1xuXG4gICAgaWYgKHJlc3RvcmUgIT09IGZhbHNlICYmIHByZXZpb3VzU2VsZWN0aW9uICYmICFzZWxlY3Rpb24uZ2V0KCkubGVuZ3RoKSB7XG4gICAgICByZXN0b3JlU2VsZWN0aW9uKHByZXZpb3VzU2VsZWN0aW9uKTtcbiAgICB9XG5cbiAgICBwcmV2aW91c0NvbnRleHQgPSBjb250ZXh0O1xuXG4gICAgY29udGV4dCA9IG51bGw7XG5cbiAgICByZXR1cm4gcHJldmlvdXNDb250ZXh0O1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgYSBkcmFnIG9wZXJhdGlvbi5cbiAgICpcbiAgICogSWYgYGxvY2FsUG9zaXRpb25gIGlzIGdpdmVuLCBkcmFnIGV2ZW50cyB3aWxsIGJlIGVtaXR0ZWRcbiAgICogcmVsYXRpdmUgdG8gaXQuXG4gICAqXG4gICAqIEBwYXJhbSB7TW91c2VFdmVudHxUb3VjaEV2ZW50fSBbZXZlbnRdXG4gICAqIEBwYXJhbSB7UG9pbnR9IFtsb2NhbFBvc2l0aW9uXSBhY3R1YWwgZGlhZ3JhbSBsb2NhbCBwb3NpdGlvbiB0aGlzIGRyYWcgb3BlcmF0aW9uIHNob3VsZCBzdGFydCBhdFxuICAgKiBAcGFyYW0ge3N0cmluZ30gcHJlZml4XG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAgICovXG4gIGZ1bmN0aW9uIGluaXQoZXZlbnQsIHJlbGF0aXZlVG8sIHByZWZpeCwgb3B0aW9ucykge1xuXG4gICAgLy8gb25seSBvbmUgZHJhZyBvcGVyYXRpb24gbWF5IGJlIGFjdGl2ZSwgYXQgYSB0aW1lXG4gICAgaWYgKGNvbnRleHQpIHtcbiAgICAgIGNhbmNlbChmYWxzZSk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiByZWxhdGl2ZVRvID09PSAnc3RyaW5nJykge1xuICAgICAgb3B0aW9ucyA9IHByZWZpeDtcbiAgICAgIHByZWZpeCA9IHJlbGF0aXZlVG87XG4gICAgICByZWxhdGl2ZVRvID0gbnVsbDtcbiAgICB9XG5cbiAgICBvcHRpb25zID0gYXNzaWduKHt9LCBkZWZhdWx0T3B0aW9ucywgb3B0aW9ucyB8fCB7fSk7XG5cbiAgICB2YXIgZGF0YSA9IG9wdGlvbnMuZGF0YSB8fCB7fSxcbiAgICAgICAgb3JpZ2luYWxFdmVudCxcbiAgICAgICAgZ2xvYmFsU3RhcnQsXG4gICAgICAgIGxvY2FsU3RhcnQsXG4gICAgICAgIGVuZERyYWcsXG4gICAgICAgIGlzVG91Y2g7XG5cbiAgICBpZiAob3B0aW9ucy50cmFwQ2xpY2spIHtcbiAgICAgIGVuZERyYWcgPSB0cmFwQ2xpY2tBbmRFbmQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVuZERyYWcgPSBlbmQ7XG4gICAgfVxuXG4gICAgaWYgKGV2ZW50KSB7XG4gICAgICBvcmlnaW5hbEV2ZW50ID0gZ2V0T3JpZ2luYWwoZXZlbnQpIHx8IGV2ZW50O1xuICAgICAgZ2xvYmFsU3RhcnQgPSB0b1BvaW50KGV2ZW50KTtcblxuICAgICAgc3RvcFByb3BhZ2F0aW9uKGV2ZW50KTtcblxuICAgICAgLy8gcHJldmVudCBkZWZhdWx0IGJyb3dzZXIgZHJhZ2dpbmcgYmVoYXZpb3JcbiAgICAgIGlmIChvcmlnaW5hbEV2ZW50LnR5cGUgPT09ICdkcmFnc3RhcnQnKSB7XG4gICAgICAgIHByZXZlbnREZWZhdWx0KG9yaWdpbmFsRXZlbnQpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBvcmlnaW5hbEV2ZW50ID0gbnVsbDtcbiAgICAgIGdsb2JhbFN0YXJ0ID0geyB4OiAwLCB5OiAwIH07XG4gICAgfVxuXG4gICAgbG9jYWxTdGFydCA9IHRvTG9jYWxQb2ludChnbG9iYWxTdGFydCk7XG5cbiAgICBpZiAoIXJlbGF0aXZlVG8pIHtcbiAgICAgIHJlbGF0aXZlVG8gPSBsb2NhbFN0YXJ0O1xuICAgIH1cblxuICAgIGlzVG91Y2ggPSBpc1RvdWNoRXZlbnQob3JpZ2luYWxFdmVudCk7XG5cbiAgICBjb250ZXh0ID0gYXNzaWduKHtcbiAgICAgIHByZWZpeDogcHJlZml4LFxuICAgICAgZGF0YTogZGF0YSxcbiAgICAgIHBheWxvYWQ6IHt9LFxuICAgICAgZ2xvYmFsU3RhcnQ6IGdsb2JhbFN0YXJ0LFxuICAgICAgZGlzcGxhY2VtZW50OiBkZWx0YVBvcyhyZWxhdGl2ZVRvLCBsb2NhbFN0YXJ0KSxcbiAgICAgIGxvY2FsU3RhcnQ6IGxvY2FsU3RhcnQsXG4gICAgICBpc1RvdWNoOiBpc1RvdWNoXG4gICAgfSwgb3B0aW9ucyk7XG5cbiAgICAvLyBza2lwIGRvbSByZWdpc3RyYXRpb24gaWYgdHJpZ2dlclxuICAgIC8vIGlzIHNldCB0byBtYW51YWwgKGR1cmluZyB0ZXN0aW5nKVxuICAgIGlmICghb3B0aW9ucy5tYW51YWwpIHtcblxuICAgICAgLy8gYWRkIGRvbSBsaXN0ZW5lcnNcblxuICAgICAgaWYgKGlzVG91Y2gpIHtcbiAgICAgICAgZG9tRXZlbnQuYmluZChkb2N1bWVudCwgJ3RvdWNoc3RhcnQnLCB0cmFwVG91Y2gsIHRydWUpO1xuICAgICAgICBkb21FdmVudC5iaW5kKGRvY3VtZW50LCAndG91Y2hjYW5jZWwnLCBjYW5jZWwsIHRydWUpO1xuICAgICAgICBkb21FdmVudC5iaW5kKGRvY3VtZW50LCAndG91Y2htb3ZlJywgbW92ZSwgdHJ1ZSk7XG4gICAgICAgIGRvbUV2ZW50LmJpbmQoZG9jdW1lbnQsICd0b3VjaGVuZCcsIGVuZCwgdHJ1ZSk7XG4gICAgICB9IGVsc2Uge1xuXG4gICAgICAgIC8vIGFzc3VtZSB3ZSB1c2UgdGhlIG1vdXNlIHRvIGludGVyYWN0IHBlciBkZWZhdWx0XG4gICAgICAgIGRvbUV2ZW50LmJpbmQoZG9jdW1lbnQsICdtb3VzZW1vdmUnLCBtb3ZlKTtcblxuICAgICAgICAvLyBwcmV2ZW50IGRlZmF1bHQgYnJvd3NlciBkcmFnIGFuZCB0ZXh0IHNlbGVjdGlvbiBiZWhhdmlvclxuICAgICAgICBkb21FdmVudC5iaW5kKGRvY3VtZW50LCAnZHJhZ3N0YXJ0JywgcHJldmVudERlZmF1bHQpO1xuICAgICAgICBkb21FdmVudC5iaW5kKGRvY3VtZW50LCAnc2VsZWN0c3RhcnQnLCBwcmV2ZW50RGVmYXVsdCk7XG5cbiAgICAgICAgZG9tRXZlbnQuYmluZChkb2N1bWVudCwgJ21vdXNlZG93bicsIGVuZERyYWcsIHRydWUpO1xuICAgICAgICBkb21FdmVudC5iaW5kKGRvY3VtZW50LCAnbW91c2V1cCcsIGVuZERyYWcsIHRydWUpO1xuICAgICAgfVxuXG4gICAgICBkb21FdmVudC5iaW5kKGRvY3VtZW50LCAna2V5dXAnLCBjaGVja0NhbmNlbCk7XG5cbiAgICAgIGV2ZW50QnVzLm9uKCdlbGVtZW50LmhvdmVyJywgaG92ZXIpO1xuICAgICAgZXZlbnRCdXMub24oJ2VsZW1lbnQub3V0Jywgb3V0KTtcbiAgICB9XG5cbiAgICBmaXJlKCdpbml0Jyk7XG5cbiAgICBpZiAob3B0aW9ucy5hdXRvQWN0aXZhdGUpIHtcbiAgICAgIG1vdmUoZXZlbnQsIHRydWUpO1xuICAgIH1cbiAgfVxuXG4gIC8vIGNhbmNlbCBvbiBkaWFncmFtIGRlc3RydWN0aW9uXG4gIGV2ZW50QnVzLm9uKCdkaWFncmFtLmRlc3Ryb3knLCBjYW5jZWwpO1xuXG5cbiAgLy8gQVBJXG5cbiAgdGhpcy5pbml0ID0gaW5pdDtcbiAgdGhpcy5tb3ZlID0gbW92ZTtcbiAgdGhpcy5ob3ZlciA9IGhvdmVyO1xuICB0aGlzLm91dCA9IG91dDtcbiAgdGhpcy5lbmQgPSBlbmQ7XG5cbiAgdGhpcy5jYW5jZWwgPSBjYW5jZWw7XG5cbiAgLy8gZm9yIGludHJvc3BlY3Rpb25cblxuICB0aGlzLmNvbnRleHQgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gY29udGV4dDtcbiAgfTtcblxuICB0aGlzLnNldE9wdGlvbnMgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgYXNzaWduKGRlZmF1bHRPcHRpb25zLCBvcHRpb25zKTtcbiAgfTtcbn1cblxuRHJhZ2dpbmcuJGluamVjdCA9IFtcbiAgJ2V2ZW50QnVzJyxcbiAgJ2NhbnZhcycsXG4gICdzZWxlY3Rpb24nLFxuICAnZWxlbWVudFJlZ2lzdHJ5J1xuXTtcbiIsImltcG9ydCBIb3ZlckZpeE1vZHVsZSBmcm9tICcuLi9ob3Zlci1maXgnO1xuaW1wb3J0IFNlbGVjdGlvbk1vZHVsZSBmcm9tICcuLi9zZWxlY3Rpb24nO1xuXG5pbXBvcnQgRHJhZ2dpbmcgZnJvbSAnLi9EcmFnZ2luZyc7XG5cblxuZXhwb3J0IGRlZmF1bHQge1xuICBfX2RlcGVuZHNfXzogW1xuICAgIEhvdmVyRml4TW9kdWxlLFxuICAgIFNlbGVjdGlvbk1vZHVsZSxcbiAgXSxcbiAgZHJhZ2dpbmc6IFsgJ3R5cGUnLCBEcmFnZ2luZyBdLFxufTsiLCJpbXBvcnQgeyBhc3NpZ24gfSBmcm9tICdtaW4tZGFzaCc7XG5cbmltcG9ydCB7XG4gIHRvUG9pbnRcbn0gZnJvbSAnLi4vLi4vdXRpbC9FdmVudCc7XG5cblxuLyoqXG4gKiBJbml0aWF0ZXMgY2FudmFzIHNjcm9sbGluZyBpZiBjdXJyZW50IGN1cnNvciBwb2ludCBpcyBjbG9zZSB0byBhIGJvcmRlci5cbiAqIENhbmNlbGxlZCB3aGVuIGN1cnJlbnQgcG9pbnQgbW92ZXMgYmFjayBpbnNpZGUgdGhlIHNjcm9sbGluZyBib3JkZXJzXG4gKiBvciBjYW5jZWxsZWQgbWFudWFsbHkuXG4gKlxuICogRGVmYXVsdCBvcHRpb25zIDpcbiAqICAgc2Nyb2xsVGhyZXNob2xkSW46IFsgMjAsIDIwLCAyMCwgMjAgXSxcbiAqICAgc2Nyb2xsVGhyZXNob2xkT3V0OiBbIDAsIDAsIDAsIDAgXSxcbiAqICAgc2Nyb2xsUmVwZWF0VGltZW91dDogMTUsXG4gKiAgIHNjcm9sbFN0ZXA6IDEwXG4gKlxuICogVGhyZXNob2xkIG9yZGVyOlxuICogICBbIGxlZnQsIHRvcCwgcmlnaHQsIGJvdHRvbSBdXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEF1dG9TY3JvbGwoY29uZmlnLCBldmVudEJ1cywgY2FudmFzKSB7XG5cbiAgdGhpcy5fY2FudmFzID0gY2FudmFzO1xuXG4gIHRoaXMuX29wdHMgPSBhc3NpZ24oe1xuICAgIHNjcm9sbFRocmVzaG9sZEluOiBbIDIwLCAyMCwgMjAsIDIwIF0sXG4gICAgc2Nyb2xsVGhyZXNob2xkT3V0OiBbIDAsIDAsIDAsIDAgXSxcbiAgICBzY3JvbGxSZXBlYXRUaW1lb3V0OiAxNSxcbiAgICBzY3JvbGxTdGVwOiAxMFxuICB9LCBjb25maWcpO1xuXG4gIHZhciBzZWxmID0gdGhpcztcblxuICBldmVudEJ1cy5vbignZHJhZy5tb3ZlJywgZnVuY3Rpb24oZSkge1xuICAgIHZhciBwb2ludCA9IHNlbGYuX3RvQm9yZGVyUG9pbnQoZSk7XG5cbiAgICBzZWxmLnN0YXJ0U2Nyb2xsKHBvaW50KTtcbiAgfSk7XG5cbiAgZXZlbnRCdXMub24oWyAnZHJhZy5jbGVhbnVwJyBdLCBmdW5jdGlvbigpIHtcbiAgICBzZWxmLnN0b3BTY3JvbGwoKTtcbiAgfSk7XG59XG5cbkF1dG9TY3JvbGwuJGluamVjdCA9IFtcbiAgJ2NvbmZpZy5hdXRvU2Nyb2xsJyxcbiAgJ2V2ZW50QnVzJyxcbiAgJ2NhbnZhcydcbl07XG5cblxuLyoqXG4gKiBTdGFydHMgc2Nyb2xsaW5nIGxvb3AuXG4gKiBQb2ludCBpcyBnaXZlbiBpbiBnbG9iYWwgc2NhbGUgaW4gY2FudmFzIGNvbnRhaW5lciBib3ggcGxhbmUuXG4gKlxuICogQHBhcmFtICB7T2JqZWN0fSBwb2ludCB7IHg6IFgsIHk6IFkgfVxuICovXG5BdXRvU2Nyb2xsLnByb3RvdHlwZS5zdGFydFNjcm9sbCA9IGZ1bmN0aW9uKHBvaW50KSB7XG5cbiAgdmFyIGNhbnZhcyA9IHRoaXMuX2NhbnZhcztcbiAgdmFyIG9wdHMgPSB0aGlzLl9vcHRzO1xuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgdmFyIGNsaWVudFJlY3QgPSBjYW52YXMuZ2V0Q29udGFpbmVyKCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgdmFyIGRpZmYgPSBbXG4gICAgcG9pbnQueCxcbiAgICBwb2ludC55LFxuICAgIGNsaWVudFJlY3Qud2lkdGggLSBwb2ludC54LFxuICAgIGNsaWVudFJlY3QuaGVpZ2h0IC0gcG9pbnQueVxuICBdO1xuXG4gIHRoaXMuc3RvcFNjcm9sbCgpO1xuXG4gIHZhciBkeCA9IDAsXG4gICAgICBkeSA9IDA7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCA0OyBpKyspIHtcbiAgICBpZiAoYmV0d2VlbihkaWZmW2ldLCBvcHRzLnNjcm9sbFRocmVzaG9sZE91dFtpXSwgb3B0cy5zY3JvbGxUaHJlc2hvbGRJbltpXSkpIHtcbiAgICAgIGlmIChpID09PSAwKSB7XG4gICAgICAgIGR4ID0gb3B0cy5zY3JvbGxTdGVwO1xuICAgICAgfSBlbHNlIGlmIChpID09IDEpIHtcbiAgICAgICAgZHkgPSBvcHRzLnNjcm9sbFN0ZXA7XG4gICAgICB9IGVsc2UgaWYgKGkgPT0gMikge1xuICAgICAgICBkeCA9IC1vcHRzLnNjcm9sbFN0ZXA7XG4gICAgICB9IGVsc2UgaWYgKGkgPT0gMykge1xuICAgICAgICBkeSA9IC1vcHRzLnNjcm9sbFN0ZXA7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaWYgKGR4ICE9PSAwIHx8IGR5ICE9PSAwKSB7XG4gICAgY2FudmFzLnNjcm9sbCh7IGR4OiBkeCwgZHk6IGR5IH0pO1xuXG4gICAgdGhpcy5fc2Nyb2xsaW5nID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgIHNlbGYuc3RhcnRTY3JvbGwocG9pbnQpO1xuICAgIH0sIG9wdHMuc2Nyb2xsUmVwZWF0VGltZW91dCk7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIGJldHdlZW4odmFsLCBzdGFydCwgZW5kKSB7XG4gIGlmIChzdGFydCA8IHZhbCAmJiB2YWwgPCBlbmQpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuXG4vKipcbiAqIFN0b3BzIHNjcm9sbGluZyBsb29wLlxuICovXG5BdXRvU2Nyb2xsLnByb3RvdHlwZS5zdG9wU2Nyb2xsID0gZnVuY3Rpb24oKSB7XG4gIGNsZWFyVGltZW91dCh0aGlzLl9zY3JvbGxpbmcpO1xufTtcblxuXG4vKipcbiAqIE92ZXJyaWRlcyBkZWZhdWx0cyBvcHRpb25zLlxuICpcbiAqIEBwYXJhbSAge09iamVjdH0gb3B0aW9uc1xuICovXG5BdXRvU2Nyb2xsLnByb3RvdHlwZS5zZXRPcHRpb25zID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICB0aGlzLl9vcHRzID0gYXNzaWduKHt9LCB0aGlzLl9vcHRzLCBvcHRpb25zKTtcbn07XG5cblxuLyoqXG4gKiBDb252ZXJ0cyBldmVudCB0byBhIHBvaW50IGluIGNhbnZhcyBjb250YWluZXIgcGxhbmUgaW4gZ2xvYmFsIHNjYWxlLlxuICpcbiAqIEBwYXJhbSAge0V2ZW50fSBldmVudFxuICogQHJldHVybiB7UG9pbnR9XG4gKi9cbkF1dG9TY3JvbGwucHJvdG90eXBlLl90b0JvcmRlclBvaW50ID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgdmFyIGNsaWVudFJlY3QgPSB0aGlzLl9jYW52YXMuX2NvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICB2YXIgZ2xvYmFsUG9zaXRpb24gPSB0b1BvaW50KGV2ZW50Lm9yaWdpbmFsRXZlbnQpO1xuXG4gIHJldHVybiB7XG4gICAgeDogZ2xvYmFsUG9zaXRpb24ueCAtIGNsaWVudFJlY3QubGVmdCxcbiAgICB5OiBnbG9iYWxQb3NpdGlvbi55IC0gY2xpZW50UmVjdC50b3BcbiAgfTtcbn07IiwiaW1wb3J0IERyYWdnaW5nTW9kdWxlIGZyb20gJy4uL2RyYWdnaW5nJztcblxuaW1wb3J0IEF1dG9TY3JvbGwgZnJvbSAnLi9BdXRvU2Nyb2xsJztcblxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9fZGVwZW5kc19fOiBbXG4gICAgRHJhZ2dpbmdNb2R1bGUsXG4gIF0sXG4gIF9faW5pdF9fOiBbICdhdXRvU2Nyb2xsJyBdLFxuICBhdXRvU2Nyb2xsOiBbICd0eXBlJywgQXV0b1Njcm9sbCBdXG59OyIsIi8qKlxuICogQSBzZXJ2aWNlIHRoYXQgcHJvdmlkZXMgcnVsZXMgZm9yIGNlcnRhaW4gZGlhZ3JhbSBhY3Rpb25zLlxuICpcbiAqIFRoZSBkZWZhdWx0IGltcGxlbWVudGF0aW9uIHdpbGwgaG9vayBpbnRvIHRoZSB7QGxpbmsgQ29tbWFuZFN0YWNrfVxuICogdG8gcGVyZm9ybSB0aGUgYWN0dWFsIHJ1bGUgZXZhbHVhdGlvbi4gTWFrZSBzdXJlIHRvIHByb3ZpZGUgdGhlXG4gKiBgY29tbWFuZFN0YWNrYCBzZXJ2aWNlIHdpdGggdGhpcyBtb2R1bGUgaWYgeW91IHBsYW4gdG8gdXNlIGl0LlxuICpcbiAqIFRvZ2V0aGVyIHdpdGggdGhpcyBpbXBsZW1lbnRhdGlvbiB5b3UgbWF5IHVzZSB0aGUge0BsaW5rIFJ1bGVQcm92aWRlcn1cbiAqIHRvIGltcGxlbWVudCB5b3VyIG93biBydWxlIGNoZWNrZXJzLlxuICpcbiAqIFRoaXMgbW9kdWxlIGlzIG1lbnQgdG8gYmUgZWFzaWx5IHJlcGxhY2VkLCB0aHVzIHRoZSB0aW55IGZvb3QgcHJpbnQuXG4gKlxuICogQHBhcmFtIHtJbmplY3Rvcn0gaW5qZWN0b3JcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUnVsZXMoaW5qZWN0b3IpIHtcbiAgdGhpcy5fY29tbWFuZFN0YWNrID0gaW5qZWN0b3IuZ2V0KCdjb21tYW5kU3RhY2snLCBmYWxzZSk7XG59XG5cblJ1bGVzLiRpbmplY3QgPSBbICdpbmplY3RvcicgXTtcblxuXG4vKipcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgYSBnaXZlbiBtb2RlbGluZyBhY3Rpb24gY2FuIGJlIGV4ZWN1dGVkXG4gKiBpbiB0aGUgc3BlY2lmaWVkIGNvbnRleHQuXG4gKlxuICogVGhpcyBpbXBsZW1lbnRhdGlvbiB3aWxsIHJlc3BvbmQgd2l0aCBhbGxvdyB1bmxlc3MgYW55b25lXG4gKiBvYmplY3RzLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBhY3Rpb24gdGhlIGFjdGlvbiB0byBiZSBjaGVja2VkXG4gKiBAcGFyYW0ge09iamVjdH0gW2NvbnRleHRdIHRoZSBjb250ZXh0IHRvIGNoZWNrIHRoZSBhY3Rpb24gaW5cbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufSByZXR1cm5zIHRydWUsIGZhbHNlIG9yIG51bGwgZGVwZW5kaW5nIG9uIHdoZXRoZXIgdGhlXG4gKiAgICAgICAgICAgICAgICAgICBvcGVyYXRpb24gaXMgYWxsb3dlZCwgbm90IGFsbG93ZWQgb3Igc2hvdWxkIGJlIGlnbm9yZWQuXG4gKi9cblJ1bGVzLnByb3RvdHlwZS5hbGxvd2VkID0gZnVuY3Rpb24oYWN0aW9uLCBjb250ZXh0KSB7XG4gIHZhciBhbGxvd2VkID0gdHJ1ZTtcblxuICB2YXIgY29tbWFuZFN0YWNrID0gdGhpcy5fY29tbWFuZFN0YWNrO1xuXG4gIGlmIChjb21tYW5kU3RhY2spIHtcbiAgICBhbGxvd2VkID0gY29tbWFuZFN0YWNrLmNhbkV4ZWN1dGUoYWN0aW9uLCBjb250ZXh0KTtcbiAgfVxuXG4gIC8vIG1hcCB1bmRlZmluZWQgdG8gdHJ1ZSwgaS5lLiBubyBydWxlc1xuICByZXR1cm4gYWxsb3dlZCA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IGFsbG93ZWQ7XG59OyIsImltcG9ydCBSdWxlcyBmcm9tICcuL1J1bGVzJztcblxuZXhwb3J0IGRlZmF1bHQge1xuICBfX2luaXRfXzogWyAncnVsZXMnIF0sXG4gIHJ1bGVzOiBbICd0eXBlJywgUnVsZXMgXVxufTtcbiIsImltcG9ydCB7XG4gIGV2ZXJ5LFxuICBpc0FycmF5XG59IGZyb20gJ21pbi1kYXNoJztcblxuLyoqXG4gKiBDb21wdXRlcyB0aGUgZGlzdGFuY2UgYmV0d2VlbiB0d28gcG9pbnRzXG4gKlxuICogQHBhcmFtICB7UG9pbnR9ICBwXG4gKiBAcGFyYW0gIHtQb2ludH0gIHFcbiAqXG4gKiBAcmV0dXJuIHtudW1iZXJ9ICBkaXN0YW5jZVxuICovXG5leHBvcnQgZnVuY3Rpb24gcG9pbnREaXN0YW5jZShhLCBiKSB7XG4gIGlmICghYSB8fCAhYikge1xuICAgIHJldHVybiAtMTtcbiAgfVxuXG4gIHJldHVybiBNYXRoLnNxcnQoXG4gICAgTWF0aC5wb3coYS54IC0gYi54LCAyKSArXG4gICAgTWF0aC5wb3coYS55IC0gYi55LCAyKVxuICApO1xufVxuXG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBwb2ludCByIGlzIG9uIHRoZSBsaW5lIGJldHdlZW4gcCBhbmQgcVxuICpcbiAqIEBwYXJhbSAge1BvaW50fSAgcFxuICogQHBhcmFtICB7UG9pbnR9ICBxXG4gKiBAcGFyYW0gIHtQb2ludH0gIHJcbiAqIEBwYXJhbSAge251bWJlcn0gW2FjY3VyYWN5PTVdIGFjY3VyYWN5IGZvciBwb2ludHMgb24gbGluZSBjaGVjayAobG93ZXIgaXMgYmV0dGVyKVxuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwb2ludHNPbkxpbmUocCwgcSwgciwgYWNjdXJhY3kpIHtcblxuICBpZiAodHlwZW9mIGFjY3VyYWN5ID09PSAndW5kZWZpbmVkJykge1xuICAgIGFjY3VyYWN5ID0gNTtcbiAgfVxuXG4gIGlmICghcCB8fCAhcSB8fCAhcikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHZhciB2YWwgPSAocS54IC0gcC54KSAqIChyLnkgLSBwLnkpIC0gKHEueSAtIHAueSkgKiAoci54IC0gcC54KSxcbiAgICAgIGRpc3QgPSBwb2ludERpc3RhbmNlKHAsIHEpO1xuXG4gIC8vIEBzZWUgaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvOTA3NDkxLzQxMjE5MFxuICByZXR1cm4gTWF0aC5hYnModmFsIC8gZGlzdCkgPD0gYWNjdXJhY3k7XG59XG5cblxudmFyIEFMSUdORURfVEhSRVNIT0xEID0gMjtcblxuLyoqXG4gKiBDaGVjayB3aGV0aGVyIHR3byBwb2ludHMgYXJlIGhvcml6b250YWxseSBvciB2ZXJ0aWNhbGx5IGFsaWduZWQuXG4gKlxuICogQHBhcmFtIHtBcnJheTxQb2ludD58UG9pbnR9XG4gKiBAcGFyYW0ge1BvaW50fVxuICpcbiAqIEByZXR1cm4ge3N0cmluZ3xib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gcG9pbnRzQWxpZ25lZChhLCBiKSB7XG4gIHZhciBwb2ludHM7XG5cbiAgaWYgKGlzQXJyYXkoYSkpIHtcbiAgICBwb2ludHMgPSBhO1xuICB9IGVsc2Uge1xuICAgIHBvaW50cyA9IFsgYSwgYiBdO1xuICB9XG5cbiAgaWYgKHBvaW50c0FsaWduZWRIb3Jpem9udGFsbHkocG9pbnRzKSkge1xuICAgIHJldHVybiAnaCc7XG4gIH1cblxuICBpZiAocG9pbnRzQWxpZ25lZFZlcnRpY2FsbHkocG9pbnRzKSkge1xuICAgIHJldHVybiAndic7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwb2ludHNBbGlnbmVkSG9yaXpvbnRhbGx5KGEsIGIpIHtcbiAgdmFyIHBvaW50cztcblxuICBpZiAoaXNBcnJheShhKSkge1xuICAgIHBvaW50cyA9IGE7XG4gIH0gZWxzZSB7XG4gICAgcG9pbnRzID0gWyBhLCBiIF07XG4gIH1cblxuICB2YXIgZmlyc3RQb2ludCA9IHBvaW50cy5zbGljZSgpLnNoaWZ0KCk7XG5cbiAgcmV0dXJuIGV2ZXJ5KHBvaW50cywgZnVuY3Rpb24ocG9pbnQpIHtcbiAgICByZXR1cm4gTWF0aC5hYnMoZmlyc3RQb2ludC55IC0gcG9pbnQueSkgPD0gQUxJR05FRF9USFJFU0hPTEQ7XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcG9pbnRzQWxpZ25lZFZlcnRpY2FsbHkoYSwgYikge1xuICB2YXIgcG9pbnRzO1xuXG4gIGlmIChpc0FycmF5KGEpKSB7XG4gICAgcG9pbnRzID0gYTtcbiAgfSBlbHNlIHtcbiAgICBwb2ludHMgPSBbIGEsIGIgXTtcbiAgfVxuXG4gIHZhciBmaXJzdFBvaW50ID0gcG9pbnRzLnNsaWNlKCkuc2hpZnQoKTtcblxuICByZXR1cm4gZXZlcnkocG9pbnRzLCBmdW5jdGlvbihwb2ludCkge1xuICAgIHJldHVybiBNYXRoLmFicyhmaXJzdFBvaW50LnggLSBwb2ludC54KSA8PSBBTElHTkVEX1RIUkVTSE9MRDtcbiAgfSk7XG59XG5cblxuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgcG9pbnQgcCBpcyBpbnNpZGUgdGhlIHJlY3RhbmdsZSByZWN0XG4gKlxuICogQHBhcmFtICB7UG9pbnR9ICBwXG4gKiBAcGFyYW0gIHtSZWN0fSByZWN0XG4gKiBAcGFyYW0gIHtudW1iZXJ9IHRvbGVyYW5jZVxuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwb2ludEluUmVjdChwLCByZWN0LCB0b2xlcmFuY2UpIHtcbiAgdG9sZXJhbmNlID0gdG9sZXJhbmNlIHx8IDA7XG5cbiAgcmV0dXJuIHAueCA+IHJlY3QueCAtIHRvbGVyYW5jZSAmJlxuICAgICAgICAgcC55ID4gcmVjdC55IC0gdG9sZXJhbmNlICYmXG4gICAgICAgICBwLnggPCByZWN0LnggKyByZWN0LndpZHRoICsgdG9sZXJhbmNlICYmXG4gICAgICAgICBwLnkgPCByZWN0LnkgKyByZWN0LmhlaWdodCArIHRvbGVyYW5jZTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgcG9pbnQgaW4gdGhlIG1pZGRsZSBvZiBwb2ludHMgcCBhbmQgcVxuICpcbiAqIEBwYXJhbSAge1BvaW50fSAgcFxuICogQHBhcmFtICB7UG9pbnR9ICBxXG4gKlxuICogQHJldHVybiB7UG9pbnR9IG1pZGRsZSBwb2ludFxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0TWlkUG9pbnQocCwgcSkge1xuICByZXR1cm4ge1xuICAgIHg6IE1hdGgucm91bmQocC54ICsgKChxLnggLSBwLngpIC8gMi4wKSksXG4gICAgeTogTWF0aC5yb3VuZChwLnkgKyAoKHEueSAtIHAueSkgLyAyLjApKVxuICB9O1xufVxuIiwiaW1wb3J0IHtcbiAgcG9pbnREaXN0YW5jZVxufSBmcm9tICcuL0dlb21ldHJ5JztcblxuaW1wb3J0IGludGVyc2VjdFBhdGhzIGZyb20gJ3BhdGgtaW50ZXJzZWN0aW9uJztcblxudmFyIHJvdW5kID0gTWF0aC5yb3VuZCxcbiAgICBtYXggPSBNYXRoLm1heDtcblxuXG5mdW5jdGlvbiBjaXJjbGVQYXRoKGNlbnRlciwgcikge1xuICB2YXIgeCA9IGNlbnRlci54LFxuICAgICAgeSA9IGNlbnRlci55O1xuXG4gIHJldHVybiBbXG4gICAgWydNJywgeCwgeV0sXG4gICAgWydtJywgMCwgLXJdLFxuICAgIFsnYScsIHIsIHIsIDAsIDEsIDEsIDAsIDIgKiByXSxcbiAgICBbJ2EnLCByLCByLCAwLCAxLCAxLCAwLCAtMiAqIHJdLFxuICAgIFsneiddXG4gIF07XG59XG5cbmZ1bmN0aW9uIGxpbmVQYXRoKHBvaW50cykge1xuICB2YXIgc2VnbWVudHMgPSBbXTtcblxuICBwb2ludHMuZm9yRWFjaChmdW5jdGlvbihwLCBpZHgpIHtcbiAgICBzZWdtZW50cy5wdXNoKFsgaWR4ID09PSAwID8gJ00nIDogJ0wnLCBwLngsIHAueSBdKTtcbiAgfSk7XG5cbiAgcmV0dXJuIHNlZ21lbnRzO1xufVxuXG5cbnZhciBJTlRFUlNFQ1RJT05fVEhSRVNIT0xEID0gMTA7XG5cbmZ1bmN0aW9uIGdldEJlbmRwb2ludEludGVyc2VjdGlvbih3YXlwb2ludHMsIHJlZmVyZW5jZSkge1xuXG4gIHZhciBpLCB3O1xuXG4gIGZvciAoaSA9IDA7ICh3ID0gd2F5cG9pbnRzW2ldKTsgaSsrKSB7XG5cbiAgICBpZiAocG9pbnREaXN0YW5jZSh3LCByZWZlcmVuY2UpIDw9IElOVEVSU0VDVElPTl9USFJFU0hPTEQpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHBvaW50OiB3YXlwb2ludHNbaV0sXG4gICAgICAgIGJlbmRwb2ludDogdHJ1ZSxcbiAgICAgICAgaW5kZXg6IGlcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIGdldFBhdGhJbnRlcnNlY3Rpb24od2F5cG9pbnRzLCByZWZlcmVuY2UpIHtcblxuICB2YXIgaW50ZXJzZWN0aW9ucyA9IGludGVyc2VjdFBhdGhzKGNpcmNsZVBhdGgocmVmZXJlbmNlLCBJTlRFUlNFQ1RJT05fVEhSRVNIT0xEKSwgbGluZVBhdGgod2F5cG9pbnRzKSk7XG5cbiAgdmFyIGEgPSBpbnRlcnNlY3Rpb25zWzBdLFxuICAgICAgYiA9IGludGVyc2VjdGlvbnNbaW50ZXJzZWN0aW9ucy5sZW5ndGggLSAxXSxcbiAgICAgIGlkeDtcblxuICBpZiAoIWEpIHtcblxuICAgIC8vIG5vIGludGVyc2VjdGlvblxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgaWYgKGEgIT09IGIpIHtcblxuICAgIGlmIChhLnNlZ21lbnQyICE9PSBiLnNlZ21lbnQyKSB7XG5cbiAgICAgIC8vIHdlIHVzZSB0aGUgYmVuZHBvaW50IGluIGJldHdlZW4gYm90aCBzZWdtZW50c1xuICAgICAgLy8gYXMgdGhlIGludGVyc2VjdGlvbiBwb2ludFxuXG4gICAgICBpZHggPSBtYXgoYS5zZWdtZW50MiwgYi5zZWdtZW50MikgLSAxO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBwb2ludDogd2F5cG9pbnRzW2lkeF0sXG4gICAgICAgIGJlbmRwb2ludDogdHJ1ZSxcbiAgICAgICAgaW5kZXg6IGlkeFxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgcG9pbnQ6IHtcbiAgICAgICAgeDogKHJvdW5kKGEueCArIGIueCkgLyAyKSxcbiAgICAgICAgeTogKHJvdW5kKGEueSArIGIueSkgLyAyKVxuICAgICAgfSxcbiAgICAgIGluZGV4OiBhLnNlZ21lbnQyXG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgcG9pbnQ6IHtcbiAgICAgIHg6IHJvdW5kKGEueCksXG4gICAgICB5OiByb3VuZChhLnkpXG4gICAgfSxcbiAgICBpbmRleDogYS5zZWdtZW50MlxuICB9O1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIGNsb3Nlc3QgcG9pbnQgb24gdGhlIGNvbm5lY3Rpb24gdG93YXJkcyBhIGdpdmVuIHJlZmVyZW5jZSBwb2ludC5cbiAqXG4gKiBAcGFyYW0gIHtBcnJheTxQb2ludD59IHdheXBvaW50c1xuICogQHBhcmFtICB7UG9pbnR9IHJlZmVyZW5jZVxuICpcbiAqIEByZXR1cm4ge09iamVjdH0gaW50ZXJzZWN0aW9uIGRhdGEgKHNlZ21lbnQsIHBvaW50KVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0QXBwcm94SW50ZXJzZWN0aW9uKHdheXBvaW50cywgcmVmZXJlbmNlKSB7XG4gIHJldHVybiBnZXRCZW5kcG9pbnRJbnRlcnNlY3Rpb24od2F5cG9pbnRzLCByZWZlcmVuY2UpIHx8IGdldFBhdGhJbnRlcnNlY3Rpb24od2F5cG9pbnRzLCByZWZlcmVuY2UpO1xufVxuIiwiaW1wb3J0IHtcbiAgdG9Qb2ludFxufSBmcm9tICcuLi8uLi91dGlsL0V2ZW50JztcblxuaW1wb3J0IHtcbiAgZ2V0TWlkUG9pbnQsXG4gIHBvaW50c0FsaWduZWRcbn0gZnJvbSAnLi4vLi4vdXRpbC9HZW9tZXRyeSc7XG5cbmltcG9ydCB7XG4gIGFwcGVuZCBhcyBzdmdBcHBlbmQsXG4gIGF0dHIgYXMgc3ZnQXR0cixcbiAgY2xhc3NlcyBhcyBzdmdDbGFzc2VzLFxuICBjcmVhdGUgYXMgc3ZnQ3JlYXRlXG59IGZyb20gJ3Rpbnktc3ZnJztcblxuaW1wb3J0IHtcbiAgcm90YXRlLFxuICB0cmFuc2xhdGVcbn0gZnJvbSAnLi4vLi4vdXRpbC9TdmdUcmFuc2Zvcm1VdGlsJztcblxuaW1wb3J0IHtcbiAgZ2V0QXBwcm94SW50ZXJzZWN0aW9uXG59IGZyb20gJy4uLy4uL3V0aWwvTGluZUludGVyc2VjdGlvbic7XG5cbmV4cG9ydCB2YXIgQkVORFBPSU5UX0NMUyA9ICdkanMtYmVuZHBvaW50JztcbmV4cG9ydCB2YXIgU0VHTUVOVF9EUkFHR0VSX0NMUyA9ICdkanMtc2VnbWVudC1kcmFnZ2VyJztcblxuZXhwb3J0IGZ1bmN0aW9uIHRvQ2FudmFzQ29vcmRpbmF0ZXMoY2FudmFzLCBldmVudCkge1xuXG4gIHZhciBwb3NpdGlvbiA9IHRvUG9pbnQoZXZlbnQpLFxuICAgICAgY2xpZW50UmVjdCA9IGNhbnZhcy5fY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxuICAgICAgb2Zmc2V0O1xuXG4gIC8vIGNhbnZhcyByZWxhdGl2ZSBwb3NpdGlvblxuXG4gIG9mZnNldCA9IHtcbiAgICB4OiBjbGllbnRSZWN0LmxlZnQsXG4gICAgeTogY2xpZW50UmVjdC50b3BcbiAgfTtcblxuICAvLyB1cGRhdGUgYWN0dWFsIGV2ZW50IHBheWxvYWQgd2l0aCBjYW52YXMgcmVsYXRpdmUgbWVhc3VyZXNcblxuICB2YXIgdmlld2JveCA9IGNhbnZhcy52aWV3Ym94KCk7XG5cbiAgcmV0dXJuIHtcbiAgICB4OiB2aWV3Ym94LnggKyAocG9zaXRpb24ueCAtIG9mZnNldC54KSAvIHZpZXdib3guc2NhbGUsXG4gICAgeTogdmlld2JveC55ICsgKHBvc2l0aW9uLnkgLSBvZmZzZXQueSkgLyB2aWV3Ym94LnNjYWxlXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb25uZWN0aW9uSW50ZXJzZWN0aW9uKGNhbnZhcywgd2F5cG9pbnRzLCBldmVudCkge1xuICB2YXIgbG9jYWxQb3NpdGlvbiA9IHRvQ2FudmFzQ29vcmRpbmF0ZXMoY2FudmFzLCBldmVudCksXG4gICAgICBpbnRlcnNlY3Rpb24gPSBnZXRBcHByb3hJbnRlcnNlY3Rpb24od2F5cG9pbnRzLCBsb2NhbFBvc2l0aW9uKTtcblxuICByZXR1cm4gaW50ZXJzZWN0aW9uO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkQmVuZHBvaW50KHBhcmVudEdmeCwgY2xzKSB7XG4gIHZhciBncm91cEdmeCA9IHN2Z0NyZWF0ZSgnZycpO1xuICBzdmdDbGFzc2VzKGdyb3VwR2Z4KS5hZGQoQkVORFBPSU5UX0NMUyk7XG5cbiAgc3ZnQXBwZW5kKHBhcmVudEdmeCwgZ3JvdXBHZngpO1xuXG4gIHZhciB2aXN1YWwgPSBzdmdDcmVhdGUoJ2NpcmNsZScpO1xuICBzdmdBdHRyKHZpc3VhbCwge1xuICAgIGN4OiAwLFxuICAgIGN5OiAwLFxuICAgIHI6IDRcbiAgfSk7XG4gIHN2Z0NsYXNzZXModmlzdWFsKS5hZGQoJ2Rqcy12aXN1YWwnKTtcblxuICBzdmdBcHBlbmQoZ3JvdXBHZngsIHZpc3VhbCk7XG5cbiAgdmFyIGhpdCA9IHN2Z0NyZWF0ZSgnY2lyY2xlJyk7XG4gIHN2Z0F0dHIoaGl0LCB7XG4gICAgY3g6IDAsXG4gICAgY3k6IDAsXG4gICAgcjogMTBcbiAgfSk7XG4gIHN2Z0NsYXNzZXMoaGl0KS5hZGQoJ2Rqcy1oaXQnKTtcblxuICBzdmdBcHBlbmQoZ3JvdXBHZngsIGhpdCk7XG5cbiAgaWYgKGNscykge1xuICAgIHN2Z0NsYXNzZXMoZ3JvdXBHZngpLmFkZChjbHMpO1xuICB9XG5cbiAgcmV0dXJuIGdyb3VwR2Z4O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVQYXJhbGxlbERyYWdnZXIocGFyZW50R2Z4LCBzZWdtZW50U3RhcnQsIHNlZ21lbnRFbmQsIGFsaWdubWVudCkge1xuICB2YXIgZHJhZ2dlckdmeCA9IHN2Z0NyZWF0ZSgnZycpO1xuXG4gIHN2Z0FwcGVuZChwYXJlbnRHZngsIGRyYWdnZXJHZngpO1xuXG4gIHZhciB3aWR0aCA9IDE0LFxuICAgICAgaGVpZ2h0ID0gMyxcbiAgICAgIHBhZGRpbmcgPSAxMSxcbiAgICAgIGhpdFdpZHRoID0gY2FsY3VsYXRlSGl0V2lkdGgoc2VnbWVudFN0YXJ0LCBzZWdtZW50RW5kLCBhbGlnbm1lbnQpLFxuICAgICAgaGl0SGVpZ2h0ID0gaGVpZ2h0ICsgcGFkZGluZztcblxuICB2YXIgdmlzdWFsID0gc3ZnQ3JlYXRlKCdyZWN0Jyk7XG4gIHN2Z0F0dHIodmlzdWFsLCB7XG4gICAgeDogLXdpZHRoIC8gMixcbiAgICB5OiAtaGVpZ2h0IC8gMixcbiAgICB3aWR0aDogd2lkdGgsXG4gICAgaGVpZ2h0OiBoZWlnaHRcbiAgfSk7XG4gIHN2Z0NsYXNzZXModmlzdWFsKS5hZGQoJ2Rqcy12aXN1YWwnKTtcblxuICBzdmdBcHBlbmQoZHJhZ2dlckdmeCwgdmlzdWFsKTtcblxuICB2YXIgaGl0ID0gc3ZnQ3JlYXRlKCdyZWN0Jyk7XG4gIHN2Z0F0dHIoaGl0LCB7XG4gICAgeDogLWhpdFdpZHRoIC8gMixcbiAgICB5OiAtaGl0SGVpZ2h0IC8gMixcbiAgICB3aWR0aDogaGl0V2lkdGgsXG4gICAgaGVpZ2h0OiBoaXRIZWlnaHRcbiAgfSk7XG4gIHN2Z0NsYXNzZXMoaGl0KS5hZGQoJ2Rqcy1oaXQnKTtcblxuICBzdmdBcHBlbmQoZHJhZ2dlckdmeCwgaGl0KTtcblxuICByb3RhdGUoZHJhZ2dlckdmeCwgYWxpZ25tZW50ID09PSAndicgPyA5MCA6IDAsIDAsIDApO1xuXG4gIHJldHVybiBkcmFnZ2VyR2Z4O1xufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRTZWdtZW50RHJhZ2dlcihwYXJlbnRHZngsIHNlZ21lbnRTdGFydCwgc2VnbWVudEVuZCkge1xuXG4gIHZhciBncm91cEdmeCA9IHN2Z0NyZWF0ZSgnZycpLFxuICAgICAgbWlkID0gZ2V0TWlkUG9pbnQoc2VnbWVudFN0YXJ0LCBzZWdtZW50RW5kKSxcbiAgICAgIGFsaWdubWVudCA9IHBvaW50c0FsaWduZWQoc2VnbWVudFN0YXJ0LCBzZWdtZW50RW5kKTtcblxuICBzdmdBcHBlbmQocGFyZW50R2Z4LCBncm91cEdmeCk7XG5cbiAgY3JlYXRlUGFyYWxsZWxEcmFnZ2VyKGdyb3VwR2Z4LCBzZWdtZW50U3RhcnQsIHNlZ21lbnRFbmQsIGFsaWdubWVudCk7XG5cbiAgc3ZnQ2xhc3Nlcyhncm91cEdmeCkuYWRkKFNFR01FTlRfRFJBR0dFUl9DTFMpO1xuICBzdmdDbGFzc2VzKGdyb3VwR2Z4KS5hZGQoYWxpZ25tZW50ID09PSAnaCcgPyAnaG9yaXpvbnRhbCcgOiAndmVydGljYWwnKTtcblxuICB0cmFuc2xhdGUoZ3JvdXBHZngsIG1pZC54LCBtaWQueSk7XG5cbiAgcmV0dXJuIGdyb3VwR2Z4O1xufVxuXG4vKipcbiAqIENhbGN1bGF0ZXMgcmVnaW9uIGZvciBzZWdtZW50IG1vdmUgd2hpY2ggaXMgMi8zIG9mIHRoZSBmdWxsIHNlZ21lbnQgbGVuZ3RoXG4gKiBAcGFyYW0ge251bWJlcn0gc2VnbWVudExlbmd0aFxuICpcbiAqIEByZXR1cm4ge251bWJlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNhbGN1bGF0ZVNlZ21lbnRNb3ZlUmVnaW9uKHNlZ21lbnRMZW5ndGgpIHtcbiAgcmV0dXJuIE1hdGguYWJzKE1hdGgucm91bmQoc2VnbWVudExlbmd0aCAqIDIgLyAzKSk7XG59XG5cbi8vIGhlbHBlciAvLy8vLy8vLy8vXG5cbmZ1bmN0aW9uIGNhbGN1bGF0ZUhpdFdpZHRoKHNlZ21lbnRTdGFydCwgc2VnbWVudEVuZCwgYWxpZ25tZW50KSB7XG4gIHZhciBzZWdtZW50TGVuZ3RoWEF4aXMgPSBzZWdtZW50RW5kLnggLSBzZWdtZW50U3RhcnQueCxcbiAgICAgIHNlZ21lbnRMZW5ndGhZQXhpcyA9IHNlZ21lbnRFbmQueSAtIHNlZ21lbnRTdGFydC55O1xuXG4gIHJldHVybiBhbGlnbm1lbnQgPT09ICdoJyA/XG4gICAgY2FsY3VsYXRlU2VnbWVudE1vdmVSZWdpb24oc2VnbWVudExlbmd0aFhBeGlzKSA6XG4gICAgY2FsY3VsYXRlU2VnbWVudE1vdmVSZWdpb24oc2VnbWVudExlbmd0aFlBeGlzKTtcbn1cbiIsImltcG9ydCB7IGZvckVhY2ggfSBmcm9tICdtaW4tZGFzaCc7XG5cbmltcG9ydCB7XG4gIGV2ZW50IGFzIGRvbUV2ZW50LFxuICBxdWVyeSBhcyBkb21RdWVyeSxcbiAgcXVlcnlBbGwgYXMgZG9tUXVlcnlBbGxcbn0gZnJvbSAnbWluLWRvbSc7XG5cbmltcG9ydCB7XG4gIEJFTkRQT0lOVF9DTFMsXG4gIFNFR01FTlRfRFJBR0dFUl9DTFMsXG4gIGFkZEJlbmRwb2ludCxcbiAgYWRkU2VnbWVudERyYWdnZXIsXG4gIGNhbGN1bGF0ZVNlZ21lbnRNb3ZlUmVnaW9uLFxuICBnZXRDb25uZWN0aW9uSW50ZXJzZWN0aW9uXG59IGZyb20gJy4vQmVuZHBvaW50VXRpbCc7XG5cbmltcG9ydCB7XG4gIGVzY2FwZUNTU1xufSBmcm9tICcuLi8uLi91dGlsL0VzY2FwZVV0aWwnO1xuXG5pbXBvcnQge1xuICBwb2ludHNBbGlnbmVkLFxuICBnZXRNaWRQb2ludFxufSBmcm9tICcuLi8uLi91dGlsL0dlb21ldHJ5JztcblxuaW1wb3J0IHtcbiAgaXNQcmltYXJ5QnV0dG9uXG59IGZyb20gJy4uLy4uL3V0aWwvTW91c2UnO1xuXG5pbXBvcnQge1xuICBhcHBlbmQgYXMgc3ZnQXBwZW5kLFxuICBhdHRyIGFzIHN2Z0F0dHIsXG4gIGNsYXNzZXMgYXMgc3ZnQ2xhc3NlcyxcbiAgY3JlYXRlIGFzIHN2Z0NyZWF0ZSxcbiAgcmVtb3ZlIGFzIHN2Z1JlbW92ZVxufSBmcm9tICd0aW55LXN2Zyc7XG5cbmltcG9ydCB7XG4gIHRyYW5zbGF0ZVxufSBmcm9tICcuLi8uLi91dGlsL1N2Z1RyYW5zZm9ybVV0aWwnO1xuXG5cbi8qKlxuICogQSBzZXJ2aWNlIHRoYXQgYWRkcyBlZGl0YWJsZSBiZW5kcG9pbnRzIHRvIGNvbm5lY3Rpb25zLlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBCZW5kcG9pbnRzKFxuICAgIGV2ZW50QnVzLCBjYW52YXMsIGludGVyYWN0aW9uRXZlbnRzLFxuICAgIGJlbmRwb2ludE1vdmUsIGNvbm5lY3Rpb25TZWdtZW50TW92ZSkge1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgaW50ZXJzZWN0aW9uIHBvaW50IGlzIGluc2lkZSBtaWRkbGUgcmVnaW9uIG9mIHNlZ21lbnQsIGFkanVzdGVkIGJ5XG4gICAqIG9wdGlvbmFsIHRocmVzaG9sZFxuICAgKi9cbiAgZnVuY3Rpb24gaXNJbnRlcnNlY3Rpb25NaWRkbGUoaW50ZXJzZWN0aW9uLCB3YXlwb2ludHMsIHRyZXNob2xkKSB7XG4gICAgdmFyIGlkeCA9IGludGVyc2VjdGlvbi5pbmRleCxcbiAgICAgICAgcCA9IGludGVyc2VjdGlvbi5wb2ludCxcbiAgICAgICAgcDAsIHAxLCBtaWQsIGFsaWduZWQsIHhEZWx0YSwgeURlbHRhO1xuXG4gICAgaWYgKGlkeCA8PSAwIHx8IGludGVyc2VjdGlvbi5iZW5kcG9pbnQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBwMCA9IHdheXBvaW50c1tpZHggLSAxXTtcbiAgICBwMSA9IHdheXBvaW50c1tpZHhdO1xuICAgIG1pZCA9IGdldE1pZFBvaW50KHAwLCBwMSksXG4gICAgYWxpZ25lZCA9IHBvaW50c0FsaWduZWQocDAsIHAxKTtcbiAgICB4RGVsdGEgPSBNYXRoLmFicyhwLnggLSBtaWQueCk7XG4gICAgeURlbHRhID0gTWF0aC5hYnMocC55IC0gbWlkLnkpO1xuXG4gICAgcmV0dXJuIGFsaWduZWQgJiYgeERlbHRhIDw9IHRyZXNob2xkICYmIHlEZWx0YSA8PSB0cmVzaG9sZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGVzIHRoZSB0aHJlc2hvbGQgZnJvbSBhIGNvbm5lY3Rpb24ncyBtaWRkbGUgd2hpY2ggZml0cyB0aGUgdHdvLXRoaXJkLXJlZ2lvblxuICAgKi9cbiAgZnVuY3Rpb24gY2FsY3VsYXRlSW50ZXJzZWN0aW9uVGhyZXNob2xkKGNvbm5lY3Rpb24sIGludGVyc2VjdGlvbikge1xuICAgIHZhciB3YXlwb2ludHMgPSBjb25uZWN0aW9uLndheXBvaW50cyxcbiAgICAgICAgcmVsZXZhbnRTZWdtZW50LCBhbGlnbm1lbnQsIHNlZ21lbnRMZW5ndGgsIHRocmVzaG9sZDtcblxuICAgIGlmIChpbnRlcnNlY3Rpb24uaW5kZXggPD0gMCB8fCBpbnRlcnNlY3Rpb24uYmVuZHBvaW50KSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBzZWdtZW50IHJlbGF0aXZlIHRvIGNvbm5lY3Rpb24gaW50ZXJzZWN0aW9uXG4gICAgcmVsZXZhbnRTZWdtZW50ID0ge1xuICAgICAgc3RhcnQ6IHdheXBvaW50c1tpbnRlcnNlY3Rpb24uaW5kZXggLSAxXSxcbiAgICAgIGVuZDogd2F5cG9pbnRzW2ludGVyc2VjdGlvbi5pbmRleF1cbiAgICB9O1xuXG4gICAgYWxpZ25tZW50ID0gcG9pbnRzQWxpZ25lZChyZWxldmFudFNlZ21lbnQuc3RhcnQsIHJlbGV2YW50U2VnbWVudC5lbmQpO1xuXG4gICAgaWYgKCFhbGlnbm1lbnQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGlmIChhbGlnbm1lbnQgPT09ICdoJykge1xuICAgICAgc2VnbWVudExlbmd0aCA9IHJlbGV2YW50U2VnbWVudC5lbmQueCAtIHJlbGV2YW50U2VnbWVudC5zdGFydC54O1xuICAgIH0gZWxzZSB7XG4gICAgICBzZWdtZW50TGVuZ3RoID0gcmVsZXZhbnRTZWdtZW50LmVuZC55IC0gcmVsZXZhbnRTZWdtZW50LnN0YXJ0Lnk7XG4gICAgfVxuXG4gICAgLy8gY2FsY3VsYXRlIHRocmVzaG9sZCByZWxhdGl2ZSB0byAyLzMgb2Ygc2VnbWVudCBsZW5ndGhcbiAgICB0aHJlc2hvbGQgPSBjYWxjdWxhdGVTZWdtZW50TW92ZVJlZ2lvbihzZWdtZW50TGVuZ3RoKSAvIDI7XG5cbiAgICByZXR1cm4gdGhyZXNob2xkO1xuICB9XG5cbiAgZnVuY3Rpb24gYWN0aXZhdGVCZW5kcG9pbnRNb3ZlKGV2ZW50LCBjb25uZWN0aW9uKSB7XG4gICAgdmFyIHdheXBvaW50cyA9IGNvbm5lY3Rpb24ud2F5cG9pbnRzLFxuICAgICAgICBpbnRlcnNlY3Rpb24gPSBnZXRDb25uZWN0aW9uSW50ZXJzZWN0aW9uKGNhbnZhcywgd2F5cG9pbnRzLCBldmVudCksXG4gICAgICAgIHRocmVzaG9sZDtcblxuICAgIGlmICghaW50ZXJzZWN0aW9uKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhyZXNob2xkID0gY2FsY3VsYXRlSW50ZXJzZWN0aW9uVGhyZXNob2xkKGNvbm5lY3Rpb24sIGludGVyc2VjdGlvbik7XG5cbiAgICBpZiAoaXNJbnRlcnNlY3Rpb25NaWRkbGUoaW50ZXJzZWN0aW9uLCB3YXlwb2ludHMsIHRocmVzaG9sZCkpIHtcbiAgICAgIGNvbm5lY3Rpb25TZWdtZW50TW92ZS5zdGFydChldmVudCwgY29ubmVjdGlvbiwgaW50ZXJzZWN0aW9uLmluZGV4KTtcbiAgICB9IGVsc2Uge1xuICAgICAgYmVuZHBvaW50TW92ZS5zdGFydChldmVudCwgY29ubmVjdGlvbiwgaW50ZXJzZWN0aW9uLmluZGV4LCAhaW50ZXJzZWN0aW9uLmJlbmRwb2ludCk7XG4gICAgfVxuXG4gICAgLy8gd2UndmUgaGFuZGxlZCB0aGUgZXZlbnRcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGJpbmRJbnRlcmFjdGlvbkV2ZW50cyhub2RlLCBldmVudE5hbWUsIGVsZW1lbnQpIHtcblxuICAgIGRvbUV2ZW50LmJpbmQobm9kZSwgZXZlbnROYW1lLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgaW50ZXJhY3Rpb25FdmVudHMudHJpZ2dlck1vdXNlRXZlbnQoZXZlbnROYW1lLCBldmVudCwgZWxlbWVudCk7XG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEJlbmRwb2ludHNDb250YWluZXIoZWxlbWVudCwgY3JlYXRlKSB7XG5cbiAgICB2YXIgbGF5ZXIgPSBjYW52YXMuZ2V0TGF5ZXIoJ292ZXJsYXlzJyksXG4gICAgICAgIGdmeCA9IGRvbVF1ZXJ5KCcuZGpzLWJlbmRwb2ludHNbZGF0YS1lbGVtZW50LWlkPVwiJyArIGVzY2FwZUNTUyhlbGVtZW50LmlkKSArICdcIl0nLCBsYXllcik7XG5cbiAgICBpZiAoIWdmeCAmJiBjcmVhdGUpIHtcbiAgICAgIGdmeCA9IHN2Z0NyZWF0ZSgnZycpO1xuICAgICAgc3ZnQXR0cihnZngsIHsgJ2RhdGEtZWxlbWVudC1pZCc6IGVsZW1lbnQuaWQgfSk7XG4gICAgICBzdmdDbGFzc2VzKGdmeCkuYWRkKCdkanMtYmVuZHBvaW50cycpO1xuXG4gICAgICBzdmdBcHBlbmQobGF5ZXIsIGdmeCk7XG5cbiAgICAgIGJpbmRJbnRlcmFjdGlvbkV2ZW50cyhnZngsICdtb3VzZWRvd24nLCBlbGVtZW50KTtcbiAgICAgIGJpbmRJbnRlcmFjdGlvbkV2ZW50cyhnZngsICdjbGljaycsIGVsZW1lbnQpO1xuICAgICAgYmluZEludGVyYWN0aW9uRXZlbnRzKGdmeCwgJ2RibGNsaWNrJywgZWxlbWVudCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGdmeDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFNlZ21lbnREcmFnZ2VyKGlkeCwgcGFyZW50R2Z4KSB7XG4gICAgcmV0dXJuIGRvbVF1ZXJ5KFxuICAgICAgJy5kanMtc2VnbWVudC1kcmFnZ2VyW2RhdGEtc2VnbWVudC1pZHg9XCInICsgaWR4ICsgJ1wiXScsXG4gICAgICBwYXJlbnRHZnhcbiAgICApO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlQmVuZHBvaW50cyhnZngsIGNvbm5lY3Rpb24pIHtcbiAgICBjb25uZWN0aW9uLndheXBvaW50cy5mb3JFYWNoKGZ1bmN0aW9uKHAsIGlkeCkge1xuICAgICAgdmFyIGJlbmRwb2ludCA9IGFkZEJlbmRwb2ludChnZngpO1xuXG4gICAgICBzdmdBcHBlbmQoZ2Z4LCBiZW5kcG9pbnQpO1xuXG4gICAgICB0cmFuc2xhdGUoYmVuZHBvaW50LCBwLngsIHAueSk7XG4gICAgfSk7XG5cbiAgICAvLyBhZGQgZmxvYXRpbmcgYmVuZHBvaW50XG4gICAgYWRkQmVuZHBvaW50KGdmeCwgJ2Zsb2F0aW5nJyk7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVTZWdtZW50RHJhZ2dlcnMoZ2Z4LCBjb25uZWN0aW9uKSB7XG5cbiAgICB2YXIgd2F5cG9pbnRzID0gY29ubmVjdGlvbi53YXlwb2ludHM7XG5cbiAgICB2YXIgc2VnbWVudFN0YXJ0LFxuICAgICAgICBzZWdtZW50RW5kLFxuICAgICAgICBzZWdtZW50RHJhZ2dlckdmeDtcblxuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgd2F5cG9pbnRzLmxlbmd0aDsgaSsrKSB7XG5cbiAgICAgIHNlZ21lbnRTdGFydCA9IHdheXBvaW50c1tpIC0gMV07XG4gICAgICBzZWdtZW50RW5kID0gd2F5cG9pbnRzW2ldO1xuXG4gICAgICBpZiAocG9pbnRzQWxpZ25lZChzZWdtZW50U3RhcnQsIHNlZ21lbnRFbmQpKSB7XG4gICAgICAgIHNlZ21lbnREcmFnZ2VyR2Z4ID0gYWRkU2VnbWVudERyYWdnZXIoZ2Z4LCBzZWdtZW50U3RhcnQsIHNlZ21lbnRFbmQpO1xuXG4gICAgICAgIHN2Z0F0dHIoc2VnbWVudERyYWdnZXJHZngsIHsgJ2RhdGEtc2VnbWVudC1pZHgnOiBpIH0pO1xuXG4gICAgICAgIGJpbmRJbnRlcmFjdGlvbkV2ZW50cyhzZWdtZW50RHJhZ2dlckdmeCwgJ21vdXNlbW92ZScsIGNvbm5lY3Rpb24pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNsZWFyQmVuZHBvaW50cyhnZngpIHtcbiAgICBmb3JFYWNoKGRvbVF1ZXJ5QWxsKCcuJyArIEJFTkRQT0lOVF9DTFMsIGdmeCksIGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgIHN2Z1JlbW92ZShub2RlKTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNsZWFyU2VnbWVudERyYWdnZXJzKGdmeCkge1xuICAgIGZvckVhY2goZG9tUXVlcnlBbGwoJy4nICsgU0VHTUVOVF9EUkFHR0VSX0NMUywgZ2Z4KSwgZnVuY3Rpb24obm9kZSkge1xuICAgICAgc3ZnUmVtb3ZlKG5vZGUpO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gYWRkSGFuZGxlcyhjb25uZWN0aW9uKSB7XG5cbiAgICB2YXIgZ2Z4ID0gZ2V0QmVuZHBvaW50c0NvbnRhaW5lcihjb25uZWN0aW9uKTtcblxuICAgIGlmICghZ2Z4KSB7XG4gICAgICBnZnggPSBnZXRCZW5kcG9pbnRzQ29udGFpbmVyKGNvbm5lY3Rpb24sIHRydWUpO1xuXG4gICAgICBjcmVhdGVCZW5kcG9pbnRzKGdmeCwgY29ubmVjdGlvbik7XG4gICAgICBjcmVhdGVTZWdtZW50RHJhZ2dlcnMoZ2Z4LCBjb25uZWN0aW9uKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZ2Z4O1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlSGFuZGxlcyhjb25uZWN0aW9uKSB7XG5cbiAgICB2YXIgZ2Z4ID0gZ2V0QmVuZHBvaW50c0NvbnRhaW5lcihjb25uZWN0aW9uKTtcblxuICAgIGlmIChnZngpIHtcbiAgICAgIGNsZWFyU2VnbWVudERyYWdnZXJzKGdmeCk7XG4gICAgICBjbGVhckJlbmRwb2ludHMoZ2Z4KTtcbiAgICAgIGNyZWF0ZVNlZ21lbnREcmFnZ2VycyhnZngsIGNvbm5lY3Rpb24pO1xuICAgICAgY3JlYXRlQmVuZHBvaW50cyhnZngsIGNvbm5lY3Rpb24pO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZUZsb2F0aW5nQmVuZHBvaW50UG9zaXRpb24ocGFyZW50R2Z4LCBpbnRlcnNlY3Rpb24pIHtcbiAgICB2YXIgZmxvYXRpbmcgPSBkb21RdWVyeSgnLmZsb2F0aW5nJywgcGFyZW50R2Z4KSxcbiAgICAgICAgcG9pbnQgPSBpbnRlcnNlY3Rpb24ucG9pbnQ7XG5cbiAgICBpZiAoIWZsb2F0aW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdHJhbnNsYXRlKGZsb2F0aW5nLCBwb2ludC54LCBwb2ludC55KTtcblxuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlU2VnbWVudERyYWdnZXJQb3NpdGlvbihwYXJlbnRHZngsIGludGVyc2VjdGlvbiwgd2F5cG9pbnRzKSB7XG5cbiAgICB2YXIgZHJhZ2dlckdmeCA9IGdldFNlZ21lbnREcmFnZ2VyKGludGVyc2VjdGlvbi5pbmRleCwgcGFyZW50R2Z4KSxcbiAgICAgICAgc2VnbWVudFN0YXJ0ID0gd2F5cG9pbnRzW2ludGVyc2VjdGlvbi5pbmRleCAtIDFdLFxuICAgICAgICBzZWdtZW50RW5kID0gd2F5cG9pbnRzW2ludGVyc2VjdGlvbi5pbmRleF0sXG4gICAgICAgIHBvaW50ID0gaW50ZXJzZWN0aW9uLnBvaW50LFxuICAgICAgICBtaWQgPSBnZXRNaWRQb2ludChzZWdtZW50U3RhcnQsIHNlZ21lbnRFbmQpLFxuICAgICAgICBhbGlnbm1lbnQgPSBwb2ludHNBbGlnbmVkKHNlZ21lbnRTdGFydCwgc2VnbWVudEVuZCksXG4gICAgICAgIGRyYWdnZXJWaXN1YWwsIHJlbGF0aXZlUG9zaXRpb247XG5cbiAgICBpZiAoIWRyYWdnZXJHZngpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBkcmFnZ2VyVmlzdWFsID0gZ2V0RHJhZ2dlclZpc3VhbChkcmFnZ2VyR2Z4KTtcblxuICAgIHJlbGF0aXZlUG9zaXRpb24gPSB7XG4gICAgICB4OiBwb2ludC54IC0gbWlkLngsXG4gICAgICB5OiBwb2ludC55IC0gbWlkLnlcbiAgICB9O1xuXG4gICAgaWYgKGFsaWdubWVudCA9PT0gJ3YnKSB7XG5cbiAgICAgIC8vIHJvdGF0ZSBwb3NpdGlvblxuICAgICAgcmVsYXRpdmVQb3NpdGlvbiA9IHtcbiAgICAgICAgeDogcmVsYXRpdmVQb3NpdGlvbi55LFxuICAgICAgICB5OiByZWxhdGl2ZVBvc2l0aW9uLnhcbiAgICAgIH07XG4gICAgfVxuXG4gICAgdHJhbnNsYXRlKGRyYWdnZXJWaXN1YWwsIHJlbGF0aXZlUG9zaXRpb24ueCwgcmVsYXRpdmVQb3NpdGlvbi55KTtcbiAgfVxuXG4gIGV2ZW50QnVzLm9uKCdjb25uZWN0aW9uLmNoYW5nZWQnLCBmdW5jdGlvbihldmVudCkge1xuICAgIHVwZGF0ZUhhbmRsZXMoZXZlbnQuZWxlbWVudCk7XG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKCdjb25uZWN0aW9uLnJlbW92ZScsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIGdmeCA9IGdldEJlbmRwb2ludHNDb250YWluZXIoZXZlbnQuZWxlbWVudCk7XG5cbiAgICBpZiAoZ2Z4KSB7XG4gICAgICBzdmdSZW1vdmUoZ2Z4KTtcbiAgICB9XG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKCdlbGVtZW50Lm1hcmtlci51cGRhdGUnLCBmdW5jdGlvbihldmVudCkge1xuXG4gICAgdmFyIGVsZW1lbnQgPSBldmVudC5lbGVtZW50LFxuICAgICAgICBiZW5kcG9pbnRzR2Z4O1xuXG4gICAgaWYgKCFlbGVtZW50LndheXBvaW50cykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGJlbmRwb2ludHNHZnggPSBhZGRIYW5kbGVzKGVsZW1lbnQpO1xuXG4gICAgaWYgKGV2ZW50LmFkZCkge1xuICAgICAgc3ZnQ2xhc3NlcyhiZW5kcG9pbnRzR2Z4KS5hZGQoZXZlbnQubWFya2VyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3ZnQ2xhc3NlcyhiZW5kcG9pbnRzR2Z4KS5yZW1vdmUoZXZlbnQubWFya2VyKTtcbiAgICB9XG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKCdlbGVtZW50Lm1vdXNlbW92ZScsIGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICB2YXIgZWxlbWVudCA9IGV2ZW50LmVsZW1lbnQsXG4gICAgICAgIHdheXBvaW50cyA9IGVsZW1lbnQud2F5cG9pbnRzLFxuICAgICAgICBiZW5kcG9pbnRzR2Z4LFxuICAgICAgICBpbnRlcnNlY3Rpb247XG5cbiAgICBpZiAod2F5cG9pbnRzKSB7XG4gICAgICBiZW5kcG9pbnRzR2Z4ID0gZ2V0QmVuZHBvaW50c0NvbnRhaW5lcihlbGVtZW50LCB0cnVlKTtcblxuICAgICAgaW50ZXJzZWN0aW9uID0gZ2V0Q29ubmVjdGlvbkludGVyc2VjdGlvbihjYW52YXMsIHdheXBvaW50cywgZXZlbnQub3JpZ2luYWxFdmVudCk7XG5cbiAgICAgIGlmICghaW50ZXJzZWN0aW9uKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdXBkYXRlRmxvYXRpbmdCZW5kcG9pbnRQb3NpdGlvbihiZW5kcG9pbnRzR2Z4LCBpbnRlcnNlY3Rpb24pO1xuXG4gICAgICBpZiAoIWludGVyc2VjdGlvbi5iZW5kcG9pbnQpIHtcbiAgICAgICAgdXBkYXRlU2VnbWVudERyYWdnZXJQb3NpdGlvbihiZW5kcG9pbnRzR2Z4LCBpbnRlcnNlY3Rpb24sIHdheXBvaW50cyk7XG4gICAgICB9XG5cbiAgICB9XG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKCdlbGVtZW50Lm1vdXNlZG93bicsIGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICBpZiAoIWlzUHJpbWFyeUJ1dHRvbihldmVudCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgb3JpZ2luYWxFdmVudCA9IGV2ZW50Lm9yaWdpbmFsRXZlbnQsXG4gICAgICAgIGVsZW1lbnQgPSBldmVudC5lbGVtZW50O1xuXG4gICAgaWYgKCFlbGVtZW50LndheXBvaW50cykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJldHVybiBhY3RpdmF0ZUJlbmRwb2ludE1vdmUob3JpZ2luYWxFdmVudCwgZWxlbWVudCk7XG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKCdzZWxlY3Rpb24uY2hhbmdlZCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIG5ld1NlbGVjdGlvbiA9IGV2ZW50Lm5ld1NlbGVjdGlvbixcbiAgICAgICAgcHJpbWFyeSA9IG5ld1NlbGVjdGlvblswXTtcblxuICAgIGlmIChwcmltYXJ5ICYmIHByaW1hcnkud2F5cG9pbnRzKSB7XG4gICAgICBhZGRIYW5kbGVzKHByaW1hcnkpO1xuICAgIH1cbiAgfSk7XG5cbiAgZXZlbnRCdXMub24oJ2VsZW1lbnQuaG92ZXInLCBmdW5jdGlvbihldmVudCkge1xuICAgIHZhciBlbGVtZW50ID0gZXZlbnQuZWxlbWVudDtcblxuICAgIGlmIChlbGVtZW50LndheXBvaW50cykge1xuICAgICAgYWRkSGFuZGxlcyhlbGVtZW50KTtcbiAgICAgIGludGVyYWN0aW9uRXZlbnRzLnJlZ2lzdGVyRXZlbnQoZXZlbnQuZ2Z4LCAnbW91c2Vtb3ZlJywgJ2VsZW1lbnQubW91c2Vtb3ZlJyk7XG4gICAgfVxuICB9KTtcblxuICBldmVudEJ1cy5vbignZWxlbWVudC5vdXQnLCBmdW5jdGlvbihldmVudCkge1xuICAgIGludGVyYWN0aW9uRXZlbnRzLnVucmVnaXN0ZXJFdmVudChldmVudC5nZngsICdtb3VzZW1vdmUnLCAnZWxlbWVudC5tb3VzZW1vdmUnKTtcbiAgfSk7XG5cbiAgLy8gdXBkYXRlIGJlbmRwb2ludCBjb250YWluZXIgZGF0YSBhdHRyaWJ1dGUgb24gZWxlbWVudCBJRCBjaGFuZ2VcbiAgZXZlbnRCdXMub24oJ2VsZW1lbnQudXBkYXRlSWQnLCBmdW5jdGlvbihjb250ZXh0KSB7XG4gICAgdmFyIGVsZW1lbnQgPSBjb250ZXh0LmVsZW1lbnQsXG4gICAgICAgIG5ld0lkID0gY29udGV4dC5uZXdJZDtcblxuICAgIGlmIChlbGVtZW50LndheXBvaW50cykge1xuICAgICAgdmFyIGJlbmRwb2ludENvbnRhaW5lciA9IGdldEJlbmRwb2ludHNDb250YWluZXIoZWxlbWVudCk7XG5cbiAgICAgIGlmIChiZW5kcG9pbnRDb250YWluZXIpIHtcbiAgICAgICAgc3ZnQXR0cihiZW5kcG9pbnRDb250YWluZXIsIHsgJ2RhdGEtZWxlbWVudC1pZCc6IG5ld0lkIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgLy8gQVBJXG5cbiAgdGhpcy5hZGRIYW5kbGVzID0gYWRkSGFuZGxlcztcbiAgdGhpcy51cGRhdGVIYW5kbGVzID0gdXBkYXRlSGFuZGxlcztcbiAgdGhpcy5nZXRCZW5kcG9pbnRzQ29udGFpbmVyID0gZ2V0QmVuZHBvaW50c0NvbnRhaW5lcjtcbiAgdGhpcy5nZXRTZWdtZW50RHJhZ2dlciA9IGdldFNlZ21lbnREcmFnZ2VyO1xufVxuXG5CZW5kcG9pbnRzLiRpbmplY3QgPSBbXG4gICdldmVudEJ1cycsXG4gICdjYW52YXMnLFxuICAnaW50ZXJhY3Rpb25FdmVudHMnLFxuICAnYmVuZHBvaW50TW92ZScsXG4gICdjb25uZWN0aW9uU2VnbWVudE1vdmUnXG5dO1xuXG5cblxuLy8gaGVscGVyIC8vLy8vLy8vLy8vLy9cblxuZnVuY3Rpb24gZ2V0RHJhZ2dlclZpc3VhbChkcmFnZ2VyR2Z4KSB7XG4gIHJldHVybiBkb21RdWVyeSgnLmRqcy12aXN1YWwnLCBkcmFnZ2VyR2Z4KTtcbn0iLCJpbXBvcnQge1xuICBpc09iamVjdCxcbiAgc29ydEJ5XG59IGZyb20gJ21pbi1kYXNoJztcblxuaW1wb3J0IHtcbiAgcG9pbnREaXN0YW5jZSxcbiAgcG9pbnRzT25MaW5lXG59IGZyb20gJy4uL3V0aWwvR2VvbWV0cnknO1xuXG5pbXBvcnQgaW50ZXJzZWN0UGF0aHMgZnJvbSAncGF0aC1pbnRlcnNlY3Rpb24nO1xuXG5cbmV4cG9ydCBmdW5jdGlvbiByb3VuZEJvdW5kcyhib3VuZHMpIHtcbiAgcmV0dXJuIHtcbiAgICB4OiBNYXRoLnJvdW5kKGJvdW5kcy54KSxcbiAgICB5OiBNYXRoLnJvdW5kKGJvdW5kcy55KSxcbiAgICB3aWR0aDogTWF0aC5yb3VuZChib3VuZHMud2lkdGgpLFxuICAgIGhlaWdodDogTWF0aC5yb3VuZChib3VuZHMuaGVpZ2h0KVxuICB9O1xufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiByb3VuZFBvaW50KHBvaW50KSB7XG5cbiAgcmV0dXJuIHtcbiAgICB4OiBNYXRoLnJvdW5kKHBvaW50LngpLFxuICAgIHk6IE1hdGgucm91bmQocG9pbnQueSlcbiAgfTtcbn1cblxuXG4vKipcbiAqIENvbnZlcnQgdGhlIGdpdmVuIGJvdW5kcyB0byBhIHsgdG9wLCBsZWZ0LCBib3R0b20sIHJpZ2h0IH0gZGVzY3JpcHRvci5cbiAqXG4gKiBAcGFyYW0ge0JvdW5kc3xQb2ludH0gYm91bmRzXG4gKlxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXNUUkJMKGJvdW5kcykge1xuICByZXR1cm4ge1xuICAgIHRvcDogYm91bmRzLnksXG4gICAgcmlnaHQ6IGJvdW5kcy54ICsgKGJvdW5kcy53aWR0aCB8fCAwKSxcbiAgICBib3R0b206IGJvdW5kcy55ICsgKGJvdW5kcy5oZWlnaHQgfHwgMCksXG4gICAgbGVmdDogYm91bmRzLnhcbiAgfTtcbn1cblxuXG4vKipcbiAqIENvbnZlcnQgYSB7IHRvcCwgbGVmdCwgYm90dG9tLCByaWdodCB9IHRvIGFuIG9iamVjdHMgYm91bmRzLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB0cmJsXG4gKlxuICogQHJldHVybiB7Qm91bmRzfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXNCb3VuZHModHJibCkge1xuICByZXR1cm4ge1xuICAgIHg6IHRyYmwubGVmdCxcbiAgICB5OiB0cmJsLnRvcCxcbiAgICB3aWR0aDogdHJibC5yaWdodCAtIHRyYmwubGVmdCxcbiAgICBoZWlnaHQ6IHRyYmwuYm90dG9tIC0gdHJibC50b3BcbiAgfTtcbn1cblxuXG4vKipcbiAqIEdldCB0aGUgbWlkIG9mIHRoZSBnaXZlbiBib3VuZHMgb3IgcG9pbnQuXG4gKlxuICogQHBhcmFtIHtCb3VuZHN8UG9pbnR9IGJvdW5kc1xuICpcbiAqIEByZXR1cm4ge1BvaW50fVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0TWlkKGJvdW5kcykge1xuICByZXR1cm4gcm91bmRQb2ludCh7XG4gICAgeDogYm91bmRzLnggKyAoYm91bmRzLndpZHRoIHx8IDApIC8gMixcbiAgICB5OiBib3VuZHMueSArIChib3VuZHMuaGVpZ2h0IHx8IDApIC8gMlxuICB9KTtcbn1cblxuXG4vLyBvcmllbnRhdGlvbiB1dGlscyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbi8qKlxuICogR2V0IG9yaWVudGF0aW9uIG9mIHRoZSBnaXZlbiByZWN0YW5nbGUgd2l0aCByZXNwZWN0IHRvXG4gKiB0aGUgcmVmZXJlbmNlIHJlY3RhbmdsZS5cbiAqXG4gKiBBIHBhZGRpbmcgKHBvc2l0aXZlIG9yIG5lZ2F0aXZlKSBtYXkgYmUgcGFzc2VkIHRvIGluZmx1ZW5jZVxuICogaG9yaXpvbnRhbCAvIHZlcnRpY2FsIG9yaWVudGF0aW9uIGFuZCBpbnRlcnNlY3Rpb24uXG4gKlxuICogQHBhcmFtIHtCb3VuZHN9IHJlY3RcbiAqIEBwYXJhbSB7Qm91bmRzfSByZWZlcmVuY2VcbiAqIEBwYXJhbSB7UG9pbnR8bnVtYmVyfSBwYWRkaW5nXG4gKlxuICogQHJldHVybiB7c3RyaW5nfSB0aGUgb3JpZW50YXRpb247IG9uZSBvZiB0b3AsIHRvcC1sZWZ0LCBsZWZ0LCAuLi4sIGJvdHRvbSwgcmlnaHQgb3IgaW50ZXJzZWN0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0T3JpZW50YXRpb24ocmVjdCwgcmVmZXJlbmNlLCBwYWRkaW5nKSB7XG5cbiAgcGFkZGluZyA9IHBhZGRpbmcgfHwgMDtcblxuICAvLyBtYWtlIHN1cmUgd2UgY2FuIHVzZSBhbiBvYmplY3QsIHRvb1xuICAvLyBmb3IgaW5kaXZpZHVhbCB7IHgsIHkgfSBwYWRkaW5nXG4gIGlmICghaXNPYmplY3QocGFkZGluZykpIHtcbiAgICBwYWRkaW5nID0geyB4OiBwYWRkaW5nLCB5OiBwYWRkaW5nIH07XG4gIH1cblxuXG4gIHZhciByZWN0T3JpZW50YXRpb24gPSBhc1RSQkwocmVjdCksXG4gICAgICByZWZlcmVuY2VPcmllbnRhdGlvbiA9IGFzVFJCTChyZWZlcmVuY2UpO1xuXG4gIHZhciB0b3AgPSByZWN0T3JpZW50YXRpb24uYm90dG9tICsgcGFkZGluZy55IDw9IHJlZmVyZW5jZU9yaWVudGF0aW9uLnRvcCxcbiAgICAgIHJpZ2h0ID0gcmVjdE9yaWVudGF0aW9uLmxlZnQgLSBwYWRkaW5nLnggPj0gcmVmZXJlbmNlT3JpZW50YXRpb24ucmlnaHQsXG4gICAgICBib3R0b20gPSByZWN0T3JpZW50YXRpb24udG9wIC0gcGFkZGluZy55ID49IHJlZmVyZW5jZU9yaWVudGF0aW9uLmJvdHRvbSxcbiAgICAgIGxlZnQgPSByZWN0T3JpZW50YXRpb24ucmlnaHQgKyBwYWRkaW5nLnggPD0gcmVmZXJlbmNlT3JpZW50YXRpb24ubGVmdDtcblxuICB2YXIgdmVydGljYWwgPSB0b3AgPyAndG9wJyA6IChib3R0b20gPyAnYm90dG9tJyA6IG51bGwpLFxuICAgICAgaG9yaXpvbnRhbCA9IGxlZnQgPyAnbGVmdCcgOiAocmlnaHQgPyAncmlnaHQnIDogbnVsbCk7XG5cbiAgaWYgKGhvcml6b250YWwgJiYgdmVydGljYWwpIHtcbiAgICByZXR1cm4gdmVydGljYWwgKyAnLScgKyBob3Jpem9udGFsO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBob3Jpem9udGFsIHx8IHZlcnRpY2FsIHx8ICdpbnRlcnNlY3QnO1xuICB9XG59XG5cblxuLy8gaW50ZXJzZWN0aW9uIHV0aWxzIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLyoqXG4gKiBHZXQgaW50ZXJzZWN0aW9uIGJldHdlZW4gYW4gZWxlbWVudCBhbmQgYSBsaW5lIHBhdGguXG4gKlxuICogQHBhcmFtIHtQYXRoRGVmfSBlbGVtZW50UGF0aFxuICogQHBhcmFtIHtQYXRoRGVmfSBsaW5lUGF0aFxuICogQHBhcmFtIHtib29sZWFufSBjcm9wU3RhcnQgY3JvcCBmcm9tIHN0YXJ0IG9yIGVuZFxuICpcbiAqIEByZXR1cm4ge1BvaW50fVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RWxlbWVudExpbmVJbnRlcnNlY3Rpb24oZWxlbWVudFBhdGgsIGxpbmVQYXRoLCBjcm9wU3RhcnQpIHtcblxuICB2YXIgaW50ZXJzZWN0aW9ucyA9IGdldEludGVyc2VjdGlvbnMoZWxlbWVudFBhdGgsIGxpbmVQYXRoKTtcblxuICAvLyByZWNvZ25pemUgaW50ZXJzZWN0aW9uc1xuICAvLyBvbmx5IG9uZSAtPiBjaG9vc2VcbiAgLy8gdHdvIGNsb3NlIHRvZ2V0aGVyIC0+IGNob29zZSBmaXJzdFxuICAvLyB0d28gb3IgbW9yZSBkaXN0aW5jdCAtPiBwdWxsIG91dCBhcHByb3ByaWF0ZSBvbmVcbiAgLy8gbm9uZSAtPiBvayAoZmFsbGJhY2sgdG8gcG9pbnQgaXRzZWxmKVxuICBpZiAoaW50ZXJzZWN0aW9ucy5sZW5ndGggPT09IDEpIHtcbiAgICByZXR1cm4gcm91bmRQb2ludChpbnRlcnNlY3Rpb25zWzBdKTtcbiAgfSBlbHNlIGlmIChpbnRlcnNlY3Rpb25zLmxlbmd0aCA9PT0gMiAmJiBwb2ludERpc3RhbmNlKGludGVyc2VjdGlvbnNbMF0sIGludGVyc2VjdGlvbnNbMV0pIDwgMSkge1xuICAgIHJldHVybiByb3VuZFBvaW50KGludGVyc2VjdGlvbnNbMF0pO1xuICB9IGVsc2UgaWYgKGludGVyc2VjdGlvbnMubGVuZ3RoID4gMSkge1xuXG4gICAgLy8gc29ydCBieSBpbnRlcnNlY3Rpb25zIGJhc2VkIG9uIGNvbm5lY3Rpb24gc2VnbWVudCArXG4gICAgLy8gZGlzdGFuY2UgZnJvbSBzdGFydFxuICAgIGludGVyc2VjdGlvbnMgPSBzb3J0QnkoaW50ZXJzZWN0aW9ucywgZnVuY3Rpb24oaSkge1xuICAgICAgdmFyIGRpc3RhbmNlID0gTWF0aC5mbG9vcihpLnQyICogMTAwKSB8fCAxO1xuXG4gICAgICBkaXN0YW5jZSA9IDEwMCAtIGRpc3RhbmNlO1xuXG4gICAgICBkaXN0YW5jZSA9IChkaXN0YW5jZSA8IDEwID8gJzAnIDogJycpICsgZGlzdGFuY2U7XG5cbiAgICAgIC8vIGNyZWF0ZSBhIHNvcnQgc3RyaW5nIHRoYXQgbWFrZXMgc3VyZSB3ZSBzb3J0XG4gICAgICAvLyBsaW5lIHNlZ21lbnQgQVNDICsgbGluZSBzZWdtZW50IHBvc2l0aW9uIERFU0MgKGZvciBjcm9wU3RhcnQpXG4gICAgICAvLyBsaW5lIHNlZ21lbnQgQVNDICsgbGluZSBzZWdtZW50IHBvc2l0aW9uIEFTQyAoZm9yIGNyb3BFbmQpXG4gICAgICByZXR1cm4gaS5zZWdtZW50MiArICcjJyArIGRpc3RhbmNlO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHJvdW5kUG9pbnQoaW50ZXJzZWN0aW9uc1tjcm9wU3RhcnQgPyAwIDogaW50ZXJzZWN0aW9ucy5sZW5ndGggLSAxXSk7XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0SW50ZXJzZWN0aW9ucyhhLCBiKSB7XG4gIHJldHVybiBpbnRlcnNlY3RQYXRocyhhLCBiKTtcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gZmlsdGVyUmVkdW5kYW50V2F5cG9pbnRzKHdheXBvaW50cykge1xuXG4gIC8vIGFsdGVyIGNvcHkgb2Ygd2F5cG9pbnRzLCBub3Qgb3JpZ2luYWxcbiAgd2F5cG9pbnRzID0gd2F5cG9pbnRzLnNsaWNlKCk7XG5cbiAgdmFyIGlkeCA9IDAsXG4gICAgICBwb2ludCxcbiAgICAgIHByZXZpb3VzUG9pbnQsXG4gICAgICBuZXh0UG9pbnQ7XG5cbiAgd2hpbGUgKHdheXBvaW50c1tpZHhdKSB7XG4gICAgcG9pbnQgPSB3YXlwb2ludHNbaWR4XTtcbiAgICBwcmV2aW91c1BvaW50ID0gd2F5cG9pbnRzW2lkeCAtIDFdO1xuICAgIG5leHRQb2ludCA9IHdheXBvaW50c1tpZHggKyAxXTtcblxuICAgIGlmIChwb2ludERpc3RhbmNlKHBvaW50LCBuZXh0UG9pbnQpID09PSAwIHx8XG4gICAgICAgIHBvaW50c09uTGluZShwcmV2aW91c1BvaW50LCBuZXh0UG9pbnQsIHBvaW50KSkge1xuXG4gICAgICAvLyByZW1vdmUgcG9pbnQsIGlmIG92ZXJsYXBwaW5nIHdpdGgge25leHRQb2ludH1cbiAgICAgIC8vIG9yIG9uIGxpbmUgd2l0aCB7cHJldmlvdXNQb2ludH0gLT4ge3BvaW50fSAtPiB7bmV4dFBvaW50fVxuICAgICAgd2F5cG9pbnRzLnNwbGljZShpZHgsIDEpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZHgrKztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gd2F5cG9pbnRzO1xufVxuIiwiaW1wb3J0IHsgZmlsdGVyUmVkdW5kYW50V2F5cG9pbnRzIH0gZnJvbSAnLi4vLi4vbGF5b3V0L0xheW91dFV0aWwnO1xuXG52YXIgcm91bmQgPSBNYXRoLnJvdW5kO1xuXG52YXIgUkVDT05ORUNUX1NUQVJUID0gJ3JlY29ubmVjdFN0YXJ0JyxcbiAgICBSRUNPTk5FQ1RfRU5EID0gJ3JlY29ubmVjdEVuZCcsXG4gICAgVVBEQVRFX1dBWVBPSU5UUyA9ICd1cGRhdGVXYXlwb2ludHMnO1xuXG5cbi8qKlxuICogTW92ZSBiZW5kcG9pbnRzIHRocm91Z2ggZHJhZyBhbmQgZHJvcCB0byBhZGQvcmVtb3ZlIGJlbmRwb2ludHMgb3IgcmVjb25uZWN0IGNvbm5lY3Rpb24uXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEJlbmRwb2ludE1vdmUoaW5qZWN0b3IsIGV2ZW50QnVzLCBjYW52YXMsIGRyYWdnaW5nLCBydWxlcywgbW9kZWxpbmcpIHtcbiAgdGhpcy5faW5qZWN0b3IgPSBpbmplY3RvcjtcblxuICB0aGlzLnN0YXJ0ID0gZnVuY3Rpb24oZXZlbnQsIGNvbm5lY3Rpb24sIGJlbmRwb2ludEluZGV4LCBpbnNlcnQpIHtcbiAgICB2YXIgZ2Z4ID0gY2FudmFzLmdldEdyYXBoaWNzKGNvbm5lY3Rpb24pLFxuICAgICAgICBzb3VyY2UgPSBjb25uZWN0aW9uLnNvdXJjZSxcbiAgICAgICAgdGFyZ2V0ID0gY29ubmVjdGlvbi50YXJnZXQsXG4gICAgICAgIHdheXBvaW50cyA9IGNvbm5lY3Rpb24ud2F5cG9pbnRzLFxuICAgICAgICB0eXBlO1xuXG4gICAgaWYgKCFpbnNlcnQgJiYgYmVuZHBvaW50SW5kZXggPT09IDApIHtcbiAgICAgIHR5cGUgPSBSRUNPTk5FQ1RfU1RBUlQ7XG4gICAgfSBlbHNlXG4gICAgaWYgKCFpbnNlcnQgJiYgYmVuZHBvaW50SW5kZXggPT09IHdheXBvaW50cy5sZW5ndGggLSAxKSB7XG4gICAgICB0eXBlID0gUkVDT05ORUNUX0VORDtcbiAgICB9IGVsc2Uge1xuICAgICAgdHlwZSA9IFVQREFURV9XQVlQT0lOVFM7XG4gICAgfVxuXG4gICAgdmFyIGNvbW1hbmQgPSB0eXBlID09PSBVUERBVEVfV0FZUE9JTlRTID8gJ2Nvbm5lY3Rpb24udXBkYXRlV2F5cG9pbnRzJyA6ICdjb25uZWN0aW9uLnJlY29ubmVjdCc7XG5cbiAgICB2YXIgYWxsb3dlZCA9IHJ1bGVzLmFsbG93ZWQoY29tbWFuZCwge1xuICAgICAgY29ubmVjdGlvbjogY29ubmVjdGlvbixcbiAgICAgIHNvdXJjZTogc291cmNlLFxuICAgICAgdGFyZ2V0OiB0YXJnZXRcbiAgICB9KTtcblxuICAgIGlmIChhbGxvd2VkID09PSBmYWxzZSkge1xuICAgICAgYWxsb3dlZCA9IHJ1bGVzLmFsbG93ZWQoY29tbWFuZCwge1xuICAgICAgICBjb25uZWN0aW9uOiBjb25uZWN0aW9uLFxuICAgICAgICBzb3VyY2U6IHRhcmdldCxcbiAgICAgICAgdGFyZ2V0OiBzb3VyY2VcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChhbGxvd2VkID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGRyYWdnaW5nLmluaXQoZXZlbnQsICdiZW5kcG9pbnQubW92ZScsIHtcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgY29ubmVjdGlvbjogY29ubmVjdGlvbixcbiAgICAgICAgY29ubmVjdGlvbkdmeDogZ2Z4LFxuICAgICAgICBjb250ZXh0OiB7XG4gICAgICAgICAgYWxsb3dlZDogYWxsb3dlZCxcbiAgICAgICAgICBiZW5kcG9pbnRJbmRleDogYmVuZHBvaW50SW5kZXgsXG4gICAgICAgICAgY29ubmVjdGlvbjogY29ubmVjdGlvbixcbiAgICAgICAgICBzb3VyY2U6IHNvdXJjZSxcbiAgICAgICAgICB0YXJnZXQ6IHRhcmdldCxcbiAgICAgICAgICBpbnNlcnQ6IGluc2VydCxcbiAgICAgICAgICB0eXBlOiB0eXBlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICBldmVudEJ1cy5vbignYmVuZHBvaW50Lm1vdmUuaG92ZXInLCBmdW5jdGlvbihldmVudCkge1xuICAgIHZhciBjb250ZXh0ID0gZXZlbnQuY29udGV4dCxcbiAgICAgICAgY29ubmVjdGlvbiA9IGNvbnRleHQuY29ubmVjdGlvbixcbiAgICAgICAgc291cmNlID0gY29ubmVjdGlvbi5zb3VyY2UsXG4gICAgICAgIHRhcmdldCA9IGNvbm5lY3Rpb24udGFyZ2V0LFxuICAgICAgICBob3ZlciA9IGV2ZW50LmhvdmVyLFxuICAgICAgICB0eXBlID0gY29udGV4dC50eXBlO1xuXG4gICAgLy8gY2FjaGUgaG92ZXIgc3RhdGVcbiAgICBjb250ZXh0LmhvdmVyID0gaG92ZXI7XG5cbiAgICB2YXIgYWxsb3dlZDtcblxuICAgIGlmICghaG92ZXIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgY29tbWFuZCA9IHR5cGUgPT09IFVQREFURV9XQVlQT0lOVFMgPyAnY29ubmVjdGlvbi51cGRhdGVXYXlwb2ludHMnIDogJ2Nvbm5lY3Rpb24ucmVjb25uZWN0JztcblxuICAgIGFsbG93ZWQgPSBjb250ZXh0LmFsbG93ZWQgPSBydWxlcy5hbGxvd2VkKGNvbW1hbmQsIHtcbiAgICAgIGNvbm5lY3Rpb246IGNvbm5lY3Rpb24sXG4gICAgICBzb3VyY2U6IHR5cGUgPT09IFJFQ09OTkVDVF9TVEFSVCA/IGhvdmVyIDogc291cmNlLFxuICAgICAgdGFyZ2V0OiB0eXBlID09PSBSRUNPTk5FQ1RfRU5EID8gaG92ZXIgOiB0YXJnZXRcbiAgICB9KTtcblxuICAgIGlmIChhbGxvd2VkKSB7XG4gICAgICBjb250ZXh0LnNvdXJjZSA9IHR5cGUgPT09IFJFQ09OTkVDVF9TVEFSVCA/IGhvdmVyIDogc291cmNlO1xuICAgICAgY29udGV4dC50YXJnZXQgPSB0eXBlID09PSBSRUNPTk5FQ1RfRU5EID8gaG92ZXIgOiB0YXJnZXQ7XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoYWxsb3dlZCA9PT0gZmFsc2UpIHtcbiAgICAgIGFsbG93ZWQgPSBjb250ZXh0LmFsbG93ZWQgPSBydWxlcy5hbGxvd2VkKGNvbW1hbmQsIHtcbiAgICAgICAgY29ubmVjdGlvbjogY29ubmVjdGlvbixcbiAgICAgICAgc291cmNlOiB0eXBlID09PSBSRUNPTk5FQ1RfRU5EID8gaG92ZXIgOiB0YXJnZXQsXG4gICAgICAgIHRhcmdldDogdHlwZSA9PT0gUkVDT05ORUNUX1NUQVJUID8gaG92ZXIgOiBzb3VyY2VcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChhbGxvd2VkKSB7XG4gICAgICBjb250ZXh0LnNvdXJjZSA9IHR5cGUgPT09IFJFQ09OTkVDVF9FTkQgPyBob3ZlciA6IHRhcmdldDtcbiAgICAgIGNvbnRleHQudGFyZ2V0ID0gdHlwZSA9PT0gUkVDT05ORUNUX1NUQVJUID8gaG92ZXIgOiBzb3VyY2U7XG4gICAgfVxuICB9KTtcblxuICBldmVudEJ1cy5vbihbICdiZW5kcG9pbnQubW92ZS5vdXQnLCAnYmVuZHBvaW50Lm1vdmUuY2xlYW51cCcgXSwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgY29udGV4dCA9IGV2ZW50LmNvbnRleHQsXG4gICAgICAgIHR5cGUgPSBjb250ZXh0LnR5cGU7XG5cbiAgICBjb250ZXh0LmhvdmVyID0gbnVsbDtcbiAgICBjb250ZXh0LnNvdXJjZSA9IG51bGw7XG4gICAgY29udGV4dC50YXJnZXQgPSBudWxsO1xuXG4gICAgaWYgKHR5cGUgIT09IFVQREFURV9XQVlQT0lOVFMpIHtcbiAgICAgIGNvbnRleHQuYWxsb3dlZCA9IGZhbHNlO1xuICAgIH1cbiAgfSk7XG5cbiAgZXZlbnRCdXMub24oJ2JlbmRwb2ludC5tb3ZlLmVuZCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0LFxuICAgICAgICBhbGxvd2VkID0gY29udGV4dC5hbGxvd2VkLFxuICAgICAgICBiZW5kcG9pbnRJbmRleCA9IGNvbnRleHQuYmVuZHBvaW50SW5kZXgsXG4gICAgICAgIGNvbm5lY3Rpb24gPSBjb250ZXh0LmNvbm5lY3Rpb24sXG4gICAgICAgIGluc2VydCA9IGNvbnRleHQuaW5zZXJ0LFxuICAgICAgICBuZXdXYXlwb2ludHMgPSBjb25uZWN0aW9uLndheXBvaW50cy5zbGljZSgpLFxuICAgICAgICBzb3VyY2UgPSBjb250ZXh0LnNvdXJjZSxcbiAgICAgICAgdGFyZ2V0ID0gY29udGV4dC50YXJnZXQsXG4gICAgICAgIHR5cGUgPSBjb250ZXh0LnR5cGUsXG4gICAgICAgIGhpbnRzID0gY29udGV4dC5oaW50cyB8fCB7fTtcblxuICAgIC8vIGVuc3VyZSBpbnRlZ2VyIHZhbHVlcyAoaW1wb3J0YW50IGlmIHpvb20gbGV2ZWwgd2FzID4gMSBkdXJpbmcgbW92ZSlcbiAgICB2YXIgZG9ja2luZyA9IHtcbiAgICAgIHg6IHJvdW5kKGV2ZW50LngpLFxuICAgICAgeTogcm91bmQoZXZlbnQueSlcbiAgICB9O1xuXG4gICAgaWYgKCFhbGxvd2VkKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKHR5cGUgPT09IFVQREFURV9XQVlQT0lOVFMpIHtcbiAgICAgIGlmIChpbnNlcnQpIHtcblxuICAgICAgICAvLyBpbnNlcnQgbmV3IGJlbmRwb2ludFxuICAgICAgICBuZXdXYXlwb2ludHMuc3BsaWNlKGJlbmRwb2ludEluZGV4LCAwLCBkb2NraW5nKTtcbiAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgLy8gc3dhcCBwcmV2aW91cyB3YXlwb2ludCB3aXRoIG1vdmVkIG9uZVxuICAgICAgICBuZXdXYXlwb2ludHNbYmVuZHBvaW50SW5kZXhdID0gZG9ja2luZztcbiAgICAgIH1cblxuICAgICAgLy8gcGFzcyBoaW50cyBhYm91dCBhY3R1YWwgbW92ZWQgYmVuZHBvaW50XG4gICAgICAvLyB1c2VmdWwgZm9yIGNvbm5lY3Rpb24vbGFiZWwgbGF5b3V0XG4gICAgICBoaW50cy5iZW5kcG9pbnRNb3ZlID0ge1xuICAgICAgICBpbnNlcnQ6IGluc2VydCxcbiAgICAgICAgYmVuZHBvaW50SW5kZXg6IGJlbmRwb2ludEluZGV4XG4gICAgICB9O1xuXG4gICAgICBuZXdXYXlwb2ludHMgPSB0aGlzLmNyb3BXYXlwb2ludHMoY29ubmVjdGlvbiwgbmV3V2F5cG9pbnRzKTtcblxuICAgICAgbW9kZWxpbmcudXBkYXRlV2F5cG9pbnRzKGNvbm5lY3Rpb24sIGZpbHRlclJlZHVuZGFudFdheXBvaW50cyhuZXdXYXlwb2ludHMpLCBoaW50cyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0eXBlID09PSBSRUNPTk5FQ1RfU1RBUlQpIHtcbiAgICAgICAgaGludHMuZG9ja2luZyA9ICdzb3VyY2UnO1xuXG4gICAgICAgIGlmIChpc1JldmVyc2UoY29udGV4dCkpIHtcbiAgICAgICAgICBoaW50cy5kb2NraW5nID0gJ3RhcmdldCc7XG5cbiAgICAgICAgICBoaW50cy5uZXdXYXlwb2ludHMgPSBuZXdXYXlwb2ludHMucmV2ZXJzZSgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHR5cGUgPT09IFJFQ09OTkVDVF9FTkQpIHtcbiAgICAgICAgaGludHMuZG9ja2luZyA9ICd0YXJnZXQnO1xuXG4gICAgICAgIGlmIChpc1JldmVyc2UoY29udGV4dCkpIHtcbiAgICAgICAgICBoaW50cy5kb2NraW5nID0gJ3NvdXJjZSc7XG5cbiAgICAgICAgICBoaW50cy5uZXdXYXlwb2ludHMgPSBuZXdXYXlwb2ludHMucmV2ZXJzZSgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIG1vZGVsaW5nLnJlY29ubmVjdChjb25uZWN0aW9uLCBzb3VyY2UsIHRhcmdldCwgZG9ja2luZywgaGludHMpO1xuICAgIH1cbiAgfSwgdGhpcyk7XG59XG5cbkJlbmRwb2ludE1vdmUuJGluamVjdCA9IFtcbiAgJ2luamVjdG9yJyxcbiAgJ2V2ZW50QnVzJyxcbiAgJ2NhbnZhcycsXG4gICdkcmFnZ2luZycsXG4gICdydWxlcycsXG4gICdtb2RlbGluZydcbl07XG5cbkJlbmRwb2ludE1vdmUucHJvdG90eXBlLmNyb3BXYXlwb2ludHMgPSBmdW5jdGlvbihjb25uZWN0aW9uLCBuZXdXYXlwb2ludHMpIHtcbiAgdmFyIGNvbm5lY3Rpb25Eb2NraW5nID0gdGhpcy5faW5qZWN0b3IuZ2V0KCdjb25uZWN0aW9uRG9ja2luZycsIGZhbHNlKTtcblxuICBpZiAoIWNvbm5lY3Rpb25Eb2NraW5nKSB7XG4gICAgcmV0dXJuIG5ld1dheXBvaW50cztcbiAgfVxuXG4gIHZhciB3YXlwb2ludHMgPSBjb25uZWN0aW9uLndheXBvaW50cztcblxuICBjb25uZWN0aW9uLndheXBvaW50cyA9IG5ld1dheXBvaW50cztcblxuICBjb25uZWN0aW9uLndheXBvaW50cyA9IGNvbm5lY3Rpb25Eb2NraW5nLmdldENyb3BwZWRXYXlwb2ludHMoY29ubmVjdGlvbik7XG5cbiAgbmV3V2F5cG9pbnRzID0gY29ubmVjdGlvbi53YXlwb2ludHM7XG5cbiAgY29ubmVjdGlvbi53YXlwb2ludHMgPSB3YXlwb2ludHM7XG5cbiAgcmV0dXJuIG5ld1dheXBvaW50cztcbn07XG5cblxuLy8gaGVscGVycyAvLy8vLy8vLy8vXG5cbmV4cG9ydCBmdW5jdGlvbiBpc1JldmVyc2UoY29udGV4dCkge1xuICB2YXIgaG92ZXIgPSBjb250ZXh0LmhvdmVyLFxuICAgICAgc291cmNlID0gY29udGV4dC5zb3VyY2UsXG4gICAgICB0YXJnZXQgPSBjb250ZXh0LnRhcmdldCxcbiAgICAgIHR5cGUgPSBjb250ZXh0LnR5cGU7XG5cbiAgaWYgKHR5cGUgPT09IFJFQ09OTkVDVF9TVEFSVCkge1xuICAgIHJldHVybiBob3ZlciAmJiB0YXJnZXQgJiYgaG92ZXIgPT09IHRhcmdldCAmJiBzb3VyY2UgIT09IHRhcmdldDtcbiAgfVxuXG4gIGlmICh0eXBlID09PSBSRUNPTk5FQ1RfRU5EKSB7XG4gICAgcmV0dXJuIGhvdmVyICYmIHNvdXJjZSAmJiBob3ZlciA9PT0gc291cmNlICYmIHNvdXJjZSAhPT0gdGFyZ2V0O1xuICB9XG59IiwiaW1wb3J0IHtcbiAgY2xhc3NlcyBhcyBzdmdDbGFzc2VzLFxuICByZW1vdmUgYXMgc3ZnUmVtb3ZlXG59IGZyb20gJ3Rpbnktc3ZnJztcblxuaW1wb3J0IHsgYWRkQmVuZHBvaW50IH0gZnJvbSAnLi9CZW5kcG9pbnRVdGlsJztcblxuaW1wb3J0IHsgdHJhbnNsYXRlIH0gZnJvbSAnLi4vLi4vdXRpbC9TdmdUcmFuc2Zvcm1VdGlsJztcblxuaW1wb3J0IHsgaXNSZXZlcnNlIH0gZnJvbSAnLi9CZW5kcG9pbnRNb3ZlJztcblxudmFyIFJFQ09OTkVDVF9TVEFSVCA9ICdyZWNvbm5lY3RTdGFydCcsXG4gICAgUkVDT05ORUNUX0VORCA9ICdyZWNvbm5lY3RFbmQnLFxuICAgIFVQREFURV9XQVlQT0lOVFMgPSAndXBkYXRlV2F5cG9pbnRzJztcblxudmFyIE1BUktFUl9PSyA9ICdjb25uZWN0LW9rJyxcbiAgICBNQVJLRVJfTk9UX09LID0gJ2Nvbm5lY3Qtbm90LW9rJyxcbiAgICBNQVJLRVJfQ09OTkVDVF9IT1ZFUiA9ICdjb25uZWN0LWhvdmVyJyxcbiAgICBNQVJLRVJfQ09OTkVDVF9VUERBVElORyA9ICdkanMtdXBkYXRpbmcnLFxuICAgIE1BUktFUl9FTEVNRU5UX0hJRERFTiA9ICdkanMtZWxlbWVudC1oaWRkZW4nO1xuXG52YXIgSElHSF9QUklPUklUWSA9IDExMDA7XG5cbi8qKlxuICogUHJldmlldyBjb25uZWN0aW9uIHdoaWxlIG1vdmluZyBiZW5kcG9pbnRzLlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBCZW5kcG9pbnRNb3ZlUHJldmlldyhiZW5kcG9pbnRNb3ZlLCBpbmplY3RvciwgZXZlbnRCdXMsIGNhbnZhcykge1xuICB0aGlzLl9pbmplY3RvciA9IGluamVjdG9yO1xuXG4gIHZhciBjb25uZWN0aW9uUHJldmlldyA9IGluamVjdG9yLmdldCgnY29ubmVjdGlvblByZXZpZXcnLCBmYWxzZSk7XG5cbiAgZXZlbnRCdXMub24oJ2JlbmRwb2ludC5tb3ZlLnN0YXJ0JywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgY29udGV4dCA9IGV2ZW50LmNvbnRleHQsXG4gICAgICAgIGJlbmRwb2ludEluZGV4ID0gY29udGV4dC5iZW5kcG9pbnRJbmRleCxcbiAgICAgICAgY29ubmVjdGlvbiA9IGNvbnRleHQuY29ubmVjdGlvbixcbiAgICAgICAgaW5zZXJ0ID0gY29udGV4dC5pbnNlcnQsXG4gICAgICAgIHdheXBvaW50cyA9IGNvbm5lY3Rpb24ud2F5cG9pbnRzLFxuICAgICAgICBuZXdXYXlwb2ludHMgPSB3YXlwb2ludHMuc2xpY2UoKTtcblxuICAgIGNvbnRleHQud2F5cG9pbnRzID0gd2F5cG9pbnRzO1xuXG4gICAgaWYgKGluc2VydCkge1xuXG4gICAgICAvLyBpbnNlcnQgcGxhY2Vob2xkZXIgZm9yIG5ldyBiZW5kcG9pbnRcbiAgICAgIG5ld1dheXBvaW50cy5zcGxpY2UoYmVuZHBvaW50SW5kZXgsIDAsIHsgeDogZXZlbnQueCwgeTogZXZlbnQueSB9KTtcbiAgICB9XG5cbiAgICBjb25uZWN0aW9uLndheXBvaW50cyA9IG5ld1dheXBvaW50cztcblxuICAgIC8vIGFkZCBkcmFnZ2VyIGdmeFxuICAgIHZhciBkcmFnZ2VyR2Z4ID0gY29udGV4dC5kcmFnZ2VyR2Z4ID0gYWRkQmVuZHBvaW50KGNhbnZhcy5nZXRMYXllcignb3ZlcmxheXMnKSk7XG5cbiAgICBzdmdDbGFzc2VzKGRyYWdnZXJHZngpLmFkZCgnZGpzLWRyYWdnaW5nJyk7XG5cbiAgICBjYW52YXMuYWRkTWFya2VyKGNvbm5lY3Rpb24sIE1BUktFUl9FTEVNRU5UX0hJRERFTik7XG4gICAgY2FudmFzLmFkZE1hcmtlcihjb25uZWN0aW9uLCBNQVJLRVJfQ09OTkVDVF9VUERBVElORyk7XG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKCdiZW5kcG9pbnQubW92ZS5ob3ZlcicsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0LFxuICAgICAgICBhbGxvd2VkID0gY29udGV4dC5hbGxvd2VkLFxuICAgICAgICBob3ZlciA9IGNvbnRleHQuaG92ZXIsXG4gICAgICAgIHR5cGUgPSBjb250ZXh0LnR5cGU7XG5cbiAgICBpZiAoaG92ZXIpIHtcbiAgICAgIGNhbnZhcy5hZGRNYXJrZXIoaG92ZXIsIE1BUktFUl9DT05ORUNUX0hPVkVSKTtcblxuICAgICAgaWYgKHR5cGUgPT09IFVQREFURV9XQVlQT0lOVFMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoYWxsb3dlZCkge1xuICAgICAgICBjYW52YXMucmVtb3ZlTWFya2VyKGhvdmVyLCBNQVJLRVJfTk9UX09LKTtcbiAgICAgICAgY2FudmFzLmFkZE1hcmtlcihob3ZlciwgTUFSS0VSX09LKTtcbiAgICAgIH0gZWxzZSBpZiAoYWxsb3dlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgY2FudmFzLnJlbW92ZU1hcmtlcihob3ZlciwgTUFSS0VSX09LKTtcbiAgICAgICAgY2FudmFzLmFkZE1hcmtlcihob3ZlciwgTUFSS0VSX05PVF9PSyk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICBldmVudEJ1cy5vbihbXG4gICAgJ2JlbmRwb2ludC5tb3ZlLm91dCcsXG4gICAgJ2JlbmRwb2ludC5tb3ZlLmNsZWFudXAnXG4gIF0sIEhJR0hfUFJJT1JJVFksIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0LFxuICAgICAgICBob3ZlciA9IGNvbnRleHQuaG92ZXIsXG4gICAgICAgIHRhcmdldCA9IGNvbnRleHQudGFyZ2V0O1xuXG4gICAgaWYgKGhvdmVyKSB7XG4gICAgICBjYW52YXMucmVtb3ZlTWFya2VyKGhvdmVyLCBNQVJLRVJfQ09OTkVDVF9IT1ZFUik7XG4gICAgICBjYW52YXMucmVtb3ZlTWFya2VyKGhvdmVyLCB0YXJnZXQgPyBNQVJLRVJfT0sgOiBNQVJLRVJfTk9UX09LKTtcbiAgICB9XG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKCdiZW5kcG9pbnQubW92ZS5tb3ZlJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgY29udGV4dCA9IGV2ZW50LmNvbnRleHQsXG4gICAgICAgIGFsbG93ZWQgPSBjb250ZXh0LmFsbG93ZWQsXG4gICAgICAgIGJlbmRwb2ludEluZGV4ID0gY29udGV4dC5iZW5kcG9pbnRJbmRleCxcbiAgICAgICAgZHJhZ2dlckdmeCA9IGNvbnRleHQuZHJhZ2dlckdmeCxcbiAgICAgICAgaG92ZXIgPSBjb250ZXh0LmhvdmVyLFxuICAgICAgICB0eXBlID0gY29udGV4dC50eXBlLFxuICAgICAgICBjb25uZWN0aW9uID0gY29udGV4dC5jb25uZWN0aW9uLFxuICAgICAgICBzb3VyY2UgPSBjb25uZWN0aW9uLnNvdXJjZSxcbiAgICAgICAgdGFyZ2V0ID0gY29ubmVjdGlvbi50YXJnZXQsXG4gICAgICAgIG5ld1dheXBvaW50cyA9IGNvbm5lY3Rpb24ud2F5cG9pbnRzLnNsaWNlKCksXG4gICAgICAgIGJlbmRwb2ludCA9IHsgeDogZXZlbnQueCwgeTogZXZlbnQueSB9LFxuICAgICAgICBoaW50cyA9IGNvbnRleHQuaGludHMgfHwge30sXG4gICAgICAgIGRyYXdQcmV2aWV3SGludHMgPSB7fTtcblxuICAgIGlmIChjb25uZWN0aW9uUHJldmlldykge1xuICAgICAgaWYgKGhpbnRzLmNvbm5lY3Rpb25TdGFydCkge1xuICAgICAgICBkcmF3UHJldmlld0hpbnRzLmNvbm5lY3Rpb25TdGFydCA9IGhpbnRzLmNvbm5lY3Rpb25TdGFydDtcbiAgICAgIH1cblxuICAgICAgaWYgKGhpbnRzLmNvbm5lY3Rpb25FbmQpIHtcbiAgICAgICAgZHJhd1ByZXZpZXdIaW50cy5jb25uZWN0aW9uRW5kID0gaGludHMuY29ubmVjdGlvbkVuZDtcbiAgICAgIH1cblxuXG4gICAgICBpZiAodHlwZSA9PT0gUkVDT05ORUNUX1NUQVJUKSB7XG4gICAgICAgIGlmIChpc1JldmVyc2UoY29udGV4dCkpIHtcbiAgICAgICAgICBkcmF3UHJldmlld0hpbnRzLmNvbm5lY3Rpb25FbmQgPSBkcmF3UHJldmlld0hpbnRzLmNvbm5lY3Rpb25FbmQgfHwgYmVuZHBvaW50O1xuXG4gICAgICAgICAgZHJhd1ByZXZpZXdIaW50cy5zb3VyY2UgPSB0YXJnZXQ7XG4gICAgICAgICAgZHJhd1ByZXZpZXdIaW50cy50YXJnZXQgPSBob3ZlciB8fCBzb3VyY2U7XG5cbiAgICAgICAgICBuZXdXYXlwb2ludHMgPSBuZXdXYXlwb2ludHMucmV2ZXJzZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRyYXdQcmV2aWV3SGludHMuY29ubmVjdGlvblN0YXJ0ID0gZHJhd1ByZXZpZXdIaW50cy5jb25uZWN0aW9uU3RhcnQgfHwgYmVuZHBvaW50O1xuXG4gICAgICAgICAgZHJhd1ByZXZpZXdIaW50cy5zb3VyY2UgPSBob3ZlciB8fCBzb3VyY2U7XG4gICAgICAgICAgZHJhd1ByZXZpZXdIaW50cy50YXJnZXQgPSB0YXJnZXQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gUkVDT05ORUNUX0VORCkge1xuICAgICAgICBpZiAoaXNSZXZlcnNlKGNvbnRleHQpKSB7XG4gICAgICAgICAgZHJhd1ByZXZpZXdIaW50cy5jb25uZWN0aW9uU3RhcnQgPSBkcmF3UHJldmlld0hpbnRzLmNvbm5lY3Rpb25TdGFydCB8fCBiZW5kcG9pbnQ7XG5cbiAgICAgICAgICBkcmF3UHJldmlld0hpbnRzLnNvdXJjZSA9IGhvdmVyIHx8IHRhcmdldDtcbiAgICAgICAgICBkcmF3UHJldmlld0hpbnRzLnRhcmdldCA9IHNvdXJjZTtcblxuICAgICAgICAgIG5ld1dheXBvaW50cyA9IG5ld1dheXBvaW50cy5yZXZlcnNlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZHJhd1ByZXZpZXdIaW50cy5jb25uZWN0aW9uRW5kID0gZHJhd1ByZXZpZXdIaW50cy5jb25uZWN0aW9uRW5kIHx8IGJlbmRwb2ludDtcblxuICAgICAgICAgIGRyYXdQcmV2aWV3SGludHMuc291cmNlID0gc291cmNlO1xuICAgICAgICAgIGRyYXdQcmV2aWV3SGludHMudGFyZ2V0ID0gaG92ZXIgfHwgdGFyZ2V0O1xuICAgICAgICB9XG5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRyYXdQcmV2aWV3SGludHMubm9Dcm9wcGluZyA9IHRydWU7XG4gICAgICAgIGRyYXdQcmV2aWV3SGludHMubm9MYXlvdXQgPSB0cnVlO1xuICAgICAgICBuZXdXYXlwb2ludHNbIGJlbmRwb2ludEluZGV4IF0gPSBiZW5kcG9pbnQ7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlID09PSBVUERBVEVfV0FZUE9JTlRTKSB7XG4gICAgICAgIG5ld1dheXBvaW50cyA9IGJlbmRwb2ludE1vdmUuY3JvcFdheXBvaW50cyhjb25uZWN0aW9uLCBuZXdXYXlwb2ludHMpO1xuICAgICAgfVxuXG4gICAgICBkcmF3UHJldmlld0hpbnRzLndheXBvaW50cyA9IG5ld1dheXBvaW50cztcblxuICAgICAgY29ubmVjdGlvblByZXZpZXcuZHJhd1ByZXZpZXcoY29udGV4dCwgYWxsb3dlZCwgZHJhd1ByZXZpZXdIaW50cyk7XG4gICAgfVxuXG4gICAgdHJhbnNsYXRlKGRyYWdnZXJHZngsIGV2ZW50LngsIGV2ZW50LnkpO1xuICB9LCB0aGlzKTtcblxuICBldmVudEJ1cy5vbihbXG4gICAgJ2JlbmRwb2ludC5tb3ZlLmVuZCcsXG4gICAgJ2JlbmRwb2ludC5tb3ZlLmNhbmNlbCdcbiAgXSwgSElHSF9QUklPUklUWSwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgY29udGV4dCA9IGV2ZW50LmNvbnRleHQsXG4gICAgICAgIGNvbm5lY3Rpb24gPSBjb250ZXh0LmNvbm5lY3Rpb24sXG4gICAgICAgIGRyYWdnZXJHZnggPSBjb250ZXh0LmRyYWdnZXJHZngsXG4gICAgICAgIGhvdmVyID0gY29udGV4dC5ob3ZlcixcbiAgICAgICAgdGFyZ2V0ID0gY29udGV4dC50YXJnZXQsXG4gICAgICAgIHdheXBvaW50cyA9IGNvbnRleHQud2F5cG9pbnRzO1xuXG4gICAgY29ubmVjdGlvbi53YXlwb2ludHMgPSB3YXlwb2ludHM7XG5cbiAgICAvLyByZW1vdmUgZHJhZ2dlciBnZnhcbiAgICBzdmdSZW1vdmUoZHJhZ2dlckdmeCk7XG5cbiAgICBjYW52YXMucmVtb3ZlTWFya2VyKGNvbm5lY3Rpb24sIE1BUktFUl9DT05ORUNUX1VQREFUSU5HKTtcbiAgICBjYW52YXMucmVtb3ZlTWFya2VyKGNvbm5lY3Rpb24sIE1BUktFUl9FTEVNRU5UX0hJRERFTik7XG5cbiAgICBpZiAoaG92ZXIpIHtcbiAgICAgIGNhbnZhcy5yZW1vdmVNYXJrZXIoaG92ZXIsIE1BUktFUl9PSyk7XG4gICAgICBjYW52YXMucmVtb3ZlTWFya2VyKGhvdmVyLCB0YXJnZXQgPyBNQVJLRVJfT0sgOiBNQVJLRVJfTk9UX09LKTtcbiAgICB9XG5cbiAgICBpZiAoY29ubmVjdGlvblByZXZpZXcpIHtcbiAgICAgIGNvbm5lY3Rpb25QcmV2aWV3LmNsZWFuVXAoY29udGV4dCk7XG4gICAgfVxuICB9KTtcbn1cblxuQmVuZHBvaW50TW92ZVByZXZpZXcuJGluamVjdCA9IFtcbiAgJ2JlbmRwb2ludE1vdmUnLFxuICAnaW5qZWN0b3InLFxuICAnZXZlbnRCdXMnLFxuICAnY2FudmFzJ1xuXTsiLCJpbXBvcnQge1xuICBwb2ludHNBbGlnbmVkLFxuICBwb2ludHNPbkxpbmVcbn0gZnJvbSAnLi4vLi4vdXRpbC9HZW9tZXRyeSc7XG5cbmltcG9ydCB7XG4gIGFkZFNlZ21lbnREcmFnZ2VyLFxuICBnZXRDb25uZWN0aW9uSW50ZXJzZWN0aW9uXG59IGZyb20gJy4vQmVuZHBvaW50VXRpbCc7XG5cbmltcG9ydCB7XG4gIGdldE1pZCxcbiAgZ2V0T3JpZW50YXRpb25cbn0gZnJvbSAnLi4vLi4vbGF5b3V0L0xheW91dFV0aWwnO1xuXG52YXIgTUFSS0VSX0NPTk5FQ1RfSE9WRVIgPSAnY29ubmVjdC1ob3ZlcicsXG4gICAgTUFSS0VSX0NPTk5FQ1RfVVBEQVRJTkcgPSAnZGpzLXVwZGF0aW5nJztcblxuaW1wb3J0IHtcbiAgY2xhc3NlcyBhcyBzdmdDbGFzc2VzLFxuICByZW1vdmUgYXMgc3ZnUmVtb3ZlXG59IGZyb20gJ3Rpbnktc3ZnJztcblxuaW1wb3J0IHtcbiAgdHJhbnNsYXRlXG59IGZyb20gJy4uLy4uL3V0aWwvU3ZnVHJhbnNmb3JtVXRpbCc7XG5cblxuZnVuY3Rpb24gYXhpc0FkZChwb2ludCwgYXhpcywgZGVsdGEpIHtcbiAgcmV0dXJuIGF4aXNTZXQocG9pbnQsIGF4aXMsIHBvaW50W2F4aXNdICsgZGVsdGEpO1xufVxuXG5mdW5jdGlvbiBheGlzU2V0KHBvaW50LCBheGlzLCB2YWx1ZSkge1xuICByZXR1cm4ge1xuICAgIHg6IChheGlzID09PSAneCcgPyB2YWx1ZSA6IHBvaW50LngpLFxuICAgIHk6IChheGlzID09PSAneScgPyB2YWx1ZSA6IHBvaW50LnkpXG4gIH07XG59XG5cbmZ1bmN0aW9uIGF4aXNGZW5jZWQocG9zaXRpb24sIHNlZ21lbnRTdGFydCwgc2VnbWVudEVuZCwgYXhpcykge1xuXG4gIHZhciBtYXhWYWx1ZSA9IE1hdGgubWF4KHNlZ21lbnRTdGFydFtheGlzXSwgc2VnbWVudEVuZFtheGlzXSksXG4gICAgICBtaW5WYWx1ZSA9IE1hdGgubWluKHNlZ21lbnRTdGFydFtheGlzXSwgc2VnbWVudEVuZFtheGlzXSk7XG5cbiAgdmFyIHBhZGRpbmcgPSAyMDtcblxuICB2YXIgZmVuY2VkVmFsdWUgPSBNYXRoLm1pbihNYXRoLm1heChtaW5WYWx1ZSArIHBhZGRpbmcsIHBvc2l0aW9uW2F4aXNdKSwgbWF4VmFsdWUgLSBwYWRkaW5nKTtcblxuICByZXR1cm4gYXhpc1NldChzZWdtZW50U3RhcnQsIGF4aXMsIGZlbmNlZFZhbHVlKTtcbn1cblxuZnVuY3Rpb24gZmxpcEF4aXMoYXhpcykge1xuICByZXR1cm4gYXhpcyA9PT0gJ3gnID8gJ3knIDogJ3gnO1xufVxuXG4vKipcbiAqIEdldCB0aGUgZG9ja2luZyBwb2ludCBvbiB0aGUgZ2l2ZW4gZWxlbWVudC5cbiAqXG4gKiBDb21wdXRlIGEgcmVhc29uYWJsZSBkb2NraW5nLCBpZiBub24gZXhpc3RzLlxuICpcbiAqIEBwYXJhbSAge1BvaW50fSBwb2ludFxuICogQHBhcmFtICB7ZGpzLm1vZGVsLlNoYXBlfSByZWZlcmVuY2VFbGVtZW50XG4gKiBAcGFyYW0gIHtzdHJpbmd9IG1vdmVBeGlzICh4fHkpXG4gKlxuICogQHJldHVybiB7UG9pbnR9XG4gKi9cbmZ1bmN0aW9uIGdldERvY2tpbmcocG9pbnQsIHJlZmVyZW5jZUVsZW1lbnQsIG1vdmVBeGlzKSB7XG5cbiAgdmFyIHJlZmVyZW5jZU1pZCxcbiAgICAgIGludmVyc2VBeGlzO1xuXG4gIGlmIChwb2ludC5vcmlnaW5hbCkge1xuICAgIHJldHVybiBwb2ludC5vcmlnaW5hbDtcbiAgfSBlbHNlIHtcbiAgICByZWZlcmVuY2VNaWQgPSBnZXRNaWQocmVmZXJlbmNlRWxlbWVudCk7XG4gICAgaW52ZXJzZUF4aXMgPSBmbGlwQXhpcyhtb3ZlQXhpcyk7XG5cbiAgICByZXR1cm4gYXhpc1NldChwb2ludCwgaW52ZXJzZUF4aXMsIHJlZmVyZW5jZU1pZFtpbnZlcnNlQXhpc10pO1xuICB9XG59XG5cbi8qKlxuICogQSBjb21wb25lbnQgdGhhdCBpbXBsZW1lbnRzIG1vdmluZyBvZiBiZW5kcG9pbnRzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENvbm5lY3Rpb25TZWdtZW50TW92ZShcbiAgICBpbmplY3RvciwgZXZlbnRCdXMsIGNhbnZhcyxcbiAgICBkcmFnZ2luZywgZ3JhcGhpY3NGYWN0b3J5LCBtb2RlbGluZykge1xuXG4gIC8vIG9wdGlvbmFsIGNvbm5lY3Rpb24gZG9ja2luZyBpbnRlZ3JhdGlvblxuICB2YXIgY29ubmVjdGlvbkRvY2tpbmcgPSBpbmplY3Rvci5nZXQoJ2Nvbm5lY3Rpb25Eb2NraW5nJywgZmFsc2UpO1xuXG5cbiAgLy8gQVBJXG5cbiAgdGhpcy5zdGFydCA9IGZ1bmN0aW9uKGV2ZW50LCBjb25uZWN0aW9uLCBpZHgpIHtcblxuICAgIHZhciBjb250ZXh0LFxuICAgICAgICBnZnggPSBjYW52YXMuZ2V0R3JhcGhpY3MoY29ubmVjdGlvbiksXG4gICAgICAgIHNlZ21lbnRTdGFydEluZGV4ID0gaWR4IC0gMSxcbiAgICAgICAgc2VnbWVudEVuZEluZGV4ID0gaWR4LFxuICAgICAgICB3YXlwb2ludHMgPSBjb25uZWN0aW9uLndheXBvaW50cyxcbiAgICAgICAgc2VnbWVudFN0YXJ0ID0gd2F5cG9pbnRzW3NlZ21lbnRTdGFydEluZGV4XSxcbiAgICAgICAgc2VnbWVudEVuZCA9IHdheXBvaW50c1tzZWdtZW50RW5kSW5kZXhdLFxuICAgICAgICBpbnRlcnNlY3Rpb24gPSBnZXRDb25uZWN0aW9uSW50ZXJzZWN0aW9uKGNhbnZhcywgd2F5cG9pbnRzLCBldmVudCksXG4gICAgICAgIGRpcmVjdGlvbiwgYXhpcywgZHJhZ1Bvc2l0aW9uO1xuXG4gICAgZGlyZWN0aW9uID0gcG9pbnRzQWxpZ25lZChzZWdtZW50U3RhcnQsIHNlZ21lbnRFbmQpO1xuXG4gICAgLy8gZG8gbm90IG1vdmUgZGlhZ29uYWwgY29ubmVjdGlvblxuICAgIGlmICghZGlyZWN0aW9uKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gdGhlIGF4aXMgd2hlcmUgd2UgYXJlIGdvaW5nIHRvIG1vdmUgdGhpbmdzXG4gICAgYXhpcyA9IGRpcmVjdGlvbiA9PT0gJ3YnID8gJ3gnIDogJ3knO1xuXG4gICAgaWYgKHNlZ21lbnRTdGFydEluZGV4ID09PSAwKSB7XG4gICAgICBzZWdtZW50U3RhcnQgPSBnZXREb2NraW5nKHNlZ21lbnRTdGFydCwgY29ubmVjdGlvbi5zb3VyY2UsIGF4aXMpO1xuICAgIH1cblxuICAgIGlmIChzZWdtZW50RW5kSW5kZXggPT09IHdheXBvaW50cy5sZW5ndGggLSAxKSB7XG4gICAgICBzZWdtZW50RW5kID0gZ2V0RG9ja2luZyhzZWdtZW50RW5kLCBjb25uZWN0aW9uLnRhcmdldCwgYXhpcyk7XG4gICAgfVxuXG4gICAgaWYgKGludGVyc2VjdGlvbikge1xuICAgICAgZHJhZ1Bvc2l0aW9uID0gaW50ZXJzZWN0aW9uLnBvaW50O1xuICAgIH0gZWxzZSB7XG5cbiAgICAgIC8vIHNldCB0byBzZWdtZW50IGNlbnRlciBhcyBkZWZhdWx0XG4gICAgICBkcmFnUG9zaXRpb24gPSB7XG4gICAgICAgIHg6IChzZWdtZW50U3RhcnQueCArIHNlZ21lbnRFbmQueCkgLyAyLFxuICAgICAgICB5OiAoc2VnbWVudFN0YXJ0LnkgKyBzZWdtZW50RW5kLnkpIC8gMlxuICAgICAgfTtcbiAgICB9XG5cbiAgICBjb250ZXh0ID0ge1xuICAgICAgY29ubmVjdGlvbjogY29ubmVjdGlvbixcbiAgICAgIHNlZ21lbnRTdGFydEluZGV4OiBzZWdtZW50U3RhcnRJbmRleCxcbiAgICAgIHNlZ21lbnRFbmRJbmRleDogc2VnbWVudEVuZEluZGV4LFxuICAgICAgc2VnbWVudFN0YXJ0OiBzZWdtZW50U3RhcnQsXG4gICAgICBzZWdtZW50RW5kOiBzZWdtZW50RW5kLFxuICAgICAgYXhpczogYXhpcyxcbiAgICAgIGRyYWdQb3NpdGlvbjogZHJhZ1Bvc2l0aW9uXG4gICAgfTtcblxuICAgIGRyYWdnaW5nLmluaXQoZXZlbnQsIGRyYWdQb3NpdGlvbiwgJ2Nvbm5lY3Rpb25TZWdtZW50Lm1vdmUnLCB7XG4gICAgICBjdXJzb3I6IGF4aXMgPT09ICd4JyA/ICdyZXNpemUtZXcnIDogJ3Jlc2l6ZS1ucycsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGNvbm5lY3Rpb246IGNvbm5lY3Rpb24sXG4gICAgICAgIGNvbm5lY3Rpb25HZng6IGdmeCxcbiAgICAgICAgY29udGV4dDogY29udGV4dFxuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDcm9wIGNvbm5lY3Rpb24gaWYgY29ubmVjdGlvbiBjcm9wcGluZyBpcyBwcm92aWRlZC5cbiAgICpcbiAgICogQHBhcmFtIHtDb25uZWN0aW9ufSBjb25uZWN0aW9uXG4gICAqIEBwYXJhbSB7QXJyYXk8UG9pbnQ+fSBuZXdXYXlwb2ludHNcbiAgICpcbiAgICogQHJldHVybiB7QXJyYXk8UG9pbnQ+fSBjcm9wcGVkIGNvbm5lY3Rpb24gd2F5cG9pbnRzXG4gICAqL1xuICBmdW5jdGlvbiBjcm9wQ29ubmVjdGlvbihjb25uZWN0aW9uLCBuZXdXYXlwb2ludHMpIHtcblxuICAgIC8vIGNyb3AgY29ubmVjdGlvbiwgaWYgZG9ja2luZyBzZXJ2aWNlIGlzIHByb3ZpZGVkIG9ubHlcbiAgICBpZiAoIWNvbm5lY3Rpb25Eb2NraW5nKSB7XG4gICAgICByZXR1cm4gbmV3V2F5cG9pbnRzO1xuICAgIH1cblxuICAgIHZhciBvbGRXYXlwb2ludHMgPSBjb25uZWN0aW9uLndheXBvaW50cyxcbiAgICAgICAgY3JvcHBlZFdheXBvaW50cztcblxuICAgIC8vIHRlbXBvcmFyeSBzZXQgbmV3IHdheXBvaW50c1xuICAgIGNvbm5lY3Rpb24ud2F5cG9pbnRzID0gbmV3V2F5cG9pbnRzO1xuXG4gICAgY3JvcHBlZFdheXBvaW50cyA9IGNvbm5lY3Rpb25Eb2NraW5nLmdldENyb3BwZWRXYXlwb2ludHMoY29ubmVjdGlvbik7XG5cbiAgICAvLyByZXN0b3JlIG9sZCB3YXlwb2ludHNcbiAgICBjb25uZWN0aW9uLndheXBvaW50cyA9IG9sZFdheXBvaW50cztcblxuICAgIHJldHVybiBjcm9wcGVkV2F5cG9pbnRzO1xuICB9XG5cbiAgLy8gRFJBR0dJTkcgSU1QTEVNRU5UQVRJT05cblxuICBmdW5jdGlvbiByZWRyYXdDb25uZWN0aW9uKGRhdGEpIHtcbiAgICBncmFwaGljc0ZhY3RvcnkudXBkYXRlKCdjb25uZWN0aW9uJywgZGF0YS5jb25uZWN0aW9uLCBkYXRhLmNvbm5lY3Rpb25HZngpO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlRHJhZ2dlcihjb250ZXh0LCBzZWdtZW50T2Zmc2V0LCBldmVudCkge1xuXG4gICAgdmFyIG5ld1dheXBvaW50cyA9IGNvbnRleHQubmV3V2F5cG9pbnRzLFxuICAgICAgICBzZWdtZW50U3RhcnRJbmRleCA9IGNvbnRleHQuc2VnbWVudFN0YXJ0SW5kZXggKyBzZWdtZW50T2Zmc2V0LFxuICAgICAgICBzZWdtZW50U3RhcnQgPSBuZXdXYXlwb2ludHNbc2VnbWVudFN0YXJ0SW5kZXhdLFxuICAgICAgICBzZWdtZW50RW5kSW5kZXggPSBjb250ZXh0LnNlZ21lbnRFbmRJbmRleCArIHNlZ21lbnRPZmZzZXQsXG4gICAgICAgIHNlZ21lbnRFbmQgPSBuZXdXYXlwb2ludHNbc2VnbWVudEVuZEluZGV4XSxcbiAgICAgICAgYXhpcyA9IGZsaXBBeGlzKGNvbnRleHQuYXhpcyk7XG5cbiAgICAvLyBtYWtlIHN1cmUgdGhlIGRyYWdnZXIgZG9lcyBub3QgbW92ZVxuICAgIC8vIG91dHNpZGUgdGhlIGNvbm5lY3Rpb25cbiAgICB2YXIgZHJhZ2dlclBvc2l0aW9uID0gYXhpc0ZlbmNlZChldmVudCwgc2VnbWVudFN0YXJ0LCBzZWdtZW50RW5kLCBheGlzKTtcblxuICAgIC8vIHVwZGF0ZSBkcmFnZ2VyXG4gICAgdHJhbnNsYXRlKGNvbnRleHQuZHJhZ2dlckdmeCwgZHJhZ2dlclBvc2l0aW9uLngsIGRyYWdnZXJQb3NpdGlvbi55KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGaWx0ZXIgd2F5cG9pbnRzIGZvciByZWR1bmRhbnQgb25lcyAoaS5lLiBvbiB0aGUgc2FtZSBheGlzKS5cbiAgICogUmV0dXJucyB0aGUgZmlsdGVyZWQgd2F5cG9pbnRzIGFuZCB0aGUgb2Zmc2V0IHJlbGF0ZWQgdG8gdGhlIHNlZ21lbnQgbW92ZS5cbiAgICpcbiAgICogQHBhcmFtIHtBcnJheTxQb2ludD59IHdheXBvaW50c1xuICAgKiBAcGFyYW0ge0ludGVnZXJ9IHNlZ21lbnRTdGFydEluZGV4IG9mIG1vdmVkIHNlZ21lbnQgc3RhcnRcbiAgICpcbiAgICogQHJldHVybiB7T2JqZWN0fSB7IGZpbHRlcmVkV2F5cG9pbnRzLCBzZWdtZW50T2Zmc2V0IH1cbiAgICovXG4gIGZ1bmN0aW9uIGZpbHRlclJlZHVuZGFudFdheXBvaW50cyh3YXlwb2ludHMsIHNlZ21lbnRTdGFydEluZGV4KSB7XG5cbiAgICB2YXIgc2VnbWVudE9mZnNldCA9IDA7XG5cbiAgICB2YXIgZmlsdGVyZWRXYXlwb2ludHMgPSB3YXlwb2ludHMuZmlsdGVyKGZ1bmN0aW9uKHIsIGlkeCkge1xuICAgICAgaWYgKHBvaW50c09uTGluZSh3YXlwb2ludHNbaWR4IC0gMV0sIHdheXBvaW50c1tpZHggKyAxXSwgcikpIHtcblxuICAgICAgICAvLyByZW1vdmUgcG9pbnQgYW5kIGluY3JlbWVudCBvZmZzZXRcbiAgICAgICAgc2VnbWVudE9mZnNldCA9IGlkeCA8PSBzZWdtZW50U3RhcnRJbmRleCA/IHNlZ21lbnRPZmZzZXQgLSAxIDogc2VnbWVudE9mZnNldDtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICAvLyBkb250IHJlbW92ZSBwb2ludFxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgd2F5cG9pbnRzOiBmaWx0ZXJlZFdheXBvaW50cyxcbiAgICAgIHNlZ21lbnRPZmZzZXQ6IHNlZ21lbnRPZmZzZXRcbiAgICB9O1xuICB9XG5cbiAgZXZlbnRCdXMub24oJ2Nvbm5lY3Rpb25TZWdtZW50Lm1vdmUuc3RhcnQnLCBmdW5jdGlvbihldmVudCkge1xuXG4gICAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0LFxuICAgICAgICBjb25uZWN0aW9uID0gZXZlbnQuY29ubmVjdGlvbixcbiAgICAgICAgbGF5ZXIgPSBjYW52YXMuZ2V0TGF5ZXIoJ292ZXJsYXlzJyk7XG5cbiAgICBjb250ZXh0Lm9yaWdpbmFsV2F5cG9pbnRzID0gY29ubmVjdGlvbi53YXlwb2ludHMuc2xpY2UoKTtcblxuICAgIC8vIGFkZCBkcmFnZ2VyIGdmeFxuICAgIGNvbnRleHQuZHJhZ2dlckdmeCA9IGFkZFNlZ21lbnREcmFnZ2VyKGxheWVyLCBjb250ZXh0LnNlZ21lbnRTdGFydCwgY29udGV4dC5zZWdtZW50RW5kKTtcbiAgICBzdmdDbGFzc2VzKGNvbnRleHQuZHJhZ2dlckdmeCkuYWRkKCdkanMtZHJhZ2dpbmcnKTtcblxuICAgIGNhbnZhcy5hZGRNYXJrZXIoY29ubmVjdGlvbiwgTUFSS0VSX0NPTk5FQ1RfVVBEQVRJTkcpO1xuICB9KTtcblxuICBldmVudEJ1cy5vbignY29ubmVjdGlvblNlZ21lbnQubW92ZS5tb3ZlJywgZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgIHZhciBjb250ZXh0ID0gZXZlbnQuY29udGV4dCxcbiAgICAgICAgY29ubmVjdGlvbiA9IGNvbnRleHQuY29ubmVjdGlvbixcbiAgICAgICAgc2VnbWVudFN0YXJ0SW5kZXggPSBjb250ZXh0LnNlZ21lbnRTdGFydEluZGV4LFxuICAgICAgICBzZWdtZW50RW5kSW5kZXggPSBjb250ZXh0LnNlZ21lbnRFbmRJbmRleCxcbiAgICAgICAgc2VnbWVudFN0YXJ0ID0gY29udGV4dC5zZWdtZW50U3RhcnQsXG4gICAgICAgIHNlZ21lbnRFbmQgPSBjb250ZXh0LnNlZ21lbnRFbmQsXG4gICAgICAgIGF4aXMgPSBjb250ZXh0LmF4aXM7XG5cbiAgICB2YXIgbmV3V2F5cG9pbnRzID0gY29udGV4dC5vcmlnaW5hbFdheXBvaW50cy5zbGljZSgpLFxuICAgICAgICBuZXdTZWdtZW50U3RhcnQgPSBheGlzQWRkKHNlZ21lbnRTdGFydCwgYXhpcywgZXZlbnRbJ2QnICsgYXhpc10pLFxuICAgICAgICBuZXdTZWdtZW50RW5kID0gYXhpc0FkZChzZWdtZW50RW5kLCBheGlzLCBldmVudFsnZCcgKyBheGlzXSk7XG5cbiAgICAvLyBvcmlnaW5hbCB3YXlwb2ludCBjb3VudCBhbmQgYWRkZWQgLyByZW1vdmVkXG4gICAgLy8gZnJvbSBzdGFydCB3YXlwb2ludCBkZWx0YS4gV2UgdXNlIHRoZSBsYXRlclxuICAgIC8vIHRvIHJldHJpZXZlIHRoZSB1cGRhdGVkIHNlZ21lbnRTdGFydEluZGV4IC8gc2VnbWVudEVuZEluZGV4XG4gICAgdmFyIHdheXBvaW50Q291bnQgPSBuZXdXYXlwb2ludHMubGVuZ3RoLFxuICAgICAgICBzZWdtZW50T2Zmc2V0ID0gMDtcblxuICAgIC8vIG1vdmUgc2VnbWVudCBzdGFydCAvIGVuZCBieSBheGlzIGRlbHRhXG4gICAgbmV3V2F5cG9pbnRzW3NlZ21lbnRTdGFydEluZGV4XSA9IG5ld1NlZ21lbnRTdGFydDtcbiAgICBuZXdXYXlwb2ludHNbc2VnbWVudEVuZEluZGV4XSA9IG5ld1NlZ21lbnRFbmQ7XG5cbiAgICB2YXIgc291cmNlVG9TZWdtZW50T3JpZW50YXRpb24sXG4gICAgICAgIHRhcmdldFRvU2VnbWVudE9yaWVudGF0aW9uO1xuXG4gICAgLy8gaGFuZGxlIGZpcnN0IHNlZ21lbnRcbiAgICBpZiAoc2VnbWVudFN0YXJ0SW5kZXggPCAyKSB7XG4gICAgICBzb3VyY2VUb1NlZ21lbnRPcmllbnRhdGlvbiA9IGdldE9yaWVudGF0aW9uKGNvbm5lY3Rpb24uc291cmNlLCBuZXdTZWdtZW50U3RhcnQpO1xuXG4gICAgICAvLyBmaXJzdCBiZW5kcG9pbnQsIHJlbW92ZSBmaXJzdCBzZWdtZW50IGlmIGludGVyc2VjdGluZ1xuICAgICAgaWYgKHNlZ21lbnRTdGFydEluZGV4ID09PSAxKSB7XG5cbiAgICAgICAgaWYgKHNvdXJjZVRvU2VnbWVudE9yaWVudGF0aW9uID09PSAnaW50ZXJzZWN0Jykge1xuICAgICAgICAgIG5ld1dheXBvaW50cy5zaGlmdCgpO1xuICAgICAgICAgIG5ld1dheXBvaW50c1swXSA9IG5ld1NlZ21lbnRTdGFydDtcbiAgICAgICAgICBzZWdtZW50T2Zmc2V0LS07XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gZG9ja2luZyBwb2ludCwgYWRkIHNlZ21lbnQgaWYgbm90IGludGVyc2VjdGluZyBhbnltb3JlXG4gICAgICBlbHNlIHtcbiAgICAgICAgaWYgKHNvdXJjZVRvU2VnbWVudE9yaWVudGF0aW9uICE9PSAnaW50ZXJzZWN0Jykge1xuICAgICAgICAgIG5ld1dheXBvaW50cy51bnNoaWZ0KHNlZ21lbnRTdGFydCk7XG4gICAgICAgICAgc2VnbWVudE9mZnNldCsrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gaGFuZGxlIGxhc3Qgc2VnbWVudFxuICAgIGlmIChzZWdtZW50RW5kSW5kZXggPiB3YXlwb2ludENvdW50IC0gMykge1xuICAgICAgdGFyZ2V0VG9TZWdtZW50T3JpZW50YXRpb24gPSBnZXRPcmllbnRhdGlvbihjb25uZWN0aW9uLnRhcmdldCwgbmV3U2VnbWVudEVuZCk7XG5cbiAgICAgIC8vIGxhc3QgYmVuZHBvaW50LCByZW1vdmUgbGFzdCBzZWdtZW50IGlmIGludGVyc2VjdGluZ1xuICAgICAgaWYgKHNlZ21lbnRFbmRJbmRleCA9PT0gd2F5cG9pbnRDb3VudCAtIDIpIHtcblxuICAgICAgICBpZiAodGFyZ2V0VG9TZWdtZW50T3JpZW50YXRpb24gPT09ICdpbnRlcnNlY3QnKSB7XG4gICAgICAgICAgbmV3V2F5cG9pbnRzLnBvcCgpO1xuICAgICAgICAgIG5ld1dheXBvaW50c1tuZXdXYXlwb2ludHMubGVuZ3RoIC0gMV0gPSBuZXdTZWdtZW50RW5kO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIGxhc3QgYmVuZHBvaW50LCByZW1vdmUgbGFzdCBzZWdtZW50IGlmIGludGVyc2VjdGluZ1xuICAgICAgZWxzZSB7XG4gICAgICAgIGlmICh0YXJnZXRUb1NlZ21lbnRPcmllbnRhdGlvbiAhPT0gJ2ludGVyc2VjdCcpIHtcbiAgICAgICAgICBuZXdXYXlwb2ludHMucHVzaChzZWdtZW50RW5kKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIHVwZGF0ZSBjb25uZWN0aW9uIHdheXBvaW50c1xuICAgIGNvbnRleHQubmV3V2F5cG9pbnRzID0gY29ubmVjdGlvbi53YXlwb2ludHMgPSBjcm9wQ29ubmVjdGlvbihjb25uZWN0aW9uLCBuZXdXYXlwb2ludHMpO1xuXG4gICAgLy8gdXBkYXRlIGRyYWdnZXIgcG9zaXRpb25cbiAgICB1cGRhdGVEcmFnZ2VyKGNvbnRleHQsIHNlZ21lbnRPZmZzZXQsIGV2ZW50KTtcblxuICAgIC8vIHNhdmUgc2VnbWVudE9mZnNldCBpbiBjb250ZXh0XG4gICAgY29udGV4dC5uZXdTZWdtZW50U3RhcnRJbmRleCA9IHNlZ21lbnRTdGFydEluZGV4ICsgc2VnbWVudE9mZnNldDtcblxuICAgIC8vIHJlZHJhdyBjb25uZWN0aW9uXG4gICAgcmVkcmF3Q29ubmVjdGlvbihldmVudCk7XG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKCdjb25uZWN0aW9uU2VnbWVudC5tb3ZlLmhvdmVyJywgZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgIGV2ZW50LmNvbnRleHQuaG92ZXIgPSBldmVudC5ob3ZlcjtcbiAgICBjYW52YXMuYWRkTWFya2VyKGV2ZW50LmhvdmVyLCBNQVJLRVJfQ09OTkVDVF9IT1ZFUik7XG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKFtcbiAgICAnY29ubmVjdGlvblNlZ21lbnQubW92ZS5vdXQnLFxuICAgICdjb25uZWN0aW9uU2VnbWVudC5tb3ZlLmNsZWFudXAnXG4gIF0sIGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICAvLyByZW1vdmUgY29ubmVjdCBtYXJrZXJcbiAgICAvLyBpZiBpdCB3YXMgYWRkZWRcbiAgICB2YXIgaG92ZXIgPSBldmVudC5jb250ZXh0LmhvdmVyO1xuXG4gICAgaWYgKGhvdmVyKSB7XG4gICAgICBjYW52YXMucmVtb3ZlTWFya2VyKGhvdmVyLCBNQVJLRVJfQ09OTkVDVF9IT1ZFUik7XG4gICAgfVxuICB9KTtcblxuICBldmVudEJ1cy5vbignY29ubmVjdGlvblNlZ21lbnQubW92ZS5jbGVhbnVwJywgZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgIHZhciBjb250ZXh0ID0gZXZlbnQuY29udGV4dCxcbiAgICAgICAgY29ubmVjdGlvbiA9IGNvbnRleHQuY29ubmVjdGlvbjtcblxuICAgIC8vIHJlbW92ZSBkcmFnZ2VyIGdmeFxuICAgIGlmIChjb250ZXh0LmRyYWdnZXJHZngpIHtcbiAgICAgIHN2Z1JlbW92ZShjb250ZXh0LmRyYWdnZXJHZngpO1xuICAgIH1cblxuICAgIGNhbnZhcy5yZW1vdmVNYXJrZXIoY29ubmVjdGlvbiwgTUFSS0VSX0NPTk5FQ1RfVVBEQVRJTkcpO1xuICB9KTtcblxuICBldmVudEJ1cy5vbihbXG4gICAgJ2Nvbm5lY3Rpb25TZWdtZW50Lm1vdmUuY2FuY2VsJyxcbiAgICAnY29ubmVjdGlvblNlZ21lbnQubW92ZS5lbmQnXG4gIF0sIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0LFxuICAgICAgICBjb25uZWN0aW9uID0gY29udGV4dC5jb25uZWN0aW9uO1xuXG4gICAgY29ubmVjdGlvbi53YXlwb2ludHMgPSBjb250ZXh0Lm9yaWdpbmFsV2F5cG9pbnRzO1xuXG4gICAgcmVkcmF3Q29ubmVjdGlvbihldmVudCk7XG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKCdjb25uZWN0aW9uU2VnbWVudC5tb3ZlLmVuZCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICB2YXIgY29udGV4dCA9IGV2ZW50LmNvbnRleHQsXG4gICAgICAgIGNvbm5lY3Rpb24gPSBjb250ZXh0LmNvbm5lY3Rpb24sXG4gICAgICAgIG5ld1dheXBvaW50cyA9IGNvbnRleHQubmV3V2F5cG9pbnRzLFxuICAgICAgICBuZXdTZWdtZW50U3RhcnRJbmRleCA9IGNvbnRleHQubmV3U2VnbWVudFN0YXJ0SW5kZXg7XG5cbiAgICAvLyBlbnN1cmUgd2UgaGF2ZSBhY3R1YWwgcGl4ZWwgdmFsdWVzIGJlbmRwb2ludFxuICAgIC8vIGNvb3JkaW5hdGVzIChpbXBvcnRhbnQgd2hlbiB6b29tIGxldmVsIHdhcyA+IDEgZHVyaW5nIG1vdmUpXG4gICAgbmV3V2F5cG9pbnRzID0gbmV3V2F5cG9pbnRzLm1hcChmdW5jdGlvbihwKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBvcmlnaW5hbDogcC5vcmlnaW5hbCxcbiAgICAgICAgeDogTWF0aC5yb3VuZChwLngpLFxuICAgICAgICB5OiBNYXRoLnJvdW5kKHAueSlcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICAvLyBhcHBseSBmaWx0ZXIgcmVkdW5hbnQgd2F5cG9pbnRzXG4gICAgdmFyIGZpbHRlcmVkID0gZmlsdGVyUmVkdW5kYW50V2F5cG9pbnRzKG5ld1dheXBvaW50cywgbmV3U2VnbWVudFN0YXJ0SW5kZXgpO1xuXG4gICAgLy8gZ2V0IGZpbHRlcmVkIHdheXBvaW50c1xuICAgIHZhciBmaWx0ZXJlZFdheXBvaW50cyA9IGZpbHRlcmVkLndheXBvaW50cyxcbiAgICAgICAgY3JvcHBlZFdheXBvaW50cyA9IGNyb3BDb25uZWN0aW9uKGNvbm5lY3Rpb24sIGZpbHRlcmVkV2F5cG9pbnRzKSxcbiAgICAgICAgc2VnbWVudE9mZnNldCA9IGZpbHRlcmVkLnNlZ21lbnRPZmZzZXQ7XG5cbiAgICB2YXIgaGludHMgPSB7XG4gICAgICBzZWdtZW50TW92ZToge1xuICAgICAgICBzZWdtZW50U3RhcnRJbmRleDogY29udGV4dC5zZWdtZW50U3RhcnRJbmRleCxcbiAgICAgICAgbmV3U2VnbWVudFN0YXJ0SW5kZXg6IG5ld1NlZ21lbnRTdGFydEluZGV4ICsgc2VnbWVudE9mZnNldFxuICAgICAgfVxuICAgIH07XG5cbiAgICBtb2RlbGluZy51cGRhdGVXYXlwb2ludHMoY29ubmVjdGlvbiwgY3JvcHBlZFdheXBvaW50cywgaGludHMpO1xuICB9KTtcbn1cblxuQ29ubmVjdGlvblNlZ21lbnRNb3ZlLiRpbmplY3QgPSBbXG4gICdpbmplY3RvcicsXG4gICdldmVudEJ1cycsXG4gICdjYW52YXMnLFxuICAnZHJhZ2dpbmcnLFxuICAnZ3JhcGhpY3NGYWN0b3J5JyxcbiAgJ21vZGVsaW5nJ1xuXTtcbiIsInZhciBhYnMgPSBNYXRoLmFicyxcbiAgICByb3VuZCA9IE1hdGgucm91bmQ7XG5cblxuLyoqXG4gKiBTbmFwIHZhbHVlIHRvIGEgY29sbGVjdGlvbiBvZiByZWZlcmVuY2UgdmFsdWVzLlxuICpcbiAqIEBwYXJhbSAge251bWJlcn0gdmFsdWVcbiAqIEBwYXJhbSAge0FycmF5PG51bWJlcj59IHZhbHVlc1xuICogQHBhcmFtICB7bnVtYmVyfSBbdG9sZXJhbmNlPTEwXVxuICpcbiAqIEByZXR1cm4ge251bWJlcn0gdGhlIHZhbHVlIHdlIHNuYXBwZWQgdG8gb3IgbnVsbCwgaWYgbm9uZSBzbmFwcGVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzbmFwVG8odmFsdWUsIHZhbHVlcywgdG9sZXJhbmNlKSB7XG4gIHRvbGVyYW5jZSA9IHRvbGVyYW5jZSA9PT0gdW5kZWZpbmVkID8gMTAgOiB0b2xlcmFuY2U7XG5cbiAgdmFyIGlkeCwgc25hcFZhbHVlO1xuXG4gIGZvciAoaWR4ID0gMDsgaWR4IDwgdmFsdWVzLmxlbmd0aDsgaWR4KyspIHtcbiAgICBzbmFwVmFsdWUgPSB2YWx1ZXNbaWR4XTtcblxuICAgIGlmIChhYnMoc25hcFZhbHVlIC0gdmFsdWUpIDw9IHRvbGVyYW5jZSkge1xuICAgICAgcmV0dXJuIHNuYXBWYWx1ZTtcbiAgICB9XG4gIH1cbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gdG9wTGVmdChib3VuZHMpIHtcbiAgcmV0dXJuIHtcbiAgICB4OiBib3VuZHMueCxcbiAgICB5OiBib3VuZHMueVxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdG9wUmlnaHQoYm91bmRzKSB7XG4gIHJldHVybiB7XG4gICAgeDogYm91bmRzLnggKyBib3VuZHMud2lkdGgsXG4gICAgeTogYm91bmRzLnlcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJvdHRvbUxlZnQoYm91bmRzKSB7XG4gIHJldHVybiB7XG4gICAgeDogYm91bmRzLngsXG4gICAgeTogYm91bmRzLnkgKyBib3VuZHMuaGVpZ2h0XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBib3R0b21SaWdodChib3VuZHMpIHtcbiAgcmV0dXJuIHtcbiAgICB4OiBib3VuZHMueCArIGJvdW5kcy53aWR0aCxcbiAgICB5OiBib3VuZHMueSArIGJvdW5kcy5oZWlnaHRcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1pZChib3VuZHMsIGRlZmF1bHRWYWx1ZSkge1xuXG4gIGlmICghYm91bmRzIHx8IGlzTmFOKGJvdW5kcy54KSB8fCBpc05hTihib3VuZHMueSkpIHtcbiAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICB4OiByb3VuZChib3VuZHMueCArIGJvdW5kcy53aWR0aCAvIDIpLFxuICAgIHk6IHJvdW5kKGJvdW5kcy55ICsgYm91bmRzLmhlaWdodCAvIDIpXG4gIH07XG59XG5cblxuLyoqXG4gKiBSZXRyaWV2ZSB0aGUgc25hcCBzdGF0ZSBvZiB0aGUgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtICB7RXZlbnR9IGV2ZW50XG4gKiBAcGFyYW0gIHtzdHJpbmd9IGF4aXNcbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufSB0aGUgc25hcHBlZCBzdGF0ZVxuICpcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzU25hcHBlZChldmVudCwgYXhpcykge1xuICB2YXIgc25hcHBlZCA9IGV2ZW50LnNuYXBwZWQ7XG5cbiAgaWYgKCFzbmFwcGVkKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBheGlzID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBzbmFwcGVkW2F4aXNdO1xuICB9XG5cbiAgcmV0dXJuIHNuYXBwZWQueCAmJiBzbmFwcGVkLnk7XG59XG5cblxuLyoqXG4gKiBTZXQgdGhlIGdpdmVuIGV2ZW50IGFzIHNuYXBwZWQuXG4gKlxuICogVGhpcyBtZXRob2QgbWF5IGNoYW5nZSB0aGUgeCBhbmQvb3IgeSBwb3NpdGlvbiBvZiB0aGUgc2hhcGVcbiAqIGZyb20gdGhlIGdpdmVuIGV2ZW50IVxuICpcbiAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XG4gKiBAcGFyYW0ge3N0cmluZ30gYXhpc1xuICogQHBhcmFtIHtudW1iZXJ8Ym9vbGVhbn0gdmFsdWVcbiAqXG4gKiBAcmV0dXJuIHtudW1iZXJ9IG9sZCB2YWx1ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0U25hcHBlZChldmVudCwgYXhpcywgdmFsdWUpIHtcbiAgaWYgKHR5cGVvZiBheGlzICE9PSAnc3RyaW5nJykge1xuICAgIHRocm93IG5ldyBFcnJvcignYXhpcyBtdXN0IGJlIGluIFt4LCB5XScpO1xuICB9XG5cbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ251bWJlcicgJiYgdmFsdWUgIT09IGZhbHNlKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCd2YWx1ZSBtdXN0IGJlIE51bWJlciBvciBmYWxzZScpO1xuICB9XG5cbiAgdmFyIGRlbHRhLFxuICAgICAgcHJldmlvdXNWYWx1ZSA9IGV2ZW50W2F4aXNdO1xuXG4gIHZhciBzbmFwcGVkID0gZXZlbnQuc25hcHBlZCA9IChldmVudC5zbmFwcGVkIHx8IHt9KTtcblxuXG4gIGlmICh2YWx1ZSA9PT0gZmFsc2UpIHtcbiAgICBzbmFwcGVkW2F4aXNdID0gZmFsc2U7XG4gIH0gZWxzZSB7XG4gICAgc25hcHBlZFtheGlzXSA9IHRydWU7XG5cbiAgICBkZWx0YSA9IHZhbHVlIC0gcHJldmlvdXNWYWx1ZTtcblxuICAgIGV2ZW50W2F4aXNdICs9IGRlbHRhO1xuICAgIGV2ZW50WydkJyArIGF4aXNdICs9IGRlbHRhO1xuICB9XG5cbiAgcmV0dXJuIHByZXZpb3VzVmFsdWU7XG59XG5cbi8qKlxuICogR2V0IGNoaWxkcmVuIG9mIGEgc2hhcGUuXG4gKlxuICogQHBhcmFtIHtkanMubW9kZWwuU2hhcGV9IHBhcmVudFxuICpcbiAqIEByZXR1cm5zIHtBcnJheTxkanMubW9kZWwuU2hhcGV8ZGpzLm1vZGVsLkNvbm5lY3Rpb24+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2hpbGRyZW4ocGFyZW50KSB7XG4gIHJldHVybiBwYXJlbnQuY2hpbGRyZW4gfHwgW107XG59IiwiaW1wb3J0IHtcbiAgYXNzaWduLFxuICBmb3JFYWNoLFxuICBpc0FycmF5XG59IGZyb20gJ21pbi1kYXNoJztcblxuaW1wb3J0IHsgc2V0U25hcHBlZCB9IGZyb20gJy4uL3NuYXBwaW5nL1NuYXBVdGlsJztcblxudmFyIGFicz0gTWF0aC5hYnMsXG4gICAgcm91bmQgPSBNYXRoLnJvdW5kO1xuXG52YXIgVE9MRVJBTkNFID0gMTA7XG5cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQmVuZHBvaW50U25hcHBpbmcoZXZlbnRCdXMpIHtcblxuICBmdW5jdGlvbiBzbmFwVG8odmFsdWVzLCB2YWx1ZSkge1xuXG4gICAgaWYgKGlzQXJyYXkodmFsdWVzKSkge1xuICAgICAgdmFyIGkgPSB2YWx1ZXMubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAoaS0tKSBpZiAoYWJzKHZhbHVlc1tpXSAtIHZhbHVlKSA8PSBUT0xFUkFOQ0UpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlc1tpXTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdmFsdWVzID0gK3ZhbHVlcztcbiAgICAgIHZhciByZW0gPSB2YWx1ZSAlIHZhbHVlcztcblxuICAgICAgaWYgKHJlbSA8IFRPTEVSQU5DRSkge1xuICAgICAgICByZXR1cm4gdmFsdWUgLSByZW07XG4gICAgICB9XG5cbiAgICAgIGlmIChyZW0gPiB2YWx1ZXMgLSBUT0xFUkFOQ0UpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlIC0gcmVtICsgdmFsdWVzO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG1pZChlbGVtZW50KSB7XG4gICAgaWYgKGVsZW1lbnQud2lkdGgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHg6IHJvdW5kKGVsZW1lbnQud2lkdGggLyAyICsgZWxlbWVudC54KSxcbiAgICAgICAgeTogcm91bmQoZWxlbWVudC5oZWlnaHQgLyAyICsgZWxlbWVudC55KVxuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICAvLyBjb25uZWN0aW9uIHNlZ21lbnQgc25hcHBpbmcgLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gIGZ1bmN0aW9uIGdldENvbm5lY3Rpb25TZWdtZW50U25hcHMoY29udGV4dCkge1xuXG4gICAgdmFyIHNuYXBQb2ludHMgPSBjb250ZXh0LnNuYXBQb2ludHMsXG4gICAgICAgIGNvbm5lY3Rpb24gPSBjb250ZXh0LmNvbm5lY3Rpb24sXG4gICAgICAgIHdheXBvaW50cyA9IGNvbm5lY3Rpb24ud2F5cG9pbnRzLFxuICAgICAgICBzZWdtZW50U3RhcnQgPSBjb250ZXh0LnNlZ21lbnRTdGFydCxcbiAgICAgICAgc2VnbWVudFN0YXJ0SW5kZXggPSBjb250ZXh0LnNlZ21lbnRTdGFydEluZGV4LFxuICAgICAgICBzZWdtZW50RW5kID0gY29udGV4dC5zZWdtZW50RW5kLFxuICAgICAgICBzZWdtZW50RW5kSW5kZXggPSBjb250ZXh0LnNlZ21lbnRFbmRJbmRleCxcbiAgICAgICAgYXhpcyA9IGNvbnRleHQuYXhpcztcblxuICAgIGlmIChzbmFwUG9pbnRzKSB7XG4gICAgICByZXR1cm4gc25hcFBvaW50cztcbiAgICB9XG5cbiAgICB2YXIgcmVmZXJlbmNlV2F5cG9pbnRzID0gW1xuICAgICAgd2F5cG9pbnRzW3NlZ21lbnRTdGFydEluZGV4IC0gMV0sXG4gICAgICBzZWdtZW50U3RhcnQsXG4gICAgICBzZWdtZW50RW5kLFxuICAgICAgd2F5cG9pbnRzW3NlZ21lbnRFbmRJbmRleCArIDFdXG4gICAgXTtcblxuICAgIGlmIChzZWdtZW50U3RhcnRJbmRleCA8IDIpIHtcbiAgICAgIHJlZmVyZW5jZVdheXBvaW50cy51bnNoaWZ0KG1pZChjb25uZWN0aW9uLnNvdXJjZSkpO1xuICAgIH1cblxuICAgIGlmIChzZWdtZW50RW5kSW5kZXggPiB3YXlwb2ludHMubGVuZ3RoIC0gMykge1xuICAgICAgcmVmZXJlbmNlV2F5cG9pbnRzLnVuc2hpZnQobWlkKGNvbm5lY3Rpb24udGFyZ2V0KSk7XG4gICAgfVxuXG4gICAgY29udGV4dC5zbmFwUG9pbnRzID0gc25hcFBvaW50cyA9IHsgaG9yaXpvbnRhbDogW10gLCB2ZXJ0aWNhbDogW10gfTtcblxuICAgIGZvckVhY2gocmVmZXJlbmNlV2F5cG9pbnRzLCBmdW5jdGlvbihwKSB7XG5cbiAgICAgIC8vIHdlIHNuYXAgb24gZXhpc3RpbmcgYmVuZHBvaW50cyBvbmx5LFxuICAgICAgLy8gbm90IHBsYWNlaG9sZGVycyB0aGF0IGFyZSBpbnNlcnRlZCBkdXJpbmcgYWRkXG4gICAgICBpZiAocCkge1xuICAgICAgICBwID0gcC5vcmlnaW5hbCB8fCBwO1xuXG4gICAgICAgIGlmIChheGlzID09PSAneScpIHtcbiAgICAgICAgICBzbmFwUG9pbnRzLmhvcml6b250YWwucHVzaChwLnkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGF4aXMgPT09ICd4Jykge1xuICAgICAgICAgIHNuYXBQb2ludHMudmVydGljYWwucHVzaChwLngpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gc25hcFBvaW50cztcbiAgfVxuXG4gIGV2ZW50QnVzLm9uKCdjb25uZWN0aW9uU2VnbWVudC5tb3ZlLm1vdmUnLCAxNTAwLCBmdW5jdGlvbihldmVudCkge1xuICAgIHZhciBjb250ZXh0ID0gZXZlbnQuY29udGV4dCxcbiAgICAgICAgc25hcFBvaW50cyA9IGdldENvbm5lY3Rpb25TZWdtZW50U25hcHMoY29udGV4dCksXG4gICAgICAgIHggPSBldmVudC54LFxuICAgICAgICB5ID0gZXZlbnQueSxcbiAgICAgICAgc3gsIHN5O1xuXG4gICAgaWYgKCFzbmFwUG9pbnRzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gc25hcFxuICAgIHN4ID0gc25hcFRvKHNuYXBQb2ludHMudmVydGljYWwsIHgpO1xuICAgIHN5ID0gc25hcFRvKHNuYXBQb2ludHMuaG9yaXpvbnRhbCwgeSk7XG5cblxuICAgIC8vIGNvcnJlY3Rpb24geC95XG4gICAgdmFyIGN4ID0gKHggLSBzeCksXG4gICAgICAgIGN5ID0gKHkgLSBzeSk7XG5cbiAgICAvLyB1cGRhdGUgZGVsdGFcbiAgICBhc3NpZ24oZXZlbnQsIHtcbiAgICAgIGR4OiBldmVudC5keCAtIGN4LFxuICAgICAgZHk6IGV2ZW50LmR5IC0gY3ksXG4gICAgICB4OiBzeCxcbiAgICAgIHk6IHN5XG4gICAgfSk7XG5cbiAgICAvLyBvbmx5IHNldCBzbmFwcGVkIGlmIGFjdHVhbGx5IHNuYXBwZWRcbiAgICBpZiAoY3ggfHwgc25hcFBvaW50cy52ZXJ0aWNhbC5pbmRleE9mKHgpICE9PSAtMSkge1xuICAgICAgc2V0U25hcHBlZChldmVudCwgJ3gnLCBzeCk7XG4gICAgfVxuXG4gICAgaWYgKGN5IHx8IHNuYXBQb2ludHMuaG9yaXpvbnRhbC5pbmRleE9mKHkpICE9PSAtMSkge1xuICAgICAgc2V0U25hcHBlZChldmVudCwgJ3knLCBzeSk7XG4gICAgfVxuICB9KTtcblxuXG4gIC8vIGJlbmRwb2ludCBzbmFwcGluZyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgZnVuY3Rpb24gZ2V0QmVuZHBvaW50U25hcHMoY29udGV4dCkge1xuXG4gICAgdmFyIHNuYXBQb2ludHMgPSBjb250ZXh0LnNuYXBQb2ludHMsXG4gICAgICAgIHdheXBvaW50cyA9IGNvbnRleHQuY29ubmVjdGlvbi53YXlwb2ludHMsXG4gICAgICAgIGJlbmRwb2ludEluZGV4ID0gY29udGV4dC5iZW5kcG9pbnRJbmRleDtcblxuICAgIGlmIChzbmFwUG9pbnRzKSB7XG4gICAgICByZXR1cm4gc25hcFBvaW50cztcbiAgICB9XG5cbiAgICB2YXIgcmVmZXJlbmNlV2F5cG9pbnRzID0gWyB3YXlwb2ludHNbYmVuZHBvaW50SW5kZXggLSAxXSwgd2F5cG9pbnRzW2JlbmRwb2ludEluZGV4ICsgMV0gXTtcblxuICAgIGNvbnRleHQuc25hcFBvaW50cyA9IHNuYXBQb2ludHMgPSB7IGhvcml6b250YWw6IFtdICwgdmVydGljYWw6IFtdIH07XG5cbiAgICBmb3JFYWNoKHJlZmVyZW5jZVdheXBvaW50cywgZnVuY3Rpb24ocCkge1xuXG4gICAgICAvLyB3ZSBzbmFwIG9uIGV4aXN0aW5nIGJlbmRwb2ludHMgb25seSxcbiAgICAgIC8vIG5vdCBwbGFjZWhvbGRlcnMgdGhhdCBhcmUgaW5zZXJ0ZWQgZHVyaW5nIGFkZFxuICAgICAgaWYgKHApIHtcbiAgICAgICAgcCA9IHAub3JpZ2luYWwgfHwgcDtcblxuICAgICAgICBzbmFwUG9pbnRzLmhvcml6b250YWwucHVzaChwLnkpO1xuICAgICAgICBzbmFwUG9pbnRzLnZlcnRpY2FsLnB1c2gocC54KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiBzbmFwUG9pbnRzO1xuICB9XG5cblxuICBldmVudEJ1cy5vbihbICdiZW5kcG9pbnQubW92ZS5tb3ZlJywgJ2JlbmRwb2ludC5tb3ZlLmVuZCcgXSwgMTUwMCwgZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgIHZhciBjb250ZXh0ID0gZXZlbnQuY29udGV4dCxcbiAgICAgICAgc25hcFBvaW50cyA9IGdldEJlbmRwb2ludFNuYXBzKGNvbnRleHQpLFxuICAgICAgICBob3ZlciA9IGNvbnRleHQuaG92ZXIsXG4gICAgICAgIGhvdmVyTWlkID0gaG92ZXIgJiYgbWlkKGhvdmVyKSxcbiAgICAgICAgeCA9IGV2ZW50LngsXG4gICAgICAgIHkgPSBldmVudC55LFxuICAgICAgICBzeCwgc3k7XG5cbiAgICBpZiAoIXNuYXBQb2ludHMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBzbmFwIHRvIGhvdmVyIG1pZFxuICAgIHN4ID0gc25hcFRvKGhvdmVyTWlkID8gc25hcFBvaW50cy52ZXJ0aWNhbC5jb25jYXQoWyBob3Zlck1pZC54IF0pIDogc25hcFBvaW50cy52ZXJ0aWNhbCwgeCk7XG4gICAgc3kgPSBzbmFwVG8oaG92ZXJNaWQgPyBzbmFwUG9pbnRzLmhvcml6b250YWwuY29uY2F0KFsgaG92ZXJNaWQueSBdKSA6IHNuYXBQb2ludHMuaG9yaXpvbnRhbCwgeSk7XG5cbiAgICAvLyBjb3JyZWN0aW9uIHgveVxuICAgIHZhciBjeCA9ICh4IC0gc3gpLFxuICAgICAgICBjeSA9ICh5IC0gc3kpO1xuXG4gICAgLy8gdXBkYXRlIGRlbHRhXG4gICAgYXNzaWduKGV2ZW50LCB7XG4gICAgICBkeDogZXZlbnQuZHggLSBjeCxcbiAgICAgIGR5OiBldmVudC5keSAtIGN5LFxuICAgICAgeDogZXZlbnQueCAtIGN4LFxuICAgICAgeTogZXZlbnQueSAtIGN5XG4gICAgfSk7XG5cbiAgICAvLyBvbmx5IHNldCBzbmFwcGVkIGlmIGFjdHVhbGx5IHNuYXBwZWRcbiAgICBpZiAoY3ggfHwgc25hcFBvaW50cy52ZXJ0aWNhbC5pbmRleE9mKHgpICE9PSAtMSkge1xuICAgICAgc2V0U25hcHBlZChldmVudCwgJ3gnLCBzeCk7XG4gICAgfVxuXG4gICAgaWYgKGN5IHx8IHNuYXBQb2ludHMuaG9yaXpvbnRhbC5pbmRleE9mKHkpICE9PSAtMSkge1xuICAgICAgc2V0U25hcHBlZChldmVudCwgJ3knLCBzeSk7XG4gICAgfVxuICB9KTtcbn1cblxuXG5CZW5kcG9pbnRTbmFwcGluZy4kaW5qZWN0ID0gWyAnZXZlbnRCdXMnIF07IiwiaW1wb3J0IERyYWdnaW5nTW9kdWxlIGZyb20gJy4uL2RyYWdnaW5nJztcbmltcG9ydCBSdWxlc01vZHVsZSBmcm9tICcuLi9ydWxlcyc7XG5cbmltcG9ydCBCZW5kcG9pbnRzIGZyb20gJy4vQmVuZHBvaW50cyc7XG5pbXBvcnQgQmVuZHBvaW50TW92ZSBmcm9tICcuL0JlbmRwb2ludE1vdmUnO1xuaW1wb3J0IEJlbmRwb2ludE1vdmVQcmV2aWV3IGZyb20gJy4vQmVuZHBvaW50TW92ZVByZXZpZXcnO1xuaW1wb3J0IENvbm5lY3Rpb25TZWdtZW50TW92ZSBmcm9tICcuL0Nvbm5lY3Rpb25TZWdtZW50TW92ZSc7XG5pbXBvcnQgQmVuZHBvaW50U25hcHBpbmcgZnJvbSAnLi9CZW5kcG9pbnRTbmFwcGluZyc7XG5cblxuZXhwb3J0IGRlZmF1bHQge1xuICBfX2RlcGVuZHNfXzogW1xuICAgIERyYWdnaW5nTW9kdWxlLFxuICAgIFJ1bGVzTW9kdWxlXG4gIF0sXG4gIF9faW5pdF9fOiBbICdiZW5kcG9pbnRzJywgJ2JlbmRwb2ludFNuYXBwaW5nJywgJ2JlbmRwb2ludE1vdmVQcmV2aWV3JyBdLFxuICBiZW5kcG9pbnRzOiBbICd0eXBlJywgQmVuZHBvaW50cyBdLFxuICBiZW5kcG9pbnRNb3ZlOiBbICd0eXBlJywgQmVuZHBvaW50TW92ZSBdLFxuICBiZW5kcG9pbnRNb3ZlUHJldmlldzogWyAndHlwZScsIEJlbmRwb2ludE1vdmVQcmV2aWV3IF0sXG4gIGNvbm5lY3Rpb25TZWdtZW50TW92ZTogWyAndHlwZScsIENvbm5lY3Rpb25TZWdtZW50TW92ZSBdLFxuICBiZW5kcG9pbnRTbmFwcGluZzogWyAndHlwZScsIEJlbmRwb2ludFNuYXBwaW5nIF1cbn07XG4iLCJleHBvcnQgZGVmYXVsdCB7XG4gIFlFTExPVzogJyNGRkZGODgnLFxuICBHUkVFTjogJyM3RUM4NDUnLFxuICBQSU5LOiAnI0Y0NkY2MCcsXG4gIElDRV9CTFVFOiAnI0I4RDZGNycsXG4gIEJMVUU6ICcjMjNCRkU3JyxcbiAgT1JBTkdFOiAnI0ZGOUQ0OCcsXG4gIEJMQUNLOiAnYmxhY2snXG59O1xuIiwiaW1wb3J0IHtcbiAgZGVsZWdhdGUgYXMgZG9tRGVsZWdhdGVcbn0gZnJvbSAnbWluLWRvbSc7XG5cbmltcG9ydCB7XG4gIGFzc2lnblxufSBmcm9tICdtaW4tZGFzaCc7XG5cbmltcG9ydCB7XG4gIGdldEJ1c2luZXNzT2JqZWN0XG59IGZyb20gJy4uLy4uL3V0aWwvTW9kZWxVdGlsJztcblxuaW1wb3J0IENPTE9SUyBmcm9tICcuLi8uLi91dGlsL0NvbG9yVXRpbCc7XG5cbmltcG9ydCB7XG4gIHRvUG9pbnRcbn0gZnJvbSAnZGlhZ3JhbS1qcy9saWIvdXRpbC9FdmVudCc7XG5pbXBvcnQgeyBpc0FueSB9IGZyb20gJy4uL21vZGVsaW5nL3V0aWwvTW9kZWxpbmdVdGlsJztcblxudmFyIERFRkFVTFRfU0hBUEUgPSB7XG4gIHR5cGU6ICdwb3N0aXQ6U3F1YXJlUG9zdGl0JyxcbiAgY29sb3I6IENPTE9SUy5ZRUxMT1csXG4gICRpbnN0YW5jZU9mOiBmdW5jdGlvbigpIHsgcmV0dXJuIHRydWU7IH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENhbnZhc0NyZWF0ZShcbiAgICBldmVudEJ1cywgZWxlbWVudEZhY3RvcnksIGNhbnZhcywgZGlyZWN0RWRpdGluZywgbW9kZWxpbmcpIHtcblxuICB2YXIgbGFzdENyZWF0ZWRTaGFwZSA9IERFRkFVTFRfU0hBUEU7XG5cbiAgZnVuY3Rpb24gX2dldE5ld1NoYXBlUG9zaXRpb24oZXZlbnQpIHtcbiAgICB2YXIgZXZlbnRQb2ludCA9IHRvUG9pbnQoZXZlbnQpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHg6IGV2ZW50UG9pbnQueCxcbiAgICAgIHk6IGV2ZW50UG9pbnQueVxuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBfYWN0aXZhdGVEaXJlY3RFZGl0KGVsZW1lbnQpIHtcbiAgICBpZiAoaXNBbnkoZWxlbWVudCwgWyAncG9zdGl0OlBvc3RpdCcsICdwb3N0aXQ6R3JvdXAnLCAncG9zdGl0OlRleHRCb3gnIF0pKSB7XG5cbiAgICAgIGRpcmVjdEVkaXRpbmcuYWN0aXZhdGUoZWxlbWVudCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX2NyZWF0ZVNoYXBlT25DYW52YXMoZXZlbnQpIHtcbiAgICB2YXIgcG9zaXRpb24gPSBfZ2V0TmV3U2hhcGVQb3NpdGlvbihldmVudCk7XG5cbiAgICB2YXIgbmV3U2hhcGUgPSBlbGVtZW50RmFjdG9yeS5jcmVhdGVQb3N0aXRFbGVtZW50KFxuICAgICAgJ3NoYXBlJywgYXNzaWduKGxhc3RDcmVhdGVkU2hhcGUsIHBvc2l0aW9uKSk7XG5cbiAgICB2YXIgcm9vdCA9IGNhbnZhcy5nZXRSb290RWxlbWVudCgpO1xuXG4gICAgdmFyIGNyZWF0ZWRTaGFwZSA9IG1vZGVsaW5nLmNyZWF0ZVNoYXBlKG5ld1NoYXBlLCBwb3NpdGlvbiwgcm9vdCk7XG5cbiAgICBfYWN0aXZhdGVEaXJlY3RFZGl0KGNyZWF0ZWRTaGFwZSk7XG4gIH1cblxuICBmdW5jdGlvbiBfc2F2ZUxhc3RDcmVhdGVkU2hhcGUoc2hhcGUpIHtcbiAgICBpZiAoIXNoYXBlKSB7XG4gICAgICBsYXN0Q3JlYXRlZFNoYXBlID0gREVGQVVMVF9TSEFQRTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgYm8gPSBnZXRCdXNpbmVzc09iamVjdChzaGFwZSk7XG5cbiAgICBsYXN0Q3JlYXRlZFNoYXBlID0ge1xuICAgICAgdHlwZTogc2hhcGUudHlwZSxcbiAgICAgIGNvbG9yOiBzaGFwZS5jb2xvciB8fCBiby5jb2xvcixcbiAgICAgICRpbnN0YW5jZU9mOiBmdW5jdGlvbih0eXBlKSB7XG4gICAgICAgIHJldHVybiAodHlwZW9mIGJvLiRpbnN0YW5jZU9mID09PSAnZnVuY3Rpb24nKSAmJiBiby4kaW5zdGFuY2VPZih0eXBlKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cblxuICBmdW5jdGlvbiBfY3JlYXRlRHJvcFNoYWRvd0ZpbHRlcih2aWV3cG9ydCkge1xuICAgIHZpZXdwb3J0LmlubmVySFRNTCA9ICc8ZmlsdGVyIGlkPVwibm90ZURyb3BTaGFkb3dcIiBzdHlsZT1cImhlaWdodDogMTMwJTtcIj48ZmVHYXVzc2lhbkJsdXIgaW49XCJTb3VyY2VBbHBoYVwiIHN0ZERldmlhdGlvbj1cIjNcIj48L2ZlR2F1c3NpYW5CbHVyPjxmZU9mZnNldCBkeD1cIjFcIiBkeT1cIjJcIiByZXN1bHQ9XCJvZmZzZXRibHVyXCI+PC9mZU9mZnNldD48ZmVNZXJnZT48ZmVNZXJnZU5vZGU+PC9mZU1lcmdlTm9kZT48ZmVNZXJnZU5vZGUgaW49XCJTb3VyY2VHcmFwaGljXCI+PC9mZU1lcmdlTm9kZT48L2ZlTWVyZ2U+PC9maWx0ZXI+JztcbiAgfVxuXG5cbiAgZXZlbnRCdXMub24oJ2NhbnZhcy5pbml0JywgZnVuY3Rpb24oY29udGV4dCkge1xuICAgIHZhciBzdmcgPSBjb250ZXh0LnN2ZztcblxuICAgIF9jcmVhdGVEcm9wU2hhZG93RmlsdGVyKGNvbnRleHQudmlld3BvcnQpO1xuICAgIGRvbURlbGVnYXRlLmJpbmQoc3ZnLCAnc3ZnJywgJ2RibGNsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIGlmIChldmVudC50YXJnZXQgIT09IHN2Zykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIF9jcmVhdGVTaGFwZU9uQ2FudmFzKGV2ZW50KTtcbiAgICB9KTtcblxuICAgIGV2ZW50QnVzLm9uKCdjcmVhdGUuZW5kJywgZnVuY3Rpb24oY29udGV4dCkge1xuICAgICAgdmFyIHNoYXBlID0gY29udGV4dC5zaGFwZTtcbiAgICAgIF9zYXZlTGFzdENyZWF0ZWRTaGFwZShzaGFwZSk7XG4gICAgfSk7XG4gIH0pO1xufVxuXG5DYW52YXNDcmVhdGUucHJvdG90eXBlLiRpbmplY3QgPSBbXG4gICdldmVudEJ1cycsXG4gICdlbGVtZW50RmFjdG9yeScsXG4gICdjYW52YXMnLFxuICAnZGlyZWN0RWRpdGluZycsXG4gICdtb2RlbGluZydcbl07XG4iLCJpbXBvcnQge1xuICBhc3NpZ24sXG4gIGJpbmQsXG4gIHBpY2tcbn0gZnJvbSAnbWluLWRhc2gnO1xuXG5pbXBvcnQge1xuICBkb21pZnksXG4gIHF1ZXJ5IGFzIGRvbVF1ZXJ5LFxuICBldmVudCBhcyBkb21FdmVudCxcbiAgcmVtb3ZlIGFzIGRvbVJlbW92ZVxufSBmcm9tICdtaW4tZG9tJztcblxudmFyIG1pbiA9IE1hdGgubWluLFxuICAgIG1heCA9IE1hdGgubWF4O1xuXG5mdW5jdGlvbiBwcmV2ZW50RGVmYXVsdChlKSB7XG4gIGUucHJldmVudERlZmF1bHQoKTtcbn1cblxuZnVuY3Rpb24gc3RvcFByb3BhZ2F0aW9uKGUpIHtcbiAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbn1cblxuZnVuY3Rpb24gaXNUZXh0Tm9kZShub2RlKSB7XG4gIHJldHVybiBub2RlLm5vZGVUeXBlID09PSBOb2RlLlRFWFRfTk9ERTtcbn1cblxuZnVuY3Rpb24gdG9BcnJheShub2RlTGlzdCkge1xuICByZXR1cm4gW10uc2xpY2UuY2FsbChub2RlTGlzdCk7XG59XG5cbi8qKlxuICogSW5pdGlhbGl6ZXMgYSBjb250YWluZXIgZm9yIGEgY29udGVudCBlZGl0YWJsZSBkaXYuXG4gKlxuICogU3RydWN0dXJlOlxuICpcbiAqIGNvbnRhaW5lclxuICogICBwYXJlbnRcbiAqICAgICBjb250ZW50XG4gKiAgICAgcmVzaXplLWhhbmRsZVxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zXG4gKiBAcGFyYW0ge0RPTUVsZW1lbnR9IG9wdGlvbnMuY29udGFpbmVyIFRoZSBET00gZWxlbWVudCB0byBhcHBlbmQgdGhlIGNvbnRlbnRDb250YWluZXIgdG9cbiAqIEBwYXJhbSB7RnVuY3Rpb259IG9wdGlvbnMua2V5SGFuZGxlciBIYW5kbGVyIGZvciBrZXkgZXZlbnRzXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBvcHRpb25zLnJlc2l6ZUhhbmRsZXIgSGFuZGxlciBmb3IgcmVzaXplIGV2ZW50c1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBUZXh0Qm94KG9wdGlvbnMpIHtcbiAgdGhpcy5jb250YWluZXIgPSBvcHRpb25zLmNvbnRhaW5lcjtcblxuICB0aGlzLnBhcmVudCA9IGRvbWlmeShcbiAgICAnPGRpdiBjbGFzcz1cImRqcy1kaXJlY3QtZWRpdGluZy1wYXJlbnRcIj4nICtcbiAgICAgICc8ZGl2IGNsYXNzPVwiZGpzLWRpcmVjdC1lZGl0aW5nLWNvbnRlbnRcIiBjb250ZW50ZWRpdGFibGU9XCJ0cnVlXCI+PC9kaXY+JyArXG4gICAgJzwvZGl2PidcbiAgKTtcblxuICB0aGlzLmNvbnRlbnQgPSBkb21RdWVyeSgnW2NvbnRlbnRlZGl0YWJsZV0nLCB0aGlzLnBhcmVudCk7XG5cbiAgdGhpcy5rZXlIYW5kbGVyID0gb3B0aW9ucy5rZXlIYW5kbGVyIHx8IGZ1bmN0aW9uKCkge307XG4gIHRoaXMucmVzaXplSGFuZGxlciA9IG9wdGlvbnMucmVzaXplSGFuZGxlciB8fCBmdW5jdGlvbigpIHt9O1xuXG4gIHRoaXMuYXV0b1Jlc2l6ZSA9IGJpbmQodGhpcy5hdXRvUmVzaXplLCB0aGlzKTtcbiAgdGhpcy5oYW5kbGVQYXN0ZSA9IGJpbmQodGhpcy5oYW5kbGVQYXN0ZSwgdGhpcyk7XG59XG5cblxuLyoqXG4gKiBDcmVhdGUgYSB0ZXh0IGJveCB3aXRoIHRoZSBnaXZlbiBwb3NpdGlvbiwgc2l6ZSwgc3R5bGUgYW5kIHRleHQgY29udGVudFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBib3VuZHNcbiAqIEBwYXJhbSB7TnVtYmVyfSBib3VuZHMueCBhYnNvbHV0ZSB4IHBvc2l0aW9uXG4gKiBAcGFyYW0ge051bWJlcn0gYm91bmRzLnkgYWJzb2x1dGUgeSBwb3NpdGlvblxuICogQHBhcmFtIHtOdW1iZXJ9IFtib3VuZHMud2lkdGhdIGZpeGVkIHdpZHRoIHZhbHVlXG4gKiBAcGFyYW0ge051bWJlcn0gW2JvdW5kcy5oZWlnaHRdIGZpeGVkIGhlaWdodCB2YWx1ZVxuICogQHBhcmFtIHtOdW1iZXJ9IFtib3VuZHMubWF4V2lkdGhdIG1heGltdW0gd2lkdGggdmFsdWVcbiAqIEBwYXJhbSB7TnVtYmVyfSBbYm91bmRzLm1heEhlaWdodF0gbWF4aW11bSBoZWlnaHQgdmFsdWVcbiAqIEBwYXJhbSB7TnVtYmVyfSBbYm91bmRzLm1pbldpZHRoXSBtaW5pbXVtIHdpZHRoIHZhbHVlXG4gKiBAcGFyYW0ge051bWJlcn0gW2JvdW5kcy5taW5IZWlnaHRdIG1pbmltdW0gaGVpZ2h0IHZhbHVlXG4gKiBAcGFyYW0ge09iamVjdH0gW3N0eWxlXVxuICogQHBhcmFtIHtTdHJpbmd9IHZhbHVlIHRleHQgY29udGVudFxuICpcbiAqIEByZXR1cm4ge0RPTUVsZW1lbnR9IFRoZSBjcmVhdGVkIGNvbnRlbnQgRE9NIGVsZW1lbnRcbiAqL1xuVGV4dEJveC5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24oYm91bmRzLCBzdHlsZSwgdmFsdWUsIG9wdGlvbnMpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIHZhciBwYXJlbnQgPSB0aGlzLnBhcmVudCxcbiAgICAgIGNvbnRlbnQgPSB0aGlzLmNvbnRlbnQsXG4gICAgICBjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lcjtcblxuICBvcHRpb25zID0gdGhpcy5vcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICBzdHlsZSA9IHRoaXMuc3R5bGUgPSBzdHlsZSB8fCB7fTtcblxuICB2YXIgcGFyZW50U3R5bGUgPSBwaWNrKHN0eWxlLCBbXG4gICAgJ3dpZHRoJyxcbiAgICAnaGVpZ2h0JyxcbiAgICAnbWF4V2lkdGgnLFxuICAgICdtYXhIZWlnaHQnLFxuICAgICdtaW5XaWR0aCcsXG4gICAgJ21pbkhlaWdodCcsXG4gICAgJ2xlZnQnLFxuICAgICd0b3AnLFxuICAgICdiYWNrZ3JvdW5kQ29sb3InLFxuICAgICdwb3NpdGlvbicsXG4gICAgJ292ZXJmbG93JyxcbiAgICAnYm9yZGVyJyxcbiAgICAnd29yZFdyYXAnLFxuICAgICd0ZXh0QWxpZ24nLFxuICAgICdvdXRsaW5lJyxcbiAgICAndHJhbnNmb3JtJ1xuICBdKTtcblxuICBhc3NpZ24ocGFyZW50LnN0eWxlLCB7XG4gICAgd2lkdGg6IGJvdW5kcy53aWR0aCArICdweCcsXG4gICAgaGVpZ2h0OiBib3VuZHMuaGVpZ2h0ICsgJ3B4JyxcbiAgICBtYXhXaWR0aDogYm91bmRzLm1heFdpZHRoICsgJ3B4JyxcbiAgICBtYXhIZWlnaHQ6IGJvdW5kcy5tYXhIZWlnaHQgKyAncHgnLFxuICAgIG1pbldpZHRoOiBib3VuZHMubWluV2lkdGggKyAncHgnLFxuICAgIG1pbkhlaWdodDogYm91bmRzLm1pbkhlaWdodCArICdweCcsXG4gICAgbGVmdDogYm91bmRzLnggKyAncHgnLFxuICAgIHRvcDogYm91bmRzLnkgKyAncHgnLFxuICAgIGJhY2tncm91bmRDb2xvcjogJyNmZmZmZmYnLFxuICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgIG92ZXJmbG93OiAndmlzaWJsZScsXG4gICAgYm9yZGVyOiAnMXB4IHNvbGlkICNjY2MnLFxuICAgIGJveFNpemluZzogJ2JvcmRlci1ib3gnLFxuICAgIHdvcmRXcmFwOiAnbm9ybWFsJyxcbiAgICB0ZXh0QWxpZ246ICdjZW50ZXInLFxuICAgIG91dGxpbmU6ICdub25lJ1xuICB9LCBwYXJlbnRTdHlsZSk7XG5cbiAgdmFyIGNvbnRlbnRTdHlsZSA9IHBpY2soc3R5bGUsIFtcbiAgICAnZm9udEZhbWlseScsXG4gICAgJ2ZvbnRTaXplJyxcbiAgICAnZm9udFdlaWdodCcsXG4gICAgJ2xpbmVIZWlnaHQnLFxuICAgICdwYWRkaW5nJyxcbiAgICAncGFkZGluZ1RvcCcsXG4gICAgJ3BhZGRpbmdSaWdodCcsXG4gICAgJ3BhZGRpbmdCb3R0b20nLFxuICAgICdwYWRkaW5nTGVmdCdcbiAgXSk7XG5cbiAgYXNzaWduKGNvbnRlbnQuc3R5bGUsIHtcbiAgICBib3hTaXppbmc6ICdib3JkZXItYm94JyxcbiAgICB3aWR0aDogJzEwMCUnLFxuICAgIG91dGxpbmU6ICdub25lJyxcbiAgICB3b3JkV3JhcDogJ2JyZWFrLXdvcmQnXG4gIH0sIGNvbnRlbnRTdHlsZSk7XG5cbiAgaWYgKG9wdGlvbnMuY2VudGVyVmVydGljYWxseSkge1xuICAgIGFzc2lnbihjb250ZW50LnN0eWxlLCB7XG4gICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgIHRvcDogJzUwJScsXG4gICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUoMCwgLTUwJSknXG4gICAgfSwgY29udGVudFN0eWxlKTtcbiAgfVxuXG4gIGNvbnRlbnQuaW5uZXJUZXh0ID0gdmFsdWU7XG5cbiAgZG9tRXZlbnQuYmluZChjb250ZW50LCAna2V5ZG93bicsIHRoaXMua2V5SGFuZGxlcik7XG4gIGRvbUV2ZW50LmJpbmQoY29udGVudCwgJ21vdXNlZG93bicsIHN0b3BQcm9wYWdhdGlvbik7XG4gIGRvbUV2ZW50LmJpbmQoY29udGVudCwgJ3Bhc3RlJywgc2VsZi5oYW5kbGVQYXN0ZSk7XG5cbiAgaWYgKG9wdGlvbnMuYXV0b1Jlc2l6ZSkge1xuICAgIGRvbUV2ZW50LmJpbmQoY29udGVudCwgJ2lucHV0JywgdGhpcy5hdXRvUmVzaXplKTtcbiAgfVxuXG4gIGlmIChvcHRpb25zLnJlc2l6YWJsZSkge1xuICAgIHRoaXMucmVzaXphYmxlKHN0eWxlKTtcbiAgfVxuXG4gIGNvbnRhaW5lci5hcHBlbmRDaGlsZChwYXJlbnQpO1xuXG4gIC8vIHNldCBzZWxlY3Rpb24gdG8gZW5kIG9mIHRleHRcbiAgdGhpcy5zZXRTZWxlY3Rpb24oY29udGVudC5sYXN0Q2hpbGQsIGNvbnRlbnQubGFzdENoaWxkICYmIGNvbnRlbnQubGFzdENoaWxkLmxlbmd0aCk7XG5cbiAgcmV0dXJuIHBhcmVudDtcbn07XG5cbi8qKlxuICogSW50ZXJjZXB0IHBhc3RlIGV2ZW50cyB0byByZW1vdmUgZm9ybWF0dGluZyBmcm9tIHBhc3RlZCB0ZXh0LlxuICovXG5UZXh0Qm94LnByb3RvdHlwZS5oYW5kbGVQYXN0ZSA9IGZ1bmN0aW9uKGUpIHtcbiAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMsXG4gICAgICBzdHlsZSA9IHRoaXMuc3R5bGU7XG5cbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gIHZhciB0ZXh0O1xuXG4gIGlmIChlLmNsaXBib2FyZERhdGEpIHtcblxuICAgIC8vIENocm9tZSwgRmlyZWZveCwgU2FmYXJpXG4gICAgdGV4dCA9IGUuY2xpcGJvYXJkRGF0YS5nZXREYXRhKCd0ZXh0L3BsYWluJyk7XG4gIH0gZWxzZSB7XG5cbiAgICAvLyBJbnRlcm5ldCBFeHBsb3JlclxuICAgIHRleHQgPSB3aW5kb3cuY2xpcGJvYXJkRGF0YS5nZXREYXRhKCdUZXh0Jyk7XG4gIH1cblxuICB0aGlzLmluc2VydFRleHQodGV4dCk7XG5cbiAgaWYgKG9wdGlvbnMuYXV0b1Jlc2l6ZSkge1xuICAgIHZhciBoYXNSZXNpemVkID0gdGhpcy5hdXRvUmVzaXplKHN0eWxlKTtcblxuICAgIGlmIChoYXNSZXNpemVkKSB7XG4gICAgICB0aGlzLnJlc2l6ZUhhbmRsZXIoaGFzUmVzaXplZCk7XG4gICAgfVxuICB9XG59O1xuXG5UZXh0Qm94LnByb3RvdHlwZS5pbnNlcnRUZXh0ID0gZnVuY3Rpb24odGV4dCkge1xuXG4gIC8vIGluc2VydFRleHQgY29tbWFuZCBub3Qgc3VwcG9ydGVkIGJ5IEludGVybmV0IEV4cGxvcmVyXG4gIHZhciBzdWNjZXNzID0gZG9jdW1lbnQuZXhlY0NvbW1hbmQoJ2luc2VydFRleHQnLCBmYWxzZSwgdGV4dCk7XG5cbiAgaWYgKHN1Y2Nlc3MpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB0aGlzLl9pbnNlcnRUZXh0SUUodGV4dCk7XG59O1xuXG5UZXh0Qm94LnByb3RvdHlwZS5faW5zZXJ0VGV4dElFID0gZnVuY3Rpb24odGV4dCkge1xuXG4gIC8vIEludGVybmV0IEV4cGxvcmVyXG4gIHZhciByYW5nZSA9IHRoaXMuZ2V0U2VsZWN0aW9uKCksXG4gICAgICBzdGFydENvbnRhaW5lciA9IHJhbmdlLnN0YXJ0Q29udGFpbmVyLFxuICAgICAgZW5kQ29udGFpbmVyID0gcmFuZ2UuZW5kQ29udGFpbmVyLFxuICAgICAgc3RhcnRPZmZzZXQgPSByYW5nZS5zdGFydE9mZnNldCxcbiAgICAgIGVuZE9mZnNldCA9IHJhbmdlLmVuZE9mZnNldCxcbiAgICAgIGNvbW1vbkFuY2VzdG9yQ29udGFpbmVyID0gcmFuZ2UuY29tbW9uQW5jZXN0b3JDb250YWluZXI7XG5cbiAgdmFyIGNoaWxkTm9kZXNBcnJheSA9IHRvQXJyYXkoY29tbW9uQW5jZXN0b3JDb250YWluZXIuY2hpbGROb2Rlcyk7XG5cbiAgdmFyIGNvbnRhaW5lcixcbiAgICAgIG9mZnNldDtcblxuICBpZiAoaXNUZXh0Tm9kZShjb21tb25BbmNlc3RvckNvbnRhaW5lcikpIHtcbiAgICB2YXIgY29udGFpbmVyVGV4dENvbnRlbnQgPSBzdGFydENvbnRhaW5lci50ZXh0Q29udGVudDtcblxuICAgIHN0YXJ0Q29udGFpbmVyLnRleHRDb250ZW50ID1cbiAgICAgIGNvbnRhaW5lclRleHRDb250ZW50LnN1YnN0cmluZygwLCBzdGFydE9mZnNldClcbiAgICAgICsgdGV4dFxuICAgICAgKyBjb250YWluZXJUZXh0Q29udGVudC5zdWJzdHJpbmcoZW5kT2Zmc2V0KTtcblxuICAgIGNvbnRhaW5lciA9IHN0YXJ0Q29udGFpbmVyO1xuICAgIG9mZnNldCA9IHN0YXJ0T2Zmc2V0ICsgdGV4dC5sZW5ndGg7XG5cbiAgfSBlbHNlIGlmIChzdGFydENvbnRhaW5lciA9PT0gdGhpcy5jb250ZW50ICYmIGVuZENvbnRhaW5lciA9PT0gdGhpcy5jb250ZW50KSB7XG4gICAgdmFyIHRleHROb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodGV4dCk7XG5cbiAgICB0aGlzLmNvbnRlbnQuaW5zZXJ0QmVmb3JlKHRleHROb2RlLCBjaGlsZE5vZGVzQXJyYXlbc3RhcnRPZmZzZXRdKTtcblxuICAgIGNvbnRhaW5lciA9IHRleHROb2RlO1xuICAgIG9mZnNldCA9IHRleHROb2RlLnRleHRDb250ZW50Lmxlbmd0aDtcbiAgfSBlbHNlIHtcbiAgICB2YXIgc3RhcnRDb250YWluZXJDaGlsZEluZGV4ID0gY2hpbGROb2Rlc0FycmF5LmluZGV4T2Yoc3RhcnRDb250YWluZXIpLFxuICAgICAgICBlbmRDb250YWluZXJDaGlsZEluZGV4ID0gY2hpbGROb2Rlc0FycmF5LmluZGV4T2YoZW5kQ29udGFpbmVyKTtcblxuICAgIGNoaWxkTm9kZXNBcnJheS5mb3JFYWNoKGZ1bmN0aW9uKGNoaWxkTm9kZSwgaW5kZXgpIHtcblxuICAgICAgaWYgKGluZGV4ID09PSBzdGFydENvbnRhaW5lckNoaWxkSW5kZXgpIHtcbiAgICAgICAgY2hpbGROb2RlLnRleHRDb250ZW50ID1cbiAgICAgICAgICBzdGFydENvbnRhaW5lci50ZXh0Q29udGVudC5zdWJzdHJpbmcoMCwgc3RhcnRPZmZzZXQpICtcbiAgICAgICAgICB0ZXh0ICtcbiAgICAgICAgICBlbmRDb250YWluZXIudGV4dENvbnRlbnQuc3Vic3RyaW5nKGVuZE9mZnNldCk7XG4gICAgICB9IGVsc2UgaWYgKGluZGV4ID4gc3RhcnRDb250YWluZXJDaGlsZEluZGV4ICYmIGluZGV4IDw9IGVuZENvbnRhaW5lckNoaWxkSW5kZXgpIHtcbiAgICAgICAgZG9tUmVtb3ZlKGNoaWxkTm9kZSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBjb250YWluZXIgPSBzdGFydENvbnRhaW5lcjtcbiAgICBvZmZzZXQgPSBzdGFydE9mZnNldCArIHRleHQubGVuZ3RoO1xuICB9XG5cbiAgaWYgKGNvbnRhaW5lciAmJiBvZmZzZXQgIT09IHVuZGVmaW5lZCkge1xuXG4gICAgLy8gaXMgbmVjZXNzYXJ5IGluIEludGVybmV0IEV4cGxvcmVyXG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgIHNlbGYuc2V0U2VsZWN0aW9uKGNvbnRhaW5lciwgb2Zmc2V0KTtcbiAgICB9KTtcbiAgfVxufTtcblxuLyoqXG4gKiBBdXRvbWF0aWNhbGx5IHJlc2l6ZSBlbGVtZW50IHZlcnRpY2FsbHkgdG8gZml0IGl0cyBjb250ZW50LlxuICovXG5UZXh0Qm94LnByb3RvdHlwZS5hdXRvUmVzaXplID0gZnVuY3Rpb24oKSB7XG4gIHZhciBwYXJlbnQgPSB0aGlzLnBhcmVudCxcbiAgICAgIGNvbnRlbnQgPSB0aGlzLmNvbnRlbnQ7XG5cbiAgdmFyIGZvbnRTaXplID0gcGFyc2VJbnQodGhpcy5zdHlsZS5mb250U2l6ZSkgfHwgMTI7XG5cbiAgaWYgKGNvbnRlbnQuc2Nyb2xsSGVpZ2h0ID4gcGFyZW50Lm9mZnNldEhlaWdodCB8fFxuICAgICAgY29udGVudC5zY3JvbGxIZWlnaHQgPCBwYXJlbnQub2Zmc2V0SGVpZ2h0IC0gZm9udFNpemUpIHtcbiAgICB2YXIgYm91bmRzID0gcGFyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgdmFyIGhlaWdodCA9IGNvbnRlbnQuc2Nyb2xsSGVpZ2h0O1xuICAgIHBhcmVudC5zdHlsZS5oZWlnaHQgPSBoZWlnaHQgKyAncHgnO1xuXG4gICAgdGhpcy5yZXNpemVIYW5kbGVyKHtcbiAgICAgIHdpZHRoOiBib3VuZHMud2lkdGgsXG4gICAgICBoZWlnaHQ6IGJvdW5kcy5oZWlnaHQsXG4gICAgICBkeDogMCxcbiAgICAgIGR5OiBoZWlnaHQgLSBib3VuZHMuaGVpZ2h0XG4gICAgfSk7XG4gIH1cbn07XG5cbi8qKlxuICogTWFrZSBhbiBlbGVtZW50IHJlc2l6YWJsZSBieSBhZGRpbmcgYSByZXNpemUgaGFuZGxlLlxuICovXG5UZXh0Qm94LnByb3RvdHlwZS5yZXNpemFibGUgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIHZhciBwYXJlbnQgPSB0aGlzLnBhcmVudCxcbiAgICAgIHJlc2l6ZUhhbmRsZSA9IHRoaXMucmVzaXplSGFuZGxlO1xuXG4gIHZhciBtaW5XaWR0aCA9IHBhcnNlSW50KHRoaXMuc3R5bGUubWluV2lkdGgpIHx8IDAsXG4gICAgICBtaW5IZWlnaHQgPSBwYXJzZUludCh0aGlzLnN0eWxlLm1pbkhlaWdodCkgfHwgMCxcbiAgICAgIG1heFdpZHRoID0gcGFyc2VJbnQodGhpcy5zdHlsZS5tYXhXaWR0aCkgfHwgSW5maW5pdHksXG4gICAgICBtYXhIZWlnaHQgPSBwYXJzZUludCh0aGlzLnN0eWxlLm1heEhlaWdodCkgfHwgSW5maW5pdHk7XG5cbiAgaWYgKCFyZXNpemVIYW5kbGUpIHtcbiAgICByZXNpemVIYW5kbGUgPSB0aGlzLnJlc2l6ZUhhbmRsZSA9IGRvbWlmeShcbiAgICAgICc8ZGl2IGNsYXNzPVwiZGpzLWRpcmVjdC1lZGl0aW5nLXJlc2l6ZS1oYW5kbGVcIj48L2Rpdj4nXG4gICAgKTtcblxuICAgIHZhciBzdGFydFgsIHN0YXJ0WSwgc3RhcnRXaWR0aCwgc3RhcnRIZWlnaHQ7XG5cbiAgICB2YXIgb25Nb3VzZURvd24gPSBmdW5jdGlvbihlKSB7XG4gICAgICBwcmV2ZW50RGVmYXVsdChlKTtcbiAgICAgIHN0b3BQcm9wYWdhdGlvbihlKTtcblxuICAgICAgc3RhcnRYID0gZS5jbGllbnRYO1xuICAgICAgc3RhcnRZID0gZS5jbGllbnRZO1xuXG4gICAgICB2YXIgYm91bmRzID0gcGFyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICBzdGFydFdpZHRoID0gYm91bmRzLndpZHRoO1xuICAgICAgc3RhcnRIZWlnaHQgPSBib3VuZHMuaGVpZ2h0O1xuXG4gICAgICBkb21FdmVudC5iaW5kKGRvY3VtZW50LCAnbW91c2Vtb3ZlJywgb25Nb3VzZU1vdmUpO1xuICAgICAgZG9tRXZlbnQuYmluZChkb2N1bWVudCwgJ21vdXNldXAnLCBvbk1vdXNlVXApO1xuICAgIH07XG5cbiAgICB2YXIgb25Nb3VzZU1vdmUgPSBmdW5jdGlvbihlKSB7XG4gICAgICBwcmV2ZW50RGVmYXVsdChlKTtcbiAgICAgIHN0b3BQcm9wYWdhdGlvbihlKTtcblxuICAgICAgdmFyIG5ld1dpZHRoID0gbWluKG1heChzdGFydFdpZHRoICsgZS5jbGllbnRYIC0gc3RhcnRYLCBtaW5XaWR0aCksIG1heFdpZHRoKTtcbiAgICAgIHZhciBuZXdIZWlnaHQgPSBtaW4obWF4KHN0YXJ0SGVpZ2h0ICsgZS5jbGllbnRZIC0gc3RhcnRZLCBtaW5IZWlnaHQpLCBtYXhIZWlnaHQpO1xuXG4gICAgICBwYXJlbnQuc3R5bGUud2lkdGggPSBuZXdXaWR0aCArICdweCc7XG4gICAgICBwYXJlbnQuc3R5bGUuaGVpZ2h0ID0gbmV3SGVpZ2h0ICsgJ3B4JztcblxuICAgICAgc2VsZi5yZXNpemVIYW5kbGVyKHtcbiAgICAgICAgd2lkdGg6IHN0YXJ0V2lkdGgsXG4gICAgICAgIGhlaWdodDogc3RhcnRIZWlnaHQsXG4gICAgICAgIGR4OiBlLmNsaWVudFggLSBzdGFydFgsXG4gICAgICAgIGR5OiBlLmNsaWVudFkgLSBzdGFydFlcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2YXIgb25Nb3VzZVVwID0gZnVuY3Rpb24oZSkge1xuICAgICAgcHJldmVudERlZmF1bHQoZSk7XG4gICAgICBzdG9wUHJvcGFnYXRpb24oZSk7XG5cbiAgICAgIGRvbUV2ZW50LnVuYmluZChkb2N1bWVudCwnbW91c2Vtb3ZlJywgb25Nb3VzZU1vdmUsIGZhbHNlKTtcbiAgICAgIGRvbUV2ZW50LnVuYmluZChkb2N1bWVudCwgJ21vdXNldXAnLCBvbk1vdXNlVXAsIGZhbHNlKTtcbiAgICB9O1xuXG4gICAgZG9tRXZlbnQuYmluZChyZXNpemVIYW5kbGUsICdtb3VzZWRvd24nLCBvbk1vdXNlRG93bik7XG4gIH1cblxuICBhc3NpZ24ocmVzaXplSGFuZGxlLnN0eWxlLCB7XG4gICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgYm90dG9tOiAnMHB4JyxcbiAgICByaWdodDogJzBweCcsXG4gICAgY3Vyc29yOiAnbndzZS1yZXNpemUnLFxuICAgIHdpZHRoOiAnMCcsXG4gICAgaGVpZ2h0OiAnMCcsXG4gICAgYm9yZGVyVG9wOiAocGFyc2VJbnQodGhpcy5zdHlsZS5mb250U2l6ZSkgLyA0IHx8IDMpICsgJ3B4IHNvbGlkIHRyYW5zcGFyZW50JyxcbiAgICBib3JkZXJSaWdodDogKHBhcnNlSW50KHRoaXMuc3R5bGUuZm9udFNpemUpIC8gNCB8fCAzKSArICdweCBzb2xpZCAjY2NjJyxcbiAgICBib3JkZXJCb3R0b206IChwYXJzZUludCh0aGlzLnN0eWxlLmZvbnRTaXplKSAvIDQgfHwgMykgKyAncHggc29saWQgI2NjYycsXG4gICAgYm9yZGVyTGVmdDogKHBhcnNlSW50KHRoaXMuc3R5bGUuZm9udFNpemUpIC8gNCB8fCAzKSArICdweCBzb2xpZCB0cmFuc3BhcmVudCdcbiAgfSk7XG5cbiAgcGFyZW50LmFwcGVuZENoaWxkKHJlc2l6ZUhhbmRsZSk7XG59O1xuXG5cbi8qKlxuICogQ2xlYXIgY29udGVudCBhbmQgc3R5bGUgb2YgdGhlIHRleHRib3gsIHVuYmluZCBsaXN0ZW5lcnMgYW5kXG4gKiByZXNldCBDU1Mgc3R5bGUuXG4gKi9cblRleHRCb3gucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHBhcmVudCA9IHRoaXMucGFyZW50LFxuICAgICAgY29udGVudCA9IHRoaXMuY29udGVudCxcbiAgICAgIHJlc2l6ZUhhbmRsZSA9IHRoaXMucmVzaXplSGFuZGxlO1xuXG4gIC8vIGNsZWFyIGNvbnRlbnRcbiAgY29udGVudC5pbm5lclRleHQgPSAnJztcblxuICAvLyBjbGVhciBzdHlsZXNcbiAgcGFyZW50LnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTtcbiAgY29udGVudC5yZW1vdmVBdHRyaWJ1dGUoJ3N0eWxlJyk7XG5cbiAgZG9tRXZlbnQudW5iaW5kKGNvbnRlbnQsICdrZXlkb3duJywgdGhpcy5rZXlIYW5kbGVyKTtcbiAgZG9tRXZlbnQudW5iaW5kKGNvbnRlbnQsICdtb3VzZWRvd24nLCBzdG9wUHJvcGFnYXRpb24pO1xuICBkb21FdmVudC51bmJpbmQoY29udGVudCwgJ2lucHV0JywgdGhpcy5hdXRvUmVzaXplKTtcbiAgZG9tRXZlbnQudW5iaW5kKGNvbnRlbnQsICdwYXN0ZScsIHRoaXMuaGFuZGxlUGFzdGUpO1xuXG4gIGlmIChyZXNpemVIYW5kbGUpIHtcbiAgICByZXNpemVIYW5kbGUucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpO1xuXG4gICAgZG9tUmVtb3ZlKHJlc2l6ZUhhbmRsZSk7XG4gIH1cblxuICBkb21SZW1vdmUocGFyZW50KTtcbn07XG5cblxuVGV4dEJveC5wcm90b3R5cGUuZ2V0VmFsdWUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuY29udGVudC5pbm5lclRleHQudHJpbSgpO1xufTtcblxuXG5UZXh0Qm94LnByb3RvdHlwZS5nZXRTZWxlY3Rpb24gPSBmdW5jdGlvbigpIHtcbiAgdmFyIHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKSxcbiAgICAgIHJhbmdlID0gc2VsZWN0aW9uLmdldFJhbmdlQXQoMCk7XG5cbiAgcmV0dXJuIHJhbmdlO1xufTtcblxuXG5UZXh0Qm94LnByb3RvdHlwZS5zZXRTZWxlY3Rpb24gPSBmdW5jdGlvbihjb250YWluZXIsIG9mZnNldCkge1xuICB2YXIgcmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xuXG4gIGlmIChjb250YWluZXIgPT09IG51bGwpIHtcbiAgICByYW5nZS5zZWxlY3ROb2RlQ29udGVudHModGhpcy5jb250ZW50KTtcbiAgfSBlbHNlIHtcbiAgICByYW5nZS5zZXRTdGFydChjb250YWluZXIsIG9mZnNldCk7XG4gICAgcmFuZ2Uuc2V0RW5kKGNvbnRhaW5lciwgb2Zmc2V0KTtcbiAgfVxuXG4gIHZhciBzZWxlY3Rpb24gPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XG5cbiAgc2VsZWN0aW9uLnJlbW92ZUFsbFJhbmdlcygpO1xuICBzZWxlY3Rpb24uYWRkUmFuZ2UocmFuZ2UpO1xufTtcbiIsImltcG9ydCB7XG4gIGJpbmQsXG4gIGZpbmRcbn0gZnJvbSAnbWluLWRhc2gnO1xuXG5pbXBvcnQgVGV4dEJveCBmcm9tICcuL1RleHRCb3gnO1xuXG5cbi8qKlxuICogQSBkaXJlY3QgZWRpdGluZyBjb21wb25lbnQgdGhhdCBhbGxvd3MgdXNlcnNcbiAqIHRvIGVkaXQgYW4gZWxlbWVudHMgdGV4dCBkaXJlY3RseSBpbiB0aGUgZGlhZ3JhbVxuICpcbiAqIEBwYXJhbSB7RXZlbnRCdXN9IGV2ZW50QnVzIHRoZSBldmVudCBidXNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gRGlyZWN0RWRpdGluZyhldmVudEJ1cywgY2FudmFzKSB7XG5cbiAgdGhpcy5fZXZlbnRCdXMgPSBldmVudEJ1cztcblxuICB0aGlzLl9wcm92aWRlcnMgPSBbXTtcbiAgdGhpcy5fdGV4dGJveCA9IG5ldyBUZXh0Qm94KHtcbiAgICBjb250YWluZXI6IGNhbnZhcy5nZXRDb250YWluZXIoKSxcbiAgICBrZXlIYW5kbGVyOiBiaW5kKHRoaXMuX2hhbmRsZUtleSwgdGhpcyksXG4gICAgcmVzaXplSGFuZGxlcjogYmluZCh0aGlzLl9oYW5kbGVSZXNpemUsIHRoaXMpXG4gIH0pO1xufVxuXG5EaXJlY3RFZGl0aW5nLiRpbmplY3QgPSBbICdldmVudEJ1cycsICdjYW52YXMnIF07XG5cblxuLyoqXG4gKiBSZWdpc3RlciBhIGRpcmVjdCBlZGl0aW5nIHByb3ZpZGVyXG5cbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm92aWRlciB0aGUgcHJvdmlkZXIsIG11c3QgZXhwb3NlIGFuICNhY3RpdmF0ZShlbGVtZW50KSBtZXRob2QgdGhhdCByZXR1cm5zXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgYW4gYWN0aXZhdGlvbiBjb250ZXh0ICh7IGJvdW5kczoge3gsIHksIHdpZHRoLCBoZWlnaHQgfSwgdGV4dCB9KSBpZlxuICogICAgICAgICAgICAgICAgICAgICAgICAgIGRpcmVjdCBlZGl0aW5nIGlzIGF2YWlsYWJsZSBmb3IgdGhlIGdpdmVuIGVsZW1lbnQuXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgQWRkaXRpb25hbGx5IHRoZSBwcm92aWRlciBtdXN0IGV4cG9zZSBhICN1cGRhdGUoZWxlbWVudCwgdmFsdWUpIG1ldGhvZFxuICogICAgICAgICAgICAgICAgICAgICAgICAgIHRvIHJlY2VpdmUgZGlyZWN0IGVkaXRpbmcgdXBkYXRlcy5cbiAqL1xuRGlyZWN0RWRpdGluZy5wcm90b3R5cGUucmVnaXN0ZXJQcm92aWRlciA9IGZ1bmN0aW9uKHByb3ZpZGVyKSB7XG4gIHRoaXMuX3Byb3ZpZGVycy5wdXNoKHByb3ZpZGVyKTtcbn07XG5cblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgZGlyZWN0IGVkaXRpbmcgaXMgY3VycmVudGx5IGFjdGl2ZVxuICpcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKi9cbkRpcmVjdEVkaXRpbmcucHJvdG90eXBlLmlzQWN0aXZlID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAhIXRoaXMuX2FjdGl2ZTtcbn07XG5cblxuLyoqXG4gKiBDYW5jZWwgZGlyZWN0IGVkaXRpbmcsIGlmIGl0IGlzIGN1cnJlbnRseSBhY3RpdmVcbiAqL1xuRGlyZWN0RWRpdGluZy5wcm90b3R5cGUuY2FuY2VsID0gZnVuY3Rpb24oKSB7XG4gIGlmICghdGhpcy5fYWN0aXZlKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdGhpcy5fZmlyZSgnY2FuY2VsJyk7XG4gIHRoaXMuY2xvc2UoKTtcbn07XG5cblxuRGlyZWN0RWRpdGluZy5wcm90b3R5cGUuX2ZpcmUgPSBmdW5jdGlvbihldmVudCwgY29udGV4dCkge1xuICB0aGlzLl9ldmVudEJ1cy5maXJlKCdkaXJlY3RFZGl0aW5nLicgKyBldmVudCwgY29udGV4dCB8fCB7IGFjdGl2ZTogdGhpcy5fYWN0aXZlIH0pO1xufTtcblxuRGlyZWN0RWRpdGluZy5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5fdGV4dGJveC5kZXN0cm95KCk7XG5cbiAgdGhpcy5fZmlyZSgnZGVhY3RpdmF0ZScpO1xuXG4gIHRoaXMuX2FjdGl2ZSA9IG51bGw7XG5cbiAgdGhpcy5yZXNpemFibGUgPSB1bmRlZmluZWQ7XG59O1xuXG5cbkRpcmVjdEVkaXRpbmcucHJvdG90eXBlLmNvbXBsZXRlID0gZnVuY3Rpb24oKSB7XG5cbiAgdmFyIGFjdGl2ZSA9IHRoaXMuX2FjdGl2ZTtcblxuICBpZiAoIWFjdGl2ZSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBjb250YWluZXJCb3VuZHMsXG4gICAgICBwcmV2aW91c0JvdW5kcyA9IGFjdGl2ZS5jb250ZXh0LmJvdW5kcyxcbiAgICAgIG5ld0JvdW5kcyA9IHRoaXMuJHRleHRib3guZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksXG4gICAgICBuZXdUZXh0ID0gdGhpcy5nZXRWYWx1ZSgpLFxuICAgICAgcHJldmlvdXNUZXh0ID0gYWN0aXZlLmNvbnRleHQudGV4dDtcblxuICBpZiAoXG4gICAgbmV3VGV4dCAhPT0gcHJldmlvdXNUZXh0IHx8XG4gICAgbmV3Qm91bmRzLmhlaWdodCAhPT0gcHJldmlvdXNCb3VuZHMuaGVpZ2h0IHx8XG4gICAgbmV3Qm91bmRzLndpZHRoICE9PSBwcmV2aW91c0JvdW5kcy53aWR0aFxuICApIHtcbiAgICBjb250YWluZXJCb3VuZHMgPSB0aGlzLl90ZXh0Ym94LmNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgIGFjdGl2ZS5wcm92aWRlci51cGRhdGUoYWN0aXZlLmVsZW1lbnQsIG5ld1RleHQsIGFjdGl2ZS5jb250ZXh0LnRleHQsIHtcbiAgICAgIHg6IG5ld0JvdW5kcy5sZWZ0IC0gY29udGFpbmVyQm91bmRzLmxlZnQsXG4gICAgICB5OiBuZXdCb3VuZHMudG9wIC0gY29udGFpbmVyQm91bmRzLnRvcCxcbiAgICAgIHdpZHRoOiBuZXdCb3VuZHMud2lkdGgsXG4gICAgICBoZWlnaHQ6IG5ld0JvdW5kcy5oZWlnaHRcbiAgICB9KTtcbiAgfVxuXG4gIHRoaXMuX2ZpcmUoJ2NvbXBsZXRlJyk7XG5cbiAgdGhpcy5jbG9zZSgpO1xufTtcblxuXG5EaXJlY3RFZGl0aW5nLnByb3RvdHlwZS5nZXRWYWx1ZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5fdGV4dGJveC5nZXRWYWx1ZSgpO1xufTtcblxuXG5EaXJlY3RFZGl0aW5nLnByb3RvdHlwZS5faGFuZGxlS2V5ID0gZnVuY3Rpb24oZSkge1xuXG4gIC8vIHN0b3AgYnViYmxlXG4gIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgdmFyIGtleSA9IGUua2V5Q29kZSB8fCBlLmNoYXJDb2RlO1xuXG4gIC8vIEVTQ1xuICBpZiAoa2V5ID09PSAyNykge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICByZXR1cm4gdGhpcy5jYW5jZWwoKTtcbiAgfVxuXG4gIC8vIEVudGVyXG4gIGlmIChrZXkgPT09IDEzICYmICFlLnNoaWZ0S2V5KSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHJldHVybiB0aGlzLmNvbXBsZXRlKCk7XG4gIH1cbn07XG5cblxuRGlyZWN0RWRpdGluZy5wcm90b3R5cGUuX2hhbmRsZVJlc2l6ZSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gIHRoaXMuX2ZpcmUoJ3Jlc2l6ZScsIGV2ZW50KTtcbn07XG5cblxuLyoqXG4gKiBBY3RpdmF0ZSBkaXJlY3QgZWRpdGluZyBvbiB0aGUgZ2l2ZW4gZWxlbWVudFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBFbGVtZW50RGVzY3JpcHRvciB0aGUgZGVzY3JpcHRvciBmb3IgYSBzaGFwZSBvciBjb25uZWN0aW9uXG4gKiBAcmV0dXJuIHtCb29sZWFufSB0cnVlIGlmIHRoZSBhY3RpdmF0aW9uIHdhcyBwb3NzaWJsZVxuICovXG5EaXJlY3RFZGl0aW5nLnByb3RvdHlwZS5hY3RpdmF0ZSA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgaWYgKHRoaXMuaXNBY3RpdmUoKSkge1xuICAgIHRoaXMuY2FuY2VsKCk7XG4gIH1cblxuICAvLyB0aGUgZGlyZWN0IGVkaXRpbmcgY29udGV4dFxuICB2YXIgY29udGV4dDtcblxuICB2YXIgcHJvdmlkZXIgPSBmaW5kKHRoaXMuX3Byb3ZpZGVycywgZnVuY3Rpb24ocCkge1xuICAgIHJldHVybiAoY29udGV4dCA9IHAuYWN0aXZhdGUoZWxlbWVudCkpID8gcCA6IG51bGw7XG4gIH0pO1xuXG4gIC8vIGNoZWNrIGlmIGFjdGl2YXRpb24gdG9vayBwbGFjZVxuICBpZiAoY29udGV4dCkge1xuICAgIHRoaXMuJHRleHRib3ggPSB0aGlzLl90ZXh0Ym94LmNyZWF0ZShcbiAgICAgIGNvbnRleHQuYm91bmRzLFxuICAgICAgY29udGV4dC5zdHlsZSxcbiAgICAgIGNvbnRleHQudGV4dCxcbiAgICAgIGNvbnRleHQub3B0aW9uc1xuICAgICk7XG5cbiAgICB0aGlzLl9hY3RpdmUgPSB7XG4gICAgICBlbGVtZW50OiBlbGVtZW50LFxuICAgICAgY29udGV4dDogY29udGV4dCxcbiAgICAgIHByb3ZpZGVyOiBwcm92aWRlclxuICAgIH07XG5cbiAgICBpZiAoY29udGV4dC5vcHRpb25zICYmIGNvbnRleHQub3B0aW9ucy5yZXNpemFibGUpIHtcbiAgICAgIHRoaXMucmVzaXphYmxlID0gdHJ1ZTtcbiAgICB9XG5cbiAgICB0aGlzLl9maXJlKCdhY3RpdmF0ZScpO1xuICB9XG5cbiAgcmV0dXJuICEhY29udGV4dDtcbn07XG4iLCJpbXBvcnQgSW50ZXJhY3Rpb25FdmVudHNNb2R1bGUgZnJvbSAnZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvaW50ZXJhY3Rpb24tZXZlbnRzJztcblxuaW1wb3J0IERpcmVjdEVkaXRpbmcgZnJvbSAnLi9saWIvRGlyZWN0RWRpdGluZyc7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgX19kZXBlbmRzX186IFtcbiAgICBJbnRlcmFjdGlvbkV2ZW50c01vZHVsZVxuICBdLFxuICBfX2luaXRfXzogWyAnZGlyZWN0RWRpdGluZycgXSxcbiAgZGlyZWN0RWRpdGluZzogWyAndHlwZScsIERpcmVjdEVkaXRpbmcgXVxufTsiLCJpbXBvcnQgQ2FudmFzQ3JlYXRlIGZyb20gJy4vQ2FudmFzQ3JlYXRlJztcbmltcG9ydCBEaXJlY3RFZGl0aW5nTW9kdWxlIGZyb20gJ2RpYWdyYW0tanMtZGlyZWN0LWVkaXRpbmcnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9fZGVwZW5kc19fOiBbXG4gICAgRGlyZWN0RWRpdGluZ01vZHVsZVxuICBdLFxuICBfX2luaXRfXzogWyAnY2FudmFzQ3JlYXRlJyBdLFxuICBjYW52YXNDcmVhdGU6IFsgJ3R5cGUnLCBDYW52YXNDcmVhdGUgXVxufTsiLCJpbXBvcnQge1xuICBnZXRNaWRcbn0gZnJvbSAnLi4vLi4vbGF5b3V0L0xheW91dFV0aWwnO1xuXG5pbXBvcnQge1xuICBpc05pbCxcbiAgaXNPYmplY3Rcbn0gZnJvbSAnbWluLWRhc2gnO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENvbm5lY3QoZXZlbnRCdXMsIGRyYWdnaW5nLCBtb2RlbGluZywgcnVsZXMpIHtcblxuICAvLyBydWxlc1xuXG4gIGZ1bmN0aW9uIGNhbkNvbm5lY3Qoc291cmNlLCB0YXJnZXQpIHtcbiAgICByZXR1cm4gcnVsZXMuYWxsb3dlZCgnY29ubmVjdGlvbi5jcmVhdGUnLCB7XG4gICAgICBzb3VyY2U6IHNvdXJjZSxcbiAgICAgIHRhcmdldDogdGFyZ2V0XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBjYW5Db25uZWN0UmV2ZXJzZShzb3VyY2UsIHRhcmdldCkge1xuICAgIHJldHVybiBjYW5Db25uZWN0KHRhcmdldCwgc291cmNlKTtcbiAgfVxuXG5cbiAgLy8gZXZlbnQgaGFuZGxlcnNcblxuICBldmVudEJ1cy5vbignY29ubmVjdC5ob3ZlcicsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0LFxuICAgICAgICBzdGFydCA9IGNvbnRleHQuc3RhcnQsXG4gICAgICAgIGhvdmVyID0gZXZlbnQuaG92ZXIsXG4gICAgICAgIGNhbkV4ZWN1dGU7XG5cbiAgICAvLyBjYWNoZSBob3ZlciBzdGF0ZVxuICAgIGNvbnRleHQuaG92ZXIgPSBob3ZlcjtcblxuICAgIGNhbkV4ZWN1dGUgPSBjb250ZXh0LmNhbkV4ZWN1dGUgPSBjYW5Db25uZWN0KHN0YXJ0LCBob3Zlcik7XG5cbiAgICAvLyBpZ25vcmUgaG92ZXJcbiAgICBpZiAoaXNOaWwoY2FuRXhlY3V0ZSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoY2FuRXhlY3V0ZSAhPT0gZmFsc2UpIHtcbiAgICAgIGNvbnRleHQuc291cmNlID0gc3RhcnQ7XG4gICAgICBjb250ZXh0LnRhcmdldCA9IGhvdmVyO1xuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY2FuRXhlY3V0ZSA9IGNvbnRleHQuY2FuRXhlY3V0ZSA9IGNhbkNvbm5lY3RSZXZlcnNlKHN0YXJ0LCBob3Zlcik7XG5cbiAgICAvLyBpZ25vcmUgaG92ZXJcbiAgICBpZiAoaXNOaWwoY2FuRXhlY3V0ZSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoY2FuRXhlY3V0ZSAhPT0gZmFsc2UpIHtcbiAgICAgIGNvbnRleHQuc291cmNlID0gaG92ZXI7XG4gICAgICBjb250ZXh0LnRhcmdldCA9IHN0YXJ0O1xuICAgIH1cbiAgfSk7XG5cbiAgZXZlbnRCdXMub24oWyAnY29ubmVjdC5vdXQnLCAnY29ubmVjdC5jbGVhbnVwJyBdLCBmdW5jdGlvbihldmVudCkge1xuICAgIHZhciBjb250ZXh0ID0gZXZlbnQuY29udGV4dDtcblxuICAgIGNvbnRleHQuaG92ZXIgPSBudWxsO1xuICAgIGNvbnRleHQuc291cmNlID0gbnVsbDtcbiAgICBjb250ZXh0LnRhcmdldCA9IG51bGw7XG5cbiAgICBjb250ZXh0LmNhbkV4ZWN1dGUgPSBmYWxzZTtcbiAgfSk7XG5cbiAgZXZlbnRCdXMub24oJ2Nvbm5lY3QuZW5kJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgY29udGV4dCA9IGV2ZW50LmNvbnRleHQsXG4gICAgICAgIGNhbkV4ZWN1dGUgPSBjb250ZXh0LmNhbkV4ZWN1dGUsXG4gICAgICAgIGNvbm5lY3Rpb25TdGFydCA9IGNvbnRleHQuY29ubmVjdGlvblN0YXJ0LFxuICAgICAgICBjb25uZWN0aW9uRW5kID0ge1xuICAgICAgICAgIHg6IGV2ZW50LngsXG4gICAgICAgICAgeTogZXZlbnQueVxuICAgICAgICB9LFxuICAgICAgICBzb3VyY2UgPSBjb250ZXh0LnNvdXJjZSxcbiAgICAgICAgdGFyZ2V0ID0gY29udGV4dC50YXJnZXQ7XG5cbiAgICBpZiAoIWNhbkV4ZWN1dGUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgYXR0cnMgPSBudWxsLFxuICAgICAgICBoaW50cyA9IHtcbiAgICAgICAgICBjb25uZWN0aW9uU3RhcnQ6IGlzUmV2ZXJzZShjb250ZXh0KSA/IGNvbm5lY3Rpb25FbmQgOiBjb25uZWN0aW9uU3RhcnQsXG4gICAgICAgICAgY29ubmVjdGlvbkVuZDogaXNSZXZlcnNlKGNvbnRleHQpID8gY29ubmVjdGlvblN0YXJ0IDogY29ubmVjdGlvbkVuZFxuICAgICAgICB9O1xuXG4gICAgaWYgKGlzT2JqZWN0KGNhbkV4ZWN1dGUpKSB7XG4gICAgICBhdHRycyA9IGNhbkV4ZWN1dGU7XG4gICAgfVxuXG4gICAgbW9kZWxpbmcuY29ubmVjdChzb3VyY2UsIHRhcmdldCwgYXR0cnMsIGhpbnRzKTtcbiAgfSk7XG5cblxuICAvLyBBUElcblxuICAvKipcbiAgICogU3RhcnQgY29ubmVjdCBvcGVyYXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7RE9NRXZlbnR9IGV2ZW50XG4gICAqIEBwYXJhbSB7ZGpzLm1vZGVsLkJhc2V9IHN0YXJ0XG4gICAqIEBwYXJhbSB7UG9pbnR9IFtjb25uZWN0aW9uU3RhcnRdXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2F1dG9BY3RpdmF0ZT1mYWxzZV1cbiAgICovXG4gIHRoaXMuc3RhcnQgPSBmdW5jdGlvbihldmVudCwgc3RhcnQsIGNvbm5lY3Rpb25TdGFydCwgYXV0b0FjdGl2YXRlKSB7XG4gICAgaWYgKCFpc09iamVjdChjb25uZWN0aW9uU3RhcnQpKSB7XG4gICAgICBhdXRvQWN0aXZhdGUgPSBjb25uZWN0aW9uU3RhcnQ7XG4gICAgICBjb25uZWN0aW9uU3RhcnQgPSBnZXRNaWQoc3RhcnQpO1xuICAgIH1cblxuICAgIGRyYWdnaW5nLmluaXQoZXZlbnQsICdjb25uZWN0Jywge1xuICAgICAgYXV0b0FjdGl2YXRlOiBhdXRvQWN0aXZhdGUsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIHNoYXBlOiBzdGFydCxcbiAgICAgICAgY29udGV4dDoge1xuICAgICAgICAgIHN0YXJ0OiBzdGFydCxcbiAgICAgICAgICBjb25uZWN0aW9uU3RhcnQ6IGNvbm5lY3Rpb25TdGFydFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG59XG5cbkNvbm5lY3QuJGluamVjdCA9IFtcbiAgJ2V2ZW50QnVzJyxcbiAgJ2RyYWdnaW5nJyxcbiAgJ21vZGVsaW5nJyxcbiAgJ3J1bGVzJ1xuXTtcblxuXG4vLyBoZWxwZXJzIC8vLy8vLy8vLy9cblxuZXhwb3J0IGZ1bmN0aW9uIGlzUmV2ZXJzZShjb250ZXh0KSB7XG4gIHZhciBob3ZlciA9IGNvbnRleHQuaG92ZXIsXG4gICAgICBzb3VyY2UgPSBjb250ZXh0LnNvdXJjZSxcbiAgICAgIHRhcmdldCA9IGNvbnRleHQudGFyZ2V0O1xuXG4gIHJldHVybiBob3ZlciAmJiBzb3VyY2UgJiYgaG92ZXIgPT09IHNvdXJjZSAmJiBzb3VyY2UgIT09IHRhcmdldDtcbn0iLCJpbXBvcnQgeyBpc1JldmVyc2UgfSBmcm9tICcuL0Nvbm5lY3QnO1xuXG52YXIgSElHSF9QUklPUklUWSA9IDExMDAsXG4gICAgTE9XX1BSSU9SSVRZID0gOTAwO1xuXG52YXIgTUFSS0VSX09LID0gJ2Nvbm5lY3Qtb2snLFxuICAgIE1BUktFUl9OT1RfT0sgPSAnY29ubmVjdC1ub3Qtb2snO1xuXG4vKipcbiAqIFNob3dzIGNvbm5lY3Rpb24gcHJldmlldyBkdXJpbmcgY29ubmVjdC5cbiAqXG4gKiBAcGFyYW0ge2RpZGkuSW5qZWN0b3J9IGluamVjdG9yXG4gKiBAcGFyYW0ge0V2ZW50QnVzfSBldmVudEJ1c1xuICogQHBhcmFtIHtDYW52YXN9IGNhbnZhc1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDb25uZWN0UHJldmlldyhpbmplY3RvciwgZXZlbnRCdXMsIGNhbnZhcykge1xuICB2YXIgY29ubmVjdGlvblByZXZpZXcgPSBpbmplY3Rvci5nZXQoJ2Nvbm5lY3Rpb25QcmV2aWV3JywgZmFsc2UpO1xuXG4gIGNvbm5lY3Rpb25QcmV2aWV3ICYmIGV2ZW50QnVzLm9uKCdjb25uZWN0Lm1vdmUnLCBmdW5jdGlvbihldmVudCkge1xuICAgIHZhciBjb250ZXh0ID0gZXZlbnQuY29udGV4dCxcbiAgICAgICAgY2FuQ29ubmVjdCA9IGNvbnRleHQuY2FuRXhlY3V0ZSxcbiAgICAgICAgaG92ZXIgPSBjb250ZXh0LmhvdmVyLFxuICAgICAgICBzb3VyY2UgPSBjb250ZXh0LnNvdXJjZSxcbiAgICAgICAgc3RhcnQgPSBjb250ZXh0LnN0YXJ0LFxuICAgICAgICBzdGFydFBvc2l0aW9uID0gY29udGV4dC5zdGFydFBvc2l0aW9uLFxuICAgICAgICBjb25uZWN0aW9uU3RhcnQgPSBjb250ZXh0LmNvbm5lY3Rpb25TdGFydCxcbiAgICAgICAgY29ubmVjdGlvbkVuZCA9IGNvbnRleHQuY29ubmVjdGlvbkVuZCxcbiAgICAgICAgdGFyZ2V0ID0gY29udGV4dC50YXJnZXQ7XG5cbiAgICBpZiAoIWNvbm5lY3Rpb25TdGFydCkge1xuICAgICAgY29ubmVjdGlvblN0YXJ0ID0gaXNSZXZlcnNlKGNvbnRleHQpID8ge1xuICAgICAgICB4OiBldmVudC54LFxuICAgICAgICB5OiBldmVudC55XG4gICAgICB9IDogc3RhcnRQb3NpdGlvbjtcbiAgICB9XG5cbiAgICBpZiAoIWNvbm5lY3Rpb25FbmQpIHtcbiAgICAgIGNvbm5lY3Rpb25FbmQgPSBpc1JldmVyc2UoY29udGV4dCkgPyBzdGFydFBvc2l0aW9uIDoge1xuICAgICAgICB4OiBldmVudC54LFxuICAgICAgICB5OiBldmVudC55XG4gICAgICB9O1xuICAgIH1cblxuICAgIGNvbm5lY3Rpb25QcmV2aWV3LmRyYXdQcmV2aWV3KGNvbnRleHQsIGNhbkNvbm5lY3QsIHtcbiAgICAgIHNvdXJjZTogc291cmNlIHx8IHN0YXJ0LFxuICAgICAgdGFyZ2V0OiB0YXJnZXQgfHwgaG92ZXIsXG4gICAgICBjb25uZWN0aW9uU3RhcnQ6IGNvbm5lY3Rpb25TdGFydCxcbiAgICAgIGNvbm5lY3Rpb25FbmQ6IGNvbm5lY3Rpb25FbmRcbiAgICB9KTtcbiAgfSk7XG5cbiAgZXZlbnRCdXMub24oJ2Nvbm5lY3QuaG92ZXInLCBMT1dfUFJJT1JJVFksIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0LFxuICAgICAgICBob3ZlciA9IGV2ZW50LmhvdmVyLFxuICAgICAgICBjYW5FeGVjdXRlID0gY29udGV4dC5jYW5FeGVjdXRlO1xuXG4gICAgLy8gaWdub3JlIGhvdmVyXG4gICAgaWYgKGNhbkV4ZWN1dGUgPT09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjYW52YXMuYWRkTWFya2VyKGhvdmVyLCBjYW5FeGVjdXRlID8gTUFSS0VSX09LIDogTUFSS0VSX05PVF9PSyk7XG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKFtcbiAgICAnY29ubmVjdC5vdXQnLFxuICAgICdjb25uZWN0LmNsZWFudXAnXG4gIF0sIEhJR0hfUFJJT1JJVFksIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIGhvdmVyID0gZXZlbnQuaG92ZXI7XG5cbiAgICBpZiAoaG92ZXIpIHtcbiAgICAgIGNhbnZhcy5yZW1vdmVNYXJrZXIoaG92ZXIsIE1BUktFUl9PSyk7XG4gICAgICBjYW52YXMucmVtb3ZlTWFya2VyKGhvdmVyLCBNQVJLRVJfTk9UX09LKTtcbiAgICB9XG4gIH0pO1xuXG4gIGNvbm5lY3Rpb25QcmV2aWV3ICYmIGV2ZW50QnVzLm9uKCdjb25uZWN0LmNsZWFudXAnLCBmdW5jdGlvbihldmVudCkge1xuICAgIGNvbm5lY3Rpb25QcmV2aWV3LmNsZWFuVXAoZXZlbnQuY29udGV4dCk7XG4gIH0pO1xufVxuXG5Db25uZWN0UHJldmlldy4kaW5qZWN0ID0gW1xuICAnaW5qZWN0b3InLFxuICAnZXZlbnRCdXMnLFxuICAnY2FudmFzJ1xuXTtcbiIsImltcG9ydCBTZWxlY3Rpb25Nb2R1bGUgZnJvbSAnLi4vc2VsZWN0aW9uJztcbmltcG9ydCBSdWxlc01vZHVsZSBmcm9tICcuLi9ydWxlcyc7XG5pbXBvcnQgRHJhZ2dpbmdNb2R1bGUgZnJvbSAnLi4vZHJhZ2dpbmcnO1xuXG5pbXBvcnQgQ29ubmVjdCBmcm9tICcuL0Nvbm5lY3QnO1xuaW1wb3J0IENvbm5lY3RQcmV2aWV3IGZyb20gJy4vQ29ubmVjdFByZXZpZXcnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9fZGVwZW5kc19fOiBbXG4gICAgU2VsZWN0aW9uTW9kdWxlLFxuICAgIFJ1bGVzTW9kdWxlLFxuICAgIERyYWdnaW5nTW9kdWxlXG4gIF0sXG4gIF9faW5pdF9fOiBbXG4gICAgJ2Nvbm5lY3RQcmV2aWV3J1xuICBdLFxuICBjb25uZWN0OiBbICd0eXBlJywgQ29ubmVjdCBdLFxuICBjb25uZWN0UHJldmlldzogWyAndHlwZScsIENvbm5lY3RQcmV2aWV3IF1cbn07XG4iLCJpbXBvcnQge1xuICBhcHBlbmQgYXMgc3ZnQXBwZW5kLFxuICBhdHRyIGFzIHN2Z0F0dHIsXG4gIGNsYXNzZXMgYXMgc3ZnQ2xhc3NlcyxcbiAgY3JlYXRlIGFzIHN2Z0NyZWF0ZSxcbiAgcmVtb3ZlIGFzIHN2Z1JlbW92ZSxcbiAgY2xlYXIgYXMgc3ZnQ2xlYXJcbn0gZnJvbSAndGlueS1zdmcnO1xuXG5pbXBvcnQge1xuICBpc09iamVjdFxufSBmcm9tICdtaW4tZGFzaCc7XG5cbmltcG9ydCB7XG4gIGdldEVsZW1lbnRMaW5lSW50ZXJzZWN0aW9uLFxuICBnZXRNaWRcbn0gZnJvbSAnLi4vLi4vbGF5b3V0L0xheW91dFV0aWwnO1xuXG5cbnZhciBNQVJLRVJfQ09OTkVDVElPTl9QUkVWSUVXID0gJ2Rqcy1jb25uZWN0aW9uLXByZXZpZXcnO1xuXG4vKipcbiAqIERyYXdzIGNvbm5lY3Rpb24gcHJldmlldy4gT3B0aW9uYWxseSwgdGhpcyBjYW4gdXNlIGxheW91dGVyIGFuZCBjb25uZWN0aW9uIGRvY2tpbmcgdG8gZHJhd1xuICogYmV0dGVyIGxvb2tpbmcgcHJldmlld3MuXG4gKlxuICogQHBhcmFtIHtkaWRpLkluamVjdG9yfSBpbmplY3RvclxuICogQHBhcmFtIHtDYW52YXN9IGNhbnZhc1xuICogQHBhcmFtIHtHcmFwaGljc0ZhY3Rvcnl9IGdyYXBoaWNzRmFjdG9yeVxuICogQHBhcmFtIHtFbGVtZW50RmFjdG9yeX0gZWxlbWVudEZhY3RvcnlcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ29ubmVjdGlvblByZXZpZXcoXG4gICAgaW5qZWN0b3IsXG4gICAgY2FudmFzLFxuICAgIGdyYXBoaWNzRmFjdG9yeSxcbiAgICBlbGVtZW50RmFjdG9yeVxuKSB7XG4gIHRoaXMuX2NhbnZhcyA9IGNhbnZhcztcbiAgdGhpcy5fZ3JhcGhpY3NGYWN0b3J5ID0gZ3JhcGhpY3NGYWN0b3J5O1xuICB0aGlzLl9lbGVtZW50RmFjdG9yeSA9IGVsZW1lbnRGYWN0b3J5O1xuXG4gIC8vIG9wdGlvbmFsIGNvbXBvbmVudHNcbiAgdGhpcy5fY29ubmVjdGlvbkRvY2tpbmcgPSBpbmplY3Rvci5nZXQoJ2Nvbm5lY3Rpb25Eb2NraW5nJywgZmFsc2UpO1xuICB0aGlzLl9sYXlvdXRlciA9IGluamVjdG9yLmdldCgnbGF5b3V0ZXInLCBmYWxzZSk7XG59XG5cbkNvbm5lY3Rpb25QcmV2aWV3LiRpbmplY3QgPSBbXG4gICdpbmplY3RvcicsXG4gICdjYW52YXMnLFxuICAnZ3JhcGhpY3NGYWN0b3J5JyxcbiAgJ2VsZW1lbnRGYWN0b3J5J1xuXTtcblxuLyoqXG4gKiBEcmF3IGNvbm5lY3Rpb24gcHJldmlldy5cbiAqXG4gKiBQcm92aWRlIGF0IGxlYXN0IG9uZSBvZiA8c291cmNlLCBjb25uZWN0aW9uU3RhcnQ+IGFuZCA8dGFyZ2V0LCBjb25uZWN0aW9uRW5kPiB0byBjcmVhdGUgYSBwcmV2aWV3LlxuICogSW4gdGhlIGNsZWFuIHVwIHN0YWdlLCBjYWxsIGBjb25uZWN0aW9uUHJldmlldyNjbGVhblVwYCB3aXRoIHRoZSBjb250ZXh0IHRvIHJlbW92ZSBwcmV2aWV3LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb250ZXh0XG4gKiBAcGFyYW0ge09iamVjdHxib29sZWFufSBjYW5Db25uZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gaGludHNcbiAqIEBwYXJhbSB7ZGpzLm1vZGVsLnNoYXBlfSBbaGludHMuc291cmNlXSBzb3VyY2UgZWxlbWVudFxuICogQHBhcmFtIHtkanMubW9kZWwuc2hhcGV9IFtoaW50cy50YXJnZXRdIHRhcmdldCBlbGVtZW50XG4gKiBAcGFyYW0ge1BvaW50fSBbaGludHMuY29ubmVjdGlvblN0YXJ0XSBjb25uZWN0aW9uIHByZXZpZXcgc3RhcnRcbiAqIEBwYXJhbSB7UG9pbnR9IFtoaW50cy5jb25uZWN0aW9uRW5kXSBjb25uZWN0aW9uIHByZXZpZXcgZW5kXG4gKiBAcGFyYW0ge0FycmF5PFBvaW50Pn0gW2hpbnRzLndheXBvaW50c10gcHJvdmlkZWQgd2F5cG9pbnRzIGZvciBwcmV2aWV3XG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtoaW50cy5ub0xheW91dF0gdHJ1ZSBpZiBwcmV2aWV3IHNob3VsZCBub3QgYmUgbGFpZCBvdXRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2hpbnRzLm5vQ3JvcHBpbmddIHRydWUgaWYgcHJldmlldyBzaG91bGQgbm90IGJlIGNyb3BwZWRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2hpbnRzLm5vTm9vcF0gdHJ1ZSBpZiBzaW1wbGUgY29ubmVjdGlvbiBzaG91bGQgbm90IGJlIGRyYXduXG4gKi9cbkNvbm5lY3Rpb25QcmV2aWV3LnByb3RvdHlwZS5kcmF3UHJldmlldyA9IGZ1bmN0aW9uKGNvbnRleHQsIGNhbkNvbm5lY3QsIGhpbnRzKSB7XG5cbiAgaGludHMgPSBoaW50cyB8fCB7fTtcblxuICB2YXIgY29ubmVjdGlvblByZXZpZXdHZnggPSBjb250ZXh0LmNvbm5lY3Rpb25QcmV2aWV3R2Z4LFxuICAgICAgZ2V0Q29ubmVjdGlvbiA9IGNvbnRleHQuZ2V0Q29ubmVjdGlvbixcbiAgICAgIHNvdXJjZSA9IGhpbnRzLnNvdXJjZSxcbiAgICAgIHRhcmdldCA9IGhpbnRzLnRhcmdldCxcbiAgICAgIHdheXBvaW50cyA9IGhpbnRzLndheXBvaW50cyxcbiAgICAgIGNvbm5lY3Rpb25TdGFydCA9IGhpbnRzLmNvbm5lY3Rpb25TdGFydCxcbiAgICAgIGNvbm5lY3Rpb25FbmQgPSBoaW50cy5jb25uZWN0aW9uRW5kLFxuICAgICAgbm9MYXlvdXQgPSBoaW50cy5ub0xheW91dCxcbiAgICAgIG5vQ3JvcHBpbmcgPSBoaW50cy5ub0Nyb3BwaW5nLFxuICAgICAgbm9Ob29wID0gaGludHMubm9Ob29wLFxuICAgICAgY29ubmVjdGlvbjtcblxuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgaWYgKCFjb25uZWN0aW9uUHJldmlld0dmeCkge1xuICAgIGNvbm5lY3Rpb25QcmV2aWV3R2Z4ID0gY29udGV4dC5jb25uZWN0aW9uUHJldmlld0dmeCA9IHRoaXMuY3JlYXRlQ29ubmVjdGlvblByZXZpZXdHZngoKTtcbiAgfVxuXG4gIHN2Z0NsZWFyKGNvbm5lY3Rpb25QcmV2aWV3R2Z4KTtcblxuICBpZiAoIWdldENvbm5lY3Rpb24pIHtcbiAgICBnZXRDb25uZWN0aW9uID0gY29udGV4dC5nZXRDb25uZWN0aW9uID0gY2FjaGVSZXR1cm5WYWx1ZXMoZnVuY3Rpb24oY2FuQ29ubmVjdCwgc291cmNlLCB0YXJnZXQpIHtcbiAgICAgIHJldHVybiBzZWxmLmdldENvbm5lY3Rpb24oY2FuQ29ubmVjdCwgc291cmNlLCB0YXJnZXQpO1xuICAgIH0pO1xuICB9XG5cbiAgaWYgKGNhbkNvbm5lY3QpIHtcbiAgICBjb25uZWN0aW9uID0gZ2V0Q29ubmVjdGlvbihjYW5Db25uZWN0LCBzb3VyY2UsIHRhcmdldCk7XG4gIH1cblxuICBpZiAoIWNvbm5lY3Rpb24pIHtcbiAgICAhbm9Ob29wICYmIHRoaXMuZHJhd05vb3BQcmV2aWV3KGNvbm5lY3Rpb25QcmV2aWV3R2Z4LCBoaW50cyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29ubmVjdGlvbi53YXlwb2ludHMgPSB3YXlwb2ludHMgfHwgW107XG5cbiAgLy8gb3B0aW9uYWwgbGF5b3V0XG4gIGlmICh0aGlzLl9sYXlvdXRlciAmJiAhbm9MYXlvdXQpIHtcbiAgICBjb25uZWN0aW9uLndheXBvaW50cyA9IHRoaXMuX2xheW91dGVyLmxheW91dENvbm5lY3Rpb24oY29ubmVjdGlvbiwge1xuICAgICAgc291cmNlOiBzb3VyY2UsXG4gICAgICB0YXJnZXQ6IHRhcmdldCxcbiAgICAgIGNvbm5lY3Rpb25TdGFydDogY29ubmVjdGlvblN0YXJ0LFxuICAgICAgY29ubmVjdGlvbkVuZDogY29ubmVjdGlvbkVuZCxcbiAgICAgIHdheXBvaW50czogaGludHMud2F5cG9pbnRzIHx8IGNvbm5lY3Rpb24ud2F5cG9pbnRzXG4gICAgfSk7XG4gIH1cblxuICAvLyBmYWxsYmFjayBpZiBubyB3YXlwb2ludHMgd2VyZSBwcm92aWRlZCBub3IgY3JlYXRlZCB3aXRoIGxheW91dGVyXG4gIGlmICghY29ubmVjdGlvbi53YXlwb2ludHMgfHwgIWNvbm5lY3Rpb24ud2F5cG9pbnRzLmxlbmd0aCkge1xuICAgIGNvbm5lY3Rpb24ud2F5cG9pbnRzID0gW1xuICAgICAgc291cmNlID8gZ2V0TWlkKHNvdXJjZSkgOiBjb25uZWN0aW9uU3RhcnQsXG4gICAgICB0YXJnZXQgPyBnZXRNaWQodGFyZ2V0KSA6IGNvbm5lY3Rpb25FbmRcbiAgICBdO1xuICB9XG5cbiAgLy8gb3B0aW9uYWwgY3JvcHBpbmdcbiAgaWYgKHRoaXMuX2Nvbm5lY3Rpb25Eb2NraW5nICYmIChzb3VyY2UgfHwgdGFyZ2V0KSAmJiAhbm9Dcm9wcGluZykge1xuICAgIGNvbm5lY3Rpb24ud2F5cG9pbnRzID0gdGhpcy5fY29ubmVjdGlvbkRvY2tpbmcuZ2V0Q3JvcHBlZFdheXBvaW50cyhjb25uZWN0aW9uLCBzb3VyY2UsIHRhcmdldCk7XG4gIH1cblxuICB0aGlzLl9ncmFwaGljc0ZhY3RvcnkuZHJhd0Nvbm5lY3Rpb24oY29ubmVjdGlvblByZXZpZXdHZngsIGNvbm5lY3Rpb24pO1xufTtcblxuLyoqXG4gKiBEcmF3IHNpbXBsZSBjb25uZWN0aW9uIGJldHdlZW4gc291cmNlIGFuZCB0YXJnZXQgb3IgcHJvdmlkZWQgcG9pbnRzLlxuICpcbiAqIEBwYXJhbSB7U1ZHRWxlbWVudH0gY29ubmVjdGlvblByZXZpZXdHZnggY29udGFpbmVyIGZvciB0aGUgY29ubmVjdGlvblxuICogQHBhcmFtIHtPYmplY3R9IGhpbnRzXG4gKiBAcGFyYW0ge2Rqcy5tb2RlbC5zaGFwZX0gW2hpbnRzLnNvdXJjZV0gc291cmNlIGVsZW1lbnRcbiAqIEBwYXJhbSB7ZGpzLm1vZGVsLnNoYXBlfSBbaGludHMudGFyZ2V0XSB0YXJnZXQgZWxlbWVudFxuICogQHBhcmFtIHtQb2ludH0gW2hpbnRzLmNvbm5lY3Rpb25TdGFydF0gcmVxdWlyZWQgaWYgc291cmNlIGlzIG5vdCBwcm92aWRlZFxuICogQHBhcmFtIHtQb2ludH0gW2hpbnRzLmNvbm5lY3Rpb25FbmRdIHJlcXVpcmVkIGlmIHRhcmdldCBpcyBub3QgcHJvdmlkZWRcbiAqL1xuQ29ubmVjdGlvblByZXZpZXcucHJvdG90eXBlLmRyYXdOb29wUHJldmlldyA9IGZ1bmN0aW9uKGNvbm5lY3Rpb25QcmV2aWV3R2Z4LCBoaW50cykge1xuICB2YXIgc291cmNlID0gaGludHMuc291cmNlLFxuICAgICAgdGFyZ2V0ID0gaGludHMudGFyZ2V0LFxuICAgICAgc3RhcnQgPSBoaW50cy5jb25uZWN0aW9uU3RhcnQgfHwgZ2V0TWlkKHNvdXJjZSksXG4gICAgICBlbmQgPSBoaW50cy5jb25uZWN0aW9uRW5kIHx8IGdldE1pZCh0YXJnZXQpO1xuXG4gIHZhciB3YXlwb2ludHMgPSB0aGlzLmNyb3BXYXlwb2ludHMoc3RhcnQsIGVuZCwgc291cmNlLCB0YXJnZXQpO1xuXG4gIHZhciBjb25uZWN0aW9uID0gdGhpcy5jcmVhdGVOb29wQ29ubmVjdGlvbih3YXlwb2ludHNbMF0sIHdheXBvaW50c1sxXSk7XG5cbiAgc3ZnQXBwZW5kKGNvbm5lY3Rpb25QcmV2aWV3R2Z4LCBjb25uZWN0aW9uKTtcbn07XG5cbi8qKlxuICogUmV0dXJuIGNyb3BwZWQgd2F5cG9pbnRzLlxuICpcbiAqIEBwYXJhbSB7UG9pbnR9IHN0YXJ0XG4gKiBAcGFyYW0ge1BvaW50fSBlbmRcbiAqIEBwYXJhbSB7ZGpzLm1vZGVsLnNoYXBlfSBzb3VyY2VcbiAqIEBwYXJhbSB7ZGpzLm1vZGVsLnNoYXBlfSB0YXJnZXRcbiAqXG4gKiBAcmV0dXJucyB7QXJyYXl9XG4gKi9cbkNvbm5lY3Rpb25QcmV2aWV3LnByb3RvdHlwZS5jcm9wV2F5cG9pbnRzID0gZnVuY3Rpb24oc3RhcnQsIGVuZCwgc291cmNlLCB0YXJnZXQpIHtcbiAgdmFyIGdyYXBoaWNzRmFjdG9yeSA9IHRoaXMuX2dyYXBoaWNzRmFjdG9yeSxcbiAgICAgIHNvdXJjZVBhdGggPSBzb3VyY2UgJiYgZ3JhcGhpY3NGYWN0b3J5LmdldFNoYXBlUGF0aChzb3VyY2UpLFxuICAgICAgdGFyZ2V0UGF0aCA9IHRhcmdldCAmJiBncmFwaGljc0ZhY3RvcnkuZ2V0U2hhcGVQYXRoKHRhcmdldCksXG4gICAgICBjb25uZWN0aW9uUGF0aCA9IGdyYXBoaWNzRmFjdG9yeS5nZXRDb25uZWN0aW9uUGF0aCh7IHdheXBvaW50czogWyBzdGFydCwgZW5kIF0gfSk7XG5cbiAgc3RhcnQgPSAoc291cmNlICYmIGdldEVsZW1lbnRMaW5lSW50ZXJzZWN0aW9uKHNvdXJjZVBhdGgsIGNvbm5lY3Rpb25QYXRoLCB0cnVlKSkgfHwgc3RhcnQ7XG4gIGVuZCA9ICh0YXJnZXQgJiYgZ2V0RWxlbWVudExpbmVJbnRlcnNlY3Rpb24odGFyZ2V0UGF0aCwgY29ubmVjdGlvblBhdGgsIGZhbHNlKSkgfHwgZW5kO1xuXG4gIHJldHVybiBbIHN0YXJ0LCBlbmQgXTtcbn07XG5cbi8qKlxuICogUmVtb3ZlIGNvbm5lY3Rpb24gcHJldmlldyBjb250YWluZXIgaWYgaXQgZXhpc3RzLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBbY29udGV4dF1cbiAqIEBwYXJhbSB7U1ZHRWxlbWVudH0gW2NvbnRleHQuY29ubmVjdGlvblByZXZpZXdHZnhdIHByZXZpZXcgY29udGFpbmVyXG4gKi9cbkNvbm5lY3Rpb25QcmV2aWV3LnByb3RvdHlwZS5jbGVhblVwID0gZnVuY3Rpb24oY29udGV4dCkge1xuICBpZiAoY29udGV4dCAmJiBjb250ZXh0LmNvbm5lY3Rpb25QcmV2aWV3R2Z4KSB7XG4gICAgc3ZnUmVtb3ZlKGNvbnRleHQuY29ubmVjdGlvblByZXZpZXdHZngpO1xuICB9XG59O1xuXG4vKipcbiAqIEdldCBjb25uZWN0aW9uIHRoYXQgY29ubmVjdHMgc291cmNlIGFuZCB0YXJnZXQuXG4gKlxuICogQHBhcmFtIHtPYmplY3R8Ym9vbGVhbn0gY2FuQ29ubmVjdFxuICpcbiAqIEByZXR1cm5zIHtkanMubW9kZWwuY29ubmVjdGlvbn1cbiAqL1xuQ29ubmVjdGlvblByZXZpZXcucHJvdG90eXBlLmdldENvbm5lY3Rpb24gPSBmdW5jdGlvbihjYW5Db25uZWN0KSB7XG4gIHZhciBhdHRycyA9IGVuc3VyZUNvbm5lY3Rpb25BdHRycyhjYW5Db25uZWN0KTtcblxuICByZXR1cm4gdGhpcy5fZWxlbWVudEZhY3RvcnkuY3JlYXRlQ29ubmVjdGlvbihhdHRycyk7XG59O1xuXG5cbi8qKlxuICogQWRkIGFuZCByZXR1cm4gcHJldmlldyBncmFwaGljcy5cbiAqXG4gKiBAcmV0dXJucyB7U1ZHRWxlbWVudH1cbiAqL1xuQ29ubmVjdGlvblByZXZpZXcucHJvdG90eXBlLmNyZWF0ZUNvbm5lY3Rpb25QcmV2aWV3R2Z4ID0gZnVuY3Rpb24oKSB7XG4gIHZhciBnZnggPSBzdmdDcmVhdGUoJ2cnKTtcblxuICBzdmdBdHRyKGdmeCwge1xuICAgIHBvaW50ZXJFdmVudHM6ICdub25lJ1xuICB9KTtcblxuICBzdmdDbGFzc2VzKGdmeCkuYWRkKE1BUktFUl9DT05ORUNUSU9OX1BSRVZJRVcpO1xuXG4gIHN2Z0FwcGVuZCh0aGlzLl9jYW52YXMuZ2V0RGVmYXVsdExheWVyKCksIGdmeCk7XG5cbiAgcmV0dXJuIGdmeDtcbn07XG5cbi8qKlxuICogQ3JlYXRlIGFuZCByZXR1cm4gc2ltcGxlIGNvbm5lY3Rpb24uXG4gKlxuICogQHBhcmFtIHtQb2ludH0gc3RhcnRcbiAqIEBwYXJhbSB7UG9pbnR9IGVuZFxuICpcbiAqIEByZXR1cm5zIHtTVkdFbGVtZW50fVxuICovXG5Db25uZWN0aW9uUHJldmlldy5wcm90b3R5cGUuY3JlYXRlTm9vcENvbm5lY3Rpb24gPSBmdW5jdGlvbihzdGFydCwgZW5kKSB7XG4gIHZhciBjb25uZWN0aW9uID0gc3ZnQ3JlYXRlKCdwb2x5bGluZScpO1xuXG4gIHN2Z0F0dHIoY29ubmVjdGlvbiwge1xuICAgICdzdHJva2UnOiAnIzMzMycsXG4gICAgJ3N0cm9rZURhc2hhcnJheSc6IFsgMSBdLFxuICAgICdzdHJva2VXaWR0aCc6IDIsXG4gICAgJ3BvaW50ZXItZXZlbnRzJzogJ25vbmUnXG4gIH0pO1xuXG4gIHN2Z0F0dHIoY29ubmVjdGlvbiwgeyAncG9pbnRzJzogWyBzdGFydC54LCBzdGFydC55LCBlbmQueCwgZW5kLnkgXSB9KTtcblxuICByZXR1cm4gY29ubmVjdGlvbjtcbn07XG5cbi8vIGhlbHBlcnMgLy8vLy8vLy8vL1xuXG4vKipcbiAqIFJldHVybnMgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGNhY2hlZCByZXR1cm4gdmFsdWVzIHJlZmVyZW5jZWQgYnkgc3RyaW5naWZpZWQgZmlyc3QgYXJndW1lbnQuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAqXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn1cbiAqL1xuZnVuY3Rpb24gY2FjaGVSZXR1cm5WYWx1ZXMoZm4pIHtcbiAgdmFyIHJldHVyblZhbHVlcyA9IHt9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm4gY2FjaGVkIHJldHVybiB2YWx1ZSByZWZlcmVuY2VkIGJ5IHN0cmluZ2lmaWVkIGZpcnN0IGFyZ3VtZW50LlxuICAgKlxuICAgKiBAcmV0dXJucyB7Kn1cbiAgICovXG4gIHJldHVybiBmdW5jdGlvbihmaXJzdEFyZ3VtZW50KSB7XG4gICAgdmFyIGtleSA9IEpTT04uc3RyaW5naWZ5KGZpcnN0QXJndW1lbnQpO1xuXG4gICAgdmFyIHJldHVyblZhbHVlID0gcmV0dXJuVmFsdWVzW2tleV07XG5cbiAgICBpZiAoIXJldHVyblZhbHVlKSB7XG4gICAgICByZXR1cm5WYWx1ZSA9IHJldHVyblZhbHVlc1trZXldID0gZm4uYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmV0dXJuVmFsdWU7XG4gIH07XG59XG5cbi8qKlxuICogRW5zdXJlIGNvbm5lY3Rpb24gYXR0cmlidXRlcyBpcyBvYmplY3QuXG4gKlxuICogQHBhcmFtIHtPYmplY3R8Ym9vbGVhbn0gY2FuQ29ubmVjdFxuICpcbiAqIEByZXR1cm5zIHtPYmplY3R9XG4gKi9cbmZ1bmN0aW9uIGVuc3VyZUNvbm5lY3Rpb25BdHRycyhjYW5Db25uZWN0KSB7XG4gIGlmIChpc09iamVjdChjYW5Db25uZWN0KSkge1xuICAgIHJldHVybiBjYW5Db25uZWN0O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB7fTtcbiAgfVxufVxuIiwiaW1wb3J0IENvbm5lY3Rpb25QcmV2aWV3IGZyb20gJy4vQ29ubmVjdGlvblByZXZpZXcnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9faW5pdF9fOiBbICdjb25uZWN0aW9uUHJldmlldycgXSxcbiAgY29ubmVjdGlvblByZXZpZXc6IFsgJ3R5cGUnLCBDb25uZWN0aW9uUHJldmlldyBdXG59O1xuIiwiaW1wb3J0IHtcbiAgYXNzaWduLFxuICBpc0Z1bmN0aW9uLFxuICBpc0FycmF5LFxuICBmb3JFYWNoLFxuICBpc0RlZmluZWRcbn0gZnJvbSAnbWluLWRhc2gnO1xuXG5pbXBvcnQge1xuICBkZWxlZ2F0ZSBhcyBkb21EZWxlZ2F0ZSxcbiAgZXZlbnQgYXMgZG9tRXZlbnQsXG4gIGF0dHIgYXMgZG9tQXR0cixcbiAgcXVlcnkgYXMgZG9tUXVlcnksXG4gIGNsYXNzZXMgYXMgZG9tQ2xhc3NlcyxcbiAgZG9taWZ5IGFzIGRvbWlmeVxufSBmcm9tICdtaW4tZG9tJztcblxudmFyIGVudHJ5U2VsZWN0b3IgPSAnLmVudHJ5JztcblxudmFyIERFRkFVTFRfUFJJT1JJVFkgPSAxMDAwO1xuXG5cbi8qKlxuICogQSBjb250ZXh0IHBhZCB0aGF0IGRpc3BsYXlzIGVsZW1lbnQgc3BlY2lmaWMsIGNvbnRleHR1YWwgYWN0aW9ucyBuZXh0XG4gKiB0byBhIGRpYWdyYW0gZWxlbWVudC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnXG4gKiBAcGFyYW0ge2Jvb2xlYW58T2JqZWN0fSBbY29uZmlnLnNjYWxlPXsgbWluOiAxLjAsIG1heDogMS41IH1dXG4gKiBAcGFyYW0ge251bWJlcn0gW2NvbmZpZy5zY2FsZS5taW5dXG4gKiBAcGFyYW0ge251bWJlcn0gW2NvbmZpZy5zY2FsZS5tYXhdXG4gKiBAcGFyYW0ge0V2ZW50QnVzfSBldmVudEJ1c1xuICogQHBhcmFtIHtPdmVybGF5c30gb3ZlcmxheXNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ29udGV4dFBhZChjb25maWcsIGV2ZW50QnVzLCBvdmVybGF5cykge1xuXG4gIHRoaXMuX2V2ZW50QnVzID0gZXZlbnRCdXM7XG4gIHRoaXMuX292ZXJsYXlzID0gb3ZlcmxheXM7XG5cbiAgdmFyIHNjYWxlID0gaXNEZWZpbmVkKGNvbmZpZyAmJiBjb25maWcuc2NhbGUpID8gY29uZmlnLnNjYWxlIDoge1xuICAgIG1pbjogMSxcbiAgICBtYXg6IDEuNVxuICB9O1xuXG4gIHRoaXMuX292ZXJsYXlzQ29uZmlnID0ge1xuICAgIHBvc2l0aW9uOiB7XG4gICAgICByaWdodDogLTksXG4gICAgICB0b3A6IC02XG4gICAgfSxcbiAgICBzY2FsZTogc2NhbGVcbiAgfTtcblxuICB0aGlzLl9jdXJyZW50ID0gbnVsbDtcblxuICB0aGlzLl9pbml0KCk7XG59XG5cbkNvbnRleHRQYWQuJGluamVjdCA9IFtcbiAgJ2NvbmZpZy5jb250ZXh0UGFkJyxcbiAgJ2V2ZW50QnVzJyxcbiAgJ292ZXJsYXlzJ1xuXTtcblxuXG4vKipcbiAqIFJlZ2lzdGVycyBldmVudHMgbmVlZGVkIGZvciBpbnRlcmFjdGlvbiB3aXRoIG90aGVyIGNvbXBvbmVudHNcbiAqL1xuQ29udGV4dFBhZC5wcm90b3R5cGUuX2luaXQgPSBmdW5jdGlvbigpIHtcblxuICB2YXIgZXZlbnRCdXMgPSB0aGlzLl9ldmVudEJ1cztcblxuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgZXZlbnRCdXMub24oJ3NlbGVjdGlvbi5jaGFuZ2VkJywgZnVuY3Rpb24oZSkge1xuXG4gICAgdmFyIHNlbGVjdGlvbiA9IGUubmV3U2VsZWN0aW9uO1xuXG4gICAgaWYgKHNlbGVjdGlvbi5sZW5ndGggPT09IDEpIHtcbiAgICAgIHNlbGYub3BlbihzZWxlY3Rpb25bMF0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZWxmLmNsb3NlKCk7XG4gICAgfVxuICB9KTtcblxuICBldmVudEJ1cy5vbignZWxlbWVudHMuZGVsZXRlJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgZWxlbWVudHMgPSBldmVudC5lbGVtZW50cztcblxuICAgIGZvckVhY2goZWxlbWVudHMsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIGlmIChzZWxmLmlzT3BlbihlKSkge1xuICAgICAgICBzZWxmLmNsb3NlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKCdlbGVtZW50LmNoYW5nZWQnLCBmdW5jdGlvbihldmVudCkge1xuICAgIHZhciBlbGVtZW50ID0gZXZlbnQuZWxlbWVudCxcbiAgICAgICAgY3VycmVudCA9IHNlbGYuX2N1cnJlbnQ7XG5cbiAgICAvLyBmb3JjZSByZW9wZW4gaWYgZWxlbWVudCBmb3Igd2hpY2ggd2UgYXJlIGN1cnJlbnRseSBvcGVuZWQgY2hhbmdlZFxuICAgIGlmIChjdXJyZW50ICYmIGN1cnJlbnQuZWxlbWVudCA9PT0gZWxlbWVudCkge1xuICAgICAgc2VsZi5vcGVuKGVsZW1lbnQsIHRydWUpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5cbi8qKlxuICogUmVnaXN0ZXIgYSBwcm92aWRlciB3aXRoIHRoZSBjb250ZXh0IHBhZFxuICpcbiAqIEBwYXJhbSAge251bWJlcn0gW3ByaW9yaXR5PTEwMDBdXG4gKiBAcGFyYW0gIHtDb250ZXh0UGFkUHJvdmlkZXJ9IHByb3ZpZGVyXG4gKlxuICogQGV4YW1wbGVcbiAqIGNvbnN0IGNvbnRleHRQYWRQcm92aWRlciA9IHtcbiAgKiAgIGdldENvbnRleHRQYWRFbnRyaWVzOiBmdW5jdGlvbihlbGVtZW50KSB7XG4gICogICAgIHJldHVybiBmdW5jdGlvbihlbnRyaWVzKSB7XG4gICogICAgICAgcmV0dXJuIHtcbiAgKiAgICAgICAgIC4uLmVudHJpZXMsXG4gICogICAgICAgICAnZW50cnktMSc6IHtcbiAgKiAgICAgICAgICAgbGFiZWw6ICdNeSBFbnRyeScsXG4gICogICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24oKSB7IGFsZXJ0KFwiSSBoYXZlIGJlZW4gY2xpY2tlZCFcIik7IH1cbiAgKiAgICAgICAgIH1cbiAgKiAgICAgICB9O1xuICAqICAgICB9XG4gICogICB9XG4gICogfTtcbiAgKlxuICogY29udGV4dFBhZC5yZWdpc3RlclByb3ZpZGVyKDgwMCwgY29udGV4dFBhZFByb3ZpZGVyKTtcbiAqL1xuQ29udGV4dFBhZC5wcm90b3R5cGUucmVnaXN0ZXJQcm92aWRlciA9IGZ1bmN0aW9uKHByaW9yaXR5LCBwcm92aWRlcikge1xuICBpZiAoIXByb3ZpZGVyKSB7XG4gICAgcHJvdmlkZXIgPSBwcmlvcml0eTtcbiAgICBwcmlvcml0eSA9IERFRkFVTFRfUFJJT1JJVFk7XG4gIH1cblxuICB0aGlzLl9ldmVudEJ1cy5vbignY29udGV4dFBhZC5nZXRQcm92aWRlcnMnLCBwcmlvcml0eSwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBldmVudC5wcm92aWRlcnMucHVzaChwcm92aWRlcik7XG4gIH0pO1xufTtcblxuXG4vKipcbiAqIFJldHVybnMgdGhlIGNvbnRleHQgcGFkIGVudHJpZXMgZm9yIGEgZ2l2ZW4gZWxlbWVudFxuICpcbiAqIEBwYXJhbSB7ZGpzLmVsZW1lbnQuQmFzZX0gZWxlbWVudFxuICpcbiAqIEByZXR1cm4ge0FycmF5PENvbnRleHRQYWRFbnRyeURlc2NyaXB0b3I+fSBsaXN0IG9mIGVudHJpZXNcbiAqL1xuQ29udGV4dFBhZC5wcm90b3R5cGUuZ2V0RW50cmllcyA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgdmFyIHByb3ZpZGVycyA9IHRoaXMuX2dldFByb3ZpZGVycygpO1xuXG4gIHZhciBlbnRyaWVzID0ge307XG5cbiAgLy8gbG9vcCB0aHJvdWdoIGFsbCBwcm92aWRlcnMgYW5kIHRoZWlyIGVudHJpZXMuXG4gIC8vIGdyb3VwIGVudHJpZXMgYnkgaWQgc28gdGhhdCBvdmVycmlkaW5nIGFuIGVudHJ5IGlzIHBvc3NpYmxlXG4gIGZvckVhY2gocHJvdmlkZXJzLCBmdW5jdGlvbihwcm92aWRlcikge1xuICAgIHZhciBlbnRyaWVzT3JVcGRhdGVyID0gcHJvdmlkZXIuZ2V0Q29udGV4dFBhZEVudHJpZXMoZWxlbWVudCk7XG5cbiAgICBpZiAoaXNGdW5jdGlvbihlbnRyaWVzT3JVcGRhdGVyKSkge1xuICAgICAgZW50cmllcyA9IGVudHJpZXNPclVwZGF0ZXIoZW50cmllcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvckVhY2goZW50cmllc09yVXBkYXRlciwgZnVuY3Rpb24oZW50cnksIGlkKSB7XG4gICAgICAgIGVudHJpZXNbaWRdID0gZW50cnk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBlbnRyaWVzO1xufTtcblxuXG4vKipcbiAqIFRyaWdnZXIgYW4gYWN0aW9uIGF2YWlsYWJsZSBvbiB0aGUgb3BlbmVkIGNvbnRleHQgcGFkXG4gKlxuICogQHBhcmFtICB7c3RyaW5nfSBhY3Rpb25cbiAqIEBwYXJhbSAge0V2ZW50fSBldmVudFxuICogQHBhcmFtICB7Ym9vbGVhbn0gW2F1dG9BY3RpdmF0ZT1mYWxzZV1cbiAqL1xuQ29udGV4dFBhZC5wcm90b3R5cGUudHJpZ2dlciA9IGZ1bmN0aW9uKGFjdGlvbiwgZXZlbnQsIGF1dG9BY3RpdmF0ZSkge1xuXG4gIHZhciBlbGVtZW50ID0gdGhpcy5fY3VycmVudC5lbGVtZW50LFxuICAgICAgZW50cmllcyA9IHRoaXMuX2N1cnJlbnQuZW50cmllcyxcbiAgICAgIGVudHJ5LFxuICAgICAgaGFuZGxlcixcbiAgICAgIG9yaWdpbmFsRXZlbnQsXG4gICAgICBidXR0b24gPSBldmVudC5kZWxlZ2F0ZVRhcmdldCB8fCBldmVudC50YXJnZXQ7XG5cbiAgaWYgKCFidXR0b24pIHtcbiAgICByZXR1cm4gZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgfVxuXG4gIGVudHJ5ID0gZW50cmllc1tkb21BdHRyKGJ1dHRvbiwgJ2RhdGEtYWN0aW9uJyldO1xuICBoYW5kbGVyID0gZW50cnkuYWN0aW9uO1xuXG4gIG9yaWdpbmFsRXZlbnQgPSBldmVudC5vcmlnaW5hbEV2ZW50IHx8IGV2ZW50O1xuXG4gIC8vIHNpbXBsZSBhY3Rpb24gKHZpYSBjYWxsYmFjayBmdW5jdGlvbilcbiAgaWYgKGlzRnVuY3Rpb24oaGFuZGxlcikpIHtcbiAgICBpZiAoYWN0aW9uID09PSAnY2xpY2snKSB7XG4gICAgICByZXR1cm4gaGFuZGxlcihvcmlnaW5hbEV2ZW50LCBlbGVtZW50LCBhdXRvQWN0aXZhdGUpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoaGFuZGxlclthY3Rpb25dKSB7XG4gICAgICByZXR1cm4gaGFuZGxlclthY3Rpb25dKG9yaWdpbmFsRXZlbnQsIGVsZW1lbnQsIGF1dG9BY3RpdmF0ZSk7XG4gICAgfVxuICB9XG5cbiAgLy8gc2lsZW5jZSBvdGhlciBhY3Rpb25zXG4gIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG59O1xuXG5cbi8qKlxuICogT3BlbiB0aGUgY29udGV4dCBwYWQgZm9yIHRoZSBnaXZlbiBlbGVtZW50XG4gKlxuICogQHBhcmFtIHtkanMubW9kZWwuQmFzZX0gZWxlbWVudFxuICogQHBhcmFtIHtib29sZWFufSBmb3JjZSBpZiB0cnVlLCBmb3JjZSByZW9wZW5pbmcgdGhlIGNvbnRleHQgcGFkXG4gKi9cbkNvbnRleHRQYWQucHJvdG90eXBlLm9wZW4gPSBmdW5jdGlvbihlbGVtZW50LCBmb3JjZSkge1xuICBpZiAoIWZvcmNlICYmIHRoaXMuaXNPcGVuKGVsZW1lbnQpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdGhpcy5jbG9zZSgpO1xuICB0aGlzLl91cGRhdGVBbmRPcGVuKGVsZW1lbnQpO1xufTtcblxuQ29udGV4dFBhZC5wcm90b3R5cGUuX2dldFByb3ZpZGVycyA9IGZ1bmN0aW9uKCkge1xuXG4gIHZhciBldmVudCA9IHRoaXMuX2V2ZW50QnVzLmNyZWF0ZUV2ZW50KHtcbiAgICB0eXBlOiAnY29udGV4dFBhZC5nZXRQcm92aWRlcnMnLFxuICAgIHByb3ZpZGVyczogW11cbiAgfSk7XG5cbiAgdGhpcy5fZXZlbnRCdXMuZmlyZShldmVudCk7XG5cbiAgcmV0dXJuIGV2ZW50LnByb3ZpZGVycztcbn07XG5cbkNvbnRleHRQYWQucHJvdG90eXBlLl91cGRhdGVBbmRPcGVuID0gZnVuY3Rpb24oZWxlbWVudCkge1xuXG4gIHZhciBlbnRyaWVzID0gdGhpcy5nZXRFbnRyaWVzKGVsZW1lbnQpLFxuICAgICAgcGFkID0gdGhpcy5nZXRQYWQoZWxlbWVudCksXG4gICAgICBodG1sID0gcGFkLmh0bWw7XG5cbiAgZm9yRWFjaChlbnRyaWVzLCBmdW5jdGlvbihlbnRyeSwgaWQpIHtcbiAgICB2YXIgZ3JvdXBpbmcgPSBlbnRyeS5ncm91cCB8fCAnZGVmYXVsdCcsXG4gICAgICAgIGNvbnRyb2wgPSBkb21pZnkoZW50cnkuaHRtbCB8fCAnPGRpdiBjbGFzcz1cImVudHJ5XCIgZHJhZ2dhYmxlPVwidHJ1ZVwiPjwvZGl2PicpLFxuICAgICAgICBjb250YWluZXI7XG5cbiAgICBkb21BdHRyKGNvbnRyb2wsICdkYXRhLWFjdGlvbicsIGlkKTtcblxuICAgIGNvbnRhaW5lciA9IGRvbVF1ZXJ5KCdbZGF0YS1ncm91cD0nICsgZ3JvdXBpbmcgKyAnXScsIGh0bWwpO1xuICAgIGlmICghY29udGFpbmVyKSB7XG4gICAgICBjb250YWluZXIgPSBkb21pZnkoJzxkaXYgY2xhc3M9XCJncm91cFwiIGRhdGEtZ3JvdXA9XCInICsgZ3JvdXBpbmcgKyAnXCI+PC9kaXY+Jyk7XG4gICAgICBodG1sLmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XG4gICAgfVxuXG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGNvbnRyb2wpO1xuXG4gICAgaWYgKGVudHJ5LmNsYXNzTmFtZSkge1xuICAgICAgYWRkQ2xhc3Nlcyhjb250cm9sLCBlbnRyeS5jbGFzc05hbWUpO1xuICAgIH1cblxuICAgIGlmIChlbnRyeS50aXRsZSkge1xuICAgICAgZG9tQXR0cihjb250cm9sLCAndGl0bGUnLCBlbnRyeS50aXRsZSk7XG4gICAgfVxuXG4gICAgaWYgKGVudHJ5LmltYWdlVXJsKSB7XG4gICAgICBjb250cm9sLmFwcGVuZENoaWxkKGRvbWlmeSgnPGltZyBzcmM9XCInICsgZW50cnkuaW1hZ2VVcmwgKyAnXCI+JykpO1xuICAgIH1cbiAgfSk7XG5cbiAgZG9tQ2xhc3NlcyhodG1sKS5hZGQoJ29wZW4nKTtcblxuICB0aGlzLl9jdXJyZW50ID0ge1xuICAgIGVsZW1lbnQ6IGVsZW1lbnQsXG4gICAgcGFkOiBwYWQsXG4gICAgZW50cmllczogZW50cmllc1xuICB9O1xuXG4gIHRoaXMuX2V2ZW50QnVzLmZpcmUoJ2NvbnRleHRQYWQub3BlbicsIHsgY3VycmVudDogdGhpcy5fY3VycmVudCB9KTtcbn07XG5cblxuQ29udGV4dFBhZC5wcm90b3R5cGUuZ2V0UGFkID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICBpZiAodGhpcy5pc09wZW4oKSkge1xuICAgIHJldHVybiB0aGlzLl9jdXJyZW50LnBhZDtcbiAgfVxuXG4gIHZhciBzZWxmID0gdGhpcztcblxuICB2YXIgb3ZlcmxheXMgPSB0aGlzLl9vdmVybGF5cztcblxuICB2YXIgaHRtbCA9IGRvbWlmeSgnPGRpdiBjbGFzcz1cImRqcy1jb250ZXh0LXBhZFwiPjwvZGl2PicpO1xuXG4gIHZhciBvdmVybGF5c0NvbmZpZyA9IGFzc2lnbih7XG4gICAgaHRtbDogaHRtbFxuICB9LCB0aGlzLl9vdmVybGF5c0NvbmZpZyk7XG5cbiAgZG9tRGVsZWdhdGUuYmluZChodG1sLCBlbnRyeVNlbGVjdG9yLCAnY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuICAgIHNlbGYudHJpZ2dlcignY2xpY2snLCBldmVudCk7XG4gIH0pO1xuXG4gIGRvbURlbGVnYXRlLmJpbmQoaHRtbCwgZW50cnlTZWxlY3RvciwgJ2RyYWdzdGFydCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgc2VsZi50cmlnZ2VyKCdkcmFnc3RhcnQnLCBldmVudCk7XG4gIH0pO1xuXG4gIC8vIHN0b3AgcHJvcGFnYXRpb24gb2YgbW91c2UgZXZlbnRzXG4gIGRvbUV2ZW50LmJpbmQoaHRtbCwgJ21vdXNlZG93bicsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gIH0pO1xuXG4gIHRoaXMuX292ZXJsYXlJZCA9IG92ZXJsYXlzLmFkZChlbGVtZW50LCAnY29udGV4dC1wYWQnLCBvdmVybGF5c0NvbmZpZyk7XG5cbiAgdmFyIHBhZCA9IG92ZXJsYXlzLmdldCh0aGlzLl9vdmVybGF5SWQpO1xuXG4gIHRoaXMuX2V2ZW50QnVzLmZpcmUoJ2NvbnRleHRQYWQuY3JlYXRlJywgeyBlbGVtZW50OiBlbGVtZW50LCBwYWQ6IHBhZCB9KTtcblxuICByZXR1cm4gcGFkO1xufTtcblxuXG4vKipcbiAqIENsb3NlIHRoZSBjb250ZXh0IHBhZFxuICovXG5Db250ZXh0UGFkLnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uKCkge1xuICBpZiAoIXRoaXMuaXNPcGVuKCkpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB0aGlzLl9vdmVybGF5cy5yZW1vdmUodGhpcy5fb3ZlcmxheUlkKTtcblxuICB0aGlzLl9vdmVybGF5SWQgPSBudWxsO1xuXG4gIHRoaXMuX2V2ZW50QnVzLmZpcmUoJ2NvbnRleHRQYWQuY2xvc2UnLCB7IGN1cnJlbnQ6IHRoaXMuX2N1cnJlbnQgfSk7XG5cbiAgdGhpcy5fY3VycmVudCA9IG51bGw7XG59O1xuXG4vKipcbiAqIENoZWNrIGlmIHBhZCBpcyBvcGVuLiBJZiBlbGVtZW50IGlzIGdpdmVuLCB3aWxsIGNoZWNrXG4gKiBpZiBwYWQgaXMgb3BlbmVkIHdpdGggZ2l2ZW4gZWxlbWVudC5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbkNvbnRleHRQYWQucHJvdG90eXBlLmlzT3BlbiA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgcmV0dXJuICEhdGhpcy5fY3VycmVudCAmJiAoIWVsZW1lbnQgPyB0cnVlIDogdGhpcy5fY3VycmVudC5lbGVtZW50ID09PSBlbGVtZW50KTtcbn07XG5cblxuXG5cbi8vIGhlbHBlcnMgLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5mdW5jdGlvbiBhZGRDbGFzc2VzKGVsZW1lbnQsIGNsYXNzTmFtZXMpIHtcblxuICB2YXIgY2xhc3NlcyA9IGRvbUNsYXNzZXMoZWxlbWVudCk7XG5cbiAgdmFyIGFjdHVhbENsYXNzTmFtZXMgPSBpc0FycmF5KGNsYXNzTmFtZXMpID8gY2xhc3NOYW1lcyA6IGNsYXNzTmFtZXMuc3BsaXQoL1xccysvZyk7XG4gIGFjdHVhbENsYXNzTmFtZXMuZm9yRWFjaChmdW5jdGlvbihjbHMpIHtcbiAgICBjbGFzc2VzLmFkZChjbHMpO1xuICB9KTtcbn0iLCJpbXBvcnQgSW50ZXJhY3Rpb25FdmVudHNNb2R1bGUgZnJvbSAnLi4vaW50ZXJhY3Rpb24tZXZlbnRzJztcbmltcG9ydCBPdmVybGF5c01vZHVsZSBmcm9tICcuLi9vdmVybGF5cyc7XG5cbmltcG9ydCBDb250ZXh0UGFkIGZyb20gJy4vQ29udGV4dFBhZCc7XG5cblxuZXhwb3J0IGRlZmF1bHQge1xuICBfX2RlcGVuZHNfXzogW1xuICAgIEludGVyYWN0aW9uRXZlbnRzTW9kdWxlLFxuICAgIE92ZXJsYXlzTW9kdWxlXG4gIF0sXG4gIGNvbnRleHRQYWQ6IFsgJ3R5cGUnLCBDb250ZXh0UGFkIF1cbn07IiwiaW1wb3J0IHtcclxuICBmb3JFYWNoXHJcbn0gZnJvbSAnbWluLWRhc2gnO1xyXG5cclxuaW1wb3J0IHtcclxuICBhcHBlbmQgYXMgc3ZnQXBwZW5kLFxyXG4gIGF0dHIgYXMgc3ZnQXR0cixcclxuICBjbGFzc2VzIGFzIHN2Z0NsYXNzZXMsXHJcbiAgY2xvbmUgYXMgc3ZnQ2xvbmUsXHJcbiAgY3JlYXRlIGFzIHN2Z0NyZWF0ZSxcclxuICByZW1vdmUgYXMgc3ZnUmVtb3ZlXHJcbn0gZnJvbSAndGlueS1zdmcnO1xyXG5cclxuaW1wb3J0IHsgcXVlcnkgYXMgZG9tUXVlcnkgfSBmcm9tICdtaW4tZG9tJztcclxuXHJcbmltcG9ydCB7IGdldFZpc3VhbCB9IGZyb20gJy4uLy4uL3V0aWwvR3JhcGhpY3NVdGlsJztcclxuXHJcbnZhciBNQVJLRVJfVFlQRVMgPSBbXHJcbiAgJ21hcmtlci1zdGFydCcsXHJcbiAgJ21hcmtlci1taWQnLFxyXG4gICdtYXJrZXItZW5kJ1xyXG5dO1xyXG5cclxudmFyIE5PREVTX0NBTl9IQVZFX01BUktFUiA9IFtcclxuICAnY2lyY2xlJyxcclxuICAnZWxsaXBzZScsXHJcbiAgJ2xpbmUnLFxyXG4gICdwYXRoJyxcclxuICAncG9seWdvbicsXHJcbiAgJ3BvbHlsaW5lJyxcclxuICAncmVjdCdcclxuXTtcclxuXHJcblxyXG4vKipcclxuICogQWRkcyBzdXBwb3J0IGZvciBwcmV2aWV3cyBvZiBtb3ZpbmcvcmVzaXppbmcgZWxlbWVudHMuXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBQcmV2aWV3U3VwcG9ydChlbGVtZW50UmVnaXN0cnksIGV2ZW50QnVzLCBjYW52YXMsIHN0eWxlcykge1xyXG4gIHRoaXMuX2VsZW1lbnRSZWdpc3RyeSA9IGVsZW1lbnRSZWdpc3RyeTtcclxuICB0aGlzLl9jYW52YXMgPSBjYW52YXM7XHJcbiAgdGhpcy5fc3R5bGVzID0gc3R5bGVzO1xyXG5cclxuICB0aGlzLl9jbG9uZWRNYXJrZXJzID0ge307XHJcblxyXG4gIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgZXZlbnRCdXMub24oJ2RyYWcuY2xlYW51cCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgZm9yRWFjaChzZWxmLl9jbG9uZWRNYXJrZXJzLCBmdW5jdGlvbihjbG9uZWRNYXJrZXIpIHtcclxuICAgICAgc3ZnUmVtb3ZlKGNsb25lZE1hcmtlcik7XHJcbiAgICB9KTtcclxuXHJcbiAgICBzZWxmLl9jbG9uZWRNYXJrZXJzID0ge307XHJcbiAgfSk7XHJcbn1cclxuXHJcblByZXZpZXdTdXBwb3J0LiRpbmplY3QgPSBbXHJcbiAgJ2VsZW1lbnRSZWdpc3RyeScsXHJcbiAgJ2V2ZW50QnVzJyxcclxuICAnY2FudmFzJyxcclxuICAnc3R5bGVzJ1xyXG5dO1xyXG5cclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIGdyYXBoaWNzIG9mIGFuIGVsZW1lbnQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7ZGpzLm1vZGVsLkJhc2V9IGVsZW1lbnRcclxuICpcclxuICogQHJldHVybiB7U1ZHRWxlbWVudH1cclxuICovXHJcblByZXZpZXdTdXBwb3J0LnByb3RvdHlwZS5nZXRHZnggPSBmdW5jdGlvbihlbGVtZW50KSB7XHJcbiAgcmV0dXJuIHRoaXMuX2VsZW1lbnRSZWdpc3RyeS5nZXRHcmFwaGljcyhlbGVtZW50KTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBBZGRzIGEgbW92ZSBwcmV2aWV3IG9mIGEgZ2l2ZW4gc2hhcGUgdG8gYSBnaXZlbiBzdmcgZ3JvdXAuXHJcbiAqXHJcbiAqIEBwYXJhbSB7ZGpzLm1vZGVsLkJhc2V9IGVsZW1lbnRcclxuICogQHBhcmFtIHtTVkdFbGVtZW50fSBncm91cFxyXG4gKiBAcGFyYW0ge1NWR0VsZW1lbnR9IFtnZnhdXHJcbiAqXHJcbiAqIEByZXR1cm4ge1NWR0VsZW1lbnR9IGRyYWdnZXJcclxuICovXHJcblByZXZpZXdTdXBwb3J0LnByb3RvdHlwZS5hZGREcmFnZ2VyID0gZnVuY3Rpb24oZWxlbWVudCwgZ3JvdXAsIGdmeCkge1xyXG4gIGdmeCA9IGdmeCB8fCB0aGlzLmdldEdmeChlbGVtZW50KTtcclxuXHJcbiAgdmFyIGRyYWdnZXIgPSBzdmdDbG9uZShnZngpO1xyXG4gIHZhciBiYm94ID0gZ2Z4LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG5cclxuICB0aGlzLl9jbG9uZU1hcmtlcnMoZ2V0VmlzdWFsKGRyYWdnZXIpKTtcclxuXHJcbiAgc3ZnQXR0cihkcmFnZ2VyLCB0aGlzLl9zdHlsZXMuY2xzKCdkanMtZHJhZ2dlcicsIFtdLCB7XHJcbiAgICB4OiBiYm94LnRvcCxcclxuICAgIHk6IGJib3gubGVmdFxyXG4gIH0pKTtcclxuXHJcbiAgc3ZnQXBwZW5kKGdyb3VwLCBkcmFnZ2VyKTtcclxuXHJcbiAgcmV0dXJuIGRyYWdnZXI7XHJcbn07XHJcblxyXG4vKipcclxuICogQWRkcyBhIHJlc2l6ZSBwcmV2aWV3IG9mIGEgZ2l2ZW4gc2hhcGUgdG8gYSBnaXZlbiBzdmcgZ3JvdXAuXHJcbiAqXHJcbiAqIEBwYXJhbSB7ZGpzLm1vZGVsLkJhc2V9IGVsZW1lbnRcclxuICogQHBhcmFtIHtTVkdFbGVtZW50fSBncm91cFxyXG4gKlxyXG4gKiBAcmV0dXJuIHtTVkdFbGVtZW50fSBmcmFtZVxyXG4gKi9cclxuUHJldmlld1N1cHBvcnQucHJvdG90eXBlLmFkZEZyYW1lID0gZnVuY3Rpb24oc2hhcGUsIGdyb3VwKSB7XHJcblxyXG4gIHZhciBmcmFtZSA9IHN2Z0NyZWF0ZSgncmVjdCcsIHtcclxuICAgIGNsYXNzOiAnZGpzLXJlc2l6ZS1vdmVybGF5JyxcclxuICAgIHdpZHRoOiAgc2hhcGUud2lkdGgsXHJcbiAgICBoZWlnaHQ6IHNoYXBlLmhlaWdodCxcclxuICAgIHg6IHNoYXBlLngsXHJcbiAgICB5OiBzaGFwZS55XHJcbiAgfSk7XHJcblxyXG4gIHN2Z0FwcGVuZChncm91cCwgZnJhbWUpO1xyXG5cclxuICByZXR1cm4gZnJhbWU7XHJcbn07XHJcblxyXG4vKipcclxuICogQ2xvbmUgYWxsIG1hcmtlcnMgcmVmZXJlbmNlZCBieSBhIG5vZGUgYW5kIGl0cyBjaGlsZCBub2Rlcy5cclxuICpcclxuICogQHBhcmFtIHtTVkdFbGVtZW50fSBnZnhcclxuICovXHJcblByZXZpZXdTdXBwb3J0LnByb3RvdHlwZS5fY2xvbmVNYXJrZXJzID0gZnVuY3Rpb24oZ2Z4KSB7XHJcbiAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICBpZiAoZ2Z4LmNoaWxkTm9kZXMpIHtcclxuXHJcbiAgICAvLyBUT0RPOiB1c2UgZm9yRWFjaCBvbmNlIHdlIGRyb3AgUGhhbnRvbUpTXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdmeC5jaGlsZE5vZGVzLmxlbmd0aDsgaSsrKSB7XHJcblxyXG4gICAgICAvLyByZWN1cnNpdmVseSBjbG9uZSBtYXJrZXJzIG9mIGNoaWxkIG5vZGVzXHJcbiAgICAgIHNlbGYuX2Nsb25lTWFya2VycyhnZnguY2hpbGROb2Rlc1sgaSBdKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGlmICghY2FuSGF2ZU1hcmtlcihnZngpKSB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICBNQVJLRVJfVFlQRVMuZm9yRWFjaChmdW5jdGlvbihtYXJrZXJUeXBlKSB7XHJcbiAgICBpZiAoc3ZnQXR0cihnZngsIG1hcmtlclR5cGUpKSB7XHJcbiAgICAgIHZhciBtYXJrZXIgPSBnZXRNYXJrZXIoZ2Z4LCBtYXJrZXJUeXBlLCBzZWxmLl9jYW52YXMuZ2V0Q29udGFpbmVyKCkpO1xyXG5cclxuICAgICAgc2VsZi5fY2xvbmVNYXJrZXIoZ2Z4LCBtYXJrZXIsIG1hcmtlclR5cGUpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIENsb25lIG1hcmtlciByZWZlcmVuY2VkIGJ5IGFuIGVsZW1lbnQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7U1ZHRWxlbWVudH0gZ2Z4XHJcbiAqIEBwYXJhbSB7U1ZHRWxlbWVudH0gbWFya2VyXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBtYXJrZXJUeXBlXHJcbiAqL1xyXG5QcmV2aWV3U3VwcG9ydC5wcm90b3R5cGUuX2Nsb25lTWFya2VyID0gZnVuY3Rpb24oZ2Z4LCBtYXJrZXIsIG1hcmtlclR5cGUpIHtcclxuICB2YXIgbWFya2VySWQgPSBtYXJrZXIuaWQ7XHJcblxyXG4gIHZhciBjbG9uZWRNYXJrZXIgPSB0aGlzLl9jbG9uZWRNYXJrZXJzWyBtYXJrZXJJZCBdO1xyXG5cclxuICBpZiAoIWNsb25lZE1hcmtlcikge1xyXG4gICAgY2xvbmVkTWFya2VyID0gc3ZnQ2xvbmUobWFya2VyKTtcclxuXHJcbiAgICB2YXIgY2xvbmVkTWFya2VySWQgPSBtYXJrZXJJZCArICctY2xvbmUnO1xyXG5cclxuICAgIGNsb25lZE1hcmtlci5pZCA9IGNsb25lZE1hcmtlcklkO1xyXG5cclxuICAgIHN2Z0NsYXNzZXMoY2xvbmVkTWFya2VyKVxyXG4gICAgICAuYWRkKCdkanMtZHJhZ2dlcicpXHJcbiAgICAgIC5hZGQoJ2Rqcy1kcmFnZ2VyLW1hcmtlcicpO1xyXG5cclxuICAgIHRoaXMuX2Nsb25lZE1hcmtlcnNbIG1hcmtlcklkIF0gPSBjbG9uZWRNYXJrZXI7XHJcblxyXG4gICAgdmFyIGRlZnMgPSBkb21RdWVyeSgnZGVmcycsIHRoaXMuX2NhbnZhcy5fc3ZnKTtcclxuXHJcbiAgICBpZiAoIWRlZnMpIHtcclxuICAgICAgZGVmcyA9IHN2Z0NyZWF0ZSgnZGVmcycpO1xyXG5cclxuICAgICAgc3ZnQXBwZW5kKHRoaXMuX2NhbnZhcy5fc3ZnLCBkZWZzKTtcclxuICAgIH1cclxuXHJcbiAgICBzdmdBcHBlbmQoZGVmcywgY2xvbmVkTWFya2VyKTtcclxuICB9XHJcblxyXG4gIHZhciByZWZlcmVuY2UgPSBpZFRvUmVmZXJlbmNlKHRoaXMuX2Nsb25lZE1hcmtlcnNbIG1hcmtlcklkIF0uaWQpO1xyXG5cclxuICBzdmdBdHRyKGdmeCwgbWFya2VyVHlwZSwgcmVmZXJlbmNlKTtcclxufTtcclxuXHJcbi8vIGhlbHBlcnMgLy8vLy8vLy8vL1xyXG5cclxuLyoqXHJcbiAqIEdldCBtYXJrZXIgb2YgZ2l2ZW4gdHlwZSByZWZlcmVuY2VkIGJ5IG5vZGUuXHJcbiAqXHJcbiAqIEBwYXJhbSB7Tm9kZX0gbm9kZVxyXG4gKiBAcGFyYW0ge3N0cmluZ30gbWFya2VyVHlwZVxyXG4gKiBAcGFyYW0ge05vZGV9IFtwYXJlbnROb2RlXVxyXG4gKlxyXG4gKiBAcGFyYW0ge05vZGV9XHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRNYXJrZXIobm9kZSwgbWFya2VyVHlwZSwgcGFyZW50Tm9kZSkge1xyXG4gIHZhciBpZCA9IHJlZmVyZW5jZVRvSWQoc3ZnQXR0cihub2RlLCBtYXJrZXJUeXBlKSk7XHJcblxyXG4gIHJldHVybiBkb21RdWVyeSgnbWFya2VyIycgKyBpZCwgcGFyZW50Tm9kZSB8fCBkb2N1bWVudCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHZXQgSUQgb2YgZnJhZ21lbnQgd2l0aGluIGN1cnJlbnQgZG9jdW1lbnQgZnJvbSBpdHMgZnVuY3Rpb25hbCBJUkkgcmVmZXJlbmNlLlxyXG4gKiBSZWZlcmVuY2VzIG1heSB1c2Ugc2luZ2xlIG9yIGRvdWJsZSBxdW90ZXMuXHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSByZWZlcmVuY2VcclxuICpcclxuICogQHJldHVybnMge3N0cmluZ31cclxuICovXHJcbmZ1bmN0aW9uIHJlZmVyZW5jZVRvSWQocmVmZXJlbmNlKSB7XHJcbiAgcmV0dXJuIHJlZmVyZW5jZS5tYXRjaCgvdXJsXFwoWydcIl0/IyhbXidcIl0qKVsnXCJdP1xcKS8pWzFdO1xyXG59XHJcblxyXG4vKipcclxuICogR2V0IGZ1bmN0aW9uYWwgSVJJIHJlZmVyZW5jZSBmb3IgZ2l2ZW4gSUQgb2YgZnJhZ21lbnQgd2l0aGluIGN1cnJlbnQgZG9jdW1lbnQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBpZFxyXG4gKlxyXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gKi9cclxuZnVuY3Rpb24gaWRUb1JlZmVyZW5jZShpZCkge1xyXG4gIHJldHVybiAndXJsKCMnICsgaWQgKyAnKSc7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDaGVjayB3ZXRoZXIgbm9kZSB0eXBlIGNhbiBoYXZlIG1hcmtlciBhdHRyaWJ1dGVzLlxyXG4gKlxyXG4gKiBAcGFyYW0ge05vZGV9IG5vZGVcclxuICpcclxuICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAqL1xyXG5mdW5jdGlvbiBjYW5IYXZlTWFya2VyKG5vZGUpIHtcclxuICByZXR1cm4gTk9ERVNfQ0FOX0hBVkVfTUFSS0VSLmluZGV4T2Yobm9kZS5ub2RlTmFtZSkgIT09IC0xO1xyXG59IiwiaW1wb3J0IFByZXZpZXdTdXBwb3J0IGZyb20gJy4vUHJldmlld1N1cHBvcnQnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9faW5pdF9fOiBbICdwcmV2aWV3U3VwcG9ydCcgXSxcbiAgcHJldmlld1N1cHBvcnQ6IFsgJ3R5cGUnLCBQcmV2aWV3U3VwcG9ydCBdXG59O1xuIiwidmFyIE1BUktFUl9PSyA9ICdkcm9wLW9rJyxcbiAgICBNQVJLRVJfTk9UX09LID0gJ2Ryb3Atbm90LW9rJyxcbiAgICBNQVJLRVJfQVRUQUNIID0gJ2F0dGFjaC1vaycsXG4gICAgTUFSS0VSX05FV19QQVJFTlQgPSAnbmV3LXBhcmVudCc7XG5cbmltcG9ydCB7XG4gIGFzc2lnbixcbiAgZmlsdGVyLFxuICBmaW5kLFxuICBmb3JFYWNoLFxuICBpc0FycmF5LFxuICBpc051bWJlcixcbiAgbWFwXG59IGZyb20gJ21pbi1kYXNoJztcblxuaW1wb3J0IHsgZ2V0QkJveCB9IGZyb20gJy4uLy4uL3V0aWwvRWxlbWVudHMnO1xuXG52YXIgUFJFRklYID0gJ2NyZWF0ZSc7XG5cbnZhciBISUdIX1BSSU9SSVRZID0gMjAwMDtcblxuXG4vKipcbiAqIENyZWF0ZSBuZXcgZWxlbWVudHMgdGhyb3VnaCBkcmFnIGFuZCBkcm9wLlxuICpcbiAqIEBwYXJhbSB7Q2FudmFzfSBjYW52YXNcbiAqIEBwYXJhbSB7RHJhZ2dpbmd9IGRyYWdnaW5nXG4gKiBAcGFyYW0ge0V2ZW50QnVzfSBldmVudEJ1c1xuICogQHBhcmFtIHtNb2RlbGluZ30gbW9kZWxpbmdcbiAqIEBwYXJhbSB7UnVsZXN9IHJ1bGVzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENyZWF0ZShcbiAgICBjYW52YXMsXG4gICAgZHJhZ2dpbmcsXG4gICAgZXZlbnRCdXMsXG4gICAgbW9kZWxpbmcsXG4gICAgcnVsZXNcbikge1xuXG4gIC8vIHJ1bGVzIC8vLy8vLy8vLy9cblxuICAvKipcbiAgICogQ2hlY2sgd2V0aGVyIGVsZW1lbnRzIGNhbiBiZSBjcmVhdGVkLlxuICAgKlxuICAgKiBAcGFyYW0ge0FycmF5PGRqcy5tb2RlbC5CYXNlPn0gZWxlbWVudHNcbiAgICogQHBhcmFtIHtkanMubW9kZWwuQmFzZX0gdGFyZ2V0XG4gICAqIEBwYXJhbSB7UG9pbnR9IHBvc2l0aW9uXG4gICAqIEBwYXJhbSB7ZGpzLm1vZGVsLkJhc2V9IFtzb3VyY2VdXG4gICAqXG4gICAqIEByZXR1cm5zIHtib29sZWFufG51bGx8T2JqZWN0fVxuICAgKi9cbiAgZnVuY3Rpb24gY2FuQ3JlYXRlKGVsZW1lbnRzLCB0YXJnZXQsIHBvc2l0aW9uLCBzb3VyY2UsIGhpbnRzKSB7XG4gICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBpZ25vcmUgY2hpbGQgZWxlbWVudHMgYW5kIGV4dGVybmFsIGxhYmVsc1xuICAgIGVsZW1lbnRzID0gZmlsdGVyKGVsZW1lbnRzLCBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICB2YXIgbGFiZWxUYXJnZXQgPSBlbGVtZW50LmxhYmVsVGFyZ2V0O1xuXG4gICAgICByZXR1cm4gIWVsZW1lbnQucGFyZW50ICYmICEoaXNMYWJlbChlbGVtZW50KSAmJiBlbGVtZW50cy5pbmRleE9mKGxhYmVsVGFyZ2V0KSAhPT0gLTEpO1xuICAgIH0pO1xuXG4gICAgdmFyIHNoYXBlID0gZmluZChlbGVtZW50cywgZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgcmV0dXJuICFpc0Nvbm5lY3Rpb24oZWxlbWVudCk7XG4gICAgfSk7XG5cbiAgICB2YXIgYXR0YWNoID0gZmFsc2UsXG4gICAgICAgIGNvbm5lY3QgPSBmYWxzZSxcbiAgICAgICAgY3JlYXRlID0gZmFsc2U7XG5cbiAgICAvLyAoMSkgYXR0YWNoaW5nIHNpbmdsZSBzaGFwZXNcbiAgICBpZiAoaXNTaW5nbGVTaGFwZShlbGVtZW50cykpIHtcbiAgICAgIGF0dGFjaCA9IHJ1bGVzLmFsbG93ZWQoJ3NoYXBlLmF0dGFjaCcsIHtcbiAgICAgICAgcG9zaXRpb246IHBvc2l0aW9uLFxuICAgICAgICBzaGFwZTogc2hhcGUsXG4gICAgICAgIHRhcmdldDogdGFyZ2V0XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoIWF0dGFjaCkge1xuXG4gICAgICAvLyAoMikgY3JlYXRpbmcgZWxlbWVudHNcbiAgICAgIGlmIChpc1NpbmdsZVNoYXBlKGVsZW1lbnRzKSkge1xuICAgICAgICBjcmVhdGUgPSBydWxlcy5hbGxvd2VkKCdzaGFwZS5jcmVhdGUnLCB7XG4gICAgICAgICAgcG9zaXRpb246IHBvc2l0aW9uLFxuICAgICAgICAgIHNoYXBlOiBzaGFwZSxcbiAgICAgICAgICBzb3VyY2U6IHNvdXJjZSxcbiAgICAgICAgICB0YXJnZXQ6IHRhcmdldFxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNyZWF0ZSA9IHJ1bGVzLmFsbG93ZWQoJ2VsZW1lbnRzLmNyZWF0ZScsIHtcbiAgICAgICAgICBlbGVtZW50czogZWxlbWVudHMsXG4gICAgICAgICAgcG9zaXRpb246IHBvc2l0aW9uLFxuICAgICAgICAgIHRhcmdldDogdGFyZ2V0XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgfVxuXG4gICAgdmFyIGNvbm5lY3Rpb25UYXJnZXQgPSBoaW50cy5jb25uZWN0aW9uVGFyZ2V0O1xuXG4gICAgLy8gKDMpIGFwcGVuZGluZyBzaW5nbGUgc2hhcGVzXG4gICAgaWYgKGNyZWF0ZSB8fCBhdHRhY2gpIHtcbiAgICAgIGlmIChzaGFwZSAmJiBzb3VyY2UpIHtcbiAgICAgICAgY29ubmVjdCA9IHJ1bGVzLmFsbG93ZWQoJ2Nvbm5lY3Rpb24uY3JlYXRlJywge1xuICAgICAgICAgIHNvdXJjZTogY29ubmVjdGlvblRhcmdldCA9PT0gc291cmNlID8gc2hhcGUgOiBzb3VyY2UsXG4gICAgICAgICAgdGFyZ2V0OiBjb25uZWN0aW9uVGFyZ2V0ID09PSBzb3VyY2UgPyBzb3VyY2UgOiBzaGFwZSxcbiAgICAgICAgICBoaW50czoge1xuICAgICAgICAgICAgdGFyZ2V0UGFyZW50OiB0YXJnZXQsXG4gICAgICAgICAgICB0YXJnZXRBdHRhY2g6IGF0dGFjaFxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGF0dGFjaDogYXR0YWNoLFxuICAgICAgICBjb25uZWN0OiBjb25uZWN0XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8vIGlnbm9yZSB3ZXRoZXIgb3Igbm90IGVsZW1lbnRzIGNhbiBiZSBjcmVhdGVkXG4gICAgaWYgKGNyZWF0ZSA9PT0gbnVsbCB8fCBhdHRhY2ggPT09IG51bGwpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldE1hcmtlcihlbGVtZW50LCBtYXJrZXIpIHtcbiAgICBbIE1BUktFUl9BVFRBQ0gsIE1BUktFUl9PSywgTUFSS0VSX05PVF9PSywgTUFSS0VSX05FV19QQVJFTlQgXS5mb3JFYWNoKGZ1bmN0aW9uKG0pIHtcblxuICAgICAgaWYgKG0gPT09IG1hcmtlcikge1xuICAgICAgICBjYW52YXMuYWRkTWFya2VyKGVsZW1lbnQsIG0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FudmFzLnJlbW92ZU1hcmtlcihlbGVtZW50LCBtKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8vIGV2ZW50IGhhbmRsaW5nIC8vLy8vLy8vLy9cblxuICBldmVudEJ1cy5vbihbICdjcmVhdGUubW92ZScsICdjcmVhdGUuaG92ZXInIF0sIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0LFxuICAgICAgICBlbGVtZW50cyA9IGNvbnRleHQuZWxlbWVudHMsXG4gICAgICAgIGhvdmVyID0gZXZlbnQuaG92ZXIsXG4gICAgICAgIHNvdXJjZSA9IGNvbnRleHQuc291cmNlLFxuICAgICAgICBoaW50cyA9IGNvbnRleHQuaGludHMgfHwge307XG5cbiAgICBpZiAoIWhvdmVyKSB7XG4gICAgICBjb250ZXh0LmNhbkV4ZWN1dGUgPSBmYWxzZTtcbiAgICAgIGNvbnRleHQudGFyZ2V0ID0gbnVsbDtcblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGVuc3VyZUNvbnN0cmFpbnRzKGV2ZW50KTtcblxuICAgIHZhciBwb3NpdGlvbiA9IHtcbiAgICAgIHg6IGV2ZW50LngsXG4gICAgICB5OiBldmVudC55XG4gICAgfTtcblxuICAgIHZhciBjYW5FeGVjdXRlID0gY29udGV4dC5jYW5FeGVjdXRlID0gaG92ZXIgJiYgY2FuQ3JlYXRlKGVsZW1lbnRzLCBob3ZlciwgcG9zaXRpb24sIHNvdXJjZSwgaGludHMpO1xuXG4gICAgaWYgKGhvdmVyICYmIGNhbkV4ZWN1dGUgIT09IG51bGwpIHtcbiAgICAgIGNvbnRleHQudGFyZ2V0ID0gaG92ZXI7XG5cbiAgICAgIGlmIChjYW5FeGVjdXRlICYmIGNhbkV4ZWN1dGUuYXR0YWNoKSB7XG4gICAgICAgIHNldE1hcmtlcihob3ZlciwgTUFSS0VSX0FUVEFDSCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZXRNYXJrZXIoaG92ZXIsIGNhbkV4ZWN1dGUgPyBNQVJLRVJfTkVXX1BBUkVOVCA6IE1BUktFUl9OT1RfT0spO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgZXZlbnRCdXMub24oWyAnY3JlYXRlLmVuZCcsICdjcmVhdGUub3V0JywgJ2NyZWF0ZS5jbGVhbnVwJyBdLCBmdW5jdGlvbihldmVudCkge1xuICAgIHZhciBob3ZlciA9IGV2ZW50LmhvdmVyO1xuXG4gICAgaWYgKGhvdmVyKSB7XG4gICAgICBzZXRNYXJrZXIoaG92ZXIsIG51bGwpO1xuICAgIH1cbiAgfSk7XG5cbiAgZXZlbnRCdXMub24oJ2NyZWF0ZS5lbmQnLCBmdW5jdGlvbihldmVudCkge1xuICAgIHZhciBjb250ZXh0ID0gZXZlbnQuY29udGV4dCxcbiAgICAgICAgc291cmNlID0gY29udGV4dC5zb3VyY2UsXG4gICAgICAgIHNoYXBlID0gY29udGV4dC5zaGFwZSxcbiAgICAgICAgZWxlbWVudHMgPSBjb250ZXh0LmVsZW1lbnRzLFxuICAgICAgICB0YXJnZXQgPSBjb250ZXh0LnRhcmdldCxcbiAgICAgICAgY2FuRXhlY3V0ZSA9IGNvbnRleHQuY2FuRXhlY3V0ZSxcbiAgICAgICAgYXR0YWNoID0gY2FuRXhlY3V0ZSAmJiBjYW5FeGVjdXRlLmF0dGFjaCxcbiAgICAgICAgY29ubmVjdCA9IGNhbkV4ZWN1dGUgJiYgY2FuRXhlY3V0ZS5jb25uZWN0LFxuICAgICAgICBoaW50cyA9IGNvbnRleHQuaGludHMgfHwge307XG5cbiAgICBpZiAoY2FuRXhlY3V0ZSA9PT0gZmFsc2UgfHwgIXRhcmdldCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGVuc3VyZUNvbnN0cmFpbnRzKGV2ZW50KTtcblxuICAgIHZhciBwb3NpdGlvbiA9IHtcbiAgICAgIHg6IGV2ZW50LngsXG4gICAgICB5OiBldmVudC55XG4gICAgfTtcblxuICAgIGlmIChjb25uZWN0KSB7XG4gICAgICBzaGFwZSA9IG1vZGVsaW5nLmFwcGVuZFNoYXBlKHNvdXJjZSwgc2hhcGUsIHBvc2l0aW9uLCB0YXJnZXQsIHtcbiAgICAgICAgYXR0YWNoOiBhdHRhY2gsXG4gICAgICAgIGNvbm5lY3Rpb246IGNvbm5lY3QgPT09IHRydWUgPyB7fSA6IGNvbm5lY3QsXG4gICAgICAgIGNvbm5lY3Rpb25UYXJnZXQ6IGhpbnRzLmNvbm5lY3Rpb25UYXJnZXRcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbGVtZW50cyA9IG1vZGVsaW5nLmNyZWF0ZUVsZW1lbnRzKGVsZW1lbnRzLCBwb3NpdGlvbiwgdGFyZ2V0LCBhc3NpZ24oe30sIGhpbnRzLCB7XG4gICAgICAgIGF0dGFjaDogYXR0YWNoXG4gICAgICB9KSk7XG5cbiAgICAgIC8vIHVwZGF0ZSBzaGFwZVxuICAgICAgc2hhcGUgPSBmaW5kKGVsZW1lbnRzLCBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICAgIHJldHVybiAhaXNDb25uZWN0aW9uKGVsZW1lbnQpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gdXBkYXRlIGVsZW1lbnRzIGFuZCBzaGFwZVxuICAgIGFzc2lnbihjb250ZXh0LCB7XG4gICAgICBlbGVtZW50czogZWxlbWVudHMsXG4gICAgICBzaGFwZTogc2hhcGVcbiAgICB9KTtcblxuICAgIGFzc2lnbihldmVudCwge1xuICAgICAgZWxlbWVudHM6IGVsZW1lbnRzLFxuICAgICAgc2hhcGU6IHNoYXBlXG4gICAgfSk7XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIGNhbmNlbCgpIHtcbiAgICB2YXIgY29udGV4dCA9IGRyYWdnaW5nLmNvbnRleHQoKTtcblxuICAgIGlmIChjb250ZXh0ICYmIGNvbnRleHQucHJlZml4ID09PSBQUkVGSVgpIHtcbiAgICAgIGRyYWdnaW5nLmNhbmNlbCgpO1xuICAgIH1cbiAgfVxuXG4gIC8vIGNhbmNlbCBvbiA8ZWxlbWVudHMuY2hhbmdlZD4gdGhhdCBpcyBub3QgcmVzdWx0IG9mIDxkcmFnLmVuZD5cbiAgZXZlbnRCdXMub24oJ2NyZWF0ZS5pbml0JywgZnVuY3Rpb24oKSB7XG4gICAgZXZlbnRCdXMub24oJ2VsZW1lbnRzLmNoYW5nZWQnLCBjYW5jZWwpO1xuXG4gICAgZXZlbnRCdXMub25jZShbICdjcmVhdGUuY2FuY2VsJywgJ2NyZWF0ZS5lbmQnIF0sIEhJR0hfUFJJT1JJVFksIGZ1bmN0aW9uKCkge1xuICAgICAgZXZlbnRCdXMub2ZmKCdlbGVtZW50cy5jaGFuZ2VkJywgY2FuY2VsKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gQVBJIC8vLy8vLy8vLy9cblxuICB0aGlzLnN0YXJ0ID0gZnVuY3Rpb24oZXZlbnQsIGVsZW1lbnRzLCBjb250ZXh0KSB7XG4gICAgaWYgKCFpc0FycmF5KGVsZW1lbnRzKSkge1xuICAgICAgZWxlbWVudHMgPSBbIGVsZW1lbnRzIF07XG4gICAgfVxuXG4gICAgdmFyIHNoYXBlID0gZmluZChlbGVtZW50cywgZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgcmV0dXJuICFpc0Nvbm5lY3Rpb24oZWxlbWVudCk7XG4gICAgfSk7XG5cbiAgICBpZiAoIXNoYXBlKSB7XG5cbiAgICAgIC8vIGF0IGxlYXN0IG9uZSBzaGFwZSBpcyByZXF1aXJlZFxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnRleHQgPSBhc3NpZ24oe1xuICAgICAgZWxlbWVudHM6IGVsZW1lbnRzLFxuICAgICAgaGludHM6IHt9LFxuICAgICAgc2hhcGU6IHNoYXBlXG4gICAgfSwgY29udGV4dCB8fCB7fSk7XG5cbiAgICAvLyBtYWtlIHN1cmUgZWFjaCBlbGVtZW50IGhhcyB4IGFuZCB5XG4gICAgZm9yRWFjaChlbGVtZW50cywgZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgaWYgKCFpc051bWJlcihlbGVtZW50LngpKSB7XG4gICAgICAgIGVsZW1lbnQueCA9IDA7XG4gICAgICB9XG5cbiAgICAgIGlmICghaXNOdW1iZXIoZWxlbWVudC55KSkge1xuICAgICAgICBlbGVtZW50LnkgPSAwO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdmFyIGJib3ggPSBnZXRCQm94KGVsZW1lbnRzKTtcblxuICAgIC8vIGNlbnRlciBlbGVtZW50cyBhcm91bmQgY3Vyc29yXG4gICAgZm9yRWFjaChlbGVtZW50cywgZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgaWYgKGlzQ29ubmVjdGlvbihlbGVtZW50KSkge1xuICAgICAgICBlbGVtZW50LndheXBvaW50cyA9IG1hcChlbGVtZW50LndheXBvaW50cywgZnVuY3Rpb24od2F5cG9pbnQpIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogd2F5cG9pbnQueCAtIGJib3gueCAtIGJib3gud2lkdGggLyAyLFxuICAgICAgICAgICAgeTogd2F5cG9pbnQueSAtIGJib3gueSAtIGJib3guaGVpZ2h0IC8gMlxuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBhc3NpZ24oZWxlbWVudCwge1xuICAgICAgICB4OiBlbGVtZW50LnggLSBiYm94LnggLSBiYm94LndpZHRoIC8gMixcbiAgICAgICAgeTogZWxlbWVudC55IC0gYmJveC55IC0gYmJveC5oZWlnaHQgLyAyXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGRyYWdnaW5nLmluaXQoZXZlbnQsIFBSRUZJWCwge1xuICAgICAgY3Vyc29yOiAnZ3JhYmJpbmcnLFxuICAgICAgYXV0b0FjdGl2YXRlOiB0cnVlLFxuICAgICAgZGF0YToge1xuICAgICAgICBzaGFwZTogc2hhcGUsXG4gICAgICAgIGVsZW1lbnRzOiBlbGVtZW50cyxcbiAgICAgICAgY29udGV4dDogY29udGV4dFxuICAgICAgfVxuICAgIH0pO1xuICB9O1xufVxuXG5DcmVhdGUuJGluamVjdCA9IFtcbiAgJ2NhbnZhcycsXG4gICdkcmFnZ2luZycsXG4gICdldmVudEJ1cycsXG4gICdtb2RlbGluZycsXG4gICdydWxlcydcbl07XG5cbi8vIGhlbHBlcnMgLy8vLy8vLy8vL1xuXG5mdW5jdGlvbiBlbnN1cmVDb25zdHJhaW50cyhldmVudCkge1xuICB2YXIgY29udGV4dCA9IGV2ZW50LmNvbnRleHQsXG4gICAgICBjcmVhdGVDb25zdHJhaW50cyA9IGNvbnRleHQuY3JlYXRlQ29uc3RyYWludHM7XG5cbiAgaWYgKCFjcmVhdGVDb25zdHJhaW50cykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChjcmVhdGVDb25zdHJhaW50cy5sZWZ0KSB7XG4gICAgZXZlbnQueCA9IE1hdGgubWF4KGV2ZW50LngsIGNyZWF0ZUNvbnN0cmFpbnRzLmxlZnQpO1xuICB9XG5cbiAgaWYgKGNyZWF0ZUNvbnN0cmFpbnRzLnJpZ2h0KSB7XG4gICAgZXZlbnQueCA9IE1hdGgubWluKGV2ZW50LngsIGNyZWF0ZUNvbnN0cmFpbnRzLnJpZ2h0KTtcbiAgfVxuXG4gIGlmIChjcmVhdGVDb25zdHJhaW50cy50b3ApIHtcbiAgICBldmVudC55ID0gTWF0aC5tYXgoZXZlbnQueSwgY3JlYXRlQ29uc3RyYWludHMudG9wKTtcbiAgfVxuXG4gIGlmIChjcmVhdGVDb25zdHJhaW50cy5ib3R0b20pIHtcbiAgICBldmVudC55ID0gTWF0aC5taW4oZXZlbnQueSwgY3JlYXRlQ29uc3RyYWludHMuYm90dG9tKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpc0Nvbm5lY3Rpb24oZWxlbWVudCkge1xuICByZXR1cm4gISFlbGVtZW50LndheXBvaW50cztcbn1cblxuZnVuY3Rpb24gaXNTaW5nbGVTaGFwZShlbGVtZW50cykge1xuICByZXR1cm4gZWxlbWVudHMgJiYgZWxlbWVudHMubGVuZ3RoID09PSAxICYmICFpc0Nvbm5lY3Rpb24oZWxlbWVudHNbMF0pO1xufVxuXG5mdW5jdGlvbiBpc0xhYmVsKGVsZW1lbnQpIHtcbiAgcmV0dXJuICEhZWxlbWVudC5sYWJlbFRhcmdldDtcbn1cbiIsImltcG9ydCB7XHJcbiAgdHJhbnNsYXRlXHJcbn0gZnJvbSAnLi4vLi4vdXRpbC9TdmdUcmFuc2Zvcm1VdGlsJztcclxuXHJcbmltcG9ydCB7IGdldFZpc3VhbCB9IGZyb20gJy4uLy4uL3V0aWwvR3JhcGhpY3NVdGlsJztcclxuXHJcbmltcG9ydCB7XHJcbiAgYXBwZW5kIGFzIHN2Z0FwcGVuZCxcclxuICBhdHRyIGFzIHN2Z0F0dHIsXHJcbiAgY3JlYXRlIGFzIHN2Z0NyZWF0ZSxcclxuICByZW1vdmUgYXMgc3ZnUmVtb3ZlXHJcbn0gZnJvbSAndGlueS1zdmcnO1xyXG5cclxudmFyIExPV19QUklPUklUWSA9IDc1MDtcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDcmVhdGVQcmV2aWV3KFxyXG4gICAgY2FudmFzLFxyXG4gICAgZXZlbnRCdXMsXHJcbiAgICBncmFwaGljc0ZhY3RvcnksXHJcbiAgICBwcmV2aWV3U3VwcG9ydCxcclxuICAgIHN0eWxlc1xyXG4pIHtcclxuICBmdW5jdGlvbiBjcmVhdGVEcmFnR3JvdXAoZWxlbWVudHMpIHtcclxuICAgIHZhciBkcmFnR3JvdXAgPSBzdmdDcmVhdGUoJ2cnKTtcclxuXHJcbiAgICBzdmdBdHRyKGRyYWdHcm91cCwgc3R5bGVzLmNscygnZGpzLWRyYWctZ3JvdXAnLCBbICduby1ldmVudHMnIF0pKTtcclxuXHJcbiAgICB2YXIgY2hpbGRyZW5HZnggPSBzdmdDcmVhdGUoJ2cnKTtcclxuXHJcbiAgICBlbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpIHtcclxuXHJcbiAgICAgIC8vIGNyZWF0ZSBncmFwaGljc1xyXG4gICAgICB2YXIgZ2Z4O1xyXG5cclxuICAgICAgaWYgKGVsZW1lbnQuaGlkZGVuKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoZWxlbWVudC53YXlwb2ludHMpIHtcclxuICAgICAgICBnZnggPSBncmFwaGljc0ZhY3RvcnkuX2NyZWF0ZUNvbnRhaW5lcignY29ubmVjdGlvbicsIGNoaWxkcmVuR2Z4KTtcclxuXHJcbiAgICAgICAgZ3JhcGhpY3NGYWN0b3J5LmRyYXdDb25uZWN0aW9uKGdldFZpc3VhbChnZngpLCBlbGVtZW50KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBnZnggPSBncmFwaGljc0ZhY3RvcnkuX2NyZWF0ZUNvbnRhaW5lcignc2hhcGUnLCBjaGlsZHJlbkdmeCk7XHJcblxyXG4gICAgICAgIGdyYXBoaWNzRmFjdG9yeS5kcmF3U2hhcGUoZ2V0VmlzdWFsKGdmeCksIGVsZW1lbnQpO1xyXG5cclxuICAgICAgICB0cmFuc2xhdGUoZ2Z4LCBlbGVtZW50LngsIGVsZW1lbnQueSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIGFkZCBwcmV2aWV3XHJcbiAgICAgIHByZXZpZXdTdXBwb3J0LmFkZERyYWdnZXIoZWxlbWVudCwgZHJhZ0dyb3VwLCBnZngpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIGRyYWdHcm91cDtcclxuICB9XHJcblxyXG4gIGV2ZW50QnVzLm9uKCdjcmVhdGUubW92ZScsIExPV19QUklPUklUWSwgZnVuY3Rpb24oZXZlbnQpIHtcclxuXHJcbiAgICB2YXIgaG92ZXIgPSBldmVudC5ob3ZlcixcclxuICAgICAgICBjb250ZXh0ID0gZXZlbnQuY29udGV4dCxcclxuICAgICAgICBlbGVtZW50cyA9IGNvbnRleHQuZWxlbWVudHMsXHJcbiAgICAgICAgZHJhZ0dyb3VwID0gY29udGV4dC5kcmFnR3JvdXA7XHJcblxyXG4gICAgLy8gbGF6aWx5IGNyZWF0ZSBwcmV2aWV3c1xyXG4gICAgaWYgKCFkcmFnR3JvdXApIHtcclxuICAgICAgZHJhZ0dyb3VwID0gY29udGV4dC5kcmFnR3JvdXAgPSBjcmVhdGVEcmFnR3JvdXAoZWxlbWVudHMpO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBkZWZhdWx0TGF5ZXI7XHJcblxyXG4gICAgaWYgKGhvdmVyKSB7XHJcbiAgICAgIGlmICghZHJhZ0dyb3VwLnBhcmVudE5vZGUpIHtcclxuICAgICAgICBkZWZhdWx0TGF5ZXIgPSBjYW52YXMuZ2V0RGVmYXVsdExheWVyKCk7XHJcblxyXG4gICAgICAgIHN2Z0FwcGVuZChkZWZhdWx0TGF5ZXIsIGRyYWdHcm91cCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRyYW5zbGF0ZShkcmFnR3JvdXAsIGV2ZW50LngsIGV2ZW50LnkpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgc3ZnUmVtb3ZlKGRyYWdHcm91cCk7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIGV2ZW50QnVzLm9uKCdjcmVhdGUuY2xlYW51cCcsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICB2YXIgY29udGV4dCA9IGV2ZW50LmNvbnRleHQsXHJcbiAgICAgICAgZHJhZ0dyb3VwID0gY29udGV4dC5kcmFnR3JvdXA7XHJcblxyXG4gICAgaWYgKGRyYWdHcm91cCkge1xyXG4gICAgICBzdmdSZW1vdmUoZHJhZ0dyb3VwKTtcclxuICAgIH1cclxuICB9KTtcclxufVxyXG5cclxuQ3JlYXRlUHJldmlldy4kaW5qZWN0ID0gW1xyXG4gICdjYW52YXMnLFxyXG4gICdldmVudEJ1cycsXHJcbiAgJ2dyYXBoaWNzRmFjdG9yeScsXHJcbiAgJ3ByZXZpZXdTdXBwb3J0JyxcclxuICAnc3R5bGVzJ1xyXG5dO1xyXG4iLCJpbXBvcnQgRHJhZ2dpbmdNb2R1bGUgZnJvbSAnLi4vZHJhZ2dpbmcnO1xuaW1wb3J0IFByZXZpZXdTdXBwb3J0TW9kdWxlIGZyb20gJy4uL3ByZXZpZXctc3VwcG9ydCc7XG5pbXBvcnQgUnVsZXNNb2R1bGUgZnJvbSAnLi4vcnVsZXMnO1xuaW1wb3J0IFNlbGVjdGlvbk1vZHVsZSBmcm9tICcuLi9zZWxlY3Rpb24nO1xuXG5pbXBvcnQgQ3JlYXRlIGZyb20gJy4vQ3JlYXRlJztcbmltcG9ydCBDcmVhdGVQcmV2aWV3IGZyb20gJy4vQ3JlYXRlUHJldmlldyc7XG5cblxuZXhwb3J0IGRlZmF1bHQge1xuICBfX2RlcGVuZHNfXzogW1xuICAgIERyYWdnaW5nTW9kdWxlLFxuICAgIFByZXZpZXdTdXBwb3J0TW9kdWxlLFxuICAgIFJ1bGVzTW9kdWxlLFxuICAgIFNlbGVjdGlvbk1vZHVsZVxuICBdLFxuICBfX2luaXRfXzogW1xuICAgICdjcmVhdGUnLFxuICAgICdjcmVhdGVQcmV2aWV3J1xuICBdLFxuICBjcmVhdGU6IFsgJ3R5cGUnLCBDcmVhdGUgXSxcbiAgY3JlYXRlUHJldmlldzogWyAndHlwZScsIENyZWF0ZVByZXZpZXcgXVxufTtcbiIsImltcG9ydCB7XG4gIGFzc2lnbixcbiAgZm9yRWFjaCxcbiAgaXNGdW5jdGlvbixcbiAgaXNEZWZpbmVkLFxuICBvbWl0LFxuICBzaXplXG59IGZyb20gJ21pbi1kYXNoJztcblxuaW1wb3J0IHtcbiAgZGVsZWdhdGUgYXMgZG9tRGVsZWdhdGUsXG4gIGRvbWlmeSBhcyBkb21pZnksXG4gIGNsYXNzZXMgYXMgZG9tQ2xhc3NlcyxcbiAgYXR0ciBhcyBkb21BdHRyLFxuICByZW1vdmUgYXMgZG9tUmVtb3ZlXG59IGZyb20gJ21pbi1kb20nO1xuXG52YXIgREFUQV9SRUYgPSAnZGF0YS1pZCc7XG5cbnZhciBDTE9TRV9FVkVOVFMgPSBbXG4gICdjb250ZXh0UGFkLmNsb3NlJyxcbiAgJ2NhbnZhcy52aWV3Ym94LmNoYW5naW5nJyxcbiAgJ2NvbW1hbmRTdGFjay5jaGFuZ2VkJ1xuXTtcblxudmFyIERFRkFVTFRfUFJJT1JJVFkgPSAxMDAwO1xuXG5cbi8qKlxuICogQSBwb3B1cCBtZW51IHRoYXQgY2FuIGJlIHVzZWQgdG8gZGlzcGxheSBhIGxpc3Qgb2YgYWN0aW9ucyBhbnl3aGVyZSBpbiB0aGUgY2FudmFzLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWdcbiAqIEBwYXJhbSB7Ym9vbGVhbnxPYmplY3R9IFtjb25maWcuc2NhbGU9eyBtaW46IDEuMCwgbWF4OiAxLjUgfV1cbiAqIEBwYXJhbSB7bnVtYmVyfSBbY29uZmlnLnNjYWxlLm1pbl1cbiAqIEBwYXJhbSB7bnVtYmVyfSBbY29uZmlnLnNjYWxlLm1heF1cbiAqIEBwYXJhbSB7RXZlbnRCdXN9IGV2ZW50QnVzXG4gKiBAcGFyYW0ge0NhbnZhc30gY2FudmFzXG4gKlxuICogQGNsYXNzXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUG9wdXBNZW51KGNvbmZpZywgZXZlbnRCdXMsIGNhbnZhcykge1xuXG4gIHZhciBzY2FsZSA9IGlzRGVmaW5lZChjb25maWcgJiYgY29uZmlnLnNjYWxlKSA/IGNvbmZpZy5zY2FsZSA6IHtcbiAgICBtaW46IDEsXG4gICAgbWF4OiAxLjVcbiAgfTtcblxuICB0aGlzLl9jb25maWcgPSB7XG4gICAgc2NhbGU6IHNjYWxlXG4gIH07XG5cbiAgdGhpcy5fZXZlbnRCdXMgPSBldmVudEJ1cztcbiAgdGhpcy5fY2FudmFzID0gY2FudmFzO1xuICB0aGlzLl9wcm92aWRlcnMgPSB7fTtcbiAgdGhpcy5fY3VycmVudCA9IHt9O1xufVxuXG5Qb3B1cE1lbnUuJGluamVjdCA9IFtcbiAgJ2NvbmZpZy5wb3B1cE1lbnUnLFxuICAnZXZlbnRCdXMnLFxuICAnY2FudmFzJ1xuXTtcblxuLyoqXG4gKiBSZWdpc3RlcnMgYSBwb3B1cCBtZW51IHByb3ZpZGVyXG4gKlxuICogQHBhcmFtICB7c3RyaW5nfSBpZFxuICogQHBhcmFtIHtudW1iZXJ9IFtwcmlvcml0eT0xMDAwXVxuICogQHBhcmFtICB7T2JqZWN0fSBwcm92aWRlclxuICpcbiAqIEBleGFtcGxlXG4gKiBjb25zdCBwb3B1cE1lbnVQcm92aWRlciA9IHtcbiAqICAgZ2V0UG9wdXBNZW51RW50cmllczogZnVuY3Rpb24oZWxlbWVudCkge1xuICogICAgIHJldHVybiB7XG4gKiAgICAgICAnZW50cnktMSc6IHtcbiAqICAgICAgICAgbGFiZWw6ICdNeSBFbnRyeScsXG4gKiAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24oKSB7IGFsZXJ0KFwiSSBoYXZlIGJlZW4gY2xpY2tlZCFcIik7IH1cbiAqICAgICAgIH1cbiAqICAgICB9XG4gKiAgIH1cbiAqIH07XG4gKlxuICogcG9wdXBNZW51LnJlZ2lzdGVyUHJvdmlkZXIoJ215TWVudUlEJywgcG9wdXBNZW51UHJvdmlkZXIpO1xuICovXG5Qb3B1cE1lbnUucHJvdG90eXBlLnJlZ2lzdGVyUHJvdmlkZXIgPSBmdW5jdGlvbihpZCwgcHJpb3JpdHksIHByb3ZpZGVyKSB7XG4gIGlmICghcHJvdmlkZXIpIHtcbiAgICBwcm92aWRlciA9IHByaW9yaXR5O1xuICAgIHByaW9yaXR5ID0gREVGQVVMVF9QUklPUklUWTtcbiAgfVxuXG4gIHRoaXMuX2V2ZW50QnVzLm9uKCdwb3B1cE1lbnUuZ2V0UHJvdmlkZXJzLicgKyBpZCwgcHJpb3JpdHksIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgZXZlbnQucHJvdmlkZXJzLnB1c2gocHJvdmlkZXIpO1xuICB9KTtcbn07XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIHRoZSBwb3B1cCBtZW51IGhhcyBlbnRyaWVzLlxuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59IHRydWUgaWYgZW1wdHlcbiAqL1xuUG9wdXBNZW51LnByb3RvdHlwZS5pc0VtcHR5ID0gZnVuY3Rpb24oZWxlbWVudCwgcHJvdmlkZXJJZCkge1xuICBpZiAoIWVsZW1lbnQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2VsZW1lbnQgcGFyYW1ldGVyIGlzIG1pc3NpbmcnKTtcbiAgfVxuXG4gIGlmICghcHJvdmlkZXJJZCkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvdmlkZXJJZCBwYXJhbWV0ZXIgaXMgbWlzc2luZycpO1xuICB9XG5cbiAgdmFyIHByb3ZpZGVycyA9IHRoaXMuX2dldFByb3ZpZGVycyhwcm92aWRlcklkKTtcblxuICBpZiAoIXByb3ZpZGVycykge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgdmFyIGVudHJpZXMgPSB0aGlzLl9nZXRFbnRyaWVzKGVsZW1lbnQsIHByb3ZpZGVycyksXG4gICAgICBoZWFkZXJFbnRyaWVzID0gdGhpcy5fZ2V0SGVhZGVyRW50cmllcyhlbGVtZW50LCBwcm92aWRlcnMpO1xuXG4gIHZhciBoYXNFbnRyaWVzID0gc2l6ZShlbnRyaWVzKSA+IDAsXG4gICAgICBoYXNIZWFkZXJFbnRyaWVzID0gaGVhZGVyRW50cmllcyAmJiBzaXplKGhlYWRlckVudHJpZXMpID4gMDtcblxuICByZXR1cm4gIWhhc0VudHJpZXMgJiYgIWhhc0hlYWRlckVudHJpZXM7XG59O1xuXG5cbi8qKlxuICogQ3JlYXRlIGVudHJpZXMgYW5kIG9wZW4gcG9wdXAgbWVudSBhdCBnaXZlbiBwb3NpdGlvblxuICpcbiAqIEBwYXJhbSAge09iamVjdH0gZWxlbWVudFxuICogQHBhcmFtICB7c3RyaW5nfSBpZCBwcm92aWRlciBpZFxuICogQHBhcmFtICB7T2JqZWN0fSBwb3NpdGlvblxuICpcbiAqIEByZXR1cm4ge09iamVjdH0gcG9wdXAgbWVudSBpbnN0YW5jZVxuICovXG5Qb3B1cE1lbnUucHJvdG90eXBlLm9wZW4gPSBmdW5jdGlvbihlbGVtZW50LCBpZCwgcG9zaXRpb24pIHtcblxuICB2YXIgcHJvdmlkZXJzID0gdGhpcy5fZ2V0UHJvdmlkZXJzKGlkKTtcblxuICBpZiAoIWVsZW1lbnQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0VsZW1lbnQgaXMgbWlzc2luZycpO1xuICB9XG5cbiAgaWYgKCFwcm92aWRlcnMgfHwgIXByb3ZpZGVycy5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHJlZ2lzdGVyZWQgcHJvdmlkZXJzIGZvcjogJyArIGlkKTtcbiAgfVxuXG4gIGlmICghcG9zaXRpb24pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3RoZSBwb3NpdGlvbiBhcmd1bWVudCBpcyBtaXNzaW5nJyk7XG4gIH1cblxuICBpZiAodGhpcy5pc09wZW4oKSkge1xuICAgIHRoaXMuY2xvc2UoKTtcbiAgfVxuXG4gIHRoaXMuX2VtaXQoJ29wZW4nKTtcblxuICB2YXIgY3VycmVudCA9IHRoaXMuX2N1cnJlbnQgPSB7XG4gICAgY2xhc3NOYW1lOiBpZCxcbiAgICBlbGVtZW50OiBlbGVtZW50LFxuICAgIHBvc2l0aW9uOiBwb3NpdGlvblxuICB9O1xuXG4gIHZhciBlbnRyaWVzID0gdGhpcy5fZ2V0RW50cmllcyhlbGVtZW50LCBwcm92aWRlcnMpLFxuICAgICAgaGVhZGVyRW50cmllcyA9IHRoaXMuX2dldEhlYWRlckVudHJpZXMoZWxlbWVudCwgcHJvdmlkZXJzKTtcblxuICBjdXJyZW50LmVudHJpZXMgPSBhc3NpZ24oe30sIGVudHJpZXMsIGhlYWRlckVudHJpZXMpO1xuXG4gIGN1cnJlbnQuY29udGFpbmVyID0gdGhpcy5fY3JlYXRlQ29udGFpbmVyKCk7XG5cbiAgaWYgKHNpemUoaGVhZGVyRW50cmllcykpIHtcbiAgICBjdXJyZW50LmNvbnRhaW5lci5hcHBlbmRDaGlsZChcbiAgICAgIHRoaXMuX2NyZWF0ZUVudHJpZXMoaGVhZGVyRW50cmllcywgJ2Rqcy1wb3B1cC1oZWFkZXInKVxuICAgICk7XG4gIH1cblxuICBpZiAoc2l6ZShlbnRyaWVzKSkge1xuICAgIGN1cnJlbnQuY29udGFpbmVyLmFwcGVuZENoaWxkKFxuICAgICAgdGhpcy5fY3JlYXRlRW50cmllcyhlbnRyaWVzLCAnZGpzLXBvcHVwLWJvZHknKVxuICAgICk7XG4gIH1cblxuICB2YXIgY2FudmFzID0gdGhpcy5fY2FudmFzLFxuICAgICAgcGFyZW50ID0gY2FudmFzLmdldENvbnRhaW5lcigpO1xuXG4gIHRoaXMuX2F0dGFjaENvbnRhaW5lcihjdXJyZW50LmNvbnRhaW5lciwgcGFyZW50LCBwb3NpdGlvbi5jdXJzb3IpO1xuICB0aGlzLl9iaW5kQXV0b0Nsb3NlKCk7XG59O1xuXG5cbi8qKlxuICogUmVtb3ZlcyB0aGUgcG9wdXAgbWVudSBhbmQgdW5iaW5kcyB0aGUgZXZlbnQgaGFuZGxlcnMuXG4gKi9cblBvcHVwTWVudS5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbigpIHtcblxuICBpZiAoIXRoaXMuaXNPcGVuKCkpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB0aGlzLl9lbWl0KCdjbG9zZScpO1xuXG4gIHRoaXMuX3VuYmluZEF1dG9DbG9zZSgpO1xuICBkb21SZW1vdmUodGhpcy5fY3VycmVudC5jb250YWluZXIpO1xuICB0aGlzLl9jdXJyZW50LmNvbnRhaW5lciA9IG51bGw7XG59O1xuXG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGFuIG9wZW4gcG9wdXAgbWVudSBleGlzdC5cbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufSB0cnVlIGlmIG9wZW5cbiAqL1xuUG9wdXBNZW51LnByb3RvdHlwZS5pc09wZW4gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuICEhdGhpcy5fY3VycmVudC5jb250YWluZXI7XG59O1xuXG5cbi8qKlxuICogVHJpZ2dlciBhbiBhY3Rpb24gYXNzb2NpYXRlZCB3aXRoIGFuIGVudHJ5LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBldmVudFxuICpcbiAqIEByZXR1cm4gdGhlIHJlc3VsdCBvZiB0aGUgYWN0aW9uIGNhbGxiYWNrLCBpZiBhbnlcbiAqL1xuUG9wdXBNZW51LnByb3RvdHlwZS50cmlnZ2VyID0gZnVuY3Rpb24oZXZlbnQpIHtcblxuICAvLyBzaWxlbmNlIG90aGVyIGFjdGlvbnNcbiAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICB2YXIgZWxlbWVudCA9IGV2ZW50LmRlbGVnYXRlVGFyZ2V0IHx8IGV2ZW50LnRhcmdldCxcbiAgICAgIGVudHJ5SWQgPSBkb21BdHRyKGVsZW1lbnQsIERBVEFfUkVGKTtcblxuICB2YXIgZW50cnkgPSB0aGlzLl9nZXRFbnRyeShlbnRyeUlkKTtcblxuICBpZiAoZW50cnkuYWN0aW9uKSB7XG4gICAgcmV0dXJuIGVudHJ5LmFjdGlvbi5jYWxsKG51bGwsIGV2ZW50LCBlbnRyeSk7XG4gIH1cbn07XG5cblBvcHVwTWVudS5wcm90b3R5cGUuX2dldFByb3ZpZGVycyA9IGZ1bmN0aW9uKGlkKSB7XG5cbiAgdmFyIGV2ZW50ID0gdGhpcy5fZXZlbnRCdXMuY3JlYXRlRXZlbnQoe1xuICAgIHR5cGU6ICdwb3B1cE1lbnUuZ2V0UHJvdmlkZXJzLicgKyBpZCxcbiAgICBwcm92aWRlcnM6IFtdXG4gIH0pO1xuXG4gIHRoaXMuX2V2ZW50QnVzLmZpcmUoZXZlbnQpO1xuXG4gIHJldHVybiBldmVudC5wcm92aWRlcnM7XG59O1xuXG5Qb3B1cE1lbnUucHJvdG90eXBlLl9nZXRFbnRyaWVzID0gZnVuY3Rpb24oZWxlbWVudCwgcHJvdmlkZXJzKSB7XG5cbiAgdmFyIGVudHJpZXMgPSB7fTtcblxuICBmb3JFYWNoKHByb3ZpZGVycywgZnVuY3Rpb24ocHJvdmlkZXIpIHtcblxuICAgIC8vIGhhbmRsZSBsZWdhY3kgbWV0aG9kXG4gICAgaWYgKCFwcm92aWRlci5nZXRQb3B1cE1lbnVFbnRyaWVzKSB7XG4gICAgICBmb3JFYWNoKHByb3ZpZGVyLmdldEVudHJpZXMoZWxlbWVudCksIGZ1bmN0aW9uKGVudHJ5KSB7XG4gICAgICAgIHZhciBpZCA9IGVudHJ5LmlkO1xuXG4gICAgICAgIGlmICghaWQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2V2ZXJ5IGVudHJ5IG11c3QgaGF2ZSB0aGUgaWQgcHJvcGVydHkgc2V0Jyk7XG4gICAgICAgIH1cblxuICAgICAgICBlbnRyaWVzW2lkXSA9IG9taXQoZW50cnksIFsgJ2lkJyBdKTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGVudHJpZXNPclVwZGF0ZXIgPSBwcm92aWRlci5nZXRQb3B1cE1lbnVFbnRyaWVzKGVsZW1lbnQpO1xuXG4gICAgaWYgKGlzRnVuY3Rpb24oZW50cmllc09yVXBkYXRlcikpIHtcbiAgICAgIGVudHJpZXMgPSBlbnRyaWVzT3JVcGRhdGVyKGVudHJpZXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3JFYWNoKGVudHJpZXNPclVwZGF0ZXIsIGZ1bmN0aW9uKGVudHJ5LCBpZCkge1xuICAgICAgICBlbnRyaWVzW2lkXSA9IGVudHJ5O1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gZW50cmllcztcbn07XG5cblBvcHVwTWVudS5wcm90b3R5cGUuX2dldEhlYWRlckVudHJpZXMgPSBmdW5jdGlvbihlbGVtZW50LCBwcm92aWRlcnMpIHtcblxuICB2YXIgZW50cmllcyA9IHt9O1xuXG4gIGZvckVhY2gocHJvdmlkZXJzLCBmdW5jdGlvbihwcm92aWRlcikge1xuXG4gICAgLy8gaGFuZGxlIGxlZ2FjeSBtZXRob2RcbiAgICBpZiAoIXByb3ZpZGVyLmdldFBvcHVwTWVudUhlYWRlckVudHJpZXMpIHtcbiAgICAgIGlmICghcHJvdmlkZXIuZ2V0SGVhZGVyRW50cmllcykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGZvckVhY2gocHJvdmlkZXIuZ2V0SGVhZGVyRW50cmllcyhlbGVtZW50KSwgZnVuY3Rpb24oZW50cnkpIHtcbiAgICAgICAgdmFyIGlkID0gZW50cnkuaWQ7XG5cbiAgICAgICAgaWYgKCFpZCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignZXZlcnkgZW50cnkgbXVzdCBoYXZlIHRoZSBpZCBwcm9wZXJ0eSBzZXQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVudHJpZXNbaWRdID0gb21pdChlbnRyeSwgWyAnaWQnIF0pO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgZW50cmllc09yVXBkYXRlciA9IHByb3ZpZGVyLmdldFBvcHVwTWVudUhlYWRlckVudHJpZXMoZWxlbWVudCk7XG5cbiAgICBpZiAoaXNGdW5jdGlvbihlbnRyaWVzT3JVcGRhdGVyKSkge1xuICAgICAgZW50cmllcyA9IGVudHJpZXNPclVwZGF0ZXIoZW50cmllcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvckVhY2goZW50cmllc09yVXBkYXRlciwgZnVuY3Rpb24oZW50cnksIGlkKSB7XG4gICAgICAgIGVudHJpZXNbaWRdID0gZW50cnk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBlbnRyaWVzO1xuXG5cbn07XG5cbi8qKlxuICogR2V0cyBhbiBlbnRyeSBpbnN0YW5jZSAoZWl0aGVyIGVudHJ5IG9yIGhlYWRlckVudHJ5KSBieSBpZC5cbiAqXG4gKiBAcGFyYW0gIHtzdHJpbmd9IGVudHJ5SWRcbiAqXG4gKiBAcmV0dXJuIHtPYmplY3R9IGVudHJ5IGluc3RhbmNlXG4gKi9cblBvcHVwTWVudS5wcm90b3R5cGUuX2dldEVudHJ5ID0gZnVuY3Rpb24oZW50cnlJZCkge1xuXG4gIHZhciBlbnRyeSA9IHRoaXMuX2N1cnJlbnQuZW50cmllc1tlbnRyeUlkXTtcblxuICBpZiAoIWVudHJ5KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdlbnRyeSBub3QgZm91bmQnKTtcbiAgfVxuXG4gIHJldHVybiBlbnRyeTtcbn07XG5cblBvcHVwTWVudS5wcm90b3R5cGUuX2VtaXQgPSBmdW5jdGlvbihldmVudE5hbWUpIHtcbiAgdGhpcy5fZXZlbnRCdXMuZmlyZSgncG9wdXBNZW51LicgKyBldmVudE5hbWUpO1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIHRoZSBwb3B1cCBtZW51IGNvbnRhaW5lci5cbiAqXG4gKiBAcmV0dXJuIHtPYmplY3R9IGEgRE9NIGNvbnRhaW5lclxuICovXG5Qb3B1cE1lbnUucHJvdG90eXBlLl9jcmVhdGVDb250YWluZXIgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGNvbnRhaW5lciA9IGRvbWlmeSgnPGRpdiBjbGFzcz1cImRqcy1wb3B1cFwiPicpLFxuICAgICAgcG9zaXRpb24gPSB0aGlzLl9jdXJyZW50LnBvc2l0aW9uLFxuICAgICAgY2xhc3NOYW1lID0gdGhpcy5fY3VycmVudC5jbGFzc05hbWU7XG5cbiAgYXNzaWduKGNvbnRhaW5lci5zdHlsZSwge1xuICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgIGxlZnQ6IHBvc2l0aW9uLnggKyAncHgnLFxuICAgIHRvcDogcG9zaXRpb24ueSArICdweCcsXG4gICAgdmlzaWJpbGl0eTogJ2hpZGRlbidcbiAgfSk7XG5cbiAgZG9tQ2xhc3Nlcyhjb250YWluZXIpLmFkZChjbGFzc05hbWUpO1xuXG4gIHJldHVybiBjb250YWluZXI7XG59O1xuXG5cbi8qKlxuICogQXR0YWNoZXMgdGhlIGNvbnRhaW5lciB0byB0aGUgRE9NLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb250YWluZXJcbiAqIEBwYXJhbSB7T2JqZWN0fSBwYXJlbnRcbiAqL1xuUG9wdXBNZW51LnByb3RvdHlwZS5fYXR0YWNoQ29udGFpbmVyID0gZnVuY3Rpb24oY29udGFpbmVyLCBwYXJlbnQsIGN1cnNvcikge1xuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgLy8gRXZlbnQgaGFuZGxlclxuICBkb21EZWxlZ2F0ZS5iaW5kKGNvbnRhaW5lciwgJy5lbnRyeScgLCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgc2VsZi50cmlnZ2VyKGV2ZW50KTtcbiAgfSk7XG5cbiAgdGhpcy5fdXBkYXRlU2NhbGUoY29udGFpbmVyKTtcblxuICAvLyBBdHRhY2ggdG8gRE9NXG4gIHBhcmVudC5hcHBlbmRDaGlsZChjb250YWluZXIpO1xuXG4gIGlmIChjdXJzb3IpIHtcbiAgICB0aGlzLl9hc3N1cmVJc0luYm91bmRzKGNvbnRhaW5lciwgY3Vyc29yKTtcbiAgfVxufTtcblxuXG4vKipcbiAqIFVwZGF0ZXMgcG9wdXAgc3R5bGUudHJhbnNmb3JtIHdpdGggcmVzcGVjdCB0byB0aGUgY29uZmlnIGFuZCB6b29tIGxldmVsLlxuICpcbiAqIEBtZXRob2QgX3VwZGF0ZVNjYWxlXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGNvbnRhaW5lclxuICovXG5Qb3B1cE1lbnUucHJvdG90eXBlLl91cGRhdGVTY2FsZSA9IGZ1bmN0aW9uKGNvbnRhaW5lcikge1xuICB2YXIgem9vbSA9IHRoaXMuX2NhbnZhcy56b29tKCk7XG5cbiAgdmFyIHNjYWxlQ29uZmlnID0gdGhpcy5fY29uZmlnLnNjYWxlLFxuICAgICAgbWluU2NhbGUsXG4gICAgICBtYXhTY2FsZSxcbiAgICAgIHNjYWxlID0gem9vbTtcblxuICBpZiAoc2NhbGVDb25maWcgIT09IHRydWUpIHtcblxuICAgIGlmIChzY2FsZUNvbmZpZyA9PT0gZmFsc2UpIHtcbiAgICAgIG1pblNjYWxlID0gMTtcbiAgICAgIG1heFNjYWxlID0gMTtcbiAgICB9IGVsc2Uge1xuICAgICAgbWluU2NhbGUgPSBzY2FsZUNvbmZpZy5taW47XG4gICAgICBtYXhTY2FsZSA9IHNjYWxlQ29uZmlnLm1heDtcbiAgICB9XG5cbiAgICBpZiAoaXNEZWZpbmVkKG1pblNjYWxlKSAmJiB6b29tIDwgbWluU2NhbGUpIHtcbiAgICAgIHNjYWxlID0gbWluU2NhbGU7XG4gICAgfVxuXG4gICAgaWYgKGlzRGVmaW5lZChtYXhTY2FsZSkgJiYgem9vbSA+IG1heFNjYWxlKSB7XG4gICAgICBzY2FsZSA9IG1heFNjYWxlO1xuICAgIH1cblxuICB9XG5cbiAgc2V0VHJhbnNmb3JtKGNvbnRhaW5lciwgJ3NjYWxlKCcgKyBzY2FsZSArICcpJyk7XG59O1xuXG5cbi8qKlxuICogTWFrZSBzdXJlIHRoYXQgdGhlIG1lbnUgaXMgYWx3YXlzIGZ1bGx5IHNob3duXG4gKlxuICogQG1ldGhvZCBmdW5jdGlvblxuICpcbiAqIEBwYXJhbSAge09iamVjdH0gY29udGFpbmVyXG4gKiBAcGFyYW0gIHtQb3NpdGlvbn0gY3Vyc29yIHt4LCB5fVxuICovXG5Qb3B1cE1lbnUucHJvdG90eXBlLl9hc3N1cmVJc0luYm91bmRzID0gZnVuY3Rpb24oY29udGFpbmVyLCBjdXJzb3IpIHtcbiAgdmFyIGNhbnZhcyA9IHRoaXMuX2NhbnZhcyxcbiAgICAgIGNsaWVudFJlY3QgPSBjYW52YXMuX2NvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICB2YXIgY29udGFpbmVyWCA9IGNvbnRhaW5lci5vZmZzZXRMZWZ0LFxuICAgICAgY29udGFpbmVyWSA9IGNvbnRhaW5lci5vZmZzZXRUb3AsXG4gICAgICBjb250YWluZXJXaWR0aCA9IGNvbnRhaW5lci5zY3JvbGxXaWR0aCxcbiAgICAgIGNvbnRhaW5lckhlaWdodCA9IGNvbnRhaW5lci5zY3JvbGxIZWlnaHQsXG4gICAgICBvdmVyQXhpcyA9IHt9LFxuICAgICAgbGVmdCwgdG9wO1xuXG4gIHZhciBjdXJzb3JQb3NpdGlvbiA9IHtcbiAgICB4OiBjdXJzb3IueCAtIGNsaWVudFJlY3QubGVmdCxcbiAgICB5OiBjdXJzb3IueSAtIGNsaWVudFJlY3QudG9wXG4gIH07XG5cbiAgaWYgKGNvbnRhaW5lclggKyBjb250YWluZXJXaWR0aCA+IGNsaWVudFJlY3Qud2lkdGgpIHtcbiAgICBvdmVyQXhpcy54ID0gdHJ1ZTtcbiAgfVxuXG4gIGlmIChjb250YWluZXJZICsgY29udGFpbmVySGVpZ2h0ID4gY2xpZW50UmVjdC5oZWlnaHQpIHtcbiAgICBvdmVyQXhpcy55ID0gdHJ1ZTtcbiAgfVxuXG4gIGlmIChvdmVyQXhpcy54ICYmIG92ZXJBeGlzLnkpIHtcbiAgICBsZWZ0ID0gY3Vyc29yUG9zaXRpb24ueCAtIGNvbnRhaW5lcldpZHRoICsgJ3B4JztcbiAgICB0b3AgPSBjdXJzb3JQb3NpdGlvbi55IC0gY29udGFpbmVySGVpZ2h0ICsgJ3B4JztcbiAgfSBlbHNlIGlmIChvdmVyQXhpcy54KSB7XG4gICAgbGVmdCA9IGN1cnNvclBvc2l0aW9uLnggLSBjb250YWluZXJXaWR0aCArICdweCc7XG4gICAgdG9wID0gY3Vyc29yUG9zaXRpb24ueSArICdweCc7XG4gIH0gZWxzZSBpZiAob3ZlckF4aXMueSAmJiBjdXJzb3JQb3NpdGlvbi55IDwgY29udGFpbmVySGVpZ2h0KSB7XG4gICAgbGVmdCA9IGN1cnNvclBvc2l0aW9uLnggKyAncHgnO1xuICAgIHRvcCA9IDEwICsgJ3B4JztcbiAgfSBlbHNlIGlmIChvdmVyQXhpcy55KSB7XG4gICAgbGVmdCA9IGN1cnNvclBvc2l0aW9uLnggKyAncHgnO1xuICAgIHRvcCA9IGN1cnNvclBvc2l0aW9uLnkgLSBjb250YWluZXJIZWlnaHQgKyAncHgnO1xuICB9XG5cbiAgYXNzaWduKGNvbnRhaW5lci5zdHlsZSwgeyBsZWZ0OiBsZWZ0LCB0b3A6IHRvcCB9LCB7IHZpc2liaWxpdHk6ICd2aXNpYmxlJywgJ3otaW5kZXgnOiAxMDAwIH0pO1xufTtcblxuXG4vKipcbiAqIENyZWF0ZXMgYSBsaXN0IG9mIGVudHJpZXMgYW5kIHJldHVybnMgdGhlbSBhcyBhIERPTSBjb250YWluZXIuXG4gKlxuICogQHBhcmFtIHtBcnJheTxPYmplY3Q+fSBlbnRyaWVzIGFuIGFycmF5IG9mIGVudHJ5IG9iamVjdHNcbiAqIEBwYXJhbSB7c3RyaW5nfSBjbGFzc05hbWUgdGhlIGNsYXNzIG5hbWUgb2YgdGhlIGVudHJ5IGNvbnRhaW5lclxuICpcbiAqIEByZXR1cm4ge09iamVjdH0gYSBET00gY29udGFpbmVyXG4gKi9cblBvcHVwTWVudS5wcm90b3R5cGUuX2NyZWF0ZUVudHJpZXMgPSBmdW5jdGlvbihlbnRyaWVzLCBjbGFzc05hbWUpIHtcblxuICB2YXIgZW50cmllc0NvbnRhaW5lciA9IGRvbWlmeSgnPGRpdj4nKSxcbiAgICAgIHNlbGYgPSB0aGlzO1xuXG4gIGRvbUNsYXNzZXMoZW50cmllc0NvbnRhaW5lcikuYWRkKGNsYXNzTmFtZSk7XG5cbiAgZm9yRWFjaChlbnRyaWVzLCBmdW5jdGlvbihlbnRyeSwgaWQpIHtcbiAgICB2YXIgZW50cnlDb250YWluZXIgPSBzZWxmLl9jcmVhdGVFbnRyeShlbnRyeSwgaWQpO1xuICAgIGVudHJpZXNDb250YWluZXIuYXBwZW5kQ2hpbGQoZW50cnlDb250YWluZXIpO1xuICB9KTtcblxuICByZXR1cm4gZW50cmllc0NvbnRhaW5lcjtcbn07XG5cblxuLyoqXG4gKiBDcmVhdGVzIGEgc2luZ2xlIGVudHJ5IGFuZCByZXR1cm5zIGl0IGFzIGEgRE9NIGNvbnRhaW5lci5cbiAqXG4gKiBAcGFyYW0gIHtPYmplY3R9IGVudHJ5XG4gKlxuICogQHJldHVybiB7T2JqZWN0fSBhIERPTSBjb250YWluZXJcbiAqL1xuUG9wdXBNZW51LnByb3RvdHlwZS5fY3JlYXRlRW50cnkgPSBmdW5jdGlvbihlbnRyeSwgaWQpIHtcblxuICB2YXIgZW50cnlDb250YWluZXIgPSBkb21pZnkoJzxkaXY+JyksXG4gICAgICBlbnRyeUNsYXNzZXMgPSBkb21DbGFzc2VzKGVudHJ5Q29udGFpbmVyKTtcblxuICBlbnRyeUNsYXNzZXMuYWRkKCdlbnRyeScpO1xuXG4gIGlmIChlbnRyeS5jbGFzc05hbWUpIHtcbiAgICBlbnRyeS5jbGFzc05hbWUuc3BsaXQoJyAnKS5mb3JFYWNoKGZ1bmN0aW9uKGNsYXNzTmFtZSkge1xuICAgICAgZW50cnlDbGFzc2VzLmFkZChjbGFzc05hbWUpO1xuICAgIH0pO1xuICB9XG5cbiAgZG9tQXR0cihlbnRyeUNvbnRhaW5lciwgREFUQV9SRUYsIGlkKTtcblxuICBpZiAoZW50cnkubGFiZWwpIHtcbiAgICB2YXIgbGFiZWwgPSBkb21pZnkoJzxzcGFuPicpO1xuICAgIGxhYmVsLnRleHRDb250ZW50ID0gZW50cnkubGFiZWw7XG4gICAgZW50cnlDb250YWluZXIuYXBwZW5kQ2hpbGQobGFiZWwpO1xuICB9XG5cbiAgaWYgKGVudHJ5LmltYWdlVXJsKSB7XG4gICAgZW50cnlDb250YWluZXIuYXBwZW5kQ2hpbGQoZG9taWZ5KCc8aW1nIHNyYz1cIicgKyBlbnRyeS5pbWFnZVVybCArICdcIiAvPicpKTtcbiAgfVxuXG4gIGlmIChlbnRyeS5hY3RpdmUgPT09IHRydWUpIHtcbiAgICBlbnRyeUNsYXNzZXMuYWRkKCdhY3RpdmUnKTtcbiAgfVxuXG4gIGlmIChlbnRyeS5kaXNhYmxlZCA9PT0gdHJ1ZSkge1xuICAgIGVudHJ5Q2xhc3Nlcy5hZGQoJ2Rpc2FibGVkJyk7XG4gIH1cblxuICBpZiAoZW50cnkudGl0bGUpIHtcbiAgICBlbnRyeUNvbnRhaW5lci50aXRsZSA9IGVudHJ5LnRpdGxlO1xuICB9XG5cbiAgcmV0dXJuIGVudHJ5Q29udGFpbmVyO1xufTtcblxuXG4vKipcbiAqIFNldCB1cCBsaXN0ZW5lciB0byBjbG9zZSBwb3B1cCBhdXRvbWF0aWNhbGx5IG9uIGNlcnRhaW4gZXZlbnRzLlxuICovXG5Qb3B1cE1lbnUucHJvdG90eXBlLl9iaW5kQXV0b0Nsb3NlID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuX2V2ZW50QnVzLm9uY2UoQ0xPU0VfRVZFTlRTLCB0aGlzLmNsb3NlLCB0aGlzKTtcbn07XG5cblxuLyoqXG4gKiBSZW1vdmUgdGhlIGF1dG8tY2xvc2luZyBsaXN0ZW5lci5cbiAqL1xuUG9wdXBNZW51LnByb3RvdHlwZS5fdW5iaW5kQXV0b0Nsb3NlID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuX2V2ZW50QnVzLm9mZihDTE9TRV9FVkVOVFMsIHRoaXMuY2xvc2UsIHRoaXMpO1xufTtcblxuXG5cbi8vIGhlbHBlcnMgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuZnVuY3Rpb24gc2V0VHJhbnNmb3JtKGVsZW1lbnQsIHRyYW5zZm9ybSkge1xuICBlbGVtZW50LnN0eWxlWyd0cmFuc2Zvcm0tb3JpZ2luJ10gPSAndG9wIGxlZnQnO1xuXG4gIFsgJycsICctbXMtJywgJy13ZWJraXQtJyBdLmZvckVhY2goZnVuY3Rpb24ocHJlZml4KSB7XG4gICAgZWxlbWVudC5zdHlsZVtwcmVmaXggKyAndHJhbnNmb3JtJ10gPSB0cmFuc2Zvcm07XG4gIH0pO1xufSIsImltcG9ydCBQb3B1cE1lbnUgZnJvbSAnLi9Qb3B1cE1lbnUnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9faW5pdF9fOiBbICdwb3B1cE1lbnUnIF0sXG4gIHBvcHVwTWVudTogWyAndHlwZScsIFBvcHVwTWVudSBdXG59O1xuIiwiLyoqXG4gKiBBIGNsaXAgYm9hcmQgc3R1YlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDbGlwYm9hcmQoKSB7fVxuXG5cbkNsaXBib2FyZC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLl9kYXRhO1xufTtcblxuQ2xpcGJvYXJkLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbihkYXRhKSB7XG4gIHRoaXMuX2RhdGEgPSBkYXRhO1xufTtcblxuQ2xpcGJvYXJkLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uKCkge1xuICB2YXIgZGF0YSA9IHRoaXMuX2RhdGE7XG5cbiAgZGVsZXRlIHRoaXMuX2RhdGE7XG5cbiAgcmV0dXJuIGRhdGE7XG59O1xuXG5DbGlwYm9hcmQucHJvdG90eXBlLmlzRW1wdHkgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuICF0aGlzLl9kYXRhO1xufTsiLCJpbXBvcnQgQ2xpcGJvYXJkIGZyb20gJy4vQ2xpcGJvYXJkJztcblxuZXhwb3J0IGRlZmF1bHQge1xuICBjbGlwYm9hcmQ6IFsgJ3R5cGUnLCBDbGlwYm9hcmQgXVxufTtcbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIE1vdXNlKGV2ZW50QnVzKSB7XHJcbiAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICB0aGlzLl9sYXN0TW92ZUV2ZW50ID0gbnVsbDtcclxuXHJcbiAgZnVuY3Rpb24gc2V0TGFzdE1vdmVFdmVudChtb3VzZW1vdmVFdmVudCkge1xyXG4gICAgc2VsZi5fbGFzdE1vdmVFdmVudCA9IG1vdXNlbW92ZUV2ZW50O1xyXG4gIH1cclxuXHJcbiAgZXZlbnRCdXMub24oJ2NhbnZhcy5pbml0JywgZnVuY3Rpb24oY29udGV4dCkge1xyXG4gICAgdmFyIHN2ZyA9IHNlbGYuX3N2ZyA9IGNvbnRleHQuc3ZnO1xyXG5cclxuICAgIHN2Zy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBzZXRMYXN0TW92ZUV2ZW50KTtcclxuICB9KTtcclxuXHJcbiAgZXZlbnRCdXMub24oJ2NhbnZhcy5kZXN0cm95JywgZnVuY3Rpb24oKSB7XHJcbiAgICBzZWxmLl9sYXN0TW91c2VFdmVudCA9IG51bGw7XHJcblxyXG4gICAgc2VsZi5fc3ZnLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHNldExhc3RNb3ZlRXZlbnQpO1xyXG4gIH0pO1xyXG59XHJcblxyXG5Nb3VzZS4kaW5qZWN0ID0gWyAnZXZlbnRCdXMnIF07XHJcblxyXG5Nb3VzZS5wcm90b3R5cGUuZ2V0TGFzdE1vdmVFdmVudCA9IGZ1bmN0aW9uKCkge1xyXG4gIHJldHVybiB0aGlzLl9sYXN0TW92ZUV2ZW50IHx8IGNyZWF0ZU1vdmVFdmVudCgwLCAwKTtcclxufTtcclxuXHJcbi8vIGhlbHBlcnMgLy8vLy8vLy8vL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU1vdmVFdmVudCh4LCB5KSB7XHJcbiAgdmFyIGV2ZW50ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ01vdXNlRXZlbnQnKTtcclxuXHJcbiAgdmFyIHNjcmVlblggPSB4LFxyXG4gICAgICBzY3JlZW5ZID0geSxcclxuICAgICAgY2xpZW50WCA9IHgsXHJcbiAgICAgIGNsaWVudFkgPSB5O1xyXG5cclxuICBpZiAoZXZlbnQuaW5pdE1vdXNlRXZlbnQpIHtcclxuICAgIGV2ZW50LmluaXRNb3VzZUV2ZW50KFxyXG4gICAgICAnbW91c2Vtb3ZlJyxcclxuICAgICAgdHJ1ZSxcclxuICAgICAgdHJ1ZSxcclxuICAgICAgd2luZG93LFxyXG4gICAgICAwLFxyXG4gICAgICBzY3JlZW5YLFxyXG4gICAgICBzY3JlZW5ZLFxyXG4gICAgICBjbGllbnRYLFxyXG4gICAgICBjbGllbnRZLFxyXG4gICAgICBmYWxzZSxcclxuICAgICAgZmFsc2UsXHJcbiAgICAgIGZhbHNlLFxyXG4gICAgICBmYWxzZSxcclxuICAgICAgMCxcclxuICAgICAgbnVsbFxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIHJldHVybiBldmVudDtcclxufSIsImltcG9ydCBNb3VzZSBmcm9tICcuL01vdXNlJztcblxuZXhwb3J0IGRlZmF1bHQge1xuICBfX2luaXRfXzogWyAnbW91c2UnIF0sXG4gIG1vdXNlOiBbICd0eXBlJywgTW91c2UgXVxufTtcbiIsImltcG9ydCB7XG4gIGFzc2lnbixcbiAgZmluZCxcbiAgZm9yRWFjaCxcbiAgaXNBcnJheSxcbiAgaXNOdW1iZXIsXG4gIG1hcCxcbiAgbWF0Y2hQYXR0ZXJuLFxuICBvbWl0LFxuICBzb3J0Qnlcbn0gZnJvbSAnbWluLWRhc2gnO1xuXG5pbXBvcnQge1xuICBnZXRCQm94LFxuICBnZXRQYXJlbnRzXG59IGZyb20gJy4uLy4uL3V0aWwvRWxlbWVudHMnO1xuXG5pbXBvcnQgeyBlYWNoRWxlbWVudCB9IGZyb20gJy4uLy4uL3V0aWwvRWxlbWVudHMnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtGdW5jdGlvbn0gPGNvcHlQYXN0ZS5jYW5Db3B5RWxlbWVudHM+IGxpc3RlbmVyXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHRcbiAqIEBwYXJhbSB7QXJyYXk8ZGpzLm1vZGVsLkJhc2U+fSBjb250ZXh0LmVsZW1lbnRzXG4gKlxuICogQHJldHVybnMge0FycmF5PGRqcy5tb2RlbC5CYXNlPnxib29sZWFufSAtIFJldHVybiBlbGVtZW50cyB0byBiZSBjb3BpZWQgb3IgZmFsc2UgdG8gZGlzYWxsb3dcbiAqIGNvcHlpbmcuXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7RnVuY3Rpb259IDxjb3B5UGFzdGUuY29weUVsZW1lbnQ+IGxpc3RlbmVyXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHRcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb250ZXh0LmRlc2NyaXB0b3JcbiAqIEBwYXJhbSB7ZGpzLm1vZGVsLkJhc2V9IGNvbnRleHQuZWxlbWVudFxuICogQHBhcmFtIHtBcnJheTxkanMubW9kZWwuQmFzZT59IGNvbnRleHQuZWxlbWVudHNcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtGdW5jdGlvbn0gPGNvcHlQYXN0ZS5lbGVtZW50c0NvcGllZD4gbGlzdGVuZXJcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gY29udGV4dFxuICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHQuZWxlbWVudHNcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb250ZXh0LnRyZWVcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtGdW5jdGlvbn0gPGNvcHlQYXN0ZS5wYXN0ZUVsZW1lbnQ+IGxpc3RlbmVyXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHRcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb250ZXh0LmNhY2hlIC0gQWxyZWFkeSBjcmVhdGVkIGVsZW1lbnRzLlxuICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHQuZGVzY3JpcHRvclxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge0Z1bmN0aW9ufSA8Y29weVBhc3RlLnBhc3RlRWxlbWVudHM+IGxpc3RlbmVyXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHRcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb250ZXh0LmhpbnRzIC0gQWRkIGhpbnRzIGJlZm9yZSBwYXN0aW5nLlxuICovXG5cbi8qKlxuICogQ29weSBhbmQgcGFzdGUgZWxlbWVudHMuXG4gKlxuICogQHBhcmFtIHtDYW52YXN9IGNhbnZhc1xuICogQHBhcmFtIHtDcmVhdGV9IGNyZWF0ZVxuICogQHBhcmFtIHtDbGlwYm9hcmR9IGNsaXBib2FyZFxuICogQHBhcmFtIHtFbGVtZW50RmFjdG9yeX0gZWxlbWVudEZhY3RvcnlcbiAqIEBwYXJhbSB7RXZlbnRCdXN9IGV2ZW50QnVzXG4gKiBAcGFyYW0ge01vZGVsaW5nfSBtb2RlbGluZ1xuICogQHBhcmFtIHtNb3VzZX0gbW91c2VcbiAqIEBwYXJhbSB7UnVsZXN9IHJ1bGVzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENvcHlQYXN0ZShcbiAgICBjYW52YXMsXG4gICAgY3JlYXRlLFxuICAgIGNsaXBib2FyZCxcbiAgICBlbGVtZW50RmFjdG9yeSxcbiAgICBldmVudEJ1cyxcbiAgICBtb2RlbGluZyxcbiAgICBtb3VzZSxcbiAgICBydWxlc1xuKSB7XG5cbiAgdGhpcy5fY2FudmFzID0gY2FudmFzO1xuICB0aGlzLl9jcmVhdGUgPSBjcmVhdGU7XG4gIHRoaXMuX2NsaXBib2FyZCA9IGNsaXBib2FyZDtcbiAgdGhpcy5fZWxlbWVudEZhY3RvcnkgPSBlbGVtZW50RmFjdG9yeTtcbiAgdGhpcy5fZXZlbnRCdXMgPSBldmVudEJ1cztcbiAgdGhpcy5fbW9kZWxpbmcgPSBtb2RlbGluZztcbiAgdGhpcy5fbW91c2UgPSBtb3VzZTtcbiAgdGhpcy5fcnVsZXMgPSBydWxlcztcblxuICBldmVudEJ1cy5vbignY29weVBhc3RlLmNvcHlFbGVtZW50JywgZnVuY3Rpb24oY29udGV4dCkge1xuICAgIHZhciBkZXNjcmlwdG9yID0gY29udGV4dC5kZXNjcmlwdG9yLFxuICAgICAgICBlbGVtZW50ID0gY29udGV4dC5lbGVtZW50LFxuICAgICAgICBlbGVtZW50cyA9IGNvbnRleHQuZWxlbWVudHM7XG5cbiAgICAvLyBkZWZhdWx0IHByaW9yaXR5IChwcmlvcml0eSA9IDEpXG4gICAgZGVzY3JpcHRvci5wcmlvcml0eSA9IDE7XG5cbiAgICBkZXNjcmlwdG9yLmlkID0gZWxlbWVudC5pZDtcblxuICAgIHZhciBwYXJlbnRDb3BpZWQgPSBmaW5kKGVsZW1lbnRzLCBmdW5jdGlvbihlKSB7XG4gICAgICByZXR1cm4gZSA9PT0gZWxlbWVudC5wYXJlbnQ7XG4gICAgfSk7XG5cbiAgICAvLyBkbyBOT1QgcmVmZXJlbmNlIHBhcmVudCBpZiBwYXJlbnQgd2Fzbid0IGNvcGllZFxuICAgIGlmIChwYXJlbnRDb3BpZWQpIHtcbiAgICAgIGRlc2NyaXB0b3IucGFyZW50ID0gZWxlbWVudC5wYXJlbnQuaWQ7XG4gICAgfVxuXG4gICAgLy8gYXR0YWNoZXJzIChwcmlvcml0eSA9IDIpXG4gICAgaWYgKGlzQXR0YWNoZXIoZWxlbWVudCkpIHtcbiAgICAgIGRlc2NyaXB0b3IucHJpb3JpdHkgPSAyO1xuXG4gICAgICBkZXNjcmlwdG9yLmhvc3QgPSBlbGVtZW50Lmhvc3QuaWQ7XG4gICAgfVxuXG4gICAgLy8gY29ubmVjdGlvbnMgKHByaW9yaXR5ID0gMylcbiAgICBpZiAoaXNDb25uZWN0aW9uKGVsZW1lbnQpKSB7XG4gICAgICBkZXNjcmlwdG9yLnByaW9yaXR5ID0gMztcblxuICAgICAgZGVzY3JpcHRvci5zb3VyY2UgPSBlbGVtZW50LnNvdXJjZS5pZDtcbiAgICAgIGRlc2NyaXB0b3IudGFyZ2V0ID0gZWxlbWVudC50YXJnZXQuaWQ7XG5cbiAgICAgIGRlc2NyaXB0b3Iud2F5cG9pbnRzID0gY29weVdheXBvaW50cyhlbGVtZW50KTtcbiAgICB9XG5cbiAgICAvLyBsYWJlbHMgKHByaW9yaXR5ID0gNClcbiAgICBpZiAoaXNMYWJlbChlbGVtZW50KSkge1xuICAgICAgZGVzY3JpcHRvci5wcmlvcml0eSA9IDQ7XG5cbiAgICAgIGRlc2NyaXB0b3IubGFiZWxUYXJnZXQgPSBlbGVtZW50LmxhYmVsVGFyZ2V0LmlkO1xuICAgIH1cblxuICAgIGZvckVhY2goWyAneCcsICd5JywgJ3dpZHRoJywgJ2hlaWdodCcgXSwgZnVuY3Rpb24ocHJvcGVydHkpIHtcbiAgICAgIGlmIChpc051bWJlcihlbGVtZW50WyBwcm9wZXJ0eSBdKSkge1xuICAgICAgICBkZXNjcmlwdG9yWyBwcm9wZXJ0eSBdID0gZWxlbWVudFsgcHJvcGVydHkgXTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGRlc2NyaXB0b3IuaGlkZGVuID0gZWxlbWVudC5oaWRkZW47XG4gICAgZGVzY3JpcHRvci5jb2xsYXBzZWQgPSBlbGVtZW50LmNvbGxhcHNlZDtcblxuICB9KTtcblxuICBldmVudEJ1cy5vbignY29weVBhc3RlLnBhc3RlRWxlbWVudHMnLCBmdW5jdGlvbihjb250ZXh0KSB7XG4gICAgdmFyIGhpbnRzID0gY29udGV4dC5oaW50cztcblxuICAgIGFzc2lnbihoaW50cywge1xuICAgICAgY3JlYXRlRWxlbWVudHNCZWhhdmlvcjogZmFsc2VcbiAgICB9KTtcbiAgfSk7XG59XG5cbkNvcHlQYXN0ZS4kaW5qZWN0ID0gW1xuICAnY2FudmFzJyxcbiAgJ2NyZWF0ZScsXG4gICdjbGlwYm9hcmQnLFxuICAnZWxlbWVudEZhY3RvcnknLFxuICAnZXZlbnRCdXMnLFxuICAnbW9kZWxpbmcnLFxuICAnbW91c2UnLFxuICAncnVsZXMnXG5dO1xuXG5cbi8qKlxuICogQ29weSBlbGVtZW50cy5cbiAqXG4gKiBAcGFyYW0ge0FycmF5PGRqcy5tb2RlbC5CYXNlPn0gZWxlbWVudHNcbiAqXG4gKiBAcmV0dXJucyB7T2JqZWN0fVxuICovXG5Db3B5UGFzdGUucHJvdG90eXBlLmNvcHkgPSBmdW5jdGlvbihlbGVtZW50cykge1xuICB2YXIgYWxsb3dlZCxcbiAgICAgIHRyZWU7XG5cbiAgaWYgKCFpc0FycmF5KGVsZW1lbnRzKSkge1xuICAgIGVsZW1lbnRzID0gZWxlbWVudHMgPyBbIGVsZW1lbnRzIF0gOiBbXTtcbiAgfVxuXG4gIGFsbG93ZWQgPSB0aGlzLl9ldmVudEJ1cy5maXJlKCdjb3B5UGFzdGUuY2FuQ29weUVsZW1lbnRzJywge1xuICAgIGVsZW1lbnRzOiBlbGVtZW50c1xuICB9KTtcblxuICBpZiAoYWxsb3dlZCA9PT0gZmFsc2UpIHtcbiAgICB0cmVlID0ge307XG4gIH0gZWxzZSB7XG4gICAgdHJlZSA9IHRoaXMuY3JlYXRlVHJlZShpc0FycmF5KGFsbG93ZWQpID8gYWxsb3dlZCA6IGVsZW1lbnRzKTtcbiAgfVxuXG4gIC8vIHdlIHNldCBhbiBlbXB0eSB0cmVlLCBzZWxlY3Rpb24gb2YgZWxlbWVudHNcbiAgLy8gdG8gY29weSB3YXMgZW1wdHkuXG4gIHRoaXMuX2NsaXBib2FyZC5zZXQodHJlZSk7XG5cbiAgdGhpcy5fZXZlbnRCdXMuZmlyZSgnY29weVBhc3RlLmVsZW1lbnRzQ29waWVkJywge1xuICAgIGVsZW1lbnRzOiBlbGVtZW50cyxcbiAgICB0cmVlOiB0cmVlXG4gIH0pO1xuXG4gIHJldHVybiB0cmVlO1xufTtcblxuLyoqXG4gKiBQYXN0ZSBlbGVtZW50cy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gW2NvbnRleHRdXG4gKiBAcGFyYW0ge2Rqcy5tb2RlbC5iYXNlfSBbY29udGV4dC5lbGVtZW50XSAtIFBhcmVudC5cbiAqIEBwYXJhbSB7UG9pbnR9IFtjb250ZXh0LnBvaW50XSAtIFBvc2l0aW9uLlxuICogQHBhcmFtIHtPYmplY3R9IFtjb250ZXh0LmhpbnRzXSAtIEhpbnRzLlxuICovXG5Db3B5UGFzdGUucHJvdG90eXBlLnBhc3RlID0gZnVuY3Rpb24oY29udGV4dCkge1xuICB2YXIgdHJlZSA9IHRoaXMuX2NsaXBib2FyZC5nZXQoKTtcblxuICBpZiAodGhpcy5fY2xpcGJvYXJkLmlzRW1wdHkoKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBoaW50cyA9IGNvbnRleHQgJiYgY29udGV4dC5oaW50cyB8fCB7fTtcblxuICB0aGlzLl9ldmVudEJ1cy5maXJlKCdjb3B5UGFzdGUucGFzdGVFbGVtZW50cycsIHtcbiAgICBoaW50czogaGludHNcbiAgfSk7XG5cbiAgdmFyIGVsZW1lbnRzID0gdGhpcy5fY3JlYXRlRWxlbWVudHModHJlZSk7XG5cbiAgLy8gcGFzdGUgZGlyZWN0bHlcbiAgaWYgKGNvbnRleHQgJiYgY29udGV4dC5lbGVtZW50ICYmIGNvbnRleHQucG9pbnQpIHtcbiAgICByZXR1cm4gdGhpcy5fcGFzdGUoZWxlbWVudHMsIGNvbnRleHQuZWxlbWVudCwgY29udGV4dC5wb2ludCwgaGludHMpO1xuICB9XG5cbiAgdGhpcy5fY3JlYXRlLnN0YXJ0KHRoaXMuX21vdXNlLmdldExhc3RNb3ZlRXZlbnQoKSwgZWxlbWVudHMsIHtcbiAgICBoaW50czogaGludHMgfHwge31cbiAgfSk7XG59O1xuXG4vKipcbiAqIFBhc3RlIGVsZW1lbnRzIGRpcmVjdGx5LlxuICpcbiAqIEBwYXJhbSB7QXJyYXk8ZGpzLm1vZGVsLkJhc2U+fSBlbGVtZW50c1xuICogQHBhcmFtIHtkanMubW9kZWwuYmFzZX0gdGFyZ2V0XG4gKiBAcGFyYW0ge1BvaW50fSBwb3NpdGlvblxuICogQHBhcmFtIHtPYmplY3R9IFtoaW50c11cbiAqL1xuQ29weVBhc3RlLnByb3RvdHlwZS5fcGFzdGUgPSBmdW5jdGlvbihlbGVtZW50cywgdGFyZ2V0LCBwb3NpdGlvbiwgaGludHMpIHtcblxuICAvLyBtYWtlIHN1cmUgZWFjaCBlbGVtZW50IGhhcyB4IGFuZCB5XG4gIGZvckVhY2goZWxlbWVudHMsIGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICBpZiAoIWlzTnVtYmVyKGVsZW1lbnQueCkpIHtcbiAgICAgIGVsZW1lbnQueCA9IDA7XG4gICAgfVxuXG4gICAgaWYgKCFpc051bWJlcihlbGVtZW50LnkpKSB7XG4gICAgICBlbGVtZW50LnkgPSAwO1xuICAgIH1cbiAgfSk7XG5cbiAgdmFyIGJib3ggPSBnZXRCQm94KGVsZW1lbnRzKTtcblxuICAvLyBjZW50ZXIgZWxlbWVudHMgYXJvdW5kIGN1cnNvclxuICBmb3JFYWNoKGVsZW1lbnRzLCBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgaWYgKGlzQ29ubmVjdGlvbihlbGVtZW50KSkge1xuICAgICAgZWxlbWVudC53YXlwb2ludHMgPSBtYXAoZWxlbWVudC53YXlwb2ludHMsIGZ1bmN0aW9uKHdheXBvaW50KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgeDogd2F5cG9pbnQueCAtIGJib3gueCAtIGJib3gud2lkdGggLyAyLFxuICAgICAgICAgIHk6IHdheXBvaW50LnkgLSBiYm94LnkgLSBiYm94LmhlaWdodCAvIDJcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGFzc2lnbihlbGVtZW50LCB7XG4gICAgICB4OiBlbGVtZW50LnggLSBiYm94LnggLSBiYm94LndpZHRoIC8gMixcbiAgICAgIHk6IGVsZW1lbnQueSAtIGJib3gueSAtIGJib3guaGVpZ2h0IC8gMlxuICAgIH0pO1xuICB9KTtcblxuICByZXR1cm4gdGhpcy5fbW9kZWxpbmcuY3JlYXRlRWxlbWVudHMoZWxlbWVudHMsIHBvc2l0aW9uLCB0YXJnZXQsIGFzc2lnbih7fSwgaGludHMpKTtcbn07XG5cbi8qKlxuICogQ3JlYXRlIGVsZW1lbnRzIGZyb20gdHJlZS5cbiAqL1xuQ29weVBhc3RlLnByb3RvdHlwZS5fY3JlYXRlRWxlbWVudHMgPSBmdW5jdGlvbih0cmVlKSB7XG4gIHZhciBzZWxmID0gdGhpcztcblxuICB2YXIgZXZlbnRCdXMgPSB0aGlzLl9ldmVudEJ1cztcblxuICB2YXIgY2FjaGUgPSB7fTtcblxuICB2YXIgZWxlbWVudHMgPSBbXTtcblxuICBmb3JFYWNoKHRyZWUsIGZ1bmN0aW9uKGJyYW5jaCwgZGVwdGgpIHtcblxuICAgIGRlcHRoID0gcGFyc2VJbnQoZGVwdGgsIDEwKTtcblxuICAgIC8vIHNvcnQgYnkgcHJpb3JpdHlcbiAgICBicmFuY2ggPSBzb3J0QnkoYnJhbmNoLCAncHJpb3JpdHknKTtcblxuICAgIGZvckVhY2goYnJhbmNoLCBmdW5jdGlvbihkZXNjcmlwdG9yKSB7XG5cbiAgICAgIC8vIHJlbW92ZSBwcmlvcml0eVxuICAgICAgdmFyIGF0dHJzID0gYXNzaWduKHt9LCBvbWl0KGRlc2NyaXB0b3IsIFsgJ3ByaW9yaXR5JyBdKSk7XG5cbiAgICAgIGlmIChjYWNoZVsgZGVzY3JpcHRvci5wYXJlbnQgXSkge1xuICAgICAgICBhdHRycy5wYXJlbnQgPSBjYWNoZVsgZGVzY3JpcHRvci5wYXJlbnQgXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRlbGV0ZSBhdHRycy5wYXJlbnQ7XG4gICAgICB9XG5cbiAgICAgIGV2ZW50QnVzLmZpcmUoJ2NvcHlQYXN0ZS5wYXN0ZUVsZW1lbnQnLCB7XG4gICAgICAgIGNhY2hlOiBjYWNoZSxcbiAgICAgICAgZGVzY3JpcHRvcjogYXR0cnNcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgZWxlbWVudDtcblxuICAgICAgaWYgKGlzQ29ubmVjdGlvbihhdHRycykpIHtcbiAgICAgICAgYXR0cnMuc291cmNlID0gY2FjaGVbIGRlc2NyaXB0b3Iuc291cmNlIF07XG4gICAgICAgIGF0dHJzLnRhcmdldCA9IGNhY2hlWyBkZXNjcmlwdG9yLnRhcmdldCBdO1xuXG4gICAgICAgIGVsZW1lbnQgPSBjYWNoZVsgZGVzY3JpcHRvci5pZCBdID0gc2VsZi5jcmVhdGVDb25uZWN0aW9uKGF0dHJzKTtcblxuICAgICAgICBlbGVtZW50cy5wdXNoKGVsZW1lbnQpO1xuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzTGFiZWwoYXR0cnMpKSB7XG4gICAgICAgIGF0dHJzLmxhYmVsVGFyZ2V0ID0gY2FjaGVbIGF0dHJzLmxhYmVsVGFyZ2V0IF07XG5cbiAgICAgICAgZWxlbWVudCA9IGNhY2hlWyBkZXNjcmlwdG9yLmlkIF0gPSBzZWxmLmNyZWF0ZUxhYmVsKGF0dHJzKTtcblxuICAgICAgICBlbGVtZW50cy5wdXNoKGVsZW1lbnQpO1xuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGF0dHJzLmhvc3QpIHtcbiAgICAgICAgYXR0cnMuaG9zdCA9IGNhY2hlWyBhdHRycy5ob3N0IF07XG4gICAgICB9XG5cbiAgICAgIGVsZW1lbnQgPSBjYWNoZVsgZGVzY3JpcHRvci5pZCBdID0gc2VsZi5jcmVhdGVTaGFwZShhdHRycyk7XG5cbiAgICAgIGVsZW1lbnRzLnB1c2goZWxlbWVudCk7XG4gICAgfSk7XG5cbiAgfSk7XG5cbiAgcmV0dXJuIGVsZW1lbnRzO1xufTtcblxuQ29weVBhc3RlLnByb3RvdHlwZS5jcmVhdGVDb25uZWN0aW9uID0gZnVuY3Rpb24oYXR0cnMpIHtcbiAgdmFyIGNvbm5lY3Rpb24gPSB0aGlzLl9lbGVtZW50RmFjdG9yeS5jcmVhdGVDb25uZWN0aW9uKG9taXQoYXR0cnMsIFsgJ2lkJyBdKSk7XG5cbiAgcmV0dXJuIGNvbm5lY3Rpb247XG59O1xuXG5Db3B5UGFzdGUucHJvdG90eXBlLmNyZWF0ZUxhYmVsID0gZnVuY3Rpb24oYXR0cnMpIHtcbiAgdmFyIGxhYmVsID0gdGhpcy5fZWxlbWVudEZhY3RvcnkuY3JlYXRlTGFiZWwob21pdChhdHRycywgWyAnaWQnIF0pKTtcblxuICByZXR1cm4gbGFiZWw7XG59O1xuXG5Db3B5UGFzdGUucHJvdG90eXBlLmNyZWF0ZVNoYXBlID0gZnVuY3Rpb24oYXR0cnMpIHtcbiAgdmFyIHNoYXBlID0gdGhpcy5fZWxlbWVudEZhY3RvcnkuY3JlYXRlU2hhcGUob21pdChhdHRycywgWyAnaWQnIF0pKTtcblxuICByZXR1cm4gc2hhcGU7XG59O1xuXG4vKipcbiAqIENoZWNrIHdldGhlciBlbGVtZW50IGhhcyByZWxhdGlvbnMgdG8gb3RoZXIgZWxlbWVudHMgZS5nLiBhdHRhY2hlcnMsIGxhYmVscyBhbmQgY29ubmVjdGlvbnMuXG4gKlxuICogQHBhcmFtICB7T2JqZWN0fSBlbGVtZW50XG4gKiBAcGFyYW0gIHtBcnJheTxkanMubW9kZWwuQmFzZT59IGVsZW1lbnRzXG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbkNvcHlQYXN0ZS5wcm90b3R5cGUuaGFzUmVsYXRpb25zID0gZnVuY3Rpb24oZWxlbWVudCwgZWxlbWVudHMpIHtcbiAgdmFyIGxhYmVsVGFyZ2V0LFxuICAgICAgc291cmNlLFxuICAgICAgdGFyZ2V0O1xuXG4gIGlmIChpc0Nvbm5lY3Rpb24oZWxlbWVudCkpIHtcbiAgICBzb3VyY2UgPSBmaW5kKGVsZW1lbnRzLCBtYXRjaFBhdHRlcm4oeyBpZDogZWxlbWVudC5zb3VyY2UuaWQgfSkpO1xuICAgIHRhcmdldCA9IGZpbmQoZWxlbWVudHMsIG1hdGNoUGF0dGVybih7IGlkOiBlbGVtZW50LnRhcmdldC5pZCB9KSk7XG5cbiAgICBpZiAoIXNvdXJjZSB8fCAhdGFyZ2V0KSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgaWYgKGlzTGFiZWwoZWxlbWVudCkpIHtcbiAgICBsYWJlbFRhcmdldCA9IGZpbmQoZWxlbWVudHMsIG1hdGNoUGF0dGVybih7IGlkOiBlbGVtZW50LmxhYmVsVGFyZ2V0LmlkIH0pKTtcblxuICAgIGlmICghbGFiZWxUYXJnZXQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbi8qKlxuICogQ3JlYXRlIGEgdHJlZS1saWtlIHN0cnVjdHVyZSBmcm9tIGVsZW1lbnRzLlxuICpcbiAqIEBleGFtcGxlXG4gKiB0cmVlOiB7XG4gICogIDA6IFtcbiAgKiAgICB7IGlkOiAnU2hhcGVfMScsIHByaW9yaXR5OiAxLCAuLi4gfSxcbiAgKiAgICB7IGlkOiAnU2hhcGVfMicsIHByaW9yaXR5OiAxLCAuLi4gfSxcbiAgKiAgICB7IGlkOiAnQ29ubmVjdGlvbl8xJywgc291cmNlOiAnU2hhcGVfMScsIHRhcmdldDogJ1NoYXBlXzInLCBwcmlvcml0eTogMywgLi4uIH0sXG4gICogICAgLi4uXG4gICogIF0sXG4gICogIDE6IFtcbiAgKiAgICB7IGlkOiAnU2hhcGVfMycsIHBhcmVudDogJ1NoYXBlMScsIHByaW9yaXR5OiAxLCAuLi4gfSxcbiAgKiAgICAuLi5cbiAgKiAgXVxuICAqIH07XG4gICpcbiAgKiBAcGFyYW0gIHtBcnJheTxkanMubW9kZWwuYmFzZT59IGVsZW1lbnRzXG4gICpcbiAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICovXG5Db3B5UGFzdGUucHJvdG90eXBlLmNyZWF0ZVRyZWUgPSBmdW5jdGlvbihlbGVtZW50cykge1xuICB2YXIgcnVsZXMgPSB0aGlzLl9ydWxlcyxcbiAgICAgIHNlbGYgPSB0aGlzO1xuXG4gIHZhciB0cmVlID0ge30sXG4gICAgICBlbGVtZW50c0RhdGEgPSBbXTtcblxuICB2YXIgcGFyZW50cyA9IGdldFBhcmVudHMoZWxlbWVudHMpO1xuXG4gIGZ1bmN0aW9uIGNhbkNvcHkoZWxlbWVudCwgZWxlbWVudHMpIHtcbiAgICByZXR1cm4gcnVsZXMuYWxsb3dlZCgnZWxlbWVudC5jb3B5Jywge1xuICAgICAgZWxlbWVudDogZWxlbWVudCxcbiAgICAgIGVsZW1lbnRzOiBlbGVtZW50c1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gYWRkRWxlbWVudERhdGEoZWxlbWVudCwgZGVwdGgpIHtcblxuICAgIC8vICgxKSBjaGVjayB3ZXRoZXIgZWxlbWVudCBoYXMgYWxyZWFkeSBiZWVuIGFkZGVkXG4gICAgdmFyIGZvdW5kRWxlbWVudERhdGEgPSBmaW5kKGVsZW1lbnRzRGF0YSwgZnVuY3Rpb24oZWxlbWVudHNEYXRhKSB7XG4gICAgICByZXR1cm4gZWxlbWVudCA9PT0gZWxlbWVudHNEYXRhLmVsZW1lbnQ7XG4gICAgfSk7XG5cbiAgICAvLyAoMikgYWRkIGVsZW1lbnQgaWYgbm90IGFscmVhZHkgYWRkZWRcbiAgICBpZiAoIWZvdW5kRWxlbWVudERhdGEpIHtcbiAgICAgIGVsZW1lbnRzRGF0YS5wdXNoKHtcbiAgICAgICAgZWxlbWVudDogZWxlbWVudCxcbiAgICAgICAgZGVwdGg6IGRlcHRoXG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vICgzKSB1cGRhdGUgZGVwdGhcbiAgICBpZiAoZm91bmRFbGVtZW50RGF0YS5kZXB0aCA8IGRlcHRoKSB7XG4gICAgICBlbGVtZW50c0RhdGEgPSByZW1vdmVFbGVtZW50RGF0YShmb3VuZEVsZW1lbnREYXRhLCBlbGVtZW50c0RhdGEpO1xuXG4gICAgICBlbGVtZW50c0RhdGEucHVzaCh7XG4gICAgICAgIGVsZW1lbnQ6IGZvdW5kRWxlbWVudERhdGEuZWxlbWVudCxcbiAgICAgICAgZGVwdGg6IGRlcHRoXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZW1vdmVFbGVtZW50RGF0YShlbGVtZW50RGF0YSwgZWxlbWVudHNEYXRhKSB7XG4gICAgdmFyIGluZGV4ID0gZWxlbWVudHNEYXRhLmluZGV4T2YoZWxlbWVudERhdGEpO1xuXG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgZWxlbWVudHNEYXRhLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGVsZW1lbnRzRGF0YTtcbiAgfVxuXG4gIC8vICgxKSBhZGQgZWxlbWVudHNcbiAgZWFjaEVsZW1lbnQocGFyZW50cywgZnVuY3Rpb24oZWxlbWVudCwgX2luZGV4LCBkZXB0aCkge1xuXG4gICAgLy8gZG8gTk9UIGFkZCBleHRlcm5hbCBsYWJlbHMgZGlyZWN0bHlcbiAgICBpZiAoaXNMYWJlbChlbGVtZW50KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGFsd2F5cyBjb3B5IGV4dGVybmFsIGxhYmVsc1xuICAgIGZvckVhY2goZWxlbWVudC5sYWJlbHMsIGZ1bmN0aW9uKGxhYmVsKSB7XG4gICAgICBhZGRFbGVtZW50RGF0YShsYWJlbCwgZGVwdGgpO1xuICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gYWRkUmVsYXRlZEVsZW1lbnRzKGVsZW1lbnRzKSB7XG4gICAgICBlbGVtZW50cyAmJiBlbGVtZW50cy5sZW5ndGggJiYgZm9yRWFjaChlbGVtZW50cywgZnVuY3Rpb24oZWxlbWVudCkge1xuXG4gICAgICAgIC8vIGFkZCBleHRlcm5hbCBsYWJlbHNcbiAgICAgICAgZm9yRWFjaChlbGVtZW50LmxhYmVscywgZnVuY3Rpb24obGFiZWwpIHtcbiAgICAgICAgICBhZGRFbGVtZW50RGF0YShsYWJlbCwgZGVwdGgpO1xuICAgICAgICB9KTtcblxuICAgICAgICBhZGRFbGVtZW50RGF0YShlbGVtZW50LCBkZXB0aCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBmb3JFYWNoKFsgZWxlbWVudC5hdHRhY2hlcnMsIGVsZW1lbnQuaW5jb21pbmcsIGVsZW1lbnQub3V0Z29pbmcgXSwgYWRkUmVsYXRlZEVsZW1lbnRzKTtcblxuICAgIGFkZEVsZW1lbnREYXRhKGVsZW1lbnQsIGRlcHRoKTtcblxuICAgIHJldHVybiBlbGVtZW50LmNoaWxkcmVuO1xuICB9KTtcblxuICBlbGVtZW50cyA9IG1hcChlbGVtZW50c0RhdGEsIGZ1bmN0aW9uKGVsZW1lbnREYXRhKSB7XG4gICAgcmV0dXJuIGVsZW1lbnREYXRhLmVsZW1lbnQ7XG4gIH0pO1xuXG4gIC8vICgyKSBjb3B5IGVsZW1lbnRzXG4gIGVsZW1lbnRzRGF0YSA9IG1hcChlbGVtZW50c0RhdGEsIGZ1bmN0aW9uKGVsZW1lbnREYXRhKSB7XG4gICAgZWxlbWVudERhdGEuZGVzY3JpcHRvciA9IHt9O1xuXG4gICAgc2VsZi5fZXZlbnRCdXMuZmlyZSgnY29weVBhc3RlLmNvcHlFbGVtZW50Jywge1xuICAgICAgZGVzY3JpcHRvcjogZWxlbWVudERhdGEuZGVzY3JpcHRvcixcbiAgICAgIGVsZW1lbnQ6IGVsZW1lbnREYXRhLmVsZW1lbnQsXG4gICAgICBlbGVtZW50czogZWxlbWVudHNcbiAgICB9KTtcblxuICAgIHJldHVybiBlbGVtZW50RGF0YTtcbiAgfSk7XG5cbiAgLy8gKDMpIHNvcnQgZWxlbWVudHMgYnkgcHJpb3JpdHlcbiAgZWxlbWVudHNEYXRhID0gc29ydEJ5KGVsZW1lbnRzRGF0YSwgZnVuY3Rpb24oZWxlbWVudERhdGEpIHtcbiAgICByZXR1cm4gZWxlbWVudERhdGEuZGVzY3JpcHRvci5wcmlvcml0eTtcbiAgfSk7XG5cbiAgZWxlbWVudHMgPSBtYXAoZWxlbWVudHNEYXRhLCBmdW5jdGlvbihlbGVtZW50RGF0YSkge1xuICAgIHJldHVybiBlbGVtZW50RGF0YS5lbGVtZW50O1xuICB9KTtcblxuICAvLyAoNCkgY3JlYXRlIHRyZWVcbiAgZm9yRWFjaChlbGVtZW50c0RhdGEsIGZ1bmN0aW9uKGVsZW1lbnREYXRhKSB7XG4gICAgdmFyIGRlcHRoID0gZWxlbWVudERhdGEuZGVwdGg7XG5cbiAgICBpZiAoIXNlbGYuaGFzUmVsYXRpb25zKGVsZW1lbnREYXRhLmVsZW1lbnQsIGVsZW1lbnRzKSkge1xuICAgICAgcmVtb3ZlRWxlbWVudChlbGVtZW50RGF0YS5lbGVtZW50LCBlbGVtZW50cyk7XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIWNhbkNvcHkoZWxlbWVudERhdGEuZWxlbWVudCwgZWxlbWVudHMpKSB7XG4gICAgICByZW1vdmVFbGVtZW50KGVsZW1lbnREYXRhLmVsZW1lbnQsIGVsZW1lbnRzKTtcblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghdHJlZVtkZXB0aF0pIHtcbiAgICAgIHRyZWVbZGVwdGhdID0gW107XG4gICAgfVxuXG4gICAgdHJlZVtkZXB0aF0ucHVzaChlbGVtZW50RGF0YS5kZXNjcmlwdG9yKTtcbiAgfSk7XG5cbiAgcmV0dXJuIHRyZWU7XG59O1xuXG4vLyBoZWxwZXJzIC8vLy8vLy8vLy9cblxuZnVuY3Rpb24gaXNBdHRhY2hlcihlbGVtZW50KSB7XG4gIHJldHVybiAhIWVsZW1lbnQuaG9zdDtcbn1cblxuZnVuY3Rpb24gaXNDb25uZWN0aW9uKGVsZW1lbnQpIHtcbiAgcmV0dXJuICEhZWxlbWVudC53YXlwb2ludHM7XG59XG5cbmZ1bmN0aW9uIGlzTGFiZWwoZWxlbWVudCkge1xuICByZXR1cm4gISFlbGVtZW50LmxhYmVsVGFyZ2V0O1xufVxuXG5mdW5jdGlvbiBjb3B5V2F5cG9pbnRzKGVsZW1lbnQpIHtcbiAgcmV0dXJuIG1hcChlbGVtZW50LndheXBvaW50cywgZnVuY3Rpb24od2F5cG9pbnQpIHtcblxuICAgIHdheXBvaW50ID0gY29weVdheXBvaW50KHdheXBvaW50KTtcblxuICAgIGlmICh3YXlwb2ludC5vcmlnaW5hbCkge1xuICAgICAgd2F5cG9pbnQub3JpZ2luYWwgPSBjb3B5V2F5cG9pbnQod2F5cG9pbnQub3JpZ2luYWwpO1xuICAgIH1cblxuICAgIHJldHVybiB3YXlwb2ludDtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGNvcHlXYXlwb2ludCh3YXlwb2ludCkge1xuICByZXR1cm4gYXNzaWduKHt9LCB3YXlwb2ludCk7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZUVsZW1lbnQoZWxlbWVudCwgZWxlbWVudHMpIHtcbiAgdmFyIGluZGV4ID0gZWxlbWVudHMuaW5kZXhPZihlbGVtZW50KTtcblxuICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgcmV0dXJuIGVsZW1lbnRzO1xuICB9XG5cbiAgcmV0dXJuIGVsZW1lbnRzLnNwbGljZShpbmRleCwgMSk7XG59XG4iLCJpbXBvcnQgQ2xpcGJvYXJkTW9kdWxlIGZyb20gJy4uL2NsaXBib2FyZCc7XG5pbXBvcnQgQ3JlYXRlTW9kdWxlIGZyb20gJy4uL2NyZWF0ZSc7XG5pbXBvcnQgTW91c2VNb2R1bGUgZnJvbSAnLi4vbW91c2UnO1xuaW1wb3J0IFJ1bGVzTW9kdWxlIGZyb20gJy4uL3J1bGVzJztcblxuaW1wb3J0IENvcHlQYXN0ZSBmcm9tICcuL0NvcHlQYXN0ZSc7XG5cblxuZXhwb3J0IGRlZmF1bHQge1xuICBfX2RlcGVuZHNfXzogW1xuICAgIENsaXBib2FyZE1vZHVsZSxcbiAgICBDcmVhdGVNb2R1bGUsXG4gICAgTW91c2VNb2R1bGUsXG4gICAgUnVsZXNNb2R1bGVcbiAgXSxcbiAgX19pbml0X186IFsgJ2NvcHlQYXN0ZScgXSxcbiAgY29weVBhc3RlOiBbICd0eXBlJywgQ29weVBhc3RlIF1cbn07XG4iLCJpbXBvcnQge1xuICBnZXRCdXNpbmVzc09iamVjdFxufSBmcm9tICcuLi8uLi91dGlsL01vZGVsVXRpbCc7XG5cbmltcG9ydCB7XG4gIGZvckVhY2gsXG4gIGlzQXJyYXksXG4gIGlzVW5kZWZpbmVkLFxuICBvbWl0LFxuICByZWR1Y2Vcbn0gZnJvbSAnbWluLWRhc2gnO1xuXG5mdW5jdGlvbiBjb3B5UHJvcGVydGllcyhzb3VyY2UsIHRhcmdldCwgcHJvcGVydGllcykge1xuICBpZiAoIWlzQXJyYXkocHJvcGVydGllcykpIHtcbiAgICBwcm9wZXJ0aWVzID0gWyBwcm9wZXJ0aWVzIF07XG4gIH1cblxuICBmb3JFYWNoKHByb3BlcnRpZXMsIGZ1bmN0aW9uKHByb3BlcnR5KSB7XG4gICAgaWYgKCFpc1VuZGVmaW5lZChzb3VyY2VbcHJvcGVydHldKSkge1xuICAgICAgdGFyZ2V0W3Byb3BlcnR5XSA9IHNvdXJjZVtwcm9wZXJ0eV07XG4gICAgfVxuICB9KTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlUHJvcGVydGllcyhlbGVtZW50LCBwcm9wZXJ0aWVzKSB7XG4gIGlmICghaXNBcnJheShwcm9wZXJ0aWVzKSkge1xuICAgIHByb3BlcnRpZXMgPSBbIHByb3BlcnRpZXMgXTtcbiAgfVxuXG4gIGZvckVhY2gocHJvcGVydGllcywgZnVuY3Rpb24ocHJvcGVydHkpIHtcbiAgICBpZiAoZWxlbWVudFtwcm9wZXJ0eV0pIHtcbiAgICAgIGRlbGV0ZSBlbGVtZW50W3Byb3BlcnR5XTtcbiAgICB9XG4gIH0pO1xufVxuXG52YXIgTE9XX1BSSU9SSVRZID0gNzUwO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFBvc3RpdENvcHlQYXN0ZShwb3N0aXRGYWN0b3J5LCBldmVudEJ1cywgbW9kZGxlQ29weSkge1xuXG4gIGV2ZW50QnVzLm9uKCdjb3B5UGFzdGUuY29weUVsZW1lbnQnLCBMT1dfUFJJT1JJVFksIGZ1bmN0aW9uKGNvbnRleHQpIHtcbiAgICB2YXIgZGVzY3JpcHRvciA9IGNvbnRleHQuZGVzY3JpcHRvcixcbiAgICAgICAgZWxlbWVudCA9IGNvbnRleHQuZWxlbWVudDtcblxuICAgIHZhciBidXNpbmVzc09iamVjdCA9IGRlc2NyaXB0b3Iub2xkQnVzaW5lc3NPYmplY3QgPSBnZXRCdXNpbmVzc09iamVjdChlbGVtZW50KTtcblxuICAgIGRlc2NyaXB0b3IudHlwZSA9IGVsZW1lbnQudHlwZTtcblxuICAgIGNvcHlQcm9wZXJ0aWVzKGJ1c2luZXNzT2JqZWN0LCBkZXNjcmlwdG9yLCAnbmFtZScpO1xuXG4gICAgZGVzY3JpcHRvci5kaSA9IHt9O1xuXG4gICAgLy8gZmlsbCBhbmQgc3Ryb2tlIHdpbGwgYmUgc2V0IHRvIERJXG4gICAgY29weVByb3BlcnRpZXMoYnVzaW5lc3NPYmplY3QuZGksIGRlc2NyaXB0b3IuZGksIFtcbiAgICAgICdmaWxsJyxcbiAgICAgICdzdHJva2UnXG4gICAgXSk7XG5cbiAgICBpZiAoaXNMYWJlbChkZXNjcmlwdG9yKSkge1xuICAgICAgcmV0dXJuIGRlc2NyaXB0b3I7XG4gICAgfVxuXG4gIH0pO1xuXG4gIHZhciByZWZlcmVuY2VzO1xuXG4gIGZ1bmN0aW9uIHJlc29sdmVSZWZlcmVuY2VzKGRlc2NyaXB0b3IsIGNhY2hlKSB7XG4gICAgdmFyIGJ1c2luZXNzT2JqZWN0ID0gZ2V0QnVzaW5lc3NPYmplY3QoZGVzY3JpcHRvcik7XG5cbiAgICAvLyBkZWZhdWx0IHNlcXVlbmNlIGZsb3dzXG4gICAgaWYgKGRlc2NyaXB0b3IuZGVmYXVsdCkge1xuXG4gICAgICAvLyByZWxhdGlvbnNoaXAgY2Fubm90IGJlIHJlc29sdmVkIGltbWVkaWF0ZWx5XG4gICAgICByZWZlcmVuY2VzWyBkZXNjcmlwdG9yLmRlZmF1bHQgXSA9IHtcbiAgICAgICAgZWxlbWVudDogYnVzaW5lc3NPYmplY3QsXG4gICAgICAgIHByb3BlcnR5OiAnZGVmYXVsdCdcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmVmZXJlbmNlcyA9IG9taXQocmVmZXJlbmNlcywgcmVkdWNlKHJlZmVyZW5jZXMsIGZ1bmN0aW9uKGFycmF5LCByZWZlcmVuY2UsIGtleSkge1xuICAgICAgdmFyIGVsZW1lbnQgPSByZWZlcmVuY2UuZWxlbWVudCxcbiAgICAgICAgICBwcm9wZXJ0eSA9IHJlZmVyZW5jZS5wcm9wZXJ0eTtcblxuICAgICAgaWYgKGtleSA9PT0gZGVzY3JpcHRvci5pZCkge1xuICAgICAgICBlbGVtZW50WyBwcm9wZXJ0eSBdID0gYnVzaW5lc3NPYmplY3Q7XG5cbiAgICAgICAgYXJyYXkucHVzaChkZXNjcmlwdG9yLmlkKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH0sIFtdKSk7XG4gIH1cblxuICBldmVudEJ1cy5vbignY29weVBhc3RlLnBhc3RlRWxlbWVudHMnLCBmdW5jdGlvbigpIHtcbiAgICByZWZlcmVuY2VzID0ge307XG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKCdjb3B5UGFzdGUucGFzdGVFbGVtZW50JywgZnVuY3Rpb24oY29udGV4dCkge1xuICAgIHZhciBjYWNoZSA9IGNvbnRleHQuY2FjaGUsXG4gICAgICAgIGRlc2NyaXB0b3IgPSBjb250ZXh0LmRlc2NyaXB0b3IsXG4gICAgICAgIG9sZEJ1c2luZXNzT2JqZWN0ID0gZGVzY3JpcHRvci5vbGRCdXNpbmVzc09iamVjdCxcbiAgICAgICAgbmV3QnVzaW5lc3NPYmplY3Q7XG5cbiAgICAvLyBkbyBOT1QgY29weSBidXNpbmVzcyBvYmplY3QgaWYgZXh0ZXJuYWwgbGFiZWxcbiAgICBpZiAoaXNMYWJlbChkZXNjcmlwdG9yKSkge1xuICAgICAgZGVzY3JpcHRvci5idXNpbmVzc09iamVjdCA9IGdldEJ1c2luZXNzT2JqZWN0KGNhY2hlWyBkZXNjcmlwdG9yLmxhYmVsVGFyZ2V0IF0pO1xuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbmV3QnVzaW5lc3NPYmplY3QgPSBwb3N0aXRGYWN0b3J5LmNyZWF0ZShvbGRCdXNpbmVzc09iamVjdC4kdHlwZSk7XG5cbiAgICBkZXNjcmlwdG9yLmJ1c2luZXNzT2JqZWN0ID0gbW9kZGxlQ29weS5jb3B5RWxlbWVudChcbiAgICAgIG9sZEJ1c2luZXNzT2JqZWN0LFxuICAgICAgbmV3QnVzaW5lc3NPYmplY3RcbiAgICApO1xuXG4gICAgLy8gcmVzb2x2ZSByZWZlcmVuY2VzIGUuZy4gZGVmYXVsdCBzZXF1ZW5jZSBmbG93XG4gICAgcmVzb2x2ZVJlZmVyZW5jZXMoZGVzY3JpcHRvciwgY2FjaGUpO1xuXG4gICAgY29weVByb3BlcnRpZXMoZGVzY3JpcHRvciwgbmV3QnVzaW5lc3NPYmplY3QsIFtcbiAgICAgICdjb2xvcicsXG4gICAgICAnbmFtZSdcbiAgICBdKTtcblxuICAgIHJlbW92ZVByb3BlcnRpZXMoZGVzY3JpcHRvciwgJ29sZEJ1c2luZXNzT2JqZWN0Jyk7XG4gIH0pO1xuXG59XG5cblxuUG9zdGl0Q29weVBhc3RlLiRpbmplY3QgPSBbXG4gICdwb3N0aXRGYWN0b3J5JyxcbiAgJ2V2ZW50QnVzJyxcbiAgJ21vZGRsZUNvcHknXG5dO1xuXG4vLyBoZWxwZXJzIC8vLy8vLy8vLy9cblxuZnVuY3Rpb24gaXNMYWJlbChlbGVtZW50KSB7XG4gIHJldHVybiAhIWVsZW1lbnQubGFiZWxUYXJnZXQ7XG59XG4iLCJpbXBvcnQge1xuICBmaW5kLFxuICBmb3JFYWNoLFxuICBpc0FycmF5LFxuICBpc0RlZmluZWQsXG4gIGlzT2JqZWN0LFxuICBtYXRjaFBhdHRlcm4sXG4gIHJlZHVjZSxcbiAgaGFzLFxuICBzb3J0Qnlcbn0gZnJvbSAnbWluLWRhc2gnO1xuXG52YXIgRElTQUxMT1dFRF9QUk9QRVJUSUVTID0gW1xuICAnYm9hcmRFbGVtZW50cydcbl07XG5cbi8qKlxuICogQHR5cGVkZWYge0Z1bmN0aW9ufSA8bW9kZGxlQ29weS5jYW5Db3B5UHJvcGVydGllcz4gbGlzdGVuZXJcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gY29udGV4dFxuICogQHBhcmFtIHtBcnJheTxzdHJpbmc+fSBjb250ZXh0LnByb3BlcnR5TmFtZXNcbiAqIEBwYXJhbSB7TW9kZGxlRWxlbWVudH0gY29udGV4dC5zb3VyY2VFbGVtZW50XG4gKiBAcGFyYW0ge01vZGRsZUVsZW1lbnR9IGNvbnRleHQudGFyZ2V0RWxlbWVudFxuICpcbiAqIEByZXR1cm5zIHtBcnJheTxzdHJpbmc+fGJvb2xlYW59IC0gUmV0dXJuIHByb3BlcnRpZXMgdG8gYmUgY29waWVkIG9yIGZhbHNlIHRvIGRpc2FsbG93XG4gKiBjb3B5aW5nLlxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge0Z1bmN0aW9ufSA8bW9kZGxlQ29weS5jYW5Db3B5UHJvcGVydHk+IGxpc3RlbmVyXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHRcbiAqIEBwYXJhbSB7TW9kZGxlRWxlbWVudH0gY29udGV4dC5wYXJlbnRcbiAqIEBwYXJhbSB7Kn0gY29udGV4dC5wcm9wZXJ0eVxuICogQHBhcmFtIHtzdHJpbmd9IGNvbnRleHQucHJvcGVydHlOYW1lXG4gKlxuICogQHJldHVybnMgeyp8Ym9vbGVhbn0gLSBSZXR1cm4gY29waWVkIHByb3BlcnR5IG9yIGZhbHNlIHRvIGRpc2FsbG93XG4gKiBjb3B5aW5nLlxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge0Z1bmN0aW9ufSA8bW9kZGxlQ29weS5jYW5TZXRDb3BpZWRQcm9wZXJ0eT4gbGlzdGVuZXJcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gY29udGV4dFxuICogQHBhcmFtIHtNb2RkbGVFbGVtZW50fSBjb250ZXh0LnBhcmVudFxuICogQHBhcmFtIHsqfSBjb250ZXh0LnByb3BlcnR5XG4gKiBAcGFyYW0ge3N0cmluZ30gY29udGV4dC5wcm9wZXJ0eU5hbWVcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gLSBSZXR1cm4gZmFsc2UgdG8gZGlzYWxsb3dcbiAqIHNldHRpbmcgY29waWVkIHByb3BlcnR5LlxuICovXG5cbi8qKlxuICogVXRpbGl0eSBmb3IgY29weWluZyBtb2RlbCBwcm9wZXJ0aWVzIGZyb20gc291cmNlIGVsZW1lbnQgdG8gdGFyZ2V0IGVsZW1lbnQuXG4gKlxuICogQHBhcmFtIHtFdmVudEJ1c30gZXZlbnRCdXNcbiAqIEBwYXJhbSB7UG9zdGl0RmFjdG9yeX0gcG9zdGl0RmFjdG9yeVxuICogQHBhcmFtIHtQb3N0aXRNb2RkbGV9IG1vZGRsZVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBNb2RkbGVDb3B5KGV2ZW50QnVzLCBwb3N0aXRGYWN0b3J5LCBtb2RkbGUpIHtcbiAgdGhpcy5fcG9zdGl0RmFjdG9yeSA9IHBvc3RpdEZhY3Rvcnk7XG4gIHRoaXMuX2V2ZW50QnVzID0gZXZlbnRCdXM7XG4gIHRoaXMuX21vZGRsZSA9IG1vZGRsZTtcblxuICAvLyBjb3B5IGV4dGVuc2lvbiBlbGVtZW50cyBsYXN0XG4gIGV2ZW50QnVzLm9uKCdtb2RkbGVDb3B5LmNhbkNvcHlQcm9wZXJ0aWVzJywgZnVuY3Rpb24oY29udGV4dCkge1xuICAgIHZhciBwcm9wZXJ0eU5hbWVzID0gY29udGV4dC5wcm9wZXJ0eU5hbWVzO1xuXG4gICAgaWYgKCFwcm9wZXJ0eU5hbWVzIHx8ICFwcm9wZXJ0eU5hbWVzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJldHVybiBzb3J0QnkocHJvcGVydHlOYW1lcywgZnVuY3Rpb24ocHJvcGVydHlOYW1lKSB7XG4gICAgICByZXR1cm4gcHJvcGVydHlOYW1lID09PSAnZXh0ZW5zaW9uRWxlbWVudHMnO1xuICAgIH0pO1xuICB9KTtcblxuICAvLyBkZWZhdWx0IGNoZWNrIHdoZXRoZXIgcHJvcGVydHkgY2FuIGJlIGNvcGllZFxuICBldmVudEJ1cy5vbignbW9kZGxlQ29weS5jYW5Db3B5UHJvcGVydHknLCBmdW5jdGlvbihjb250ZXh0KSB7XG4gICAgdmFyIHBhcmVudCA9IGNvbnRleHQucGFyZW50LFxuICAgICAgICBwYXJlbnREZXNjcmlwdG9yID0gaXNPYmplY3QocGFyZW50KSAmJiBwYXJlbnQuJGRlc2NyaXB0b3IsXG4gICAgICAgIHByb3BlcnR5TmFtZSA9IGNvbnRleHQucHJvcGVydHlOYW1lO1xuXG4gICAgaWYgKHByb3BlcnR5TmFtZSAmJiBESVNBTExPV0VEX1BST1BFUlRJRVMuaW5kZXhPZihwcm9wZXJ0eU5hbWUpICE9PSAtMSkge1xuXG4gICAgICAvLyBkaXNhbGxvdyBjb3B5aW5nIHByb3BlcnR5XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKHByb3BlcnR5TmFtZSAmJlxuICAgICAgcGFyZW50RGVzY3JpcHRvciAmJlxuICAgICAgIWZpbmQocGFyZW50RGVzY3JpcHRvci5wcm9wZXJ0aWVzLCBtYXRjaFBhdHRlcm4oeyBuYW1lOiBwcm9wZXJ0eU5hbWUgfSkpKSB7XG5cbiAgICAgIC8vIGRpc2FsbG93IGNvcHlpbmcgcHJvcGVydHlcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0pO1xufVxuXG5Nb2RkbGVDb3B5LiRpbmplY3QgPSBbXG4gICdldmVudEJ1cycsXG4gICdwb3N0aXRGYWN0b3J5JyxcbiAgJ21vZGRsZSdcbl07XG5cbi8qKlxuICogQ29weSBtb2RlbCBwcm9wZXJ0aWVzIG9mIHNvdXJjZSBlbGVtZW50IHRvIHRhcmdldCBlbGVtZW50LlxuICpcbiAqIEBwYXJhbSB7TW9kZGxlRWxlbWVudH0gc291cmNlRWxlbWVudFxuICogQHBhcmFtIHtNb2RkbGVFbGVtZW50fSB0YXJnZXRFbGVtZW50XG4gKiBAcGFyYW0ge0FycmF5PHN0cmluZz59IFtwcm9wZXJ0eU5hbWVzXVxuICpcbiAqIEBwYXJhbSB7TW9kZGxlRWxlbWVudH1cbiAqL1xuTW9kZGxlQ29weS5wcm90b3R5cGUuY29weUVsZW1lbnQgPSBmdW5jdGlvbihzb3VyY2VFbGVtZW50LCB0YXJnZXRFbGVtZW50LCBwcm9wZXJ0eU5hbWVzKSB7XG4gIHZhciBzZWxmID0gdGhpcztcblxuICBpZiAocHJvcGVydHlOYW1lcyAmJiAhaXNBcnJheShwcm9wZXJ0eU5hbWVzKSkge1xuICAgIHByb3BlcnR5TmFtZXMgPSBbIHByb3BlcnR5TmFtZXMgXTtcbiAgfVxuXG4gIHByb3BlcnR5TmFtZXMgPSBwcm9wZXJ0eU5hbWVzIHx8IGdldFByb3BlcnR5TmFtZXMoc291cmNlRWxlbWVudC4kZGVzY3JpcHRvcik7XG5cbiAgdmFyIGNhbkNvcHlQcm9wZXJ0aWVzID0gdGhpcy5fZXZlbnRCdXMuZmlyZSgnbW9kZGxlQ29weS5jYW5Db3B5UHJvcGVydGllcycsIHtcbiAgICBwcm9wZXJ0eU5hbWVzOiBwcm9wZXJ0eU5hbWVzLFxuICAgIHNvdXJjZUVsZW1lbnQ6IHNvdXJjZUVsZW1lbnQsXG4gICAgdGFyZ2V0RWxlbWVudDogdGFyZ2V0RWxlbWVudFxuICB9KTtcblxuICBpZiAoY2FuQ29weVByb3BlcnRpZXMgPT09IGZhbHNlKSB7XG4gICAgcmV0dXJuIHRhcmdldEVsZW1lbnQ7XG4gIH1cblxuICBpZiAoaXNBcnJheShjYW5Db3B5UHJvcGVydGllcykpIHtcbiAgICBwcm9wZXJ0eU5hbWVzID0gY2FuQ29weVByb3BlcnRpZXM7XG4gIH1cblxuICAvLyBjb3B5IHByb3BlcnRpZXNcbiAgZm9yRWFjaChwcm9wZXJ0eU5hbWVzLCBmdW5jdGlvbihwcm9wZXJ0eU5hbWUpIHtcbiAgICB2YXIgc291cmNlUHJvcGVydHk7XG5cbiAgICBpZiAoaGFzKHNvdXJjZUVsZW1lbnQsIHByb3BlcnR5TmFtZSkpIHtcbiAgICAgIHNvdXJjZVByb3BlcnR5ID0gc291cmNlRWxlbWVudC5nZXQocHJvcGVydHlOYW1lKTtcbiAgICB9XG5cbiAgICB2YXIgY29waWVkUHJvcGVydHkgPSBzZWxmLmNvcHlQcm9wZXJ0eShzb3VyY2VQcm9wZXJ0eSwgdGFyZ2V0RWxlbWVudCwgcHJvcGVydHlOYW1lKTtcblxuICAgIHZhciBjYW5TZXRQcm9wZXJ0eSA9IHNlbGYuX2V2ZW50QnVzLmZpcmUoJ21vZGRsZUNvcHkuY2FuU2V0Q29waWVkUHJvcGVydHknLCB7XG4gICAgICBwYXJlbnQ6IHRhcmdldEVsZW1lbnQsXG4gICAgICBwcm9wZXJ0eTogY29waWVkUHJvcGVydHksXG4gICAgICBwcm9wZXJ0eU5hbWU6IHByb3BlcnR5TmFtZVxuICAgIH0pO1xuXG4gICAgaWYgKGNhblNldFByb3BlcnR5ID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChpc0RlZmluZWQoY29waWVkUHJvcGVydHkpKSB7XG4gICAgICB0YXJnZXRFbGVtZW50LnNldChwcm9wZXJ0eU5hbWUsIGNvcGllZFByb3BlcnR5KTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiB0YXJnZXRFbGVtZW50O1xufTtcblxuLyoqXG4gKiBDb3B5IG1vZGVsIHByb3BlcnR5LlxuICpcbiAqIEBwYXJhbSB7Kn0gcHJvcGVydHlcbiAqIEBwYXJhbSB7TW9kZGxlRWxlbWVudH0gcGFyZW50XG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHlOYW1lXG4gKlxuICogQHJldHVybnMgeyp9XG4gKi9cbk1vZGRsZUNvcHkucHJvdG90eXBlLmNvcHlQcm9wZXJ0eSA9IGZ1bmN0aW9uKHByb3BlcnR5LCBwYXJlbnQsIHByb3BlcnR5TmFtZSkge1xuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgLy8gYWxsb3cgb3RoZXJzIHRvIGNvcHkgcHJvcGVydHlcbiAgdmFyIGNvcGllZFByb3BlcnR5ID0gdGhpcy5fZXZlbnRCdXMuZmlyZSgnbW9kZGxlQ29weS5jYW5Db3B5UHJvcGVydHknLCB7XG4gICAgcGFyZW50OiBwYXJlbnQsXG4gICAgcHJvcGVydHk6IHByb3BlcnR5LFxuICAgIHByb3BlcnR5TmFtZTogcHJvcGVydHlOYW1lXG4gIH0pO1xuXG4gIC8vIHJldHVybiBpZiBjb3B5aW5nIGlzIE5PVCBhbGxvd2VkXG4gIGlmIChjb3BpZWRQcm9wZXJ0eSA9PT0gZmFsc2UpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoY29waWVkUHJvcGVydHkpIHtcbiAgICBpZiAoaXNPYmplY3QoY29waWVkUHJvcGVydHkpICYmIGNvcGllZFByb3BlcnR5LiR0eXBlICYmICFjb3BpZWRQcm9wZXJ0eS4kcGFyZW50KSB7XG4gICAgICBjb3BpZWRQcm9wZXJ0eS4kcGFyZW50ID0gcGFyZW50O1xuICAgIH1cblxuICAgIHJldHVybiBjb3BpZWRQcm9wZXJ0eTtcbiAgfVxuXG4gIHZhciBwcm9wZXJ0eURlc2NyaXB0b3IgPSB0aGlzLl9tb2RkbGUuZ2V0UHJvcGVydHlEZXNjcmlwdG9yKHBhcmVudCwgcHJvcGVydHlOYW1lKTtcblxuICAvLyBkbyBOT1QgY29weSBJZHMgYW5kIHJlZmVyZW5jZXNcbiAgaWYgKHByb3BlcnR5RGVzY3JpcHRvci5pc0lkIHx8IHByb3BlcnR5RGVzY3JpcHRvci5pc1JlZmVyZW5jZSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIGNvcHkgYXJyYXlzXG4gIGlmIChpc0FycmF5KHByb3BlcnR5KSkge1xuICAgIHJldHVybiByZWR1Y2UocHJvcGVydHksIGZ1bmN0aW9uKGNoaWxkUHJvcGVydGllcywgY2hpbGRQcm9wZXJ0eSkge1xuXG4gICAgICAvLyByZWN1cnNpb25cbiAgICAgIGNvcGllZFByb3BlcnR5ID0gc2VsZi5jb3B5UHJvcGVydHkoY2hpbGRQcm9wZXJ0eSwgcGFyZW50LCBwcm9wZXJ0eU5hbWUpO1xuXG4gICAgICAvLyBjb3B5aW5nIG1pZ2h0IE5PVCBiZSBhbGxvd2VkXG4gICAgICBpZiAoY29waWVkUHJvcGVydHkpIHtcbiAgICAgICAgY29waWVkUHJvcGVydHkuJHBhcmVudCA9IHBhcmVudDtcblxuICAgICAgICByZXR1cm4gY2hpbGRQcm9wZXJ0aWVzLmNvbmNhdChjb3BpZWRQcm9wZXJ0eSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjaGlsZFByb3BlcnRpZXM7XG4gICAgfSwgW10pO1xuICB9XG5cbiAgLy8gY29weSBtb2RlbCBlbGVtZW50c1xuICBpZiAoaXNPYmplY3QocHJvcGVydHkpICYmIHByb3BlcnR5LiR0eXBlKSB7XG4gICAgaWYgKHRoaXMuX21vZGRsZS5nZXRFbGVtZW50RGVzY3JpcHRvcihwcm9wZXJ0eSkuaXNHZW5lcmljKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29waWVkUHJvcGVydHkgPSBzZWxmLl9wb3N0aXRGYWN0b3J5LmNyZWF0ZShwcm9wZXJ0eS4kdHlwZSk7XG5cbiAgICBjb3BpZWRQcm9wZXJ0eS4kcGFyZW50ID0gcGFyZW50O1xuXG4gICAgLy8gcmVjdXJzaW9uXG4gICAgY29waWVkUHJvcGVydHkgPSBzZWxmLmNvcHlFbGVtZW50KHByb3BlcnR5LCBjb3BpZWRQcm9wZXJ0eSk7XG5cbiAgICByZXR1cm4gY29waWVkUHJvcGVydHk7XG4gIH1cblxuICAvLyBjb3B5IHByaW1pdGl2ZSBwcm9wZXJ0aWVzXG4gIHJldHVybiBwcm9wZXJ0eTtcbn07XG5cbi8vIGhlbHBlcnMgLy8vLy8vLy8vL1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UHJvcGVydHlOYW1lcyhkZXNjcmlwdG9yLCBrZWVwRGVmYXVsdFByb3BlcnRpZXMpIHtcbiAgcmV0dXJuIHJlZHVjZShkZXNjcmlwdG9yLnByb3BlcnRpZXMsIGZ1bmN0aW9uKHByb3BlcnRpZXMsIHByb3BlcnR5KSB7XG5cbiAgICBpZiAoa2VlcERlZmF1bHRQcm9wZXJ0aWVzICYmIHByb3BlcnR5LmRlZmF1bHQpIHtcbiAgICAgIHJldHVybiBwcm9wZXJ0aWVzO1xuICAgIH1cblxuICAgIHJldHVybiBwcm9wZXJ0aWVzLmNvbmNhdChwcm9wZXJ0eS5uYW1lKTtcbiAgfSwgW10pO1xufSIsImltcG9ydCBDb3B5UGFzdGVNb2R1bGUgZnJvbSAnZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvY29weS1wYXN0ZSc7XG5cbmltcG9ydCBQb3N0aXRDb3B5UGFzdGUgZnJvbSAnLi9Qb3N0aXRDb3B5UGFzdGUnO1xuaW1wb3J0IE1vZGRsZUNvcHkgZnJvbSAnLi9Nb2RkbGVDb3B5JztcblxuZXhwb3J0IGRlZmF1bHQge1xuICBfX2RlcGVuZHNfXzogW1xuICAgIENvcHlQYXN0ZU1vZHVsZVxuICBdLFxuICBfX2luaXRfXzogWyAncG9zdGl0Q29weVBhc3RlJywgJ21vZGRsZUNvcHknIF0sXG4gIHBvc3RpdENvcHlQYXN0ZTogWyAndHlwZScsIFBvc3RpdENvcHlQYXN0ZSBdLFxuICBtb2RkbGVDb3B5OiBbICd0eXBlJywgTW9kZGxlQ29weSBdXG59O1xuIiwiaW1wb3J0IHtcbiAgYXNzaWduXG59IGZyb20gJ21pbi1kYXNoJztcblxudmFyIHJvdW5kID0gTWF0aC5yb3VuZDtcblxuLyoqXG4gKiBTZXJ2aWNlIHRoYXQgYWxsb3cgcmVwbGFjaW5nIG9mIGVsZW1lbnRzLlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBSZXBsYWNlKG1vZGVsaW5nKSB7XG5cbiAgdGhpcy5fbW9kZWxpbmcgPSBtb2RlbGluZztcbn1cblxuUmVwbGFjZS4kaW5qZWN0ID0gWyAnbW9kZWxpbmcnIF07XG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50fSBvbGRFbGVtZW50IC0gRWxlbWVudCB0byBiZSByZXBsYWNlZFxuICogQHBhcmFtIHtPYmplY3R9ICBuZXdFbGVtZW50RGF0YSAtIENvbnRhaW5pbmcgaW5mb3JtYXRpb24gYWJvdXQgdGhlIG5ldyBlbGVtZW50LFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBleGFtcGxlIHRoZSBuZXcgYm91bmRzIGFuZCB0eXBlLlxuICogQHBhcmFtIHtPYmplY3R9ICBvcHRpb25zIC0gQ3VzdG9tIG9wdGlvbnMgdGhhdCB3aWxsIGJlIGF0dGFjaGVkIHRvIHRoZSBjb250ZXh0LiBJdCBjYW4gYmUgdXNlZCB0byBpbmplY3QgZGF0YVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhhdCBpcyBuZWVkZWQgaW4gdGhlIGNvbW1hbmQgY2hhaW4uIEZvciBleGFtcGxlIGl0IGNvdWxkIGJlIHVzZWQgaW5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50YnVzLm9uKCdjb21tYW5kU3RhY2suc2hhcGUucmVwbGFjZS5wb3N0RXhlY3V0ZScpIHRvIGNoYW5nZSBzaGFwZSBhdHRyaWJ1dGVzIGFmdGVyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaGFwZSBjcmVhdGlvbi5cbiAqL1xuUmVwbGFjZS5wcm90b3R5cGUucmVwbGFjZUVsZW1lbnQgPSBmdW5jdGlvbihvbGRFbGVtZW50LCBuZXdFbGVtZW50RGF0YSwgb3B0aW9ucykge1xuXG4gIGlmIChvbGRFbGVtZW50LndheXBvaW50cykge1xuXG4gICAgLy8gVE9ETyhuaWtrdSk6IHdlIGRvIG5vdCByZXBsYWNlIGNvbm5lY3Rpb25zLCB5ZXRcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHZhciBtb2RlbGluZyA9IHRoaXMuX21vZGVsaW5nO1xuXG4gIHZhciB3aWR0aCA9IG5ld0VsZW1lbnREYXRhLndpZHRoIHx8IG9sZEVsZW1lbnQud2lkdGgsXG4gICAgICBoZWlnaHQgPSBuZXdFbGVtZW50RGF0YS5oZWlnaHQgfHwgb2xkRWxlbWVudC5oZWlnaHQsXG4gICAgICB4ID0gbmV3RWxlbWVudERhdGEueCB8fCBvbGRFbGVtZW50LngsXG4gICAgICB5ID0gbmV3RWxlbWVudERhdGEueSB8fCBvbGRFbGVtZW50LnksXG4gICAgICBjZW50ZXJYID0gcm91bmQoeCArIHdpZHRoIC8gMiksXG4gICAgICBjZW50ZXJZID0gcm91bmQoeSArIGhlaWdodCAvIDIpO1xuXG4gIC8vIG1vZGVsaW5nIEFQSSByZXF1aXJlcyBjZW50ZXIgY29vcmRpbmF0ZXMsXG4gIC8vIGFjY291bnQgZm9yIHRoYXQgd2hlbiBoYW5kbGluZyBzaGFwZSBib3VuZHNcblxuICByZXR1cm4gbW9kZWxpbmcucmVwbGFjZVNoYXBlKFxuICAgIG9sZEVsZW1lbnQsXG4gICAgYXNzaWduKFxuICAgICAge30sXG4gICAgICBuZXdFbGVtZW50RGF0YSxcbiAgICAgIHtcbiAgICAgICAgeDogY2VudGVyWCxcbiAgICAgICAgeTogY2VudGVyWSxcbiAgICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgICBoZWlnaHQ6IGhlaWdodFxuICAgICAgfVxuICAgICksXG4gICAgb3B0aW9uc1xuICApO1xufTtcbiIsImltcG9ydCBSZXBsYWNlIGZyb20gJy4vUmVwbGFjZSc7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgX19pbml0X186IFsgJ3JlcGxhY2UnIF0sXG4gIHJlcGxhY2U6IFsgJ3R5cGUnLCBSZXBsYWNlIF1cbn07IiwiaW1wb3J0IHtcbiAgcGljayxcbiAgYXNzaWduLFxuICBmb3JFYWNoLFxuICBpc0FycmF5LFxuICBpc1VuZGVmaW5lZFxufSBmcm9tICdtaW4tZGFzaCc7XG5cbmltcG9ydCB7IGdldFByb3BlcnR5TmFtZXMgfSBmcm9tICcuLi9jb3B5LXBhc3RlL01vZGRsZUNvcHknO1xuXG5mdW5jdGlvbiBjb3B5UHJvcGVydGllcyhzb3VyY2UsIHRhcmdldCwgcHJvcGVydGllcykge1xuICBpZiAoIWlzQXJyYXkocHJvcGVydGllcykpIHtcbiAgICBwcm9wZXJ0aWVzID0gWyBwcm9wZXJ0aWVzIF07XG4gIH1cblxuICBmb3JFYWNoKHByb3BlcnRpZXMsIGZ1bmN0aW9uKHByb3BlcnR5KSB7XG4gICAgaWYgKCFpc1VuZGVmaW5lZChzb3VyY2VbcHJvcGVydHldKSkge1xuICAgICAgdGFyZ2V0W3Byb3BlcnR5XSA9IHNvdXJjZVtwcm9wZXJ0eV07XG4gICAgfVxuICB9KTtcbn1cblxudmFyIENVU1RPTV9QUk9QRVJUSUVTID0gW1xuICAnY2FuY2VsQWN0aXZpdHknLFxuICAnaW5zdGFudGlhdGUnLFxuICAnZXZlbnRHYXRld2F5VHlwZScsXG4gICd0cmlnZ2VyZWRCeUV2ZW50JyxcbiAgJ2lzSW50ZXJydXB0aW5nJ1xuXTtcblxuXG5cbi8qKlxuICogVGhpcyBtb2R1bGUgdGFrZXMgY2FyZSBvZiByZXBsYWNpbmcgcG9zdGl0IGVsZW1lbnRzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFBvc3RpdFJlcGxhY2UoXG4gICAgcG9zdGl0RmFjdG9yeSxcbiAgICBlbGVtZW50RmFjdG9yeSxcbiAgICBtb2RkbGVDb3B5LFxuICAgIG1vZGVsaW5nLFxuICAgIHJlcGxhY2UsXG4gICAgc2VsZWN0aW9uXG4pIHtcblxuICAvKipcbiAgICogUHJlcGFyZXMgYSBuZXcgYnVzaW5lc3Mgb2JqZWN0IGZvciB0aGUgcmVwbGFjZW1lbnQgZWxlbWVudFxuICAgKiBhbmQgdHJpZ2dlcnMgdGhlIHJlcGxhY2Ugb3BlcmF0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gIHtkanMubW9kZWwuQmFzZX0gZWxlbWVudFxuICAgKiBAcGFyYW0gIHtPYmplY3R9IHRhcmdldFxuICAgKiBAcGFyYW0gIHtPYmplY3R9IFtoaW50c11cbiAgICpcbiAgICogQHJldHVybiB7ZGpzLm1vZGVsLkJhc2V9IHRoZSBuZXdseSBjcmVhdGVkIGVsZW1lbnRcbiAgICovXG4gIGZ1bmN0aW9uIHJlcGxhY2VFbGVtZW50KGVsZW1lbnQsIHRhcmdldCwgaGludHMpIHtcblxuICAgIGhpbnRzID0gaGludHMgfHwge307XG5cbiAgICB2YXIgdHlwZSA9IHRhcmdldC50eXBlLFxuICAgICAgICBvbGRCdXNpbmVzc09iamVjdCA9IGVsZW1lbnQuYnVzaW5lc3NPYmplY3Q7XG5cbiAgICB2YXIgbmV3QnVzaW5lc3NPYmplY3QgPSBwb3N0aXRGYWN0b3J5LmNyZWF0ZSh0eXBlKTtcblxuICAgIHZhciBuZXdFbGVtZW50ID0ge1xuICAgICAgdHlwZTogdHlwZSxcbiAgICAgIGJ1c2luZXNzT2JqZWN0OiBuZXdCdXNpbmVzc09iamVjdFxuICAgIH07XG5cbiAgICB2YXIgZWxlbWVudFByb3BzID0gZ2V0UHJvcGVydHlOYW1lcyhvbGRCdXNpbmVzc09iamVjdC4kZGVzY3JpcHRvciksXG4gICAgICAgIG5ld0VsZW1lbnRQcm9wcyA9IGdldFByb3BlcnR5TmFtZXMobmV3QnVzaW5lc3NPYmplY3QuJGRlc2NyaXB0b3IsIHRydWUpLFxuICAgICAgICBjb3B5UHJvcHMgPSBpbnRlcnNlY3Rpb24oZWxlbWVudFByb3BzLCBuZXdFbGVtZW50UHJvcHMpO1xuXG4gICAgLy8gaW5pdGlhbGl6ZSBzcGVjaWFsIHByb3BlcnRpZXMgZGVmaW5lZCBpbiB0YXJnZXQgZGVmaW5pdGlvblxuICAgIGFzc2lnbihuZXdCdXNpbmVzc09iamVjdCwgcGljayh0YXJnZXQsIENVU1RPTV9QUk9QRVJUSUVTKSk7XG5cbiAgICB2YXIgcHJvcGVydGllcyA9IGNvcHlQcm9wcztcblxuICAgIG5ld0J1c2luZXNzT2JqZWN0ID0gbW9kZGxlQ29weS5jb3B5RWxlbWVudChcbiAgICAgIG9sZEJ1c2luZXNzT2JqZWN0LFxuICAgICAgbmV3QnVzaW5lc3NPYmplY3QsXG4gICAgICBwcm9wZXJ0aWVzXG4gICAgKTtcblxuICAgIG5ld0J1c2luZXNzT2JqZWN0Lm5hbWUgPSBvbGRCdXNpbmVzc09iamVjdC5uYW1lO1xuXG4gICAgbmV3RWxlbWVudC5kaSA9IHt9O1xuXG4gICAgLy8gZmlsbCBhbmQgc3Ryb2tlIHdpbGwgYmUgc2V0IHRvIERJXG4gICAgY29weVByb3BlcnRpZXMob2xkQnVzaW5lc3NPYmplY3QuZGksIG5ld0VsZW1lbnQuZGksIFtcbiAgICAgICdmaWxsJyxcbiAgICAgICdzdHJva2UnXG4gICAgXSk7XG5cbiAgICBuZXdFbGVtZW50ID0gcmVwbGFjZS5yZXBsYWNlRWxlbWVudChlbGVtZW50LCBuZXdFbGVtZW50LCBoaW50cyk7XG5cbiAgICBpZiAoaGludHMuc2VsZWN0ICE9PSBmYWxzZSkge1xuICAgICAgc2VsZWN0aW9uLnNlbGVjdChuZXdFbGVtZW50KTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3RWxlbWVudDtcbiAgfVxuXG4gIHRoaXMucmVwbGFjZUVsZW1lbnQgPSByZXBsYWNlRWxlbWVudDtcbn1cblxuUG9zdGl0UmVwbGFjZS4kaW5qZWN0ID0gW1xuICAncG9zdGl0RmFjdG9yeScsXG4gICdlbGVtZW50RmFjdG9yeScsXG4gICdtb2RkbGVDb3B5JyxcbiAgJ21vZGVsaW5nJyxcbiAgJ3JlcGxhY2UnLFxuICAnc2VsZWN0aW9uJ1xuXTtcblxuLyoqXG4gKiBDb21wdXRlIGludGVyc2VjdGlvbiBiZXR3ZWVuIHR3byBhcnJheXMuXG4gKi9cbmZ1bmN0aW9uIGludGVyc2VjdGlvbihhMSwgYTIpIHtcbiAgcmV0dXJuIGExLmZpbHRlcihmdW5jdGlvbihlbCkge1xuICAgIHJldHVybiBhMi5pbmRleE9mKGVsKSAhPT0gLTE7XG4gIH0pO1xufVxuIiwiaW1wb3J0IENvcHlQYXN0ZU1vZHVsZSBmcm9tICcuLi9jb3B5LXBhc3RlJztcbmltcG9ydCBSZXBsYWNlTW9kdWxlIGZyb20gJ2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL3JlcGxhY2UnO1xuaW1wb3J0IFNlbGVjdGlvbk1vZHVsZSBmcm9tICdkaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9zZWxlY3Rpb24nO1xuXG5pbXBvcnQgUG9zdGl0UmVwbGFjZSBmcm9tICcuL1Bvc3RpdFJlcGxhY2UnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9fZGVwZW5kc19fOiBbXG4gICAgQ29weVBhc3RlTW9kdWxlLFxuICAgIFJlcGxhY2VNb2R1bGUsXG4gICAgU2VsZWN0aW9uTW9kdWxlXG4gIF0sXG4gIHBvc3RpdFJlcGxhY2U6IFsgJ3R5cGUnLCBQb3N0aXRSZXBsYWNlIF1cbn07XG4iLCJpbXBvcnQge1xuICBmb3JFYWNoXG59IGZyb20gJ21pbi1kYXNoJztcblxuXG4vKipcbiAqIFRoaXMgbW9kdWxlIGlzIGFuIGVsZW1lbnQgYWdub3N0aWMgcmVwbGFjZSBtZW51IHByb3ZpZGVyIGZvciB0aGUgcG9wdXAgbWVudS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUmVwbGFjZU1lbnVQcm92aWRlcihcbiAgICBwb3B1cE1lbnUsIG1vZGVsaW5nLCBtb2RkbGUsXG4gICAgcG9zdGl0UmVwbGFjZSwgcnVsZXMsIHRyYW5zbGF0ZSkge1xuXG4gIHRoaXMuX3BvcHVwTWVudSA9IHBvcHVwTWVudTtcbiAgdGhpcy5fbW9kZWxpbmcgPSBtb2RlbGluZztcbiAgdGhpcy5fbW9kZGxlID0gbW9kZGxlO1xuICB0aGlzLl9wb3N0aXRSZXBsYWNlID0gcG9zdGl0UmVwbGFjZTtcbiAgdGhpcy5fcnVsZXMgPSBydWxlcztcbiAgdGhpcy5fdHJhbnNsYXRlID0gdHJhbnNsYXRlO1xuXG4gIHRoaXMucmVnaXN0ZXIoKTtcbn1cblxuUmVwbGFjZU1lbnVQcm92aWRlci4kaW5qZWN0ID0gW1xuICAncG9wdXBNZW51JyxcbiAgJ21vZGVsaW5nJyxcbiAgJ21vZGRsZScsXG4gICdwb3N0aXRSZXBsYWNlJyxcbiAgJ3J1bGVzJyxcbiAgJ3RyYW5zbGF0ZSdcbl07XG5cblxuLyoqXG4gKiBSZWdpc3RlciByZXBsYWNlIG1lbnUgcHJvdmlkZXIgaW4gdGhlIHBvcHVwIG1lbnVcbiAqL1xuUmVwbGFjZU1lbnVQcm92aWRlci5wcm90b3R5cGUucmVnaXN0ZXIgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5fcG9wdXBNZW51LnJlZ2lzdGVyUHJvdmlkZXIoJ3Bvc3RpdC1yZXBsYWNlJywgdGhpcyk7XG59O1xuXG5cbi8qKlxuICogR2V0IGFsbCBlbnRyaWVzIGZyb20gcmVwbGFjZU9wdGlvbnMgZm9yIHRoZSBnaXZlbiBlbGVtZW50IGFuZCBhcHBseSBmaWx0ZXJzXG4gKiBvbiB0aGVtLiBHZXQgZm9yIGV4YW1wbGUgb25seSBlbGVtZW50cywgd2hpY2ggYXJlIGRpZmZlcmVudCBmcm9tIHRoZSBjdXJyZW50IG9uZS5cbiAqXG4gKiBAcGFyYW0ge2Rqcy5tb2RlbC5CYXNlfSBlbGVtZW50XG4gKlxuICogQHJldHVybiB7QXJyYXk8T2JqZWN0Pn0gYSBsaXN0IG9mIG1lbnUgZW50cnkgaXRlbXNcbiAqL1xuUmVwbGFjZU1lbnVQcm92aWRlci5wcm90b3R5cGUuZ2V0RW50cmllcyA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcblxuICB2YXIgcnVsZXMgPSB0aGlzLl9ydWxlcztcblxuICB2YXIgZW50cmllcyA9IFtdO1xuXG4gIGlmICghcnVsZXMuYWxsb3dlZCgnc2hhcGUucmVwbGFjZScsIHsgZWxlbWVudDogZWxlbWVudCB9KSkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIHJldHVybiBlbnRyaWVzO1xufTtcblxuXG4vKipcbiAqIEdldCBhIGxpc3Qgb2YgaGVhZGVyIGl0ZW1zIGZvciB0aGUgZ2l2ZW4gZWxlbWVudC4gVGhpcyBpbmNsdWRlcyBidXR0b25zXG4gKiBmb3IgbXVsdGkgaW5zdGFuY2UgbWFya2VycyBhbmQgZm9yIHRoZSBhZCBob2MgbWFya2VyLlxuICpcbiAqIEBwYXJhbSB7ZGpzLm1vZGVsLkJhc2V9IGVsZW1lbnRcbiAqXG4gKiBAcmV0dXJuIHtBcnJheTxPYmplY3Q+fSBhIGxpc3Qgb2YgbWVudSBlbnRyeSBpdGVtc1xuICovXG5SZXBsYWNlTWVudVByb3ZpZGVyLnByb3RvdHlwZS5nZXRIZWFkZXJFbnRyaWVzID0gZnVuY3Rpb24oZWxlbWVudCkge1xuXG4gIHZhciBoZWFkZXJFbnRyaWVzID0gW107XG5cbiAgcmV0dXJuIGhlYWRlckVudHJpZXM7XG59O1xuXG5cbi8qKlxuICogQ3JlYXRlcyBhbiBhcnJheSBvZiBtZW51IGVudHJ5IG9iamVjdHMgZm9yIGEgZ2l2ZW4gZWxlbWVudCBhbmQgZmlsdGVycyB0aGUgcmVwbGFjZU9wdGlvbnNcbiAqIGFjY29yZGluZyB0byBhIGZpbHRlciBmdW5jdGlvbi5cbiAqXG4gKiBAcGFyYW0gIHtkanMubW9kZWwuQmFzZX0gZWxlbWVudFxuICogQHBhcmFtICB7T2JqZWN0fSByZXBsYWNlT3B0aW9uc1xuICpcbiAqIEByZXR1cm4ge0FycmF5PE9iamVjdD59IGEgbGlzdCBvZiBtZW51IGl0ZW1zXG4gKi9cblJlcGxhY2VNZW51UHJvdmlkZXIucHJvdG90eXBlLl9jcmVhdGVFbnRyaWVzID0gZnVuY3Rpb24oZWxlbWVudCwgcmVwbGFjZU9wdGlvbnMpIHtcbiAgdmFyIG1lbnVFbnRyaWVzID0gW107XG5cbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIGZvckVhY2gocmVwbGFjZU9wdGlvbnMsIGZ1bmN0aW9uKGRlZmluaXRpb24pIHtcbiAgICB2YXIgZW50cnkgPSBzZWxmLl9jcmVhdGVNZW51RW50cnkoZGVmaW5pdGlvbiwgZWxlbWVudCk7XG5cbiAgICBtZW51RW50cmllcy5wdXNoKGVudHJ5KTtcbiAgfSk7XG5cbiAgcmV0dXJuIG1lbnVFbnRyaWVzO1xufTtcblxuXG4vKipcbiAqIENyZWF0ZXMgYW5kIHJldHVybnMgYSBzaW5nbGUgbWVudSBlbnRyeSBpdGVtLlxuICpcbiAqIEBwYXJhbSAge09iamVjdH0gZGVmaW5pdGlvbiBhIHNpbmdsZSByZXBsYWNlIG9wdGlvbnMgZGVmaW5pdGlvbiBvYmplY3RcbiAqIEBwYXJhbSAge2Rqcy5tb2RlbC5CYXNlfSBlbGVtZW50XG4gKiBAcGFyYW0gIHtGdW5jdGlvbn0gW2FjdGlvbl0gYW4gYWN0aW9uIGNhbGxiYWNrIGZ1bmN0aW9uIHdoaWNoIGdldHMgY2FsbGVkIHdoZW5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGUgbWVudSBlbnRyeSBpcyBiZWluZyB0cmlnZ2VyZWQuXG4gKlxuICogQHJldHVybiB7T2JqZWN0fSBtZW51IGVudHJ5IGl0ZW1cbiAqL1xuUmVwbGFjZU1lbnVQcm92aWRlci5wcm90b3R5cGUuX2NyZWF0ZU1lbnVFbnRyeSA9IGZ1bmN0aW9uKGRlZmluaXRpb24sIGVsZW1lbnQsIGFjdGlvbikge1xuICB2YXIgdHJhbnNsYXRlID0gdGhpcy5fdHJhbnNsYXRlO1xuICB2YXIgcmVwbGFjZUVsZW1lbnQgPSB0aGlzLl9wb3N0aXRSZXBsYWNlLnJlcGxhY2VFbGVtZW50O1xuXG4gIHZhciByZXBsYWNlQWN0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHJlcGxhY2VFbGVtZW50KGVsZW1lbnQsIGRlZmluaXRpb24udGFyZ2V0KTtcbiAgfTtcblxuICBhY3Rpb24gPSBhY3Rpb24gfHwgcmVwbGFjZUFjdGlvbjtcblxuICB2YXIgbWVudUVudHJ5ID0ge1xuICAgIGxhYmVsOiB0cmFuc2xhdGUoZGVmaW5pdGlvbi5sYWJlbCksXG4gICAgY2xhc3NOYW1lOiBkZWZpbml0aW9uLmNsYXNzTmFtZSxcbiAgICBpZDogZGVmaW5pdGlvbi5hY3Rpb25OYW1lLFxuICAgIGFjdGlvbjogYWN0aW9uXG4gIH07XG5cbiAgcmV0dXJuIG1lbnVFbnRyeTtcbn07XG4iLCJpbXBvcnQgUG9wdXBNZW51TW9kdWxlIGZyb20gJ2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL3BvcHVwLW1lbnUnO1xuaW1wb3J0IFJlcGxhY2VNb2R1bGUgZnJvbSAnLi4vcmVwbGFjZSc7XG5cbmltcG9ydCBSZXBsYWNlTWVudVByb3ZpZGVyIGZyb20gJy4vUmVwbGFjZU1lbnVQcm92aWRlcic7XG5cblxuZXhwb3J0IGRlZmF1bHQge1xuICBfX2RlcGVuZHNfXzogW1xuICAgIFBvcHVwTWVudU1vZHVsZSxcbiAgICBSZXBsYWNlTW9kdWxlXG4gIF0sXG4gIF9faW5pdF9fOiBbICdyZXBsYWNlTWVudVByb3ZpZGVyJyBdLFxuICByZXBsYWNlTWVudVByb3ZpZGVyOiBbICd0eXBlJywgUmVwbGFjZU1lbnVQcm92aWRlciBdXG59OyIsImltcG9ydCB7XG4gIGFzc2lnbixcbiAgaXNBcnJheSxcbiAga2V5cyxcbiAgZm9yRWFjaFxufSBmcm9tICdtaW4tZGFzaCc7XG5cbmltcG9ydCB7XG4gIGhhc1ByaW1hcnlNb2RpZmllclxufSBmcm9tICdkaWFncmFtLWpzL2xpYi91dGlsL01vdXNlJztcblxuaW1wb3J0IENPTE9SUyBmcm9tICcuLi8uLi91dGlsL0NvbG9yVXRpbCc7XG5pbXBvcnQgeyBpcywgZ2V0QnVzaW5lc3NPYmplY3QgfSBmcm9tICcuLi8uLi91dGlsL01vZGVsVXRpbCc7XG5cblxuLyoqXG4gKiBBIHByb3ZpZGVyIGZvciBwb3N0aXQgZWxlbWVudHMgY29udGV4dCBwYWRcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ29udGV4dFBhZFByb3ZpZGVyKFxuICAgIGNvbmZpZywgaW5qZWN0b3IsIGV2ZW50QnVzLFxuICAgIGNvbnRleHRQYWQsIG1vZGVsaW5nLCBydWxlcyxcbiAgICBpbWFnZVNlbGVjdGlvbiwgdHJhbnNsYXRlKSB7XG5cbiAgY29uZmlnID0gY29uZmlnIHx8IHt9O1xuXG4gIGNvbnRleHRQYWQucmVnaXN0ZXJQcm92aWRlcih0aGlzKTtcblxuICB0aGlzLl9jb250ZXh0UGFkID0gY29udGV4dFBhZDtcblxuICB0aGlzLl9tb2RlbGluZyA9IG1vZGVsaW5nO1xuXG4gIHRoaXMuX3J1bGVzID0gcnVsZXM7XG4gIHRoaXMuX2ltYWdlU2VsZWN0aW9uID0gaW1hZ2VTZWxlY3Rpb247XG4gIHRoaXMuX3RyYW5zbGF0ZSA9IHRyYW5zbGF0ZTtcblxuICBpZiAoY29uZmlnLmF1dG9QbGFjZSAhPT0gZmFsc2UpIHtcbiAgICB0aGlzLl9hdXRvUGxhY2UgPSBpbmplY3Rvci5nZXQoJ2F1dG9QbGFjZScsIGZhbHNlKTtcbiAgfVxuXG4gIGV2ZW50QnVzLm9uKCdjcmVhdGUuZW5kJywgMjUwLCBmdW5jdGlvbihldmVudCkge1xuICAgIHZhciBjb250ZXh0ID0gZXZlbnQuY29udGV4dCxcbiAgICAgICAgc2hhcGUgPSBjb250ZXh0LnNoYXBlO1xuXG4gICAgaWYgKCFoYXNQcmltYXJ5TW9kaWZpZXIoZXZlbnQpIHx8ICFjb250ZXh0UGFkLmlzT3BlbihzaGFwZSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgZW50cmllcyA9IGNvbnRleHRQYWQuZ2V0RW50cmllcyhzaGFwZSk7XG5cbiAgICBpZiAoZW50cmllcy5yZXBsYWNlKSB7XG4gICAgICBlbnRyaWVzLnJlcGxhY2UuYWN0aW9uLmNsaWNrKGV2ZW50LCBzaGFwZSk7XG4gICAgfVxuICB9KTtcbn1cblxuQ29udGV4dFBhZFByb3ZpZGVyLiRpbmplY3QgPSBbXG4gICdjb25maWcuY29udGV4dFBhZCcsXG4gICdpbmplY3RvcicsXG4gICdldmVudEJ1cycsXG4gICdjb250ZXh0UGFkJyxcbiAgJ21vZGVsaW5nJyxcbiAgJ3J1bGVzJyxcbiAgJ2ltYWdlU2VsZWN0aW9uJyxcbiAgJ3RyYW5zbGF0ZSdcbl07XG5cblxuQ29udGV4dFBhZFByb3ZpZGVyLnByb3RvdHlwZS5nZXRDb250ZXh0UGFkRW50cmllcyA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcblxuICBjb25zdCB7XG4gICAgX3J1bGVzOiBydWxlcyxcbiAgICBfbW9kZWxpbmc6IG1vZGVsaW5nLFxuICAgIF9pbWFnZVNlbGVjdGlvbjogaW1hZ2VTZWxlY3Rpb24sXG4gICAgX3RyYW5zbGF0ZTogdHJhbnNsYXRlXG4gIH0gPSB0aGlzO1xuXG4gIGxldCBhY3Rpb25zID0ge307XG5cbiAgZnVuY3Rpb24gX3JlbW92ZUVsZW1lbnQoZSkge1xuICAgIHZhciB1cmxQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpO1xuICAgIHZhciBzX2tleSA9IHVybFBhcmFtcy5nZXQoJ3Nfa2V5Jyk7XG4gICAgaWYoIHNfa2V5ID09PSBudWxsICkge1xuICAgICAgc2hlcGhlcmRBbGVydChcIlNjcmlwdCBSZXF1aXJlZFwiLCBcIllvdSBtdXN0IG9wZW4gYSBzY3JpcHQgdG8gdXBkYXRlIGl0J3Mgbm90ZXMuXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkLmFqYXgoe1xuICAgICAgICB0eXBlOiBcIkRFTEVURVwiLFxuICAgICAgICBiZWZvcmVTZW5kOiBmdW5jdGlvbih4aHIpIHtcbiAgICAgICAgICAgICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcignWC1DU1JGLVRva2VuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnbWV0YVtuYW1lPVwiY3NyZi10b2tlblwiXScpLmF0dHIoJ2NvbnRlbnQnKSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgIHVybDogXCIvc2NyaXB0cy9cIiArIHNfa2V5ICsgXCIvZGVzdHJveV9pbWFnZS9cIiArIGVsZW1lbnQuYnVzaW5lc3NPYmplY3QuJGF0dHJzW1wia2V5XCJdLFxuICAgICAgICByZXNwb25zZVR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgICAgZmFpbHVyZTogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgIC8vIENvbnNjaW91c2x5IG5vdCBkb2luZyBhbnl0aGluZy4gRmFpbCBzaWxlbnRseSBhbmQgY2xlYW4gdXBcbiAgICAgICAgICAvLyBsYXRlci5cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIG1vZGVsaW5nLnJlbW92ZUVsZW1lbnRzKFsgZWxlbWVudCBdKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbW92ZUVsZW1lbnQoZSkge1xuICAgIGlmKCBlbGVtZW50LnR5cGUgPT09IFwicG9zdGl0OkltYWdlXCIgJiZcbiAgICAgICAgZWxlbWVudC5idXNpbmVzc09iamVjdC4kYXR0cnNbXCJrZXlcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgc2hlcGhlcmRDb25maXJtKFwiQ29uZmlybSBEZWxldGU/XCIsIFwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSB0aGlzIGVsZW1lbnQ/XCIsIF9yZW1vdmVFbGVtZW50LCBbZV0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBtb2RlbGluZy5yZW1vdmVFbGVtZW50cyhbIGVsZW1lbnQgXSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2V0Q29sb3IoY29sb3IpIHtcbiAgICBtb2RlbGluZy5zZXRDb2xvcihlbGVtZW50LCBjb2xvcik7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVEZWxldGVFbnRyeShhY3Rpb25zKSB7XG5cbiAgICAvLyBkZWxldGUgZWxlbWVudCBlbnRyeSwgb25seSBzaG93IGlmIGFsbG93ZWQgYnkgcnVsZXNcbiAgICBsZXQgZGVsZXRlQWxsb3dlZCA9IHJ1bGVzLmFsbG93ZWQoJ2VsZW1lbnRzLmRlbGV0ZScsIHsgZWxlbWVudHM6IFsgZWxlbWVudCBdIH0pO1xuXG4gICAgaWYgKGlzQXJyYXkoZGVsZXRlQWxsb3dlZCkpIHtcblxuICAgICAgLy8gd2FzIHRoZSBlbGVtZW50IHJldHVybmVkIGFzIGEgZGVsZXRpb24gY2FuZGlkYXRlP1xuICAgICAgZGVsZXRlQWxsb3dlZCA9IGRlbGV0ZUFsbG93ZWRbMF0gPT09IGVsZW1lbnQ7XG4gICAgfVxuXG4gICAgaWYgKGRlbGV0ZUFsbG93ZWQpIHtcbiAgICAgIGFzc2lnbihhY3Rpb25zLCB7XG4gICAgICAgICdkZWxldGUnOiB7XG4gICAgICAgICAgZ3JvdXA6ICdlZGl0JyxcbiAgICAgICAgICBjbGFzc05hbWU6ICdicG1uLWljb24tdHJhc2gnLFxuICAgICAgICAgIHRpdGxlOiB0cmFuc2xhdGUoJ1JlbW92ZScpLFxuICAgICAgICAgIGFjdGlvbjoge1xuICAgICAgICAgICAgY2xpY2s6IHJlbW92ZUVsZW1lbnRcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUNvbG9yaW5nRW50cmllcyhhY3Rpb25zKSB7XG4gICAgZm9yRWFjaChrZXlzKENPTE9SUyksIGtleSA9PiB7XG4gICAgICB2YXIgY29sb3IgPSBDT0xPUlNba2V5XTtcblxuICAgICAgZnVuY3Rpb24gZ2V0Q2xhc3NOYW1lcygpIHtcbiAgICAgICAgdmFyIGNsYXNzTmFtZXMgPSBbXTtcblxuICAgICAgICBpZiAoY29sb3IgPT09IGdldENvbG9yKGVsZW1lbnQpKSB7XG5cbiAgICAgICAgICBjbGFzc05hbWVzLnB1c2goJ3Bqcy1jb2xvci1lbnRyeS1kaXNhYmxlZCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgY2xhc3NOYW1lcy5wdXNoKCdwanMtY29sb3ItZW50cnktJyArIGtleSk7XG5cbiAgICAgICAgcmV0dXJuIGNsYXNzTmFtZXM7XG4gICAgICB9XG5cbiAgICAgIGFzc2lnbihhY3Rpb25zLCB7XG4gICAgICAgIFsnY29sb3ItJyArIGtleV06IHtcbiAgICAgICAgICBncm91cDogJ2NvbG9yJyxcbiAgICAgICAgICBjbGFzc05hbWU6IGdldENsYXNzTmFtZXMoKSxcbiAgICAgICAgICB0aXRsZTogdHJhbnNsYXRlKCdTZXQgQ29sb3InKSxcbiAgICAgICAgICBhY3Rpb246IHtcbiAgICAgICAgICAgIGNsaWNrOiAoZXZlbnQpID0+IHNldENvbG9yKGNvbG9yKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBpZiAoZWxlbWVudC50eXBlID09PSAnbGFiZWwnKSB7XG4gICAgcmV0dXJuIGFjdGlvbnM7XG4gIH1cblxuICBpZiAoaXMoZWxlbWVudCwgJ3Bvc3RpdDpQb3N0aXQnKSkge1xuICAgIGNyZWF0ZUNvbG9yaW5nRW50cmllcyhhY3Rpb25zKTtcbiAgfVxuXG4gIGlmIChpcyhlbGVtZW50LCAncG9zdGl0OkltYWdlJykpIHtcbiAgICBhc3NpZ24oYWN0aW9ucywge1xuICAgICAgJ3JlcGxhY2UuaW1hZ2UnOiB7XG4gICAgICAgIGdyb3VwOiAncmVwbGFjZScsXG4gICAgICAgIGNsYXNzTmFtZTogJ2JwbW4taWNvbi1zY3Jldy13cmVuY2gnLFxuICAgICAgICB0aXRsZTogdHJhbnNsYXRlKCdDaGFuZ2UgaW1hZ2Ugc291cmNlJyksXG4gICAgICAgIGFjdGlvbjoge1xuICAgICAgICAgIGNsaWNrOiAoZXZlbnQpID0+IGltYWdlU2VsZWN0aW9uLnNlbGVjdChlbGVtZW50KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBjcmVhdGVEZWxldGVFbnRyeShhY3Rpb25zKTtcblxuICByZXR1cm4gYWN0aW9ucztcbn07XG5cbi8vIGhlbHBlcnMgLy8vLy8vLy8vL1xuXG5mdW5jdGlvbiBnZXRDb2xvcihlbGVtZW50KSB7XG4gIHZhciBibyA9IGdldEJ1c2luZXNzT2JqZWN0KGVsZW1lbnQpO1xuXG4gIHJldHVybiBiby5jb2xvciB8fCBlbGVtZW50LmNvbG9yO1xufVxuIiwiaW1wb3J0IERpcmVjdEVkaXRpbmdNb2R1bGUgZnJvbSAnZGlhZ3JhbS1qcy1kaXJlY3QtZWRpdGluZyc7XG5pbXBvcnQgQ29udGV4dFBhZE1vZHVsZSBmcm9tICdkaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9jb250ZXh0LXBhZCc7XG5pbXBvcnQgU2VsZWN0aW9uTW9kdWxlIGZyb20gJ2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL3NlbGVjdGlvbic7XG5pbXBvcnQgQ29ubmVjdE1vZHVsZSBmcm9tICdkaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9jb25uZWN0JztcbmltcG9ydCBDcmVhdGVNb2R1bGUgZnJvbSAnZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvY3JlYXRlJztcbmltcG9ydCBQb3B1cE1lbnVNb2R1bGUgZnJvbSAnLi4vcG9wdXAtbWVudSc7XG5cbmltcG9ydCBDb250ZXh0UGFkUHJvdmlkZXIgZnJvbSAnLi9Db250ZXh0UGFkUHJvdmlkZXInO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9fZGVwZW5kc19fOiBbXG4gICAgRGlyZWN0RWRpdGluZ01vZHVsZSxcbiAgICBDb250ZXh0UGFkTW9kdWxlLFxuICAgIFNlbGVjdGlvbk1vZHVsZSxcbiAgICBDb25uZWN0TW9kdWxlLFxuICAgIENyZWF0ZU1vZHVsZSxcbiAgICBQb3B1cE1lbnVNb2R1bGVcbiAgXSxcbiAgX19pbml0X186IFsgJ2NvbnRleHRQYWRQcm92aWRlcicgXSxcbiAgY29udGV4dFBhZFByb3ZpZGVyOiBbICd0eXBlJywgQ29udGV4dFBhZFByb3ZpZGVyIF1cbn07IiwiaW1wb3J0IHtcbiAgZm9yRWFjaCxcbiAgaXNBcnJheVxufSBmcm9tICdtaW4tZGFzaCc7XG5cbnZhciBOT1RfUkVHSVNURVJFRF9FUlJPUiA9ICdpcyBub3QgYSByZWdpc3RlcmVkIGFjdGlvbicsXG4gICAgSVNfUkVHSVNURVJFRF9FUlJPUiA9ICdpcyBhbHJlYWR5IHJlZ2lzdGVyZWQnO1xuXG5cbi8qKlxuICogQW4gaW50ZXJmYWNlIHRoYXQgcHJvdmlkZXMgYWNjZXNzIHRvIG1vZGVsaW5nIGFjdGlvbnMgYnkgZGVjb3VwbGluZ1xuICogdGhlIG9uZSB3aG8gcmVxdWVzdHMgdGhlIGFjdGlvbiB0byBiZSB0cmlnZ2VyZWQgYW5kIHRoZSB0cmlnZ2VyIGl0c2VsZi5cbiAqXG4gKiBJdCdzIHBvc3NpYmxlIHRvIGFkZCBuZXcgYWN0aW9ucyBieSByZWdpc3RlcmluZyB0aGVtIHdpdGggwrRyZWdpc3RlckFjdGlvbsK0XG4gKiBhbmQgbGlrZXdpc2UgdW5yZWdpc3RlciBleGlzdGluZyBvbmVzIHdpdGggwrR1bnJlZ2lzdGVyQWN0aW9uwrQuXG4gKlxuICpcbiAqICMjIExpZmUtQ3ljbGUgYW5kIGNvbmZpZ3VyYXRpb25cbiAqXG4gKiBUaGUgZWRpdG9yIGFjdGlvbnMgd2lsbCB3YWl0IGZvciBkaWFncmFtIGluaXRpYWxpemF0aW9uIGJlZm9yZVxuICogcmVnaXN0ZXJpbmcgZGVmYXVsdCBhY3Rpb25zIF9hbmRfIGZpcmluZyBhbiBgZWRpdG9yQWN0aW9ucy5pbml0YCBldmVudC5cbiAqXG4gKiBJbnRlcmVzdGVkIHBhcnRpZXMgbWF5IGxpc3RlbiB0byB0aGUgYGVkaXRvckFjdGlvbnMuaW5pdGAgZXZlbnQgd2l0aFxuICogbG93IHByaW9yaXR5IHRvIGNoZWNrLCB3aGljaCBhY3Rpb25zIGdvdCByZWdpc3RlcmVkLiBPdGhlciBjb21wb25lbnRzXG4gKiBtYXkgdXNlIHRoZSBldmVudCB0byByZWdpc3RlciB0aGVpciBvd24gYWN0aW9ucyB2aWEgYHJlZ2lzdGVyQWN0aW9uYC5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50QnVzfSBldmVudEJ1c1xuICogQHBhcmFtIHtJbmplY3Rvcn0gaW5qZWN0b3JcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gRWRpdG9yQWN0aW9ucyhldmVudEJ1cywgaW5qZWN0b3IpIHtcblxuICAvLyBpbml0aWFsaXplIGFjdGlvbnNcbiAgdGhpcy5fYWN0aW9ucyA9IHt9O1xuXG4gIHZhciBzZWxmID0gdGhpcztcblxuICBldmVudEJ1cy5vbignZGlhZ3JhbS5pbml0JywgZnVuY3Rpb24oKSB7XG5cbiAgICAvLyBhbGwgZGlhZ3JhbSBtb2R1bGVzIGdvdCBsb2FkZWQ7IGNoZWNrIHdoaWNoIG9uZXNcbiAgICAvLyBhcmUgYXZhaWxhYmxlIGFuZCByZWdpc3RlciB0aGUgcmVzcGVjdGl2ZSBkZWZhdWx0IGFjdGlvbnNcbiAgICBzZWxmLl9yZWdpc3RlckRlZmF1bHRBY3Rpb25zKGluamVjdG9yKTtcblxuICAgIC8vIGFzayBpbnRlcmVzdGVkIHBhcnRpZXMgdG8gcmVnaXN0ZXIgYXZhaWxhYmxlIGVkaXRvclxuICAgIC8vIGFjdGlvbnMgb24gZGlhZ3JhbSBpbml0aWFsaXphdGlvblxuICAgIGV2ZW50QnVzLmZpcmUoJ2VkaXRvckFjdGlvbnMuaW5pdCcsIHtcbiAgICAgIGVkaXRvckFjdGlvbnM6IHNlbGZcbiAgICB9KTtcbiAgfSk7XG5cbn1cblxuRWRpdG9yQWN0aW9ucy4kaW5qZWN0ID0gW1xuICAnZXZlbnRCdXMnLFxuICAnaW5qZWN0b3InXG5dO1xuXG4vKipcbiAqIFJlZ2lzdGVyIGRlZmF1bHQgYWN0aW9ucy5cbiAqXG4gKiBAcGFyYW0ge0luamVjdG9yfSBpbmplY3RvclxuICovXG5FZGl0b3JBY3Rpb25zLnByb3RvdHlwZS5fcmVnaXN0ZXJEZWZhdWx0QWN0aW9ucyA9IGZ1bmN0aW9uKGluamVjdG9yKSB7XG5cbiAgLy8gKDEpIHJldHJpZXZlIG9wdGlvbmFsIGNvbXBvbmVudHMgdG8gaW50ZWdyYXRlIHdpdGhcblxuICB2YXIgY29tbWFuZFN0YWNrID0gaW5qZWN0b3IuZ2V0KCdjb21tYW5kU3RhY2snLCBmYWxzZSk7XG4gIHZhciBtb2RlbGluZyA9IGluamVjdG9yLmdldCgnbW9kZWxpbmcnLCBmYWxzZSk7XG4gIHZhciBzZWxlY3Rpb24gPSBpbmplY3Rvci5nZXQoJ3NlbGVjdGlvbicsIGZhbHNlKTtcbiAgdmFyIHpvb21TY3JvbGwgPSBpbmplY3Rvci5nZXQoJ3pvb21TY3JvbGwnLCBmYWxzZSk7XG4gIHZhciBjb3B5UGFzdGUgPSBpbmplY3Rvci5nZXQoJ2NvcHlQYXN0ZScsIGZhbHNlKTtcbiAgdmFyIGNhbnZhcyA9IGluamVjdG9yLmdldCgnY2FudmFzJywgZmFsc2UpO1xuICB2YXIgcnVsZXMgPSBpbmplY3Rvci5nZXQoJ3J1bGVzJywgZmFsc2UpO1xuICB2YXIga2V5Ym9hcmRNb3ZlID0gaW5qZWN0b3IuZ2V0KCdrZXlib2FyZE1vdmUnLCBmYWxzZSk7XG4gIHZhciBrZXlib2FyZE1vdmVTZWxlY3Rpb24gPSBpbmplY3Rvci5nZXQoJ2tleWJvYXJkTW92ZVNlbGVjdGlvbicsIGZhbHNlKTtcblxuICAvLyAoMikgY2hlY2sgY29tcG9uZW50cyBhbmQgcmVnaXN0ZXIgYWN0aW9uc1xuXG4gIGlmIChjb21tYW5kU3RhY2spIHtcbiAgICB0aGlzLnJlZ2lzdGVyKCd1bmRvJywgZnVuY3Rpb24oKSB7XG4gICAgICBjb21tYW5kU3RhY2sudW5kbygpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5yZWdpc3RlcigncmVkbycsIGZ1bmN0aW9uKCkge1xuICAgICAgY29tbWFuZFN0YWNrLnJlZG8oKTtcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChjb3B5UGFzdGUgJiYgc2VsZWN0aW9uKSB7XG4gICAgdGhpcy5yZWdpc3RlcignY29weScsIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGVjdGVkRWxlbWVudHMgPSBzZWxlY3Rpb24uZ2V0KCk7XG5cbiAgICAgIGNvcHlQYXN0ZS5jb3B5KHNlbGVjdGVkRWxlbWVudHMpO1xuICAgIH0pO1xuICB9XG5cbiAgaWYgKGNvcHlQYXN0ZSkge1xuICAgIHRoaXMucmVnaXN0ZXIoJ3Bhc3RlJywgZnVuY3Rpb24oKSB7XG4gICAgICBjb3B5UGFzdGUucGFzdGUoKTtcbiAgICB9KTtcbiAgfVxuXG4gIGlmICh6b29tU2Nyb2xsKSB7XG4gICAgdGhpcy5yZWdpc3Rlcignc3RlcFpvb20nLCBmdW5jdGlvbihvcHRzKSB7XG4gICAgICB6b29tU2Nyb2xsLnN0ZXBab29tKG9wdHMudmFsdWUpO1xuICAgIH0pO1xuICB9XG5cbiAgaWYgKGNhbnZhcykge1xuICAgIHRoaXMucmVnaXN0ZXIoJ3pvb20nLCBmdW5jdGlvbihvcHRzKSB7XG4gICAgICBjYW52YXMuem9vbShvcHRzLnZhbHVlKTtcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChtb2RlbGluZyAmJiBzZWxlY3Rpb24gJiYgcnVsZXMpIHtcbiAgICB0aGlzLnJlZ2lzdGVyKCdyZW1vdmVTZWxlY3Rpb24nLCBmdW5jdGlvbigpIHtcblxuICAgICAgdmFyIHNlbGVjdGVkRWxlbWVudHMgPSBzZWxlY3Rpb24uZ2V0KCk7XG5cbiAgICAgIGlmICghc2VsZWN0ZWRFbGVtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgYWxsb3dlZCA9IHJ1bGVzLmFsbG93ZWQoJ2VsZW1lbnRzLmRlbGV0ZScsIHsgZWxlbWVudHM6IHNlbGVjdGVkRWxlbWVudHMgfSksXG4gICAgICAgICAgcmVtb3ZhYmxlRWxlbWVudHM7XG5cbiAgICAgIGlmIChhbGxvd2VkID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChpc0FycmF5KGFsbG93ZWQpKSB7XG4gICAgICAgIHJlbW92YWJsZUVsZW1lbnRzID0gYWxsb3dlZDtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICByZW1vdmFibGVFbGVtZW50cyA9IHNlbGVjdGVkRWxlbWVudHM7XG4gICAgICB9XG5cbiAgICAgIGlmIChyZW1vdmFibGVFbGVtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgbW9kZWxpbmcucmVtb3ZlRWxlbWVudHMocmVtb3ZhYmxlRWxlbWVudHMuc2xpY2UoKSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBpZiAoa2V5Ym9hcmRNb3ZlKSB7XG4gICAgdGhpcy5yZWdpc3RlcignbW92ZUNhbnZhcycsIGZ1bmN0aW9uKG9wdHMpIHtcbiAgICAgIGtleWJvYXJkTW92ZS5tb3ZlQ2FudmFzKG9wdHMpO1xuICAgIH0pO1xuICB9XG5cbiAgaWYgKGtleWJvYXJkTW92ZVNlbGVjdGlvbikge1xuICAgIHRoaXMucmVnaXN0ZXIoJ21vdmVTZWxlY3Rpb24nLCBmdW5jdGlvbihvcHRzKSB7XG4gICAgICBrZXlib2FyZE1vdmVTZWxlY3Rpb24ubW92ZVNlbGVjdGlvbihvcHRzLmRpcmVjdGlvbiwgb3B0cy5hY2NlbGVyYXRlZCk7XG4gICAgfSk7XG4gIH1cblxufTtcblxuXG4vKipcbiAqIFRyaWdnZXJzIGEgcmVnaXN0ZXJlZCBhY3Rpb25cbiAqXG4gKiBAcGFyYW0gIHtzdHJpbmd9IGFjdGlvblxuICogQHBhcmFtICB7T2JqZWN0fSBvcHRzXG4gKlxuICogQHJldHVybiB7VW5rbm93bn0gUmV0dXJucyB3aGF0IHRoZSByZWdpc3RlcmVkIGxpc3RlbmVyIHJldHVybnNcbiAqL1xuRWRpdG9yQWN0aW9ucy5wcm90b3R5cGUudHJpZ2dlciA9IGZ1bmN0aW9uKGFjdGlvbiwgb3B0cykge1xuICBpZiAoIXRoaXMuX2FjdGlvbnNbYWN0aW9uXSkge1xuICAgIHRocm93IGVycm9yKGFjdGlvbiwgTk9UX1JFR0lTVEVSRURfRVJST1IpO1xuICB9XG5cbiAgcmV0dXJuIHRoaXMuX2FjdGlvbnNbYWN0aW9uXShvcHRzKTtcbn07XG5cblxuLyoqXG4gKiBSZWdpc3RlcnMgYSBjb2xsZWN0aW9ucyBvZiBhY3Rpb25zLlxuICogVGhlIGtleSBvZiB0aGUgb2JqZWN0IHdpbGwgYmUgdGhlIG5hbWUgb2YgdGhlIGFjdGlvbi5cbiAqXG4gKiBAZXhhbXBsZVxuICogwrTCtMK0XG4gKiB2YXIgYWN0aW9ucyA9IHtcbiAqICAgc3BhY2VUb29sOiBmdW5jdGlvbigpIHtcbiAqICAgICBzcGFjZVRvb2wuYWN0aXZhdGVTZWxlY3Rpb24oKTtcbiAqICAgfSxcbiAqICAgbGFzc29Ub29sOiBmdW5jdGlvbigpIHtcbiAqICAgICBsYXNzb1Rvb2wuYWN0aXZhdGVTZWxlY3Rpb24oKTtcbiAqICAgfVxuICogXTtcbiAqXG4gKiBlZGl0b3JBY3Rpb25zLnJlZ2lzdGVyKGFjdGlvbnMpO1xuICpcbiAqIGVkaXRvckFjdGlvbnMuaXNSZWdpc3RlcmVkKCdzcGFjZVRvb2wnKTsgLy8gdHJ1ZVxuICogwrTCtMK0XG4gKlxuICogQHBhcmFtICB7T2JqZWN0fSBhY3Rpb25zXG4gKi9cbkVkaXRvckFjdGlvbnMucHJvdG90eXBlLnJlZ2lzdGVyID0gZnVuY3Rpb24oYWN0aW9ucywgbGlzdGVuZXIpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIGlmICh0eXBlb2YgYWN0aW9ucyA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gdGhpcy5fcmVnaXN0ZXJBY3Rpb24oYWN0aW9ucywgbGlzdGVuZXIpO1xuICB9XG5cbiAgZm9yRWFjaChhY3Rpb25zLCBmdW5jdGlvbihsaXN0ZW5lciwgYWN0aW9uKSB7XG4gICAgc2VsZi5fcmVnaXN0ZXJBY3Rpb24oYWN0aW9uLCBsaXN0ZW5lcik7XG4gIH0pO1xufTtcblxuLyoqXG4gKiBSZWdpc3RlcnMgYSBsaXN0ZW5lciB0byBhbiBhY3Rpb24ga2V5XG4gKlxuICogQHBhcmFtICB7c3RyaW5nfSBhY3Rpb25cbiAqIEBwYXJhbSAge0Z1bmN0aW9ufSBsaXN0ZW5lclxuICovXG5FZGl0b3JBY3Rpb25zLnByb3RvdHlwZS5fcmVnaXN0ZXJBY3Rpb24gPSBmdW5jdGlvbihhY3Rpb24sIGxpc3RlbmVyKSB7XG4gIGlmICh0aGlzLmlzUmVnaXN0ZXJlZChhY3Rpb24pKSB7XG4gICAgdGhyb3cgZXJyb3IoYWN0aW9uLCBJU19SRUdJU1RFUkVEX0VSUk9SKTtcbiAgfVxuXG4gIHRoaXMuX2FjdGlvbnNbYWN0aW9uXSA9IGxpc3RlbmVyO1xufTtcblxuLyoqXG4gKiBVbnJlZ2lzdGVyIGFuIGV4aXN0aW5nIGFjdGlvblxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBhY3Rpb25cbiAqL1xuRWRpdG9yQWN0aW9ucy5wcm90b3R5cGUudW5yZWdpc3RlciA9IGZ1bmN0aW9uKGFjdGlvbikge1xuICBpZiAoIXRoaXMuaXNSZWdpc3RlcmVkKGFjdGlvbikpIHtcbiAgICB0aHJvdyBlcnJvcihhY3Rpb24sIE5PVF9SRUdJU1RFUkVEX0VSUk9SKTtcbiAgfVxuXG4gIHRoaXMuX2FjdGlvbnNbYWN0aW9uXSA9IHVuZGVmaW5lZDtcbn07XG5cbi8qKlxuICogUmV0dXJucyB0aGUgbnVtYmVyIG9mIGFjdGlvbnMgdGhhdCBhcmUgY3VycmVudGx5IHJlZ2lzdGVyZWRcbiAqXG4gKiBAcmV0dXJuIHtudW1iZXJ9XG4gKi9cbkVkaXRvckFjdGlvbnMucHJvdG90eXBlLmdldEFjdGlvbnMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuX2FjdGlvbnMpO1xufTtcblxuLyoqXG4gKiBDaGVja3Mgd2V0aGVyIHRoZSBnaXZlbiBhY3Rpb24gaXMgcmVnaXN0ZXJlZFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBhY3Rpb25cbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5FZGl0b3JBY3Rpb25zLnByb3RvdHlwZS5pc1JlZ2lzdGVyZWQgPSBmdW5jdGlvbihhY3Rpb24pIHtcbiAgcmV0dXJuICEhdGhpcy5fYWN0aW9uc1thY3Rpb25dO1xufTtcblxuXG5mdW5jdGlvbiBlcnJvcihhY3Rpb24sIG1lc3NhZ2UpIHtcbiAgcmV0dXJuIG5ldyBFcnJvcihhY3Rpb24gKyAnICcgKyBtZXNzYWdlKTtcbn1cbiIsImltcG9ydCBFZGl0b3JBY3Rpb25zIGZyb20gJy4vRWRpdG9yQWN0aW9ucyc7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgX19pbml0X186IFsgJ2VkaXRvckFjdGlvbnMnIF0sXG4gIGVkaXRvckFjdGlvbnM6IFsgJ3R5cGUnLCBFZGl0b3JBY3Rpb25zIF1cbn07XG4iLCJpbXBvcnQgaW5oZXJpdHMgZnJvbSAnaW5oZXJpdHMnO1xuXG5pbXBvcnQgRWRpdG9yQWN0aW9ucyBmcm9tICdkaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9lZGl0b3ItYWN0aW9ucy9FZGl0b3JBY3Rpb25zJztcblxuaW1wb3J0IHtcbiAgZ2V0QkJveFxufSBmcm9tICdkaWFncmFtLWpzL2xpYi91dGlsL0VsZW1lbnRzJztcblxuXG4vKipcbiAqIFJlZ2lzdGVycyBhbmQgZXhlY3V0ZXMgUG9zdGl0IHNwZWNpZmljIGVkaXRvciBhY3Rpb25zLlxuICpcbiAqIEBwYXJhbSB7SW5qZWN0b3J9IGluamVjdG9yXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFBvc3RpdEVkaXRvckFjdGlvbnMoaW5qZWN0b3IpIHtcbiAgaW5qZWN0b3IuaW52b2tlKEVkaXRvckFjdGlvbnMsIHRoaXMpO1xufVxuXG5pbmhlcml0cyhQb3N0aXRFZGl0b3JBY3Rpb25zLCBFZGl0b3JBY3Rpb25zKTtcblxuUG9zdGl0RWRpdG9yQWN0aW9ucy4kaW5qZWN0ID0gW1xuICAnaW5qZWN0b3InXG5dO1xuXG4vKipcbiAqIFJlZ2lzdGVyIGRlZmF1bHQgYWN0aW9ucy5cbiAqXG4gKiBAcGFyYW0ge0luamVjdG9yfSBpbmplY3RvclxuICovXG5Qb3N0aXRFZGl0b3JBY3Rpb25zLnByb3RvdHlwZS5fcmVnaXN0ZXJEZWZhdWx0QWN0aW9ucyA9IGZ1bmN0aW9uKGluamVjdG9yKSB7XG5cbiAgLy8gKDApIGludm9rZSBzdXBlciBtZXRob2RcblxuICBFZGl0b3JBY3Rpb25zLnByb3RvdHlwZS5fcmVnaXN0ZXJEZWZhdWx0QWN0aW9ucy5jYWxsKHRoaXMsIGluamVjdG9yKTtcblxuICAvLyAoMSkgcmV0cmlldmUgb3B0aW9uYWwgY29tcG9uZW50cyB0byBpbnRlZ3JhdGUgd2l0aFxuXG4gIHZhciBjYW52YXMgPSBpbmplY3Rvci5nZXQoJ2NhbnZhcycsIGZhbHNlKTtcbiAgdmFyIGVsZW1lbnRSZWdpc3RyeSA9IGluamVjdG9yLmdldCgnZWxlbWVudFJlZ2lzdHJ5JywgZmFsc2UpO1xuICB2YXIgc2VsZWN0aW9uID0gaW5qZWN0b3IuZ2V0KCdzZWxlY3Rpb24nLCBmYWxzZSk7XG4gIHZhciBzcGFjZVRvb2wgPSBpbmplY3Rvci5nZXQoJ3NwYWNlVG9vbCcsIGZhbHNlKTtcbiAgdmFyIGxhc3NvVG9vbCA9IGluamVjdG9yLmdldCgnbGFzc29Ub29sJywgZmFsc2UpO1xuICB2YXIgaGFuZFRvb2wgPSBpbmplY3Rvci5nZXQoJ2hhbmRUb29sJywgZmFsc2UpO1xuICB2YXIgZGlzdHJpYnV0ZUVsZW1lbnRzID0gaW5qZWN0b3IuZ2V0KCdkaXN0cmlidXRlRWxlbWVudHMnLCBmYWxzZSk7XG4gIHZhciBhbGlnbkVsZW1lbnRzID0gaW5qZWN0b3IuZ2V0KCdhbGlnbkVsZW1lbnRzJywgZmFsc2UpO1xuICB2YXIgZGlyZWN0RWRpdGluZyA9IGluamVjdG9yLmdldCgnZGlyZWN0RWRpdGluZycsIGZhbHNlKTtcbiAgdmFyIHNlYXJjaFBhZCA9IGluamVjdG9yLmdldCgnc2VhcmNoUGFkJywgZmFsc2UpO1xuICB2YXIgbW9kZWxpbmcgPSBpbmplY3Rvci5nZXQoJ21vZGVsaW5nJywgZmFsc2UpO1xuXG4gIC8vICgyKSBjaGVjayBjb21wb25lbnRzIGFuZCByZWdpc3RlciBhY3Rpb25zXG5cbiAgaWYgKGNhbnZhcyAmJiBlbGVtZW50UmVnaXN0cnkgJiYgc2VsZWN0aW9uKSB7XG4gICAgdGhpcy5fcmVnaXN0ZXJBY3Rpb24oJ3NlbGVjdEVsZW1lbnRzJywgZnVuY3Rpb24oKSB7XG5cbiAgICAgIC8vIHNlbGVjdCBhbGwgZWxlbWVudHMgZXhjZXB0IGZvciB0aGUgaW52aXNpYmxlXG4gICAgICAvLyByb290IGVsZW1lbnRcbiAgICAgIHZhciByb290RWxlbWVudCA9IGNhbnZhcy5nZXRSb290RWxlbWVudCgpO1xuXG4gICAgICB2YXIgZWxlbWVudHMgPSBlbGVtZW50UmVnaXN0cnkuZmlsdGVyKGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQgIT09IHJvb3RFbGVtZW50O1xuICAgICAgfSk7XG5cbiAgICAgIHNlbGVjdGlvbi5zZWxlY3QoZWxlbWVudHMpO1xuXG4gICAgICByZXR1cm4gZWxlbWVudHM7XG4gICAgfSk7XG4gIH1cblxuICBpZiAoc3BhY2VUb29sKSB7XG4gICAgdGhpcy5fcmVnaXN0ZXJBY3Rpb24oJ3NwYWNlVG9vbCcsIGZ1bmN0aW9uKCkge1xuICAgICAgc3BhY2VUb29sLnRvZ2dsZSgpO1xuICAgIH0pO1xuICB9XG5cbiAgaWYgKGxhc3NvVG9vbCkge1xuICAgIHRoaXMuX3JlZ2lzdGVyQWN0aW9uKCdsYXNzb1Rvb2wnLCBmdW5jdGlvbigpIHtcbiAgICAgIGxhc3NvVG9vbC50b2dnbGUoKTtcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChoYW5kVG9vbCkge1xuICAgIHRoaXMuX3JlZ2lzdGVyQWN0aW9uKCdoYW5kVG9vbCcsIGZ1bmN0aW9uKCkge1xuICAgICAgaGFuZFRvb2wudG9nZ2xlKCk7XG4gICAgfSk7XG4gIH1cblxuICBpZiAoc2VsZWN0aW9uICYmIGRpc3RyaWJ1dGVFbGVtZW50cykge1xuICAgIHRoaXMuX3JlZ2lzdGVyQWN0aW9uKCdkaXN0cmlidXRlRWxlbWVudHMnLCBmdW5jdGlvbihvcHRzKSB7XG4gICAgICB2YXIgY3VycmVudFNlbGVjdGlvbiA9IHNlbGVjdGlvbi5nZXQoKSxcbiAgICAgICAgICB0eXBlID0gb3B0cy50eXBlO1xuXG4gICAgICBpZiAoY3VycmVudFNlbGVjdGlvbi5sZW5ndGgpIHtcbiAgICAgICAgZGlzdHJpYnV0ZUVsZW1lbnRzLnRyaWdnZXIoY3VycmVudFNlbGVjdGlvbiwgdHlwZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBpZiAoc2VsZWN0aW9uICYmIGFsaWduRWxlbWVudHMpIHtcbiAgICB0aGlzLl9yZWdpc3RlckFjdGlvbignYWxpZ25FbGVtZW50cycsIGZ1bmN0aW9uKG9wdHMpIHtcbiAgICAgIHZhciBjdXJyZW50U2VsZWN0aW9uID0gc2VsZWN0aW9uLmdldCgpLFxuICAgICAgICAgIHR5cGUgPSBvcHRzLnR5cGU7XG5cbiAgICAgIGlmIChjdXJyZW50U2VsZWN0aW9uLmxlbmd0aCkge1xuICAgICAgICBhbGlnbkVsZW1lbnRzLnRyaWdnZXIoY3VycmVudFNlbGVjdGlvbiwgdHlwZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBpZiAoc2VsZWN0aW9uICYmIG1vZGVsaW5nKSB7XG4gICAgdGhpcy5fcmVnaXN0ZXJBY3Rpb24oJ3NldENvbG9yJywgZnVuY3Rpb24ob3B0cykge1xuICAgICAgdmFyIGN1cnJlbnRTZWxlY3Rpb24gPSBzZWxlY3Rpb24uZ2V0KCk7XG5cbiAgICAgIGlmIChjdXJyZW50U2VsZWN0aW9uLmxlbmd0aCkge1xuICAgICAgICBtb2RlbGluZy5zZXRDb2xvcihjdXJyZW50U2VsZWN0aW9uLCBvcHRzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGlmIChzZWxlY3Rpb24gJiYgZGlyZWN0RWRpdGluZykge1xuICAgIHRoaXMuX3JlZ2lzdGVyQWN0aW9uKCdkaXJlY3RFZGl0aW5nJywgZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgY3VycmVudFNlbGVjdGlvbiA9IHNlbGVjdGlvbi5nZXQoKTtcblxuICAgICAgaWYgKGN1cnJlbnRTZWxlY3Rpb24ubGVuZ3RoKSB7XG4gICAgICAgIGRpcmVjdEVkaXRpbmcuYWN0aXZhdGUoY3VycmVudFNlbGVjdGlvblswXSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBpZiAoc2VhcmNoUGFkKSB7XG4gICAgdGhpcy5fcmVnaXN0ZXJBY3Rpb24oJ2ZpbmQnLCBmdW5jdGlvbigpIHtcbiAgICAgIHNlYXJjaFBhZC50b2dnbGUoKTtcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChjYW52YXMgJiYgbW9kZWxpbmcpIHtcbiAgICB0aGlzLl9yZWdpc3RlckFjdGlvbignbW92ZVRvT3JpZ2luJywgZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcm9vdEVsZW1lbnQgPSBjYW52YXMuZ2V0Um9vdEVsZW1lbnQoKSxcbiAgICAgICAgICBib3VuZGluZ0JveDtcblxuXG4gICAgICB2YXIgZWxlbWVudHMgPSBlbGVtZW50UmVnaXN0cnkuZmlsdGVyKGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQgIT09IHJvb3RFbGVtZW50O1xuICAgICAgfSk7XG5cbiAgICAgIGJvdW5kaW5nQm94ID0gZ2V0QkJveChlbGVtZW50cyk7XG5cbiAgICAgIG1vZGVsaW5nLm1vdmVFbGVtZW50cyhcbiAgICAgICAgZWxlbWVudHMsXG4gICAgICAgIHsgeDogLWJvdW5kaW5nQm94LngsIHk6IC1ib3VuZGluZ0JveC55IH0sXG4gICAgICAgIHJvb3RFbGVtZW50XG4gICAgICApO1xuICAgIH0pO1xuICB9XG5cbn07IiwiaW1wb3J0IEVkaXRvckFjdGlvbnNNb2R1bGUgZnJvbSAnZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvZWRpdG9yLWFjdGlvbnMnO1xuXG5pbXBvcnQgUG9zdGl0RWRpdG9yQWN0aW9ucyBmcm9tICcuL1Bvc3RpdEVkaXRvckFjdGlvbnMnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9fZGVwZW5kc19fOiBbXG4gICAgRWRpdG9yQWN0aW9uc01vZHVsZVxuICBdLFxuICBlZGl0b3JBY3Rpb25zOiBbICd0eXBlJywgUG9zdGl0RWRpdG9yQWN0aW9ucyBdXG59O1xuIiwiZXhwb3J0IGZ1bmN0aW9uIGZpbGVUb0RhdGFVUkwoZmlsZSkge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgIHJlYWRlci5vbmxvYWRlbmQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmVzb2x2ZShyZWFkZXIucmVzdWx0KTtcbiAgICAgIH07XG4gICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZWplY3QoZSk7XG4gICAgfVxuICB9KTtcbn1cblxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaW1hZ2VQcm9jZXNzb3IoZXYsIGZpbGUpIHtcbiAgY29uc3QgYmFzZTY0ZmlsZSA9IGF3YWl0IGZpbGVUb0RhdGFVUkwoZmlsZSk7XG5cbiAgLy8gY3JlYXRlSW1hZ2UoZXYsIGJhc2U2NGZpbGUpO1xuICByZXR1cm4gYmFzZTY0ZmlsZTsgLy8gcGFzc2luZyBhbnkgZXJyb3JzIHRocm91Z2hcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZpbGVSZWFkZXIoZXYsIGZpbGVzKSB7XG4gIGxldCB1cGxvYWRSZXN1bHQgPSBbXTtcbiAgbGV0IGVycm9ycztcbiAgbGV0IGZpbGVJdGVtcyA9IGZpbGVzO1xuICBpZiAoZXYgJiYgKGV2LmRhdGFUcmFuc2Zlci5pdGVtcyB8fCBldi5kYXRhVHJhbnNmZXIuZmlsZXMpKSB7XG4gICAgZmlsZUl0ZW1zID0gZXYuZGF0YVRyYW5zZmVyLml0ZW1zIHx8IGV2LmRhdGFUcmFuc2Zlci5maWxlcztcbiAgfVxuICB0cnkge1xuICAgIGlmIChmaWxlSXRlbXMpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmlsZUl0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChldiAmJiBldi5kYXRhVHJhbnNmZXIuaXRlbXMpIHtcbiAgICAgICAgICBpZiAoZmlsZUl0ZW1zW2ldLmtpbmQgPT09ICdmaWxlJykge1xuICAgICAgICAgICAgdmFyIGZpbGUgPSBmaWxlSXRlbXNbaV0uZ2V0QXNGaWxlKCk7XG4gICAgICAgICAgICB1cGxvYWRSZXN1bHQucHVzaChhd2FpdCBpbWFnZVByb2Nlc3NvcihldiwgZmlsZSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB1cGxvYWRSZXN1bHQucHVzaChhd2FpdCBpbWFnZVByb2Nlc3NvcihldiwgZmlsZUl0ZW1zW2ldKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBlcnJvcnMgPSBlO1xuICAgIHVwbG9hZFJlc3VsdCA9IG51bGw7XG4gIH1cbiAgcmV0dXJuIHsgdXBsb2FkUmVzdWx0LCBlcnJvcnMgfTtcbn1cblxuIiwiZXhwb3J0IGZ1bmN0aW9uIGdldE1vdXNlUG9zaXRpb24oZXZlbnQpIHtcbiAgZXZlbnQgPSBldmVudCB8fCB3aW5kb3cuZXZlbnQ7XG5cbiAgdmFyIHBhZ2VYID0gZXZlbnQucGFnZVg7XG4gIHZhciBwYWdlWSA9IGV2ZW50LnBhZ2VZO1xuXG4gIC8vIElFIDhcbiAgaWYgKHBhZ2VYID09PSB1bmRlZmluZWQpIHtcbiAgICBwYWdlWCA9IGV2ZW50LmNsaWVudFggKyBkb2N1bWVudC5ib2R5LnNjcm9sbExlZnQgKyBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdDtcbiAgICBwYWdlWSA9IGV2ZW50LmNsaWVudFkgKyBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCArIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7XG4gIH1cblxuICByZXR1cm4geyBwYWdlWCwgcGFnZVkgfTtcbn1cblxuIiwiaW1wb3J0IHtcbiAgZG9taWZ5LFxuICBldmVudCBhcyBkb21FdmVudFxufSBmcm9tICdtaW4tZG9tJztcblxuaW1wb3J0IHtcbiAgZmlsZVJlYWRlclxufSBmcm9tICcuLi8uLi91dGlsL0ZpbGVVdGlsLmpzJztcblxuaW1wb3J0IHtcbiAgZ2V0TW91c2VQb3NpdGlvblxufSBmcm9tICcuLi8uLi91dGlsL1NjcmVlblV0aWwuanMnO1xuXG52YXIgTE9XX1BSSU9SSVRZID0gNTAwO1xudmFyIHRleHQ7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEltYWdlU2VsZWN0aW9uKGNhbnZhcywgZXZlbnRCdXMsIG1vZGVsaW5nLCB0cmFuc2xhdGUpIHtcblxuICB0aGlzLl9jYW52YXMgPSBjYW52YXM7XG4gIHRoaXMuX2V2ZW50QnVzID0gZXZlbnRCdXM7XG4gIHRoaXMuX21vZGVsaW5nID0gbW9kZWxpbmc7XG4gIHRoaXMuX3RyYW5zbGF0ZSA9IHRyYW5zbGF0ZTtcblxuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgZXZlbnRCdXMub24oJ2NyZWF0ZS5lbmQnLCBMT1dfUFJJT1JJVFksIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0LFxuICAgICAgICBlbGVtZW50ID0gY29udGV4dC5zaGFwZSxcbiAgICAgICAgaGludHMgPSBjb250ZXh0LmhpbnRzO1xuXG4gICAgaWYgKGhpbnRzLnNlbGVjdEltYWdlKSB7XG4gICAgICBzZWxmLnNlbGVjdChlbGVtZW50KTtcbiAgICB9XG4gIH0pO1xuXG4gIHRleHQgPSB7ICdVUkwnOiB0aGlzLl90cmFuc2xhdGUoJ1VSTCcpLFxuICAgICdBbiBlcnJvciBvY2N1cmVkIGR1cmluZyB0aGUgZmlsZSB1cGxvYWQnOiB0aGlzLl90cmFuc2xhdGUoJ0FuIGVycm9yIG9jY3VyZWQgZHVyaW5nIHRoZSBmaWxlIHVwbG9hZCcpLFxuICAgICdVcGxvYWQgZmlsZXMgaGVyZSc6IHRoaXMuX3RyYW5zbGF0ZSgnVXBsb2FkIGZpbGVzIGhlcmUnKSxcbiAgICAnVXBsb2FkJzogdGhpcy5fdHJhbnNsYXRlKCdVcGxvYWQnKSxcbiAgICAnZmlsZSc6IHRoaXMuX3RyYW5zbGF0ZSgnZmlsZScpLFxuICAgICdmaWxlcyc6IHRoaXMuX3RyYW5zbGF0ZSgnZmlsZXMnKSxcbiAgICAnc2VsZWN0ZWQnOiB0aGlzLl90cmFuc2xhdGUoJ3NlbGVjdGVkJyksXG4gICAgJ1VwbG9hZCBhZ2Fpbic6IHRoaXMuX3RyYW5zbGF0ZSgnVXBsb2FkIGFnYWluJyksXG4gIH07XG5cbiAgSW1hZ2VTZWxlY3Rpb24uSU1BR0VfU0VMRUNUSU9OX01BUktVUCA9ICc8ZGl2IGlkPVwicGpzLWltYWdlLXNlbGVjdGlvbi1tb2RhbFwiIGNsYXNzPVwicGpzLWlvLWRpYWxvZy1sb2NhbFwiPicrXG4gICAgJzxkaXYgY2xhc3M9XCJwanMtaW8tZGlhbG9nLXNlY3Rpb24gcGpzLWZpcnN0XCI+JytcbiAgICAgICc8ZGl2IGlkPVwicGpzLWltYWdlLXNlbGVjdGlvbi1pbnB1dC13cmFwcGVyXCI+PGlucHV0IGlkPVwicGpzLWltYWdlLXNlbGVjdGlvbi1pbnB1dFwiIGNsYXNzPVwicGpzLXVpLWVsZW1lbnQtYm9yZGVyZWRcIj48L2lucHV0PjwvZGl2PicrXG4gICAgICAnPGRpdiBjbGFzcz1cInBqcy1sYWJlbGVkLWlucHV0XCI+JytcbiAgICAgICc8bGFiZWwgZm9yPVwicGpzLWltYWdlLXNlbGVjdGlvbi1pbnB1dFwiIGNsYXNzPVwicGpzLWlucHV0LXRleHQtc3RhdGljXCI+PCEtLVNlYXJjaCAvIC0tPicrdGV4dFsnVVJMJ10rJzo8L2xhYmVsPicrXG4gICAgICAnPC9kaXY+JytcbiAgICAnPC9kaXZcIj4nK1xuICAgICc8ZGl2IGNsYXNzPVwicGpzLWlvLWRpYWxvZy1zZWN0aW9uXCI+JytcbiAgICAnPGRpdiBjbGFzcz1cInBqcy1zZWN0aW9uLXNwYWNlclwiPjwvZGl2PicrXG4gICAgJzxsYWJlbCBmb3I9XCJwanMtaW1hZ2UtdXBsb2FkXCI+PGRpdiBjbGFzcz1cInBqcy1pby1kaWFsb2ctdGV4dC1oaW50XCI+JytcbiAgICAgICc8YSBzdHlsZT1cImRpc3BsYXk6YmxvY2tcIj48dWwgaWQ9XCJwanMtaW1hZ2UtZGlhbG9nLXRleHQtaGludC1saXN0XCIgY2xhc3M9XCJwanMtaG9yaXpvbnRhbFwiPicrXG4gICAgICAgICc8bGk+PGRpdiBjbGFzcz1cInBqcy1nZW5lcmFsLWljb24gcGpzLWltYWdlLWRpYWxvZy11cGxvYWQtaWNvblwiPjwvZGl2PjwvbGk+JytcbiAgICAgICAgJzxsaSBpZD1cInBqcy1pbWFnZS1zZWxlY3Rpb24tZmlsZXMtdGV4dC1lcnJvclwiPicrdGV4dFsnQW4gZXJyb3Igb2NjdXJlZCBkdXJpbmcgdGhlIGZpbGUgdXBsb2FkJ10rJzwvbGk+JytcbiAgICAgICAgJzxsaSBpZD1cInBqcy1pbWFnZS1zZWxlY3Rpb24tZmlsZXMtdGV4dC11cGxvYWRcIj4nK3RleHRbJ1VwbG9hZCBmaWxlcyBoZXJlJ10rJzwvbGk+JytcbiAgICAgICc8L3VsPjwvYT4nK1xuICAgICc8L2Rpdj48L2xhYmVsPicrXG4gICAgJzxpbnB1dCB0eXBlPVwiZmlsZVwiIGlkPVwicGpzLWltYWdlLXVwbG9hZFwiIHN0eWxlPVwiZGlzcGxheTpub25lXCIgbXVsdGlwbGUvPicrXG4gICAgJzxkaXYgY2xhc3M9XCJwanMtaW8tZGlhbG9nLXNlY3Rpb25cIj4nK1xuICAgICc8ZGl2IGNsYXNzPVwicGpzLWJ1dHRvbnMgcGpzLWltYWdlLXNlbGVjdGlvbi1zdWJtaXQtd3JhcHBlclwiPjxidXR0b24gaWQ9XCJwanMtaW1hZ2Utc2VsZWN0aW9uLXN1Ym1pdFwiPicrdGV4dFsnVXBsb2FkJ10rJzwvYnV0dG9uPjwvZGl2PicrXG4gICAgJzwvZGl2PicrXG4gICAgJzwvZGl2PicrXG4gICc8L2Rpdj4nO1xuXG59XG5cbkltYWdlU2VsZWN0aW9uLnByb3RvdHlwZS5fZ2V0UGFyZW50Q29udGFpbmVyID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLl9jYW52YXMuZ2V0Q29udGFpbmVyKCk7XG59O1xuXG5JbWFnZVNlbGVjdGlvbi5wcm90b3R5cGUuc2VsZWN0ID0gZnVuY3Rpb24oZWxlbWVudCwgY2FsbGJhY2spIHtcblxuICBjb25zdCBzZWxmID0gdGhpcztcblxuICBjb25zdCBjb250YWluZXIgPSB0aGlzLl9jb250YWluZXIgPSBkb21pZnkoSW1hZ2VTZWxlY3Rpb24uSU1BR0VfU0VMRUNUSU9OX01BUktVUCk7XG5cbiAgY29uc3QgY2FudmFzID0gdGhpcy5fY2FudmFzLl9jb250YWluZXIucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50O1xuICBjYW52YXMuaW5zZXJ0QmVmb3JlKGNvbnRhaW5lciwgY2FudmFzLmZpcnN0Q2hpbGQpO1xuXG4gIGNvbnN0IG1vdXNlUG9zaXRpb24gPSBnZXRNb3VzZVBvc2l0aW9uKG51bGwpO1xuICBjb250YWluZXIuc3R5bGUubGVmdCA9ICggbW91c2VQb3NpdGlvbi5wYWdlWCAtIGdldE9mZnNldExlZnQoY29udGFpbmVyKSApICsgJ3B4JztcbiAgY29udGFpbmVyLnN0eWxlLnRvcCA9ICggbW91c2VQb3NpdGlvbi5wYWdlWSAtIGdldE9mZnNldFRvcChjb250YWluZXIpICkgKyAncHgnO1xuXG4gIGNvbnN0IGlucHV0RmllbGQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGpzLWltYWdlLXNlbGVjdGlvbi1pbnB1dCcpLFxuICAgICAgICBzdWJtaXRCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGpzLWltYWdlLXNlbGVjdGlvbi1zdWJtaXQnKSxcbiAgICAgICAgaW1hZ2VVcGxvYWRUZXh0RXJyb3IgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGpzLWltYWdlLXNlbGVjdGlvbi1maWxlcy10ZXh0LWVycm9yJyksXG4gICAgICAgIGltYWdlVXBsb2FkVGV4dFVwbG9hZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwanMtaW1hZ2Utc2VsZWN0aW9uLWZpbGVzLXRleHQtdXBsb2FkJyksXG4gICAgICAgIGltYWdlVXBsb2FkVGV4dExpc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGpzLWltYWdlLWRpYWxvZy10ZXh0LWhpbnQtbGlzdCcpLFxuICAgICAgICBpbWFnZVVwbG9hZFJlYWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwanMtaW1hZ2UtdXBsb2FkJyksXG4gICAgICAgIG1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Bqcy1pbWFnZS1zZWxlY3Rpb24tbW9kYWwnKTtcblxuICB2YXIgdXBsb2FkVGV4dExpc3RIZWlnaHQgPSBpbWFnZVVwbG9hZFRleHRMaXN0LnN0eWxlLmhlaWdodDtcblxuICB2YXIgc291cmNlLCBmaWxlc1RvVXBsb2FkO1xuXG4gIC8vIGZvY3VzIHVybCBpbnB1dCBmaWVsZCBvbiBtb2RhbCBvcGVuXG4gIGlucHV0RmllbGQuZm9jdXMoKTtcblxuICAvLyByZW1vdmUgbW9kYWwgYnkgY2xpY2tpbmcgYW55d2hlcmUgZWxzZVxuICBjb25zdCBjYW52YXNEZWZhdWx0Q2xpY2sgPSBkb21FdmVudC5iaW5kKGNhbnZhcywgJ2NsaWNrJywgZnVuY3Rpb24oZXYpIHtcbiAgICBpZiAobW9kYWwpIHtcblxuICAgICAgLy8gSWYgd2UgY2xpY2tlZCBvbmUgb2Ygb3VyIHVwZGF0ZSBidXR0b25zLCBkb24ndCBjbG9zZSB0aGUgZGlhbG9nLlxuICAgICAgdmFyIGlzQnRuID0gZmFsc2U7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZGpzLWNvbnRleHQtcGFkIC5lbnRyeScpLmZvckVhY2goIGZ1bmN0aW9uKGJ0bikge1xuICAgICAgICBpZiAoYnRuID09IGV2ZW50LnRhcmdldCApIHtcbiAgICAgICAgICBpc0J0biA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBtb3VzZVBvcyA9IGdldE1vdXNlUG9zaXRpb24oZXYpO1xuXG4gICAgICAvLyBUaGUgZGlhbG9nIGlzIGRpc3BsYWNlZCBieSBhIGJveCB0aGUgc2l6ZSBvZiBmb250LXNpemUgb24gZWFjaCBlZGdlLlxuICAgICAgdmFyIGZvbnRTaXplID0gZG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShtb2RhbClbJ2ZvbnQtc2l6ZSddO1xuICAgICAgZm9udFNpemUgPSBwYXJzZUludChmb250U2l6ZS5zdWJzdHJpbmcoMCwgZm9udFNpemUuaW5kZXhPZigncHgnKSkpO1xuICAgICAgaWYgKCFpc0J0biAmJiAoXG4gICAgICAgICAgKG1vdXNlUG9zLnBhZ2VYID4gbW9kYWwub2Zmc2V0TGVmdCtnZXRPZmZzZXRMZWZ0KGNhbnZhcykrbW9kYWwuY2xpZW50V2lkdGhcbiAgICAgICAgICB8fCBtb3VzZVBvcy5wYWdlWCA8IG1vZGFsLm9mZnNldExlZnQrZ2V0T2Zmc2V0TGVmdChjYW52YXMpIC0gZm9udFNpemUpXG4gICAgICAgICAgfHwgKG1vdXNlUG9zLnBhZ2VZID4gbW9kYWwub2Zmc2V0VG9wK2dldE9mZnNldFRvcChjYW52YXMpK21vZGFsLmNsaWVudEhlaWdodFxuICAgICAgICAgIHx8IG1vdXNlUG9zLnBhZ2VZIDwgbW9kYWwub2Zmc2V0VG9wK2dldE9mZnNldFRvcChjYW52YXMpIC0gZm9udFNpemUpICkpIHtcbiAgICAgICAgcmVtb3ZlSW1hZ2VTZWxlY3Rpb25Nb2RhbCgpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cblxuICBmb3IgKHZhciBpPTA7IGkgPCBpbWFnZVVwbG9hZFJlYWRlci5sYWJlbHMubGVuZ3RoOyBpKyspIHtcbiAgICAvLyBvcGVuIGZpbGUgZGlhbG9nXG4gICAgZG9tRXZlbnQuYmluZChpbWFnZVVwbG9hZFJlYWRlci5sYWJlbHNbaV0sICdjbGljaycsIGZ1bmN0aW9uKGV2KSB7XG4gICAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZXYuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICBcbiAgICAgIGltYWdlVXBsb2FkUmVhZGVyLmRpc3BhdGNoRXZlbnQobmV3IE1vdXNlRXZlbnQoZXYudHlwZSwgZXYpKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIGFmdGVyIHdlIG9wZW4gZmlsZSBkaWFsb2dcbiAgZG9tRXZlbnQuYmluZChpbWFnZVVwbG9hZFJlYWRlciwgJ2NoYW5nZScsIGFzeW5jIGZ1bmN0aW9uKCkge1xuICAgIGlucHV0RmllbGQuZGlzYWJsZWQgPSAndHJ1ZSc7XG5cbiAgICBsZXQgdXBsb2FkRGlzcGxheVRleHQ7XG5cbiAgICBsZXQgdXBsb2FkUmVzdWx0T2JqID0gYXdhaXQgZmlsZVJlYWRlcihudWxsLCBpbWFnZVVwbG9hZFJlYWRlci5maWxlcyksXG4gICAgICAgIHVwbG9hZFJlc3VsdCA9IHVwbG9hZFJlc3VsdE9iai51cGxvYWRSZXN1bHQsXG4gICAgICAgIGVycm9ycyA9IHVwbG9hZFJlc3VsdE9iai5lcnJvcnM7XG5cbiAgICBpZiAoIWVycm9ycykge1xuICAgICAgbGV0IHVwbG9hZGVkRmlsZXNDb3VudCA9ICh1cGxvYWRSZXN1bHQubGVuZ3RoKSA/IHVwbG9hZFJlc3VsdC5sZW5ndGggOiAwO1xuICAgICAgdXBsb2FkRGlzcGxheVRleHQgPSB1cGxvYWRlZEZpbGVzQ291bnQ7XG5cbiAgICAgIGlmIChpc05hTih1cGxvYWRlZEZpbGVzQ291bnQpID09PSBmYWxzZSkge1xuXG4gICAgICAgIGNvbnN0IGZpbGVQbHVyYWxUZXh0ID0rICh1cGxvYWRSZXN1bHQubGVuZ3RoID09IDEpID8gdGV4dFsnZmlsZSddIDogdGV4dFsnZmlsZXMnXTtcbiAgICAgICAgdXBsb2FkRGlzcGxheVRleHQgKz0gJyAnICsgZmlsZVBsdXJhbFRleHQgKyAnICcgKyB0ZXh0WydzZWxlY3RlZCddO1xuXG4gICAgICAgIC8vIHVwbG9hZGVkIGZpbGVzIGFyZSBzYXZlZCBpbiBnbG9iYWwgdmFyXG4gICAgICAgIGZpbGVzVG9VcGxvYWQgPSB1cGxvYWRSZXN1bHQ7XG4gICAgICB9XG5cbiAgICAgIGRpc3BsYXlVcGxvYWRTdGFnaW5nKHVwbG9hZERpc3BsYXlUZXh0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGlzcGxheUVycm9yKCk7XG4gICAgfVxuICB9KTtcblxuICAvLyB1cGxvYWQgYnV0dG9uXG4gIGRvbUV2ZW50LmJpbmQoc3VibWl0QnV0dG9uLCAnY2xpY2snLCBhc3luYyBmdW5jdGlvbigpIHtcbiAgICBzb3VyY2UgPSBmaWxlc1RvVXBsb2FkO1xuXG4gICAgLy8gKDEpIGNhbGwgZnJvbSBjYW52YXMsIHByb3ZpZGluZyBhIHRhcmdldCBlbGVtZW50XG4gICAgaWYgKGVsZW1lbnQgIT09IG51bGwpIHtcblxuICAgICAgLy8gKDEuMSkgbG9jYWwgZmlsZSBzZWxlY3Rpb24gdXBsb2FkXG4gICAgICBpZiAoc291cmNlKSB7XG4gICAgICAgIGZvciAoY29uc3QgZiBpbiBmaWxlc1RvVXBsb2FkKSB7XG4gICAgICAgICAgdXBsb2FkSW1hZ2Uoc2VsZiwgZmlsZXNUb1VwbG9hZFtmXSk7XG4gICAgICAgIH1cblxuICAgICAgLy8gKDEuMikgdXJsIHVwbG9hZFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc291cmNlID0gaW5wdXRGaWVsZC52YWx1ZTtcbiAgICAgICAgdXBsb2FkSW1hZ2Uoc2VsZiwgc291cmNlKTtcbiAgICAgIH1cblxuICAgICAgc2VsZi5fZXZlbnRCdXMuZmlyZSgnaW1hZ2VTZWxlY3Rpb24uY29tcGxldGUnLCB7IGVsZW1lbnQ6IGVsZW1lbnQgfSk7XG5cbiAgICAvLyAoMikgZXh0ZXJuYWwgY2FsbCB3L28gY2FudmFzIHRhcmdldFxuICAgIH0gZWxzZSB7XG5cbiAgICAgIC8vICgyLjEgZGVmYXVsdCkgbG9jYWwgZmlsZSBzZWxlY3Rpb24gZGF0YSBpcyB1c2VkXG5cbiAgICAgIC8vICgyLjIpIHVybCB1cGxvYWRcbiAgICAgIGlmICghc291cmNlKSB7XG4gICAgICAgIHNvdXJjZSA9IGlucHV0RmllbGQudmFsdWU7XG4gICAgICB9XG5cbiAgICAgIGNhbGxiYWNrKHNvdXJjZSk7XG4gICAgfVxuXG4gICAgLy8gZXJyb3IgaGFuZGxpbmcgbm90IG5lY2Vzc2FyeSBhcyBkZWZhdWx0IGltZyB3aWxsIGJlIHNob3duIGluIGVycm9yIHNpdHVhdGlvblxuICAgIHJlbW92ZUltYWdlU2VsZWN0aW9uTW9kYWwoKTtcbiAgfSk7XG5cbiAgLy8gZW50ZXIgcHJlc3NlZFxuICBkb21FdmVudC5iaW5kKGlucHV0RmllbGQsICdrZXl1cCcsIGZ1bmN0aW9uKGVzdmVudCkge1xuICAgIGlmIChldmVudC5rZXlDb2RlID09PSAxMykge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHN1Ym1pdEJ1dHRvbi5jbGljaygpO1xuICAgIH1cbiAgfSk7XG5cbiAgZnVuY3Rpb24gZ2V0T2Zmc2V0TGVmdChlbGVtKSB7XG4gICAgdmFyIG9mZnNldExlZnQgPSAwO1xuICAgIGRvIHtcbiAgICAgIGlmICggIWlzTmFOKCBlbGVtLm9mZnNldExlZnQgKSApXG4gICAgICB7XG4gICAgICAgICAgb2Zmc2V0TGVmdCArPSBlbGVtLm9mZnNldExlZnQ7XG4gICAgICB9XG4gICAgfSB3aGlsZSggZWxlbSA9IGVsZW0ub2Zmc2V0UGFyZW50ICk7XG4gICAgcmV0dXJuIG9mZnNldExlZnQ7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRPZmZzZXRUb3AoZWxlbSkge1xuICAgIHZhciBvZmZzZXRUb3AgPSAwO1xuICAgIGRvIHtcbiAgICAgIGlmICggIWlzTmFOKCBlbGVtLm9mZnNldFRvcCApIClcbiAgICAgIHtcbiAgICAgICAgICBvZmZzZXRUb3AgKz0gZWxlbS5vZmZzZXRUb3A7XG4gICAgICB9XG4gICAgfSB3aGlsZSggZWxlbSA9IGVsZW0ub2Zmc2V0UGFyZW50ICk7XG4gICAgcmV0dXJuIG9mZnNldFRvcDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRpc3BsYXlVcGxvYWRTdGFnaW5nKHRleHQpIHtcbiAgICBpbWFnZVVwbG9hZFRleHRMaXN0LnN0eWxlLmhlaWdodCA9IHVwbG9hZFRleHRMaXN0SGVpZ2h0O1xuICAgIGltYWdlVXBsb2FkVGV4dEVycm9yLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgaW1hZ2VVcGxvYWRUZXh0VXBsb2FkLmlubmVySFRNTCA9IHRleHQ7XG5cbiAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgncGpzLWltYWdlLWRpYWxvZy11cGxvYWQtaWNvbicpLmxlbmd0aCA+IDApIHtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3Bqcy1pbWFnZS1kaWFsb2ctdXBsb2FkLWljb24nKVswXS5jbGFzc0xpc3QucmVtb3ZlKCdwanMtaW1hZ2UtZGlhbG9nLXVwbG9hZC1pY29uLWVycm9yJyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZGlzcGxheUVycm9yKCkge1xuICAgIHVwbG9hZFRleHRMaXN0SGVpZ2h0ID0gaW1hZ2VVcGxvYWRUZXh0TGlzdC5zdHlsZS5oZWlnaHQ7XG5cbiAgICBpbWFnZVVwbG9hZFRleHRMaXN0LnN0eWxlLmhlaWdodCA9ICdhdXRvJztcbiAgICBpbWFnZVVwbG9hZFRleHRFcnJvci5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICBpbWFnZVVwbG9hZFRleHRVcGxvYWQuaW5uZXJIVE1MID0gdGV4dFsnVXBsb2FkIGFnYWluJ107XG5cbiAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdwanMtaW1hZ2UtZGlhbG9nLXVwbG9hZC1pY29uJylbMF0uY2xhc3NMaXN0LmFkZCgncGpzLWltYWdlLWRpYWxvZy11cGxvYWQtaWNvbi1lcnJvcicpO1xuICB9XG5cbiAgYXN5bmMgZnVuY3Rpb24gdXBsb2FkSW1hZ2Uoc2VsZiwgc291cmNlKSB7XG4gICAgdmFyIHVybFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMod2luZG93LmxvY2F0aW9uLnNlYXJjaCk7XG4gICAgdmFyIHNfa2V5ID0gdXJsUGFyYW1zLmdldCgnc19rZXknKTtcbiAgICBpZiggc19rZXkgPT09IG51bGwgKSB7XG4gICAgICBzaGVwaGVyZEFsZXJ0KFwiU2NyaXB0IFJlcXVpcmVkXCIsIFwiWW91IG11c3Qgb3BlbiBhIHNjcmlwdCBiZWZvcmUgeW91IGNhbiB0YWtlIG5vdGVzIVwiKVxuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgaW1hZ2UsIGJsb2I7XG4gICAgICBpZiggc291cmNlLnN1YnN0cmluZygwLDQpICE9PSBcImRhdGFcIiApIHtcbiAgICAgICAgYmxvYiA9IGF3YWl0IGZldGNoKCdodHRwczovL2NvcnMtYW55d2hlcmUtZG90LWluZGllc2tlZGdlLXByb2R1Y3Rpb24ud2wuci5hcHBzcG90LmNvbS8nICsgc291cmNlKS50aGVuKCByID0+IHIuYmxvYigpICk7XG4gICAgICAgIGJsb2IubmFtZSA9IFwiUmVtb3RlIEZpbGVcIjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJsb2IgPSBpbWFnZVVwbG9hZFJlYWRlci5maWxlc1swXTtcbiAgICAgIH1cblxuICAgICAgLy8gVWdseSBiZWNhdXNlIHdlIGV4cGVjdCB0aGlzIFVSTCB0byBleGlzdCBvbiB0aGUgcGFnZS5cbiAgICAgIHZhciB1cGxvYWQgPSBuZXcgQWN0aXZlU3RvcmFnZS5EaXJlY3RVcGxvYWQoXG4gICAgICAgIGJsb2IsXG4gICAgICAgIGRpcmVjdF91cGxvYWRfdXJsXG4gICAgICApO1xuXG4gICAgICB1cGxvYWQuY3JlYXRlKGZ1bmN0aW9uKGVycm9yLCBibG9iKSB7XG4gICAgICAgIGlmKCBlcnJvciApIHtcbiAgICAgICAgICBpZiggZXJyb3Iuc2VhcmNoKFwiU3RhdHVzOiA0MDNcIikgPj0gMCApIHtcbiAgICAgICAgICAgIHNoZXBoZXJkQWxlcnQoXCJTdWJzY3JpcHRpb24gTmVlZGVkIVwiLCBcIllvdSBtdXN0IGhhdmUgYW4gYWN0aXZlIHN1YnNjcmlwdGlvbiB0byBzYXZlIGltYWdlcyEgWW91IGNhbiBzaWduIHVwIDxidXR0b24gZGF0YS10b2dnbGU9XFxcIm1vZGFsXFxcIiBocmVmPVxcXCIjc3Vic2NyaXB0aW9uTW9kYWxcXFwiIG9uY2xpY2s9XFxcIlNoZXBoZXJkLmFjdGl2ZVRvdXIuY29tcGxldGUoKTsgJCgnI2lkZWF0b3JOb3Rlc01vZGFsJykubW9kYWwoJ2hpZGUnKTtcXFwiIGRhdGEtZGVzY3JpcHRpb249XFxcIlNpZ24gdXAgZm9yIGltYWdlIHVwbG9hZGluZyBhbmQgb3RoZXIgZ3JlYXQgZmVhdHVlcnMhXFxcIiBkYXRhLXJlc2V0PVxcXCIkKCcjaWRlYXRvck5vdGVzTW9kYWwnKS5tb2RhbChcXCdzaG93XFwnKTtcXFwiIHN0eWxlPVxcXCJjb2xvcjogYmx1ZTsgbWFyZ2luLWxlZnQ6IC02cHg7IHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xcXCI+aGVyZSE8L2J1dHRvbj5cIik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNoZXBoZXJkQWxlcnQoXCJVbmtub3duIEVycm9yXCIsIFwiV2UndmUgbG9nZ2VkIHRoaXMgaXNzdWUuICBJZiBpdCBjb250aW51ZXMsIHBsZWFzZSByZWFjaCBvdXQgdG8gc3VwcG9ydC5cIik7XG4gICAgICAgICAgICBCdWdzbmFnLm5vdGlmeShcIlVua25vd24gdXBsb2FkIHJlc3BvbnNlOiBcIiArIGVycm9yLnRvU3RyaW5nKCkgKVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmKCBibG9iLmtleSApIHtcbiAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgdHlwZTogXCJHRVRcIixcbiAgICAgICAgICAgIGJlZm9yZVNlbmQ6IGZ1bmN0aW9uKHhocikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcignWC1DU1JGLVRva2VuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJ21ldGFbbmFtZT1cImNzcmYtdG9rZW5cIl0nKS5hdHRyKCdjb250ZW50JykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHVybDogXCIvc2NyaXB0cy9cIiArIHNfa2V5ICsgXCIvaW1hZ2VfdXJsL1wiICsgYmxvYi5rZXksXG4gICAgICAgICAgICByZXNwb25zZVR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgIHNlbGYuX21vZGVsaW5nLnVwZGF0ZVByb3BlcnRpZXMoZWxlbWVudCwge1xuICAgICAgICAgICAgICAgIHNvdXJjZTogZGF0YS51cmwsXG4gICAgICAgICAgICAgICAga2V5OiBkYXRhLmtleVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmVtb3ZlSW1hZ2VTZWxlY3Rpb25Nb2RhbCgpIHtcbiAgICBpZiAobW9kYWwgJiYgbW9kYWwucGFyZW50Tm9kZSkge1xuICAgICAgbW9kYWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChtb2RhbCk7XG4gICAgICBpZiAoY2FudmFzRGVmYXVsdENsaWNrKSB7XG4gICAgICAgIGNhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIGNhbnZhc0RlZmF1bHRDbGljayk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbn07XG5cbkltYWdlU2VsZWN0aW9uLnByb3RvdHlwZS4kaW5qZWN0ID0gW1xuICAnY2FudmFzJyxcbiAgJ2V2ZW50QnVzJyxcbiAgJ21vZGVsbmcnLFxuICAndHJhbnNsYXRlJ1xuXTtcbiIsImltcG9ydCBJbWFnZVNlbGVjdGlvbiBmcm9tICcuL0ltYWdlU2VsZWN0aW9uJztcblxuZXhwb3J0IGRlZmF1bHQge1xuICBfX2luaXRfXzogWyAnaW1hZ2VTZWxlY3Rpb24nIF0sXG4gIGltYWdlU2VsZWN0aW9uOiBbICd0eXBlJywgSW1hZ2VTZWxlY3Rpb24gXVxufTtcbiIsImltcG9ydCBpbmhlcml0cyBmcm9tICdpbmhlcml0cyc7XG5cbmltcG9ydCBLZXlib2FyZEJpbmRpbmdzIGZyb20gJ2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2tleWJvYXJkL0tleWJvYXJkQmluZGluZ3MnO1xuXG5cbi8qKlxuICogUG9zdGl0IHNwZWNpZmljIGtleWJvYXJkIGJpbmRpbmdzLlxuICpcbiAqIEBwYXJhbSB7SW5qZWN0b3J9IGluamVjdG9yXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFBvc3RpdEtleWJvYXJkQmluZGluZ3MoaW5qZWN0b3IpIHtcbiAgaW5qZWN0b3IuaW52b2tlKEtleWJvYXJkQmluZGluZ3MsIHRoaXMpO1xufVxuXG5pbmhlcml0cyhQb3N0aXRLZXlib2FyZEJpbmRpbmdzLCBLZXlib2FyZEJpbmRpbmdzKTtcblxuUG9zdGl0S2V5Ym9hcmRCaW5kaW5ncy4kaW5qZWN0ID0gW1xuICAnaW5qZWN0b3InXG5dO1xuXG5cbi8qKlxuICogUmVnaXN0ZXIgYXZhaWxhYmxlIGtleWJvYXJkIGJpbmRpbmdzLlxuICpcbiAqIEBwYXJhbSB7S2V5Ym9hcmR9IGtleWJvYXJkXG4gKiBAcGFyYW0ge0VkaXRvckFjdGlvbnN9IGVkaXRvckFjdGlvbnNcbiAqL1xuUG9zdGl0S2V5Ym9hcmRCaW5kaW5ncy5wcm90b3R5cGUucmVnaXN0ZXJCaW5kaW5ncyA9IGZ1bmN0aW9uKGtleWJvYXJkLCBlZGl0b3JBY3Rpb25zKSB7XG5cbiAgLy8gaW5oZXJpdCBkZWZhdWx0IGJpbmRpbmdzXG4gIEtleWJvYXJkQmluZGluZ3MucHJvdG90eXBlLnJlZ2lzdGVyQmluZGluZ3MuY2FsbCh0aGlzLCBrZXlib2FyZCwgZWRpdG9yQWN0aW9ucyk7XG5cbiAgLyoqXG4gICAqIEFkZCBrZXlib2FyZCBiaW5kaW5nIGlmIHJlc3BlY3RpdmUgZWRpdG9yIGFjdGlvblxuICAgKiBpcyByZWdpc3RlcmVkLlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gYWN0aW9uIG5hbWVcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gdGhhdCBpbXBsZW1lbnRzIHRoZSBrZXkgYmluZGluZ1xuICAgKi9cbiAgZnVuY3Rpb24gYWRkTGlzdGVuZXIoYWN0aW9uLCBmbikge1xuXG4gICAgaWYgKGVkaXRvckFjdGlvbnMuaXNSZWdpc3RlcmVkKGFjdGlvbikpIHtcbiAgICAgIGtleWJvYXJkLmFkZExpc3RlbmVyKGZuKTtcbiAgICB9XG4gIH1cblxuICAvLyBzZWxlY3QgYWxsIGVsZW1lbnRzXG4gIC8vIENUUkwgKyBBXG4gIGFkZExpc3RlbmVyKCdzZWxlY3RFbGVtZW50cycsIGZ1bmN0aW9uKGNvbnRleHQpIHtcblxuICAgIHZhciBldmVudCA9IGNvbnRleHQua2V5RXZlbnQ7XG5cbiAgICBpZiAoa2V5Ym9hcmQuaXNLZXkoWydhJywgJ0EnXSwgZXZlbnQpICYmIGtleWJvYXJkLmlzQ21kKGV2ZW50KSkge1xuICAgICAgZWRpdG9yQWN0aW9ucy50cmlnZ2VyKCdzZWxlY3RFbGVtZW50cycpO1xuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIHNlYXJjaCBsYWJlbHNcbiAgLy8gQ1RSTCArIEZcbiAgYWRkTGlzdGVuZXIoJ2ZpbmQnLCBmdW5jdGlvbihjb250ZXh0KSB7XG5cbiAgICB2YXIgZXZlbnQgPSBjb250ZXh0LmtleUV2ZW50O1xuXG4gICAgaWYgKGtleWJvYXJkLmlzS2V5KFsnZicsICdGJ10sIGV2ZW50KSAmJiBrZXlib2FyZC5pc0NtZChldmVudCkpIHtcbiAgICAgIGVkaXRvckFjdGlvbnMudHJpZ2dlcignZmluZCcpO1xuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIGFjdGl2YXRlIHNwYWNlIHRvb2xcbiAgLy8gU1xuICBhZGRMaXN0ZW5lcignc3BhY2VUb29sJywgZnVuY3Rpb24oY29udGV4dCkge1xuXG4gICAgdmFyIGV2ZW50ID0gY29udGV4dC5rZXlFdmVudDtcblxuICAgIGlmIChrZXlib2FyZC5oYXNNb2RpZmllcihldmVudCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoa2V5Ym9hcmQuaXNLZXkoWydzJywgJ1MnXSwgZXZlbnQpKSB7XG4gICAgICBlZGl0b3JBY3Rpb25zLnRyaWdnZXIoJ3NwYWNlVG9vbCcpO1xuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIGFjdGl2YXRlIGxhc3NvIHRvb2xcbiAgLy8gTFxuICBhZGRMaXN0ZW5lcignbGFzc29Ub29sJywgZnVuY3Rpb24oY29udGV4dCkge1xuXG4gICAgdmFyIGV2ZW50ID0gY29udGV4dC5rZXlFdmVudDtcblxuICAgIGlmIChrZXlib2FyZC5oYXNNb2RpZmllcihldmVudCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoa2V5Ym9hcmQuaXNLZXkoWydsJywgJ0wnXSwgZXZlbnQpKSB7XG4gICAgICBlZGl0b3JBY3Rpb25zLnRyaWdnZXIoJ2xhc3NvVG9vbCcpO1xuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIGFjdGl2YXRlIGhhbmQgdG9vbFxuICAvLyBIXG4gIGFkZExpc3RlbmVyKCdoYW5kVG9vbCcsIGZ1bmN0aW9uKGNvbnRleHQpIHtcblxuICAgIHZhciBldmVudCA9IGNvbnRleHQua2V5RXZlbnQ7XG5cbiAgICBpZiAoa2V5Ym9hcmQuaGFzTW9kaWZpZXIoZXZlbnQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGtleWJvYXJkLmlzS2V5KFsnaCcsICdIJ10sIGV2ZW50KSkge1xuICAgICAgZWRpdG9yQWN0aW9ucy50cmlnZ2VyKCdoYW5kVG9vbCcpO1xuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIGFjdGl2YXRlIGRpcmVjdCBlZGl0aW5nXG4gIC8vIEVcbiAgYWRkTGlzdGVuZXIoJ2RpcmVjdEVkaXRpbmcnLCBmdW5jdGlvbihjb250ZXh0KSB7XG5cbiAgICB2YXIgZXZlbnQgPSBjb250ZXh0LmtleUV2ZW50O1xuXG4gICAgaWYgKGtleWJvYXJkLmhhc01vZGlmaWVyKGV2ZW50KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChrZXlib2FyZC5pc0tleShbJ2UnLCAnRSddLCBldmVudCkpIHtcbiAgICAgIGVkaXRvckFjdGlvbnMudHJpZ2dlcignZGlyZWN0RWRpdGluZycpO1xuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0pO1xuXG59OyIsImltcG9ydCBLZXlib2FyZE1vZHVsZSBmcm9tICdkaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9rZXlib2FyZCc7XG5cbmltcG9ydCBQb3N0aXRLZXlib2FyZEJpbmRpbmdzIGZyb20gJy4vUG9zdGl0S2V5Ym9hcmRCaW5kaW5ncyc7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgX19kZXBlbmRzX186IFtcbiAgICBLZXlib2FyZE1vZHVsZVxuICBdLFxuICBfX2luaXRfXzogWyAna2V5Ym9hcmRCaW5kaW5ncycgXSxcbiAga2V5Ym9hcmRCaW5kaW5nczogWyAndHlwZScsIFBvc3RpdEtleWJvYXJkQmluZGluZ3MgXVxufTtcbiIsImltcG9ydCB7XG4gIGFzc2lnblxufSBmcm9tICdtaW4tZGFzaCc7XG5cblxudmFyIERFRkFVTFRfQ09ORklHID0ge1xuICBtb3ZlU3BlZWQ6IDEsXG4gIG1vdmVTcGVlZEFjY2VsZXJhdGVkOiAxMFxufTtcblxudmFyIEhJR0hFUl9QUklPUklUWSA9IDE1MDA7XG5cbnZhciBMRUZUID0gJ2xlZnQnO1xudmFyIFVQID0gJ3VwJztcbnZhciBSSUdIVCA9ICdyaWdodCc7XG52YXIgRE9XTiA9ICdkb3duJztcblxudmFyIEtFWV9UT19ESVJFQ1RJT04gPSB7XG4gIEFycm93TGVmdDogTEVGVCxcbiAgTGVmdDogTEVGVCxcbiAgQXJyb3dVcDogVVAsXG4gIFVwOiBVUCxcbiAgQXJyb3dSaWdodDogUklHSFQsXG4gIFJpZ2h0OiBSSUdIVCxcbiAgQXJyb3dEb3duOiBET1dOLFxuICBEb3duOiBET1dOXG59O1xuXG52YXIgRElSRUNUSU9OU19ERUxUQSA9IHtcbiAgbGVmdDogZnVuY3Rpb24oc3BlZWQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgeDogLXNwZWVkLFxuICAgICAgeTogMFxuICAgIH07XG4gIH0sXG4gIHVwOiBmdW5jdGlvbihzcGVlZCkge1xuICAgIHJldHVybiB7XG4gICAgICB4OiAwLFxuICAgICAgeTogLXNwZWVkXG4gICAgfTtcbiAgfSxcbiAgcmlnaHQ6IGZ1bmN0aW9uKHNwZWVkKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHg6IHNwZWVkLFxuICAgICAgeTogMFxuICAgIH07XG4gIH0sXG4gIGRvd246IGZ1bmN0aW9uKHNwZWVkKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHg6IDAsXG4gICAgICB5OiBzcGVlZFxuICAgIH07XG4gIH1cbn07XG5cblxuLyoqXG4gKiBFbmFibGVzIHRvIG1vdmUgc2VsZWN0aW9uIHdpdGgga2V5Ym9hcmQgYXJyb3dzLlxuICogVXNlIHdpdGggU2hpZnQgZm9yIG1vZGlmaWVkIHNwZWVkIChkZWZhdWx0PTEsIHdpdGggU2hpZnQ9MTApLlxuICogUHJlc3NlZCBDbWQvQ3RybCB0dXJucyB0aGUgZmVhdHVyZSBvZmYuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZ1xuICogQHBhcmFtIHtudW1iZXJ9IFtjb25maWcubW92ZVNwZWVkPTFdXG4gKiBAcGFyYW0ge251bWJlcn0gW2NvbmZpZy5tb3ZlU3BlZWRBY2NlbGVyYXRlZD0xMF1cbiAqIEBwYXJhbSB7S2V5Ym9hcmR9IGtleWJvYXJkXG4gKiBAcGFyYW0ge01vZGVsaW5nfSBtb2RlbGluZ1xuICogQHBhcmFtIHtTZWxlY3Rpb259IHNlbGVjdGlvblxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBLZXlib2FyZE1vdmVTZWxlY3Rpb24oXG4gICAgY29uZmlnLFxuICAgIGtleWJvYXJkLFxuICAgIG1vZGVsaW5nLFxuICAgIHJ1bGVzLFxuICAgIHNlbGVjdGlvblxuKSB7XG5cbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIHRoaXMuX2NvbmZpZyA9IGFzc2lnbih7fSwgREVGQVVMVF9DT05GSUcsIGNvbmZpZyB8fCB7fSk7XG5cbiAga2V5Ym9hcmQuYWRkTGlzdGVuZXIoSElHSEVSX1BSSU9SSVRZLCBmdW5jdGlvbihldmVudCkge1xuXG4gICAgdmFyIGtleUV2ZW50ID0gZXZlbnQua2V5RXZlbnQ7XG5cbiAgICB2YXIgZGlyZWN0aW9uID0gS0VZX1RPX0RJUkVDVElPTltrZXlFdmVudC5rZXldO1xuXG4gICAgaWYgKCFkaXJlY3Rpb24pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoa2V5Ym9hcmQuaXNDbWQoa2V5RXZlbnQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGFjY2VsZXJhdGVkID0ga2V5Ym9hcmQuaXNTaGlmdChrZXlFdmVudCk7XG5cbiAgICBzZWxmLm1vdmVTZWxlY3Rpb24oZGlyZWN0aW9uLCBhY2NlbGVyYXRlZCk7XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSk7XG5cblxuICAvKipcbiAgICogTW92ZSBzZWxlY3RlZCBlbGVtZW50cyBpbiB0aGUgZ2l2ZW4gZGlyZWN0aW9uLFxuICAgKiBvcHRpb25hbGx5IHNwZWNpZnlpbmcgYWNjZWxlcmF0ZWQgbW92ZW1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBkaXJlY3Rpb25cbiAgICogQHBhcmFtIHtib29sZWFufSBbYWNjZWxlcmF0ZWQ9ZmFsc2VdXG4gICAqL1xuICB0aGlzLm1vdmVTZWxlY3Rpb24gPSBmdW5jdGlvbihkaXJlY3Rpb24sIGFjY2VsZXJhdGVkKSB7XG5cbiAgICB2YXIgc2VsZWN0ZWRFbGVtZW50cyA9IHNlbGVjdGlvbi5nZXQoKTtcblxuICAgIGlmICghc2VsZWN0ZWRFbGVtZW50cy5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgc3BlZWQgPSB0aGlzLl9jb25maWdbXG4gICAgICBhY2NlbGVyYXRlZCA/XG4gICAgICAgICdtb3ZlU3BlZWRBY2NlbGVyYXRlZCcgOlxuICAgICAgICAnbW92ZVNwZWVkJ1xuICAgIF07XG5cbiAgICB2YXIgZGVsdGEgPSBESVJFQ1RJT05TX0RFTFRBW2RpcmVjdGlvbl0oc3BlZWQpO1xuXG4gICAgdmFyIGNhbk1vdmUgPSBydWxlcy5hbGxvd2VkKCdlbGVtZW50cy5tb3ZlJywge1xuICAgICAgc2hhcGVzOiBzZWxlY3RlZEVsZW1lbnRzXG4gICAgfSk7XG5cbiAgICBpZiAoY2FuTW92ZSkge1xuICAgICAgbW9kZWxpbmcubW92ZUVsZW1lbnRzKHNlbGVjdGVkRWxlbWVudHMsIGRlbHRhKTtcbiAgICB9XG4gIH07XG5cbn1cblxuS2V5Ym9hcmRNb3ZlU2VsZWN0aW9uLiRpbmplY3QgPSBbXG4gICdjb25maWcua2V5Ym9hcmRNb3ZlU2VsZWN0aW9uJyxcbiAgJ2tleWJvYXJkJyxcbiAgJ21vZGVsaW5nJyxcbiAgJ3J1bGVzJyxcbiAgJ3NlbGVjdGlvbidcbl07IiwiaW1wb3J0IEtleWJvYXJkTW9kdWxlIGZyb20gJy4uL2tleWJvYXJkJztcbmltcG9ydCBTZWxlY3Rpb25Nb2R1bGUgZnJvbSAnLi4vc2VsZWN0aW9uJztcblxuaW1wb3J0IEtleWJvYXJkTW92ZVNlbGVjdGlvbiBmcm9tICcuL0tleWJvYXJkTW92ZVNlbGVjdGlvbic7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgX19kZXBlbmRzX186IFtcbiAgICBLZXlib2FyZE1vZHVsZSxcbiAgICBTZWxlY3Rpb25Nb2R1bGVcbiAgXSxcbiAgX19pbml0X186IFtcbiAgICAna2V5Ym9hcmRNb3ZlU2VsZWN0aW9uJ1xuICBdLFxuICBrZXlib2FyZE1vdmVTZWxlY3Rpb246IFsgJ3R5cGUnLCBLZXlib2FyZE1vdmVTZWxlY3Rpb24gXVxufTtcbiIsImltcG9ydCB7XG4gIGdldFR5cGUgYXMgZ2V0RWxlbWVudFR5cGVcbn0gZnJvbSAnLi4vLi4vdXRpbC9FbGVtZW50cyc7XG5cbi8qKlxuICogQWRkcyBjaGFuZ2Ugc3VwcG9ydCB0byB0aGUgZGlhZ3JhbSwgaW5jbHVkaW5nXG4gKlxuICogPHVsPlxuICogICA8bGk+cmVkcmF3aW5nIHNoYXBlcyBhbmQgY29ubmVjdGlvbnMgb24gY2hhbmdlPC9saT5cbiAqIDwvdWw+XG4gKlxuICogQHBhcmFtIHtFdmVudEJ1c30gZXZlbnRCdXNcbiAqIEBwYXJhbSB7Q2FudmFzfSBjYW52YXNcbiAqIEBwYXJhbSB7RWxlbWVudFJlZ2lzdHJ5fSBlbGVtZW50UmVnaXN0cnlcbiAqIEBwYXJhbSB7R3JhcGhpY3NGYWN0b3J5fSBncmFwaGljc0ZhY3RvcnlcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ2hhbmdlU3VwcG9ydChcbiAgICBldmVudEJ1cywgY2FudmFzLCBlbGVtZW50UmVnaXN0cnksXG4gICAgZ3JhcGhpY3NGYWN0b3J5KSB7XG5cblxuICAvLyByZWRyYXcgc2hhcGVzIC8gY29ubmVjdGlvbnMgb24gY2hhbmdlXG5cbiAgZXZlbnRCdXMub24oJ2VsZW1lbnQuY2hhbmdlZCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICB2YXIgZWxlbWVudCA9IGV2ZW50LmVsZW1lbnQ7XG5cbiAgICAvLyBlbGVtZW50IG1pZ2h0IGhhdmUgYmVlbiBkZWxldGVkIGFuZCByZXBsYWNlZCBieSBuZXcgZWxlbWVudCB3aXRoIHNhbWUgSURcbiAgICAvLyB0aHVzIGNoZWNrIGZvciBwYXJlbnQgb2YgZWxlbWVudCBleGNlcHQgZm9yIHJvb3QgZWxlbWVudFxuICAgIGlmIChlbGVtZW50LnBhcmVudCB8fCBlbGVtZW50ID09PSBjYW52YXMuZ2V0Um9vdEVsZW1lbnQoKSkge1xuICAgICAgZXZlbnQuZ2Z4ID0gZWxlbWVudFJlZ2lzdHJ5LmdldEdyYXBoaWNzKGVsZW1lbnQpO1xuICAgIH1cblxuICAgIC8vIHNoYXBlICsgZ2Z4IG1heSBoYXZlIGJlZW4gZGVsZXRlZFxuICAgIGlmICghZXZlbnQuZ2Z4KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZXZlbnRCdXMuZmlyZShnZXRFbGVtZW50VHlwZShlbGVtZW50KSArICcuY2hhbmdlZCcsIGV2ZW50KTtcbiAgfSk7XG5cbiAgZXZlbnRCdXMub24oJ2VsZW1lbnRzLmNoYW5nZWQnLCBmdW5jdGlvbihldmVudCkge1xuXG4gICAgdmFyIGVsZW1lbnRzID0gZXZlbnQuZWxlbWVudHM7XG5cbiAgICBlbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uKGUpIHtcbiAgICAgIGV2ZW50QnVzLmZpcmUoJ2VsZW1lbnQuY2hhbmdlZCcsIHsgZWxlbWVudDogZSB9KTtcbiAgICB9KTtcblxuICAgIGdyYXBoaWNzRmFjdG9yeS51cGRhdGVDb250YWlubWVudHMoZWxlbWVudHMpO1xuICB9KTtcblxuICBldmVudEJ1cy5vbignc2hhcGUuY2hhbmdlZCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgZ3JhcGhpY3NGYWN0b3J5LnVwZGF0ZSgnc2hhcGUnLCBldmVudC5lbGVtZW50LCBldmVudC5nZngpO1xuICB9KTtcblxuICBldmVudEJ1cy5vbignY29ubmVjdGlvbi5jaGFuZ2VkJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBncmFwaGljc0ZhY3RvcnkudXBkYXRlKCdjb25uZWN0aW9uJywgZXZlbnQuZWxlbWVudCwgZXZlbnQuZ2Z4KTtcbiAgfSk7XG59XG5cbkNoYW5nZVN1cHBvcnQuJGluamVjdCA9IFtcbiAgJ2V2ZW50QnVzJyxcbiAgJ2NhbnZhcycsXG4gICdlbGVtZW50UmVnaXN0cnknLFxuICAnZ3JhcGhpY3NGYWN0b3J5J1xuXTsiLCJpbXBvcnQgQ2hhbmdlU3VwcG9ydCBmcm9tICcuL0NoYW5nZVN1cHBvcnQnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9faW5pdF9fOiBbICdjaGFuZ2VTdXBwb3J0J10sXG4gIGNoYW5nZVN1cHBvcnQ6IFsgJ3R5cGUnLCBDaGFuZ2VTdXBwb3J0IF1cbn07IiwiaW1wb3J0IHtcbiAgZmlsdGVyLFxuICBpc051bWJlclxufSBmcm9tICdtaW4tZGFzaCc7XG5cbnZhciBtYXggPSBNYXRoLm1heCxcbiAgICBtaW4gPSBNYXRoLm1pbjtcblxudmFyIERFRkFVTFRfQ0hJTERfQk9YX1BBRERJTkcgPSAyMDtcblxuaW1wb3J0IHtcbiAgZ2V0QkJveFxufSBmcm9tICcuLi8uLi91dGlsL0VsZW1lbnRzJztcblxuaW1wb3J0IHtcbiAgYXNUUkJMLFxuICBhc0JvdW5kc1xufSBmcm9tICcuLi8uLi9sYXlvdXQvTGF5b3V0VXRpbCc7XG5cblxuLyoqXG4gKiBTdWJzdHJhY3QgYSBUUkJMIGZyb20gYW5vdGhlclxuICpcbiAqIEBwYXJhbSAge1RSQkx9IHRyYmxBXG4gKiBAcGFyYW0gIHtUUkJMfSB0cmJsQlxuICpcbiAqIEByZXR1cm4ge1RSQkx9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdWJzdHJhY3RUUkJMKHRyYmxBLCB0cmJsQikge1xuICByZXR1cm4ge1xuICAgIHRvcDogdHJibEEudG9wIC0gdHJibEIudG9wLFxuICAgIHJpZ2h0OiB0cmJsQS5yaWdodCAtIHRyYmxCLnJpZ2h0LFxuICAgIGJvdHRvbTogdHJibEEuYm90dG9tIC0gdHJibEIuYm90dG9tLFxuICAgIGxlZnQ6IHRyYmxBLmxlZnQgLSB0cmJsQi5sZWZ0XG4gIH07XG59XG5cbi8qKlxuICogUmVzaXplIHRoZSBnaXZlbiBib3VuZHMgYnkgdGhlIHNwZWNpZmllZCBkZWx0YSBmcm9tIGEgZ2l2ZW4gYW5jaG9yIHBvaW50LlxuICpcbiAqIEBwYXJhbSB7Qm91bmRzfSBib3VuZHMgdGhlIGJvdW5kaW5nIGJveCB0aGF0IHNob3VsZCBiZSByZXNpemVkXG4gKiBAcGFyYW0ge3N0cmluZ30gZGlyZWN0aW9uIGluIHdoaWNoIHRoZSBlbGVtZW50IGlzIHJlc2l6ZWQgKG53LCBuZSwgc2UsIHN3KVxuICogQHBhcmFtIHtQb2ludH0gZGVsdGEgb2YgdGhlIHJlc2l6ZSBvcGVyYXRpb25cbiAqXG4gKiBAcmV0dXJuIHtCb3VuZHN9IHJlc2l6ZWQgYm91bmRpbmcgYm94XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXNpemVCb3VuZHMoYm91bmRzLCBkaXJlY3Rpb24sIGRlbHRhKSB7XG4gIHZhciBkeCA9IGRlbHRhLngsXG4gICAgICBkeSA9IGRlbHRhLnk7XG5cbiAgdmFyIG5ld0JvdW5kcyA9IHtcbiAgICB4OiBib3VuZHMueCxcbiAgICB5OiBib3VuZHMueSxcbiAgICB3aWR0aDogYm91bmRzLndpZHRoLFxuICAgIGhlaWdodDogYm91bmRzLmhlaWdodFxuICB9O1xuXG4gIGlmIChkaXJlY3Rpb24uaW5kZXhPZignbicpICE9PSAtMSkge1xuICAgIG5ld0JvdW5kcy55ID0gYm91bmRzLnkgKyBkeTtcbiAgICBuZXdCb3VuZHMuaGVpZ2h0ID0gYm91bmRzLmhlaWdodCAtIGR5O1xuICB9IGVsc2UgaWYgKGRpcmVjdGlvbi5pbmRleE9mKCdzJykgIT09IC0xKSB7XG4gICAgbmV3Qm91bmRzLmhlaWdodCA9IGJvdW5kcy5oZWlnaHQgKyBkeTtcbiAgfVxuXG4gIGlmIChkaXJlY3Rpb24uaW5kZXhPZignZScpICE9PSAtMSkge1xuICAgIG5ld0JvdW5kcy53aWR0aCA9IGJvdW5kcy53aWR0aCArIGR4O1xuICB9IGVsc2UgaWYgKGRpcmVjdGlvbi5pbmRleE9mKCd3JykgIT09IC0xKSB7XG4gICAgbmV3Qm91bmRzLnggPSBib3VuZHMueCArIGR4O1xuICAgIG5ld0JvdW5kcy53aWR0aCA9IGJvdW5kcy53aWR0aCAtIGR4O1xuICB9XG5cbiAgcmV0dXJuIG5ld0JvdW5kcztcbn1cblxuXG4vKipcbiAqIFJlc2l6ZSB0aGUgZ2l2ZW4gYm91bmRzIGJ5IGFwcGx5aW5nIHRoZSBwYXNzZWRcbiAqIHsgdG9wLCByaWdodCwgYm90dG9tLCBsZWZ0IH0gZGVsdGEuXG4gKlxuICogQHBhcmFtIHtCb3VuZHN9IGJvdW5kc1xuICogQHBhcmFtIHtUUkJMfSB0cmJsUmVzaXplXG4gKlxuICogQHJldHVybiB7Qm91bmRzfVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVzaXplVFJCTChib3VuZHMsIHJlc2l6ZSkge1xuICByZXR1cm4ge1xuICAgIHg6IGJvdW5kcy54ICsgKHJlc2l6ZS5sZWZ0IHx8IDApLFxuICAgIHk6IGJvdW5kcy55ICsgKHJlc2l6ZS50b3AgfHwgMCksXG4gICAgd2lkdGg6IGJvdW5kcy53aWR0aCAtIChyZXNpemUubGVmdCB8fCAwKSArIChyZXNpemUucmlnaHQgfHwgMCksXG4gICAgaGVpZ2h0OiBib3VuZHMuaGVpZ2h0IC0gKHJlc2l6ZS50b3AgfHwgMCkgKyAocmVzaXplLmJvdHRvbSB8fCAwKVxuICB9O1xufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiByZWF0dGFjaFBvaW50KGJvdW5kcywgbmV3Qm91bmRzLCBwb2ludCkge1xuXG4gIHZhciBzeCA9IGJvdW5kcy53aWR0aCAvIG5ld0JvdW5kcy53aWR0aCxcbiAgICAgIHN5ID0gYm91bmRzLmhlaWdodCAvIG5ld0JvdW5kcy5oZWlnaHQ7XG5cbiAgcmV0dXJuIHtcbiAgICB4OiBNYXRoLnJvdW5kKChuZXdCb3VuZHMueCArIG5ld0JvdW5kcy53aWR0aCAvIDIpKSAtIE1hdGguZmxvb3IoKChib3VuZHMueCArIGJvdW5kcy53aWR0aCAvIDIpIC0gcG9pbnQueCkgLyBzeCksXG4gICAgeTogTWF0aC5yb3VuZCgobmV3Qm91bmRzLnkgKyBuZXdCb3VuZHMuaGVpZ2h0IC8gMikpIC0gTWF0aC5mbG9vcigoKGJvdW5kcy55ICsgYm91bmRzLmhlaWdodCAvIDIpIC0gcG9pbnQueSkgLyBzeSlcbiAgfTtcbn1cblxuXG5mdW5jdGlvbiBhcHBseUNvbnN0cmFpbnRzKGF0dHIsIHRyYmwsIHJlc2l6ZUNvbnN0cmFpbnRzKSB7XG5cbiAgdmFyIHZhbHVlID0gdHJibFthdHRyXSxcbiAgICAgIG1pblZhbHVlID0gcmVzaXplQ29uc3RyYWludHMubWluICYmIHJlc2l6ZUNvbnN0cmFpbnRzLm1pblthdHRyXSxcbiAgICAgIG1heFZhbHVlID0gcmVzaXplQ29uc3RyYWludHMubWF4ICYmIHJlc2l6ZUNvbnN0cmFpbnRzLm1heFthdHRyXTtcblxuICBpZiAoaXNOdW1iZXIobWluVmFsdWUpKSB7XG4gICAgdmFsdWUgPSAoL3RvcHxsZWZ0Ly50ZXN0KGF0dHIpID8gbWluIDogbWF4KSh2YWx1ZSwgbWluVmFsdWUpO1xuICB9XG5cbiAgaWYgKGlzTnVtYmVyKG1heFZhbHVlKSkge1xuICAgIHZhbHVlID0gKC90b3B8bGVmdC8udGVzdChhdHRyKSA/IG1heCA6IG1pbikodmFsdWUsIG1heFZhbHVlKTtcbiAgfVxuXG4gIHJldHVybiB2YWx1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVuc3VyZUNvbnN0cmFpbnRzKGN1cnJlbnRCb3VuZHMsIHJlc2l6ZUNvbnN0cmFpbnRzKSB7XG5cbiAgaWYgKCFyZXNpemVDb25zdHJhaW50cykge1xuICAgIHJldHVybiBjdXJyZW50Qm91bmRzO1xuICB9XG5cbiAgdmFyIGN1cnJlbnRUcmJsID0gYXNUUkJMKGN1cnJlbnRCb3VuZHMpO1xuXG4gIHJldHVybiBhc0JvdW5kcyh7XG4gICAgdG9wOiBhcHBseUNvbnN0cmFpbnRzKCd0b3AnLCBjdXJyZW50VHJibCwgcmVzaXplQ29uc3RyYWludHMpLFxuICAgIHJpZ2h0OiBhcHBseUNvbnN0cmFpbnRzKCdyaWdodCcsIGN1cnJlbnRUcmJsLCByZXNpemVDb25zdHJhaW50cyksXG4gICAgYm90dG9tOiBhcHBseUNvbnN0cmFpbnRzKCdib3R0b20nLCBjdXJyZW50VHJibCwgcmVzaXplQ29uc3RyYWludHMpLFxuICAgIGxlZnQ6IGFwcGx5Q29uc3RyYWludHMoJ2xlZnQnLCBjdXJyZW50VHJibCwgcmVzaXplQ29uc3RyYWludHMpXG4gIH0pO1xufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRNaW5SZXNpemVCb3VuZHMoZGlyZWN0aW9uLCBjdXJyZW50Qm91bmRzLCBtaW5EaW1lbnNpb25zLCBjaGlsZHJlbkJvdW5kcykge1xuXG4gIHZhciBjdXJyZW50Qm94ID0gYXNUUkJMKGN1cnJlbnRCb3VuZHMpO1xuXG4gIHZhciBtaW5Cb3ggPSB7XG4gICAgdG9wOiAvbi8udGVzdChkaXJlY3Rpb24pID8gY3VycmVudEJveC5ib3R0b20gLSBtaW5EaW1lbnNpb25zLmhlaWdodCA6IGN1cnJlbnRCb3gudG9wLFxuICAgIGxlZnQ6IC93Ly50ZXN0KGRpcmVjdGlvbikgPyBjdXJyZW50Qm94LnJpZ2h0IC0gbWluRGltZW5zaW9ucy53aWR0aCA6IGN1cnJlbnRCb3gubGVmdCxcbiAgICBib3R0b206IC9zLy50ZXN0KGRpcmVjdGlvbikgPyBjdXJyZW50Qm94LnRvcCArIG1pbkRpbWVuc2lvbnMuaGVpZ2h0IDogY3VycmVudEJveC5ib3R0b20sXG4gICAgcmlnaHQ6IC9lLy50ZXN0KGRpcmVjdGlvbikgPyBjdXJyZW50Qm94LmxlZnQgKyBtaW5EaW1lbnNpb25zLndpZHRoIDogY3VycmVudEJveC5yaWdodFxuICB9O1xuXG4gIHZhciBjaGlsZHJlbkJveCA9IGNoaWxkcmVuQm91bmRzID8gYXNUUkJMKGNoaWxkcmVuQm91bmRzKSA6IG1pbkJveDtcblxuICB2YXIgY29tYmluZWRCb3ggPSB7XG4gICAgdG9wOiBtaW4obWluQm94LnRvcCwgY2hpbGRyZW5Cb3gudG9wKSxcbiAgICBsZWZ0OiBtaW4obWluQm94LmxlZnQsIGNoaWxkcmVuQm94LmxlZnQpLFxuICAgIGJvdHRvbTogbWF4KG1pbkJveC5ib3R0b20sIGNoaWxkcmVuQm94LmJvdHRvbSksXG4gICAgcmlnaHQ6IG1heChtaW5Cb3gucmlnaHQsIGNoaWxkcmVuQm94LnJpZ2h0KVxuICB9O1xuXG4gIHJldHVybiBhc0JvdW5kcyhjb21iaW5lZEJveCk7XG59XG5cbmZ1bmN0aW9uIGFzUGFkZGluZyhtYXlCZVBhZGRpbmcsIGRlZmF1bHRWYWx1ZSkge1xuICBpZiAodHlwZW9mIG1heUJlUGFkZGluZyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gbWF5QmVQYWRkaW5nO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBERUZBVUxUX0NISUxEX0JPWF9QQURESU5HO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRQYWRkaW5nKGJib3gsIHBhZGRpbmcpIHtcbiAgdmFyIGxlZnQsIHJpZ2h0LCB0b3AsIGJvdHRvbTtcblxuICBpZiAodHlwZW9mIHBhZGRpbmcgPT09ICdvYmplY3QnKSB7XG4gICAgbGVmdCA9IGFzUGFkZGluZyhwYWRkaW5nLmxlZnQpO1xuICAgIHJpZ2h0ID0gYXNQYWRkaW5nKHBhZGRpbmcucmlnaHQpO1xuICAgIHRvcCA9IGFzUGFkZGluZyhwYWRkaW5nLnRvcCk7XG4gICAgYm90dG9tID0gYXNQYWRkaW5nKHBhZGRpbmcuYm90dG9tKTtcbiAgfSBlbHNlIHtcbiAgICBsZWZ0ID0gcmlnaHQgPSB0b3AgPSBib3R0b20gPSBhc1BhZGRpbmcocGFkZGluZyk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHg6IGJib3gueCAtIGxlZnQsXG4gICAgeTogYmJveC55IC0gdG9wLFxuICAgIHdpZHRoOiBiYm94LndpZHRoICsgbGVmdCArIHJpZ2h0LFxuICAgIGhlaWdodDogYmJveC5oZWlnaHQgKyB0b3AgKyBib3R0b21cbiAgfTtcbn1cblxuXG4vKipcbiAqIElzIHRoZSBnaXZlbiBlbGVtZW50IHBhcnQgb2YgdGhlIHJlc2l6ZVxuICogdGFyZ2V0cyBtaW4gYm91bmRhcnkgYm94P1xuICpcbiAqIFRoaXMgaXMgdGhlIGRlZmF1bHQgaW1wbGVtZW50YXRpb24gd2hpY2ggZXhjbHVkZXNcbiAqIGNvbm5lY3Rpb25zIGFuZCBsYWJlbHMuXG4gKlxuICogQHBhcmFtIHtkanMubW9kZWwuQmFzZX0gZWxlbWVudFxuICovXG5mdW5jdGlvbiBpc0JCb3hDaGlsZChlbGVtZW50KSB7XG5cbiAgLy8gZXhjbHVkZSBjb25uZWN0aW9uc1xuICBpZiAoZWxlbWVudC53YXlwb2ludHMpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvLyBleGNsdWRlIGxhYmVsc1xuICBpZiAoZWxlbWVudC50eXBlID09PSAnbGFiZWwnKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogUmV0dXJuIGNoaWxkcmVuIGJvdW5kaW5nIGNvbXB1dGVkIGZyb20gYSBzaGFwZXMgY2hpbGRyZW5cbiAqIG9yIGEgbGlzdCBvZiBwcmVmaWx0ZXJlZCBjaGlsZHJlbi5cbiAqXG4gKiBAcGFyYW0gIHtkanMubW9kZWwuU2hhcGV8QXJyYXk8ZGpzLm1vZGVsLlNoYXBlPn0gc2hhcGVPckNoaWxkcmVuXG4gKiBAcGFyYW0gIHtudW1iZXJ8T2JqZWN0fSBwYWRkaW5nXG4gKlxuICogQHJldHVybiB7Qm91bmRzfVxuICovXG5leHBvcnQgZnVuY3Rpb24gY29tcHV0ZUNoaWxkcmVuQkJveChzaGFwZU9yQ2hpbGRyZW4sIHBhZGRpbmcpIHtcblxuICB2YXIgZWxlbWVudHM7XG5cbiAgLy8gY29tcHV0ZSBiYXNlZCBvbiBzaGFwZVxuICBpZiAoc2hhcGVPckNoaWxkcmVuLmxlbmd0aCA9PT0gdW5kZWZpbmVkKSB7XG5cbiAgICAvLyBncmFiIGFsbCB0aGUgY2hpbGRyZW4gdGhhdCBhcmUgcGFydCBvZiB0aGVcbiAgICAvLyBwYXJlbnRzIGNoaWxkcmVuIGJveFxuICAgIGVsZW1lbnRzID0gZmlsdGVyKHNoYXBlT3JDaGlsZHJlbi5jaGlsZHJlbiwgaXNCQm94Q2hpbGQpO1xuXG4gIH0gZWxzZSB7XG4gICAgZWxlbWVudHMgPSBzaGFwZU9yQ2hpbGRyZW47XG4gIH1cblxuICBpZiAoZWxlbWVudHMubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGFkZFBhZGRpbmcoZ2V0QkJveChlbGVtZW50cyksIHBhZGRpbmcpO1xuICB9XG59XG4iLCJpbXBvcnQge1xuICBwaWNrLFxuICBhc3NpZ25cbn0gZnJvbSAnbWluLWRhc2gnO1xuXG5pbXBvcnQge1xuICByZXNpemVCb3VuZHMsXG4gIGVuc3VyZUNvbnN0cmFpbnRzLFxuICBjb21wdXRlQ2hpbGRyZW5CQm94LFxuICBnZXRNaW5SZXNpemVCb3VuZHNcbn0gZnJvbSAnLi9SZXNpemVVdGlsJztcblxuaW1wb3J0IHtcbiAgYXNUUkJMLFxuICBnZXRNaWQsXG4gIHJvdW5kQm91bmRzXG59IGZyb20gJy4uLy4uL2xheW91dC9MYXlvdXRVdGlsJztcblxudmFyIERFRkFVTFRfTUlOX1dJRFRIID0gMTA7XG5cblxuLyoqXG4gKiBBIGNvbXBvbmVudCB0aGF0IHByb3ZpZGVzIHJlc2l6aW5nIG9mIHNoYXBlcyBvbiB0aGUgY2FudmFzLlxuICpcbiAqIFRoZSBmb2xsb3dpbmcgY29tcG9uZW50cyBhcmUgcGFydCBvZiBzaGFwZSByZXNpemU6XG4gKlxuICogICogYWRkaW5nIHJlc2l6ZSBoYW5kbGVzLFxuICogICogY3JlYXRpbmcgYSB2aXN1YWwgZHVyaW5nIHJlc2l6ZVxuICogICogY2hlY2tpbmcgcmVzaXplIHJ1bGVzXG4gKiAgKiBjb21taXR0aW5nIGEgY2hhbmdlIG9uY2UgZmluaXNoZWRcbiAqXG4gKlxuICogIyMgQ3VzdG9taXppbmdcbiAqXG4gKiBJdCdzIHBvc3NpYmxlIHRvIGN1c3RvbWl6ZSB0aGUgcmVzaXppbmcgYmVoYXZpb3VyIGJ5IGludGVyY2VwdGluZyAncmVzaXplLnN0YXJ0J1xuICogYW5kIHByb3ZpZGluZyB0aGUgZm9sbG93aW5nIHBhcmFtZXRlcnMgdGhyb3VnaCB0aGUgJ2NvbnRleHQnOlxuICpcbiAqICAgKiBtaW5EaW1lbnNpb25zICh7IHdpZHRoLCBoZWlnaHQgfSk6IG1pbmltdW0gc2hhcGUgZGltZW5zaW9uc1xuICpcbiAqICAgKiBjaGlsZHJlbkJveFBhZGRpbmcgKHsgbGVmdCwgdG9wLCBib3R0b20sIHJpZ2h0IH0gfHwgbnVtYmVyKTpcbiAqICAgICBnYXAgYmV0d2VlbiB0aGUgbWluaW11bSBib3VuZGluZyBib3ggYW5kIHRoZSBjb250YWluZXJcbiAqXG4gKiBmLmV4OlxuICpcbiAqIGBgYGphdmFzY3JpcHRcbiAqIGV2ZW50QnVzLm9uKCdyZXNpemUuc3RhcnQnLCAxNTAwLCBmdW5jdGlvbihldmVudCkge1xuICogICB2YXIgY29udGV4dCA9IGV2ZW50LmNvbnRleHQsXG4gKlxuICogIGNvbnRleHQubWluRGltZW5zaW9ucyA9IHsgd2lkdGg6IDE0MCwgaGVpZ2h0OiAxMjAgfTtcbiAqXG4gKiAgLy8gUGFzc2luZyBnZW5lcmFsIHBhZGRpbmdcbiAqICBjb250ZXh0LmNoaWxkcmVuQm94UGFkZGluZyA9IDMwO1xuICpcbiAqICAvLyBQYXNzaW5nIHBhZGRpbmcgdG8gYSBzcGVjaWZpYyBzaWRlXG4gKiAgY29udGV4dC5jaGlsZHJlbkJveFBhZGRpbmcubGVmdCA9IDIwO1xuICogfSk7XG4gKiBgYGBcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUmVzaXplKGV2ZW50QnVzLCBydWxlcywgbW9kZWxpbmcsIGRyYWdnaW5nKSB7XG5cbiAgdGhpcy5fZHJhZ2dpbmcgPSBkcmFnZ2luZztcbiAgdGhpcy5fcnVsZXMgPSBydWxlcztcblxuICB2YXIgc2VsZiA9IHRoaXM7XG5cblxuICAvKipcbiAgICogSGFuZGxlIHJlc2l6ZSBtb3ZlIGJ5IHNwZWNpZmllZCBkZWx0YS5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHRcbiAgICogQHBhcmFtIHtQb2ludH0gZGVsdGFcbiAgICovXG4gIGZ1bmN0aW9uIGhhbmRsZU1vdmUoY29udGV4dCwgZGVsdGEpIHtcblxuICAgIHZhciBzaGFwZSA9IGNvbnRleHQuc2hhcGUsXG4gICAgICAgIGRpcmVjdGlvbiA9IGNvbnRleHQuZGlyZWN0aW9uLFxuICAgICAgICByZXNpemVDb25zdHJhaW50cyA9IGNvbnRleHQucmVzaXplQ29uc3RyYWludHMsXG4gICAgICAgIG5ld0JvdW5kcztcblxuICAgIGNvbnRleHQuZGVsdGEgPSBkZWx0YTtcblxuICAgIG5ld0JvdW5kcyA9IHJlc2l6ZUJvdW5kcyhzaGFwZSwgZGlyZWN0aW9uLCBkZWx0YSk7XG5cbiAgICAvLyBlbnN1cmUgY29uc3RyYWludHMgZHVyaW5nIHJlc2l6ZVxuICAgIGNvbnRleHQubmV3Qm91bmRzID0gZW5zdXJlQ29uc3RyYWludHMobmV3Qm91bmRzLCByZXNpemVDb25zdHJhaW50cyk7XG5cbiAgICAvLyB1cGRhdGUgKyBjYWNoZSBleGVjdXRhYmxlIHN0YXRlXG4gICAgY29udGV4dC5jYW5FeGVjdXRlID0gc2VsZi5jYW5SZXNpemUoY29udGV4dCk7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIHJlc2l6ZSBzdGFydC5cbiAgICpcbiAgICogQHBhcmFtICB7T2JqZWN0fSBjb250ZXh0XG4gICAqL1xuICBmdW5jdGlvbiBoYW5kbGVTdGFydChjb250ZXh0KSB7XG5cbiAgICB2YXIgcmVzaXplQ29uc3RyYWludHMgPSBjb250ZXh0LnJlc2l6ZUNvbnN0cmFpbnRzLFxuXG4gICAgICAgIC8vIGV2YWx1YXRlIG1pbkJvdW5kcyBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHlcbiAgICAgICAgbWluQm91bmRzID0gY29udGV4dC5taW5Cb3VuZHM7XG5cbiAgICBpZiAocmVzaXplQ29uc3RyYWludHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChtaW5Cb3VuZHMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgbWluQm91bmRzID0gc2VsZi5jb21wdXRlTWluUmVzaXplQm94KGNvbnRleHQpO1xuICAgIH1cblxuICAgIGNvbnRleHQucmVzaXplQ29uc3RyYWludHMgPSB7XG4gICAgICBtaW46IGFzVFJCTChtaW5Cb3VuZHMpXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgcmVzaXplIGVuZC5cbiAgICpcbiAgICogQHBhcmFtICB7T2JqZWN0fSBjb250ZXh0XG4gICAqL1xuICBmdW5jdGlvbiBoYW5kbGVFbmQoY29udGV4dCkge1xuICAgIHZhciBzaGFwZSA9IGNvbnRleHQuc2hhcGUsXG4gICAgICAgIGNhbkV4ZWN1dGUgPSBjb250ZXh0LmNhbkV4ZWN1dGUsXG4gICAgICAgIG5ld0JvdW5kcyA9IGNvbnRleHQubmV3Qm91bmRzO1xuXG4gICAgaWYgKGNhbkV4ZWN1dGUpIHtcblxuICAgICAgLy8gZW5zdXJlIHdlIGhhdmUgYWN0dWFsIHBpeGVsIHZhbHVlcyBmb3IgbmV3IGJvdW5kc1xuICAgICAgLy8gKGltcG9ydGFudCB3aGVuIHpvb20gbGV2ZWwgd2FzID4gMSBkdXJpbmcgbW92ZSlcbiAgICAgIG5ld0JvdW5kcyA9IHJvdW5kQm91bmRzKG5ld0JvdW5kcyk7XG5cbiAgICAgIGlmICghYm91bmRzQ2hhbmdlZChzaGFwZSwgbmV3Qm91bmRzKSkge1xuXG4gICAgICAgIC8vIG5vIHJlc2l6ZSBuZWNlc3NhcnlcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBwZXJmb3JtIHRoZSBhY3R1YWwgcmVzaXplXG4gICAgICBtb2RlbGluZy5yZXNpemVTaGFwZShzaGFwZSwgbmV3Qm91bmRzKTtcbiAgICB9XG4gIH1cblxuXG4gIGV2ZW50QnVzLm9uKCdyZXNpemUuc3RhcnQnLCBmdW5jdGlvbihldmVudCkge1xuICAgIGhhbmRsZVN0YXJ0KGV2ZW50LmNvbnRleHQpO1xuICB9KTtcblxuICBldmVudEJ1cy5vbigncmVzaXplLm1vdmUnLCBmdW5jdGlvbihldmVudCkge1xuICAgIHZhciBkZWx0YSA9IHtcbiAgICAgIHg6IGV2ZW50LmR4LFxuICAgICAgeTogZXZlbnQuZHlcbiAgICB9O1xuXG4gICAgaGFuZGxlTW92ZShldmVudC5jb250ZXh0LCBkZWx0YSk7XG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKCdyZXNpemUuZW5kJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBoYW5kbGVFbmQoZXZlbnQuY29udGV4dCk7XG4gIH0pO1xuXG59XG5cblxuUmVzaXplLnByb3RvdHlwZS5jYW5SZXNpemUgPSBmdW5jdGlvbihjb250ZXh0KSB7XG4gIHZhciBydWxlcyA9IHRoaXMuX3J1bGVzO1xuXG4gIHZhciBjdHggPSBwaWNrKGNvbnRleHQsIFsgJ25ld0JvdW5kcycsICdzaGFwZScsICdkZWx0YScsICdkaXJlY3Rpb24nIF0pO1xuXG4gIHJldHVybiBydWxlcy5hbGxvd2VkKCdzaGFwZS5yZXNpemUnLCBjdHgpO1xufTtcblxuLyoqXG4gKiBBY3RpdmF0ZSBhIHJlc2l6ZSBvcGVyYXRpb24uXG4gKlxuICogWW91IG1heSBzcGVjaWZ5IGFkZGl0aW9uYWwgY29udGV4dHVhbCBpbmZvcm1hdGlvbiBhbmQgbXVzdCBzcGVjaWZ5IGFcbiAqIHJlc2l6ZSBkaXJlY3Rpb24gZHVyaW5nIGFjdGl2YXRpb24gb2YgdGhlIHJlc2l6ZSBldmVudC5cbiAqXG4gKiBAcGFyYW0ge01vdXNlRXZlbnR9IGV2ZW50XG4gKiBAcGFyYW0ge2Rqcy5tb2RlbC5TaGFwZX0gc2hhcGVcbiAqIEBwYXJhbSB7T2JqZWN0fHN0cmluZ30gY29udGV4dE9yRGlyZWN0aW9uXG4gKi9cblJlc2l6ZS5wcm90b3R5cGUuYWN0aXZhdGUgPSBmdW5jdGlvbihldmVudCwgc2hhcGUsIGNvbnRleHRPckRpcmVjdGlvbikge1xuICB2YXIgZHJhZ2dpbmcgPSB0aGlzLl9kcmFnZ2luZyxcbiAgICAgIGNvbnRleHQsXG4gICAgICBkaXJlY3Rpb247XG5cbiAgaWYgKHR5cGVvZiBjb250ZXh0T3JEaXJlY3Rpb24gPT09ICdzdHJpbmcnKSB7XG4gICAgY29udGV4dE9yRGlyZWN0aW9uID0ge1xuICAgICAgZGlyZWN0aW9uOiBjb250ZXh0T3JEaXJlY3Rpb25cbiAgICB9O1xuICB9XG5cbiAgY29udGV4dCA9IGFzc2lnbih7IHNoYXBlOiBzaGFwZSB9LCBjb250ZXh0T3JEaXJlY3Rpb24pO1xuXG4gIGRpcmVjdGlvbiA9IGNvbnRleHQuZGlyZWN0aW9uO1xuXG4gIGlmICghZGlyZWN0aW9uKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdtdXN0IHByb3ZpZGUgYSBkaXJlY3Rpb24gKG58d3xzfGV8bnd8c2V8bmV8c3cpJyk7XG4gIH1cblxuICBkcmFnZ2luZy5pbml0KGV2ZW50LCBnZXRSZWZlcmVuY2VQb2ludChzaGFwZSwgZGlyZWN0aW9uKSwgJ3Jlc2l6ZScsIHtcbiAgICBhdXRvQWN0aXZhdGU6IHRydWUsXG4gICAgY3Vyc29yOiBnZXRDdXJzb3IoZGlyZWN0aW9uKSxcbiAgICBkYXRhOiB7XG4gICAgICBzaGFwZTogc2hhcGUsXG4gICAgICBjb250ZXh0OiBjb250ZXh0XG4gICAgfVxuICB9KTtcbn07XG5cblJlc2l6ZS5wcm90b3R5cGUuY29tcHV0ZU1pblJlc2l6ZUJveCA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcbiAgdmFyIHNoYXBlID0gY29udGV4dC5zaGFwZSxcbiAgICAgIGRpcmVjdGlvbiA9IGNvbnRleHQuZGlyZWN0aW9uLFxuICAgICAgbWluRGltZW5zaW9ucyxcbiAgICAgIGNoaWxkcmVuQm91bmRzO1xuXG4gIG1pbkRpbWVuc2lvbnMgPSBjb250ZXh0Lm1pbkRpbWVuc2lvbnMgfHwge1xuICAgIHdpZHRoOiBERUZBVUxUX01JTl9XSURUSCxcbiAgICBoZWlnaHQ6IERFRkFVTFRfTUlOX1dJRFRIXG4gIH07XG5cbiAgLy8gZ2V0IGNoaWxkcmVuIGJvdW5kc1xuICBjaGlsZHJlbkJvdW5kcyA9IGNvbXB1dGVDaGlsZHJlbkJCb3goc2hhcGUsIGNvbnRleHQuY2hpbGRyZW5Cb3hQYWRkaW5nKTtcblxuICAvLyBnZXQgY29ycmVjdCBtaW5pbXVtIGJvdW5kcyBmcm9tIGdpdmVuIHJlc2l6ZSBkaXJlY3Rpb25cbiAgLy8gYmFzaWNhbGx5IGVuc3VyZXMgdGhhdCB0aGUgbWluQm91bmRzIGlzIG1heChjaGlsZHJlbkJvdW5kcywgbWluRGltZW5zaW9ucylcbiAgcmV0dXJuIGdldE1pblJlc2l6ZUJvdW5kcyhkaXJlY3Rpb24sIHNoYXBlLCBtaW5EaW1lbnNpb25zLCBjaGlsZHJlbkJvdW5kcyk7XG59O1xuXG5cblJlc2l6ZS4kaW5qZWN0ID0gW1xuICAnZXZlbnRCdXMnLFxuICAncnVsZXMnLFxuICAnbW9kZWxpbmcnLFxuICAnZHJhZ2dpbmcnXG5dO1xuXG4vLyBoZWxwZXJzIC8vLy8vLy8vLy9cblxuZnVuY3Rpb24gYm91bmRzQ2hhbmdlZChzaGFwZSwgbmV3Qm91bmRzKSB7XG4gIHJldHVybiBzaGFwZS54ICE9PSBuZXdCb3VuZHMueCB8fFxuICAgIHNoYXBlLnkgIT09IG5ld0JvdW5kcy55IHx8XG4gICAgc2hhcGUud2lkdGggIT09IG5ld0JvdW5kcy53aWR0aCB8fFxuICAgIHNoYXBlLmhlaWdodCAhPT0gbmV3Qm91bmRzLmhlaWdodDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFJlZmVyZW5jZVBvaW50KHNoYXBlLCBkaXJlY3Rpb24pIHtcbiAgdmFyIG1pZCA9IGdldE1pZChzaGFwZSksXG4gICAgICB0cmJsID0gYXNUUkJMKHNoYXBlKTtcblxuICB2YXIgcmVmZXJlbmNlUG9pbnQgPSB7XG4gICAgeDogbWlkLngsXG4gICAgeTogbWlkLnlcbiAgfTtcblxuICBpZiAoZGlyZWN0aW9uLmluZGV4T2YoJ24nKSAhPT0gLTEpIHtcbiAgICByZWZlcmVuY2VQb2ludC55ID0gdHJibC50b3A7XG4gIH0gZWxzZSBpZiAoZGlyZWN0aW9uLmluZGV4T2YoJ3MnKSAhPT0gLTEpIHtcbiAgICByZWZlcmVuY2VQb2ludC55ID0gdHJibC5ib3R0b207XG4gIH1cblxuICBpZiAoZGlyZWN0aW9uLmluZGV4T2YoJ2UnKSAhPT0gLTEpIHtcbiAgICByZWZlcmVuY2VQb2ludC54ID0gdHJibC5yaWdodDtcbiAgfSBlbHNlIGlmIChkaXJlY3Rpb24uaW5kZXhPZigndycpICE9PSAtMSkge1xuICAgIHJlZmVyZW5jZVBvaW50LnggPSB0cmJsLmxlZnQ7XG4gIH1cblxuICByZXR1cm4gcmVmZXJlbmNlUG9pbnQ7XG59XG5cbmZ1bmN0aW9uIGdldEN1cnNvcihkaXJlY3Rpb24pIHtcbiAgdmFyIHByZWZpeCA9ICdyZXNpemUtJztcblxuICBpZiAoZGlyZWN0aW9uID09PSAnbicgfHwgZGlyZWN0aW9uID09PSAncycpIHtcbiAgICByZXR1cm4gcHJlZml4ICsgJ25zJztcbiAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPT09ICdlJyB8fCBkaXJlY3Rpb24gPT09ICd3Jykge1xuICAgIHJldHVybiBwcmVmaXggKyAnZXcnO1xuICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gJ253JyB8fCBkaXJlY3Rpb24gPT09ICdzZScpIHtcbiAgICByZXR1cm4gcHJlZml4ICsgJ253c2UnO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBwcmVmaXggKyAnbmVzdyc7XG4gIH1cbn0iLCJ2YXIgTUFSS0VSX1JFU0laSU5HID0gJ2Rqcy1yZXNpemluZycsXG4gICAgTUFSS0VSX1JFU0laRV9OT1RfT0sgPSAncmVzaXplLW5vdC1vayc7XG5cbnZhciBMT1dfUFJJT1JJVFkgPSA1MDA7XG5cbmltcG9ydCB7XG4gIGF0dHIgYXMgc3ZnQXR0cixcbiAgcmVtb3ZlIGFzIHN2Z1JlbW92ZSxcbiAgY2xhc3NlcyBhcyBzdmdDbGFzc2VzXG59IGZyb20gJ3Rpbnktc3ZnJztcblxuXG4vKipcbiAqIFByb3ZpZGVzIHByZXZpZXdzIGZvciByZXNpemluZyBzaGFwZXMgd2hlbiByZXNpemluZy5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50QnVzfSBldmVudEJ1c1xuICogQHBhcmFtIHtDYW52YXN9IGNhbnZhc1xuICogQHBhcmFtIHtQcmV2aWV3U3VwcG9ydH0gcHJldmlld1N1cHBvcnRcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUmVzaXplUHJldmlldyhldmVudEJ1cywgY2FudmFzLCBwcmV2aWV3U3VwcG9ydCkge1xuXG4gIC8qKlxuICAgKiBVcGRhdGUgcmVzaXplciBmcmFtZS5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHRcbiAgICovXG4gIGZ1bmN0aW9uIHVwZGF0ZUZyYW1lKGNvbnRleHQpIHtcblxuICAgIHZhciBzaGFwZSA9IGNvbnRleHQuc2hhcGUsXG4gICAgICAgIGJvdW5kcyA9IGNvbnRleHQubmV3Qm91bmRzLFxuICAgICAgICBmcmFtZSA9IGNvbnRleHQuZnJhbWU7XG5cbiAgICBpZiAoIWZyYW1lKSB7XG4gICAgICBmcmFtZSA9IGNvbnRleHQuZnJhbWUgPSBwcmV2aWV3U3VwcG9ydC5hZGRGcmFtZShzaGFwZSwgY2FudmFzLmdldERlZmF1bHRMYXllcigpKTtcblxuICAgICAgY2FudmFzLmFkZE1hcmtlcihzaGFwZSwgTUFSS0VSX1JFU0laSU5HKTtcbiAgICB9XG5cbiAgICBpZiAoYm91bmRzLndpZHRoID4gNSkge1xuICAgICAgc3ZnQXR0cihmcmFtZSwgeyB4OiBib3VuZHMueCwgd2lkdGg6IGJvdW5kcy53aWR0aCB9KTtcbiAgICB9XG5cbiAgICBpZiAoYm91bmRzLmhlaWdodCA+IDUpIHtcbiAgICAgIHN2Z0F0dHIoZnJhbWUsIHsgeTogYm91bmRzLnksIGhlaWdodDogYm91bmRzLmhlaWdodCB9KTtcbiAgICB9XG5cbiAgICBpZiAoY29udGV4dC5jYW5FeGVjdXRlKSB7XG4gICAgICBzdmdDbGFzc2VzKGZyYW1lKS5yZW1vdmUoTUFSS0VSX1JFU0laRV9OT1RfT0spO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdmdDbGFzc2VzKGZyYW1lKS5hZGQoTUFSS0VSX1JFU0laRV9OT1RfT0spO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgcmVzaXplciBmcmFtZS5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHRcbiAgICovXG4gIGZ1bmN0aW9uIHJlbW92ZUZyYW1lKGNvbnRleHQpIHtcbiAgICB2YXIgc2hhcGUgPSBjb250ZXh0LnNoYXBlLFxuICAgICAgICBmcmFtZSA9IGNvbnRleHQuZnJhbWU7XG5cbiAgICBpZiAoZnJhbWUpIHtcbiAgICAgIHN2Z1JlbW92ZShjb250ZXh0LmZyYW1lKTtcbiAgICB9XG5cbiAgICBjYW52YXMucmVtb3ZlTWFya2VyKHNoYXBlLCBNQVJLRVJfUkVTSVpJTkcpO1xuICB9XG5cbiAgLy8gYWRkIGFuZCB1cGRhdGUgcHJldmlld3NcbiAgZXZlbnRCdXMub24oJ3Jlc2l6ZS5tb3ZlJywgTE9XX1BSSU9SSVRZLCBmdW5jdGlvbihldmVudCkge1xuICAgIHVwZGF0ZUZyYW1lKGV2ZW50LmNvbnRleHQpO1xuICB9KTtcblxuICAvLyByZW1vdmUgcHJldmlld3NcbiAgZXZlbnRCdXMub24oJ3Jlc2l6ZS5jbGVhbnVwJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICByZW1vdmVGcmFtZShldmVudC5jb250ZXh0KTtcbiAgfSk7XG5cbn1cblxuUmVzaXplUHJldmlldy4kaW5qZWN0ID0gW1xuICAnZXZlbnRCdXMnLFxuICAnY2FudmFzJyxcbiAgJ3ByZXZpZXdTdXBwb3J0J1xuXTsiLCJpbXBvcnQge1xuICBiaW5kLFxuICBmb3JFYWNoXG59IGZyb20gJ21pbi1kYXNoJztcblxuaW1wb3J0IHtcbiAgYXBwZW5kIGFzIHN2Z0FwcGVuZCxcbiAgYXR0ciBhcyBzdmdBdHRyLFxuICBjbGFzc2VzIGFzIHN2Z0NsYXNzZXMsXG4gIGNsZWFyIGFzIHN2Z0NsZWFyLFxuICBjcmVhdGUgYXMgc3ZnQ3JlYXRlXG59IGZyb20gJ3Rpbnktc3ZnJztcblxuaW1wb3J0IHtcbiAgZXZlbnQgYXMgZG9tRXZlbnRcbn0gZnJvbSAnbWluLWRvbSc7XG5cbmltcG9ydCB7XG4gIGlzUHJpbWFyeUJ1dHRvblxufSBmcm9tICcuLi8uLi91dGlsL01vdXNlJztcblxuaW1wb3J0IHtcbiAgdHJhbnNmb3JtXG59IGZyb20gJy4uLy4uL3V0aWwvU3ZnVHJhbnNmb3JtVXRpbCc7XG5cbmltcG9ydCB7IGdldFJlZmVyZW5jZVBvaW50IH0gZnJvbSAnLi9SZXNpemUnO1xuXG52YXIgSEFORExFX09GRlNFVCA9IC02LFxuICAgIEhBTkRMRV9TSVpFID0gNCxcbiAgICBIQU5ETEVfSElUX1NJWkUgPSAyMDtcblxudmFyIENMU19SRVNJWkVSID0gJ2Rqcy1yZXNpemVyJztcblxudmFyIGRpcmVjdGlvbnMgPSBbICduJywgJ3cnLCAncycsICdlJywgJ253JywgJ25lJywgJ3NlJywgJ3N3JyBdO1xuXG5cbi8qKlxuICogVGhpcyBjb21wb25lbnQgaXMgcmVzcG9uc2libGUgZm9yIGFkZGluZyByZXNpemUgaGFuZGxlcy5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50QnVzfSBldmVudEJ1c1xuICogQHBhcmFtIHtDYW52YXN9IGNhbnZhc1xuICogQHBhcmFtIHtTZWxlY3Rpb259IHNlbGVjdGlvblxuICogQHBhcmFtIHtSZXNpemV9IHJlc2l6ZVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBSZXNpemVIYW5kbGVzKGV2ZW50QnVzLCBjYW52YXMsIHNlbGVjdGlvbiwgcmVzaXplKSB7XG5cbiAgdGhpcy5fcmVzaXplID0gcmVzaXplO1xuICB0aGlzLl9jYW52YXMgPSBjYW52YXM7XG5cbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIGV2ZW50QnVzLm9uKCdzZWxlY3Rpb24uY2hhbmdlZCcsIGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgbmV3U2VsZWN0aW9uID0gZS5uZXdTZWxlY3Rpb247XG5cbiAgICAvLyByZW1vdmUgb2xkIHNlbGVjdGlvbiBtYXJrZXJzXG4gICAgc2VsZi5yZW1vdmVSZXNpemVycygpO1xuXG4gICAgLy8gYWRkIG5ldyBzZWxlY3Rpb24gbWFya2VycyBPTkxZIGlmIHNpbmdsZSBzZWxlY3Rpb25cbiAgICBpZiAobmV3U2VsZWN0aW9uLmxlbmd0aCA9PT0gMSkge1xuICAgICAgZm9yRWFjaChuZXdTZWxlY3Rpb24sIGJpbmQoc2VsZi5hZGRSZXNpemVyLCBzZWxmKSk7XG4gICAgfVxuICB9KTtcblxuICBldmVudEJ1cy5vbignc2hhcGUuY2hhbmdlZCcsIGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgc2hhcGUgPSBlLmVsZW1lbnQ7XG5cbiAgICBpZiAoc2VsZWN0aW9uLmlzU2VsZWN0ZWQoc2hhcGUpKSB7XG4gICAgICBzZWxmLnJlbW92ZVJlc2l6ZXJzKCk7XG5cbiAgICAgIHNlbGYuYWRkUmVzaXplcihzaGFwZSk7XG4gICAgfVxuICB9KTtcbn1cblxuXG5SZXNpemVIYW5kbGVzLnByb3RvdHlwZS5tYWtlRHJhZ2dhYmxlID0gZnVuY3Rpb24oZWxlbWVudCwgZ2Z4LCBkaXJlY3Rpb24pIHtcbiAgdmFyIHJlc2l6ZSA9IHRoaXMuX3Jlc2l6ZTtcblxuICBmdW5jdGlvbiBzdGFydFJlc2l6ZShldmVudCkge1xuXG4gICAgLy8gb25seSB0cmlnZ2VyIG9uIGxlZnQgbW91c2UgYnV0dG9uXG4gICAgaWYgKGlzUHJpbWFyeUJ1dHRvbihldmVudCkpIHtcbiAgICAgIHJlc2l6ZS5hY3RpdmF0ZShldmVudCwgZWxlbWVudCwgZGlyZWN0aW9uKTtcbiAgICB9XG4gIH1cblxuICBkb21FdmVudC5iaW5kKGdmeCwgJ21vdXNlZG93bicsIHN0YXJ0UmVzaXplKTtcbiAgZG9tRXZlbnQuYmluZChnZngsICd0b3VjaHN0YXJ0Jywgc3RhcnRSZXNpemUpO1xufTtcblxuXG5SZXNpemVIYW5kbGVzLnByb3RvdHlwZS5fY3JlYXRlUmVzaXplciA9IGZ1bmN0aW9uKGVsZW1lbnQsIHgsIHksIGRpcmVjdGlvbikge1xuICB2YXIgcmVzaXplcnNQYXJlbnQgPSB0aGlzLl9nZXRSZXNpemVyc1BhcmVudCgpO1xuXG4gIHZhciBvZmZzZXQgPSBnZXRIYW5kbGVPZmZzZXQoZGlyZWN0aW9uKTtcblxuICB2YXIgZ3JvdXAgPSBzdmdDcmVhdGUoJ2cnKTtcblxuICBzdmdDbGFzc2VzKGdyb3VwKS5hZGQoQ0xTX1JFU0laRVIpO1xuICBzdmdDbGFzc2VzKGdyb3VwKS5hZGQoQ0xTX1JFU0laRVIgKyAnLScgKyBlbGVtZW50LmlkKTtcbiAgc3ZnQ2xhc3Nlcyhncm91cCkuYWRkKENMU19SRVNJWkVSICsgJy0nICsgZGlyZWN0aW9uKTtcblxuICBzdmdBcHBlbmQocmVzaXplcnNQYXJlbnQsIGdyb3VwKTtcblxuICB2YXIgdmlzdWFsID0gc3ZnQ3JlYXRlKCdyZWN0Jyk7XG5cbiAgc3ZnQXR0cih2aXN1YWwsIHtcbiAgICB4OiAtSEFORExFX1NJWkUgLyAyICsgb2Zmc2V0LngsXG4gICAgeTogLUhBTkRMRV9TSVpFIC8gMiArIG9mZnNldC55LFxuICAgIHdpZHRoOiBIQU5ETEVfU0laRSxcbiAgICBoZWlnaHQ6IEhBTkRMRV9TSVpFXG4gIH0pO1xuXG4gIHN2Z0NsYXNzZXModmlzdWFsKS5hZGQoQ0xTX1JFU0laRVIgKyAnLXZpc3VhbCcpO1xuXG4gIHN2Z0FwcGVuZChncm91cCwgdmlzdWFsKTtcblxuICB2YXIgaGl0ID0gc3ZnQ3JlYXRlKCdyZWN0Jyk7XG5cbiAgc3ZnQXR0cihoaXQsIHtcbiAgICB4OiAtSEFORExFX0hJVF9TSVpFIC8gMiArIG9mZnNldC54LFxuICAgIHk6IC1IQU5ETEVfSElUX1NJWkUgLyAyICsgb2Zmc2V0LnksXG4gICAgd2lkdGg6IEhBTkRMRV9ISVRfU0laRSxcbiAgICBoZWlnaHQ6IEhBTkRMRV9ISVRfU0laRVxuICB9KTtcblxuICBzdmdDbGFzc2VzKGhpdCkuYWRkKENMU19SRVNJWkVSICsgJy1oaXQnKTtcblxuICBzdmdBcHBlbmQoZ3JvdXAsIGhpdCk7XG5cbiAgdHJhbnNmb3JtKGdyb3VwLCB4LCB5KTtcblxuICByZXR1cm4gZ3JvdXA7XG59O1xuXG5SZXNpemVIYW5kbGVzLnByb3RvdHlwZS5jcmVhdGVSZXNpemVyID0gZnVuY3Rpb24oZWxlbWVudCwgZGlyZWN0aW9uKSB7XG4gIHZhciBwb2ludCA9IGdldFJlZmVyZW5jZVBvaW50KGVsZW1lbnQsIGRpcmVjdGlvbik7XG5cbiAgdmFyIHJlc2l6ZXIgPSB0aGlzLl9jcmVhdGVSZXNpemVyKGVsZW1lbnQsIHBvaW50LngsIHBvaW50LnksIGRpcmVjdGlvbik7XG5cbiAgdGhpcy5tYWtlRHJhZ2dhYmxlKGVsZW1lbnQsIHJlc2l6ZXIsIGRpcmVjdGlvbik7XG59O1xuXG4vLyByZXNpemUgaGFuZGxlcyBpbXBsZW1lbnRhdGlvbiAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbi8qKlxuICogQWRkIHJlc2l6ZXJzIGZvciBhIGdpdmVuIGVsZW1lbnQuXG4gKlxuICogQHBhcmFtIHtkanMubW9kZWwuU2hhcGV9IHNoYXBlXG4gKi9cblJlc2l6ZUhhbmRsZXMucHJvdG90eXBlLmFkZFJlc2l6ZXIgPSBmdW5jdGlvbihzaGFwZSkge1xuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgdmFyIHJlc2l6ZSA9IHRoaXMuX3Jlc2l6ZTtcblxuICBpZiAoIXJlc2l6ZS5jYW5SZXNpemUoeyBzaGFwZTogc2hhcGUgfSkpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBmb3JFYWNoKGRpcmVjdGlvbnMsIGZ1bmN0aW9uKGRpcmVjdGlvbikge1xuICAgIHNlbGYuY3JlYXRlUmVzaXplcihzaGFwZSwgZGlyZWN0aW9uKTtcbiAgfSk7XG59O1xuXG4vKipcbiAqIFJlbW92ZSBhbGwgcmVzaXplcnNcbiAqL1xuUmVzaXplSGFuZGxlcy5wcm90b3R5cGUucmVtb3ZlUmVzaXplcnMgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHJlc2l6ZXJzUGFyZW50ID0gdGhpcy5fZ2V0UmVzaXplcnNQYXJlbnQoKTtcblxuICBzdmdDbGVhcihyZXNpemVyc1BhcmVudCk7XG59O1xuXG5SZXNpemVIYW5kbGVzLnByb3RvdHlwZS5fZ2V0UmVzaXplcnNQYXJlbnQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuX2NhbnZhcy5nZXRMYXllcigncmVzaXplcnMnKTtcbn07XG5cblJlc2l6ZUhhbmRsZXMuJGluamVjdCA9IFtcbiAgJ2V2ZW50QnVzJyxcbiAgJ2NhbnZhcycsXG4gICdzZWxlY3Rpb24nLFxuICAncmVzaXplJ1xuXTtcblxuLy8gaGVscGVycyAvLy8vLy8vLy8vXG5cbmZ1bmN0aW9uIGdldEhhbmRsZU9mZnNldChkaXJlY3Rpb24pIHtcbiAgdmFyIG9mZnNldCA9IHtcbiAgICB4OiAwLFxuICAgIHk6IDBcbiAgfTtcblxuICBpZiAoZGlyZWN0aW9uLmluZGV4T2YoJ2UnKSAhPT0gLTEpIHtcbiAgICBvZmZzZXQueCA9IC1IQU5ETEVfT0ZGU0VUO1xuICB9IGVsc2UgaWYgKGRpcmVjdGlvbi5pbmRleE9mKCd3JykgIT09IC0xKSB7XG4gICAgb2Zmc2V0LnggPSBIQU5ETEVfT0ZGU0VUO1xuICB9XG5cbiAgaWYgKGRpcmVjdGlvbi5pbmRleE9mKCdzJykgIT09IC0xKSB7XG4gICAgb2Zmc2V0LnkgPSAtSEFORExFX09GRlNFVDtcbiAgfSBlbHNlIGlmIChkaXJlY3Rpb24uaW5kZXhPZignbicpICE9PSAtMSkge1xuICAgIG9mZnNldC55ID0gSEFORExFX09GRlNFVDtcbiAgfVxuXG4gIHJldHVybiBvZmZzZXQ7XG59IiwiaW1wb3J0IFJ1bGVzTW9kdWxlIGZyb20gJy4uL3J1bGVzJztcbmltcG9ydCBEcmFnZ2luZ01vZHVsZSBmcm9tICcuLi9kcmFnZ2luZyc7XG5pbXBvcnQgUHJldmlld1N1cHBvcnRNb2R1bGUgZnJvbSAnLi4vcHJldmlldy1zdXBwb3J0JztcblxuaW1wb3J0IFJlc2l6ZSBmcm9tICcuL1Jlc2l6ZSc7XG5pbXBvcnQgUmVzaXplUHJldmlldyBmcm9tICcuL1Jlc2l6ZVByZXZpZXcnO1xuaW1wb3J0IFJlc2l6ZUhhbmRsZXMgZnJvbSAnLi9SZXNpemVIYW5kbGVzJztcblxuZXhwb3J0IGRlZmF1bHQge1xuICBfX2RlcGVuZHNfXzogW1xuICAgIFJ1bGVzTW9kdWxlLFxuICAgIERyYWdnaW5nTW9kdWxlLFxuICAgIFByZXZpZXdTdXBwb3J0TW9kdWxlXG4gIF0sXG4gIF9faW5pdF9fOiBbXG4gICAgJ3Jlc2l6ZScsXG4gICAgJ3Jlc2l6ZVByZXZpZXcnLFxuICAgICdyZXNpemVIYW5kbGVzJ1xuICBdLFxuICByZXNpemU6IFsgJ3R5cGUnLCBSZXNpemUgXSxcbiAgcmVzaXplUHJldmlldzogWyAndHlwZScsIFJlc2l6ZVByZXZpZXcgXSxcbiAgcmVzaXplSGFuZGxlczogWyAndHlwZScsIFJlc2l6ZUhhbmRsZXMgXVxufTtcbiIsImltcG9ydCB7XG4gIGFzc2lnblxufSBmcm9tICdtaW4tZGFzaCc7XG5cbmltcG9ydCB7XG4gIGdldExhYmVsXG59IGZyb20gJy4vTGFiZWxVdGlsJztcblxuaW1wb3J0IHsgaXNBbnkgfSBmcm9tICcuLi9tb2RlbGluZy91dGlsL01vZGVsaW5nVXRpbCc7XG5cbmltcG9ydCB7XG4gIGdldEV4dGVybmFsTGFiZWxNaWQsXG4gIGlzTGFiZWxFeHRlcm5hbCxcbiAgaGFzRXh0ZXJuYWxMYWJlbCxcbiAgaXNMYWJlbFxufSBmcm9tICcuLi8uLi91dGlsL0xhYmVsVXRpbCc7XG5cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTGFiZWxFZGl0aW5nUHJvdmlkZXIoXG4gICAgZXZlbnRCdXMsIHBvc3RpdEZhY3RvcnksIGNhbnZhcywgZGlyZWN0RWRpdGluZyxcbiAgICBtb2RlbGluZywgcmVzaXplSGFuZGxlcywgdGV4dFJlbmRlcmVyKSB7XG5cbiAgdGhpcy5fcG9zdGl0RmFjdG9yeSA9IHBvc3RpdEZhY3Rvcnk7XG4gIHRoaXMuX2NhbnZhcyA9IGNhbnZhcztcbiAgdGhpcy5fbW9kZWxpbmcgPSBtb2RlbGluZztcbiAgdGhpcy5fdGV4dFJlbmRlcmVyID0gdGV4dFJlbmRlcmVyO1xuXG4gIGRpcmVjdEVkaXRpbmcucmVnaXN0ZXJQcm92aWRlcih0aGlzKTtcblxuICAvLyBsaXN0ZW4gdG8gZGJsY2xpY2sgb24gbm9uLXJvb3QgZWxlbWVudHNcbiAgZXZlbnRCdXMub24oJ2VsZW1lbnQuZGJsY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuICAgIGFjdGl2YXRlRGlyZWN0RWRpdChldmVudC5lbGVtZW50LCB0cnVlKTtcbiAgfSk7XG5cbiAgLy8gY29tcGxldGUgb24gZm9sbG93dXAgY2FudmFzIG9wZXJhdGlvblxuICBldmVudEJ1cy5vbihbXG4gICAgJ2F1dG9QbGFjZS5zdGFydCcsXG4gICAgJ2NhbnZhcy52aWV3Ym94LmNoYW5naW5nJyxcbiAgICAnZHJhZy5pbml0JyxcbiAgICAnZWxlbWVudC5tb3VzZWRvd24nLFxuICAgICdwb3B1cE1lbnUub3BlbidcbiAgXSwgZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgIGlmIChkaXJlY3RFZGl0aW5nLmlzQWN0aXZlKCkpIHtcbiAgICAgIGRpcmVjdEVkaXRpbmcuY29tcGxldGUoKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIGNhbmNlbCBvbiBjb21tYW5kIHN0YWNrIGNoYW5nZXNcbiAgZXZlbnRCdXMub24oWyAnY29tbWFuZFN0YWNrLmNoYW5nZWQnIF0sIGZ1bmN0aW9uKGUpIHtcbiAgICBpZiAoZGlyZWN0RWRpdGluZy5pc0FjdGl2ZSgpKSB7XG4gICAgICBkaXJlY3RFZGl0aW5nLmNhbmNlbCgpO1xuICAgIH1cbiAgfSk7XG5cblxuICBldmVudEJ1cy5vbignZGlyZWN0RWRpdGluZy5hY3RpdmF0ZScsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgcmVzaXplSGFuZGxlcy5yZW1vdmVSZXNpemVycygpO1xuICB9KTtcblxuICBldmVudEJ1cy5vbignY3JlYXRlLmVuZCcsIDUwMCwgZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgIHZhciBjb250ZXh0ID0gZXZlbnQuY29udGV4dCxcbiAgICAgICAgZWxlbWVudCA9IGNvbnRleHQuc2hhcGUsXG4gICAgICAgIGNhbkV4ZWN1dGUgPSBldmVudC5jb250ZXh0LmNhbkV4ZWN1dGUsXG4gICAgICAgIGlzVG91Y2ggPSBldmVudC5pc1RvdWNoO1xuXG4gICAgLy8gVE9ETyhuaWtrdSk6IHdlIG5lZWQgdG8gZmluZCBhIHdheSB0byBzdXBwb3J0IHRoZVxuICAgIC8vIGRpcmVjdCBlZGl0aW5nIG9uIG1vYmlsZSBkZXZpY2VzOyByaWdodCBub3cgdGhpcyB3aWxsXG4gICAgLy8gYnJlYWsgZm9yIGRlc3dvcmtmbG93ZWRpdGluZyBvbiBtb2JpbGUgZGV2aWNlc1xuICAgIC8vIGFzIGl0IGJyZWFrcyB0aGUgdXNlciBpbnRlcmFjdGlvbiB3b3JrZmxvd1xuXG4gICAgLy8gVE9ETyhucmUpOiB3ZSBzaG91bGQgdGVtcG9yYXJpbHkgZm9jdXMgdGhlIGVkaXRlZCBlbGVtZW50XG4gICAgLy8gaGVyZSBhbmQgcmVsZWFzZSB0aGUgZm9jdXNlZCB2aWV3cG9ydCBhZnRlciB0aGUgZGlyZWN0IGVkaXRcbiAgICAvLyBvcGVyYXRpb24gaXMgZmluaXNoZWRcbiAgICBpZiAoaXNUb3VjaCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghY2FuRXhlY3V0ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChjb250ZXh0LmhpbnRzICYmIGNvbnRleHQuaGludHMuY3JlYXRlRWxlbWVudHNCZWhhdmlvciA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBhY3RpdmF0ZURpcmVjdEVkaXQoZWxlbWVudCk7XG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKCdhdXRvUGxhY2UuZW5kJywgNTAwLCBmdW5jdGlvbihldmVudCkge1xuICAgIGFjdGl2YXRlRGlyZWN0RWRpdChldmVudC5zaGFwZSk7XG4gIH0pO1xuXG5cbiAgZnVuY3Rpb24gYWN0aXZhdGVEaXJlY3RFZGl0KGVsZW1lbnQsIGZvcmNlKSB7XG4gICAgaWYgKGZvcmNlIHx8XG4gICAgICAgIGlzQW55KGVsZW1lbnQsIFsgJ3Bvc3RpdDpQb3N0aXQnLCAncG9zdGl0Okdyb3VwJywgJ3Bvc3RpdDpUZXh0Qm94JyBdKSkge1xuXG4gICAgICBkaXJlY3RFZGl0aW5nLmFjdGl2YXRlKGVsZW1lbnQpO1xuICAgIH1cbiAgfVxuXG59XG5cbkxhYmVsRWRpdGluZ1Byb3ZpZGVyLiRpbmplY3QgPSBbXG4gICdldmVudEJ1cycsXG4gICdwb3N0aXRGYWN0b3J5JyxcbiAgJ2NhbnZhcycsXG4gICdkaXJlY3RFZGl0aW5nJyxcbiAgJ21vZGVsaW5nJyxcbiAgJ3Jlc2l6ZUhhbmRsZXMnLFxuICAndGV4dFJlbmRlcmVyJ1xuXTtcblxuXG4vKipcbiAqIEFjdGl2YXRlIGRpcmVjdCBlZGl0aW5nIGZvciBhY3Rpdml0aWVzIGFuZCB0ZXh0IGFubm90YXRpb25zLlxuICpcbiAqIEBwYXJhbSAge2Rqcy5tb2RlbC5CYXNlfSBlbGVtZW50XG4gKlxuICogQHJldHVybiB7T2JqZWN0fSBhbiBvYmplY3Qgd2l0aCBwcm9wZXJ0aWVzIGJvdW5kcyAocG9zaXRpb24gYW5kIHNpemUpLCB0ZXh0IGFuZCBvcHRpb25zXG4gKi9cbkxhYmVsRWRpdGluZ1Byb3ZpZGVyLnByb3RvdHlwZS5hY3RpdmF0ZSA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcblxuICAvLyB0ZXh0XG4gIHZhciB0ZXh0ID0gZ2V0TGFiZWwoZWxlbWVudCk7XG5cbiAgaWYgKHRleHQgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBjb250ZXh0ID0ge1xuICAgIHRleHQ6IHRleHRcbiAgfTtcblxuICAvLyBib3VuZHNcbiAgdmFyIGJvdW5kcyA9IHRoaXMuZ2V0RWRpdGluZ0JCb3goZWxlbWVudCk7XG5cbiAgYXNzaWduKGNvbnRleHQsIGJvdW5kcyk7XG5cbiAgdmFyIG9wdGlvbnMgPSB7fTtcblxuICAvLyBwb3N0aXRzIGFuZCB0ZXh0IGJveGVzXG4gIGlmIChpc0FueShlbGVtZW50LCBbJ3Bvc3RpdDpQb3N0aXQnLCAncG9zdGl0OlRleHRCb3gnXSkpIHtcbiAgICBhc3NpZ24ob3B0aW9ucywge1xuICAgICAgY2VudGVyVmVydGljYWxseTogdHJ1ZVxuICAgIH0pO1xuICB9XG5cbiAgLy8gZXh0ZXJuYWwgbGFiZWxzXG4gIGlmIChpc0xhYmVsRXh0ZXJuYWwoZWxlbWVudCkpIHtcbiAgICBhc3NpZ24ob3B0aW9ucywge1xuICAgICAgYXV0b1Jlc2l6ZTogdHJ1ZVxuICAgIH0pO1xuICB9XG5cblxuICBhc3NpZ24oY29udGV4dCwge1xuICAgIG9wdGlvbnM6IG9wdGlvbnNcbiAgfSk7XG5cbiAgcmV0dXJuIGNvbnRleHQ7XG59O1xuXG5cbi8qKlxuICogR2V0IHRoZSBlZGl0aW5nIGJvdW5kaW5nIGJveCBiYXNlZCBvbiB0aGUgZWxlbWVudCdzIHNpemUgYW5kIHBvc2l0aW9uXG4gKlxuICogQHBhcmFtICB7ZGpzLm1vZGVsLkJhc2V9IGVsZW1lbnRcbiAqXG4gKiBAcmV0dXJuIHtPYmplY3R9IGFuIG9iamVjdCBjb250YWluaW5nIGluZm9ybWF0aW9uIGFib3V0IHBvc2l0aW9uXG4gKiAgICAgICAgICAgICAgICAgIGFuZCBzaXplIChmaXhlZCBvciBtaW5pbXVtIGFuZC9vciBtYXhpbXVtKVxuICovXG5MYWJlbEVkaXRpbmdQcm92aWRlci5wcm90b3R5cGUuZ2V0RWRpdGluZ0JCb3ggPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gIHZhciBjYW52YXMgPSB0aGlzLl9jYW52YXM7XG5cbiAgdmFyIHRhcmdldCA9IGVsZW1lbnQubGFiZWwgfHwgZWxlbWVudDtcblxuICB2YXIgYmJveCA9IGNhbnZhcy5nZXRBYnNvbHV0ZUJCb3godGFyZ2V0KTtcblxuICB2YXIgbWlkID0ge1xuICAgIHg6IGJib3gueCArIGJib3gud2lkdGggLyAyLFxuICAgIHk6IGJib3gueSArIGJib3guaGVpZ2h0IC8gMlxuICB9O1xuXG4gIC8vIGRlZmF1bHQgcG9zaXRpb25cbiAgdmFyIGJvdW5kcyA9IHsgeDogYmJveC54LCB5OiBiYm94LnkgfTtcblxuICB2YXIgem9vbSA9IGNhbnZhcy56b29tKCk7XG5cbiAgdmFyIGRlZmF1bHRTdHlsZSA9IHRoaXMuX3RleHRSZW5kZXJlci5nZXREZWZhdWx0U3R5bGUoKSxcbiAgICAgIGV4dGVybmFsU3R5bGUgPSB0aGlzLl90ZXh0UmVuZGVyZXIuZ2V0RXh0ZXJuYWxTdHlsZSgpO1xuXG4gIC8vIHRha2Ugem9vbSBpbnRvIGFjY291bnRcbiAgdmFyIGV4dGVybmFsRm9udFNpemUgPSBleHRlcm5hbFN0eWxlLmZvbnRTaXplICogem9vbSxcbiAgICAgIGV4dGVybmFsTGluZUhlaWdodCA9IGV4dGVybmFsU3R5bGUubGluZUhlaWdodCxcbiAgICAgIGRlZmF1bHRGb250U2l6ZSA9IGRlZmF1bHRTdHlsZS5mb250U2l6ZSAqIHpvb20sXG4gICAgICBkZWZhdWx0TGluZUhlaWdodCA9IGRlZmF1bHRTdHlsZS5saW5lSGVpZ2h0O1xuXG4gIHZhciBzdHlsZSA9IHtcbiAgICBmb250RmFtaWx5OiB0aGlzLl90ZXh0UmVuZGVyZXIuZ2V0RGVmYXVsdFN0eWxlKCkuZm9udEZhbWlseSxcbiAgICBmb250V2VpZ2h0OiB0aGlzLl90ZXh0UmVuZGVyZXIuZ2V0RGVmYXVsdFN0eWxlKCkuZm9udFdlaWdodFxuICB9O1xuXG5cbiAgaWYgKGlzQW55KGVsZW1lbnQsIFsgJ3Bvc3RpdDpQb3N0aXQnLCAncG9zdGl0OlRleHRCb3gnLCAncG9zdGl0Okdyb3VwJ10pKSB7XG5cbiAgICBhc3NpZ24oYm91bmRzLCB7XG4gICAgICB3aWR0aDogYmJveC53aWR0aCxcbiAgICAgIGhlaWdodDogYmJveC5oZWlnaHRcbiAgICB9KTtcblxuICAgIGFzc2lnbihzdHlsZSwge1xuICAgICAgZm9udFNpemU6IGRlZmF1bHRGb250U2l6ZSArICdweCcsXG4gICAgICBsaW5lSGVpZ2h0OiBkZWZhdWx0TGluZUhlaWdodCxcbiAgICAgIHBhZGRpbmdUb3A6ICg3ICogem9vbSkgKyAncHgnLFxuICAgICAgcGFkZGluZ0JvdHRvbTogKDcgKiB6b29tKSArICdweCcsXG4gICAgICBwYWRkaW5nTGVmdDogKDUgKiB6b29tKSArICdweCcsXG4gICAgICBwYWRkaW5nUmlnaHQ6ICg1ICogem9vbSkgKyAncHgnXG4gICAgfSk7XG4gIH1cblxuICB2YXIgd2lkdGggPSA5MCAqIHpvb20sXG4gICAgICBwYWRkaW5nVG9wID0gNyAqIHpvb20sXG4gICAgICBwYWRkaW5nQm90dG9tID0gNCAqIHpvb207XG5cbiAgLy8gZXh0ZXJuYWwgbGFiZWxzIGZvciBldmVudHMsIGRhdGEgZWxlbWVudHMsIGdhdGV3YXlzLCBncm91cHMgYW5kIGNvbm5lY3Rpb25zXG4gIGlmICh0YXJnZXQubGFiZWxUYXJnZXQpIHtcbiAgICBhc3NpZ24oYm91bmRzLCB7XG4gICAgICB3aWR0aDogd2lkdGgsXG4gICAgICBoZWlnaHQ6IGJib3guaGVpZ2h0ICsgcGFkZGluZ1RvcCArIHBhZGRpbmdCb3R0b20sXG4gICAgICB4OiBtaWQueCAtIHdpZHRoIC8gMixcbiAgICAgIHk6IGJib3gueSAtIHBhZGRpbmdUb3BcbiAgICB9KTtcblxuICAgIGFzc2lnbihzdHlsZSwge1xuICAgICAgZm9udFNpemU6IGV4dGVybmFsRm9udFNpemUgKyAncHgnLFxuICAgICAgbGluZUhlaWdodDogZXh0ZXJuYWxMaW5lSGVpZ2h0LFxuICAgICAgcGFkZGluZ1RvcDogcGFkZGluZ1RvcCArICdweCcsXG4gICAgICBwYWRkaW5nQm90dG9tOiBwYWRkaW5nQm90dG9tICsgJ3B4J1xuICAgIH0pO1xuICB9XG5cbiAgLy8gZXh0ZXJuYWwgbGFiZWwgbm90IHlldCBjcmVhdGVkXG4gIGlmIChpc0xhYmVsRXh0ZXJuYWwodGFyZ2V0KVxuICAgICAgJiYgIWhhc0V4dGVybmFsTGFiZWwodGFyZ2V0KVxuICAgICAgJiYgIWlzTGFiZWwodGFyZ2V0KSkge1xuXG4gICAgdmFyIGV4dGVybmFsTGFiZWxNaWQgPSBnZXRFeHRlcm5hbExhYmVsTWlkKGVsZW1lbnQpO1xuXG4gICAgdmFyIGFic29sdXRlQkJveCA9IGNhbnZhcy5nZXRBYnNvbHV0ZUJCb3goe1xuICAgICAgeDogZXh0ZXJuYWxMYWJlbE1pZC54LFxuICAgICAgeTogZXh0ZXJuYWxMYWJlbE1pZC55LFxuICAgICAgd2lkdGg6IDAsXG4gICAgICBoZWlnaHQ6IDBcbiAgICB9KTtcblxuICAgIHZhciBoZWlnaHQgPSBleHRlcm5hbEZvbnRTaXplICsgcGFkZGluZ1RvcCArIHBhZGRpbmdCb3R0b207XG5cbiAgICBhc3NpZ24oYm91bmRzLCB7XG4gICAgICB3aWR0aDogd2lkdGgsXG4gICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICAgIHg6IGFic29sdXRlQkJveC54IC0gd2lkdGggLyAyLFxuICAgICAgeTogYWJzb2x1dGVCQm94LnkgLSBoZWlnaHQgLyAyXG4gICAgfSk7XG5cbiAgICBhc3NpZ24oc3R5bGUsIHtcbiAgICAgIGZvbnRTaXplOiBleHRlcm5hbEZvbnRTaXplICsgJ3B4JyxcbiAgICAgIGxpbmVIZWlnaHQ6IGV4dGVybmFsTGluZUhlaWdodCxcbiAgICAgIHBhZGRpbmdUb3A6IHBhZGRpbmdUb3AgKyAncHgnLFxuICAgICAgcGFkZGluZ0JvdHRvbTogcGFkZGluZ0JvdHRvbSArICdweCdcbiAgICB9KTtcbiAgfVxuXG5cbiAgLy8gdHJhbnNwYXJlbnQgZWRpdCBib3hcbiAgaWYgKGlzQW55KGVsZW1lbnQsIFsgJ3Bvc3RpdDpQb3N0aXQnIF0pKSB7XG4gICAgYXNzaWduKHN0eWxlLCB7XG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6ICd0cmFuc3BhcmVudCdcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiB7IGJvdW5kczogYm91bmRzLCBzdHlsZTogc3R5bGUgfTtcbn07XG5cblxuTGFiZWxFZGl0aW5nUHJvdmlkZXIucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uKGVsZW1lbnQsIG5ld0xhYmVsKSB7XG5cbiAgaWYgKGlzRW1wdHlUZXh0KG5ld0xhYmVsKSkge1xuICAgIG5ld0xhYmVsID0gbnVsbDtcbiAgfVxuXG4gIHRoaXMuX21vZGVsaW5nLnVwZGF0ZUxhYmVsKGVsZW1lbnQsIG5ld0xhYmVsKTtcbn07XG5cblxuXG4vLyBoZWxwZXJzIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuZnVuY3Rpb24gaXNFbXB0eVRleHQobGFiZWwpIHtcbiAgcmV0dXJuICFsYWJlbCB8fCAhbGFiZWwudHJpbSgpO1xufSIsImltcG9ydCB7XG4gIHJlbW92ZSBhcyBzdmdSZW1vdmVcbn0gZnJvbSAndGlueS1zdmcnO1xuXG5pbXBvcnQge1xuICBpc1xufSBmcm9tICcuLi8uLi91dGlsL01vZGVsVXRpbCc7XG5cbnZhciBNQVJLRVJfSElEREVOID0gJ2Rqcy1lbGVtZW50LWhpZGRlbicsXG4gICAgTUFSS0VSX0xBQkVMX0hJRERFTiA9ICdkanMtbGFiZWwtaGlkZGVuJztcblxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBMYWJlbEVkaXRpbmdQcmV2aWV3KFxuICAgIGV2ZW50QnVzLCBjYW52YXMsIGVsZW1lbnRSZWdpc3RyeSxcbiAgICBwYXRoTWFwKSB7XG5cblxuICB2YXIgZWxlbWVudCwgZ2Z4O1xuXG4gIGV2ZW50QnVzLm9uKCdkaXJlY3RFZGl0aW5nLmFjdGl2YXRlJywgZnVuY3Rpb24oY29udGV4dCkge1xuICAgIHZhciBhY3RpdmVQcm92aWRlciA9IGNvbnRleHQuYWN0aXZlO1xuXG4gICAgZWxlbWVudCA9IGFjdGl2ZVByb3ZpZGVyLmVsZW1lbnQubGFiZWwgfHwgYWN0aXZlUHJvdmlkZXIuZWxlbWVudDtcblxuXG4gICAgaWYgKGVsZW1lbnQubGFiZWxUYXJnZXQpIHtcbiAgICAgIGNhbnZhcy5hZGRNYXJrZXIoZWxlbWVudCwgTUFSS0VSX0hJRERFTik7XG4gICAgfSBlbHNlIGlmIChpcyhlbGVtZW50LCAncG9zdGl0OlBvc3RpdCcpKSB7XG4gICAgICBjYW52YXMuYWRkTWFya2VyKGVsZW1lbnQsIE1BUktFUl9MQUJFTF9ISURERU4pO1xuICAgIH1cbiAgfSk7XG5cblxuICBldmVudEJ1cy5vbihbICdkaXJlY3RFZGl0aW5nLmNvbXBsZXRlJywgJ2RpcmVjdEVkaXRpbmcuY2FuY2VsJyBdLCBmdW5jdGlvbihjb250ZXh0KSB7XG4gICAgdmFyIGFjdGl2ZVByb3ZpZGVyID0gY29udGV4dC5hY3RpdmU7XG5cbiAgICBpZiAoYWN0aXZlUHJvdmlkZXIpIHtcbiAgICAgIGNhbnZhcy5yZW1vdmVNYXJrZXIoYWN0aXZlUHJvdmlkZXIuZWxlbWVudC5sYWJlbCB8fCBhY3RpdmVQcm92aWRlci5lbGVtZW50LCBNQVJLRVJfSElEREVOKTtcbiAgICAgIGNhbnZhcy5yZW1vdmVNYXJrZXIoZWxlbWVudCwgTUFSS0VSX0xBQkVMX0hJRERFTik7XG4gICAgfVxuXG4gICAgZWxlbWVudCA9IHVuZGVmaW5lZDtcblxuICAgIGlmIChnZngpIHtcbiAgICAgIHN2Z1JlbW92ZShnZngpO1xuXG4gICAgICBnZnggPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9KTtcbn1cblxuTGFiZWxFZGl0aW5nUHJldmlldy4kaW5qZWN0ID0gW1xuICAnZXZlbnRCdXMnLFxuICAnY2FudmFzJyxcbiAgJ2VsZW1lbnRSZWdpc3RyeScsXG4gICdwYXRoTWFwJ1xuXTsiLCJpbXBvcnQgQ2hhbmdlU3VwcG9ydE1vZHVsZSBmcm9tICdkaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9jaGFuZ2Utc3VwcG9ydCc7XG5pbXBvcnQgUmVzaXplTW9kdWxlIGZyb20gJ2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL3Jlc2l6ZSc7XG5pbXBvcnQgRGlyZWN0RWRpdGluZ01vZHVsZSBmcm9tICdkaWFncmFtLWpzLWRpcmVjdC1lZGl0aW5nJztcblxuaW1wb3J0IExhYmVsRWRpdGluZ1Byb3ZpZGVyIGZyb20gJy4vTGFiZWxFZGl0aW5nUHJvdmlkZXInO1xuaW1wb3J0IExhYmVsRWRpdGluZ1ByZXZpZXcgZnJvbSAnLi9MYWJlbEVkaXRpbmdQcmV2aWV3JztcblxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9fZGVwZW5kc19fOiBbXG4gICAgQ2hhbmdlU3VwcG9ydE1vZHVsZSxcbiAgICBSZXNpemVNb2R1bGUsXG4gICAgRGlyZWN0RWRpdGluZ01vZHVsZVxuICBdLFxuICBfX2luaXRfXzogW1xuICAgICdsYWJlbEVkaXRpbmdQcm92aWRlcicsXG4gICAgJ2xhYmVsRWRpdGluZ1ByZXZpZXcnXG4gIF0sXG4gIGxhYmVsRWRpdGluZ1Byb3ZpZGVyOiBbICd0eXBlJywgTGFiZWxFZGl0aW5nUHJvdmlkZXIgXSxcbiAgbGFiZWxFZGl0aW5nUHJldmlldzogWyAndHlwZScsIExhYmVsRWRpdGluZ1ByZXZpZXcgXVxufTtcbiIsImltcG9ydCB7XG4gIGZvckVhY2gsXG4gIGlzRnVuY3Rpb24sXG4gIGlzQXJyYXksXG4gIGlzTnVtYmVyLFxuICBpc09iamVjdFxufSBmcm9tICdtaW4tZGFzaCc7XG5cblxudmFyIERFRkFVTFRfUFJJT1JJVFkgPSAxMDAwO1xuXG4vKipcbiAqIEEgdXRpbGl0eSB0aGF0IGNhbiBiZSB1c2VkIHRvIHBsdWctaW4gaW50byB0aGUgY29tbWFuZCBleGVjdXRpb24gZm9yXG4gKiBleHRlbnNpb24gYW5kL29yIHZhbGlkYXRpb24uXG4gKlxuICogQHBhcmFtIHtFdmVudEJ1c30gZXZlbnRCdXNcbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIGltcG9ydCBpbmhlcml0cyBmcm9tICdpbmhlcml0cyc7XG4gKlxuICogaW1wb3J0IENvbW1hbmRJbnRlcmNlcHRvciBmcm9tICdkaWFncmFtLWpzL2xpYi9jb21tYW5kL0NvbW1hbmRJbnRlcmNlcHRvcic7XG4gKlxuICogZnVuY3Rpb24gQ29tbWFuZExvZ2dlcihldmVudEJ1cykge1xuICogICBDb21tYW5kSW50ZXJjZXB0b3IuY2FsbCh0aGlzLCBldmVudEJ1cyk7XG4gKlxuICogICB0aGlzLnByZUV4ZWN1dGUoZnVuY3Rpb24oZXZlbnQpIHtcbiAqICAgICBjb25zb2xlLmxvZygnY29tbWFuZCBwcmUtZXhlY3V0ZScsIGV2ZW50KTtcbiAqICAgfSk7XG4gKiB9XG4gKlxuICogaW5oZXJpdHMoQ29tbWFuZExvZ2dlciwgQ29tbWFuZEludGVyY2VwdG9yKTtcbiAqXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENvbW1hbmRJbnRlcmNlcHRvcihldmVudEJ1cykge1xuICB0aGlzLl9ldmVudEJ1cyA9IGV2ZW50QnVzO1xufVxuXG5Db21tYW5kSW50ZXJjZXB0b3IuJGluamVjdCA9IFsgJ2V2ZW50QnVzJyBdO1xuXG5mdW5jdGlvbiB1bndyYXBFdmVudChmbiwgdGhhdCkge1xuICByZXR1cm4gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICByZXR1cm4gZm4uY2FsbCh0aGF0IHx8IG51bGwsIGV2ZW50LmNvbnRleHQsIGV2ZW50LmNvbW1hbmQsIGV2ZW50KTtcbiAgfTtcbn1cblxuLyoqXG4gKiBSZWdpc3RlciBhbiBpbnRlcmNlcHRvciBmb3IgYSBjb21tYW5kIGV4ZWN1dGlvblxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfEFycmF5PHN0cmluZz59IFtldmVudHNdIGxpc3Qgb2YgY29tbWFuZHMgdG8gcmVnaXN0ZXIgb25cbiAqIEBwYXJhbSB7c3RyaW5nfSBbaG9va10gY29tbWFuZCBob29rLCBpLmUuIHByZUV4ZWN1dGUsIGV4ZWN1dGVkIHRvIGxpc3RlbiBvblxuICogQHBhcmFtIHtudW1iZXJ9IFtwcmlvcml0eV0gdGhlIHByaW9yaXR5IG9uIHdoaWNoIHRvIGhvb2sgaW50byB0aGUgZXhlY3V0aW9uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVyRm4gaW50ZXJjZXB0b3IgdG8gYmUgaW52b2tlZCB3aXRoIChldmVudClcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gdW53cmFwIGlmIHRydWUsIHVud3JhcCB0aGUgZXZlbnQgYW5kIHBhc3MgKGNvbnRleHQsIGNvbW1hbmQsIGV2ZW50KSB0byB0aGVcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lciBpbnN0ZWFkXG4gKiBAcGFyYW0ge09iamVjdH0gW3RoYXRdIFBhc3MgY29udGV4dCAoYHRoaXNgKSB0byB0aGUgaGFuZGxlciBmdW5jdGlvblxuICovXG5Db21tYW5kSW50ZXJjZXB0b3IucHJvdG90eXBlLm9uID0gZnVuY3Rpb24oZXZlbnRzLCBob29rLCBwcmlvcml0eSwgaGFuZGxlckZuLCB1bndyYXAsIHRoYXQpIHtcblxuICBpZiAoaXNGdW5jdGlvbihob29rKSB8fCBpc051bWJlcihob29rKSkge1xuICAgIHRoYXQgPSB1bndyYXA7XG4gICAgdW53cmFwID0gaGFuZGxlckZuO1xuICAgIGhhbmRsZXJGbiA9IHByaW9yaXR5O1xuICAgIHByaW9yaXR5ID0gaG9vaztcbiAgICBob29rID0gbnVsbDtcbiAgfVxuXG4gIGlmIChpc0Z1bmN0aW9uKHByaW9yaXR5KSkge1xuICAgIHRoYXQgPSB1bndyYXA7XG4gICAgdW53cmFwID0gaGFuZGxlckZuO1xuICAgIGhhbmRsZXJGbiA9IHByaW9yaXR5O1xuICAgIHByaW9yaXR5ID0gREVGQVVMVF9QUklPUklUWTtcbiAgfVxuXG4gIGlmIChpc09iamVjdCh1bndyYXApKSB7XG4gICAgdGhhdCA9IHVud3JhcDtcbiAgICB1bndyYXAgPSBmYWxzZTtcbiAgfVxuXG4gIGlmICghaXNGdW5jdGlvbihoYW5kbGVyRm4pKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdoYW5kbGVyRm4gbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG4gIH1cblxuICBpZiAoIWlzQXJyYXkoZXZlbnRzKSkge1xuICAgIGV2ZW50cyA9IFsgZXZlbnRzIF07XG4gIH1cblxuICB2YXIgZXZlbnRCdXMgPSB0aGlzLl9ldmVudEJ1cztcblxuICBmb3JFYWNoKGV2ZW50cywgZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgIC8vIGNvbmNhdCBjb21tYW5kU3RhY2soLmV2ZW50KT8oLmhvb2spP1xuICAgIHZhciBmdWxsRXZlbnQgPSBbICdjb21tYW5kU3RhY2snLCBldmVudCwgaG9vayBdLmZpbHRlcihmdW5jdGlvbihlKSB7IHJldHVybiBlOyB9KS5qb2luKCcuJyk7XG5cbiAgICBldmVudEJ1cy5vbihmdWxsRXZlbnQsIHByaW9yaXR5LCB1bndyYXAgPyB1bndyYXBFdmVudChoYW5kbGVyRm4sIHRoYXQpIDogaGFuZGxlckZuLCB0aGF0KTtcbiAgfSk7XG59O1xuXG5cbnZhciBob29rcyA9IFtcbiAgJ2NhbkV4ZWN1dGUnLFxuICAncHJlRXhlY3V0ZScsXG4gICdwcmVFeGVjdXRlZCcsXG4gICdleGVjdXRlJyxcbiAgJ2V4ZWN1dGVkJyxcbiAgJ3Bvc3RFeGVjdXRlJyxcbiAgJ3Bvc3RFeGVjdXRlZCcsXG4gICdyZXZlcnQnLFxuICAncmV2ZXJ0ZWQnXG5dO1xuXG4vKlxuICogSW5zdGFsbCBob29rIHNob3J0Y3V0c1xuICpcbiAqIFRoaXMgd2lsbCBnZW5lcmF0ZSB0aGUgQ29tbWFuZEludGVyY2VwdG9yIyhwcmVFeGVjdXRlfC4uLnxyZXZlcnRlZCkgbWV0aG9kc1xuICogd2hpY2ggd2lsbCBpbiB0ZXJtIGZvcndhcmQgdG8gQ29tbWFuZEludGVyY2VwdG9yI29uLlxuICovXG5mb3JFYWNoKGhvb2tzLCBmdW5jdGlvbihob29rKSB7XG5cbiAgLyoqXG4gICAqIHtjYW5FeGVjdXRlfHByZUV4ZWN1dGV8cHJlRXhlY3V0ZWR8ZXhlY3V0ZXxleGVjdXRlZHxwb3N0RXhlY3V0ZXxwb3N0RXhlY3V0ZWR8cmV2ZXJ0fHJldmVydGVkfVxuICAgKlxuICAgKiBBIG5hbWVkIGhvb2sgZm9yIHBsdWdnaW5nIGludG8gdGhlIGNvbW1hbmQgZXhlY3V0aW9uXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfEFycmF5PHN0cmluZz59IFtldmVudHNdIGxpc3Qgb2YgY29tbWFuZHMgdG8gcmVnaXN0ZXIgb25cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtwcmlvcml0eV0gdGhlIHByaW9yaXR5IG9uIHdoaWNoIHRvIGhvb2sgaW50byB0aGUgZXhlY3V0aW9uXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGhhbmRsZXJGbiBpbnRlcmNlcHRvciB0byBiZSBpbnZva2VkIHdpdGggKGV2ZW50KVxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFt1bndyYXA9ZmFsc2VdIGlmIHRydWUsIHVud3JhcCB0aGUgZXZlbnQgYW5kIHBhc3MgKGNvbnRleHQsIGNvbW1hbmQsIGV2ZW50KSB0byB0aGVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RlbmVyIGluc3RlYWRcbiAgICogQHBhcmFtIHtPYmplY3R9IFt0aGF0XSBQYXNzIGNvbnRleHQgKGB0aGlzYCkgdG8gdGhlIGhhbmRsZXIgZnVuY3Rpb25cbiAgICovXG4gIENvbW1hbmRJbnRlcmNlcHRvci5wcm90b3R5cGVbaG9va10gPSBmdW5jdGlvbihldmVudHMsIHByaW9yaXR5LCBoYW5kbGVyRm4sIHVud3JhcCwgdGhhdCkge1xuXG4gICAgaWYgKGlzRnVuY3Rpb24oZXZlbnRzKSB8fCBpc051bWJlcihldmVudHMpKSB7XG4gICAgICB0aGF0ID0gdW53cmFwO1xuICAgICAgdW53cmFwID0gaGFuZGxlckZuO1xuICAgICAgaGFuZGxlckZuID0gcHJpb3JpdHk7XG4gICAgICBwcmlvcml0eSA9IGV2ZW50cztcbiAgICAgIGV2ZW50cyA9IG51bGw7XG4gICAgfVxuXG4gICAgdGhpcy5vbihldmVudHMsIGhvb2ssIHByaW9yaXR5LCBoYW5kbGVyRm4sIHVud3JhcCwgdGhhdCk7XG4gIH07XG59KTtcbiIsImltcG9ydCBpbmhlcml0cyBmcm9tICdpbmhlcml0cyc7XG5cbmltcG9ydCB7XG4gIGdldE9yaWVudGF0aW9uLFxuICBnZXRNaWQsXG4gIGFzVFJCTFxufSBmcm9tICdkaWFncmFtLWpzL2xpYi9sYXlvdXQvTGF5b3V0VXRpbCc7XG5cbmltcG9ydCB7XG4gIHN1YnN0cmFjdFxufSBmcm9tICdkaWFncmFtLWpzL2xpYi91dGlsL01hdGgnO1xuXG5pbXBvcnQge1xuICBoYXNFeHRlcm5hbExhYmVsXG59IGZyb20gJy4uLy4uLy4uL3V0aWwvTGFiZWxVdGlsJztcblxuaW1wb3J0IENvbW1hbmRJbnRlcmNlcHRvciBmcm9tICdkaWFncmFtLWpzL2xpYi9jb21tYW5kL0NvbW1hbmRJbnRlcmNlcHRvcic7XG5cbnZhciBBTElHTk1FTlRTID0gW1xuICAndG9wJyxcbiAgJ2JvdHRvbScsXG4gICdsZWZ0JyxcbiAgJ3JpZ2h0J1xuXTtcblxudmFyIEVMRU1FTlRfTEFCRUxfRElTVEFOQ0UgPSAxMDtcblxuLyoqXG4gKiBBIGNvbXBvbmVudCB0aGF0IG1ha2VzIHN1cmUgdGhhdCBleHRlcm5hbCBsYWJlbHMgYXJlIGFkZGVkXG4gKiB0b2dldGhlciB3aXRoIHJlc3BlY3RpdmUgZWxlbWVudHMgYW5kIHByb3Blcmx5IHVwZGF0ZWQgKERJIHdpc2UpXG4gKiBkdXJpbmcgbW92ZS5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50QnVzfSBldmVudEJ1c1xuICogQHBhcmFtIHtNb2RlbGluZ30gbW9kZWxpbmdcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQWRhcHRpdmVMYWJlbFBvc2l0aW9uaW5nQmVoYXZpb3IoZXZlbnRCdXMsIG1vZGVsaW5nKSB7XG5cbiAgQ29tbWFuZEludGVyY2VwdG9yLmNhbGwodGhpcywgZXZlbnRCdXMpO1xuXG4gIHRoaXMucG9zdEV4ZWN1dGVkKFtcbiAgICAnY29ubmVjdGlvbi5jcmVhdGUnLFxuICAgICdjb25uZWN0aW9uLmxheW91dCcsXG4gICAgJ2Nvbm5lY3Rpb24udXBkYXRlV2F5cG9pbnRzJ1xuICBdLCBmdW5jdGlvbihldmVudCkge1xuICAgIHZhciBjb250ZXh0ID0gZXZlbnQuY29udGV4dCxcbiAgICAgICAgY29ubmVjdGlvbiA9IGNvbnRleHQuY29ubmVjdGlvbixcbiAgICAgICAgc291cmNlID0gY29ubmVjdGlvbi5zb3VyY2UsXG4gICAgICAgIHRhcmdldCA9IGNvbm5lY3Rpb24udGFyZ2V0LFxuICAgICAgICBoaW50cyA9IGNvbnRleHQuaGludHMgfHwge307XG5cbiAgICBpZiAoaGludHMuY3JlYXRlRWxlbWVudHNCZWhhdmlvciAhPT0gZmFsc2UpIHtcbiAgICAgIGNoZWNrTGFiZWxBZGp1c3RtZW50KHNvdXJjZSk7XG4gICAgICBjaGVja0xhYmVsQWRqdXN0bWVudCh0YXJnZXQpO1xuICAgIH1cbiAgfSk7XG5cblxuICB0aGlzLnBvc3RFeGVjdXRlZChbXG4gICAgJ2xhYmVsLmNyZWF0ZSdcbiAgXSwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgY29udGV4dCA9IGV2ZW50LmNvbnRleHQsXG4gICAgICAgIHNoYXBlID0gY29udGV4dC5zaGFwZSxcbiAgICAgICAgaGludHMgPSBjb250ZXh0LmhpbnRzIHx8IHt9O1xuXG4gICAgaWYgKGhpbnRzLmNyZWF0ZUVsZW1lbnRzQmVoYXZpb3IgIT09IGZhbHNlKSB7XG4gICAgICBjaGVja0xhYmVsQWRqdXN0bWVudChzaGFwZS5sYWJlbFRhcmdldCk7XG4gICAgfVxuICB9KTtcblxuXG4gIHRoaXMucG9zdEV4ZWN1dGVkKFtcbiAgICAnZWxlbWVudHMuY3JlYXRlJ1xuICBdLCBmdW5jdGlvbihldmVudCkge1xuICAgIHZhciBjb250ZXh0ID0gZXZlbnQuY29udGV4dCxcbiAgICAgICAgZWxlbWVudHMgPSBjb250ZXh0LmVsZW1lbnRzLFxuICAgICAgICBoaW50cyA9IGNvbnRleHQuaGludHMgfHwge307XG5cbiAgICBpZiAoaGludHMuY3JlYXRlRWxlbWVudHNCZWhhdmlvciAhPT0gZmFsc2UpIHtcbiAgICAgIGVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICBjaGVja0xhYmVsQWRqdXN0bWVudChlbGVtZW50KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG5cbiAgZnVuY3Rpb24gY2hlY2tMYWJlbEFkanVzdG1lbnQoZWxlbWVudCkge1xuXG4gICAgLy8gc2tpcCBub24tZXhpc3RpbmcgbGFiZWxzXG4gICAgaWYgKCFoYXNFeHRlcm5hbExhYmVsKGVsZW1lbnQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIG9wdGltYWxQb3NpdGlvbiA9IGdldE9wdGltYWxQb3NpdGlvbihlbGVtZW50KTtcblxuICAgIC8vIG5vIG9wdGltYWwgcG9zaXRpb24gZm91bmRcbiAgICBpZiAoIW9wdGltYWxQb3NpdGlvbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGFkanVzdExhYmVsUG9zaXRpb24oZWxlbWVudCwgb3B0aW1hbFBvc2l0aW9uKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkanVzdExhYmVsUG9zaXRpb24oZWxlbWVudCwgb3JpZW50YXRpb24pIHtcblxuICAgIHZhciBlbGVtZW50TWlkID0gZ2V0TWlkKGVsZW1lbnQpLFxuICAgICAgICBsYWJlbCA9IGVsZW1lbnQubGFiZWwsXG4gICAgICAgIGxhYmVsTWlkID0gZ2V0TWlkKGxhYmVsKTtcblxuICAgIC8vIGlnbm9yZSBsYWJlbHMgdGhhdCBhcmUgYmVpbmcgY3JlYXRlZFxuICAgIGlmICghbGFiZWwucGFyZW50KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGVsZW1lbnRUcmJsID0gYXNUUkJMKGVsZW1lbnQpO1xuXG4gICAgdmFyIG5ld0xhYmVsTWlkO1xuXG4gICAgc3dpdGNoIChvcmllbnRhdGlvbikge1xuICAgIGNhc2UgJ3RvcCc6XG4gICAgICBuZXdMYWJlbE1pZCA9IHtcbiAgICAgICAgeDogZWxlbWVudE1pZC54LFxuICAgICAgICB5OiBlbGVtZW50VHJibC50b3AgLSBFTEVNRU5UX0xBQkVMX0RJU1RBTkNFIC0gbGFiZWwuaGVpZ2h0IC8gMlxuICAgICAgfTtcblxuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdsZWZ0JzpcblxuICAgICAgbmV3TGFiZWxNaWQgPSB7XG4gICAgICAgIHg6IGVsZW1lbnRUcmJsLmxlZnQgLSBFTEVNRU5UX0xBQkVMX0RJU1RBTkNFIC0gbGFiZWwud2lkdGggLyAyLFxuICAgICAgICB5OiBlbGVtZW50TWlkLnlcbiAgICAgIH07XG5cbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnYm90dG9tJzpcblxuICAgICAgbmV3TGFiZWxNaWQgPSB7XG4gICAgICAgIHg6IGVsZW1lbnRNaWQueCxcbiAgICAgICAgeTogZWxlbWVudFRyYmwuYm90dG9tICsgRUxFTUVOVF9MQUJFTF9ESVNUQU5DRSArIGxhYmVsLmhlaWdodCAvIDJcbiAgICAgIH07XG5cbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAncmlnaHQnOlxuXG4gICAgICBuZXdMYWJlbE1pZCA9IHtcbiAgICAgICAgeDogZWxlbWVudFRyYmwucmlnaHQgKyBFTEVNRU5UX0xBQkVMX0RJU1RBTkNFICsgbGFiZWwud2lkdGggLyAyLFxuICAgICAgICB5OiBlbGVtZW50TWlkLnlcbiAgICAgIH07XG5cbiAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIHZhciBkZWx0YSA9IHN1YnN0cmFjdChuZXdMYWJlbE1pZCwgbGFiZWxNaWQpO1xuXG4gICAgbW9kZWxpbmcubW92ZVNoYXBlKGxhYmVsLCBkZWx0YSk7XG4gIH1cblxufVxuXG5pbmhlcml0cyhBZGFwdGl2ZUxhYmVsUG9zaXRpb25pbmdCZWhhdmlvciwgQ29tbWFuZEludGVyY2VwdG9yKTtcblxuQWRhcHRpdmVMYWJlbFBvc2l0aW9uaW5nQmVoYXZpb3IuJGluamVjdCA9IFtcbiAgJ2V2ZW50QnVzJyxcbiAgJ21vZGVsaW5nJ1xuXTtcblxuXG4vLyBoZWxwZXJzIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLyoqXG4gKiBSZXR1cm4gYWxpZ25tZW50cyB3aGljaCBhcmUgdGFrZW4gYnkgYSBib3VuZGFyeSdzIGhvc3QgZWxlbWVudFxuICpcbiAqIEBwYXJhbSB7U2hhcGV9IGVsZW1lbnRcbiAqXG4gKiBAcmV0dXJuIHtBcnJheTxTdHJpbmc+fVxuICovXG5mdW5jdGlvbiBnZXRUYWtlbkhvc3RBbGlnbm1lbnRzKGVsZW1lbnQpIHtcblxuICB2YXIgaG9zdEVsZW1lbnQgPSBlbGVtZW50Lmhvc3QsXG4gICAgICBlbGVtZW50TWlkID0gZ2V0TWlkKGVsZW1lbnQpLFxuICAgICAgaG9zdE9yaWVudGF0aW9uID0gZ2V0T3JpZW50YXRpb24oZWxlbWVudE1pZCwgaG9zdEVsZW1lbnQpO1xuXG4gIHZhciBmcmVlQWxpZ25tZW50cztcblxuICAvLyBjaGVjayB3aGV0aGVyIHRoZXJlIGlzIGEgbXVsdGktb3JpZW50YXRpb24sIGUuZy4gJ3RvcC1sZWZ0J1xuICBpZiAoaG9zdE9yaWVudGF0aW9uLmluZGV4T2YoJy0nKSA+PSAwKSB7XG4gICAgZnJlZUFsaWdubWVudHMgPSBob3N0T3JpZW50YXRpb24uc3BsaXQoJy0nKTtcbiAgfSBlbHNlIHtcbiAgICBmcmVlQWxpZ25tZW50cyA9IFsgaG9zdE9yaWVudGF0aW9uIF07XG4gIH1cblxuICB2YXIgdGFrZW5BbGlnbm1lbnRzID0gQUxJR05NRU5UUy5maWx0ZXIoZnVuY3Rpb24oYWxpZ25tZW50KSB7XG5cbiAgICByZXR1cm4gZnJlZUFsaWdubWVudHMuaW5kZXhPZihhbGlnbm1lbnQpID09PSAtMTtcbiAgfSk7XG5cbiAgcmV0dXJuIHRha2VuQWxpZ25tZW50cztcblxufVxuXG4vKipcbiAqIFJldHVybiBhbGlnbm1lbnRzIHdoaWNoIGFyZSB0YWtlbiBieSByZWxhdGVkIGNvbm5lY3Rpb25zXG4gKlxuICogQHBhcmFtIHtTaGFwZX0gZWxlbWVudFxuICpcbiAqIEByZXR1cm4ge0FycmF5PFN0cmluZz59XG4gKi9cbmZ1bmN0aW9uIGdldFRha2VuQ29ubmVjdGlvbkFsaWdubWVudHMoZWxlbWVudCkge1xuXG4gIHZhciBlbGVtZW50TWlkID0gZ2V0TWlkKGVsZW1lbnQpO1xuXG4gIHZhciB0YWtlbkFsaWdubWVudHMgPSBbXS5jb25jYXQoXG4gICAgZWxlbWVudC5pbmNvbWluZy5tYXAoZnVuY3Rpb24oYykge1xuICAgICAgcmV0dXJuIGMud2F5cG9pbnRzW2Mud2F5cG9pbnRzLmxlbmd0aCAtIDIgXTtcbiAgICB9KSxcbiAgICBlbGVtZW50Lm91dGdvaW5nLm1hcChmdW5jdGlvbihjKSB7XG4gICAgICByZXR1cm4gYy53YXlwb2ludHNbMV07XG4gICAgfSlcbiAgKS5tYXAoZnVuY3Rpb24ocG9pbnQpIHtcbiAgICByZXR1cm4gZ2V0QXBwcm94aW1hdGVPcmllbnRhdGlvbihlbGVtZW50TWlkLCBwb2ludCk7XG4gIH0pO1xuXG4gIHJldHVybiB0YWtlbkFsaWdubWVudHM7XG59XG5cbi8qKlxuICogUmV0dXJuIHRoZSBvcHRpbWFsIGxhYmVsIHBvc2l0aW9uIGFyb3VuZCBhbiBlbGVtZW50XG4gKiBvciBfdW5kZWZpbmVkXywgaWYgbm9uZSB3YXMgZm91bmQuXG4gKlxuICogQHBhcmFtICB7U2hhcGV9IGVsZW1lbnRcbiAqXG4gKiBAcmV0dXJuIHtTdHJpbmd9IHBvc2l0aW9uaW5nIGlkZW50aWZpZXJcbiAqL1xuZnVuY3Rpb24gZ2V0T3B0aW1hbFBvc2l0aW9uKGVsZW1lbnQpIHtcblxuICB2YXIgbGFiZWxNaWQgPSBnZXRNaWQoZWxlbWVudC5sYWJlbCk7XG5cbiAgdmFyIGVsZW1lbnRNaWQgPSBnZXRNaWQoZWxlbWVudCk7XG5cbiAgdmFyIGxhYmVsT3JpZW50YXRpb24gPSBnZXRBcHByb3hpbWF0ZU9yaWVudGF0aW9uKGVsZW1lbnRNaWQsIGxhYmVsTWlkKTtcblxuICBpZiAoIWlzQWxpZ25lZChsYWJlbE9yaWVudGF0aW9uKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciB0YWtlbkFsaWdubWVudHMgPSBnZXRUYWtlbkNvbm5lY3Rpb25BbGlnbm1lbnRzKGVsZW1lbnQpO1xuXG4gIGlmIChlbGVtZW50Lmhvc3QpIHtcbiAgICB2YXIgdGFrZW5Ib3N0QWxpZ25tZW50cyA9IGdldFRha2VuSG9zdEFsaWdubWVudHMoZWxlbWVudCk7XG5cbiAgICB0YWtlbkFsaWdubWVudHMgPSB0YWtlbkFsaWdubWVudHMuY29uY2F0KHRha2VuSG9zdEFsaWdubWVudHMpO1xuICB9XG5cbiAgdmFyIGZyZWVBbGlnbm1lbnRzID0gQUxJR05NRU5UUy5maWx0ZXIoZnVuY3Rpb24oYWxpZ25tZW50KSB7XG5cbiAgICByZXR1cm4gdGFrZW5BbGlnbm1lbnRzLmluZGV4T2YoYWxpZ25tZW50KSA9PT0gLTE7XG4gIH0pO1xuXG4gIC8vIE5PVEhJTkcgVE8gRE87IGxhYmVsIGFscmVhZHkgYWxpZ25lZCBhLk8uSy5cbiAgaWYgKGZyZWVBbGlnbm1lbnRzLmluZGV4T2YobGFiZWxPcmllbnRhdGlvbikgIT09IC0xKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgcmV0dXJuIGZyZWVBbGlnbm1lbnRzWzBdO1xufVxuXG5mdW5jdGlvbiBnZXRBcHByb3hpbWF0ZU9yaWVudGF0aW9uKHAwLCBwMSkge1xuICByZXR1cm4gZ2V0T3JpZW50YXRpb24ocDEsIHAwLCA1KTtcbn1cblxuZnVuY3Rpb24gaXNBbGlnbmVkKG9yaWVudGF0aW9uKSB7XG4gIHJldHVybiBBTElHTk1FTlRTLmluZGV4T2Yob3JpZW50YXRpb24pICE9PSAtMTtcbn1cbiIsImltcG9ydCBpbmhlcml0cyBmcm9tICdpbmhlcml0cyc7XG5cbmltcG9ydCBDb21tYW5kSW50ZXJjZXB0b3IgZnJvbSAnZGlhZ3JhbS1qcy9saWIvY29tbWFuZC9Db21tYW5kSW50ZXJjZXB0b3InO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEFwcGVuZEJlaGF2aW9yKGV2ZW50QnVzKSB7XG5cbiAgQ29tbWFuZEludGVyY2VwdG9yLmNhbGwodGhpcywgZXZlbnRCdXMpO1xuXG4gIC8vIGFzc2lnbiBjb3JyZWN0IHNoYXBlIHBvc2l0aW9uIHVubGVzcyBhbHJlYWR5IHNldFxuXG4gIHRoaXMucHJlRXhlY3V0ZSgnc2hhcGUuYXBwZW5kJywgZnVuY3Rpb24oY29udGV4dCkge1xuXG4gICAgdmFyIHNvdXJjZSA9IGNvbnRleHQuc291cmNlLFxuICAgICAgICBzaGFwZSA9IGNvbnRleHQuc2hhcGU7XG5cbiAgICBpZiAoIWNvbnRleHQucG9zaXRpb24pIHtcblxuICAgICAgY29udGV4dC5wb3NpdGlvbiA9IHtcbiAgICAgICAgeDogc291cmNlLnggKyBzb3VyY2Uud2lkdGggKyA4MCArIHNoYXBlLndpZHRoIC8gMixcbiAgICAgICAgeTogc291cmNlLnkgKyBzb3VyY2UuaGVpZ2h0IC8gMlxuICAgICAgfTtcblxuICAgIH1cbiAgfSwgdHJ1ZSk7XG59XG5cbmluaGVyaXRzKEFwcGVuZEJlaGF2aW9yLCBDb21tYW5kSW50ZXJjZXB0b3IpO1xuXG5BcHBlbmRCZWhhdmlvci4kaW5qZWN0ID0gW1xuICAnZXZlbnRCdXMnXG5dOyIsImltcG9ydCB7IGlzIH0gZnJvbSAnLi4vLi4vLi4vdXRpbC9Nb2RlbFV0aWwnO1xyXG5cclxudmFyIEhJR0hfUFJJT1JJVFkgPSAxNTAwO1xyXG5cclxuXHJcbi8qKlxyXG4gKiBDb3JyZWN0IGhvdmVyIHRhcmdldHMgaW4gY2VydGFpbiBzaXR1YXRpb25zIHRvIGltcHJvdmUgZGlhZ3JhbSBpbnRlcmFjdGlvbi5cclxuICpcclxuICogQHBhcmFtIHtFbGVtZW50UmVnaXN0cnl9IGVsZW1lbnRSZWdpc3RyeVxyXG4gKiBAcGFyYW0ge0V2ZW50QnVzfSBldmVudEJ1c1xyXG4gKiBAcGFyYW0ge0NhbnZhc30gY2FudmFzXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBGaXhIb3ZlckJlaGF2aW9yKGVsZW1lbnRSZWdpc3RyeSwgZXZlbnRCdXMsIGNhbnZhcykge1xyXG5cclxuICBldmVudEJ1cy5vbihbXHJcbiAgICAnY3JlYXRlLmhvdmVyJyxcclxuICAgICdjcmVhdGUubW92ZScsXHJcbiAgICAnY3JlYXRlLmVuZCcsXHJcbiAgICAnc2hhcGUubW92ZS5ob3ZlcicsXHJcbiAgICAnc2hhcGUubW92ZS5tb3ZlJyxcclxuICAgICdzaGFwZS5tb3ZlLmVuZCdcclxuICBdLCBISUdIX1BSSU9SSVRZLCBmdW5jdGlvbihldmVudCkge1xyXG4gICAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0LFxyXG4gICAgICAgIHNoYXBlID0gY29udGV4dC5zaGFwZSB8fCBldmVudC5zaGFwZSxcclxuICAgICAgICBob3ZlciA9IGV2ZW50LmhvdmVyO1xyXG5cclxuICAgIHZhciByb290RWxlbWVudCA9IGNhbnZhcy5nZXRSb290RWxlbWVudCgpO1xyXG5cclxuICAgIC8vIGVuc3VyZSBncm91cCAmIGxhYmVsIGVsZW1lbnRzIGFyZSBkcm9wcGVkIGFsd2F5cyBvbnRvIHRoZSByb290XHJcbiAgICBpZiAoaG92ZXIgIT09IHJvb3RFbGVtZW50ICYmIChzaGFwZS5sYWJlbFRhcmdldCB8fCBpcyhzaGFwZSwgJ3Bvc3RpdDpHcm91cCcpKSkge1xyXG4gICAgICBldmVudC5ob3ZlciA9IHJvb3RFbGVtZW50O1xyXG4gICAgICBldmVudC5ob3ZlckdmeCA9IGVsZW1lbnRSZWdpc3RyeS5nZXRHcmFwaGljcyhldmVudC5ob3Zlcik7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG59XHJcblxyXG5GaXhIb3ZlckJlaGF2aW9yLiRpbmplY3QgPSBbXHJcbiAgJ2VsZW1lbnRSZWdpc3RyeScsXHJcbiAgJ2V2ZW50QnVzJyxcclxuICAnY2FudmFzJ1xyXG5dOyIsIi8qKlxuICogUmV0dXJucyB0aGUgaW50ZXJzZWN0aW9uIGJldHdlZW4gdHdvIGxpbmUgc2VnbWVudHMgYSBhbmQgYi5cbiAqXG4gKiBAcGFyYW0ge1BvaW50fSBsMXNcbiAqIEBwYXJhbSB7UG9pbnR9IGwxZVxuICogQHBhcmFtIHtQb2ludH0gbDJzXG4gKiBAcGFyYW0ge1BvaW50fSBsMmVcbiAqXG4gKiBAcmV0dXJuIHtQb2ludH1cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbGluZUludGVyc2VjdChsMXMsIGwxZSwgbDJzLCBsMmUpIHtcblxuICAvLyBpZiB0aGUgbGluZXMgaW50ZXJzZWN0LCB0aGUgcmVzdWx0IGNvbnRhaW5zIHRoZSB4IGFuZCB5IG9mIHRoZVxuICAvLyBpbnRlcnNlY3Rpb24gKHRyZWF0aW5nIHRoZSBsaW5lcyBhcyBpbmZpbml0ZSkgYW5kIGJvb2xlYW5zIGZvclxuICAvLyB3aGV0aGVyIGxpbmUgc2VnbWVudCAxIG9yIGxpbmUgc2VnbWVudCAyIGNvbnRhaW4gdGhlIHBvaW50XG4gIHZhciBkZW5vbWluYXRvciwgYSwgYiwgYywgbnVtZXJhdG9yO1xuXG4gIGRlbm9taW5hdG9yID0gKChsMmUueSAtIGwycy55KSAqIChsMWUueCAtIGwxcy54KSkgLSAoKGwyZS54IC0gbDJzLngpICogKGwxZS55IC0gbDFzLnkpKTtcblxuICBpZiAoZGVub21pbmF0b3IgPT0gMCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgYSA9IGwxcy55IC0gbDJzLnk7XG4gIGIgPSBsMXMueCAtIGwycy54O1xuICBudW1lcmF0b3IgPSAoKGwyZS54IC0gbDJzLngpICogYSkgLSAoKGwyZS55IC0gbDJzLnkpICogYik7XG5cbiAgYyA9IG51bWVyYXRvciAvIGRlbm9taW5hdG9yO1xuXG4gIC8vIGlmIHdlIGNhc3QgdGhlc2UgbGluZXMgaW5maW5pdGVseSBpblxuICAvLyBib3RoIGRpcmVjdGlvbnMsIHRoZXkgaW50ZXJzZWN0IGhlcmVcbiAgcmV0dXJuIHtcbiAgICB4OiBNYXRoLnJvdW5kKGwxcy54ICsgKGMgKiAobDFlLnggLSBsMXMueCkpKSxcbiAgICB5OiBNYXRoLnJvdW5kKGwxcy55ICsgKGMgKiAobDFlLnkgLSBsMXMueSkpKVxuICB9O1xufSIsImltcG9ydCB7XG4gIGdldE1pZFxufSBmcm9tICdkaWFncmFtLWpzL2xpYi9sYXlvdXQvTGF5b3V0VXRpbCc7XG5cbmltcG9ydCBsaW5lSW50ZXJzZWN0IGZyb20gJy4vdXRpbC9MaW5lSW50ZXJzZWN0JztcblxuXG4vKipcbiAqIEZpeCBicm9rZW4gZG9ja2luZ3MgYWZ0ZXIgREkgaW1wb3J0cy5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50QnVzfSBldmVudEJ1c1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBJbXBvcnREb2NraW5nRml4KGV2ZW50QnVzKSB7XG5cbiAgZnVuY3Rpb24gYWRqdXN0RG9ja2luZyhzdGFydFBvaW50LCBuZXh0UG9pbnQsIGVsZW1lbnRNaWQpIHtcblxuICAgIHZhciBlbGVtZW50VG9wID0ge1xuICAgICAgeDogZWxlbWVudE1pZC54LFxuICAgICAgeTogZWxlbWVudE1pZC55IC0gNTBcbiAgICB9O1xuXG4gICAgdmFyIGVsZW1lbnRMZWZ0ID0ge1xuICAgICAgeDogZWxlbWVudE1pZC54IC0gNTAsXG4gICAgICB5OiBlbGVtZW50TWlkLnlcbiAgICB9O1xuXG4gICAgdmFyIHZlcnRpY2FsSW50ZXJzZWN0ID0gbGluZUludGVyc2VjdChzdGFydFBvaW50LCBuZXh0UG9pbnQsIGVsZW1lbnRNaWQsIGVsZW1lbnRUb3ApLFxuICAgICAgICBob3Jpem9udGFsSW50ZXJzZWN0ID0gbGluZUludGVyc2VjdChzdGFydFBvaW50LCBuZXh0UG9pbnQsIGVsZW1lbnRNaWQsIGVsZW1lbnRMZWZ0KTtcblxuICAgIC8vIG9yaWdpbmFsIGlzIGhvcml6b250YWwgb3IgdmVydGljYWwgY2VudGVyIGNyb3NzIGludGVyc2VjdGlvblxuICAgIHZhciBjZW50ZXJJbnRlcnNlY3Q7XG5cbiAgICBpZiAodmVydGljYWxJbnRlcnNlY3QgJiYgaG9yaXpvbnRhbEludGVyc2VjdCkge1xuICAgICAgaWYgKGdldERpc3RhbmNlKHZlcnRpY2FsSW50ZXJzZWN0LCBlbGVtZW50TWlkKSA+IGdldERpc3RhbmNlKGhvcml6b250YWxJbnRlcnNlY3QsIGVsZW1lbnRNaWQpKSB7XG4gICAgICAgIGNlbnRlckludGVyc2VjdCA9IGhvcml6b250YWxJbnRlcnNlY3Q7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjZW50ZXJJbnRlcnNlY3QgPSB2ZXJ0aWNhbEludGVyc2VjdDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY2VudGVySW50ZXJzZWN0ID0gdmVydGljYWxJbnRlcnNlY3QgfHwgaG9yaXpvbnRhbEludGVyc2VjdDtcbiAgICB9XG5cbiAgICBzdGFydFBvaW50Lm9yaWdpbmFsID0gY2VudGVySW50ZXJzZWN0O1xuICB9XG5cbiAgZnVuY3Rpb24gZml4RG9ja2luZ3MoY29ubmVjdGlvbikge1xuICAgIHZhciB3YXlwb2ludHMgPSBjb25uZWN0aW9uLndheXBvaW50cztcblxuICAgIGFkanVzdERvY2tpbmcoXG4gICAgICB3YXlwb2ludHNbMF0sXG4gICAgICB3YXlwb2ludHNbMV0sXG4gICAgICBnZXRNaWQoY29ubmVjdGlvbi5zb3VyY2UpXG4gICAgKTtcblxuICAgIGFkanVzdERvY2tpbmcoXG4gICAgICB3YXlwb2ludHNbd2F5cG9pbnRzLmxlbmd0aCAtIDFdLFxuICAgICAgd2F5cG9pbnRzW3dheXBvaW50cy5sZW5ndGggLSAyXSxcbiAgICAgIGdldE1pZChjb25uZWN0aW9uLnRhcmdldClcbiAgICApO1xuICB9XG5cbiAgZXZlbnRCdXMub24oJ2JvYXJkRWxlbWVudC5hZGRlZCcsIGZ1bmN0aW9uKGUpIHtcblxuICAgIHZhciBlbGVtZW50ID0gZS5lbGVtZW50O1xuXG4gICAgaWYgKGVsZW1lbnQud2F5cG9pbnRzKSB7XG4gICAgICBmaXhEb2NraW5ncyhlbGVtZW50KTtcbiAgICB9XG4gIH0pO1xufVxuXG5JbXBvcnREb2NraW5nRml4LiRpbmplY3QgPSBbXG4gICdldmVudEJ1cydcbl07XG5cblxuLy8gaGVscGVycyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbmZ1bmN0aW9uIGdldERpc3RhbmNlKHAxLCBwMikge1xuICByZXR1cm4gTWF0aC5zcXJ0KE1hdGgucG93KHAxLnggLSBwMi54LCAyKSArIE1hdGgucG93KHAxLnkgLSBwMi55LCAyKSk7XG59IiwiLyoqXG4gKiBSZXR1cm5zIHRoZSBsZW5ndGggb2YgYSB2ZWN0b3JcbiAqXG4gKiBAcGFyYW0ge1ZlY3Rvcn1cbiAqIEByZXR1cm4ge0Zsb2F0fVxuICovXG5leHBvcnQgZnVuY3Rpb24gdmVjdG9yTGVuZ3RoKHYpIHtcbiAgcmV0dXJuIE1hdGguc3FydChNYXRoLnBvdyh2LngsIDIpICsgTWF0aC5wb3codi55LCAyKSk7XG59XG5cblxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBhbmdsZSBiZXR3ZWVuIGEgbGluZSBhIHRoZSB5QXhpc1xuICpcbiAqIEBwYXJhbSB7QXJyYXl9XG4gKiBAcmV0dXJuIHtGbG9hdH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEFuZ2xlKGxpbmUpIHtcblxuICAvLyByZXR1cm4gdmFsdWUgaXMgYmV0d2VlbiAwLCAxODAgYW5kIC0xODAsIC0wXG4gIC8vIEBqYW5zdHVlbW1lbDogbWF5YmUgcmVwbGFjZSByZXR1cm4gYS9iIHdpdGggYi9hXG4gIHJldHVybiBNYXRoLmF0YW4oKGxpbmVbMV0ueSAtIGxpbmVbMF0ueSkgLyAobGluZVsxXS54IC0gbGluZVswXS54KSk7XG59XG5cblxuLyoqXG4gKiBSb3RhdGVzIGEgdmVjdG9yIGJ5IGEgZ2l2ZW4gYW5nbGVcbiAqXG4gKiBAcGFyYW0ge1ZlY3Rvcn1cbiAqIEBwYXJhbSB7RmxvYXR9IEFuZ2xlIGluIHJhZGlhbnNcbiAqIEByZXR1cm4ge1ZlY3Rvcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZVZlY3Rvcih2ZWN0b3IsIGFuZ2xlKSB7XG4gIHJldHVybiAoIWFuZ2xlKSA/IHZlY3RvciA6IHtcbiAgICB4OiBNYXRoLmNvcyhhbmdsZSkgKiB2ZWN0b3IueCAtIE1hdGguc2luKGFuZ2xlKSAqIHZlY3Rvci55LFxuICAgIHk6IE1hdGguc2luKGFuZ2xlKSAqIHZlY3Rvci54ICsgTWF0aC5jb3MoYW5nbGUpICogdmVjdG9yLnlcbiAgfTtcbn1cblxuXG4vKipcbiAqIFNvbHZlcyBhIDJEIGVxdWF0aW9uIHN5c3RlbVxuICogYSArIHIqYiA9IGMsIHdoZXJlIGEsYixjIGFyZSAyRCB2ZWN0b3JzXG4gKlxuICogQHBhcmFtIHtWZWN0b3J9XG4gKiBAcGFyYW0ge1ZlY3Rvcn1cbiAqIEBwYXJhbSB7VmVjdG9yfVxuICogQHJldHVybiB7RmxvYXR9XG4gKi9cbmZ1bmN0aW9uIHNvbHZlTGFtYmFTeXN0ZW0oYSwgYiwgYykge1xuXG4gIC8vIHRoZSAyZCBzeXN0ZW1cbiAgdmFyIHN5c3RlbSA9IFtcbiAgICB7IG46IGFbMF0gLSBjWzBdLCBsYW1iZGE6IGJbMF0gfSxcbiAgICB7IG46IGFbMV0gLSBjWzFdLCBsYW1iZGE6IGJbMV0gfVxuICBdO1xuXG4gIC8vIHNvbHZlXG4gIHZhciBuID0gc3lzdGVtWzBdLm4gKiBiWzBdICsgc3lzdGVtWzFdLm4gKiBiWzFdLFxuICAgICAgbCA9IHN5c3RlbVswXS5sYW1iZGEgKiBiWzBdICsgc3lzdGVtWzFdLmxhbWJkYSAqIGJbMV07XG5cbiAgcmV0dXJuIC1uL2w7XG59XG5cblxuLyoqXG4gKiBQb3NpdGlvbiBvZiBwZXJwZW5kaWN1bGFyIGZvb3RcbiAqXG4gKiBAcGFyYW0ge1BvaW50fVxuICogQHBhcmFtIFsge1BvaW50fSwge1BvaW50fSBdIGxpbmUgZGVmaW5lZCB0aHJvdWdoIHR3byBwb2ludHNcbiAqIEByZXR1cm4ge1BvaW50fSB0aGUgcGVycGVuZGljdWxhciBmb290IHBvc2l0aW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwZXJwZW5kaWN1bGFyRm9vdChwb2ludCwgbGluZSkge1xuXG4gIHZhciBhID0gbGluZVswXSwgYiA9IGxpbmVbMV07XG5cbiAgLy8gcmVsYXRpdmUgcG9zaXRpb24gb2YgYiBmcm9tIGFcbiAgdmFyIGJkID0geyB4OiBiLnggLSBhLngsIHk6IGIueSAtIGEueSB9O1xuXG4gIC8vIHNvbHZlIGVxdWF0aW9uIHN5c3RlbSB0byB0aGUgcGFyYW1ldHJpemVkIHZlY3RvcnMgcGFyYW0gcmVhbCB2YWx1ZVxuICB2YXIgciA9IHNvbHZlTGFtYmFTeXN0ZW0oWyBhLngsIGEueSBdLCBbIGJkLngsIGJkLnkgXSwgWyBwb2ludC54LCBwb2ludC55IF0pO1xuXG4gIHJldHVybiB7IHg6IGEueCArIHIqYmQueCwgeTogYS55ICsgcipiZC55IH07XG59XG5cblxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIGEgcG9pbnQgYW5kIGEgbGluZVxuICpcbiAqIEBwYXJhbSB7UG9pbnR9XG4gKiBAcGFyYW0gWyB7UG9pbnR9LCB7UG9pbnR9IF0gbGluZSBkZWZpbmVkIHRocm91Z2ggdHdvIHBvaW50c1xuICogQHJldHVybiB7RmxvYXR9IGRpc3RhbmNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXREaXN0YW5jZVBvaW50TGluZShwb2ludCwgbGluZSkge1xuXG4gIHZhciBwZlBvaW50ID0gcGVycGVuZGljdWxhckZvb3QocG9pbnQsIGxpbmUpO1xuXG4gIC8vIGRpc3RhbmNlIHZlY3RvclxuICB2YXIgY29ubmVjdGlvblZlY3RvciA9IHtcbiAgICB4OiBwZlBvaW50LnggLSBwb2ludC54LFxuICAgIHk6IHBmUG9pbnQueSAtIHBvaW50LnlcbiAgfTtcblxuICByZXR1cm4gdmVjdG9yTGVuZ3RoKGNvbm5lY3Rpb25WZWN0b3IpO1xufVxuXG5cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgZGlzdGFuY2UgYmV0d2VlbiB0d28gcG9pbnRzXG4gKlxuICogQHBhcmFtIHtQb2ludH1cbiAqIEBwYXJhbSB7UG9pbnR9XG4gKiBAcmV0dXJuIHtGbG9hdH0gZGlzdGFuY2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldERpc3RhbmNlUG9pbnRQb2ludChwb2ludDEsIHBvaW50Mikge1xuXG4gIHJldHVybiB2ZWN0b3JMZW5ndGgoe1xuICAgIHg6IHBvaW50MS54IC0gcG9pbnQyLngsXG4gICAgeTogcG9pbnQxLnkgLSBwb2ludDIueVxuICB9KTtcbn0iLCJ2YXIgc3FydCA9IE1hdGguc3FydCxcbiAgICBtaW4gPSBNYXRoLm1pbixcbiAgICBtYXggPSBNYXRoLm1heCxcbiAgICBhYnMgPSBNYXRoLmFicztcblxuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIHNxdWFyZSAocG93ZXIgdG8gdHdvKSBvZiBhIG51bWJlci5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gblxuICpcbiAqIEByZXR1cm4ge051bWJlcn1cbiAqL1xuZnVuY3Rpb24gc3Eobikge1xuICByZXR1cm4gTWF0aC5wb3cobiwgMik7XG59XG5cbi8qKlxuICogR2V0IGRpc3RhbmNlIGJldHdlZW4gdHdvIHBvaW50cy5cbiAqXG4gKiBAcGFyYW0ge1BvaW50fSBwMVxuICogQHBhcmFtIHtQb2ludH0gcDJcbiAqXG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKi9cbmZ1bmN0aW9uIGdldERpc3RhbmNlKHAxLCBwMikge1xuICByZXR1cm4gc3FydChzcShwMS54IC0gcDIueCkgKyBzcShwMS55IC0gcDIueSkpO1xufVxuXG4vKipcbiAqIFJldHVybiB0aGUgYXR0YWNobWVudCBvZiB0aGUgZ2l2ZW4gcG9pbnQgb24gdGhlIHNwZWNpZmllZCBsaW5lLlxuICpcbiAqIFRoZSBhdHRhY2htZW50IGlzIGVpdGhlciBhIGJlbmRwb2ludCAoYXR0YWNoZWQgdG8gdGhlIGdpdmVuIHBvaW50KVxuICogb3Igc2VnbWVudCAoYXR0YWNoZWQgdG8gYSBsb2NhdGlvbiBvbiBhIGxpbmUgc2VnbWVudCkgYXR0YWNobWVudDpcbiAqXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiB2YXIgcG9pbnRBdHRhY2htZW50ID0ge1xuICogICB0eXBlOiAnYmVuZHBvaW50JyxcbiAqICAgYmVuZHBvaW50SW5kZXg6IDMsXG4gKiAgIHBvc2l0aW9uOiB7IHg6IDEwLCB5OiAxMCB9IC8vIHRoZSBhdHRhY2ggcG9pbnQgb24gdGhlIGxpbmVcbiAqIH07XG4gKlxuICogdmFyIHNlZ21lbnRBdHRhY2htZW50ID0ge1xuICogICB0eXBlOiAnc2VnbWVudCcsXG4gKiAgIHNlZ21lbnRJbmRleDogMixcbiAqICAgcmVsYXRpdmVMb2NhdGlvbjogMC4zMSwgLy8gYXR0YWNoIHBvaW50IGxvY2F0aW9uIGJldHdlZW4gMCAoYXQgc3RhcnQpIGFuZCAxIChhdCBlbmQpXG4gKiAgIHBvc2l0aW9uOiB7IHg6IDEwLCB5OiAxMCB9IC8vIHRoZSBhdHRhY2ggcG9pbnQgb24gdGhlIGxpbmVcbiAqIH07XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge1BvaW50fSBwb2ludFxuICogQHBhcmFtIHtBcnJheTxQb2ludD59IGxpbmVcbiAqXG4gKiBAcmV0dXJuIHtPYmplY3R9IGF0dGFjaG1lbnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEF0dGFjaG1lbnQocG9pbnQsIGxpbmUpIHtcblxuICB2YXIgaWR4ID0gMCxcbiAgICAgIHNlZ21lbnRTdGFydCxcbiAgICAgIHNlZ21lbnRFbmQsXG4gICAgICBzZWdtZW50U3RhcnREaXN0YW5jZSxcbiAgICAgIHNlZ21lbnRFbmREaXN0YW5jZSxcbiAgICAgIGF0dGFjaG1lbnRQb3NpdGlvbixcbiAgICAgIG1pbkRpc3RhbmNlLFxuICAgICAgaW50ZXJzZWN0aW9ucyxcbiAgICAgIGF0dGFjaG1lbnQsXG4gICAgICBhdHRhY2htZW50RGlzdGFuY2UsXG4gICAgICBjbG9zZXN0QXR0YWNobWVudERpc3RhbmNlLFxuICAgICAgY2xvc2VzdEF0dGFjaG1lbnQ7XG5cbiAgZm9yIChpZHggPSAwOyBpZHggPCBsaW5lLmxlbmd0aCAtIDE7IGlkeCsrKSB7XG5cbiAgICBzZWdtZW50U3RhcnQgPSBsaW5lW2lkeF07XG4gICAgc2VnbWVudEVuZCA9IGxpbmVbaWR4ICsgMV07XG5cbiAgICBpZiAocG9pbnRzRXF1YWwoc2VnbWVudFN0YXJ0LCBzZWdtZW50RW5kKSkge1xuICAgICAgaW50ZXJzZWN0aW9ucyA9IFsgc2VnbWVudFN0YXJ0IF07XG4gICAgfSBlbHNlIHtcbiAgICAgIHNlZ21lbnRTdGFydERpc3RhbmNlID0gZ2V0RGlzdGFuY2UocG9pbnQsIHNlZ21lbnRTdGFydCk7XG4gICAgICBzZWdtZW50RW5kRGlzdGFuY2UgPSBnZXREaXN0YW5jZShwb2ludCwgc2VnbWVudEVuZCk7XG5cbiAgICAgIG1pbkRpc3RhbmNlID0gbWluKHNlZ21lbnRTdGFydERpc3RhbmNlLCBzZWdtZW50RW5kRGlzdGFuY2UpO1xuXG4gICAgICBpbnRlcnNlY3Rpb25zID0gZ2V0Q2lyY2xlU2VnbWVudEludGVyc2VjdGlvbnMoc2VnbWVudFN0YXJ0LCBzZWdtZW50RW5kLCBwb2ludCwgbWluRGlzdGFuY2UpO1xuICAgIH1cblxuICAgIGlmIChpbnRlcnNlY3Rpb25zLmxlbmd0aCA8IDEpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignZXhwZWN0ZWQgYmV0d2VlbiBbMSwgMl0gY2lyY2xlIC0+IGxpbmUgaW50ZXJzZWN0aW9ucycpO1xuICAgIH1cblxuICAgIC8vIG9uZSBpbnRlcnNlY3Rpb24gLT4gYmVuZHBvaW50IGF0dGFjaG1lbnRcbiAgICBpZiAoaW50ZXJzZWN0aW9ucy5sZW5ndGggPT09IDEpIHtcbiAgICAgIGF0dGFjaG1lbnQgPSB7XG4gICAgICAgIHR5cGU6ICdiZW5kcG9pbnQnLFxuICAgICAgICBwb3NpdGlvbjogaW50ZXJzZWN0aW9uc1swXSxcbiAgICAgICAgc2VnbWVudEluZGV4OiBpZHgsXG4gICAgICAgIGJlbmRwb2ludEluZGV4OiBwb2ludHNFcXVhbChzZWdtZW50U3RhcnQsIGludGVyc2VjdGlvbnNbMF0pID8gaWR4IDogaWR4ICsgMVxuICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyB0d28gaW50ZXJzZWN0aW9ucyAtPiBzZWdtZW50IGF0dGFjaG1lbnRcbiAgICBpZiAoaW50ZXJzZWN0aW9ucy5sZW5ndGggPT09IDIpIHtcblxuICAgICAgYXR0YWNobWVudFBvc2l0aW9uID0gbWlkKGludGVyc2VjdGlvbnNbMF0sIGludGVyc2VjdGlvbnNbMV0pO1xuXG4gICAgICBhdHRhY2htZW50ID0ge1xuICAgICAgICB0eXBlOiAnc2VnbWVudCcsXG4gICAgICAgIHBvc2l0aW9uOiBhdHRhY2htZW50UG9zaXRpb24sXG4gICAgICAgIHNlZ21lbnRJbmRleDogaWR4LFxuICAgICAgICByZWxhdGl2ZUxvY2F0aW9uOiBnZXREaXN0YW5jZShzZWdtZW50U3RhcnQsIGF0dGFjaG1lbnRQb3NpdGlvbikgLyBnZXREaXN0YW5jZShzZWdtZW50U3RhcnQsIHNlZ21lbnRFbmQpXG4gICAgICB9O1xuICAgIH1cblxuICAgIGF0dGFjaG1lbnREaXN0YW5jZSA9IGdldERpc3RhbmNlKGF0dGFjaG1lbnQucG9zaXRpb24sIHBvaW50KTtcblxuICAgIGlmICghY2xvc2VzdEF0dGFjaG1lbnQgfHwgY2xvc2VzdEF0dGFjaG1lbnREaXN0YW5jZSA+IGF0dGFjaG1lbnREaXN0YW5jZSkge1xuICAgICAgY2xvc2VzdEF0dGFjaG1lbnQgPSBhdHRhY2htZW50O1xuICAgICAgY2xvc2VzdEF0dGFjaG1lbnREaXN0YW5jZSA9IGF0dGFjaG1lbnREaXN0YW5jZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gY2xvc2VzdEF0dGFjaG1lbnQ7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgaW50ZXJzZWN0aW9uIGJldHdlZW4gYSBjaXJjbGUgYW5kIGEgbGluZSBzZWdtZW50LlxuICpcbiAqIEBwYXJhbSB7UG9pbnR9IHMxIHNlZ21lbnQgc3RhcnRcbiAqIEBwYXJhbSB7UG9pbnR9IHMyIHNlZ21lbnQgZW5kXG4gKiBAcGFyYW0ge1BvaW50fSBjYyBjaXJjbGUgY2VudGVyXG4gKiBAcGFyYW0ge051bWJlcn0gY3IgY2lyY2xlIHJhZGl1c1xuICpcbiAqIEByZXR1cm4ge0FycmF5PFBvaW50Pn0gaW50ZXJzZWN0aW9uc1xuICovXG5mdW5jdGlvbiBnZXRDaXJjbGVTZWdtZW50SW50ZXJzZWN0aW9ucyhzMSwgczIsIGNjLCBjcikge1xuXG4gIHZhciBiYVggPSBzMi54IC0gczEueDtcbiAgdmFyIGJhWSA9IHMyLnkgLSBzMS55O1xuICB2YXIgY2FYID0gY2MueCAtIHMxLng7XG4gIHZhciBjYVkgPSBjYy55IC0gczEueTtcblxuICB2YXIgYSA9IGJhWCAqIGJhWCArIGJhWSAqIGJhWTtcbiAgdmFyIGJCeTIgPSBiYVggKiBjYVggKyBiYVkgKiBjYVk7XG4gIHZhciBjID0gY2FYICogY2FYICsgY2FZICogY2FZIC0gY3IgKiBjcjtcblxuICB2YXIgcEJ5MiA9IGJCeTIgLyBhO1xuICB2YXIgcSA9IGMgLyBhO1xuXG4gIHZhciBkaXNjID0gcEJ5MiAqIHBCeTIgLSBxO1xuXG4gIC8vIGNoZWNrIGFnYWluc3QgbmVnYXRpdmUgdmFsdWUgdG8gd29yayBhcm91bmRcbiAgLy8gbmVnYXRpdmUsIHZlcnkgY2xvc2UgdG8gemVybyByZXN1bHRzICgtNGUtMTUpXG4gIC8vIGJlaW5nIHByb2R1Y2VkIGluIHNvbWUgZW52aXJvbm1lbnRzXG4gIGlmIChkaXNjIDwgMCAmJiBkaXNjID4gLTAuMDAwMDAxKSB7XG4gICAgZGlzYyA9IDA7XG4gIH1cblxuICBpZiAoZGlzYyA8IDApIHtcbiAgICByZXR1cm4gW107XG4gIH1cblxuICAvLyBpZiBkaXNjID09IDAgLi4uIGRlYWx0IHdpdGggbGF0ZXJcbiAgdmFyIHRtcFNxcnQgPSBzcXJ0KGRpc2MpO1xuICB2YXIgYWJTY2FsaW5nRmFjdG9yMSA9IC1wQnkyICsgdG1wU3FydDtcbiAgdmFyIGFiU2NhbGluZ0ZhY3RvcjIgPSAtcEJ5MiAtIHRtcFNxcnQ7XG5cbiAgdmFyIGkxID0ge1xuICAgIHg6IHMxLnggLSBiYVggKiBhYlNjYWxpbmdGYWN0b3IxLFxuICAgIHk6IHMxLnkgLSBiYVkgKiBhYlNjYWxpbmdGYWN0b3IxXG4gIH07XG5cbiAgaWYgKGRpc2MgPT09IDApIHsgLy8gYWJTY2FsaW5nRmFjdG9yMSA9PSBhYlNjYWxpbmdGYWN0b3IyXG4gICAgcmV0dXJuIFsgaTEgXTtcbiAgfVxuXG4gIHZhciBpMiA9IHtcbiAgICB4OiBzMS54IC0gYmFYICogYWJTY2FsaW5nRmFjdG9yMixcbiAgICB5OiBzMS55IC0gYmFZICogYWJTY2FsaW5nRmFjdG9yMlxuICB9O1xuXG4gIC8vIHJldHVybiBvbmx5IHBvaW50cyBvbiBsaW5lIHNlZ21lbnRcbiAgcmV0dXJuIFsgaTEsIGkyIF0uZmlsdGVyKGZ1bmN0aW9uKHApIHtcbiAgICByZXR1cm4gaXNQb2ludEluU2VnbWVudChwLCBzMSwgczIpO1xuICB9KTtcbn1cblxuXG5mdW5jdGlvbiBpc1BvaW50SW5TZWdtZW50KHAsIHNlZ21lbnRTdGFydCwgc2VnbWVudEVuZCkge1xuICByZXR1cm4gKFxuICAgIGZlbmNlZChwLngsIHNlZ21lbnRTdGFydC54LCBzZWdtZW50RW5kLngpICYmXG4gICAgZmVuY2VkKHAueSwgc2VnbWVudFN0YXJ0LnksIHNlZ21lbnRFbmQueSlcbiAgKTtcbn1cblxuZnVuY3Rpb24gZmVuY2VkKG4sIHJhbmdlU3RhcnQsIHJhbmdlRW5kKSB7XG5cbiAgLy8gdXNlIG1hdGNoaW5nIHRocmVzaG9sZCB0byB3b3JrIGFyb3VuZFxuICAvLyBwcmVjaXNpb24gZXJyb3JzIGluIGludGVyc2VjdGlvbiBjb21wdXRhdGlvblxuXG4gIHJldHVybiAoXG4gICAgbiA+PSBtaW4ocmFuZ2VTdGFydCwgcmFuZ2VFbmQpIC0gRVFVQUxfVEhSRVNIT0xEICYmXG4gICAgbiA8PSBtYXgocmFuZ2VTdGFydCwgcmFuZ2VFbmQpICsgRVFVQUxfVEhSRVNIT0xEXG4gICk7XG59XG5cbi8qKlxuICogQ2FsY3VsYXRlIG1pZCBvZiB0d28gcG9pbnRzLlxuICpcbiAqIEBwYXJhbSB7UG9pbnR9IHAxXG4gKiBAcGFyYW0ge1BvaW50fSBwMlxuICpcbiAqIEByZXR1cm4ge1BvaW50fVxuICovXG5mdW5jdGlvbiBtaWQocDEsIHAyKSB7XG5cbiAgcmV0dXJuIHtcbiAgICB4OiAocDEueCArIHAyLngpIC8gMixcbiAgICB5OiAocDEueSArIHAyLnkpIC8gMlxuICB9O1xufVxuXG52YXIgRVFVQUxfVEhSRVNIT0xEID0gMC4xO1xuXG5mdW5jdGlvbiBwb2ludHNFcXVhbChwMSwgcDIpIHtcblxuICByZXR1cm4gKFxuICAgIGFicyhwMS54IC0gcDIueCkgPD0gRVFVQUxfVEhSRVNIT0xEICYmXG4gICAgYWJzKHAxLnkgLSBwMi55KSA8PSBFUVVBTF9USFJFU0hPTERcbiAgKTtcbn1cbiIsImltcG9ydCB7XG4gIGdldERpc3RhbmNlUG9pbnRQb2ludCxcbiAgcm90YXRlVmVjdG9yLFxuICBnZXRBbmdsZVxufSBmcm9tICcuL0dlb21ldHJpY1V0aWwnO1xuXG5pbXBvcnQge1xuICBnZXRBdHRhY2htZW50XG59IGZyb20gJy4vTGluZUF0dGFjaG1lbnRVdGlsJztcblxuaW1wb3J0IHtcbiAgcm91bmRQb2ludFxufSBmcm9tICdkaWFncmFtLWpzL2xpYi9sYXlvdXQvTGF5b3V0VXRpbCc7XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGZpbmROZXdMYWJlbExpbmVTdGFydEluZGV4KG9sZFdheXBvaW50cywgbmV3V2F5cG9pbnRzLCBhdHRhY2htZW50LCBoaW50cykge1xuXG4gIHZhciBpbmRleCA9IGF0dGFjaG1lbnQuc2VnbWVudEluZGV4O1xuXG4gIHZhciBvZmZzZXQgPSBuZXdXYXlwb2ludHMubGVuZ3RoIC0gb2xkV2F5cG9pbnRzLmxlbmd0aDtcblxuICAvLyBzZWdtZW50TW92ZSBoYXBwZW5lZFxuICBpZiAoaGludHMuc2VnbWVudE1vdmUpIHtcblxuICAgIHZhciBvbGRTZWdtZW50U3RhcnRJbmRleCA9IGhpbnRzLnNlZ21lbnRNb3ZlLnNlZ21lbnRTdGFydEluZGV4LFxuICAgICAgICBuZXdTZWdtZW50U3RhcnRJbmRleCA9IGhpbnRzLnNlZ21lbnRNb3ZlLm5ld1NlZ21lbnRTdGFydEluZGV4O1xuXG4gICAgLy8gaWYgbGFiZWwgd2FzIG9uIG1vdmVkIHNlZ21lbnQgcmV0dXJuIG5ldyBzZWdtZW50IGluZGV4XG4gICAgaWYgKGluZGV4ID09PSBvbGRTZWdtZW50U3RhcnRJbmRleCkge1xuICAgICAgcmV0dXJuIG5ld1NlZ21lbnRTdGFydEluZGV4O1xuICAgIH1cblxuICAgIC8vIGxhYmVsIGlzIGFmdGVyIG5ldyBzZWdtZW50IGluZGV4XG4gICAgaWYgKGluZGV4ID49IG5ld1NlZ21lbnRTdGFydEluZGV4KSB7XG4gICAgICByZXR1cm4gKGluZGV4K29mZnNldCA8IG5ld1NlZ21lbnRTdGFydEluZGV4KSA/IG5ld1NlZ21lbnRTdGFydEluZGV4IDogaW5kZXgrb2Zmc2V0O1xuICAgIH1cblxuICAgIC8vIGlmIGxhYmVsIGlzIGJlZm9yZSBuZXcgc2VnbWVudCBpbmRleFxuICAgIHJldHVybiBpbmRleDtcbiAgfVxuXG4gIC8vIGJlbmRwb2ludE1vdmUgaGFwcGVuZWRcbiAgaWYgKGhpbnRzLmJlbmRwb2ludE1vdmUpIHtcblxuICAgIHZhciBpbnNlcnQgPSBoaW50cy5iZW5kcG9pbnRNb3ZlLmluc2VydCxcbiAgICAgICAgYmVuZHBvaW50SW5kZXggPSBoaW50cy5iZW5kcG9pbnRNb3ZlLmJlbmRwb2ludEluZGV4LFxuICAgICAgICBuZXdJbmRleDtcblxuICAgIC8vIHdheXBvaW50cyBsZW5ndGggZGlkbnQgY2hhbmdlXG4gICAgaWYgKG9mZnNldCA9PT0gMCkge1xuICAgICAgcmV0dXJuIGluZGV4O1xuICAgIH1cblxuICAgIC8vIGxhYmVsIGJlaGluZCBuZXcvcmVtb3ZlZCBiZW5kcG9pbnRcbiAgICBpZiAoaW5kZXggPj0gYmVuZHBvaW50SW5kZXgpIHtcbiAgICAgIG5ld0luZGV4ID0gaW5zZXJ0ID8gaW5kZXggKyAxIDogaW5kZXggLSAxO1xuICAgIH1cblxuICAgIC8vIGxhYmVsIGJlZm9yZSBuZXcvcmVtb3ZlZCBiZW5kcG9pbnRcbiAgICBpZiAoaW5kZXggPCBiZW5kcG9pbnRJbmRleCkge1xuXG4gICAgICBuZXdJbmRleCA9IGluZGV4O1xuXG4gICAgICAvLyBkZWNpZGUgbGFiZWwgc2hvdWxkIHRha2UgcmlnaHQgb3IgbGVmdCBzZWdtZW50XG4gICAgICBpZiAoaW5zZXJ0ICYmIGF0dGFjaG1lbnQudHlwZSAhPT0gJ2JlbmRwb2ludCcgJiYgYmVuZHBvaW50SW5kZXgtMSA9PT0gaW5kZXgpIHtcblxuICAgICAgICB2YXIgcmVsID0gcmVsYXRpdmVQb3NpdGlvbk1pZFdheXBvaW50KG5ld1dheXBvaW50cywgYmVuZHBvaW50SW5kZXgpO1xuXG4gICAgICAgIGlmIChyZWwgPCBhdHRhY2htZW50LnJlbGF0aXZlTG9jYXRpb24pIHtcbiAgICAgICAgICBuZXdJbmRleCsrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ld0luZGV4O1xuICB9XG5cbiAgLy8gc3RhcnQvZW5kIGNoYW5nZWRcbiAgaWYgKG9mZnNldCA9PT0gMCkge1xuICAgIHJldHVybiBpbmRleDtcbiAgfVxuXG4gIGlmIChoaW50cy5jb25uZWN0aW9uU3RhcnQpIHtcbiAgICByZXR1cm4gKGluZGV4ID09PSAwKSA/IDAgOiBudWxsO1xuICB9XG5cbiAgaWYgKGhpbnRzLmNvbm5lY3Rpb25FbmQpIHtcbiAgICByZXR1cm4gKGluZGV4ID09PSBvbGRXYXlwb2ludHMubGVuZ3RoIC0gMikgPyBuZXdXYXlwb2ludHMubGVuZ3RoIC0gMiA6IG51bGw7XG4gIH1cblxuICAvLyBpZiBub3RoaW5nIGZpdHMsIHJldHVybiBudWxsXG4gIHJldHVybiBudWxsO1xufVxuXG5cbi8qKlxuICogQ2FsY3VsYXRlIHRoZSByZXF1aXJlZCBhZGp1c3RtZW50IChtb3ZlIGRlbHRhKSBmb3IgdGhlIGdpdmVuIGxhYmVsXG4gKiBhZnRlciB0aGUgY29ubmVjdGlvbiB3YXlwb2ludHMgZ290IHVwZGF0ZWQuXG4gKlxuICogQHBhcmFtIHtkanMubW9kZWwuTGFiZWx9IGxhYmVsXG4gKiBAcGFyYW0ge0FycmF5PFBvaW50Pn0gbmV3V2F5cG9pbnRzXG4gKiBAcGFyYW0ge0FycmF5PFBvaW50Pn0gb2xkV2F5cG9pbnRzXG4gKiBAcGFyYW0ge09iamVjdH0gaGludHNcbiAqXG4gKiBAcmV0dXJuIHtQb2ludH0gZGVsdGFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldExhYmVsQWRqdXN0bWVudChsYWJlbCwgbmV3V2F5cG9pbnRzLCBvbGRXYXlwb2ludHMsIGhpbnRzKSB7XG5cbiAgdmFyIHggPSAwLFxuICAgICAgeSA9IDA7XG5cbiAgdmFyIGxhYmVsUG9zaXRpb24gPSBnZXRMYWJlbE1pZChsYWJlbCk7XG5cbiAgLy8gZ2V0IGNsb3Nlc3QgYXR0YWNobWVudFxuICB2YXIgYXR0YWNobWVudCA9IGdldEF0dGFjaG1lbnQobGFiZWxQb3NpdGlvbiwgb2xkV2F5cG9pbnRzKSxcbiAgICAgIG9sZExhYmVsTGluZUluZGV4ID0gYXR0YWNobWVudC5zZWdtZW50SW5kZXgsXG4gICAgICBuZXdMYWJlbExpbmVJbmRleCA9IGZpbmROZXdMYWJlbExpbmVTdGFydEluZGV4KG9sZFdheXBvaW50cywgbmV3V2F5cG9pbnRzLCBhdHRhY2htZW50LCBoaW50cyk7XG5cbiAgaWYgKG5ld0xhYmVsTGluZUluZGV4ID09PSBudWxsKSB7XG4gICAgcmV0dXJuIHsgeDogeCwgeTogeSB9O1xuICB9XG5cbiAgLy8gc2hvdWxkIG5ldmVyIGhhcHBlblxuICAvLyBUT0RPKEBqYW5zdHVlbW1lbCk6IHRocm93IGFuIGVycm9yIGhlcmUgd2hlbiBjb25uZWN0aW9uU2VnbWVudE1vdmUgaXMgcmVmYWN0b3JlZFxuICBpZiAobmV3TGFiZWxMaW5lSW5kZXggPCAwIHx8XG4gICAgICBuZXdMYWJlbExpbmVJbmRleCA+IG5ld1dheXBvaW50cy5sZW5ndGggLSAyKSB7XG4gICAgcmV0dXJuIHsgeDogeCwgeTogeSB9O1xuICB9XG5cbiAgdmFyIG9sZExhYmVsTGluZSA9IGdldExpbmUob2xkV2F5cG9pbnRzLCBvbGRMYWJlbExpbmVJbmRleCksXG4gICAgICBuZXdMYWJlbExpbmUgPSBnZXRMaW5lKG5ld1dheXBvaW50cywgbmV3TGFiZWxMaW5lSW5kZXgpLFxuICAgICAgb2xkRm9vdCA9IGF0dGFjaG1lbnQucG9zaXRpb247XG5cbiAgdmFyIHJlbGF0aXZlRm9vdFBvc2l0aW9uID0gZ2V0UmVsYXRpdmVGb290UG9zaXRpb24ob2xkTGFiZWxMaW5lLCBvbGRGb290KSxcbiAgICAgIGFuZ2xlRGVsdGEgPSBnZXRBbmdsZURlbHRhKG9sZExhYmVsTGluZSwgbmV3TGFiZWxMaW5lKTtcblxuICAvLyBzcGVjaWFsIHJ1bGUgaWYgbGFiZWwgb24gYmVuZHBvaW50XG4gIGlmIChhdHRhY2htZW50LnR5cGUgPT09ICdiZW5kcG9pbnQnKSB7XG5cbiAgICB2YXIgb2Zmc2V0ID0gbmV3V2F5cG9pbnRzLmxlbmd0aCAtIG9sZFdheXBvaW50cy5sZW5ndGgsXG4gICAgICAgIG9sZEJlbmRwb2ludEluZGV4ID0gYXR0YWNobWVudC5iZW5kcG9pbnRJbmRleCxcbiAgICAgICAgb2xkQmVuZHBvaW50ID0gb2xkV2F5cG9pbnRzW29sZEJlbmRwb2ludEluZGV4XTtcblxuICAgIC8vIGJlbmRwb2ludCBwb3NpdGlvbiBoYXNuJ3QgY2hhbmdlZCwgcmV0dXJuIHNhbWUgcG9zaXRpb25cbiAgICBpZiAobmV3V2F5cG9pbnRzLmluZGV4T2Yob2xkQmVuZHBvaW50KSAhPT0gLTEpIHtcbiAgICAgIHJldHVybiB7IHg6IHgsIHk6IHkgfTtcbiAgICB9XG5cbiAgICAvLyBuZXcgYmVuZHBvaW50IGFuZCBvbGQgYmVuZHBvaW50IGhhdmUgc2FtZSBpbmRleCwgdGhlbiBqdXN0IHJldHVybiB0aGUgb2Zmc2V0XG4gICAgaWYgKG9mZnNldCA9PT0gMCkge1xuICAgICAgdmFyIG5ld0JlbmRwb2ludCA9IG5ld1dheXBvaW50c1tvbGRCZW5kcG9pbnRJbmRleF07XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHg6IG5ld0JlbmRwb2ludC54IC0gYXR0YWNobWVudC5wb3NpdGlvbi54LFxuICAgICAgICB5OiBuZXdCZW5kcG9pbnQueSAtIGF0dGFjaG1lbnQucG9zaXRpb24ueVxuICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBpZiBiZW5kcG9pbnRzIGdldCByZW1vdmVkXG4gICAgaWYgKG9mZnNldCA8IDAgJiYgb2xkQmVuZHBvaW50SW5kZXggIT09IDAgJiYgb2xkQmVuZHBvaW50SW5kZXggPCBvbGRXYXlwb2ludHMubGVuZ3RoIC0gMSkge1xuICAgICAgcmVsYXRpdmVGb290UG9zaXRpb24gPSByZWxhdGl2ZVBvc2l0aW9uTWlkV2F5cG9pbnQob2xkV2F5cG9pbnRzLCBvbGRCZW5kcG9pbnRJbmRleCk7XG4gICAgfVxuICB9XG5cbiAgdmFyIG5ld0Zvb3QgPSB7XG4gICAgeDogKG5ld0xhYmVsTGluZVsxXS54IC0gbmV3TGFiZWxMaW5lWzBdLngpICogcmVsYXRpdmVGb290UG9zaXRpb24gKyBuZXdMYWJlbExpbmVbMF0ueCxcbiAgICB5OiAobmV3TGFiZWxMaW5lWzFdLnkgLSBuZXdMYWJlbExpbmVbMF0ueSkgKiByZWxhdGl2ZUZvb3RQb3NpdGlvbiArIG5ld0xhYmVsTGluZVswXS55XG4gIH07XG5cbiAgLy8gdGhlIHJvdGF0ZWQgdmVjdG9yIHRvIGxhYmVsXG4gIHZhciBuZXdMYWJlbFZlY3RvciA9IHJvdGF0ZVZlY3Rvcih7XG4gICAgeDogbGFiZWxQb3NpdGlvbi54IC0gb2xkRm9vdC54LFxuICAgIHk6IGxhYmVsUG9zaXRpb24ueSAtIG9sZEZvb3QueVxuICB9LCBhbmdsZURlbHRhKTtcblxuICAvLyB0aGUgbmV3IHJlbGF0aXZlIHBvc2l0aW9uXG4gIHggPSBuZXdGb290LnggKyBuZXdMYWJlbFZlY3Rvci54IC0gbGFiZWxQb3NpdGlvbi54O1xuICB5ID0gbmV3Rm9vdC55ICsgbmV3TGFiZWxWZWN0b3IueSAtIGxhYmVsUG9zaXRpb24ueTtcblxuICByZXR1cm4gcm91bmRQb2ludCh7XG4gICAgeDogeCxcbiAgICB5OiB5XG4gIH0pO1xufVxuXG5cbi8vIEhFTFBFUlMgLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5mdW5jdGlvbiByZWxhdGl2ZVBvc2l0aW9uTWlkV2F5cG9pbnQod2F5cG9pbnRzLCBpZHgpIHtcblxuICB2YXIgZGlzdGFuY2VTZWdtZW50MSA9IGdldERpc3RhbmNlUG9pbnRQb2ludCh3YXlwb2ludHNbaWR4LTFdLCB3YXlwb2ludHNbaWR4XSksXG4gICAgICBkaXN0YW5jZVNlZ21lbnQyID0gZ2V0RGlzdGFuY2VQb2ludFBvaW50KHdheXBvaW50c1tpZHhdLCB3YXlwb2ludHNbaWR4KzFdKTtcblxuICB2YXIgcmVsYXRpdmVQb3NpdGlvbiA9IGRpc3RhbmNlU2VnbWVudDEgLyAoZGlzdGFuY2VTZWdtZW50MSArIGRpc3RhbmNlU2VnbWVudDIpO1xuXG4gIHJldHVybiByZWxhdGl2ZVBvc2l0aW9uO1xufVxuXG5mdW5jdGlvbiBnZXRMYWJlbE1pZChsYWJlbCkge1xuICByZXR1cm4ge1xuICAgIHg6IGxhYmVsLnggKyBsYWJlbC53aWR0aCAvIDIsXG4gICAgeTogbGFiZWwueSArIGxhYmVsLmhlaWdodCAvIDJcbiAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0QW5nbGVEZWx0YShsMSwgbDIpIHtcbiAgdmFyIGExID0gZ2V0QW5nbGUobDEpLFxuICAgICAgYTIgPSBnZXRBbmdsZShsMik7XG4gIHJldHVybiBhMiAtIGExO1xufVxuXG5mdW5jdGlvbiBnZXRMaW5lKHdheXBvaW50cywgaWR4KSB7XG4gIHJldHVybiBbIHdheXBvaW50c1tpZHhdLCB3YXlwb2ludHNbaWR4KzFdIF07XG59XG5cbmZ1bmN0aW9uIGdldFJlbGF0aXZlRm9vdFBvc2l0aW9uKGxpbmUsIGZvb3QpIHtcblxuICB2YXIgbGVuZ3RoID0gZ2V0RGlzdGFuY2VQb2ludFBvaW50KGxpbmVbMF0sIGxpbmVbMV0pLFxuICAgICAgbGVuZ3RoVG9Gb290ID0gZ2V0RGlzdGFuY2VQb2ludFBvaW50KGxpbmVbMF0sIGZvb3QpO1xuXG4gIHJldHVybiBsZW5ndGggPT09IDAgPyAwIDogbGVuZ3RoVG9Gb290IC8gbGVuZ3RoO1xufVxuIiwiaW1wb3J0IHtcbiAgYXNUUkJMLFxuICBnZXRPcmllbnRhdGlvbixcbiAgcm91bmRQb2ludFxufSBmcm9tICcuLi9sYXlvdXQvTGF5b3V0VXRpbCc7XG5cbmltcG9ydCB7XG4gIGNlbnRlcixcbiAgZGVsdGFcbn0gZnJvbSAnLi9Qb3NpdGlvblV0aWwnO1xuXG5cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgYWJzb2x1dGUgcG9pbnQgcmVsYXRpdmUgdG8gdGhlIG5ldyBlbGVtZW50J3MgcG9zaXRpb25cbiAqXG4gKiBAcGFyYW0ge3BvaW50fSBwb2ludCBbYWJzb2x1dGVdXG4gKiBAcGFyYW0ge2JvdW5kc30gb2xkQm91bmRzXG4gKiBAcGFyYW0ge2JvdW5kc30gbmV3Qm91bmRzXG4gKlxuICogQHJldHVybiB7cG9pbnR9IHBvaW50IFthYnNvbHV0ZV1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldE5ld0F0dGFjaFBvaW50KHBvaW50LCBvbGRCb3VuZHMsIG5ld0JvdW5kcykge1xuICB2YXIgb2xkQ2VudGVyID0gY2VudGVyKG9sZEJvdW5kcyksXG4gICAgICBuZXdDZW50ZXIgPSBjZW50ZXIobmV3Qm91bmRzKSxcbiAgICAgIG9sZERlbHRhID0gZGVsdGEocG9pbnQsIG9sZENlbnRlcik7XG5cbiAgdmFyIG5ld0RlbHRhID0ge1xuICAgIHg6IG9sZERlbHRhLnggKiAobmV3Qm91bmRzLndpZHRoIC8gb2xkQm91bmRzLndpZHRoKSxcbiAgICB5OiBvbGREZWx0YS55ICogKG5ld0JvdW5kcy5oZWlnaHQgLyBvbGRCb3VuZHMuaGVpZ2h0KVxuICB9O1xuXG4gIHJldHVybiByb3VuZFBvaW50KHtcbiAgICB4OiBuZXdDZW50ZXIueCArIG5ld0RlbHRhLngsXG4gICAgeTogbmV3Q2VudGVyLnkgKyBuZXdEZWx0YS55XG4gIH0pO1xufVxuXG5cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgc2hhcGUncyBkZWx0YSByZWxhdGl2ZSB0byBhIG5ldyBwb3NpdGlvblxuICogb2YgYSBjZXJ0YWluIGVsZW1lbnQncyBib3VuZHNcbiAqXG4gKiBAcGFyYW0ge2Rqcy5tb2RlbC5TaGFwZX0gcG9pbnQgW2Fic29sdXRlXVxuICogQHBhcmFtIHtib3VuZHN9IG9sZEJvdW5kc1xuICogQHBhcmFtIHtib3VuZHN9IG5ld0JvdW5kc1xuICpcbiAqIEByZXR1cm4ge2RlbHRhfSBkZWx0YVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0TmV3QXR0YWNoU2hhcGVEZWx0YShzaGFwZSwgb2xkQm91bmRzLCBuZXdCb3VuZHMpIHtcbiAgdmFyIHNoYXBlQ2VudGVyID0gY2VudGVyKHNoYXBlKSxcbiAgICAgIG9sZENlbnRlciA9IGNlbnRlcihvbGRCb3VuZHMpLFxuICAgICAgbmV3Q2VudGVyID0gY2VudGVyKG5ld0JvdW5kcyksXG4gICAgICBzaGFwZURlbHRhID0gZGVsdGEoc2hhcGUsIHNoYXBlQ2VudGVyKSxcbiAgICAgIG9sZENlbnRlckRlbHRhID0gZGVsdGEoc2hhcGVDZW50ZXIsIG9sZENlbnRlciksXG4gICAgICBzdGlja3lQb3NpdGlvbkRlbHRhID0gZ2V0U3RpY2t5UG9zaXRpb25EZWx0YShzaGFwZUNlbnRlciwgb2xkQm91bmRzLCBuZXdCb3VuZHMpO1xuXG4gIGlmIChzdGlja3lQb3NpdGlvbkRlbHRhKSB7XG4gICAgcmV0dXJuIHN0aWNreVBvc2l0aW9uRGVsdGE7XG4gIH1cblxuICB2YXIgbmV3Q2VudGVyRGVsdGEgPSB7XG4gICAgeDogb2xkQ2VudGVyRGVsdGEueCAqIChuZXdCb3VuZHMud2lkdGggLyBvbGRCb3VuZHMud2lkdGgpLFxuICAgIHk6IG9sZENlbnRlckRlbHRhLnkgKiAobmV3Qm91bmRzLmhlaWdodCAvIG9sZEJvdW5kcy5oZWlnaHQpXG4gIH07XG5cbiAgdmFyIG5ld1NoYXBlQ2VudGVyID0ge1xuICAgIHg6IG5ld0NlbnRlci54ICsgbmV3Q2VudGVyRGVsdGEueCxcbiAgICB5OiBuZXdDZW50ZXIueSArIG5ld0NlbnRlckRlbHRhLnlcbiAgfTtcblxuICByZXR1cm4gcm91bmRQb2ludCh7XG4gICAgeDogbmV3U2hhcGVDZW50ZXIueCArIHNoYXBlRGVsdGEueCAtIHNoYXBlLngsXG4gICAgeTogbmV3U2hhcGVDZW50ZXIueSArIHNoYXBlRGVsdGEueSAtIHNoYXBlLnlcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGdldFN0aWNreVBvc2l0aW9uRGVsdGEob2xkU2hhcGVDZW50ZXIsIG9sZEJvdW5kcywgbmV3Qm91bmRzKSB7XG4gIHZhciBvbGRUUkJMID0gYXNUUkJMKG9sZEJvdW5kcyksXG4gICAgICBuZXdUUkJMID0gYXNUUkJMKG5ld0JvdW5kcyk7XG5cbiAgaWYgKGlzTW92ZWQob2xkVFJCTCwgbmV3VFJCTCkpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHZhciBvbGRPcmllbnRhdGlvbiA9IGdldE9yaWVudGF0aW9uKG9sZEJvdW5kcywgb2xkU2hhcGVDZW50ZXIpLFxuICAgICAgc3RpY2t5UG9zaXRpb25EZWx0YSxcbiAgICAgIG5ld1NoYXBlQ2VudGVyLFxuICAgICAgbmV3T3JpZW50YXRpb247XG5cbiAgaWYgKG9sZE9yaWVudGF0aW9uID09PSAndG9wJykge1xuICAgIHN0aWNreVBvc2l0aW9uRGVsdGEgPSB7XG4gICAgICB4OiAwLFxuICAgICAgeTogbmV3VFJCTC5ib3R0b20gLSBvbGRUUkJMLmJvdHRvbVxuICAgIH07XG4gIH0gZWxzZSBpZiAob2xkT3JpZW50YXRpb24gPT09ICdib3R0b20nKSB7XG4gICAgc3RpY2t5UG9zaXRpb25EZWx0YSA9IHtcbiAgICAgIHg6IDAsXG4gICAgICB5OiBuZXdUUkJMLnRvcCAtIG9sZFRSQkwudG9wXG4gICAgfTtcbiAgfSBlbHNlIGlmIChvbGRPcmllbnRhdGlvbiA9PT0gJ3JpZ2h0Jykge1xuICAgIHN0aWNreVBvc2l0aW9uRGVsdGEgPSB7XG4gICAgICB4OiBuZXdUUkJMLmxlZnQgLSBvbGRUUkJMLmxlZnQsXG4gICAgICB5OiAwXG4gICAgfTtcbiAgfSBlbHNlIGlmIChvbGRPcmllbnRhdGlvbiA9PT0gJ2xlZnQnKSB7XG4gICAgc3RpY2t5UG9zaXRpb25EZWx0YSA9IHtcbiAgICAgIHg6IG5ld1RSQkwucmlnaHQgLSBvbGRUUkJMLnJpZ2h0LFxuICAgICAgeTogMFxuICAgIH07XG4gIH0gZWxzZSB7XG5cbiAgICAvLyBmYWxsYmFjayB0byBwcm9wb3J0aW9uYWwgbW92ZW1lbnQgZm9yIGNvcm5lci1wbGFjZWQgYXR0YWNobWVudHNcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIG5ld1NoYXBlQ2VudGVyID0ge1xuICAgIHg6IG9sZFNoYXBlQ2VudGVyLnggKyBzdGlja3lQb3NpdGlvbkRlbHRhLngsXG4gICAgeTogb2xkU2hhcGVDZW50ZXIueSArIHN0aWNreVBvc2l0aW9uRGVsdGEueVxuICB9O1xuXG4gIG5ld09yaWVudGF0aW9uID0gZ2V0T3JpZW50YXRpb24obmV3Qm91bmRzLCBuZXdTaGFwZUNlbnRlcik7XG5cbiAgaWYgKG5ld09yaWVudGF0aW9uICE9PSBvbGRPcmllbnRhdGlvbikge1xuXG4gICAgLy8gZmFsbGJhY2sgdG8gcHJvcG9ydGlvbmFsIG1vdmVtZW50IGlmIG9yaWVudGF0aW9uIHdvdWxkIG90aGVyd2lzZSBjaGFuZ2VcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiBzdGlja3lQb3NpdGlvbkRlbHRhO1xufVxuXG5mdW5jdGlvbiBpc01vdmVkKG9sZFRSQkwsIG5ld1RSQkwpIHtcbiAgcmV0dXJuIGlzSG9yaXpvbnRhbGx5TW92ZWQob2xkVFJCTCwgbmV3VFJCTCkgfHwgaXNWZXJ0aWNhbGx5TW92ZWQob2xkVFJCTCwgbmV3VFJCTCk7XG59XG5cbmZ1bmN0aW9uIGlzSG9yaXpvbnRhbGx5TW92ZWQob2xkVFJCTCwgbmV3VFJCTCkge1xuICByZXR1cm4gb2xkVFJCTC5yaWdodCAhPT0gbmV3VFJCTC5yaWdodCAmJiBvbGRUUkJMLmxlZnQgIT09IG5ld1RSQkwubGVmdDtcbn1cblxuZnVuY3Rpb24gaXNWZXJ0aWNhbGx5TW92ZWQob2xkVFJCTCwgbmV3VFJCTCkge1xuICByZXR1cm4gb2xkVFJCTC50b3AgIT09IG5ld1RSQkwudG9wICYmIG9sZFRSQkwuYm90dG9tICE9PSBuZXdUUkJMLmJvdHRvbTtcbn1cbiIsImltcG9ydCB7XG4gIGFzc2lnblxufSBmcm9tICdtaW4tZGFzaCc7XG5cbmltcG9ydCBpbmhlcml0cyBmcm9tICdpbmhlcml0cyc7XG5cbmltcG9ydCB7XG4gIGlzLFxuICBnZXRCdXNpbmVzc09iamVjdFxufSBmcm9tICcuLi8uLi8uLi91dGlsL01vZGVsVXRpbCc7XG5cbmltcG9ydCB7XG4gIGlzTGFiZWxFeHRlcm5hbCxcbiAgZ2V0RXh0ZXJuYWxMYWJlbE1pZCxcbiAgaGFzRXh0ZXJuYWxMYWJlbCxcbiAgaXNMYWJlbFxufSBmcm9tICcuLi8uLi8uLi91dGlsL0xhYmVsVXRpbCc7XG5cbmltcG9ydCB7XG4gIGdldExhYmVsXG59IGZyb20gJy4uLy4uL2xhYmVsLWVkaXRpbmcvTGFiZWxVdGlsJztcblxuaW1wb3J0IHtcbiAgZ2V0TGFiZWxBZGp1c3RtZW50XG59IGZyb20gJy4vdXRpbC9MYWJlbExheW91dFV0aWwnO1xuXG5pbXBvcnQgQ29tbWFuZEludGVyY2VwdG9yIGZyb20gJ2RpYWdyYW0tanMvbGliL2NvbW1hbmQvQ29tbWFuZEludGVyY2VwdG9yJztcblxuaW1wb3J0IHtcbiAgZ2V0TmV3QXR0YWNoUG9pbnRcbn0gZnJvbSAnZGlhZ3JhbS1qcy9saWIvdXRpbC9BdHRhY2hVdGlsJztcblxuaW1wb3J0IHtcbiAgZ2V0TWlkLFxuICByb3VuZFBvaW50XG59IGZyb20gJ2RpYWdyYW0tanMvbGliL2xheW91dC9MYXlvdXRVdGlsJztcblxuaW1wb3J0IHtcbiAgZGVsdGFcbn0gZnJvbSAnZGlhZ3JhbS1qcy9saWIvdXRpbC9Qb3NpdGlvblV0aWwnO1xuXG5pbXBvcnQge1xuICBzb3J0Qnlcbn0gZnJvbSAnbWluLWRhc2gnO1xuXG5pbXBvcnQge1xuICBnZXREaXN0YW5jZVBvaW50TGluZSxcbiAgcGVycGVuZGljdWxhckZvb3Rcbn0gZnJvbSAnLi91dGlsL0dlb21ldHJpY1V0aWwnO1xuXG52YXIgREVGQVVMVF9MQUJFTF9ESU1FTlNJT05TID0ge1xuICB3aWR0aDogOTAsXG4gIGhlaWdodDogMjBcbn07XG5cbnZhciBOQU1FX1BST1BFUlRZID0gJ25hbWUnO1xuXG4vKipcbiAqIEEgY29tcG9uZW50IHRoYXQgbWFrZXMgc3VyZSB0aGF0IGV4dGVybmFsIGxhYmVscyBhcmUgYWRkZWRcbiAqIHRvZ2V0aGVyIHdpdGggcmVzcGVjdGl2ZSBlbGVtZW50cyBhbmQgcHJvcGVybHkgdXBkYXRlZCAoREkgd2lzZSlcbiAqIGR1cmluZyBtb3ZlLlxuICpcbiAqIEBwYXJhbSB7RXZlbnRCdXN9IGV2ZW50QnVzXG4gKiBAcGFyYW0ge01vZGVsaW5nfSBtb2RlbGluZ1xuICogQHBhcmFtIHtQb3N0aXRGYWN0b3J5fSBwb3N0aXRGYWN0b3J5XG4gKiBAcGFyYW0ge1RleHRSZW5kZXJlcn0gdGV4dFJlbmRlcmVyXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIExhYmVsQmVoYXZpb3IoXG4gICAgZXZlbnRCdXMsIG1vZGVsaW5nLCBwb3N0aXRGYWN0b3J5LFxuICAgIHRleHRSZW5kZXJlcikge1xuXG4gIENvbW1hbmRJbnRlcmNlcHRvci5jYWxsKHRoaXMsIGV2ZW50QnVzKTtcblxuICAvLyB1cGRhdGUgbGFiZWwgaWYgbmFtZSBwcm9wZXJ0eSB3YXMgdXBkYXRlZFxuICB0aGlzLnBvc3RFeGVjdXRlKCdlbGVtZW50LnVwZGF0ZVByb3BlcnRpZXMnLCBmdW5jdGlvbihlKSB7XG4gICAgdmFyIGNvbnRleHQgPSBlLmNvbnRleHQsXG4gICAgICAgIGVsZW1lbnQgPSBjb250ZXh0LmVsZW1lbnQsXG4gICAgICAgIHByb3BlcnRpZXMgPSBjb250ZXh0LnByb3BlcnRpZXM7XG5cbiAgICBpZiAoTkFNRV9QUk9QRVJUWSBpbiBwcm9wZXJ0aWVzKSB7XG4gICAgICBtb2RlbGluZy51cGRhdGVMYWJlbChlbGVtZW50LCBwcm9wZXJ0aWVzW05BTUVfUFJPUEVSVFldKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIGNyZWF0ZSBsYWJlbCBzaGFwZSBhZnRlciBzaGFwZS9jb25uZWN0aW9uIHdhcyBjcmVhdGVkXG4gIHRoaXMucG9zdEV4ZWN1dGUoWyAnc2hhcGUuY3JlYXRlJywgJ2Nvbm5lY3Rpb24uY3JlYXRlJyBdLCBmdW5jdGlvbihlKSB7XG4gICAgdmFyIGNvbnRleHQgPSBlLmNvbnRleHQsXG4gICAgICAgIGhpbnRzID0gY29udGV4dC5oaW50cyB8fCB7fTtcblxuICAgIGlmIChoaW50cy5jcmVhdGVFbGVtZW50c0JlaGF2aW9yID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBlbGVtZW50ID0gY29udGV4dC5zaGFwZSB8fCBjb250ZXh0LmNvbm5lY3Rpb24sXG4gICAgICAgIGJ1c2luZXNzT2JqZWN0ID0gZWxlbWVudC5idXNpbmVzc09iamVjdDtcblxuICAgIGlmIChpc0xhYmVsKGVsZW1lbnQpIHx8ICFpc0xhYmVsRXh0ZXJuYWwoZWxlbWVudCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBvbmx5IGNyZWF0ZSBsYWJlbCBpZiBhdHRyaWJ1dGUgYXZhaWxhYmxlXG4gICAgaWYgKCFnZXRMYWJlbChlbGVtZW50KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBsYWJlbENlbnRlciA9IGdldEV4dGVybmFsTGFiZWxNaWQoZWxlbWVudCk7XG5cbiAgICAvLyB3ZSBkb24ndCBjYXJlIGFib3V0IHggYW5kIHlcbiAgICB2YXIgbGFiZWxEaW1lbnNpb25zID0gdGV4dFJlbmRlcmVyLmdldEV4dGVybmFsTGFiZWxCb3VuZHMoXG4gICAgICBERUZBVUxUX0xBQkVMX0RJTUVOU0lPTlMsXG4gICAgICBnZXRMYWJlbChlbGVtZW50KVxuICAgICk7XG5cbiAgICBtb2RlbGluZy5jcmVhdGVMYWJlbChlbGVtZW50LCBsYWJlbENlbnRlciwge1xuICAgICAgaWQ6IGJ1c2luZXNzT2JqZWN0LmlkICsgJ19sYWJlbCcsXG4gICAgICBidXNpbmVzc09iamVjdDogYnVzaW5lc3NPYmplY3QsXG4gICAgICB3aWR0aDogbGFiZWxEaW1lbnNpb25zLndpZHRoLFxuICAgICAgaGVpZ2h0OiBsYWJlbERpbWVuc2lvbnMuaGVpZ2h0XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8vIHVwZGF0ZSBsYWJlbCBhZnRlciBsYWJlbCBzaGFwZSB3YXMgZGVsZXRlZFxuICB0aGlzLnBvc3RFeGVjdXRlKCdzaGFwZS5kZWxldGUnLCBmdW5jdGlvbihldmVudCkge1xuICAgIHZhciBjb250ZXh0ID0gZXZlbnQuY29udGV4dCxcbiAgICAgICAgbGFiZWxUYXJnZXQgPSBjb250ZXh0LmxhYmVsVGFyZ2V0LFxuICAgICAgICBoaW50cyA9IGNvbnRleHQuaGludHMgfHwge307XG5cbiAgICAvLyBjaGVjayBpZiBsYWJlbFxuICAgIGlmIChsYWJlbFRhcmdldCAmJiBoaW50cy51bnNldExhYmVsICE9PSBmYWxzZSkge1xuICAgICAgbW9kZWxpbmcudXBkYXRlTGFiZWwobGFiZWxUYXJnZXQsIG51bGwsIG51bGwsIHsgcmVtb3ZlU2hhcGU6IGZhbHNlIH0pO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gdXBkYXRlIGRpIGluZm9ybWF0aW9uIG9uIGxhYmVsIGNyZWF0aW9uXG4gIHRoaXMucG9zdEV4ZWN1dGUoWyAnbGFiZWwuY3JlYXRlJyBdLCBmdW5jdGlvbihldmVudCkge1xuXG4gICAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0LFxuICAgICAgICBlbGVtZW50ID0gY29udGV4dC5zaGFwZSxcbiAgICAgICAgYnVzaW5lc3NPYmplY3QsXG4gICAgICAgIGRpO1xuXG4gICAgLy8gd2Ugd2FudCB0byB0cmlnZ2VyIG9uIHJlYWwgbGFiZWxzIG9ubHlcbiAgICBpZiAoIWVsZW1lbnQubGFiZWxUYXJnZXQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyB3ZSB3YW50IHRvIHRyaWdnZXIgb24gYm9hcmQgZWxlbWVudHMgb25seVxuICAgIGlmICghaXMoZWxlbWVudC5sYWJlbFRhcmdldCB8fCBlbGVtZW50LCAncG9zdGl0OkJvYXJkRWxlbWVudCcpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgYnVzaW5lc3NPYmplY3QgPSBlbGVtZW50LmJ1c2luZXNzT2JqZWN0LFxuICAgIGRpID0gYnVzaW5lc3NPYmplY3QuZGk7XG5cblxuICAgIGlmICghZGkubGFiZWwpIHtcbiAgICAgIGRpLmxhYmVsID0gcG9zdGl0RmFjdG9yeS5jcmVhdGUoJ3Bvc3RpdERpOlBvc3RpdExhYmVsJywge1xuICAgICAgICBib3VuZHM6IHBvc3RpdEZhY3RvcnkuY3JlYXRlKCdkYzpCb3VuZHMnKVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgYXNzaWduKGRpLmxhYmVsLmJvdW5kcywge1xuICAgICAgeDogZWxlbWVudC54LFxuICAgICAgeTogZWxlbWVudC55LFxuICAgICAgd2lkdGg6IGVsZW1lbnQud2lkdGgsXG4gICAgICBoZWlnaHQ6IGVsZW1lbnQuaGVpZ2h0XG4gICAgfSk7XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIGdldFZpc2libGVMYWJlbEFkanVzdG1lbnQoZXZlbnQpIHtcblxuICAgIHZhciBjb250ZXh0ID0gZXZlbnQuY29udGV4dCxcbiAgICAgICAgY29ubmVjdGlvbiA9IGNvbnRleHQuY29ubmVjdGlvbixcbiAgICAgICAgbGFiZWwgPSBjb25uZWN0aW9uLmxhYmVsLFxuICAgICAgICBoaW50cyA9IGFzc2lnbih7fSwgY29udGV4dC5oaW50cyksXG4gICAgICAgIG5ld1dheXBvaW50cyA9IGNvbnRleHQubmV3V2F5cG9pbnRzIHx8IGNvbm5lY3Rpb24ud2F5cG9pbnRzLFxuICAgICAgICBvbGRXYXlwb2ludHMgPSBjb250ZXh0Lm9sZFdheXBvaW50cztcblxuXG4gICAgaWYgKHR5cGVvZiBoaW50cy5zdGFydENoYW5nZWQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBoaW50cy5zdGFydENoYW5nZWQgPSAhIWhpbnRzLmNvbm5lY3Rpb25TdGFydDtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGhpbnRzLmVuZENoYW5nZWQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBoaW50cy5lbmRDaGFuZ2VkID0gISFoaW50cy5jb25uZWN0aW9uRW5kO1xuICAgIH1cblxuICAgIHJldHVybiBnZXRMYWJlbEFkanVzdG1lbnQobGFiZWwsIG5ld1dheXBvaW50cywgb2xkV2F5cG9pbnRzLCBoaW50cyk7XG4gIH1cblxuICB0aGlzLnBvc3RFeGVjdXRlKFtcbiAgICAnY29ubmVjdGlvbi5sYXlvdXQnLFxuICAgICdjb25uZWN0aW9uLnVwZGF0ZVdheXBvaW50cydcbiAgXSwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgY29udGV4dCA9IGV2ZW50LmNvbnRleHQsXG4gICAgICAgIGhpbnRzID0gY29udGV4dC5oaW50cyB8fCB7fTtcblxuICAgIGlmIChoaW50cy5sYWJlbEJlaGF2aW9yID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBjb25uZWN0aW9uID0gY29udGV4dC5jb25uZWN0aW9uLFxuICAgICAgICBsYWJlbCA9IGNvbm5lY3Rpb24ubGFiZWwsXG4gICAgICAgIGxhYmVsQWRqdXN0bWVudDtcblxuICAgIC8vIGhhbmRsZSBtaXNzaW5nIGxhYmVsIGFzIHdlbGwgYXMgdGhlIGNhc2VcbiAgICAvLyB0aGF0IHRoZSBsYWJlbCBwYXJlbnQgZG9lcyBub3QgZXhpc3QgKHlldCksXG4gICAgLy8gYmVjYXVzZSBpdCBpcyBiZWluZyBwYXN0ZWQgLyBjcmVhdGVkIHZpYSBtdWx0aSBlbGVtZW50IGNyZWF0ZVxuICAgIC8vXG4gICAgLy8gQ2YuIGh0dHBzOi8vZ2l0aHViLmNvbS9icG1uLWlvL2JwbW4tanMvcHVsbC8xMjI3XG4gICAgaWYgKCFsYWJlbCB8fCAhbGFiZWwucGFyZW50KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGFiZWxBZGp1c3RtZW50ID0gZ2V0VmlzaWJsZUxhYmVsQWRqdXN0bWVudChldmVudCk7XG5cbiAgICBtb2RlbGluZy5tb3ZlU2hhcGUobGFiZWwsIGxhYmVsQWRqdXN0bWVudCk7XG4gIH0pO1xuXG5cbiAgLy8ga2VlcCBsYWJlbCBwb3NpdGlvbiBvbiBzaGFwZSByZXBsYWNlXG4gIHRoaXMucG9zdEV4ZWN1dGUoWyAnc2hhcGUucmVwbGFjZScgXSwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgY29udGV4dCA9IGV2ZW50LmNvbnRleHQsXG4gICAgICAgIG5ld1NoYXBlID0gY29udGV4dC5uZXdTaGFwZSxcbiAgICAgICAgb2xkU2hhcGUgPSBjb250ZXh0Lm9sZFNoYXBlO1xuXG4gICAgdmFyIGJ1c2luZXNzT2JqZWN0ID0gZ2V0QnVzaW5lc3NPYmplY3QobmV3U2hhcGUpO1xuXG4gICAgaWYgKGJ1c2luZXNzT2JqZWN0XG4gICAgICAmJiBpc0xhYmVsRXh0ZXJuYWwoYnVzaW5lc3NPYmplY3QpXG4gICAgICAmJiBvbGRTaGFwZS5sYWJlbFxuICAgICAgJiYgbmV3U2hhcGUubGFiZWwpIHtcbiAgICAgIG5ld1NoYXBlLmxhYmVsLnggPSBvbGRTaGFwZS5sYWJlbC54O1xuICAgICAgbmV3U2hhcGUubGFiZWwueSA9IG9sZFNoYXBlLmxhYmVsLnk7XG4gICAgfVxuICB9KTtcblxuXG4gIC8vIG1vdmUgZXh0ZXJuYWwgbGFiZWwgYWZ0ZXIgcmVzaXppbmdcbiAgdGhpcy5wb3N0RXhlY3V0ZSgnc2hhcGUucmVzaXplJywgZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgIHZhciBjb250ZXh0ID0gZXZlbnQuY29udGV4dCxcbiAgICAgICAgc2hhcGUgPSBjb250ZXh0LnNoYXBlLFxuICAgICAgICBuZXdCb3VuZHMgPSBjb250ZXh0Lm5ld0JvdW5kcyxcbiAgICAgICAgb2xkQm91bmRzID0gY29udGV4dC5vbGRCb3VuZHM7XG5cbiAgICBpZiAoaGFzRXh0ZXJuYWxMYWJlbChzaGFwZSkpIHtcblxuICAgICAgdmFyIGxhYmVsID0gc2hhcGUubGFiZWwsXG4gICAgICAgICAgbGFiZWxNaWQgPSBnZXRNaWQobGFiZWwpLFxuICAgICAgICAgIGVkZ2VzID0gYXNFZGdlcyhvbGRCb3VuZHMpO1xuXG4gICAgICAvLyBnZXQgbmVhcmVzdCBib3JkZXIgcG9pbnQgdG8gbGFiZWwgYXMgcmVmZXJlbmNlIHBvaW50XG4gICAgICB2YXIgcmVmZXJlbmNlUG9pbnQgPSBnZXRSZWZlcmVuY2VQb2ludChsYWJlbE1pZCwgZWRnZXMpO1xuXG4gICAgICB2YXIgZGVsdGEgPSBnZXRSZWZlcmVuY2VQb2ludERlbHRhKHJlZmVyZW5jZVBvaW50LCBvbGRCb3VuZHMsIG5ld0JvdW5kcyk7XG5cbiAgICAgIG1vZGVsaW5nLm1vdmVTaGFwZShsYWJlbCwgZGVsdGEpO1xuXG4gICAgfVxuXG4gIH0pO1xuXG59XG5cbmluaGVyaXRzKExhYmVsQmVoYXZpb3IsIENvbW1hbmRJbnRlcmNlcHRvcik7XG5cbkxhYmVsQmVoYXZpb3IuJGluamVjdCA9IFtcbiAgJ2V2ZW50QnVzJyxcbiAgJ21vZGVsaW5nJyxcbiAgJ3Bvc3RpdEZhY3RvcnknLFxuICAndGV4dFJlbmRlcmVyJ1xuXTtcblxuLy8gaGVscGVycyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbi8qKlxuICogQ2FsY3VsYXRlcyBhIHJlZmVyZW5jZSBwb2ludCBkZWx0YSByZWxhdGl2ZSB0byBhIG5ldyBwb3NpdGlvblxuICogb2YgYSBjZXJ0YWluIGVsZW1lbnQncyBib3VuZHNcbiAqXG4gKiBAcGFyYW0ge1BvaW50fSBwb2ludFxuICogQHBhcmFtIHtCb3VuZHN9IG9sZEJvdW5kc1xuICogQHBhcmFtIHtCb3VuZHN9IG5ld0JvdW5kc1xuICpcbiAqIEByZXR1cm4ge0RlbHRhfSBkZWx0YVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmVmZXJlbmNlUG9pbnREZWx0YShyZWZlcmVuY2VQb2ludCwgb2xkQm91bmRzLCBuZXdCb3VuZHMpIHtcblxuICB2YXIgbmV3UmVmZXJlbmNlUG9pbnQgPSBnZXROZXdBdHRhY2hQb2ludChyZWZlcmVuY2VQb2ludCwgb2xkQm91bmRzLCBuZXdCb3VuZHMpO1xuXG4gIHJldHVybiByb3VuZFBvaW50KGRlbHRhKG5ld1JlZmVyZW5jZVBvaW50LCByZWZlcmVuY2VQb2ludCkpO1xufVxuXG4vKipcbiAqIEdlbmVyYXRlcyB0aGUgbmVhcmVzdCBwb2ludCAocmVmZXJlbmNlIHBvaW50KSBmb3IgYSBnaXZlbiBwb2ludFxuICogb250byBnaXZlbiBzZXQgb2YgbGluZXNcbiAqXG4gKiBAcGFyYW0ge0FycmF5PFBvaW50LCBQb2ludD59IGxpbmVzXG4gKiBAcGFyYW0ge1BvaW50fSBwb2ludFxuICpcbiAqIEBwYXJhbSB7UG9pbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRSZWZlcmVuY2VQb2ludChwb2ludCwgbGluZXMpIHtcblxuICBpZiAoIWxpbmVzLmxlbmd0aCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBuZWFyZXN0TGluZSA9IGdldE5lYXJlc3RMaW5lKHBvaW50LCBsaW5lcyk7XG5cbiAgcmV0dXJuIHBlcnBlbmRpY3VsYXJGb290KHBvaW50LCBuZWFyZXN0TGluZSk7XG59XG5cbi8qKlxuICogQ29udmVydCB0aGUgZ2l2ZW4gYm91bmRzIHRvIGEgbGluZXMgYXJyYXkgY29udGFpbmluZyBhbGwgZWRnZXNcbiAqXG4gKiBAcGFyYW0ge0JvdW5kc3xQb2ludH0gYm91bmRzXG4gKlxuICogQHJldHVybiBBcnJheTxQb2ludD5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzRWRnZXMoYm91bmRzKSB7XG4gIHJldHVybiBbXG4gICAgWyAvLyB0b3BcbiAgICAgIHtcbiAgICAgICAgeDogYm91bmRzLngsXG4gICAgICAgIHk6IGJvdW5kcy55XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB4OiBib3VuZHMueCArIChib3VuZHMud2lkdGggfHwgMCksXG4gICAgICAgIHk6IGJvdW5kcy55XG4gICAgICB9XG4gICAgXSxcbiAgICBbIC8vIHJpZ2h0XG4gICAgICB7XG4gICAgICAgIHg6IGJvdW5kcy54ICsgKGJvdW5kcy53aWR0aCB8fCAwKSxcbiAgICAgICAgeTogYm91bmRzLnlcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHg6IGJvdW5kcy54ICsgKGJvdW5kcy53aWR0aCB8fCAwKSxcbiAgICAgICAgeTogYm91bmRzLnkgKyAoYm91bmRzLmhlaWdodCB8fCAwKVxuICAgICAgfVxuICAgIF0sXG4gICAgWyAvLyBib3R0b21cbiAgICAgIHtcbiAgICAgICAgeDogYm91bmRzLngsXG4gICAgICAgIHk6IGJvdW5kcy55ICsgKGJvdW5kcy5oZWlnaHQgfHwgMClcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHg6IGJvdW5kcy54ICsgKGJvdW5kcy53aWR0aCB8fCAwKSxcbiAgICAgICAgeTogYm91bmRzLnkgKyAoYm91bmRzLmhlaWdodCB8fCAwKVxuICAgICAgfVxuICAgIF0sXG4gICAgWyAvLyBsZWZ0XG4gICAgICB7XG4gICAgICAgIHg6IGJvdW5kcy54LFxuICAgICAgICB5OiBib3VuZHMueVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgeDogYm91bmRzLngsXG4gICAgICAgIHk6IGJvdW5kcy55ICsgKGJvdW5kcy5oZWlnaHQgfHwgMClcbiAgICAgIH1cbiAgICBdXG4gIF07XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgbmVhcmVzdCBsaW5lIGZvciBhIGdpdmVuIHBvaW50IGJ5IGRpc3RhbmNlXG4gKiBAcGFyYW0ge1BvaW50fSBwb2ludFxuICogQHBhcmFtIEFycmF5PFBvaW50PiBsaW5lc1xuICpcbiAqIEByZXR1cm4gQXJyYXk8UG9pbnQ+XG4gKi9cbmZ1bmN0aW9uIGdldE5lYXJlc3RMaW5lKHBvaW50LCBsaW5lcykge1xuXG4gIHZhciBkaXN0YW5jZXMgPSBsaW5lcy5tYXAoZnVuY3Rpb24obCkge1xuICAgIHJldHVybiB7XG4gICAgICBsaW5lOiBsLFxuICAgICAgZGlzdGFuY2U6IGdldERpc3RhbmNlUG9pbnRMaW5lKHBvaW50LCBsKVxuICAgIH07XG4gIH0pO1xuXG4gIHZhciBzb3J0ZWQgPSBzb3J0QnkoZGlzdGFuY2VzLCAnZGlzdGFuY2UnKTtcblxuICByZXR1cm4gc29ydGVkWzBdLmxpbmU7XG59XG4iLCJpbXBvcnQgaW5oZXJpdHMgZnJvbSAnaW5oZXJpdHMnO1xuXG5pbXBvcnQgeyBmb3JFYWNoIH0gZnJvbSAnbWluLWRhc2gnO1xuXG5pbXBvcnQgQ29tbWFuZEludGVyY2VwdG9yIGZyb20gJ2RpYWdyYW0tanMvbGliL2NvbW1hbmQvQ29tbWFuZEludGVyY2VwdG9yJztcblxuXG4vKipcbiAqIHBvc3RpdC1zcGVjaWZpYyByZXBsYWNlIGJlaGF2aW9yLlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBSZXBsYWNlRWxlbWVudEJlaGF2aW91cihcbiAgICBwb3N0aXRSZXBsYWNlLFxuICAgIHBvc3RpdFJ1bGVzLFxuICAgIGVsZW1lbnRSZWdpc3RyeSxcbiAgICBpbmplY3RvcixcbiAgICBtb2RlbGluZyxcbiAgICBzZWxlY3Rpb25cbikge1xuICBpbmplY3Rvci5pbnZva2UoQ29tbWFuZEludGVyY2VwdG9yLCB0aGlzKTtcblxuICB0aGlzLl9wb3N0aXRSZXBsYWNlID0gcG9zdGl0UmVwbGFjZTtcbiAgdGhpcy5fZWxlbWVudFJlZ2lzdHJ5ID0gZWxlbWVudFJlZ2lzdHJ5O1xuICB0aGlzLl9zZWxlY3Rpb24gPSBzZWxlY3Rpb247XG5cbiAgLy8gcmVwbGFjZSBlbGVtZW50cyBvbiBtb3ZlXG4gIHRoaXMucG9zdEV4ZWN1dGVkKFsgJ2VsZW1lbnRzLm1vdmUnIF0sIDUwMCwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgY29udGV4dCA9IGV2ZW50LmNvbnRleHQsXG4gICAgICAgIHRhcmdldCA9IGNvbnRleHQubmV3UGFyZW50LFxuICAgICAgICBuZXdIb3N0ID0gY29udGV4dC5uZXdIb3N0LFxuICAgICAgICBlbGVtZW50cyA9IFtdO1xuXG4gICAgZm9yRWFjaChjb250ZXh0LmNsb3N1cmUudG9wTGV2ZWwsIGZ1bmN0aW9uKHRvcExldmVsRWxlbWVudHMpIHtcbiAgICAgIGVsZW1lbnRzID0gZWxlbWVudHMuY29uY2F0KHRvcExldmVsRWxlbWVudHMpO1xuICAgIH0pO1xuXG4gICAgLy8gc2V0IHRhcmdldCB0byBob3N0IGlmIGF0dGFjaGluZ1xuICAgIGlmIChlbGVtZW50cy5sZW5ndGggPT09IDEgJiYgbmV3SG9zdCkge1xuICAgICAgdGFyZ2V0ID0gbmV3SG9zdDtcbiAgICB9XG5cbiAgICB2YXIgY2FuUmVwbGFjZSA9IHBvc3RpdFJ1bGVzLmNhblJlcGxhY2UoZWxlbWVudHMsIHRhcmdldCk7XG5cbiAgICBpZiAoY2FuUmVwbGFjZSkge1xuICAgICAgdGhpcy5yZXBsYWNlRWxlbWVudHMoZWxlbWVudHMsIGNhblJlcGxhY2UucmVwbGFjZW1lbnRzLCBuZXdIb3N0KTtcbiAgICB9XG4gIH0sIHRoaXMpO1xuXG4gIC8vIHVwZGF0ZSBhdHRhY2htZW50cyBvbiBob3N0IHJlcGxhY2VcbiAgdGhpcy5wb3N0RXhlY3V0ZShbICdzaGFwZS5yZXBsYWNlJyBdLCAxNTAwLCBmdW5jdGlvbihlKSB7XG4gICAgdmFyIGNvbnRleHQgPSBlLmNvbnRleHQsXG4gICAgICAgIG9sZFNoYXBlID0gY29udGV4dC5vbGRTaGFwZSxcbiAgICAgICAgbmV3U2hhcGUgPSBjb250ZXh0Lm5ld1NoYXBlLFxuICAgICAgICBhdHRhY2hlcnMgPSBvbGRTaGFwZS5hdHRhY2hlcnMsXG4gICAgICAgIGNhblJlcGxhY2U7XG5cbiAgICBpZiAoYXR0YWNoZXJzICYmIGF0dGFjaGVycy5sZW5ndGgpIHtcbiAgICAgIGNhblJlcGxhY2UgPSBwb3N0aXRSdWxlcy5jYW5SZXBsYWNlKGF0dGFjaGVycywgbmV3U2hhcGUpO1xuXG4gICAgICB0aGlzLnJlcGxhY2VFbGVtZW50cyhhdHRhY2hlcnMsIGNhblJlcGxhY2UucmVwbGFjZW1lbnRzKTtcbiAgICB9XG5cbiAgfSwgdGhpcyk7XG5cbiAgLy8ga2VlcCBJRCBvbiBzaGFwZSByZXBsYWNlXG4gIHRoaXMucG9zdEV4ZWN1dGVkKFsgJ3NoYXBlLnJlcGxhY2UnIF0sIDE1MDAsIGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgY29udGV4dCA9IGUuY29udGV4dCxcbiAgICAgICAgb2xkU2hhcGUgPSBjb250ZXh0Lm9sZFNoYXBlLFxuICAgICAgICBuZXdTaGFwZSA9IGNvbnRleHQubmV3U2hhcGU7XG5cbiAgICBtb2RlbGluZy51bmNsYWltSWQob2xkU2hhcGUuYnVzaW5lc3NPYmplY3QuaWQsIG9sZFNoYXBlLmJ1c2luZXNzT2JqZWN0KTtcbiAgICBtb2RlbGluZy51cGRhdGVQcm9wZXJ0aWVzKG5ld1NoYXBlLCB7IGlkOiBvbGRTaGFwZS5pZCB9KTtcbiAgfSk7XG59XG5cbmluaGVyaXRzKFJlcGxhY2VFbGVtZW50QmVoYXZpb3VyLCBDb21tYW5kSW50ZXJjZXB0b3IpO1xuXG5SZXBsYWNlRWxlbWVudEJlaGF2aW91ci5wcm90b3R5cGUucmVwbGFjZUVsZW1lbnRzID0gZnVuY3Rpb24oZWxlbWVudHMsIG5ld0VsZW1lbnRzKSB7XG4gIHZhciBlbGVtZW50UmVnaXN0cnkgPSB0aGlzLl9lbGVtZW50UmVnaXN0cnksXG4gICAgICBwb3N0aXRSZXBsYWNlID0gdGhpcy5fcG9zdGl0UmVwbGFjZSxcbiAgICAgIHNlbGVjdGlvbiA9IHRoaXMuX3NlbGVjdGlvbjtcblxuICBmb3JFYWNoKG5ld0VsZW1lbnRzLCBmdW5jdGlvbihyZXBsYWNlbWVudCkge1xuICAgIHZhciBuZXdFbGVtZW50ID0ge1xuICAgICAgdHlwZTogcmVwbGFjZW1lbnQubmV3RWxlbWVudFR5cGVcbiAgICB9O1xuXG4gICAgdmFyIG9sZEVsZW1lbnQgPSBlbGVtZW50UmVnaXN0cnkuZ2V0KHJlcGxhY2VtZW50Lm9sZEVsZW1lbnRJZCk7XG5cbiAgICB2YXIgaWR4ID0gZWxlbWVudHMuaW5kZXhPZihvbGRFbGVtZW50KTtcblxuICAgIGVsZW1lbnRzW2lkeF0gPSBwb3N0aXRSZXBsYWNlLnJlcGxhY2VFbGVtZW50KG9sZEVsZW1lbnQsIG5ld0VsZW1lbnQsIHsgc2VsZWN0OiBmYWxzZSB9KTtcbiAgfSk7XG5cbiAgaWYgKG5ld0VsZW1lbnRzKSB7XG4gICAgc2VsZWN0aW9uLnNlbGVjdChlbGVtZW50cyk7XG4gIH1cbn07XG5cblJlcGxhY2VFbGVtZW50QmVoYXZpb3VyLiRpbmplY3QgPSBbXG4gICdwb3N0aXRSZXBsYWNlJyxcbiAgJ3Bvc3RpdFJ1bGVzJyxcbiAgJ2VsZW1lbnRSZWdpc3RyeScsXG4gICdpbmplY3RvcicsXG4gICdtb2RlbGluZycsXG4gICdzZWxlY3Rpb24nXG5dO1xuIiwiaW1wb3J0IGluaGVyaXRzIGZyb20gJ2luaGVyaXRzJztcblxuaW1wb3J0IENvbW1hbmRJbnRlcmNlcHRvciBmcm9tICdkaWFncmFtLWpzL2xpYi9jb21tYW5kL0NvbW1hbmRJbnRlcmNlcHRvcic7XG5cbmltcG9ydCB7IGlzTGFiZWwgfSBmcm9tICcuLi8uLi8uLi91dGlsL0xhYmVsVXRpbCc7XG5cblxuLyoqXG4gKiBVbmNsYWltcyBtb2RlbCBJRHMgb24gZWxlbWVudCBkZWxldGlvbi5cbiAqXG4gKiBAcGFyYW0ge0NhbnZhc30gY2FudmFzXG4gKiBAcGFyYW0ge0luamVjdG9yfSBpbmplY3RvclxuICogQHBhcmFtIHtNb2RkbGV9IG1vZGRsZVxuICogQHBhcmFtIHtNb2RlbGluZ30gbW9kZWxpbmdcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gVW5jbGFpbUlkQmVoYXZpb3IoY2FudmFzLCBpbmplY3RvciwgbW9kZGxlLCBtb2RlbGluZykge1xuICBpbmplY3Rvci5pbnZva2UoQ29tbWFuZEludGVyY2VwdG9yLCB0aGlzKTtcblxuICB0aGlzLnByZUV4ZWN1dGUoJ3NoYXBlLmRlbGV0ZScsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0LFxuICAgICAgICBzaGFwZSA9IGNvbnRleHQuc2hhcGUsXG4gICAgICAgIHNoYXBlQm8gPSBzaGFwZS5idXNpbmVzc09iamVjdDtcblxuICAgIGlmIChpc0xhYmVsKHNoYXBlKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIG1vZGVsaW5nLnVuY2xhaW1JZChzaGFwZUJvLmlkLCBzaGFwZUJvKTtcbiAgfSk7XG5cbiAgdGhpcy5wcmVFeGVjdXRlKCdjYW52YXMudXBkYXRlUm9vdCcsIGZ1bmN0aW9uKCkge1xuICAgIHZhciByb290RWxlbWVudCA9IGNhbnZhcy5nZXRSb290RWxlbWVudCgpLFxuICAgICAgICByb290RWxlbWVudEJvID0gcm9vdEVsZW1lbnQuYnVzaW5lc3NPYmplY3Q7XG5cbiAgICBtb2RkbGUuaWRzLnVuY2xhaW0ocm9vdEVsZW1lbnRCby5pZCk7XG4gIH0pO1xufVxuXG5pbmhlcml0cyhVbmNsYWltSWRCZWhhdmlvciwgQ29tbWFuZEludGVyY2VwdG9yKTtcblxuVW5jbGFpbUlkQmVoYXZpb3IuJGluamVjdCA9IFsgJ2NhbnZhcycsICdpbmplY3RvcicsICdtb2RkbGUnLCAnbW9kZWxpbmcnIF07IiwiaW1wb3J0IGluaGVyaXRzIGZyb20gJ2luaGVyaXRzJztcblxuaW1wb3J0IHtcbiAgYXNzaWduXG59IGZyb20gJ21pbi1kYXNoJztcblxuaW1wb3J0IHtcbiAgZ2V0QnVzaW5lc3NPYmplY3QsXG4gIGlzXG59IGZyb20gJy4uLy4uLy4uL3V0aWwvTW9kZWxVdGlsJztcblxuaW1wb3J0IENvbW1hbmRJbnRlcmNlcHRvciBmcm9tICdkaWFncmFtLWpzL2xpYi9jb21tYW5kL0NvbW1hbmRJbnRlcmNlcHRvcic7XG5cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ3JlYXRlQm9hcmRFbGVtZW50QmVoYXZpb3IoZXZlbnRCdXMpIHtcblxuICBDb21tYW5kSW50ZXJjZXB0b3IuY2FsbCh0aGlzLCBldmVudEJ1cyk7XG5cbiAgLy8gZW5zdXJlIHByb3BlcnRpZXMgd2VyZSBzZXQgaW4gYnVzaW5lc3Mgb2JqZWN0XG5cbiAgdGhpcy5leGVjdXRlKCdzaGFwZS5jcmVhdGUnLCBmdW5jdGlvbihjb250ZXh0KSB7XG5cbiAgICB2YXIgc2hhcGUgPSBjb250ZXh0LmNvbnRleHQuc2hhcGU7XG5cbiAgICBpZiAoaXMoc2hhcGUsICdwb3N0aXQ6UG9zdGl0JykpIHtcbiAgICAgIGNvbnN0IGJ1c2luZXNzT2JqZWN0ID0gZ2V0QnVzaW5lc3NPYmplY3Qoc2hhcGUpO1xuICAgICAgIWJ1c2luZXNzT2JqZWN0LmNvbG9yICYmIGFzc2lnbihidXNpbmVzc09iamVjdCwgeyBjb2xvcjogc2hhcGUuY29sb3IgfSk7XG4gICAgfVxuXG4gICAgaWYgKGlzKHNoYXBlLCAncG9zdGl0OkltYWdlJykpIHtcbiAgICAgIGNvbnN0IGJ1c2luZXNzT2JqZWN0ID0gZ2V0QnVzaW5lc3NPYmplY3Qoc2hhcGUpO1xuICAgICAgIWJ1c2luZXNzT2JqZWN0LnNvdXJjZSAmJiBhc3NpZ24oYnVzaW5lc3NPYmplY3QsIHsgc291cmNlOiBzaGFwZS5zb3VyY2UgfSk7XG4gICAgfVxuICB9KTtcbn1cblxuaW5oZXJpdHMoQ3JlYXRlQm9hcmRFbGVtZW50QmVoYXZpb3IsIENvbW1hbmRJbnRlcmNlcHRvcik7XG5cbkNyZWF0ZUJvYXJkRWxlbWVudEJlaGF2aW9yLiRpbmplY3QgPSBbXG4gICdldmVudEJ1cydcbl07IiwiaW1wb3J0IGluaGVyaXRzIGZyb20gJ2luaGVyaXRzJztcblxuaW1wb3J0IHtcbiAgaXMsXG4gIGdldEJ1c2luZXNzT2JqZWN0XG59IGZyb20gJy4uLy4uLy4uL3V0aWwvTW9kZWxVdGlsJztcblxuaW1wb3J0IENvbW1hbmRJbnRlcmNlcHRvciBmcm9tICdkaWFncmFtLWpzL2xpYi9jb21tYW5kL0NvbW1hbmRJbnRlcmNlcHRvcic7XG5cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gRW1wdHlUZXh0Qm94QmVoYXZpb3IoZXZlbnRCdXMsIG1vZGVsaW5nLCBkaXJlY3RFZGl0aW5nKSB7XG5cbiAgQ29tbWFuZEludGVyY2VwdG9yLmNhbGwodGhpcywgZXZlbnRCdXMpO1xuXG4gIC8vIGRlbGV0ZSB0ZXh0IGJveCBpZiBpdCBoYXMgbm8gdGV4dFxuICB0aGlzLnBvc3RFeGVjdXRlKCdlbGVtZW50LnVwZGF0ZUxhYmVsJywgZnVuY3Rpb24oY29udGV4dCkge1xuXG4gICAgdmFyIGVsZW1lbnQgPSBjb250ZXh0LmVsZW1lbnQsXG4gICAgICAgIG5ld0xhYmVsID0gY29udGV4dC5uZXdMYWJlbDtcblxuICAgIGlmIChpcyhlbGVtZW50LCAncG9zdGl0OlRleHRCb3gnKSAmJiBpc0VtcHR5KG5ld0xhYmVsKSkge1xuICAgICAgbW9kZWxpbmcucmVtb3ZlRWxlbWVudHMoWyBlbGVtZW50IF0pO1xuICAgIH1cbiAgfSwgdHJ1ZSk7XG5cbiAgZXZlbnRCdXMub24oJ2RpcmVjdEVkaXRpbmcuY2FuY2VsJywgMTAwMSwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgYWN0aXZlID0gZXZlbnQuYWN0aXZlLFxuICAgICAgICBlbGVtZW50ID0gYWN0aXZlLmVsZW1lbnQ7XG5cbiAgICBpZiAoaXMoZWxlbWVudCwgJ3Bvc3RpdDpUZXh0Qm94JykgJiYgaXNFbXB0eShnZXRCdXNpbmVzc09iamVjdChlbGVtZW50KS5uYW1lKSkge1xuICAgICAgZGlyZWN0RWRpdGluZy5fYWN0aXZlID0gZmFsc2U7XG4gICAgICBtb2RlbGluZy5yZW1vdmVFbGVtZW50cyhbIGVsZW1lbnQgXSk7XG4gICAgfVxuICB9KTtcbn1cblxuaW5oZXJpdHMoRW1wdHlUZXh0Qm94QmVoYXZpb3IsIENvbW1hbmRJbnRlcmNlcHRvcik7XG5cbkVtcHR5VGV4dEJveEJlaGF2aW9yLiRpbmplY3QgPSBbXG4gICdldmVudEJ1cycsXG4gICdtb2RlbGluZycsXG4gICdkaXJlY3RFZGl0aW5nJ1xuXTtcblxuXG4vLyBoZWxwZXJzIC8vLy8vLy8vLy9cblxuZnVuY3Rpb24gaXNFbXB0eShsYWJlbCkge1xuICByZXR1cm4gIWxhYmVsIHx8IGxhYmVsID09PSAnJztcbn0iLCJpbXBvcnQgQWRhcHRpdmVMYWJlbFBvc2l0aW9uaW5nQmVoYXZpb3IgZnJvbSAnLi9BZGFwdGl2ZUxhYmVsUG9zaXRpb25pbmdCZWhhdmlvcic7XG5pbXBvcnQgQXBwZW5kQmVoYXZpb3IgZnJvbSAnLi9BcHBlbmRCZWhhdmlvcic7XG5pbXBvcnQgRml4SG92ZXJCZWhhdmlvciBmcm9tICcuL0ZpeEhvdmVyQmVoYXZpb3InO1xuaW1wb3J0IEltcG9ydERvY2tpbmdGaXggZnJvbSAnLi9JbXBvcnREb2NraW5nRml4JztcbmltcG9ydCBMYWJlbEJlaGF2aW9yIGZyb20gJy4vTGFiZWxCZWhhdmlvcic7XG5pbXBvcnQgUmVwbGFjZUVsZW1lbnRCZWhhdmlvdXIgZnJvbSAnLi9SZXBsYWNlRWxlbWVudEJlaGF2aW91cic7XG5pbXBvcnQgVW5jbGFpbUlkQmVoYXZpb3IgZnJvbSAnLi9VbmNsYWltSWRCZWhhdmlvcic7XG5pbXBvcnQgQ3JlYXRlQm9hcmRFbGVtZW50QmVoYXZpb3IgZnJvbSAnLi9DcmVhdGVCb2FyZEVsZW1lbnRCZWhhdmlvcic7XG5pbXBvcnQgRW1wdHlUZXh0Qm94QmVoYXZpb3IgZnJvbSAnLi9FbXB0eVRleHRCb3hCZWhhdmlvcic7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgX19pbml0X186IFtcbiAgICAnYWRhcHRpdmVMYWJlbFBvc2l0aW9uaW5nQmVoYXZpb3InLFxuICAgICdhcHBlbmRCZWhhdmlvcicsXG4gICAgJ2ZpeEhvdmVyQmVoYXZpb3InLFxuICAgICdpbXBvcnREb2NraW5nRml4JyxcbiAgICAnbGFiZWxCZWhhdmlvcicsXG4gICAgJ3JlcGxhY2VFbGVtZW50QmVoYXZpb3VyJyxcbiAgICAndW5jbGFpbUlkQmVoYXZpb3InLFxuICAgICdjcmVhdGVCb2FyZEVsZW1lbnRCZWhhdmlvcicsXG4gICAgJ2VtcHR5VGV4dEJveEJlaGF2aW9yJ1xuICBdLFxuICBhZGFwdGl2ZUxhYmVsUG9zaXRpb25pbmdCZWhhdmlvcjogWyAndHlwZScsIEFkYXB0aXZlTGFiZWxQb3NpdGlvbmluZ0JlaGF2aW9yIF0sXG4gIGFwcGVuZEJlaGF2aW9yOiBbICd0eXBlJywgQXBwZW5kQmVoYXZpb3IgXSxcbiAgZml4SG92ZXJCZWhhdmlvcjogWyAndHlwZScsIEZpeEhvdmVyQmVoYXZpb3IgXSxcbiAgaW1wb3J0RG9ja2luZ0ZpeDogWyAndHlwZScsIEltcG9ydERvY2tpbmdGaXggXSxcbiAgbGFiZWxCZWhhdmlvcjogWyAndHlwZScsIExhYmVsQmVoYXZpb3IgXSxcbiAgcmVwbGFjZUVsZW1lbnRCZWhhdmlvdXI6IFsgJ3R5cGUnLCBSZXBsYWNlRWxlbWVudEJlaGF2aW91ciBdLFxuICB1bmNsYWltSWRCZWhhdmlvcjogWyAndHlwZScsIFVuY2xhaW1JZEJlaGF2aW9yIF0sXG4gIGNyZWF0ZUJvYXJkRWxlbWVudEJlaGF2aW9yOiBbICd0eXBlJywgQ3JlYXRlQm9hcmRFbGVtZW50QmVoYXZpb3IgXSxcbiAgZW1wdHlUZXh0Qm94QmVoYXZpb3I6IFsgJ3R5cGUnLCBFbXB0eVRleHRCb3hCZWhhdmlvciBdXG59O1xuIiwiaW1wb3J0IGluaGVyaXRzIGZyb20gJ2luaGVyaXRzJztcblxuaW1wb3J0IENvbW1hbmRJbnRlcmNlcHRvciBmcm9tICcuLi8uLi9jb21tYW5kL0NvbW1hbmRJbnRlcmNlcHRvcic7XG5cbi8qKlxuICogQSBiYXNpYyBwcm92aWRlciB0aGF0IG1heSBiZSBleHRlbmRlZCB0byBpbXBsZW1lbnQgbW9kZWxpbmcgcnVsZXMuXG4gKlxuICogRXh0ZW5zaW9ucyBzaG91bGQgaW1wbGVtZW50IHRoZSBpbml0IG1ldGhvZCB0byBhY3R1YWxseSBhZGQgdGhlaXIgY3VzdG9tXG4gKiBtb2RlbGluZyBjaGVja3MuIENoZWNrcyBtYXkgYmUgYWRkZWQgdmlhIHRoZSAjYWRkUnVsZShhY3Rpb24sIGZuKSBtZXRob2QuXG4gKlxuICogQHBhcmFtIHtFdmVudEJ1c30gZXZlbnRCdXNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUnVsZVByb3ZpZGVyKGV2ZW50QnVzKSB7XG4gIENvbW1hbmRJbnRlcmNlcHRvci5jYWxsKHRoaXMsIGV2ZW50QnVzKTtcblxuICB0aGlzLmluaXQoKTtcbn1cblxuUnVsZVByb3ZpZGVyLiRpbmplY3QgPSBbICdldmVudEJ1cycgXTtcblxuaW5oZXJpdHMoUnVsZVByb3ZpZGVyLCBDb21tYW5kSW50ZXJjZXB0b3IpO1xuXG5cbi8qKlxuICogQWRkcyBhIG1vZGVsaW5nIHJ1bGUgZm9yIHRoZSBnaXZlbiBhY3Rpb24sIGltcGxlbWVudGVkIHRocm91Z2hcbiAqIGEgY2FsbGJhY2sgZnVuY3Rpb24uXG4gKlxuICogVGhlIGZ1bmN0aW9uIHdpbGwgcmVjZWl2ZSB0aGUgbW9kZWxpbmcgc3BlY2lmaWMgYWN0aW9uIGNvbnRleHRcbiAqIHRvIHBlcmZvcm0gaXRzIGNoZWNrLiBJdCBtdXN0IHJldHVybiBgZmFsc2VgIHRvIGRpc2FsbG93IHRoZVxuICogYWN0aW9uIGZyb20gaGFwcGVuaW5nIG9yIGB0cnVlYCB0byBhbGxvdyB0aGUgYWN0aW9uLlxuICpcbiAqIEEgcnVsZSBwcm92aWRlciBtYXkgcGFzcyBvdmVyIHRoZSBldmFsdWF0aW9uIHRvIGxvd2VyIHByaW9yaXR5XG4gKiBydWxlcyBieSByZXR1cm5pbmcgcmV0dXJuIG5vdGhpbmcgKG9yIDxjb2RlPnVuZGVmaW5lZDwvY29kZT4pLlxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogUmVzaXphYmxlUnVsZXMucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbigpIHtcbiAqXG4gKiAgIFxcLyoqXG4gKiAgICAqIFJldHVybiBgdHJ1ZWAsIGBmYWxzZWAgb3Igbm90aGluZyB0byBkZW5vdGVcbiAqICAgICogX2FsbG93ZWRfLCBfbm90IGFsbG93ZWRfIGFuZCBfY29udGludWUgZXZhbHVhdGluZ18uXG4gKiAgICAqXFwvXG4gKiAgIHRoaXMuYWRkUnVsZSgnc2hhcGUucmVzaXplJywgZnVuY3Rpb24oY29udGV4dCkge1xuICpcbiAqICAgICB2YXIgc2hhcGUgPSBjb250ZXh0LnNoYXBlO1xuICpcbiAqICAgICBpZiAoIWNvbnRleHQubmV3Qm91bmRzKSB7XG4gKiAgICAgICAvLyBjaGVjayBnZW5lcmFsIHJlc2l6YWJpbGl0eVxuICogICAgICAgaWYgKCFzaGFwZS5yZXNpemFibGUpIHtcbiAqICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICogICAgICAgfVxuICpcbiAqICAgICAgIC8vIG5vdCByZXR1cm5pbmcgYW55dGhpbmcgKHJlYWQ6IHVuZGVmaW5lZClcbiAqICAgICAgIC8vIHdpbGwgY29udGludWUgdGhlIGV2YWx1YXRpb24gb2Ygb3RoZXIgcnVsZXNcbiAqICAgICAgIC8vICh3aXRoIGxvd2VyIHByaW9yaXR5KVxuICogICAgICAgcmV0dXJuO1xuICogICAgIH0gZWxzZSB7XG4gKiAgICAgICAvLyBlbGVtZW50IG11c3QgaGF2ZSBtaW5pbXVtIHNpemUgb2YgMTAqMTAgcG9pbnRzXG4gKiAgICAgICByZXR1cm4gY29udGV4dC5uZXdCb3VuZHMud2lkdGggPiAxMCAmJiBjb250ZXh0Lm5ld0JvdW5kcy5oZWlnaHQgPiAxMDtcbiAqICAgICB9XG4gKiAgIH0pO1xuICogfTtcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ3xBcnJheTxzdHJpbmc+fSBhY3Rpb25zIHRoZSBpZGVudGlmaWVyIGZvciB0aGUgbW9kZWxpbmcgYWN0aW9uIHRvIGNoZWNrXG4gKiBAcGFyYW0ge251bWJlcn0gW3ByaW9yaXR5XSB0aGUgcHJpb3JpdHkgYXQgd2hpY2ggdGhpcyBydWxlIGlzIGJlaW5nIGFwcGxpZWRcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIHRoZSBjYWxsYmFjayBmdW5jdGlvbiB0aGF0IHBlcmZvcm1zIHRoZSBhY3R1YWwgY2hlY2tcbiAqL1xuUnVsZVByb3ZpZGVyLnByb3RvdHlwZS5hZGRSdWxlID0gZnVuY3Rpb24oYWN0aW9ucywgcHJpb3JpdHksIGZuKSB7XG5cbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIGlmICh0eXBlb2YgYWN0aW9ucyA9PT0gJ3N0cmluZycpIHtcbiAgICBhY3Rpb25zID0gWyBhY3Rpb25zIF07XG4gIH1cblxuICBhY3Rpb25zLmZvckVhY2goZnVuY3Rpb24oYWN0aW9uKSB7XG5cbiAgICBzZWxmLmNhbkV4ZWN1dGUoYWN0aW9uLCBwcmlvcml0eSwgZnVuY3Rpb24oY29udGV4dCwgYWN0aW9uLCBldmVudCkge1xuICAgICAgcmV0dXJuIGZuKGNvbnRleHQpO1xuICAgIH0sIHRydWUpO1xuICB9KTtcbn07XG5cbi8qKlxuICogSW1wbGVtZW50IHRoaXMgbWV0aG9kIHRvIGFkZCBuZXcgcnVsZXMgZHVyaW5nIHByb3ZpZGVyIGluaXRpYWxpemF0aW9uLlxuICovXG5SdWxlUHJvdmlkZXIucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbigpIHt9OyIsImltcG9ydCB7XG4gIGV2ZXJ5XG59IGZyb20gJ21pbi1kYXNoJztcblxuaW1wb3J0IGluaGVyaXRzIGZyb20gJ2luaGVyaXRzJztcblxuaW1wb3J0IHtcbiAgaXNcbn0gZnJvbSAnLi4vLi4vdXRpbC9Nb2RlbFV0aWwnO1xuXG5pbXBvcnQge1xuICBpc0xhYmVsXG59IGZyb20gJy4uLy4uL3V0aWwvTGFiZWxVdGlsJztcblxuaW1wb3J0IFJ1bGVQcm92aWRlciBmcm9tICdkaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9ydWxlcy9SdWxlUHJvdmlkZXInO1xuaW1wb3J0IHsgaXNBbnkgfSBmcm9tICcuLi9tb2RlbGluZy91dGlsL01vZGVsaW5nVXRpbCc7XG5cblxuLyoqXG4gKiBQb3N0aXQgc3BlY2lmaWMgbW9kZWxpbmcgcnVsZVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBQb3N0aXRSdWxlcyhldmVudEJ1cykge1xuICBSdWxlUHJvdmlkZXIuY2FsbCh0aGlzLCBldmVudEJ1cyk7XG59XG5cbmluaGVyaXRzKFBvc3RpdFJ1bGVzLCBSdWxlUHJvdmlkZXIpO1xuXG5Qb3N0aXRSdWxlcy4kaW5qZWN0ID0gWyAnZXZlbnRCdXMnIF07XG5cblBvc3RpdFJ1bGVzLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24oKSB7XG5cbiAgdGhpcy5hZGRSdWxlKCdzaGFwZS5yZXNpemUnLCBmdW5jdGlvbihjb250ZXh0KSB7XG5cbiAgICB2YXIgc2hhcGUgPSBjb250ZXh0LnNoYXBlLFxuICAgICAgICBuZXdCb3VuZHMgPSBjb250ZXh0Lm5ld0JvdW5kcztcblxuICAgIHJldHVybiBjYW5SZXNpemUoc2hhcGUsIG5ld0JvdW5kcyk7XG4gIH0pO1xuXG4gIHRoaXMuYWRkUnVsZSgnZWxlbWVudHMuY3JlYXRlJywgZnVuY3Rpb24oY29udGV4dCkge1xuICAgIHZhciBlbGVtZW50cyA9IGNvbnRleHQuZWxlbWVudHMsXG4gICAgICAgIHBvc2l0aW9uID0gY29udGV4dC5wb3NpdGlvbixcbiAgICAgICAgdGFyZ2V0ID0gY29udGV4dC50YXJnZXQ7XG5cbiAgICByZXR1cm4gZXZlcnkoZWxlbWVudHMsIGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgIGlmIChlbGVtZW50Lmhvc3QpIHtcbiAgICAgICAgcmV0dXJuIGNhbkF0dGFjaChlbGVtZW50LCBlbGVtZW50Lmhvc3QsIG51bGwsIHBvc2l0aW9uKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNhbkNyZWF0ZShlbGVtZW50LCB0YXJnZXQsIG51bGwsIHBvc2l0aW9uKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgdGhpcy5hZGRSdWxlKCdlbGVtZW50cy5tb3ZlJywgZnVuY3Rpb24oY29udGV4dCkge1xuXG4gICAgdmFyIHRhcmdldCA9IGNvbnRleHQudGFyZ2V0LFxuICAgICAgICBzaGFwZXMgPSBjb250ZXh0LnNoYXBlcyxcbiAgICAgICAgcG9zaXRpb24gPSBjb250ZXh0LnBvc2l0aW9uO1xuXG4gICAgcmV0dXJuIGNhbkF0dGFjaChzaGFwZXMsIHRhcmdldCwgbnVsbCwgcG9zaXRpb24pIHx8XG4gICAgICAgICAgIGNhbk1vdmUoc2hhcGVzLCB0YXJnZXQsIHBvc2l0aW9uKTtcbiAgfSk7XG5cbiAgdGhpcy5hZGRSdWxlKCdzaGFwZS5jcmVhdGUnLCBmdW5jdGlvbihjb250ZXh0KSB7XG4gICAgcmV0dXJuIGNhbkNyZWF0ZShcbiAgICAgIGNvbnRleHQuc2hhcGUsXG4gICAgICBjb250ZXh0LnRhcmdldCxcbiAgICAgIGNvbnRleHQuc291cmNlLFxuICAgICAgY29udGV4dC5wb3NpdGlvblxuICAgICk7XG4gIH0pO1xuXG4gIHRoaXMuYWRkUnVsZSgnc2hhcGUuYXR0YWNoJywgZnVuY3Rpb24oY29udGV4dCkge1xuXG4gICAgcmV0dXJuIGNhbkF0dGFjaChcbiAgICAgIGNvbnRleHQuc2hhcGUsXG4gICAgICBjb250ZXh0LnRhcmdldCxcbiAgICAgIG51bGwsXG4gICAgICBjb250ZXh0LnBvc2l0aW9uXG4gICAgKTtcbiAgfSk7XG5cbiAgdGhpcy5hZGRSdWxlKCdlbGVtZW50LmNvcHknLCBmdW5jdGlvbihjb250ZXh0KSB7XG4gICAgdmFyIGVsZW1lbnQgPSBjb250ZXh0LmVsZW1lbnQsXG4gICAgICAgIGVsZW1lbnRzID0gY29udGV4dC5lbGVtZW50cztcblxuICAgIHJldHVybiBjYW5Db3B5KGVsZW1lbnRzLCBlbGVtZW50KTtcbiAgfSk7XG59O1xuXG5Qb3N0aXRSdWxlcy5wcm90b3R5cGUuY2FuTW92ZSA9IGNhbk1vdmU7XG5cblBvc3RpdFJ1bGVzLnByb3RvdHlwZS5jYW5BdHRhY2ggPSBjYW5BdHRhY2g7XG5cblBvc3RpdFJ1bGVzLnByb3RvdHlwZS5jYW5Ecm9wID0gY2FuRHJvcDtcblxuUG9zdGl0UnVsZXMucHJvdG90eXBlLmNhbkNyZWF0ZSA9IGNhbkNyZWF0ZTtcblxuUG9zdGl0UnVsZXMucHJvdG90eXBlLmNhblJlcGxhY2UgPSBjYW5SZXBsYWNlO1xuXG5Qb3N0aXRSdWxlcy5wcm90b3R5cGUuY2FuUmVzaXplID0gY2FuUmVzaXplO1xuXG5Qb3N0aXRSdWxlcy5wcm90b3R5cGUuY2FuQ29weSA9IGNhbkNvcHk7XG5cbi8qKlxuICogVXRpbGl0eSBmdW5jdGlvbnMgZm9yIHJ1bGUgY2hlY2tpbmdcbiAqL1xuXG5mdW5jdGlvbiBpc1NhbWUoYSwgYikge1xuICByZXR1cm4gYSA9PT0gYjtcbn1cblxuZnVuY3Rpb24gZ2V0UGFyZW50cyhlbGVtZW50KSB7XG5cbiAgdmFyIHBhcmVudHMgPSBbXTtcblxuICB3aGlsZSAoZWxlbWVudCkge1xuICAgIGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudDtcblxuICAgIGlmIChlbGVtZW50KSB7XG4gICAgICBwYXJlbnRzLnB1c2goZWxlbWVudCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHBhcmVudHM7XG59XG5cbmZ1bmN0aW9uIGlzUGFyZW50KHBvc3NpYmxlUGFyZW50LCBlbGVtZW50KSB7XG4gIHZhciBhbGxQYXJlbnRzID0gZ2V0UGFyZW50cyhlbGVtZW50KTtcbiAgcmV0dXJuIGFsbFBhcmVudHMuaW5kZXhPZihwb3NzaWJsZVBhcmVudCkgIT09IC0xO1xufVxuXG5mdW5jdGlvbiBpc0dyb3VwKGVsZW1lbnQpIHtcbiAgcmV0dXJuIGlzKGVsZW1lbnQsICdwb3N0aXQ6R3JvdXAnKSAmJiAhZWxlbWVudC5sYWJlbFRhcmdldDtcbn1cblxuLyoqXG4gKiBDYW4gYW4gZWxlbWVudCBiZSBkcm9wcGVkIGludG8gdGhlIHRhcmdldCBlbGVtZW50XG4gKlxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gY2FuRHJvcChlbGVtZW50LCB0YXJnZXQpIHtcblxuICAvLyBjYW4gbW92ZSBsYWJlbHNcbiAgaWYgKGlzTGFiZWwoZWxlbWVudCkgfHwgaXNHcm91cChlbGVtZW50KSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLy8gZHJvcCBib2FyZCBlbGVtZW50cyBvbnRvIGJvYXJkc1xuICBpZiAoaXMoZWxlbWVudCwgJ3Bvc3RpdDpCb2FyZEVsZW1lbnQnKSAmJiBpcyh0YXJnZXQsICdwb3N0aXQ6UG9zdGl0Qm9hcmQnKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBjYW5SZXBsYWNlKGVsZW1lbnRzLCB0YXJnZXQpIHtcblxuICBpZiAoIXRhcmdldCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuXG5cbmZ1bmN0aW9uIGNhbkF0dGFjaChlbGVtZW50cywgdGFyZ2V0KSB7XG5cbiAgaWYgKCFBcnJheS5pc0FycmF5KGVsZW1lbnRzKSkge1xuICAgIGVsZW1lbnRzID0gWyBlbGVtZW50cyBdO1xuICB9XG5cbiAgLy8gb25seSAocmUtKWF0dGFjaCBvbmUgZWxlbWVudCBhdCBhIHRpbWVcbiAgaWYgKGVsZW1lbnRzLmxlbmd0aCAhPT0gMSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHZhciBlbGVtZW50ID0gZWxlbWVudHNbMF07XG5cbiAgLy8gZG8gbm90IGF0dGFjaCBsYWJlbHNcbiAgaWYgKGlzTGFiZWwoZWxlbWVudCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAoaXModGFyZ2V0LCAncG9zdGl0OkJvYXJkRWxlbWVudCcpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuICdhdHRhY2gnO1xufVxuXG5cbmZ1bmN0aW9uIGNhbk1vdmUoZWxlbWVudHMsIHRhcmdldCkge1xuXG4gIC8vIGFsbG93IGRlZmF1bHQgbW92ZSBjaGVjayB0byBzdGFydCBtb3ZlIG9wZXJhdGlvblxuICBpZiAoIXRhcmdldCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIGVsZW1lbnRzLmV2ZXJ5KGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICByZXR1cm4gY2FuRHJvcChlbGVtZW50LCB0YXJnZXQpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gY2FuQ3JlYXRlKHNoYXBlLCB0YXJnZXQsIHNvdXJjZSwgcG9zaXRpb24pIHtcblxuICBpZiAoIXRhcmdldCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmIChpc0xhYmVsKHNoYXBlKSB8fCBpc0dyb3VwKHNoYXBlKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgaWYgKGlzU2FtZShzb3VyY2UsIHRhcmdldCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvLyBlbnN1cmUgd2UgZG8gbm90IGRyb3AgdGhlIGVsZW1lbnRcbiAgLy8gaW50byBzb3VyY2VcbiAgaWYgKHNvdXJjZSAmJiBpc1BhcmVudChzb3VyY2UsIHRhcmdldCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gY2FuRHJvcChzaGFwZSwgdGFyZ2V0LCBwb3NpdGlvbik7XG59XG5cbmZ1bmN0aW9uIGNhblJlc2l6ZShzaGFwZSwgbmV3Qm91bmRzKSB7XG5cbiAgaWYgKGlzQW55KHNoYXBlLCBbICdwb3N0aXQ6UG9zdGl0JywgJ3Bvc3RpdDpUZXh0Qm94JyBdKSkge1xuICAgIHJldHVybiAhbmV3Qm91bmRzIHx8IChuZXdCb3VuZHMud2lkdGggPj0gNTAgJiYgbmV3Qm91bmRzLmhlaWdodCA+PSA1MCk7XG4gIH1cblxuICBpZiAoaXMoc2hhcGUsICdwb3N0aXQ6R3JvdXAnKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgaWYgKGlzKHNoYXBlLCAncG9zdGl0OkltYWdlJykpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gY2FuQ29weShlbGVtZW50cywgZWxlbWVudCkge1xuICByZXR1cm4gdHJ1ZTtcbn1cbiIsImltcG9ydCBSdWxlc01vZHVsZSBmcm9tICdkaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9ydWxlcyc7XG5cbmltcG9ydCBQb3N0aXRSdWxlcyBmcm9tICcuL1Bvc3RpdFJ1bGVzJztcblxuZXhwb3J0IGRlZmF1bHQge1xuICBfX2RlcGVuZHNfXzogW1xuICAgIFJ1bGVzTW9kdWxlXG4gIF0sXG4gIF9faW5pdF9fOiBbICdwb3N0aXRSdWxlcycgXSxcbiAgcG9zdGl0UnVsZXM6IFsgJ3R5cGUnLCBQb3N0aXRSdWxlcyBdXG59O1xuIiwiaW1wb3J0IHsgZ2V0RGkgfSBmcm9tICcuLi8uLi9kcmF3L1Bvc3RpdFJlbmRlcmVyVXRpbCc7XG5pbXBvcnQgeyBnZXRCdXNpbmVzc09iamVjdCB9IGZyb20gJy4uLy4uL3V0aWwvTW9kZWxVdGlsJztcblxuaW1wb3J0IHtcbiAgZmlsdGVyLFxuICBtYXBcbn0gZnJvbSAnbWluLWRhc2gnO1xuXG5pbXBvcnQgeyBzZWxmQW5kQWxsQ2hpbGRyZW4gfSBmcm9tICdkaWFncmFtLWpzL2xpYi91dGlsL0VsZW1lbnRzJztcblxuXG52YXIgSElHSF9QUklPUklUWSA9IDIwMDA7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFBvc3RpdERpT3JkZXJpbmcoZXZlbnRCdXMsIGNhbnZhcykge1xuXG4gIGV2ZW50QnVzLm9uKCdzYXZlWE1MLnN0YXJ0JywgSElHSF9QUklPUklUWSwgb3JkZXJEaSk7XG5cbiAgZnVuY3Rpb24gb3JkZXJEaSgpIHtcbiAgICB2YXIgcm9vdCA9IGNhbnZhcy5nZXRSb290RWxlbWVudCgpLFxuICAgICAgICByb290RGkgPSBnZXRCdXNpbmVzc09iamVjdChyb290KS5kaSxcbiAgICAgICAgZWxlbWVudHMsXG4gICAgICAgIGRpRWxlbWVudHM7XG5cbiAgICBlbGVtZW50cyA9IHNlbGZBbmRBbGxDaGlsZHJlbihbIHJvb3QgXSwgZmFsc2UpO1xuXG4gICAgLy8gb25seSBwb3N0aXREaTpTaGFwZSBjYW4gYmUgZGlyZWN0IGNoaWxkcmVuIG9mIHBvc3RpdERpOlBsYW5lXG4gICAgZWxlbWVudHMgPSBmaWx0ZXIoZWxlbWVudHMsIGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgIHJldHVybiBlbGVtZW50ICE9PSByb290ICYmICFlbGVtZW50LmxhYmVsVGFyZ2V0O1xuICAgIH0pO1xuXG4gICAgZGlFbGVtZW50cyA9IG1hcChlbGVtZW50cywgZ2V0RGkpO1xuXG4gICAgcm9vdERpLnNldCgncGxhbmVFbGVtZW50JywgZGlFbGVtZW50cyk7XG4gIH1cbn1cblxuUG9zdGl0RGlPcmRlcmluZy4kaW5qZWN0ID0gWyAnZXZlbnRCdXMnLCAnY2FudmFzJyBdO1xuIiwiaW1wb3J0IFBvc3RpdERpT3JkZXJpbmcgZnJvbSAnLi9Qb3N0aXREaU9yZGVyaW5nJztcblxuZXhwb3J0IGRlZmF1bHQge1xuICBfX2luaXRfXzogW1xuICAgICdwb3N0aXREaU9yZGVyaW5nJ1xuICBdLFxuICBwb3N0aXREaU9yZGVyaW5nOiBbICd0eXBlJywgUG9zdGl0RGlPcmRlcmluZyBdXG59OyIsImltcG9ydCBpbmhlcml0cyBmcm9tICdpbmhlcml0cyc7XG5cbmltcG9ydCBDb21tYW5kSW50ZXJjZXB0b3IgZnJvbSAnLi4vLi4vY29tbWFuZC9Db21tYW5kSW50ZXJjZXB0b3InO1xuXG5cbi8qKlxuICogQW4gYWJzdHJhY3QgcHJvdmlkZXIgdGhhdCBhbGxvd3MgbW9kZWxlcnMgdG8gaW1wbGVtZW50IGEgY3VzdG9tXG4gKiBvcmRlcmluZyBvZiBkaWFncmFtIGVsZW1lbnRzIG9uIHRoZSBjYW52YXMuXG4gKlxuICogSXQgbWFrZXMgc3VyZSB0aGF0IHRoZSBvcmRlciBpcyBhbHdheXMgcHJlc2VydmVkIGR1cmluZyBlbGVtZW50XG4gKiBjcmVhdGlvbiBhbmQgbW92ZSBvcGVyYXRpb25zLlxuICpcbiAqIEluIG9yZGVyIHRvIHVzZSB0aGlzIGJlaGF2aW9yLCBpbmhlcml0IGZyb20gaXQgYW5kIG92ZXJyaWRlXG4gKiB0aGUgbWV0aG9kIHtAbGluayBPcmRlcmluZ1Byb3ZpZGVyI2dldE9yZGVyaW5nfS5cbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIGBgYGphdmFzY3JpcHRcbiAqIGZ1bmN0aW9uIEN1c3RvbU9yZGVyaW5nUHJvdmlkZXIoZXZlbnRCdXMpIHtcbiAqICAgT3JkZXJpbmdQcm92aWRlci5jYWxsKHRoaXMsIGV2ZW50QnVzKTtcbiAqXG4gKiAgIHRoaXMuZ2V0T3JkZXJpbmcgPSBmdW5jdGlvbihlbGVtZW50LCBuZXdQYXJlbnQpIHtcbiAqICAgICAvLyBhbHdheXMgaW5zZXJ0IGVsZW1lbnRzIGF0IHRoZSBmcm9udFxuICogICAgIC8vIHdoZW4gbW92aW5nXG4gKiAgICAgcmV0dXJuIHtcbiAqICAgICAgIGluZGV4OiAwLFxuICogICAgICAgcGFyZW50OiBuZXdQYXJlbnRcbiAqICAgICB9O1xuICogICB9O1xuICogfVxuICogYGBgXG4gKlxuICogQHBhcmFtIHtFdmVudEJ1c30gZXZlbnRCdXNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gT3JkZXJpbmdQcm92aWRlcihldmVudEJ1cykge1xuXG4gIENvbW1hbmRJbnRlcmNlcHRvci5jYWxsKHRoaXMsIGV2ZW50QnVzKTtcblxuXG4gIHZhciBzZWxmID0gdGhpcztcblxuICB0aGlzLnByZUV4ZWN1dGUoWyAnc2hhcGUuY3JlYXRlJywgJ2Nvbm5lY3Rpb24uY3JlYXRlJyBdLCBmdW5jdGlvbihldmVudCkge1xuXG4gICAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0LFxuICAgICAgICBlbGVtZW50ID0gY29udGV4dC5zaGFwZSB8fCBjb250ZXh0LmNvbm5lY3Rpb24sXG4gICAgICAgIHBhcmVudCA9IGNvbnRleHQucGFyZW50O1xuXG4gICAgdmFyIG9yZGVyaW5nID0gc2VsZi5nZXRPcmRlcmluZyhlbGVtZW50LCBwYXJlbnQpO1xuXG4gICAgaWYgKG9yZGVyaW5nKSB7XG5cbiAgICAgIGlmIChvcmRlcmluZy5wYXJlbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZXh0LnBhcmVudCA9IG9yZGVyaW5nLnBhcmVudDtcbiAgICAgIH1cblxuICAgICAgY29udGV4dC5wYXJlbnRJbmRleCA9IG9yZGVyaW5nLmluZGV4O1xuICAgIH1cbiAgfSk7XG5cbiAgdGhpcy5wcmVFeGVjdXRlKFsgJ3NoYXBlLm1vdmUnLCAnY29ubmVjdGlvbi5tb3ZlJyBdLCBmdW5jdGlvbihldmVudCkge1xuXG4gICAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0LFxuICAgICAgICBlbGVtZW50ID0gY29udGV4dC5zaGFwZSB8fCBjb250ZXh0LmNvbm5lY3Rpb24sXG4gICAgICAgIHBhcmVudCA9IGNvbnRleHQubmV3UGFyZW50IHx8IGVsZW1lbnQucGFyZW50O1xuXG4gICAgdmFyIG9yZGVyaW5nID0gc2VsZi5nZXRPcmRlcmluZyhlbGVtZW50LCBwYXJlbnQpO1xuXG4gICAgaWYgKG9yZGVyaW5nKSB7XG5cbiAgICAgIGlmIChvcmRlcmluZy5wYXJlbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZXh0Lm5ld1BhcmVudCA9IG9yZGVyaW5nLnBhcmVudDtcbiAgICAgIH1cblxuICAgICAgY29udGV4dC5uZXdQYXJlbnRJbmRleCA9IG9yZGVyaW5nLmluZGV4O1xuICAgIH1cbiAgfSk7XG59XG5cbi8qKlxuICogUmV0dXJuIGEgY3VzdG9tIG9yZGVyaW5nIG9mIHRoZSBlbGVtZW50LCBib3RoIGluIHRlcm1zXG4gKiBvZiBwYXJlbnQgZWxlbWVudCBhbmQgaW5kZXggaW4gdGhlIG5ldyBwYXJlbnQuXG4gKlxuICogSW1wbGVtZW50b3JzIG9mIHRoaXMgbWV0aG9kIG11c3QgcmV0dXJuIGFuIG9iamVjdCB3aXRoXG4gKiBgcGFyZW50YCBfYW5kXyBgaW5kZXhgIGluIGl0LlxuICpcbiAqIEBwYXJhbSB7ZGpzLm1vZGVsLkJhc2V9IGVsZW1lbnRcbiAqIEBwYXJhbSB7ZGpzLm1vZGVsLlNoYXBlfSBuZXdQYXJlbnRcbiAqXG4gKiBAcmV0dXJuIHtPYmplY3R9IG9yZGVyaW5nIGRlc2NyaXB0b3JcbiAqL1xuT3JkZXJpbmdQcm92aWRlci5wcm90b3R5cGUuZ2V0T3JkZXJpbmcgPSBmdW5jdGlvbihlbGVtZW50LCBuZXdQYXJlbnQpIHtcbiAgcmV0dXJuIG51bGw7XG59O1xuXG5pbmhlcml0cyhPcmRlcmluZ1Byb3ZpZGVyLCBDb21tYW5kSW50ZXJjZXB0b3IpOyIsImltcG9ydCBpbmhlcml0cyBmcm9tICdpbmhlcml0cyc7XG5cbmltcG9ydCBPcmRlcmluZ1Byb3ZpZGVyIGZyb20gJ2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL29yZGVyaW5nL09yZGVyaW5nUHJvdmlkZXInO1xuXG5pbXBvcnQge1xuICBpc0FueVxufSBmcm9tICcuLi9tb2RlbGluZy91dGlsL01vZGVsaW5nVXRpbCc7XG5cbmltcG9ydCB7XG4gIGZpbmRJbmRleCxcbiAgZmluZFxufSBmcm9tICdtaW4tZGFzaCc7XG5cblxuLyoqXG4gKiBhIHNpbXBsZSBvcmRlcmluZyBwcm92aWRlciB0aGF0IG1ha2VzIHN1cmU6XG4gKlxuICogKDApIGxhYmVscyBhbmQgZ3JvdXBzIGFyZSByZW5kZXJlZCBhbHdheXMgb24gdG9wXG4gKiAoMSkgZWxlbWVudHMgYXJlIG9yZGVyZWQgYnkgYSB7bGV2ZWx9IHByb3BlcnR5XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFBvc3RpdE9yZGVyaW5nUHJvdmlkZXIoZXZlbnRCdXMsIGNhbnZhcywgdHJhbnNsYXRlKSB7XG5cbiAgT3JkZXJpbmdQcm92aWRlci5jYWxsKHRoaXMsIGV2ZW50QnVzKTtcblxuICB2YXIgb3JkZXJzID0gW1xuICAgIHsgdHlwZTogJ3Bvc3RpdDpCb2FyZEVsZW1lbnQnLCBvcmRlcjogeyBsZXZlbDogNSB9IH1cbiAgXTtcblxuICBmdW5jdGlvbiBjb21wdXRlT3JkZXIoZWxlbWVudCkge1xuICAgIGlmIChlbGVtZW50LmxhYmVsVGFyZ2V0KSB7XG4gICAgICByZXR1cm4geyBsZXZlbDogMTAgfTtcbiAgICB9XG5cbiAgICB2YXIgZW50cnkgPSBmaW5kKG9yZGVycywgZnVuY3Rpb24obykge1xuICAgICAgcmV0dXJuIGlzQW55KGVsZW1lbnQsIFsgby50eXBlIF0pO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIGVudHJ5ICYmIGVudHJ5Lm9yZGVyIHx8IHsgbGV2ZWw6IDEgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldE9yZGVyKGVsZW1lbnQpIHtcblxuICAgIHZhciBvcmRlciA9IGVsZW1lbnQub3JkZXI7XG5cbiAgICBpZiAoIW9yZGVyKSB7XG4gICAgICBlbGVtZW50Lm9yZGVyID0gb3JkZXIgPSBjb21wdXRlT3JkZXIoZWxlbWVudCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG9yZGVyO1xuICB9XG5cbiAgZnVuY3Rpb24gZmluZEFjdHVhbFBhcmVudChlbGVtZW50LCBuZXdQYXJlbnQsIGNvbnRhaW5lcnMpIHtcblxuICAgIHZhciBhY3R1YWxQYXJlbnQgPSBuZXdQYXJlbnQ7XG5cbiAgICB3aGlsZSAoYWN0dWFsUGFyZW50KSB7XG5cbiAgICAgIGlmIChpc0FueShhY3R1YWxQYXJlbnQsIGNvbnRhaW5lcnMpKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBhY3R1YWxQYXJlbnQgPSBhY3R1YWxQYXJlbnQucGFyZW50O1xuICAgIH1cblxuICAgIGlmICghYWN0dWFsUGFyZW50KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IodHJhbnNsYXRlKCdubyBwYXJlbnQgZm9yIHtlbGVtZW50fSBpbiB7cGFyZW50fScsIHtcbiAgICAgICAgZWxlbWVudDogZWxlbWVudC5pZCxcbiAgICAgICAgcGFyZW50OiBuZXdQYXJlbnQuaWRcbiAgICAgIH0pKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYWN0dWFsUGFyZW50O1xuICB9XG5cbiAgdGhpcy5nZXRPcmRlcmluZyA9IGZ1bmN0aW9uKGVsZW1lbnQsIG5ld1BhcmVudCkge1xuXG4gICAgLy8gcmVuZGVyIGxhYmVscyBhbHdheXMgb24gdG9wXG4gICAgaWYgKGVsZW1lbnQubGFiZWxUYXJnZXQpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHBhcmVudDogY2FudmFzLmdldFJvb3RFbGVtZW50KCksXG4gICAgICAgIGluZGV4OiAtMVxuICAgICAgfTtcbiAgICB9XG5cbiAgICB2YXIgZWxlbWVudE9yZGVyID0gZ2V0T3JkZXIoZWxlbWVudCk7XG5cblxuICAgIGlmIChlbGVtZW50T3JkZXIuY29udGFpbmVycykge1xuICAgICAgbmV3UGFyZW50ID0gZmluZEFjdHVhbFBhcmVudChlbGVtZW50LCBuZXdQYXJlbnQsIGVsZW1lbnRPcmRlci5jb250YWluZXJzKTtcbiAgICB9XG5cblxuICAgIHZhciBjdXJyZW50SW5kZXggPSBuZXdQYXJlbnQuY2hpbGRyZW4uaW5kZXhPZihlbGVtZW50KTtcblxuICAgIHZhciBpbnNlcnRJbmRleCA9IGZpbmRJbmRleChuZXdQYXJlbnQuY2hpbGRyZW4sIGZ1bmN0aW9uKGNoaWxkKSB7XG5cbiAgICAgIC8vIGRvIG5vdCBjb21wYXJlIHdpdGggbGFiZWxzLCB0aGV5IGFyZSBjcmVhdGVkXG4gICAgICAvLyBpbiB0aGUgd3Jvbmcgb3JkZXIgKHJpZ2h0IGFmdGVyIGVsZW1lbnRzKSBkdXJpbmcgaW1wb3J0IGFuZFxuICAgICAgLy8gbWVzcyB1cCB0aGUgcG9zaXRpb25pbmcuXG4gICAgICBpZiAoIWVsZW1lbnQubGFiZWxUYXJnZXQgJiYgY2hpbGQubGFiZWxUYXJnZXQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZWxlbWVudE9yZGVyLmxldmVsIDwgZ2V0T3JkZXIoY2hpbGQpLmxldmVsO1xuICAgIH0pO1xuXG5cbiAgICAvLyBpZiB0aGUgZWxlbWVudCBpcyBhbHJlYWR5IGluIHRoZSBjaGlsZCBsaXN0IGF0XG4gICAgLy8gYSBzbWFsbGVyIGluZGV4LCB3ZSBuZWVkIHRvIGFkanVzdCB0aGUgaW5zZXJ0IGluZGV4LlxuICAgIC8vIHRoaXMgdGFrZXMgaW50byBhY2NvdW50IHRoYXQgdGhlIGVsZW1lbnQgaXMgYmVpbmcgcmVtb3ZlZFxuICAgIC8vIGJlZm9yZSBiZWluZyByZS1pbnNlcnRlZFxuICAgIGlmIChpbnNlcnRJbmRleCAhPT0gLTEpIHtcbiAgICAgIGlmIChjdXJyZW50SW5kZXggIT09IC0xICYmIGN1cnJlbnRJbmRleCA8IGluc2VydEluZGV4KSB7XG4gICAgICAgIGluc2VydEluZGV4IC09IDE7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGluZGV4OiBpbnNlcnRJbmRleCxcbiAgICAgIHBhcmVudDogbmV3UGFyZW50XG4gICAgfTtcbiAgfTtcbn1cblxuUG9zdGl0T3JkZXJpbmdQcm92aWRlci4kaW5qZWN0ID0gWyAnZXZlbnRCdXMnLCAnY2FudmFzJywgJ3RyYW5zbGF0ZScgXTtcblxuaW5oZXJpdHMoUG9zdGl0T3JkZXJpbmdQcm92aWRlciwgT3JkZXJpbmdQcm92aWRlcik7IiwiaW1wb3J0IHRyYW5zbGF0ZSBmcm9tICdkaWFncmFtLWpzL2xpYi9pMThuL3RyYW5zbGF0ZSc7XG5cbmltcG9ydCBQb3N0aXRPcmRlcmluZ1Byb3ZpZGVyIGZyb20gJy4vUG9zdGl0T3JkZXJpbmdQcm92aWRlcic7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgX19kZXBlbmRzX186IFtcbiAgICB0cmFuc2xhdGVcbiAgXSxcbiAgX19pbml0X186IFsgJ3Bvc3RpdE9yZGVyaW5nUHJvdmlkZXInIF0sXG4gIHBvc3RpdE9yZGVyaW5nUHJvdmlkZXI6IFsgJ3R5cGUnLCBQb3N0aXRPcmRlcmluZ1Byb3ZpZGVyIF1cbn07IiwiaW1wb3J0IHtcbiAgdW5pcXVlQnksXG4gIGlzQXJyYXlcbn0gZnJvbSAnbWluLWRhc2gnO1xuXG5cbi8qKlxuICogQSBzZXJ2aWNlIHRoYXQgb2ZmZXJzIHVuLSBhbmQgcmVkb2FibGUgZXhlY3V0aW9uIG9mIGNvbW1hbmRzLlxuICpcbiAqIFRoZSBjb21tYW5kIHN0YWNrIGlzIHJlc3BvbnNpYmxlIGZvciBleGVjdXRpbmcgbW9kZWxpbmcgYWN0aW9uc1xuICogaW4gYSB1bi0gYW5kIHJlZG9hYmxlIG1hbm5lci4gVG8gZG8gdGhpcyBpdCBkZWxlZ2F0ZXMgdGhlIGFjdHVhbFxuICogY29tbWFuZCBleGVjdXRpb24gdG8ge0BsaW5rIENvbW1hbmRIYW5kbGVyfXMuXG4gKlxuICogQ29tbWFuZCBoYW5kbGVycyBwcm92aWRlIHtAbGluayBDb21tYW5kSGFuZGxlciNleGVjdXRlKGN0eCl9IGFuZFxuICoge0BsaW5rIENvbW1hbmRIYW5kbGVyI3JldmVydChjdHgpfSBtZXRob2RzIHRvIHVuLSBhbmQgcmVkbyBhIGNvbW1hbmRcbiAqIGlkZW50aWZpZWQgYnkgYSBjb21tYW5kIGNvbnRleHQuXG4gKlxuICpcbiAqICMjIExpZmUtQ3ljbGUgZXZlbnRzXG4gKlxuICogSW4gdGhlIHByb2Nlc3MgdGhlIGNvbW1hbmQgc3RhY2sgZmlyZXMgYSBudW1iZXIgb2YgbGlmZS1jeWNsZSBldmVudHNcbiAqIHRoYXQgb3RoZXIgY29tcG9uZW50cyB0byBwYXJ0aWNpcGF0ZSBpbiB0aGUgY29tbWFuZCBleGVjdXRpb24uXG4gKlxuICogICAgKiBwcmVFeGVjdXRlXG4gKiAgICAqIHByZUV4ZWN1dGVkXG4gKiAgICAqIGV4ZWN1dGVcbiAqICAgICogZXhlY3V0ZWRcbiAqICAgICogcG9zdEV4ZWN1dGVcbiAqICAgICogcG9zdEV4ZWN1dGVkXG4gKiAgICAqIHJldmVydFxuICogICAgKiByZXZlcnRlZFxuICpcbiAqIEEgc3BlY2lhbCBldmVudCBpcyB1c2VkIGZvciB2YWxpZGF0aW5nLCB3aGV0aGVyIGEgY29tbWFuZCBjYW4gYmVcbiAqIHBlcmZvcm1lZCBwcmlvciB0byBpdHMgZXhlY3V0aW9uLlxuICpcbiAqICAgICogY2FuRXhlY3V0ZVxuICpcbiAqIEVhY2ggb2YgdGhlIGV2ZW50cyBpcyBmaXJlZCBhcyBgY29tbWFuZFN0YWNrLntldmVudE5hbWV9YCBhbmRcbiAqIGBjb21tYW5kU3RhY2sue2NvbW1hbmROYW1lfS57ZXZlbnROYW1lfWAsIHJlc3BlY3RpdmVseS4gVGhpcyBnaXZlc1xuICogY29tcG9uZW50cyBmaW5lIGdyYWluZWQgY29udHJvbCBvbiB3aGVyZSB0byBob29rIGludG8uXG4gKlxuICogVGhlIGV2ZW50IG9iamVjdCBmaXJlZCB0cmFuc3BvcnRzIGBjb21tYW5kYCwgdGhlIG5hbWUgb2YgdGhlXG4gKiBjb21tYW5kIGFuZCBgY29udGV4dGAsIHRoZSBjb21tYW5kIGNvbnRleHQuXG4gKlxuICpcbiAqICMjIENyZWF0aW5nIENvbW1hbmQgSGFuZGxlcnNcbiAqXG4gKiBDb21tYW5kIGhhbmRsZXJzIHNob3VsZCBwcm92aWRlIHRoZSB7QGxpbmsgQ29tbWFuZEhhbmRsZXIjZXhlY3V0ZShjdHgpfVxuICogYW5kIHtAbGluayBDb21tYW5kSGFuZGxlciNyZXZlcnQoY3R4KX0gbWV0aG9kcyB0byBpbXBsZW1lbnRcbiAqIHJlZG9pbmcgYW5kIHVuZG9pbmcgb2YgYSBjb21tYW5kLlxuICpcbiAqIEEgY29tbWFuZCBoYW5kbGVyIF9tdXN0XyBlbnN1cmUgdW5kbyBpcyBwZXJmb3JtZWQgcHJvcGVybHkgaW4gb3JkZXJcbiAqIG5vdCB0byBicmVhayB0aGUgdW5kbyBjaGFpbi4gSXQgbXVzdCBhbHNvIHJldHVybiB0aGUgc2hhcGVzIHRoYXRcbiAqIGdvdCBjaGFuZ2VkIGR1cmluZyB0aGUgYGV4ZWN1dGVgIGFuZCBgcmV2ZXJ0YCBvcGVyYXRpb25zLlxuICpcbiAqIENvbW1hbmQgaGFuZGxlcnMgbWF5IGV4ZWN1dGUgb3RoZXIgbW9kZWxpbmcgb3BlcmF0aW9ucyAoYW5kIHRodXNcbiAqIGNvbW1hbmRzKSBpbiB0aGVpciBgcHJlRXhlY3V0ZWAgYW5kIGBwb3N0RXhlY3V0ZWAgcGhhc2VzLiBUaGUgY29tbWFuZFxuICogc3RhY2sgd2lsbCBwcm9wZXJseSBncm91cCBhbGwgY29tbWFuZHMgdG9nZXRoZXIgaW50byBhIGxvZ2ljYWwgdW5pdFxuICogdGhhdCBtYXkgYmUgcmUtIGFuZCB1bmRvbmUgYXRvbWljYWxseS5cbiAqXG4gKiBDb21tYW5kIGhhbmRsZXJzIG11c3Qgbm90IGV4ZWN1dGUgb3RoZXIgY29tbWFuZHMgZnJvbSB3aXRoaW4gdGhlaXJcbiAqIGNvcmUgaW1wbGVtZW50YXRpb24gKGBleGVjdXRlYCwgYHJldmVydGApLlxuICpcbiAqXG4gKiAjIyBDaGFuZ2UgVHJhY2tpbmdcbiAqXG4gKiBEdXJpbmcgdGhlIGV4ZWN1dGlvbiBvZiB0aGUgQ29tbWFuZFN0YWNrIGl0IHdpbGwga2VlcCB0cmFjayBvZiBhbGxcbiAqIGVsZW1lbnRzIHRoYXQgaGF2ZSBiZWVuIHRvdWNoZWQgZHVyaW5nIHRoZSBjb21tYW5kJ3MgZXhlY3V0aW9uLlxuICpcbiAqIEF0IHRoZSBlbmQgb2YgdGhlIENvbW1hbmRTdGFjayBleGVjdXRpb24gaXQgd2lsbCBub3RpZnkgaW50ZXJlc3RlZFxuICogY29tcG9uZW50cyB2aWEgYW4gJ2VsZW1lbnRzLmNoYW5nZWQnIGV2ZW50IHdpdGggYWxsIHRoZSBkaXJ0eVxuICogZWxlbWVudHMuXG4gKlxuICogVGhlIGV2ZW50IGNhbiBiZSBwaWNrZWQgdXAgYnkgY29tcG9uZW50cyB0aGF0IGFyZSBpbnRlcmVzdGVkIGluIHRoZSBmYWN0XG4gKiB0aGF0IGVsZW1lbnRzIGhhdmUgYmVlbiBjaGFuZ2VkLiBPbmUgdXNlIGNhc2UgZm9yIHRoaXMgaXMgdXBkYXRpbmdcbiAqIHRoZWlyIGdyYXBoaWNhbCByZXByZXNlbnRhdGlvbiBhZnRlciBtb3ZpbmcgLyByZXNpemluZyBvciBkZWxldGlvbi5cbiAqXG4gKiBAc2VlIENvbW1hbmRIYW5kbGVyXG4gKlxuICogQHBhcmFtIHtFdmVudEJ1c30gZXZlbnRCdXNcbiAqIEBwYXJhbSB7SW5qZWN0b3J9IGluamVjdG9yXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENvbW1hbmRTdGFjayhldmVudEJ1cywgaW5qZWN0b3IpIHtcblxuICAvKipcbiAgICogQSBtYXAgb2YgYWxsIHJlZ2lzdGVyZWQgY29tbWFuZCBoYW5kbGVycy5cbiAgICpcbiAgICogQHR5cGUge09iamVjdH1cbiAgICovXG4gIHRoaXMuX2hhbmRsZXJNYXAgPSB7fTtcblxuICAvKipcbiAgICogQSBzdGFjayBjb250YWluaW5nIGFsbCByZS91bmRvYWJsZSBhY3Rpb25zIG9uIHRoZSBkaWFncmFtXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxPYmplY3Q+fVxuICAgKi9cbiAgdGhpcy5fc3RhY2sgPSBbXTtcblxuICAvKipcbiAgICogVGhlIGN1cnJlbnQgaW5kZXggb24gdGhlIHN0YWNrXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqL1xuICB0aGlzLl9zdGFja0lkeCA9IC0xO1xuXG4gIC8qKlxuICAgKiBDdXJyZW50IGFjdGl2ZSBjb21tYW5kU3RhY2sgZXhlY3V0aW9uXG4gICAqXG4gICAqIEB0eXBlIHtPYmplY3R9XG4gICAqIEBwcm9wZXJ0eSB7T2JqZWN0W119IGFjdGlvbnNcbiAgICogQHByb3BlcnR5IHtPYmplY3RbXX0gZGlydHlcbiAgICogQHByb3BlcnR5IHsgJ3VuZG8nIHwgJ3JlZG8nIHwgJ2NsZWFyJyB8ICdleGVjdXRlJyB8IG51bGwgfSB0cmlnZ2VyIHRoZSBjYXVzZSBvZiB0aGUgY3VycmVudCBleGNlY3V0aW9uXG4gICAqL1xuICB0aGlzLl9jdXJyZW50RXhlY3V0aW9uID0ge1xuICAgIGFjdGlvbnM6IFtdLFxuICAgIGRpcnR5OiBbXSxcbiAgICB0cmlnZ2VyOiBudWxsXG4gIH07XG5cblxuICB0aGlzLl9pbmplY3RvciA9IGluamVjdG9yO1xuICB0aGlzLl9ldmVudEJ1cyA9IGV2ZW50QnVzO1xuXG4gIHRoaXMuX3VpZCA9IDE7XG5cbiAgZXZlbnRCdXMub24oW1xuICAgICdkaWFncmFtLmRlc3Ryb3knLFxuICAgICdkaWFncmFtLmNsZWFyJ1xuICBdLCBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmNsZWFyKGZhbHNlKTtcbiAgfSwgdGhpcyk7XG59XG5cbkNvbW1hbmRTdGFjay4kaW5qZWN0ID0gWyAnZXZlbnRCdXMnLCAnaW5qZWN0b3InIF07XG5cblxuLyoqXG4gKiBFeGVjdXRlIGEgY29tbWFuZFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb21tYW5kIHRoZSBjb21tYW5kIHRvIGV4ZWN1dGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb250ZXh0IHRoZSBlbnZpcm9ubWVudCB0byBleGVjdXRlIHRoZSBjb21tYW5kIGluXG4gKi9cbkNvbW1hbmRTdGFjay5wcm90b3R5cGUuZXhlY3V0ZSA9IGZ1bmN0aW9uKGNvbW1hbmQsIGNvbnRleHQpIHtcbiAgaWYgKCFjb21tYW5kKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjb21tYW5kIHJlcXVpcmVkJyk7XG4gIH1cblxuICB0aGlzLl9jdXJyZW50RXhlY3V0aW9uLnRyaWdnZXIgPSAnZXhlY3V0ZSc7XG5cbiAgdmFyIGFjdGlvbiA9IHsgY29tbWFuZDogY29tbWFuZCwgY29udGV4dDogY29udGV4dCB9O1xuXG4gIHRoaXMuX3B1c2hBY3Rpb24oYWN0aW9uKTtcbiAgdGhpcy5faW50ZXJuYWxFeGVjdXRlKGFjdGlvbik7XG4gIHRoaXMuX3BvcEFjdGlvbihhY3Rpb24pO1xufTtcblxuXG4vKipcbiAqIEFzayB3aGV0aGVyIGEgZ2l2ZW4gY29tbWFuZCBjYW4gYmUgZXhlY3V0ZWQuXG4gKlxuICogSW1wbGVtZW50b3JzIG1heSBob29rIGludG8gdGhlIG1lY2hhbmlzbSBvbiB0d28gd2F5czpcbiAqXG4gKiAgICogaW4gZXZlbnQgbGlzdGVuZXJzOlxuICpcbiAqICAgICBVc2VycyBtYXkgcHJldmVudCB0aGUgZXhlY3V0aW9uIHZpYSBhbiBldmVudCBsaXN0ZW5lci5cbiAqICAgICBJdCBtdXN0IHByZXZlbnQgdGhlIGRlZmF1bHQgYWN0aW9uIGZvciBgY29tbWFuZFN0YWNrLig8Y29tbWFuZD4uKWNhbkV4ZWN1dGVgIGV2ZW50cy5cbiAqXG4gKiAgICogaW4gY29tbWFuZCBoYW5kbGVyczpcbiAqXG4gKiAgICAgSWYgdGhlIG1ldGhvZCB7QGxpbmsgQ29tbWFuZEhhbmRsZXIjY2FuRXhlY3V0ZX0gaXMgaW1wbGVtZW50ZWQgaW4gYSBoYW5kbGVyXG4gKiAgICAgaXQgd2lsbCBiZSBjYWxsZWQgdG8gZmlndXJlIG91dCB3aGV0aGVyIHRoZSBleGVjdXRpb24gaXMgYWxsb3dlZC5cbiAqXG4gKiBAcGFyYW0gIHtzdHJpbmd9IGNvbW1hbmQgdGhlIGNvbW1hbmQgdG8gZXhlY3V0ZVxuICogQHBhcmFtICB7T2JqZWN0fSBjb250ZXh0IHRoZSBlbnZpcm9ubWVudCB0byBleGVjdXRlIHRoZSBjb21tYW5kIGluXG4gKlxuICogQHJldHVybiB7Ym9vbGVhbn0gdHJ1ZSBpZiB0aGUgY29tbWFuZCBjYW4gYmUgZXhlY3V0ZWRcbiAqL1xuQ29tbWFuZFN0YWNrLnByb3RvdHlwZS5jYW5FeGVjdXRlID0gZnVuY3Rpb24oY29tbWFuZCwgY29udGV4dCkge1xuXG4gIHZhciBhY3Rpb24gPSB7IGNvbW1hbmQ6IGNvbW1hbmQsIGNvbnRleHQ6IGNvbnRleHQgfTtcblxuICB2YXIgaGFuZGxlciA9IHRoaXMuX2dldEhhbmRsZXIoY29tbWFuZCk7XG5cbiAgdmFyIHJlc3VsdCA9IHRoaXMuX2ZpcmUoY29tbWFuZCwgJ2NhbkV4ZWN1dGUnLCBhY3Rpb24pO1xuXG4gIC8vIGhhbmRsZXIjY2FuRXhlY3V0ZSB3aWxsIG9ubHkgYmUgY2FsbGVkIGlmIG5vIGxpc3RlbmVyXG4gIC8vIGRlY2lkZWQgb24gYSByZXN1bHQgYWxyZWFkeVxuICBpZiAocmVzdWx0ID09PSB1bmRlZmluZWQpIHtcbiAgICBpZiAoIWhhbmRsZXIpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoaGFuZGxlci5jYW5FeGVjdXRlKSB7XG4gICAgICByZXN1bHQgPSBoYW5kbGVyLmNhbkV4ZWN1dGUoY29udGV4dCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cblxuLyoqXG4gKiBDbGVhciB0aGUgY29tbWFuZCBzdGFjaywgZXJhc2luZyBhbGwgdW5kbyAvIHJlZG8gaGlzdG9yeVxuICovXG5Db21tYW5kU3RhY2sucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24oZW1pdCkge1xuICB0aGlzLl9zdGFjay5sZW5ndGggPSAwO1xuICB0aGlzLl9zdGFja0lkeCA9IC0xO1xuXG4gIGlmIChlbWl0ICE9PSBmYWxzZSkge1xuICAgIHRoaXMuX2ZpcmUoJ2NoYW5nZWQnLCB7IHRyaWdnZXI6ICdjbGVhcicgfSk7XG4gIH1cbn07XG5cblxuLyoqXG4gKiBVbmRvIGxhc3QgY29tbWFuZChzKVxuICovXG5Db21tYW5kU3RhY2sucHJvdG90eXBlLnVuZG8gPSBmdW5jdGlvbigpIHtcbiAgdmFyIGFjdGlvbiA9IHRoaXMuX2dldFVuZG9BY3Rpb24oKSxcbiAgICAgIG5leHQ7XG5cbiAgaWYgKGFjdGlvbikge1xuICAgIHRoaXMuX2N1cnJlbnRFeGVjdXRpb24udHJpZ2dlciA9ICd1bmRvJztcblxuICAgIHRoaXMuX3B1c2hBY3Rpb24oYWN0aW9uKTtcblxuICAgIHdoaWxlIChhY3Rpb24pIHtcbiAgICAgIHRoaXMuX2ludGVybmFsVW5kbyhhY3Rpb24pO1xuICAgICAgbmV4dCA9IHRoaXMuX2dldFVuZG9BY3Rpb24oKTtcblxuICAgICAgaWYgKCFuZXh0IHx8IG5leHQuaWQgIT09IGFjdGlvbi5pZCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgYWN0aW9uID0gbmV4dDtcbiAgICB9XG5cbiAgICB0aGlzLl9wb3BBY3Rpb24oKTtcbiAgfVxufTtcblxuXG4vKipcbiAqIFJlZG8gbGFzdCBjb21tYW5kKHMpXG4gKi9cbkNvbW1hbmRTdGFjay5wcm90b3R5cGUucmVkbyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgYWN0aW9uID0gdGhpcy5fZ2V0UmVkb0FjdGlvbigpLFxuICAgICAgbmV4dDtcblxuICBpZiAoYWN0aW9uKSB7XG4gICAgdGhpcy5fY3VycmVudEV4ZWN1dGlvbi50cmlnZ2VyID0gJ3JlZG8nO1xuXG4gICAgdGhpcy5fcHVzaEFjdGlvbihhY3Rpb24pO1xuXG4gICAgd2hpbGUgKGFjdGlvbikge1xuICAgICAgdGhpcy5faW50ZXJuYWxFeGVjdXRlKGFjdGlvbiwgdHJ1ZSk7XG4gICAgICBuZXh0ID0gdGhpcy5fZ2V0UmVkb0FjdGlvbigpO1xuXG4gICAgICBpZiAoIW5leHQgfHwgbmV4dC5pZCAhPT0gYWN0aW9uLmlkKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBhY3Rpb24gPSBuZXh0O1xuICAgIH1cblxuICAgIHRoaXMuX3BvcEFjdGlvbigpO1xuICB9XG59O1xuXG5cbi8qKlxuICogUmVnaXN0ZXIgYSBoYW5kbGVyIGluc3RhbmNlIHdpdGggdGhlIGNvbW1hbmQgc3RhY2tcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gY29tbWFuZFxuICogQHBhcmFtIHtDb21tYW5kSGFuZGxlcn0gaGFuZGxlclxuICovXG5Db21tYW5kU3RhY2sucHJvdG90eXBlLnJlZ2lzdGVyID0gZnVuY3Rpb24oY29tbWFuZCwgaGFuZGxlcikge1xuICB0aGlzLl9zZXRIYW5kbGVyKGNvbW1hbmQsIGhhbmRsZXIpO1xufTtcblxuXG4vKipcbiAqIFJlZ2lzdGVyIGEgaGFuZGxlciB0eXBlIHdpdGggdGhlIGNvbW1hbmQgc3RhY2tcbiAqIGJ5IGluc3RhbnRpYXRpbmcgaXQgYW5kIGluamVjdGluZyBpdHMgZGVwZW5kZW5jaWVzLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb21tYW5kXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBhIGNvbnN0cnVjdG9yIGZvciBhIHtAbGluayBDb21tYW5kSGFuZGxlcn1cbiAqL1xuQ29tbWFuZFN0YWNrLnByb3RvdHlwZS5yZWdpc3RlckhhbmRsZXIgPSBmdW5jdGlvbihjb21tYW5kLCBoYW5kbGVyQ2xzKSB7XG5cbiAgaWYgKCFjb21tYW5kIHx8ICFoYW5kbGVyQ2xzKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjb21tYW5kIGFuZCBoYW5kbGVyQ2xzIG11c3QgYmUgZGVmaW5lZCcpO1xuICB9XG5cbiAgdmFyIGhhbmRsZXIgPSB0aGlzLl9pbmplY3Rvci5pbnN0YW50aWF0ZShoYW5kbGVyQ2xzKTtcbiAgdGhpcy5yZWdpc3Rlcihjb21tYW5kLCBoYW5kbGVyKTtcbn07XG5cbkNvbW1hbmRTdGFjay5wcm90b3R5cGUuY2FuVW5kbyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gISF0aGlzLl9nZXRVbmRvQWN0aW9uKCk7XG59O1xuXG5Db21tYW5kU3RhY2sucHJvdG90eXBlLmNhblJlZG8gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuICEhdGhpcy5fZ2V0UmVkb0FjdGlvbigpO1xufTtcblxuLy8gc3RhY2sgYWNjZXNzICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbkNvbW1hbmRTdGFjay5wcm90b3R5cGUuX2dldFJlZG9BY3Rpb24gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuX3N0YWNrW3RoaXMuX3N0YWNrSWR4ICsgMV07XG59O1xuXG5cbkNvbW1hbmRTdGFjay5wcm90b3R5cGUuX2dldFVuZG9BY3Rpb24gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuX3N0YWNrW3RoaXMuX3N0YWNrSWR4XTtcbn07XG5cblxuLy8gaW50ZXJuYWwgZnVuY3Rpb25hbGl0eSAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbkNvbW1hbmRTdGFjay5wcm90b3R5cGUuX2ludGVybmFsVW5kbyA9IGZ1bmN0aW9uKGFjdGlvbikge1xuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgdmFyIGNvbW1hbmQgPSBhY3Rpb24uY29tbWFuZCxcbiAgICAgIGNvbnRleHQgPSBhY3Rpb24uY29udGV4dDtcblxuICB2YXIgaGFuZGxlciA9IHRoaXMuX2dldEhhbmRsZXIoY29tbWFuZCk7XG5cbiAgLy8gZ3VhcmQgYWdhaW5zdCBpbGxlZ2FsIG5lc3RlZCBjb21tYW5kIHN0YWNrIGludm9jYXRpb25zXG4gIHRoaXMuX2F0b21pY0RvKGZ1bmN0aW9uKCkge1xuICAgIHNlbGYuX2ZpcmUoY29tbWFuZCwgJ3JldmVydCcsIGFjdGlvbik7XG5cbiAgICBpZiAoaGFuZGxlci5yZXZlcnQpIHtcbiAgICAgIHNlbGYuX21hcmtEaXJ0eShoYW5kbGVyLnJldmVydChjb250ZXh0KSk7XG4gICAgfVxuXG4gICAgc2VsZi5fcmV2ZXJ0ZWRBY3Rpb24oYWN0aW9uKTtcblxuICAgIHNlbGYuX2ZpcmUoY29tbWFuZCwgJ3JldmVydGVkJywgYWN0aW9uKTtcbiAgfSk7XG59O1xuXG5cbkNvbW1hbmRTdGFjay5wcm90b3R5cGUuX2ZpcmUgPSBmdW5jdGlvbihjb21tYW5kLCBxdWFsaWZpZXIsIGV2ZW50KSB7XG4gIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMykge1xuICAgIGV2ZW50ID0gcXVhbGlmaWVyO1xuICAgIHF1YWxpZmllciA9IG51bGw7XG4gIH1cblxuICB2YXIgbmFtZXMgPSBxdWFsaWZpZXIgPyBbIGNvbW1hbmQgKyAnLicgKyBxdWFsaWZpZXIsIHF1YWxpZmllciBdIDogWyBjb21tYW5kIF0sXG4gICAgICBpLCBuYW1lLCByZXN1bHQ7XG5cbiAgZXZlbnQgPSB0aGlzLl9ldmVudEJ1cy5jcmVhdGVFdmVudChldmVudCk7XG5cbiAgZm9yIChpID0gMDsgKG5hbWUgPSBuYW1lc1tpXSk7IGkrKykge1xuICAgIHJlc3VsdCA9IHRoaXMuX2V2ZW50QnVzLmZpcmUoJ2NvbW1hbmRTdGFjay4nICsgbmFtZSwgZXZlbnQpO1xuXG4gICAgaWYgKGV2ZW50LmNhbmNlbEJ1YmJsZSkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbkNvbW1hbmRTdGFjay5wcm90b3R5cGUuX2NyZWF0ZUlkID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLl91aWQrKztcbn07XG5cbkNvbW1hbmRTdGFjay5wcm90b3R5cGUuX2F0b21pY0RvID0gZnVuY3Rpb24oZm4pIHtcblxuICB2YXIgZXhlY3V0aW9uID0gdGhpcy5fY3VycmVudEV4ZWN1dGlvbjtcblxuICBleGVjdXRpb24uYXRvbWljID0gdHJ1ZTtcblxuICB0cnkge1xuICAgIGZuKCk7XG4gIH0gZmluYWxseSB7XG4gICAgZXhlY3V0aW9uLmF0b21pYyA9IGZhbHNlO1xuICB9XG59O1xuXG5Db21tYW5kU3RhY2sucHJvdG90eXBlLl9pbnRlcm5hbEV4ZWN1dGUgPSBmdW5jdGlvbihhY3Rpb24sIHJlZG8pIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIHZhciBjb21tYW5kID0gYWN0aW9uLmNvbW1hbmQsXG4gICAgICBjb250ZXh0ID0gYWN0aW9uLmNvbnRleHQ7XG5cbiAgdmFyIGhhbmRsZXIgPSB0aGlzLl9nZXRIYW5kbGVyKGNvbW1hbmQpO1xuXG4gIGlmICghaGFuZGxlcikge1xuICAgIHRocm93IG5ldyBFcnJvcignbm8gY29tbWFuZCBoYW5kbGVyIHJlZ2lzdGVyZWQgZm9yIDwnICsgY29tbWFuZCArICc+Jyk7XG4gIH1cblxuICB0aGlzLl9wdXNoQWN0aW9uKGFjdGlvbik7XG5cbiAgaWYgKCFyZWRvKSB7XG4gICAgdGhpcy5fZmlyZShjb21tYW5kLCAncHJlRXhlY3V0ZScsIGFjdGlvbik7XG5cbiAgICBpZiAoaGFuZGxlci5wcmVFeGVjdXRlKSB7XG4gICAgICBoYW5kbGVyLnByZUV4ZWN1dGUoY29udGV4dCk7XG4gICAgfVxuXG4gICAgdGhpcy5fZmlyZShjb21tYW5kLCAncHJlRXhlY3V0ZWQnLCBhY3Rpb24pO1xuICB9XG5cbiAgLy8gZ3VhcmQgYWdhaW5zdCBpbGxlZ2FsIG5lc3RlZCBjb21tYW5kIHN0YWNrIGludm9jYXRpb25zXG4gIHRoaXMuX2F0b21pY0RvKGZ1bmN0aW9uKCkge1xuXG4gICAgc2VsZi5fZmlyZShjb21tYW5kLCAnZXhlY3V0ZScsIGFjdGlvbik7XG5cbiAgICBpZiAoaGFuZGxlci5leGVjdXRlKSB7XG5cbiAgICAgIC8vIGFjdHVhbCBleGVjdXRlICsgbWFyayByZXR1cm4gcmVzdWx0cyBhcyBkaXJ0eVxuICAgICAgc2VsZi5fbWFya0RpcnR5KGhhbmRsZXIuZXhlY3V0ZShjb250ZXh0KSk7XG4gICAgfVxuXG4gICAgLy8gbG9nIHRvIHN0YWNrXG4gICAgc2VsZi5fZXhlY3V0ZWRBY3Rpb24oYWN0aW9uLCByZWRvKTtcblxuICAgIHNlbGYuX2ZpcmUoY29tbWFuZCwgJ2V4ZWN1dGVkJywgYWN0aW9uKTtcbiAgfSk7XG5cbiAgaWYgKCFyZWRvKSB7XG4gICAgdGhpcy5fZmlyZShjb21tYW5kLCAncG9zdEV4ZWN1dGUnLCBhY3Rpb24pO1xuXG4gICAgaWYgKGhhbmRsZXIucG9zdEV4ZWN1dGUpIHtcbiAgICAgIGhhbmRsZXIucG9zdEV4ZWN1dGUoY29udGV4dCk7XG4gICAgfVxuXG4gICAgdGhpcy5fZmlyZShjb21tYW5kLCAncG9zdEV4ZWN1dGVkJywgYWN0aW9uKTtcbiAgfVxuXG4gIHRoaXMuX3BvcEFjdGlvbihhY3Rpb24pO1xufTtcblxuXG5Db21tYW5kU3RhY2sucHJvdG90eXBlLl9wdXNoQWN0aW9uID0gZnVuY3Rpb24oYWN0aW9uKSB7XG5cbiAgdmFyIGV4ZWN1dGlvbiA9IHRoaXMuX2N1cnJlbnRFeGVjdXRpb24sXG4gICAgICBhY3Rpb25zID0gZXhlY3V0aW9uLmFjdGlvbnM7XG5cbiAgdmFyIGJhc2VBY3Rpb24gPSBhY3Rpb25zWzBdO1xuXG4gIGlmIChleGVjdXRpb24uYXRvbWljKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdpbGxlZ2FsIGludm9jYXRpb24gaW4gPGV4ZWN1dGU+IG9yIDxyZXZlcnQ+IHBoYXNlIChhY3Rpb246ICcgKyBhY3Rpb24uY29tbWFuZCArICcpJyk7XG4gIH1cblxuICBpZiAoIWFjdGlvbi5pZCkge1xuICAgIGFjdGlvbi5pZCA9IChiYXNlQWN0aW9uICYmIGJhc2VBY3Rpb24uaWQpIHx8IHRoaXMuX2NyZWF0ZUlkKCk7XG4gIH1cblxuICBhY3Rpb25zLnB1c2goYWN0aW9uKTtcbn07XG5cblxuQ29tbWFuZFN0YWNrLnByb3RvdHlwZS5fcG9wQWN0aW9uID0gZnVuY3Rpb24oKSB7XG4gIHZhciBleGVjdXRpb24gPSB0aGlzLl9jdXJyZW50RXhlY3V0aW9uLFxuICAgICAgdHJpZ2dlciA9IGV4ZWN1dGlvbi50cmlnZ2VyLFxuICAgICAgYWN0aW9ucyA9IGV4ZWN1dGlvbi5hY3Rpb25zLFxuICAgICAgZGlydHkgPSBleGVjdXRpb24uZGlydHk7XG5cbiAgYWN0aW9ucy5wb3AoKTtcblxuICBpZiAoIWFjdGlvbnMubGVuZ3RoKSB7XG4gICAgdGhpcy5fZXZlbnRCdXMuZmlyZSgnZWxlbWVudHMuY2hhbmdlZCcsIHsgZWxlbWVudHM6IHVuaXF1ZUJ5KCdpZCcsIGRpcnR5LnJldmVyc2UoKSkgfSk7XG5cbiAgICBkaXJ0eS5sZW5ndGggPSAwO1xuXG4gICAgdGhpcy5fZmlyZSgnY2hhbmdlZCcsIHsgdHJpZ2dlcjogdHJpZ2dlciB9KTtcblxuICAgIGV4ZWN1dGlvbi50cmlnZ2VyID0gbnVsbDtcbiAgfVxufTtcblxuXG5Db21tYW5kU3RhY2sucHJvdG90eXBlLl9tYXJrRGlydHkgPSBmdW5jdGlvbihlbGVtZW50cykge1xuICB2YXIgZXhlY3V0aW9uID0gdGhpcy5fY3VycmVudEV4ZWN1dGlvbjtcblxuICBpZiAoIWVsZW1lbnRzKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgZWxlbWVudHMgPSBpc0FycmF5KGVsZW1lbnRzKSA/IGVsZW1lbnRzIDogWyBlbGVtZW50cyBdO1xuXG4gIGV4ZWN1dGlvbi5kaXJ0eSA9IGV4ZWN1dGlvbi5kaXJ0eS5jb25jYXQoZWxlbWVudHMpO1xufTtcblxuXG5Db21tYW5kU3RhY2sucHJvdG90eXBlLl9leGVjdXRlZEFjdGlvbiA9IGZ1bmN0aW9uKGFjdGlvbiwgcmVkbykge1xuICB2YXIgc3RhY2tJZHggPSArK3RoaXMuX3N0YWNrSWR4O1xuXG4gIGlmICghcmVkbykge1xuICAgIHRoaXMuX3N0YWNrLnNwbGljZShzdGFja0lkeCwgdGhpcy5fc3RhY2subGVuZ3RoLCBhY3Rpb24pO1xuICB9XG59O1xuXG5cbkNvbW1hbmRTdGFjay5wcm90b3R5cGUuX3JldmVydGVkQWN0aW9uID0gZnVuY3Rpb24oYWN0aW9uKSB7XG4gIHRoaXMuX3N0YWNrSWR4LS07XG59O1xuXG5cbkNvbW1hbmRTdGFjay5wcm90b3R5cGUuX2dldEhhbmRsZXIgPSBmdW5jdGlvbihjb21tYW5kKSB7XG4gIHJldHVybiB0aGlzLl9oYW5kbGVyTWFwW2NvbW1hbmRdO1xufTtcblxuQ29tbWFuZFN0YWNrLnByb3RvdHlwZS5fc2V0SGFuZGxlciA9IGZ1bmN0aW9uKGNvbW1hbmQsIGhhbmRsZXIpIHtcbiAgaWYgKCFjb21tYW5kIHx8ICFoYW5kbGVyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjb21tYW5kIGFuZCBoYW5kbGVyIHJlcXVpcmVkJyk7XG4gIH1cblxuICBpZiAodGhpcy5faGFuZGxlck1hcFtjb21tYW5kXSkge1xuICAgIHRocm93IG5ldyBFcnJvcignb3ZlcnJpZGluZyBoYW5kbGVyIGZvciBjb21tYW5kIDwnICsgY29tbWFuZCArICc+Jyk7XG4gIH1cblxuICB0aGlzLl9oYW5kbGVyTWFwW2NvbW1hbmRdID0gaGFuZGxlcjtcbn07XG4iLCJpbXBvcnQgQ29tbWFuZFN0YWNrIGZyb20gJy4vQ29tbWFuZFN0YWNrJztcblxuZXhwb3J0IGRlZmF1bHQge1xuICBjb21tYW5kU3RhY2s6IFsgJ3R5cGUnLCBDb21tYW5kU3RhY2sgXVxufTtcbiIsImltcG9ydCB7XG4gIGlzU3RyaW5nLFxuICBhc3NpZ24sXG4gIGZvckVhY2hcbn0gZnJvbSAnbWluLWRhc2gnO1xuXG5pbXBvcnQge1xuICBkb21pZnksXG4gIGF0dHIgYXMgZG9tQXR0cixcbiAgY2xhc3NlcyBhcyBkb21DbGFzc2VzLFxuICByZW1vdmUgYXMgZG9tUmVtb3ZlLFxuICBkZWxlZ2F0ZSBhcyBkb21EZWxlZ2F0ZVxufSBmcm9tICdtaW4tZG9tJztcblxuaW1wb3J0IElkcyBmcm9tICcuLi8uLi91dGlsL0lkR2VuZXJhdG9yJztcblxuLy8gZG9jdW1lbnQgd2lkZSB1bmlxdWUgdG9vbHRpcCBpZHNcbnZhciBpZHMgPSBuZXcgSWRzKCd0dCcpO1xuXG5cbmZ1bmN0aW9uIGNyZWF0ZVJvb3QocGFyZW50Tm9kZSkge1xuICB2YXIgcm9vdCA9IGRvbWlmeShcbiAgICAnPGRpdiBjbGFzcz1cImRqcy10b29sdGlwLWNvbnRhaW5lclwiIHN0eWxlPVwicG9zaXRpb246IGFic29sdXRlOyB3aWR0aDogMDsgaGVpZ2h0OiAwO1wiIC8+J1xuICApO1xuXG4gIHBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHJvb3QsIHBhcmVudE5vZGUuZmlyc3RDaGlsZCk7XG5cbiAgcmV0dXJuIHJvb3Q7XG59XG5cblxuZnVuY3Rpb24gc2V0UG9zaXRpb24oZWwsIHgsIHkpIHtcbiAgYXNzaWduKGVsLnN0eWxlLCB7IGxlZnQ6IHggKyAncHgnLCB0b3A6IHkgKyAncHgnIH0pO1xufVxuXG5mdW5jdGlvbiBzZXRWaXNpYmxlKGVsLCB2aXNpYmxlKSB7XG4gIGVsLnN0eWxlLmRpc3BsYXkgPSB2aXNpYmxlID09PSBmYWxzZSA/ICdub25lJyA6ICcnO1xufVxuXG5cbnZhciB0b29sdGlwQ2xhc3MgPSAnZGpzLXRvb2x0aXAnLFxuICAgIHRvb2x0aXBTZWxlY3RvciA9ICcuJyArIHRvb2x0aXBDbGFzcztcblxuLyoqXG4gKiBBIHNlcnZpY2UgdGhhdCBhbGxvd3MgdXNlcnMgdG8gcmVuZGVyIHRvb2wgdGlwcyBvbiB0aGUgZGlhZ3JhbS5cbiAqXG4gKiBUaGUgdG9vbHRpcCBzZXJ2aWNlIHdpbGwgdGFrZSBjYXJlIG9mIHVwZGF0aW5nIHRoZSB0b29sdGlwIHBvc2l0aW9uaW5nXG4gKiBkdXJpbmcgbmF2aWdhdGlvbiArIHpvb21pbmcuXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBgYGBqYXZhc2NyaXB0XG4gKlxuICogLy8gYWRkIGEgcGluayBiYWRnZSBvbiB0aGUgdG9wIGxlZnQgb2YgdGhlIHNoYXBlXG4gKiB0b29sdGlwcy5hZGQoe1xuICogICBwb3NpdGlvbjoge1xuICogICAgIHg6IDUwLFxuICogICAgIHk6IDEwMFxuICogICB9LFxuICogICBodG1sOiAnPGRpdiBzdHlsZT1cIndpZHRoOiAxMHB4OyBiYWNrZ3JvdW5kOiBmdWNoc2lhOyBjb2xvcjogd2hpdGU7XCI+MDwvZGl2PidcbiAqIH0pO1xuICpcbiAqIC8vIG9yIHdpdGggb3B0aW9uYWwgbGlmZSBzcGFuXG4gKiB0b29sdGlwcy5hZGQoe1xuICogICBwb3NpdGlvbjoge1xuICogICAgIHRvcDogLTUsXG4gKiAgICAgbGVmdDogLTVcbiAqICAgfSxcbiAqICAgaHRtbDogJzxkaXYgc3R5bGU9XCJ3aWR0aDogMTBweDsgYmFja2dyb3VuZDogZnVjaHNpYTsgY29sb3I6IHdoaXRlO1wiPjA8L2Rpdj4nLFxuICogICB0dGw6IDIwMDBcbiAqIH0pO1xuICpcbiAqIC8vIHJlbW92ZSBhIHRvb2wgdGlwXG4gKiB2YXIgaWQgPSB0b29sdGlwcy5hZGQoLi4uKTtcbiAqIHRvb2x0aXBzLnJlbW92ZShpZCk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge0V2ZW50QnVzfSBldmVudEJ1c1xuICogQHBhcmFtIHtDYW52YXN9IGNhbnZhc1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBUb29sdGlwcyhldmVudEJ1cywgY2FudmFzKSB7XG5cbiAgdGhpcy5fZXZlbnRCdXMgPSBldmVudEJ1cztcbiAgdGhpcy5fY2FudmFzID0gY2FudmFzO1xuXG4gIHRoaXMuX2lkcyA9IGlkcztcblxuICB0aGlzLl90b29sdGlwRGVmYXVsdHMgPSB7XG4gICAgc2hvdzoge1xuICAgICAgbWluWm9vbTogMC43LFxuICAgICAgbWF4Wm9vbTogNS4wXG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBNYXBwaW5nIHRvb2x0aXBJZCAtPiB0b29sdGlwXG4gICAqL1xuICB0aGlzLl90b29sdGlwcyA9IHt9O1xuXG4gIC8vIHJvb3QgaHRtbCBlbGVtZW50IGZvciBhbGwgdG9vbHRpcHNcbiAgdGhpcy5fdG9vbHRpcFJvb3QgPSBjcmVhdGVSb290KGNhbnZhcy5nZXRDb250YWluZXIoKSk7XG5cblxuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgZG9tRGVsZWdhdGUuYmluZCh0aGlzLl90b29sdGlwUm9vdCwgdG9vbHRpcFNlbGVjdG9yLCAnbW91c2Vkb3duJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgfSk7XG5cbiAgZG9tRGVsZWdhdGUuYmluZCh0aGlzLl90b29sdGlwUm9vdCwgdG9vbHRpcFNlbGVjdG9yLCAnbW91c2VvdmVyJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBzZWxmLnRyaWdnZXIoJ21vdXNlb3ZlcicsIGV2ZW50KTtcbiAgfSk7XG5cbiAgZG9tRGVsZWdhdGUuYmluZCh0aGlzLl90b29sdGlwUm9vdCwgdG9vbHRpcFNlbGVjdG9yLCAnbW91c2VvdXQnLCBmdW5jdGlvbihldmVudCkge1xuICAgIHNlbGYudHJpZ2dlcignbW91c2VvdXQnLCBldmVudCk7XG4gIH0pO1xuXG4gIHRoaXMuX2luaXQoKTtcbn1cblxuXG5Ub29sdGlwcy4kaW5qZWN0ID0gWyAnZXZlbnRCdXMnLCAnY2FudmFzJyBdO1xuXG5cbi8qKlxuICogQWRkcyBhIEhUTUwgdG9vbHRpcCB0byB0aGUgZGlhZ3JhbVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSAgICAgICAgICAgICAgIHRvb2x0aXAgICB0aGUgdG9vbHRpcCBjb25maWd1cmF0aW9uXG4gKlxuICogQHBhcmFtIHtzdHJpbmd8RE9NRWxlbWVudH0gICAgdG9vbHRpcC5odG1sICAgICAgICAgICAgICAgICBodG1sIGVsZW1lbnQgdG8gdXNlIGFzIGFuIHRvb2x0aXBcbiAqIEBwYXJhbSB7T2JqZWN0fSAgICAgICAgICAgICAgIFt0b29sdGlwLnNob3ddICAgICAgICAgICAgICAgc2hvdyBjb25maWd1cmF0aW9uXG4gKiBAcGFyYW0ge251bWJlcn0gICAgICAgICAgICAgICBbdG9vbHRpcC5zaG93Lm1pblpvb21dICAgICAgIG1pbmltYWwgem9vbSBsZXZlbCB0byBzaG93IHRoZSB0b29sdGlwXG4gKiBAcGFyYW0ge251bWJlcn0gICAgICAgICAgICAgICBbdG9vbHRpcC5zaG93Lm1heFpvb21dICAgICAgIG1heGltdW0gem9vbSBsZXZlbCB0byBzaG93IHRoZSB0b29sdGlwXG4gKiBAcGFyYW0ge09iamVjdH0gICAgICAgICAgICAgICB0b29sdGlwLnBvc2l0aW9uICAgICAgICAgICAgIHdoZXJlIHRvIGF0dGFjaCB0aGUgdG9vbHRpcFxuICogQHBhcmFtIHtudW1iZXJ9ICAgICAgICAgICAgICAgW3Rvb2x0aXAucG9zaXRpb24ubGVmdF0gICAgICByZWxhdGl2ZSB0byBlbGVtZW50IGJib3ggbGVmdCBhdHRhY2htZW50XG4gKiBAcGFyYW0ge251bWJlcn0gICAgICAgICAgICAgICBbdG9vbHRpcC5wb3NpdGlvbi50b3BdICAgICAgIHJlbGF0aXZlIHRvIGVsZW1lbnQgYmJveCB0b3AgYXR0YWNobWVudFxuICogQHBhcmFtIHtudW1iZXJ9ICAgICAgICAgICAgICAgW3Rvb2x0aXAucG9zaXRpb24uYm90dG9tXSAgICByZWxhdGl2ZSB0byBlbGVtZW50IGJib3ggYm90dG9tIGF0dGFjaG1lbnRcbiAqIEBwYXJhbSB7bnVtYmVyfSAgICAgICAgICAgICAgIFt0b29sdGlwLnBvc2l0aW9uLnJpZ2h0XSAgICAgcmVsYXRpdmUgdG8gZWxlbWVudCBiYm94IHJpZ2h0IGF0dGFjaG1lbnRcbiAqIEBwYXJhbSB7bnVtYmVyfSAgICAgICAgICAgICAgIFt0b29sdGlwLnRpbWVvdXQ9LTFdXG4gKlxuICogQHJldHVybiB7c3RyaW5nfSAgICAgICAgICAgICAgaWQgdGhhdCBtYXkgYmUgdXNlZCB0byByZWZlcmVuY2UgdGhlIHRvb2x0aXAgZm9yIHVwZGF0ZSBvciByZW1vdmFsXG4gKi9cblRvb2x0aXBzLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbih0b29sdGlwKSB7XG5cbiAgaWYgKCF0b29sdGlwLnBvc2l0aW9uKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdtdXN0IHNwZWNpZml5IHRvb2x0aXAgcG9zaXRpb24nKTtcbiAgfVxuXG4gIGlmICghdG9vbHRpcC5odG1sKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdtdXN0IHNwZWNpZml5IHRvb2x0aXAgaHRtbCcpO1xuICB9XG5cbiAgdmFyIGlkID0gdGhpcy5faWRzLm5leHQoKTtcblxuICB0b29sdGlwID0gYXNzaWduKHt9LCB0aGlzLl90b29sdGlwRGVmYXVsdHMsIHRvb2x0aXAsIHtcbiAgICBpZDogaWRcbiAgfSk7XG5cbiAgdGhpcy5fYWRkVG9vbHRpcCh0b29sdGlwKTtcblxuICBpZiAodG9vbHRpcC50aW1lb3V0KSB7XG4gICAgdGhpcy5zZXRUaW1lb3V0KHRvb2x0aXApO1xuICB9XG5cbiAgcmV0dXJuIGlkO1xufTtcblxuVG9vbHRpcHMucHJvdG90eXBlLnRyaWdnZXIgPSBmdW5jdGlvbihhY3Rpb24sIGV2ZW50KSB7XG5cbiAgdmFyIG5vZGUgPSBldmVudC5kZWxlZ2F0ZVRhcmdldCB8fCBldmVudC50YXJnZXQ7XG5cbiAgdmFyIHRvb2x0aXAgPSB0aGlzLmdldChkb21BdHRyKG5vZGUsICdkYXRhLXRvb2x0aXAtaWQnKSk7XG5cbiAgaWYgKCF0b29sdGlwKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKGFjdGlvbiA9PT0gJ21vdXNlb3ZlcicgJiYgdG9vbHRpcC50aW1lb3V0KSB7XG4gICAgdGhpcy5jbGVhclRpbWVvdXQodG9vbHRpcCk7XG4gIH1cblxuICBpZiAoYWN0aW9uID09PSAnbW91c2VvdXQnICYmIHRvb2x0aXAudGltZW91dCkge1xuXG4gICAgLy8gY3V0IHRpbWVvdXQgYWZ0ZXIgbW91c2Ugb3V0XG4gICAgdG9vbHRpcC50aW1lb3V0ID0gMTAwMDtcblxuICAgIHRoaXMuc2V0VGltZW91dCh0b29sdGlwKTtcbiAgfVxufTtcblxuLyoqXG4gKiBHZXQgYSB0b29sdGlwIHdpdGggdGhlIGdpdmVuIGlkXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGlkXG4gKi9cblRvb2x0aXBzLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbihpZCkge1xuXG4gIGlmICh0eXBlb2YgaWQgIT09ICdzdHJpbmcnKSB7XG4gICAgaWQgPSBpZC5pZDtcbiAgfVxuXG4gIHJldHVybiB0aGlzLl90b29sdGlwc1tpZF07XG59O1xuXG5Ub29sdGlwcy5wcm90b3R5cGUuY2xlYXJUaW1lb3V0ID0gZnVuY3Rpb24odG9vbHRpcCkge1xuXG4gIHRvb2x0aXAgPSB0aGlzLmdldCh0b29sdGlwKTtcblxuICBpZiAoIXRvb2x0aXApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgcmVtb3ZlVGltZXIgPSB0b29sdGlwLnJlbW92ZVRpbWVyO1xuXG4gIGlmIChyZW1vdmVUaW1lcikge1xuICAgIGNsZWFyVGltZW91dChyZW1vdmVUaW1lcik7XG4gICAgdG9vbHRpcC5yZW1vdmVUaW1lciA9IG51bGw7XG4gIH1cbn07XG5cblRvb2x0aXBzLnByb3RvdHlwZS5zZXRUaW1lb3V0ID0gZnVuY3Rpb24odG9vbHRpcCkge1xuXG4gIHRvb2x0aXAgPSB0aGlzLmdldCh0b29sdGlwKTtcblxuICBpZiAoIXRvb2x0aXApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB0aGlzLmNsZWFyVGltZW91dCh0b29sdGlwKTtcblxuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgdG9vbHRpcC5yZW1vdmVUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgc2VsZi5yZW1vdmUodG9vbHRpcCk7XG4gIH0sIHRvb2x0aXAudGltZW91dCk7XG59O1xuXG4vKipcbiAqIFJlbW92ZSBhbiB0b29sdGlwIHdpdGggdGhlIGdpdmVuIGlkXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGlkXG4gKi9cblRvb2x0aXBzLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbihpZCkge1xuXG4gIHZhciB0b29sdGlwID0gdGhpcy5nZXQoaWQpO1xuXG4gIGlmICh0b29sdGlwKSB7XG4gICAgZG9tUmVtb3ZlKHRvb2x0aXAuaHRtbCk7XG4gICAgZG9tUmVtb3ZlKHRvb2x0aXAuaHRtbENvbnRhaW5lcik7XG5cbiAgICBkZWxldGUgdG9vbHRpcC5odG1sQ29udGFpbmVyO1xuXG4gICAgZGVsZXRlIHRoaXMuX3Rvb2x0aXBzW3Rvb2x0aXAuaWRdO1xuICB9XG59O1xuXG5cblRvb2x0aXBzLnByb3RvdHlwZS5zaG93ID0gZnVuY3Rpb24oKSB7XG4gIHNldFZpc2libGUodGhpcy5fdG9vbHRpcFJvb3QpO1xufTtcblxuXG5Ub29sdGlwcy5wcm90b3R5cGUuaGlkZSA9IGZ1bmN0aW9uKCkge1xuICBzZXRWaXNpYmxlKHRoaXMuX3Rvb2x0aXBSb290LCBmYWxzZSk7XG59O1xuXG5cblRvb2x0aXBzLnByb3RvdHlwZS5fdXBkYXRlUm9vdCA9IGZ1bmN0aW9uKHZpZXdib3gpIHtcbiAgdmFyIGEgPSB2aWV3Ym94LnNjYWxlIHx8IDE7XG4gIHZhciBkID0gdmlld2JveC5zY2FsZSB8fCAxO1xuXG4gIHZhciBtYXRyaXggPSAnbWF0cml4KCcgKyBhICsgJywwLDAsJyArIGQgKyAnLCcgKyAoLTEgKiB2aWV3Ym94LnggKiBhKSArICcsJyArICgtMSAqIHZpZXdib3gueSAqIGQpICsgJyknO1xuXG4gIHRoaXMuX3Rvb2x0aXBSb290LnN0eWxlLnRyYW5zZm9ybSA9IG1hdHJpeDtcbiAgdGhpcy5fdG9vbHRpcFJvb3Quc3R5bGVbJy1tcy10cmFuc2Zvcm0nXSA9IG1hdHJpeDtcbn07XG5cblxuVG9vbHRpcHMucHJvdG90eXBlLl9hZGRUb29sdGlwID0gZnVuY3Rpb24odG9vbHRpcCkge1xuXG4gIHZhciBpZCA9IHRvb2x0aXAuaWQsXG4gICAgICBodG1sID0gdG9vbHRpcC5odG1sLFxuICAgICAgaHRtbENvbnRhaW5lcixcbiAgICAgIHRvb2x0aXBSb290ID0gdGhpcy5fdG9vbHRpcFJvb3Q7XG5cbiAgLy8gdW53cmFwIGpxdWVyeSAoZm9yIHRob3NlIHdobyBuZWVkIGl0KVxuICBpZiAoaHRtbC5nZXQgJiYgaHRtbC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuanF1ZXJ5KSB7XG4gICAgaHRtbCA9IGh0bWwuZ2V0KDApO1xuICB9XG5cbiAgLy8gY3JlYXRlIHByb3BlciBodG1sIGVsZW1lbnRzIGZyb21cbiAgLy8gdG9vbHRpcCBIVE1MIHN0cmluZ3NcbiAgaWYgKGlzU3RyaW5nKGh0bWwpKSB7XG4gICAgaHRtbCA9IGRvbWlmeShodG1sKTtcbiAgfVxuXG4gIGh0bWxDb250YWluZXIgPSBkb21pZnkoJzxkaXYgZGF0YS10b29sdGlwLWlkPVwiJyArIGlkICsgJ1wiIGNsYXNzPVwiJyArIHRvb2x0aXBDbGFzcyArICdcIiBzdHlsZT1cInBvc2l0aW9uOiBhYnNvbHV0ZVwiPicpO1xuXG4gIGh0bWxDb250YWluZXIuYXBwZW5kQ2hpbGQoaHRtbCk7XG5cbiAgaWYgKHRvb2x0aXAudHlwZSkge1xuICAgIGRvbUNsYXNzZXMoaHRtbENvbnRhaW5lcikuYWRkKCdkanMtdG9vbHRpcC0nICsgdG9vbHRpcC50eXBlKTtcbiAgfVxuXG4gIGlmICh0b29sdGlwLmNsYXNzTmFtZSkge1xuICAgIGRvbUNsYXNzZXMoaHRtbENvbnRhaW5lcikuYWRkKHRvb2x0aXAuY2xhc3NOYW1lKTtcbiAgfVxuXG4gIHRvb2x0aXAuaHRtbENvbnRhaW5lciA9IGh0bWxDb250YWluZXI7XG5cbiAgdG9vbHRpcFJvb3QuYXBwZW5kQ2hpbGQoaHRtbENvbnRhaW5lcik7XG5cbiAgdGhpcy5fdG9vbHRpcHNbaWRdID0gdG9vbHRpcDtcblxuICB0aGlzLl91cGRhdGVUb29sdGlwKHRvb2x0aXApO1xufTtcblxuXG5Ub29sdGlwcy5wcm90b3R5cGUuX3VwZGF0ZVRvb2x0aXAgPSBmdW5jdGlvbih0b29sdGlwKSB7XG5cbiAgdmFyIHBvc2l0aW9uID0gdG9vbHRpcC5wb3NpdGlvbixcbiAgICAgIGh0bWxDb250YWluZXIgPSB0b29sdGlwLmh0bWxDb250YWluZXI7XG5cbiAgLy8gdXBkYXRlIG92ZXJsYXkgaHRtbCBiYXNlZCBvbiB0b29sdGlwIHgsIHlcblxuICBzZXRQb3NpdGlvbihodG1sQ29udGFpbmVyLCBwb3NpdGlvbi54LCBwb3NpdGlvbi55KTtcbn07XG5cblxuVG9vbHRpcHMucHJvdG90eXBlLl91cGRhdGVUb29sdGlwVmlzaWJpbHR5ID0gZnVuY3Rpb24odmlld2JveCkge1xuXG4gIGZvckVhY2godGhpcy5fdG9vbHRpcHMsIGZ1bmN0aW9uKHRvb2x0aXApIHtcbiAgICB2YXIgc2hvdyA9IHRvb2x0aXAuc2hvdyxcbiAgICAgICAgaHRtbENvbnRhaW5lciA9IHRvb2x0aXAuaHRtbENvbnRhaW5lcixcbiAgICAgICAgdmlzaWJsZSA9IHRydWU7XG5cbiAgICBpZiAoc2hvdykge1xuICAgICAgaWYgKHNob3cubWluWm9vbSA+IHZpZXdib3guc2NhbGUgfHxcbiAgICAgICAgICBzaG93Lm1heFpvb20gPCB2aWV3Ym94LnNjYWxlKSB7XG4gICAgICAgIHZpc2libGUgPSBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgc2V0VmlzaWJsZShodG1sQ29udGFpbmVyLCB2aXNpYmxlKTtcbiAgICB9XG4gIH0pO1xufTtcblxuVG9vbHRpcHMucHJvdG90eXBlLl9pbml0ID0gZnVuY3Rpb24oKSB7XG5cbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIC8vIHNjcm9sbC96b29tIGludGVncmF0aW9uXG5cbiAgZnVuY3Rpb24gdXBkYXRlVmlld2JveCh2aWV3Ym94KSB7XG4gICAgc2VsZi5fdXBkYXRlUm9vdCh2aWV3Ym94KTtcbiAgICBzZWxmLl91cGRhdGVUb29sdGlwVmlzaWJpbHR5KHZpZXdib3gpO1xuXG4gICAgc2VsZi5zaG93KCk7XG4gIH1cblxuICB0aGlzLl9ldmVudEJ1cy5vbignY2FudmFzLnZpZXdib3guY2hhbmdpbmcnLCBmdW5jdGlvbihldmVudCkge1xuICAgIHNlbGYuaGlkZSgpO1xuICB9KTtcblxuICB0aGlzLl9ldmVudEJ1cy5vbignY2FudmFzLnZpZXdib3guY2hhbmdlZCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdXBkYXRlVmlld2JveChldmVudC52aWV3Ym94KTtcbiAgfSk7XG59O1xuIiwiaW1wb3J0IFRvb2x0aXBzIGZyb20gJy4vVG9vbHRpcHMnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9faW5pdF9fOiBbICd0b29sdGlwcycgXSxcbiAgdG9vbHRpcHM6IFsgJ3R5cGUnLCBUb29sdGlwcyBdXG59OyIsIi8qKlxuICogUmVtb3ZlIGZyb20gdGhlIGJlZ2lubmluZyBvZiBhIGNvbGxlY3Rpb24gdW50aWwgaXQgaXMgZW1wdHkuXG4gKlxuICogVGhpcyBpcyBhIG51bGwtc2FmZSBvcGVyYXRpb24gdGhhdCBlbnN1cmVzIGVsZW1lbnRzXG4gKiBhcmUgYmVpbmcgcmVtb3ZlZCBmcm9tIHRoZSBnaXZlbiBjb2xsZWN0aW9uIHVudGlsIHRoZVxuICogY29sbGVjdGlvbiBpcyBlbXB0eS5cbiAqXG4gKiBUaGUgaW1wbGVtZW50YXRpb24gZGVhbHMgd2l0aCB0aGUgZmFjdCB0aGF0IGEgcmVtb3ZlIG9wZXJhdGlvblxuICogbWF5IHRvdWNoLCBpLmUuIHJlbW92ZSBtdWx0aXBsZSBlbGVtZW50cyBpbiB0aGUgY29sbGVjdGlvblxuICogYXQgYSB0aW1lLlxuICpcbiAqIEBwYXJhbSB7QXJyYXk8T2JqZWN0Pn0gW2NvbGxlY3Rpb25dXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSByZW1vdmVGblxuICpcbiAqIEByZXR1cm4ge0FycmF5PE9iamVjdD59IHRoZSBjbGVhcmVkIGNvbGxlY3Rpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNhdmVDbGVhcihjb2xsZWN0aW9uLCByZW1vdmVGbikge1xuXG4gIGlmICh0eXBlb2YgcmVtb3ZlRm4gIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3JlbW92ZUZuIGl0ZXJhdG9yIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICB9XG5cbiAgaWYgKCFjb2xsZWN0aW9uKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIGU7XG5cbiAgd2hpbGUgKChlID0gY29sbGVjdGlvblswXSkpIHtcbiAgICByZW1vdmVGbihlKTtcbiAgfVxuXG4gIHJldHVybiBjb2xsZWN0aW9uO1xufVxuIiwiaW1wb3J0IHtcbiAgZm9yRWFjaCxcbiAgZmlsdGVyXG59IGZyb20gJ21pbi1kYXNoJztcblxuaW1wb3J0IGluaGVyaXRzIGZyb20gJ2luaGVyaXRzJztcblxudmFyIExPV19QUklPUklUWSA9IDI1MCxcbiAgICBISUdIX1BSSU9SSVRZID0gMTQwMDtcblxuaW1wb3J0IHtcbiAgYWRkIGFzIGNvbGxlY3Rpb25BZGQsXG4gIGluZGV4T2YgYXMgY29sbGVjdGlvbklkeFxufSBmcm9tICcuLi8uLi91dGlsL0NvbGxlY3Rpb25zJztcblxuaW1wb3J0IHsgc2F2ZUNsZWFyIH0gZnJvbSAnLi4vLi4vdXRpbC9SZW1vdmFsJztcblxuaW1wb3J0IENvbW1hbmRJbnRlcmNlcHRvciBmcm9tICcuLi8uLi9jb21tYW5kL0NvbW1hbmRJbnRlcmNlcHRvcic7XG5cblxuLyoqXG4gKiBBIGhhbmRsZXIgdGhhdCBtYWtlcyBzdXJlIGxhYmVscyBhcmUgcHJvcGVybHkgbW92ZWQgd2l0aFxuICogdGhlaXIgbGFiZWwgdGFyZ2V0cy5cbiAqXG4gKiBAcGFyYW0ge2RpZGkuSW5qZWN0b3J9IGluamVjdG9yXG4gKiBAcGFyYW0ge0V2ZW50QnVzfSBldmVudEJ1c1xuICogQHBhcmFtIHtNb2RlbGluZ30gbW9kZWxpbmdcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTGFiZWxTdXBwb3J0KGluamVjdG9yLCBldmVudEJ1cywgbW9kZWxpbmcpIHtcblxuICBDb21tYW5kSW50ZXJjZXB0b3IuY2FsbCh0aGlzLCBldmVudEJ1cyk7XG5cbiAgdmFyIG1vdmVQcmV2aWV3ID0gaW5qZWN0b3IuZ2V0KCdtb3ZlUHJldmlldycsIGZhbHNlKTtcblxuICAvLyByZW1vdmUgbGFiZWxzIGZyb20gdGhlIGNvbGxlY3Rpb24gdGhhdCBhcmUgYmVpbmdcbiAgLy8gbW92ZWQgd2l0aCBvdGhlciBlbGVtZW50cyBhbnl3YXlcbiAgZXZlbnRCdXMub24oJ3NoYXBlLm1vdmUuc3RhcnQnLCBISUdIX1BSSU9SSVRZLCBmdW5jdGlvbihlKSB7XG5cbiAgICB2YXIgY29udGV4dCA9IGUuY29udGV4dCxcbiAgICAgICAgc2hhcGVzID0gY29udGV4dC5zaGFwZXMsXG4gICAgICAgIHZhbGlkYXRlZFNoYXBlcyA9IGNvbnRleHQudmFsaWRhdGVkU2hhcGVzO1xuXG4gICAgY29udGV4dC5zaGFwZXMgPSByZW1vdmVMYWJlbHMoc2hhcGVzKTtcbiAgICBjb250ZXh0LnZhbGlkYXRlZFNoYXBlcyA9IHJlbW92ZUxhYmVscyh2YWxpZGF0ZWRTaGFwZXMpO1xuICB9KTtcblxuICAvLyBhZGQgbGFiZWxzIHRvIHZpc3VhbCdzIGdyb3VwXG4gIG1vdmVQcmV2aWV3ICYmIGV2ZW50QnVzLm9uKCdzaGFwZS5tb3ZlLnN0YXJ0JywgTE9XX1BSSU9SSVRZLCBmdW5jdGlvbihlKSB7XG5cbiAgICB2YXIgY29udGV4dCA9IGUuY29udGV4dCxcbiAgICAgICAgc2hhcGVzID0gY29udGV4dC5zaGFwZXM7XG5cbiAgICB2YXIgbGFiZWxzID0gW107XG5cbiAgICBmb3JFYWNoKHNoYXBlcywgZnVuY3Rpb24oZWxlbWVudCkge1xuXG4gICAgICBmb3JFYWNoKGVsZW1lbnQubGFiZWxzLCBmdW5jdGlvbihsYWJlbCkge1xuXG4gICAgICAgIGlmICghbGFiZWwuaGlkZGVuICYmIGNvbnRleHQuc2hhcGVzLmluZGV4T2YobGFiZWwpID09PSAtMSkge1xuICAgICAgICAgIGxhYmVscy5wdXNoKGxhYmVsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlbGVtZW50LmxhYmVsVGFyZ2V0KSB7XG4gICAgICAgICAgbGFiZWxzLnB1c2goZWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZm9yRWFjaChsYWJlbHMsIGZ1bmN0aW9uKGxhYmVsKSB7XG4gICAgICBtb3ZlUHJldmlldy5tYWtlRHJhZ2dhYmxlKGNvbnRleHQsIGxhYmVsLCB0cnVlKTtcbiAgICB9KTtcblxuICB9KTtcblxuICAvLyBhZGQgYWxsIGxhYmVscyB0byBtb3ZlIGNsb3N1cmVcbiAgdGhpcy5wcmVFeGVjdXRlZCgnZWxlbWVudHMubW92ZScsIEhJR0hfUFJJT1JJVFksIGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgY29udGV4dCA9IGUuY29udGV4dCxcbiAgICAgICAgY2xvc3VyZSA9IGNvbnRleHQuY2xvc3VyZSxcbiAgICAgICAgZW5jbG9zZWRFbGVtZW50cyA9IGNsb3N1cmUuZW5jbG9zZWRFbGVtZW50cztcblxuICAgIHZhciBlbmNsb3NlZExhYmVscyA9IFtdO1xuXG4gICAgLy8gZmluZCBsYWJlbHMgdGhhdCBhcmUgbm90IHBhcnQgb2ZcbiAgICAvLyBtb3ZlIGNsb3N1cmUgeWV0IGFuZCBhZGQgdGhlbVxuICAgIGZvckVhY2goZW5jbG9zZWRFbGVtZW50cywgZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgZm9yRWFjaChlbGVtZW50LmxhYmVscywgZnVuY3Rpb24obGFiZWwpIHtcblxuICAgICAgICBpZiAoIWVuY2xvc2VkRWxlbWVudHNbbGFiZWwuaWRdKSB7XG4gICAgICAgICAgZW5jbG9zZWRMYWJlbHMucHVzaChsYWJlbCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgY2xvc3VyZS5hZGRBbGwoZW5jbG9zZWRMYWJlbHMpO1xuICB9KTtcblxuXG4gIHRoaXMucHJlRXhlY3V0ZShbXG4gICAgJ2Nvbm5lY3Rpb24uZGVsZXRlJyxcbiAgICAnc2hhcGUuZGVsZXRlJ1xuICBdLCBmdW5jdGlvbihlKSB7XG5cbiAgICB2YXIgY29udGV4dCA9IGUuY29udGV4dCxcbiAgICAgICAgZWxlbWVudCA9IGNvbnRleHQuY29ubmVjdGlvbiB8fCBjb250ZXh0LnNoYXBlO1xuXG4gICAgc2F2ZUNsZWFyKGVsZW1lbnQubGFiZWxzLCBmdW5jdGlvbihsYWJlbCkge1xuICAgICAgbW9kZWxpbmcucmVtb3ZlU2hhcGUobGFiZWwsIHsgbmVzdGVkOiB0cnVlIH0pO1xuICAgIH0pO1xuICB9KTtcblxuXG4gIHRoaXMuZXhlY3V0ZSgnc2hhcGUuZGVsZXRlJywgZnVuY3Rpb24oZSkge1xuXG4gICAgdmFyIGNvbnRleHQgPSBlLmNvbnRleHQsXG4gICAgICAgIHNoYXBlID0gY29udGV4dC5zaGFwZSxcbiAgICAgICAgbGFiZWxUYXJnZXQgPSBzaGFwZS5sYWJlbFRhcmdldDtcblxuICAgIC8vIHVuc2V0IGxhYmVsVGFyZ2V0XG4gICAgaWYgKGxhYmVsVGFyZ2V0KSB7XG4gICAgICBjb250ZXh0LmxhYmVsVGFyZ2V0SW5kZXggPSBjb2xsZWN0aW9uSWR4KGxhYmVsVGFyZ2V0LmxhYmVscywgc2hhcGUpO1xuICAgICAgY29udGV4dC5sYWJlbFRhcmdldCA9IGxhYmVsVGFyZ2V0O1xuXG4gICAgICBzaGFwZS5sYWJlbFRhcmdldCA9IG51bGw7XG4gICAgfVxuICB9KTtcblxuICB0aGlzLnJldmVydCgnc2hhcGUuZGVsZXRlJywgZnVuY3Rpb24oZSkge1xuXG4gICAgdmFyIGNvbnRleHQgPSBlLmNvbnRleHQsXG4gICAgICAgIHNoYXBlID0gY29udGV4dC5zaGFwZSxcbiAgICAgICAgbGFiZWxUYXJnZXQgPSBjb250ZXh0LmxhYmVsVGFyZ2V0LFxuICAgICAgICBsYWJlbFRhcmdldEluZGV4ID0gY29udGV4dC5sYWJlbFRhcmdldEluZGV4O1xuXG4gICAgLy8gcmVzdG9yZSBsYWJlbFRhcmdldFxuICAgIGlmIChsYWJlbFRhcmdldCkge1xuICAgICAgY29sbGVjdGlvbkFkZChsYWJlbFRhcmdldC5sYWJlbHMsIHNoYXBlLCBsYWJlbFRhcmdldEluZGV4KTtcblxuICAgICAgc2hhcGUubGFiZWxUYXJnZXQgPSBsYWJlbFRhcmdldDtcbiAgICB9XG4gIH0pO1xuXG59XG5cbmluaGVyaXRzKExhYmVsU3VwcG9ydCwgQ29tbWFuZEludGVyY2VwdG9yKTtcblxuTGFiZWxTdXBwb3J0LiRpbmplY3QgPSBbXG4gICdpbmplY3RvcicsXG4gICdldmVudEJ1cycsXG4gICdtb2RlbGluZydcbl07XG5cblxuLyoqXG4gKiBSZXR1cm4gYSBmaWx0ZXJlZCBsaXN0IG9mIGVsZW1lbnRzIHRoYXQgZG8gbm90XG4gKiBjb250YWluIGF0dGFjaGVkIGVsZW1lbnRzIHdpdGggaG9zdHMgYmVpbmcgcGFydFxuICogb2YgdGhlIHNlbGVjdGlvbi5cbiAqXG4gKiBAcGFyYW0gIHtBcnJheTxkanMubW9kZWwuQmFzZT59IGVsZW1lbnRzXG4gKlxuICogQHJldHVybiB7QXJyYXk8ZGpzLm1vZGVsLkJhc2U+fSBmaWx0ZXJlZFxuICovXG5mdW5jdGlvbiByZW1vdmVMYWJlbHMoZWxlbWVudHMpIHtcblxuICByZXR1cm4gZmlsdGVyKGVsZW1lbnRzLCBmdW5jdGlvbihlbGVtZW50KSB7XG5cbiAgICAvLyBmaWx0ZXIgb3V0IGxhYmVscyB0aGF0IGFyZSBtb3ZlIHRvZ2V0aGVyXG4gICAgLy8gd2l0aCB0aGVpciBsYWJlbCB0YXJnZXRzXG4gICAgcmV0dXJuIGVsZW1lbnRzLmluZGV4T2YoZWxlbWVudC5sYWJlbFRhcmdldCkgPT09IC0xO1xuICB9KTtcbn1cbiIsImltcG9ydCBMYWJlbFN1cHBvcnQgZnJvbSAnLi9MYWJlbFN1cHBvcnQnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9faW5pdF9fOiBbICdsYWJlbFN1cHBvcnQnXSxcbiAgbGFiZWxTdXBwb3J0OiBbICd0eXBlJywgTGFiZWxTdXBwb3J0IF1cbn07XG4iLCJpbXBvcnQge1xuICBmbGF0dGVuLFxuICBmaWx0ZXIsXG4gIGZvckVhY2gsXG4gIGdyb3VwQnksXG4gIG1hcCxcbiAgdW5pb25CeVxufSBmcm9tICdtaW4tZGFzaCc7XG5cbmltcG9ydCB7IHNhdmVDbGVhciB9IGZyb20gJy4uLy4uL3V0aWwvUmVtb3ZhbCc7XG5cbmltcG9ydCB7IGdldE5ld0F0dGFjaFNoYXBlRGVsdGEgfSBmcm9tICcuLi8uLi91dGlsL0F0dGFjaFV0aWwnO1xuXG5pbXBvcnQgaW5oZXJpdHMgZnJvbSAnaW5oZXJpdHMnO1xuXG5pbXBvcnQgQ29tbWFuZEludGVyY2VwdG9yIGZyb20gJy4uLy4uL2NvbW1hbmQvQ29tbWFuZEludGVyY2VwdG9yJztcblxudmFyIExPV19QUklPUklUWSA9IDI1MSxcbiAgICBISUdIX1BSSU9SSVRZID0gMTQwMTtcblxudmFyIE1BUktFUl9BVFRBQ0ggPSAnYXR0YWNoLW9rJztcblxuXG4vKipcbiAqIEFkZHMgdGhlIG5vdGlvbiBvZiBhdHRhY2hlZCBlbGVtZW50cyB0byB0aGUgbW9kZWxlci5cbiAqXG4gKiBPcHRpb25hbGx5IGRlcGVuZHMgb24gYGRpYWdyYW0tanMvbGliL2ZlYXR1cmVzL21vdmVgIHRvIHJlbmRlclxuICogdGhlIGF0dGFjaGVkIGVsZW1lbnRzIGR1cmluZyBtb3ZlIHByZXZpZXcuXG4gKlxuICogT3B0aW9uYWxseSBkZXBlbmRzIG9uIGBkaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9sYWJlbC1zdXBwb3J0YFxuICogdG8gcmVuZGVyIGF0dGFjaGVkIGxhYmVscyBkdXJpbmcgbW92ZSBwcmV2aWV3LlxuICpcbiAqIEBwYXJhbSB7ZGlkaS5JbmplY3Rvcn0gaW5qZWN0b3JcbiAqIEBwYXJhbSB7RXZlbnRCdXN9IGV2ZW50QnVzXG4gKiBAcGFyYW0ge0NhbnZhc30gY2FudmFzXG4gKiBAcGFyYW0ge1J1bGVzfSBydWxlc1xuICogQHBhcmFtIHtNb2RlbGluZ30gbW9kZWxpbmdcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQXR0YWNoU3VwcG9ydChpbmplY3RvciwgZXZlbnRCdXMsIGNhbnZhcywgcnVsZXMsIG1vZGVsaW5nKSB7XG5cbiAgQ29tbWFuZEludGVyY2VwdG9yLmNhbGwodGhpcywgZXZlbnRCdXMpO1xuXG4gIHZhciBtb3ZlUHJldmlldyA9IGluamVjdG9yLmdldCgnbW92ZVByZXZpZXcnLCBmYWxzZSk7XG5cblxuICAvLyByZW1vdmUgYWxsIHRoZSBhdHRhY2hlZCBlbGVtZW50cyBmcm9tIHRoZSBzaGFwZXMgdG8gYmUgdmFsaWRhdGVkXG4gIC8vIGFkZCBhbGwgdGhlIGF0dGFjaGVkIHNoYXBlcyB0byB0aGUgb3ZlcmFsbCBsaXN0IG9mIG1vdmVkIHNoYXBlc1xuICBldmVudEJ1cy5vbignc2hhcGUubW92ZS5zdGFydCcsIEhJR0hfUFJJT1JJVFksIGZ1bmN0aW9uKGUpIHtcblxuICAgIHZhciBjb250ZXh0ID0gZS5jb250ZXh0LFxuICAgICAgICBzaGFwZXMgPSBjb250ZXh0LnNoYXBlcyxcbiAgICAgICAgdmFsaWRhdGVkU2hhcGVzID0gY29udGV4dC52YWxpZGF0ZWRTaGFwZXM7XG5cbiAgICBjb250ZXh0LnNoYXBlcyA9IGFkZEF0dGFjaGVkKHNoYXBlcyk7XG5cbiAgICBjb250ZXh0LnZhbGlkYXRlZFNoYXBlcyA9IHJlbW92ZUF0dGFjaGVkKHZhbGlkYXRlZFNoYXBlcyk7XG4gIH0pO1xuXG4gIC8vIGFkZCBhdHRhY2hlcnMgdG8gdGhlIHZpc3VhbCdzIGdyb3VwXG4gIG1vdmVQcmV2aWV3ICYmIGV2ZW50QnVzLm9uKCdzaGFwZS5tb3ZlLnN0YXJ0JywgTE9XX1BSSU9SSVRZLCBmdW5jdGlvbihlKSB7XG5cbiAgICB2YXIgY29udGV4dCA9IGUuY29udGV4dCxcbiAgICAgICAgc2hhcGVzID0gY29udGV4dC5zaGFwZXMsXG4gICAgICAgIGF0dGFjaGVycyA9IGdldEF0dGFjaGVycyhzaGFwZXMpO1xuXG4gICAgZm9yRWFjaChhdHRhY2hlcnMsIGZ1bmN0aW9uKGF0dGFjaGVyKSB7XG4gICAgICBtb3ZlUHJldmlldy5tYWtlRHJhZ2dhYmxlKGNvbnRleHQsIGF0dGFjaGVyLCB0cnVlKTtcblxuICAgICAgZm9yRWFjaChhdHRhY2hlci5sYWJlbHMsIGZ1bmN0aW9uKGxhYmVsKSB7XG4gICAgICAgIG1vdmVQcmV2aWV3Lm1ha2VEcmFnZ2FibGUoY29udGV4dCwgbGFiZWwsIHRydWUpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8vIGFkZCBhdHRhY2gtb2sgbWFya2VyIHRvIGN1cnJlbnQgaG9zdFxuICBtb3ZlUHJldmlldyAmJiBldmVudEJ1cy5vbignc2hhcGUubW92ZS5zdGFydCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0LFxuICAgICAgICBzaGFwZXMgPSBjb250ZXh0LnNoYXBlcztcblxuICAgIGlmIChzaGFwZXMubGVuZ3RoICE9PSAxKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHNoYXBlID0gc2hhcGVzWzBdO1xuXG4gICAgdmFyIGhvc3QgPSBzaGFwZS5ob3N0O1xuXG4gICAgaWYgKGhvc3QpIHtcbiAgICAgIGNhbnZhcy5hZGRNYXJrZXIoaG9zdCwgTUFSS0VSX0FUVEFDSCk7XG5cbiAgICAgIGV2ZW50QnVzLm9uY2UoW1xuICAgICAgICAnc2hhcGUubW92ZS5vdXQnLFxuICAgICAgICAnc2hhcGUubW92ZS5jbGVhbnVwJ1xuICAgICAgXSwgZnVuY3Rpb24oKSB7XG4gICAgICAgIGNhbnZhcy5yZW1vdmVNYXJrZXIoaG9zdCwgTUFSS0VSX0FUVEFDSCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIGFkZCBhbGwgYXR0YWNoZXJzIHRvIG1vdmUgY2xvc3VyZVxuICB0aGlzLnByZUV4ZWN1dGVkKCdlbGVtZW50cy5tb3ZlJywgSElHSF9QUklPUklUWSwgZnVuY3Rpb24oZSkge1xuICAgIHZhciBjb250ZXh0ID0gZS5jb250ZXh0LFxuICAgICAgICBjbG9zdXJlID0gY29udGV4dC5jbG9zdXJlLFxuICAgICAgICBzaGFwZXMgPSBjb250ZXh0LnNoYXBlcyxcbiAgICAgICAgYXR0YWNoZXJzID0gZ2V0QXR0YWNoZXJzKHNoYXBlcyk7XG5cbiAgICBmb3JFYWNoKGF0dGFjaGVycywgZnVuY3Rpb24oYXR0YWNoZXIpIHtcbiAgICAgIGNsb3N1cmUuYWRkKGF0dGFjaGVyLCBjbG9zdXJlLnRvcExldmVsW2F0dGFjaGVyLmhvc3QuaWRdKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gcGVyZm9ybSB0aGUgYXR0YWNoaW5nIGFmdGVyIHNoYXBlcyBhcmUgZG9uZSBtb3ZpbmdcbiAgdGhpcy5wb3N0RXhlY3V0ZWQoJ2VsZW1lbnRzLm1vdmUnLCBmdW5jdGlvbihlKSB7XG5cbiAgICB2YXIgY29udGV4dCA9IGUuY29udGV4dCxcbiAgICAgICAgc2hhcGVzID0gY29udGV4dC5zaGFwZXMsXG4gICAgICAgIG5ld0hvc3QgPSBjb250ZXh0Lm5ld0hvc3QsXG4gICAgICAgIGF0dGFjaGVycztcblxuICAgIC8vIG9ubHkgc2luZ2xlIGVsZW1lbnRzIGNhbiBiZSBhdHRhY2hlZFxuICAgIC8vIG11bHRpcGx5IGVsZW1lbnRzIGNhbiBiZSBkZXRhY2hlZFxuICAgIGlmIChuZXdIb3N0ICYmIHNoYXBlcy5sZW5ndGggIT09IDEpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAobmV3SG9zdCkge1xuICAgICAgYXR0YWNoZXJzID0gc2hhcGVzO1xuICAgIH0gZWxzZSB7XG5cbiAgICAgIC8vIGZpbmQgYXR0YWNoZXJzIG1vdmVkIHdpdGhvdXQgaG9zdFxuICAgICAgYXR0YWNoZXJzID0gZmlsdGVyKHNoYXBlcywgZnVuY3Rpb24oc2hhcGUpIHtcbiAgICAgICAgdmFyIGhvc3QgPSBzaGFwZS5ob3N0O1xuXG4gICAgICAgIHJldHVybiBpc0F0dGFjaGVyKHNoYXBlKSAmJiAhaW5jbHVkZXMoc2hhcGVzLCBob3N0KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGZvckVhY2goYXR0YWNoZXJzLCBmdW5jdGlvbihhdHRhY2hlcikge1xuICAgICAgbW9kZWxpbmcudXBkYXRlQXR0YWNobWVudChhdHRhY2hlciwgbmV3SG9zdCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8vIGVuc3VyZSBpbnZhbGlkIGF0dGFjaG1lbnQgY29ubmVjdGlvbnMgYXJlIHJlbW92ZWRcbiAgdGhpcy5wb3N0RXhlY3V0ZWQoJ2VsZW1lbnRzLm1vdmUnLCBmdW5jdGlvbihlKSB7XG5cbiAgICB2YXIgc2hhcGVzID0gZS5jb250ZXh0LnNoYXBlcztcblxuICAgIGZvckVhY2goc2hhcGVzLCBmdW5jdGlvbihzaGFwZSkge1xuXG4gICAgICBmb3JFYWNoKHNoYXBlLmF0dGFjaGVycywgZnVuY3Rpb24oYXR0YWNoZXIpIHtcblxuICAgICAgICAvLyByZW1vdmUgaW52YWxpZCBvdXRnb2luZyBjb25uZWN0aW9uc1xuICAgICAgICBmb3JFYWNoKGF0dGFjaGVyLm91dGdvaW5nLnNsaWNlKCksIGZ1bmN0aW9uKGNvbm5lY3Rpb24pIHtcbiAgICAgICAgICB2YXIgYWxsb3dlZCA9IHJ1bGVzLmFsbG93ZWQoJ2Nvbm5lY3Rpb24ucmVjb25uZWN0Jywge1xuICAgICAgICAgICAgY29ubmVjdGlvbjogY29ubmVjdGlvbixcbiAgICAgICAgICAgIHNvdXJjZTogY29ubmVjdGlvbi5zb3VyY2UsXG4gICAgICAgICAgICB0YXJnZXQ6IGNvbm5lY3Rpb24udGFyZ2V0XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpZiAoIWFsbG93ZWQpIHtcbiAgICAgICAgICAgIG1vZGVsaW5nLnJlbW92ZUNvbm5lY3Rpb24oY29ubmVjdGlvbik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyByZW1vdmUgaW52YWxpZCBpbmNvbWluZyBjb25uZWN0aW9uc1xuICAgICAgICBmb3JFYWNoKGF0dGFjaGVyLmluY29taW5nLnNsaWNlKCksIGZ1bmN0aW9uKGNvbm5lY3Rpb24pIHtcbiAgICAgICAgICB2YXIgYWxsb3dlZCA9IHJ1bGVzLmFsbG93ZWQoJ2Nvbm5lY3Rpb24ucmVjb25uZWN0Jywge1xuICAgICAgICAgICAgY29ubmVjdGlvbjogY29ubmVjdGlvbixcbiAgICAgICAgICAgIHNvdXJjZTogY29ubmVjdGlvbi5zb3VyY2UsXG4gICAgICAgICAgICB0YXJnZXQ6IGNvbm5lY3Rpb24udGFyZ2V0XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpZiAoIWFsbG93ZWQpIHtcbiAgICAgICAgICAgIG1vZGVsaW5nLnJlbW92ZUNvbm5lY3Rpb24oY29ubmVjdGlvbik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICB0aGlzLnBvc3RFeGVjdXRlKCdzaGFwZS5jcmVhdGUnLCBmdW5jdGlvbihlKSB7XG4gICAgdmFyIGNvbnRleHQgPSBlLmNvbnRleHQsXG4gICAgICAgIHNoYXBlID0gY29udGV4dC5zaGFwZSxcbiAgICAgICAgaG9zdCA9IGNvbnRleHQuaG9zdDtcblxuICAgIGlmIChob3N0KSB7XG4gICAgICBtb2RlbGluZy51cGRhdGVBdHRhY2htZW50KHNoYXBlLCBob3N0KTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIHVwZGF0ZSBhdHRhY2htZW50cyBpZiB0aGUgaG9zdCBpcyByZXBsYWNlZFxuICB0aGlzLnBvc3RFeGVjdXRlKCdzaGFwZS5yZXBsYWNlJywgZnVuY3Rpb24oZSkge1xuXG4gICAgdmFyIGNvbnRleHQgPSBlLmNvbnRleHQsXG4gICAgICAgIG9sZFNoYXBlID0gY29udGV4dC5vbGRTaGFwZSxcbiAgICAgICAgbmV3U2hhcGUgPSBjb250ZXh0Lm5ld1NoYXBlO1xuXG4gICAgLy8gbW92ZSB0aGUgYXR0YWNoZXJzIHRvIHRoZSBuZXcgaG9zdFxuICAgIHNhdmVDbGVhcihvbGRTaGFwZS5hdHRhY2hlcnMsIGZ1bmN0aW9uKGF0dGFjaGVyKSB7XG4gICAgICB2YXIgYWxsb3dlZCA9IHJ1bGVzLmFsbG93ZWQoJ2VsZW1lbnRzLm1vdmUnLCB7XG4gICAgICAgIHRhcmdldDogbmV3U2hhcGUsXG4gICAgICAgIHNoYXBlczogW2F0dGFjaGVyXVxuICAgICAgfSk7XG5cbiAgICAgIGlmIChhbGxvd2VkID09PSAnYXR0YWNoJykge1xuICAgICAgICBtb2RlbGluZy51cGRhdGVBdHRhY2htZW50KGF0dGFjaGVyLCBuZXdTaGFwZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtb2RlbGluZy5yZW1vdmVTaGFwZShhdHRhY2hlcik7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBtb3ZlIGF0dGFjaGVycyBpZiBuZXcgaG9zdCBoYXMgZGlmZmVyZW50IHNpemVcbiAgICBpZiAobmV3U2hhcGUuYXR0YWNoZXJzLmxlbmd0aCkge1xuXG4gICAgICBmb3JFYWNoKG5ld1NoYXBlLmF0dGFjaGVycywgZnVuY3Rpb24oYXR0YWNoZXIpIHtcbiAgICAgICAgdmFyIGRlbHRhID0gZ2V0TmV3QXR0YWNoU2hhcGVEZWx0YShhdHRhY2hlciwgb2xkU2hhcGUsIG5ld1NoYXBlKTtcbiAgICAgICAgbW9kZWxpbmcubW92ZVNoYXBlKGF0dGFjaGVyLCBkZWx0YSwgYXR0YWNoZXIucGFyZW50KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICB9KTtcblxuICAvLyBtb3ZlIHNoYXBlIG9uIGhvc3QgcmVzaXplXG4gIHRoaXMucG9zdEV4ZWN1dGUoJ3NoYXBlLnJlc2l6ZScsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0LFxuICAgICAgICBzaGFwZSA9IGNvbnRleHQuc2hhcGUsXG4gICAgICAgIG9sZEJvdW5kcyA9IGNvbnRleHQub2xkQm91bmRzLFxuICAgICAgICBuZXdCb3VuZHMgPSBjb250ZXh0Lm5ld0JvdW5kcyxcbiAgICAgICAgYXR0YWNoZXJzID0gc2hhcGUuYXR0YWNoZXJzLFxuICAgICAgICBoaW50cyA9IGNvbnRleHQuaGludHMgfHwge307XG5cbiAgICBpZiAoaGludHMuYXR0YWNoU3VwcG9ydCA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmb3JFYWNoKGF0dGFjaGVycywgZnVuY3Rpb24oYXR0YWNoZXIpIHtcbiAgICAgIHZhciBkZWx0YSA9IGdldE5ld0F0dGFjaFNoYXBlRGVsdGEoYXR0YWNoZXIsIG9sZEJvdW5kcywgbmV3Qm91bmRzKTtcblxuICAgICAgbW9kZWxpbmcubW92ZVNoYXBlKGF0dGFjaGVyLCBkZWx0YSwgYXR0YWNoZXIucGFyZW50KTtcblxuICAgICAgZm9yRWFjaChhdHRhY2hlci5sYWJlbHMsIGZ1bmN0aW9uKGxhYmVsKSB7XG4gICAgICAgIG1vZGVsaW5nLm1vdmVTaGFwZShsYWJlbCwgZGVsdGEsIGxhYmVsLnBhcmVudCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gcmVtb3ZlIGF0dGFjaG1lbnRzXG4gIHRoaXMucHJlRXhlY3V0ZSgnc2hhcGUuZGVsZXRlJywgZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgIHZhciBzaGFwZSA9IGV2ZW50LmNvbnRleHQuc2hhcGU7XG5cbiAgICBzYXZlQ2xlYXIoc2hhcGUuYXR0YWNoZXJzLCBmdW5jdGlvbihhdHRhY2hlcikge1xuICAgICAgbW9kZWxpbmcucmVtb3ZlU2hhcGUoYXR0YWNoZXIpO1xuICAgIH0pO1xuXG4gICAgaWYgKHNoYXBlLmhvc3QpIHtcbiAgICAgIG1vZGVsaW5nLnVwZGF0ZUF0dGFjaG1lbnQoc2hhcGUsIG51bGwpO1xuICAgIH1cbiAgfSk7XG59XG5cbmluaGVyaXRzKEF0dGFjaFN1cHBvcnQsIENvbW1hbmRJbnRlcmNlcHRvcik7XG5cbkF0dGFjaFN1cHBvcnQuJGluamVjdCA9IFtcbiAgJ2luamVjdG9yJyxcbiAgJ2V2ZW50QnVzJyxcbiAgJ2NhbnZhcycsXG4gICdydWxlcycsXG4gICdtb2RlbGluZydcbl07XG5cblxuLyoqXG4gKiBSZXR1cm4gYXR0YWNoZXJzIG9mIHRoZSBnaXZlbiBzaGFwZXNcbiAqXG4gKiBAcGFyYW0ge0FycmF5PGRqcy5tb2RlbC5CYXNlPn0gc2hhcGVzXG4gKiBAcmV0dXJuIHtBcnJheTxkanMubW9kZWwuQmFzZT59XG4gKi9cbmZ1bmN0aW9uIGdldEF0dGFjaGVycyhzaGFwZXMpIHtcbiAgcmV0dXJuIGZsYXR0ZW4obWFwKHNoYXBlcywgZnVuY3Rpb24ocykge1xuICAgIHJldHVybiBzLmF0dGFjaGVycyB8fCBbXTtcbiAgfSkpO1xufVxuXG4vKipcbiAqIFJldHVybiBhIGNvbWJpbmVkIGxpc3Qgb2YgZWxlbWVudHMgYW5kXG4gKiBhdHRhY2hlcnMuXG4gKlxuICogQHBhcmFtIHtBcnJheTxkanMubW9kZWwuQmFzZT59IGVsZW1lbnRzXG4gKiBAcmV0dXJuIHtBcnJheTxkanMubW9kZWwuQmFzZT59IGZpbHRlcmVkXG4gKi9cbmZ1bmN0aW9uIGFkZEF0dGFjaGVkKGVsZW1lbnRzKSB7XG4gIHZhciBhdHRhY2hlcnMgPSBnZXRBdHRhY2hlcnMoZWxlbWVudHMpO1xuXG4gIHJldHVybiB1bmlvbkJ5KCdpZCcsIGVsZW1lbnRzLCBhdHRhY2hlcnMpO1xufVxuXG4vKipcbiAqIFJldHVybiBhIGZpbHRlcmVkIGxpc3Qgb2YgZWxlbWVudHMgdGhhdCBkbyBub3RcbiAqIGNvbnRhaW4gYXR0YWNoZWQgZWxlbWVudHMgd2l0aCBob3N0cyBiZWluZyBwYXJ0XG4gKiBvZiB0aGUgc2VsZWN0aW9uLlxuICpcbiAqIEBwYXJhbSAge0FycmF5PGRqcy5tb2RlbC5CYXNlPn0gZWxlbWVudHNcbiAqXG4gKiBAcmV0dXJuIHtBcnJheTxkanMubW9kZWwuQmFzZT59IGZpbHRlcmVkXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZUF0dGFjaGVkKGVsZW1lbnRzKSB7XG5cbiAgdmFyIGlkcyA9IGdyb3VwQnkoZWxlbWVudHMsICdpZCcpO1xuXG4gIHJldHVybiBmaWx0ZXIoZWxlbWVudHMsIGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICB3aGlsZSAoZWxlbWVudCkge1xuXG4gICAgICAvLyBob3N0IGluIHNlbGVjdGlvblxuICAgICAgaWYgKGVsZW1lbnQuaG9zdCAmJiBpZHNbZWxlbWVudC5ob3N0LmlkXSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudDtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGlzQXR0YWNoZXIoc2hhcGUpIHtcbiAgcmV0dXJuICEhc2hhcGUuaG9zdDtcbn1cblxuZnVuY3Rpb24gaW5jbHVkZXMoYXJyYXksIGl0ZW0pIHtcbiAgcmV0dXJuIGFycmF5LmluZGV4T2YoaXRlbSkgIT09IC0xO1xufSIsImltcG9ydCBSdWxlc01vZHVsZSBmcm9tICcuLi9ydWxlcyc7XG5cbmltcG9ydCBBdHRhY2hTdXBwb3J0IGZyb20gJy4vQXR0YWNoU3VwcG9ydCc7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgX19kZXBlbmRzX186IFtcbiAgICBSdWxlc01vZHVsZVxuICBdLFxuICBfX2luaXRfXzogWyAnYXR0YWNoU3VwcG9ydCcgXSxcbiAgYXR0YWNoU3VwcG9ydDogWyAndHlwZScsIEF0dGFjaFN1cHBvcnQgXVxufTtcbiIsImltcG9ydCB7XG4gIGZvckVhY2hcbn0gZnJvbSAnbWluLWRhc2gnO1xuXG5pbXBvcnQge1xuICBjbG9zZXN0IGFzIGRvbUNsb3Nlc3Rcbn0gZnJvbSAnbWluLWRvbSc7XG5cbnZhciBMT1dfUFJJT1JJVFkgPSAyNTA7XG5cbi8qKlxuICogVGhlIHRvb2wgbWFuYWdlciBhY3RzIGFzIG1pZGRsZS1tYW4gYmV0d2VlbiB0aGUgYXZhaWxhYmxlIHRvb2wncyBhbmQgdGhlIFBhbGV0dGUsXG4gKiBpdCB0YWtlcyBjYXJlIG9mIG1ha2luZyBzdXJlIHRoYXQgdGhlIGNvcnJlY3QgYWN0aXZlIHN0YXRlIGlzIHNldC5cbiAqXG4gKiBAcGFyYW0gIHtPYmplY3R9ICAgIGV2ZW50QnVzXG4gKiBAcGFyYW0gIHtPYmplY3R9ICAgIGRyYWdnaW5nXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFRvb2xNYW5hZ2VyKGV2ZW50QnVzLCBkcmFnZ2luZykge1xuICB0aGlzLl9ldmVudEJ1cyA9IGV2ZW50QnVzO1xuICB0aGlzLl9kcmFnZ2luZyA9IGRyYWdnaW5nO1xuXG4gIHRoaXMuX3Rvb2xzID0gW107XG4gIHRoaXMuX2FjdGl2ZSA9IG51bGw7XG59XG5cblRvb2xNYW5hZ2VyLiRpbmplY3QgPSBbICdldmVudEJ1cycsICdkcmFnZ2luZycgXTtcblxuVG9vbE1hbmFnZXIucHJvdG90eXBlLnJlZ2lzdGVyVG9vbCA9IGZ1bmN0aW9uKG5hbWUsIGV2ZW50cykge1xuICB2YXIgdG9vbHMgPSB0aGlzLl90b29scztcblxuICBpZiAoIWV2ZW50cykge1xuICAgIHRocm93IG5ldyBFcnJvcignQSB0b29sIGhhcyB0byBiZSByZWdpc3RlcmVkIHdpdGggaXRcXCdzIFwiZXZlbnRzXCInKTtcbiAgfVxuXG4gIHRvb2xzLnB1c2gobmFtZSk7XG5cbiAgdGhpcy5iaW5kRXZlbnRzKG5hbWUsIGV2ZW50cyk7XG59O1xuXG5Ub29sTWFuYWdlci5wcm90b3R5cGUuaXNBY3RpdmUgPSBmdW5jdGlvbih0b29sKSB7XG4gIHJldHVybiB0b29sICYmIHRoaXMuX2FjdGl2ZSA9PT0gdG9vbDtcbn07XG5cblRvb2xNYW5hZ2VyLnByb3RvdHlwZS5sZW5ndGggPSBmdW5jdGlvbih0b29sKSB7XG4gIHJldHVybiB0aGlzLl90b29scy5sZW5ndGg7XG59O1xuXG5Ub29sTWFuYWdlci5wcm90b3R5cGUuc2V0QWN0aXZlID0gZnVuY3Rpb24odG9vbCkge1xuICB2YXIgZXZlbnRCdXMgPSB0aGlzLl9ldmVudEJ1cztcblxuICBpZiAodGhpcy5fYWN0aXZlICE9PSB0b29sKSB7XG4gICAgdGhpcy5fYWN0aXZlID0gdG9vbDtcblxuICAgIGV2ZW50QnVzLmZpcmUoJ3Rvb2wtbWFuYWdlci51cGRhdGUnLCB7IHRvb2w6IHRvb2wgfSk7XG4gIH1cbn07XG5cblRvb2xNYW5hZ2VyLnByb3RvdHlwZS5iaW5kRXZlbnRzID0gZnVuY3Rpb24obmFtZSwgZXZlbnRzKSB7XG4gIHZhciBldmVudEJ1cyA9IHRoaXMuX2V2ZW50QnVzLFxuICAgICAgZHJhZ2dpbmcgPSB0aGlzLl9kcmFnZ2luZztcblxuICB2YXIgZXZlbnRzVG9SZWdpc3RlciA9IFtdO1xuXG4gIGV2ZW50QnVzLm9uKGV2ZW50cy50b29sICsgJy5pbml0JywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgY29udGV4dCA9IGV2ZW50LmNvbnRleHQ7XG5cbiAgICAvLyBBY3RpdmUgdG9vbHMgdGhhdCB3YW50IHRvIHJlYWN0aXZhdGUgdGhlbXNlbHZlcyBtdXN0IGRvIHRoaXMgZXhwbGljaXRseVxuICAgIGlmICghY29udGV4dC5yZWFjdGl2YXRlICYmIHRoaXMuaXNBY3RpdmUobmFtZSkpIHtcbiAgICAgIHRoaXMuc2V0QWN0aXZlKG51bGwpO1xuXG4gICAgICBkcmFnZ2luZy5jYW5jZWwoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnNldEFjdGl2ZShuYW1lKTtcblxuICB9LCB0aGlzKTtcblxuICAvLyBUb2RvW3JpY2FyZG9dOiBhZGQgdGVzdCBjYXNlc1xuICBmb3JFYWNoKGV2ZW50cywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBldmVudHNUb1JlZ2lzdGVyLnB1c2goZXZlbnQgKyAnLmVuZGVkJyk7XG4gICAgZXZlbnRzVG9SZWdpc3Rlci5wdXNoKGV2ZW50ICsgJy5jYW5jZWxlZCcpO1xuICB9KTtcblxuICBldmVudEJ1cy5vbihldmVudHNUb1JlZ2lzdGVyLCBMT1dfUFJJT1JJVFksIGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICAvLyBXZSBkZWZlciB0aGUgZGUtYWN0aXZhdGlvbiBvZiB0aGUgdG9vbCB0byB0aGUgLmFjdGl2YXRlIHBoYXNlLFxuICAgIC8vIHNvIHdlJ3JlIGFibGUgdG8gY2hlY2sgaWYgd2Ugd2FudCB0byB0b2dnbGUgb2ZmIHRoZSBjdXJyZW50XG4gICAgLy8gYWN0aXZlIHRvb2wgb3Igc3dpdGNoIHRvIGEgbmV3IG9uZVxuICAgIGlmICghdGhpcy5fYWN0aXZlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGlzUGFsZXR0ZUNsaWNrKGV2ZW50KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuc2V0QWN0aXZlKG51bGwpO1xuICB9LCB0aGlzKTtcblxufTtcblxuXG4vLyBoZWxwZXJzIC8vLy8vLy8vLy8vLy8vL1xuXG4vKipcbiAqIENoZWNrIGlmIGEgZ2l2ZW4gZXZlbnQgaXMgYSBwYWxldHRlIGNsaWNrIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7RXZlbnRCdXMuRXZlbnR9IGV2ZW50XG4gKlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaXNQYWxldHRlQ2xpY2soZXZlbnQpIHtcbiAgdmFyIHRhcmdldCA9IGV2ZW50Lm9yaWdpbmFsRXZlbnQgJiYgZXZlbnQub3JpZ2luYWxFdmVudC50YXJnZXQ7XG5cbiAgcmV0dXJuIHRhcmdldCAmJiBkb21DbG9zZXN0KHRhcmdldCwgJy5ncm91cFtkYXRhLWdyb3VwPVwidG9vbHNcIl0nKTtcbn0iLCJpbXBvcnQgRHJhZ2dpbmdNb2R1bGUgZnJvbSAnLi4vZHJhZ2dpbmcnO1xuXG5pbXBvcnQgVG9vbE1hbmFnZXIgZnJvbSAnLi9Ub29sTWFuYWdlcic7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgX19kZXBlbmRzX186IFtcbiAgICBEcmFnZ2luZ01vZHVsZVxuICBdLFxuICBfX2luaXRfXzogWyAndG9vbE1hbmFnZXInIF0sXG4gIHRvb2xNYW5hZ2VyOiBbICd0eXBlJywgVG9vbE1hbmFnZXIgXVxufTtcbiIsImltcG9ydCB7IGZvckVhY2ggfSBmcm9tICdtaW4tZGFzaCc7XG5cbi8qKlxuICogUmV0dXJuIGRpcmVjdGlvbiBnaXZlbiBheGlzIGFuZCBkZWx0YS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gYXhpc1xuICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhXG4gKlxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGlyZWN0aW9uKGF4aXMsIGRlbHRhKSB7XG5cbiAgaWYgKGF4aXMgPT09ICd4Jykge1xuICAgIGlmIChkZWx0YSA+IDApIHtcbiAgICAgIHJldHVybiAnZSc7XG4gICAgfVxuXG4gICAgaWYgKGRlbHRhIDwgMCkge1xuICAgICAgcmV0dXJuICd3JztcbiAgICB9XG4gIH1cblxuICBpZiAoYXhpcyA9PT0gJ3knKSB7XG4gICAgaWYgKGRlbHRhID4gMCkge1xuICAgICAgcmV0dXJuICdzJztcbiAgICB9XG5cbiAgICBpZiAoZGVsdGEgPCAwKSB7XG4gICAgICByZXR1cm4gJ24nO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG4vKipcbiAqIFJldHVybnMgY29ubmVjdGlvbnMgd2hvc2Ugd2F5cG9pbnRzIGFyZSB0byBiZSB1cGRhdGVkLiBXYXlwb2ludHMgYXJlIHRvIGJlIHVwZGF0ZWQgaWYgc3RhcnRcbiAqIG9yIGVuZCBpcyB0byBiZSBtb3ZlZCBvciByZXNpemVkLlxuICpcbiAqIEBwYXJhbSB7QXJyYXk8ZGpzLm1vZGVsLlNoYXBlfSBtb3ZpbmdTaGFwZXNcbiAqIEBwYXJhbSB7QXJyYXk8ZGpzLm1vZGVsLlNoYXBlfSByZXNpemluZ1NoYXBlc1xuICpcbiAqIEByZXR1cm5zIHtBcnJheTxkanMubW9kZWwuQ29ubmVjdGlvbj59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRXYXlwb2ludHNVcGRhdGluZ0Nvbm5lY3Rpb25zKG1vdmluZ1NoYXBlcywgcmVzaXppbmdTaGFwZXMpIHtcbiAgdmFyIHdheXBvaW50c1VwZGF0aW5nQ29ubmVjdGlvbnMgPSBbXTtcblxuICBmb3JFYWNoKG1vdmluZ1NoYXBlcy5jb25jYXQocmVzaXppbmdTaGFwZXMpLCBmdW5jdGlvbihzaGFwZSkge1xuICAgIHZhciBpbmNvbWluZyA9IHNoYXBlLmluY29taW5nLFxuICAgICAgICBvdXRnb2luZyA9IHNoYXBlLm91dGdvaW5nO1xuXG4gICAgZm9yRWFjaChpbmNvbWluZy5jb25jYXQob3V0Z29pbmcpLCBmdW5jdGlvbihjb25uZWN0aW9uKSB7XG4gICAgICB2YXIgc291cmNlID0gY29ubmVjdGlvbi5zb3VyY2UsXG4gICAgICAgICAgdGFyZ2V0ID0gY29ubmVjdGlvbi50YXJnZXQ7XG5cbiAgICAgIGlmIChpbmNsdWRlcyhtb3ZpbmdTaGFwZXMsIHNvdXJjZSkgfHxcbiAgICAgICAgaW5jbHVkZXMobW92aW5nU2hhcGVzLCB0YXJnZXQpIHx8XG4gICAgICAgIGluY2x1ZGVzKHJlc2l6aW5nU2hhcGVzLCBzb3VyY2UpIHx8XG4gICAgICAgIGluY2x1ZGVzKHJlc2l6aW5nU2hhcGVzLCB0YXJnZXQpKSB7XG5cbiAgICAgICAgaWYgKCFpbmNsdWRlcyh3YXlwb2ludHNVcGRhdGluZ0Nvbm5lY3Rpb25zLCBjb25uZWN0aW9uKSkge1xuICAgICAgICAgIHdheXBvaW50c1VwZGF0aW5nQ29ubmVjdGlvbnMucHVzaChjb25uZWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9KTtcblxuICByZXR1cm4gd2F5cG9pbnRzVXBkYXRpbmdDb25uZWN0aW9ucztcbn1cblxuZnVuY3Rpb24gaW5jbHVkZXMoYXJyYXksIGl0ZW0pIHtcbiAgcmV0dXJuIGFycmF5LmluZGV4T2YoaXRlbSkgIT09IC0xO1xufVxuXG4vKipcbiAqIFJlc2l6ZSBib3VuZHMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGJvdW5kc1xuICogQHBhcmFtIHtudW1iZXJ9IGJvdW5kcy54XG4gKiBAcGFyYW0ge251bWJlcn0gYm91bmRzLnlcbiAqIEBwYXJhbSB7bnVtYmVyfSBib3VuZHMud2lkdGhcbiAqIEBwYXJhbSB7bnVtYmVyfSBib3VuZHMuaGVpZ2h0XG4gKiBAcGFyYW0ge3N0cmluZ30gZGlyZWN0aW9uXG4gKiBAcGFyYW0ge09iamVjdH0gZGVsdGFcbiAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YS54XG4gKiBAcGFyYW0ge251bWJlcn0gZGVsdGEueVxuICpcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlc2l6ZUJvdW5kcyhib3VuZHMsIGRpcmVjdGlvbiwgZGVsdGEpIHtcbiAgdmFyIHggPSBib3VuZHMueCxcbiAgICAgIHkgPSBib3VuZHMueSxcbiAgICAgIHdpZHRoID0gYm91bmRzLndpZHRoLFxuICAgICAgaGVpZ2h0ID0gYm91bmRzLmhlaWdodCxcbiAgICAgIGR4ID0gZGVsdGEueCxcbiAgICAgIGR5ID0gZGVsdGEueTtcblxuICBzd2l0Y2ggKGRpcmVjdGlvbikge1xuICBjYXNlICduJzpcbiAgICByZXR1cm4ge1xuICAgICAgeDogeCxcbiAgICAgIHk6IHkgKyBkeSxcbiAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgIGhlaWdodDogaGVpZ2h0IC0gZHlcbiAgICB9O1xuICBjYXNlICdzJzpcbiAgICByZXR1cm4ge1xuICAgICAgeDogeCxcbiAgICAgIHk6IHksXG4gICAgICB3aWR0aDogd2lkdGgsXG4gICAgICBoZWlnaHQ6IGhlaWdodCArIGR5XG4gICAgfTtcbiAgY2FzZSAndyc6XG4gICAgcmV0dXJuIHtcbiAgICAgIHg6IHggKyBkeCxcbiAgICAgIHk6IHksXG4gICAgICB3aWR0aDogd2lkdGggLSBkeCxcbiAgICAgIGhlaWdodDogaGVpZ2h0XG4gICAgfTtcbiAgY2FzZSAnZSc6XG4gICAgcmV0dXJuIHtcbiAgICAgIHg6IHgsXG4gICAgICB5OiB5LFxuICAgICAgd2lkdGg6IHdpZHRoICsgZHgsXG4gICAgICBoZWlnaHQ6IGhlaWdodFxuICAgIH07XG4gIGRlZmF1bHQ6XG4gICAgdGhyb3cgbmV3IEVycm9yKCd1bmtub3duIGRpcmVjdGlvbjogJyArIGRpcmVjdGlvbik7XG4gIH1cbn0iLCJpbXBvcnQge1xuICBhc3NpZ24sXG4gIGZpbHRlcixcbiAgZm9yRWFjaCxcbiAgaXNOdW1iZXJcbn0gZnJvbSAnbWluLWRhc2gnO1xuXG5pbXBvcnQgeyBhc1RSQkwgfSBmcm9tICcuLi8uLi9sYXlvdXQvTGF5b3V0VXRpbCc7XG5cbmltcG9ydCB7IGdldEJCb3ggfSBmcm9tICcuLi8uLi91dGlsL0VsZW1lbnRzJztcblxuaW1wb3J0IHsgZ2V0RGlyZWN0aW9uIH0gZnJvbSAnLi9TcGFjZVV0aWwnO1xuXG5pbXBvcnQgeyBoYXNQcmltYXJ5TW9kaWZpZXIgfSBmcm9tICcuLi8uLi91dGlsL01vdXNlJztcblxuaW1wb3J0IHsgc2V0IGFzIHNldEN1cnNvciB9IGZyb20gJy4uLy4uL3V0aWwvQ3Vyc29yJztcblxuaW1wb3J0IHsgc2VsZkFuZEFsbENoaWxkcmVuIH0gZnJvbSAnLi4vLi4vdXRpbC9FbGVtZW50cyc7XG5cbnZhciBhYnMgPSBNYXRoLmFicyxcbiAgICByb3VuZCA9IE1hdGgucm91bmQ7XG5cbnZhciBBWElTX1RPX0RJTUVOU0lPTiA9IHtcbiAgeDogJ3dpZHRoJyxcbiAgeTogJ2hlaWdodCdcbn07XG5cbnZhciBDVVJTT1JfQ1JPU1NIQUlSID0gJ2Nyb3NzaGFpcic7XG5cbnZhciBESVJFQ1RJT05fVE9fVFJCTCA9IHtcbiAgbjogJ3RvcCcsXG4gIHc6ICdsZWZ0JyxcbiAgczogJ2JvdHRvbScsXG4gIGU6ICdyaWdodCdcbn07XG5cbnZhciBISUdIX1BSSU9SSVRZID0gMTUwMDtcblxudmFyIERJUkVDVElPTl9UT19PUFBPU0lURSA9IHtcbiAgbjogJ3MnLFxuICB3OiAnZScsXG4gIHM6ICduJyxcbiAgZTogJ3cnXG59O1xuXG52YXIgUEFERElORyA9IDIwO1xuXG5cbi8qKlxuICogQWRkIG9yIHJlbW92ZSBzcGFjZSBieSBtb3ZpbmcgYW5kIHJlc2l6aW5nIGVsZW1lbnRzLlxuICpcbiAqIEBwYXJhbSB7Q2FudmFzfSBjYW52YXNcbiAqIEBwYXJhbSB7RHJhZ2dpbmd9IGRyYWdnaW5nXG4gKiBAcGFyYW0ge0V2ZW50QnVzfSBldmVudEJ1c1xuICogQHBhcmFtIHtNb2RlbGluZ30gbW9kZWxpbmdcbiAqIEBwYXJhbSB7UnVsZXN9IHJ1bGVzXG4gKiBAcGFyYW0ge1Rvb2xNYW5hZ2VyfSB0b29sTWFuYWdlclxuICogQHBhcmFtIHtNb3VzZX0gbW91c2VcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gU3BhY2VUb29sKFxuICAgIGNhbnZhcywgZHJhZ2dpbmcsIGV2ZW50QnVzLFxuICAgIG1vZGVsaW5nLCBydWxlcywgdG9vbE1hbmFnZXIsXG4gICAgbW91c2UpIHtcblxuICB0aGlzLl9jYW52YXMgPSBjYW52YXM7XG4gIHRoaXMuX2RyYWdnaW5nID0gZHJhZ2dpbmc7XG4gIHRoaXMuX2V2ZW50QnVzID0gZXZlbnRCdXM7XG4gIHRoaXMuX21vZGVsaW5nID0gbW9kZWxpbmc7XG4gIHRoaXMuX3J1bGVzID0gcnVsZXM7XG4gIHRoaXMuX3Rvb2xNYW5hZ2VyID0gdG9vbE1hbmFnZXI7XG4gIHRoaXMuX21vdXNlID0gbW91c2U7XG5cbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIHRvb2xNYW5hZ2VyLnJlZ2lzdGVyVG9vbCgnc3BhY2UnLCB7XG4gICAgdG9vbDogJ3NwYWNlVG9vbC5zZWxlY3Rpb24nLFxuICAgIGRyYWdnaW5nOiAnc3BhY2VUb29sJ1xuICB9KTtcblxuICBldmVudEJ1cy5vbignc3BhY2VUb29sLnNlbGVjdGlvbi5lbmQnLCBmdW5jdGlvbihldmVudCkge1xuICAgIGV2ZW50QnVzLm9uY2UoJ3NwYWNlVG9vbC5zZWxlY3Rpb24uZW5kZWQnLCBmdW5jdGlvbigpIHtcbiAgICAgIHNlbGYuYWN0aXZhdGVNYWtlU3BhY2UoZXZlbnQub3JpZ2luYWxFdmVudCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKCdzcGFjZVRvb2wubW92ZScsIEhJR0hfUFJJT1JJVFkgLCBmdW5jdGlvbihldmVudCkge1xuICAgIHZhciBjb250ZXh0ID0gZXZlbnQuY29udGV4dCxcbiAgICAgICAgaW5pdGlhbGl6ZWQgPSBjb250ZXh0LmluaXRpYWxpemVkO1xuXG4gICAgaWYgKCFpbml0aWFsaXplZCkge1xuICAgICAgaW5pdGlhbGl6ZWQgPSBjb250ZXh0LmluaXRpYWxpemVkID0gc2VsZi5pbml0KGV2ZW50LCBjb250ZXh0KTtcbiAgICB9XG5cbiAgICBpZiAoaW5pdGlhbGl6ZWQpIHtcbiAgICAgIGVuc3VyZUNvbnN0cmFpbnRzKGV2ZW50KTtcbiAgICB9XG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKCdzcGFjZVRvb2wuZW5kJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgY29udGV4dCA9IGV2ZW50LmNvbnRleHQsXG4gICAgICAgIGF4aXMgPSBjb250ZXh0LmF4aXMsXG4gICAgICAgIGRpcmVjdGlvbiA9IGNvbnRleHQuZGlyZWN0aW9uLFxuICAgICAgICBtb3ZpbmdTaGFwZXMgPSBjb250ZXh0Lm1vdmluZ1NoYXBlcyxcbiAgICAgICAgcmVzaXppbmdTaGFwZXMgPSBjb250ZXh0LnJlc2l6aW5nU2hhcGVzLFxuICAgICAgICBzdGFydCA9IGNvbnRleHQuc3RhcnQ7XG5cbiAgICBpZiAoIWNvbnRleHQuaW5pdGlhbGl6ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBlbnN1cmVDb25zdHJhaW50cyhldmVudCk7XG5cbiAgICB2YXIgZGVsdGEgPSB7XG4gICAgICB4OiAwLFxuICAgICAgeTogMFxuICAgIH07XG5cbiAgICBkZWx0YVsgYXhpcyBdID0gcm91bmQoZXZlbnRbICdkJyArIGF4aXMgXSk7XG5cbiAgICBzZWxmLm1ha2VTcGFjZShtb3ZpbmdTaGFwZXMsIHJlc2l6aW5nU2hhcGVzLCBkZWx0YSwgZGlyZWN0aW9uLCBzdGFydCk7XG5cbiAgICBldmVudEJ1cy5vbmNlKCdzcGFjZVRvb2wuZW5kZWQnLCBmdW5jdGlvbihldmVudCkge1xuXG4gICAgICAvLyBhY3RpdmF0ZSBzcGFjZSB0b29sIHNlbGVjdGlvbiBhZnRlciBtYWtlIHNwYWNlXG4gICAgICBzZWxmLmFjdGl2YXRlU2VsZWN0aW9uKGV2ZW50Lm9yaWdpbmFsRXZlbnQsIHRydWUsIHRydWUpO1xuICAgIH0pO1xuICB9KTtcbn1cblxuU3BhY2VUb29sLiRpbmplY3QgPSBbXG4gICdjYW52YXMnLFxuICAnZHJhZ2dpbmcnLFxuICAnZXZlbnRCdXMnLFxuICAnbW9kZWxpbmcnLFxuICAncnVsZXMnLFxuICAndG9vbE1hbmFnZXInLFxuICAnbW91c2UnXG5dO1xuXG4vKipcbiAqIEFjdGl2YXRlIHNwYWNlIHRvb2wgc2VsZWN0aW9uLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBldmVudFxuICogQHBhcmFtIHtib29sZWFufSBhdXRvQWN0aXZhdGVcbiAqL1xuU3BhY2VUb29sLnByb3RvdHlwZS5hY3RpdmF0ZVNlbGVjdGlvbiA9IGZ1bmN0aW9uKGV2ZW50LCBhdXRvQWN0aXZhdGUsIHJlYWN0aXZhdGUpIHtcbiAgdGhpcy5fZHJhZ2dpbmcuaW5pdChldmVudCwgJ3NwYWNlVG9vbC5zZWxlY3Rpb24nLCB7XG4gICAgYXV0b0FjdGl2YXRlOiBhdXRvQWN0aXZhdGUsXG4gICAgY3Vyc29yOiBDVVJTT1JfQ1JPU1NIQUlSLFxuICAgIGRhdGE6IHtcbiAgICAgIGNvbnRleHQ6IHtcbiAgICAgICAgcmVhY3RpdmF0ZTogcmVhY3RpdmF0ZVxuICAgICAgfVxuICAgIH0sXG4gICAgdHJhcENsaWNrOiBmYWxzZVxuICB9KTtcbn07XG5cbi8qKlxuICogQWN0aXZhdGUgc3BhY2UgdG9vbCBtYWtlIHNwYWNlLlxuICpcbiAqIEBwYXJhbSAge01vdXNlRXZlbnR9IGV2ZW50XG4gKi9cblNwYWNlVG9vbC5wcm90b3R5cGUuYWN0aXZhdGVNYWtlU3BhY2UgPSBmdW5jdGlvbihldmVudCkge1xuICB0aGlzLl9kcmFnZ2luZy5pbml0KGV2ZW50LCAnc3BhY2VUb29sJywge1xuICAgIGF1dG9BY3RpdmF0ZTogdHJ1ZSxcbiAgICBjdXJzb3I6IENVUlNPUl9DUk9TU0hBSVIsXG4gICAgZGF0YToge1xuICAgICAgY29udGV4dDoge31cbiAgICB9XG4gIH0pO1xufTtcblxuLyoqXG4gKiBNYWtlIHNwYWNlLlxuICpcbiAqIEBwYXJhbSAge0FycmF5PGRqcy5tb2RlbC5TaGFwZT59IG1vdmluZ1NoYXBlc1xuICogQHBhcmFtICB7QXJyYXk8ZGpzLm1vZGVsLlNoYXBlPn0gcmVzaXppbmdTaGFwZXNcbiAqIEBwYXJhbSAge09iamVjdH0gZGVsdGFcbiAqIEBwYXJhbSAge251bWJlcn0gZGVsdGEueFxuICogQHBhcmFtICB7bnVtYmVyfSBkZWx0YS55XG4gKiBAcGFyYW0gIHtzdHJpbmd9IGRpcmVjdGlvblxuICogQHBhcmFtICB7bnVtYmVyfSBzdGFydFxuICovXG5TcGFjZVRvb2wucHJvdG90eXBlLm1ha2VTcGFjZSA9IGZ1bmN0aW9uKG1vdmluZ1NoYXBlcywgcmVzaXppbmdTaGFwZXMsIGRlbHRhLCBkaXJlY3Rpb24sIHN0YXJ0KSB7XG4gIHJldHVybiB0aGlzLl9tb2RlbGluZy5jcmVhdGVTcGFjZShtb3ZpbmdTaGFwZXMsIHJlc2l6aW5nU2hhcGVzLCBkZWx0YSwgZGlyZWN0aW9uLCBzdGFydCk7XG59O1xuXG4vKipcbiAqIEluaXRpYWxpemUgbWFrZSBzcGFjZSBhbmQgcmV0dXJuIHRydWUgaWYgdGhhdCB3YXMgc3VjY2Vzc2Z1bC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gZXZlbnRcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb250ZXh0XG4gKlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuU3BhY2VUb29sLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24oZXZlbnQsIGNvbnRleHQpIHtcbiAgdmFyIGF4aXMgPSBhYnMoZXZlbnQuZHgpID4gYWJzKGV2ZW50LmR5KSA/ICd4JyA6ICd5JyxcbiAgICAgIGRlbHRhID0gZXZlbnRbICdkJyArIGF4aXMgXSxcbiAgICAgIHN0YXJ0ID0gZXZlbnRbIGF4aXMgXSAtIGRlbHRhO1xuXG4gIGlmIChhYnMoZGVsdGEpIDwgNSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIGludmVydCBkZWx0YSB0byByZW1vdmUgc3BhY2Ugd2hlbiBtb3ZpbmcgbGVmdFxuICBpZiAoZGVsdGEgPCAwKSB7XG4gICAgZGVsdGEgKj0gLTE7XG4gIH1cblxuICAvLyBpbnZlcnQgZGVsdGEgdG8gYWRkL3JlbW92ZSBzcGFjZSB3aGVuIHJlbW92aW5nL2FkZGluZyBzcGFjZSBpZiBtb2RpZmllciBrZXkgaXMgcHJlc3NlZFxuICBpZiAoaGFzUHJpbWFyeU1vZGlmaWVyKGV2ZW50KSkge1xuICAgIGRlbHRhICo9IC0xO1xuICB9XG5cbiAgdmFyIGRpcmVjdGlvbiA9IGdldERpcmVjdGlvbihheGlzLCBkZWx0YSk7XG5cbiAgdmFyIHJvb3QgPSB0aGlzLl9jYW52YXMuZ2V0Um9vdEVsZW1lbnQoKTtcblxuICB2YXIgY2hpbGRyZW4gPSBzZWxmQW5kQWxsQ2hpbGRyZW4ocm9vdCwgdHJ1ZSk7XG5cbiAgdmFyIGVsZW1lbnRzID0gdGhpcy5jYWxjdWxhdGVBZGp1c3RtZW50cyhjaGlsZHJlbiwgYXhpcywgZGVsdGEsIHN0YXJ0KTtcblxuICB2YXIgbWluRGltZW5zaW9ucyA9IHRoaXMuX2V2ZW50QnVzLmZpcmUoJ3NwYWNlVG9vbC5nZXRNaW5EaW1lbnNpb25zJywge1xuICAgIGF4aXM6IGF4aXMsXG4gICAgZGlyZWN0aW9uOiBkaXJlY3Rpb24sXG4gICAgc2hhcGVzOiBlbGVtZW50cy5yZXNpemluZ1NoYXBlcyxcbiAgICBzdGFydDogc3RhcnRcbiAgfSk7XG5cbiAgdmFyIHNwYWNlVG9vbENvbnN0cmFpbnRzID0gZ2V0U3BhY2VUb29sQ29uc3RyYWludHMoZWxlbWVudHMsIGF4aXMsIGRpcmVjdGlvbiwgc3RhcnQsIG1pbkRpbWVuc2lvbnMpO1xuXG4gIGFzc2lnbihcbiAgICBjb250ZXh0LFxuICAgIGVsZW1lbnRzLFxuICAgIHtcbiAgICAgIGF4aXM6IGF4aXMsXG4gICAgICBkaXJlY3Rpb246IGRpcmVjdGlvbixcbiAgICAgIHNwYWNlVG9vbENvbnN0cmFpbnRzOiBzcGFjZVRvb2xDb25zdHJhaW50cyxcbiAgICAgIHN0YXJ0OiBzdGFydFxuICAgIH1cbiAgKTtcblxuICBzZXRDdXJzb3IoJ3Jlc2l6ZS0nICsgKGF4aXMgPT09ICd4JyA/ICdldycgOiAnbnMnKSk7XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuXG4vKipcbiAqIEdldCBlbGVtZW50cyB0byBiZSBtb3ZlZCBhbmQgcmVzaXplZC5cbiAqXG4gKiBAcGFyYW0gIHtBcnJheTxkanMubW9kZWwuU2hhcGU+fSBlbGVtZW50c1xuICogQHBhcmFtICB7c3RyaW5nfSBheGlzXG4gKiBAcGFyYW0gIHtudW1iZXJ9IGRlbHRhXG4gKiBAcGFyYW0gIHtudW1iZXJ9IHN0YXJ0XG4gKlxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5TcGFjZVRvb2wucHJvdG90eXBlLmNhbGN1bGF0ZUFkanVzdG1lbnRzID0gZnVuY3Rpb24oZWxlbWVudHMsIGF4aXMsIGRlbHRhLCBzdGFydCkge1xuICB2YXIgcnVsZXMgPSB0aGlzLl9ydWxlcztcblxuICB2YXIgbW92aW5nU2hhcGVzID0gW10sXG4gICAgICByZXNpemluZ1NoYXBlcyA9IFtdO1xuXG4gIGZvckVhY2goZWxlbWVudHMsIGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICBpZiAoIWVsZW1lbnQucGFyZW50IHx8IGlzQ29ubmVjdGlvbihlbGVtZW50KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBzaGFwZVN0YXJ0ID0gZWxlbWVudFsgYXhpcyBdLFxuICAgICAgICBzaGFwZUVuZCA9IHNoYXBlU3RhcnQgKyBlbGVtZW50WyBBWElTX1RPX0RJTUVOU0lPTlsgYXhpcyBdIF07XG5cbiAgICAvLyBzaGFwZSB0byBiZSBtb3ZlZFxuICAgIGlmICgoZGVsdGEgPiAwICYmIHNoYXBlU3RhcnQgPiBzdGFydCkgfHwgKGRlbHRhIDwgMCAmJiBzaGFwZUVuZCA8IHN0YXJ0KSkge1xuICAgICAgcmV0dXJuIG1vdmluZ1NoYXBlcy5wdXNoKGVsZW1lbnQpO1xuICAgIH1cblxuICAgIC8vIHNoYXBlIHRvIGJlIHJlc2l6ZWRcbiAgICBpZiAoc2hhcGVTdGFydCA8IHN0YXJ0ICYmXG4gICAgICBzaGFwZUVuZCA+IHN0YXJ0ICYmXG4gICAgICBydWxlcy5hbGxvd2VkKCdzaGFwZS5yZXNpemUnLCB7IHNoYXBlOiBlbGVtZW50IH0pXG4gICAgKSB7XG5cbiAgICAgIHJldHVybiByZXNpemluZ1NoYXBlcy5wdXNoKGVsZW1lbnQpO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHtcbiAgICBtb3ZpbmdTaGFwZXM6IG1vdmluZ1NoYXBlcyxcbiAgICByZXNpemluZ1NoYXBlczogcmVzaXppbmdTaGFwZXNcbiAgfTtcbn07XG5cblNwYWNlVG9vbC5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24oKSB7XG5cbiAgaWYgKHRoaXMuaXNBY3RpdmUoKSkge1xuICAgIHJldHVybiB0aGlzLl9kcmFnZ2luZy5jYW5jZWwoKTtcbiAgfVxuXG4gIHZhciBtb3VzZUV2ZW50ID0gdGhpcy5fbW91c2UuZ2V0TGFzdE1vdmVFdmVudCgpO1xuXG4gIHRoaXMuYWN0aXZhdGVTZWxlY3Rpb24obW91c2VFdmVudCwgISFtb3VzZUV2ZW50KTtcbn07XG5cblNwYWNlVG9vbC5wcm90b3R5cGUuaXNBY3RpdmUgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGNvbnRleHQgPSB0aGlzLl9kcmFnZ2luZy5jb250ZXh0KCk7XG5cbiAgcmV0dXJuIGNvbnRleHQgJiYgL15zcGFjZVRvb2wvLnRlc3QoY29udGV4dC5wcmVmaXgpO1xufTtcblxuLy8gaGVscGVycyAvLy8vLy8vLy8vXG5cbmZ1bmN0aW9uIGFkZFBhZGRpbmcodHJibCkge1xuICByZXR1cm4ge1xuICAgIHRvcDogdHJibC50b3AgLSBQQURESU5HLFxuICAgIHJpZ2h0OiB0cmJsLnJpZ2h0ICsgUEFERElORyxcbiAgICBib3R0b206IHRyYmwuYm90dG9tICsgUEFERElORyxcbiAgICBsZWZ0OiB0cmJsLmxlZnQgLSBQQURESU5HXG4gIH07XG59XG5cbmZ1bmN0aW9uIGVuc3VyZUNvbnN0cmFpbnRzKGV2ZW50KSB7XG4gIHZhciBjb250ZXh0ID0gZXZlbnQuY29udGV4dCxcbiAgICAgIHNwYWNlVG9vbENvbnN0cmFpbnRzID0gY29udGV4dC5zcGFjZVRvb2xDb25zdHJhaW50cztcblxuICBpZiAoIXNwYWNlVG9vbENvbnN0cmFpbnRzKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIHgsIHk7XG5cbiAgaWYgKGlzTnVtYmVyKHNwYWNlVG9vbENvbnN0cmFpbnRzLmxlZnQpKSB7XG4gICAgeCA9IE1hdGgubWF4KGV2ZW50LngsIHNwYWNlVG9vbENvbnN0cmFpbnRzLmxlZnQpO1xuXG4gICAgZXZlbnQuZHggPSBldmVudC5keCArIHggLSBldmVudC54O1xuICAgIGV2ZW50LnggPSB4O1xuICB9XG5cbiAgaWYgKGlzTnVtYmVyKHNwYWNlVG9vbENvbnN0cmFpbnRzLnJpZ2h0KSkge1xuICAgIHggPSBNYXRoLm1pbihldmVudC54LCBzcGFjZVRvb2xDb25zdHJhaW50cy5yaWdodCk7XG5cbiAgICBldmVudC5keCA9IGV2ZW50LmR4ICsgeCAtIGV2ZW50Lng7XG4gICAgZXZlbnQueCA9IHg7XG4gIH1cblxuICBpZiAoaXNOdW1iZXIoc3BhY2VUb29sQ29uc3RyYWludHMudG9wKSkge1xuICAgIHkgPSBNYXRoLm1heChldmVudC55LCBzcGFjZVRvb2xDb25zdHJhaW50cy50b3ApO1xuXG4gICAgZXZlbnQuZHkgPSBldmVudC5keSArIHkgLSBldmVudC55O1xuICAgIGV2ZW50LnkgPSB5O1xuICB9XG5cbiAgaWYgKGlzTnVtYmVyKHNwYWNlVG9vbENvbnN0cmFpbnRzLmJvdHRvbSkpIHtcbiAgICB5ID0gTWF0aC5taW4oZXZlbnQueSwgc3BhY2VUb29sQ29uc3RyYWludHMuYm90dG9tKTtcblxuICAgIGV2ZW50LmR5ID0gZXZlbnQuZHkgKyB5IC0gZXZlbnQueTtcbiAgICBldmVudC55ID0geTtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRTcGFjZVRvb2xDb25zdHJhaW50cyhlbGVtZW50cywgYXhpcywgZGlyZWN0aW9uLCBzdGFydCwgbWluRGltZW5zaW9ucykge1xuICB2YXIgbW92aW5nU2hhcGVzID0gZWxlbWVudHMubW92aW5nU2hhcGVzLFxuICAgICAgcmVzaXppbmdTaGFwZXMgPSBlbGVtZW50cy5yZXNpemluZ1NoYXBlcztcblxuICBpZiAoIXJlc2l6aW5nU2hhcGVzLmxlbmd0aCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBzcGFjZVRvb2xDb25zdHJhaW50cyA9IHt9LFxuICAgICAgbWluLFxuICAgICAgbWF4O1xuXG4gIGZvckVhY2gocmVzaXppbmdTaGFwZXMsIGZ1bmN0aW9uKHJlc2l6aW5nU2hhcGUpIHtcbiAgICB2YXIgcmVzaXppbmdTaGFwZUJCb3ggPSBhc1RSQkwocmVzaXppbmdTaGFwZSk7XG5cbiAgICAvLyBmaW5kIGNoaWxkcmVuIHRoYXQgYXJlIG5vdCBtb3Zpbmcgb3IgcmVzaXppbmdcbiAgICB2YXIgbm9uTW92aW5nUmVzaXppbmdDaGlsZHJlbiA9IGZpbHRlcihyZXNpemluZ1NoYXBlLmNoaWxkcmVuLCBmdW5jdGlvbihjaGlsZCkge1xuICAgICAgcmV0dXJuICFpc0Nvbm5lY3Rpb24oY2hpbGQpICYmXG4gICAgICAgICFpc0xhYmVsKGNoaWxkKSAmJlxuICAgICAgICAhaW5jbHVkZXMobW92aW5nU2hhcGVzLCBjaGlsZCkgJiZcbiAgICAgICAgIWluY2x1ZGVzKHJlc2l6aW5nU2hhcGVzLCBjaGlsZCk7XG4gICAgfSk7XG5cbiAgICAvLyBmaW5kIGNoaWxkcmVuIHRoYXQgYXJlIG1vdmluZ1xuICAgIHZhciBtb3ZpbmdDaGlsZHJlbiA9IGZpbHRlcihyZXNpemluZ1NoYXBlLmNoaWxkcmVuLCBmdW5jdGlvbihjaGlsZCkge1xuICAgICAgcmV0dXJuICFpc0Nvbm5lY3Rpb24oY2hpbGQpICYmICFpc0xhYmVsKGNoaWxkKSAmJiBpbmNsdWRlcyhtb3ZpbmdTaGFwZXMsIGNoaWxkKTtcbiAgICB9KTtcblxuICAgIHZhciBtaW5Pck1heCxcbiAgICAgICAgbm9uTW92aW5nUmVzaXppbmdDaGlsZHJlbkJCb3gsXG4gICAgICAgIG1vdmluZ0NoaWxkcmVuQkJveDtcblxuICAgIGlmIChub25Nb3ZpbmdSZXNpemluZ0NoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgbm9uTW92aW5nUmVzaXppbmdDaGlsZHJlbkJCb3ggPSBhZGRQYWRkaW5nKGFzVFJCTChnZXRCQm94KG5vbk1vdmluZ1Jlc2l6aW5nQ2hpbGRyZW4pKSk7XG5cbiAgICAgIG1pbk9yTWF4ID0gc3RhcnQgLVxuICAgICAgICByZXNpemluZ1NoYXBlQkJveFsgRElSRUNUSU9OX1RPX1RSQkxbIGRpcmVjdGlvbiBdIF0gK1xuICAgICAgICBub25Nb3ZpbmdSZXNpemluZ0NoaWxkcmVuQkJveFsgRElSRUNUSU9OX1RPX1RSQkxbIGRpcmVjdGlvbiBdIF07XG5cbiAgICAgIGlmIChkaXJlY3Rpb24gPT09ICduJykge1xuICAgICAgICBzcGFjZVRvb2xDb25zdHJhaW50cy5ib3R0b20gPSBtYXggPSBpc051bWJlcihtYXgpID8gTWF0aC5taW4obWF4LCBtaW5Pck1heCkgOiBtaW5Pck1heDtcbiAgICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09PSAndycpIHtcbiAgICAgICAgc3BhY2VUb29sQ29uc3RyYWludHMucmlnaHQgPSBtYXggPSBpc051bWJlcihtYXgpID8gTWF0aC5taW4obWF4LCBtaW5Pck1heCkgOiBtaW5Pck1heDtcbiAgICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09PSAncycpIHtcbiAgICAgICAgc3BhY2VUb29sQ29uc3RyYWludHMudG9wID0gbWluID0gaXNOdW1iZXIobWluKSA/IE1hdGgubWF4KG1pbiwgbWluT3JNYXgpIDogbWluT3JNYXg7XG4gICAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gJ2UnKSB7XG4gICAgICAgIHNwYWNlVG9vbENvbnN0cmFpbnRzLmxlZnQgPSBtaW4gPSBpc051bWJlcihtaW4pID8gTWF0aC5tYXgobWluLCBtaW5Pck1heCkgOiBtaW5Pck1heDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAobW92aW5nQ2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICBtb3ZpbmdDaGlsZHJlbkJCb3ggPSBhZGRQYWRkaW5nKGFzVFJCTChnZXRCQm94KG1vdmluZ0NoaWxkcmVuKSkpO1xuXG4gICAgICBtaW5Pck1heCA9IHN0YXJ0IC1cbiAgICAgICAgbW92aW5nQ2hpbGRyZW5CQm94WyBESVJFQ1RJT05fVE9fVFJCTFsgRElSRUNUSU9OX1RPX09QUE9TSVRFWyBkaXJlY3Rpb24gXSBdIF0gK1xuICAgICAgICByZXNpemluZ1NoYXBlQkJveFsgRElSRUNUSU9OX1RPX1RSQkxbIERJUkVDVElPTl9UT19PUFBPU0lURVsgZGlyZWN0aW9uIF0gXSBdO1xuXG4gICAgICBpZiAoZGlyZWN0aW9uID09PSAnbicpIHtcbiAgICAgICAgc3BhY2VUb29sQ29uc3RyYWludHMuYm90dG9tID0gbWF4ID0gaXNOdW1iZXIobWF4KSA/IE1hdGgubWluKG1heCwgbWluT3JNYXgpIDogbWluT3JNYXg7XG4gICAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gJ3cnKSB7XG4gICAgICAgIHNwYWNlVG9vbENvbnN0cmFpbnRzLnJpZ2h0ID0gbWF4ID0gaXNOdW1iZXIobWF4KSA/IE1hdGgubWluKG1heCwgbWluT3JNYXgpIDogbWluT3JNYXg7XG4gICAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gJ3MnKSB7XG4gICAgICAgIHNwYWNlVG9vbENvbnN0cmFpbnRzLnRvcCA9IG1pbiA9IGlzTnVtYmVyKG1pbikgPyBNYXRoLm1heChtaW4sIG1pbk9yTWF4KSA6IG1pbk9yTWF4O1xuICAgICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPT09ICdlJykge1xuICAgICAgICBzcGFjZVRvb2xDb25zdHJhaW50cy5sZWZ0ID0gbWluID0gaXNOdW1iZXIobWluKSA/IE1hdGgubWF4KG1pbiwgbWluT3JNYXgpIDogbWluT3JNYXg7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHJlc2l6aW5nU2hhcGVNaW5EaW1lbnNpb25zID0gbWluRGltZW5zaW9ucyAmJiBtaW5EaW1lbnNpb25zWyByZXNpemluZ1NoYXBlLmlkIF07XG5cbiAgICBpZiAocmVzaXppbmdTaGFwZU1pbkRpbWVuc2lvbnMpIHtcbiAgICAgIGlmIChkaXJlY3Rpb24gPT09ICduJykge1xuICAgICAgICBtaW5Pck1heCA9IHN0YXJ0ICtcbiAgICAgICAgICByZXNpemluZ1NoYXBlWyBBWElTX1RPX0RJTUVOU0lPTiBbIGF4aXMgXSBdIC1cbiAgICAgICAgICByZXNpemluZ1NoYXBlTWluRGltZW5zaW9uc1sgQVhJU19UT19ESU1FTlNJT05bIGF4aXMgXSBdO1xuXG4gICAgICAgIHNwYWNlVG9vbENvbnN0cmFpbnRzLmJvdHRvbSA9IG1heCA9IGlzTnVtYmVyKG1heCkgPyBNYXRoLm1pbihtYXgsIG1pbk9yTWF4KSA6IG1pbk9yTWF4O1xuICAgICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPT09ICd3Jykge1xuICAgICAgICBtaW5Pck1heCA9IHN0YXJ0ICtcbiAgICAgICAgICByZXNpemluZ1NoYXBlWyBBWElTX1RPX0RJTUVOU0lPTiBbIGF4aXMgXSBdIC1cbiAgICAgICAgICByZXNpemluZ1NoYXBlTWluRGltZW5zaW9uc1sgQVhJU19UT19ESU1FTlNJT05bIGF4aXMgXSBdO1xuXG4gICAgICAgIHNwYWNlVG9vbENvbnN0cmFpbnRzLnJpZ2h0ID0gbWF4ID0gaXNOdW1iZXIobWF4KSA/IE1hdGgubWluKG1heCwgbWluT3JNYXgpIDogbWluT3JNYXg7XG4gICAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gJ3MnKSB7XG4gICAgICAgIG1pbk9yTWF4ID0gc3RhcnQgLVxuICAgICAgICAgIHJlc2l6aW5nU2hhcGVbIEFYSVNfVE9fRElNRU5TSU9OIFsgYXhpcyBdIF0gK1xuICAgICAgICAgIHJlc2l6aW5nU2hhcGVNaW5EaW1lbnNpb25zWyBBWElTX1RPX0RJTUVOU0lPTlsgYXhpcyBdIF07XG5cbiAgICAgICAgc3BhY2VUb29sQ29uc3RyYWludHMudG9wID0gbWluID0gaXNOdW1iZXIobWluKSA/IE1hdGgubWF4KG1pbiwgbWluT3JNYXgpIDogbWluT3JNYXg7XG4gICAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gJ2UnKSB7XG4gICAgICAgIG1pbk9yTWF4ID0gc3RhcnQgLVxuICAgICAgICAgIHJlc2l6aW5nU2hhcGVbIEFYSVNfVE9fRElNRU5TSU9OIFsgYXhpcyBdIF0gK1xuICAgICAgICAgIHJlc2l6aW5nU2hhcGVNaW5EaW1lbnNpb25zWyBBWElTX1RPX0RJTUVOU0lPTlsgYXhpcyBdIF07XG5cbiAgICAgICAgc3BhY2VUb29sQ29uc3RyYWludHMubGVmdCA9IG1pbiA9IGlzTnVtYmVyKG1pbikgPyBNYXRoLm1heChtaW4sIG1pbk9yTWF4KSA6IG1pbk9yTWF4O1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHNwYWNlVG9vbENvbnN0cmFpbnRzO1xufVxuXG5mdW5jdGlvbiBpbmNsdWRlcyhhcnJheSwgaXRlbSkge1xuICByZXR1cm4gYXJyYXkuaW5kZXhPZihpdGVtKSAhPT0gLTE7XG59XG5cbmZ1bmN0aW9uIGlzQ29ubmVjdGlvbihlbGVtZW50KSB7XG4gIHJldHVybiAhIWVsZW1lbnQud2F5cG9pbnRzO1xufVxuXG5mdW5jdGlvbiBpc0xhYmVsKGVsZW1lbnQpIHtcbiAgcmV0dXJuICEhZWxlbWVudC5sYWJlbFRhcmdldDtcbn0iLCJpbXBvcnQge1xuICBmb3JFYWNoXG59IGZyb20gJ21pbi1kYXNoJztcblxudmFyIE1BUktFUl9EUkFHR0lORyA9ICdkanMtZHJhZ2dpbmcnLFxuICAgIE1BUktFUl9SRVNJWklORyA9ICdkanMtcmVzaXppbmcnO1xuXG52YXIgTE9XX1BSSU9SSVRZID0gMjUwO1xuXG5pbXBvcnQge1xuICBhcHBlbmQgYXMgc3ZnQXBwZW5kLFxuICBhdHRyIGFzIHN2Z0F0dHIsXG4gIGNsYXNzZXMgYXMgc3ZnQ2xhc3NlcyxcbiAgY3JlYXRlIGFzIHN2Z0NyZWF0ZSxcbiAgcmVtb3ZlIGFzIHN2Z1JlbW92ZVxufSBmcm9tICd0aW55LXN2Zyc7XG5cbmltcG9ydCB7XG4gIHRyYW5zbGF0ZVxufSBmcm9tICcuLi8uLi91dGlsL1N2Z1RyYW5zZm9ybVV0aWwnO1xuXG52YXIgbWF4ID0gTWF0aC5tYXg7XG5cblxuLyoqXG4gKiBQcm92aWRlcyBwcmV2aWV3cyBmb3Igc2VsZWN0aW5nL21vdmluZy9yZXNpemluZyBzaGFwZXMgd2hlbiBjcmVhdGluZy9yZW1vdmluZyBzcGFjZS5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50QnVzfSBldmVudEJ1c1xuICogQHBhcmFtIHtFbGVtZW50UmVnaXN0cnl9IGVsZW1lbnRSZWdpc3RyeVxuICogQHBhcmFtIHtDYW52YXN9IGNhbnZhc1xuICogQHBhcmFtIHtTdHlsZXN9IHN0eWxlc1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBTcGFjZVRvb2xQcmV2aWV3KFxuICAgIGV2ZW50QnVzLCBlbGVtZW50UmVnaXN0cnksIGNhbnZhcyxcbiAgICBzdHlsZXMsIHByZXZpZXdTdXBwb3J0KSB7XG5cbiAgZnVuY3Rpb24gYWRkUHJldmlld0dmeChjb2xsZWN0aW9uLCBkcmFnR3JvdXApIHtcbiAgICBmb3JFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgIHByZXZpZXdTdXBwb3J0LmFkZERyYWdnZXIoZWxlbWVudCwgZHJhZ0dyb3VwKTtcblxuICAgICAgY2FudmFzLmFkZE1hcmtlcihlbGVtZW50LCBNQVJLRVJfRFJBR0dJTkcpO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gYWRkIGNyb3NzaGFpclxuICBldmVudEJ1cy5vbignc3BhY2VUb29sLnNlbGVjdGlvbi5zdGFydCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIHNwYWNlID0gY2FudmFzLmdldExheWVyKCdzcGFjZScpLFxuICAgICAgICBjb250ZXh0ID0gZXZlbnQuY29udGV4dDtcblxuICAgIHZhciBvcmllbnRhdGlvbiA9IHtcbiAgICAgIHg6ICdNIDAsLTEwMDAwIEwgMCwxMDAwMCcsXG4gICAgICB5OiAnTSAtMTAwMDAsMCBMIDEwMDAwLDAnXG4gICAgfTtcblxuICAgIHZhciBjcm9zc2hhaXJHcm91cCA9IHN2Z0NyZWF0ZSgnZycpO1xuICAgIHN2Z0F0dHIoY3Jvc3NoYWlyR3JvdXAsIHN0eWxlcy5jbHMoJ2Rqcy1jcm9zc2hhaXItZ3JvdXAnLCBbICduby1ldmVudHMnIF0pKTtcblxuICAgIHN2Z0FwcGVuZChzcGFjZSwgY3Jvc3NoYWlyR3JvdXApO1xuXG4gICAgLy8gaG9yaXpvbnRhbCBwYXRoXG4gICAgdmFyIHBhdGhYID0gc3ZnQ3JlYXRlKCdwYXRoJyk7XG4gICAgc3ZnQXR0cihwYXRoWCwgJ2QnLCBvcmllbnRhdGlvbi54KTtcbiAgICBzdmdDbGFzc2VzKHBhdGhYKS5hZGQoJ2Rqcy1jcm9zc2hhaXInKTtcblxuICAgIHN2Z0FwcGVuZChjcm9zc2hhaXJHcm91cCwgcGF0aFgpO1xuXG4gICAgLy8gdmVydGljYWwgcGF0aFxuICAgIHZhciBwYXRoWSA9IHN2Z0NyZWF0ZSgncGF0aCcpO1xuICAgIHN2Z0F0dHIocGF0aFksICdkJywgb3JpZW50YXRpb24ueSk7XG4gICAgc3ZnQ2xhc3NlcyhwYXRoWSkuYWRkKCdkanMtY3Jvc3NoYWlyJyk7XG5cbiAgICBzdmdBcHBlbmQoY3Jvc3NoYWlyR3JvdXAsIHBhdGhZKTtcblxuICAgIGNvbnRleHQuY3Jvc3NoYWlyR3JvdXAgPSBjcm9zc2hhaXJHcm91cDtcbiAgfSk7XG5cbiAgLy8gdXBkYXRlIGNyb3NzaGFpclxuICBldmVudEJ1cy5vbignc3BhY2VUb29sLnNlbGVjdGlvbi5tb3ZlJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgY3Jvc3NoYWlyR3JvdXAgPSBldmVudC5jb250ZXh0LmNyb3NzaGFpckdyb3VwO1xuXG4gICAgdHJhbnNsYXRlKGNyb3NzaGFpckdyb3VwLCBldmVudC54LCBldmVudC55KTtcbiAgfSk7XG5cbiAgLy8gcmVtb3ZlIGNyb3NzaGFpclxuICBldmVudEJ1cy5vbignc3BhY2VUb29sLnNlbGVjdGlvbi5jbGVhbnVwJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgY29udGV4dCA9IGV2ZW50LmNvbnRleHQsXG4gICAgICAgIGNyb3NzaGFpckdyb3VwID0gY29udGV4dC5jcm9zc2hhaXJHcm91cDtcblxuICAgIGlmIChjcm9zc2hhaXJHcm91cCkge1xuICAgICAgc3ZnUmVtb3ZlKGNyb3NzaGFpckdyb3VwKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIGFkZCBhbmQgdXBkYXRlIG1vdmUvcmVzaXplIHByZXZpZXdzXG4gIGV2ZW50QnVzLm9uKCdzcGFjZVRvb2wubW92ZScsIExPV19QUklPUklUWSwgZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgIHZhciBjb250ZXh0ID0gZXZlbnQuY29udGV4dCxcbiAgICAgICAgbGluZSA9IGNvbnRleHQubGluZSxcbiAgICAgICAgYXhpcyA9IGNvbnRleHQuYXhpcyxcbiAgICAgICAgbW92aW5nU2hhcGVzID0gY29udGV4dC5tb3ZpbmdTaGFwZXMsXG4gICAgICAgIHJlc2l6aW5nU2hhcGVzID0gY29udGV4dC5yZXNpemluZ1NoYXBlcztcblxuICAgIGlmICghY29udGV4dC5pbml0aWFsaXplZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghY29udGV4dC5kcmFnR3JvdXApIHtcbiAgICAgIHZhciBzcGFjZUxheWVyID0gY2FudmFzLmdldExheWVyKCdzcGFjZScpO1xuXG4gICAgICBsaW5lID0gc3ZnQ3JlYXRlKCdwYXRoJyk7XG4gICAgICBzdmdBdHRyKGxpbmUsICdkJywgJ00wLDAgTDAsMCcpO1xuICAgICAgc3ZnQ2xhc3NlcyhsaW5lKS5hZGQoJ2Rqcy1jcm9zc2hhaXInKTtcblxuICAgICAgc3ZnQXBwZW5kKHNwYWNlTGF5ZXIsIGxpbmUpO1xuXG4gICAgICBjb250ZXh0LmxpbmUgPSBsaW5lO1xuXG4gICAgICB2YXIgZHJhZ0dyb3VwID0gc3ZnQ3JlYXRlKCdnJyk7XG4gICAgICBzdmdBdHRyKGRyYWdHcm91cCwgc3R5bGVzLmNscygnZGpzLWRyYWctZ3JvdXAnLCBbICduby1ldmVudHMnIF0pKTtcblxuICAgICAgc3ZnQXBwZW5kKGNhbnZhcy5nZXREZWZhdWx0TGF5ZXIoKSwgZHJhZ0dyb3VwKTtcblxuICAgICAgLy8gc2hhcGVzXG4gICAgICBhZGRQcmV2aWV3R2Z4KG1vdmluZ1NoYXBlcywgZHJhZ0dyb3VwKTtcblxuICAgICAgLy8gY29ubmVjdGlvbnNcbiAgICAgIHZhciBtb3ZpbmdDb25uZWN0aW9ucyA9IGNvbnRleHQubW92aW5nQ29ubmVjdGlvbnMgPSBlbGVtZW50UmVnaXN0cnkuZmlsdGVyKGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgdmFyIHNvdXJjZUlzTW92aW5nID0gZmFsc2U7XG5cbiAgICAgICAgZm9yRWFjaChtb3ZpbmdTaGFwZXMsIGZ1bmN0aW9uKHNoYXBlKSB7XG4gICAgICAgICAgZm9yRWFjaChzaGFwZS5vdXRnb2luZywgZnVuY3Rpb24oY29ubmVjdGlvbikge1xuICAgICAgICAgICAgaWYgKGVsZW1lbnQgPT09IGNvbm5lY3Rpb24pIHtcbiAgICAgICAgICAgICAgc291cmNlSXNNb3ZpbmcgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgdGFyZ2V0SXNNb3ZpbmcgPSBmYWxzZTtcblxuICAgICAgICBmb3JFYWNoKG1vdmluZ1NoYXBlcywgZnVuY3Rpb24oc2hhcGUpIHtcbiAgICAgICAgICBmb3JFYWNoKHNoYXBlLmluY29taW5nLCBmdW5jdGlvbihjb25uZWN0aW9uKSB7XG4gICAgICAgICAgICBpZiAoZWxlbWVudCA9PT0gY29ubmVjdGlvbikge1xuICAgICAgICAgICAgICB0YXJnZXRJc01vdmluZyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciBzb3VyY2VJc1Jlc2l6aW5nID0gZmFsc2U7XG5cbiAgICAgICAgZm9yRWFjaChyZXNpemluZ1NoYXBlcywgZnVuY3Rpb24oc2hhcGUpIHtcbiAgICAgICAgICBmb3JFYWNoKHNoYXBlLm91dGdvaW5nLCBmdW5jdGlvbihjb25uZWN0aW9uKSB7XG4gICAgICAgICAgICBpZiAoZWxlbWVudCA9PT0gY29ubmVjdGlvbikge1xuICAgICAgICAgICAgICBzb3VyY2VJc1Jlc2l6aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIHRhcmdldElzUmVzaXppbmcgPSBmYWxzZTtcblxuICAgICAgICBmb3JFYWNoKHJlc2l6aW5nU2hhcGVzLCBmdW5jdGlvbihzaGFwZSkge1xuICAgICAgICAgIGZvckVhY2goc2hhcGUuaW5jb21pbmcsIGZ1bmN0aW9uKGNvbm5lY3Rpb24pIHtcbiAgICAgICAgICAgIGlmIChlbGVtZW50ID09PSBjb25uZWN0aW9uKSB7XG4gICAgICAgICAgICAgIHRhcmdldElzUmVzaXppbmcgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gaXNDb25uZWN0aW9uKGVsZW1lbnQpXG4gICAgICAgICAgJiYgKHNvdXJjZUlzTW92aW5nIHx8IHNvdXJjZUlzUmVzaXppbmcpXG4gICAgICAgICAgJiYgKHRhcmdldElzTW92aW5nIHx8IHRhcmdldElzUmVzaXppbmcpO1xuICAgICAgfSk7XG5cblxuICAgICAgYWRkUHJldmlld0dmeChtb3ZpbmdDb25uZWN0aW9ucywgZHJhZ0dyb3VwKTtcblxuICAgICAgY29udGV4dC5kcmFnR3JvdXAgPSBkcmFnR3JvdXA7XG4gICAgfVxuXG4gICAgaWYgKCFjb250ZXh0LmZyYW1lR3JvdXApIHtcbiAgICAgIHZhciBmcmFtZUdyb3VwID0gc3ZnQ3JlYXRlKCdnJyk7XG4gICAgICBzdmdBdHRyKGZyYW1lR3JvdXAsIHN0eWxlcy5jbHMoJ2Rqcy1mcmFtZS1ncm91cCcsIFsgJ25vLWV2ZW50cycgXSkpO1xuXG4gICAgICBzdmdBcHBlbmQoY2FudmFzLmdldERlZmF1bHRMYXllcigpLCBmcmFtZUdyb3VwKTtcblxuICAgICAgdmFyIGZyYW1lcyA9IFtdO1xuXG4gICAgICBmb3JFYWNoKHJlc2l6aW5nU2hhcGVzLCBmdW5jdGlvbihzaGFwZSkge1xuICAgICAgICB2YXIgZnJhbWUgPSBwcmV2aWV3U3VwcG9ydC5hZGRGcmFtZShzaGFwZSwgZnJhbWVHcm91cCk7XG5cbiAgICAgICAgdmFyIGluaXRpYWxCb3VuZHMgPSBmcmFtZS5nZXRCQm94KCk7XG5cbiAgICAgICAgZnJhbWVzLnB1c2goe1xuICAgICAgICAgIGVsZW1lbnQ6IGZyYW1lLFxuICAgICAgICAgIGluaXRpYWxCb3VuZHM6IGluaXRpYWxCb3VuZHNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY2FudmFzLmFkZE1hcmtlcihzaGFwZSwgTUFSS0VSX1JFU0laSU5HKTtcbiAgICAgIH0pO1xuXG4gICAgICBjb250ZXh0LmZyYW1lR3JvdXAgPSBmcmFtZUdyb3VwO1xuICAgICAgY29udGV4dC5mcmFtZXMgPSBmcmFtZXM7XG4gICAgfVxuXG4gICAgdmFyIG9yaWVudGF0aW9uID0ge1xuICAgICAgeDogJ00nICsgZXZlbnQueCArICcsIC0xMDAwMCBMJyArIGV2ZW50LnggKyAnLCAxMDAwMCcsXG4gICAgICB5OiAnTSAtMTAwMDAsICcgKyBldmVudC55ICsgJyBMIDEwMDAwLCAnICsgZXZlbnQueVxuICAgIH07XG5cbiAgICBzdmdBdHRyKGxpbmUsIHsgZDogb3JpZW50YXRpb25bIGF4aXMgXSB9KTtcblxuICAgIHZhciBvcHBvc2l0ZSA9IHsgeDogJ3knLCB5OiAneCcgfTtcbiAgICB2YXIgZGVsdGEgPSB7IHg6IGV2ZW50LmR4LCB5OiBldmVudC5keSB9O1xuICAgIGRlbHRhWyBvcHBvc2l0ZVsgY29udGV4dC5heGlzIF0gXSA9IDA7XG5cbiAgICAvLyB1cGRhdGUgbW92ZSBwcmV2aWV3c1xuICAgIHRyYW5zbGF0ZShjb250ZXh0LmRyYWdHcm91cCwgZGVsdGEueCwgZGVsdGEueSk7XG5cbiAgICAvLyB1cGRhdGUgcmVzaXplIHByZXZpZXdzXG4gICAgZm9yRWFjaChjb250ZXh0LmZyYW1lcywgZnVuY3Rpb24oZnJhbWUpIHtcbiAgICAgIHZhciBlbGVtZW50ID0gZnJhbWUuZWxlbWVudCxcbiAgICAgICAgICBpbml0aWFsQm91bmRzID0gZnJhbWUuaW5pdGlhbEJvdW5kcyxcbiAgICAgICAgICB3aWR0aCxcbiAgICAgICAgICBoZWlnaHQ7XG5cbiAgICAgIGlmIChjb250ZXh0LmRpcmVjdGlvbiA9PT0gJ2UnKSB7XG4gICAgICAgIHN2Z0F0dHIoZWxlbWVudCwge1xuICAgICAgICAgIHdpZHRoOiBtYXgoaW5pdGlhbEJvdW5kcy53aWR0aCArIGRlbHRhLngsIDUpXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2lkdGggPSBtYXgoaW5pdGlhbEJvdW5kcy53aWR0aCAtIGRlbHRhLngsIDUpO1xuXG4gICAgICAgIHN2Z0F0dHIoZWxlbWVudCwge1xuICAgICAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgICAgICB4OiBpbml0aWFsQm91bmRzLnggKyBpbml0aWFsQm91bmRzLndpZHRoIC0gd2lkdGhcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChjb250ZXh0LmRpcmVjdGlvbiA9PT0gJ3MnKSB7XG4gICAgICAgIHN2Z0F0dHIoZWxlbWVudCwge1xuICAgICAgICAgIGhlaWdodDogbWF4KGluaXRpYWxCb3VuZHMuaGVpZ2h0ICsgZGVsdGEueSwgNSlcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBoZWlnaHQgPSBtYXgoaW5pdGlhbEJvdW5kcy5oZWlnaHQgLSBkZWx0YS55LCA1KTtcblxuICAgICAgICBzdmdBdHRyKGVsZW1lbnQsIHtcbiAgICAgICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICAgICAgICB5OiBpbml0aWFsQm91bmRzLnkgKyBpbml0aWFsQm91bmRzLmhlaWdodCAtIGhlaWdodFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICB9KTtcblxuICAvLyByZW1vdmUgbW92ZS9yZXNpemUgcHJldmlld3NcbiAgZXZlbnRCdXMub24oJ3NwYWNlVG9vbC5jbGVhbnVwJywgZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgIHZhciBjb250ZXh0ID0gZXZlbnQuY29udGV4dCxcbiAgICAgICAgbW92aW5nU2hhcGVzID0gY29udGV4dC5tb3ZpbmdTaGFwZXMsXG4gICAgICAgIG1vdmluZ0Nvbm5lY3Rpb25zID0gY29udGV4dC5tb3ZpbmdDb25uZWN0aW9ucyxcbiAgICAgICAgcmVzaXppbmdTaGFwZXMgPSBjb250ZXh0LnJlc2l6aW5nU2hhcGVzLFxuICAgICAgICBsaW5lID0gY29udGV4dC5saW5lLFxuICAgICAgICBkcmFnR3JvdXAgPSBjb250ZXh0LmRyYWdHcm91cCxcbiAgICAgICAgZnJhbWVHcm91cCA9IGNvbnRleHQuZnJhbWVHcm91cDtcblxuICAgIC8vIG1vdmluZyBzaGFwZXNcbiAgICBmb3JFYWNoKG1vdmluZ1NoYXBlcywgZnVuY3Rpb24oc2hhcGUpIHtcbiAgICAgIGNhbnZhcy5yZW1vdmVNYXJrZXIoc2hhcGUsIE1BUktFUl9EUkFHR0lORyk7XG4gICAgfSk7XG5cbiAgICAvLyBtb3ZpbmcgY29ubmVjdGlvbnNcbiAgICBmb3JFYWNoKG1vdmluZ0Nvbm5lY3Rpb25zLCBmdW5jdGlvbihjb25uZWN0aW9uKSB7XG4gICAgICBjYW52YXMucmVtb3ZlTWFya2VyKGNvbm5lY3Rpb24sIE1BUktFUl9EUkFHR0lORyk7XG4gICAgfSk7XG5cbiAgICBpZiAoZHJhZ0dyb3VwKSB7XG4gICAgICBzdmdSZW1vdmUobGluZSk7XG4gICAgICBzdmdSZW1vdmUoZHJhZ0dyb3VwKTtcbiAgICB9XG5cbiAgICBmb3JFYWNoKHJlc2l6aW5nU2hhcGVzLCBmdW5jdGlvbihzaGFwZSkge1xuICAgICAgY2FudmFzLnJlbW92ZU1hcmtlcihzaGFwZSwgTUFSS0VSX1JFU0laSU5HKTtcbiAgICB9KTtcblxuICAgIGlmIChmcmFtZUdyb3VwKSB7XG4gICAgICBzdmdSZW1vdmUoZnJhbWVHcm91cCk7XG4gICAgfVxuICB9KTtcbn1cblxuU3BhY2VUb29sUHJldmlldy4kaW5qZWN0ID0gW1xuICAnZXZlbnRCdXMnLFxuICAnZWxlbWVudFJlZ2lzdHJ5JyxcbiAgJ2NhbnZhcycsXG4gICdzdHlsZXMnLFxuICAncHJldmlld1N1cHBvcnQnXG5dO1xuXG5cbi8vIGhlbHBlcnMgLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4vKipcbiAqIENoZWNrcyBpZiBhbiBlbGVtZW50IGlzIGEgY29ubmVjdGlvbi5cbiAqL1xuZnVuY3Rpb24gaXNDb25uZWN0aW9uKGVsZW1lbnQpIHtcbiAgcmV0dXJuIGVsZW1lbnQud2F5cG9pbnRzO1xufVxuIiwiaW1wb3J0IERyYWdnaW5nTW9kdWxlIGZyb20gJy4uL2RyYWdnaW5nJztcbmltcG9ydCBSdWxlc01vZHVsZSBmcm9tICcuLi9ydWxlcyc7XG5pbXBvcnQgVG9vbE1hbmFnZXJNb2R1bGUgZnJvbSAnLi4vdG9vbC1tYW5hZ2VyJztcbmltcG9ydCBQcmV2aWV3U3VwcG9ydE1vZHVsZSBmcm9tICcuLi9wcmV2aWV3LXN1cHBvcnQnO1xuaW1wb3J0IE1vdXNlTW9kdWxlIGZyb20gJy4uL21vdXNlJztcblxuaW1wb3J0IFNwYWNlVG9vbCBmcm9tICcuL1NwYWNlVG9vbCc7XG5pbXBvcnQgU3BhY2VUb29sUHJldmlldyBmcm9tICcuL1NwYWNlVG9vbFByZXZpZXcnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9faW5pdF9fOiBbJ3NwYWNlVG9vbFByZXZpZXcnXSxcbiAgX19kZXBlbmRzX186IFtcbiAgICBEcmFnZ2luZ01vZHVsZSxcbiAgICBSdWxlc01vZHVsZSxcbiAgICBUb29sTWFuYWdlck1vZHVsZSxcbiAgICBQcmV2aWV3U3VwcG9ydE1vZHVsZSxcbiAgICBNb3VzZU1vZHVsZVxuICBdLFxuICBzcGFjZVRvb2w6IFsndHlwZScsIFNwYWNlVG9vbCBdLFxuICBzcGFjZVRvb2xQcmV2aWV3OiBbJ3R5cGUnLCBTcGFjZVRvb2xQcmV2aWV3IF1cbn07XG4iLCJpbXBvcnQge1xuICBhc3NpZ24sXG59IGZyb20gJ21pbi1kYXNoJztcblxuaW1wb3J0IHtcbiAgaXNBbnlcbn0gZnJvbSAnLi91dGlsL01vZGVsaW5nVXRpbCc7XG5cbmltcG9ydCB7XG4gIGlzXG59IGZyb20gJy4uLy4uL3V0aWwvTW9kZWxVdGlsJztcblxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBQb3NpdEZhY3RvcnkobW9kZGxlKSB7XG4gIHRoaXMuX21vZGVsID0gbW9kZGxlO1xufVxuXG5Qb3NpdEZhY3RvcnkuJGluamVjdCA9IFsgJ21vZGRsZScgXTtcblxuXG5Qb3NpdEZhY3RvcnkucHJvdG90eXBlLl9uZWVkc0lkID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICByZXR1cm4gaXNBbnkoZWxlbWVudCwgW1xuICAgICdwb3N0aXQ6Qm9hcmRFbGVtZW50J1xuICBdKTtcbn07XG5cblBvc2l0RmFjdG9yeS5wcm90b3R5cGUuX2Vuc3VyZUlkID0gZnVuY3Rpb24oZWxlbWVudCkge1xuXG4gIC8vIGdlbmVyYXRlIHNlbWFudGljIGlkcyBmb3IgZWxlbWVudHNcbiAgLy8gcG9zdGl0OlBvc3RpdCAtPiBQb3NpdGl0X0lEXG4gIHZhciBwcmVmaXg7XG5cbiAgaWYgKGlzKGVsZW1lbnQsICdwb3N0aXQ6UG9zdGl0JykpIHtcbiAgICBwcmVmaXggPSAnUG9zdGl0JztcbiAgfSBlbHNlIHtcbiAgICBwcmVmaXggPSAoZWxlbWVudC4kdHlwZSB8fCAnJykucmVwbGFjZSgvXlteOl0qOi9nLCAnJyk7XG4gIH1cblxuICBwcmVmaXggKz0gJ18nO1xuXG4gIGlmICghZWxlbWVudC5pZCAmJiB0aGlzLl9uZWVkc0lkKGVsZW1lbnQpKSB7XG4gICAgZWxlbWVudC5pZCA9IHRoaXMuX21vZGVsLmlkcy5uZXh0UHJlZml4ZWQocHJlZml4LCBlbGVtZW50KTtcbiAgfVxufTtcblxuXG5Qb3NpdEZhY3RvcnkucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uKHR5cGUsIGF0dHJzKSB7XG4gIHZhciBlbGVtZW50ID0gdGhpcy5fbW9kZWwuY3JlYXRlKHR5cGUsIGF0dHJzIHx8IHt9KTtcblxuICB0aGlzLl9lbnN1cmVJZChlbGVtZW50KTtcblxuICByZXR1cm4gZWxlbWVudDtcbn07XG5cblxuUG9zaXRGYWN0b3J5LnByb3RvdHlwZS5jcmVhdGVEaUxhYmVsID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmNyZWF0ZSgncG9zdGl0RGk6UG9zdGl0TGFiZWwnLCB7XG4gICAgYm91bmRzOiB0aGlzLmNyZWF0ZURpQm91bmRzKClcbiAgfSk7XG59O1xuXG5cblBvc2l0RmFjdG9yeS5wcm90b3R5cGUuY3JlYXRlRGlTaGFwZSA9IGZ1bmN0aW9uKHNlbWFudGljLCBib3VuZHMsIGF0dHJzKSB7XG5cbiAgcmV0dXJuIHRoaXMuY3JlYXRlKCdwb3N0aXREaTpQb3N0aXRTaGFwZScsIGFzc2lnbih7XG4gICAgYm9hcmRFbGVtZW50OiBzZW1hbnRpYyxcbiAgICBib3VuZHM6IHRoaXMuY3JlYXRlRGlCb3VuZHMoYm91bmRzKVxuICB9LCBhdHRycykpO1xufTtcblxuXG5Qb3NpdEZhY3RvcnkucHJvdG90eXBlLmNyZWF0ZURpQm91bmRzID0gZnVuY3Rpb24oYm91bmRzKSB7XG4gIHJldHVybiB0aGlzLmNyZWF0ZSgnZGM6Qm91bmRzJywgYm91bmRzKTtcbn07XG5cblxuUG9zaXRGYWN0b3J5LnByb3RvdHlwZS5jcmVhdGVEaVBsYW5lID0gZnVuY3Rpb24oc2VtYW50aWMpIHtcbiAgcmV0dXJuIHRoaXMuY3JlYXRlKCdwb3N0aXREaTpQb3N0aXRQbGFuZScsIHtcbiAgICBib2FyZEVsZW1lbnQ6IHNlbWFudGljXG4gIH0pO1xufTsiLCJpbXBvcnQge1xuICBhc3NpZ24sXG4gIGZvckVhY2hcbn0gZnJvbSAnbWluLWRhc2gnO1xuXG5pbXBvcnQgaW5oZXJpdHMgZnJvbSAnaW5oZXJpdHMnO1xuXG5pbXBvcnQge1xuICByZW1vdmUgYXMgY29sbGVjdGlvblJlbW92ZVxufSBmcm9tICdkaWFncmFtLWpzL2xpYi91dGlsL0NvbGxlY3Rpb25zJztcblxuaW1wb3J0IHtcbiAgTGFiZWxcbn0gZnJvbSAnZGlhZ3JhbS1qcy9saWIvbW9kZWwnO1xuXG5pbXBvcnQge1xuICBpc1xufSBmcm9tICcuLi8uLi91dGlsL01vZGVsVXRpbCc7XG5cbmltcG9ydCBDb21tYW5kSW50ZXJjZXB0b3IgZnJvbSAnZGlhZ3JhbS1qcy9saWIvY29tbWFuZC9Db21tYW5kSW50ZXJjZXB0b3InO1xuXG4vKipcbiAqIEEgaGFuZGxlciByZXNwb25zaWJsZSBmb3IgdXBkYXRpbmcgdGhlIHVuZGVybHlpbmcgUG9zdGl0IFhNTCArIERJXG4gKiBvbmNlIGNoYW5nZXMgb24gdGhlIGRpYWdyYW0gaGFwcGVuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFBvc3RpdFVwZGF0ZXIoXG4gICAgZXZlbnRCdXMsIHBvc3RpdEZhY3RvcnksIGNvbm5lY3Rpb25Eb2NraW5nLFxuICAgIHRyYW5zbGF0ZSkge1xuXG4gIENvbW1hbmRJbnRlcmNlcHRvci5jYWxsKHRoaXMsIGV2ZW50QnVzKTtcblxuICB0aGlzLl9wb3N0aXRGYWN0b3J5ID0gcG9zdGl0RmFjdG9yeTtcbiAgdGhpcy5fdHJhbnNsYXRlID0gdHJhbnNsYXRlO1xuXG4gIHZhciBzZWxmID0gdGhpcztcblxuXG4gIC8vIFBvc3RpdCArIERJIHVwZGF0ZSAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cblxuICAvLyB1cGRhdGUgcGFyZW50XG4gIGZ1bmN0aW9uIHVwZGF0ZVBhcmVudChlKSB7XG4gICAgdmFyIGNvbnRleHQgPSBlLmNvbnRleHQ7XG5cbiAgICBzZWxmLnVwZGF0ZVBhcmVudChjb250ZXh0LnNoYXBlIHx8IGNvbnRleHQuY29ubmVjdGlvbiwgY29udGV4dC5vbGRQYXJlbnQpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmV2ZXJzZVVwZGF0ZVBhcmVudChlKSB7XG4gICAgdmFyIGNvbnRleHQgPSBlLmNvbnRleHQ7XG5cbiAgICB2YXIgZWxlbWVudCA9IGNvbnRleHQuc2hhcGUgfHwgY29udGV4dC5jb25uZWN0aW9uLFxuXG4gICAgICAgIC8vIG9sZFBhcmVudCBpcyB0aGUgKG9sZCkgbmV3IHBhcmVudCwgYmVjYXVzZSB3ZSBhcmUgdW5kb2luZ1xuICAgICAgICBvbGRQYXJlbnQgPSBjb250ZXh0LnBhcmVudCB8fCBjb250ZXh0Lm5ld1BhcmVudDtcblxuICAgIHNlbGYudXBkYXRlUGFyZW50KGVsZW1lbnQsIG9sZFBhcmVudCk7XG4gIH1cblxuICB0aGlzLmV4ZWN1dGVkKFtcbiAgICAnc2hhcGUubW92ZScsXG4gICAgJ3NoYXBlLmNyZWF0ZScsXG4gICAgJ3NoYXBlLmRlbGV0ZSdcbiAgXSwgaWZQb3N0aXQodXBkYXRlUGFyZW50KSk7XG5cbiAgdGhpcy5yZXZlcnRlZChbXG4gICAgJ3NoYXBlLm1vdmUnLFxuICAgICdzaGFwZS5jcmVhdGUnLFxuICAgICdzaGFwZS5kZWxldGUnXG4gIF0sIGlmUG9zdGl0KHJldmVyc2VVcGRhdGVQYXJlbnQpKTtcblxuICAvKlxuICAgKiAjIyBVcGRhdGluZyBQYXJlbnRcbiAgICpcbiAgICogV2hlbiBtb3JwaGluZyBhIHJvb3QgZWxlbWVudFxuICAgKiBtYWtlIHN1cmUgdGhhdCBib3RoIHRoZSAqc2VtYW50aWMqIGFuZCAqZGkqIHBhcmVudCBvZiBlYWNoIGVsZW1lbnRcbiAgICogaXMgdXBkYXRlZC5cbiAgICpcbiAgICovXG4gIGZ1bmN0aW9uIHVwZGF0ZVJvb3QoZXZlbnQpIHtcbiAgICB2YXIgY29udGV4dCA9IGV2ZW50LmNvbnRleHQsXG4gICAgICAgIG9sZFJvb3QgPSBjb250ZXh0Lm9sZFJvb3QsXG4gICAgICAgIGNoaWxkcmVuID0gb2xkUm9vdC5jaGlsZHJlbjtcblxuICAgIGZvckVhY2goY2hpbGRyZW4sIGZ1bmN0aW9uKGNoaWxkKSB7XG4gICAgICBpZiAoaXMoY2hpbGQsICdwb3N0aXQ6Qm9hcmRFbGVtZW50JykpIHtcbiAgICAgICAgc2VsZi51cGRhdGVQYXJlbnQoY2hpbGQpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgdGhpcy5leGVjdXRlZChbICdjYW52YXMudXBkYXRlUm9vdCcgXSwgdXBkYXRlUm9vdCk7XG4gIHRoaXMucmV2ZXJ0ZWQoWyAnY2FudmFzLnVwZGF0ZVJvb3QnIF0sIHVwZGF0ZVJvb3QpO1xuXG5cbiAgLy8gdXBkYXRlIGJvdW5kc1xuICBmdW5jdGlvbiB1cGRhdGVCb3VuZHMoZSkge1xuICAgIHZhciBzaGFwZSA9IGUuY29udGV4dC5zaGFwZTtcblxuICAgIGlmICghaXMoc2hhcGUsICdwb3N0aXQ6Qm9hcmRFbGVtZW50JykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzZWxmLnVwZGF0ZUJvdW5kcyhzaGFwZSk7XG4gIH1cblxuICB0aGlzLmV4ZWN1dGVkKFsgJ3NoYXBlLm1vdmUnLCAnc2hhcGUuY3JlYXRlJywgJ3NoYXBlLnJlc2l6ZScgXSwgaWZQb3N0aXQoZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgIC8vIGV4Y2x1ZGUgbGFiZWxzIGJlY2F1c2UgdGhleSdyZSBoYW5kbGVkIHNlcGFyYXRlbHkgZHVyaW5nIHNoYXBlLmNoYW5nZWRcbiAgICBpZiAoZXZlbnQuY29udGV4dC5zaGFwZS50eXBlID09PSAnbGFiZWwnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdXBkYXRlQm91bmRzKGV2ZW50KTtcbiAgfSkpO1xuXG4gIHRoaXMucmV2ZXJ0ZWQoWyAnc2hhcGUubW92ZScsICdzaGFwZS5jcmVhdGUnLCAnc2hhcGUucmVzaXplJyBdLCBpZlBvc3RpdChmdW5jdGlvbihldmVudCkge1xuXG4gICAgLy8gZXhjbHVkZSBsYWJlbHMgYmVjYXVzZSB0aGV5J3JlIGhhbmRsZWQgc2VwYXJhdGVseSBkdXJpbmcgc2hhcGUuY2hhbmdlZFxuICAgIGlmIChldmVudC5jb250ZXh0LnNoYXBlLnR5cGUgPT09ICdsYWJlbCcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB1cGRhdGVCb3VuZHMoZXZlbnQpO1xuICB9KSk7XG5cbiAgLy8gSGFuZGxlIGxhYmVscyBzZXBhcmF0ZWx5LiBUaGlzIGlzIG5lY2Vzc2FyeSwgYmVjYXVzZSB0aGUgbGFiZWwgYm91bmRzIGhhdmUgdG8gYmUgdXBkYXRlZFxuICAvLyBldmVyeSB0aW1lIGl0cyBzaGFwZSBjaGFuZ2VzLCBub3Qgb25seSBvbiBtb3ZlLCBjcmVhdGUgYW5kIHJlc2l6ZS5cbiAgZXZlbnRCdXMub24oJ3NoYXBlLmNoYW5nZWQnLCBmdW5jdGlvbihldmVudCkge1xuICAgIGlmIChldmVudC5lbGVtZW50LnR5cGUgPT09ICdsYWJlbCcpIHtcbiAgICAgIHVwZGF0ZUJvdW5kcyh7IGNvbnRleHQ6IHsgc2hhcGU6IGV2ZW50LmVsZW1lbnQgfSB9KTtcbiAgICB9XG4gIH0pO1xuXG59XG5cbmluaGVyaXRzKFBvc3RpdFVwZGF0ZXIsIENvbW1hbmRJbnRlcmNlcHRvcik7XG5cblBvc3RpdFVwZGF0ZXIuJGluamVjdCA9IFtcbiAgJ2V2ZW50QnVzJyxcbiAgJ3Bvc3RpdEZhY3RvcnknLFxuICAnY29ubmVjdGlvbkRvY2tpbmcnLFxuICAndHJhbnNsYXRlJ1xuXTtcblxuXG4vLyBpbXBsZW1lbnRhdGlvbiAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cblBvc3RpdFVwZGF0ZXIucHJvdG90eXBlLnVwZGF0ZUF0dGFjaG1lbnQgPSBmdW5jdGlvbihjb250ZXh0KSB7XG5cbiAgdmFyIHNoYXBlID0gY29udGV4dC5zaGFwZSxcbiAgICAgIGJ1c2luZXNzT2JqZWN0ID0gc2hhcGUuYnVzaW5lc3NPYmplY3QsXG4gICAgICBob3N0ID0gc2hhcGUuaG9zdDtcblxuICBidXNpbmVzc09iamVjdC5hdHRhY2hlZFRvUmVmID0gaG9zdCAmJiBob3N0LmJ1c2luZXNzT2JqZWN0O1xufTtcblxuUG9zdGl0VXBkYXRlci5wcm90b3R5cGUudXBkYXRlUGFyZW50ID0gZnVuY3Rpb24oZWxlbWVudCwgb2xkUGFyZW50KSB7XG5cbiAgLy8gZG8gbm90IHVwZGF0ZSBsYWJlbCBwYXJlbnRcbiAgaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBMYWJlbCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBwYXJlbnRTaGFwZSA9IGVsZW1lbnQucGFyZW50O1xuXG4gIHZhciBidXNpbmVzc09iamVjdCA9IGVsZW1lbnQuYnVzaW5lc3NPYmplY3QsXG4gICAgICBwYXJlbnRCdXNpbmVzc09iamVjdCA9IHBhcmVudFNoYXBlICYmIHBhcmVudFNoYXBlLmJ1c2luZXNzT2JqZWN0LFxuICAgICAgcGFyZW50RGkgPSBwYXJlbnRCdXNpbmVzc09iamVjdCAmJiBwYXJlbnRCdXNpbmVzc09iamVjdC5kaTtcblxuICB0aGlzLnVwZGF0ZVNlbWFudGljUGFyZW50KGJ1c2luZXNzT2JqZWN0LCBwYXJlbnRCdXNpbmVzc09iamVjdCk7XG5cbiAgdGhpcy51cGRhdGVEaVBhcmVudChidXNpbmVzc09iamVjdC5kaSwgcGFyZW50RGkpO1xufTtcblxuXG5Qb3N0aXRVcGRhdGVyLnByb3RvdHlwZS51cGRhdGVCb3VuZHMgPSBmdW5jdGlvbihzaGFwZSkge1xuXG4gIHZhciBkaSA9IHNoYXBlLmJ1c2luZXNzT2JqZWN0LmRpO1xuXG4gIHZhciB0YXJnZXQgPSAoc2hhcGUgaW5zdGFuY2VvZiBMYWJlbCkgPyB0aGlzLl9nZXRMYWJlbChkaSkgOiBkaTtcblxuICB2YXIgYm91bmRzID0gdGFyZ2V0LmJvdW5kcztcblxuICBpZiAoIWJvdW5kcykge1xuICAgIGJvdW5kcyA9IHRoaXMuX3Bvc3RpdEZhY3RvcnkuY3JlYXRlRGlCb3VuZHMoKTtcbiAgICB0YXJnZXQuc2V0KCdib3VuZHMnLCBib3VuZHMpO1xuICB9XG5cbiAgYXNzaWduKGJvdW5kcywge1xuICAgIHg6IHNoYXBlLngsXG4gICAgeTogc2hhcGUueSxcbiAgICB3aWR0aDogc2hhcGUud2lkdGgsXG4gICAgaGVpZ2h0OiBzaGFwZS5oZWlnaHRcbiAgfSk7XG59O1xuXG5cblBvc3RpdFVwZGF0ZXIucHJvdG90eXBlLnVwZGF0ZURpUGFyZW50ID0gZnVuY3Rpb24oZGksIHBhcmVudERpKSB7XG5cbiAgaWYgKHBhcmVudERpICYmICFpcyhwYXJlbnREaSwgJ3Bvc3RpdERpOlBvc3RpdFBsYW5lJykpIHtcbiAgICBwYXJlbnREaSA9IHBhcmVudERpLiRwYXJlbnQ7XG4gIH1cblxuICBpZiAoZGkuJHBhcmVudCA9PT0gcGFyZW50RGkpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgcGxhbmVFbGVtZW50cyA9IChwYXJlbnREaSB8fCBkaS4kcGFyZW50KS5nZXQoJ3BsYW5lRWxlbWVudCcpO1xuXG4gIGlmIChwYXJlbnREaSkge1xuICAgIHBsYW5lRWxlbWVudHMucHVzaChkaSk7XG4gICAgZGkuJHBhcmVudCA9IHBhcmVudERpO1xuICB9IGVsc2Uge1xuICAgIGNvbGxlY3Rpb25SZW1vdmUocGxhbmVFbGVtZW50cywgZGkpO1xuICAgIGRpLiRwYXJlbnQgPSBudWxsO1xuICB9XG59O1xuXG5cblBvc3RpdFVwZGF0ZXIucHJvdG90eXBlLnVwZGF0ZVNlbWFudGljUGFyZW50ID0gZnVuY3Rpb24oYnVzaW5lc3NPYmplY3QsIG5ld1BhcmVudCwgdmlzdWFsUGFyZW50KSB7XG5cbiAgdmFyIGNvbnRhaW5tZW50LFxuICAgICAgdHJhbnNsYXRlID0gdGhpcy5fdHJhbnNsYXRlO1xuXG4gIGlmIChidXNpbmVzc09iamVjdC4kcGFyZW50ID09PSBuZXdQYXJlbnQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuXG4gIGlmIChpcyhidXNpbmVzc09iamVjdCwgJ3Bvc3RpdDpCb2FyZEVsZW1lbnQnKSkge1xuICAgIGNvbnRhaW5tZW50ID0gJ2JvYXJkRWxlbWVudHMnO1xuICB9XG5cbiAgaWYgKCFjb250YWlubWVudCkge1xuICAgIHRocm93IG5ldyBFcnJvcih0cmFuc2xhdGUoXG4gICAgICAnbm8gcGFyZW50IGZvciB7ZWxlbWVudH0gaW4ge3BhcmVudH0nLFxuICAgICAge1xuICAgICAgICBlbGVtZW50OiBidXNpbmVzc09iamVjdC5pZCxcbiAgICAgICAgcGFyZW50OiBuZXdQYXJlbnQuaWRcbiAgICAgIH1cbiAgICApKTtcbiAgfVxuXG4gIHZhciBjaGlsZHJlbjtcblxuICBpZiAoYnVzaW5lc3NPYmplY3QuJHBhcmVudCkge1xuXG4gICAgLy8gcmVtb3ZlIGZyb20gb2xkIHBhcmVudFxuICAgIGNoaWxkcmVuID0gYnVzaW5lc3NPYmplY3QuJHBhcmVudC5nZXQoY29udGFpbm1lbnQpO1xuICAgIGNvbGxlY3Rpb25SZW1vdmUoY2hpbGRyZW4sIGJ1c2luZXNzT2JqZWN0KTtcbiAgfVxuXG4gIGlmICghbmV3UGFyZW50KSB7XG4gICAgYnVzaW5lc3NPYmplY3QuJHBhcmVudCA9IG51bGw7XG4gIH0gZWxzZSB7XG5cbiAgICAvLyBhZGQgdG8gbmV3IHBhcmVudFxuICAgIGNoaWxkcmVuID0gbmV3UGFyZW50LmdldChjb250YWlubWVudCk7XG4gICAgY2hpbGRyZW4ucHVzaChidXNpbmVzc09iamVjdCk7XG4gICAgYnVzaW5lc3NPYmplY3QuJHBhcmVudCA9IG5ld1BhcmVudDtcbiAgfVxuXG4gIGlmICh2aXN1YWxQYXJlbnQpIHtcbiAgICB2YXIgZGlDaGlsZHJlbiA9IHZpc3VhbFBhcmVudC5nZXQoY29udGFpbm1lbnQpO1xuXG4gICAgY29sbGVjdGlvblJlbW92ZShjaGlsZHJlbiwgYnVzaW5lc3NPYmplY3QpO1xuXG4gICAgaWYgKG5ld1BhcmVudCkge1xuXG4gICAgICBpZiAoIWRpQ2hpbGRyZW4pIHtcbiAgICAgICAgZGlDaGlsZHJlbiA9IFtdO1xuICAgICAgICBuZXdQYXJlbnQuc2V0KGNvbnRhaW5tZW50LCBkaUNoaWxkcmVuKTtcbiAgICAgIH1cblxuICAgICAgZGlDaGlsZHJlbi5wdXNoKGJ1c2luZXNzT2JqZWN0KTtcbiAgICB9XG4gIH1cbn07XG5cblxuLy8gaGVscGVycyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cblBvc3RpdFVwZGF0ZXIucHJvdG90eXBlLl9nZXRMYWJlbCA9IGZ1bmN0aW9uKGRpKSB7XG4gIGlmICghZGkubGFiZWwpIHtcbiAgICBkaS5sYWJlbCA9IHRoaXMuX3Bvc3RpdEZhY3RvcnkuY3JlYXRlRGlMYWJlbCgpO1xuICB9XG5cbiAgcmV0dXJuIGRpLmxhYmVsO1xufTtcblxuXG4vKipcbiAqIE1ha2Ugc3VyZSB0aGUgZXZlbnQgbGlzdGVuZXIgaXMgb25seSBjYWxsZWRcbiAqIGlmIHRoZSB0b3VjaGVkIGVsZW1lbnQgaXMgYSBwb3N0aXQgZWxlbWVudC5cbiAqXG4gKiBAcGFyYW0gIHtGdW5jdGlvbn0gZm5cbiAqIEByZXR1cm4ge0Z1bmN0aW9ufSBndWFyZGVkIGZ1bmN0aW9uXG4gKi9cbmZ1bmN0aW9uIGlmUG9zdGl0KGZuKSB7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICB2YXIgY29udGV4dCA9IGV2ZW50LmNvbnRleHQsXG4gICAgICAgIGVsZW1lbnQgPSBjb250ZXh0LnNoYXBlIHx8IGNvbnRleHQuY29ubmVjdGlvbjtcblxuICAgIGlmIChpcyhlbGVtZW50LCAncG9zdGl0OkJvYXJkRWxlbWVudCcpKSB7XG4gICAgICBmbihldmVudCk7XG4gICAgfVxuICB9O1xufVxuIiwiaW1wb3J0IHtcbiAgYXNzaWduLFxuICBmb3JFYWNoXG59IGZyb20gJ21pbi1kYXNoJztcblxuaW1wb3J0IGluaGVyaXRzIGZyb20gJ2luaGVyaXRzJztcblxuaW1wb3J0IHsgaXMgfSBmcm9tICcuLi8uLi91dGlsL01vZGVsVXRpbCc7XG5cbmltcG9ydCBCYXNlRWxlbWVudEZhY3RvcnkgZnJvbSAnZGlhZ3JhbS1qcy9saWIvY29yZS9FbGVtZW50RmFjdG9yeSc7XG5cbmltcG9ydCB7XG4gIERFRkFVTFRfTEFCRUxfU0laRVxufSBmcm9tICcuLi8uLi91dGlsL0xhYmVsVXRpbCc7XG5cblxuLyoqXG4gKiBBIHBvc3RpdC1hd2FyZSBmYWN0b3J5IGZvciBkaWFncmFtLWpzIHNoYXBlc1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBFbGVtZW50RmFjdG9yeShwb3N0aXRGYWN0b3J5LCBtb2RkbGUsIHRyYW5zbGF0ZSkge1xuICBCYXNlRWxlbWVudEZhY3RvcnkuY2FsbCh0aGlzKTtcblxuICB0aGlzLl9wb3N0aXRGYWN0b3J5ID0gcG9zdGl0RmFjdG9yeTtcbiAgdGhpcy5fbW9kZGxlID0gbW9kZGxlO1xuICB0aGlzLl90cmFuc2xhdGUgPSB0cmFuc2xhdGU7XG59XG5cbmluaGVyaXRzKEVsZW1lbnRGYWN0b3J5LCBCYXNlRWxlbWVudEZhY3RvcnkpO1xuXG5FbGVtZW50RmFjdG9yeS4kaW5qZWN0ID0gW1xuICAncG9zdGl0RmFjdG9yeScsXG4gICdtb2RkbGUnLFxuICAndHJhbnNsYXRlJ1xuXTtcblxuRWxlbWVudEZhY3RvcnkucHJvdG90eXBlLmJhc2VDcmVhdGUgPSBCYXNlRWxlbWVudEZhY3RvcnkucHJvdG90eXBlLmNyZWF0ZTtcblxuRWxlbWVudEZhY3RvcnkucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uKGVsZW1lbnRUeXBlLCBhdHRycykge1xuXG4gIC8vIG5vIHNwZWNpYWwgbWFnaWMgZm9yIGxhYmVscyxcbiAgLy8gd2UgYXNzdW1lIHRoZWlyIGJ1c2luZXNzT2JqZWN0cyBoYXZlIGFscmVhZHkgYmVlbiBjcmVhdGVkXG4gIC8vIGFuZCB3aXJlZCB2aWEgYXR0cnNcbiAgaWYgKGVsZW1lbnRUeXBlID09PSAnbGFiZWwnKSB7XG4gICAgcmV0dXJuIHRoaXMuYmFzZUNyZWF0ZShlbGVtZW50VHlwZSwgYXNzaWduKHsgdHlwZTogJ2xhYmVsJyB9LCBERUZBVUxUX0xBQkVMX1NJWkUsIGF0dHJzKSk7XG4gIH1cblxuICByZXR1cm4gdGhpcy5jcmVhdGVQb3N0aXRFbGVtZW50KGVsZW1lbnRUeXBlLCBhdHRycyk7XG59O1xuXG5FbGVtZW50RmFjdG9yeS5wcm90b3R5cGUuY3JlYXRlUG9zdGl0RWxlbWVudCA9IGZ1bmN0aW9uKGVsZW1lbnRUeXBlLCBhdHRycykge1xuICB2YXIgc2l6ZSxcbiAgICAgIHRyYW5zbGF0ZSA9IHRoaXMuX3RyYW5zbGF0ZTtcblxuICBhdHRycyA9IGF0dHJzIHx8IHt9O1xuXG4gIHZhciBidXNpbmVzc09iamVjdCA9IGF0dHJzLmJ1c2luZXNzT2JqZWN0O1xuXG4gIGlmICghYnVzaW5lc3NPYmplY3QpIHtcbiAgICBpZiAoIWF0dHJzLnR5cGUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcih0cmFuc2xhdGUoJ25vIHNoYXBlIHR5cGUgc3BlY2lmaWVkJykpO1xuICAgIH1cblxuICAgIGJ1c2luZXNzT2JqZWN0ID0gdGhpcy5fcG9zdGl0RmFjdG9yeS5jcmVhdGUoYXR0cnMudHlwZSk7XG4gIH1cblxuICBpZiAoIWJ1c2luZXNzT2JqZWN0LmRpKSB7XG4gICAgaWYgKGVsZW1lbnRUeXBlID09PSAncm9vdCcpIHtcbiAgICAgIGJ1c2luZXNzT2JqZWN0LmRpID0gdGhpcy5fcG9zdGl0RmFjdG9yeS5jcmVhdGVEaVBsYW5lKGJ1c2luZXNzT2JqZWN0LCBbXSwge1xuICAgICAgICBpZDogYnVzaW5lc3NPYmplY3QuaWQgKyAnX2RpJ1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJ1c2luZXNzT2JqZWN0LmRpID0gdGhpcy5fcG9zdGl0RmFjdG9yeS5jcmVhdGVEaVNoYXBlKGJ1c2luZXNzT2JqZWN0LCB7fSwge1xuICAgICAgICBpZDogYnVzaW5lc3NPYmplY3QuaWQgKyAnX2RpJ1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgaWYgKGlzKGJ1c2luZXNzT2JqZWN0LCAncG9zdGl0Okdyb3VwJykpIHtcbiAgICBhdHRycyA9IGFzc2lnbih7XG4gICAgICBpc0ZyYW1lOiB0cnVlXG4gICAgfSwgYXR0cnMpO1xuICB9XG5cbiAgaWYgKGF0dHJzLmRpKSB7XG4gICAgYXNzaWduKGJ1c2luZXNzT2JqZWN0LmRpLCBhdHRycy5kaSk7XG5cbiAgICBkZWxldGUgYXR0cnMuZGk7XG4gIH1cblxuICBhcHBseUF0dHJpYnV0ZXMoYnVzaW5lc3NPYmplY3QsIGF0dHJzLCBbXG4gICAgJ3Byb2Nlc3NSZWYnLFxuICAgICdpc0ludGVycnVwdGluZycsXG4gICAgJ2Fzc29jaWF0aW9uRGlyZWN0aW9uJyxcbiAgICAnaXNGb3JDb21wZW5zYXRpb24nXG4gIF0pO1xuXG4gIHNpemUgPSB0aGlzLl9nZXREZWZhdWx0U2l6ZShidXNpbmVzc09iamVjdCk7XG5cbiAgYXR0cnMgPSBhc3NpZ24oe1xuICAgIGJ1c2luZXNzT2JqZWN0OiBidXNpbmVzc09iamVjdCxcbiAgICBpZDogYnVzaW5lc3NPYmplY3QuaWRcbiAgfSwgc2l6ZSwgYXR0cnMpO1xuXG4gIHJldHVybiB0aGlzLmJhc2VDcmVhdGUoZWxlbWVudFR5cGUsIGF0dHJzKTtcbn07XG5cblxuRWxlbWVudEZhY3RvcnkucHJvdG90eXBlLl9nZXREZWZhdWx0U2l6ZSA9IGZ1bmN0aW9uKHNlbWFudGljKSB7XG4gIGlmIChpcyhzZW1hbnRpYywgJ3Bvc3RpdDpQb3N0aXQnKSkge1xuICAgIHJldHVybiB7IHdpZHRoOiAxNTAsIGhlaWdodDogMTUwIH07XG4gIH1cblxuICBpZiAoaXMoc2VtYW50aWMsICdwb3N0aXQ6R3JvdXAnKSkge1xuICAgIHJldHVybiB7IHdpZHRoOiAzMDAsIGhlaWdodDogMzAwIH07XG4gIH1cblxuICBpZiAoaXMoc2VtYW50aWMsICdwb3N0aXQ6SW1hZ2UnKSkge1xuICAgIHJldHVybiB7IHdpZHRoOiAzMDAsIGhlaWdodDogMzAwIH07XG4gIH1cblxuICByZXR1cm4geyB3aWR0aDogMTAwLCBoZWlnaHQ6IDgwIH07XG59O1xuXG5cblxuLy8gaGVscGVycyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbi8qKlxuICogQXBwbHkgYXR0cmlidXRlcyBmcm9tIGEgbWFwIHRvIHRoZSBnaXZlbiBlbGVtZW50LFxuICogcmVtb3ZlIGF0dHJpYnV0ZSBmcm9tIHRoZSBtYXAgb24gYXBwbGljYXRpb24uXG4gKlxuICogQHBhcmFtIHtCYXNlfSBlbGVtZW50XG4gKiBAcGFyYW0ge09iamVjdH0gYXR0cnMgKGluL291dCBtYXAgb2YgYXR0cmlidXRlcylcbiAqIEBwYXJhbSB7QXJyYXk8U3RyaW5nPn0gYXR0cmlidXRlTmFtZXMgbmFtZSBvZiBhdHRyaWJ1dGVzIHRvIGFwcGx5XG4gKi9cbmZ1bmN0aW9uIGFwcGx5QXR0cmlidXRlcyhlbGVtZW50LCBhdHRycywgYXR0cmlidXRlTmFtZXMpIHtcblxuICBmb3JFYWNoKGF0dHJpYnV0ZU5hbWVzLCBmdW5jdGlvbihwcm9wZXJ0eSkge1xuICAgIGlmIChhdHRyc1twcm9wZXJ0eV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgYXBwbHlBdHRyaWJ1dGUoZWxlbWVudCwgYXR0cnMsIHByb3BlcnR5KTtcbiAgICB9XG4gIH0pO1xufVxuXG4vKipcbiAqIEFwcGx5IG5hbWVkIHByb3BlcnR5IHRvIGVsZW1lbnQgYW5kIGRyYWluIGl0IGZyb20gdGhlIGF0dHJzXG4gKiBjb2xsZWN0aW9uLlxuICpcbiAqIEBwYXJhbSB7QmFzZX0gZWxlbWVudFxuICogQHBhcmFtIHtPYmplY3R9IGF0dHJzIChpbi9vdXQgbWFwIG9mIGF0dHJpYnV0ZXMpXG4gKiBAcGFyYW0ge1N0cmluZ30gYXR0cmlidXRlTmFtZSB0byBhcHBseVxuICovXG5mdW5jdGlvbiBhcHBseUF0dHJpYnV0ZShlbGVtZW50LCBhdHRycywgYXR0cmlidXRlTmFtZSkge1xuICBlbGVtZW50W2F0dHJpYnV0ZU5hbWVdID0gYXR0cnNbYXR0cmlidXRlTmFtZV07XG5cbiAgZGVsZXRlIGF0dHJzW2F0dHJpYnV0ZU5hbWVdO1xufSIsImltcG9ydCB7IGZvckVhY2ggfSBmcm9tICdtaW4tZGFzaCc7XG5cbi8qKlxuICogQSBoYW5kbGVyIHRoYXQgYWxpZ24gZWxlbWVudHMgaW4gYSBjZXJ0YWluIHdheS5cbiAqXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEFsaWduRWxlbWVudHMobW9kZWxpbmcsIGNhbnZhcykge1xuICB0aGlzLl9tb2RlbGluZyA9IG1vZGVsaW5nO1xuICB0aGlzLl9jYW52YXMgPSBjYW52YXM7XG59XG5cbkFsaWduRWxlbWVudHMuJGluamVjdCA9IFsgJ21vZGVsaW5nJywgJ2NhbnZhcycgXTtcblxuXG5BbGlnbkVsZW1lbnRzLnByb3RvdHlwZS5wcmVFeGVjdXRlID0gZnVuY3Rpb24oY29udGV4dCkge1xuICB2YXIgbW9kZWxpbmcgPSB0aGlzLl9tb2RlbGluZztcblxuICB2YXIgZWxlbWVudHMgPSBjb250ZXh0LmVsZW1lbnRzLFxuICAgICAgYWxpZ25tZW50ID0gY29udGV4dC5hbGlnbm1lbnQ7XG5cblxuICBmb3JFYWNoKGVsZW1lbnRzLCBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgdmFyIGRlbHRhID0ge1xuICAgICAgeDogMCxcbiAgICAgIHk6IDBcbiAgICB9O1xuXG4gICAgaWYgKGFsaWdubWVudC5sZWZ0KSB7XG4gICAgICBkZWx0YS54ID0gYWxpZ25tZW50LmxlZnQgLSBlbGVtZW50Lng7XG5cbiAgICB9IGVsc2UgaWYgKGFsaWdubWVudC5yaWdodCkge1xuICAgICAgZGVsdGEueCA9IChhbGlnbm1lbnQucmlnaHQgLSBlbGVtZW50LndpZHRoKSAtIGVsZW1lbnQueDtcblxuICAgIH0gZWxzZSBpZiAoYWxpZ25tZW50LmNlbnRlcikge1xuICAgICAgZGVsdGEueCA9IChhbGlnbm1lbnQuY2VudGVyIC0gTWF0aC5yb3VuZChlbGVtZW50LndpZHRoIC8gMikpIC0gZWxlbWVudC54O1xuXG4gICAgfSBlbHNlIGlmIChhbGlnbm1lbnQudG9wKSB7XG4gICAgICBkZWx0YS55ID0gYWxpZ25tZW50LnRvcCAtIGVsZW1lbnQueTtcblxuICAgIH0gZWxzZSBpZiAoYWxpZ25tZW50LmJvdHRvbSkge1xuICAgICAgZGVsdGEueSA9IChhbGlnbm1lbnQuYm90dG9tIC0gZWxlbWVudC5oZWlnaHQpIC0gZWxlbWVudC55O1xuXG4gICAgfSBlbHNlIGlmIChhbGlnbm1lbnQubWlkZGxlKSB7XG4gICAgICBkZWx0YS55ID0gKGFsaWdubWVudC5taWRkbGUgLSBNYXRoLnJvdW5kKGVsZW1lbnQuaGVpZ2h0IC8gMikpIC0gZWxlbWVudC55O1xuICAgIH1cblxuICAgIG1vZGVsaW5nLm1vdmVFbGVtZW50cyhbIGVsZW1lbnQgXSwgZGVsdGEsIGVsZW1lbnQucGFyZW50KTtcbiAgfSk7XG59O1xuXG5BbGlnbkVsZW1lbnRzLnByb3RvdHlwZS5wb3N0RXhlY3V0ZSA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcblxufTtcbiIsImltcG9ydCB7IHNvbWUgfSBmcm9tICdtaW4tZGFzaCc7XG5cblxuLyoqXG4gKiBBIGhhbmRsZXIgdGhhdCBpbXBsZW1lbnRzIHJldmVyc2libGUgYXBwZW5kaW5nIG9mIHNoYXBlc1xuICogdG8gYSBzb3VyY2Ugc2hhcGUuXG4gKlxuICogQHBhcmFtIHtjYW52YXN9IENhbnZhc1xuICogQHBhcmFtIHtlbGVtZW50RmFjdG9yeX0gRWxlbWVudEZhY3RvcnlcbiAqIEBwYXJhbSB7bW9kZWxpbmd9IE1vZGVsaW5nXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEFwcGVuZFNoYXBlSGFuZGxlcihtb2RlbGluZykge1xuICB0aGlzLl9tb2RlbGluZyA9IG1vZGVsaW5nO1xufVxuXG5BcHBlbmRTaGFwZUhhbmRsZXIuJGluamVjdCA9IFsgJ21vZGVsaW5nJyBdO1xuXG5cbi8vIGFwaSAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IHNoYXBlXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHRcbiAqIEBwYXJhbSB7RWxlbWVudERlc2NyaXB0b3J9IGNvbnRleHQuc2hhcGUgdGhlIG5ldyBzaGFwZVxuICogQHBhcmFtIHtFbGVtZW50RGVzY3JpcHRvcn0gY29udGV4dC5zb3VyY2UgdGhlIHNvdXJjZSBvYmplY3RcbiAqIEBwYXJhbSB7RWxlbWVudERlc2NyaXB0b3J9IGNvbnRleHQucGFyZW50IHRoZSBwYXJlbnQgb2JqZWN0XG4gKiBAcGFyYW0ge1BvaW50fSBjb250ZXh0LnBvc2l0aW9uIHBvc2l0aW9uIG9mIHRoZSBuZXcgZWxlbWVudFxuICovXG5BcHBlbmRTaGFwZUhhbmRsZXIucHJvdG90eXBlLnByZUV4ZWN1dGUgPSBmdW5jdGlvbihjb250ZXh0KSB7XG5cbiAgdmFyIHNvdXJjZSA9IGNvbnRleHQuc291cmNlO1xuXG4gIGlmICghc291cmNlKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdzb3VyY2UgcmVxdWlyZWQnKTtcbiAgfVxuXG4gIHZhciB0YXJnZXQgPSBjb250ZXh0LnRhcmdldCB8fCBzb3VyY2UucGFyZW50LFxuICAgICAgc2hhcGUgPSBjb250ZXh0LnNoYXBlLFxuICAgICAgaGludHMgPSBjb250ZXh0LmhpbnRzIHx8IHt9O1xuXG4gIHNoYXBlID0gY29udGV4dC5zaGFwZSA9XG4gICAgdGhpcy5fbW9kZWxpbmcuY3JlYXRlU2hhcGUoXG4gICAgICBzaGFwZSxcbiAgICAgIGNvbnRleHQucG9zaXRpb24sXG4gICAgICB0YXJnZXQsIHsgYXR0YWNoOiBoaW50cy5hdHRhY2ggfSk7XG5cbiAgY29udGV4dC5zaGFwZSA9IHNoYXBlO1xufTtcblxuQXBwZW5kU2hhcGVIYW5kbGVyLnByb3RvdHlwZS5wb3N0RXhlY3V0ZSA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcbiAgdmFyIGhpbnRzID0gY29udGV4dC5oaW50cyB8fCB7fTtcblxuICBpZiAoIWV4aXN0c0Nvbm5lY3Rpb24oY29udGV4dC5zb3VyY2UsIGNvbnRleHQuc2hhcGUpKSB7XG5cbiAgICAvLyBjcmVhdGUgY29ubmVjdGlvblxuICAgIGlmIChoaW50cy5jb25uZWN0aW9uVGFyZ2V0ID09PSBjb250ZXh0LnNvdXJjZSkge1xuICAgICAgdGhpcy5fbW9kZWxpbmcuY29ubmVjdChjb250ZXh0LnNoYXBlLCBjb250ZXh0LnNvdXJjZSwgY29udGV4dC5jb25uZWN0aW9uKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fbW9kZWxpbmcuY29ubmVjdChjb250ZXh0LnNvdXJjZSwgY29udGV4dC5zaGFwZSwgY29udGV4dC5jb25uZWN0aW9uKTtcbiAgICB9XG4gIH1cbn07XG5cblxuZnVuY3Rpb24gZXhpc3RzQ29ubmVjdGlvbihzb3VyY2UsIHRhcmdldCkge1xuICByZXR1cm4gc29tZShzb3VyY2Uub3V0Z29pbmcsIGZ1bmN0aW9uKGMpIHtcbiAgICByZXR1cm4gYy50YXJnZXQgPT09IHRhcmdldDtcbiAgfSk7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ3JlYXRlQ29ubmVjdGlvbkhhbmRsZXIoY2FudmFzLCBsYXlvdXRlcikge1xuICB0aGlzLl9jYW52YXMgPSBjYW52YXM7XG4gIHRoaXMuX2xheW91dGVyID0gbGF5b3V0ZXI7XG59XG5cbkNyZWF0ZUNvbm5lY3Rpb25IYW5kbGVyLiRpbmplY3QgPSBbICdjYW52YXMnLCAnbGF5b3V0ZXInIF07XG5cblxuLy8gYXBpIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuXG4vKipcbiAqIEFwcGVuZHMgYSBzaGFwZSB0byBhIHRhcmdldCBzaGFwZVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb250ZXh0XG4gKiBAcGFyYW0ge2Rqcy5lbGVtZW50LkJhc2V9IGNvbnRleHQuc291cmNlIHRoZSBzb3VyY2Ugb2JqZWN0XG4gKiBAcGFyYW0ge2Rqcy5lbGVtZW50LkJhc2V9IGNvbnRleHQudGFyZ2V0IHRoZSBwYXJlbnQgb2JqZWN0XG4gKiBAcGFyYW0ge1BvaW50fSBjb250ZXh0LnBvc2l0aW9uIHBvc2l0aW9uIG9mIHRoZSBuZXcgZWxlbWVudFxuICovXG5DcmVhdGVDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUuZXhlY3V0ZSA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcblxuICB2YXIgY29ubmVjdGlvbiA9IGNvbnRleHQuY29ubmVjdGlvbixcbiAgICAgIHNvdXJjZSA9IGNvbnRleHQuc291cmNlLFxuICAgICAgdGFyZ2V0ID0gY29udGV4dC50YXJnZXQsXG4gICAgICBwYXJlbnQgPSBjb250ZXh0LnBhcmVudCxcbiAgICAgIHBhcmVudEluZGV4ID0gY29udGV4dC5wYXJlbnRJbmRleCxcbiAgICAgIGhpbnRzID0gY29udGV4dC5oaW50cztcblxuICBpZiAoIXNvdXJjZSB8fCAhdGFyZ2V0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdzb3VyY2UgYW5kIHRhcmdldCByZXF1aXJlZCcpO1xuICB9XG5cbiAgaWYgKCFwYXJlbnQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3BhcmVudCByZXF1aXJlZCcpO1xuICB9XG5cbiAgY29ubmVjdGlvbi5zb3VyY2UgPSBzb3VyY2U7XG4gIGNvbm5lY3Rpb24udGFyZ2V0ID0gdGFyZ2V0O1xuXG4gIGlmICghY29ubmVjdGlvbi53YXlwb2ludHMpIHtcbiAgICBjb25uZWN0aW9uLndheXBvaW50cyA9IHRoaXMuX2xheW91dGVyLmxheW91dENvbm5lY3Rpb24oY29ubmVjdGlvbiwgaGludHMpO1xuICB9XG5cbiAgLy8gYWRkIGNvbm5lY3Rpb25cbiAgdGhpcy5fY2FudmFzLmFkZENvbm5lY3Rpb24oY29ubmVjdGlvbiwgcGFyZW50LCBwYXJlbnRJbmRleCk7XG5cbiAgcmV0dXJuIGNvbm5lY3Rpb247XG59O1xuXG5DcmVhdGVDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUucmV2ZXJ0ID0gZnVuY3Rpb24oY29udGV4dCkge1xuICB2YXIgY29ubmVjdGlvbiA9IGNvbnRleHQuY29ubmVjdGlvbjtcblxuICB0aGlzLl9jYW52YXMucmVtb3ZlQ29ubmVjdGlvbihjb25uZWN0aW9uKTtcblxuICBjb25uZWN0aW9uLnNvdXJjZSA9IG51bGw7XG4gIGNvbm5lY3Rpb24udGFyZ2V0ID0gbnVsbDtcblxuICByZXR1cm4gY29ubmVjdGlvbjtcbn07IiwiaW1wb3J0IHtcclxuICBhc3NpZ24sXHJcbiAgZm9yRWFjaCxcclxuICBpc051bWJlcixcclxuICBtYXAsXHJcbiAgcGljayxcclxuICB2YWx1ZXNcclxufSBmcm9tICdtaW4tZGFzaCc7XHJcblxyXG5pbXBvcnQge1xyXG4gIGdldEJCb3gsXHJcbiAgZ2V0UGFyZW50c1xyXG59IGZyb20gJy4uLy4uLy4uL3V0aWwvRWxlbWVudHMnO1xyXG5cclxudmFyIHJvdW5kID0gTWF0aC5yb3VuZDtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENyZWF0ZUVsZW1lbnRzSGFuZGxlcihtb2RlbGluZykge1xyXG4gIHRoaXMuX21vZGVsaW5nID0gbW9kZWxpbmc7XHJcbn1cclxuXHJcbkNyZWF0ZUVsZW1lbnRzSGFuZGxlci4kaW5qZWN0ID0gW1xyXG4gICdtb2RlbGluZydcclxuXTtcclxuXHJcbkNyZWF0ZUVsZW1lbnRzSGFuZGxlci5wcm90b3R5cGUucHJlRXhlY3V0ZSA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcclxuICB2YXIgZWxlbWVudHMgPSBjb250ZXh0LmVsZW1lbnRzLFxyXG4gICAgICBwYXJlbnQgPSBjb250ZXh0LnBhcmVudCxcclxuICAgICAgcGFyZW50SW5kZXggPSBjb250ZXh0LnBhcmVudEluZGV4LFxyXG4gICAgICBwb3NpdGlvbiA9IGNvbnRleHQucG9zaXRpb24sXHJcbiAgICAgIGhpbnRzID0gY29udGV4dC5oaW50cztcclxuXHJcbiAgdmFyIG1vZGVsaW5nID0gdGhpcy5fbW9kZWxpbmc7XHJcblxyXG4gIC8vIG1ha2Ugc3VyZSBlYWNoIGVsZW1lbnQgaGFzIHggYW5kIHlcclxuICBmb3JFYWNoKGVsZW1lbnRzLCBmdW5jdGlvbihlbGVtZW50KSB7XHJcbiAgICBpZiAoIWlzTnVtYmVyKGVsZW1lbnQueCkpIHtcclxuICAgICAgZWxlbWVudC54ID0gMDtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWlzTnVtYmVyKGVsZW1lbnQueSkpIHtcclxuICAgICAgZWxlbWVudC55ID0gMDtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgdmFyIGJib3ggPSBnZXRCQm94KGVsZW1lbnRzKTtcclxuXHJcbiAgLy8gY2VudGVyIGVsZW1lbnRzIGFyb3VuZCBwb3NpdGlvblxyXG4gIGZvckVhY2goZWxlbWVudHMsIGZ1bmN0aW9uKGVsZW1lbnQpIHtcclxuICAgIGlmIChpc0Nvbm5lY3Rpb24oZWxlbWVudCkpIHtcclxuICAgICAgZWxlbWVudC53YXlwb2ludHMgPSBtYXAoZWxlbWVudC53YXlwb2ludHMsIGZ1bmN0aW9uKHdheXBvaW50KSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIHg6IHJvdW5kKHdheXBvaW50LnggLSBiYm94LnggLSBiYm94LndpZHRoIC8gMiArIHBvc2l0aW9uLngpLFxyXG4gICAgICAgICAgeTogcm91bmQod2F5cG9pbnQueSAtIGJib3gueSAtIGJib3guaGVpZ2h0IC8gMiArIHBvc2l0aW9uLnkpXHJcbiAgICAgICAgfTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgYXNzaWduKGVsZW1lbnQsIHtcclxuICAgICAgeDogcm91bmQoZWxlbWVudC54IC0gYmJveC54IC0gYmJveC53aWR0aCAvIDIgKyBwb3NpdGlvbi54KSxcclxuICAgICAgeTogcm91bmQoZWxlbWVudC55IC0gYmJveC55IC0gYmJveC5oZWlnaHQgLyAyICsgcG9zaXRpb24ueSlcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICB2YXIgcGFyZW50cyA9IGdldFBhcmVudHMoZWxlbWVudHMpO1xyXG5cclxuICB2YXIgY2FjaGUgPSB7fTtcclxuXHJcbiAgZm9yRWFjaChlbGVtZW50cywgZnVuY3Rpb24oZWxlbWVudCkge1xyXG4gICAgaWYgKGlzQ29ubmVjdGlvbihlbGVtZW50KSkge1xyXG4gICAgICBjYWNoZVsgZWxlbWVudC5pZCBdID0gaXNOdW1iZXIocGFyZW50SW5kZXgpID9cclxuICAgICAgICBtb2RlbGluZy5jcmVhdGVDb25uZWN0aW9uKFxyXG4gICAgICAgICAgY2FjaGVbIGVsZW1lbnQuc291cmNlLmlkIF0sXHJcbiAgICAgICAgICBjYWNoZVsgZWxlbWVudC50YXJnZXQuaWQgXSxcclxuICAgICAgICAgIHBhcmVudEluZGV4LFxyXG4gICAgICAgICAgZWxlbWVudCxcclxuICAgICAgICAgIGVsZW1lbnQucGFyZW50IHx8IHBhcmVudCxcclxuICAgICAgICAgIGhpbnRzXHJcbiAgICAgICAgKSA6XHJcbiAgICAgICAgbW9kZWxpbmcuY3JlYXRlQ29ubmVjdGlvbihcclxuICAgICAgICAgIGNhY2hlWyBlbGVtZW50LnNvdXJjZS5pZCBdLFxyXG4gICAgICAgICAgY2FjaGVbIGVsZW1lbnQudGFyZ2V0LmlkIF0sXHJcbiAgICAgICAgICBlbGVtZW50LFxyXG4gICAgICAgICAgZWxlbWVudC5wYXJlbnQgfHwgcGFyZW50LFxyXG4gICAgICAgICAgaGludHNcclxuICAgICAgICApO1xyXG5cclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBjcmVhdGVTaGFwZUhpbnRzID0gYXNzaWduKHt9LCBoaW50cyk7XHJcblxyXG4gICAgaWYgKHBhcmVudHMuaW5kZXhPZihlbGVtZW50KSA9PT0gLTEpIHtcclxuICAgICAgY3JlYXRlU2hhcGVIaW50cy5hdXRvUmVzaXplID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgY2FjaGVbIGVsZW1lbnQuaWQgXSA9IGlzTnVtYmVyKHBhcmVudEluZGV4KSA/XHJcbiAgICAgIG1vZGVsaW5nLmNyZWF0ZVNoYXBlKFxyXG4gICAgICAgIGVsZW1lbnQsXHJcbiAgICAgICAgcGljayhlbGVtZW50LCBbICd4JywgJ3knLCAnd2lkdGgnLCAnaGVpZ2h0JyBdKSxcclxuICAgICAgICBlbGVtZW50LnBhcmVudCB8fCBwYXJlbnQsXHJcbiAgICAgICAgcGFyZW50SW5kZXgsXHJcbiAgICAgICAgY3JlYXRlU2hhcGVIaW50c1xyXG4gICAgICApIDpcclxuICAgICAgbW9kZWxpbmcuY3JlYXRlU2hhcGUoXHJcbiAgICAgICAgZWxlbWVudCxcclxuICAgICAgICBwaWNrKGVsZW1lbnQsIFsgJ3gnLCAneScsICd3aWR0aCcsICdoZWlnaHQnIF0pLFxyXG4gICAgICAgIGVsZW1lbnQucGFyZW50IHx8IHBhcmVudCxcclxuICAgICAgICBjcmVhdGVTaGFwZUhpbnRzXHJcbiAgICAgICk7XHJcbiAgfSk7XHJcblxyXG4gIGNvbnRleHQuZWxlbWVudHMgPSB2YWx1ZXMoY2FjaGUpO1xyXG59O1xyXG5cclxuLy8gaGVscGVycyAvLy8vLy8vLy8vXHJcblxyXG5mdW5jdGlvbiBpc0Nvbm5lY3Rpb24oZWxlbWVudCkge1xyXG4gIHJldHVybiAhIWVsZW1lbnQud2F5cG9pbnRzO1xyXG59IiwiaW1wb3J0IHsgYXNzaWduIH0gZnJvbSAnbWluLWRhc2gnO1xuXG52YXIgcm91bmQgPSBNYXRoLnJvdW5kO1xuXG5cbi8qKlxuICogQSBoYW5kbGVyIHRoYXQgaW1wbGVtZW50cyByZXZlcnNpYmxlIGFkZGl0aW9uIG9mIHNoYXBlcy5cbiAqXG4gKiBAcGFyYW0ge2NhbnZhc30gQ2FudmFzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENyZWF0ZVNoYXBlSGFuZGxlcihjYW52YXMpIHtcbiAgdGhpcy5fY2FudmFzID0gY2FudmFzO1xufVxuXG5DcmVhdGVTaGFwZUhhbmRsZXIuJGluamVjdCA9IFsgJ2NhbnZhcycgXTtcblxuXG4vLyBhcGkgLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5cbi8qKlxuICogQXBwZW5kcyBhIHNoYXBlIHRvIGEgdGFyZ2V0IHNoYXBlXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHRcbiAqIEBwYXJhbSB7ZGpzLm1vZGVsLkJhc2V9IGNvbnRleHQucGFyZW50IHRoZSBwYXJlbnQgb2JqZWN0XG4gKiBAcGFyYW0ge1BvaW50fSBjb250ZXh0LnBvc2l0aW9uIHBvc2l0aW9uIG9mIHRoZSBuZXcgZWxlbWVudFxuICovXG5DcmVhdGVTaGFwZUhhbmRsZXIucHJvdG90eXBlLmV4ZWN1dGUgPSBmdW5jdGlvbihjb250ZXh0KSB7XG5cbiAgdmFyIHNoYXBlID0gY29udGV4dC5zaGFwZSxcbiAgICAgIHBvc2l0aW9uT3JCb3VuZHMgPSBjb250ZXh0LnBvc2l0aW9uLFxuICAgICAgcGFyZW50ID0gY29udGV4dC5wYXJlbnQsXG4gICAgICBwYXJlbnRJbmRleCA9IGNvbnRleHQucGFyZW50SW5kZXg7XG5cbiAgaWYgKCFwYXJlbnQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3BhcmVudCByZXF1aXJlZCcpO1xuICB9XG5cbiAgaWYgKCFwb3NpdGlvbk9yQm91bmRzKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwb3NpdGlvbiByZXF1aXJlZCcpO1xuICB9XG5cbiAgLy8gKDEpIGFkZCBhdCBldmVudCBjZW50ZXIgcG9zaXRpb24gX29yXyBhdCBnaXZlbiBib3VuZHNcbiAgaWYgKHBvc2l0aW9uT3JCb3VuZHMud2lkdGggIT09IHVuZGVmaW5lZCkge1xuICAgIGFzc2lnbihzaGFwZSwgcG9zaXRpb25PckJvdW5kcyk7XG4gIH0gZWxzZSB7XG4gICAgYXNzaWduKHNoYXBlLCB7XG4gICAgICB4OiBwb3NpdGlvbk9yQm91bmRzLnggLSByb3VuZChzaGFwZS53aWR0aCAvIDIpLFxuICAgICAgeTogcG9zaXRpb25PckJvdW5kcy55IC0gcm91bmQoc2hhcGUuaGVpZ2h0IC8gMilcbiAgICB9KTtcbiAgfVxuXG4gIC8vICgyKSBhZGQgdG8gY2FudmFzXG4gIHRoaXMuX2NhbnZhcy5hZGRTaGFwZShzaGFwZSwgcGFyZW50LCBwYXJlbnRJbmRleCk7XG5cbiAgcmV0dXJuIHNoYXBlO1xufTtcblxuXG4vKipcbiAqIFVuZG8gYXBwZW5kIGJ5IHJlbW92aW5nIHRoZSBzaGFwZVxuICovXG5DcmVhdGVTaGFwZUhhbmRsZXIucHJvdG90eXBlLnJldmVydCA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcblxuICB2YXIgc2hhcGUgPSBjb250ZXh0LnNoYXBlO1xuXG4gIC8vICgzKSByZW1vdmUgZm9ybSBjYW52YXNcbiAgdGhpcy5fY2FudmFzLnJlbW92ZVNoYXBlKHNoYXBlKTtcblxuICByZXR1cm4gc2hhcGU7XG59OyIsImltcG9ydCBpbmhlcml0cyBmcm9tICdpbmhlcml0cyc7XG5cbmltcG9ydCBDcmVhdGVTaGFwZUhhbmRsZXIgZnJvbSAnLi9DcmVhdGVTaGFwZUhhbmRsZXInO1xuXG5cbi8qKlxuICogQSBoYW5kbGVyIHRoYXQgYXR0YWNoZXMgYSBsYWJlbCB0byBhIGdpdmVuIHRhcmdldCBzaGFwZS5cbiAqXG4gKiBAcGFyYW0ge0NhbnZhc30gY2FudmFzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENyZWF0ZUxhYmVsSGFuZGxlcihjYW52YXMpIHtcbiAgQ3JlYXRlU2hhcGVIYW5kbGVyLmNhbGwodGhpcywgY2FudmFzKTtcbn1cblxuaW5oZXJpdHMoQ3JlYXRlTGFiZWxIYW5kbGVyLCBDcmVhdGVTaGFwZUhhbmRsZXIpO1xuXG5DcmVhdGVMYWJlbEhhbmRsZXIuJGluamVjdCA9IFsgJ2NhbnZhcycgXTtcblxuXG4vLyBhcGkgLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5cbnZhciBvcmlnaW5hbEV4ZWN1dGUgPSBDcmVhdGVTaGFwZUhhbmRsZXIucHJvdG90eXBlLmV4ZWN1dGU7XG5cbi8qKlxuICogQXBwZW5kcyBhIGxhYmVsIHRvIGEgdGFyZ2V0IHNoYXBlLlxuICpcbiAqIEBtZXRob2QgQ3JlYXRlTGFiZWxIYW5kbGVyI2V4ZWN1dGVcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gY29udGV4dFxuICogQHBhcmFtIHtFbGVtZW50RGVzY3JpcHRvcn0gY29udGV4dC50YXJnZXQgdGhlIGVsZW1lbnQgdGhlIGxhYmVsIGlzIGF0dGFjaGVkIHRvXG4gKiBAcGFyYW0ge0VsZW1lbnREZXNjcmlwdG9yfSBjb250ZXh0LnBhcmVudCB0aGUgcGFyZW50IG9iamVjdFxuICogQHBhcmFtIHtQb2ludH0gY29udGV4dC5wb3NpdGlvbiBwb3NpdGlvbiBvZiB0aGUgbmV3IGVsZW1lbnRcbiAqL1xuQ3JlYXRlTGFiZWxIYW5kbGVyLnByb3RvdHlwZS5leGVjdXRlID0gZnVuY3Rpb24oY29udGV4dCkge1xuXG4gIHZhciBsYWJlbCA9IGNvbnRleHQuc2hhcGU7XG5cbiAgZW5zdXJlVmFsaWREaW1lbnNpb25zKGxhYmVsKTtcblxuICBsYWJlbC5sYWJlbFRhcmdldCA9IGNvbnRleHQubGFiZWxUYXJnZXQ7XG5cbiAgcmV0dXJuIG9yaWdpbmFsRXhlY3V0ZS5jYWxsKHRoaXMsIGNvbnRleHQpO1xufTtcblxudmFyIG9yaWdpbmFsUmV2ZXJ0ID0gQ3JlYXRlU2hhcGVIYW5kbGVyLnByb3RvdHlwZS5yZXZlcnQ7XG5cbi8qKlxuICogVW5kbyBhcHBlbmQgYnkgcmVtb3ZpbmcgdGhlIHNoYXBlXG4gKi9cbkNyZWF0ZUxhYmVsSGFuZGxlci5wcm90b3R5cGUucmV2ZXJ0ID0gZnVuY3Rpb24oY29udGV4dCkge1xuICBjb250ZXh0LnNoYXBlLmxhYmVsVGFyZ2V0ID0gbnVsbDtcblxuICByZXR1cm4gb3JpZ2luYWxSZXZlcnQuY2FsbCh0aGlzLCBjb250ZXh0KTtcbn07XG5cblxuLy8gaGVscGVycyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbmZ1bmN0aW9uIGVuc3VyZVZhbGlkRGltZW5zaW9ucyhsYWJlbCkge1xuXG4gIC8vIG1ha2Ugc3VyZSBhIGxhYmVsIGhhcyB2YWxpZCB7IHdpZHRoLCBoZWlnaHQgfSBkaW1lbnNpb25zXG4gIFsgJ3dpZHRoJywgJ2hlaWdodCcgXS5mb3JFYWNoKGZ1bmN0aW9uKHByb3ApIHtcbiAgICBpZiAodHlwZW9mIGxhYmVsW3Byb3BdID09PSAndW5kZWZpbmVkJykge1xuICAgICAgbGFiZWxbcHJvcF0gPSAwO1xuICAgIH1cbiAgfSk7XG59IiwiaW1wb3J0IHtcbiAgYWRkIGFzIGNvbGxlY3Rpb25BZGQsXG4gIGluZGV4T2YgYXMgY29sbGVjdGlvbklkeFxufSBmcm9tICcuLi8uLi8uLi91dGlsL0NvbGxlY3Rpb25zJztcblxuXG4vKipcbiAqIEEgaGFuZGxlciB0aGF0IGltcGxlbWVudHMgcmV2ZXJzaWJsZSBkZWxldGlvbiBvZiBDb25uZWN0aW9ucy5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gRGVsZXRlQ29ubmVjdGlvbkhhbmRsZXIoY2FudmFzLCBtb2RlbGluZykge1xuICB0aGlzLl9jYW52YXMgPSBjYW52YXM7XG4gIHRoaXMuX21vZGVsaW5nID0gbW9kZWxpbmc7XG59XG5cbkRlbGV0ZUNvbm5lY3Rpb25IYW5kbGVyLiRpbmplY3QgPSBbXG4gICdjYW52YXMnLFxuICAnbW9kZWxpbmcnXG5dO1xuXG5cbkRlbGV0ZUNvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5leGVjdXRlID0gZnVuY3Rpb24oY29udGV4dCkge1xuXG4gIHZhciBjb25uZWN0aW9uID0gY29udGV4dC5jb25uZWN0aW9uLFxuICAgICAgcGFyZW50ID0gY29ubmVjdGlvbi5wYXJlbnQ7XG5cbiAgY29udGV4dC5wYXJlbnQgPSBwYXJlbnQ7XG5cbiAgLy8gcmVtZW1iZXIgY29udGFpbm1lbnRcbiAgY29udGV4dC5wYXJlbnRJbmRleCA9IGNvbGxlY3Rpb25JZHgocGFyZW50LmNoaWxkcmVuLCBjb25uZWN0aW9uKTtcblxuICBjb250ZXh0LnNvdXJjZSA9IGNvbm5lY3Rpb24uc291cmNlO1xuICBjb250ZXh0LnRhcmdldCA9IGNvbm5lY3Rpb24udGFyZ2V0O1xuXG4gIHRoaXMuX2NhbnZhcy5yZW1vdmVDb25uZWN0aW9uKGNvbm5lY3Rpb24pO1xuXG4gIGNvbm5lY3Rpb24uc291cmNlID0gbnVsbDtcbiAgY29ubmVjdGlvbi50YXJnZXQgPSBudWxsO1xuXG4gIHJldHVybiBjb25uZWN0aW9uO1xufTtcblxuLyoqXG4gKiBDb21tYW5kIHJldmVydCBpbXBsZW1lbnRhdGlvbi5cbiAqL1xuRGVsZXRlQ29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLnJldmVydCA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcblxuICB2YXIgY29ubmVjdGlvbiA9IGNvbnRleHQuY29ubmVjdGlvbixcbiAgICAgIHBhcmVudCA9IGNvbnRleHQucGFyZW50LFxuICAgICAgcGFyZW50SW5kZXggPSBjb250ZXh0LnBhcmVudEluZGV4O1xuXG4gIGNvbm5lY3Rpb24uc291cmNlID0gY29udGV4dC5zb3VyY2U7XG4gIGNvbm5lY3Rpb24udGFyZ2V0ID0gY29udGV4dC50YXJnZXQ7XG5cbiAgLy8gcmVzdG9yZSBjb250YWlubWVudFxuICBjb2xsZWN0aW9uQWRkKHBhcmVudC5jaGlsZHJlbiwgY29ubmVjdGlvbiwgcGFyZW50SW5kZXgpO1xuXG4gIHRoaXMuX2NhbnZhcy5hZGRDb25uZWN0aW9uKGNvbm5lY3Rpb24sIHBhcmVudCk7XG5cbiAgcmV0dXJuIGNvbm5lY3Rpb247XG59O1xuIiwiaW1wb3J0IHsgZm9yRWFjaCB9IGZyb20gJ21pbi1kYXNoJztcblxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBEZWxldGVFbGVtZW50c0hhbmRsZXIobW9kZWxpbmcsIGVsZW1lbnRSZWdpc3RyeSkge1xuICB0aGlzLl9tb2RlbGluZyA9IG1vZGVsaW5nO1xuICB0aGlzLl9lbGVtZW50UmVnaXN0cnkgPSBlbGVtZW50UmVnaXN0cnk7XG59XG5cbkRlbGV0ZUVsZW1lbnRzSGFuZGxlci4kaW5qZWN0ID0gW1xuICAnbW9kZWxpbmcnLFxuICAnZWxlbWVudFJlZ2lzdHJ5J1xuXTtcblxuXG5EZWxldGVFbGVtZW50c0hhbmRsZXIucHJvdG90eXBlLnBvc3RFeGVjdXRlID0gZnVuY3Rpb24oY29udGV4dCkge1xuXG4gIHZhciBtb2RlbGluZyA9IHRoaXMuX21vZGVsaW5nLFxuICAgICAgZWxlbWVudFJlZ2lzdHJ5ID0gdGhpcy5fZWxlbWVudFJlZ2lzdHJ5LFxuICAgICAgZWxlbWVudHMgPSBjb250ZXh0LmVsZW1lbnRzO1xuXG4gIGZvckVhY2goZWxlbWVudHMsIGZ1bmN0aW9uKGVsZW1lbnQpIHtcblxuICAgIC8vIGVsZW1lbnQgbWF5IGhhdmUgYmVlbiByZW1vdmVkIHdpdGggcHJldmlvdXNcbiAgICAvLyByZW1vdmUgb3BlcmF0aW9ucyBhbHJlYWR5IChlLmcuIGluIGNhc2Ugb2YgbmVzdGluZylcbiAgICBpZiAoIWVsZW1lbnRSZWdpc3RyeS5nZXQoZWxlbWVudC5pZCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoZWxlbWVudC53YXlwb2ludHMpIHtcbiAgICAgIG1vZGVsaW5nLnJlbW92ZUNvbm5lY3Rpb24oZWxlbWVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1vZGVsaW5nLnJlbW92ZVNoYXBlKGVsZW1lbnQpO1xuICAgIH1cbiAgfSk7XG59OyIsImltcG9ydCB7XG4gIGFkZCBhcyBjb2xsZWN0aW9uQWRkLFxuICBpbmRleE9mIGFzIGNvbGxlY3Rpb25JZHhcbn0gZnJvbSAnLi4vLi4vLi4vdXRpbC9Db2xsZWN0aW9ucyc7XG5cbmltcG9ydCB7IHNhdmVDbGVhciB9IGZyb20gJy4uLy4uLy4uL3V0aWwvUmVtb3ZhbCc7XG5cblxuLyoqXG4gKiBBIGhhbmRsZXIgdGhhdCBpbXBsZW1lbnRzIHJldmVyc2libGUgZGVsZXRpb24gb2Ygc2hhcGVzLlxuICpcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gRGVsZXRlU2hhcGVIYW5kbGVyKGNhbnZhcywgbW9kZWxpbmcpIHtcbiAgdGhpcy5fY2FudmFzID0gY2FudmFzO1xuICB0aGlzLl9tb2RlbGluZyA9IG1vZGVsaW5nO1xufVxuXG5EZWxldGVTaGFwZUhhbmRsZXIuJGluamVjdCA9IFsgJ2NhbnZhcycsICdtb2RlbGluZycgXTtcblxuXG4vKipcbiAqIC0gUmVtb3ZlIGNvbm5lY3Rpb25zXG4gKiAtIFJlbW92ZSBhbGwgZGlyZWN0IGNoaWxkcmVuXG4gKi9cbkRlbGV0ZVNoYXBlSGFuZGxlci5wcm90b3R5cGUucHJlRXhlY3V0ZSA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcblxuICB2YXIgbW9kZWxpbmcgPSB0aGlzLl9tb2RlbGluZztcblxuICB2YXIgc2hhcGUgPSBjb250ZXh0LnNoYXBlO1xuXG4gIC8vIHJlbW92ZSBjb25uZWN0aW9uc1xuICBzYXZlQ2xlYXIoc2hhcGUuaW5jb21pbmcsIGZ1bmN0aW9uKGNvbm5lY3Rpb24pIHtcblxuICAgIC8vIFRvIG1ha2Ugc3VyZSB0aGF0IHRoZSBjb25uZWN0aW9uIGlzbid0IHJlbW92ZWQgdHdpY2VcbiAgICAvLyBGb3IgZXhhbXBsZSBpZiBhIGNvbnRhaW5lciBpcyByZW1vdmVkXG4gICAgbW9kZWxpbmcucmVtb3ZlQ29ubmVjdGlvbihjb25uZWN0aW9uLCB7IG5lc3RlZDogdHJ1ZSB9KTtcbiAgfSk7XG5cbiAgc2F2ZUNsZWFyKHNoYXBlLm91dGdvaW5nLCBmdW5jdGlvbihjb25uZWN0aW9uKSB7XG4gICAgbW9kZWxpbmcucmVtb3ZlQ29ubmVjdGlvbihjb25uZWN0aW9uLCB7IG5lc3RlZDogdHJ1ZSB9KTtcbiAgfSk7XG5cbiAgLy8gcmVtb3ZlIGNoaWxkIHNoYXBlcyBhbmQgY29ubmVjdGlvbnNcbiAgc2F2ZUNsZWFyKHNoYXBlLmNoaWxkcmVuLCBmdW5jdGlvbihjaGlsZCkge1xuICAgIGlmIChpc0Nvbm5lY3Rpb24oY2hpbGQpKSB7XG4gICAgICBtb2RlbGluZy5yZW1vdmVDb25uZWN0aW9uKGNoaWxkLCB7IG5lc3RlZDogdHJ1ZSB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgbW9kZWxpbmcucmVtb3ZlU2hhcGUoY2hpbGQsIHsgbmVzdGVkOiB0cnVlIH0pO1xuICAgIH1cbiAgfSk7XG59O1xuXG4vKipcbiAqIFJlbW92ZSBzaGFwZSBhbmQgcmVtZW1iZXIgdGhlIHBhcmVudFxuICovXG5EZWxldGVTaGFwZUhhbmRsZXIucHJvdG90eXBlLmV4ZWN1dGUgPSBmdW5jdGlvbihjb250ZXh0KSB7XG4gIHZhciBjYW52YXMgPSB0aGlzLl9jYW52YXM7XG5cbiAgdmFyIHNoYXBlID0gY29udGV4dC5zaGFwZSxcbiAgICAgIG9sZFBhcmVudCA9IHNoYXBlLnBhcmVudDtcblxuICBjb250ZXh0Lm9sZFBhcmVudCA9IG9sZFBhcmVudDtcblxuICAvLyByZW1vdmUgY29udGFpbm1lbnRcbiAgY29udGV4dC5vbGRQYXJlbnRJbmRleCA9IGNvbGxlY3Rpb25JZHgob2xkUGFyZW50LmNoaWxkcmVuLCBzaGFwZSk7XG5cbiAgLy8gcmVtb3ZlIHNoYXBlXG4gIGNhbnZhcy5yZW1vdmVTaGFwZShzaGFwZSk7XG5cbiAgcmV0dXJuIHNoYXBlO1xufTtcblxuXG4vKipcbiAqIENvbW1hbmQgcmV2ZXJ0IGltcGxlbWVudGF0aW9uXG4gKi9cbkRlbGV0ZVNoYXBlSGFuZGxlci5wcm90b3R5cGUucmV2ZXJ0ID0gZnVuY3Rpb24oY29udGV4dCkge1xuXG4gIHZhciBjYW52YXMgPSB0aGlzLl9jYW52YXM7XG5cbiAgdmFyIHNoYXBlID0gY29udGV4dC5zaGFwZSxcbiAgICAgIG9sZFBhcmVudCA9IGNvbnRleHQub2xkUGFyZW50LFxuICAgICAgb2xkUGFyZW50SW5kZXggPSBjb250ZXh0Lm9sZFBhcmVudEluZGV4O1xuXG4gIC8vIHJlc3RvcmUgY29udGFpbm1lbnRcbiAgY29sbGVjdGlvbkFkZChvbGRQYXJlbnQuY2hpbGRyZW4sIHNoYXBlLCBvbGRQYXJlbnRJbmRleCk7XG5cbiAgY2FudmFzLmFkZFNoYXBlKHNoYXBlLCBvbGRQYXJlbnQpO1xuXG4gIHJldHVybiBzaGFwZTtcbn07XG5cbmZ1bmN0aW9uIGlzQ29ubmVjdGlvbihlbGVtZW50KSB7XG4gIHJldHVybiBlbGVtZW50LndheXBvaW50cztcbn1cbiIsImltcG9ydCB7XG4gIGZvckVhY2gsXG4gIHNvcnRCeVxufSBmcm9tICdtaW4tZGFzaCc7XG5cblxuLyoqXG4gKiBBIGhhbmRsZXIgdGhhdCBkaXN0cmlidXRlcyBlbGVtZW50cyBldmVubHkuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIERpc3RyaWJ1dGVFbGVtZW50cyhtb2RlbGluZykge1xuICB0aGlzLl9tb2RlbGluZyA9IG1vZGVsaW5nO1xufVxuXG5EaXN0cmlidXRlRWxlbWVudHMuJGluamVjdCA9IFsgJ21vZGVsaW5nJyBdO1xuXG52YXIgT0ZGX0FYSVMgPSB7XG4gIHg6ICd5JyxcbiAgeTogJ3gnXG59O1xuXG5EaXN0cmlidXRlRWxlbWVudHMucHJvdG90eXBlLnByZUV4ZWN1dGUgPSBmdW5jdGlvbihjb250ZXh0KSB7XG4gIHZhciBtb2RlbGluZyA9IHRoaXMuX21vZGVsaW5nO1xuXG4gIHZhciBncm91cHMgPSBjb250ZXh0Lmdyb3VwcyxcbiAgICAgIGF4aXMgPSBjb250ZXh0LmF4aXMsXG4gICAgICBkaW1lbnNpb24gPSBjb250ZXh0LmRpbWVuc2lvbjtcblxuICBmdW5jdGlvbiB1cGRhdGVSYW5nZShncm91cCwgZWxlbWVudCkge1xuICAgIGdyb3VwLnJhbmdlLm1pbiA9IE1hdGgubWluKGVsZW1lbnRbYXhpc10sIGdyb3VwLnJhbmdlLm1pbik7XG4gICAgZ3JvdXAucmFuZ2UubWF4ID0gTWF0aC5tYXgoZWxlbWVudFtheGlzXSArIGVsZW1lbnRbZGltZW5zaW9uXSwgZ3JvdXAucmFuZ2UubWF4KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNlbnRlcihlbGVtZW50KSB7XG4gICAgcmV0dXJuIGVsZW1lbnRbYXhpc10gKyBlbGVtZW50W2RpbWVuc2lvbl0gLyAyO1xuICB9XG5cbiAgZnVuY3Rpb24gbGFzdElkeChhcnIpIHtcbiAgICByZXR1cm4gYXJyLmxlbmd0aCAtIDE7XG4gIH1cblxuICBmdW5jdGlvbiByYW5nZURpZmYocmFuZ2UpIHtcbiAgICByZXR1cm4gcmFuZ2UubWF4IC0gcmFuZ2UubWluO1xuICB9XG5cbiAgZnVuY3Rpb24gY2VudGVyRWxlbWVudChyZWZDZW50ZXIsIGVsZW1lbnQpIHtcbiAgICB2YXIgZGVsdGEgPSB7IHk6IDAgfTtcblxuICAgIGRlbHRhW2F4aXNdID0gcmVmQ2VudGVyIC0gY2VudGVyKGVsZW1lbnQpO1xuXG4gICAgaWYgKGRlbHRhW2F4aXNdKSB7XG5cbiAgICAgIGRlbHRhW09GRl9BWElTW2F4aXNdXSA9IDA7XG5cbiAgICAgIG1vZGVsaW5nLm1vdmVFbGVtZW50cyhbIGVsZW1lbnQgXSwgZGVsdGEsIGVsZW1lbnQucGFyZW50KTtcbiAgICB9XG4gIH1cblxuICB2YXIgZmlyc3RHcm91cCA9IGdyb3Vwc1swXSxcbiAgICAgIGxhc3RHcm91cElkeCA9IGxhc3RJZHgoZ3JvdXBzKSxcbiAgICAgIGxhc3RHcm91cCA9IGdyb3Vwc1sgbGFzdEdyb3VwSWR4IF07XG5cbiAgdmFyIG1hcmdpbixcbiAgICAgIHNwYWNlSW5CZXR3ZWVuLFxuICAgICAgZ3JvdXBzU2l6ZSA9IDA7IC8vIHRoZSBzaXplIG9mIGVhY2ggcmFuZ2VcblxuICBmb3JFYWNoKGdyb3VwcywgZnVuY3Rpb24oZ3JvdXAsIGlkeCkge1xuICAgIHZhciBzb3J0ZWRFbGVtZW50cyxcbiAgICAgICAgcmVmRWxlbSxcbiAgICAgICAgcmVmQ2VudGVyO1xuXG4gICAgaWYgKGdyb3VwLmVsZW1lbnRzLmxlbmd0aCA8IDIpIHtcbiAgICAgIGlmIChpZHggJiYgaWR4ICE9PSBncm91cHMubGVuZ3RoIC0gMSkge1xuICAgICAgICB1cGRhdGVSYW5nZShncm91cCwgZ3JvdXAuZWxlbWVudHNbMF0pO1xuXG4gICAgICAgIGdyb3Vwc1NpemUgKz0gcmFuZ2VEaWZmKGdyb3VwLnJhbmdlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzb3J0ZWRFbGVtZW50cyA9IHNvcnRCeShncm91cC5lbGVtZW50cywgYXhpcyk7XG5cbiAgICByZWZFbGVtID0gc29ydGVkRWxlbWVudHNbMF07XG5cbiAgICBpZiAoaWR4ID09PSBsYXN0R3JvdXBJZHgpIHtcbiAgICAgIHJlZkVsZW0gPSBzb3J0ZWRFbGVtZW50c1tsYXN0SWR4KHNvcnRlZEVsZW1lbnRzKV07XG4gICAgfVxuXG4gICAgcmVmQ2VudGVyID0gY2VudGVyKHJlZkVsZW0pO1xuXG4gICAgLy8gd2FubmEgdXBkYXRlIHRoZSByYW5nZXMgYWZ0ZXIgdGhlIHNoYXBlcyBoYXZlIGJlZW4gY2VudGVyZWRcbiAgICBncm91cC5yYW5nZSA9IG51bGw7XG5cbiAgICBmb3JFYWNoKHNvcnRlZEVsZW1lbnRzLCBmdW5jdGlvbihlbGVtZW50KSB7XG5cbiAgICAgIGNlbnRlckVsZW1lbnQocmVmQ2VudGVyLCBlbGVtZW50KTtcblxuICAgICAgaWYgKGdyb3VwLnJhbmdlID09PSBudWxsKSB7XG4gICAgICAgIGdyb3VwLnJhbmdlID0ge1xuICAgICAgICAgIG1pbjogZWxlbWVudFtheGlzXSxcbiAgICAgICAgICBtYXg6IGVsZW1lbnRbYXhpc10gKyBlbGVtZW50W2RpbWVuc2lvbl1cbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIHVwZGF0ZSBncm91cCdzIHJhbmdlIGFmdGVyIGNlbnRlcmluZyB0aGUgcmFuZ2UgZWxlbWVudHNcbiAgICAgIHVwZGF0ZVJhbmdlKGdyb3VwLCBlbGVtZW50KTtcbiAgICB9KTtcblxuICAgIGlmIChpZHggJiYgaWR4ICE9PSBncm91cHMubGVuZ3RoIC0gMSkge1xuICAgICAgZ3JvdXBzU2l6ZSArPSByYW5nZURpZmYoZ3JvdXAucmFuZ2UpO1xuICAgIH1cbiAgfSk7XG5cbiAgc3BhY2VJbkJldHdlZW4gPSBNYXRoLmFicyhsYXN0R3JvdXAucmFuZ2UubWluIC0gZmlyc3RHcm91cC5yYW5nZS5tYXgpO1xuXG4gIG1hcmdpbiA9IE1hdGgucm91bmQoKHNwYWNlSW5CZXR3ZWVuIC0gZ3JvdXBzU2l6ZSkgLyAoZ3JvdXBzLmxlbmd0aCAtIDEpKTtcblxuICBpZiAobWFyZ2luIDwgZ3JvdXBzLmxlbmd0aCAtIDEpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBmb3JFYWNoKGdyb3VwcywgZnVuY3Rpb24oZ3JvdXAsIGdyb3VwSWR4KSB7XG4gICAgdmFyIGRlbHRhID0ge30sXG4gICAgICAgIHByZXZHcm91cDtcblxuICAgIGlmIChncm91cCA9PT0gZmlyc3RHcm91cCB8fCBncm91cCA9PT0gbGFzdEdyb3VwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcHJldkdyb3VwID0gZ3JvdXBzW2dyb3VwSWR4IC0gMV07XG5cbiAgICBncm91cC5yYW5nZS5tYXggPSAwO1xuXG4gICAgZm9yRWFjaChncm91cC5lbGVtZW50cywgZnVuY3Rpb24oZWxlbWVudCwgaWR4KSB7XG4gICAgICBkZWx0YVtPRkZfQVhJU1theGlzXV0gPSAwO1xuICAgICAgZGVsdGFbYXhpc10gPSAocHJldkdyb3VwLnJhbmdlLm1heCAtIGVsZW1lbnRbYXhpc10pICsgbWFyZ2luO1xuXG4gICAgICBpZiAoZ3JvdXAucmFuZ2UubWluICE9PSBlbGVtZW50W2F4aXNdKSB7XG4gICAgICAgIGRlbHRhW2F4aXNdICs9IGVsZW1lbnRbYXhpc10gLSBncm91cC5yYW5nZS5taW47XG4gICAgICB9XG5cbiAgICAgIGlmIChkZWx0YVtheGlzXSkge1xuICAgICAgICBtb2RlbGluZy5tb3ZlRWxlbWVudHMoWyBlbGVtZW50IF0sIGRlbHRhLCBlbGVtZW50LnBhcmVudCk7XG4gICAgICB9XG5cbiAgICAgIGdyb3VwLnJhbmdlLm1heCA9IE1hdGgubWF4KGVsZW1lbnRbYXhpc10gKyBlbGVtZW50W2RpbWVuc2lvbl0sIGlkeCA/IGdyb3VwLnJhbmdlLm1heCA6IDApO1xuICAgIH0pO1xuICB9KTtcbn07XG5cbkRpc3RyaWJ1dGVFbGVtZW50cy5wcm90b3R5cGUucG9zdEV4ZWN1dGUgPSBmdW5jdGlvbihjb250ZXh0KSB7XG5cbn07XG4iLCJpbXBvcnQgeyBhc3NpZ24gfSBmcm9tICdtaW4tZGFzaCc7XG5cblxuLyoqXG4gKiBBIGhhbmRsZXIgdGhhdCBpbXBsZW1lbnRzIHJldmVyc2libGUgbW92aW5nIG9mIHNoYXBlcy5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTGF5b3V0Q29ubmVjdGlvbkhhbmRsZXIobGF5b3V0ZXIsIGNhbnZhcykge1xuICB0aGlzLl9sYXlvdXRlciA9IGxheW91dGVyO1xuICB0aGlzLl9jYW52YXMgPSBjYW52YXM7XG59XG5cbkxheW91dENvbm5lY3Rpb25IYW5kbGVyLiRpbmplY3QgPSBbICdsYXlvdXRlcicsICdjYW52YXMnIF07XG5cbkxheW91dENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5leGVjdXRlID0gZnVuY3Rpb24oY29udGV4dCkge1xuXG4gIHZhciBjb25uZWN0aW9uID0gY29udGV4dC5jb25uZWN0aW9uO1xuXG4gIHZhciBvbGRXYXlwb2ludHMgPSBjb25uZWN0aW9uLndheXBvaW50cztcblxuICBhc3NpZ24oY29udGV4dCwge1xuICAgIG9sZFdheXBvaW50czogb2xkV2F5cG9pbnRzXG4gIH0pO1xuXG4gIGNvbm5lY3Rpb24ud2F5cG9pbnRzID0gdGhpcy5fbGF5b3V0ZXIubGF5b3V0Q29ubmVjdGlvbihjb25uZWN0aW9uLCBjb250ZXh0LmhpbnRzKTtcblxuICByZXR1cm4gY29ubmVjdGlvbjtcbn07XG5cbkxheW91dENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5yZXZlcnQgPSBmdW5jdGlvbihjb250ZXh0KSB7XG5cbiAgdmFyIGNvbm5lY3Rpb24gPSBjb250ZXh0LmNvbm5lY3Rpb247XG5cbiAgY29ubmVjdGlvbi53YXlwb2ludHMgPSBjb250ZXh0Lm9sZFdheXBvaW50cztcblxuICByZXR1cm4gY29ubmVjdGlvbjtcbn07XG4iLCJpbXBvcnQgeyBmb3JFYWNoIH0gZnJvbSAnbWluLWRhc2gnO1xuXG5cbmltcG9ydCB7XG4gIGFkZCBhcyBjb2xsZWN0aW9uQWRkLFxuICByZW1vdmUgYXMgY29sbGVjdGlvblJlbW92ZVxufSBmcm9tICcuLi8uLi8uLi91dGlsL0NvbGxlY3Rpb25zJztcblxuXG4vKipcbiAqIEEgaGFuZGxlciB0aGF0IGltcGxlbWVudHMgcmV2ZXJzaWJsZSBtb3Zpbmcgb2YgY29ubmVjdGlvbnMuXG4gKlxuICogVGhlIGhhbmRsZXIgZGlmZmVycyBmcm9tIHRoZSBsYXlvdXQgY29ubmVjdGlvbiBoYW5kbGVyIGluIGEgc2Vuc2VcbiAqIHRoYXQgaXQgcHJlc2VydmVzIHRoZSBjb25uZWN0aW9uIGxheW91dC5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTW92ZUNvbm5lY3Rpb25IYW5kbGVyKCkgeyB9XG5cblxuTW92ZUNvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5leGVjdXRlID0gZnVuY3Rpb24oY29udGV4dCkge1xuXG4gIHZhciBjb25uZWN0aW9uID0gY29udGV4dC5jb25uZWN0aW9uLFxuICAgICAgZGVsdGEgPSBjb250ZXh0LmRlbHRhO1xuXG4gIHZhciBuZXdQYXJlbnQgPSBjb250ZXh0Lm5ld1BhcmVudCB8fCBjb25uZWN0aW9uLnBhcmVudCxcbiAgICAgIG5ld1BhcmVudEluZGV4ID0gY29udGV4dC5uZXdQYXJlbnRJbmRleCxcbiAgICAgIG9sZFBhcmVudCA9IGNvbm5lY3Rpb24ucGFyZW50O1xuXG4gIC8vIHNhdmUgb2xkIHBhcmVudCBpbiBjb250ZXh0XG4gIGNvbnRleHQub2xkUGFyZW50ID0gb2xkUGFyZW50O1xuICBjb250ZXh0Lm9sZFBhcmVudEluZGV4ID0gY29sbGVjdGlvblJlbW92ZShvbGRQYXJlbnQuY2hpbGRyZW4sIGNvbm5lY3Rpb24pO1xuXG4gIC8vIGFkZCB0byBuZXcgcGFyZW50IGF0IHBvc2l0aW9uXG4gIGNvbGxlY3Rpb25BZGQobmV3UGFyZW50LmNoaWxkcmVuLCBjb25uZWN0aW9uLCBuZXdQYXJlbnRJbmRleCk7XG5cbiAgLy8gdXBkYXRlIHBhcmVudFxuICBjb25uZWN0aW9uLnBhcmVudCA9IG5ld1BhcmVudDtcblxuICAvLyB1cGRhdGUgd2F5cG9pbnQgcG9zaXRpb25zXG4gIGZvckVhY2goY29ubmVjdGlvbi53YXlwb2ludHMsIGZ1bmN0aW9uKHApIHtcbiAgICBwLnggKz0gZGVsdGEueDtcbiAgICBwLnkgKz0gZGVsdGEueTtcblxuICAgIGlmIChwLm9yaWdpbmFsKSB7XG4gICAgICBwLm9yaWdpbmFsLnggKz0gZGVsdGEueDtcbiAgICAgIHAub3JpZ2luYWwueSArPSBkZWx0YS55O1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIGNvbm5lY3Rpb247XG59O1xuXG5Nb3ZlQ29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLnJldmVydCA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcblxuICB2YXIgY29ubmVjdGlvbiA9IGNvbnRleHQuY29ubmVjdGlvbixcbiAgICAgIG5ld1BhcmVudCA9IGNvbm5lY3Rpb24ucGFyZW50LFxuICAgICAgb2xkUGFyZW50ID0gY29udGV4dC5vbGRQYXJlbnQsXG4gICAgICBvbGRQYXJlbnRJbmRleCA9IGNvbnRleHQub2xkUGFyZW50SW5kZXgsXG4gICAgICBkZWx0YSA9IGNvbnRleHQuZGVsdGE7XG5cbiAgLy8gcmVtb3ZlIGZyb20gbmV3UGFyZW50XG4gIGNvbGxlY3Rpb25SZW1vdmUobmV3UGFyZW50LmNoaWxkcmVuLCBjb25uZWN0aW9uKTtcblxuICAvLyByZXN0b3JlIHByZXZpb3VzIGxvY2F0aW9uIGluIG9sZCBwYXJlbnRcbiAgY29sbGVjdGlvbkFkZChvbGRQYXJlbnQuY2hpbGRyZW4sIGNvbm5lY3Rpb24sIG9sZFBhcmVudEluZGV4KTtcblxuICAvLyByZXN0b3JlIHBhcmVudFxuICBjb25uZWN0aW9uLnBhcmVudCA9IG9sZFBhcmVudDtcblxuICAvLyByZXZlcnQgdG8gb2xkIHdheXBvaW50IHBvc2l0aW9uc1xuICBmb3JFYWNoKGNvbm5lY3Rpb24ud2F5cG9pbnRzLCBmdW5jdGlvbihwKSB7XG4gICAgcC54IC09IGRlbHRhLng7XG4gICAgcC55IC09IGRlbHRhLnk7XG5cbiAgICBpZiAocC5vcmlnaW5hbCkge1xuICAgICAgcC5vcmlnaW5hbC54IC09IGRlbHRhLng7XG4gICAgICBwLm9yaWdpbmFsLnkgLT0gZGVsdGEueTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBjb25uZWN0aW9uO1xufTsiLCJpbXBvcnQge1xuICBnZXROZXdBdHRhY2hQb2ludFxufSBmcm9tICcuLi8uLi8uLi8uLi91dGlsL0F0dGFjaFV0aWwnO1xuXG5pbXBvcnQge1xuICBnZXRPcmllbnRhdGlvblxufSBmcm9tICcuLi8uLi8uLi8uLi9sYXlvdXQvTGF5b3V0VXRpbCc7XG5cbmltcG9ydCB7XG4gIGZpbHRlcixcbiAgbWFwXG59IGZyb20gJ21pbi1kYXNoJztcblxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmVzaXplZFNvdXJjZUFuY2hvcihjb25uZWN0aW9uLCBzaGFwZSwgb2xkQm91bmRzKSB7XG5cbiAgdmFyIHdheXBvaW50cyA9IHNhZmVHZXRXYXlwb2ludHMoY29ubmVjdGlvbiksXG4gICAgICB3YXlwb2ludHNJbnNpZGVOZXdCb3VuZHMgPSBnZXRXYXlwb2ludHNJbnNpZGVCb3VuZHMod2F5cG9pbnRzLCBzaGFwZSksXG4gICAgICBvbGRBbmNob3IgPSB3YXlwb2ludHNbMF07XG5cbiAgLy8gbmV3IGFuY2hvciBpcyB0aGUgbGFzdCB3YXlwb2ludCBlbmNsb3NlZCBiZSByZXNpemVkIHNvdXJjZVxuICBpZiAod2F5cG9pbnRzSW5zaWRlTmV3Qm91bmRzLmxlbmd0aCkge1xuICAgIHJldHVybiB3YXlwb2ludHNJbnNpZGVOZXdCb3VuZHNbIHdheXBvaW50c0luc2lkZU5ld0JvdW5kcy5sZW5ndGggLSAxIF07XG4gIH1cblxuICByZXR1cm4gZ2V0TmV3QXR0YWNoUG9pbnQob2xkQW5jaG9yLm9yaWdpbmFsIHx8IG9sZEFuY2hvciwgb2xkQm91bmRzLCBzaGFwZSk7XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFJlc2l6ZWRUYXJnZXRBbmNob3IoY29ubmVjdGlvbiwgc2hhcGUsIG9sZEJvdW5kcykge1xuXG4gIHZhciB3YXlwb2ludHMgPSBzYWZlR2V0V2F5cG9pbnRzKGNvbm5lY3Rpb24pLFxuICAgICAgd2F5cG9pbnRzSW5zaWRlTmV3Qm91bmRzID0gZ2V0V2F5cG9pbnRzSW5zaWRlQm91bmRzKHdheXBvaW50cywgc2hhcGUpLFxuICAgICAgb2xkQW5jaG9yID0gd2F5cG9pbnRzW3dheXBvaW50cy5sZW5ndGggLSAxXTtcblxuICAvLyBuZXcgYW5jaG9yIGlzIHRoZSBmaXJzdCB3YXlwb2ludCBlbmNsb3NlZCBiZSByZXNpemVkIHRhcmdldFxuICBpZiAod2F5cG9pbnRzSW5zaWRlTmV3Qm91bmRzLmxlbmd0aCkge1xuICAgIHJldHVybiB3YXlwb2ludHNJbnNpZGVOZXdCb3VuZHNbIDAgXTtcbiAgfVxuXG4gIHJldHVybiBnZXROZXdBdHRhY2hQb2ludChvbGRBbmNob3Iub3JpZ2luYWwgfHwgb2xkQW5jaG9yLCBvbGRCb3VuZHMsIHNoYXBlKTtcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TW92ZWRTb3VyY2VBbmNob3IoY29ubmVjdGlvbiwgc291cmNlLCBtb3ZlRGVsdGEpIHtcblxuICB2YXIgd2F5cG9pbnRzID0gc2FmZUdldFdheXBvaW50cyhjb25uZWN0aW9uKSxcbiAgICAgIG9sZEJvdW5kcyA9IHN1YnRyYWN0KHNvdXJjZSwgbW92ZURlbHRhKSxcbiAgICAgIG9sZEFuY2hvciA9IHdheXBvaW50c1sgMCBdO1xuXG4gIHJldHVybiBnZXROZXdBdHRhY2hQb2ludChvbGRBbmNob3Iub3JpZ2luYWwgfHwgb2xkQW5jaG9yLCBvbGRCb3VuZHMsIHNvdXJjZSk7XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGdldE1vdmVkVGFyZ2V0QW5jaG9yKGNvbm5lY3Rpb24sIHRhcmdldCwgbW92ZURlbHRhKSB7XG5cbiAgdmFyIHdheXBvaW50cyA9IHNhZmVHZXRXYXlwb2ludHMoY29ubmVjdGlvbiksXG4gICAgICBvbGRCb3VuZHMgPSBzdWJ0cmFjdCh0YXJnZXQsIG1vdmVEZWx0YSksXG4gICAgICBvbGRBbmNob3IgPSB3YXlwb2ludHNbIHdheXBvaW50cy5sZW5ndGggLSAxIF07XG5cbiAgcmV0dXJuIGdldE5ld0F0dGFjaFBvaW50KG9sZEFuY2hvci5vcmlnaW5hbCB8fCBvbGRBbmNob3IsIG9sZEJvdW5kcywgdGFyZ2V0KTtcbn1cblxuXG4vLyBoZWxwZXJzIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuZnVuY3Rpb24gc3VidHJhY3QoYm91bmRzLCBkZWx0YSkge1xuICByZXR1cm4ge1xuICAgIHg6IGJvdW5kcy54IC0gZGVsdGEueCxcbiAgICB5OiBib3VuZHMueSAtIGRlbHRhLnksXG4gICAgd2lkdGg6IGJvdW5kcy53aWR0aCxcbiAgICBoZWlnaHQ6IGJvdW5kcy5oZWlnaHRcbiAgfTtcbn1cblxuXG4vKipcbiAqIFJldHVybiB3YXlwb2ludHMgb2YgZ2l2ZW4gY29ubmVjdGlvbjsgdGhyb3cgaWYgbm9uIGV4aXN0cyAoc2hvdWxkIG5vdCBoYXBwZW4hISkuXG4gKlxuICogQHBhcmFtIHtDb25uZWN0aW9ufSBjb25uZWN0aW9uXG4gKlxuICogQHJldHVybiB7QXJyYXk8UG9pbnQ+fVxuICovXG5mdW5jdGlvbiBzYWZlR2V0V2F5cG9pbnRzKGNvbm5lY3Rpb24pIHtcblxuICB2YXIgd2F5cG9pbnRzID0gY29ubmVjdGlvbi53YXlwb2ludHM7XG5cbiAgaWYgKCF3YXlwb2ludHMubGVuZ3RoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjb25uZWN0aW9uIycgKyBjb25uZWN0aW9uLmlkICsgJzogbm8gd2F5cG9pbnRzJyk7XG4gIH1cblxuICByZXR1cm4gd2F5cG9pbnRzO1xufVxuXG5mdW5jdGlvbiBnZXRXYXlwb2ludHNJbnNpZGVCb3VuZHMod2F5cG9pbnRzLCBib3VuZHMpIHtcbiAgdmFyIG9yaWdpbmFsV2F5cG9pbnRzID0gbWFwKHdheXBvaW50cywgZ2V0T3JpZ2luYWwpO1xuXG4gIHJldHVybiBmaWx0ZXIob3JpZ2luYWxXYXlwb2ludHMsIGZ1bmN0aW9uKHdheXBvaW50KSB7XG4gICAgcmV0dXJuIGlzSW5zaWRlQm91bmRzKHdheXBvaW50LCBib3VuZHMpO1xuICB9KTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgcG9pbnQgaXMgaW5zaWRlIGJvdW5kcywgaW5jbC4gZWRnZXMuXG4gKlxuICogQHBhcmFtIHtQb2ludH0gcG9pbnRcbiAqIEBwYXJhbSB7Qm91bmRzfSBib3VuZHNcbiAqL1xuZnVuY3Rpb24gaXNJbnNpZGVCb3VuZHMocG9pbnQsIGJvdW5kcykge1xuICByZXR1cm4gZ2V0T3JpZW50YXRpb24oYm91bmRzLCBwb2ludCwgMSkgPT09ICdpbnRlcnNlY3QnO1xufVxuXG5mdW5jdGlvbiBnZXRPcmlnaW5hbChwb2ludCkge1xuICByZXR1cm4gcG9pbnQub3JpZ2luYWwgfHwgcG9pbnQ7XG59XG4iLCJpbXBvcnQge1xuICBhc3NpZ25cbn0gZnJvbSAnbWluLWRhc2gnO1xuXG5pbXBvcnQge1xuICBnZXRDbG9zdXJlXG59IGZyb20gJy4uLy4uLy4uLy4uL3V0aWwvRWxlbWVudHMnO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIE1vdmVDbG9zdXJlKCkge1xuXG4gIHRoaXMuYWxsU2hhcGVzID0ge307XG4gIHRoaXMuYWxsQ29ubmVjdGlvbnMgPSB7fTtcblxuICB0aGlzLmVuY2xvc2VkRWxlbWVudHMgPSB7fTtcbiAgdGhpcy5lbmNsb3NlZENvbm5lY3Rpb25zID0ge307XG5cbiAgdGhpcy50b3BMZXZlbCA9IHt9O1xufVxuXG5cbk1vdmVDbG9zdXJlLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbihlbGVtZW50LCBpc1RvcExldmVsKSB7XG4gIHJldHVybiB0aGlzLmFkZEFsbChbIGVsZW1lbnQgXSwgaXNUb3BMZXZlbCk7XG59O1xuXG5cbk1vdmVDbG9zdXJlLnByb3RvdHlwZS5hZGRBbGwgPSBmdW5jdGlvbihlbGVtZW50cywgaXNUb3BMZXZlbCkge1xuXG4gIHZhciBuZXdDbG9zdXJlID0gZ2V0Q2xvc3VyZShlbGVtZW50cywgISFpc1RvcExldmVsLCB0aGlzKTtcblxuICBhc3NpZ24odGhpcywgbmV3Q2xvc3VyZSk7XG5cbiAgcmV0dXJuIHRoaXM7XG59OyIsImltcG9ydCB7XG4gIGZvckVhY2hcbn0gZnJvbSAnbWluLWRhc2gnO1xuXG5pbXBvcnQge1xuICBnZXRNb3ZlZFNvdXJjZUFuY2hvcixcbiAgZ2V0TW92ZWRUYXJnZXRBbmNob3Jcbn0gZnJvbSAnLi9BbmNob3JzSGVscGVyJztcblxuaW1wb3J0IE1vdmVDbG9zdXJlIGZyb20gJy4vTW92ZUNsb3N1cmUnO1xuXG5cbi8qKlxuICogQSBoZWxwZXIgdGhhdCBpcyBhYmxlIHRvIGNhcnJ5IG91dCBzZXJpYWxpemVkIG1vdmVcbiAqIG9wZXJhdGlvbnMgb24gbXVsdGlwbGUgZWxlbWVudHMuXG4gKlxuICogQHBhcmFtIHtNb2RlbGluZ30gbW9kZWxpbmdcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTW92ZUhlbHBlcihtb2RlbGluZykge1xuICB0aGlzLl9tb2RlbGluZyA9IG1vZGVsaW5nO1xufVxuXG4vKipcbiAqIE1vdmUgdGhlIHNwZWNpZmllZCBlbGVtZW50cyBhbmQgYWxsIGNoaWxkcmVuIGJ5IHRoZSBnaXZlbiBkZWx0YS5cbiAqXG4gKiBUaGlzIG1vdmVzIGFsbCBlbmNsb3NlZCBjb25uZWN0aW9ucywgdG9vIGFuZCBsYXlvdXRzIGFsbCBhZmZlY3RlZFxuICogZXh0ZXJuYWwgY29ubmVjdGlvbnMuXG4gKlxuICogQHBhcmFtICB7QXJyYXk8ZGpzLm1vZGVsLkJhc2U+fSBlbGVtZW50c1xuICogQHBhcmFtICB7UG9pbnR9IGRlbHRhXG4gKiBAcGFyYW0gIHtkanMubW9kZWwuQmFzZX0gbmV3UGFyZW50IGFwcGxpZWQgdG8gdGhlIGZpcnN0IGxldmVsIG9mIHNoYXBlc1xuICpcbiAqIEByZXR1cm4ge0FycmF5PGRqcy5tb2RlbC5CYXNlPn0gbGlzdCBvZiB0b3VjaGVkIGVsZW1lbnRzXG4gKi9cbk1vdmVIZWxwZXIucHJvdG90eXBlLm1vdmVSZWN1cnNpdmUgPSBmdW5jdGlvbihlbGVtZW50cywgZGVsdGEsIG5ld1BhcmVudCkge1xuICBpZiAoIWVsZW1lbnRzKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB0aGlzLm1vdmVDbG9zdXJlKHRoaXMuZ2V0Q2xvc3VyZShlbGVtZW50cyksIGRlbHRhLCBuZXdQYXJlbnQpO1xuICB9XG59O1xuXG4vKipcbiAqIE1vdmUgdGhlIGdpdmVuIGNsb3N1cmUgb2YgZWxtZW1lbnRzLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBjbG9zdXJlXG4gKiBAcGFyYW0ge1BvaW50fSBkZWx0YVxuICogQHBhcmFtIHtkanMubW9kZWwuQmFzZX0gW25ld1BhcmVudF1cbiAqIEBwYXJhbSB7ZGpzLm1vZGVsLkJhc2V9IFtuZXdIb3N0XVxuICovXG5Nb3ZlSGVscGVyLnByb3RvdHlwZS5tb3ZlQ2xvc3VyZSA9IGZ1bmN0aW9uKGNsb3N1cmUsIGRlbHRhLCBuZXdQYXJlbnQsIG5ld0hvc3QsIHByaW1hcnlTaGFwZSkge1xuICB2YXIgbW9kZWxpbmcgPSB0aGlzLl9tb2RlbGluZztcblxuICB2YXIgYWxsU2hhcGVzID0gY2xvc3VyZS5hbGxTaGFwZXMsXG4gICAgICBhbGxDb25uZWN0aW9ucyA9IGNsb3N1cmUuYWxsQ29ubmVjdGlvbnMsXG4gICAgICBlbmNsb3NlZENvbm5lY3Rpb25zID0gY2xvc3VyZS5lbmNsb3NlZENvbm5lY3Rpb25zLFxuICAgICAgdG9wTGV2ZWwgPSBjbG9zdXJlLnRvcExldmVsLFxuICAgICAga2VlcFBhcmVudCA9IGZhbHNlO1xuXG4gIGlmIChwcmltYXJ5U2hhcGUgJiYgcHJpbWFyeVNoYXBlLnBhcmVudCA9PT0gbmV3UGFyZW50KSB7XG4gICAga2VlcFBhcmVudCA9IHRydWU7XG4gIH1cblxuICAvLyBtb3ZlIGFsbCBzaGFwZXNcbiAgZm9yRWFjaChhbGxTaGFwZXMsIGZ1bmN0aW9uKHNoYXBlKSB7XG5cbiAgICAvLyBtb3ZlIHRoZSBlbGVtZW50IGFjY29yZGluZyB0byB0aGUgZ2l2ZW4gZGVsdGFcbiAgICBtb2RlbGluZy5tb3ZlU2hhcGUoc2hhcGUsIGRlbHRhLCB0b3BMZXZlbFtzaGFwZS5pZF0gJiYgIWtlZXBQYXJlbnQgJiYgbmV3UGFyZW50LCB7XG4gICAgICByZWN1cnNlOiBmYWxzZSxcbiAgICAgIGxheW91dDogZmFsc2VcbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gbW92ZSBhbGwgY2hpbGQgY29ubmVjdGlvbnMgLyBsYXlvdXQgZXh0ZXJuYWwgY29ubmVjdGlvbnNcbiAgZm9yRWFjaChhbGxDb25uZWN0aW9ucywgZnVuY3Rpb24oYykge1xuXG4gICAgdmFyIHNvdXJjZU1vdmVkID0gISFhbGxTaGFwZXNbYy5zb3VyY2UuaWRdLFxuICAgICAgICB0YXJnZXRNb3ZlZCA9ICEhYWxsU2hhcGVzW2MudGFyZ2V0LmlkXTtcblxuICAgIGlmIChlbmNsb3NlZENvbm5lY3Rpb25zW2MuaWRdICYmIHNvdXJjZU1vdmVkICYmIHRhcmdldE1vdmVkKSB7XG4gICAgICBtb2RlbGluZy5tb3ZlQ29ubmVjdGlvbihjLCBkZWx0YSwgdG9wTGV2ZWxbYy5pZF0gJiYgIWtlZXBQYXJlbnQgJiYgbmV3UGFyZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgbW9kZWxpbmcubGF5b3V0Q29ubmVjdGlvbihjLCB7XG4gICAgICAgIGNvbm5lY3Rpb25TdGFydDogc291cmNlTW92ZWQgJiYgZ2V0TW92ZWRTb3VyY2VBbmNob3IoYywgYy5zb3VyY2UsIGRlbHRhKSxcbiAgICAgICAgY29ubmVjdGlvbkVuZDogdGFyZ2V0TW92ZWQgJiYgZ2V0TW92ZWRUYXJnZXRBbmNob3IoYywgYy50YXJnZXQsIGRlbHRhKVxuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn07XG5cbi8qKlxuICogUmV0dXJucyB0aGUgY2xvc3VyZSBmb3IgdGhlIHNlbGVjdGVkIGVsZW1lbnRzXG4gKlxuICogQHBhcmFtICB7QXJyYXk8ZGpzLm1vZGVsLkJhc2U+fSBlbGVtZW50c1xuICogQHJldHVybiB7TW92ZUNsb3N1cmV9IGNsb3N1cmVcbiAqL1xuTW92ZUhlbHBlci5wcm90b3R5cGUuZ2V0Q2xvc3VyZSA9IGZ1bmN0aW9uKGVsZW1lbnRzKSB7XG4gIHJldHVybiBuZXcgTW92ZUNsb3N1cmUoKS5hZGRBbGwoZWxlbWVudHMsIHRydWUpO1xufTsiLCJpbXBvcnQgTW92ZUhlbHBlciBmcm9tICcuL2hlbHBlci9Nb3ZlSGVscGVyJztcblxuXG4vKipcbiAqIEEgaGFuZGxlciB0aGF0IGltcGxlbWVudHMgcmV2ZXJzaWJsZSBtb3Zpbmcgb2Ygc2hhcGVzLlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBNb3ZlRWxlbWVudHNIYW5kbGVyKG1vZGVsaW5nKSB7XG4gIHRoaXMuX2hlbHBlciA9IG5ldyBNb3ZlSGVscGVyKG1vZGVsaW5nKTtcbn1cblxuTW92ZUVsZW1lbnRzSGFuZGxlci4kaW5qZWN0ID0gWyAnbW9kZWxpbmcnIF07XG5cbk1vdmVFbGVtZW50c0hhbmRsZXIucHJvdG90eXBlLnByZUV4ZWN1dGUgPSBmdW5jdGlvbihjb250ZXh0KSB7XG4gIGNvbnRleHQuY2xvc3VyZSA9IHRoaXMuX2hlbHBlci5nZXRDbG9zdXJlKGNvbnRleHQuc2hhcGVzKTtcbn07XG5cbk1vdmVFbGVtZW50c0hhbmRsZXIucHJvdG90eXBlLnBvc3RFeGVjdXRlID0gZnVuY3Rpb24oY29udGV4dCkge1xuXG4gIHZhciBoaW50cyA9IGNvbnRleHQuaGludHMsXG4gICAgICBwcmltYXJ5U2hhcGU7XG5cbiAgaWYgKGhpbnRzICYmIGhpbnRzLnByaW1hcnlTaGFwZSkge1xuICAgIHByaW1hcnlTaGFwZSA9IGhpbnRzLnByaW1hcnlTaGFwZTtcbiAgICBoaW50cy5vbGRQYXJlbnQgPSBwcmltYXJ5U2hhcGUucGFyZW50O1xuICB9XG5cbiAgdGhpcy5faGVscGVyLm1vdmVDbG9zdXJlKFxuICAgIGNvbnRleHQuY2xvc3VyZSxcbiAgICBjb250ZXh0LmRlbHRhLFxuICAgIGNvbnRleHQubmV3UGFyZW50LFxuICAgIGNvbnRleHQubmV3SG9zdCxcbiAgICBwcmltYXJ5U2hhcGVcbiAgKTtcbn07IiwiaW1wb3J0IHtcbiAgYXNzaWduLFxuICBmb3JFYWNoLFxuICBwaWNrXG59IGZyb20gJ21pbi1kYXNoJztcblxuaW1wb3J0IE1vdmVIZWxwZXIgZnJvbSAnLi9oZWxwZXIvTW92ZUhlbHBlcic7XG5cbmltcG9ydCB7XG4gIGFkZCBhcyBjb2xsZWN0aW9uQWRkLFxuICByZW1vdmUgYXMgY29sbGVjdGlvblJlbW92ZVxufSBmcm9tICcuLi8uLi8uLi91dGlsL0NvbGxlY3Rpb25zJztcblxuaW1wb3J0IHtcbiAgZ2V0TW92ZWRTb3VyY2VBbmNob3IsXG4gIGdldE1vdmVkVGFyZ2V0QW5jaG9yXG59IGZyb20gJy4vaGVscGVyL0FuY2hvcnNIZWxwZXInO1xuXG5cbi8qKlxuICogQSBoYW5kbGVyIHRoYXQgaW1wbGVtZW50cyByZXZlcnNpYmxlIG1vdmluZyBvZiBzaGFwZXMuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIE1vdmVTaGFwZUhhbmRsZXIobW9kZWxpbmcpIHtcbiAgdGhpcy5fbW9kZWxpbmcgPSBtb2RlbGluZztcblxuICB0aGlzLl9oZWxwZXIgPSBuZXcgTW92ZUhlbHBlcihtb2RlbGluZyk7XG59XG5cbk1vdmVTaGFwZUhhbmRsZXIuJGluamVjdCA9IFsgJ21vZGVsaW5nJyBdO1xuXG5cbk1vdmVTaGFwZUhhbmRsZXIucHJvdG90eXBlLmV4ZWN1dGUgPSBmdW5jdGlvbihjb250ZXh0KSB7XG5cbiAgdmFyIHNoYXBlID0gY29udGV4dC5zaGFwZSxcbiAgICAgIGRlbHRhID0gY29udGV4dC5kZWx0YSxcbiAgICAgIG5ld1BhcmVudCA9IGNvbnRleHQubmV3UGFyZW50IHx8IHNoYXBlLnBhcmVudCxcbiAgICAgIG5ld1BhcmVudEluZGV4ID0gY29udGV4dC5uZXdQYXJlbnRJbmRleCxcbiAgICAgIG9sZFBhcmVudCA9IHNoYXBlLnBhcmVudDtcblxuICBjb250ZXh0Lm9sZEJvdW5kcyA9IHBpY2soc2hhcGUsIFsgJ3gnLCAneScsICd3aWR0aCcsICdoZWlnaHQnXSk7XG5cbiAgLy8gc2F2ZSBvbGQgcGFyZW50IGluIGNvbnRleHRcbiAgY29udGV4dC5vbGRQYXJlbnQgPSBvbGRQYXJlbnQ7XG4gIGNvbnRleHQub2xkUGFyZW50SW5kZXggPSBjb2xsZWN0aW9uUmVtb3ZlKG9sZFBhcmVudC5jaGlsZHJlbiwgc2hhcGUpO1xuXG4gIC8vIGFkZCB0byBuZXcgcGFyZW50IGF0IHBvc2l0aW9uXG4gIGNvbGxlY3Rpb25BZGQobmV3UGFyZW50LmNoaWxkcmVuLCBzaGFwZSwgbmV3UGFyZW50SW5kZXgpO1xuXG4gIC8vIHVwZGF0ZSBzaGFwZSBwYXJlbnQgKyBwb3NpdGlvblxuICBhc3NpZ24oc2hhcGUsIHtcbiAgICBwYXJlbnQ6IG5ld1BhcmVudCxcbiAgICB4OiBzaGFwZS54ICsgZGVsdGEueCxcbiAgICB5OiBzaGFwZS55ICsgZGVsdGEueVxuICB9KTtcblxuICByZXR1cm4gc2hhcGU7XG59O1xuXG5Nb3ZlU2hhcGVIYW5kbGVyLnByb3RvdHlwZS5wb3N0RXhlY3V0ZSA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcblxuICB2YXIgc2hhcGUgPSBjb250ZXh0LnNoYXBlLFxuICAgICAgZGVsdGEgPSBjb250ZXh0LmRlbHRhLFxuICAgICAgaGludHMgPSBjb250ZXh0LmhpbnRzO1xuXG4gIHZhciBtb2RlbGluZyA9IHRoaXMuX21vZGVsaW5nO1xuXG4gIGlmIChoaW50cy5sYXlvdXQgIT09IGZhbHNlKSB7XG5cbiAgICBmb3JFYWNoKHNoYXBlLmluY29taW5nLCBmdW5jdGlvbihjKSB7XG4gICAgICBtb2RlbGluZy5sYXlvdXRDb25uZWN0aW9uKGMsIHtcbiAgICAgICAgY29ubmVjdGlvbkVuZDogZ2V0TW92ZWRUYXJnZXRBbmNob3IoYywgc2hhcGUsIGRlbHRhKVxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBmb3JFYWNoKHNoYXBlLm91dGdvaW5nLCBmdW5jdGlvbihjKSB7XG4gICAgICBtb2RlbGluZy5sYXlvdXRDb25uZWN0aW9uKGMsIHtcbiAgICAgICAgY29ubmVjdGlvblN0YXJ0OiBnZXRNb3ZlZFNvdXJjZUFuY2hvcihjLCBzaGFwZSwgZGVsdGEpXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChoaW50cy5yZWN1cnNlICE9PSBmYWxzZSkge1xuICAgIHRoaXMubW92ZUNoaWxkcmVuKGNvbnRleHQpO1xuICB9XG59O1xuXG5Nb3ZlU2hhcGVIYW5kbGVyLnByb3RvdHlwZS5yZXZlcnQgPSBmdW5jdGlvbihjb250ZXh0KSB7XG5cbiAgdmFyIHNoYXBlID0gY29udGV4dC5zaGFwZSxcbiAgICAgIG9sZFBhcmVudCA9IGNvbnRleHQub2xkUGFyZW50LFxuICAgICAgb2xkUGFyZW50SW5kZXggPSBjb250ZXh0Lm9sZFBhcmVudEluZGV4LFxuICAgICAgZGVsdGEgPSBjb250ZXh0LmRlbHRhO1xuXG4gIC8vIHJlc3RvcmUgcHJldmlvdXMgbG9jYXRpb24gaW4gb2xkIHBhcmVudFxuICBjb2xsZWN0aW9uQWRkKG9sZFBhcmVudC5jaGlsZHJlbiwgc2hhcGUsIG9sZFBhcmVudEluZGV4KTtcblxuICAvLyByZXZlcnQgdG8gb2xkIHBvc2l0aW9uIGFuZCBwYXJlbnRcbiAgYXNzaWduKHNoYXBlLCB7XG4gICAgcGFyZW50OiBvbGRQYXJlbnQsXG4gICAgeDogc2hhcGUueCAtIGRlbHRhLngsXG4gICAgeTogc2hhcGUueSAtIGRlbHRhLnlcbiAgfSk7XG5cbiAgcmV0dXJuIHNoYXBlO1xufTtcblxuTW92ZVNoYXBlSGFuZGxlci5wcm90b3R5cGUubW92ZUNoaWxkcmVuID0gZnVuY3Rpb24oY29udGV4dCkge1xuXG4gIHZhciBkZWx0YSA9IGNvbnRleHQuZGVsdGEsXG4gICAgICBzaGFwZSA9IGNvbnRleHQuc2hhcGU7XG5cbiAgdGhpcy5faGVscGVyLm1vdmVSZWN1cnNpdmUoc2hhcGUuY2hpbGRyZW4sIGRlbHRhLCBudWxsKTtcbn07XG5cbk1vdmVTaGFwZUhhbmRsZXIucHJvdG90eXBlLmdldE5ld1BhcmVudCA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcbiAgcmV0dXJuIGNvbnRleHQubmV3UGFyZW50IHx8IGNvbnRleHQuc2hhcGUucGFyZW50O1xufTtcbiIsImltcG9ydCB7IGlzQXJyYXkgfSBmcm9tICdtaW4tZGFzaCc7XG5cblxuLyoqXG4gKiBSZWNvbm5lY3QgY29ubmVjdGlvbiBoYW5kbGVyXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFJlY29ubmVjdENvbm5lY3Rpb25IYW5kbGVyKG1vZGVsaW5nKSB7XG4gIHRoaXMuX21vZGVsaW5nID0gbW9kZWxpbmc7XG59XG5cblJlY29ubmVjdENvbm5lY3Rpb25IYW5kbGVyLiRpbmplY3QgPSBbICdtb2RlbGluZycgXTtcblxuUmVjb25uZWN0Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLmV4ZWN1dGUgPSBmdW5jdGlvbihjb250ZXh0KSB7XG4gIHZhciBuZXdTb3VyY2UgPSBjb250ZXh0Lm5ld1NvdXJjZSxcbiAgICAgIG5ld1RhcmdldCA9IGNvbnRleHQubmV3VGFyZ2V0LFxuICAgICAgY29ubmVjdGlvbiA9IGNvbnRleHQuY29ubmVjdGlvbixcbiAgICAgIGRvY2tpbmdPclBvaW50cyA9IGNvbnRleHQuZG9ja2luZ09yUG9pbnRzO1xuXG4gIGlmICghbmV3U291cmNlICYmICFuZXdUYXJnZXQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ25ld1NvdXJjZSBvciBuZXdUYXJnZXQgcmVxdWlyZWQnKTtcbiAgfVxuXG4gIGlmIChpc0FycmF5KGRvY2tpbmdPclBvaW50cykpIHtcbiAgICBjb250ZXh0Lm9sZFdheXBvaW50cyA9IGNvbm5lY3Rpb24ud2F5cG9pbnRzO1xuICAgIGNvbm5lY3Rpb24ud2F5cG9pbnRzID0gZG9ja2luZ09yUG9pbnRzO1xuICB9XG5cbiAgaWYgKG5ld1NvdXJjZSkge1xuICAgIGNvbnRleHQub2xkU291cmNlID0gY29ubmVjdGlvbi5zb3VyY2U7XG4gICAgY29ubmVjdGlvbi5zb3VyY2UgPSBuZXdTb3VyY2U7XG4gIH1cblxuICBpZiAobmV3VGFyZ2V0KSB7XG4gICAgY29udGV4dC5vbGRUYXJnZXQgPSBjb25uZWN0aW9uLnRhcmdldDtcbiAgICBjb25uZWN0aW9uLnRhcmdldCA9IG5ld1RhcmdldDtcbiAgfVxuXG4gIHJldHVybiBjb25uZWN0aW9uO1xufTtcblxuUmVjb25uZWN0Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLnBvc3RFeGVjdXRlID0gZnVuY3Rpb24oY29udGV4dCkge1xuICB2YXIgY29ubmVjdGlvbiA9IGNvbnRleHQuY29ubmVjdGlvbixcbiAgICAgIG5ld1NvdXJjZSA9IGNvbnRleHQubmV3U291cmNlLFxuICAgICAgbmV3VGFyZ2V0ID0gY29udGV4dC5uZXdUYXJnZXQsXG4gICAgICBkb2NraW5nT3JQb2ludHMgPSBjb250ZXh0LmRvY2tpbmdPclBvaW50cyxcbiAgICAgIGhpbnRzID0gY29udGV4dC5oaW50cyB8fCB7fTtcblxuICB2YXIgbGF5b3V0Q29ubmVjdGlvbkhpbnRzID0ge307XG5cbiAgaWYgKGhpbnRzLmNvbm5lY3Rpb25TdGFydCkge1xuICAgIGxheW91dENvbm5lY3Rpb25IaW50cy5jb25uZWN0aW9uU3RhcnQgPSBoaW50cy5jb25uZWN0aW9uU3RhcnQ7XG4gIH1cblxuICBpZiAoaGludHMuY29ubmVjdGlvbkVuZCkge1xuICAgIGxheW91dENvbm5lY3Rpb25IaW50cy5jb25uZWN0aW9uRW5kID0gaGludHMuY29ubmVjdGlvbkVuZDtcbiAgfVxuXG4gIGlmIChoaW50cy5sYXlvdXRDb25uZWN0aW9uID09PSBmYWxzZSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChuZXdTb3VyY2UgJiYgKCFuZXdUYXJnZXQgfHwgaGludHMuZG9ja2luZyA9PT0gJ3NvdXJjZScpKSB7XG4gICAgbGF5b3V0Q29ubmVjdGlvbkhpbnRzLmNvbm5lY3Rpb25TdGFydCA9IGxheW91dENvbm5lY3Rpb25IaW50cy5jb25uZWN0aW9uU3RhcnRcbiAgICAgIHx8IGdldERvY2tpbmcoaXNBcnJheShkb2NraW5nT3JQb2ludHMpID8gZG9ja2luZ09yUG9pbnRzWyAwIF0gOiBkb2NraW5nT3JQb2ludHMpO1xuICB9XG5cbiAgaWYgKG5ld1RhcmdldCAmJiAoIW5ld1NvdXJjZSB8fCBoaW50cy5kb2NraW5nID09PSAndGFyZ2V0JykpIHtcbiAgICBsYXlvdXRDb25uZWN0aW9uSGludHMuY29ubmVjdGlvbkVuZCA9IGxheW91dENvbm5lY3Rpb25IaW50cy5jb25uZWN0aW9uRW5kXG4gICAgICB8fCBnZXREb2NraW5nKGlzQXJyYXkoZG9ja2luZ09yUG9pbnRzKSA/IGRvY2tpbmdPclBvaW50c1sgZG9ja2luZ09yUG9pbnRzLmxlbmd0aCAtIDEgXSA6IGRvY2tpbmdPclBvaW50cyk7XG4gIH1cblxuICBpZiAoaGludHMubmV3V2F5cG9pbnRzKSB7XG4gICAgbGF5b3V0Q29ubmVjdGlvbkhpbnRzLndheXBvaW50cyA9IGhpbnRzLm5ld1dheXBvaW50cztcbiAgfVxuXG4gIHRoaXMuX21vZGVsaW5nLmxheW91dENvbm5lY3Rpb24oY29ubmVjdGlvbiwgbGF5b3V0Q29ubmVjdGlvbkhpbnRzKTtcbn07XG5cblJlY29ubmVjdENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5yZXZlcnQgPSBmdW5jdGlvbihjb250ZXh0KSB7XG4gIHZhciBvbGRTb3VyY2UgPSBjb250ZXh0Lm9sZFNvdXJjZSxcbiAgICAgIG9sZFRhcmdldCA9IGNvbnRleHQub2xkVGFyZ2V0LFxuICAgICAgb2xkV2F5cG9pbnRzID0gY29udGV4dC5vbGRXYXlwb2ludHMsXG4gICAgICBjb25uZWN0aW9uID0gY29udGV4dC5jb25uZWN0aW9uO1xuXG4gIGlmIChvbGRTb3VyY2UpIHtcbiAgICBjb25uZWN0aW9uLnNvdXJjZSA9IG9sZFNvdXJjZTtcbiAgfVxuXG4gIGlmIChvbGRUYXJnZXQpIHtcbiAgICBjb25uZWN0aW9uLnRhcmdldCA9IG9sZFRhcmdldDtcbiAgfVxuXG4gIGlmIChvbGRXYXlwb2ludHMpIHtcbiAgICBjb25uZWN0aW9uLndheXBvaW50cyA9IG9sZFdheXBvaW50cztcbiAgfVxuXG4gIHJldHVybiBjb25uZWN0aW9uO1xufTtcblxuXG5cbi8vIGhlbHBlcnMgLy8vLy8vLy8vL1xuXG5mdW5jdGlvbiBnZXREb2NraW5nKHBvaW50KSB7XG4gIHJldHVybiBwb2ludC5vcmlnaW5hbCB8fCBwb2ludDtcbn0iLCJpbXBvcnQgeyBmb3JFYWNoIH0gZnJvbSAnbWluLWRhc2gnO1xuXG5pbXBvcnQge1xuICBnZXRSZXNpemVkU291cmNlQW5jaG9yLFxuICBnZXRSZXNpemVkVGFyZ2V0QW5jaG9yXG59IGZyb20gJy4vaGVscGVyL0FuY2hvcnNIZWxwZXInO1xuXG4vKipcbiAqIFJlcGxhY2Ugc2hhcGUgYnkgYWRkaW5nIG5ldyBzaGFwZSBhbmQgcmVtb3Zpbmcgb2xkIHNoYXBlLiBJbmNvbWluZyBhbmQgb3V0Z29pbmcgY29ubmVjdGlvbnMgd2lsbFxuICogYmUga2VwdCBpZiBwb3NzaWJsZS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBjb25zdHJ1Y3RvclxuICpcbiAqIEBwYXJhbSB7TW9kZWxpbmd9IG1vZGVsaW5nXG4gKiBAcGFyYW0ge1J1bGVzfSBydWxlc1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBSZXBsYWNlU2hhcGVIYW5kbGVyKG1vZGVsaW5nLCBydWxlcykge1xuICB0aGlzLl9tb2RlbGluZyA9IG1vZGVsaW5nO1xuICB0aGlzLl9ydWxlcyA9IHJ1bGVzO1xufVxuXG5SZXBsYWNlU2hhcGVIYW5kbGVyLiRpbmplY3QgPSBbICdtb2RlbGluZycsICdydWxlcycgXTtcblxuXG4vKipcbiAqIEFkZCBuZXcgc2hhcGUuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHRcbiAqIEBwYXJhbSB7ZGpzLm1vZGVsLlNoYXBlfSBjb250ZXh0Lm9sZFNoYXBlXG4gKiBAcGFyYW0ge09iamVjdH0gY29udGV4dC5uZXdEYXRhXG4gKiBAcGFyYW0ge3N0cmluZ30gY29udGV4dC5uZXdEYXRhLnR5cGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBjb250ZXh0Lm5ld0RhdGEueFxuICogQHBhcmFtIHtudW1iZXJ9IGNvbnRleHQubmV3RGF0YS55XG4gKiBAcGFyYW0ge09iamVjdH0gW2hpbnRzXVxuICovXG5SZXBsYWNlU2hhcGVIYW5kbGVyLnByb3RvdHlwZS5wcmVFeGVjdXRlID0gZnVuY3Rpb24oY29udGV4dCkge1xuICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICBtb2RlbGluZyA9IHRoaXMuX21vZGVsaW5nLFxuICAgICAgcnVsZXMgPSB0aGlzLl9ydWxlcztcblxuICB2YXIgb2xkU2hhcGUgPSBjb250ZXh0Lm9sZFNoYXBlLFxuICAgICAgbmV3RGF0YSA9IGNvbnRleHQubmV3RGF0YSxcbiAgICAgIGhpbnRzID0gY29udGV4dC5oaW50cyB8fCB7fSxcbiAgICAgIG5ld1NoYXBlO1xuXG4gIGZ1bmN0aW9uIGNhblJlY29ubmVjdChzb3VyY2UsIHRhcmdldCwgY29ubmVjdGlvbikge1xuICAgIHJldHVybiBydWxlcy5hbGxvd2VkKCdjb25uZWN0aW9uLnJlY29ubmVjdCcsIHtcbiAgICAgIGNvbm5lY3Rpb246IGNvbm5lY3Rpb24sXG4gICAgICBzb3VyY2U6IHNvdXJjZSxcbiAgICAgIHRhcmdldDogdGFyZ2V0XG4gICAgfSk7XG4gIH1cblxuICAvLyAoMSkgYWRkIG5ldyBzaGFwZSBhdCBnaXZlbiBwb3NpdGlvblxuICB2YXIgcG9zaXRpb24gPSB7XG4gICAgeDogbmV3RGF0YS54LFxuICAgIHk6IG5ld0RhdGEueVxuICB9O1xuXG4gIHZhciBvbGRCb3VuZHMgPSB7XG4gICAgeDogb2xkU2hhcGUueCxcbiAgICB5OiBvbGRTaGFwZS55LFxuICAgIHdpZHRoOiBvbGRTaGFwZS53aWR0aCxcbiAgICBoZWlnaHQ6IG9sZFNoYXBlLmhlaWdodFxuICB9O1xuXG4gIG5ld1NoYXBlID0gY29udGV4dC5uZXdTaGFwZSA9XG4gICAgY29udGV4dC5uZXdTaGFwZSB8fFxuICAgIHNlbGYuY3JlYXRlU2hhcGUobmV3RGF0YSwgcG9zaXRpb24sIG9sZFNoYXBlLnBhcmVudCwgaGludHMpO1xuXG4gIC8vICgyKSB1cGRhdGUgaG9zdFxuICBpZiAob2xkU2hhcGUuaG9zdCkge1xuICAgIG1vZGVsaW5nLnVwZGF0ZUF0dGFjaG1lbnQobmV3U2hhcGUsIG9sZFNoYXBlLmhvc3QpO1xuICB9XG5cbiAgLy8gKDMpIGFkb3B0IGFsbCBjaGlsZHJlbiBmcm9tIG9sZCBzaGFwZVxuICB2YXIgY2hpbGRyZW47XG5cbiAgaWYgKGhpbnRzLm1vdmVDaGlsZHJlbiAhPT0gZmFsc2UpIHtcbiAgICBjaGlsZHJlbiA9IG9sZFNoYXBlLmNoaWxkcmVuLnNsaWNlKCk7XG5cbiAgICBtb2RlbGluZy5tb3ZlRWxlbWVudHMoY2hpbGRyZW4sIHsgeDogMCwgeTogMCB9LCBuZXdTaGFwZSwgaGludHMpO1xuICB9XG5cbiAgLy8gKDQpIHJlY29ubmVjdCBjb25uZWN0aW9ucyB0byBuZXcgc2hhcGUgaWYgcG9zc2libGVcbiAgdmFyIGluY29taW5nID0gb2xkU2hhcGUuaW5jb21pbmcuc2xpY2UoKSxcbiAgICAgIG91dGdvaW5nID0gb2xkU2hhcGUub3V0Z29pbmcuc2xpY2UoKTtcblxuICBmb3JFYWNoKGluY29taW5nLCBmdW5jdGlvbihjb25uZWN0aW9uKSB7XG4gICAgdmFyIHNvdXJjZSA9IGNvbm5lY3Rpb24uc291cmNlLFxuICAgICAgICBhbGxvd2VkID0gY2FuUmVjb25uZWN0KHNvdXJjZSwgbmV3U2hhcGUsIGNvbm5lY3Rpb24pO1xuXG4gICAgaWYgKGFsbG93ZWQpIHtcbiAgICAgIHNlbGYucmVjb25uZWN0RW5kKFxuICAgICAgICBjb25uZWN0aW9uLCBuZXdTaGFwZSxcbiAgICAgICAgZ2V0UmVzaXplZFRhcmdldEFuY2hvcihjb25uZWN0aW9uLCBuZXdTaGFwZSwgb2xkQm91bmRzKSxcbiAgICAgICAgaGludHNcbiAgICAgICk7XG4gICAgfVxuICB9KTtcblxuICBmb3JFYWNoKG91dGdvaW5nLCBmdW5jdGlvbihjb25uZWN0aW9uKSB7XG4gICAgdmFyIHRhcmdldCA9IGNvbm5lY3Rpb24udGFyZ2V0LFxuICAgICAgICBhbGxvd2VkID0gY2FuUmVjb25uZWN0KG5ld1NoYXBlLCB0YXJnZXQsIGNvbm5lY3Rpb24pO1xuXG4gICAgaWYgKGFsbG93ZWQpIHtcbiAgICAgIHNlbGYucmVjb25uZWN0U3RhcnQoXG4gICAgICAgIGNvbm5lY3Rpb24sIG5ld1NoYXBlLFxuICAgICAgICBnZXRSZXNpemVkU291cmNlQW5jaG9yKGNvbm5lY3Rpb24sIG5ld1NoYXBlLCBvbGRCb3VuZHMpLFxuICAgICAgICBoaW50c1xuICAgICAgKTtcbiAgICB9XG4gIH0pO1xufTtcblxuXG4vKipcbiAqIFJlbW92ZSBvbGQgc2hhcGUuXG4gKi9cblJlcGxhY2VTaGFwZUhhbmRsZXIucHJvdG90eXBlLnBvc3RFeGVjdXRlID0gZnVuY3Rpb24oY29udGV4dCkge1xuICB2YXIgb2xkU2hhcGUgPSBjb250ZXh0Lm9sZFNoYXBlO1xuXG4gIHRoaXMuX21vZGVsaW5nLnJlbW92ZVNoYXBlKG9sZFNoYXBlKTtcbn07XG5cblxuUmVwbGFjZVNoYXBlSGFuZGxlci5wcm90b3R5cGUuZXhlY3V0ZSA9IGZ1bmN0aW9uKGNvbnRleHQpIHt9O1xuXG5cblJlcGxhY2VTaGFwZUhhbmRsZXIucHJvdG90eXBlLnJldmVydCA9IGZ1bmN0aW9uKGNvbnRleHQpIHt9O1xuXG5cblJlcGxhY2VTaGFwZUhhbmRsZXIucHJvdG90eXBlLmNyZWF0ZVNoYXBlID0gZnVuY3Rpb24oc2hhcGUsIHBvc2l0aW9uLCB0YXJnZXQsIGhpbnRzKSB7XG4gIHJldHVybiB0aGlzLl9tb2RlbGluZy5jcmVhdGVTaGFwZShzaGFwZSwgcG9zaXRpb24sIHRhcmdldCwgaGludHMpO1xufTtcblxuXG5SZXBsYWNlU2hhcGVIYW5kbGVyLnByb3RvdHlwZS5yZWNvbm5lY3RTdGFydCA9IGZ1bmN0aW9uKGNvbm5lY3Rpb24sIG5ld1NvdXJjZSwgZG9ja2luZ1BvaW50LCBoaW50cykge1xuICB0aGlzLl9tb2RlbGluZy5yZWNvbm5lY3RTdGFydChjb25uZWN0aW9uLCBuZXdTb3VyY2UsIGRvY2tpbmdQb2ludCwgaGludHMpO1xufTtcblxuXG5SZXBsYWNlU2hhcGVIYW5kbGVyLnByb3RvdHlwZS5yZWNvbm5lY3RFbmQgPSBmdW5jdGlvbihjb25uZWN0aW9uLCBuZXdUYXJnZXQsIGRvY2tpbmdQb2ludCwgaGludHMpIHtcbiAgdGhpcy5fbW9kZWxpbmcucmVjb25uZWN0RW5kKGNvbm5lY3Rpb24sIG5ld1RhcmdldCwgZG9ja2luZ1BvaW50LCBoaW50cyk7XG59O1xuIiwiaW1wb3J0IHtcbiAgYXNzaWduLFxuICBmb3JFYWNoXG59IGZyb20gJ21pbi1kYXNoJztcblxuaW1wb3J0IHtcbiAgZ2V0UmVzaXplZFNvdXJjZUFuY2hvcixcbiAgZ2V0UmVzaXplZFRhcmdldEFuY2hvclxufSBmcm9tICcuL2hlbHBlci9BbmNob3JzSGVscGVyJztcblxuXG4vKipcbiAqIEEgaGFuZGxlciB0aGF0IGltcGxlbWVudHMgcmV2ZXJzaWJsZSByZXNpemluZyBvZiBzaGFwZXMuXG4gKlxuICogQHBhcmFtIHtNb2RlbGluZ30gbW9kZWxpbmdcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUmVzaXplU2hhcGVIYW5kbGVyKG1vZGVsaW5nKSB7XG4gIHRoaXMuX21vZGVsaW5nID0gbW9kZWxpbmc7XG59XG5cblJlc2l6ZVNoYXBlSGFuZGxlci4kaW5qZWN0ID0gWyAnbW9kZWxpbmcnIF07XG5cbi8qKlxuICoge1xuICogICBzaGFwZTogey4uLi59XG4gKiAgIG5ld0JvdW5kczoge1xuICogICAgIHdpZHRoOiAgMjAsXG4gKiAgICAgaGVpZ2h0OiA0MCxcbiAqICAgICB4OiAgICAgICA1LFxuICogICAgIHk6ICAgICAgMTBcbiAqICAgfVxuICpcbiAqIH1cbiAqL1xuUmVzaXplU2hhcGVIYW5kbGVyLnByb3RvdHlwZS5leGVjdXRlID0gZnVuY3Rpb24oY29udGV4dCkge1xuICB2YXIgc2hhcGUgPSBjb250ZXh0LnNoYXBlLFxuICAgICAgbmV3Qm91bmRzID0gY29udGV4dC5uZXdCb3VuZHMsXG4gICAgICBtaW5Cb3VuZHMgPSBjb250ZXh0Lm1pbkJvdW5kcztcblxuICBpZiAobmV3Qm91bmRzLnggPT09IHVuZGVmaW5lZCB8fCBuZXdCb3VuZHMueSA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICBuZXdCb3VuZHMud2lkdGggPT09IHVuZGVmaW5lZCB8fCBuZXdCb3VuZHMuaGVpZ2h0ID09PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ25ld0JvdW5kcyBtdXN0IGhhdmUge3gsIHksIHdpZHRoLCBoZWlnaHR9IHByb3BlcnRpZXMnKTtcbiAgfVxuXG4gIGlmIChtaW5Cb3VuZHMgJiYgKG5ld0JvdW5kcy53aWR0aCA8IG1pbkJvdW5kcy53aWR0aFxuICAgIHx8IG5ld0JvdW5kcy5oZWlnaHQgPCBtaW5Cb3VuZHMuaGVpZ2h0KSkge1xuICAgIHRocm93IG5ldyBFcnJvcignd2lkdGggYW5kIGhlaWdodCBjYW5ub3QgYmUgbGVzcyB0aGFuIG1pbmltdW0gaGVpZ2h0IGFuZCB3aWR0aCcpO1xuICB9IGVsc2UgaWYgKCFtaW5Cb3VuZHNcbiAgICAmJiBuZXdCb3VuZHMud2lkdGggPCAxMCB8fCBuZXdCb3VuZHMuaGVpZ2h0IDwgMTApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3dpZHRoIGFuZCBoZWlnaHQgY2Fubm90IGJlIGxlc3MgdGhhbiAxMHB4Jyk7XG4gIH1cblxuICAvLyBzYXZlIG9sZCBiYm94IGluIGNvbnRleHRcbiAgY29udGV4dC5vbGRCb3VuZHMgPSB7XG4gICAgd2lkdGg6ICBzaGFwZS53aWR0aCxcbiAgICBoZWlnaHQ6IHNoYXBlLmhlaWdodCxcbiAgICB4OiAgICAgIHNoYXBlLngsXG4gICAgeTogICAgICBzaGFwZS55XG4gIH07XG5cbiAgLy8gdXBkYXRlIHNoYXBlXG4gIGFzc2lnbihzaGFwZSwge1xuICAgIHdpZHRoOiAgbmV3Qm91bmRzLndpZHRoLFxuICAgIGhlaWdodDogbmV3Qm91bmRzLmhlaWdodCxcbiAgICB4OiAgICAgIG5ld0JvdW5kcy54LFxuICAgIHk6ICAgICAgbmV3Qm91bmRzLnlcbiAgfSk7XG5cbiAgcmV0dXJuIHNoYXBlO1xufTtcblxuUmVzaXplU2hhcGVIYW5kbGVyLnByb3RvdHlwZS5wb3N0RXhlY3V0ZSA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcbiAgdmFyIG1vZGVsaW5nID0gdGhpcy5fbW9kZWxpbmc7XG5cbiAgdmFyIHNoYXBlID0gY29udGV4dC5zaGFwZSxcbiAgICAgIG9sZEJvdW5kcyA9IGNvbnRleHQub2xkQm91bmRzLFxuICAgICAgaGludHMgPSBjb250ZXh0LmhpbnRzIHx8IHt9O1xuXG4gIGlmIChoaW50cy5sYXlvdXQgPT09IGZhbHNlKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgZm9yRWFjaChzaGFwZS5pbmNvbWluZywgZnVuY3Rpb24oYykge1xuICAgIG1vZGVsaW5nLmxheW91dENvbm5lY3Rpb24oYywge1xuICAgICAgY29ubmVjdGlvbkVuZDogZ2V0UmVzaXplZFRhcmdldEFuY2hvcihjLCBzaGFwZSwgb2xkQm91bmRzKVxuICAgIH0pO1xuICB9KTtcblxuICBmb3JFYWNoKHNoYXBlLm91dGdvaW5nLCBmdW5jdGlvbihjKSB7XG4gICAgbW9kZWxpbmcubGF5b3V0Q29ubmVjdGlvbihjLCB7XG4gICAgICBjb25uZWN0aW9uU3RhcnQ6IGdldFJlc2l6ZWRTb3VyY2VBbmNob3IoYywgc2hhcGUsIG9sZEJvdW5kcylcbiAgICB9KTtcbiAgfSk7XG5cbn07XG5cblJlc2l6ZVNoYXBlSGFuZGxlci5wcm90b3R5cGUucmV2ZXJ0ID0gZnVuY3Rpb24oY29udGV4dCkge1xuXG4gIHZhciBzaGFwZSA9IGNvbnRleHQuc2hhcGUsXG4gICAgICBvbGRCb3VuZHMgPSBjb250ZXh0Lm9sZEJvdW5kcztcblxuICAvLyByZXN0b3JlIHByZXZpb3VzIGJib3hcbiAgYXNzaWduKHNoYXBlLCB7XG4gICAgd2lkdGg6ICBvbGRCb3VuZHMud2lkdGgsXG4gICAgaGVpZ2h0OiBvbGRCb3VuZHMuaGVpZ2h0LFxuICAgIHg6ICAgICAgb2xkQm91bmRzLngsXG4gICAgeTogICAgICBvbGRCb3VuZHMueVxuICB9KTtcblxuICByZXR1cm4gc2hhcGU7XG59O1xuIiwiaW1wb3J0IHtcbiAgYXNzaWduLFxuICBmb3JFYWNoLFxuICBtYXBcbn0gZnJvbSAnbWluLWRhc2gnO1xuXG5pbXBvcnQge1xuICBnZXRXYXlwb2ludHNVcGRhdGluZ0Nvbm5lY3Rpb25zLFxuICByZXNpemVCb3VuZHNcbn0gZnJvbSAnLi4vLi4vc3BhY2UtdG9vbC9TcGFjZVV0aWwnO1xuXG5pbXBvcnQge1xuICBnZXRNb3ZlZFNvdXJjZUFuY2hvcixcbiAgZ2V0TW92ZWRUYXJnZXRBbmNob3IsXG4gIGdldFJlc2l6ZWRTb3VyY2VBbmNob3IsXG4gIGdldFJlc2l6ZWRUYXJnZXRBbmNob3Jcbn0gZnJvbSAnLi9oZWxwZXIvQW5jaG9yc0hlbHBlcic7XG5cblxuLyoqXG4gKiBBZGQgb3IgcmVtb3ZlIHNwYWNlIGJ5IG1vdmluZyBhbmQgcmVzaXppbmcgc2hhcGVzIGFuZCB1cGRhdGluZyBjb25uZWN0aW9uIHdheXBvaW50cy5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gU3BhY2VUb29sSGFuZGxlcihtb2RlbGluZykge1xuICB0aGlzLl9tb2RlbGluZyA9IG1vZGVsaW5nO1xufVxuXG5TcGFjZVRvb2xIYW5kbGVyLiRpbmplY3QgPSBbICdtb2RlbGluZycgXTtcblxuU3BhY2VUb29sSGFuZGxlci5wcm90b3R5cGUucHJlRXhlY3V0ZSA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcbiAgdmFyIGRlbHRhID0gY29udGV4dC5kZWx0YSxcbiAgICAgIGRpcmVjdGlvbiA9IGNvbnRleHQuZGlyZWN0aW9uLFxuICAgICAgbW92aW5nU2hhcGVzID0gY29udGV4dC5tb3ZpbmdTaGFwZXMsXG4gICAgICByZXNpemluZ1NoYXBlcyA9IGNvbnRleHQucmVzaXppbmdTaGFwZXMsXG4gICAgICBzdGFydCA9IGNvbnRleHQuc3RhcnQsXG4gICAgICBvbGRCb3VuZHMgPSB7fTtcblxuICAvLyAoMSkgbW92ZSBzaGFwZXNcbiAgdGhpcy5tb3ZlU2hhcGVzKG1vdmluZ1NoYXBlcywgZGVsdGEpO1xuXG4gIC8vICgyYSkgc2F2ZSBvbGQgYm91bmRzIG9mIHJlc2l6ZWQgc2hhcGVzXG4gIGZvckVhY2gocmVzaXppbmdTaGFwZXMsIGZ1bmN0aW9uKHNoYXBlKSB7XG4gICAgb2xkQm91bmRzW3NoYXBlLmlkXSA9IGdldEJvdW5kcyhzaGFwZSk7XG4gIH0pO1xuXG4gIC8vICgyYikgcmVzaXplIHNoYXBlc1xuICB0aGlzLnJlc2l6ZVNoYXBlcyhyZXNpemluZ1NoYXBlcywgZGVsdGEsIGRpcmVjdGlvbik7XG5cbiAgLy8gKDMpIHVwZGF0ZSBjb25uZWN0aW9uIHdheXBvaW50c1xuICB0aGlzLnVwZGF0ZUNvbm5lY3Rpb25XYXlwb2ludHMoXG4gICAgZ2V0V2F5cG9pbnRzVXBkYXRpbmdDb25uZWN0aW9ucyhtb3ZpbmdTaGFwZXMsIHJlc2l6aW5nU2hhcGVzKSxcbiAgICBkZWx0YSxcbiAgICBkaXJlY3Rpb24sXG4gICAgc3RhcnQsXG4gICAgbW92aW5nU2hhcGVzLFxuICAgIHJlc2l6aW5nU2hhcGVzLFxuICAgIG9sZEJvdW5kc1xuICApO1xufTtcblxuU3BhY2VUb29sSGFuZGxlci5wcm90b3R5cGUuZXhlY3V0ZSA9IGZ1bmN0aW9uKCkge307XG5TcGFjZVRvb2xIYW5kbGVyLnByb3RvdHlwZS5yZXZlcnQgPSBmdW5jdGlvbigpIHt9O1xuXG5TcGFjZVRvb2xIYW5kbGVyLnByb3RvdHlwZS5tb3ZlU2hhcGVzID0gZnVuY3Rpb24oc2hhcGVzLCBkZWx0YSkge1xuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgZm9yRWFjaChzaGFwZXMsIGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICBzZWxmLl9tb2RlbGluZy5tb3ZlU2hhcGUoZWxlbWVudCwgZGVsdGEsIG51bGwsIHtcbiAgICAgIGF1dG9SZXNpemU6IGZhbHNlLFxuICAgICAgbGF5b3V0OiBmYWxzZSxcbiAgICAgIHJlY3Vyc2U6IGZhbHNlXG4gICAgfSk7XG4gIH0pO1xufTtcblxuU3BhY2VUb29sSGFuZGxlci5wcm90b3R5cGUucmVzaXplU2hhcGVzID0gZnVuY3Rpb24oc2hhcGVzLCBkZWx0YSwgZGlyZWN0aW9uKSB7XG4gIHZhciBzZWxmID0gdGhpcztcblxuICBmb3JFYWNoKHNoYXBlcywgZnVuY3Rpb24oc2hhcGUpIHtcbiAgICB2YXIgbmV3Qm91bmRzID0gcmVzaXplQm91bmRzKHNoYXBlLCBkaXJlY3Rpb24sIGRlbHRhKTtcblxuICAgIHNlbGYuX21vZGVsaW5nLnJlc2l6ZVNoYXBlKHNoYXBlLCBuZXdCb3VuZHMsIG51bGwsIHtcbiAgICAgIGF0dGFjaFN1cHBvcnQ6IGZhbHNlLFxuICAgICAgYXV0b1Jlc2l6ZTogZmFsc2UsXG4gICAgICBsYXlvdXQ6IGZhbHNlXG4gICAgfSk7XG4gIH0pO1xufTtcblxuLyoqXG4gKiBVcGRhdGUgY29ubmVjdGlvbnMgd2F5cG9pbnRzIGFjY29yZGluZyB0byB0aGUgcnVsZXM6XG4gKiAgIDEuIEJvdGggc291cmNlIGFuZCB0YXJnZXQgYXJlIG1vdmVkL3Jlc2l6ZWQgPT4gbW92ZSB3YXlwb2ludHMgYnkgdGhlIGRlbHRhXG4gKiAgIDIuIE9ubHkgb25lIG9mIHNvdXJjZSBhbmQgdGFyZ2V0IGlzIG1vdmVkL3Jlc2l6ZWQgPT4gcmUtbGF5b3V0IGNvbm5lY3Rpb24gd2l0aCBtb3ZlZCBzdGFydC9lbmRcbiAqL1xuU3BhY2VUb29sSGFuZGxlci5wcm90b3R5cGUudXBkYXRlQ29ubmVjdGlvbldheXBvaW50cyA9IGZ1bmN0aW9uKFxuICAgIGNvbm5lY3Rpb25zLFxuICAgIGRlbHRhLFxuICAgIGRpcmVjdGlvbixcbiAgICBzdGFydCxcbiAgICBtb3ZpbmdTaGFwZXMsXG4gICAgcmVzaXppbmdTaGFwZXMsXG4gICAgb2xkQm91bmRzXG4pIHtcbiAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgYWZmZWN0ZWRTaGFwZXMgPSBtb3ZpbmdTaGFwZXMuY29uY2F0KHJlc2l6aW5nU2hhcGVzKTtcblxuICBmb3JFYWNoKGNvbm5lY3Rpb25zLCBmdW5jdGlvbihjb25uZWN0aW9uKSB7XG4gICAgdmFyIHNvdXJjZSA9IGNvbm5lY3Rpb24uc291cmNlLFxuICAgICAgICB0YXJnZXQgPSBjb25uZWN0aW9uLnRhcmdldCxcbiAgICAgICAgd2F5cG9pbnRzID0gY29weVdheXBvaW50cyhjb25uZWN0aW9uKSxcbiAgICAgICAgYXhpcyA9IGdldEF4aXNGcm9tRGlyZWN0aW9uKGRpcmVjdGlvbiksXG4gICAgICAgIGxheW91dEhpbnRzID0ge1xuICAgICAgICAgIGxhYmVsQmVoYXZpb3I6IGZhbHNlXG4gICAgICAgIH07XG5cbiAgICBpZiAoaW5jbHVkZXMoYWZmZWN0ZWRTaGFwZXMsIHNvdXJjZSkgJiYgaW5jbHVkZXMoYWZmZWN0ZWRTaGFwZXMsIHRhcmdldCkpIHtcblxuICAgICAgLy8gbW92ZSB3YXlwb2ludHNcbiAgICAgIHdheXBvaW50cyA9IG1hcCh3YXlwb2ludHMsIGZ1bmN0aW9uKHdheXBvaW50KSB7XG4gICAgICAgIGlmIChzaG91bGRNb3ZlV2F5cG9pbnQod2F5cG9pbnQsIHN0YXJ0LCBkaXJlY3Rpb24pKSB7XG5cbiAgICAgICAgICAvLyBtb3ZlIHdheXBvaW50XG4gICAgICAgICAgd2F5cG9pbnRbIGF4aXMgXSA9IHdheXBvaW50WyBheGlzIF0gKyBkZWx0YVsgYXhpcyBdO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHdheXBvaW50Lm9yaWdpbmFsICYmIHNob3VsZE1vdmVXYXlwb2ludCh3YXlwb2ludC5vcmlnaW5hbCwgc3RhcnQsIGRpcmVjdGlvbikpIHtcblxuICAgICAgICAgIC8vIG1vdmUgd2F5cG9pbnQgb3JpZ2luYWxcbiAgICAgICAgICB3YXlwb2ludC5vcmlnaW5hbFsgYXhpcyBdID0gd2F5cG9pbnQub3JpZ2luYWxbIGF4aXMgXSArIGRlbHRhWyBheGlzIF07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gd2F5cG9pbnQ7XG4gICAgICB9KTtcblxuICAgICAgc2VsZi5fbW9kZWxpbmcudXBkYXRlV2F5cG9pbnRzKGNvbm5lY3Rpb24sIHdheXBvaW50cywge1xuICAgICAgICBsYWJlbEJlaGF2aW9yOiBmYWxzZVxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChpbmNsdWRlcyhhZmZlY3RlZFNoYXBlcywgc291cmNlKSB8fCBpbmNsdWRlcyhhZmZlY3RlZFNoYXBlcywgdGFyZ2V0KSkge1xuXG4gICAgICAvLyByZS1sYXlvdXQgY29ubmVjdGlvbiB3aXRoIG1vdmVkIHN0YXJ0L2VuZFxuICAgICAgaWYgKGluY2x1ZGVzKG1vdmluZ1NoYXBlcywgc291cmNlKSkge1xuICAgICAgICBsYXlvdXRIaW50cy5jb25uZWN0aW9uU3RhcnQgPSBnZXRNb3ZlZFNvdXJjZUFuY2hvcihjb25uZWN0aW9uLCBzb3VyY2UsIGRlbHRhKTtcbiAgICAgIH0gZWxzZSBpZiAoaW5jbHVkZXMobW92aW5nU2hhcGVzLCB0YXJnZXQpKSB7XG4gICAgICAgIGxheW91dEhpbnRzLmNvbm5lY3Rpb25FbmQgPSBnZXRNb3ZlZFRhcmdldEFuY2hvcihjb25uZWN0aW9uLCB0YXJnZXQsIGRlbHRhKTtcbiAgICAgIH0gZWxzZSBpZiAoaW5jbHVkZXMocmVzaXppbmdTaGFwZXMsIHNvdXJjZSkpIHtcbiAgICAgICAgbGF5b3V0SGludHMuY29ubmVjdGlvblN0YXJ0ID0gZ2V0UmVzaXplZFNvdXJjZUFuY2hvcihcbiAgICAgICAgICBjb25uZWN0aW9uLCBzb3VyY2UsIG9sZEJvdW5kc1tzb3VyY2UuaWRdXG4gICAgICAgICk7XG4gICAgICB9IGVsc2UgaWYgKGluY2x1ZGVzKHJlc2l6aW5nU2hhcGVzLCB0YXJnZXQpKSB7XG4gICAgICAgIGxheW91dEhpbnRzLmNvbm5lY3Rpb25FbmQgPSBnZXRSZXNpemVkVGFyZ2V0QW5jaG9yKFxuICAgICAgICAgIGNvbm5lY3Rpb24sIHRhcmdldCwgb2xkQm91bmRzW3RhcmdldC5pZF1cbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgc2VsZi5fbW9kZWxpbmcubGF5b3V0Q29ubmVjdGlvbihjb25uZWN0aW9uLCBsYXlvdXRIaW50cyk7XG4gICAgfVxuICB9KTtcbn07XG5cblxuLy8gaGVscGVycyAvLy8vLy8vLy8vXG5cbmZ1bmN0aW9uIGNvcHlXYXlwb2ludCh3YXlwb2ludCkge1xuICByZXR1cm4gYXNzaWduKHt9LCB3YXlwb2ludCk7XG59XG5cbmZ1bmN0aW9uIGNvcHlXYXlwb2ludHMoY29ubmVjdGlvbikge1xuICByZXR1cm4gbWFwKGNvbm5lY3Rpb24ud2F5cG9pbnRzLCBmdW5jdGlvbih3YXlwb2ludCkge1xuXG4gICAgd2F5cG9pbnQgPSBjb3B5V2F5cG9pbnQod2F5cG9pbnQpO1xuXG4gICAgaWYgKHdheXBvaW50Lm9yaWdpbmFsKSB7XG4gICAgICB3YXlwb2ludC5vcmlnaW5hbCA9IGNvcHlXYXlwb2ludCh3YXlwb2ludC5vcmlnaW5hbCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHdheXBvaW50O1xuICB9KTtcbn1cblxuZnVuY3Rpb24gZ2V0QXhpc0Zyb21EaXJlY3Rpb24oZGlyZWN0aW9uKSB7XG4gIHN3aXRjaCAoZGlyZWN0aW9uKSB7XG4gIGNhc2UgJ24nOlxuICAgIHJldHVybiAneSc7XG4gIGNhc2UgJ3cnOlxuICAgIHJldHVybiAneCc7XG4gIGNhc2UgJ3MnOlxuICAgIHJldHVybiAneSc7XG4gIGNhc2UgJ2UnOlxuICAgIHJldHVybiAneCc7XG4gIH1cbn1cblxuZnVuY3Rpb24gc2hvdWxkTW92ZVdheXBvaW50KHdheXBvaW50LCBzdGFydCwgZGlyZWN0aW9uKSB7XG4gIHZhciByZWxldmFudEF4aXMgPSBnZXRBeGlzRnJvbURpcmVjdGlvbihkaXJlY3Rpb24pO1xuXG4gIGlmICgvZXxzLy50ZXN0KGRpcmVjdGlvbikpIHtcbiAgICByZXR1cm4gd2F5cG9pbnRbIHJlbGV2YW50QXhpcyBdID4gc3RhcnQ7XG4gIH0gZWxzZSBpZiAoL258dy8udGVzdChkaXJlY3Rpb24pKSB7XG4gICAgcmV0dXJuIHdheXBvaW50WyByZWxldmFudEF4aXMgXSA8IHN0YXJ0O1xuICB9XG59XG5cbmZ1bmN0aW9uIGluY2x1ZGVzKGFycmF5LCBpdGVtKSB7XG4gIHJldHVybiBhcnJheS5pbmRleE9mKGl0ZW0pICE9PSAtMTtcbn1cblxuZnVuY3Rpb24gZ2V0Qm91bmRzKHNoYXBlKSB7XG4gIHJldHVybiB7XG4gICAgeDogc2hhcGUueCxcbiAgICB5OiBzaGFwZS55LFxuICAgIGhlaWdodDogc2hhcGUuaGVpZ2h0LFxuICAgIHdpZHRoOiBzaGFwZS53aWR0aFxuICB9O1xufVxuIiwiaW1wb3J0IHtcbiAgYXNzaWduLFxuICBmb3JFYWNoXG59IGZyb20gJ21pbi1kYXNoJztcblxuLyoqXG4gKiBBIGhhbmRsZXIgdGhhdCB0b2dnbGVzIHRoZSBjb2xsYXBzZWQgc3RhdGUgb2YgYW4gZWxlbWVudFxuICogYW5kIHRoZSB2aXNpYmlsaXR5IG9mIGFsbCBpdHMgY2hpbGRyZW4uXG4gKlxuICogQHBhcmFtIHtNb2RlbGluZ30gbW9kZWxpbmdcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gVG9nZ2xlU2hhcGVDb2xsYXBzZUhhbmRsZXIobW9kZWxpbmcpIHtcbiAgdGhpcy5fbW9kZWxpbmcgPSBtb2RlbGluZztcbn1cblxuVG9nZ2xlU2hhcGVDb2xsYXBzZUhhbmRsZXIuJGluamVjdCA9IFsgJ21vZGVsaW5nJyBdO1xuXG5cblRvZ2dsZVNoYXBlQ29sbGFwc2VIYW5kbGVyLnByb3RvdHlwZS5leGVjdXRlID0gZnVuY3Rpb24oY29udGV4dCkge1xuXG4gIHZhciBzaGFwZSA9IGNvbnRleHQuc2hhcGUsXG4gICAgICBjaGlsZHJlbiA9IHNoYXBlLmNoaWxkcmVuO1xuXG4gIC8vIHJlY3Vyc2l2ZWx5IHJlbWVtYmVyIHByZXZpb3VzIHZpc2liaWxpdHkgb2YgY2hpbGRyZW5cbiAgY29udGV4dC5vbGRDaGlsZHJlblZpc2liaWxpdHkgPSBnZXRFbGVtZW50c1Zpc2liaWxpdHlSZWN1cnNpdmUoY2hpbGRyZW4pO1xuXG4gIC8vIHRvZ2dsZSBzdGF0ZVxuICBzaGFwZS5jb2xsYXBzZWQgPSAhc2hhcGUuY29sbGFwc2VkO1xuXG4gIC8vIHJlY3Vyc2l2ZWx5IGhpZGUvc2hvdyBjaGlsZHJlblxuICB2YXIgcmVzdWx0ID0gc2V0SGlkZGVuUmVjdXJzaXZlKGNoaWxkcmVuLCBzaGFwZS5jb2xsYXBzZWQpO1xuXG4gIHJldHVybiBbc2hhcGVdLmNvbmNhdChyZXN1bHQpO1xufTtcblxuXG5Ub2dnbGVTaGFwZUNvbGxhcHNlSGFuZGxlci5wcm90b3R5cGUucmV2ZXJ0ID0gZnVuY3Rpb24oY29udGV4dCkge1xuXG4gIHZhciBzaGFwZSA9IGNvbnRleHQuc2hhcGUsXG4gICAgICBvbGRDaGlsZHJlblZpc2liaWxpdHkgPSBjb250ZXh0Lm9sZENoaWxkcmVuVmlzaWJpbGl0eTtcblxuICB2YXIgY2hpbGRyZW4gPSBzaGFwZS5jaGlsZHJlbjtcblxuICAvLyByZWN1cnNpdmVseSBzZXQgb2xkIHZpc2FiaWxpdHkgb2YgY2hpbGRyZW5cbiAgdmFyIHJlc3VsdCA9IHJlc3RvcmVWaXNpYmlsaXR5UmVjdXJzaXZlKGNoaWxkcmVuLCBvbGRDaGlsZHJlblZpc2liaWxpdHkpO1xuXG4gIC8vIHJldG9nZ2xlIHN0YXRlXG4gIHNoYXBlLmNvbGxhcHNlZCA9ICFzaGFwZS5jb2xsYXBzZWQ7XG5cbiAgcmV0dXJuIFtzaGFwZV0uY29uY2F0KHJlc3VsdCk7XG59O1xuXG5cbi8vIGhlbHBlcnMgLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4vKipcbiAqIFJldHVybiBhIG1hcCB7IGVsZW1lbnRJZCAtPiBoaWRkZW5TdGF0ZX0uXG4gKlxuICogQHBhcmFtIHtBcnJheTxkanMubW9kZWwuU2hhcGU+fSBlbGVtZW50c1xuICpcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuZnVuY3Rpb24gZ2V0RWxlbWVudHNWaXNpYmlsaXR5UmVjdXJzaXZlKGVsZW1lbnRzKSB7XG5cbiAgdmFyIHJlc3VsdCA9IHt9O1xuXG4gIGZvckVhY2goZWxlbWVudHMsIGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICByZXN1bHRbZWxlbWVudC5pZF0gPSBlbGVtZW50LmhpZGRlbjtcblxuICAgIGlmIChlbGVtZW50LmNoaWxkcmVuKSB7XG4gICAgICByZXN1bHQgPSBhc3NpZ24oe30sIHJlc3VsdCwgZ2V0RWxlbWVudHNWaXNpYmlsaXR5UmVjdXJzaXZlKGVsZW1lbnQuY2hpbGRyZW4pKTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cblxuZnVuY3Rpb24gc2V0SGlkZGVuUmVjdXJzaXZlKGVsZW1lbnRzLCBuZXdIaWRkZW4pIHtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICBmb3JFYWNoKGVsZW1lbnRzLCBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgZWxlbWVudC5oaWRkZW4gPSBuZXdIaWRkZW47XG5cbiAgICByZXN1bHQgPSByZXN1bHQuY29uY2F0KGVsZW1lbnQpO1xuXG4gICAgaWYgKGVsZW1lbnQuY2hpbGRyZW4pIHtcbiAgICAgIHJlc3VsdCA9IHJlc3VsdC5jb25jYXQoc2V0SGlkZGVuUmVjdXJzaXZlKGVsZW1lbnQuY2hpbGRyZW4sIGVsZW1lbnQuY29sbGFwc2VkIHx8IG5ld0hpZGRlbikpO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gcmVzdG9yZVZpc2liaWxpdHlSZWN1cnNpdmUoZWxlbWVudHMsIGxhc3RTdGF0ZSkge1xuICB2YXIgcmVzdWx0ID0gW107XG4gIGZvckVhY2goZWxlbWVudHMsIGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICBlbGVtZW50LmhpZGRlbiA9IGxhc3RTdGF0ZVtlbGVtZW50LmlkXTtcblxuICAgIHJlc3VsdCA9IHJlc3VsdC5jb25jYXQoZWxlbWVudCk7XG5cbiAgICBpZiAoZWxlbWVudC5jaGlsZHJlbikge1xuICAgICAgcmVzdWx0ID0gcmVzdWx0LmNvbmNhdChyZXN0b3JlVmlzaWJpbGl0eVJlY3Vyc2l2ZShlbGVtZW50LmNoaWxkcmVuLCBsYXN0U3RhdGUpKTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiByZXN1bHQ7XG59XG4iLCJpbXBvcnQge1xuICBhZGQgYXMgY29sbGVjdGlvbkFkZCxcbiAgcmVtb3ZlIGFzIGNvbGxlY3Rpb25SZW1vdmVcbn0gZnJvbSAnLi4vLi4vLi4vdXRpbC9Db2xsZWN0aW9ucyc7XG5cbi8qKlxuICogQSBoYW5kbGVyIHRoYXQgaW1wbGVtZW50cyByZXZlcnNpYmxlIGF0dGFjaGluZy9kZXRhY2hpbmcgb2Ygc2hhcGVzLlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBVcGRhdGVBdHRhY2htZW50SGFuZGxlcihtb2RlbGluZykge1xuICB0aGlzLl9tb2RlbGluZyA9IG1vZGVsaW5nO1xufVxuXG5VcGRhdGVBdHRhY2htZW50SGFuZGxlci4kaW5qZWN0ID0gWyAnbW9kZWxpbmcnIF07XG5cblxuVXBkYXRlQXR0YWNobWVudEhhbmRsZXIucHJvdG90eXBlLmV4ZWN1dGUgPSBmdW5jdGlvbihjb250ZXh0KSB7XG4gIHZhciBzaGFwZSA9IGNvbnRleHQuc2hhcGUsXG4gICAgICBuZXdIb3N0ID0gY29udGV4dC5uZXdIb3N0LFxuICAgICAgb2xkSG9zdCA9IHNoYXBlLmhvc3Q7XG5cbiAgLy8gKDApIGRldGFjaCBmcm9tIG9sZCBob3N0XG4gIGNvbnRleHQub2xkSG9zdCA9IG9sZEhvc3Q7XG4gIGNvbnRleHQuYXR0YWNoZXJJZHggPSByZW1vdmVBdHRhY2hlcihvbGRIb3N0LCBzaGFwZSk7XG5cbiAgLy8gKDEpIGF0dGFjaCB0byBuZXcgaG9zdFxuICBhZGRBdHRhY2hlcihuZXdIb3N0LCBzaGFwZSk7XG5cbiAgLy8gKDIpIHVwZGF0ZSBob3N0XG4gIHNoYXBlLmhvc3QgPSBuZXdIb3N0O1xuXG4gIHJldHVybiBzaGFwZTtcbn07XG5cblVwZGF0ZUF0dGFjaG1lbnRIYW5kbGVyLnByb3RvdHlwZS5yZXZlcnQgPSBmdW5jdGlvbihjb250ZXh0KSB7XG4gIHZhciBzaGFwZSA9IGNvbnRleHQuc2hhcGUsXG4gICAgICBuZXdIb3N0ID0gY29udGV4dC5uZXdIb3N0LFxuICAgICAgb2xkSG9zdCA9IGNvbnRleHQub2xkSG9zdCxcbiAgICAgIGF0dGFjaGVySWR4ID0gY29udGV4dC5hdHRhY2hlcklkeDtcblxuICAvLyAoMikgdXBkYXRlIGhvc3RcbiAgc2hhcGUuaG9zdCA9IG9sZEhvc3Q7XG5cbiAgLy8gKDEpIGF0dGFjaCB0byBuZXcgaG9zdFxuICByZW1vdmVBdHRhY2hlcihuZXdIb3N0LCBzaGFwZSk7XG5cbiAgLy8gKDApIGRldGFjaCBmcm9tIG9sZCBob3N0XG4gIGFkZEF0dGFjaGVyKG9sZEhvc3QsIHNoYXBlLCBhdHRhY2hlcklkeCk7XG5cbiAgcmV0dXJuIHNoYXBlO1xufTtcblxuXG5mdW5jdGlvbiByZW1vdmVBdHRhY2hlcihob3N0LCBhdHRhY2hlcikge1xuXG4gIC8vIHJlbW92ZSBhdHRhY2hlciBmcm9tIGhvc3RcbiAgcmV0dXJuIGNvbGxlY3Rpb25SZW1vdmUoaG9zdCAmJiBob3N0LmF0dGFjaGVycywgYXR0YWNoZXIpO1xufVxuXG5mdW5jdGlvbiBhZGRBdHRhY2hlcihob3N0LCBhdHRhY2hlciwgaWR4KSB7XG5cbiAgaWYgKCFob3N0KSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIGF0dGFjaGVycyA9IGhvc3QuYXR0YWNoZXJzO1xuXG4gIGlmICghYXR0YWNoZXJzKSB7XG4gICAgaG9zdC5hdHRhY2hlcnMgPSBhdHRhY2hlcnMgPSBbXTtcbiAgfVxuXG4gIGNvbGxlY3Rpb25BZGQoYXR0YWNoZXJzLCBhdHRhY2hlciwgaWR4KTtcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFVwZGF0ZVdheXBvaW50c0hhbmRsZXIoKSB7IH1cblxuVXBkYXRlV2F5cG9pbnRzSGFuZGxlci5wcm90b3R5cGUuZXhlY3V0ZSA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcblxuICB2YXIgY29ubmVjdGlvbiA9IGNvbnRleHQuY29ubmVjdGlvbixcbiAgICAgIG5ld1dheXBvaW50cyA9IGNvbnRleHQubmV3V2F5cG9pbnRzO1xuXG4gIGNvbnRleHQub2xkV2F5cG9pbnRzID0gY29ubmVjdGlvbi53YXlwb2ludHM7XG5cbiAgY29ubmVjdGlvbi53YXlwb2ludHMgPSBuZXdXYXlwb2ludHM7XG5cbiAgcmV0dXJuIGNvbm5lY3Rpb247XG59O1xuXG5VcGRhdGVXYXlwb2ludHNIYW5kbGVyLnByb3RvdHlwZS5yZXZlcnQgPSBmdW5jdGlvbihjb250ZXh0KSB7XG5cbiAgdmFyIGNvbm5lY3Rpb24gPSBjb250ZXh0LmNvbm5lY3Rpb24sXG4gICAgICBvbGRXYXlwb2ludHMgPSBjb250ZXh0Lm9sZFdheXBvaW50cztcblxuICBjb25uZWN0aW9uLndheXBvaW50cyA9IG9sZFdheXBvaW50cztcblxuICByZXR1cm4gY29ubmVjdGlvbjtcbn07IiwiaW1wb3J0IHtcbiAgYXNzaWduLFxuICBmb3JFYWNoLFxuICBpc0FycmF5XG59IGZyb20gJ21pbi1kYXNoJztcblxuaW1wb3J0IHtcbiAgQmFzZVxufSBmcm9tICcuLi8uLi9tb2RlbCc7XG5cbmltcG9ydCBBbGlnbkVsZW1lbnRzSGFuZGxlciBmcm9tICcuL2NtZC9BbGlnbkVsZW1lbnRzSGFuZGxlcic7XG5pbXBvcnQgQXBwZW5kU2hhcGVIYW5kbGVyIGZyb20gJy4vY21kL0FwcGVuZFNoYXBlSGFuZGxlcic7XG5pbXBvcnQgQ3JlYXRlQ29ubmVjdGlvbkhhbmRsZXIgZnJvbSAnLi9jbWQvQ3JlYXRlQ29ubmVjdGlvbkhhbmRsZXInO1xuaW1wb3J0IENyZWF0ZUVsZW1lbnRzSGFuZGxlciBmcm9tICcuL2NtZC9DcmVhdGVFbGVtZW50c0hhbmRsZXInO1xuaW1wb3J0IENyZWF0ZUxhYmVsSGFuZGxlciBmcm9tICcuL2NtZC9DcmVhdGVMYWJlbEhhbmRsZXInO1xuaW1wb3J0IENyZWF0ZVNoYXBlSGFuZGxlciBmcm9tICcuL2NtZC9DcmVhdGVTaGFwZUhhbmRsZXInO1xuaW1wb3J0IERlbGV0ZUNvbm5lY3Rpb25IYW5kbGVyIGZyb20gJy4vY21kL0RlbGV0ZUNvbm5lY3Rpb25IYW5kbGVyJztcbmltcG9ydCBEZWxldGVFbGVtZW50c0hhbmRsZXIgZnJvbSAnLi9jbWQvRGVsZXRlRWxlbWVudHNIYW5kbGVyJztcbmltcG9ydCBEZWxldGVTaGFwZUhhbmRsZXIgZnJvbSAnLi9jbWQvRGVsZXRlU2hhcGVIYW5kbGVyJztcbmltcG9ydCBEaXN0cmlidXRlRWxlbWVudHNIYW5kbGVyIGZyb20gJy4vY21kL0Rpc3RyaWJ1dGVFbGVtZW50c0hhbmRsZXInO1xuaW1wb3J0IExheW91dENvbm5lY3Rpb25IYW5kbGVyIGZyb20gJy4vY21kL0xheW91dENvbm5lY3Rpb25IYW5kbGVyJztcbmltcG9ydCBNb3ZlQ29ubmVjdGlvbkhhbmRsZXIgZnJvbSAnLi9jbWQvTW92ZUNvbm5lY3Rpb25IYW5kbGVyJztcbmltcG9ydCBNb3ZlRWxlbWVudHNIYW5kbGVyIGZyb20gJy4vY21kL01vdmVFbGVtZW50c0hhbmRsZXInO1xuaW1wb3J0IE1vdmVTaGFwZUhhbmRsZXIgZnJvbSAnLi9jbWQvTW92ZVNoYXBlSGFuZGxlcic7XG5pbXBvcnQgUmVjb25uZWN0Q29ubmVjdGlvbkhhbmRsZXIgZnJvbSAnLi9jbWQvUmVjb25uZWN0Q29ubmVjdGlvbkhhbmRsZXInO1xuaW1wb3J0IFJlcGxhY2VTaGFwZUhhbmRsZXIgZnJvbSAnLi9jbWQvUmVwbGFjZVNoYXBlSGFuZGxlcic7XG5pbXBvcnQgUmVzaXplU2hhcGVIYW5kbGVyIGZyb20gJy4vY21kL1Jlc2l6ZVNoYXBlSGFuZGxlcic7XG5pbXBvcnQgU3BhY2VUb29sSGFuZGxlciBmcm9tICcuL2NtZC9TcGFjZVRvb2xIYW5kbGVyJztcbmltcG9ydCBUb2dnbGVTaGFwZUNvbGxhcHNlSGFuZGxlciBmcm9tICcuL2NtZC9Ub2dnbGVTaGFwZUNvbGxhcHNlSGFuZGxlcic7XG5pbXBvcnQgVXBkYXRlQXR0YWNobWVudEhhbmRsZXIgZnJvbSAnLi9jbWQvVXBkYXRlQXR0YWNobWVudEhhbmRsZXInO1xuaW1wb3J0IFVwZGF0ZVdheXBvaW50c0hhbmRsZXIgZnJvbSAnLi9jbWQvVXBkYXRlV2F5cG9pbnRzSGFuZGxlcic7XG5cblxuLyoqXG4gKiBUaGUgYmFzaWMgbW9kZWxpbmcgZW50cnkgcG9pbnQuXG4gKlxuICogQHBhcmFtIHtFdmVudEJ1c30gZXZlbnRCdXNcbiAqIEBwYXJhbSB7RWxlbWVudEZhY3Rvcnl9IGVsZW1lbnRGYWN0b3J5XG4gKiBAcGFyYW0ge0NvbW1hbmRTdGFja30gY29tbWFuZFN0YWNrXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIE1vZGVsaW5nKGV2ZW50QnVzLCBlbGVtZW50RmFjdG9yeSwgY29tbWFuZFN0YWNrKSB7XG4gIHRoaXMuX2V2ZW50QnVzID0gZXZlbnRCdXM7XG4gIHRoaXMuX2VsZW1lbnRGYWN0b3J5ID0gZWxlbWVudEZhY3Rvcnk7XG4gIHRoaXMuX2NvbW1hbmRTdGFjayA9IGNvbW1hbmRTdGFjaztcblxuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgZXZlbnRCdXMub24oJ2RpYWdyYW0uaW5pdCcsIGZ1bmN0aW9uKCkge1xuXG4gICAgLy8gcmVnaXN0ZXIgbW9kZWxpbmcgaGFuZGxlcnNcbiAgICBzZWxmLnJlZ2lzdGVySGFuZGxlcnMoY29tbWFuZFN0YWNrKTtcbiAgfSk7XG59XG5cbk1vZGVsaW5nLiRpbmplY3QgPSBbICdldmVudEJ1cycsICdlbGVtZW50RmFjdG9yeScsICdjb21tYW5kU3RhY2snIF07XG5cblxuTW9kZWxpbmcucHJvdG90eXBlLmdldEhhbmRsZXJzID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgJ3NoYXBlLmFwcGVuZCc6IEFwcGVuZFNoYXBlSGFuZGxlcixcbiAgICAnc2hhcGUuY3JlYXRlJzogQ3JlYXRlU2hhcGVIYW5kbGVyLFxuICAgICdzaGFwZS5kZWxldGUnOiBEZWxldGVTaGFwZUhhbmRsZXIsXG4gICAgJ3NoYXBlLm1vdmUnOiBNb3ZlU2hhcGVIYW5kbGVyLFxuICAgICdzaGFwZS5yZXNpemUnOiBSZXNpemVTaGFwZUhhbmRsZXIsXG4gICAgJ3NoYXBlLnJlcGxhY2UnOiBSZXBsYWNlU2hhcGVIYW5kbGVyLFxuICAgICdzaGFwZS50b2dnbGVDb2xsYXBzZSc6IFRvZ2dsZVNoYXBlQ29sbGFwc2VIYW5kbGVyLFxuXG4gICAgJ3NwYWNlVG9vbCc6IFNwYWNlVG9vbEhhbmRsZXIsXG5cbiAgICAnbGFiZWwuY3JlYXRlJzogQ3JlYXRlTGFiZWxIYW5kbGVyLFxuXG4gICAgJ2Nvbm5lY3Rpb24uY3JlYXRlJzogQ3JlYXRlQ29ubmVjdGlvbkhhbmRsZXIsXG4gICAgJ2Nvbm5lY3Rpb24uZGVsZXRlJzogRGVsZXRlQ29ubmVjdGlvbkhhbmRsZXIsXG4gICAgJ2Nvbm5lY3Rpb24ubW92ZSc6IE1vdmVDb25uZWN0aW9uSGFuZGxlcixcbiAgICAnY29ubmVjdGlvbi5sYXlvdXQnOiBMYXlvdXRDb25uZWN0aW9uSGFuZGxlcixcblxuICAgICdjb25uZWN0aW9uLnVwZGF0ZVdheXBvaW50cyc6IFVwZGF0ZVdheXBvaW50c0hhbmRsZXIsXG5cbiAgICAnY29ubmVjdGlvbi5yZWNvbm5lY3QnOiBSZWNvbm5lY3RDb25uZWN0aW9uSGFuZGxlcixcblxuICAgICdlbGVtZW50cy5jcmVhdGUnOiBDcmVhdGVFbGVtZW50c0hhbmRsZXIsXG4gICAgJ2VsZW1lbnRzLm1vdmUnOiBNb3ZlRWxlbWVudHNIYW5kbGVyLFxuICAgICdlbGVtZW50cy5kZWxldGUnOiBEZWxldGVFbGVtZW50c0hhbmRsZXIsXG5cbiAgICAnZWxlbWVudHMuZGlzdHJpYnV0ZSc6IERpc3RyaWJ1dGVFbGVtZW50c0hhbmRsZXIsXG4gICAgJ2VsZW1lbnRzLmFsaWduJzogQWxpZ25FbGVtZW50c0hhbmRsZXIsXG5cbiAgICAnZWxlbWVudC51cGRhdGVBdHRhY2htZW50JzogVXBkYXRlQXR0YWNobWVudEhhbmRsZXJcbiAgfTtcbn07XG5cbi8qKlxuICogUmVnaXN0ZXIgaGFuZGxlcnMgd2l0aCB0aGUgY29tbWFuZCBzdGFja1xuICpcbiAqIEBwYXJhbSB7Q29tbWFuZFN0YWNrfSBjb21tYW5kU3RhY2tcbiAqL1xuTW9kZWxpbmcucHJvdG90eXBlLnJlZ2lzdGVySGFuZGxlcnMgPSBmdW5jdGlvbihjb21tYW5kU3RhY2spIHtcbiAgZm9yRWFjaCh0aGlzLmdldEhhbmRsZXJzKCksIGZ1bmN0aW9uKGhhbmRsZXIsIGlkKSB7XG4gICAgY29tbWFuZFN0YWNrLnJlZ2lzdGVySGFuZGxlcihpZCwgaGFuZGxlcik7XG4gIH0pO1xufTtcblxuXG4vLyBtb2RlbGluZyBoZWxwZXJzIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuTW9kZWxpbmcucHJvdG90eXBlLm1vdmVTaGFwZSA9IGZ1bmN0aW9uKHNoYXBlLCBkZWx0YSwgbmV3UGFyZW50LCBuZXdQYXJlbnRJbmRleCwgaGludHMpIHtcblxuICBpZiAodHlwZW9mIG5ld1BhcmVudEluZGV4ID09PSAnb2JqZWN0Jykge1xuICAgIGhpbnRzID0gbmV3UGFyZW50SW5kZXg7XG4gICAgbmV3UGFyZW50SW5kZXggPSBudWxsO1xuICB9XG5cbiAgdmFyIGNvbnRleHQgPSB7XG4gICAgc2hhcGU6IHNoYXBlLFxuICAgIGRlbHRhOiAgZGVsdGEsXG4gICAgbmV3UGFyZW50OiBuZXdQYXJlbnQsXG4gICAgbmV3UGFyZW50SW5kZXg6IG5ld1BhcmVudEluZGV4LFxuICAgIGhpbnRzOiBoaW50cyB8fCB7fVxuICB9O1xuXG4gIHRoaXMuX2NvbW1hbmRTdGFjay5leGVjdXRlKCdzaGFwZS5tb3ZlJywgY29udGV4dCk7XG59O1xuXG5cbi8qKlxuICogVXBkYXRlIHRoZSBhdHRhY2htZW50IG9mIHRoZSBnaXZlbiBzaGFwZS5cbiAqXG4gKiBAcGFyYW0ge2Rqcy5tb2RlLkJhc2V9IHNoYXBlXG4gKiBAcGFyYW0ge2Rqcy5tb2RlbC5CYXNlfSBbbmV3SG9zdF1cbiAqL1xuTW9kZWxpbmcucHJvdG90eXBlLnVwZGF0ZUF0dGFjaG1lbnQgPSBmdW5jdGlvbihzaGFwZSwgbmV3SG9zdCkge1xuICB2YXIgY29udGV4dCA9IHtcbiAgICBzaGFwZTogc2hhcGUsXG4gICAgbmV3SG9zdDogbmV3SG9zdFxuICB9O1xuXG4gIHRoaXMuX2NvbW1hbmRTdGFjay5leGVjdXRlKCdlbGVtZW50LnVwZGF0ZUF0dGFjaG1lbnQnLCBjb250ZXh0KTtcbn07XG5cblxuLyoqXG4gKiBNb3ZlIGEgbnVtYmVyIG9mIHNoYXBlcyB0byBhIG5ldyB0YXJnZXQsIGVpdGhlciBzZXR0aW5nIGl0IGFzXG4gKiB0aGUgbmV3IHBhcmVudCBvciBhdHRhY2hpbmcgaXQuXG4gKlxuICogQHBhcmFtIHtBcnJheTxkanMubW9kZS5CYXNlPn0gc2hhcGVzXG4gKiBAcGFyYW0ge1BvaW50fSBkZWx0YVxuICogQHBhcmFtIHtkanMubW9kZWwuQmFzZX0gW3RhcmdldF1cbiAqIEBwYXJhbSB7T2JqZWN0fSBbaGludHNdXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtoaW50cy5hdHRhY2g9ZmFsc2VdXG4gKi9cbk1vZGVsaW5nLnByb3RvdHlwZS5tb3ZlRWxlbWVudHMgPSBmdW5jdGlvbihzaGFwZXMsIGRlbHRhLCB0YXJnZXQsIGhpbnRzKSB7XG5cbiAgaGludHMgPSBoaW50cyB8fCB7fTtcblxuICB2YXIgYXR0YWNoID0gaGludHMuYXR0YWNoO1xuXG4gIHZhciBuZXdQYXJlbnQgPSB0YXJnZXQsXG4gICAgICBuZXdIb3N0O1xuXG4gIGlmIChhdHRhY2ggPT09IHRydWUpIHtcbiAgICBuZXdIb3N0ID0gdGFyZ2V0O1xuICAgIG5ld1BhcmVudCA9IHRhcmdldC5wYXJlbnQ7XG4gIH0gZWxzZVxuXG4gIGlmIChhdHRhY2ggPT09IGZhbHNlKSB7XG4gICAgbmV3SG9zdCA9IG51bGw7XG4gIH1cblxuICB2YXIgY29udGV4dCA9IHtcbiAgICBzaGFwZXM6IHNoYXBlcyxcbiAgICBkZWx0YTogZGVsdGEsXG4gICAgbmV3UGFyZW50OiBuZXdQYXJlbnQsXG4gICAgbmV3SG9zdDogbmV3SG9zdCxcbiAgICBoaW50czogaGludHNcbiAgfTtcblxuICB0aGlzLl9jb21tYW5kU3RhY2suZXhlY3V0ZSgnZWxlbWVudHMubW92ZScsIGNvbnRleHQpO1xufTtcblxuXG5Nb2RlbGluZy5wcm90b3R5cGUubW92ZUNvbm5lY3Rpb24gPSBmdW5jdGlvbihjb25uZWN0aW9uLCBkZWx0YSwgbmV3UGFyZW50LCBuZXdQYXJlbnRJbmRleCwgaGludHMpIHtcblxuICBpZiAodHlwZW9mIG5ld1BhcmVudEluZGV4ID09PSAnb2JqZWN0Jykge1xuICAgIGhpbnRzID0gbmV3UGFyZW50SW5kZXg7XG4gICAgbmV3UGFyZW50SW5kZXggPSB1bmRlZmluZWQ7XG4gIH1cblxuICB2YXIgY29udGV4dCA9IHtcbiAgICBjb25uZWN0aW9uOiBjb25uZWN0aW9uLFxuICAgIGRlbHRhOiBkZWx0YSxcbiAgICBuZXdQYXJlbnQ6IG5ld1BhcmVudCxcbiAgICBuZXdQYXJlbnRJbmRleDogbmV3UGFyZW50SW5kZXgsXG4gICAgaGludHM6IGhpbnRzIHx8IHt9XG4gIH07XG5cbiAgdGhpcy5fY29tbWFuZFN0YWNrLmV4ZWN1dGUoJ2Nvbm5lY3Rpb24ubW92ZScsIGNvbnRleHQpO1xufTtcblxuXG5Nb2RlbGluZy5wcm90b3R5cGUubGF5b3V0Q29ubmVjdGlvbiA9IGZ1bmN0aW9uKGNvbm5lY3Rpb24sIGhpbnRzKSB7XG4gIHZhciBjb250ZXh0ID0ge1xuICAgIGNvbm5lY3Rpb246IGNvbm5lY3Rpb24sXG4gICAgaGludHM6IGhpbnRzIHx8IHt9XG4gIH07XG5cbiAgdGhpcy5fY29tbWFuZFN0YWNrLmV4ZWN1dGUoJ2Nvbm5lY3Rpb24ubGF5b3V0JywgY29udGV4dCk7XG59O1xuXG5cbi8qKlxuICogQ3JlYXRlIGNvbm5lY3Rpb24uXG4gKlxuICogQHBhcmFtIHtkanMubW9kZWwuQmFzZX0gc291cmNlXG4gKiBAcGFyYW0ge2Rqcy5tb2RlbC5CYXNlfSB0YXJnZXRcbiAqIEBwYXJhbSB7bnVtYmVyfSBbcGFyZW50SW5kZXhdXG4gKiBAcGFyYW0ge09iamVjdHxkanMubW9kZWwuQ29ubmVjdGlvbn0gY29ubmVjdGlvblxuICogQHBhcmFtIHtkanMubW9kZWwuQmFzZX0gcGFyZW50XG4gKiBAcGFyYW0ge09iamVjdH0gaGludHNcbiAqXG4gKiBAcmV0dXJuIHtkanMubW9kZWwuQ29ubmVjdGlvbn0gdGhlIGNyZWF0ZWQgY29ubmVjdGlvbi5cbiAqL1xuTW9kZWxpbmcucHJvdG90eXBlLmNyZWF0ZUNvbm5lY3Rpb24gPSBmdW5jdGlvbihzb3VyY2UsIHRhcmdldCwgcGFyZW50SW5kZXgsIGNvbm5lY3Rpb24sIHBhcmVudCwgaGludHMpIHtcblxuICBpZiAodHlwZW9mIHBhcmVudEluZGV4ID09PSAnb2JqZWN0Jykge1xuICAgIGhpbnRzID0gcGFyZW50O1xuICAgIHBhcmVudCA9IGNvbm5lY3Rpb247XG4gICAgY29ubmVjdGlvbiA9IHBhcmVudEluZGV4O1xuICAgIHBhcmVudEluZGV4ID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgY29ubmVjdGlvbiA9IHRoaXMuX2NyZWF0ZSgnY29ubmVjdGlvbicsIGNvbm5lY3Rpb24pO1xuXG4gIHZhciBjb250ZXh0ID0ge1xuICAgIHNvdXJjZTogc291cmNlLFxuICAgIHRhcmdldDogdGFyZ2V0LFxuICAgIHBhcmVudDogcGFyZW50LFxuICAgIHBhcmVudEluZGV4OiBwYXJlbnRJbmRleCxcbiAgICBjb25uZWN0aW9uOiBjb25uZWN0aW9uLFxuICAgIGhpbnRzOiBoaW50c1xuICB9O1xuXG4gIHRoaXMuX2NvbW1hbmRTdGFjay5leGVjdXRlKCdjb25uZWN0aW9uLmNyZWF0ZScsIGNvbnRleHQpO1xuXG4gIHJldHVybiBjb250ZXh0LmNvbm5lY3Rpb247XG59O1xuXG5cbi8qKlxuICogQ3JlYXRlIGEgc2hhcGUgYXQgdGhlIHNwZWNpZmllZCBwb3NpdGlvbi5cbiAqXG4gKiBAcGFyYW0ge2Rqcy5tb2RlbC5TaGFwZXxPYmplY3R9IHNoYXBlXG4gKiBAcGFyYW0ge1BvaW50fSBwb3NpdGlvblxuICogQHBhcmFtIHtkanMubW9kZWwuU2hhcGV8ZGpzLm1vZGVsLlJvb3R9IHRhcmdldFxuICogQHBhcmFtIHtudW1iZXJ9IFtwYXJlbnRJbmRleF0gcG9zaXRpb24gaW4gcGFyZW50cyBjaGlsZHJlbiBsaXN0XG4gKiBAcGFyYW0ge09iamVjdH0gW2hpbnRzXVxuICogQHBhcmFtIHtib29sZWFufSBbaGludHMuYXR0YWNoXSB3aGV0aGVyIHRvIGF0dGFjaCB0byB0YXJnZXQgb3IgYmVjb21lIGEgY2hpbGRcbiAqXG4gKiBAcmV0dXJuIHtkanMubW9kZWwuU2hhcGV9IHRoZSBjcmVhdGVkIHNoYXBlXG4gKi9cbk1vZGVsaW5nLnByb3RvdHlwZS5jcmVhdGVTaGFwZSA9IGZ1bmN0aW9uKHNoYXBlLCBwb3NpdGlvbiwgdGFyZ2V0LCBwYXJlbnRJbmRleCwgaGludHMpIHtcblxuICBpZiAodHlwZW9mIHBhcmVudEluZGV4ICE9PSAnbnVtYmVyJykge1xuICAgIGhpbnRzID0gcGFyZW50SW5kZXg7XG4gICAgcGFyZW50SW5kZXggPSB1bmRlZmluZWQ7XG4gIH1cblxuICBoaW50cyA9IGhpbnRzIHx8IHt9O1xuXG4gIHZhciBhdHRhY2ggPSBoaW50cy5hdHRhY2gsXG4gICAgICBwYXJlbnQsXG4gICAgICBob3N0O1xuXG4gIHNoYXBlID0gdGhpcy5fY3JlYXRlKCdzaGFwZScsIHNoYXBlKTtcblxuICBpZiAoYXR0YWNoKSB7XG4gICAgcGFyZW50ID0gdGFyZ2V0LnBhcmVudDtcbiAgICBob3N0ID0gdGFyZ2V0O1xuICB9IGVsc2Uge1xuICAgIHBhcmVudCA9IHRhcmdldDtcbiAgfVxuXG4gIHZhciBjb250ZXh0ID0ge1xuICAgIHBvc2l0aW9uOiBwb3NpdGlvbixcbiAgICBzaGFwZTogc2hhcGUsXG4gICAgcGFyZW50OiBwYXJlbnQsXG4gICAgcGFyZW50SW5kZXg6IHBhcmVudEluZGV4LFxuICAgIGhvc3Q6IGhvc3QsXG4gICAgaGludHM6IGhpbnRzXG4gIH07XG5cbiAgdGhpcy5fY29tbWFuZFN0YWNrLmV4ZWN1dGUoJ3NoYXBlLmNyZWF0ZScsIGNvbnRleHQpO1xuXG4gIHJldHVybiBjb250ZXh0LnNoYXBlO1xufTtcblxuXG5Nb2RlbGluZy5wcm90b3R5cGUuY3JlYXRlRWxlbWVudHMgPSBmdW5jdGlvbihlbGVtZW50cywgcG9zaXRpb24sIHBhcmVudCwgcGFyZW50SW5kZXgsIGhpbnRzKSB7XG4gIGlmICghaXNBcnJheShlbGVtZW50cykpIHtcbiAgICBlbGVtZW50cyA9IFsgZWxlbWVudHMgXTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgcGFyZW50SW5kZXggIT09ICdudW1iZXInKSB7XG4gICAgaGludHMgPSBwYXJlbnRJbmRleDtcbiAgICBwYXJlbnRJbmRleCA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGhpbnRzID0gaGludHMgfHwge307XG5cbiAgdmFyIGNvbnRleHQgPSB7XG4gICAgcG9zaXRpb246IHBvc2l0aW9uLFxuICAgIGVsZW1lbnRzOiBlbGVtZW50cyxcbiAgICBwYXJlbnQ6IHBhcmVudCxcbiAgICBwYXJlbnRJbmRleDogcGFyZW50SW5kZXgsXG4gICAgaGludHM6IGhpbnRzXG4gIH07XG5cbiAgdGhpcy5fY29tbWFuZFN0YWNrLmV4ZWN1dGUoJ2VsZW1lbnRzLmNyZWF0ZScsIGNvbnRleHQpO1xuXG4gIHJldHVybiBjb250ZXh0LmVsZW1lbnRzO1xufTtcblxuXG5Nb2RlbGluZy5wcm90b3R5cGUuY3JlYXRlTGFiZWwgPSBmdW5jdGlvbihsYWJlbFRhcmdldCwgcG9zaXRpb24sIGxhYmVsLCBwYXJlbnQpIHtcblxuICBsYWJlbCA9IHRoaXMuX2NyZWF0ZSgnbGFiZWwnLCBsYWJlbCk7XG5cbiAgdmFyIGNvbnRleHQgPSB7XG4gICAgbGFiZWxUYXJnZXQ6IGxhYmVsVGFyZ2V0LFxuICAgIHBvc2l0aW9uOiBwb3NpdGlvbixcbiAgICBwYXJlbnQ6IHBhcmVudCB8fCBsYWJlbFRhcmdldC5wYXJlbnQsXG4gICAgc2hhcGU6IGxhYmVsXG4gIH07XG5cbiAgdGhpcy5fY29tbWFuZFN0YWNrLmV4ZWN1dGUoJ2xhYmVsLmNyZWF0ZScsIGNvbnRleHQpO1xuXG4gIHJldHVybiBjb250ZXh0LnNoYXBlO1xufTtcblxuXG4vKipcbiAqIEFwcGVuZCBzaGFwZSB0byBnaXZlbiBzb3VyY2UsIGRyYXdpbmcgYSBjb25uZWN0aW9uXG4gKiBiZXR3ZWVuIHNvdXJjZSBhbmQgdGhlIG5ld2x5IGNyZWF0ZWQgc2hhcGUuXG4gKlxuICogQHBhcmFtIHtkanMubW9kZWwuU2hhcGV9IHNvdXJjZVxuICogQHBhcmFtIHtkanMubW9kZWwuU2hhcGV8T2JqZWN0fSBzaGFwZVxuICogQHBhcmFtIHtQb2ludH0gcG9zaXRpb25cbiAqIEBwYXJhbSB7ZGpzLm1vZGVsLlNoYXBlfSB0YXJnZXRcbiAqIEBwYXJhbSB7T2JqZWN0fSBbaGludHNdXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtoaW50cy5hdHRhY2hdXG4gKiBAcGFyYW0ge2Rqcy5tb2RlbC5Db25uZWN0aW9ufE9iamVjdH0gW2hpbnRzLmNvbm5lY3Rpb25dXG4gKiBAcGFyYW0ge2Rqcy5tb2RlbC5CYXNlfSBbaGludHMuY29ubmVjdGlvblBhcmVudF1cbiAqXG4gKiBAcmV0dXJuIHtkanMubW9kZWwuU2hhcGV9IHRoZSBuZXdseSBjcmVhdGVkIHNoYXBlXG4gKi9cbk1vZGVsaW5nLnByb3RvdHlwZS5hcHBlbmRTaGFwZSA9IGZ1bmN0aW9uKHNvdXJjZSwgc2hhcGUsIHBvc2l0aW9uLCB0YXJnZXQsIGhpbnRzKSB7XG5cbiAgaGludHMgPSBoaW50cyB8fCB7fTtcblxuICBzaGFwZSA9IHRoaXMuX2NyZWF0ZSgnc2hhcGUnLCBzaGFwZSk7XG5cbiAgdmFyIGNvbnRleHQgPSB7XG4gICAgc291cmNlOiBzb3VyY2UsXG4gICAgcG9zaXRpb246IHBvc2l0aW9uLFxuICAgIHRhcmdldDogdGFyZ2V0LFxuICAgIHNoYXBlOiBzaGFwZSxcbiAgICBjb25uZWN0aW9uOiBoaW50cy5jb25uZWN0aW9uLFxuICAgIGNvbm5lY3Rpb25QYXJlbnQ6IGhpbnRzLmNvbm5lY3Rpb25QYXJlbnQsXG4gICAgaGludHM6IGhpbnRzXG4gIH07XG5cbiAgdGhpcy5fY29tbWFuZFN0YWNrLmV4ZWN1dGUoJ3NoYXBlLmFwcGVuZCcsIGNvbnRleHQpO1xuXG4gIHJldHVybiBjb250ZXh0LnNoYXBlO1xufTtcblxuXG5Nb2RlbGluZy5wcm90b3R5cGUucmVtb3ZlRWxlbWVudHMgPSBmdW5jdGlvbihlbGVtZW50cykge1xuICB2YXIgY29udGV4dCA9IHtcbiAgICBlbGVtZW50czogZWxlbWVudHNcbiAgfTtcblxuICB0aGlzLl9jb21tYW5kU3RhY2suZXhlY3V0ZSgnZWxlbWVudHMuZGVsZXRlJywgY29udGV4dCk7XG59O1xuXG5cbk1vZGVsaW5nLnByb3RvdHlwZS5kaXN0cmlidXRlRWxlbWVudHMgPSBmdW5jdGlvbihncm91cHMsIGF4aXMsIGRpbWVuc2lvbikge1xuICB2YXIgY29udGV4dCA9IHtcbiAgICBncm91cHM6IGdyb3VwcyxcbiAgICBheGlzOiBheGlzLFxuICAgIGRpbWVuc2lvbjogZGltZW5zaW9uXG4gIH07XG5cbiAgdGhpcy5fY29tbWFuZFN0YWNrLmV4ZWN1dGUoJ2VsZW1lbnRzLmRpc3RyaWJ1dGUnLCBjb250ZXh0KTtcbn07XG5cblxuTW9kZWxpbmcucHJvdG90eXBlLnJlbW92ZVNoYXBlID0gZnVuY3Rpb24oc2hhcGUsIGhpbnRzKSB7XG4gIHZhciBjb250ZXh0ID0ge1xuICAgIHNoYXBlOiBzaGFwZSxcbiAgICBoaW50czogaGludHMgfHwge31cbiAgfTtcblxuICB0aGlzLl9jb21tYW5kU3RhY2suZXhlY3V0ZSgnc2hhcGUuZGVsZXRlJywgY29udGV4dCk7XG59O1xuXG5cbk1vZGVsaW5nLnByb3RvdHlwZS5yZW1vdmVDb25uZWN0aW9uID0gZnVuY3Rpb24oY29ubmVjdGlvbiwgaGludHMpIHtcbiAgdmFyIGNvbnRleHQgPSB7XG4gICAgY29ubmVjdGlvbjogY29ubmVjdGlvbixcbiAgICBoaW50czogaGludHMgfHwge31cbiAgfTtcblxuICB0aGlzLl9jb21tYW5kU3RhY2suZXhlY3V0ZSgnY29ubmVjdGlvbi5kZWxldGUnLCBjb250ZXh0KTtcbn07XG5cbk1vZGVsaW5nLnByb3RvdHlwZS5yZXBsYWNlU2hhcGUgPSBmdW5jdGlvbihvbGRTaGFwZSwgbmV3U2hhcGUsIGhpbnRzKSB7XG4gIHZhciBjb250ZXh0ID0ge1xuICAgIG9sZFNoYXBlOiBvbGRTaGFwZSxcbiAgICBuZXdEYXRhOiBuZXdTaGFwZSxcbiAgICBoaW50czogaGludHMgfHwge31cbiAgfTtcblxuICB0aGlzLl9jb21tYW5kU3RhY2suZXhlY3V0ZSgnc2hhcGUucmVwbGFjZScsIGNvbnRleHQpO1xuXG4gIHJldHVybiBjb250ZXh0Lm5ld1NoYXBlO1xufTtcblxuTW9kZWxpbmcucHJvdG90eXBlLmFsaWduRWxlbWVudHMgPSBmdW5jdGlvbihlbGVtZW50cywgYWxpZ25tZW50KSB7XG4gIHZhciBjb250ZXh0ID0ge1xuICAgIGVsZW1lbnRzOiBlbGVtZW50cyxcbiAgICBhbGlnbm1lbnQ6IGFsaWdubWVudFxuICB9O1xuXG4gIHRoaXMuX2NvbW1hbmRTdGFjay5leGVjdXRlKCdlbGVtZW50cy5hbGlnbicsIGNvbnRleHQpO1xufTtcblxuTW9kZWxpbmcucHJvdG90eXBlLnJlc2l6ZVNoYXBlID0gZnVuY3Rpb24oc2hhcGUsIG5ld0JvdW5kcywgbWluQm91bmRzLCBoaW50cykge1xuICB2YXIgY29udGV4dCA9IHtcbiAgICBzaGFwZTogc2hhcGUsXG4gICAgbmV3Qm91bmRzOiBuZXdCb3VuZHMsXG4gICAgbWluQm91bmRzOiBtaW5Cb3VuZHMsXG4gICAgaGludHM6IGhpbnRzXG4gIH07XG5cbiAgdGhpcy5fY29tbWFuZFN0YWNrLmV4ZWN1dGUoJ3NoYXBlLnJlc2l6ZScsIGNvbnRleHQpO1xufTtcblxuTW9kZWxpbmcucHJvdG90eXBlLmNyZWF0ZVNwYWNlID0gZnVuY3Rpb24obW92aW5nU2hhcGVzLCByZXNpemluZ1NoYXBlcywgZGVsdGEsIGRpcmVjdGlvbiwgc3RhcnQpIHtcbiAgdmFyIGNvbnRleHQgPSB7XG4gICAgZGVsdGE6IGRlbHRhLFxuICAgIGRpcmVjdGlvbjogZGlyZWN0aW9uLFxuICAgIG1vdmluZ1NoYXBlczogbW92aW5nU2hhcGVzLFxuICAgIHJlc2l6aW5nU2hhcGVzOiByZXNpemluZ1NoYXBlcyxcbiAgICBzdGFydDogc3RhcnRcbiAgfTtcblxuICB0aGlzLl9jb21tYW5kU3RhY2suZXhlY3V0ZSgnc3BhY2VUb29sJywgY29udGV4dCk7XG59O1xuXG5Nb2RlbGluZy5wcm90b3R5cGUudXBkYXRlV2F5cG9pbnRzID0gZnVuY3Rpb24oY29ubmVjdGlvbiwgbmV3V2F5cG9pbnRzLCBoaW50cykge1xuICB2YXIgY29udGV4dCA9IHtcbiAgICBjb25uZWN0aW9uOiBjb25uZWN0aW9uLFxuICAgIG5ld1dheXBvaW50czogbmV3V2F5cG9pbnRzLFxuICAgIGhpbnRzOiBoaW50cyB8fCB7fVxuICB9O1xuXG4gIHRoaXMuX2NvbW1hbmRTdGFjay5leGVjdXRlKCdjb25uZWN0aW9uLnVwZGF0ZVdheXBvaW50cycsIGNvbnRleHQpO1xufTtcblxuTW9kZWxpbmcucHJvdG90eXBlLnJlY29ubmVjdCA9IGZ1bmN0aW9uKGNvbm5lY3Rpb24sIHNvdXJjZSwgdGFyZ2V0LCBkb2NraW5nT3JQb2ludHMsIGhpbnRzKSB7XG4gIHZhciBjb250ZXh0ID0ge1xuICAgIGNvbm5lY3Rpb246IGNvbm5lY3Rpb24sXG4gICAgbmV3U291cmNlOiBzb3VyY2UsXG4gICAgbmV3VGFyZ2V0OiB0YXJnZXQsXG4gICAgZG9ja2luZ09yUG9pbnRzOiBkb2NraW5nT3JQb2ludHMsXG4gICAgaGludHM6IGhpbnRzIHx8IHt9XG4gIH07XG5cbiAgdGhpcy5fY29tbWFuZFN0YWNrLmV4ZWN1dGUoJ2Nvbm5lY3Rpb24ucmVjb25uZWN0JywgY29udGV4dCk7XG59O1xuXG5Nb2RlbGluZy5wcm90b3R5cGUucmVjb25uZWN0U3RhcnQgPSBmdW5jdGlvbihjb25uZWN0aW9uLCBuZXdTb3VyY2UsIGRvY2tpbmdPclBvaW50cywgaGludHMpIHtcbiAgaWYgKCFoaW50cykge1xuICAgIGhpbnRzID0ge307XG4gIH1cblxuICB0aGlzLnJlY29ubmVjdChjb25uZWN0aW9uLCBuZXdTb3VyY2UsIGNvbm5lY3Rpb24udGFyZ2V0LCBkb2NraW5nT3JQb2ludHMsIGFzc2lnbihoaW50cywge1xuICAgIGRvY2tpbmc6ICdzb3VyY2UnXG4gIH0pKTtcbn07XG5cbk1vZGVsaW5nLnByb3RvdHlwZS5yZWNvbm5lY3RFbmQgPSBmdW5jdGlvbihjb25uZWN0aW9uLCBuZXdUYXJnZXQsIGRvY2tpbmdPclBvaW50cywgaGludHMpIHtcbiAgaWYgKCFoaW50cykge1xuICAgIGhpbnRzID0ge307XG4gIH1cblxuICB0aGlzLnJlY29ubmVjdChjb25uZWN0aW9uLCBjb25uZWN0aW9uLnNvdXJjZSwgbmV3VGFyZ2V0LCBkb2NraW5nT3JQb2ludHMsIGFzc2lnbihoaW50cywge1xuICAgIGRvY2tpbmc6ICd0YXJnZXQnXG4gIH0pKTtcbn07XG5cbk1vZGVsaW5nLnByb3RvdHlwZS5jb25uZWN0ID0gZnVuY3Rpb24oc291cmNlLCB0YXJnZXQsIGF0dHJzLCBoaW50cykge1xuICByZXR1cm4gdGhpcy5jcmVhdGVDb25uZWN0aW9uKHNvdXJjZSwgdGFyZ2V0LCBhdHRycyB8fCB7fSwgc291cmNlLnBhcmVudCwgaGludHMpO1xufTtcblxuTW9kZWxpbmcucHJvdG90eXBlLl9jcmVhdGUgPSBmdW5jdGlvbih0eXBlLCBhdHRycykge1xuICBpZiAoYXR0cnMgaW5zdGFuY2VvZiBCYXNlKSB7XG4gICAgcmV0dXJuIGF0dHJzO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB0aGlzLl9lbGVtZW50RmFjdG9yeS5jcmVhdGUodHlwZSwgYXR0cnMpO1xuICB9XG59O1xuXG5Nb2RlbGluZy5wcm90b3R5cGUudG9nZ2xlQ29sbGFwc2UgPSBmdW5jdGlvbihzaGFwZSwgaGludHMpIHtcbiAgdmFyIGNvbnRleHQgPSB7XG4gICAgc2hhcGU6IHNoYXBlLFxuICAgIGhpbnRzOiBoaW50cyB8fCB7fVxuICB9O1xuXG4gIHRoaXMuX2NvbW1hbmRTdGFjay5leGVjdXRlKCdzaGFwZS50b2dnbGVDb2xsYXBzZScsIGNvbnRleHQpO1xufTtcbiIsImltcG9ydCB7XG4gIHJlZHVjZSxcbiAga2V5cyxcbiAgZm9yRWFjaCxcbiAgYXNzaWduXG59IGZyb20gJ21pbi1kYXNoJztcblxuaW1wb3J0IHtcbiAgZ2V0QnVzaW5lc3NPYmplY3Rcbn0gZnJvbSAnLi4vLi4vLi4vdXRpbC9Nb2RlbFV0aWwnO1xuXG52YXIgSUQgPSAnaWQnLFxuICAgIERJID0gJ2RpJztcblxudmFyIE5VTExfRElNRU5TSU9OUyA9IHtcbiAgd2lkdGg6IDAsXG4gIGhlaWdodDogMFxufTtcblxuLyoqXG4gKiBBIGhhbmRsZXIgdGhhdCBpbXBsZW1lbnRzIGEgcG9zdGl0IGVsZW1lbnRzIHByb3BlcnR5IHVwZGF0ZS5cbiAqXG4gKiBUaGlzIHNob3VsZCBiZSB1c2VkIHRvIHNldCBzaW1wbGUgcHJvcGVydGllcyBvbiBlbGVtZW50cyB3aXRoXG4gKiBhbiB1bmRlcmx5aW5nIFhNTCBidXNpbmVzcyBvYmplY3QuXG4gKlxuICogVXNlIHJlc3BlY3RpdmUgZGlhZ3JhbS1qcyBwcm92aWRlZCBoYW5kbGVycyBpZiB5b3Ugd291bGRcbiAqIGxpa2UgdG8gcGVyZm9ybSBhdXRvbWF0ZWQgbW9kZWxpbmcuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFVwZGF0ZVByb3BlcnRpZXNIYW5kbGVyKFxuICAgIGVsZW1lbnRSZWdpc3RyeSwgbW9kZGxlLCB0cmFuc2xhdGUsXG4gICAgbW9kZWxpbmcsIHRleHRSZW5kZXJlcikge1xuXG4gIHRoaXMuX2VsZW1lbnRSZWdpc3RyeSA9IGVsZW1lbnRSZWdpc3RyeTtcbiAgdGhpcy5fbW9kZGxlID0gbW9kZGxlO1xuICB0aGlzLl90cmFuc2xhdGUgPSB0cmFuc2xhdGU7XG4gIHRoaXMuX21vZGVsaW5nID0gbW9kZWxpbmc7XG4gIHRoaXMuX3RleHRSZW5kZXJlciA9IHRleHRSZW5kZXJlcjtcbn1cblxuVXBkYXRlUHJvcGVydGllc0hhbmRsZXIuJGluamVjdCA9IFtcbiAgJ2VsZW1lbnRSZWdpc3RyeScsXG4gICdtb2RkbGUnLFxuICAndHJhbnNsYXRlJyxcbiAgJ21vZGVsaW5nJyxcbiAgJ3RleHRSZW5kZXJlcidcbl07XG5cblxuLy8gYXBpIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLyoqXG4gKiBVcGRhdGVzIGEgYm9hcmQgZWxlbWVudCB3aXRoIGEgbGlzdCBvZiBuZXcgcHJvcGVydGllc1xuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb250ZXh0XG4gKiBAcGFyYW0ge2Rqcy5tb2RlbC5CYXNlfSBjb250ZXh0LmVsZW1lbnQgdGhlIGVsZW1lbnQgdG8gdXBkYXRlXG4gKiBAcGFyYW0ge09iamVjdH0gY29udGV4dC5wcm9wZXJ0aWVzIGEgbGlzdCBvZiBwcm9wZXJ0aWVzIHRvIHNldCBvbiB0aGUgZWxlbWVudCdzXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1c2luZXNzT2JqZWN0ICh0aGUgWE1MIG1vZGVsIGVsZW1lbnQpXG4gKlxuICogQHJldHVybiB7QXJyYXk8ZGpzLm1vZGVsLkJhc2U+fSB0aGUgdXBkYXRlZCBlbGVtZW50XG4gKi9cblVwZGF0ZVByb3BlcnRpZXNIYW5kbGVyLnByb3RvdHlwZS5leGVjdXRlID0gZnVuY3Rpb24oY29udGV4dCkge1xuXG4gIHZhciBlbGVtZW50ID0gY29udGV4dC5lbGVtZW50LFxuICAgICAgY2hhbmdlZCA9IFsgZWxlbWVudCBdLFxuICAgICAgdHJhbnNsYXRlID0gdGhpcy5fdHJhbnNsYXRlO1xuXG4gIGlmICghZWxlbWVudCkge1xuICAgIHRocm93IG5ldyBFcnJvcih0cmFuc2xhdGUoJ2VsZW1lbnQgcmVxdWlyZWQnKSk7XG4gIH1cblxuICB2YXIgZWxlbWVudFJlZ2lzdHJ5ID0gdGhpcy5fZWxlbWVudFJlZ2lzdHJ5LFxuICAgICAgaWRzID0gdGhpcy5fbW9kZGxlLmlkcztcblxuICB2YXIgYnVzaW5lc3NPYmplY3QgPSBlbGVtZW50LmJ1c2luZXNzT2JqZWN0LFxuICAgICAgcHJvcGVydGllcyA9IHVud3JhcEJ1c2luZXNzT2JqZWN0cyhjb250ZXh0LnByb3BlcnRpZXMpLFxuICAgICAgb2xkUHJvcGVydGllcyA9IGNvbnRleHQub2xkUHJvcGVydGllcyB8fCBnZXRQcm9wZXJ0aWVzKGJ1c2luZXNzT2JqZWN0LCBwcm9wZXJ0aWVzKTtcblxuICBpZiAoaXNJZENoYW5nZShwcm9wZXJ0aWVzLCBidXNpbmVzc09iamVjdCkpIHtcbiAgICBpZHMudW5jbGFpbShidXNpbmVzc09iamVjdFtJRF0pO1xuXG4gICAgZWxlbWVudFJlZ2lzdHJ5LnVwZGF0ZUlkKGVsZW1lbnQsIHByb3BlcnRpZXNbSURdKTtcblxuICAgIGlkcy5jbGFpbShwcm9wZXJ0aWVzW0lEXSwgYnVzaW5lc3NPYmplY3QpO1xuICB9XG5cbiAgLy8gdXBkYXRlIHByb3BlcnRpZXNcbiAgc2V0UHJvcGVydGllcyhidXNpbmVzc09iamVjdCwgcHJvcGVydGllcyk7XG5cbiAgLy8gc3RvcmUgb2xkIHZhbHVlc1xuICBjb250ZXh0Lm9sZFByb3BlcnRpZXMgPSBvbGRQcm9wZXJ0aWVzO1xuICBjb250ZXh0LmNoYW5nZWQgPSBjaGFuZ2VkO1xuXG4gIC8vIGluZGljYXRlIGNoYW5nZWQgb24gb2JqZWN0cyBhZmZlY3RlZCBieSB0aGUgdXBkYXRlXG4gIHJldHVybiBjaGFuZ2VkO1xufTtcblxuXG5VcGRhdGVQcm9wZXJ0aWVzSGFuZGxlci5wcm90b3R5cGUucG9zdEV4ZWN1dGUgPSBmdW5jdGlvbihjb250ZXh0KSB7XG4gIHZhciBlbGVtZW50ID0gY29udGV4dC5lbGVtZW50LFxuICAgICAgbGFiZWwgPSBlbGVtZW50LmxhYmVsO1xuXG4gIHZhciB0ZXh0ID0gbGFiZWwgJiYgZ2V0QnVzaW5lc3NPYmplY3QobGFiZWwpLm5hbWU7XG5cbiAgaWYgKCF0ZXh0KSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gZ2V0IGxheW91dGVkIHRleHQgYm91bmRzIGFuZCByZXNpemUgZXh0ZXJuYWxcbiAgLy8gZXh0ZXJuYWwgbGFiZWwgYWNjb3JkaW5nbHlcbiAgdmFyIG5ld0xhYmVsQm91bmRzID0gdGhpcy5fdGV4dFJlbmRlcmVyLmdldEV4dGVybmFsTGFiZWxCb3VuZHMobGFiZWwsIHRleHQpO1xuXG4gIHRoaXMuX21vZGVsaW5nLnJlc2l6ZVNoYXBlKGxhYmVsLCBuZXdMYWJlbEJvdW5kcywgTlVMTF9ESU1FTlNJT05TKTtcbn07XG5cbi8qKlxuICogUmV2ZXJ0cyB0aGUgdXBkYXRlIG9uIGEgYm9hcmQgZWxlbWVudHMgcHJvcGVydGllcy5cbiAqXG4gKiBAcGFyYW0gIHtPYmplY3R9IGNvbnRleHRcbiAqXG4gKiBAcmV0dXJuIHtkanMubW9kZWwuQmFzZX0gdGhlIHVwZGF0ZWQgZWxlbWVudFxuICovXG5VcGRhdGVQcm9wZXJ0aWVzSGFuZGxlci5wcm90b3R5cGUucmV2ZXJ0ID0gZnVuY3Rpb24oY29udGV4dCkge1xuXG4gIHZhciBlbGVtZW50ID0gY29udGV4dC5lbGVtZW50LFxuICAgICAgcHJvcGVydGllcyA9IGNvbnRleHQucHJvcGVydGllcyxcbiAgICAgIG9sZFByb3BlcnRpZXMgPSBjb250ZXh0Lm9sZFByb3BlcnRpZXMsXG4gICAgICBidXNpbmVzc09iamVjdCA9IGVsZW1lbnQuYnVzaW5lc3NPYmplY3QsXG4gICAgICBlbGVtZW50UmVnaXN0cnkgPSB0aGlzLl9lbGVtZW50UmVnaXN0cnksXG4gICAgICBpZHMgPSB0aGlzLl9tb2RkbGUuaWRzO1xuXG4gIC8vIHVwZGF0ZSBwcm9wZXJ0aWVzXG4gIHNldFByb3BlcnRpZXMoYnVzaW5lc3NPYmplY3QsIG9sZFByb3BlcnRpZXMpO1xuXG4gIGlmIChpc0lkQ2hhbmdlKHByb3BlcnRpZXMsIGJ1c2luZXNzT2JqZWN0KSkge1xuICAgIGlkcy51bmNsYWltKHByb3BlcnRpZXNbSURdKTtcblxuICAgIGVsZW1lbnRSZWdpc3RyeS51cGRhdGVJZChlbGVtZW50LCBvbGRQcm9wZXJ0aWVzW0lEXSk7XG5cbiAgICBpZHMuY2xhaW0ob2xkUHJvcGVydGllc1tJRF0sIGJ1c2luZXNzT2JqZWN0KTtcbiAgfVxuXG4gIHJldHVybiBjb250ZXh0LmNoYW5nZWQ7XG59O1xuXG5cbmZ1bmN0aW9uIGlzSWRDaGFuZ2UocHJvcGVydGllcywgYnVzaW5lc3NPYmplY3QpIHtcbiAgcmV0dXJuIElEIGluIHByb3BlcnRpZXMgJiYgcHJvcGVydGllc1tJRF0gIT09IGJ1c2luZXNzT2JqZWN0W0lEXTtcbn1cblxuXG5mdW5jdGlvbiBnZXRQcm9wZXJ0aWVzKGJ1c2luZXNzT2JqZWN0LCBwcm9wZXJ0aWVzKSB7XG4gIHZhciBwcm9wZXJ0eU5hbWVzID0ga2V5cyhwcm9wZXJ0aWVzKTtcblxuICByZXR1cm4gcmVkdWNlKHByb3BlcnR5TmFtZXMsIGZ1bmN0aW9uKHJlc3VsdCwga2V5KSB7XG5cbiAgICAvLyBoYW5kbGUgREkgc2VwYXJhdGVseVxuICAgIGlmIChrZXkgIT09IERJKSB7XG4gICAgICByZXN1bHRba2V5XSA9IGJ1c2luZXNzT2JqZWN0LmdldChrZXkpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHRba2V5XSA9IGdldERpUHJvcGVydGllcyhidXNpbmVzc09iamVjdC5kaSwga2V5cyhwcm9wZXJ0aWVzLmRpKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSwge30pO1xufVxuXG5cbmZ1bmN0aW9uIGdldERpUHJvcGVydGllcyhkaSwgcHJvcGVydHlOYW1lcykge1xuICByZXR1cm4gcmVkdWNlKHByb3BlcnR5TmFtZXMsIGZ1bmN0aW9uKHJlc3VsdCwga2V5KSB7XG4gICAgcmVzdWx0W2tleV0gPSBkaS5nZXQoa2V5KTtcblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH0sIHt9KTtcbn1cblxuXG5mdW5jdGlvbiBzZXRQcm9wZXJ0aWVzKGJ1c2luZXNzT2JqZWN0LCBwcm9wZXJ0aWVzKSB7XG4gIGZvckVhY2gocHJvcGVydGllcywgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuXG4gICAgaWYgKGtleSAhPT0gREkpIHtcbiAgICAgIGJ1c2luZXNzT2JqZWN0LnNldChrZXksIHZhbHVlKTtcbiAgICB9IGVsc2Uge1xuXG4gICAgICAvLyBvbmx5IHVwZGF0ZSwgaWYgYnVzaW5lc3NPYmplY3QuZGkgZXhpc3RzXG4gICAgICBpZiAoYnVzaW5lc3NPYmplY3QuZGkpIHtcbiAgICAgICAgc2V0RGlQcm9wZXJ0aWVzKGJ1c2luZXNzT2JqZWN0LmRpLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn1cblxuXG5mdW5jdGlvbiBzZXREaVByb3BlcnRpZXMoZGksIHByb3BlcnRpZXMpIHtcbiAgZm9yRWFjaChwcm9wZXJ0aWVzLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgZGkuc2V0KGtleSwgdmFsdWUpO1xuICB9KTtcbn1cblxuXG52YXIgcmVmZXJlbmNlUHJvcGVydHlOYW1lcyA9IFsgJ2RlZmF1bHQnIF07XG5cbi8qKlxuICogTWFrZSBzdXJlIHdlIHVud3JhcCB0aGUgYWN0dWFsIGJ1c2luZXNzIG9iamVjdFxuICogYmVoaW5kIGRpYWdyYW0gZWxlbWVudCB0aGF0IG1heSBoYXZlIGJlZW5cbiAqIHBhc3NlZCBhcyBhcmd1bWVudHMuXG4gKlxuICogQHBhcmFtICB7T2JqZWN0fSBwcm9wZXJ0aWVzXG4gKlxuICogQHJldHVybiB7T2JqZWN0fSB1bndyYXBwZWRQcm9wc1xuICovXG5mdW5jdGlvbiB1bndyYXBCdXNpbmVzc09iamVjdHMocHJvcGVydGllcykge1xuXG4gIHZhciB1bndyYXBwZWRQcm9wcyA9IGFzc2lnbih7fSwgcHJvcGVydGllcyk7XG5cbiAgcmVmZXJlbmNlUHJvcGVydHlOYW1lcy5mb3JFYWNoKGZ1bmN0aW9uKG5hbWUpIHtcbiAgICBpZiAobmFtZSBpbiBwcm9wZXJ0aWVzKSB7XG4gICAgICB1bndyYXBwZWRQcm9wc1tuYW1lXSA9IGdldEJ1c2luZXNzT2JqZWN0KHVud3JhcHBlZFByb3BzW25hbWVdKTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiB1bndyYXBwZWRQcm9wcztcbn0iLCJpbXBvcnQge1xuICBhZGQgYXMgY29sbGVjdGlvbkFkZCxcbiAgcmVtb3ZlIGFzIGNvbGxlY3Rpb25SZW1vdmVcbn0gZnJvbSAnZGlhZ3JhbS1qcy9saWIvdXRpbC9Db2xsZWN0aW9ucyc7XG5cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gVXBkYXRlQ2FudmFzUm9vdEhhbmRsZXIoY2FudmFzLCBtb2RlbGluZykge1xuICB0aGlzLl9jYW52YXMgPSBjYW52YXM7XG4gIHRoaXMuX21vZGVsaW5nID0gbW9kZWxpbmc7XG59XG5cblVwZGF0ZUNhbnZhc1Jvb3RIYW5kbGVyLiRpbmplY3QgPSBbXG4gICdjYW52YXMnLFxuICAnbW9kZWxpbmcnXG5dO1xuXG5cblVwZGF0ZUNhbnZhc1Jvb3RIYW5kbGVyLnByb3RvdHlwZS5leGVjdXRlID0gZnVuY3Rpb24oY29udGV4dCkge1xuXG4gIHZhciBjYW52YXMgPSB0aGlzLl9jYW52YXM7XG5cbiAgdmFyIG5ld1Jvb3QgPSBjb250ZXh0Lm5ld1Jvb3QsXG4gICAgICBuZXdSb290QnVzaW5lc3NPYmplY3QgPSBuZXdSb290LmJ1c2luZXNzT2JqZWN0LFxuICAgICAgb2xkUm9vdCA9IGNhbnZhcy5nZXRSb290RWxlbWVudCgpLFxuICAgICAgb2xkUm9vdEJ1c2luZXNzT2JqZWN0ID0gb2xkUm9vdC5idXNpbmVzc09iamVjdCxcbiAgICAgIHBvc3RpdERlZmluaXRpb25zID0gb2xkUm9vdEJ1c2luZXNzT2JqZWN0LiRwYXJlbnQsXG4gICAgICBkaVBsYW5lID0gb2xkUm9vdEJ1c2luZXNzT2JqZWN0LmRpO1xuXG4gIC8vICgxKSByZXBsYWNlIHByb2Nlc3Mgb2xkIDw+IG5ldyByb290XG4gIGNhbnZhcy5zZXRSb290RWxlbWVudChuZXdSb290LCB0cnVlKTtcblxuICAvLyAoMikgdXBkYXRlIHJvb3QgZWxlbWVudHNcbiAgY29sbGVjdGlvbkFkZChwb3N0aXREZWZpbml0aW9ucy5yb290RWxlbWVudHMsIG5ld1Jvb3RCdXNpbmVzc09iamVjdCk7XG4gIG5ld1Jvb3RCdXNpbmVzc09iamVjdC4kcGFyZW50ID0gcG9zdGl0RGVmaW5pdGlvbnM7XG5cbiAgY29sbGVjdGlvblJlbW92ZShwb3N0aXREZWZpbml0aW9ucy5yb290RWxlbWVudHMsIG9sZFJvb3RCdXNpbmVzc09iamVjdCk7XG4gIG9sZFJvb3RCdXNpbmVzc09iamVjdC4kcGFyZW50ID0gbnVsbDtcblxuICAvLyAoMykgd2lyZSBkaVxuICBvbGRSb290QnVzaW5lc3NPYmplY3QuZGkgPSBudWxsO1xuXG4gIGRpUGxhbmUuYm9hcmRFbGVtZW50ID0gbmV3Um9vdEJ1c2luZXNzT2JqZWN0O1xuICBuZXdSb290QnVzaW5lc3NPYmplY3QuZGkgPSBkaVBsYW5lO1xuXG4gIGNvbnRleHQub2xkUm9vdCA9IG9sZFJvb3Q7XG5cbiAgLy8gVE9ETyhuaWtrdSk6IHJldHVybiBjaGFuZ2VkIGVsZW1lbnRzP1xuICAvLyByZXR1cm4gWyBuZXdSb290LCBvbGRSb290IF07XG59O1xuXG5cblVwZGF0ZUNhbnZhc1Jvb3RIYW5kbGVyLnByb3RvdHlwZS5yZXZlcnQgPSBmdW5jdGlvbihjb250ZXh0KSB7XG5cbiAgdmFyIGNhbnZhcyA9IHRoaXMuX2NhbnZhcztcblxuICB2YXIgbmV3Um9vdCA9IGNvbnRleHQubmV3Um9vdCxcbiAgICAgIG5ld1Jvb3RCdXNpbmVzc09iamVjdCA9IG5ld1Jvb3QuYnVzaW5lc3NPYmplY3QsXG4gICAgICBvbGRSb290ID0gY29udGV4dC5vbGRSb290LFxuICAgICAgb2xkUm9vdEJ1c2luZXNzT2JqZWN0ID0gb2xkUm9vdC5idXNpbmVzc09iamVjdCxcbiAgICAgIHBvc3RpdERlZmluaXRpb25zID0gbmV3Um9vdEJ1c2luZXNzT2JqZWN0LiRwYXJlbnQsXG4gICAgICBkaVBsYW5lID0gbmV3Um9vdEJ1c2luZXNzT2JqZWN0LmRpO1xuXG4gIC8vICgxKSByZXBsYWNlIHByb2Nlc3Mgb2xkIDw+IG5ldyByb290XG4gIGNhbnZhcy5zZXRSb290RWxlbWVudChvbGRSb290LCB0cnVlKTtcblxuICAvLyAoMikgdXBkYXRlIHJvb3QgZWxlbWVudHNcbiAgY29sbGVjdGlvblJlbW92ZShwb3N0aXREZWZpbml0aW9ucy5yb290RWxlbWVudHMsIG5ld1Jvb3RCdXNpbmVzc09iamVjdCk7XG4gIG5ld1Jvb3RCdXNpbmVzc09iamVjdC4kcGFyZW50ID0gbnVsbDtcblxuICBjb2xsZWN0aW9uQWRkKHBvc3RpdERlZmluaXRpb25zLnJvb3RFbGVtZW50cywgb2xkUm9vdEJ1c2luZXNzT2JqZWN0KTtcbiAgb2xkUm9vdEJ1c2luZXNzT2JqZWN0LiRwYXJlbnQgPSBwb3N0aXREZWZpbml0aW9ucztcblxuICAvLyAoMykgd2lyZSBkaVxuICBuZXdSb290QnVzaW5lc3NPYmplY3QuZGkgPSBudWxsO1xuXG4gIGRpUGxhbmUuYm9hcmRFbGVtZW50ID0gb2xkUm9vdEJ1c2luZXNzT2JqZWN0O1xuICBvbGRSb290QnVzaW5lc3NPYmplY3QuZGkgPSBkaVBsYW5lO1xuXG4gIC8vIFRPRE8obmlra3UpOiByZXR1cm4gY2hhbmdlZCBlbGVtZW50cz9cbiAgLy8gcmV0dXJuIFsgbmV3Um9vdCwgb2xkUm9vdCBdO1xufTsiLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBJZENsYWltSGFuZGxlcihtb2RkbGUpIHtcbiAgdGhpcy5fbW9kZGxlID0gbW9kZGxlO1xufVxuXG5JZENsYWltSGFuZGxlci4kaW5qZWN0ID0gWyAnbW9kZGxlJyBdO1xuXG5cbklkQ2xhaW1IYW5kbGVyLnByb3RvdHlwZS5leGVjdXRlID0gZnVuY3Rpb24oY29udGV4dCkge1xuICB2YXIgaWRzID0gdGhpcy5fbW9kZGxlLmlkcyxcbiAgICAgIGlkID0gY29udGV4dC5pZCxcbiAgICAgIGVsZW1lbnQgPSBjb250ZXh0LmVsZW1lbnQsXG4gICAgICBjbGFpbWluZyA9IGNvbnRleHQuY2xhaW1pbmc7XG5cbiAgaWYgKGNsYWltaW5nKSB7XG4gICAgaWRzLmNsYWltKGlkLCBlbGVtZW50KTtcbiAgfSBlbHNlIHtcbiAgICBpZHMudW5jbGFpbShpZCk7XG4gIH1cbn07XG5cbi8qKlxuICogQ29tbWFuZCByZXZlcnQgaW1wbGVtZW50YXRpb24uXG4gKi9cbklkQ2xhaW1IYW5kbGVyLnByb3RvdHlwZS5yZXZlcnQgPSBmdW5jdGlvbihjb250ZXh0KSB7XG4gIHZhciBpZHMgPSB0aGlzLl9tb2RkbGUuaWRzLFxuICAgICAgaWQgPSBjb250ZXh0LmlkLFxuICAgICAgZWxlbWVudCA9IGNvbnRleHQuZWxlbWVudCxcbiAgICAgIGNsYWltaW5nID0gY29udGV4dC5jbGFpbWluZztcblxuICBpZiAoY2xhaW1pbmcpIHtcbiAgICBpZHMudW5jbGFpbShpZCk7XG4gIH0gZWxzZSB7XG4gICAgaWRzLmNsYWltKGlkLCBlbGVtZW50KTtcbiAgfVxufTtcblxuIiwiaW1wb3J0IHtcclxuICBmb3JFYWNoXHJcbn0gZnJvbSAnbWluLWRhc2gnO1xyXG5cclxuaW1wb3J0IENPTE9SIGZyb20gJy4uLy4uLy4uL3V0aWwvQ29sb3JVdGlsJztcclxuXHJcblxyXG52YXIgREVGQVVMVF9DT0xPUiA9IENPTE9SLllFTExPVztcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBTZXRDb2xvckhhbmRsZXIoY29tbWFuZFN0YWNrKSB7XHJcbiAgdGhpcy5fY29tbWFuZFN0YWNrID0gY29tbWFuZFN0YWNrO1xyXG59XHJcblxyXG5TZXRDb2xvckhhbmRsZXIuJGluamVjdCA9IFtcclxuICAnY29tbWFuZFN0YWNrJ1xyXG5dO1xyXG5cclxuXHJcblNldENvbG9ySGFuZGxlci5wcm90b3R5cGUucG9zdEV4ZWN1dGUgPSBmdW5jdGlvbihjb250ZXh0KSB7XHJcbiAgdmFyIGVsZW1lbnRzID0gY29udGV4dC5lbGVtZW50cyxcclxuICAgICAgY29sb3IgPSBjb250ZXh0LmNvbG9yIHx8IERFRkFVTFRfQ09MT1I7XHJcblxyXG4gIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgZm9yRWFjaChlbGVtZW50cywgZnVuY3Rpb24oZWxlbWVudCkge1xyXG5cclxuICAgIHNlbGYuX2NvbW1hbmRTdGFjay5leGVjdXRlKCdlbGVtZW50LnVwZGF0ZVByb3BlcnRpZXMnLCB7XHJcbiAgICAgIGVsZW1lbnQ6IGVsZW1lbnQsXHJcbiAgICAgIHByb3BlcnRpZXM6IHtcclxuICAgICAgICBjb2xvcjogY29sb3JcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG59O1xyXG4iLCJpbXBvcnQge1xuICBzZXRMYWJlbCxcbiAgZ2V0TGFiZWxcbn0gZnJvbSAnLi4vTGFiZWxVdGlsJztcblxuaW1wb3J0IHtcbiAgZ2V0RXh0ZXJuYWxMYWJlbE1pZCxcbiAgaXNMYWJlbEV4dGVybmFsLFxuICBoYXNFeHRlcm5hbExhYmVsLFxuICBpc0xhYmVsXG59IGZyb20gJy4uLy4uLy4uL3V0aWwvTGFiZWxVdGlsJztcblxudmFyIE5VTExfRElNRU5TSU9OUyA9IHtcbiAgd2lkdGg6IDAsXG4gIGhlaWdodDogMFxufTtcblxuXG4vKipcbiAqIEEgaGFuZGxlciB0aGF0IHVwZGF0ZXMgdGhlIHRleHQgb2YgYSBwb3N0aXQgZWxlbWVudC5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gVXBkYXRlTGFiZWxIYW5kbGVyKG1vZGVsaW5nLCB0ZXh0UmVuZGVyZXIpIHtcblxuICAvKipcbiAgICogU2V0IHRoZSBsYWJlbCBhbmQgcmV0dXJuIHRoZSBjaGFuZ2VkIGVsZW1lbnRzLlxuICAgKlxuICAgKiBFbGVtZW50IHBhcmFtZXRlciBjYW4gYmUgbGFiZWwgaXRzZWxmIG9yIGNvbm5lY3Rpb24gKGkuZS4gc2VxdWVuY2UgZmxvdykuXG4gICAqXG4gICAqIEBwYXJhbSB7ZGpzLm1vZGVsLkJhc2V9IGVsZW1lbnRcbiAgICogQHBhcmFtIHtTdHJpbmd9IHRleHRcbiAgICovXG4gIGZ1bmN0aW9uIHNldFRleHQoZWxlbWVudCwgdGV4dCkge1xuXG4gICAgLy8gZXh0ZXJuYWwgbGFiZWwgaWYgcHJlc2VudFxuICAgIHZhciBsYWJlbCA9IGVsZW1lbnQubGFiZWwgfHwgZWxlbWVudDtcblxuICAgIHZhciBsYWJlbFRhcmdldCA9IGVsZW1lbnQubGFiZWxUYXJnZXQgfHwgZWxlbWVudDtcblxuICAgIHNldExhYmVsKGxhYmVsLCB0ZXh0LCBsYWJlbFRhcmdldCAhPT0gbGFiZWwpO1xuXG4gICAgcmV0dXJuIFsgbGFiZWwsIGxhYmVsVGFyZ2V0IF07XG4gIH1cblxuICBmdW5jdGlvbiBwcmVFeGVjdXRlKGN0eCkge1xuICAgIHZhciBlbGVtZW50ID0gY3R4LmVsZW1lbnQsXG4gICAgICAgIGJ1c2luZXNzT2JqZWN0ID0gZWxlbWVudC5idXNpbmVzc09iamVjdCxcbiAgICAgICAgbmV3TGFiZWwgPSBjdHgubmV3TGFiZWw7XG5cbiAgICBpZiAoIWlzTGFiZWwoZWxlbWVudClcbiAgICAgICAgJiYgaXNMYWJlbEV4dGVybmFsKGVsZW1lbnQpXG4gICAgICAgICYmICFoYXNFeHRlcm5hbExhYmVsKGVsZW1lbnQpXG4gICAgICAgICYmICFpc0VtcHR5VGV4dChuZXdMYWJlbCkpIHtcblxuICAgICAgLy8gY3JlYXRlIGxhYmVsXG4gICAgICB2YXIgcGFkZGluZ1RvcCA9IDc7XG5cbiAgICAgIHZhciBsYWJlbENlbnRlciA9IGdldEV4dGVybmFsTGFiZWxNaWQoZWxlbWVudCk7XG5cbiAgICAgIGxhYmVsQ2VudGVyID0ge1xuICAgICAgICB4OiBsYWJlbENlbnRlci54LFxuICAgICAgICB5OiBsYWJlbENlbnRlci55ICsgcGFkZGluZ1RvcFxuICAgICAgfTtcblxuICAgICAgbW9kZWxpbmcuY3JlYXRlTGFiZWwoZWxlbWVudCwgbGFiZWxDZW50ZXIsIHtcbiAgICAgICAgaWQ6IGJ1c2luZXNzT2JqZWN0LmlkICsgJ19sYWJlbCcsXG4gICAgICAgIGJ1c2luZXNzT2JqZWN0OiBidXNpbmVzc09iamVjdFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZXhlY3V0ZShjdHgpIHtcbiAgICBjdHgub2xkTGFiZWwgPSBnZXRMYWJlbChjdHguZWxlbWVudCk7XG4gICAgcmV0dXJuIHNldFRleHQoY3R4LmVsZW1lbnQsIGN0eC5uZXdMYWJlbCk7XG4gIH1cblxuICBmdW5jdGlvbiByZXZlcnQoY3R4KSB7XG4gICAgcmV0dXJuIHNldFRleHQoY3R4LmVsZW1lbnQsIGN0eC5vbGRMYWJlbCk7XG4gIH1cblxuICBmdW5jdGlvbiBwb3N0RXhlY3V0ZShjdHgpIHtcbiAgICB2YXIgZWxlbWVudCA9IGN0eC5lbGVtZW50LFxuICAgICAgICBsYWJlbCA9IGVsZW1lbnQubGFiZWwgfHwgZWxlbWVudCxcbiAgICAgICAgbmV3TGFiZWwgPSBjdHgubmV3TGFiZWwsXG4gICAgICAgIG5ld0JvdW5kcyA9IGN0eC5uZXdCb3VuZHMsXG4gICAgICAgIGhpbnRzID0gY3R4LmhpbnRzIHx8IHt9O1xuXG4gICAgLy8gaWdub3JlIGludGVybmFsIGxhYmVscyBmb3IgZWxlbWVudHNcbiAgICBpZiAoIWlzTGFiZWwobGFiZWwpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGlzTGFiZWwobGFiZWwpICYmIGlzRW1wdHlUZXh0KG5ld0xhYmVsKSkge1xuXG4gICAgICBpZiAoaGludHMucmVtb3ZlU2hhcGUgIT09IGZhbHNlKSB7XG4gICAgICAgIG1vZGVsaW5nLnJlbW92ZVNoYXBlKGxhYmVsLCB7IHVuc2V0TGFiZWw6IGZhbHNlIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHRleHQgPSBnZXRMYWJlbChsYWJlbCk7XG5cbiAgICAvLyByZXNpemUgZWxlbWVudCBiYXNlZCBvbiBsYWJlbCBfb3JfIHByZS1kZWZpbmVkIGJvdW5kc1xuICAgIGlmICh0eXBlb2YgbmV3Qm91bmRzID09PSAndW5kZWZpbmVkJykge1xuICAgICAgbmV3Qm91bmRzID0gdGV4dFJlbmRlcmVyLmdldEV4dGVybmFsTGFiZWxCb3VuZHMobGFiZWwsIHRleHQpO1xuICAgIH1cblxuICAgIC8vIHNldHRpbmcgbmV3Qm91bmRzIHRvIGZhbHNlIG9yIF9udWxsXyB3aWxsXG4gICAgLy8gZGlzYWJsZSB0aGUgcG9zdEV4ZWN1dGUgcmVzaXplIG9wZXJhdGlvblxuICAgIGlmIChuZXdCb3VuZHMpIHtcbiAgICAgIG1vZGVsaW5nLnJlc2l6ZVNoYXBlKGxhYmVsLCBuZXdCb3VuZHMsIE5VTExfRElNRU5TSU9OUyk7XG4gICAgfVxuICB9XG5cbiAgLy8gQVBJXG5cbiAgdGhpcy5wcmVFeGVjdXRlID0gcHJlRXhlY3V0ZTtcbiAgdGhpcy5leGVjdXRlID0gZXhlY3V0ZTtcbiAgdGhpcy5yZXZlcnQgPSByZXZlcnQ7XG4gIHRoaXMucG9zdEV4ZWN1dGUgPSBwb3N0RXhlY3V0ZTtcbn1cblxuVXBkYXRlTGFiZWxIYW5kbGVyLiRpbmplY3QgPSBbXG4gICdtb2RlbGluZycsXG4gICd0ZXh0UmVuZGVyZXInXG5dO1xuXG5cbi8vIGhlbHBlcnMgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuZnVuY3Rpb24gaXNFbXB0eVRleHQobGFiZWwpIHtcbiAgcmV0dXJuICFsYWJlbCB8fCAhbGFiZWwudHJpbSgpO1xufSIsImltcG9ydCBpbmhlcml0cyBmcm9tICdpbmhlcml0cyc7XG5cbmltcG9ydCBCYXNlTW9kZWxpbmcgZnJvbSAnZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvbW9kZWxpbmcvTW9kZWxpbmcnO1xuXG5pbXBvcnQgVXBkYXRlUHJvcGVydGllc0hhbmRsZXIgZnJvbSAnLi9jbWQvVXBkYXRlUHJvcGVydGllc0hhbmRsZXInO1xuaW1wb3J0IFVwZGF0ZUNhbnZhc1Jvb3RIYW5kbGVyIGZyb20gJy4vY21kL1VwZGF0ZUNhbnZhc1Jvb3RIYW5kbGVyJztcbmltcG9ydCBJZENsYWltSGFuZGxlciBmcm9tICcuL2NtZC9JZENsYWltSGFuZGxlcic7XG5pbXBvcnQgU2V0Q29sb3JIYW5kbGVyIGZyb20gJy4vY21kL1NldENvbG9ySGFuZGxlcic7XG5cbmltcG9ydCBVcGRhdGVMYWJlbEhhbmRsZXIgZnJvbSAnLi4vbGFiZWwtZWRpdGluZy9jbWQvVXBkYXRlTGFiZWxIYW5kbGVyJztcblxuXG4vKipcbiAqIFBvc3RpdCBtb2RlbGluZyBmZWF0dXJlcyBhY3RpdmF0b3JcbiAqXG4gKiBAcGFyYW0ge0V2ZW50QnVzfSBldmVudEJ1c1xuICogQHBhcmFtIHtFbGVtZW50RmFjdG9yeX0gZWxlbWVudEZhY3RvcnlcbiAqIEBwYXJhbSB7Q29tbWFuZFN0YWNrfSBjb21tYW5kU3RhY2tcbiAqIEBwYXJhbSB7UG9zdGl0UnVsZXN9IHBvc3RpdFJ1bGVzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIE1vZGVsaW5nKFxuICAgIGV2ZW50QnVzLCBlbGVtZW50RmFjdG9yeSwgY29tbWFuZFN0YWNrLFxuICAgIHBvc3RpdFJ1bGVzKSB7XG5cbiAgQmFzZU1vZGVsaW5nLmNhbGwodGhpcywgZXZlbnRCdXMsIGVsZW1lbnRGYWN0b3J5LCBjb21tYW5kU3RhY2spO1xuXG4gIHRoaXMuX3Bvc3RpdFJ1bGVzID0gcG9zdGl0UnVsZXM7XG59XG5cbmluaGVyaXRzKE1vZGVsaW5nLCBCYXNlTW9kZWxpbmcpO1xuXG5Nb2RlbGluZy4kaW5qZWN0ID0gW1xuICAnZXZlbnRCdXMnLFxuICAnZWxlbWVudEZhY3RvcnknLFxuICAnY29tbWFuZFN0YWNrJyxcbiAgJ3Bvc3RpdFJ1bGVzJ1xuXTtcblxuXG5Nb2RlbGluZy5wcm90b3R5cGUuZ2V0SGFuZGxlcnMgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGhhbmRsZXJzID0gQmFzZU1vZGVsaW5nLnByb3RvdHlwZS5nZXRIYW5kbGVycy5jYWxsKHRoaXMpO1xuXG4gIGhhbmRsZXJzWydlbGVtZW50LnVwZGF0ZVByb3BlcnRpZXMnXSA9IFVwZGF0ZVByb3BlcnRpZXNIYW5kbGVyO1xuICBoYW5kbGVyc1snY2FudmFzLnVwZGF0ZVJvb3QnXSA9IFVwZGF0ZUNhbnZhc1Jvb3RIYW5kbGVyO1xuICBoYW5kbGVyc1snaWQudXBkYXRlQ2xhaW0nXSA9IElkQ2xhaW1IYW5kbGVyO1xuICBoYW5kbGVyc1snZWxlbWVudC5zZXRDb2xvciddID0gU2V0Q29sb3JIYW5kbGVyO1xuICBoYW5kbGVyc1snZWxlbWVudC51cGRhdGVMYWJlbCddID0gVXBkYXRlTGFiZWxIYW5kbGVyO1xuXG4gIHJldHVybiBoYW5kbGVycztcbn07XG5cblxuTW9kZWxpbmcucHJvdG90eXBlLnVwZGF0ZUxhYmVsID0gZnVuY3Rpb24oZWxlbWVudCwgbmV3TGFiZWwsIG5ld0JvdW5kcywgaGludHMpIHtcbiAgdGhpcy5fY29tbWFuZFN0YWNrLmV4ZWN1dGUoJ2VsZW1lbnQudXBkYXRlTGFiZWwnLCB7XG4gICAgZWxlbWVudDogZWxlbWVudCxcbiAgICBuZXdMYWJlbDogbmV3TGFiZWwsXG4gICAgbmV3Qm91bmRzOiBuZXdCb3VuZHMsXG4gICAgaGludHM6IGhpbnRzIHx8IHt9XG4gIH0pO1xufTtcblxuXG5Nb2RlbGluZy5wcm90b3R5cGUudXBkYXRlUHJvcGVydGllcyA9IGZ1bmN0aW9uKGVsZW1lbnQsIHByb3BlcnRpZXMpIHtcbiAgdGhpcy5fY29tbWFuZFN0YWNrLmV4ZWN1dGUoJ2VsZW1lbnQudXBkYXRlUHJvcGVydGllcycsIHtcbiAgICBlbGVtZW50OiBlbGVtZW50LFxuICAgIHByb3BlcnRpZXM6IHByb3BlcnRpZXNcbiAgfSk7XG59O1xuXG5Nb2RlbGluZy5wcm90b3R5cGUuY2xhaW1JZCA9IGZ1bmN0aW9uKGlkLCBtb2RkbGVFbGVtZW50KSB7XG4gIHRoaXMuX2NvbW1hbmRTdGFjay5leGVjdXRlKCdpZC51cGRhdGVDbGFpbScsIHtcbiAgICBpZDogaWQsXG4gICAgZWxlbWVudDogbW9kZGxlRWxlbWVudCxcbiAgICBjbGFpbWluZzogdHJ1ZVxuICB9KTtcbn07XG5cblxuTW9kZWxpbmcucHJvdG90eXBlLnVuY2xhaW1JZCA9IGZ1bmN0aW9uKGlkLCBtb2RkbGVFbGVtZW50KSB7XG4gIHRoaXMuX2NvbW1hbmRTdGFjay5leGVjdXRlKCdpZC51cGRhdGVDbGFpbScsIHtcbiAgICBpZDogaWQsXG4gICAgZWxlbWVudDogbW9kZGxlRWxlbWVudFxuICB9KTtcbn07XG5cbk1vZGVsaW5nLnByb3RvdHlwZS5zZXRDb2xvciA9IGZ1bmN0aW9uKGVsZW1lbnRzLCBjb2xvcikge1xuICBpZiAoIWVsZW1lbnRzLmxlbmd0aCkge1xuICAgIGVsZW1lbnRzID0gWyBlbGVtZW50cyBdO1xuICB9XG5cbiAgdGhpcy5fY29tbWFuZFN0YWNrLmV4ZWN1dGUoJ2VsZW1lbnQuc2V0Q29sb3InLCB7XG4gICAgZWxlbWVudHM6IGVsZW1lbnRzLFxuICAgIGNvbG9yOiBjb2xvclxuICB9KTtcbn07XG4iLCJpbXBvcnQge1xuICBnZXRNaWRcbn0gZnJvbSAnLi9MYXlvdXRVdGlsJztcblxuXG4vKipcbiAqIEEgYmFzZSBjb25uZWN0aW9uIGxheW91dGVyIGltcGxlbWVudGF0aW9uXG4gKiB0aGF0IGxheW91dHMgdGhlIGNvbm5lY3Rpb24gYnkgZGlyZWN0bHkgY29ubmVjdGluZ1xuICogbWlkKHNvdXJjZSkgKyBtaWQodGFyZ2V0KS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQmFzZUxheW91dGVyKCkge31cblxuXG4vKipcbiAqIFJldHVybiB0aGUgbmV3IGxheW91dGVkIHdheXBvaW50cyBmb3IgdGhlIGdpdmVuIGNvbm5lY3Rpb24uXG4gKlxuICogVGhlIGNvbm5lY3Rpb24gcGFzc2VkIGlzIHN0aWxsIHVuY2hhbmdlZDsgeW91IG1heSBmaWd1cmUgb3V0IGFib3V0XG4gKiB0aGUgbmV3IGNvbm5lY3Rpb24gc3RhcnQgLyBlbmQgdmlhIHRoZSBsYXlvdXQgaGludHMgcHJvdmlkZWQuXG4gKlxuICogQHBhcmFtIHtkanMubW9kZWwuQ29ubmVjdGlvbn0gY29ubmVjdGlvblxuICogQHBhcmFtIHtPYmplY3R9IFtoaW50c11cbiAqIEBwYXJhbSB7UG9pbnR9IFtoaW50cy5jb25uZWN0aW9uU3RhcnRdXG4gKiBAcGFyYW0ge1BvaW50fSBbaGludHMuY29ubmVjdGlvbkVuZF1cbiAqIEBwYXJhbSB7UG9pbnR9IFtoaW50cy5zb3VyY2VdXG4gKiBAcGFyYW0ge1BvaW50fSBbaGludHMudGFyZ2V0XVxuICpcbiAqIEByZXR1cm4ge0FycmF5PFBvaW50Pn0gdGhlIGxheW91dGVkIGNvbm5lY3Rpb24gd2F5cG9pbnRzXG4gKi9cbkJhc2VMYXlvdXRlci5wcm90b3R5cGUubGF5b3V0Q29ubmVjdGlvbiA9IGZ1bmN0aW9uKGNvbm5lY3Rpb24sIGhpbnRzKSB7XG5cbiAgaGludHMgPSBoaW50cyB8fCB7fTtcblxuICByZXR1cm4gW1xuICAgIGhpbnRzLmNvbm5lY3Rpb25TdGFydCB8fCBnZXRNaWQoaGludHMuc291cmNlIHx8IGNvbm5lY3Rpb24uc291cmNlKSxcbiAgICBoaW50cy5jb25uZWN0aW9uRW5kIHx8IGdldE1pZChoaW50cy50YXJnZXQgfHwgY29ubmVjdGlvbi50YXJnZXQpXG4gIF07XG59O1xuIiwiaW1wb3J0IHtcbiAgYXNzaWduXG59IGZyb20gJ21pbi1kYXNoJztcblxuaW1wb3J0IHtcbiAgZ2V0RWxlbWVudExpbmVJbnRlcnNlY3Rpb25cbn0gZnJvbSAnLi9MYXlvdXRVdGlsJztcblxuXG5mdW5jdGlvbiBkb2NraW5nVG9Qb2ludChkb2NraW5nKSB7XG5cbiAgLy8gdXNlIHRoZSBkb2NraW5ncyBhY3R1YWwgcG9pbnQgYW5kXG4gIC8vIHJldGFpbiB0aGUgb3JpZ2luYWwgZG9ja2luZ1xuICByZXR1cm4gYXNzaWduKHsgb3JpZ2luYWw6IGRvY2tpbmcucG9pbnQub3JpZ2luYWwgfHwgZG9ja2luZy5wb2ludCB9LCBkb2NraW5nLmFjdHVhbCk7XG59XG5cblxuLyoqXG4gKiBBIHtAbGluayBDb25uZWN0aW9uRG9ja2luZ30gdGhhdCBjcm9wcyBjb25uZWN0aW9uIHdheXBvaW50cyBiYXNlZCBvblxuICogdGhlIHBhdGgocykgb2YgdGhlIGNvbm5lY3Rpb24gc291cmNlIGFuZCB0YXJnZXQuXG4gKlxuICogQHBhcmFtIHtkanMuY29yZS5FbGVtZW50UmVnaXN0cnl9IGVsZW1lbnRSZWdpc3RyeVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDcm9wcGluZ0Nvbm5lY3Rpb25Eb2NraW5nKGVsZW1lbnRSZWdpc3RyeSwgZ3JhcGhpY3NGYWN0b3J5KSB7XG4gIHRoaXMuX2VsZW1lbnRSZWdpc3RyeSA9IGVsZW1lbnRSZWdpc3RyeTtcbiAgdGhpcy5fZ3JhcGhpY3NGYWN0b3J5ID0gZ3JhcGhpY3NGYWN0b3J5O1xufVxuXG5Dcm9wcGluZ0Nvbm5lY3Rpb25Eb2NraW5nLiRpbmplY3QgPSBbICdlbGVtZW50UmVnaXN0cnknLCAnZ3JhcGhpY3NGYWN0b3J5JyBdO1xuXG5cbi8qKlxuICogQGluaGVyaXREb2MgQ29ubmVjdGlvbkRvY2tpbmcjZ2V0Q3JvcHBlZFdheXBvaW50c1xuICovXG5Dcm9wcGluZ0Nvbm5lY3Rpb25Eb2NraW5nLnByb3RvdHlwZS5nZXRDcm9wcGVkV2F5cG9pbnRzID0gZnVuY3Rpb24oY29ubmVjdGlvbiwgc291cmNlLCB0YXJnZXQpIHtcblxuICBzb3VyY2UgPSBzb3VyY2UgfHwgY29ubmVjdGlvbi5zb3VyY2U7XG4gIHRhcmdldCA9IHRhcmdldCB8fCBjb25uZWN0aW9uLnRhcmdldDtcblxuICB2YXIgc291cmNlRG9ja2luZyA9IHRoaXMuZ2V0RG9ja2luZ1BvaW50KGNvbm5lY3Rpb24sIHNvdXJjZSwgdHJ1ZSksXG4gICAgICB0YXJnZXREb2NraW5nID0gdGhpcy5nZXREb2NraW5nUG9pbnQoY29ubmVjdGlvbiwgdGFyZ2V0KTtcblxuICB2YXIgY3JvcHBlZFdheXBvaW50cyA9IGNvbm5lY3Rpb24ud2F5cG9pbnRzLnNsaWNlKHNvdXJjZURvY2tpbmcuaWR4ICsgMSwgdGFyZ2V0RG9ja2luZy5pZHgpO1xuXG4gIGNyb3BwZWRXYXlwb2ludHMudW5zaGlmdChkb2NraW5nVG9Qb2ludChzb3VyY2VEb2NraW5nKSk7XG4gIGNyb3BwZWRXYXlwb2ludHMucHVzaChkb2NraW5nVG9Qb2ludCh0YXJnZXREb2NraW5nKSk7XG5cbiAgcmV0dXJuIGNyb3BwZWRXYXlwb2ludHM7XG59O1xuXG4vKipcbiAqIFJldHVybiB0aGUgY29ubmVjdGlvbiBkb2NraW5nIHBvaW50IG9uIHRoZSBzcGVjaWZpZWQgc2hhcGVcbiAqXG4gKiBAaW5oZXJpdERvYyBDb25uZWN0aW9uRG9ja2luZyNnZXREb2NraW5nUG9pbnRcbiAqL1xuQ3JvcHBpbmdDb25uZWN0aW9uRG9ja2luZy5wcm90b3R5cGUuZ2V0RG9ja2luZ1BvaW50ID0gZnVuY3Rpb24oY29ubmVjdGlvbiwgc2hhcGUsIGRvY2tTdGFydCkge1xuXG4gIHZhciB3YXlwb2ludHMgPSBjb25uZWN0aW9uLndheXBvaW50cyxcbiAgICAgIGRvY2tpbmdJZHgsXG4gICAgICBkb2NraW5nUG9pbnQsXG4gICAgICBjcm9wcGVkUG9pbnQ7XG5cbiAgZG9ja2luZ0lkeCA9IGRvY2tTdGFydCA/IDAgOiB3YXlwb2ludHMubGVuZ3RoIC0gMTtcbiAgZG9ja2luZ1BvaW50ID0gd2F5cG9pbnRzW2RvY2tpbmdJZHhdO1xuXG4gIGNyb3BwZWRQb2ludCA9IHRoaXMuX2dldEludGVyc2VjdGlvbihzaGFwZSwgY29ubmVjdGlvbiwgZG9ja1N0YXJ0KTtcblxuICByZXR1cm4ge1xuICAgIHBvaW50OiBkb2NraW5nUG9pbnQsXG4gICAgYWN0dWFsOiBjcm9wcGVkUG9pbnQgfHwgZG9ja2luZ1BvaW50LFxuICAgIGlkeDogZG9ja2luZ0lkeFxuICB9O1xufTtcblxuXG4vLyBoZWxwZXJzIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuQ3JvcHBpbmdDb25uZWN0aW9uRG9ja2luZy5wcm90b3R5cGUuX2dldEludGVyc2VjdGlvbiA9IGZ1bmN0aW9uKHNoYXBlLCBjb25uZWN0aW9uLCB0YWtlRmlyc3QpIHtcblxuICB2YXIgc2hhcGVQYXRoID0gdGhpcy5fZ2V0U2hhcGVQYXRoKHNoYXBlKSxcbiAgICAgIGNvbm5lY3Rpb25QYXRoID0gdGhpcy5fZ2V0Q29ubmVjdGlvblBhdGgoY29ubmVjdGlvbik7XG5cbiAgcmV0dXJuIGdldEVsZW1lbnRMaW5lSW50ZXJzZWN0aW9uKHNoYXBlUGF0aCwgY29ubmVjdGlvblBhdGgsIHRha2VGaXJzdCk7XG59O1xuXG5Dcm9wcGluZ0Nvbm5lY3Rpb25Eb2NraW5nLnByb3RvdHlwZS5fZ2V0Q29ubmVjdGlvblBhdGggPSBmdW5jdGlvbihjb25uZWN0aW9uKSB7XG4gIHJldHVybiB0aGlzLl9ncmFwaGljc0ZhY3RvcnkuZ2V0Q29ubmVjdGlvblBhdGgoY29ubmVjdGlvbik7XG59O1xuXG5Dcm9wcGluZ0Nvbm5lY3Rpb25Eb2NraW5nLnByb3RvdHlwZS5fZ2V0U2hhcGVQYXRoID0gZnVuY3Rpb24oc2hhcGUpIHtcbiAgcmV0dXJuIHRoaXMuX2dyYXBoaWNzRmFjdG9yeS5nZXRTaGFwZVBhdGgoc2hhcGUpO1xufTtcblxuQ3JvcHBpbmdDb25uZWN0aW9uRG9ja2luZy5wcm90b3R5cGUuX2dldEdmeCA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgcmV0dXJuIHRoaXMuX2VsZW1lbnRSZWdpc3RyeS5nZXRHcmFwaGljcyhlbGVtZW50KTtcbn07XG4iLCJpbXBvcnQgQmVoYXZpb3JNb2R1bGUgZnJvbSAnLi9iZWhhdmlvcic7XG5pbXBvcnQgUnVsZXNNb2R1bGUgZnJvbSAnLi4vcnVsZXMnO1xuaW1wb3J0IERpT3JkZXJpbmdNb2R1bGUgZnJvbSAnLi4vZGktb3JkZXJpbmcnO1xuaW1wb3J0IE9yZGVyaW5nTW9kdWxlIGZyb20gJy4uL29yZGVyaW5nJztcbmltcG9ydCBSZXBsYWNlTW9kdWxlIGZyb20gJy4uL3JlcGxhY2UnO1xuXG5pbXBvcnQgQ29tbWFuZE1vZHVsZSBmcm9tICdkaWFncmFtLWpzL2xpYi9jb21tYW5kJztcbmltcG9ydCBUb29sdGlwc01vZHVsZSBmcm9tICdkaWFncmFtLWpzL2xpYi9mZWF0dXJlcy90b29sdGlwcyc7XG5pbXBvcnQgTGFiZWxTdXBwb3J0TW9kdWxlIGZyb20gJ2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2xhYmVsLXN1cHBvcnQnO1xuaW1wb3J0IEF0dGFjaFN1cHBvcnRNb2R1bGUgZnJvbSAnZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvYXR0YWNoLXN1cHBvcnQnO1xuaW1wb3J0IFNlbGVjdGlvbk1vZHVsZSBmcm9tICdkaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9zZWxlY3Rpb24nO1xuaW1wb3J0IENoYW5nZVN1cHBvcnRNb2R1bGUgZnJvbSAnZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvY2hhbmdlLXN1cHBvcnQnO1xuaW1wb3J0IFNwYWNlVG9vbE1vZHVsZSBmcm9tICdkaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9zcGFjZS10b29sJztcblxuaW1wb3J0IFBvc2l0RmFjdG9yeSBmcm9tICcuL1Bvc3RpdEZhY3RvcnknO1xuaW1wb3J0IFBvc3RpdFVwZGF0ZXIgZnJvbSAnLi9Qb3N0aXRVcGRhdGVyJztcbmltcG9ydCBFbGVtZW50RmFjdG9yeSBmcm9tICcuL0VsZW1lbnRGYWN0b3J5JztcbmltcG9ydCBNb2RlbGluZyBmcm9tICcuL01vZGVsaW5nJztcbmltcG9ydCBMYXlvdXRlciBmcm9tICdkaWFncmFtLWpzL2xpYi9sYXlvdXQvQmFzZUxheW91dGVyJztcbmltcG9ydCBDcm9wcGluZ0Nvbm5lY3Rpb25Eb2NraW5nIGZyb20gJ2RpYWdyYW0tanMvbGliL2xheW91dC9Dcm9wcGluZ0Nvbm5lY3Rpb25Eb2NraW5nJztcblxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9faW5pdF9fOiBbXG4gICAgJ21vZGVsaW5nJyxcbiAgICAncG9zdGl0VXBkYXRlcidcbiAgXSxcbiAgX19kZXBlbmRzX186IFtcbiAgICBCZWhhdmlvck1vZHVsZSxcbiAgICBSdWxlc01vZHVsZSxcbiAgICBEaU9yZGVyaW5nTW9kdWxlLFxuICAgIE9yZGVyaW5nTW9kdWxlLFxuICAgIFJlcGxhY2VNb2R1bGUsXG4gICAgQ29tbWFuZE1vZHVsZSxcbiAgICBUb29sdGlwc01vZHVsZSxcbiAgICBMYWJlbFN1cHBvcnRNb2R1bGUsXG4gICAgQXR0YWNoU3VwcG9ydE1vZHVsZSxcbiAgICBTZWxlY3Rpb25Nb2R1bGUsXG4gICAgQ2hhbmdlU3VwcG9ydE1vZHVsZSxcbiAgICBTcGFjZVRvb2xNb2R1bGVcbiAgXSxcbiAgcG9zdGl0RmFjdG9yeTogWyAndHlwZScsIFBvc2l0RmFjdG9yeSBdLFxuICBwb3N0aXRVcGRhdGVyOiBbICd0eXBlJywgUG9zdGl0VXBkYXRlciBdLFxuICBlbGVtZW50RmFjdG9yeTogWyAndHlwZScsIEVsZW1lbnRGYWN0b3J5IF0sXG4gIG1vZGVsaW5nOiBbICd0eXBlJywgTW9kZWxpbmcgXSxcbiAgbGF5b3V0ZXI6IFsgJ3R5cGUnLCBMYXlvdXRlciBdLFxuICBjb25uZWN0aW9uRG9ja2luZzogWyAndHlwZScsIENyb3BwaW5nQ29ubmVjdGlvbkRvY2tpbmcgXVxufTsiLCJpbXBvcnQge1xuICBhc3NpZ24sXG4gIGZpbHRlcixcbiAgZ3JvdXBCeSxcbiAgaXNPYmplY3Rcbn0gZnJvbSAnbWluLWRhc2gnO1xuXG52YXIgTE9XX1BSSU9SSVRZID0gNTAwLFxuICAgIE1FRElVTV9QUklPUklUWSA9IDEyNTAsXG4gICAgSElHSF9QUklPUklUWSA9IDE1MDA7XG5cbmltcG9ydCB7IGdldE9yaWdpbmFsIGFzIGdldE9yaWdpbmFsRXZlbnQgfSBmcm9tICcuLi8uLi91dGlsL0V2ZW50JztcblxuaW1wb3J0IHtcbiAgaXNQcmltYXJ5QnV0dG9uXG59IGZyb20gJy4uLy4uL3V0aWwvTW91c2UnO1xuXG52YXIgcm91bmQgPSBNYXRoLnJvdW5kO1xuXG5mdW5jdGlvbiBtaWQoZWxlbWVudCkge1xuICByZXR1cm4ge1xuICAgIHg6IGVsZW1lbnQueCArIHJvdW5kKGVsZW1lbnQud2lkdGggLyAyKSxcbiAgICB5OiBlbGVtZW50LnkgKyByb3VuZChlbGVtZW50LmhlaWdodCAvIDIpXG4gIH07XG59XG5cbi8qKlxuICogQSBwbHVnaW4gdGhhdCBtYWtlcyBzaGFwZXMgZHJhZ2dhYmxlIC8gZHJvcHBhYmxlLlxuICpcbiAqIEBwYXJhbSB7RXZlbnRCdXN9IGV2ZW50QnVzXG4gKiBAcGFyYW0ge0RyYWdnaW5nfSBkcmFnZ2luZ1xuICogQHBhcmFtIHtNb2RlbGluZ30gbW9kZWxpbmdcbiAqIEBwYXJhbSB7U2VsZWN0aW9ufSBzZWxlY3Rpb25cbiAqIEBwYXJhbSB7UnVsZXN9IHJ1bGVzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIE1vdmVFdmVudHMoXG4gICAgZXZlbnRCdXMsIGRyYWdnaW5nLCBtb2RlbGluZyxcbiAgICBzZWxlY3Rpb24sIHJ1bGVzKSB7XG5cbiAgLy8gcnVsZXNcblxuICBmdW5jdGlvbiBjYW5Nb3ZlKHNoYXBlcywgZGVsdGEsIHBvc2l0aW9uLCB0YXJnZXQpIHtcblxuICAgIHJldHVybiBydWxlcy5hbGxvd2VkKCdlbGVtZW50cy5tb3ZlJywge1xuICAgICAgc2hhcGVzOiBzaGFwZXMsXG4gICAgICBkZWx0YTogZGVsdGEsXG4gICAgICBwb3NpdGlvbjogcG9zaXRpb24sXG4gICAgICB0YXJnZXQ6IHRhcmdldFxuICAgIH0pO1xuICB9XG5cblxuICAvLyBtb3ZlIGV2ZW50c1xuXG4gIC8vIGFzc2lnbiBhIGhpZ2ggcHJpb3JpdHkgdG8gdGhpcyBoYW5kbGVyIHRvIHNldHVwIHRoZSBlbnZpcm9ubWVudFxuICAvLyBvdGhlcnMgbWF5IGhvb2sgdXAgbGF0ZXIsIGUuZy4gYXQgZGVmYXVsdCBwcmlvcml0eSBhbmQgbW9kaWZ5XG4gIC8vIHRoZSBtb3ZlIGVudmlyb25tZW50LlxuICAvL1xuICAvLyBUaGlzIHNldHMgdXAgdGhlIGNvbnRleHQgd2l0aFxuICAvL1xuICAvLyAqIHNoYXBlOiB0aGUgcHJpbWFyeSBzaGFwZSBiZWluZyBtb3ZlZFxuICAvLyAqIHNoYXBlczogYSBsaXN0IG9mIHNoYXBlcyB0byBiZSBtb3ZlZFxuICAvLyAqIHZhbGlkYXRlZFNoYXBlczogYSBsaXN0IG9mIHNoYXBlcyB0aGF0IGFyZSBiZWluZyBjaGVja2VkXG4gIC8vICAgICAgICAgICAgICAgICAgICBhZ2FpbnN0IHRoZSBydWxlcyBiZWZvcmUgYW5kIGR1cmluZyBtb3ZlXG4gIC8vXG4gIGV2ZW50QnVzLm9uKCdzaGFwZS5tb3ZlLnN0YXJ0JywgSElHSF9QUklPUklUWSwgZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgIHZhciBjb250ZXh0ID0gZXZlbnQuY29udGV4dCxcbiAgICAgICAgc2hhcGUgPSBldmVudC5zaGFwZSxcbiAgICAgICAgc2hhcGVzID0gc2VsZWN0aW9uLmdldCgpLnNsaWNlKCk7XG5cbiAgICAvLyBtb3ZlIG9ubHkgc2luZ2xlIHNoYXBlIGlmIHRoZSBkcmFnZ2VkIGVsZW1lbnRcbiAgICAvLyBpcyBub3QgcGFydCBvZiB0aGUgY3VycmVudCBzZWxlY3Rpb25cbiAgICBpZiAoc2hhcGVzLmluZGV4T2Yoc2hhcGUpID09PSAtMSkge1xuICAgICAgc2hhcGVzID0gWyBzaGFwZSBdO1xuICAgIH1cblxuICAgIC8vIGVuc3VyZSB3ZSByZW1vdmUgbmVzdGVkIGVsZW1lbnRzIGluIHRoZSBjb2xsZWN0aW9uXG4gICAgLy8gYW5kIGFkZCBhdHRhY2hlcnMgZm9yIGEgcHJvcGVyIGRyYWdnZXJcbiAgICBzaGFwZXMgPSByZW1vdmVOZXN0ZWQoc2hhcGVzKTtcblxuICAgIC8vIGF0dGFjaCBzaGFwZXMgdG8gZHJhZyBjb250ZXh0XG4gICAgYXNzaWduKGNvbnRleHQsIHtcbiAgICAgIHNoYXBlczogc2hhcGVzLFxuICAgICAgdmFsaWRhdGVkU2hhcGVzOiBzaGFwZXMsXG4gICAgICBzaGFwZTogc2hhcGVcbiAgICB9KTtcbiAgfSk7XG5cblxuICAvLyBhc3NpZ24gYSBoaWdoIHByaW9yaXR5IHRvIHRoaXMgaGFuZGxlciB0byBzZXR1cCB0aGUgZW52aXJvbm1lbnRcbiAgLy8gb3RoZXJzIG1heSBob29rIHVwIGxhdGVyLCBlLmcuIGF0IGRlZmF1bHQgcHJpb3JpdHkgYW5kIG1vZGlmeVxuICAvLyB0aGUgbW92ZSBlbnZpcm9ubWVudFxuICAvL1xuICBldmVudEJ1cy5vbignc2hhcGUubW92ZS5zdGFydCcsIE1FRElVTV9QUklPUklUWSwgZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgIHZhciBjb250ZXh0ID0gZXZlbnQuY29udGV4dCxcbiAgICAgICAgdmFsaWRhdGVkU2hhcGVzID0gY29udGV4dC52YWxpZGF0ZWRTaGFwZXMsXG4gICAgICAgIGNhbkV4ZWN1dGU7XG5cbiAgICBjYW5FeGVjdXRlID0gY29udGV4dC5jYW5FeGVjdXRlID0gY2FuTW92ZSh2YWxpZGF0ZWRTaGFwZXMpO1xuXG4gICAgLy8gY2hlY2sgaWYgd2UgY2FuIG1vdmUgdGhlIGVsZW1lbnRzXG4gICAgaWYgKCFjYW5FeGVjdXRlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9KTtcblxuICAvLyBhc3NpZ24gYSBsb3cgcHJpb3JpdHkgdG8gdGhpcyBoYW5kbGVyXG4gIC8vIHRvIGxldCBvdGhlcnMgbW9kaWZ5IHRoZSBtb3ZlIGV2ZW50IGJlZm9yZSB3ZSB1cGRhdGVcbiAgLy8gdGhlIGNvbnRleHRcbiAgLy9cbiAgZXZlbnRCdXMub24oJ3NoYXBlLm1vdmUubW92ZScsIExPV19QUklPUklUWSwgZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgIHZhciBjb250ZXh0ID0gZXZlbnQuY29udGV4dCxcbiAgICAgICAgdmFsaWRhdGVkU2hhcGVzID0gY29udGV4dC52YWxpZGF0ZWRTaGFwZXMsXG4gICAgICAgIGhvdmVyID0gZXZlbnQuaG92ZXIsXG4gICAgICAgIGRlbHRhID0geyB4OiBldmVudC5keCwgeTogZXZlbnQuZHkgfSxcbiAgICAgICAgcG9zaXRpb24gPSB7IHg6IGV2ZW50LngsIHk6IGV2ZW50LnkgfSxcbiAgICAgICAgY2FuRXhlY3V0ZTtcblxuICAgIC8vIGNoZWNrIGlmIHdlIGNhbiBtb3ZlIHRoZSBlbGVtZW50c1xuICAgIGNhbkV4ZWN1dGUgPSBjYW5Nb3ZlKHZhbGlkYXRlZFNoYXBlcywgZGVsdGEsIHBvc2l0aW9uLCBob3Zlcik7XG5cbiAgICBjb250ZXh0LmRlbHRhID0gZGVsdGE7XG4gICAgY29udGV4dC5jYW5FeGVjdXRlID0gY2FuRXhlY3V0ZTtcblxuICAgIC8vIHNpbXBseSBpZ25vcmUgbW92ZSBvdmVyXG4gICAgaWYgKGNhbkV4ZWN1dGUgPT09IG51bGwpIHtcbiAgICAgIGNvbnRleHQudGFyZ2V0ID0gbnVsbDtcblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnRleHQudGFyZ2V0ID0gaG92ZXI7XG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKCdzaGFwZS5tb3ZlLmVuZCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICB2YXIgY29udGV4dCA9IGV2ZW50LmNvbnRleHQ7XG5cbiAgICB2YXIgZGVsdGEgPSBjb250ZXh0LmRlbHRhLFxuICAgICAgICBjYW5FeGVjdXRlID0gY29udGV4dC5jYW5FeGVjdXRlLFxuICAgICAgICBpc0F0dGFjaCA9IGNhbkV4ZWN1dGUgPT09ICdhdHRhY2gnLFxuICAgICAgICBzaGFwZXMgPSBjb250ZXh0LnNoYXBlcztcblxuICAgIGlmIChjYW5FeGVjdXRlID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIGVuc3VyZSB3ZSBoYXZlIGFjdHVhbCBwaXhlbCB2YWx1ZXMgZGVsdGFzXG4gICAgLy8gKGltcG9ydGFudCB3aGVuIHpvb20gbGV2ZWwgd2FzID4gMSBkdXJpbmcgbW92ZSlcbiAgICBkZWx0YS54ID0gcm91bmQoZGVsdGEueCk7XG4gICAgZGVsdGEueSA9IHJvdW5kKGRlbHRhLnkpO1xuXG4gICAgaWYgKGRlbHRhLnggPT09IDAgJiYgZGVsdGEueSA9PT0gMCkge1xuXG4gICAgICAvLyBkaWRuJ3QgbW92ZVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIG1vZGVsaW5nLm1vdmVFbGVtZW50cyhzaGFwZXMsIGRlbHRhLCBjb250ZXh0LnRhcmdldCwge1xuICAgICAgcHJpbWFyeVNoYXBlOiBjb250ZXh0LnNoYXBlLFxuICAgICAgYXR0YWNoOiBpc0F0dGFjaFxuICAgIH0pO1xuICB9KTtcblxuXG4gIC8vIG1vdmUgYWN0aXZhdGlvblxuXG4gIGV2ZW50QnVzLm9uKCdlbGVtZW50Lm1vdXNlZG93bicsIGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICBpZiAoIWlzUHJpbWFyeUJ1dHRvbihldmVudCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgb3JpZ2luYWxFdmVudCA9IGdldE9yaWdpbmFsRXZlbnQoZXZlbnQpO1xuXG4gICAgaWYgKCFvcmlnaW5hbEV2ZW50KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ211c3Qgc3VwcGx5IERPTSBtb3VzZWRvd24gZXZlbnQnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc3RhcnQob3JpZ2luYWxFdmVudCwgZXZlbnQuZWxlbWVudCk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBTdGFydCBtb3ZlLlxuICAgKlxuICAgKiBAcGFyYW0ge01vdXNlRXZlbnR9IGV2ZW50XG4gICAqIEBwYXJhbSB7ZGpzLm1vZGVsLlNoYXBlfSBzaGFwZVxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFthY3RpdmF0ZV1cbiAgICogQHBhcmFtIHtPYmplY3R9IFtjb250ZXh0XVxuICAgKi9cbiAgZnVuY3Rpb24gc3RhcnQoZXZlbnQsIGVsZW1lbnQsIGFjdGl2YXRlLCBjb250ZXh0KSB7XG4gICAgaWYgKGlzT2JqZWN0KGFjdGl2YXRlKSkge1xuICAgICAgY29udGV4dCA9IGFjdGl2YXRlO1xuICAgICAgYWN0aXZhdGUgPSBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBkbyBub3QgbW92ZSBjb25uZWN0aW9ucyBvciB0aGUgcm9vdCBlbGVtZW50XG4gICAgaWYgKGVsZW1lbnQud2F5cG9pbnRzIHx8ICFlbGVtZW50LnBhcmVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciByZWZlcmVuY2VQb2ludCA9IG1pZChlbGVtZW50KTtcblxuICAgIGRyYWdnaW5nLmluaXQoZXZlbnQsIHJlZmVyZW5jZVBvaW50LCAnc2hhcGUubW92ZScsIHtcbiAgICAgIGN1cnNvcjogJ2dyYWJiaW5nJyxcbiAgICAgIGF1dG9BY3RpdmF0ZTogYWN0aXZhdGUsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIHNoYXBlOiBlbGVtZW50LFxuICAgICAgICBjb250ZXh0OiBjb250ZXh0IHx8IHt9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyB3ZSd2ZSBoYW5kbGVkIHRoZSBldmVudFxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLy8gQVBJXG5cbiAgdGhpcy5zdGFydCA9IHN0YXJ0O1xufVxuXG5Nb3ZlRXZlbnRzLiRpbmplY3QgPSBbXG4gICdldmVudEJ1cycsXG4gICdkcmFnZ2luZycsXG4gICdtb2RlbGluZycsXG4gICdzZWxlY3Rpb24nLFxuICAncnVsZXMnXG5dO1xuXG5cbi8qKlxuICogUmV0dXJuIGEgZmlsdGVyZWQgbGlzdCBvZiBlbGVtZW50cyB0aGF0IGRvIG5vdCBjb250YWluXG4gKiB0aG9zZSBuZXN0ZWQgaW50byBvdGhlcnMuXG4gKlxuICogQHBhcmFtICB7QXJyYXk8ZGpzLm1vZGVsLkJhc2U+fSBlbGVtZW50c1xuICpcbiAqIEByZXR1cm4ge0FycmF5PGRqcy5tb2RlbC5CYXNlPn0gZmlsdGVyZWRcbiAqL1xuZnVuY3Rpb24gcmVtb3ZlTmVzdGVkKGVsZW1lbnRzKSB7XG5cbiAgdmFyIGlkcyA9IGdyb3VwQnkoZWxlbWVudHMsICdpZCcpO1xuXG4gIHJldHVybiBmaWx0ZXIoZWxlbWVudHMsIGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICB3aGlsZSAoKGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudCkpIHtcblxuICAgICAgLy8gcGFyZW50IGluIHNlbGVjdGlvblxuICAgICAgaWYgKGlkc1tlbGVtZW50LmlkXSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH0pO1xufVxuIiwiaW1wb3J0IHtcbiAgZmxhdHRlbixcbiAgZm9yRWFjaCxcbiAgZmlsdGVyLFxuICBmaW5kLFxuICBncm91cEJ5LFxuICBtYXAsXG4gIG1hdGNoUGF0dGVybixcbiAgc2l6ZVxufSBmcm9tICdtaW4tZGFzaCc7XG5cbmltcG9ydCB7XG4gIHNlbGZBbmRBbGxDaGlsZHJlblxufSBmcm9tICcuLi8uLi91dGlsL0VsZW1lbnRzJztcblxuaW1wb3J0IHtcbiAgYXBwZW5kIGFzIHN2Z0FwcGVuZCxcbiAgYXR0ciBhcyBzdmdBdHRyLFxuICBjcmVhdGUgYXMgc3ZnQ3JlYXRlLFxuICByZW1vdmUgYXMgc3ZnUmVtb3ZlXG59IGZyb20gJ3Rpbnktc3ZnJztcblxuaW1wb3J0IHsgdHJhbnNsYXRlIH0gZnJvbSAnLi4vLi4vdXRpbC9TdmdUcmFuc2Zvcm1VdGlsJztcblxudmFyIExPV19QUklPUklUWSA9IDQ5OTtcblxudmFyIE1BUktFUl9EUkFHR0lORyA9ICdkanMtZHJhZ2dpbmcnLFxuICAgIE1BUktFUl9PSyA9ICdkcm9wLW9rJyxcbiAgICBNQVJLRVJfTk9UX09LID0gJ2Ryb3Atbm90LW9rJyxcbiAgICBNQVJLRVJfTkVXX1BBUkVOVCA9ICduZXctcGFyZW50JyxcbiAgICBNQVJLRVJfQVRUQUNIID0gJ2F0dGFjaC1vayc7XG5cblxuLyoqXG4gKiBQcm92aWRlcyBwcmV2aWV3cyBmb3IgbW92aW5nIHNoYXBlcyB3aGVuIG1vdmluZy5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50QnVzfSBldmVudEJ1c1xuICogQHBhcmFtIHtFbGVtZW50UmVnaXN0cnl9IGVsZW1lbnRSZWdpc3RyeVxuICogQHBhcmFtIHtDYW52YXN9IGNhbnZhc1xuICogQHBhcmFtIHtTdHlsZXN9IHN0eWxlc1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBNb3ZlUHJldmlldyhcbiAgICBldmVudEJ1cywgY2FudmFzLCBzdHlsZXMsIHByZXZpZXdTdXBwb3J0KSB7XG5cbiAgZnVuY3Rpb24gZ2V0VmlzdWFsRHJhZ1NoYXBlcyhzaGFwZXMpIHtcbiAgICB2YXIgZWxlbWVudHMgPSBnZXRBbGxEcmFnZ2VkRWxlbWVudHMoc2hhcGVzKTtcblxuICAgIHZhciBmaWx0ZXJlZEVsZW1lbnRzID0gcmVtb3ZlRWRnZXMoZWxlbWVudHMpO1xuXG4gICAgcmV0dXJuIGZpbHRlcmVkRWxlbWVudHM7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRBbGxEcmFnZ2VkRWxlbWVudHMoc2hhcGVzKSB7XG4gICAgdmFyIGFsbFNoYXBlcyA9IHNlbGZBbmRBbGxDaGlsZHJlbihzaGFwZXMsIHRydWUpO1xuXG4gICAgdmFyIGFsbENvbm5lY3Rpb25zID0gbWFwKGFsbFNoYXBlcywgZnVuY3Rpb24oc2hhcGUpIHtcbiAgICAgIHJldHVybiAoc2hhcGUuaW5jb21pbmcgfHwgW10pLmNvbmNhdChzaGFwZS5vdXRnb2luZyB8fCBbXSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gZmxhdHRlbihhbGxTaGFwZXMuY29uY2F0KGFsbENvbm5lY3Rpb25zKSk7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyBkcm9wIG1hcmtlciBvbiBhbiBlbGVtZW50LlxuICAgKi9cbiAgZnVuY3Rpb24gc2V0TWFya2VyKGVsZW1lbnQsIG1hcmtlcikge1xuXG4gICAgWyBNQVJLRVJfQVRUQUNILCBNQVJLRVJfT0ssIE1BUktFUl9OT1RfT0ssIE1BUktFUl9ORVdfUEFSRU5UIF0uZm9yRWFjaChmdW5jdGlvbihtKSB7XG5cbiAgICAgIGlmIChtID09PSBtYXJrZXIpIHtcbiAgICAgICAgY2FudmFzLmFkZE1hcmtlcihlbGVtZW50LCBtKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhbnZhcy5yZW1vdmVNYXJrZXIoZWxlbWVudCwgbSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogTWFrZSBhbiBlbGVtZW50IGRyYWdnYWJsZS5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHRcbiAgICogQHBhcmFtIHtkanMubW9kZWwuQmFzZX0gZWxlbWVudFxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGFkZE1hcmtlclxuICAgKi9cbiAgZnVuY3Rpb24gbWFrZURyYWdnYWJsZShjb250ZXh0LCBlbGVtZW50LCBhZGRNYXJrZXIpIHtcblxuICAgIHByZXZpZXdTdXBwb3J0LmFkZERyYWdnZXIoZWxlbWVudCwgY29udGV4dC5kcmFnR3JvdXApO1xuXG4gICAgaWYgKGFkZE1hcmtlcikge1xuICAgICAgY2FudmFzLmFkZE1hcmtlcihlbGVtZW50LCBNQVJLRVJfRFJBR0dJTkcpO1xuICAgIH1cblxuICAgIGlmIChjb250ZXh0LmFsbERyYWdnZWRFbGVtZW50cykge1xuICAgICAgY29udGV4dC5hbGxEcmFnZ2VkRWxlbWVudHMucHVzaChlbGVtZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29udGV4dC5hbGxEcmFnZ2VkRWxlbWVudHMgPSBbIGVsZW1lbnQgXTtcbiAgICB9XG4gIH1cblxuICAvLyBhc3NpZ24gYSBsb3cgcHJpb3JpdHkgdG8gdGhpcyBoYW5kbGVyXG4gIC8vIHRvIGxldCBvdGhlcnMgbW9kaWZ5IHRoZSBtb3ZlIGNvbnRleHQgYmVmb3JlXG4gIC8vIHdlIGRyYXcgdGhpbmdzXG4gIGV2ZW50QnVzLm9uKCdzaGFwZS5tb3ZlLnN0YXJ0JywgTE9XX1BSSU9SSVRZLCBmdW5jdGlvbihldmVudCkge1xuICAgIHZhciBjb250ZXh0ID0gZXZlbnQuY29udGV4dCxcbiAgICAgICAgZHJhZ1NoYXBlcyA9IGNvbnRleHQuc2hhcGVzLFxuICAgICAgICBhbGxEcmFnZ2VkRWxlbWVudHMgPSBjb250ZXh0LmFsbERyYWdnZWRFbGVtZW50cztcblxuICAgIHZhciB2aXN1YWxseURyYWdnZWRTaGFwZXMgPSBnZXRWaXN1YWxEcmFnU2hhcGVzKGRyYWdTaGFwZXMpO1xuXG4gICAgaWYgKCFjb250ZXh0LmRyYWdHcm91cCkge1xuICAgICAgdmFyIGRyYWdHcm91cCA9IHN2Z0NyZWF0ZSgnZycpO1xuXG4gICAgICBzdmdBdHRyKGRyYWdHcm91cCwgc3R5bGVzLmNscygnZGpzLWRyYWctZ3JvdXAnLCBbICduby1ldmVudHMnIF0pKTtcblxuICAgICAgdmFyIGRlZmF1bHRMYXllciA9IGNhbnZhcy5nZXREZWZhdWx0TGF5ZXIoKTtcblxuICAgICAgc3ZnQXBwZW5kKGRlZmF1bHRMYXllciwgZHJhZ0dyb3VwKTtcblxuICAgICAgY29udGV4dC5kcmFnR3JvdXAgPSBkcmFnR3JvdXA7XG4gICAgfVxuXG4gICAgLy8gYWRkIHByZXZpZXdzXG4gICAgdmlzdWFsbHlEcmFnZ2VkU2hhcGVzLmZvckVhY2goZnVuY3Rpb24oc2hhcGUpIHtcbiAgICAgIHByZXZpZXdTdXBwb3J0LmFkZERyYWdnZXIoc2hhcGUsIGNvbnRleHQuZHJhZ0dyb3VwKTtcbiAgICB9KTtcblxuICAgIC8vIGNhY2hlIGFsbCBkcmFnZ2VkIGVsZW1lbnRzIC8gZ2Z4XG4gICAgLy8gc28gdGhhdCB3ZSBjYW4gcXVpY2tseSB1bmRvIHRoZWlyIHN0YXRlIGNoYW5nZXMgbGF0ZXJcbiAgICBpZiAoIWFsbERyYWdnZWRFbGVtZW50cykge1xuICAgICAgYWxsRHJhZ2dlZEVsZW1lbnRzID0gZ2V0QWxsRHJhZ2dlZEVsZW1lbnRzKGRyYWdTaGFwZXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhbGxEcmFnZ2VkRWxlbWVudHMgPSBmbGF0dGVuKFtcbiAgICAgICAgYWxsRHJhZ2dlZEVsZW1lbnRzLFxuICAgICAgICBnZXRBbGxEcmFnZ2VkRWxlbWVudHMoZHJhZ1NoYXBlcylcbiAgICAgIF0pO1xuICAgIH1cblxuICAgIC8vIGFkZCBkcmFnZ2luZyBtYXJrZXJcbiAgICBmb3JFYWNoKGFsbERyYWdnZWRFbGVtZW50cywgZnVuY3Rpb24oZSkge1xuICAgICAgY2FudmFzLmFkZE1hcmtlcihlLCBNQVJLRVJfRFJBR0dJTkcpO1xuICAgIH0pO1xuXG4gICAgY29udGV4dC5hbGxEcmFnZ2VkRWxlbWVudHMgPSBhbGxEcmFnZ2VkRWxlbWVudHM7XG5cbiAgICAvLyBkZXRlcm1pbmUsIGlmIGFueSBvZiB0aGUgZHJhZ2dlZCBlbGVtZW50cyBoYXZlIGRpZmZlcmVudCBwYXJlbnRzXG4gICAgY29udGV4dC5kaWZmZXJlbnRQYXJlbnRzID0gaGF2ZURpZmZlcmVudFBhcmVudHMoZHJhZ1NoYXBlcyk7XG4gIH0pO1xuXG4gIC8vIHVwZGF0ZSBwcmV2aWV3c1xuICBldmVudEJ1cy5vbignc2hhcGUubW92ZS5tb3ZlJywgTE9XX1BSSU9SSVRZLCBmdW5jdGlvbihldmVudCkge1xuXG4gICAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0LFxuICAgICAgICBkcmFnR3JvdXAgPSBjb250ZXh0LmRyYWdHcm91cCxcbiAgICAgICAgdGFyZ2V0ID0gY29udGV4dC50YXJnZXQsXG4gICAgICAgIHBhcmVudCA9IGNvbnRleHQuc2hhcGUucGFyZW50LFxuICAgICAgICBjYW5FeGVjdXRlID0gY29udGV4dC5jYW5FeGVjdXRlO1xuXG4gICAgaWYgKHRhcmdldCkge1xuICAgICAgaWYgKGNhbkV4ZWN1dGUgPT09ICdhdHRhY2gnKSB7XG4gICAgICAgIHNldE1hcmtlcih0YXJnZXQsIE1BUktFUl9BVFRBQ0gpO1xuICAgICAgfSBlbHNlIGlmIChjb250ZXh0LmNhbkV4ZWN1dGUgJiYgdGFyZ2V0ICYmIHRhcmdldC5pZCAhPT0gcGFyZW50LmlkKSB7XG4gICAgICAgIHNldE1hcmtlcih0YXJnZXQsIE1BUktFUl9ORVdfUEFSRU5UKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldE1hcmtlcih0YXJnZXQsIGNvbnRleHQuY2FuRXhlY3V0ZSA/IE1BUktFUl9PSyA6IE1BUktFUl9OT1RfT0spO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRyYW5zbGF0ZShkcmFnR3JvdXAsIGV2ZW50LmR4LCBldmVudC5keSk7XG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKFsgJ3NoYXBlLm1vdmUub3V0JywgJ3NoYXBlLm1vdmUuY2xlYW51cCcgXSwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgY29udGV4dCA9IGV2ZW50LmNvbnRleHQsXG4gICAgICAgIHRhcmdldCA9IGNvbnRleHQudGFyZ2V0O1xuXG4gICAgaWYgKHRhcmdldCkge1xuICAgICAgc2V0TWFya2VyKHRhcmdldCwgbnVsbCk7XG4gICAgfVxuICB9KTtcblxuICAvLyByZW1vdmUgcHJldmlld3NcbiAgZXZlbnRCdXMub24oJ3NoYXBlLm1vdmUuY2xlYW51cCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICB2YXIgY29udGV4dCA9IGV2ZW50LmNvbnRleHQsXG4gICAgICAgIGFsbERyYWdnZWRFbGVtZW50cyA9IGNvbnRleHQuYWxsRHJhZ2dlZEVsZW1lbnRzLFxuICAgICAgICBkcmFnR3JvdXAgPSBjb250ZXh0LmRyYWdHcm91cDtcblxuXG4gICAgLy8gcmVtb3ZlIGRyYWdnaW5nIG1hcmtlclxuICAgIGZvckVhY2goYWxsRHJhZ2dlZEVsZW1lbnRzLCBmdW5jdGlvbihlKSB7XG4gICAgICBjYW52YXMucmVtb3ZlTWFya2VyKGUsIE1BUktFUl9EUkFHR0lORyk7XG4gICAgfSk7XG5cbiAgICBpZiAoZHJhZ0dyb3VwKSB7XG4gICAgICBzdmdSZW1vdmUoZHJhZ0dyb3VwKTtcbiAgICB9XG4gIH0pO1xuXG5cbiAgLy8gQVBJIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAvKipcbiAgICogTWFrZSBhbiBlbGVtZW50IGRyYWdnYWJsZS5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHRcbiAgICogQHBhcmFtIHtkanMubW9kZWwuQmFzZX0gZWxlbWVudFxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGFkZE1hcmtlclxuICAgKi9cbiAgdGhpcy5tYWtlRHJhZ2dhYmxlID0gbWFrZURyYWdnYWJsZTtcbn1cblxuTW92ZVByZXZpZXcuJGluamVjdCA9IFtcbiAgJ2V2ZW50QnVzJyxcbiAgJ2NhbnZhcycsXG4gICdzdHlsZXMnLFxuICAncHJldmlld1N1cHBvcnQnXG5dO1xuXG5cbi8vIGhlbHBlcnMgLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4vKipcbiAqIHJldHVybnMgZWxlbWVudHMgbWludXMgYWxsIGNvbm5lY3Rpb25zXG4gKiB3aGVyZSBzb3VyY2Ugb3IgdGFyZ2V0IGlzIG5vdCBlbGVtZW50c1xuICovXG5mdW5jdGlvbiByZW1vdmVFZGdlcyhlbGVtZW50cykge1xuXG4gIHZhciBmaWx0ZXJlZEVsZW1lbnRzID0gZmlsdGVyKGVsZW1lbnRzLCBmdW5jdGlvbihlbGVtZW50KSB7XG5cbiAgICBpZiAoIWlzQ29ubmVjdGlvbihlbGVtZW50KSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcblxuICAgICAgcmV0dXJuIChcbiAgICAgICAgZmluZChlbGVtZW50cywgbWF0Y2hQYXR0ZXJuKHsgaWQ6IGVsZW1lbnQuc291cmNlLmlkIH0pKSAmJlxuICAgICAgICBmaW5kKGVsZW1lbnRzLCBtYXRjaFBhdHRlcm4oeyBpZDogZWxlbWVudC50YXJnZXQuaWQgfSkpXG4gICAgICApO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIGZpbHRlcmVkRWxlbWVudHM7XG59XG5cbmZ1bmN0aW9uIGhhdmVEaWZmZXJlbnRQYXJlbnRzKGVsZW1lbnRzKSB7XG4gIHJldHVybiBzaXplKGdyb3VwQnkoZWxlbWVudHMsIGZ1bmN0aW9uKGUpIHsgcmV0dXJuIGUucGFyZW50ICYmIGUucGFyZW50LmlkOyB9KSkgIT09IDE7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGFuIGVsZW1lbnQgaXMgYSBjb25uZWN0aW9uLlxuICovXG5mdW5jdGlvbiBpc0Nvbm5lY3Rpb24oZWxlbWVudCkge1xuICByZXR1cm4gZWxlbWVudC53YXlwb2ludHM7XG59XG4iLCJpbXBvcnQgSW50ZXJhY3Rpb25FdmVudHNNb2R1bGUgZnJvbSAnLi4vaW50ZXJhY3Rpb24tZXZlbnRzJztcbmltcG9ydCBTZWxlY3Rpb25Nb2R1bGUgZnJvbSAnLi4vc2VsZWN0aW9uJztcbmltcG9ydCBPdXRsaW5lTW9kdWxlIGZyb20gJy4uL291dGxpbmUnO1xuaW1wb3J0IFJ1bGVzTW9kdWxlIGZyb20gJy4uL3J1bGVzJztcbmltcG9ydCBEcmFnZ2luZ01vZHVsZSBmcm9tICcuLi9kcmFnZ2luZyc7XG5pbXBvcnQgUHJldmlld1N1cHBvcnRNb2R1bGUgZnJvbSAnLi4vcHJldmlldy1zdXBwb3J0JztcblxuaW1wb3J0IE1vdmUgZnJvbSAnLi9Nb3ZlJztcbmltcG9ydCBNb3ZlUHJldmlldyBmcm9tICcuL01vdmVQcmV2aWV3JztcblxuZXhwb3J0IGRlZmF1bHQge1xuICBfX2RlcGVuZHNfXzogW1xuICAgIEludGVyYWN0aW9uRXZlbnRzTW9kdWxlLFxuICAgIFNlbGVjdGlvbk1vZHVsZSxcbiAgICBPdXRsaW5lTW9kdWxlLFxuICAgIFJ1bGVzTW9kdWxlLFxuICAgIERyYWdnaW5nTW9kdWxlLFxuICAgIFByZXZpZXdTdXBwb3J0TW9kdWxlXG4gIF0sXG4gIF9faW5pdF9fOiBbXG4gICAgJ21vdmUnLFxuICAgICdtb3ZlUHJldmlldydcbiAgXSxcbiAgbW92ZTogWyAndHlwZScsIE1vdmUgXSxcbiAgbW92ZVByZXZpZXc6IFsgJ3R5cGUnLCBNb3ZlUHJldmlldyBdXG59O1xuIiwiaW1wb3J0IHtcbiAgaXNBcnJheSxcbiAgaXNGdW5jdGlvbixcbiAgZm9yRWFjaFxufSBmcm9tICdtaW4tZGFzaCc7XG5cbmltcG9ydCB7XG4gIGRvbWlmeSxcbiAgcXVlcnkgYXMgZG9tUXVlcnksXG4gIGF0dHIgYXMgZG9tQXR0cixcbiAgY2xlYXIgYXMgZG9tQ2xlYXIsXG4gIGNsYXNzZXMgYXMgZG9tQ2xhc3NlcyxcbiAgbWF0Y2hlcyBhcyBkb21NYXRjaGVzLFxuICBkZWxlZ2F0ZSBhcyBkb21EZWxlZ2F0ZSxcbiAgZXZlbnQgYXMgZG9tRXZlbnRcbn0gZnJvbSAnbWluLWRvbSc7XG5cblxudmFyIFRPR0dMRV9TRUxFQ1RPUiA9ICcuZGpzLXBhbGV0dGUtdG9nZ2xlJyxcbiAgICBFTlRSWV9TRUxFQ1RPUiA9ICcuZW50cnknLFxuICAgIEVMRU1FTlRfU0VMRUNUT1IgPSBUT0dHTEVfU0VMRUNUT1IgKyAnLCAnICsgRU5UUllfU0VMRUNUT1I7XG5cbnZhciBQQUxFVFRFX09QRU5fQ0xTID0gJ29wZW4nLFxuICAgIFBBTEVUVEVfVFdPX0NPTFVNTl9DTFMgPSAndHdvLWNvbHVtbic7XG5cbnZhciBERUZBVUxUX1BSSU9SSVRZID0gMTAwMDtcblxuXG4vKipcbiAqIEEgcGFsZXR0ZSBjb250YWluaW5nIG1vZGVsaW5nIGVsZW1lbnRzLlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBQYWxldHRlKGV2ZW50QnVzLCBjYW52YXMpIHtcblxuICB0aGlzLl9ldmVudEJ1cyA9IGV2ZW50QnVzO1xuICB0aGlzLl9jYW52YXMgPSBjYW52YXM7XG5cbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIGV2ZW50QnVzLm9uKCd0b29sLW1hbmFnZXIudXBkYXRlJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgdG9vbCA9IGV2ZW50LnRvb2w7XG5cbiAgICBzZWxmLnVwZGF0ZVRvb2xIaWdobGlnaHQodG9vbCk7XG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKCdpMThuLmNoYW5nZWQnLCBmdW5jdGlvbigpIHtcbiAgICBzZWxmLl91cGRhdGUoKTtcbiAgfSk7XG5cbiAgZXZlbnRCdXMub24oJ2RpYWdyYW0uaW5pdCcsIGZ1bmN0aW9uKCkge1xuXG4gICAgc2VsZi5fZGlhZ3JhbUluaXRpYWxpemVkID0gdHJ1ZTtcblxuICAgIHNlbGYuX3JlYnVpbGQoKTtcbiAgfSk7XG59XG5cblBhbGV0dGUuJGluamVjdCA9IFsgJ2V2ZW50QnVzJywgJ2NhbnZhcycgXTtcblxuXG4vKipcbiAqIFJlZ2lzdGVyIGEgcHJvdmlkZXIgd2l0aCB0aGUgcGFsZXR0ZVxuICpcbiAqIEBwYXJhbSAge251bWJlcn0gW3ByaW9yaXR5PTEwMDBdXG4gKiBAcGFyYW0gIHtQYWxldHRlUHJvdmlkZXJ9IHByb3ZpZGVyXG4gKlxuICogQGV4YW1wbGVcbiAqIGNvbnN0IHBhbGV0dGVQcm92aWRlciA9IHtcbiAqICAgZ2V0UGFsZXR0ZUVudHJpZXM6IGZ1bmN0aW9uKCkge1xuICogICAgIHJldHVybiBmdW5jdGlvbihlbnRyaWVzKSB7XG4gKiAgICAgICByZXR1cm4ge1xuICogICAgICAgICAuLi5lbnRyaWVzLFxuICogICAgICAgICAnZW50cnktMSc6IHtcbiAqICAgICAgICAgICBsYWJlbDogJ015IEVudHJ5JyxcbiAqICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uKCkgeyBhbGVydChcIkkgaGF2ZSBiZWVuIGNsaWNrZWQhXCIpOyB9XG4gKiAgICAgICAgIH1cbiAqICAgICAgIH07XG4gKiAgICAgfVxuICogICB9XG4gKiB9O1xuICpcbiAqIHBhbGV0dGUucmVnaXN0ZXJQcm92aWRlcig4MDAsIHBhbGV0dGVQcm92aWRlcik7XG4gKi9cblBhbGV0dGUucHJvdG90eXBlLnJlZ2lzdGVyUHJvdmlkZXIgPSBmdW5jdGlvbihwcmlvcml0eSwgcHJvdmlkZXIpIHtcbiAgaWYgKCFwcm92aWRlcikge1xuICAgIHByb3ZpZGVyID0gcHJpb3JpdHk7XG4gICAgcHJpb3JpdHkgPSBERUZBVUxUX1BSSU9SSVRZO1xuICB9XG5cbiAgdGhpcy5fZXZlbnRCdXMub24oJ3BhbGV0dGUuZ2V0UHJvdmlkZXJzJywgcHJpb3JpdHksIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgZXZlbnQucHJvdmlkZXJzLnB1c2gocHJvdmlkZXIpO1xuICB9KTtcblxuICB0aGlzLl9yZWJ1aWxkKCk7XG59O1xuXG5cbi8qKlxuICogUmV0dXJucyB0aGUgcGFsZXR0ZSBlbnRyaWVzXG4gKlxuICogQHJldHVybiB7T2JqZWN0PHN0cmluZywgUGFsZXR0ZUVudHJ5RGVzY3JpcHRvcj59IG1hcCBvZiBlbnRyaWVzXG4gKi9cblBhbGV0dGUucHJvdG90eXBlLmdldEVudHJpZXMgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHByb3ZpZGVycyA9IHRoaXMuX2dldFByb3ZpZGVycygpO1xuXG4gIHJldHVybiBwcm92aWRlcnMucmVkdWNlKGFkZFBhbGV0dGVFbnRyaWVzLCB7fSk7XG59O1xuXG5QYWxldHRlLnByb3RvdHlwZS5fcmVidWlsZCA9IGZ1bmN0aW9uKCkge1xuXG4gIGlmICghdGhpcy5fZGlhZ3JhbUluaXRpYWxpemVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIHByb3ZpZGVycyA9IHRoaXMuX2dldFByb3ZpZGVycygpO1xuXG4gIGlmICghcHJvdmlkZXJzLmxlbmd0aCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmICghdGhpcy5fY29udGFpbmVyKSB7XG4gICAgdGhpcy5faW5pdCgpO1xuICB9XG5cbiAgdGhpcy5fdXBkYXRlKCk7XG59O1xuXG4vKipcbiAqIEluaXRpYWxpemVcbiAqL1xuUGFsZXR0ZS5wcm90b3R5cGUuX2luaXQgPSBmdW5jdGlvbigpIHtcblxuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgdmFyIGV2ZW50QnVzID0gdGhpcy5fZXZlbnRCdXM7XG5cbiAgdmFyIHBhcmVudENvbnRhaW5lciA9IHRoaXMuX2dldFBhcmVudENvbnRhaW5lcigpO1xuXG4gIHZhciBjb250YWluZXIgPSB0aGlzLl9jb250YWluZXIgPSBkb21pZnkoUGFsZXR0ZS5IVE1MX01BUktVUCk7XG5cbiAgcGFyZW50Q29udGFpbmVyLmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XG5cbiAgZG9tRGVsZWdhdGUuYmluZChjb250YWluZXIsIEVMRU1FTlRfU0VMRUNUT1IsICdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICB2YXIgdGFyZ2V0ID0gZXZlbnQuZGVsZWdhdGVUYXJnZXQ7XG5cbiAgICBpZiAoZG9tTWF0Y2hlcyh0YXJnZXQsIFRPR0dMRV9TRUxFQ1RPUikpIHtcbiAgICAgIHJldHVybiBzZWxmLnRvZ2dsZSgpO1xuICAgIH1cblxuICAgIHNlbGYudHJpZ2dlcignY2xpY2snLCBldmVudCk7XG4gIH0pO1xuXG4gIC8vIHByZXZlbnQgZHJhZyBwcm9wYWdhdGlvblxuICBkb21FdmVudC5iaW5kKGNvbnRhaW5lciwgJ21vdXNlZG93bicsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gIH0pO1xuXG4gIC8vIHByZXZlbnQgZHJhZyBwcm9wYWdhdGlvblxuICBkb21EZWxlZ2F0ZS5iaW5kKGNvbnRhaW5lciwgRU5UUllfU0VMRUNUT1IsICdkcmFnc3RhcnQnLCBmdW5jdGlvbihldmVudCkge1xuICAgIHNlbGYudHJpZ2dlcignZHJhZ3N0YXJ0JywgZXZlbnQpO1xuICB9KTtcblxuICBldmVudEJ1cy5vbignY2FudmFzLnJlc2l6ZWQnLCB0aGlzLl9sYXlvdXRDaGFuZ2VkLCB0aGlzKTtcblxuICBldmVudEJ1cy5maXJlKCdwYWxldHRlLmNyZWF0ZScsIHtcbiAgICBjb250YWluZXI6IGNvbnRhaW5lclxuICB9KTtcbn07XG5cblBhbGV0dGUucHJvdG90eXBlLl9nZXRQcm92aWRlcnMgPSBmdW5jdGlvbihpZCkge1xuXG4gIHZhciBldmVudCA9IHRoaXMuX2V2ZW50QnVzLmNyZWF0ZUV2ZW50KHtcbiAgICB0eXBlOiAncGFsZXR0ZS5nZXRQcm92aWRlcnMnLFxuICAgIHByb3ZpZGVyczogW11cbiAgfSk7XG5cbiAgdGhpcy5fZXZlbnRCdXMuZmlyZShldmVudCk7XG5cbiAgcmV0dXJuIGV2ZW50LnByb3ZpZGVycztcbn07XG5cbi8qKlxuICogVXBkYXRlIHBhbGV0dGUgc3RhdGUuXG4gKlxuICogQHBhcmFtICB7T2JqZWN0fSBbc3RhdGVdIHsgb3BlbiwgdHdvQ29sdW1uIH1cbiAqL1xuUGFsZXR0ZS5wcm90b3R5cGUuX3RvZ2dsZVN0YXRlID0gZnVuY3Rpb24oc3RhdGUpIHtcblxuICBzdGF0ZSA9IHN0YXRlIHx8IHt9O1xuXG4gIHZhciBwYXJlbnQgPSB0aGlzLl9nZXRQYXJlbnRDb250YWluZXIoKSxcbiAgICAgIGNvbnRhaW5lciA9IHRoaXMuX2NvbnRhaW5lcjtcblxuICB2YXIgZXZlbnRCdXMgPSB0aGlzLl9ldmVudEJ1cztcblxuICB2YXIgdHdvQ29sdW1uO1xuXG4gIHZhciBjbHMgPSBkb21DbGFzc2VzKGNvbnRhaW5lcik7XG5cbiAgaWYgKCd0d29Db2x1bW4nIGluIHN0YXRlKSB7XG4gICAgdHdvQ29sdW1uID0gc3RhdGUudHdvQ29sdW1uO1xuICB9IGVsc2Uge1xuICAgIHR3b0NvbHVtbiA9IHRoaXMuX25lZWRzQ29sbGFwc2UocGFyZW50LmNsaWVudEhlaWdodCwgdGhpcy5fZW50cmllcyB8fCB7fSk7XG4gIH1cblxuICAvLyBhbHdheXMgdXBkYXRlIHR3byBjb2x1bW5cbiAgY2xzLnRvZ2dsZShQQUxFVFRFX1RXT19DT0xVTU5fQ0xTLCB0d29Db2x1bW4pO1xuXG4gIGlmICgnb3BlbicgaW4gc3RhdGUpIHtcbiAgICBjbHMudG9nZ2xlKFBBTEVUVEVfT1BFTl9DTFMsIHN0YXRlLm9wZW4pO1xuICB9XG5cbiAgZXZlbnRCdXMuZmlyZSgncGFsZXR0ZS5jaGFuZ2VkJywge1xuICAgIHR3b0NvbHVtbjogdHdvQ29sdW1uLFxuICAgIG9wZW46IHRoaXMuaXNPcGVuKClcbiAgfSk7XG59O1xuXG5QYWxldHRlLnByb3RvdHlwZS5fdXBkYXRlID0gZnVuY3Rpb24oKSB7XG5cbiAgdmFyIGVudHJpZXNDb250YWluZXIgPSBkb21RdWVyeSgnLmRqcy1wYWxldHRlLWVudHJpZXMnLCB0aGlzLl9jb250YWluZXIpLFxuICAgICAgZW50cmllcyA9IHRoaXMuX2VudHJpZXMgPSB0aGlzLmdldEVudHJpZXMoKTtcblxuICBkb21DbGVhcihlbnRyaWVzQ29udGFpbmVyKTtcblxuICBmb3JFYWNoKGVudHJpZXMsIGZ1bmN0aW9uKGVudHJ5LCBpZCkge1xuXG4gICAgdmFyIGdyb3VwaW5nID0gZW50cnkuZ3JvdXAgfHwgJ2RlZmF1bHQnO1xuXG4gICAgdmFyIGNvbnRhaW5lciA9IGRvbVF1ZXJ5KCdbZGF0YS1ncm91cD0nICsgZ3JvdXBpbmcgKyAnXScsIGVudHJpZXNDb250YWluZXIpO1xuICAgIGlmICghY29udGFpbmVyKSB7XG4gICAgICBjb250YWluZXIgPSBkb21pZnkoJzxkaXYgY2xhc3M9XCJncm91cFwiIGRhdGEtZ3JvdXA9XCInICsgZ3JvdXBpbmcgKyAnXCI+PC9kaXY+Jyk7XG4gICAgICBlbnRyaWVzQ29udGFpbmVyLmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XG4gICAgfVxuXG4gICAgdmFyIGh0bWwgPSBlbnRyeS5odG1sIHx8IChcbiAgICAgIGVudHJ5LnNlcGFyYXRvciA/XG4gICAgICAgICc8aHIgY2xhc3M9XCJzZXBhcmF0b3JcIiAvPicgOlxuICAgICAgICAnPGRpdiBjbGFzcz1cImVudHJ5XCIgZHJhZ2dhYmxlPVwidHJ1ZVwiPjwvZGl2PicpO1xuXG5cbiAgICB2YXIgY29udHJvbCA9IGRvbWlmeShodG1sKTtcbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoY29udHJvbCk7XG5cbiAgICBpZiAoIWVudHJ5LnNlcGFyYXRvcikge1xuICAgICAgZG9tQXR0cihjb250cm9sLCAnZGF0YS1hY3Rpb24nLCBpZCk7XG5cbiAgICAgIGlmIChlbnRyeS50aXRsZSkge1xuICAgICAgICBkb21BdHRyKGNvbnRyb2wsICd0aXRsZScsIGVudHJ5LnRpdGxlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGVudHJ5LmNsYXNzTmFtZSkge1xuICAgICAgICBhZGRDbGFzc2VzKGNvbnRyb2wsIGVudHJ5LmNsYXNzTmFtZSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChlbnRyeS5pbWFnZVVybCkge1xuICAgICAgICBjb250cm9sLmFwcGVuZENoaWxkKGRvbWlmeSgnPGltZyBzcmM9XCInICsgZW50cnkuaW1hZ2VVcmwgKyAnXCI+JykpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgLy8gb3BlbiBhZnRlciB1cGRhdGVcbiAgdGhpcy5vcGVuKCk7XG59O1xuXG5cbi8qKlxuICogVHJpZ2dlciBhbiBhY3Rpb24gYXZhaWxhYmxlIG9uIHRoZSBwYWxldHRlXG4gKlxuICogQHBhcmFtICB7c3RyaW5nfSBhY3Rpb25cbiAqIEBwYXJhbSAge0V2ZW50fSBldmVudFxuICovXG5QYWxldHRlLnByb3RvdHlwZS50cmlnZ2VyID0gZnVuY3Rpb24oYWN0aW9uLCBldmVudCwgYXV0b0FjdGl2YXRlKSB7XG4gIHZhciBlbnRyaWVzID0gdGhpcy5fZW50cmllcyxcbiAgICAgIGVudHJ5LFxuICAgICAgaGFuZGxlcixcbiAgICAgIG9yaWdpbmFsRXZlbnQsXG4gICAgICBidXR0b24gPSBldmVudC5kZWxlZ2F0ZVRhcmdldCB8fCBldmVudC50YXJnZXQ7XG5cbiAgaWYgKCFidXR0b24pIHtcbiAgICByZXR1cm4gZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgfVxuXG4gIGVudHJ5ID0gZW50cmllc1tkb21BdHRyKGJ1dHRvbiwgJ2RhdGEtYWN0aW9uJyldO1xuXG4gIC8vIHdoZW4gdXNlciBjbGlja3Mgb24gdGhlIHBhbGV0dGUgYW5kIG5vdCBvbiBhbiBhY3Rpb25cbiAgaWYgKCFlbnRyeSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGhhbmRsZXIgPSBlbnRyeS5hY3Rpb247XG5cbiAgb3JpZ2luYWxFdmVudCA9IGV2ZW50Lm9yaWdpbmFsRXZlbnQgfHwgZXZlbnQ7XG5cbiAgLy8gc2ltcGxlIGFjdGlvbiAodmlhIGNhbGxiYWNrIGZ1bmN0aW9uKVxuICBpZiAoaXNGdW5jdGlvbihoYW5kbGVyKSkge1xuICAgIGlmIChhY3Rpb24gPT09ICdjbGljaycpIHtcbiAgICAgIGhhbmRsZXIob3JpZ2luYWxFdmVudCwgYXV0b0FjdGl2YXRlKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGhhbmRsZXJbYWN0aW9uXSkge1xuICAgICAgaGFuZGxlclthY3Rpb25dKG9yaWdpbmFsRXZlbnQsIGF1dG9BY3RpdmF0ZSk7XG4gICAgfVxuICB9XG5cbiAgLy8gc2lsZW5jZSBvdGhlciBhY3Rpb25zXG4gIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG59O1xuXG5QYWxldHRlLnByb3RvdHlwZS5fbGF5b3V0Q2hhbmdlZCA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLl90b2dnbGVTdGF0ZSh7fSk7XG59O1xuXG4vKipcbiAqIERvIHdlIG5lZWQgdG8gY29sbGFwc2UgdG8gdHdvIGNvbHVtbnM/XG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IGF2YWlsYWJsZUhlaWdodFxuICogQHBhcmFtIHtPYmplY3R9IGVudHJpZXNcbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5QYWxldHRlLnByb3RvdHlwZS5fbmVlZHNDb2xsYXBzZSA9IGZ1bmN0aW9uKGF2YWlsYWJsZUhlaWdodCwgZW50cmllcykge1xuXG4gIC8vIHRvcCBtYXJnaW4gKyBib3R0b20gdG9nZ2xlICsgYm90dG9tIG1hcmdpblxuICAvLyBpbXBsZW1lbnRvcnMgbXVzdCBvdmVycmlkZSB0aGlzIG1ldGhvZCBpZiB0aGV5XG4gIC8vIGNoYW5nZSB0aGUgcGFsZXR0ZSBzdHlsZXNcbiAgdmFyIG1hcmdpbiA9IDIwICsgMTAgKyAyMDtcblxuICB2YXIgZW50cmllc0hlaWdodCA9IE9iamVjdC5rZXlzKGVudHJpZXMpLmxlbmd0aCAqIDQ2O1xuXG4gIHJldHVybiBhdmFpbGFibGVIZWlnaHQgPCBlbnRyaWVzSGVpZ2h0ICsgbWFyZ2luO1xufTtcblxuLyoqXG4gKiBDbG9zZSB0aGUgcGFsZXR0ZVxuICovXG5QYWxldHRlLnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uKCkge1xuXG4gIHRoaXMuX3RvZ2dsZVN0YXRlKHtcbiAgICBvcGVuOiBmYWxzZSxcbiAgICB0d29Db2x1bW46IGZhbHNlXG4gIH0pO1xufTtcblxuXG4vKipcbiAqIE9wZW4gdGhlIHBhbGV0dGVcbiAqL1xuUGFsZXR0ZS5wcm90b3R5cGUub3BlbiA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLl90b2dnbGVTdGF0ZSh7IG9wZW46IHRydWUgfSk7XG59O1xuXG5cblBhbGV0dGUucHJvdG90eXBlLnRvZ2dsZSA9IGZ1bmN0aW9uKG9wZW4pIHtcbiAgaWYgKHRoaXMuaXNPcGVuKCkpIHtcbiAgICB0aGlzLmNsb3NlKCk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5vcGVuKCk7XG4gIH1cbn07XG5cblBhbGV0dGUucHJvdG90eXBlLmlzQWN0aXZlVG9vbCA9IGZ1bmN0aW9uKHRvb2wpIHtcbiAgcmV0dXJuIHRvb2wgJiYgdGhpcy5fYWN0aXZlVG9vbCA9PT0gdG9vbDtcbn07XG5cblBhbGV0dGUucHJvdG90eXBlLnVwZGF0ZVRvb2xIaWdobGlnaHQgPSBmdW5jdGlvbihuYW1lKSB7XG4gIHZhciBlbnRyaWVzQ29udGFpbmVyLFxuICAgICAgdG9vbHNDb250YWluZXI7XG5cbiAgaWYgKCF0aGlzLl90b29sc0NvbnRhaW5lcikge1xuICAgIGVudHJpZXNDb250YWluZXIgPSBkb21RdWVyeSgnLmRqcy1wYWxldHRlLWVudHJpZXMnLCB0aGlzLl9jb250YWluZXIpO1xuXG4gICAgdGhpcy5fdG9vbHNDb250YWluZXIgPSBkb21RdWVyeSgnW2RhdGEtZ3JvdXA9dG9vbHNdJywgZW50cmllc0NvbnRhaW5lcik7XG4gIH1cblxuICB0b29sc0NvbnRhaW5lciA9IHRoaXMuX3Rvb2xzQ29udGFpbmVyO1xuXG4gIGZvckVhY2godG9vbHNDb250YWluZXIuY2hpbGRyZW4sIGZ1bmN0aW9uKHRvb2wpIHtcbiAgICB2YXIgYWN0aW9uTmFtZSA9IHRvb2wuZ2V0QXR0cmlidXRlKCdkYXRhLWFjdGlvbicpO1xuXG4gICAgaWYgKCFhY3Rpb25OYW1lKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHRvb2xDbGFzc2VzID0gZG9tQ2xhc3Nlcyh0b29sKTtcblxuICAgIGFjdGlvbk5hbWUgPSBhY3Rpb25OYW1lLnJlcGxhY2UoJy10b29sJywgJycpO1xuXG4gICAgaWYgKHRvb2xDbGFzc2VzLmNvbnRhaW5zKCdlbnRyeScpICYmIGFjdGlvbk5hbWUgPT09IG5hbWUpIHtcbiAgICAgIHRvb2xDbGFzc2VzLmFkZCgnaGlnaGxpZ2h0ZWQtZW50cnknKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdG9vbENsYXNzZXMucmVtb3ZlKCdoaWdobGlnaHRlZC1lbnRyeScpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5cbi8qKlxuICogUmV0dXJuIHRydWUgaWYgdGhlIHBhbGV0dGUgaXMgb3BlbmVkLlxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogcGFsZXR0ZS5vcGVuKCk7XG4gKlxuICogaWYgKHBhbGV0dGUuaXNPcGVuKCkpIHtcbiAqICAgLy8geWVzLCB3ZSBhcmUgb3BlblxuICogfVxuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59IHRydWUgaWYgcGFsZXR0ZSBpcyBvcGVuZWRcbiAqL1xuUGFsZXR0ZS5wcm90b3R5cGUuaXNPcGVuID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBkb21DbGFzc2VzKHRoaXMuX2NvbnRhaW5lcikuaGFzKFBBTEVUVEVfT1BFTl9DTFMpO1xufTtcblxuLyoqXG4gKiBHZXQgY29udGFpbmVyIHRoZSBwYWxldHRlIGxpdmVzIGluLlxuICpcbiAqIEByZXR1cm4ge0VsZW1lbnR9XG4gKi9cblBhbGV0dGUucHJvdG90eXBlLl9nZXRQYXJlbnRDb250YWluZXIgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuX2NhbnZhcy5nZXRDb250YWluZXIoKTtcbn07XG5cblxuLyogbWFya3VwIGRlZmluaXRpb24gKi9cblxuUGFsZXR0ZS5IVE1MX01BUktVUCA9XG4gICc8ZGl2IGNsYXNzPVwiZGpzLXBhbGV0dGVcIj4nICtcbiAgICAnPGRpdiBjbGFzcz1cImRqcy1wYWxldHRlLWVudHJpZXNcIj48L2Rpdj4nICtcbiAgICAnPGRpdiBjbGFzcz1cImRqcy1wYWxldHRlLXRvZ2dsZVwiPjwvZGl2PicgK1xuICAnPC9kaXY+JztcblxuXG4vLyBoZWxwZXJzIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuZnVuY3Rpb24gYWRkQ2xhc3NlcyhlbGVtZW50LCBjbGFzc05hbWVzKSB7XG5cbiAgdmFyIGNsYXNzZXMgPSBkb21DbGFzc2VzKGVsZW1lbnQpO1xuXG4gIHZhciBhY3R1YWxDbGFzc05hbWVzID0gaXNBcnJheShjbGFzc05hbWVzKSA/IGNsYXNzTmFtZXMgOiBjbGFzc05hbWVzLnNwbGl0KC9cXHMrL2cpO1xuICBhY3R1YWxDbGFzc05hbWVzLmZvckVhY2goZnVuY3Rpb24oY2xzKSB7XG4gICAgY2xhc3Nlcy5hZGQoY2xzKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGFkZFBhbGV0dGVFbnRyaWVzKGVudHJpZXMsIHByb3ZpZGVyKSB7XG5cbiAgdmFyIGVudHJpZXNPclVwZGF0ZXIgPSBwcm92aWRlci5nZXRQYWxldHRlRW50cmllcygpO1xuXG4gIGlmIChpc0Z1bmN0aW9uKGVudHJpZXNPclVwZGF0ZXIpKSB7XG4gICAgcmV0dXJuIGVudHJpZXNPclVwZGF0ZXIoZW50cmllcyk7XG4gIH1cblxuICBmb3JFYWNoKGVudHJpZXNPclVwZGF0ZXIsIGZ1bmN0aW9uKGVudHJ5LCBpZCkge1xuICAgIGVudHJpZXNbaWRdID0gZW50cnk7XG4gIH0pO1xuXG4gIHJldHVybiBlbnRyaWVzO1xufSIsImltcG9ydCBQYWxldHRlIGZyb20gJy4vUGFsZXR0ZSc7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgX19pbml0X186IFsgJ3BhbGV0dGUnIF0sXG4gIHBhbGV0dGU6IFsgJ3R5cGUnLCBQYWxldHRlIF1cbn07XG4iLCJpbXBvcnQgeyB2YWx1ZXMgfSBmcm9tICdtaW4tZGFzaCc7XG5cbmltcG9ydCB7IGdldEVuY2xvc2VkRWxlbWVudHMgfSBmcm9tICcuLi8uLi91dGlsL0VsZW1lbnRzJztcblxuaW1wb3J0IHtcbiAgaGFzU2Vjb25kYXJ5TW9kaWZpZXJcbn0gZnJvbSAnLi4vLi4vdXRpbC9Nb3VzZSc7XG5cbmltcG9ydCB7XG4gIGFwcGVuZCBhcyBzdmdBcHBlbmQsXG4gIGF0dHIgYXMgc3ZnQXR0cixcbiAgY3JlYXRlIGFzIHN2Z0NyZWF0ZSxcbiAgcmVtb3ZlIGFzIHN2Z1JlbW92ZVxufSBmcm9tICd0aW55LXN2Zyc7XG5cbnZhciBMQVNTT19UT09MX0NVUlNPUiA9ICdjcm9zc2hhaXInO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIExhc3NvVG9vbChcbiAgICBldmVudEJ1cywgY2FudmFzLCBkcmFnZ2luZyxcbiAgICBlbGVtZW50UmVnaXN0cnksIHNlbGVjdGlvbiwgdG9vbE1hbmFnZXIsXG4gICAgbW91c2UpIHtcblxuICB0aGlzLl9zZWxlY3Rpb24gPSBzZWxlY3Rpb247XG4gIHRoaXMuX2RyYWdnaW5nID0gZHJhZ2dpbmc7XG4gIHRoaXMuX21vdXNlID0gbW91c2U7XG5cbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIC8vIGxhc3NvIHZpc3VhbHMgaW1wbGVtZW50YXRpb25cblxuICAvKipcbiAgKiBBIGhlbHBlciB0aGF0IHJlYWxpemVzIHRoZSBzZWxlY3Rpb24gYm94IHZpc3VhbFxuICAqL1xuICB2YXIgdmlzdWFscyA9IHtcblxuICAgIGNyZWF0ZTogZnVuY3Rpb24oY29udGV4dCkge1xuICAgICAgdmFyIGNvbnRhaW5lciA9IGNhbnZhcy5nZXREZWZhdWx0TGF5ZXIoKSxcbiAgICAgICAgICBmcmFtZTtcblxuICAgICAgZnJhbWUgPSBjb250ZXh0LmZyYW1lID0gc3ZnQ3JlYXRlKCdyZWN0Jyk7XG4gICAgICBzdmdBdHRyKGZyYW1lLCB7XG4gICAgICAgIGNsYXNzOiAnZGpzLWxhc3NvLW92ZXJsYXknLFxuICAgICAgICB3aWR0aDogIDEsXG4gICAgICAgIGhlaWdodDogMSxcbiAgICAgICAgeDogMCxcbiAgICAgICAgeTogMFxuICAgICAgfSk7XG5cbiAgICAgIHN2Z0FwcGVuZChjb250YWluZXIsIGZyYW1lKTtcbiAgICB9LFxuXG4gICAgdXBkYXRlOiBmdW5jdGlvbihjb250ZXh0KSB7XG4gICAgICB2YXIgZnJhbWUgPSBjb250ZXh0LmZyYW1lLFxuICAgICAgICAgIGJib3ggPSBjb250ZXh0LmJib3g7XG5cbiAgICAgIHN2Z0F0dHIoZnJhbWUsIHtcbiAgICAgICAgeDogYmJveC54LFxuICAgICAgICB5OiBiYm94LnksXG4gICAgICAgIHdpZHRoOiBiYm94LndpZHRoLFxuICAgICAgICBoZWlnaHQ6IGJib3guaGVpZ2h0XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgcmVtb3ZlOiBmdW5jdGlvbihjb250ZXh0KSB7XG5cbiAgICAgIGlmIChjb250ZXh0LmZyYW1lKSB7XG4gICAgICAgIHN2Z1JlbW92ZShjb250ZXh0LmZyYW1lKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgdG9vbE1hbmFnZXIucmVnaXN0ZXJUb29sKCdsYXNzbycsIHtcbiAgICB0b29sOiAnbGFzc28uc2VsZWN0aW9uJyxcbiAgICBkcmFnZ2luZzogJ2xhc3NvJ1xuICB9KTtcblxuICBldmVudEJ1cy5vbignbGFzc28uc2VsZWN0aW9uLmVuZCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIHRhcmdldCA9IGV2ZW50Lm9yaWdpbmFsRXZlbnQudGFyZ2V0O1xuXG4gICAgLy8gb25seSByZWFjdGl2ZSBvbiBkaWFncmFtIGNsaWNrXG4gICAgLy8gb24gc29tZSBvY2Nhc2lvbnMsIGV2ZW50LmhvdmVyIGlzIG5vdCBzZXQgYW5kIHdlIGhhdmUgdG8gY2hlY2sgaWYgdGhlIHRhcmdldCBpcyBhbiBzdmdcbiAgICBpZiAoIWV2ZW50LmhvdmVyICYmICEodGFyZ2V0IGluc3RhbmNlb2YgU1ZHRWxlbWVudCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBldmVudEJ1cy5vbmNlKCdsYXNzby5zZWxlY3Rpb24uZW5kZWQnLCBmdW5jdGlvbigpIHtcbiAgICAgIHNlbGYuYWN0aXZhdGVMYXNzbyhldmVudC5vcmlnaW5hbEV2ZW50LCB0cnVlKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gbGFzc28gaW50ZXJhY3Rpb24gaW1wbGVtZW50YXRpb25cblxuICBldmVudEJ1cy5vbignbGFzc28uZW5kJywgZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgIHZhciBiYm94ID0gdG9CQm94KGV2ZW50KTtcblxuICAgIHZhciBlbGVtZW50cyA9IGVsZW1lbnRSZWdpc3RyeS5maWx0ZXIoZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfSk7XG5cbiAgICBzZWxmLnNlbGVjdChlbGVtZW50cywgYmJveCk7XG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKCdsYXNzby5zdGFydCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICB2YXIgY29udGV4dCA9IGV2ZW50LmNvbnRleHQ7XG5cbiAgICBjb250ZXh0LmJib3ggPSB0b0JCb3goZXZlbnQpO1xuICAgIHZpc3VhbHMuY3JlYXRlKGNvbnRleHQpO1xuICB9KTtcblxuICBldmVudEJ1cy5vbignbGFzc28ubW92ZScsIGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICB2YXIgY29udGV4dCA9IGV2ZW50LmNvbnRleHQ7XG5cbiAgICBjb250ZXh0LmJib3ggPSB0b0JCb3goZXZlbnQpO1xuICAgIHZpc3VhbHMudXBkYXRlKGNvbnRleHQpO1xuICB9KTtcblxuICBldmVudEJ1cy5vbignbGFzc28uY2xlYW51cCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICB2YXIgY29udGV4dCA9IGV2ZW50LmNvbnRleHQ7XG5cbiAgICB2aXN1YWxzLnJlbW92ZShjb250ZXh0KTtcbiAgfSk7XG5cblxuICAvLyBldmVudCBpbnRlZ3JhdGlvblxuXG4gIGV2ZW50QnVzLm9uKCdlbGVtZW50Lm1vdXNlZG93bicsIDE1MDAsIGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICBpZiAoIWhhc1NlY29uZGFyeU1vZGlmaWVyKGV2ZW50KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHNlbGYuYWN0aXZhdGVMYXNzbyhldmVudC5vcmlnaW5hbEV2ZW50KTtcblxuICAgIC8vIHdlJ3ZlIGhhbmRsZWQgdGhlIGV2ZW50XG4gICAgcmV0dXJuIHRydWU7XG4gIH0pO1xufVxuXG5MYXNzb1Rvb2wuJGluamVjdCA9IFtcbiAgJ2V2ZW50QnVzJyxcbiAgJ2NhbnZhcycsXG4gICdkcmFnZ2luZycsXG4gICdlbGVtZW50UmVnaXN0cnknLFxuICAnc2VsZWN0aW9uJyxcbiAgJ3Rvb2xNYW5hZ2VyJyxcbiAgJ21vdXNlJ1xuXTtcblxuXG5MYXNzb1Rvb2wucHJvdG90eXBlLmFjdGl2YXRlTGFzc28gPSBmdW5jdGlvbihldmVudCwgYXV0b0FjdGl2YXRlKSB7XG5cbiAgdGhpcy5fZHJhZ2dpbmcuaW5pdChldmVudCwgJ2xhc3NvJywge1xuICAgIGF1dG9BY3RpdmF0ZTogYXV0b0FjdGl2YXRlLFxuICAgIGN1cnNvcjogTEFTU09fVE9PTF9DVVJTT1IsXG4gICAgZGF0YToge1xuICAgICAgY29udGV4dDoge31cbiAgICB9XG4gIH0pO1xufTtcblxuTGFzc29Ub29sLnByb3RvdHlwZS5hY3RpdmF0ZVNlbGVjdGlvbiA9IGZ1bmN0aW9uKGV2ZW50LCBhdXRvQWN0aXZhdGUpIHtcblxuICB0aGlzLl9kcmFnZ2luZy5pbml0KGV2ZW50LCAnbGFzc28uc2VsZWN0aW9uJywge1xuICAgIHRyYXBDbGljazogZmFsc2UsXG4gICAgYXV0b0FjdGl2YXRlOiBhdXRvQWN0aXZhdGUsXG4gICAgY3Vyc29yOiBMQVNTT19UT09MX0NVUlNPUixcbiAgICBkYXRhOiB7XG4gICAgICBjb250ZXh0OiB7fVxuICAgIH1cbiAgfSk7XG59O1xuXG5MYXNzb1Rvb2wucHJvdG90eXBlLnNlbGVjdCA9IGZ1bmN0aW9uKGVsZW1lbnRzLCBiYm94KSB7XG4gIHZhciBzZWxlY3RlZEVsZW1lbnRzID0gZ2V0RW5jbG9zZWRFbGVtZW50cyhlbGVtZW50cywgYmJveCk7XG5cbiAgdGhpcy5fc2VsZWN0aW9uLnNlbGVjdCh2YWx1ZXMoc2VsZWN0ZWRFbGVtZW50cykpO1xufTtcblxuTGFzc29Ub29sLnByb3RvdHlwZS50b2dnbGUgPSBmdW5jdGlvbigpIHtcbiAgaWYgKHRoaXMuaXNBY3RpdmUoKSkge1xuICAgIHJldHVybiB0aGlzLl9kcmFnZ2luZy5jYW5jZWwoKTtcbiAgfVxuXG4gIHZhciBtb3VzZUV2ZW50ID0gdGhpcy5fbW91c2UuZ2V0TGFzdE1vdmVFdmVudCgpO1xuXG4gIHRoaXMuYWN0aXZhdGVTZWxlY3Rpb24obW91c2VFdmVudCwgISFtb3VzZUV2ZW50KTtcbn07XG5cbkxhc3NvVG9vbC5wcm90b3R5cGUuaXNBY3RpdmUgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGNvbnRleHQgPSB0aGlzLl9kcmFnZ2luZy5jb250ZXh0KCk7XG5cbiAgcmV0dXJuIGNvbnRleHQgJiYgL15sYXNzby8udGVzdChjb250ZXh0LnByZWZpeCk7XG59O1xuXG5cblxuZnVuY3Rpb24gdG9CQm94KGV2ZW50KSB7XG5cbiAgdmFyIHN0YXJ0ID0ge1xuXG4gICAgeDogZXZlbnQueCAtIGV2ZW50LmR4LFxuICAgIHk6IGV2ZW50LnkgLSBldmVudC5keVxuICB9O1xuXG4gIHZhciBlbmQgPSB7XG4gICAgeDogZXZlbnQueCxcbiAgICB5OiBldmVudC55XG4gIH07XG5cbiAgdmFyIGJib3g7XG5cbiAgaWYgKChzdGFydC54IDw9IGVuZC54ICYmIHN0YXJ0LnkgPCBlbmQueSkgfHxcbiAgICAgIChzdGFydC54IDwgZW5kLnggJiYgc3RhcnQueSA8PSBlbmQueSkpIHtcblxuICAgIGJib3ggPSB7XG4gICAgICB4OiBzdGFydC54LFxuICAgICAgeTogc3RhcnQueSxcbiAgICAgIHdpZHRoOiAgZW5kLnggLSBzdGFydC54LFxuICAgICAgaGVpZ2h0OiBlbmQueSAtIHN0YXJ0LnlcbiAgICB9O1xuICB9IGVsc2UgaWYgKChzdGFydC54ID49IGVuZC54ICYmIHN0YXJ0LnkgPCBlbmQueSkgfHxcbiAgICAgICAgICAgICAoc3RhcnQueCA+IGVuZC54ICYmIHN0YXJ0LnkgPD0gZW5kLnkpKSB7XG5cbiAgICBiYm94ID0ge1xuICAgICAgeDogZW5kLngsXG4gICAgICB5OiBzdGFydC55LFxuICAgICAgd2lkdGg6ICBzdGFydC54IC0gZW5kLngsXG4gICAgICBoZWlnaHQ6IGVuZC55IC0gc3RhcnQueVxuICAgIH07XG4gIH0gZWxzZSBpZiAoKHN0YXJ0LnggPD0gZW5kLnggJiYgc3RhcnQueSA+IGVuZC55KSB8fFxuICAgICAgICAgICAgIChzdGFydC54IDwgZW5kLnggJiYgc3RhcnQueSA+PSBlbmQueSkpIHtcblxuICAgIGJib3ggPSB7XG4gICAgICB4OiBzdGFydC54LFxuICAgICAgeTogZW5kLnksXG4gICAgICB3aWR0aDogIGVuZC54IC0gc3RhcnQueCxcbiAgICAgIGhlaWdodDogc3RhcnQueSAtIGVuZC55XG4gICAgfTtcbiAgfSBlbHNlIGlmICgoc3RhcnQueCA+PSBlbmQueCAmJiBzdGFydC55ID4gZW5kLnkpIHx8XG4gICAgICAgICAgICAgKHN0YXJ0LnggPiBlbmQueCAmJiBzdGFydC55ID49IGVuZC55KSkge1xuXG4gICAgYmJveCA9IHtcbiAgICAgIHg6IGVuZC54LFxuICAgICAgeTogZW5kLnksXG4gICAgICB3aWR0aDogIHN0YXJ0LnggLSBlbmQueCxcbiAgICAgIGhlaWdodDogc3RhcnQueSAtIGVuZC55XG4gICAgfTtcbiAgfSBlbHNlIHtcblxuICAgIGJib3ggPSB7XG4gICAgICB4OiBlbmQueCxcbiAgICAgIHk6IGVuZC55LFxuICAgICAgd2lkdGg6ICAwLFxuICAgICAgaGVpZ2h0OiAwXG4gICAgfTtcbiAgfVxuICByZXR1cm4gYmJveDtcbn1cbiIsImltcG9ydCBUb29sTWFuYWdlck1vZHVsZSBmcm9tICcuLi90b29sLW1hbmFnZXInO1xuaW1wb3J0IE1vdXNlTW9kdWxlIGZyb20gJy4uL21vdXNlJztcblxuaW1wb3J0IExhc3NvVG9vbCBmcm9tICcuL0xhc3NvVG9vbCc7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgX19kZXBlbmRzX186IFtcbiAgICBUb29sTWFuYWdlck1vZHVsZSxcbiAgICBNb3VzZU1vZHVsZVxuICBdLFxuICBfX2luaXRfXzogWyAnbGFzc29Ub29sJyBdLFxuICBsYXNzb1Rvb2w6IFsgJ3R5cGUnLCBMYXNzb1Rvb2wgXVxufTtcbiIsImltcG9ydCB7XG4gIGhhc1ByaW1hcnlNb2RpZmllclxufSBmcm9tICcuLi8uLi91dGlsL01vdXNlJztcblxuaW1wb3J0IHsgaXNLZXkgfSBmcm9tICcuLi8uLi9mZWF0dXJlcy9rZXlib2FyZC9LZXlib2FyZFV0aWwnO1xuXG52YXIgSElHSF9QUklPUklUWSA9IDE1MDA7XG52YXIgSEFORF9DVVJTT1IgPSAnZ3JhYic7XG5cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gSGFuZFRvb2woXG4gICAgZXZlbnRCdXMsIGNhbnZhcywgZHJhZ2dpbmcsXG4gICAgaW5qZWN0b3IsIHRvb2xNYW5hZ2VyLCBtb3VzZSkge1xuXG4gIHRoaXMuX2RyYWdnaW5nID0gZHJhZ2dpbmc7XG4gIHRoaXMuX21vdXNlID0gbW91c2U7XG5cbiAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAga2V5Ym9hcmQgPSBpbmplY3Rvci5nZXQoJ2tleWJvYXJkJywgZmFsc2UpO1xuXG4gIHRvb2xNYW5hZ2VyLnJlZ2lzdGVyVG9vbCgnaGFuZCcsIHtcbiAgICB0b29sOiAnaGFuZCcsXG4gICAgZHJhZ2dpbmc6ICdoYW5kLm1vdmUnXG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKCdlbGVtZW50Lm1vdXNlZG93bicsIEhJR0hfUFJJT1JJVFksIGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICBpZiAoIWhhc1ByaW1hcnlNb2RpZmllcihldmVudCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzZWxmLmFjdGl2YXRlTW92ZShldmVudC5vcmlnaW5hbEV2ZW50LCB0cnVlKTtcblxuICAgIHJldHVybiBmYWxzZTtcbiAgfSk7XG5cbiAga2V5Ym9hcmQgJiYga2V5Ym9hcmQuYWRkTGlzdGVuZXIoSElHSF9QUklPUklUWSwgZnVuY3Rpb24oZSkge1xuICAgIGlmICghaXNTcGFjZShlLmtleUV2ZW50KSB8fCBzZWxmLmlzQWN0aXZlKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgbW91c2VFdmVudCA9IHNlbGYuX21vdXNlLmdldExhc3RNb3ZlRXZlbnQoKTtcblxuICAgIHNlbGYuYWN0aXZhdGVNb3ZlKG1vdXNlRXZlbnQsICEhbW91c2VFdmVudCk7XG4gIH0sICdrZXlib2FyZC5rZXlkb3duJyk7XG5cbiAga2V5Ym9hcmQgJiYga2V5Ym9hcmQuYWRkTGlzdGVuZXIoSElHSF9QUklPUklUWSwgZnVuY3Rpb24oZSkge1xuICAgIGlmICghaXNTcGFjZShlLmtleUV2ZW50KSB8fCAhc2VsZi5pc0FjdGl2ZSgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc2VsZi50b2dnbGUoKTtcbiAgfSwgJ2tleWJvYXJkLmtleXVwJyk7XG5cbiAgZXZlbnRCdXMub24oJ2hhbmQuZW5kJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgdGFyZ2V0ID0gZXZlbnQub3JpZ2luYWxFdmVudC50YXJnZXQ7XG5cbiAgICAvLyBvbmx5IHJlYWN0aXZlIG9uIGRpYWdyYW0gY2xpY2tcbiAgICAvLyBvbiBzb21lIG9jY2FzaW9ucywgZXZlbnQuaG92ZXIgaXMgbm90IHNldCBhbmQgd2UgaGF2ZSB0byBjaGVjayBpZiB0aGUgdGFyZ2V0IGlzIGFuIHN2Z1xuICAgIGlmICghZXZlbnQuaG92ZXIgJiYgISh0YXJnZXQgaW5zdGFuY2VvZiBTVkdFbGVtZW50KSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGV2ZW50QnVzLm9uY2UoJ2hhbmQuZW5kZWQnLCBmdW5jdGlvbigpIHtcbiAgICAgIHNlbGYuYWN0aXZhdGVNb3ZlKGV2ZW50Lm9yaWdpbmFsRXZlbnQsIHsgcmVhY3RpdmF0ZTogdHJ1ZSB9KTtcbiAgICB9KTtcblxuICB9KTtcblxuICBldmVudEJ1cy5vbignaGFuZC5tb3ZlLm1vdmUnLCBmdW5jdGlvbihldmVudCkge1xuICAgIHZhciBzY2FsZSA9IGNhbnZhcy52aWV3Ym94KCkuc2NhbGU7XG5cbiAgICBjYW52YXMuc2Nyb2xsKHtcbiAgICAgIGR4OiBldmVudC5keCAqIHNjYWxlLFxuICAgICAgZHk6IGV2ZW50LmR5ICogc2NhbGVcbiAgICB9KTtcbiAgfSk7XG5cbiAgZXZlbnRCdXMub24oJ2hhbmQubW92ZS5lbmQnLCBmdW5jdGlvbihldmVudCkge1xuICAgIHZhciBjb250ZXh0ID0gZXZlbnQuY29udGV4dCxcbiAgICAgICAgcmVhY3RpdmF0ZSA9IGNvbnRleHQucmVhY3RpdmF0ZTtcblxuICAgIC8vIERvbid0IHJlYWN0aXZhdGUgaWYgdGhlIHVzZXIgaXMgdXNpbmcgdGhlIGtleWJvYXJkIGtleWJpbmRpbmdcbiAgICBpZiAoIWhhc1ByaW1hcnlNb2RpZmllcihldmVudCkgJiYgcmVhY3RpdmF0ZSkge1xuXG4gICAgICBldmVudEJ1cy5vbmNlKCdoYW5kLm1vdmUuZW5kZWQnLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICBzZWxmLmFjdGl2YXRlSGFuZChldmVudC5vcmlnaW5hbEV2ZW50LCB0cnVlLCB0cnVlKTtcbiAgICAgIH0pO1xuXG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9KTtcblxufVxuXG5IYW5kVG9vbC4kaW5qZWN0ID0gW1xuICAnZXZlbnRCdXMnLFxuICAnY2FudmFzJyxcbiAgJ2RyYWdnaW5nJyxcbiAgJ2luamVjdG9yJyxcbiAgJ3Rvb2xNYW5hZ2VyJyxcbiAgJ21vdXNlJ1xuXTtcblxuXG5IYW5kVG9vbC5wcm90b3R5cGUuYWN0aXZhdGVNb3ZlID0gZnVuY3Rpb24oZXZlbnQsIGF1dG9BY3RpdmF0ZSwgY29udGV4dCkge1xuICBpZiAodHlwZW9mIGF1dG9BY3RpdmF0ZSA9PT0gJ29iamVjdCcpIHtcbiAgICBjb250ZXh0ID0gYXV0b0FjdGl2YXRlO1xuICAgIGF1dG9BY3RpdmF0ZSA9IGZhbHNlO1xuICB9XG5cbiAgdGhpcy5fZHJhZ2dpbmcuaW5pdChldmVudCwgJ2hhbmQubW92ZScsIHtcbiAgICBhdXRvQWN0aXZhdGU6IGF1dG9BY3RpdmF0ZSxcbiAgICBjdXJzb3I6IEhBTkRfQ1VSU09SLFxuICAgIGRhdGE6IHtcbiAgICAgIGNvbnRleHQ6IGNvbnRleHQgfHwge31cbiAgICB9XG4gIH0pO1xufTtcblxuSGFuZFRvb2wucHJvdG90eXBlLmFjdGl2YXRlSGFuZCA9IGZ1bmN0aW9uKGV2ZW50LCBhdXRvQWN0aXZhdGUsIHJlYWN0aXZhdGUpIHtcbiAgdGhpcy5fZHJhZ2dpbmcuaW5pdChldmVudCwgJ2hhbmQnLCB7XG4gICAgdHJhcENsaWNrOiBmYWxzZSxcbiAgICBhdXRvQWN0aXZhdGU6IGF1dG9BY3RpdmF0ZSxcbiAgICBjdXJzb3I6IEhBTkRfQ1VSU09SLFxuICAgIGRhdGE6IHtcbiAgICAgIGNvbnRleHQ6IHtcbiAgICAgICAgcmVhY3RpdmF0ZTogcmVhY3RpdmF0ZVxuICAgICAgfVxuICAgIH1cbiAgfSk7XG59O1xuXG5IYW5kVG9vbC5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24oKSB7XG4gIGlmICh0aGlzLmlzQWN0aXZlKCkpIHtcbiAgICByZXR1cm4gdGhpcy5fZHJhZ2dpbmcuY2FuY2VsKCk7XG4gIH1cblxuICB2YXIgbW91c2VFdmVudCA9IHRoaXMuX21vdXNlLmdldExhc3RNb3ZlRXZlbnQoKTtcblxuICB0aGlzLmFjdGl2YXRlSGFuZChtb3VzZUV2ZW50LCAhIW1vdXNlRXZlbnQpO1xufTtcblxuSGFuZFRvb2wucHJvdG90eXBlLmlzQWN0aXZlID0gZnVuY3Rpb24oKSB7XG4gIHZhciBjb250ZXh0ID0gdGhpcy5fZHJhZ2dpbmcuY29udGV4dCgpO1xuXG4gIGlmIChjb250ZXh0KSB7XG4gICAgcmV0dXJuIC9eKGhhbmR8aGFuZFxcLm1vdmUpJC8udGVzdChjb250ZXh0LnByZWZpeCk7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59O1xuXG4vLyBoZWxwZXJzIC8vLy8vLy8vLy9cblxuZnVuY3Rpb24gaXNTcGFjZShrZXlFdmVudCkge1xuICByZXR1cm4gaXNLZXkoJyAnLCBrZXlFdmVudCk7XG59IiwiaW1wb3J0IFRvb2xNYW5hZ2VyTW9kdWxlIGZyb20gJy4uL3Rvb2wtbWFuYWdlcic7XG5pbXBvcnQgTW91c2VNb2R1bGUgZnJvbSAnLi4vbW91c2UnO1xuXG5pbXBvcnQgSGFuZFRvb2wgZnJvbSAnLi9IYW5kVG9vbCc7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgX19kZXBlbmRzX186IFtcbiAgICBUb29sTWFuYWdlck1vZHVsZSxcbiAgICBNb3VzZU1vZHVsZVxuICBdLFxuICBfX2luaXRfXzogWyAnaGFuZFRvb2wnIF0sXG4gIGhhbmRUb29sOiBbICd0eXBlJywgSGFuZFRvb2wgXVxufTtcbiIsImltcG9ydCB7XG4gIGFzc2lnblxufSBmcm9tICdtaW4tZGFzaCc7XG5cbmltcG9ydCBDT0xPUlMgZnJvbSAnLi4vLi4vdXRpbC9Db2xvclV0aWwnO1xuXG5cbi8qKlxuICogQSBwYWxldHRlIHByb3ZpZGVyIGZvciBwb3N0aXQgZWxlbWVudHMuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFBhbGV0dGVQcm92aWRlcihcbiAgICBwYWxldHRlLCBjcmVhdGUsIGVsZW1lbnRGYWN0b3J5LFxuICAgIHNwYWNlVG9vbCwgbGFzc29Ub29sLCBoYW5kVG9vbCwgdHJhbnNsYXRlKSB7XG5cbiAgdGhpcy5fcGFsZXR0ZSA9IHBhbGV0dGU7XG4gIHRoaXMuX2NyZWF0ZSA9IGNyZWF0ZTtcbiAgdGhpcy5fZWxlbWVudEZhY3RvcnkgPSBlbGVtZW50RmFjdG9yeTtcbiAgdGhpcy5fc3BhY2VUb29sID0gc3BhY2VUb29sO1xuICB0aGlzLl9sYXNzb1Rvb2wgPSBsYXNzb1Rvb2w7XG4gIHRoaXMuX2hhbmRUb29sID0gaGFuZFRvb2w7XG4gIHRoaXMuX3RyYW5zbGF0ZSA9IHRyYW5zbGF0ZTtcblxuICBwYWxldHRlLnJlZ2lzdGVyUHJvdmlkZXIodGhpcyk7XG59XG5cblBhbGV0dGVQcm92aWRlci4kaW5qZWN0ID0gW1xuICAncGFsZXR0ZScsXG4gICdjcmVhdGUnLFxuICAnZWxlbWVudEZhY3RvcnknLFxuICAnc3BhY2VUb29sJyxcbiAgJ2xhc3NvVG9vbCcsXG4gICdoYW5kVG9vbCcsXG4gICd0cmFuc2xhdGUnXG5dO1xuXG5cblBhbGV0dGVQcm92aWRlci5wcm90b3R5cGUuZ2V0UGFsZXR0ZUVudHJpZXMgPSBmdW5jdGlvbihlbGVtZW50KSB7XG5cbiAgdmFyIGFjdGlvbnMgPSB7fSxcbiAgICAgIGNyZWF0ZSA9IHRoaXMuX2NyZWF0ZSxcbiAgICAgIGVsZW1lbnRGYWN0b3J5ID0gdGhpcy5fZWxlbWVudEZhY3RvcnksXG4gICAgICBzcGFjZVRvb2wgPSB0aGlzLl9zcGFjZVRvb2wsXG4gICAgICBsYXNzb1Rvb2wgPSB0aGlzLl9sYXNzb1Rvb2wsXG4gICAgICBoYW5kVG9vbCA9IHRoaXMuX2hhbmRUb29sLFxuICAgICAgdHJhbnNsYXRlID0gdGhpcy5fdHJhbnNsYXRlO1xuXG4gIGZ1bmN0aW9uIGNyZWF0ZUFjdGlvbih0eXBlLCBncm91cCwgY2xhc3NOYW1lLCB0aXRsZSwgb3B0aW9ucykge1xuXG4gICAgZnVuY3Rpb24gY3JlYXRlTGlzdGVuZXIoZXZlbnQpIHtcbiAgICAgIHZhciBzaGFwZSA9IGVsZW1lbnRGYWN0b3J5LmNyZWF0ZVNoYXBlKGFzc2lnbih7IHR5cGU6IHR5cGUgfSwgb3B0aW9ucykpO1xuICAgICAgY3JlYXRlLnN0YXJ0KGV2ZW50LCBzaGFwZSk7XG4gICAgfVxuXG4gICAgdmFyIHNob3J0VHlwZSA9IHR5cGUucmVwbGFjZSgvXnBvc3RpdDovLCAnJyk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgZ3JvdXA6IGdyb3VwLFxuICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG4gICAgICB0aXRsZTogdGl0bGUgfHwgdHJhbnNsYXRlKCdDcmVhdGUge3R5cGV9JywgeyB0eXBlOiBzaG9ydFR5cGUgfSksXG4gICAgICBhY3Rpb246IHtcbiAgICAgICAgZHJhZ3N0YXJ0OiBjcmVhdGVMaXN0ZW5lcixcbiAgICAgICAgY2xpY2s6IGNyZWF0ZUxpc3RlbmVyXG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUltYWdlKGV2ZW50KSB7XG4gICAgdmFyIHNoYXBlID0gZWxlbWVudEZhY3RvcnkuY3JlYXRlU2hhcGUoe1xuICAgICAgdHlwZTogJ3Bvc3RpdDpJbWFnZSdcbiAgICB9KTtcblxuICAgIGNyZWF0ZS5zdGFydChldmVudCwgc2hhcGUsIHtcbiAgICAgIGhpbnRzOiB7IHNlbGVjdEltYWdlOiB0cnVlIH1cbiAgICB9KTtcbiAgfVxuXG4gIGFzc2lnbihhY3Rpb25zLCB7XG4gICAgJ2hhbmQtdG9vbCc6IHtcbiAgICAgIGdyb3VwOiAndG9vbHMnLFxuICAgICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLWhhbmQtdG9vbCcsXG4gICAgICB0aXRsZTogdHJhbnNsYXRlKCdBY3RpdmF0ZSB0aGUgaGFuZCB0b29sJyksXG4gICAgICBhY3Rpb246IHtcbiAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgaGFuZFRvb2wuYWN0aXZhdGVIYW5kKGV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgJ2xhc3NvLXRvb2wnOiB7XG4gICAgICBncm91cDogJ3Rvb2xzJyxcbiAgICAgIGNsYXNzTmFtZTogJ2JwbW4taWNvbi1sYXNzby10b29sJyxcbiAgICAgIHRpdGxlOiB0cmFuc2xhdGUoJ0FjdGl2YXRlIHRoZSBsYXNzbyB0b29sJyksXG4gICAgICBhY3Rpb246IHtcbiAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgbGFzc29Ub29sLmFjdGl2YXRlU2VsZWN0aW9uKGV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgJ3NwYWNlLXRvb2wnOiB7XG4gICAgICBncm91cDogJ3Rvb2xzJyxcbiAgICAgIGNsYXNzTmFtZTogJ2JwbW4taWNvbi1zcGFjZS10b29sJyxcbiAgICAgIHRpdGxlOiB0cmFuc2xhdGUoJ0FjdGl2YXRlIHRoZSBjcmVhdGUvcmVtb3ZlIHNwYWNlIHRvb2wnKSxcbiAgICAgIGFjdGlvbjoge1xuICAgICAgICBjbGljazogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICBzcGFjZVRvb2wuYWN0aXZhdGVTZWxlY3Rpb24oZXZlbnQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICAndG9vbC1zZXBhcmF0b3InOiB7XG4gICAgICBncm91cDogJ3Rvb2xzJyxcbiAgICAgIHNlcGFyYXRvcjogdHJ1ZVxuICAgIH0sXG4gICAgJ2NyZWF0ZS5zcXVhcmUtcG9zdGl0JzogY3JlYXRlQWN0aW9uKFxuICAgICAgJ3Bvc3RpdDpTcXVhcmVQb3N0aXQnLCAncG9zdGl0cycsICdwanMtcG9zdGl0LXNxdWFyZScsXG4gICAgICB0cmFuc2xhdGUoJ0NyZWF0ZSBTcXVhcmUgUG9zdGl0JyksIHsgY29sb3I6IENPTE9SUy5ZRUxMT1cgfVxuICAgICksXG4gICAgJ2NyZWF0ZS5jaXJjbGUtcG9zdGl0JzogY3JlYXRlQWN0aW9uKFxuICAgICAgJ3Bvc3RpdDpDaXJjbGVQb3N0aXQnLCAncG9zdGl0cycsICdwanMtcG9zdGl0LWNpcmNsZScsXG4gICAgICB0cmFuc2xhdGUoJ0NyZWF0ZSBDaXJjbGUgUG9zdGl0JyksIHsgY29sb3I6IENPTE9SUy5QSU5LIH1cbiAgICApLFxuICAgICdwb3N0aXQtc2VwYXJhdG9yJzoge1xuICAgICAgZ3JvdXA6ICdwb3N0aXRzJyxcbiAgICAgIHNlcGFyYXRvcjogdHJ1ZVxuICAgIH0sXG4gICAgJ2NyZWF0ZS5pbWFnZSc6IHtcbiAgICAgIGdyb3VwOiAnYXJ0aWZhY3QnLFxuICAgICAgY2xhc3NOYW1lOiAncGpzLWltYWdlJyxcbiAgICAgIHRpdGxlOiB0cmFuc2xhdGUoJ0NyZWF0ZSBJbWFnZScpLFxuICAgICAgYWN0aW9uOiB7XG4gICAgICAgIGNsaWNrOiBjcmVhdGVJbWFnZSxcbiAgICAgICAgZHJhZ3N0YXJ0OiBjcmVhdGVJbWFnZVxuICAgICAgfVxuICAgIH0sXG4gICAgJ2NyZWF0ZS50ZXh0LWJveCc6IGNyZWF0ZUFjdGlvbihcbiAgICAgICdwb3N0aXQ6VGV4dEJveCcsICdhcnRpZmFjdCcsICdwanMtdGV4dC1ib3gnLFxuICAgICAgdHJhbnNsYXRlKCdDcmVhdGUgVGV4dCcpXG4gICAgKSxcbiAgICAnY3JlYXRlLmdyb3VwJzogY3JlYXRlQWN0aW9uKFxuICAgICAgJ3Bvc3RpdDpHcm91cCcsICdhcnRpZmFjdCcsICdwanMtZ3JvdXAnLFxuICAgICAgdHJhbnNsYXRlKCdDcmVhdGUgR3JvdXAnKVxuICAgIClcbiAgfSk7XG5cbiAgcmV0dXJuIGFjdGlvbnM7XG59O1xuIiwiaW1wb3J0IFBhbGV0dGVNb2R1bGUgZnJvbSAnZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvcGFsZXR0ZSc7XG5pbXBvcnQgQ3JlYXRlTW9kdWxlIGZyb20gJ2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2NyZWF0ZSc7XG5pbXBvcnQgU3BhY2VUb29sTW9kdWxlIGZyb20gJ2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL3NwYWNlLXRvb2wnO1xuaW1wb3J0IExhc3NvVG9vbE1vZHVsZSBmcm9tICdkaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9sYXNzby10b29sJztcbmltcG9ydCBIYW5kVG9vbE1vZHVsZSBmcm9tICdkaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9oYW5kLXRvb2wnO1xuaW1wb3J0IHRyYW5zbGF0ZSBmcm9tICdkaWFncmFtLWpzL2xpYi9pMThuL3RyYW5zbGF0ZSc7XG5cbmltcG9ydCBQYWxldHRlUHJvdmlkZXIgZnJvbSAnLi9QYWxldHRlUHJvdmlkZXInO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9fZGVwZW5kc19fOiBbXG4gICAgUGFsZXR0ZU1vZHVsZSxcbiAgICBDcmVhdGVNb2R1bGUsXG4gICAgU3BhY2VUb29sTW9kdWxlLFxuICAgIExhc3NvVG9vbE1vZHVsZSxcbiAgICBIYW5kVG9vbE1vZHVsZSxcbiAgICB0cmFuc2xhdGVcbiAgXSxcbiAgX19pbml0X186IFsgJ3BhbGV0dGVQcm92aWRlcicgXSxcbiAgcGFsZXR0ZVByb3ZpZGVyOiBbICd0eXBlJywgUGFsZXR0ZVByb3ZpZGVyIF1cbn07XG4iLCJpbXBvcnQgQ29tbWFuZEludGVyY2VwdG9yIGZyb20gJ2RpYWdyYW0tanMvbGliL2NvbW1hbmQvQ29tbWFuZEludGVyY2VwdG9yJztcblxuaW1wb3J0IGluaGVyaXRzIGZyb20gJ2luaGVyaXRzJztcblxuaW1wb3J0IGNzc0VzY2FwZSBmcm9tICdjc3MuZXNjYXBlJztcblxuaW1wb3J0IHtcbiAgYXNzaWduLFxuICBmb3JFYWNoXG59IGZyb20gJ21pbi1kYXNoJztcblxuaW1wb3J0IHtcbiAgcXVlcnkgYXMgZG9tUXVlcnlcbn0gZnJvbSAnbWluLWRvbSc7XG5cbmltcG9ydCB7XG4gIGF0dHIgYXMgc3ZnQXR0clxufSBmcm9tICd0aW55LXN2Zyc7XG5cbnZhciBMT1dfUFJJT1JJVFkgPSAyNTA7XG5cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUG9zdGl0UmVwbGFjZVByZXZpZXcoXG4gICAgZXZlbnRCdXMsIGVsZW1lbnRSZWdpc3RyeSwgZWxlbWVudEZhY3RvcnksXG4gICAgY2FudmFzLCBwcmV2aWV3U3VwcG9ydCkge1xuXG4gIENvbW1hbmRJbnRlcmNlcHRvci5jYWxsKHRoaXMsIGV2ZW50QnVzKTtcblxuICAvKipcbiAgICogUmVwbGFjZSB0aGUgdmlzdWFscyBvZiBhbGwgZWxlbWVudHMgaW4gdGhlIGNvbnRleHQgd2hpY2ggY2FuIGJlIHJlcGxhY2VkXG4gICAqXG4gICAqIEBwYXJhbSAge09iamVjdH0gY29udGV4dFxuICAgKi9cbiAgZnVuY3Rpb24gcmVwbGFjZVZpc3VhbChjb250ZXh0KSB7XG5cbiAgICB2YXIgcmVwbGFjZW1lbnRzID0gY29udGV4dC5jYW5FeGVjdXRlLnJlcGxhY2VtZW50cztcblxuICAgIGZvckVhY2gocmVwbGFjZW1lbnRzLCBmdW5jdGlvbihyZXBsYWNlbWVudCkge1xuXG4gICAgICB2YXIgaWQgPSByZXBsYWNlbWVudC5vbGRFbGVtZW50SWQ7XG5cbiAgICAgIHZhciBuZXdFbGVtZW50ID0ge1xuICAgICAgICB0eXBlOiByZXBsYWNlbWVudC5uZXdFbGVtZW50VHlwZVxuICAgICAgfTtcblxuICAgICAgLy8gaWYgdGhlIHZpc3VhbCBvZiB0aGUgZWxlbWVudCBpcyBhbHJlYWR5IHJlcGxhY2VkXG4gICAgICBpZiAoY29udGV4dC52aXN1YWxSZXBsYWNlbWVudHNbaWRdKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIGVsZW1lbnQgPSBlbGVtZW50UmVnaXN0cnkuZ2V0KGlkKTtcblxuICAgICAgYXNzaWduKG5ld0VsZW1lbnQsIHsgeDogZWxlbWVudC54LCB5OiBlbGVtZW50LnkgfSk7XG5cbiAgICAgIC8vIGNyZWF0ZSBhIHRlbXBvcmFyeSBzaGFwZVxuICAgICAgdmFyIHRlbXBTaGFwZSA9IGVsZW1lbnRGYWN0b3J5LmNyZWF0ZVNoYXBlKG5ld0VsZW1lbnQpO1xuXG4gICAgICBjYW52YXMuYWRkU2hhcGUodGVtcFNoYXBlLCBlbGVtZW50LnBhcmVudCk7XG5cbiAgICAgIC8vIHNlbGVjdCB0aGUgb3JpZ2luYWwgU1ZHIGVsZW1lbnQgcmVsYXRlZCB0byB0aGUgZWxlbWVudCBhbmQgaGlkZSBpdFxuICAgICAgdmFyIGdmeCA9IGRvbVF1ZXJ5KCdbZGF0YS1lbGVtZW50LWlkPVwiJyArIGNzc0VzY2FwZShlbGVtZW50LmlkKSArICdcIl0nLCBjb250ZXh0LmRyYWdHcm91cCk7XG5cbiAgICAgIGlmIChnZngpIHtcbiAgICAgICAgc3ZnQXR0cihnZngsIHsgZGlzcGxheTogJ25vbmUnIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyBjbG9uZSB0aGUgZ2Z4IG9mIHRoZSB0ZW1wb3Jhcnkgc2hhcGUgYW5kIGFkZCBpdCB0byB0aGUgZHJhZyBncm91cFxuICAgICAgdmFyIGRyYWdnZXIgPSBwcmV2aWV3U3VwcG9ydC5hZGREcmFnZ2VyKHRlbXBTaGFwZSwgY29udGV4dC5kcmFnR3JvdXApO1xuXG4gICAgICBjb250ZXh0LnZpc3VhbFJlcGxhY2VtZW50c1tpZF0gPSBkcmFnZ2VyO1xuXG4gICAgICBjYW52YXMucmVtb3ZlU2hhcGUodGVtcFNoYXBlKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXN0b3JlIHRoZSBvcmlnaW5hbCB2aXN1YWxzIG9mIHRoZSBwcmV2aW91c2x5IHJlcGxhY2VkIGVsZW1lbnRzXG4gICAqXG4gICAqIEBwYXJhbSAge09iamVjdH0gY29udGV4dFxuICAgKi9cbiAgZnVuY3Rpb24gcmVzdG9yZVZpc3VhbChjb250ZXh0KSB7XG5cbiAgICB2YXIgdmlzdWFsUmVwbGFjZW1lbnRzID0gY29udGV4dC52aXN1YWxSZXBsYWNlbWVudHM7XG5cbiAgICBmb3JFYWNoKHZpc3VhbFJlcGxhY2VtZW50cywgZnVuY3Rpb24oZHJhZ2dlciwgaWQpIHtcblxuICAgICAgdmFyIG9yaWdpbmFsR2Z4ID0gZG9tUXVlcnkoJ1tkYXRhLWVsZW1lbnQtaWQ9XCInICsgY3NzRXNjYXBlKGlkKSArICdcIl0nLCBjb250ZXh0LmRyYWdHcm91cCk7XG5cbiAgICAgIGlmIChvcmlnaW5hbEdmeCkge1xuICAgICAgICBzdmdBdHRyKG9yaWdpbmFsR2Z4LCB7IGRpc3BsYXk6ICdpbmxpbmUnIH0pO1xuICAgICAgfVxuXG4gICAgICBkcmFnZ2VyLnJlbW92ZSgpO1xuXG4gICAgICBpZiAodmlzdWFsUmVwbGFjZW1lbnRzW2lkXSkge1xuICAgICAgICBkZWxldGUgdmlzdWFsUmVwbGFjZW1lbnRzW2lkXTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGV2ZW50QnVzLm9uKCdzaGFwZS5tb3ZlLm1vdmUnLCBMT1dfUFJJT1JJVFksIGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICB2YXIgY29udGV4dCA9IGV2ZW50LmNvbnRleHQsXG4gICAgICAgIGNhbkV4ZWN1dGUgPSBjb250ZXh0LmNhbkV4ZWN1dGU7XG5cbiAgICBpZiAoIWNvbnRleHQudmlzdWFsUmVwbGFjZW1lbnRzKSB7XG4gICAgICBjb250ZXh0LnZpc3VhbFJlcGxhY2VtZW50cyA9IHt9O1xuICAgIH1cblxuICAgIGlmIChjYW5FeGVjdXRlICYmIGNhbkV4ZWN1dGUucmVwbGFjZW1lbnRzKSB7XG4gICAgICByZXBsYWNlVmlzdWFsKGNvbnRleHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN0b3JlVmlzdWFsKGNvbnRleHQpO1xuICAgIH1cbiAgfSk7XG59XG5cblBvc3RpdFJlcGxhY2VQcmV2aWV3LiRpbmplY3QgPSBbXG4gICdldmVudEJ1cycsXG4gICdlbGVtZW50UmVnaXN0cnknLFxuICAnZWxlbWVudEZhY3RvcnknLFxuICAnY2FudmFzJyxcbiAgJ3ByZXZpZXdTdXBwb3J0J1xuXTtcblxuaW5oZXJpdHMoUG9zdGl0UmVwbGFjZVByZXZpZXcsIENvbW1hbmRJbnRlcmNlcHRvcik7IiwiaW1wb3J0IFByZXZpZXdTdXBwb3J0TW9kdWxlIGZyb20gJ2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL3ByZXZpZXctc3VwcG9ydCc7XG5cbmltcG9ydCBQb3N0aXRSZXBsYWNlUHJldmlldyBmcm9tICcuL1Bvc3RpdFJlcGxhY2VQcmV2aWV3JztcblxuZXhwb3J0IGRlZmF1bHQge1xuICBfX2RlcGVuZHNfXzogW1xuICAgIFByZXZpZXdTdXBwb3J0TW9kdWxlXG4gIF0sXG4gIF9faW5pdF9fOiBbICdwb3N0aXRSZXBsYWNlUHJldmlldycgXSxcbiAgcG9zdGl0UmVwbGFjZVByZXZpZXc6IFsgJ3R5cGUnLCBQb3N0aXRSZXBsYWNlUHJldmlldyBdXG59O1xuIiwiaW1wb3J0IHtcbiAgZm9yRWFjaFxufSBmcm9tICdtaW4tZGFzaCc7XG5cbmltcG9ydCB7XG4gIHNuYXBUb1xufSBmcm9tICcuL1NuYXBVdGlsJztcblxuXG4vKipcbiAqIEEgc25hcCBjb250ZXh0LCBjb250YWluaW5nIHRoZSAocG9zc2libHkgaW5jb21wbGV0ZSlcbiAqIG1hcHBpbmdzIG9mIGRyb3AgdGFyZ2V0cyAodG8gaWRlbnRpZnkgdGhlIHNuYXBwaW5nKVxuICogdG8gY29tcHV0ZWQgc25hcCBwb2ludHMuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFNuYXBDb250ZXh0KCkge1xuXG4gIC8qKlxuICAgKiBNYXA8U3RyaW5nLCBTbmFwUG9pbnRzPiBtYXBwaW5nIGRyb3AgdGFyZ2V0cyB0b1xuICAgKiBhIGxpc3Qgb2YgcG9zc2libGUgc25hcHBpbmdzLlxuICAgKlxuICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgKi9cbiAgdGhpcy5fdGFyZ2V0cyA9IHt9O1xuXG4gIC8qKlxuICAgKiBNYXA8U3RyaW5nLCBQb2ludD4gaW5pdGlhbCBwb3NpdGlvbmluZyBvZiBlbGVtZW50XG4gICAqIHJlZ2FyZGluZyB2YXJpb3VzIHNuYXAgZGlyZWN0aW9ucy5cbiAgICpcbiAgICogQHR5cGUge09iamVjdH1cbiAgICovXG4gIHRoaXMuX3NuYXBPcmlnaW5zID0ge307XG5cbiAgLyoqXG4gICAqIExpc3Qgb2Ygc25hcCBsb2NhdGlvbnNcbiAgICpcbiAgICogQHR5cGUge0FycmF5PHN0cmluZz59XG4gICAqL1xuICB0aGlzLl9zbmFwTG9jYXRpb25zID0gW107XG5cbiAgLyoqXG4gICAqIE1hcDxTdHJpbmcsIEFycmF5PFBvaW50Pj4gb2YgZGVmYXVsdCBzbmFwcGluZyBsb2NhdGlvbnNcbiAgICpcbiAgICogQHR5cGUge09iamVjdH1cbiAgICovXG4gIHRoaXMuX2RlZmF1bHRTbmFwcyA9IHt9O1xufVxuXG5cblNuYXBDb250ZXh0LnByb3RvdHlwZS5nZXRTbmFwT3JpZ2luID0gZnVuY3Rpb24oc25hcExvY2F0aW9uKSB7XG4gIHJldHVybiB0aGlzLl9zbmFwT3JpZ2luc1tzbmFwTG9jYXRpb25dO1xufTtcblxuXG5TbmFwQ29udGV4dC5wcm90b3R5cGUuc2V0U25hcE9yaWdpbiA9IGZ1bmN0aW9uKHNuYXBMb2NhdGlvbiwgaW5pdGlhbFZhbHVlKSB7XG4gIHRoaXMuX3NuYXBPcmlnaW5zW3NuYXBMb2NhdGlvbl0gPSBpbml0aWFsVmFsdWU7XG5cbiAgaWYgKHRoaXMuX3NuYXBMb2NhdGlvbnMuaW5kZXhPZihzbmFwTG9jYXRpb24pID09PSAtMSkge1xuICAgIHRoaXMuX3NuYXBMb2NhdGlvbnMucHVzaChzbmFwTG9jYXRpb24pO1xuICB9XG59O1xuXG5cblNuYXBDb250ZXh0LnByb3RvdHlwZS5hZGREZWZhdWx0U25hcCA9IGZ1bmN0aW9uKHR5cGUsIHBvaW50KSB7XG5cbiAgdmFyIHNuYXBWYWx1ZXMgPSB0aGlzLl9kZWZhdWx0U25hcHNbdHlwZV07XG5cbiAgaWYgKCFzbmFwVmFsdWVzKSB7XG4gICAgc25hcFZhbHVlcyA9IHRoaXMuX2RlZmF1bHRTbmFwc1t0eXBlXSA9IFtdO1xuICB9XG5cbiAgc25hcFZhbHVlcy5wdXNoKHBvaW50KTtcbn07XG5cbi8qKlxuICogUmV0dXJuIGEgbnVtYmVyIG9mIGluaXRpYWxpemVkIHNuYXBzLCBpLmUuIHNuYXAgbG9jYXRpb25zIHN1Y2ggYXNcbiAqIHRvcC1sZWZ0LCBtaWQsIGJvdHRvbS1yaWdodCBhbmQgc28gZm9ydGguXG4gKlxuICogQHJldHVybiB7QXJyYXk8c3RyaW5nPn0gc25hcExvY2F0aW9uc1xuICovXG5TbmFwQ29udGV4dC5wcm90b3R5cGUuZ2V0U25hcExvY2F0aW9ucyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5fc25hcExvY2F0aW9ucztcbn07XG5cbi8qKlxuICogU2V0IHRoZSBzbmFwIGxvY2F0aW9ucyBmb3IgdGhpcyBjb250ZXh0LlxuICpcbiAqIFRoZSBvcmRlciBvZiBsb2NhdGlvbnMgZGV0ZXJtaW5lcyBwcmVjZWRlbmNlLlxuICpcbiAqIEBwYXJhbSB7QXJyYXk8c3RyaW5nPn0gc25hcExvY2F0aW9uc1xuICovXG5TbmFwQ29udGV4dC5wcm90b3R5cGUuc2V0U25hcExvY2F0aW9ucyA9IGZ1bmN0aW9uKHNuYXBMb2NhdGlvbnMpIHtcbiAgdGhpcy5fc25hcExvY2F0aW9ucyA9IHNuYXBMb2NhdGlvbnM7XG59O1xuXG4vKipcbiAqIEdldCBzbmFwIHBvaW50cyBmb3IgYSBnaXZlbiB0YXJnZXRcbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR8c3RyaW5nfSB0YXJnZXRcbiAqL1xuU25hcENvbnRleHQucHJvdG90eXBlLnBvaW50c0ZvclRhcmdldCA9IGZ1bmN0aW9uKHRhcmdldCkge1xuXG4gIHZhciB0YXJnZXRJZCA9IHRhcmdldC5pZCB8fCB0YXJnZXQ7XG5cbiAgdmFyIHNuYXBQb2ludHMgPSB0aGlzLl90YXJnZXRzW3RhcmdldElkXTtcblxuICBpZiAoIXNuYXBQb2ludHMpIHtcbiAgICBzbmFwUG9pbnRzID0gdGhpcy5fdGFyZ2V0c1t0YXJnZXRJZF0gPSBuZXcgU25hcFBvaW50cygpO1xuICAgIHNuYXBQb2ludHMuaW5pdERlZmF1bHRzKHRoaXMuX2RlZmF1bHRTbmFwcyk7XG4gIH1cblxuICByZXR1cm4gc25hcFBvaW50cztcbn07XG5cblxuLyoqXG4gKiBDcmVhdGVzIHRoZSBzbmFwIHBvaW50cyBhbmQgaW5pdGlhbGl6ZXMgdGhlbSB3aXRoIHRoZVxuICogZ2l2ZW4gZGVmYXVsdCB2YWx1ZXMuXG4gKlxuICogQHBhcmFtIHtPYmplY3Q8c3RyaW5nLCBBcnJheTxQb2ludD4+fSBbZGVmYXVsdFBvaW50c11cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFNuYXBQb2ludHMoZGVmYXVsdFNuYXBzKSB7XG5cbiAgLyoqXG4gICAqIE1hcDxTdHJpbmcsIE1hcDwoeHx5KSwgQXJyYXk8bnVtYmVyPj4+IG1hcHBpbmcgc25hcCBsb2NhdGlvbnMsXG4gICAqIGkuZS4gdG9wLWxlZnQsIGJvdHRvbS1yaWdodCwgY2VudGVyIHRvIGFjdHVhbCBzbmFwIHZhbHVlcy5cbiAgICpcbiAgICogQHR5cGUge09iamVjdH1cbiAgICovXG4gIHRoaXMuX3NuYXBWYWx1ZXMgPSB7fTtcbn1cblxuU25hcFBvaW50cy5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24oc25hcExvY2F0aW9uLCBwb2ludCkge1xuXG4gIHZhciBzbmFwVmFsdWVzID0gdGhpcy5fc25hcFZhbHVlc1tzbmFwTG9jYXRpb25dO1xuXG4gIGlmICghc25hcFZhbHVlcykge1xuICAgIHNuYXBWYWx1ZXMgPSB0aGlzLl9zbmFwVmFsdWVzW3NuYXBMb2NhdGlvbl0gPSB7IHg6IFtdLCB5OiBbXSB9O1xuICB9XG5cbiAgaWYgKHNuYXBWYWx1ZXMueC5pbmRleE9mKHBvaW50LngpID09PSAtMSkge1xuICAgIHNuYXBWYWx1ZXMueC5wdXNoKHBvaW50LngpO1xuICB9XG5cbiAgaWYgKHNuYXBWYWx1ZXMueS5pbmRleE9mKHBvaW50LnkpID09PSAtMSkge1xuICAgIHNuYXBWYWx1ZXMueS5wdXNoKHBvaW50LnkpO1xuICB9XG59O1xuXG5cblNuYXBQb2ludHMucHJvdG90eXBlLnNuYXAgPSBmdW5jdGlvbihwb2ludCwgc25hcExvY2F0aW9uLCBheGlzLCB0b2xlcmFuY2UpIHtcbiAgdmFyIHNuYXBwaW5nVmFsdWVzID0gdGhpcy5fc25hcFZhbHVlc1tzbmFwTG9jYXRpb25dO1xuXG4gIHJldHVybiBzbmFwcGluZ1ZhbHVlcyAmJiBzbmFwVG8ocG9pbnRbYXhpc10sIHNuYXBwaW5nVmFsdWVzW2F4aXNdLCB0b2xlcmFuY2UpO1xufTtcblxuLyoqXG4gKiBJbml0aWFsaXplIGEgbnVtYmVyIG9mIGRlZmF1bHQgc25hcHBpbmcgcG9pbnRzLlxuICpcbiAqIEBwYXJhbSAge09iamVjdH0gZGVmYXVsdFNuYXBzXG4gKi9cblNuYXBQb2ludHMucHJvdG90eXBlLmluaXREZWZhdWx0cyA9IGZ1bmN0aW9uKGRlZmF1bHRTbmFwcykge1xuXG4gIHZhciBzZWxmID0gdGhpcztcblxuICBmb3JFYWNoKGRlZmF1bHRTbmFwcyB8fCB7fSwgZnVuY3Rpb24oc25hcFBvaW50cywgc25hcExvY2F0aW9uKSB7XG4gICAgZm9yRWFjaChzbmFwUG9pbnRzLCBmdW5jdGlvbihwb2ludCkge1xuICAgICAgc2VsZi5hZGQoc25hcExvY2F0aW9uLCBwb2ludCk7XG4gICAgfSk7XG4gIH0pO1xufTsiLCJpbXBvcnQgU25hcENvbnRleHQgZnJvbSAnLi9TbmFwQ29udGV4dCc7XHJcblxyXG5pbXBvcnQge1xyXG4gIGdldENoaWxkcmVuLFxyXG4gIGlzU25hcHBlZCxcclxuICBtaWRcclxufSBmcm9tICcuL1NuYXBVdGlsJztcclxuXHJcbmltcG9ydCB7IGlzQ21kIH0gZnJvbSAnLi4va2V5Ym9hcmQvS2V5Ym9hcmRVdGlsJztcclxuXHJcbmltcG9ydCB7XHJcbiAgZm9yRWFjaCxcclxuICBpc051bWJlclxyXG59IGZyb20gJ21pbi1kYXNoJztcclxuXHJcbnZhciBISUdIRVJfUFJJT1JJVFkgPSAxMjUwO1xyXG5cclxuXHJcbi8qKlxyXG4gKiBTbmFwIGR1cmluZyBjcmVhdGUgYW5kIG1vdmUuXHJcbiAqXHJcbiAqIEBwYXJhbSB7RXZlbnRCdXN9IGVsZW1lbnRSZWdpc3RyeVxyXG4gKiBAcGFyYW0ge0V2ZW50QnVzfSBldmVudEJ1c1xyXG4gKiBAcGFyYW0ge1NuYXBwaW5nfSBzbmFwcGluZ1xyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ3JlYXRlTW92ZVNuYXBwaW5nKGVsZW1lbnRSZWdpc3RyeSwgZXZlbnRCdXMsIHNuYXBwaW5nKSB7XHJcbiAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICB0aGlzLl9lbGVtZW50UmVnaXN0cnkgPSBlbGVtZW50UmVnaXN0cnk7XHJcblxyXG4gIGV2ZW50QnVzLm9uKFtcclxuICAgICdjcmVhdGUuc3RhcnQnLFxyXG4gICAgJ3NoYXBlLm1vdmUuc3RhcnQnXHJcbiAgXSwgZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgIHNlbGYuaW5pdFNuYXAoZXZlbnQpO1xyXG4gIH0pO1xyXG5cclxuICBldmVudEJ1cy5vbihbXHJcbiAgICAnY3JlYXRlLm1vdmUnLFxyXG4gICAgJ2NyZWF0ZS5lbmQnLFxyXG4gICAgJ3NoYXBlLm1vdmUubW92ZScsXHJcbiAgICAnc2hhcGUubW92ZS5lbmQnXHJcbiAgXSwgSElHSEVSX1BSSU9SSVRZLCBmdW5jdGlvbihldmVudCkge1xyXG4gICAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0LFxyXG4gICAgICAgIHNoYXBlID0gY29udGV4dC5zaGFwZSxcclxuICAgICAgICBzbmFwQ29udGV4dCA9IGNvbnRleHQuc25hcENvbnRleHQsXHJcbiAgICAgICAgdGFyZ2V0ID0gY29udGV4dC50YXJnZXQ7XHJcblxyXG4gICAgaWYgKGV2ZW50Lm9yaWdpbmFsRXZlbnQgJiYgaXNDbWQoZXZlbnQub3JpZ2luYWxFdmVudCkpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChpc1NuYXBwZWQoZXZlbnQpIHx8ICF0YXJnZXQpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBzbmFwUG9pbnRzID0gc25hcENvbnRleHQucG9pbnRzRm9yVGFyZ2V0KHRhcmdldCk7XHJcblxyXG4gICAgaWYgKCFzbmFwUG9pbnRzLmluaXRpYWxpemVkKSB7XHJcbiAgICAgIHNuYXBQb2ludHMgPSBzZWxmLmFkZFNuYXBUYXJnZXRQb2ludHMoc25hcFBvaW50cywgc2hhcGUsIHRhcmdldCk7XHJcblxyXG4gICAgICBzbmFwUG9pbnRzLmluaXRpYWxpemVkID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBzbmFwcGluZy5zbmFwKGV2ZW50LCBzbmFwUG9pbnRzKTtcclxuICB9KTtcclxuXHJcbiAgZXZlbnRCdXMub24oW1xyXG4gICAgJ2NyZWF0ZS5jbGVhbnVwJyxcclxuICAgICdzaGFwZS5tb3ZlLmNsZWFudXAnXHJcbiAgXSwgZnVuY3Rpb24oKSB7XHJcbiAgICBzbmFwcGluZy5oaWRlKCk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbkNyZWF0ZU1vdmVTbmFwcGluZy4kaW5qZWN0ID0gW1xyXG4gICdlbGVtZW50UmVnaXN0cnknLFxyXG4gICdldmVudEJ1cycsXHJcbiAgJ3NuYXBwaW5nJ1xyXG5dO1xyXG5cclxuQ3JlYXRlTW92ZVNuYXBwaW5nLnByb3RvdHlwZS5pbml0U25hcCA9IGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgdmFyIGVsZW1lbnRSZWdpc3RyeSA9IHRoaXMuX2VsZW1lbnRSZWdpc3RyeTtcclxuXHJcbiAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0LFxyXG4gICAgICBzaGFwZSA9IGNvbnRleHQuc2hhcGUsXHJcbiAgICAgIHNuYXBDb250ZXh0ID0gY29udGV4dC5zbmFwQ29udGV4dDtcclxuXHJcbiAgaWYgKCFzbmFwQ29udGV4dCkge1xyXG4gICAgc25hcENvbnRleHQgPSBjb250ZXh0LnNuYXBDb250ZXh0ID0gbmV3IFNuYXBDb250ZXh0KCk7XHJcbiAgfVxyXG5cclxuICB2YXIgc2hhcGVNaWQ7XHJcblxyXG4gIGlmIChlbGVtZW50UmVnaXN0cnkuZ2V0KHNoYXBlLmlkKSkge1xyXG5cclxuICAgIC8vIG1vdmVcclxuICAgIHNoYXBlTWlkID0gbWlkKHNoYXBlLCBldmVudCk7XHJcbiAgfSBlbHNlIHtcclxuXHJcbiAgICAvLyBjcmVhdGVcclxuICAgIHNoYXBlTWlkID0ge1xyXG4gICAgICB4OiBldmVudC54ICsgbWlkKHNoYXBlKS54LFxyXG4gICAgICB5OiBldmVudC55ICsgbWlkKHNoYXBlKS55XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgdmFyIHNoYXBlVG9wTGVmdCA9IHtcclxuICAgICAgICB4OiBzaGFwZU1pZC54IC0gc2hhcGUud2lkdGggLyAyLFxyXG4gICAgICAgIHk6IHNoYXBlTWlkLnkgLSBzaGFwZS5oZWlnaHQgLyAyXHJcbiAgICAgIH0sXHJcbiAgICAgIHNoYXBlQm90dG9tUmlnaHQgPSB7XHJcbiAgICAgICAgeDogc2hhcGVNaWQueCArIHNoYXBlLndpZHRoIC8gMixcclxuICAgICAgICB5OiBzaGFwZU1pZC55ICsgc2hhcGUuaGVpZ2h0IC8gMlxyXG4gICAgICB9O1xyXG5cclxuICBzbmFwQ29udGV4dC5zZXRTbmFwT3JpZ2luKCdtaWQnLCB7XHJcbiAgICB4OiBzaGFwZU1pZC54IC0gZXZlbnQueCxcclxuICAgIHk6IHNoYXBlTWlkLnkgLSBldmVudC55XHJcbiAgfSk7XHJcblxyXG4gIC8vIHNuYXAgbGFiZWxzIHRvIG1pZCBvbmx5XHJcbiAgaWYgKGlzTGFiZWwoc2hhcGUpKSB7XHJcbiAgICByZXR1cm4gc25hcENvbnRleHQ7XHJcbiAgfVxyXG5cclxuICBzbmFwQ29udGV4dC5zZXRTbmFwT3JpZ2luKCd0b3AtbGVmdCcsIHtcclxuICAgIHg6IHNoYXBlVG9wTGVmdC54IC0gZXZlbnQueCxcclxuICAgIHk6IHNoYXBlVG9wTGVmdC55IC0gZXZlbnQueVxyXG4gIH0pO1xyXG5cclxuICBzbmFwQ29udGV4dC5zZXRTbmFwT3JpZ2luKCdib3R0b20tcmlnaHQnLCB7XHJcbiAgICB4OiBzaGFwZUJvdHRvbVJpZ2h0LnggLSBldmVudC54LFxyXG4gICAgeTogc2hhcGVCb3R0b21SaWdodC55IC0gZXZlbnQueVxyXG4gIH0pO1xyXG5cclxuICByZXR1cm4gc25hcENvbnRleHQ7XHJcbn07XHJcblxyXG5DcmVhdGVNb3ZlU25hcHBpbmcucHJvdG90eXBlLmFkZFNuYXBUYXJnZXRQb2ludHMgPSBmdW5jdGlvbihzbmFwUG9pbnRzLCBzaGFwZSwgdGFyZ2V0KSB7XHJcbiAgdmFyIHNuYXBUYXJnZXRzID0gdGhpcy5nZXRTbmFwVGFyZ2V0cyhzaGFwZSwgdGFyZ2V0KTtcclxuXHJcbiAgZm9yRWFjaChzbmFwVGFyZ2V0cywgZnVuY3Rpb24oc25hcFRhcmdldCkge1xyXG5cclxuICAgIC8vIGhhbmRsZSBsYWJlbHNcclxuICAgIGlmIChpc0xhYmVsKHNuYXBUYXJnZXQpKSB7XHJcblxyXG4gICAgICBpZiAoaXNMYWJlbChzaGFwZSkpIHtcclxuICAgICAgICBzbmFwUG9pbnRzLmFkZCgnbWlkJywgbWlkKHNuYXBUYXJnZXQpKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGhhbmRsZSBjb25uZWN0aW9uc1xyXG4gICAgaWYgKGlzQ29ubmVjdGlvbihzbmFwVGFyZ2V0KSkge1xyXG5cclxuICAgICAgLy8gaWdub3JlIHNpbmdsZSBzZWdtZW50IGNvbm5lY3Rpb25zXHJcbiAgICAgIGlmIChzbmFwVGFyZ2V0LndheXBvaW50cy5sZW5ndGggPCAzKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBpZ25vcmUgZmlyc3QgYW5kIGxhc3Qgd2F5cG9pbnRcclxuICAgICAgdmFyIHdheXBvaW50cyA9IHNuYXBUYXJnZXQud2F5cG9pbnRzLnNsaWNlKDEsIC0xKTtcclxuXHJcbiAgICAgIGZvckVhY2god2F5cG9pbnRzLCBmdW5jdGlvbih3YXlwb2ludCkge1xyXG4gICAgICAgIHNuYXBQb2ludHMuYWRkKCdtaWQnLCB3YXlwb2ludCk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGhhbmRsZSBzaGFwZXNcclxuICAgIHNuYXBQb2ludHMuYWRkKCdtaWQnLCBtaWQoc25hcFRhcmdldCkpO1xyXG4gIH0pO1xyXG5cclxuICBpZiAoIWlzTnVtYmVyKHNoYXBlLngpIHx8ICFpc051bWJlcihzaGFwZS55KSkge1xyXG4gICAgcmV0dXJuIHNuYXBQb2ludHM7XHJcbiAgfVxyXG5cclxuICAvLyBzbmFwIHRvIG9yaWdpbmFsIHBvc2l0aW9uIHdoZW4gbW92aW5nXHJcbiAgaWYgKHRoaXMuX2VsZW1lbnRSZWdpc3RyeS5nZXQoc2hhcGUuaWQpKSB7XHJcbiAgICBzbmFwUG9pbnRzLmFkZCgnbWlkJywgbWlkKHNoYXBlKSk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gc25hcFBvaW50cztcclxufTtcclxuXHJcbkNyZWF0ZU1vdmVTbmFwcGluZy5wcm90b3R5cGUuZ2V0U25hcFRhcmdldHMgPSBmdW5jdGlvbihzaGFwZSwgdGFyZ2V0KSB7XHJcbiAgcmV0dXJuIGdldENoaWxkcmVuKHRhcmdldCkuZmlsdGVyKGZ1bmN0aW9uKGNoaWxkKSB7XHJcbiAgICByZXR1cm4gIWlzSGlkZGVuKGNoaWxkKTtcclxuICB9KTtcclxufTtcclxuXHJcbi8vIGhlbHBlcnMgLy8vLy8vLy8vL1xyXG5cclxuZnVuY3Rpb24gaXNDb25uZWN0aW9uKGVsZW1lbnQpIHtcclxuICByZXR1cm4gISFlbGVtZW50LndheXBvaW50cztcclxufVxyXG5cclxuZnVuY3Rpb24gaXNIaWRkZW4oZWxlbWVudCkge1xyXG4gIHJldHVybiAhIWVsZW1lbnQuaGlkZGVuO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpc0xhYmVsKGVsZW1lbnQpIHtcclxuICByZXR1cm4gISFlbGVtZW50LmxhYmVsVGFyZ2V0O1xyXG59IiwiaW1wb3J0IGluaGVyaXRzIGZyb20gJ2luaGVyaXRzJztcblxuaW1wb3J0IENyZWF0ZU1vdmVTbmFwcGluZyBmcm9tICdkaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9zbmFwcGluZy9DcmVhdGVNb3ZlU25hcHBpbmcnO1xuXG4vKipcbiAqIFNuYXAgZHVyaW5nIGNyZWF0ZSBhbmQgbW92ZS5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50QnVzfSBldmVudEJ1c1xuICogQHBhcmFtIHtJbmplY3Rvcn0gaW5qZWN0b3JcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUG9zdGl0Q3JlYXRlTW92ZVNuYXBwaW5nKGluamVjdG9yKSB7XG4gIGluamVjdG9yLmludm9rZShDcmVhdGVNb3ZlU25hcHBpbmcsIHRoaXMpO1xufVxuXG5pbmhlcml0cyhQb3N0aXRDcmVhdGVNb3ZlU25hcHBpbmcsIENyZWF0ZU1vdmVTbmFwcGluZyk7XG5cblBvc3RpdENyZWF0ZU1vdmVTbmFwcGluZy4kaW5qZWN0ID0gW1xuICAnaW5qZWN0b3InXG5dO1xuXG5Qb3N0aXRDcmVhdGVNb3ZlU25hcHBpbmcucHJvdG90eXBlLmluaXRTbmFwID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgcmV0dXJuIENyZWF0ZU1vdmVTbmFwcGluZy5wcm90b3R5cGUuaW5pdFNuYXAuY2FsbCh0aGlzLCBldmVudCk7XG59O1xuXG5Qb3N0aXRDcmVhdGVNb3ZlU25hcHBpbmcucHJvdG90eXBlLmFkZFNuYXBUYXJnZXRQb2ludHMgPSBmdW5jdGlvbihzbmFwUG9pbnRzLCBzaGFwZSwgdGFyZ2V0KSB7XG4gIHJldHVybiBDcmVhdGVNb3ZlU25hcHBpbmcucHJvdG90eXBlLmFkZFNuYXBUYXJnZXRQb2ludHMuY2FsbCh0aGlzLCBzbmFwUG9pbnRzLCBzaGFwZSwgdGFyZ2V0KTtcbn07XG5cblBvc3RpdENyZWF0ZU1vdmVTbmFwcGluZy5wcm90b3R5cGUuZ2V0U25hcFRhcmdldHMgPSBmdW5jdGlvbihzaGFwZSwgdGFyZ2V0KSB7XG4gIHJldHVybiBDcmVhdGVNb3ZlU25hcHBpbmcucHJvdG90eXBlLmdldFNuYXBUYXJnZXRzLmNhbGwodGhpcywgc2hhcGUsIHRhcmdldCk7XG59O1xuIiwiaW1wb3J0IFNuYXBDb250ZXh0IGZyb20gJy4vU25hcENvbnRleHQnO1xyXG5cclxuaW1wb3J0IHtcclxuICBib3R0b21SaWdodCxcclxuICBnZXRDaGlsZHJlbixcclxuICBpc1NuYXBwZWQsXHJcbiAgc2V0U25hcHBlZCxcclxuICB0b3BMZWZ0LFxyXG59IGZyb20gJy4vU25hcFV0aWwnO1xyXG5cclxuaW1wb3J0IHsgaXNDbWQgfSBmcm9tICcuLi9rZXlib2FyZC9LZXlib2FyZFV0aWwnO1xyXG5cclxuaW1wb3J0IHtcclxuICBhc1RSQkwsXHJcbiAgZ2V0TWlkXHJcbn0gZnJvbSAnLi4vLi4vbGF5b3V0L0xheW91dFV0aWwnO1xyXG5cclxuaW1wb3J0IHsgZm9yRWFjaCB9IGZyb20gJ21pbi1kYXNoJztcclxuXHJcbnZhciBISUdIRVJfUFJJT1JJVFkgPSAxMjUwO1xyXG5cclxuXHJcbi8qKlxyXG4gKiBTbmFwIGR1cmluZyByZXNpemUuXHJcbiAqXHJcbiAqIEBwYXJhbSB7RXZlbnRCdXN9IGV2ZW50QnVzXHJcbiAqIEBwYXJhbSB7U25hcHBpbmd9IHNuYXBwaW5nXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBSZXNpemVTbmFwcGluZyhldmVudEJ1cywgc25hcHBpbmcpIHtcclxuICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gIGV2ZW50QnVzLm9uKFsgJ3Jlc2l6ZS5zdGFydCcgXSwgZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgIHNlbGYuaW5pdFNuYXAoZXZlbnQpO1xyXG4gIH0pO1xyXG5cclxuICBldmVudEJ1cy5vbihbXHJcbiAgICAncmVzaXplLm1vdmUnLFxyXG4gICAgJ3Jlc2l6ZS5lbmQnLFxyXG4gIF0sIEhJR0hFUl9QUklPUklUWSwgZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgIHZhciBjb250ZXh0ID0gZXZlbnQuY29udGV4dCxcclxuICAgICAgICBzaGFwZSA9IGNvbnRleHQuc2hhcGUsXHJcbiAgICAgICAgcGFyZW50ID0gc2hhcGUucGFyZW50LFxyXG4gICAgICAgIGRpcmVjdGlvbiA9IGNvbnRleHQuZGlyZWN0aW9uLFxyXG4gICAgICAgIHNuYXBDb250ZXh0ID0gY29udGV4dC5zbmFwQ29udGV4dDtcclxuXHJcbiAgICBpZiAoZXZlbnQub3JpZ2luYWxFdmVudCAmJiBpc0NtZChldmVudC5vcmlnaW5hbEV2ZW50KSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGlzU25hcHBlZChldmVudCkpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBzbmFwUG9pbnRzID0gc25hcENvbnRleHQucG9pbnRzRm9yVGFyZ2V0KHBhcmVudCk7XHJcblxyXG4gICAgaWYgKCFzbmFwUG9pbnRzLmluaXRpYWxpemVkKSB7XHJcbiAgICAgIHNuYXBQb2ludHMgPSBzZWxmLmFkZFNuYXBUYXJnZXRQb2ludHMoc25hcFBvaW50cywgc2hhcGUsIHBhcmVudCwgZGlyZWN0aW9uKTtcclxuXHJcbiAgICAgIHNuYXBQb2ludHMuaW5pdGlhbGl6ZWQgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChpc0hvcml6b250YWwoZGlyZWN0aW9uKSkge1xyXG4gICAgICBzZXRTbmFwcGVkKGV2ZW50LCAneCcsIGV2ZW50LngpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChpc1ZlcnRpY2FsKGRpcmVjdGlvbikpIHtcclxuICAgICAgc2V0U25hcHBlZChldmVudCwgJ3knLCBldmVudC55KTtcclxuICAgIH1cclxuXHJcbiAgICBzbmFwcGluZy5zbmFwKGV2ZW50LCBzbmFwUG9pbnRzKTtcclxuICB9KTtcclxuXHJcbiAgZXZlbnRCdXMub24oWyAncmVzaXplLmNsZWFudXAnIF0sIGZ1bmN0aW9uKCkge1xyXG4gICAgc25hcHBpbmcuaGlkZSgpO1xyXG4gIH0pO1xyXG59XHJcblxyXG5SZXNpemVTbmFwcGluZy5wcm90b3R5cGUuaW5pdFNuYXAgPSBmdW5jdGlvbihldmVudCkge1xyXG4gIHZhciBjb250ZXh0ID0gZXZlbnQuY29udGV4dCxcclxuICAgICAgc2hhcGUgPSBjb250ZXh0LnNoYXBlLFxyXG4gICAgICBkaXJlY3Rpb24gPSBjb250ZXh0LmRpcmVjdGlvbixcclxuICAgICAgc25hcENvbnRleHQgPSBjb250ZXh0LnNuYXBDb250ZXh0O1xyXG5cclxuICBpZiAoIXNuYXBDb250ZXh0KSB7XHJcbiAgICBzbmFwQ29udGV4dCA9IGNvbnRleHQuc25hcENvbnRleHQgPSBuZXcgU25hcENvbnRleHQoKTtcclxuICB9XHJcblxyXG4gIHZhciBzbmFwT3JpZ2luID0gZ2V0U25hcE9yaWdpbihzaGFwZSwgZGlyZWN0aW9uKTtcclxuXHJcbiAgc25hcENvbnRleHQuc2V0U25hcE9yaWdpbignY29ybmVyJywge1xyXG4gICAgeDogc25hcE9yaWdpbi54IC0gZXZlbnQueCxcclxuICAgIHk6IHNuYXBPcmlnaW4ueSAtIGV2ZW50LnlcclxuICB9KTtcclxuXHJcbiAgcmV0dXJuIHNuYXBDb250ZXh0O1xyXG59O1xyXG5cclxuUmVzaXplU25hcHBpbmcucHJvdG90eXBlLmFkZFNuYXBUYXJnZXRQb2ludHMgPSBmdW5jdGlvbihzbmFwUG9pbnRzLCBzaGFwZSwgdGFyZ2V0LCBkaXJlY3Rpb24pIHtcclxuICB2YXIgc25hcFRhcmdldHMgPSB0aGlzLmdldFNuYXBUYXJnZXRzKHNoYXBlLCB0YXJnZXQpO1xyXG5cclxuICBmb3JFYWNoKHNuYXBUYXJnZXRzLCBmdW5jdGlvbihzbmFwVGFyZ2V0KSB7XHJcbiAgICBzbmFwUG9pbnRzLmFkZCgnY29ybmVyJywgYm90dG9tUmlnaHQoc25hcFRhcmdldCkpO1xyXG4gICAgc25hcFBvaW50cy5hZGQoJ2Nvcm5lcicsIHRvcExlZnQoc25hcFRhcmdldCkpO1xyXG4gIH0pO1xyXG5cclxuICBzbmFwUG9pbnRzLmFkZCgnY29ybmVyJywgZ2V0U25hcE9yaWdpbihzaGFwZSwgZGlyZWN0aW9uKSk7XHJcblxyXG4gIHJldHVybiBzbmFwUG9pbnRzO1xyXG59O1xyXG5cclxuUmVzaXplU25hcHBpbmcuJGluamVjdCA9IFtcclxuICAnZXZlbnRCdXMnLFxyXG4gICdzbmFwcGluZydcclxuXTtcclxuXHJcblJlc2l6ZVNuYXBwaW5nLnByb3RvdHlwZS5nZXRTbmFwVGFyZ2V0cyA9IGZ1bmN0aW9uKHNoYXBlLCB0YXJnZXQpIHtcclxuICByZXR1cm4gZ2V0Q2hpbGRyZW4odGFyZ2V0KS5maWx0ZXIoZnVuY3Rpb24oY2hpbGQpIHtcclxuICAgIHJldHVybiAhaXNBdHRhY2hlZChjaGlsZCwgc2hhcGUpXHJcbiAgICAgICYmICFpc0Nvbm5lY3Rpb24oY2hpbGQpXHJcbiAgICAgICYmICFpc0hpZGRlbihjaGlsZClcclxuICAgICAgJiYgIWlzTGFiZWwoY2hpbGQpO1xyXG4gIH0pO1xyXG59O1xyXG5cclxuLy8gaGVscGVycyAvLy8vLy8vLy8vXHJcblxyXG5mdW5jdGlvbiBnZXRTbmFwT3JpZ2luKHNoYXBlLCBkaXJlY3Rpb24pIHtcclxuICB2YXIgbWlkID0gZ2V0TWlkKHNoYXBlKSxcclxuICAgICAgdHJibCA9IGFzVFJCTChzaGFwZSk7XHJcblxyXG4gIHZhciBzbmFwT3JpZ2luID0ge1xyXG4gICAgeDogbWlkLngsXHJcbiAgICB5OiBtaWQueVxyXG4gIH07XHJcblxyXG4gIGlmIChkaXJlY3Rpb24uaW5kZXhPZignbicpICE9PSAtMSkge1xyXG4gICAgc25hcE9yaWdpbi55ID0gdHJibC50b3A7XHJcbiAgfSBlbHNlIGlmIChkaXJlY3Rpb24uaW5kZXhPZigncycpICE9PSAtMSkge1xyXG4gICAgc25hcE9yaWdpbi55ID0gdHJibC5ib3R0b207XHJcbiAgfVxyXG5cclxuICBpZiAoZGlyZWN0aW9uLmluZGV4T2YoJ2UnKSAhPT0gLTEpIHtcclxuICAgIHNuYXBPcmlnaW4ueCA9IHRyYmwucmlnaHQ7XHJcbiAgfSBlbHNlIGlmIChkaXJlY3Rpb24uaW5kZXhPZigndycpICE9PSAtMSkge1xyXG4gICAgc25hcE9yaWdpbi54ID0gdHJibC5sZWZ0O1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHNuYXBPcmlnaW47XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGlzQXR0YWNoZWQoZWxlbWVudCwgaG9zdCkge1xyXG4gIHJldHVybiBlbGVtZW50Lmhvc3QgPT09IGhvc3Q7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGlzQ29ubmVjdGlvbihlbGVtZW50KSB7XHJcbiAgcmV0dXJuICEhZWxlbWVudC53YXlwb2ludHM7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGlzSGlkZGVuKGVsZW1lbnQpIHtcclxuICByZXR1cm4gISFlbGVtZW50LmhpZGRlbjtcclxufVxyXG5cclxuZnVuY3Rpb24gaXNMYWJlbChlbGVtZW50KSB7XHJcbiAgcmV0dXJuICEhZWxlbWVudC5sYWJlbFRhcmdldDtcclxufVxyXG5cclxuZnVuY3Rpb24gaXNIb3Jpem9udGFsKGRpcmVjdGlvbikge1xyXG4gIHJldHVybiBkaXJlY3Rpb24gPT09ICduJyB8fCBkaXJlY3Rpb24gPT09ICdzJztcclxufVxyXG5cclxuZnVuY3Rpb24gaXNWZXJ0aWNhbChkaXJlY3Rpb24pIHtcclxuICByZXR1cm4gZGlyZWN0aW9uID09PSAnZScgfHwgZGlyZWN0aW9uID09PSAndyc7XHJcbn0iLCJpbXBvcnQge1xuICBiaW5kLFxuICBkZWJvdW5jZSxcbiAgZm9yRWFjaCxcbiAgaXNOdW1iZXIsXG4gIGlzT2JqZWN0XG59IGZyb20gJ21pbi1kYXNoJztcblxuaW1wb3J0IHtcbiAgaXNTbmFwcGVkLFxuICBzZXRTbmFwcGVkXG59IGZyb20gJy4vU25hcFV0aWwnO1xuXG5pbXBvcnQge1xuICBhcHBlbmQgYXMgc3ZnQXBwZW5kLFxuICBhdHRyIGFzIHN2Z0F0dHIsXG4gIGNsYXNzZXMgYXMgc3ZnQ2xhc3NlcyxcbiAgY3JlYXRlIGFzIHN2Z0NyZWF0ZVxufSBmcm9tICd0aW55LXN2Zyc7XG5cbnZhciBTTkFQX1RPTEVSQU5DRSA9IDc7XG5cbmV4cG9ydCB2YXIgU05BUF9MSU5FX0hJREVfREVMQVkgPSAxMDAwO1xuXG5cbi8qKlxuICogR2VuZXJpYyBzbmFwcGluZyBmZWF0dXJlLlxuICpcbiAqIEBwYXJhbSB7RXZlbnRCdXN9IGV2ZW50QnVzXG4gKiBAcGFyYW0ge0NhbnZhc30gY2FudmFzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFNuYXBwaW5nKGNhbnZhcykge1xuICB0aGlzLl9jYW52YXMgPSBjYW52YXM7XG5cbiAgLy8gZGVsYXkgaGlkZSBieSAxMDAwIHNlY29uZHMgc2luY2UgbGFzdCBzbmFwXG4gIHRoaXMuX2FzeW5jSGlkZSA9IGRlYm91bmNlKGJpbmQodGhpcy5oaWRlLCB0aGlzKSwgU05BUF9MSU5FX0hJREVfREVMQVkpO1xufVxuXG5TbmFwcGluZy4kaW5qZWN0ID0gWyAnY2FudmFzJyBdO1xuXG4vKipcbiAqIFNuYXAgYW4gZXZlbnQgdG8gZ2l2ZW4gc25hcCBwb2ludHMuXG4gKlxuICogQHBhcmFtIHtFdmVudH0gZXZlbnRcbiAqIEBwYXJhbSB7U25hcFBvaW50c30gc25hcFBvaW50c1xuICovXG5TbmFwcGluZy5wcm90b3R5cGUuc25hcCA9IGZ1bmN0aW9uKGV2ZW50LCBzbmFwUG9pbnRzKSB7XG4gIHZhciBjb250ZXh0ID0gZXZlbnQuY29udGV4dCxcbiAgICAgIHNuYXBDb250ZXh0ID0gY29udGV4dC5zbmFwQ29udGV4dCxcbiAgICAgIHNuYXBMb2NhdGlvbnMgPSBzbmFwQ29udGV4dC5nZXRTbmFwTG9jYXRpb25zKCk7XG5cbiAgdmFyIHNuYXBwaW5nID0ge1xuICAgIHg6IGlzU25hcHBlZChldmVudCwgJ3gnKSxcbiAgICB5OiBpc1NuYXBwZWQoZXZlbnQsICd5JylcbiAgfTtcblxuICBmb3JFYWNoKHNuYXBMb2NhdGlvbnMsIGZ1bmN0aW9uKGxvY2F0aW9uKSB7XG4gICAgdmFyIHNuYXBPcmlnaW4gPSBzbmFwQ29udGV4dC5nZXRTbmFwT3JpZ2luKGxvY2F0aW9uKTtcblxuICAgIHZhciBzbmFwQ3VycmVudCA9IHtcbiAgICAgIHg6IGV2ZW50LnggKyBzbmFwT3JpZ2luLngsXG4gICAgICB5OiBldmVudC55ICsgc25hcE9yaWdpbi55XG4gICAgfTtcblxuICAgIC8vIHNuYXAgYm90aCBheGlzIGlmIG5vdCBzbmFwcGVkIGFscmVhZHlcbiAgICBmb3JFYWNoKFsgJ3gnLCAneScgXSwgZnVuY3Rpb24oYXhpcykge1xuICAgICAgdmFyIGxvY2F0aW9uU25hcHBpbmc7XG5cbiAgICAgIGlmICghc25hcHBpbmdbYXhpc10pIHtcbiAgICAgICAgbG9jYXRpb25TbmFwcGluZyA9IHNuYXBQb2ludHMuc25hcChzbmFwQ3VycmVudCwgbG9jYXRpb24sIGF4aXMsIFNOQVBfVE9MRVJBTkNFKTtcblxuICAgICAgICBpZiAobG9jYXRpb25TbmFwcGluZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgc25hcHBpbmdbYXhpc10gPSB7XG4gICAgICAgICAgICB2YWx1ZTogbG9jYXRpb25TbmFwcGluZyxcbiAgICAgICAgICAgIG9yaWdpblZhbHVlOiBsb2NhdGlvblNuYXBwaW5nIC0gc25hcE9yaWdpbltheGlzXVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIG5vIG5lZWQgdG8gY29udGludWUgc25hcHBpbmdcbiAgICBpZiAoc25hcHBpbmcueCAmJiBzbmFwcGluZy55KSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9KTtcblxuICAvLyBzaG93IHNuYXAgbGluZXNcbiAgdGhpcy5zaG93U25hcExpbmUoJ3ZlcnRpY2FsJywgc25hcHBpbmcueCAmJiBzbmFwcGluZy54LnZhbHVlKTtcbiAgdGhpcy5zaG93U25hcExpbmUoJ2hvcml6b250YWwnLCBzbmFwcGluZy55ICYmIHNuYXBwaW5nLnkudmFsdWUpO1xuXG4gIC8vIHNuYXAgZXZlbnRcbiAgZm9yRWFjaChbICd4JywgJ3knIF0sIGZ1bmN0aW9uKGF4aXMpIHtcbiAgICB2YXIgYXhpc1NuYXBwaW5nID0gc25hcHBpbmdbYXhpc107XG5cbiAgICBpZiAoaXNPYmplY3QoYXhpc1NuYXBwaW5nKSkge1xuICAgICAgc2V0U25hcHBlZChldmVudCwgYXhpcywgYXhpc1NuYXBwaW5nLm9yaWdpblZhbHVlKTtcbiAgICB9XG4gIH0pO1xufTtcblxuU25hcHBpbmcucHJvdG90eXBlLl9jcmVhdGVMaW5lID0gZnVuY3Rpb24ob3JpZW50YXRpb24pIHtcbiAgdmFyIHJvb3QgPSB0aGlzLl9jYW52YXMuZ2V0TGF5ZXIoJ3NuYXAnKTtcblxuICB2YXIgbGluZSA9IHN2Z0NyZWF0ZSgncGF0aCcpO1xuXG4gIHN2Z0F0dHIobGluZSwgeyBkOiAnTTAsMCBMMCwwJyB9KTtcblxuICBzdmdDbGFzc2VzKGxpbmUpLmFkZCgnZGpzLXNuYXAtbGluZScpO1xuXG4gIHN2Z0FwcGVuZChyb290LCBsaW5lKTtcblxuICByZXR1cm4ge1xuICAgIHVwZGF0ZTogZnVuY3Rpb24ocG9zaXRpb24pIHtcblxuICAgICAgaWYgKCFpc051bWJlcihwb3NpdGlvbikpIHtcbiAgICAgICAgc3ZnQXR0cihsaW5lLCB7IGRpc3BsYXk6ICdub25lJyB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChvcmllbnRhdGlvbiA9PT0gJ2hvcml6b250YWwnKSB7XG4gICAgICAgICAgc3ZnQXR0cihsaW5lLCB7XG4gICAgICAgICAgICBkOiAnTS0xMDAwMDAsJyArIHBvc2l0aW9uICsgJyBMKzEwMDAwMCwnICsgcG9zaXRpb24sXG4gICAgICAgICAgICBkaXNwbGF5OiAnJ1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN2Z0F0dHIobGluZSwge1xuICAgICAgICAgICAgZDogJ00gJyArIHBvc2l0aW9uICsgJywtMTAwMDAwIEwgJyArIHBvc2l0aW9uICsgJywgKzEwMDAwMCcsXG4gICAgICAgICAgICBkaXNwbGF5OiAnJ1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xufTtcblxuU25hcHBpbmcucHJvdG90eXBlLl9jcmVhdGVTbmFwTGluZXMgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5fc25hcExpbmVzID0ge1xuICAgIGhvcml6b250YWw6IHRoaXMuX2NyZWF0ZUxpbmUoJ2hvcml6b250YWwnKSxcbiAgICB2ZXJ0aWNhbDogdGhpcy5fY3JlYXRlTGluZSgndmVydGljYWwnKVxuICB9O1xufTtcblxuU25hcHBpbmcucHJvdG90eXBlLnNob3dTbmFwTGluZSA9IGZ1bmN0aW9uKG9yaWVudGF0aW9uLCBwb3NpdGlvbikge1xuXG4gIHZhciBsaW5lID0gdGhpcy5nZXRTbmFwTGluZShvcmllbnRhdGlvbik7XG5cbiAgaWYgKGxpbmUpIHtcbiAgICBsaW5lLnVwZGF0ZShwb3NpdGlvbik7XG4gIH1cblxuICB0aGlzLl9hc3luY0hpZGUoKTtcbn07XG5cblNuYXBwaW5nLnByb3RvdHlwZS5nZXRTbmFwTGluZSA9IGZ1bmN0aW9uKG9yaWVudGF0aW9uKSB7XG4gIGlmICghdGhpcy5fc25hcExpbmVzKSB7XG4gICAgdGhpcy5fY3JlYXRlU25hcExpbmVzKCk7XG4gIH1cblxuICByZXR1cm4gdGhpcy5fc25hcExpbmVzW29yaWVudGF0aW9uXTtcbn07XG5cblNuYXBwaW5nLnByb3RvdHlwZS5oaWRlID0gZnVuY3Rpb24oKSB7XG4gIGZvckVhY2godGhpcy5fc25hcExpbmVzLCBmdW5jdGlvbihzbmFwTGluZSkge1xuICAgIHNuYXBMaW5lLnVwZGF0ZSgpO1xuICB9KTtcbn07XG4iLCJpbXBvcnQgQ3JlYXRlTW92ZVNuYXBwaW5nIGZyb20gJy4vQ3JlYXRlTW92ZVNuYXBwaW5nJztcbmltcG9ydCBSZXNpemVTbmFwcGluZyBmcm9tICcuL1Jlc2l6ZVNuYXBwaW5nJztcbmltcG9ydCBTbmFwcGluZyBmcm9tICcuL1NuYXBwaW5nJztcblxuZXhwb3J0IGRlZmF1bHQge1xuICBfX2luaXRfXzogW1xuICAgICdjcmVhdGVNb3ZlU25hcHBpbmcnLFxuICAgICdyZXNpemVTbmFwcGluZycsXG4gICAgJ3NuYXBwaW5nJ1xuICBdLFxuICBjcmVhdGVNb3ZlU25hcHBpbmc6IFsgJ3R5cGUnLCBDcmVhdGVNb3ZlU25hcHBpbmcgXSxcbiAgcmVzaXplU25hcHBpbmc6IFsgJ3R5cGUnLCBSZXNpemVTbmFwcGluZyBdLFxuICBzbmFwcGluZzogWyAndHlwZScsIFNuYXBwaW5nIF1cbn07IiwiaW1wb3J0IFBvc3RpdENyZWF0ZU1vdmVTbmFwcGluZyBmcm9tICcuL1Bvc3RpdENyZWF0ZU1vdmVTbmFwcGluZyc7XG5pbXBvcnQgU25hcHBpbmdNb2R1bGUgZnJvbSAnZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvc25hcHBpbmcnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9fZGVwZW5kc19fOiBbIFNuYXBwaW5nTW9kdWxlIF0sXG4gIF9faW5pdF9fOiBbXG4gICAgJ2NyZWF0ZU1vdmVTbmFwcGluZydcbiAgXSxcbiAgY3JlYXRlTW92ZVNuYXBwaW5nOiBbICd0eXBlJywgUG9zdGl0Q3JlYXRlTW92ZVNuYXBwaW5nIF1cbn07IiwiZXhwb3J0IGZ1bmN0aW9uIGZpbGVUb0RhdGFVUkwoZmlsZSkge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgIHJlYWRlci5vbmxvYWRlbmQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmVzb2x2ZShyZWFkZXIucmVzdWx0KTtcbiAgICAgIH07XG4gICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZWplY3QoZSk7XG4gICAgfVxuICB9KTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGltYWdlUHJvY2Vzc29yKGV2LCBmaWxlKSB7XG4gIGNvbnN0IGJhc2U2NGZpbGUgPSBhd2FpdCBmaWxlVG9EYXRhVVJMKGZpbGUpO1xuICByZXR1cm4gYmFzZTY0ZmlsZTsgLy8gcGFzc2luZyBhbnkgZXJyb3JzIHRocm91Z2hcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZpbGVSZWFkZXIoZXYsIGZpbGVzKSB7XG4gIGxldCB1cGxvYWRSZXN1bHQgPSBbXTtcbiAgbGV0IGVycm9ycztcbiAgbGV0IGZpbGVJdGVtcyA9IGZpbGVzO1xuICBpZiAoZXYgJiYgKGV2LmRhdGFUcmFuc2Zlci5pdGVtcyB8fCBldi5kYXRhVHJhbnNmZXIuZmlsZXMpKSB7XG4gICAgZmlsZUl0ZW1zID0gZXYuZGF0YVRyYW5zZmVyLml0ZW1zIHx8IGV2LmRhdGFUcmFuc2Zlci5maWxlcztcbiAgfVxuICB0cnkge1xuICAgIGlmIChmaWxlSXRlbXMpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmlsZUl0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChldiAmJiBldi5kYXRhVHJhbnNmZXIuaXRlbXMpIHtcbiAgICAgICAgICBpZiAoZmlsZUl0ZW1zW2ldLmtpbmQgPT09ICdmaWxlJykge1xuICAgICAgICAgICAgdmFyIGZpbGUgPSBmaWxlSXRlbXNbaV0uZ2V0QXNGaWxlKCk7XG4gICAgICAgICAgICB1cGxvYWRSZXN1bHQucHVzaChmaWxlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdXBsb2FkUmVzdWx0LnB1c2goZmlsZUl0ZW1zW2ldKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSBjYXRjaCAoZSkge1xuICAgIGVycm9ycyA9IGU7XG4gICAgdXBsb2FkUmVzdWx0ID0gbnVsbDtcbiAgfVxuICBjb25zdCBmaWxlX3Jlc3VsdHMgPSB1cGxvYWRSZXN1bHQ7XG4gIGNvbnN0IGltYWdlX3Jlc3VsdHMgPSBbXTtcbiAgdmFyIGogPSAwO1xuICB3aGlsZSAoaiA8IHVwbG9hZFJlc3VsdC5sZW5ndGgpIHtcbiAgICAvLyBSZXF1aXJlZCBieSBEaXJlY3RVcGxvYWRzXG4gICAgZmlsZV9yZXN1bHRzW2pdLmZpbGVuYW1lID0gZmlsZV9yZXN1bHRzW2pdLm5hbWU7XG5cbiAgICBjb25zdCBmaWxlSW1nID0gYXdhaXQgaW1hZ2VQcm9jZXNzb3IoZXYsIHVwbG9hZFJlc3VsdFtqXSk7XG4gICAgaW1hZ2VfcmVzdWx0cy5wdXNoKGZpbGVJbWcpO1xuICAgIGorPTE7XG4gIH1cbiAgcmV0dXJuIHsgZmlsZV9yZXN1bHRzLCBpbWFnZV9yZXN1bHRzLCBlcnJvcnMgfTtcbn1cblxuIiwiaW1wb3J0IHtcbiAgZG9taWZ5LFxuICBldmVudCBhcyBkb21FdmVudFxufSBmcm9tICdtaW4tZG9tJztcblxuaW1wb3J0IHtcbiAgYXNzaWduXG59IGZyb20gJ21pbi1kYXNoJztcblxuaW1wb3J0IHtcbiAgZmlsZVJlYWRlclxufSBmcm9tICcuL0ZpbGVVdGlsLmpzJztcblxuLyogY29uc3RhbnRzICovXG5jb25zdCBQT1NUSVRfSU1BR0UgPSAncG9zdGl0OkltYWdlJztcbmZ1bmN0aW9uIHJhbmRTdHIobGVuZ3RoPTUpIHtcbiAgdmFyIHJlc3VsdCA9ICcnO1xuICB2YXIgY2hhcmFjdGVycyA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSc7XG4gIHZhciBjaGFyYWN0ZXJzTGVuZ3RoID0gY2hhcmFjdGVycy5sZW5ndGg7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICByZXN1bHQgKz0gY2hhcmFjdGVycy5jaGFyQXQoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogY2hhcmFjdGVyc0xlbmd0aCkpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5jb25zdCBFTlRSWV9QUk9UT1RZUEUgPSAoKSA9PiB7XG4gIHJldHVybiB7XG4gICAgb2JqSWQ6IHJhbmRTdHIoKSxcbiAgICBvYmpUeXBlOiBQT1NUSVRfSU1BR0UsXG4gICAgb2JqVGl0bGU6ICcnLFxuICAgIG9iakRlc2NyaXB0aW9uOiAnJyxcbiAgICBvYmpTdGFycmVkOiBmYWxzZSxcbiAgICBvYmpIaWRkZW46IGZhbHNlLFxuICAgIG9ialVua2V5ZWQ6IGZhbHNlLFxuICAgIG9ialVua2V5ZWRPcmlnaW5hbDogZmFsc2UsXG4gICAgb2JqU3JjVW5rZXllZDogJycsXG4gICAgb2JqQ3JlYXRpb25EYXRlOiAnJyxcbiAgICBzb3VyY2U6ICcnLFxuICAgIG9ialBvc2l0aW9uWDogbnVsbCxcbiAgICBvYmpQb3NpdGlvblk6IG51bGwsXG4gIH07XG59O1xuXG4vKiBjb25zdGFudHMgKi9cblxuXG52YXIgdGV4dDtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIERyYWdEcm9wSW1hZ2VzKGV2ZW50QnVzLCBjYW52YXMsIG1vZGVsaW5nLCBlbGVtZW50RmFjdG9yeSwgY3JlYXRlLCB0cmFuc2xhdGUpIHtcblxuICB0aGlzLl9ldmVudEJ1cyA9IGV2ZW50QnVzO1xuICB0aGlzLl9jYW52YXMgPSBjYW52YXM7XG4gIHRoaXMuX21vZGVsaW5nID0gbW9kZWxpbmc7XG4gIHRoaXMuX2VsZW1lbnRGYWN0b3J5ID0gZWxlbWVudEZhY3Rvcnk7XG4gIHRoaXMuX2NyZWF0ZSA9IGNyZWF0ZTtcbiAgdGhpcy5fdHJhbnNsYXRlID0gdHJhbnNsYXRlO1xuXG4gIGNvbnN0IGNyZWF0ZUltYWdlRWxlbWVudCA9IF9jcmVhdGVJbWFnZUVsZW1lbnQuYmluZCh0aGlzKTtcblxuICB0ZXh0ID0geyAnVVJMJzogdGhpcy5fdHJhbnNsYXRlKCdVUkwnKSxcbiAgICAnQW4gZXJyb3Igb2NjdXJlZCBkdXJpbmcgdGhlIGZpbGUgdXBsb2FkJzogdGhpcy5fdHJhbnNsYXRlKCdBbiBlcnJvciBvY2N1cmVkIGR1cmluZyB0aGUgZmlsZSB1cGxvYWQnKSxcbiAgICAnVXBsb2FkIGZpbGVzIGhlcmUnOiB0aGlzLl90cmFuc2xhdGUoJ1VwbG9hZCBmaWxlcyBoZXJlJyksXG4gICAgJ1VwbG9hZCBmcm9tIGxvY2FsIGlzIGZvciBkZW1vIHB1cnBvc2VzIG9ubHkuIEl0IHNsb3dzIGRvd24gdGhlIHBhZ2UgYW5kIGluY3JlYXNlcyB0aGUgZmlsZSBzaXplLic6IHRoaXMuX3RyYW5zbGF0ZSgnVXBsb2FkIGZyb20gbG9jYWwgaXMgZm9yIGRlbW8gcHVycG9zZXMgb25seS4gSXQgc2xvd3MgZG93biB0aGUgcGFnZSBhbmQgaW5jcmVhc2VzIHRoZSBmaWxlIHNpemUuJyksXG4gICAgJ3VwbG9hZGVkJzogdGhpcy5fdHJhbnNsYXRlKCd1cGxvYWRlZCcpLFxuICAgICdmaWxlJzogdGhpcy5fdHJhbnNsYXRlKCdmaWxlJyksXG4gICAgJ2ZpbGVzJzogdGhpcy5fdHJhbnNsYXRlKCdmaWxlcycpLFxuICAgICdzZWxlY3RlZCc6IHRoaXMuX3RyYW5zbGF0ZSgnc2VsZWN0ZWQnKSxcbiAgICAnVXBsb2FkIGFnYWluJzogdGhpcy5fdHJhbnNsYXRlKCdVcGxvYWQgYWdhaW4nKSxcbiAgICAnRHJhZyBoZXJlJzogdGhpcy5fdHJhbnNsYXRlKCdEcmFnIGhlcmUnKSxcbiAgfTtcblxuICBEcmFnRHJvcEltYWdlcy5DU1MgPSBgXG4gICAgLnBqcy12aXNpYmxlIHtcbiAgICAgIHZpc2liaWxpdHk6IHZpc2libGUgIWltcG9ydGFudDtcbiAgICAgIGRpc3BsYXk6IGJsb2NrICFpbXBvcnRhbnQ7XG4gICAgfVxuICAgIFxuICAgICNwanMtZHJvcC16b25lIHtcbiAgICAgIHZpc2liaWxpdHk6IGhpZGRlbjtcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzU1NTU1NTtcbiAgICAgIHotaW5kZXg6IDE7XG4gICAgICBvcGFjaXR5OiAwLjk7XG4gICAgfVxuXG4gICAgI3Bqcy1kcm9wLXpvbmUtYm9yZGVyIHtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHggMTBweCAxMHB4IDEwcHg7XG4gICAgICAtbW96LWJvcmRlci1yYWRpdXM6IDEwcHggMTBweCAxMHB4IDEwcHg7XG4gICAgICAtd2Via2l0LWJvcmRlci1yYWRpdXM6IDEwcHggMTBweCAxMHB4IDEwcHg7XG4gICAgICBib3JkZXI6IDVweCBkYXNoZWQgIzAwMDAwMDtcbiAgICAgIHotaW5kZXg6IDI7XG4gICAgICBkaXNwbGF5OiB0YWJsZTtcbiAgICAgIHdpZHRoOiA5OC45JTtcbiAgICAgIGhlaWdodDogMTAwJTsgXG4gICAgfVxuXG4gICAgLnBqcy1kcm9wLXpvbmUtdGV4dCB7XG4gICAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xuICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICBmb250LXNpemU6IDI1cHg7XG4gICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICAgIG1hcmdpbjogMCBhdXRvO1xuICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgZGlzcGxheTogdGFibGUtY2VsbDtcbiAgfWA7XG5cbiAgRHJhZ0Ryb3BJbWFnZXMuSFRNTF9NQVJLVVAgPSAnPGRpdiBpZD1cInBqcy1kcm9wLXpvbmVcIj4nK1xuICAgICAgICAnPGRpdiBpZD1cInBqcy1kcm9wLXpvbmUtYm9yZGVyXCI+JytcbiAgICAgICAgICAnPGRpdiBjbGFzcz1cInBqcy1kcm9wLXpvbmUtdGV4dFwiPicrXG4gICAgICAgICAgdGV4dFsnRHJhZyBoZXJlJ10rXG4gICAgICAgICc8L2Rpdj4nK1xuICAgICAgJzwvZGl2PicrXG4gICc8L2Rpdj4nO1xuXG4gIHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gIHN0eWxlLnR5cGUgPSAndGV4dC9jc3MnO1xuICBzdHlsZS5pbm5lckhUTUwgPSBEcmFnRHJvcEltYWdlcy5DU1M7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdIRUFEJylbMF0uYXBwZW5kQ2hpbGQoc3R5bGUpO1xuXG4gIGNvbnN0IGNhbnZhc0RPTSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdub3RlQ2FudmFzJyk7XG5cbiAgY29uc3QgY29udGFpbmVyID0gdGhpcy5fY29udGFpbmVyID0gZG9taWZ5KERyYWdEcm9wSW1hZ2VzLkhUTUxfTUFSS1VQKTtcbiAgY2FudmFzRE9NLmluc2VydEJlZm9yZShjb250YWluZXIsIGNhbnZhcy5maXJzdENoaWxkKTtcblxuICBmdW5jdGlvbiBwcmV2ZW50RGVmYXVsdHMoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICB9XG5cbiAgZG9tRXZlbnQuYmluZChjYW52YXNET00sICdkcmFnJywgZnVuY3Rpb24oZXYpIHtcbiAgfSwgZmFsc2UpO1xuICBkb21FdmVudC5iaW5kKGNhbnZhc0RPTSwgJ2RyYWdzdGFydCcsIGZ1bmN0aW9uKGV2KSB7XG4gIH0sIGZhbHNlKTtcbiAgZG9tRXZlbnQuYmluZChjYW52YXNET00sICdkcmFnZW5kJywgZnVuY3Rpb24oZXYpIHtcbiAgfSwgZmFsc2UpO1xuICBkb21FdmVudC5iaW5kKGNhbnZhc0RPTSwgJ2RyYWdvdmVyJywgZnVuY3Rpb24oZXYpIHtcbiAgICBwcmV2ZW50RGVmYXVsdHMoZXYpO1xuICB9LCBmYWxzZSk7XG4gIGRvbUV2ZW50LmJpbmQoY2FudmFzRE9NLCAnZHJhZ2VudGVyJywgZnVuY3Rpb24oZXYpIHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGpzLWRyb3Atem9uZScpLmNsYXNzTGlzdC5hZGQoJ3Bqcy12aXNpYmxlJyk7XG4gIH0sIGZhbHNlKTtcbiAgZG9tRXZlbnQuYmluZChjYW52YXNET00sJ2RyYWdsZWF2ZScsIGZ1bmN0aW9uKGV2KSB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Bqcy1kcm9wLXpvbmUnKS5jbGFzc0xpc3QucmVtb3ZlKCdwanMtdmlzaWJsZScpO1xuICB9LCBmYWxzZSk7XG4gIGRvbUV2ZW50LmJpbmQoY2FudmFzRE9NLCAnZHJvcCcsIGFzeW5jIGZ1bmN0aW9uKGV2KSB7XG4gICAgcHJldmVudERlZmF1bHRzKGV2KTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGpzLWRyb3Atem9uZScpLmNsYXNzTGlzdC5yZW1vdmUoJ3Bqcy12aXNpYmxlJyk7XG4gICAgdXBsb2FkRmlsZXMoZXYpO1xuICB9LCBmYWxzZSk7XG5cblxuICBhc3luYyBmdW5jdGlvbiB1cGxvYWRGaWxlcyhldikge1xuICAgIGxldCB1cGxvYWREaXNwbGF5VGV4dDtcbiAgICBsZXQgdXBsb2FkUmVzdWx0T2JqID0gYXdhaXQgZmlsZVJlYWRlcihldiwgbnVsbCk7XG4gICAgbGV0IHVwbG9hZEltYWdlUmVzdWx0ID0gdXBsb2FkUmVzdWx0T2JqLmltYWdlX3Jlc3VsdHM7XG4gICAgbGV0IHVwbG9hZEZpbGVSZXN1bHQgPSB1cGxvYWRSZXN1bHRPYmouZmlsZV9yZXN1bHRzO1xuICAgIGxldCBlcnJvcnMgPSB1cGxvYWRSZXN1bHRPYmouZXJyb3JzO1xuICAgIGlmICghZXJyb3JzKSB7XG4gICAgICBsZXQgdXBsb2FkZWRGaWxlc0NvdW50ID0gKHVwbG9hZEZpbGVSZXN1bHQubGVuZ3RoKSA/IHVwbG9hZEZpbGVSZXN1bHQubGVuZ3RoIDogbnVsbDtcbiAgICAgIHVwbG9hZERpc3BsYXlUZXh0ID0gdXBsb2FkZWRGaWxlc0NvdW50O1xuICAgICAgaWYgKGlzTmFOKHVwbG9hZGVkRmlsZXNDb3VudCkgPT09IGZhbHNlKSB7XG4gICAgICAgIGNvbnN0IGZpbGVQbHVyYWxUZXh0ID0rICh1cGxvYWRGaWxlUmVzdWx0Lmxlbmd0aCA9PSAxKSA/IHRleHRbJ2ZpbGUnXSA6IHRleHRbJ2ZpbGVzJ107XG4gICAgICAgIHVwbG9hZERpc3BsYXlUZXh0ICs9ICcgJyArIGZpbGVQbHVyYWxUZXh0ICsgJyAnICsgdGV4dFsndXBsb2FkZWQnXTtcbiAgICAgIH1cblxuICAgICAgbGV0IGkgPSB1cGxvYWRGaWxlUmVzdWx0Lmxlbmd0aDtcbiAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgY3JlYXRlSW1hZ2VFbGVtZW50KGV2LCBjb252ZXJ0VG9FbnRyeSh7IHNvdXJjZTogdXBsb2FkSW1hZ2VSZXN1bHRbaV0sIGZpbGVfc291cmNlOiB1cGxvYWRGaWxlUmVzdWx0W2ldIH0pKTtcbiAgICAgIH1cbiAgICAgIGNvbnNvbGUubG9nKHVwbG9hZERpc3BsYXlUZXh0KTtcbiAgICB9XG4gIH1cbn1cblxuY29uc3QgY29udmVydFRvRW50cnkgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gIHJldHVybiB7IC4uLkVOVFJZX1BST1RPVFlQRSgpLCAuLi5vcHRpb25zIH07XG59O1xuXG5jb25zdCBfY3JlYXRlSW1hZ2VFbGVtZW50ID0gYXN5bmMgZnVuY3Rpb24oZXZlbnQsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwgW107XG4gIGNvbnN0IHNoYXBlID0gdGhpcy5fZWxlbWVudEZhY3RvcnkuY3JlYXRlU2hhcGUoe1xuICAgIHR5cGU6IFBPU1RJVF9JTUFHRSxcbiAgICAuLi5vcHRpb25zLFxuICB9KTtcbiAgY29uc3QgYXR0YWNoID0gZmFsc2U7XG4gIGNvbnN0IGhpbnRzID0geyBjcmVhdGVFbGVtZW50c0JlaGF2aW9yOiBmYWxzZSB9O1xuICBjb25zdCBwb3NpdGlvbiA9IHsgeDogZXZlbnQueCArIChNYXRoLnJhbmRvbSgpICogMTAwKSwgeTogZXZlbnQueSArIChNYXRoLnJhbmRvbSgpICogMTAwKSB9O1xuICBjb25zdCB0YXJnZXQgPSB0aGlzLl9jYW52YXMuZ2V0Um9vdEVsZW1lbnQoKTtcbiAgdmFyIGVsZW1lbnRzID0gdGhpcy5fbW9kZWxpbmcuY3JlYXRlRWxlbWVudHMoW3NoYXBlXSwgcG9zaXRpb24sIHRhcmdldCwgYXNzaWduKHt9LCBoaW50cywge1xuICAgIGF0dGFjaDogYXR0YWNoLFxuICB9KSk7XG5cbiAgdmFyIHVybFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMod2luZG93LmxvY2F0aW9uLnNlYXJjaCk7XG4gIHZhciBzX2tleSA9IHVybFBhcmFtcy5nZXQoJ3Nfa2V5Jyk7XG4gIGlmKCBzX2tleSA9PT0gbnVsbCApIHtcbiAgICBzaGVwaGVyZEFsZXJ0KFwiU2NyaXB0IFJlcXVpcmVkXCIsIFwiWW91IG11c3Qgb3BlbiBhIHNjcmlwdCBiZWZvcmUgeW91IGNhbiB0YWtlIG5vdGVzIVwiKVxuICB9IGVsc2Uge1xuICAgIGxldCBibG9iID0gIG9wdGlvbnMuZmlsZV9zb3VyY2U7XG5cbiAgICAvLyBVZ2x5IGJlY2F1c2Ugd2UgZXhwZWN0IHRoaXMgVVJMIHRvIGV4aXN0IG9uIHRoZSBwYWdlLlxuICAgIHZhciB1cGxvYWQgPSBuZXcgQWN0aXZlU3RvcmFnZS5EaXJlY3RVcGxvYWQoXG4gICAgICBibG9iLFxuICAgICAgZGlyZWN0X3VwbG9hZF91cmxcbiAgICApO1xuXG4gICAgYXdhaXQgdXBsb2FkLmNyZWF0ZShmdW5jdGlvbihlbGVtZW50cywgZXJyb3IsIGJsb2IpIHtcbiAgICAgIGlmKCBlcnJvciAhPT0gbnVsbCApIHtcbiAgICAgICAgaWYoIGVycm9yLnNlYXJjaChcIlN0YXR1czogNDAzXCIpID49IDAgKSB7XG4gICAgICAgICAgc2hlcGhlcmRBbGVydChcIlN1YnNjcmlwdGlvbiBOZWVkZWQhXCIsIFwiWW91IG11c3QgaGF2ZSBhbiBhY3RpdmUgc3Vic2NyaXB0aW9uIHRvIHNhdmUgaW1hZ2VzISBZb3UgY2FuIHNpZ24gdXAgPGJ1dHRvbiBkYXRhLXRvZ2dsZT1cXFwibW9kYWxcXFwiIGhyZWY9XFxcIiNzdWJzY3JpcHRpb25Nb2RhbFxcXCIgb25jbGljaz1cXFwiU2hlcGhlcmQuYWN0aXZlVG91ci5jb21wbGV0ZSgpOyAkKCcjaWRlYXRvck5vdGVzTW9kYWwnKS5tb2RhbCgnaGlkZScpO1xcXCIgZGF0YS1kZXNjcmlwdGlvbj1cXFwiU2lnbiB1cCBmb3IgaW1hZ2UgdXBsb2FkaW5nIGFuZCBvdGhlciBncmVhdCBmZWF0dWVycyFcXFwiIGRhdGEtcmVzZXQ9XFxcIiQoJyNpZGVhdG9yTm90ZXNNb2RhbCcpLm1vZGFsKFxcJ3Nob3dcXCcpO1xcXCIgc3R5bGU9XFxcImNvbG9yOiBibHVlOyBtYXJnaW4tbGVmdDogLTZweDsgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XFxcIj5oZXJlITwvYnV0dG9uPlwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzaGVwaGVyZEFsZXJ0KFwiVXBsb2FkIEVycm9yXCIsIGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmKCBibG9iLmtleSApIHtcbiAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICB0eXBlOiBcIkdFVFwiLFxuICAgICAgICAgIGJlZm9yZVNlbmQ6IGZ1bmN0aW9uKHhocikge1xuICAgICAgICAgICAgICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ1gtQ1NSRi1Ub2tlbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnbWV0YVtuYW1lPVwiY3NyZi10b2tlblwiXScpLmF0dHIoJ2NvbnRlbnQnKSk7XG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgIHVybDogXCIvc2NyaXB0cy9cIiArIHNfa2V5ICsgXCIvaW1hZ2VfdXJsL1wiICsgYmxvYi5rZXksXG4gICAgICAgICAgcmVzcG9uc2VUeXBlOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihlbGVtZW50cywgZGF0YSkge1xuICAgICAgICAgICAgZm9yKCBsZXQgZWxlbWVudCBpbiBlbGVtZW50cyApIHtcbiAgICAgICAgICAgICAgdGhpcy5fbW9kZWxpbmcudXBkYXRlUHJvcGVydGllcyhlbGVtZW50c1tlbGVtZW50XSwge1xuICAgICAgICAgICAgICAgIHNvdXJjZTogZGF0YS51cmwsXG4gICAgICAgICAgICAgICAga2V5OiBkYXRhLmtleVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LmJpbmQodGhpcywgZWxlbWVudHMpXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2hlcGhlcmRBbGVydChcIlVua25vd24gRXJyb3JcIiwgXCJXZSd2ZSBsb2dnZWQgdGhpcyBpc3N1ZS4gIElmIGl0IGNvbnRpbnVlcywgcGxlYXNlIHJlYWNoIG91dCB0byBzdXBwb3J0LlwiKTtcbiAgICAgICAgQnVnc25hZy5ub3RpZnkoXCJVbmtub3duIHVwbG9hZCByZXNwb25zZTogXCIgKyBibG9iLnRvU3RyaW5nKCkgKVxuICAgICAgfVxuICAgIH0uYmluZCh0aGlzLCBlbGVtZW50cykpO1xuICB9XG5cbiAgcmV0dXJuIHsgaWQ6IHNoYXBlLmlkLCB4OiBwb3NpdGlvbi54LCB5OiBwb3NpdGlvbi55LCBzaGFwZSwgd2lkdGg6IHNoYXBlLndpZHRoLCBoZWlnaHQ6IHNoYXBlLmhlaWdodCB9O1xufTtcblxuRHJhZ0Ryb3BJbWFnZXMucHJvdG90eXBlLiRpbmplY3QgPSBbXG4gICdldmVudEJ1cycsXG4gICdjYW52YXMnLFxuICAnbW9kZWxpbmcnLFxuICAnZWxlbWVudEZhY3RvcnknLFxuICAnY3JlYXRlJyxcbiAgJ3RyYW5zbGF0ZSdcbl07XG4iLCJpbXBvcnQgRHJhZ0Ryb3BJbWFnZXMgZnJvbSAnLi9EcmFnRHJvcEltYWdlcyc7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgX19pbml0X186IFsgJ2RyYWdEcm9wSW1hZ2VzJyBdLFxuICBkcmFnRHJvcEltYWdlczogWyAndHlwZScsIERyYWdEcm9wSW1hZ2VzXVxufTtcbiIsImltcG9ydCBpbmhlcml0cyBmcm9tICdpbmhlcml0cyc7XG5cbmltcG9ydCBCYXNlTW9kZWxlciBmcm9tICcuL0Jhc2VNb2RlbGVyJztcblxuaW1wb3J0IFZpZXdlciBmcm9tICcuL1ZpZXdlcic7XG5pbXBvcnQgTmF2aWdhdGVkVmlld2VyIGZyb20gJy4vTmF2aWdhdGVkVmlld2VyJztcblxuaW1wb3J0IEtleWJvYXJkTW92ZU1vZHVsZSBmcm9tICdkaWFncmFtLWpzL2xpYi9uYXZpZ2F0aW9uL2tleWJvYXJkLW1vdmUnO1xuaW1wb3J0IE1vdmVDYW52YXNNb2R1bGUgZnJvbSAnZGlhZ3JhbS1qcy9saWIvbmF2aWdhdGlvbi9tb3ZlY2FudmFzJztcbmltcG9ydCBUb3VjaE1vZHVsZSBmcm9tICdkaWFncmFtLWpzL2xpYi9uYXZpZ2F0aW9uL3RvdWNoJztcbmltcG9ydCBab29tU2Nyb2xsTW9kdWxlIGZyb20gJ2RpYWdyYW0tanMvbGliL25hdmlnYXRpb24vem9vbXNjcm9sbCc7XG5cbmltcG9ydCBBbGlnbkVsZW1lbnRzTW9kdWxlIGZyb20gJ2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2FsaWduLWVsZW1lbnRzJztcbmltcG9ydCBBdXRvU2Nyb2xsTW9kdWxlIGZyb20gJ2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2F1dG8tc2Nyb2xsJztcbmltcG9ydCBCZW5kcG9pbnRzTW9kdWxlIGZyb20gJ2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2JlbmRwb2ludHMnO1xuaW1wb3J0IENhbnZhc0NyZWF0ZSBmcm9tICcuL2ZlYXR1cmVzL2NhbnZhcy1jcmVhdGUnO1xuaW1wb3J0IENvbm5lY3RNb2R1bGUgZnJvbSAnZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvY29ubmVjdCc7XG5pbXBvcnQgQ29ubmVjdGlvblByZXZpZXdNb2R1bGUgZnJvbSAnZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvY29ubmVjdGlvbi1wcmV2aWV3JztcbmltcG9ydCBDb250ZXh0UGFkTW9kdWxlIGZyb20gJy4vZmVhdHVyZXMvY29udGV4dC1wYWQnO1xuaW1wb3J0IENvcHlQYXN0ZU1vZHVsZSBmcm9tICcuL2ZlYXR1cmVzL2NvcHktcGFzdGUnO1xuaW1wb3J0IENyZWF0ZU1vZHVsZSBmcm9tICdkaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9jcmVhdGUnO1xuaW1wb3J0IEVkaXRvckFjdGlvbnNNb2R1bGUgZnJvbSAnLi9mZWF0dXJlcy9lZGl0b3ItYWN0aW9ucyc7XG5pbXBvcnQgSW1hZ2VTZWxlY3Rpb25Nb2R1bGUgZnJvbSAnLi9mZWF0dXJlcy9pbWFnZS1zZWxlY3Rpb24nO1xuaW1wb3J0IEtleWJvYXJkTW9kdWxlIGZyb20gJy4vZmVhdHVyZXMva2V5Ym9hcmQnO1xuaW1wb3J0IEtleWJvYXJkTW92ZVNlbGVjdGlvbk1vZHVsZSBmcm9tICdkaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9rZXlib2FyZC1tb3ZlLXNlbGVjdGlvbic7XG5pbXBvcnQgTGFiZWxFZGl0aW5nTW9kdWxlIGZyb20gJy4vZmVhdHVyZXMvbGFiZWwtZWRpdGluZyc7XG5pbXBvcnQgTW9kZWxpbmdNb2R1bGUgZnJvbSAnLi9mZWF0dXJlcy9tb2RlbGluZyc7XG5pbXBvcnQgTW92ZU1vZHVsZSBmcm9tICdkaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9tb3ZlJztcbmltcG9ydCBQYWxldHRlTW9kdWxlIGZyb20gJy4vZmVhdHVyZXMvcGFsZXR0ZSc7XG5pbXBvcnQgUmVwbGFjZVByZXZpZXdNb2R1bGUgZnJvbSAnLi9mZWF0dXJlcy9yZXBsYWNlLXByZXZpZXcnO1xuaW1wb3J0IFJlc2l6ZU1vZHVsZSBmcm9tICdkaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9yZXNpemUnO1xuaW1wb3J0IFNuYXBwaW5nTW9kdWxlIGZyb20gJy4vZmVhdHVyZXMvc25hcHBpbmcnO1xuXG5pbXBvcnQgRHJhZ0Ryb3BJbWFnZXNNb2R1bGUgZnJvbSAnLi9mZWF0dXJlcy9kcmFnLWRyb3AtaW1hZ2VzJztcbi8vaW1wb3J0IFNlbGVjdGlvbk9yZ2FuaXplck1vZHVsZSBmcm9tICcuL2ZlYXR1cmVzL3NlbGVjdGlvbi1vcmdhbml6ZXInO1xuLy9pbXBvcnQgUHJvcGVydGllc1BhbmVsTW9kdWxlIGZyb20gJy4vZmVhdHVyZXMvcHJvcGVydGllcy1wYW5lbC12Mic7XG4vL2ltcG9ydCBJbWFnZVNlbGVjdGlvbk1vZHVsZSBmcm9tICcuL2ZlYXR1cmVzL2ltYWdlLXNlbGVjdGlvbi12Mic7XG4vLyBUT0RPIC0gQWN0aXZhdGUgbmV3IG9wdGlvbnMgaGVyZS5cblxuXG52YXIgaW5pdGlhbERpYWdyYW0gPVxuICBgPD94bWwgdmVyc2lvbj1cIjEuMFwiIGVuY29kaW5nPVwiVVRGLThcIj8+XG4gIDxwb3N0aXQ6ZGVmaW5pdGlvbnMgeG1sbnM6eHNpPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2VcIiB4bWxuczpkYz1cImh0dHA6Ly93d3cub21nLm9yZy9zcGVjL0RELzIwMTAwNTI0L0RDXCIgeG1sbnM6ZGk9XCJodHRwOi8vd3d3Lm9tZy5vcmcvc3BlYy9ERC8yMDEwMDUyNC9ESVwiIGlkPVwic2FtcGxlLWRpYWdyYW1cIj5cbiAgICA8cG9zdGl0OlBvc3RpdEJvYXJkIGlkPVwiQm9hcmRfMVwiPlxuICAgIDwvcG9zdGl0OlBvc3RpdEJvYXJkPlxuICAgIDxwb3N0aXREaTpQb3N0aXRSb290Qm9hcmQgaWQ9XCJSb290Qm9hcmRfMVwiPlxuICAgICAgPHBvc3RpdERpOlBvc3RpdFBsYW5lIGlkPVwiUG9zaXRQbGFuZV8xXCIgYm9hcmRFbGVtZW50PVwiQm9hcmRfMVwiPlxuICAgICAgPC9wb3N0aXREaTpQb3N0aXRQbGFuZT5cbiAgICA8L3Bvc3RpdERpOlBvc3RpdFJvb3RCb2FyZD5cbiAgPC9wb3N0aXQ6ZGVmaW5pdGlvbnM+YDtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTW9kZWxlcihvcHRpb25zKSB7XG4gIEJhc2VNb2RlbGVyLmNhbGwodGhpcywgb3B0aW9ucyk7XG59XG5pbmhlcml0cyhNb2RlbGVyLCBCYXNlTW9kZWxlcik7XG5cblxuTW9kZWxlci5WaWV3ZXIgPSBWaWV3ZXI7XG5Nb2RlbGVyLk5hdmlnYXRlZFZpZXdlciA9IE5hdmlnYXRlZFZpZXdlcjtcblxuLyoqXG4qIFRoZSBjcmVhdGVEaWFncmFtIHJlc3VsdC5cbipcbiogQHR5cGVkZWYge09iamVjdH0gQ3JlYXRlRGlhZ3JhbVJlc3VsdFxuKlxuKiBAcHJvcGVydHkge0FycmF5PHN0cmluZz59IHdhcm5pbmdzXG4qL1xuXG4vKipcbiogVGhlIGNyZWF0ZURpYWdyYW0gZXJyb3IuXG4qXG4qIEB0eXBlZGVmIHtFcnJvcn0gQ3JlYXRlRGlhZ3JhbUVycm9yXG4qXG4qIEBwcm9wZXJ0eSB7QXJyYXk8c3RyaW5nPn0gd2FybmluZ3NcbiovXG5cbi8qKlxuICogQ3JlYXRlIGEgbmV3IGRpYWdyYW0gdG8gc3RhcnQgbW9kZWxpbmcuXG4gKlxuICogQHJldHVybnMge1Byb21pc2U8Q3JlYXRlRGlhZ3JhbVJlc3VsdCwgQ3JlYXRlRGlhZ3JhbUVycm9yPn1cbiAqXG4gKi9cbk1vZGVsZXIucHJvdG90eXBlLmNyZWF0ZURpYWdyYW0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuaW1wb3J0WE1MKGluaXRpYWxEaWFncmFtKTtcbn07XG5cblxuTW9kZWxlci5wcm90b3R5cGUuX2ludGVyYWN0aW9uTW9kdWxlcyA9IFtcblxuICAvLyBub24tbW9kZWxpbmcgY29tcG9uZW50c1xuICBLZXlib2FyZE1vdmVNb2R1bGUsXG4gIE1vdmVDYW52YXNNb2R1bGUsXG4gIFRvdWNoTW9kdWxlLFxuICBab29tU2Nyb2xsTW9kdWxlXG5dO1xuXG5Nb2RlbGVyLnByb3RvdHlwZS5fbW9kZWxpbmdNb2R1bGVzID0gW1xuXG4gIC8vIG1vZGVsaW5nIGNvbXBvbmVudHNcbiAgQWxpZ25FbGVtZW50c01vZHVsZSxcbiAgQXV0b1Njcm9sbE1vZHVsZSxcbiAgQmVuZHBvaW50c01vZHVsZSxcbiAgQ2FudmFzQ3JlYXRlLFxuICBDb25uZWN0TW9kdWxlLFxuICBDb25uZWN0aW9uUHJldmlld01vZHVsZSxcbiAgQ29udGV4dFBhZE1vZHVsZSxcbiAgQ29weVBhc3RlTW9kdWxlLFxuICBDcmVhdGVNb2R1bGUsXG4gIEVkaXRvckFjdGlvbnNNb2R1bGUsXG4gIEltYWdlU2VsZWN0aW9uTW9kdWxlLFxuICBLZXlib2FyZE1vZHVsZSxcbiAgS2V5Ym9hcmRNb3ZlU2VsZWN0aW9uTW9kdWxlLFxuICBMYWJlbEVkaXRpbmdNb2R1bGUsXG4gIE1vZGVsaW5nTW9kdWxlLFxuICBNb3ZlTW9kdWxlLFxuICBQYWxldHRlTW9kdWxlLFxuICBSZXBsYWNlUHJldmlld01vZHVsZSxcbiAgUmVzaXplTW9kdWxlLFxuICBTbmFwcGluZ01vZHVsZSxcblxuICBEcmFnRHJvcEltYWdlc01vZHVsZSxcbiAgLy9TZWxlY3Rpb25Pcmdhbml6ZXJNb2R1bGUsXG4gIC8vUHJvcGVydGllc1BhbmVsTW9kdWxlLFxuICAvL0ltYWdlU2VsZWN0aW9uTW9kdWxlLFxuICAvLyBUT0RPIC0gYW5kIGhlcmVcbiAgXG5dO1xuXG5cbi8vIG1vZHVsZXMgdGhlIG1vZGVsZXIgaXMgY29tcG9zZWQgb2Zcbi8vXG4vLyAtIHZpZXdlciBtb2R1bGVzXG4vLyAtIGludGVyYWN0aW9uIG1vZHVsZXNcbi8vIC0gbW9kZWxpbmcgbW9kdWxlc1xuXG5Nb2RlbGVyLnByb3RvdHlwZS5fbW9kdWxlcyA9IFtdLmNvbmNhdChcbiAgVmlld2VyLnByb3RvdHlwZS5fbW9kdWxlcyxcbiAgTW9kZWxlci5wcm90b3R5cGUuX2ludGVyYWN0aW9uTW9kdWxlcyxcbiAgTW9kZWxlci5wcm90b3R5cGUuX21vZGVsaW5nTW9kdWxlc1xuKTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIE1vZGVsZXIgPSByZXF1aXJlKCcuL01vZGVsZXInKTtcblxubW9kdWxlLmV4cG9ydHMgPSBNb2RlbGVyO1xuIiwiLyohIGh0dHBzOi8vbXRocy5iZS9jc3Nlc2NhcGUgdjEuNS4xIGJ5IEBtYXRoaWFzIHwgTUlUIGxpY2Vuc2UgKi9cbjsoZnVuY3Rpb24ocm9vdCwgZmFjdG9yeSkge1xuXHQvLyBodHRwczovL2dpdGh1Yi5jb20vdW1kanMvdW1kL2Jsb2IvbWFzdGVyL3JldHVybkV4cG9ydHMuanNcblx0aWYgKHR5cGVvZiBleHBvcnRzID09ICdvYmplY3QnKSB7XG5cdFx0Ly8gRm9yIE5vZGUuanMuXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJvb3QpO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG5cdFx0Ly8gRm9yIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cblx0XHRkZWZpbmUoW10sIGZhY3RvcnkuYmluZChyb290LCByb290KSk7XG5cdH0gZWxzZSB7XG5cdFx0Ly8gRm9yIGJyb3dzZXIgZ2xvYmFscyAobm90IGV4cG9zaW5nIHRoZSBmdW5jdGlvbiBzZXBhcmF0ZWx5KS5cblx0XHRmYWN0b3J5KHJvb3QpO1xuXHR9XG59KHR5cGVvZiBnbG9iYWwgIT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWwgOiB0aGlzLCBmdW5jdGlvbihyb290KSB7XG5cblx0aWYgKHJvb3QuQ1NTICYmIHJvb3QuQ1NTLmVzY2FwZSkge1xuXHRcdHJldHVybiByb290LkNTUy5lc2NhcGU7XG5cdH1cblxuXHQvLyBodHRwczovL2RyYWZ0cy5jc3N3Zy5vcmcvY3Nzb20vI3NlcmlhbGl6ZS1hbi1pZGVudGlmaWVyXG5cdHZhciBjc3NFc2NhcGUgPSBmdW5jdGlvbih2YWx1ZSkge1xuXHRcdGlmIChhcmd1bWVudHMubGVuZ3RoID09IDApIHtcblx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ2BDU1MuZXNjYXBlYCByZXF1aXJlcyBhbiBhcmd1bWVudC4nKTtcblx0XHR9XG5cdFx0dmFyIHN0cmluZyA9IFN0cmluZyh2YWx1ZSk7XG5cdFx0dmFyIGxlbmd0aCA9IHN0cmluZy5sZW5ndGg7XG5cdFx0dmFyIGluZGV4ID0gLTE7XG5cdFx0dmFyIGNvZGVVbml0O1xuXHRcdHZhciByZXN1bHQgPSAnJztcblx0XHR2YXIgZmlyc3RDb2RlVW5pdCA9IHN0cmluZy5jaGFyQ29kZUF0KDApO1xuXHRcdHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG5cdFx0XHRjb2RlVW5pdCA9IHN0cmluZy5jaGFyQ29kZUF0KGluZGV4KTtcblx0XHRcdC8vIE5vdGU6IHRoZXJl4oCZcyBubyBuZWVkIHRvIHNwZWNpYWwtY2FzZSBhc3RyYWwgc3ltYm9scywgc3Vycm9nYXRlXG5cdFx0XHQvLyBwYWlycywgb3IgbG9uZSBzdXJyb2dhdGVzLlxuXG5cdFx0XHQvLyBJZiB0aGUgY2hhcmFjdGVyIGlzIE5VTEwgKFUrMDAwMCksIHRoZW4gdGhlIFJFUExBQ0VNRU5UIENIQVJBQ1RFUlxuXHRcdFx0Ly8gKFUrRkZGRCkuXG5cdFx0XHRpZiAoY29kZVVuaXQgPT0gMHgwMDAwKSB7XG5cdFx0XHRcdHJlc3VsdCArPSAnXFx1RkZGRCc7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoXG5cdFx0XHRcdC8vIElmIHRoZSBjaGFyYWN0ZXIgaXMgaW4gdGhlIHJhbmdlIFtcXDEtXFwxRl0gKFUrMDAwMSB0byBVKzAwMUYpIG9yIGlzXG5cdFx0XHRcdC8vIFUrMDA3RiwgW+KApl1cblx0XHRcdFx0KGNvZGVVbml0ID49IDB4MDAwMSAmJiBjb2RlVW5pdCA8PSAweDAwMUYpIHx8IGNvZGVVbml0ID09IDB4MDA3RiB8fFxuXHRcdFx0XHQvLyBJZiB0aGUgY2hhcmFjdGVyIGlzIHRoZSBmaXJzdCBjaGFyYWN0ZXIgYW5kIGlzIGluIHRoZSByYW5nZSBbMC05XVxuXHRcdFx0XHQvLyAoVSswMDMwIHRvIFUrMDAzOSksIFvigKZdXG5cdFx0XHRcdChpbmRleCA9PSAwICYmIGNvZGVVbml0ID49IDB4MDAzMCAmJiBjb2RlVW5pdCA8PSAweDAwMzkpIHx8XG5cdFx0XHRcdC8vIElmIHRoZSBjaGFyYWN0ZXIgaXMgdGhlIHNlY29uZCBjaGFyYWN0ZXIgYW5kIGlzIGluIHRoZSByYW5nZSBbMC05XVxuXHRcdFx0XHQvLyAoVSswMDMwIHRvIFUrMDAzOSkgYW5kIHRoZSBmaXJzdCBjaGFyYWN0ZXIgaXMgYSBgLWAgKFUrMDAyRCksIFvigKZdXG5cdFx0XHRcdChcblx0XHRcdFx0XHRpbmRleCA9PSAxICYmXG5cdFx0XHRcdFx0Y29kZVVuaXQgPj0gMHgwMDMwICYmIGNvZGVVbml0IDw9IDB4MDAzOSAmJlxuXHRcdFx0XHRcdGZpcnN0Q29kZVVuaXQgPT0gMHgwMDJEXG5cdFx0XHRcdClcblx0XHRcdCkge1xuXHRcdFx0XHQvLyBodHRwczovL2RyYWZ0cy5jc3N3Zy5vcmcvY3Nzb20vI2VzY2FwZS1hLWNoYXJhY3Rlci1hcy1jb2RlLXBvaW50XG5cdFx0XHRcdHJlc3VsdCArPSAnXFxcXCcgKyBjb2RlVW5pdC50b1N0cmluZygxNikgKyAnICc7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoXG5cdFx0XHRcdC8vIElmIHRoZSBjaGFyYWN0ZXIgaXMgdGhlIGZpcnN0IGNoYXJhY3RlciBhbmQgaXMgYSBgLWAgKFUrMDAyRCksIGFuZFxuXHRcdFx0XHQvLyB0aGVyZSBpcyBubyBzZWNvbmQgY2hhcmFjdGVyLCBb4oCmXVxuXHRcdFx0XHRpbmRleCA9PSAwICYmXG5cdFx0XHRcdGxlbmd0aCA9PSAxICYmXG5cdFx0XHRcdGNvZGVVbml0ID09IDB4MDAyRFxuXHRcdFx0KSB7XG5cdFx0XHRcdHJlc3VsdCArPSAnXFxcXCcgKyBzdHJpbmcuY2hhckF0KGluZGV4KTtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdC8vIElmIHRoZSBjaGFyYWN0ZXIgaXMgbm90IGhhbmRsZWQgYnkgb25lIG9mIHRoZSBhYm92ZSBydWxlcyBhbmQgaXNcblx0XHRcdC8vIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byBVKzAwODAsIGlzIGAtYCAoVSswMDJEKSBvciBgX2AgKFUrMDA1RiksIG9yXG5cdFx0XHQvLyBpcyBpbiBvbmUgb2YgdGhlIHJhbmdlcyBbMC05XSAoVSswMDMwIHRvIFUrMDAzOSksIFtBLVpdIChVKzAwNDEgdG9cblx0XHRcdC8vIFUrMDA1QSksIG9yIFthLXpdIChVKzAwNjEgdG8gVSswMDdBKSwgW+KApl1cblx0XHRcdGlmIChcblx0XHRcdFx0Y29kZVVuaXQgPj0gMHgwMDgwIHx8XG5cdFx0XHRcdGNvZGVVbml0ID09IDB4MDAyRCB8fFxuXHRcdFx0XHRjb2RlVW5pdCA9PSAweDAwNUYgfHxcblx0XHRcdFx0Y29kZVVuaXQgPj0gMHgwMDMwICYmIGNvZGVVbml0IDw9IDB4MDAzOSB8fFxuXHRcdFx0XHRjb2RlVW5pdCA+PSAweDAwNDEgJiYgY29kZVVuaXQgPD0gMHgwMDVBIHx8XG5cdFx0XHRcdGNvZGVVbml0ID49IDB4MDA2MSAmJiBjb2RlVW5pdCA8PSAweDAwN0Fcblx0XHRcdCkge1xuXHRcdFx0XHQvLyB0aGUgY2hhcmFjdGVyIGl0c2VsZlxuXHRcdFx0XHRyZXN1bHQgKz0gc3RyaW5nLmNoYXJBdChpbmRleCk7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBPdGhlcndpc2UsIHRoZSBlc2NhcGVkIGNoYXJhY3Rlci5cblx0XHRcdC8vIGh0dHBzOi8vZHJhZnRzLmNzc3dnLm9yZy9jc3NvbS8jZXNjYXBlLWEtY2hhcmFjdGVyXG5cdFx0XHRyZXN1bHQgKz0gJ1xcXFwnICsgc3RyaW5nLmNoYXJBdChpbmRleCk7XG5cblx0XHR9XG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fTtcblxuXHRpZiAoIXJvb3QuQ1NTKSB7XG5cdFx0cm9vdC5DU1MgPSB7fTtcblx0fVxuXG5cdHJvb3QuQ1NTLmVzY2FwZSA9IGNzc0VzY2FwZTtcblx0cmV0dXJuIGNzc0VzY2FwZTtcblxufSkpO1xuIiwiLyohIEhhbW1lci5KUyAtIHYyLjAuNyAtIDIwMTYtMDQtMjJcbiAqIGh0dHA6Ly9oYW1tZXJqcy5naXRodWIuaW8vXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDE2IEpvcmlrIFRhbmdlbGRlcjtcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSAqL1xuKGZ1bmN0aW9uKHdpbmRvdywgZG9jdW1lbnQsIGV4cG9ydE5hbWUsIHVuZGVmaW5lZCkge1xuICAndXNlIHN0cmljdCc7XG5cbnZhciBWRU5ET1JfUFJFRklYRVMgPSBbJycsICd3ZWJraXQnLCAnTW96JywgJ01TJywgJ21zJywgJ28nXTtcbnZhciBURVNUX0VMRU1FTlQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxudmFyIFRZUEVfRlVOQ1RJT04gPSAnZnVuY3Rpb24nO1xuXG52YXIgcm91bmQgPSBNYXRoLnJvdW5kO1xudmFyIGFicyA9IE1hdGguYWJzO1xudmFyIG5vdyA9IERhdGUubm93O1xuXG4vKipcbiAqIHNldCBhIHRpbWVvdXQgd2l0aCBhIGdpdmVuIHNjb3BlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICogQHBhcmFtIHtOdW1iZXJ9IHRpbWVvdXRcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb250ZXh0XG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5mdW5jdGlvbiBzZXRUaW1lb3V0Q29udGV4dChmbiwgdGltZW91dCwgY29udGV4dCkge1xuICAgIHJldHVybiBzZXRUaW1lb3V0KGJpbmRGbihmbiwgY29udGV4dCksIHRpbWVvdXQpO1xufVxuXG4vKipcbiAqIGlmIHRoZSBhcmd1bWVudCBpcyBhbiBhcnJheSwgd2Ugd2FudCB0byBleGVjdXRlIHRoZSBmbiBvbiBlYWNoIGVudHJ5XG4gKiBpZiBpdCBhaW50IGFuIGFycmF5IHdlIGRvbid0IHdhbnQgdG8gZG8gYSB0aGluZy5cbiAqIHRoaXMgaXMgdXNlZCBieSBhbGwgdGhlIG1ldGhvZHMgdGhhdCBhY2NlcHQgYSBzaW5nbGUgYW5kIGFycmF5IGFyZ3VtZW50LlxuICogQHBhcmFtIHsqfEFycmF5fSBhcmdcbiAqIEBwYXJhbSB7U3RyaW5nfSBmblxuICogQHBhcmFtIHtPYmplY3R9IFtjb250ZXh0XVxuICogQHJldHVybnMge0Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGludm9rZUFycmF5QXJnKGFyZywgZm4sIGNvbnRleHQpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShhcmcpKSB7XG4gICAgICAgIGVhY2goYXJnLCBjb250ZXh0W2ZuXSwgY29udGV4dCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogd2FsayBvYmplY3RzIGFuZCBhcnJheXNcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdG9yXG4gKiBAcGFyYW0ge09iamVjdH0gY29udGV4dFxuICovXG5mdW5jdGlvbiBlYWNoKG9iaiwgaXRlcmF0b3IsIGNvbnRleHQpIHtcbiAgICB2YXIgaTtcblxuICAgIGlmICghb2JqKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAob2JqLmZvckVhY2gpIHtcbiAgICAgICAgb2JqLmZvckVhY2goaXRlcmF0b3IsIGNvbnRleHQpO1xuICAgIH0gZWxzZSBpZiAob2JqLmxlbmd0aCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGkgPSAwO1xuICAgICAgICB3aGlsZSAoaSA8IG9iai5sZW5ndGgpIHtcbiAgICAgICAgICAgIGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgb2JqW2ldLCBpLCBvYmopO1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZm9yIChpIGluIG9iaikge1xuICAgICAgICAgICAgb2JqLmhhc093blByb3BlcnR5KGkpICYmIGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgb2JqW2ldLCBpLCBvYmopO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIHdyYXAgYSBtZXRob2Qgd2l0aCBhIGRlcHJlY2F0aW9uIHdhcm5pbmcgYW5kIHN0YWNrIHRyYWNlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBtZXRob2RcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lXG4gKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZVxuICogQHJldHVybnMge0Z1bmN0aW9ufSBBIG5ldyBmdW5jdGlvbiB3cmFwcGluZyB0aGUgc3VwcGxpZWQgbWV0aG9kLlxuICovXG5mdW5jdGlvbiBkZXByZWNhdGUobWV0aG9kLCBuYW1lLCBtZXNzYWdlKSB7XG4gICAgdmFyIGRlcHJlY2F0aW9uTWVzc2FnZSA9ICdERVBSRUNBVEVEIE1FVEhPRDogJyArIG5hbWUgKyAnXFxuJyArIG1lc3NhZ2UgKyAnIEFUIFxcbic7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZSA9IG5ldyBFcnJvcignZ2V0LXN0YWNrLXRyYWNlJyk7XG4gICAgICAgIHZhciBzdGFjayA9IGUgJiYgZS5zdGFjayA/IGUuc3RhY2sucmVwbGFjZSgvXlteXFwoXSs/W1xcbiRdL2dtLCAnJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC9eXFxzK2F0XFxzKy9nbSwgJycpXG4gICAgICAgICAgICAucmVwbGFjZSgvXk9iamVjdC48YW5vbnltb3VzPlxccypcXCgvZ20sICd7YW5vbnltb3VzfSgpQCcpIDogJ1Vua25vd24gU3RhY2sgVHJhY2UnO1xuXG4gICAgICAgIHZhciBsb2cgPSB3aW5kb3cuY29uc29sZSAmJiAod2luZG93LmNvbnNvbGUud2FybiB8fCB3aW5kb3cuY29uc29sZS5sb2cpO1xuICAgICAgICBpZiAobG9nKSB7XG4gICAgICAgICAgICBsb2cuY2FsbCh3aW5kb3cuY29uc29sZSwgZGVwcmVjYXRpb25NZXNzYWdlLCBzdGFjayk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1ldGhvZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH07XG59XG5cbi8qKlxuICogZXh0ZW5kIG9iamVjdC5cbiAqIG1lYW5zIHRoYXQgcHJvcGVydGllcyBpbiBkZXN0IHdpbGwgYmUgb3ZlcndyaXR0ZW4gYnkgdGhlIG9uZXMgaW4gc3JjLlxuICogQHBhcmFtIHtPYmplY3R9IHRhcmdldFxuICogQHBhcmFtIHsuLi5PYmplY3R9IG9iamVjdHNfdG9fYXNzaWduXG4gKiBAcmV0dXJucyB7T2JqZWN0fSB0YXJnZXRcbiAqL1xudmFyIGFzc2lnbjtcbmlmICh0eXBlb2YgT2JqZWN0LmFzc2lnbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIGFzc2lnbiA9IGZ1bmN0aW9uIGFzc2lnbih0YXJnZXQpIHtcbiAgICAgICAgaWYgKHRhcmdldCA9PT0gdW5kZWZpbmVkIHx8IHRhcmdldCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNvbnZlcnQgdW5kZWZpbmVkIG9yIG51bGwgdG8gb2JqZWN0Jyk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgb3V0cHV0ID0gT2JqZWN0KHRhcmdldCk7XG4gICAgICAgIGZvciAodmFyIGluZGV4ID0gMTsgaW5kZXggPCBhcmd1bWVudHMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2luZGV4XTtcbiAgICAgICAgICAgIGlmIChzb3VyY2UgIT09IHVuZGVmaW5lZCAmJiBzb3VyY2UgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBuZXh0S2V5IGluIHNvdXJjZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc291cmNlLmhhc093blByb3BlcnR5KG5leHRLZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXRbbmV4dEtleV0gPSBzb3VyY2VbbmV4dEtleV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICB9O1xufSBlbHNlIHtcbiAgICBhc3NpZ24gPSBPYmplY3QuYXNzaWduO1xufVxuXG4vKipcbiAqIGV4dGVuZCBvYmplY3QuXG4gKiBtZWFucyB0aGF0IHByb3BlcnRpZXMgaW4gZGVzdCB3aWxsIGJlIG92ZXJ3cml0dGVuIGJ5IHRoZSBvbmVzIGluIHNyYy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBkZXN0XG4gKiBAcGFyYW0ge09iamVjdH0gc3JjXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFttZXJnZT1mYWxzZV1cbiAqIEByZXR1cm5zIHtPYmplY3R9IGRlc3RcbiAqL1xudmFyIGV4dGVuZCA9IGRlcHJlY2F0ZShmdW5jdGlvbiBleHRlbmQoZGVzdCwgc3JjLCBtZXJnZSkge1xuICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoc3JjKTtcbiAgICB2YXIgaSA9IDA7XG4gICAgd2hpbGUgKGkgPCBrZXlzLmxlbmd0aCkge1xuICAgICAgICBpZiAoIW1lcmdlIHx8IChtZXJnZSAmJiBkZXN0W2tleXNbaV1dID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgICAgICBkZXN0W2tleXNbaV1dID0gc3JjW2tleXNbaV1dO1xuICAgICAgICB9XG4gICAgICAgIGkrKztcbiAgICB9XG4gICAgcmV0dXJuIGRlc3Q7XG59LCAnZXh0ZW5kJywgJ1VzZSBgYXNzaWduYC4nKTtcblxuLyoqXG4gKiBtZXJnZSB0aGUgdmFsdWVzIGZyb20gc3JjIGluIHRoZSBkZXN0LlxuICogbWVhbnMgdGhhdCBwcm9wZXJ0aWVzIHRoYXQgZXhpc3QgaW4gZGVzdCB3aWxsIG5vdCBiZSBvdmVyd3JpdHRlbiBieSBzcmNcbiAqIEBwYXJhbSB7T2JqZWN0fSBkZXN0XG4gKiBAcGFyYW0ge09iamVjdH0gc3JjXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBkZXN0XG4gKi9cbnZhciBtZXJnZSA9IGRlcHJlY2F0ZShmdW5jdGlvbiBtZXJnZShkZXN0LCBzcmMpIHtcbiAgICByZXR1cm4gZXh0ZW5kKGRlc3QsIHNyYywgdHJ1ZSk7XG59LCAnbWVyZ2UnLCAnVXNlIGBhc3NpZ25gLicpO1xuXG4vKipcbiAqIHNpbXBsZSBjbGFzcyBpbmhlcml0YW5jZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2hpbGRcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGJhc2VcbiAqIEBwYXJhbSB7T2JqZWN0fSBbcHJvcGVydGllc11cbiAqL1xuZnVuY3Rpb24gaW5oZXJpdChjaGlsZCwgYmFzZSwgcHJvcGVydGllcykge1xuICAgIHZhciBiYXNlUCA9IGJhc2UucHJvdG90eXBlLFxuICAgICAgICBjaGlsZFA7XG5cbiAgICBjaGlsZFAgPSBjaGlsZC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKGJhc2VQKTtcbiAgICBjaGlsZFAuY29uc3RydWN0b3IgPSBjaGlsZDtcbiAgICBjaGlsZFAuX3N1cGVyID0gYmFzZVA7XG5cbiAgICBpZiAocHJvcGVydGllcykge1xuICAgICAgICBhc3NpZ24oY2hpbGRQLCBwcm9wZXJ0aWVzKTtcbiAgICB9XG59XG5cbi8qKlxuICogc2ltcGxlIGZ1bmN0aW9uIGJpbmRcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gKiBAcGFyYW0ge09iamVjdH0gY29udGV4dFxuICogQHJldHVybnMge0Z1bmN0aW9ufVxuICovXG5mdW5jdGlvbiBiaW5kRm4oZm4sIGNvbnRleHQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gYm91bmRGbigpIHtcbiAgICAgICAgcmV0dXJuIGZuLmFwcGx5KGNvbnRleHQsIGFyZ3VtZW50cyk7XG4gICAgfTtcbn1cblxuLyoqXG4gKiBsZXQgYSBib29sZWFuIHZhbHVlIGFsc28gYmUgYSBmdW5jdGlvbiB0aGF0IG11c3QgcmV0dXJuIGEgYm9vbGVhblxuICogdGhpcyBmaXJzdCBpdGVtIGluIGFyZ3Mgd2lsbCBiZSB1c2VkIGFzIHRoZSBjb250ZXh0XG4gKiBAcGFyYW0ge0Jvb2xlYW58RnVuY3Rpb259IHZhbFxuICogQHBhcmFtIHtBcnJheX0gW2FyZ3NdXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gYm9vbE9yRm4odmFsLCBhcmdzKSB7XG4gICAgaWYgKHR5cGVvZiB2YWwgPT0gVFlQRV9GVU5DVElPTikge1xuICAgICAgICByZXR1cm4gdmFsLmFwcGx5KGFyZ3MgPyBhcmdzWzBdIHx8IHVuZGVmaW5lZCA6IHVuZGVmaW5lZCwgYXJncyk7XG4gICAgfVxuICAgIHJldHVybiB2YWw7XG59XG5cbi8qKlxuICogdXNlIHRoZSB2YWwyIHdoZW4gdmFsMSBpcyB1bmRlZmluZWRcbiAqIEBwYXJhbSB7Kn0gdmFsMVxuICogQHBhcmFtIHsqfSB2YWwyXG4gKiBAcmV0dXJucyB7Kn1cbiAqL1xuZnVuY3Rpb24gaWZVbmRlZmluZWQodmFsMSwgdmFsMikge1xuICAgIHJldHVybiAodmFsMSA9PT0gdW5kZWZpbmVkKSA/IHZhbDIgOiB2YWwxO1xufVxuXG4vKipcbiAqIGFkZEV2ZW50TGlzdGVuZXIgd2l0aCBtdWx0aXBsZSBldmVudHMgYXQgb25jZVxuICogQHBhcmFtIHtFdmVudFRhcmdldH0gdGFyZ2V0XG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZXNcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGhhbmRsZXJcbiAqL1xuZnVuY3Rpb24gYWRkRXZlbnRMaXN0ZW5lcnModGFyZ2V0LCB0eXBlcywgaGFuZGxlcikge1xuICAgIGVhY2goc3BsaXRTdHIodHlwZXMpLCBmdW5jdGlvbih0eXBlKSB7XG4gICAgICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGhhbmRsZXIsIGZhbHNlKTtcbiAgICB9KTtcbn1cblxuLyoqXG4gKiByZW1vdmVFdmVudExpc3RlbmVyIHdpdGggbXVsdGlwbGUgZXZlbnRzIGF0IG9uY2VcbiAqIEBwYXJhbSB7RXZlbnRUYXJnZXR9IHRhcmdldFxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVzXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVyXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZUV2ZW50TGlzdGVuZXJzKHRhcmdldCwgdHlwZXMsIGhhbmRsZXIpIHtcbiAgICBlYWNoKHNwbGl0U3RyKHR5cGVzKSwgZnVuY3Rpb24odHlwZSkge1xuICAgICAgICB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBoYW5kbGVyLCBmYWxzZSk7XG4gICAgfSk7XG59XG5cbi8qKlxuICogZmluZCBpZiBhIG5vZGUgaXMgaW4gdGhlIGdpdmVuIHBhcmVudFxuICogQG1ldGhvZCBoYXNQYXJlbnRcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IG5vZGVcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHBhcmVudFxuICogQHJldHVybiB7Qm9vbGVhbn0gZm91bmRcbiAqL1xuZnVuY3Rpb24gaGFzUGFyZW50KG5vZGUsIHBhcmVudCkge1xuICAgIHdoaWxlIChub2RlKSB7XG4gICAgICAgIGlmIChub2RlID09IHBhcmVudCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIHNtYWxsIGluZGV4T2Ygd3JhcHBlclxuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICogQHBhcmFtIHtTdHJpbmd9IGZpbmRcbiAqIEByZXR1cm5zIHtCb29sZWFufSBmb3VuZFxuICovXG5mdW5jdGlvbiBpblN0cihzdHIsIGZpbmQpIHtcbiAgICByZXR1cm4gc3RyLmluZGV4T2YoZmluZCkgPiAtMTtcbn1cblxuLyoqXG4gKiBzcGxpdCBzdHJpbmcgb24gd2hpdGVzcGFjZVxuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICogQHJldHVybnMge0FycmF5fSB3b3Jkc1xuICovXG5mdW5jdGlvbiBzcGxpdFN0cihzdHIpIHtcbiAgICByZXR1cm4gc3RyLnRyaW0oKS5zcGxpdCgvXFxzKy9nKTtcbn1cblxuLyoqXG4gKiBmaW5kIGlmIGEgYXJyYXkgY29udGFpbnMgdGhlIG9iamVjdCB1c2luZyBpbmRleE9mIG9yIGEgc2ltcGxlIHBvbHlGaWxsXG4gKiBAcGFyYW0ge0FycmF5fSBzcmNcbiAqIEBwYXJhbSB7U3RyaW5nfSBmaW5kXG4gKiBAcGFyYW0ge1N0cmluZ30gW2ZpbmRCeUtleV1cbiAqIEByZXR1cm4ge0Jvb2xlYW58TnVtYmVyfSBmYWxzZSB3aGVuIG5vdCBmb3VuZCwgb3IgdGhlIGluZGV4XG4gKi9cbmZ1bmN0aW9uIGluQXJyYXkoc3JjLCBmaW5kLCBmaW5kQnlLZXkpIHtcbiAgICBpZiAoc3JjLmluZGV4T2YgJiYgIWZpbmRCeUtleSkge1xuICAgICAgICByZXR1cm4gc3JjLmluZGV4T2YoZmluZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB3aGlsZSAoaSA8IHNyYy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmICgoZmluZEJ5S2V5ICYmIHNyY1tpXVtmaW5kQnlLZXldID09IGZpbmQpIHx8ICghZmluZEJ5S2V5ICYmIHNyY1tpXSA9PT0gZmluZCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gLTE7XG4gICAgfVxufVxuXG4vKipcbiAqIGNvbnZlcnQgYXJyYXktbGlrZSBvYmplY3RzIHRvIHJlYWwgYXJyYXlzXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqXG4gKiBAcmV0dXJucyB7QXJyYXl9XG4gKi9cbmZ1bmN0aW9uIHRvQXJyYXkob2JqKSB7XG4gICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKG9iaiwgMCk7XG59XG5cbi8qKlxuICogdW5pcXVlIGFycmF5IHdpdGggb2JqZWN0cyBiYXNlZCBvbiBhIGtleSAobGlrZSAnaWQnKSBvciBqdXN0IGJ5IHRoZSBhcnJheSdzIHZhbHVlXG4gKiBAcGFyYW0ge0FycmF5fSBzcmMgW3tpZDoxfSx7aWQ6Mn0se2lkOjF9XVxuICogQHBhcmFtIHtTdHJpbmd9IFtrZXldXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtzb3J0PUZhbHNlXVxuICogQHJldHVybnMge0FycmF5fSBbe2lkOjF9LHtpZDoyfV1cbiAqL1xuZnVuY3Rpb24gdW5pcXVlQXJyYXkoc3JjLCBrZXksIHNvcnQpIHtcbiAgICB2YXIgcmVzdWx0cyA9IFtdO1xuICAgIHZhciB2YWx1ZXMgPSBbXTtcbiAgICB2YXIgaSA9IDA7XG5cbiAgICB3aGlsZSAoaSA8IHNyYy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbCA9IGtleSA/IHNyY1tpXVtrZXldIDogc3JjW2ldO1xuICAgICAgICBpZiAoaW5BcnJheSh2YWx1ZXMsIHZhbCkgPCAwKSB7XG4gICAgICAgICAgICByZXN1bHRzLnB1c2goc3JjW2ldKTtcbiAgICAgICAgfVxuICAgICAgICB2YWx1ZXNbaV0gPSB2YWw7XG4gICAgICAgIGkrKztcbiAgICB9XG5cbiAgICBpZiAoc29ydCkge1xuICAgICAgICBpZiAoIWtleSkge1xuICAgICAgICAgICAgcmVzdWx0cyA9IHJlc3VsdHMuc29ydCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0cyA9IHJlc3VsdHMuc29ydChmdW5jdGlvbiBzb3J0VW5pcXVlQXJyYXkoYSwgYikge1xuICAgICAgICAgICAgICAgIHJldHVybiBhW2tleV0gPiBiW2tleV07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHRzO1xufVxuXG4vKipcbiAqIGdldCB0aGUgcHJlZml4ZWQgcHJvcGVydHlcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcbiAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0eVxuICogQHJldHVybnMge1N0cmluZ3xVbmRlZmluZWR9IHByZWZpeGVkXG4gKi9cbmZ1bmN0aW9uIHByZWZpeGVkKG9iaiwgcHJvcGVydHkpIHtcbiAgICB2YXIgcHJlZml4LCBwcm9wO1xuICAgIHZhciBjYW1lbFByb3AgPSBwcm9wZXJ0eVswXS50b1VwcGVyQ2FzZSgpICsgcHJvcGVydHkuc2xpY2UoMSk7XG5cbiAgICB2YXIgaSA9IDA7XG4gICAgd2hpbGUgKGkgPCBWRU5ET1JfUFJFRklYRVMubGVuZ3RoKSB7XG4gICAgICAgIHByZWZpeCA9IFZFTkRPUl9QUkVGSVhFU1tpXTtcbiAgICAgICAgcHJvcCA9IChwcmVmaXgpID8gcHJlZml4ICsgY2FtZWxQcm9wIDogcHJvcGVydHk7XG5cbiAgICAgICAgaWYgKHByb3AgaW4gb2JqKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvcDtcbiAgICAgICAgfVxuICAgICAgICBpKys7XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogZ2V0IGEgdW5pcXVlIGlkXG4gKiBAcmV0dXJucyB7bnVtYmVyfSB1bmlxdWVJZFxuICovXG52YXIgX3VuaXF1ZUlkID0gMTtcbmZ1bmN0aW9uIHVuaXF1ZUlkKCkge1xuICAgIHJldHVybiBfdW5pcXVlSWQrKztcbn1cblxuLyoqXG4gKiBnZXQgdGhlIHdpbmRvdyBvYmplY3Qgb2YgYW4gZWxlbWVudFxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudFxuICogQHJldHVybnMge0RvY3VtZW50Vmlld3xXaW5kb3d9XG4gKi9cbmZ1bmN0aW9uIGdldFdpbmRvd0ZvckVsZW1lbnQoZWxlbWVudCkge1xuICAgIHZhciBkb2MgPSBlbGVtZW50Lm93bmVyRG9jdW1lbnQgfHwgZWxlbWVudDtcbiAgICByZXR1cm4gKGRvYy5kZWZhdWx0VmlldyB8fCBkb2MucGFyZW50V2luZG93IHx8IHdpbmRvdyk7XG59XG5cbnZhciBNT0JJTEVfUkVHRVggPSAvbW9iaWxlfHRhYmxldHxpcChhZHxob25lfG9kKXxhbmRyb2lkL2k7XG5cbnZhciBTVVBQT1JUX1RPVUNIID0gKCdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdyk7XG52YXIgU1VQUE9SVF9QT0lOVEVSX0VWRU5UUyA9IHByZWZpeGVkKHdpbmRvdywgJ1BvaW50ZXJFdmVudCcpICE9PSB1bmRlZmluZWQ7XG52YXIgU1VQUE9SVF9PTkxZX1RPVUNIID0gU1VQUE9SVF9UT1VDSCAmJiBNT0JJTEVfUkVHRVgudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcblxudmFyIElOUFVUX1RZUEVfVE9VQ0ggPSAndG91Y2gnO1xudmFyIElOUFVUX1RZUEVfUEVOID0gJ3Blbic7XG52YXIgSU5QVVRfVFlQRV9NT1VTRSA9ICdtb3VzZSc7XG52YXIgSU5QVVRfVFlQRV9LSU5FQ1QgPSAna2luZWN0JztcblxudmFyIENPTVBVVEVfSU5URVJWQUwgPSAyNTtcblxudmFyIElOUFVUX1NUQVJUID0gMTtcbnZhciBJTlBVVF9NT1ZFID0gMjtcbnZhciBJTlBVVF9FTkQgPSA0O1xudmFyIElOUFVUX0NBTkNFTCA9IDg7XG5cbnZhciBESVJFQ1RJT05fTk9ORSA9IDE7XG52YXIgRElSRUNUSU9OX0xFRlQgPSAyO1xudmFyIERJUkVDVElPTl9SSUdIVCA9IDQ7XG52YXIgRElSRUNUSU9OX1VQID0gODtcbnZhciBESVJFQ1RJT05fRE9XTiA9IDE2O1xuXG52YXIgRElSRUNUSU9OX0hPUklaT05UQUwgPSBESVJFQ1RJT05fTEVGVCB8IERJUkVDVElPTl9SSUdIVDtcbnZhciBESVJFQ1RJT05fVkVSVElDQUwgPSBESVJFQ1RJT05fVVAgfCBESVJFQ1RJT05fRE9XTjtcbnZhciBESVJFQ1RJT05fQUxMID0gRElSRUNUSU9OX0hPUklaT05UQUwgfCBESVJFQ1RJT05fVkVSVElDQUw7XG5cbnZhciBQUk9QU19YWSA9IFsneCcsICd5J107XG52YXIgUFJPUFNfQ0xJRU5UX1hZID0gWydjbGllbnRYJywgJ2NsaWVudFknXTtcblxuLyoqXG4gKiBjcmVhdGUgbmV3IGlucHV0IHR5cGUgbWFuYWdlclxuICogQHBhcmFtIHtNYW5hZ2VyfSBtYW5hZ2VyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICogQHJldHVybnMge0lucHV0fVxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIElucHV0KG1hbmFnZXIsIGNhbGxiYWNrKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHRoaXMubWFuYWdlciA9IG1hbmFnZXI7XG4gICAgdGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgIHRoaXMuZWxlbWVudCA9IG1hbmFnZXIuZWxlbWVudDtcbiAgICB0aGlzLnRhcmdldCA9IG1hbmFnZXIub3B0aW9ucy5pbnB1dFRhcmdldDtcblxuICAgIC8vIHNtYWxsZXIgd3JhcHBlciBhcm91bmQgdGhlIGhhbmRsZXIsIGZvciB0aGUgc2NvcGUgYW5kIHRoZSBlbmFibGVkIHN0YXRlIG9mIHRoZSBtYW5hZ2VyLFxuICAgIC8vIHNvIHdoZW4gZGlzYWJsZWQgdGhlIGlucHV0IGV2ZW50cyBhcmUgY29tcGxldGVseSBieXBhc3NlZC5cbiAgICB0aGlzLmRvbUhhbmRsZXIgPSBmdW5jdGlvbihldikge1xuICAgICAgICBpZiAoYm9vbE9yRm4obWFuYWdlci5vcHRpb25zLmVuYWJsZSwgW21hbmFnZXJdKSkge1xuICAgICAgICAgICAgc2VsZi5oYW5kbGVyKGV2KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLmluaXQoKTtcblxufVxuXG5JbnB1dC5wcm90b3R5cGUgPSB7XG4gICAgLyoqXG4gICAgICogc2hvdWxkIGhhbmRsZSB0aGUgaW5wdXRFdmVudCBkYXRhIGFuZCB0cmlnZ2VyIHRoZSBjYWxsYmFja1xuICAgICAqIEB2aXJ0dWFsXG4gICAgICovXG4gICAgaGFuZGxlcjogZnVuY3Rpb24oKSB7IH0sXG5cbiAgICAvKipcbiAgICAgKiBiaW5kIHRoZSBldmVudHNcbiAgICAgKi9cbiAgICBpbml0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5ldkVsICYmIGFkZEV2ZW50TGlzdGVuZXJzKHRoaXMuZWxlbWVudCwgdGhpcy5ldkVsLCB0aGlzLmRvbUhhbmRsZXIpO1xuICAgICAgICB0aGlzLmV2VGFyZ2V0ICYmIGFkZEV2ZW50TGlzdGVuZXJzKHRoaXMudGFyZ2V0LCB0aGlzLmV2VGFyZ2V0LCB0aGlzLmRvbUhhbmRsZXIpO1xuICAgICAgICB0aGlzLmV2V2luICYmIGFkZEV2ZW50TGlzdGVuZXJzKGdldFdpbmRvd0ZvckVsZW1lbnQodGhpcy5lbGVtZW50KSwgdGhpcy5ldldpbiwgdGhpcy5kb21IYW5kbGVyKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogdW5iaW5kIHRoZSBldmVudHNcbiAgICAgKi9cbiAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5ldkVsICYmIHJlbW92ZUV2ZW50TGlzdGVuZXJzKHRoaXMuZWxlbWVudCwgdGhpcy5ldkVsLCB0aGlzLmRvbUhhbmRsZXIpO1xuICAgICAgICB0aGlzLmV2VGFyZ2V0ICYmIHJlbW92ZUV2ZW50TGlzdGVuZXJzKHRoaXMudGFyZ2V0LCB0aGlzLmV2VGFyZ2V0LCB0aGlzLmRvbUhhbmRsZXIpO1xuICAgICAgICB0aGlzLmV2V2luICYmIHJlbW92ZUV2ZW50TGlzdGVuZXJzKGdldFdpbmRvd0ZvckVsZW1lbnQodGhpcy5lbGVtZW50KSwgdGhpcy5ldldpbiwgdGhpcy5kb21IYW5kbGVyKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIGNyZWF0ZSBuZXcgaW5wdXQgdHlwZSBtYW5hZ2VyXG4gKiBjYWxsZWQgYnkgdGhlIE1hbmFnZXIgY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7SGFtbWVyfSBtYW5hZ2VyXG4gKiBAcmV0dXJucyB7SW5wdXR9XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUlucHV0SW5zdGFuY2UobWFuYWdlcikge1xuICAgIHZhciBUeXBlO1xuICAgIHZhciBpbnB1dENsYXNzID0gbWFuYWdlci5vcHRpb25zLmlucHV0Q2xhc3M7XG5cbiAgICBpZiAoaW5wdXRDbGFzcykge1xuICAgICAgICBUeXBlID0gaW5wdXRDbGFzcztcbiAgICB9IGVsc2UgaWYgKFNVUFBPUlRfUE9JTlRFUl9FVkVOVFMpIHtcbiAgICAgICAgVHlwZSA9IFBvaW50ZXJFdmVudElucHV0O1xuICAgIH0gZWxzZSBpZiAoU1VQUE9SVF9PTkxZX1RPVUNIKSB7XG4gICAgICAgIFR5cGUgPSBUb3VjaElucHV0O1xuICAgIH0gZWxzZSBpZiAoIVNVUFBPUlRfVE9VQ0gpIHtcbiAgICAgICAgVHlwZSA9IE1vdXNlSW5wdXQ7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgVHlwZSA9IFRvdWNoTW91c2VJbnB1dDtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyAoVHlwZSkobWFuYWdlciwgaW5wdXRIYW5kbGVyKTtcbn1cblxuLyoqXG4gKiBoYW5kbGUgaW5wdXQgZXZlbnRzXG4gKiBAcGFyYW0ge01hbmFnZXJ9IG1hbmFnZXJcbiAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFR5cGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuICovXG5mdW5jdGlvbiBpbnB1dEhhbmRsZXIobWFuYWdlciwgZXZlbnRUeXBlLCBpbnB1dCkge1xuICAgIHZhciBwb2ludGVyc0xlbiA9IGlucHV0LnBvaW50ZXJzLmxlbmd0aDtcbiAgICB2YXIgY2hhbmdlZFBvaW50ZXJzTGVuID0gaW5wdXQuY2hhbmdlZFBvaW50ZXJzLmxlbmd0aDtcbiAgICB2YXIgaXNGaXJzdCA9IChldmVudFR5cGUgJiBJTlBVVF9TVEFSVCAmJiAocG9pbnRlcnNMZW4gLSBjaGFuZ2VkUG9pbnRlcnNMZW4gPT09IDApKTtcbiAgICB2YXIgaXNGaW5hbCA9IChldmVudFR5cGUgJiAoSU5QVVRfRU5EIHwgSU5QVVRfQ0FOQ0VMKSAmJiAocG9pbnRlcnNMZW4gLSBjaGFuZ2VkUG9pbnRlcnNMZW4gPT09IDApKTtcblxuICAgIGlucHV0LmlzRmlyc3QgPSAhIWlzRmlyc3Q7XG4gICAgaW5wdXQuaXNGaW5hbCA9ICEhaXNGaW5hbDtcblxuICAgIGlmIChpc0ZpcnN0KSB7XG4gICAgICAgIG1hbmFnZXIuc2Vzc2lvbiA9IHt9O1xuICAgIH1cblxuICAgIC8vIHNvdXJjZSBldmVudCBpcyB0aGUgbm9ybWFsaXplZCB2YWx1ZSBvZiB0aGUgZG9tRXZlbnRzXG4gICAgLy8gbGlrZSAndG91Y2hzdGFydCwgbW91c2V1cCwgcG9pbnRlcmRvd24nXG4gICAgaW5wdXQuZXZlbnRUeXBlID0gZXZlbnRUeXBlO1xuXG4gICAgLy8gY29tcHV0ZSBzY2FsZSwgcm90YXRpb24gZXRjXG4gICAgY29tcHV0ZUlucHV0RGF0YShtYW5hZ2VyLCBpbnB1dCk7XG5cbiAgICAvLyBlbWl0IHNlY3JldCBldmVudFxuICAgIG1hbmFnZXIuZW1pdCgnaGFtbWVyLmlucHV0JywgaW5wdXQpO1xuXG4gICAgbWFuYWdlci5yZWNvZ25pemUoaW5wdXQpO1xuICAgIG1hbmFnZXIuc2Vzc2lvbi5wcmV2SW5wdXQgPSBpbnB1dDtcbn1cblxuLyoqXG4gKiBleHRlbmQgdGhlIGRhdGEgd2l0aCBzb21lIHVzYWJsZSBwcm9wZXJ0aWVzIGxpa2Ugc2NhbGUsIHJvdGF0ZSwgdmVsb2NpdHkgZXRjXG4gKiBAcGFyYW0ge09iamVjdH0gbWFuYWdlclxuICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG4gKi9cbmZ1bmN0aW9uIGNvbXB1dGVJbnB1dERhdGEobWFuYWdlciwgaW5wdXQpIHtcbiAgICB2YXIgc2Vzc2lvbiA9IG1hbmFnZXIuc2Vzc2lvbjtcbiAgICB2YXIgcG9pbnRlcnMgPSBpbnB1dC5wb2ludGVycztcbiAgICB2YXIgcG9pbnRlcnNMZW5ndGggPSBwb2ludGVycy5sZW5ndGg7XG5cbiAgICAvLyBzdG9yZSB0aGUgZmlyc3QgaW5wdXQgdG8gY2FsY3VsYXRlIHRoZSBkaXN0YW5jZSBhbmQgZGlyZWN0aW9uXG4gICAgaWYgKCFzZXNzaW9uLmZpcnN0SW5wdXQpIHtcbiAgICAgICAgc2Vzc2lvbi5maXJzdElucHV0ID0gc2ltcGxlQ2xvbmVJbnB1dERhdGEoaW5wdXQpO1xuICAgIH1cblxuICAgIC8vIHRvIGNvbXB1dGUgc2NhbGUgYW5kIHJvdGF0aW9uIHdlIG5lZWQgdG8gc3RvcmUgdGhlIG11bHRpcGxlIHRvdWNoZXNcbiAgICBpZiAocG9pbnRlcnNMZW5ndGggPiAxICYmICFzZXNzaW9uLmZpcnN0TXVsdGlwbGUpIHtcbiAgICAgICAgc2Vzc2lvbi5maXJzdE11bHRpcGxlID0gc2ltcGxlQ2xvbmVJbnB1dERhdGEoaW5wdXQpO1xuICAgIH0gZWxzZSBpZiAocG9pbnRlcnNMZW5ndGggPT09IDEpIHtcbiAgICAgICAgc2Vzc2lvbi5maXJzdE11bHRpcGxlID0gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIGZpcnN0SW5wdXQgPSBzZXNzaW9uLmZpcnN0SW5wdXQ7XG4gICAgdmFyIGZpcnN0TXVsdGlwbGUgPSBzZXNzaW9uLmZpcnN0TXVsdGlwbGU7XG4gICAgdmFyIG9mZnNldENlbnRlciA9IGZpcnN0TXVsdGlwbGUgPyBmaXJzdE11bHRpcGxlLmNlbnRlciA6IGZpcnN0SW5wdXQuY2VudGVyO1xuXG4gICAgdmFyIGNlbnRlciA9IGlucHV0LmNlbnRlciA9IGdldENlbnRlcihwb2ludGVycyk7XG4gICAgaW5wdXQudGltZVN0YW1wID0gbm93KCk7XG4gICAgaW5wdXQuZGVsdGFUaW1lID0gaW5wdXQudGltZVN0YW1wIC0gZmlyc3RJbnB1dC50aW1lU3RhbXA7XG5cbiAgICBpbnB1dC5hbmdsZSA9IGdldEFuZ2xlKG9mZnNldENlbnRlciwgY2VudGVyKTtcbiAgICBpbnB1dC5kaXN0YW5jZSA9IGdldERpc3RhbmNlKG9mZnNldENlbnRlciwgY2VudGVyKTtcblxuICAgIGNvbXB1dGVEZWx0YVhZKHNlc3Npb24sIGlucHV0KTtcbiAgICBpbnB1dC5vZmZzZXREaXJlY3Rpb24gPSBnZXREaXJlY3Rpb24oaW5wdXQuZGVsdGFYLCBpbnB1dC5kZWx0YVkpO1xuXG4gICAgdmFyIG92ZXJhbGxWZWxvY2l0eSA9IGdldFZlbG9jaXR5KGlucHV0LmRlbHRhVGltZSwgaW5wdXQuZGVsdGFYLCBpbnB1dC5kZWx0YVkpO1xuICAgIGlucHV0Lm92ZXJhbGxWZWxvY2l0eVggPSBvdmVyYWxsVmVsb2NpdHkueDtcbiAgICBpbnB1dC5vdmVyYWxsVmVsb2NpdHlZID0gb3ZlcmFsbFZlbG9jaXR5Lnk7XG4gICAgaW5wdXQub3ZlcmFsbFZlbG9jaXR5ID0gKGFicyhvdmVyYWxsVmVsb2NpdHkueCkgPiBhYnMob3ZlcmFsbFZlbG9jaXR5LnkpKSA/IG92ZXJhbGxWZWxvY2l0eS54IDogb3ZlcmFsbFZlbG9jaXR5Lnk7XG5cbiAgICBpbnB1dC5zY2FsZSA9IGZpcnN0TXVsdGlwbGUgPyBnZXRTY2FsZShmaXJzdE11bHRpcGxlLnBvaW50ZXJzLCBwb2ludGVycykgOiAxO1xuICAgIGlucHV0LnJvdGF0aW9uID0gZmlyc3RNdWx0aXBsZSA/IGdldFJvdGF0aW9uKGZpcnN0TXVsdGlwbGUucG9pbnRlcnMsIHBvaW50ZXJzKSA6IDA7XG5cbiAgICBpbnB1dC5tYXhQb2ludGVycyA9ICFzZXNzaW9uLnByZXZJbnB1dCA/IGlucHV0LnBvaW50ZXJzLmxlbmd0aCA6ICgoaW5wdXQucG9pbnRlcnMubGVuZ3RoID5cbiAgICAgICAgc2Vzc2lvbi5wcmV2SW5wdXQubWF4UG9pbnRlcnMpID8gaW5wdXQucG9pbnRlcnMubGVuZ3RoIDogc2Vzc2lvbi5wcmV2SW5wdXQubWF4UG9pbnRlcnMpO1xuXG4gICAgY29tcHV0ZUludGVydmFsSW5wdXREYXRhKHNlc3Npb24sIGlucHV0KTtcblxuICAgIC8vIGZpbmQgdGhlIGNvcnJlY3QgdGFyZ2V0XG4gICAgdmFyIHRhcmdldCA9IG1hbmFnZXIuZWxlbWVudDtcbiAgICBpZiAoaGFzUGFyZW50KGlucHV0LnNyY0V2ZW50LnRhcmdldCwgdGFyZ2V0KSkge1xuICAgICAgICB0YXJnZXQgPSBpbnB1dC5zcmNFdmVudC50YXJnZXQ7XG4gICAgfVxuICAgIGlucHV0LnRhcmdldCA9IHRhcmdldDtcbn1cblxuZnVuY3Rpb24gY29tcHV0ZURlbHRhWFkoc2Vzc2lvbiwgaW5wdXQpIHtcbiAgICB2YXIgY2VudGVyID0gaW5wdXQuY2VudGVyO1xuICAgIHZhciBvZmZzZXQgPSBzZXNzaW9uLm9mZnNldERlbHRhIHx8IHt9O1xuICAgIHZhciBwcmV2RGVsdGEgPSBzZXNzaW9uLnByZXZEZWx0YSB8fCB7fTtcbiAgICB2YXIgcHJldklucHV0ID0gc2Vzc2lvbi5wcmV2SW5wdXQgfHwge307XG5cbiAgICBpZiAoaW5wdXQuZXZlbnRUeXBlID09PSBJTlBVVF9TVEFSVCB8fCBwcmV2SW5wdXQuZXZlbnRUeXBlID09PSBJTlBVVF9FTkQpIHtcbiAgICAgICAgcHJldkRlbHRhID0gc2Vzc2lvbi5wcmV2RGVsdGEgPSB7XG4gICAgICAgICAgICB4OiBwcmV2SW5wdXQuZGVsdGFYIHx8IDAsXG4gICAgICAgICAgICB5OiBwcmV2SW5wdXQuZGVsdGFZIHx8IDBcbiAgICAgICAgfTtcblxuICAgICAgICBvZmZzZXQgPSBzZXNzaW9uLm9mZnNldERlbHRhID0ge1xuICAgICAgICAgICAgeDogY2VudGVyLngsXG4gICAgICAgICAgICB5OiBjZW50ZXIueVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGlucHV0LmRlbHRhWCA9IHByZXZEZWx0YS54ICsgKGNlbnRlci54IC0gb2Zmc2V0LngpO1xuICAgIGlucHV0LmRlbHRhWSA9IHByZXZEZWx0YS55ICsgKGNlbnRlci55IC0gb2Zmc2V0LnkpO1xufVxuXG4vKipcbiAqIHZlbG9jaXR5IGlzIGNhbGN1bGF0ZWQgZXZlcnkgeCBtc1xuICogQHBhcmFtIHtPYmplY3R9IHNlc3Npb25cbiAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuICovXG5mdW5jdGlvbiBjb21wdXRlSW50ZXJ2YWxJbnB1dERhdGEoc2Vzc2lvbiwgaW5wdXQpIHtcbiAgICB2YXIgbGFzdCA9IHNlc3Npb24ubGFzdEludGVydmFsIHx8IGlucHV0LFxuICAgICAgICBkZWx0YVRpbWUgPSBpbnB1dC50aW1lU3RhbXAgLSBsYXN0LnRpbWVTdGFtcCxcbiAgICAgICAgdmVsb2NpdHksIHZlbG9jaXR5WCwgdmVsb2NpdHlZLCBkaXJlY3Rpb247XG5cbiAgICBpZiAoaW5wdXQuZXZlbnRUeXBlICE9IElOUFVUX0NBTkNFTCAmJiAoZGVsdGFUaW1lID4gQ09NUFVURV9JTlRFUlZBTCB8fCBsYXN0LnZlbG9jaXR5ID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgIHZhciBkZWx0YVggPSBpbnB1dC5kZWx0YVggLSBsYXN0LmRlbHRhWDtcbiAgICAgICAgdmFyIGRlbHRhWSA9IGlucHV0LmRlbHRhWSAtIGxhc3QuZGVsdGFZO1xuXG4gICAgICAgIHZhciB2ID0gZ2V0VmVsb2NpdHkoZGVsdGFUaW1lLCBkZWx0YVgsIGRlbHRhWSk7XG4gICAgICAgIHZlbG9jaXR5WCA9IHYueDtcbiAgICAgICAgdmVsb2NpdHlZID0gdi55O1xuICAgICAgICB2ZWxvY2l0eSA9IChhYnModi54KSA+IGFicyh2LnkpKSA/IHYueCA6IHYueTtcbiAgICAgICAgZGlyZWN0aW9uID0gZ2V0RGlyZWN0aW9uKGRlbHRhWCwgZGVsdGFZKTtcblxuICAgICAgICBzZXNzaW9uLmxhc3RJbnRlcnZhbCA9IGlucHV0O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHVzZSBsYXRlc3QgdmVsb2NpdHkgaW5mbyBpZiBpdCBkb2Vzbid0IG92ZXJ0YWtlIGEgbWluaW11bSBwZXJpb2RcbiAgICAgICAgdmVsb2NpdHkgPSBsYXN0LnZlbG9jaXR5O1xuICAgICAgICB2ZWxvY2l0eVggPSBsYXN0LnZlbG9jaXR5WDtcbiAgICAgICAgdmVsb2NpdHlZID0gbGFzdC52ZWxvY2l0eVk7XG4gICAgICAgIGRpcmVjdGlvbiA9IGxhc3QuZGlyZWN0aW9uO1xuICAgIH1cblxuICAgIGlucHV0LnZlbG9jaXR5ID0gdmVsb2NpdHk7XG4gICAgaW5wdXQudmVsb2NpdHlYID0gdmVsb2NpdHlYO1xuICAgIGlucHV0LnZlbG9jaXR5WSA9IHZlbG9jaXR5WTtcbiAgICBpbnB1dC5kaXJlY3Rpb24gPSBkaXJlY3Rpb247XG59XG5cbi8qKlxuICogY3JlYXRlIGEgc2ltcGxlIGNsb25lIGZyb20gdGhlIGlucHV0IHVzZWQgZm9yIHN0b3JhZ2Ugb2YgZmlyc3RJbnB1dCBhbmQgZmlyc3RNdWx0aXBsZVxuICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG4gKiBAcmV0dXJucyB7T2JqZWN0fSBjbG9uZWRJbnB1dERhdGFcbiAqL1xuZnVuY3Rpb24gc2ltcGxlQ2xvbmVJbnB1dERhdGEoaW5wdXQpIHtcbiAgICAvLyBtYWtlIGEgc2ltcGxlIGNvcHkgb2YgdGhlIHBvaW50ZXJzIGJlY2F1c2Ugd2Ugd2lsbCBnZXQgYSByZWZlcmVuY2UgaWYgd2UgZG9uJ3RcbiAgICAvLyB3ZSBvbmx5IG5lZWQgY2xpZW50WFkgZm9yIHRoZSBjYWxjdWxhdGlvbnNcbiAgICB2YXIgcG9pbnRlcnMgPSBbXTtcbiAgICB2YXIgaSA9IDA7XG4gICAgd2hpbGUgKGkgPCBpbnB1dC5wb2ludGVycy5sZW5ndGgpIHtcbiAgICAgICAgcG9pbnRlcnNbaV0gPSB7XG4gICAgICAgICAgICBjbGllbnRYOiByb3VuZChpbnB1dC5wb2ludGVyc1tpXS5jbGllbnRYKSxcbiAgICAgICAgICAgIGNsaWVudFk6IHJvdW5kKGlucHV0LnBvaW50ZXJzW2ldLmNsaWVudFkpXG4gICAgICAgIH07XG4gICAgICAgIGkrKztcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB0aW1lU3RhbXA6IG5vdygpLFxuICAgICAgICBwb2ludGVyczogcG9pbnRlcnMsXG4gICAgICAgIGNlbnRlcjogZ2V0Q2VudGVyKHBvaW50ZXJzKSxcbiAgICAgICAgZGVsdGFYOiBpbnB1dC5kZWx0YVgsXG4gICAgICAgIGRlbHRhWTogaW5wdXQuZGVsdGFZXG4gICAgfTtcbn1cblxuLyoqXG4gKiBnZXQgdGhlIGNlbnRlciBvZiBhbGwgdGhlIHBvaW50ZXJzXG4gKiBAcGFyYW0ge0FycmF5fSBwb2ludGVyc1xuICogQHJldHVybiB7T2JqZWN0fSBjZW50ZXIgY29udGFpbnMgYHhgIGFuZCBgeWAgcHJvcGVydGllc1xuICovXG5mdW5jdGlvbiBnZXRDZW50ZXIocG9pbnRlcnMpIHtcbiAgICB2YXIgcG9pbnRlcnNMZW5ndGggPSBwb2ludGVycy5sZW5ndGg7XG5cbiAgICAvLyBubyBuZWVkIHRvIGxvb3Agd2hlbiBvbmx5IG9uZSB0b3VjaFxuICAgIGlmIChwb2ludGVyc0xlbmd0aCA9PT0gMSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogcm91bmQocG9pbnRlcnNbMF0uY2xpZW50WCksXG4gICAgICAgICAgICB5OiByb3VuZChwb2ludGVyc1swXS5jbGllbnRZKVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHZhciB4ID0gMCwgeSA9IDAsIGkgPSAwO1xuICAgIHdoaWxlIChpIDwgcG9pbnRlcnNMZW5ndGgpIHtcbiAgICAgICAgeCArPSBwb2ludGVyc1tpXS5jbGllbnRYO1xuICAgICAgICB5ICs9IHBvaW50ZXJzW2ldLmNsaWVudFk7XG4gICAgICAgIGkrKztcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB4OiByb3VuZCh4IC8gcG9pbnRlcnNMZW5ndGgpLFxuICAgICAgICB5OiByb3VuZCh5IC8gcG9pbnRlcnNMZW5ndGgpXG4gICAgfTtcbn1cblxuLyoqXG4gKiBjYWxjdWxhdGUgdGhlIHZlbG9jaXR5IGJldHdlZW4gdHdvIHBvaW50cy4gdW5pdCBpcyBpbiBweCBwZXIgbXMuXG4gKiBAcGFyYW0ge051bWJlcn0gZGVsdGFUaW1lXG4gKiBAcGFyYW0ge051bWJlcn0geFxuICogQHBhcmFtIHtOdW1iZXJ9IHlcbiAqIEByZXR1cm4ge09iamVjdH0gdmVsb2NpdHkgYHhgIGFuZCBgeWBcbiAqL1xuZnVuY3Rpb24gZ2V0VmVsb2NpdHkoZGVsdGFUaW1lLCB4LCB5KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgeDogeCAvIGRlbHRhVGltZSB8fCAwLFxuICAgICAgICB5OiB5IC8gZGVsdGFUaW1lIHx8IDBcbiAgICB9O1xufVxuXG4vKipcbiAqIGdldCB0aGUgZGlyZWN0aW9uIGJldHdlZW4gdHdvIHBvaW50c1xuICogQHBhcmFtIHtOdW1iZXJ9IHhcbiAqIEBwYXJhbSB7TnVtYmVyfSB5XG4gKiBAcmV0dXJuIHtOdW1iZXJ9IGRpcmVjdGlvblxuICovXG5mdW5jdGlvbiBnZXREaXJlY3Rpb24oeCwgeSkge1xuICAgIGlmICh4ID09PSB5KSB7XG4gICAgICAgIHJldHVybiBESVJFQ1RJT05fTk9ORTtcbiAgICB9XG5cbiAgICBpZiAoYWJzKHgpID49IGFicyh5KSkge1xuICAgICAgICByZXR1cm4geCA8IDAgPyBESVJFQ1RJT05fTEVGVCA6IERJUkVDVElPTl9SSUdIVDtcbiAgICB9XG4gICAgcmV0dXJuIHkgPCAwID8gRElSRUNUSU9OX1VQIDogRElSRUNUSU9OX0RPV047XG59XG5cbi8qKlxuICogY2FsY3VsYXRlIHRoZSBhYnNvbHV0ZSBkaXN0YW5jZSBiZXR3ZWVuIHR3byBwb2ludHNcbiAqIEBwYXJhbSB7T2JqZWN0fSBwMSB7eCwgeX1cbiAqIEBwYXJhbSB7T2JqZWN0fSBwMiB7eCwgeX1cbiAqIEBwYXJhbSB7QXJyYXl9IFtwcm9wc10gY29udGFpbmluZyB4IGFuZCB5IGtleXNcbiAqIEByZXR1cm4ge051bWJlcn0gZGlzdGFuY2VcbiAqL1xuZnVuY3Rpb24gZ2V0RGlzdGFuY2UocDEsIHAyLCBwcm9wcykge1xuICAgIGlmICghcHJvcHMpIHtcbiAgICAgICAgcHJvcHMgPSBQUk9QU19YWTtcbiAgICB9XG4gICAgdmFyIHggPSBwMltwcm9wc1swXV0gLSBwMVtwcm9wc1swXV0sXG4gICAgICAgIHkgPSBwMltwcm9wc1sxXV0gLSBwMVtwcm9wc1sxXV07XG5cbiAgICByZXR1cm4gTWF0aC5zcXJ0KCh4ICogeCkgKyAoeSAqIHkpKTtcbn1cblxuLyoqXG4gKiBjYWxjdWxhdGUgdGhlIGFuZ2xlIGJldHdlZW4gdHdvIGNvb3JkaW5hdGVzXG4gKiBAcGFyYW0ge09iamVjdH0gcDFcbiAqIEBwYXJhbSB7T2JqZWN0fSBwMlxuICogQHBhcmFtIHtBcnJheX0gW3Byb3BzXSBjb250YWluaW5nIHggYW5kIHkga2V5c1xuICogQHJldHVybiB7TnVtYmVyfSBhbmdsZVxuICovXG5mdW5jdGlvbiBnZXRBbmdsZShwMSwgcDIsIHByb3BzKSB7XG4gICAgaWYgKCFwcm9wcykge1xuICAgICAgICBwcm9wcyA9IFBST1BTX1hZO1xuICAgIH1cbiAgICB2YXIgeCA9IHAyW3Byb3BzWzBdXSAtIHAxW3Byb3BzWzBdXSxcbiAgICAgICAgeSA9IHAyW3Byb3BzWzFdXSAtIHAxW3Byb3BzWzFdXTtcbiAgICByZXR1cm4gTWF0aC5hdGFuMih5LCB4KSAqIDE4MCAvIE1hdGguUEk7XG59XG5cbi8qKlxuICogY2FsY3VsYXRlIHRoZSByb3RhdGlvbiBkZWdyZWVzIGJldHdlZW4gdHdvIHBvaW50ZXJzZXRzXG4gKiBAcGFyYW0ge0FycmF5fSBzdGFydCBhcnJheSBvZiBwb2ludGVyc1xuICogQHBhcmFtIHtBcnJheX0gZW5kIGFycmF5IG9mIHBvaW50ZXJzXG4gKiBAcmV0dXJuIHtOdW1iZXJ9IHJvdGF0aW9uXG4gKi9cbmZ1bmN0aW9uIGdldFJvdGF0aW9uKHN0YXJ0LCBlbmQpIHtcbiAgICByZXR1cm4gZ2V0QW5nbGUoZW5kWzFdLCBlbmRbMF0sIFBST1BTX0NMSUVOVF9YWSkgKyBnZXRBbmdsZShzdGFydFsxXSwgc3RhcnRbMF0sIFBST1BTX0NMSUVOVF9YWSk7XG59XG5cbi8qKlxuICogY2FsY3VsYXRlIHRoZSBzY2FsZSBmYWN0b3IgYmV0d2VlbiB0d28gcG9pbnRlcnNldHNcbiAqIG5vIHNjYWxlIGlzIDEsIGFuZCBnb2VzIGRvd24gdG8gMCB3aGVuIHBpbmNoZWQgdG9nZXRoZXIsIGFuZCBiaWdnZXIgd2hlbiBwaW5jaGVkIG91dFxuICogQHBhcmFtIHtBcnJheX0gc3RhcnQgYXJyYXkgb2YgcG9pbnRlcnNcbiAqIEBwYXJhbSB7QXJyYXl9IGVuZCBhcnJheSBvZiBwb2ludGVyc1xuICogQHJldHVybiB7TnVtYmVyfSBzY2FsZVxuICovXG5mdW5jdGlvbiBnZXRTY2FsZShzdGFydCwgZW5kKSB7XG4gICAgcmV0dXJuIGdldERpc3RhbmNlKGVuZFswXSwgZW5kWzFdLCBQUk9QU19DTElFTlRfWFkpIC8gZ2V0RGlzdGFuY2Uoc3RhcnRbMF0sIHN0YXJ0WzFdLCBQUk9QU19DTElFTlRfWFkpO1xufVxuXG52YXIgTU9VU0VfSU5QVVRfTUFQID0ge1xuICAgIG1vdXNlZG93bjogSU5QVVRfU1RBUlQsXG4gICAgbW91c2Vtb3ZlOiBJTlBVVF9NT1ZFLFxuICAgIG1vdXNldXA6IElOUFVUX0VORFxufTtcblxudmFyIE1PVVNFX0VMRU1FTlRfRVZFTlRTID0gJ21vdXNlZG93bic7XG52YXIgTU9VU0VfV0lORE9XX0VWRU5UUyA9ICdtb3VzZW1vdmUgbW91c2V1cCc7XG5cbi8qKlxuICogTW91c2UgZXZlbnRzIGlucHV0XG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIElucHV0XG4gKi9cbmZ1bmN0aW9uIE1vdXNlSW5wdXQoKSB7XG4gICAgdGhpcy5ldkVsID0gTU9VU0VfRUxFTUVOVF9FVkVOVFM7XG4gICAgdGhpcy5ldldpbiA9IE1PVVNFX1dJTkRPV19FVkVOVFM7XG5cbiAgICB0aGlzLnByZXNzZWQgPSBmYWxzZTsgLy8gbW91c2Vkb3duIHN0YXRlXG5cbiAgICBJbnB1dC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5pbmhlcml0KE1vdXNlSW5wdXQsIElucHV0LCB7XG4gICAgLyoqXG4gICAgICogaGFuZGxlIG1vdXNlIGV2ZW50c1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldlxuICAgICAqL1xuICAgIGhhbmRsZXI6IGZ1bmN0aW9uIE1FaGFuZGxlcihldikge1xuICAgICAgICB2YXIgZXZlbnRUeXBlID0gTU9VU0VfSU5QVVRfTUFQW2V2LnR5cGVdO1xuXG4gICAgICAgIC8vIG9uIHN0YXJ0IHdlIHdhbnQgdG8gaGF2ZSB0aGUgbGVmdCBtb3VzZSBidXR0b24gZG93blxuICAgICAgICBpZiAoZXZlbnRUeXBlICYgSU5QVVRfU1RBUlQgJiYgZXYuYnV0dG9uID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnByZXNzZWQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGV2ZW50VHlwZSAmIElOUFVUX01PVkUgJiYgZXYud2hpY2ggIT09IDEpIHtcbiAgICAgICAgICAgIGV2ZW50VHlwZSA9IElOUFVUX0VORDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG1vdXNlIG11c3QgYmUgZG93blxuICAgICAgICBpZiAoIXRoaXMucHJlc3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGV2ZW50VHlwZSAmIElOUFVUX0VORCkge1xuICAgICAgICAgICAgdGhpcy5wcmVzc2VkID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNhbGxiYWNrKHRoaXMubWFuYWdlciwgZXZlbnRUeXBlLCB7XG4gICAgICAgICAgICBwb2ludGVyczogW2V2XSxcbiAgICAgICAgICAgIGNoYW5nZWRQb2ludGVyczogW2V2XSxcbiAgICAgICAgICAgIHBvaW50ZXJUeXBlOiBJTlBVVF9UWVBFX01PVVNFLFxuICAgICAgICAgICAgc3JjRXZlbnQ6IGV2XG4gICAgICAgIH0pO1xuICAgIH1cbn0pO1xuXG52YXIgUE9JTlRFUl9JTlBVVF9NQVAgPSB7XG4gICAgcG9pbnRlcmRvd246IElOUFVUX1NUQVJULFxuICAgIHBvaW50ZXJtb3ZlOiBJTlBVVF9NT1ZFLFxuICAgIHBvaW50ZXJ1cDogSU5QVVRfRU5ELFxuICAgIHBvaW50ZXJjYW5jZWw6IElOUFVUX0NBTkNFTCxcbiAgICBwb2ludGVyb3V0OiBJTlBVVF9DQU5DRUxcbn07XG5cbi8vIGluIElFMTAgdGhlIHBvaW50ZXIgdHlwZXMgaXMgZGVmaW5lZCBhcyBhbiBlbnVtXG52YXIgSUUxMF9QT0lOVEVSX1RZUEVfRU5VTSA9IHtcbiAgICAyOiBJTlBVVF9UWVBFX1RPVUNILFxuICAgIDM6IElOUFVUX1RZUEVfUEVOLFxuICAgIDQ6IElOUFVUX1RZUEVfTU9VU0UsXG4gICAgNTogSU5QVVRfVFlQRV9LSU5FQ1QgLy8gc2VlIGh0dHBzOi8vdHdpdHRlci5jb20vamFjb2Jyb3NzaS9zdGF0dXMvNDgwNTk2NDM4NDg5ODkwODE2XG59O1xuXG52YXIgUE9JTlRFUl9FTEVNRU5UX0VWRU5UUyA9ICdwb2ludGVyZG93bic7XG52YXIgUE9JTlRFUl9XSU5ET1dfRVZFTlRTID0gJ3BvaW50ZXJtb3ZlIHBvaW50ZXJ1cCBwb2ludGVyY2FuY2VsJztcblxuLy8gSUUxMCBoYXMgcHJlZml4ZWQgc3VwcG9ydCwgYW5kIGNhc2Utc2Vuc2l0aXZlXG5pZiAod2luZG93Lk1TUG9pbnRlckV2ZW50ICYmICF3aW5kb3cuUG9pbnRlckV2ZW50KSB7XG4gICAgUE9JTlRFUl9FTEVNRU5UX0VWRU5UUyA9ICdNU1BvaW50ZXJEb3duJztcbiAgICBQT0lOVEVSX1dJTkRPV19FVkVOVFMgPSAnTVNQb2ludGVyTW92ZSBNU1BvaW50ZXJVcCBNU1BvaW50ZXJDYW5jZWwnO1xufVxuXG4vKipcbiAqIFBvaW50ZXIgZXZlbnRzIGlucHV0XG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIElucHV0XG4gKi9cbmZ1bmN0aW9uIFBvaW50ZXJFdmVudElucHV0KCkge1xuICAgIHRoaXMuZXZFbCA9IFBPSU5URVJfRUxFTUVOVF9FVkVOVFM7XG4gICAgdGhpcy5ldldpbiA9IFBPSU5URVJfV0lORE9XX0VWRU5UUztcblxuICAgIElucHV0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cbiAgICB0aGlzLnN0b3JlID0gKHRoaXMubWFuYWdlci5zZXNzaW9uLnBvaW50ZXJFdmVudHMgPSBbXSk7XG59XG5cbmluaGVyaXQoUG9pbnRlckV2ZW50SW5wdXQsIElucHV0LCB7XG4gICAgLyoqXG4gICAgICogaGFuZGxlIG1vdXNlIGV2ZW50c1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldlxuICAgICAqL1xuICAgIGhhbmRsZXI6IGZ1bmN0aW9uIFBFaGFuZGxlcihldikge1xuICAgICAgICB2YXIgc3RvcmUgPSB0aGlzLnN0b3JlO1xuICAgICAgICB2YXIgcmVtb3ZlUG9pbnRlciA9IGZhbHNlO1xuXG4gICAgICAgIHZhciBldmVudFR5cGVOb3JtYWxpemVkID0gZXYudHlwZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoJ21zJywgJycpO1xuICAgICAgICB2YXIgZXZlbnRUeXBlID0gUE9JTlRFUl9JTlBVVF9NQVBbZXZlbnRUeXBlTm9ybWFsaXplZF07XG4gICAgICAgIHZhciBwb2ludGVyVHlwZSA9IElFMTBfUE9JTlRFUl9UWVBFX0VOVU1bZXYucG9pbnRlclR5cGVdIHx8IGV2LnBvaW50ZXJUeXBlO1xuXG4gICAgICAgIHZhciBpc1RvdWNoID0gKHBvaW50ZXJUeXBlID09IElOUFVUX1RZUEVfVE9VQ0gpO1xuXG4gICAgICAgIC8vIGdldCBpbmRleCBvZiB0aGUgZXZlbnQgaW4gdGhlIHN0b3JlXG4gICAgICAgIHZhciBzdG9yZUluZGV4ID0gaW5BcnJheShzdG9yZSwgZXYucG9pbnRlcklkLCAncG9pbnRlcklkJyk7XG5cbiAgICAgICAgLy8gc3RhcnQgYW5kIG1vdXNlIG11c3QgYmUgZG93blxuICAgICAgICBpZiAoZXZlbnRUeXBlICYgSU5QVVRfU1RBUlQgJiYgKGV2LmJ1dHRvbiA9PT0gMCB8fCBpc1RvdWNoKSkge1xuICAgICAgICAgICAgaWYgKHN0b3JlSW5kZXggPCAwKSB7XG4gICAgICAgICAgICAgICAgc3RvcmUucHVzaChldik7XG4gICAgICAgICAgICAgICAgc3RvcmVJbmRleCA9IHN0b3JlLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoZXZlbnRUeXBlICYgKElOUFVUX0VORCB8IElOUFVUX0NBTkNFTCkpIHtcbiAgICAgICAgICAgIHJlbW92ZVBvaW50ZXIgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaXQgbm90IGZvdW5kLCBzbyB0aGUgcG9pbnRlciBoYXNuJ3QgYmVlbiBkb3duIChzbyBpdCdzIHByb2JhYmx5IGEgaG92ZXIpXG4gICAgICAgIGlmIChzdG9yZUluZGV4IDwgMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdXBkYXRlIHRoZSBldmVudCBpbiB0aGUgc3RvcmVcbiAgICAgICAgc3RvcmVbc3RvcmVJbmRleF0gPSBldjtcblxuICAgICAgICB0aGlzLmNhbGxiYWNrKHRoaXMubWFuYWdlciwgZXZlbnRUeXBlLCB7XG4gICAgICAgICAgICBwb2ludGVyczogc3RvcmUsXG4gICAgICAgICAgICBjaGFuZ2VkUG9pbnRlcnM6IFtldl0sXG4gICAgICAgICAgICBwb2ludGVyVHlwZTogcG9pbnRlclR5cGUsXG4gICAgICAgICAgICBzcmNFdmVudDogZXZcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHJlbW92ZVBvaW50ZXIpIHtcbiAgICAgICAgICAgIC8vIHJlbW92ZSBmcm9tIHRoZSBzdG9yZVxuICAgICAgICAgICAgc3RvcmUuc3BsaWNlKHN0b3JlSW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgfVxufSk7XG5cbnZhciBTSU5HTEVfVE9VQ0hfSU5QVVRfTUFQID0ge1xuICAgIHRvdWNoc3RhcnQ6IElOUFVUX1NUQVJULFxuICAgIHRvdWNobW92ZTogSU5QVVRfTU9WRSxcbiAgICB0b3VjaGVuZDogSU5QVVRfRU5ELFxuICAgIHRvdWNoY2FuY2VsOiBJTlBVVF9DQU5DRUxcbn07XG5cbnZhciBTSU5HTEVfVE9VQ0hfVEFSR0VUX0VWRU5UUyA9ICd0b3VjaHN0YXJ0JztcbnZhciBTSU5HTEVfVE9VQ0hfV0lORE9XX0VWRU5UUyA9ICd0b3VjaHN0YXJ0IHRvdWNobW92ZSB0b3VjaGVuZCB0b3VjaGNhbmNlbCc7XG5cbi8qKlxuICogVG91Y2ggZXZlbnRzIGlucHV0XG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIElucHV0XG4gKi9cbmZ1bmN0aW9uIFNpbmdsZVRvdWNoSW5wdXQoKSB7XG4gICAgdGhpcy5ldlRhcmdldCA9IFNJTkdMRV9UT1VDSF9UQVJHRVRfRVZFTlRTO1xuICAgIHRoaXMuZXZXaW4gPSBTSU5HTEVfVE9VQ0hfV0lORE9XX0VWRU5UUztcbiAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcblxuICAgIElucHV0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmluaGVyaXQoU2luZ2xlVG91Y2hJbnB1dCwgSW5wdXQsIHtcbiAgICBoYW5kbGVyOiBmdW5jdGlvbiBURWhhbmRsZXIoZXYpIHtcbiAgICAgICAgdmFyIHR5cGUgPSBTSU5HTEVfVE9VQ0hfSU5QVVRfTUFQW2V2LnR5cGVdO1xuXG4gICAgICAgIC8vIHNob3VsZCB3ZSBoYW5kbGUgdGhlIHRvdWNoIGV2ZW50cz9cbiAgICAgICAgaWYgKHR5cGUgPT09IElOUFVUX1NUQVJUKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLnN0YXJ0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0b3VjaGVzID0gbm9ybWFsaXplU2luZ2xlVG91Y2hlcy5jYWxsKHRoaXMsIGV2LCB0eXBlKTtcblxuICAgICAgICAvLyB3aGVuIGRvbmUsIHJlc2V0IHRoZSBzdGFydGVkIHN0YXRlXG4gICAgICAgIGlmICh0eXBlICYgKElOUFVUX0VORCB8IElOUFVUX0NBTkNFTCkgJiYgdG91Y2hlc1swXS5sZW5ndGggLSB0b3VjaGVzWzFdLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5zdGFydGVkID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNhbGxiYWNrKHRoaXMubWFuYWdlciwgdHlwZSwge1xuICAgICAgICAgICAgcG9pbnRlcnM6IHRvdWNoZXNbMF0sXG4gICAgICAgICAgICBjaGFuZ2VkUG9pbnRlcnM6IHRvdWNoZXNbMV0sXG4gICAgICAgICAgICBwb2ludGVyVHlwZTogSU5QVVRfVFlQRV9UT1VDSCxcbiAgICAgICAgICAgIHNyY0V2ZW50OiBldlxuICAgICAgICB9KTtcbiAgICB9XG59KTtcblxuLyoqXG4gKiBAdGhpcyB7VG91Y2hJbnB1dH1cbiAqIEBwYXJhbSB7T2JqZWN0fSBldlxuICogQHBhcmFtIHtOdW1iZXJ9IHR5cGUgZmxhZ1xuICogQHJldHVybnMge3VuZGVmaW5lZHxBcnJheX0gW2FsbCwgY2hhbmdlZF1cbiAqL1xuZnVuY3Rpb24gbm9ybWFsaXplU2luZ2xlVG91Y2hlcyhldiwgdHlwZSkge1xuICAgIHZhciBhbGwgPSB0b0FycmF5KGV2LnRvdWNoZXMpO1xuICAgIHZhciBjaGFuZ2VkID0gdG9BcnJheShldi5jaGFuZ2VkVG91Y2hlcyk7XG5cbiAgICBpZiAodHlwZSAmIChJTlBVVF9FTkQgfCBJTlBVVF9DQU5DRUwpKSB7XG4gICAgICAgIGFsbCA9IHVuaXF1ZUFycmF5KGFsbC5jb25jYXQoY2hhbmdlZCksICdpZGVudGlmaWVyJywgdHJ1ZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFthbGwsIGNoYW5nZWRdO1xufVxuXG52YXIgVE9VQ0hfSU5QVVRfTUFQID0ge1xuICAgIHRvdWNoc3RhcnQ6IElOUFVUX1NUQVJULFxuICAgIHRvdWNobW92ZTogSU5QVVRfTU9WRSxcbiAgICB0b3VjaGVuZDogSU5QVVRfRU5ELFxuICAgIHRvdWNoY2FuY2VsOiBJTlBVVF9DQU5DRUxcbn07XG5cbnZhciBUT1VDSF9UQVJHRVRfRVZFTlRTID0gJ3RvdWNoc3RhcnQgdG91Y2htb3ZlIHRvdWNoZW5kIHRvdWNoY2FuY2VsJztcblxuLyoqXG4gKiBNdWx0aS11c2VyIHRvdWNoIGV2ZW50cyBpbnB1dFxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBJbnB1dFxuICovXG5mdW5jdGlvbiBUb3VjaElucHV0KCkge1xuICAgIHRoaXMuZXZUYXJnZXQgPSBUT1VDSF9UQVJHRVRfRVZFTlRTO1xuICAgIHRoaXMudGFyZ2V0SWRzID0ge307XG5cbiAgICBJbnB1dC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5pbmhlcml0KFRvdWNoSW5wdXQsIElucHV0LCB7XG4gICAgaGFuZGxlcjogZnVuY3Rpb24gTVRFaGFuZGxlcihldikge1xuICAgICAgICB2YXIgdHlwZSA9IFRPVUNIX0lOUFVUX01BUFtldi50eXBlXTtcbiAgICAgICAgdmFyIHRvdWNoZXMgPSBnZXRUb3VjaGVzLmNhbGwodGhpcywgZXYsIHR5cGUpO1xuICAgICAgICBpZiAoIXRvdWNoZXMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY2FsbGJhY2sodGhpcy5tYW5hZ2VyLCB0eXBlLCB7XG4gICAgICAgICAgICBwb2ludGVyczogdG91Y2hlc1swXSxcbiAgICAgICAgICAgIGNoYW5nZWRQb2ludGVyczogdG91Y2hlc1sxXSxcbiAgICAgICAgICAgIHBvaW50ZXJUeXBlOiBJTlBVVF9UWVBFX1RPVUNILFxuICAgICAgICAgICAgc3JjRXZlbnQ6IGV2XG4gICAgICAgIH0pO1xuICAgIH1cbn0pO1xuXG4vKipcbiAqIEB0aGlzIHtUb3VjaElucHV0fVxuICogQHBhcmFtIHtPYmplY3R9IGV2XG4gKiBAcGFyYW0ge051bWJlcn0gdHlwZSBmbGFnXG4gKiBAcmV0dXJucyB7dW5kZWZpbmVkfEFycmF5fSBbYWxsLCBjaGFuZ2VkXVxuICovXG5mdW5jdGlvbiBnZXRUb3VjaGVzKGV2LCB0eXBlKSB7XG4gICAgdmFyIGFsbFRvdWNoZXMgPSB0b0FycmF5KGV2LnRvdWNoZXMpO1xuICAgIHZhciB0YXJnZXRJZHMgPSB0aGlzLnRhcmdldElkcztcblxuICAgIC8vIHdoZW4gdGhlcmUgaXMgb25seSBvbmUgdG91Y2gsIHRoZSBwcm9jZXNzIGNhbiBiZSBzaW1wbGlmaWVkXG4gICAgaWYgKHR5cGUgJiAoSU5QVVRfU1RBUlQgfCBJTlBVVF9NT1ZFKSAmJiBhbGxUb3VjaGVzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICB0YXJnZXRJZHNbYWxsVG91Y2hlc1swXS5pZGVudGlmaWVyXSA9IHRydWU7XG4gICAgICAgIHJldHVybiBbYWxsVG91Y2hlcywgYWxsVG91Y2hlc107XG4gICAgfVxuXG4gICAgdmFyIGksXG4gICAgICAgIHRhcmdldFRvdWNoZXMsXG4gICAgICAgIGNoYW5nZWRUb3VjaGVzID0gdG9BcnJheShldi5jaGFuZ2VkVG91Y2hlcyksXG4gICAgICAgIGNoYW5nZWRUYXJnZXRUb3VjaGVzID0gW10sXG4gICAgICAgIHRhcmdldCA9IHRoaXMudGFyZ2V0O1xuXG4gICAgLy8gZ2V0IHRhcmdldCB0b3VjaGVzIGZyb20gdG91Y2hlc1xuICAgIHRhcmdldFRvdWNoZXMgPSBhbGxUb3VjaGVzLmZpbHRlcihmdW5jdGlvbih0b3VjaCkge1xuICAgICAgICByZXR1cm4gaGFzUGFyZW50KHRvdWNoLnRhcmdldCwgdGFyZ2V0KTtcbiAgICB9KTtcblxuICAgIC8vIGNvbGxlY3QgdG91Y2hlc1xuICAgIGlmICh0eXBlID09PSBJTlBVVF9TVEFSVCkge1xuICAgICAgICBpID0gMDtcbiAgICAgICAgd2hpbGUgKGkgPCB0YXJnZXRUb3VjaGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGFyZ2V0SWRzW3RhcmdldFRvdWNoZXNbaV0uaWRlbnRpZmllcl0gPSB0cnVlO1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gZmlsdGVyIGNoYW5nZWQgdG91Y2hlcyB0byBvbmx5IGNvbnRhaW4gdG91Y2hlcyB0aGF0IGV4aXN0IGluIHRoZSBjb2xsZWN0ZWQgdGFyZ2V0IGlkc1xuICAgIGkgPSAwO1xuICAgIHdoaWxlIChpIDwgY2hhbmdlZFRvdWNoZXMubGVuZ3RoKSB7XG4gICAgICAgIGlmICh0YXJnZXRJZHNbY2hhbmdlZFRvdWNoZXNbaV0uaWRlbnRpZmllcl0pIHtcbiAgICAgICAgICAgIGNoYW5nZWRUYXJnZXRUb3VjaGVzLnB1c2goY2hhbmdlZFRvdWNoZXNbaV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY2xlYW51cCByZW1vdmVkIHRvdWNoZXNcbiAgICAgICAgaWYgKHR5cGUgJiAoSU5QVVRfRU5EIHwgSU5QVVRfQ0FOQ0VMKSkge1xuICAgICAgICAgICAgZGVsZXRlIHRhcmdldElkc1tjaGFuZ2VkVG91Y2hlc1tpXS5pZGVudGlmaWVyXTtcbiAgICAgICAgfVxuICAgICAgICBpKys7XG4gICAgfVxuXG4gICAgaWYgKCFjaGFuZ2VkVGFyZ2V0VG91Y2hlcy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJldHVybiBbXG4gICAgICAgIC8vIG1lcmdlIHRhcmdldFRvdWNoZXMgd2l0aCBjaGFuZ2VkVGFyZ2V0VG91Y2hlcyBzbyBpdCBjb250YWlucyBBTEwgdG91Y2hlcywgaW5jbHVkaW5nICdlbmQnIGFuZCAnY2FuY2VsJ1xuICAgICAgICB1bmlxdWVBcnJheSh0YXJnZXRUb3VjaGVzLmNvbmNhdChjaGFuZ2VkVGFyZ2V0VG91Y2hlcyksICdpZGVudGlmaWVyJywgdHJ1ZSksXG4gICAgICAgIGNoYW5nZWRUYXJnZXRUb3VjaGVzXG4gICAgXTtcbn1cblxuLyoqXG4gKiBDb21iaW5lZCB0b3VjaCBhbmQgbW91c2UgaW5wdXRcbiAqXG4gKiBUb3VjaCBoYXMgYSBoaWdoZXIgcHJpb3JpdHkgdGhlbiBtb3VzZSwgYW5kIHdoaWxlIHRvdWNoaW5nIG5vIG1vdXNlIGV2ZW50cyBhcmUgYWxsb3dlZC5cbiAqIFRoaXMgYmVjYXVzZSB0b3VjaCBkZXZpY2VzIGFsc28gZW1pdCBtb3VzZSBldmVudHMgd2hpbGUgZG9pbmcgYSB0b3VjaC5cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIElucHV0XG4gKi9cblxudmFyIERFRFVQX1RJTUVPVVQgPSAyNTAwO1xudmFyIERFRFVQX0RJU1RBTkNFID0gMjU7XG5cbmZ1bmN0aW9uIFRvdWNoTW91c2VJbnB1dCgpIHtcbiAgICBJbnB1dC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG4gICAgdmFyIGhhbmRsZXIgPSBiaW5kRm4odGhpcy5oYW5kbGVyLCB0aGlzKTtcbiAgICB0aGlzLnRvdWNoID0gbmV3IFRvdWNoSW5wdXQodGhpcy5tYW5hZ2VyLCBoYW5kbGVyKTtcbiAgICB0aGlzLm1vdXNlID0gbmV3IE1vdXNlSW5wdXQodGhpcy5tYW5hZ2VyLCBoYW5kbGVyKTtcblxuICAgIHRoaXMucHJpbWFyeVRvdWNoID0gbnVsbDtcbiAgICB0aGlzLmxhc3RUb3VjaGVzID0gW107XG59XG5cbmluaGVyaXQoVG91Y2hNb3VzZUlucHV0LCBJbnB1dCwge1xuICAgIC8qKlxuICAgICAqIGhhbmRsZSBtb3VzZSBhbmQgdG91Y2ggZXZlbnRzXG4gICAgICogQHBhcmFtIHtIYW1tZXJ9IG1hbmFnZXJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXRFdmVudFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dERhdGFcbiAgICAgKi9cbiAgICBoYW5kbGVyOiBmdW5jdGlvbiBUTUVoYW5kbGVyKG1hbmFnZXIsIGlucHV0RXZlbnQsIGlucHV0RGF0YSkge1xuICAgICAgICB2YXIgaXNUb3VjaCA9IChpbnB1dERhdGEucG9pbnRlclR5cGUgPT0gSU5QVVRfVFlQRV9UT1VDSCksXG4gICAgICAgICAgICBpc01vdXNlID0gKGlucHV0RGF0YS5wb2ludGVyVHlwZSA9PSBJTlBVVF9UWVBFX01PVVNFKTtcblxuICAgICAgICBpZiAoaXNNb3VzZSAmJiBpbnB1dERhdGEuc291cmNlQ2FwYWJpbGl0aWVzICYmIGlucHV0RGF0YS5zb3VyY2VDYXBhYmlsaXRpZXMuZmlyZXNUb3VjaEV2ZW50cykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gd2hlbiB3ZSdyZSBpbiBhIHRvdWNoIGV2ZW50LCByZWNvcmQgdG91Y2hlcyB0byAgZGUtZHVwZSBzeW50aGV0aWMgbW91c2UgZXZlbnRcbiAgICAgICAgaWYgKGlzVG91Y2gpIHtcbiAgICAgICAgICAgIHJlY29yZFRvdWNoZXMuY2FsbCh0aGlzLCBpbnB1dEV2ZW50LCBpbnB1dERhdGEpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzTW91c2UgJiYgaXNTeW50aGV0aWNFdmVudC5jYWxsKHRoaXMsIGlucHV0RGF0YSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY2FsbGJhY2sobWFuYWdlciwgaW5wdXRFdmVudCwgaW5wdXREYXRhKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogcmVtb3ZlIHRoZSBldmVudCBsaXN0ZW5lcnNcbiAgICAgKi9cbiAgICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLnRvdWNoLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5tb3VzZS5kZXN0cm95KCk7XG4gICAgfVxufSk7XG5cbmZ1bmN0aW9uIHJlY29yZFRvdWNoZXMoZXZlbnRUeXBlLCBldmVudERhdGEpIHtcbiAgICBpZiAoZXZlbnRUeXBlICYgSU5QVVRfU1RBUlQpIHtcbiAgICAgICAgdGhpcy5wcmltYXJ5VG91Y2ggPSBldmVudERhdGEuY2hhbmdlZFBvaW50ZXJzWzBdLmlkZW50aWZpZXI7XG4gICAgICAgIHNldExhc3RUb3VjaC5jYWxsKHRoaXMsIGV2ZW50RGF0YSk7XG4gICAgfSBlbHNlIGlmIChldmVudFR5cGUgJiAoSU5QVVRfRU5EIHwgSU5QVVRfQ0FOQ0VMKSkge1xuICAgICAgICBzZXRMYXN0VG91Y2guY2FsbCh0aGlzLCBldmVudERhdGEpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gc2V0TGFzdFRvdWNoKGV2ZW50RGF0YSkge1xuICAgIHZhciB0b3VjaCA9IGV2ZW50RGF0YS5jaGFuZ2VkUG9pbnRlcnNbMF07XG5cbiAgICBpZiAodG91Y2guaWRlbnRpZmllciA9PT0gdGhpcy5wcmltYXJ5VG91Y2gpIHtcbiAgICAgICAgdmFyIGxhc3RUb3VjaCA9IHt4OiB0b3VjaC5jbGllbnRYLCB5OiB0b3VjaC5jbGllbnRZfTtcbiAgICAgICAgdGhpcy5sYXN0VG91Y2hlcy5wdXNoKGxhc3RUb3VjaCk7XG4gICAgICAgIHZhciBsdHMgPSB0aGlzLmxhc3RUb3VjaGVzO1xuICAgICAgICB2YXIgcmVtb3ZlTGFzdFRvdWNoID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgaSA9IGx0cy5pbmRleE9mKGxhc3RUb3VjaCk7XG4gICAgICAgICAgICBpZiAoaSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgbHRzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgc2V0VGltZW91dChyZW1vdmVMYXN0VG91Y2gsIERFRFVQX1RJTUVPVVQpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gaXNTeW50aGV0aWNFdmVudChldmVudERhdGEpIHtcbiAgICB2YXIgeCA9IGV2ZW50RGF0YS5zcmNFdmVudC5jbGllbnRYLCB5ID0gZXZlbnREYXRhLnNyY0V2ZW50LmNsaWVudFk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxhc3RUb3VjaGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciB0ID0gdGhpcy5sYXN0VG91Y2hlc1tpXTtcbiAgICAgICAgdmFyIGR4ID0gTWF0aC5hYnMoeCAtIHQueCksIGR5ID0gTWF0aC5hYnMoeSAtIHQueSk7XG4gICAgICAgIGlmIChkeCA8PSBERURVUF9ESVNUQU5DRSAmJiBkeSA8PSBERURVUF9ESVNUQU5DRSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG52YXIgUFJFRklYRURfVE9VQ0hfQUNUSU9OID0gcHJlZml4ZWQoVEVTVF9FTEVNRU5ULnN0eWxlLCAndG91Y2hBY3Rpb24nKTtcbnZhciBOQVRJVkVfVE9VQ0hfQUNUSU9OID0gUFJFRklYRURfVE9VQ0hfQUNUSU9OICE9PSB1bmRlZmluZWQ7XG5cbi8vIG1hZ2ljYWwgdG91Y2hBY3Rpb24gdmFsdWVcbnZhciBUT1VDSF9BQ1RJT05fQ09NUFVURSA9ICdjb21wdXRlJztcbnZhciBUT1VDSF9BQ1RJT05fQVVUTyA9ICdhdXRvJztcbnZhciBUT1VDSF9BQ1RJT05fTUFOSVBVTEFUSU9OID0gJ21hbmlwdWxhdGlvbic7IC8vIG5vdCBpbXBsZW1lbnRlZFxudmFyIFRPVUNIX0FDVElPTl9OT05FID0gJ25vbmUnO1xudmFyIFRPVUNIX0FDVElPTl9QQU5fWCA9ICdwYW4teCc7XG52YXIgVE9VQ0hfQUNUSU9OX1BBTl9ZID0gJ3Bhbi15JztcbnZhciBUT1VDSF9BQ1RJT05fTUFQID0gZ2V0VG91Y2hBY3Rpb25Qcm9wcygpO1xuXG4vKipcbiAqIFRvdWNoIEFjdGlvblxuICogc2V0cyB0aGUgdG91Y2hBY3Rpb24gcHJvcGVydHkgb3IgdXNlcyB0aGUganMgYWx0ZXJuYXRpdmVcbiAqIEBwYXJhbSB7TWFuYWdlcn0gbWFuYWdlclxuICogQHBhcmFtIHtTdHJpbmd9IHZhbHVlXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gVG91Y2hBY3Rpb24obWFuYWdlciwgdmFsdWUpIHtcbiAgICB0aGlzLm1hbmFnZXIgPSBtYW5hZ2VyO1xuICAgIHRoaXMuc2V0KHZhbHVlKTtcbn1cblxuVG91Y2hBY3Rpb24ucHJvdG90eXBlID0ge1xuICAgIC8qKlxuICAgICAqIHNldCB0aGUgdG91Y2hBY3Rpb24gdmFsdWUgb24gdGhlIGVsZW1lbnQgb3IgZW5hYmxlIHRoZSBwb2x5ZmlsbFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB2YWx1ZVxuICAgICAqL1xuICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgLy8gZmluZCBvdXQgdGhlIHRvdWNoLWFjdGlvbiBieSB0aGUgZXZlbnQgaGFuZGxlcnNcbiAgICAgICAgaWYgKHZhbHVlID09IFRPVUNIX0FDVElPTl9DT01QVVRFKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHRoaXMuY29tcHV0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKE5BVElWRV9UT1VDSF9BQ1RJT04gJiYgdGhpcy5tYW5hZ2VyLmVsZW1lbnQuc3R5bGUgJiYgVE9VQ0hfQUNUSU9OX01BUFt2YWx1ZV0pIHtcbiAgICAgICAgICAgIHRoaXMubWFuYWdlci5lbGVtZW50LnN0eWxlW1BSRUZJWEVEX1RPVUNIX0FDVElPTl0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFjdGlvbnMgPSB2YWx1ZS50b0xvd2VyQ2FzZSgpLnRyaW0oKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICoganVzdCByZS1zZXQgdGhlIHRvdWNoQWN0aW9uIHZhbHVlXG4gICAgICovXG4gICAgdXBkYXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5zZXQodGhpcy5tYW5hZ2VyLm9wdGlvbnMudG91Y2hBY3Rpb24pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBjb21wdXRlIHRoZSB2YWx1ZSBmb3IgdGhlIHRvdWNoQWN0aW9uIHByb3BlcnR5IGJhc2VkIG9uIHRoZSByZWNvZ25pemVyJ3Mgc2V0dGluZ3NcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSB2YWx1ZVxuICAgICAqL1xuICAgIGNvbXB1dGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYWN0aW9ucyA9IFtdO1xuICAgICAgICBlYWNoKHRoaXMubWFuYWdlci5yZWNvZ25pemVycywgZnVuY3Rpb24ocmVjb2duaXplcikge1xuICAgICAgICAgICAgaWYgKGJvb2xPckZuKHJlY29nbml6ZXIub3B0aW9ucy5lbmFibGUsIFtyZWNvZ25pemVyXSkpIHtcbiAgICAgICAgICAgICAgICBhY3Rpb25zID0gYWN0aW9ucy5jb25jYXQocmVjb2duaXplci5nZXRUb3VjaEFjdGlvbigpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBjbGVhblRvdWNoQWN0aW9ucyhhY3Rpb25zLmpvaW4oJyAnKSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHRoaXMgbWV0aG9kIGlzIGNhbGxlZCBvbiBlYWNoIGlucHV0IGN5Y2xlIGFuZCBwcm92aWRlcyB0aGUgcHJldmVudGluZyBvZiB0aGUgYnJvd3NlciBiZWhhdmlvclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuICAgICAqL1xuICAgIHByZXZlbnREZWZhdWx0czogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgdmFyIHNyY0V2ZW50ID0gaW5wdXQuc3JjRXZlbnQ7XG4gICAgICAgIHZhciBkaXJlY3Rpb24gPSBpbnB1dC5vZmZzZXREaXJlY3Rpb247XG5cbiAgICAgICAgLy8gaWYgdGhlIHRvdWNoIGFjdGlvbiBkaWQgcHJldmVudGVkIG9uY2UgdGhpcyBzZXNzaW9uXG4gICAgICAgIGlmICh0aGlzLm1hbmFnZXIuc2Vzc2lvbi5wcmV2ZW50ZWQpIHtcbiAgICAgICAgICAgIHNyY0V2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYWN0aW9ucyA9IHRoaXMuYWN0aW9ucztcbiAgICAgICAgdmFyIGhhc05vbmUgPSBpblN0cihhY3Rpb25zLCBUT1VDSF9BQ1RJT05fTk9ORSkgJiYgIVRPVUNIX0FDVElPTl9NQVBbVE9VQ0hfQUNUSU9OX05PTkVdO1xuICAgICAgICB2YXIgaGFzUGFuWSA9IGluU3RyKGFjdGlvbnMsIFRPVUNIX0FDVElPTl9QQU5fWSkgJiYgIVRPVUNIX0FDVElPTl9NQVBbVE9VQ0hfQUNUSU9OX1BBTl9ZXTtcbiAgICAgICAgdmFyIGhhc1BhblggPSBpblN0cihhY3Rpb25zLCBUT1VDSF9BQ1RJT05fUEFOX1gpICYmICFUT1VDSF9BQ1RJT05fTUFQW1RPVUNIX0FDVElPTl9QQU5fWF07XG5cbiAgICAgICAgaWYgKGhhc05vbmUpIHtcbiAgICAgICAgICAgIC8vZG8gbm90IHByZXZlbnQgZGVmYXVsdHMgaWYgdGhpcyBpcyBhIHRhcCBnZXN0dXJlXG5cbiAgICAgICAgICAgIHZhciBpc1RhcFBvaW50ZXIgPSBpbnB1dC5wb2ludGVycy5sZW5ndGggPT09IDE7XG4gICAgICAgICAgICB2YXIgaXNUYXBNb3ZlbWVudCA9IGlucHV0LmRpc3RhbmNlIDwgMjtcbiAgICAgICAgICAgIHZhciBpc1RhcFRvdWNoVGltZSA9IGlucHV0LmRlbHRhVGltZSA8IDI1MDtcblxuICAgICAgICAgICAgaWYgKGlzVGFwUG9pbnRlciAmJiBpc1RhcE1vdmVtZW50ICYmIGlzVGFwVG91Y2hUaW1lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhhc1BhblggJiYgaGFzUGFuWSkge1xuICAgICAgICAgICAgLy8gYHBhbi14IHBhbi15YCBtZWFucyBicm93c2VyIGhhbmRsZXMgYWxsIHNjcm9sbGluZy9wYW5uaW5nLCBkbyBub3QgcHJldmVudFxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhhc05vbmUgfHxcbiAgICAgICAgICAgIChoYXNQYW5ZICYmIGRpcmVjdGlvbiAmIERJUkVDVElPTl9IT1JJWk9OVEFMKSB8fFxuICAgICAgICAgICAgKGhhc1BhblggJiYgZGlyZWN0aW9uICYgRElSRUNUSU9OX1ZFUlRJQ0FMKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJldmVudFNyYyhzcmNFdmVudCk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogY2FsbCBwcmV2ZW50RGVmYXVsdCB0byBwcmV2ZW50IHRoZSBicm93c2VyJ3MgZGVmYXVsdCBiZWhhdmlvciAoc2Nyb2xsaW5nIGluIG1vc3QgY2FzZXMpXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNyY0V2ZW50XG4gICAgICovXG4gICAgcHJldmVudFNyYzogZnVuY3Rpb24oc3JjRXZlbnQpIHtcbiAgICAgICAgdGhpcy5tYW5hZ2VyLnNlc3Npb24ucHJldmVudGVkID0gdHJ1ZTtcbiAgICAgICAgc3JjRXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIHdoZW4gdGhlIHRvdWNoQWN0aW9ucyBhcmUgY29sbGVjdGVkIHRoZXkgYXJlIG5vdCBhIHZhbGlkIHZhbHVlLCBzbyB3ZSBuZWVkIHRvIGNsZWFuIHRoaW5ncyB1cC4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGFjdGlvbnNcbiAqIEByZXR1cm5zIHsqfVxuICovXG5mdW5jdGlvbiBjbGVhblRvdWNoQWN0aW9ucyhhY3Rpb25zKSB7XG4gICAgLy8gbm9uZVxuICAgIGlmIChpblN0cihhY3Rpb25zLCBUT1VDSF9BQ1RJT05fTk9ORSkpIHtcbiAgICAgICAgcmV0dXJuIFRPVUNIX0FDVElPTl9OT05FO1xuICAgIH1cblxuICAgIHZhciBoYXNQYW5YID0gaW5TdHIoYWN0aW9ucywgVE9VQ0hfQUNUSU9OX1BBTl9YKTtcbiAgICB2YXIgaGFzUGFuWSA9IGluU3RyKGFjdGlvbnMsIFRPVUNIX0FDVElPTl9QQU5fWSk7XG5cbiAgICAvLyBpZiBib3RoIHBhbi14IGFuZCBwYW4teSBhcmUgc2V0IChkaWZmZXJlbnQgcmVjb2duaXplcnNcbiAgICAvLyBmb3IgZGlmZmVyZW50IGRpcmVjdGlvbnMsIGUuZy4gaG9yaXpvbnRhbCBwYW4gYnV0IHZlcnRpY2FsIHN3aXBlPylcbiAgICAvLyB3ZSBuZWVkIG5vbmUgKGFzIG90aGVyd2lzZSB3aXRoIHBhbi14IHBhbi15IGNvbWJpbmVkIG5vbmUgb2YgdGhlc2VcbiAgICAvLyByZWNvZ25pemVycyB3aWxsIHdvcmssIHNpbmNlIHRoZSBicm93c2VyIHdvdWxkIGhhbmRsZSBhbGwgcGFubmluZ1xuICAgIGlmIChoYXNQYW5YICYmIGhhc1BhblkpIHtcbiAgICAgICAgcmV0dXJuIFRPVUNIX0FDVElPTl9OT05FO1xuICAgIH1cblxuICAgIC8vIHBhbi14IE9SIHBhbi15XG4gICAgaWYgKGhhc1BhblggfHwgaGFzUGFuWSkge1xuICAgICAgICByZXR1cm4gaGFzUGFuWCA/IFRPVUNIX0FDVElPTl9QQU5fWCA6IFRPVUNIX0FDVElPTl9QQU5fWTtcbiAgICB9XG5cbiAgICAvLyBtYW5pcHVsYXRpb25cbiAgICBpZiAoaW5TdHIoYWN0aW9ucywgVE9VQ0hfQUNUSU9OX01BTklQVUxBVElPTikpIHtcbiAgICAgICAgcmV0dXJuIFRPVUNIX0FDVElPTl9NQU5JUFVMQVRJT047XG4gICAgfVxuXG4gICAgcmV0dXJuIFRPVUNIX0FDVElPTl9BVVRPO1xufVxuXG5mdW5jdGlvbiBnZXRUb3VjaEFjdGlvblByb3BzKCkge1xuICAgIGlmICghTkFUSVZFX1RPVUNIX0FDVElPTikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHZhciB0b3VjaE1hcCA9IHt9O1xuICAgIHZhciBjc3NTdXBwb3J0cyA9IHdpbmRvdy5DU1MgJiYgd2luZG93LkNTUy5zdXBwb3J0cztcbiAgICBbJ2F1dG8nLCAnbWFuaXB1bGF0aW9uJywgJ3Bhbi15JywgJ3Bhbi14JywgJ3Bhbi14IHBhbi15JywgJ25vbmUnXS5mb3JFYWNoKGZ1bmN0aW9uKHZhbCkge1xuXG4gICAgICAgIC8vIElmIGNzcy5zdXBwb3J0cyBpcyBub3Qgc3VwcG9ydGVkIGJ1dCB0aGVyZSBpcyBuYXRpdmUgdG91Y2gtYWN0aW9uIGFzc3VtZSBpdCBzdXBwb3J0c1xuICAgICAgICAvLyBhbGwgdmFsdWVzLiBUaGlzIGlzIHRoZSBjYXNlIGZvciBJRSAxMCBhbmQgMTEuXG4gICAgICAgIHRvdWNoTWFwW3ZhbF0gPSBjc3NTdXBwb3J0cyA/IHdpbmRvdy5DU1Muc3VwcG9ydHMoJ3RvdWNoLWFjdGlvbicsIHZhbCkgOiB0cnVlO1xuICAgIH0pO1xuICAgIHJldHVybiB0b3VjaE1hcDtcbn1cblxuLyoqXG4gKiBSZWNvZ25pemVyIGZsb3cgZXhwbGFpbmVkOyAqXG4gKiBBbGwgcmVjb2duaXplcnMgaGF2ZSB0aGUgaW5pdGlhbCBzdGF0ZSBvZiBQT1NTSUJMRSB3aGVuIGEgaW5wdXQgc2Vzc2lvbiBzdGFydHMuXG4gKiBUaGUgZGVmaW5pdGlvbiBvZiBhIGlucHV0IHNlc3Npb24gaXMgZnJvbSB0aGUgZmlyc3QgaW5wdXQgdW50aWwgdGhlIGxhc3QgaW5wdXQsIHdpdGggYWxsIGl0J3MgbW92ZW1lbnQgaW4gaXQuICpcbiAqIEV4YW1wbGUgc2Vzc2lvbiBmb3IgbW91c2UtaW5wdXQ6IG1vdXNlZG93biAtPiBtb3VzZW1vdmUgLT4gbW91c2V1cFxuICpcbiAqIE9uIGVhY2ggcmVjb2duaXppbmcgY3ljbGUgKHNlZSBNYW5hZ2VyLnJlY29nbml6ZSkgdGhlIC5yZWNvZ25pemUoKSBtZXRob2QgaXMgZXhlY3V0ZWRcbiAqIHdoaWNoIGRldGVybWluZXMgd2l0aCBzdGF0ZSBpdCBzaG91bGQgYmUuXG4gKlxuICogSWYgdGhlIHJlY29nbml6ZXIgaGFzIHRoZSBzdGF0ZSBGQUlMRUQsIENBTkNFTExFRCBvciBSRUNPR05JWkVEIChlcXVhbHMgRU5ERUQpLCBpdCBpcyByZXNldCB0b1xuICogUE9TU0lCTEUgdG8gZ2l2ZSBpdCBhbm90aGVyIGNoYW5nZSBvbiB0aGUgbmV4dCBjeWNsZS5cbiAqXG4gKiAgICAgICAgICAgICAgIFBvc3NpYmxlXG4gKiAgICAgICAgICAgICAgICAgIHxcbiAqICAgICAgICAgICAgKy0tLS0tKy0tLS0tLS0tLS0tLS0tLStcbiAqICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgIHxcbiAqICAgICAgKy0tLS0tKy0tLS0tKyAgICAgICAgICAgICAgIHxcbiAqICAgICAgfCAgICAgICAgICAgfCAgICAgICAgICAgICAgIHxcbiAqICAgRmFpbGVkICAgICAgQ2FuY2VsbGVkICAgICAgICAgIHxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICArLS0tLS0tLSstLS0tLS0rXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgfFxuICogICAgICAgICAgICAgICAgICAgICAgUmVjb2duaXplZCAgICAgICBCZWdhblxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDaGFuZ2VkXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRW5kZWQvUmVjb2duaXplZFxuICovXG52YXIgU1RBVEVfUE9TU0lCTEUgPSAxO1xudmFyIFNUQVRFX0JFR0FOID0gMjtcbnZhciBTVEFURV9DSEFOR0VEID0gNDtcbnZhciBTVEFURV9FTkRFRCA9IDg7XG52YXIgU1RBVEVfUkVDT0dOSVpFRCA9IFNUQVRFX0VOREVEO1xudmFyIFNUQVRFX0NBTkNFTExFRCA9IDE2O1xudmFyIFNUQVRFX0ZBSUxFRCA9IDMyO1xuXG4vKipcbiAqIFJlY29nbml6ZXJcbiAqIEV2ZXJ5IHJlY29nbml6ZXIgbmVlZHMgdG8gZXh0ZW5kIGZyb20gdGhpcyBjbGFzcy5cbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAqL1xuZnVuY3Rpb24gUmVjb2duaXplcihvcHRpb25zKSB7XG4gICAgdGhpcy5vcHRpb25zID0gYXNzaWduKHt9LCB0aGlzLmRlZmF1bHRzLCBvcHRpb25zIHx8IHt9KTtcblxuICAgIHRoaXMuaWQgPSB1bmlxdWVJZCgpO1xuXG4gICAgdGhpcy5tYW5hZ2VyID0gbnVsbDtcblxuICAgIC8vIGRlZmF1bHQgaXMgZW5hYmxlIHRydWVcbiAgICB0aGlzLm9wdGlvbnMuZW5hYmxlID0gaWZVbmRlZmluZWQodGhpcy5vcHRpb25zLmVuYWJsZSwgdHJ1ZSk7XG5cbiAgICB0aGlzLnN0YXRlID0gU1RBVEVfUE9TU0lCTEU7XG5cbiAgICB0aGlzLnNpbXVsdGFuZW91cyA9IHt9O1xuICAgIHRoaXMucmVxdWlyZUZhaWwgPSBbXTtcbn1cblxuUmVjb2duaXplci5wcm90b3R5cGUgPSB7XG4gICAgLyoqXG4gICAgICogQHZpcnR1YWxcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqL1xuICAgIGRlZmF1bHRzOiB7fSxcblxuICAgIC8qKlxuICAgICAqIHNldCBvcHRpb25zXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKiBAcmV0dXJuIHtSZWNvZ25pemVyfVxuICAgICAqL1xuICAgIHNldDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgICBhc3NpZ24odGhpcy5vcHRpb25zLCBvcHRpb25zKTtcblxuICAgICAgICAvLyBhbHNvIHVwZGF0ZSB0aGUgdG91Y2hBY3Rpb24sIGluIGNhc2Ugc29tZXRoaW5nIGNoYW5nZWQgYWJvdXQgdGhlIGRpcmVjdGlvbnMvZW5hYmxlZCBzdGF0ZVxuICAgICAgICB0aGlzLm1hbmFnZXIgJiYgdGhpcy5tYW5hZ2VyLnRvdWNoQWN0aW9uLnVwZGF0ZSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogcmVjb2duaXplIHNpbXVsdGFuZW91cyB3aXRoIGFuIG90aGVyIHJlY29nbml6ZXIuXG4gICAgICogQHBhcmFtIHtSZWNvZ25pemVyfSBvdGhlclJlY29nbml6ZXJcbiAgICAgKiBAcmV0dXJucyB7UmVjb2duaXplcn0gdGhpc1xuICAgICAqL1xuICAgIHJlY29nbml6ZVdpdGg6IGZ1bmN0aW9uKG90aGVyUmVjb2duaXplcikge1xuICAgICAgICBpZiAoaW52b2tlQXJyYXlBcmcob3RoZXJSZWNvZ25pemVyLCAncmVjb2duaXplV2l0aCcsIHRoaXMpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzaW11bHRhbmVvdXMgPSB0aGlzLnNpbXVsdGFuZW91cztcbiAgICAgICAgb3RoZXJSZWNvZ25pemVyID0gZ2V0UmVjb2duaXplckJ5TmFtZUlmTWFuYWdlcihvdGhlclJlY29nbml6ZXIsIHRoaXMpO1xuICAgICAgICBpZiAoIXNpbXVsdGFuZW91c1tvdGhlclJlY29nbml6ZXIuaWRdKSB7XG4gICAgICAgICAgICBzaW11bHRhbmVvdXNbb3RoZXJSZWNvZ25pemVyLmlkXSA9IG90aGVyUmVjb2duaXplcjtcbiAgICAgICAgICAgIG90aGVyUmVjb2duaXplci5yZWNvZ25pemVXaXRoKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBkcm9wIHRoZSBzaW11bHRhbmVvdXMgbGluay4gaXQgZG9lc250IHJlbW92ZSB0aGUgbGluayBvbiB0aGUgb3RoZXIgcmVjb2duaXplci5cbiAgICAgKiBAcGFyYW0ge1JlY29nbml6ZXJ9IG90aGVyUmVjb2duaXplclxuICAgICAqIEByZXR1cm5zIHtSZWNvZ25pemVyfSB0aGlzXG4gICAgICovXG4gICAgZHJvcFJlY29nbml6ZVdpdGg6IGZ1bmN0aW9uKG90aGVyUmVjb2duaXplcikge1xuICAgICAgICBpZiAoaW52b2tlQXJyYXlBcmcob3RoZXJSZWNvZ25pemVyLCAnZHJvcFJlY29nbml6ZVdpdGgnLCB0aGlzKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBvdGhlclJlY29nbml6ZXIgPSBnZXRSZWNvZ25pemVyQnlOYW1lSWZNYW5hZ2VyKG90aGVyUmVjb2duaXplciwgdGhpcyk7XG4gICAgICAgIGRlbGV0ZSB0aGlzLnNpbXVsdGFuZW91c1tvdGhlclJlY29nbml6ZXIuaWRdO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogcmVjb2duaXplciBjYW4gb25seSBydW4gd2hlbiBhbiBvdGhlciBpcyBmYWlsaW5nXG4gICAgICogQHBhcmFtIHtSZWNvZ25pemVyfSBvdGhlclJlY29nbml6ZXJcbiAgICAgKiBAcmV0dXJucyB7UmVjb2duaXplcn0gdGhpc1xuICAgICAqL1xuICAgIHJlcXVpcmVGYWlsdXJlOiBmdW5jdGlvbihvdGhlclJlY29nbml6ZXIpIHtcbiAgICAgICAgaWYgKGludm9rZUFycmF5QXJnKG90aGVyUmVjb2duaXplciwgJ3JlcXVpcmVGYWlsdXJlJywgdGhpcykpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJlcXVpcmVGYWlsID0gdGhpcy5yZXF1aXJlRmFpbDtcbiAgICAgICAgb3RoZXJSZWNvZ25pemVyID0gZ2V0UmVjb2duaXplckJ5TmFtZUlmTWFuYWdlcihvdGhlclJlY29nbml6ZXIsIHRoaXMpO1xuICAgICAgICBpZiAoaW5BcnJheShyZXF1aXJlRmFpbCwgb3RoZXJSZWNvZ25pemVyKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHJlcXVpcmVGYWlsLnB1c2gob3RoZXJSZWNvZ25pemVyKTtcbiAgICAgICAgICAgIG90aGVyUmVjb2duaXplci5yZXF1aXJlRmFpbHVyZSh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogZHJvcCB0aGUgcmVxdWlyZUZhaWx1cmUgbGluay4gaXQgZG9lcyBub3QgcmVtb3ZlIHRoZSBsaW5rIG9uIHRoZSBvdGhlciByZWNvZ25pemVyLlxuICAgICAqIEBwYXJhbSB7UmVjb2duaXplcn0gb3RoZXJSZWNvZ25pemVyXG4gICAgICogQHJldHVybnMge1JlY29nbml6ZXJ9IHRoaXNcbiAgICAgKi9cbiAgICBkcm9wUmVxdWlyZUZhaWx1cmU6IGZ1bmN0aW9uKG90aGVyUmVjb2duaXplcikge1xuICAgICAgICBpZiAoaW52b2tlQXJyYXlBcmcob3RoZXJSZWNvZ25pemVyLCAnZHJvcFJlcXVpcmVGYWlsdXJlJywgdGhpcykpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgb3RoZXJSZWNvZ25pemVyID0gZ2V0UmVjb2duaXplckJ5TmFtZUlmTWFuYWdlcihvdGhlclJlY29nbml6ZXIsIHRoaXMpO1xuICAgICAgICB2YXIgaW5kZXggPSBpbkFycmF5KHRoaXMucmVxdWlyZUZhaWwsIG90aGVyUmVjb2duaXplcik7XG4gICAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgICAgICB0aGlzLnJlcXVpcmVGYWlsLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGhhcyByZXF1aXJlIGZhaWx1cmVzIGJvb2xlYW5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBoYXNSZXF1aXJlRmFpbHVyZXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXF1aXJlRmFpbC5sZW5ndGggPiAwO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBpZiB0aGUgcmVjb2duaXplciBjYW4gcmVjb2duaXplIHNpbXVsdGFuZW91cyB3aXRoIGFuIG90aGVyIHJlY29nbml6ZXJcbiAgICAgKiBAcGFyYW0ge1JlY29nbml6ZXJ9IG90aGVyUmVjb2duaXplclxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufVxuICAgICAqL1xuICAgIGNhblJlY29nbml6ZVdpdGg6IGZ1bmN0aW9uKG90aGVyUmVjb2duaXplcikge1xuICAgICAgICByZXR1cm4gISF0aGlzLnNpbXVsdGFuZW91c1tvdGhlclJlY29nbml6ZXIuaWRdO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBZb3Ugc2hvdWxkIHVzZSBgdHJ5RW1pdGAgaW5zdGVhZCBvZiBgZW1pdGAgZGlyZWN0bHkgdG8gY2hlY2tcbiAgICAgKiB0aGF0IGFsbCB0aGUgbmVlZGVkIHJlY29nbml6ZXJzIGhhcyBmYWlsZWQgYmVmb3JlIGVtaXR0aW5nLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuICAgICAqL1xuICAgIGVtaXQ6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZTtcblxuICAgICAgICBmdW5jdGlvbiBlbWl0KGV2ZW50KSB7XG4gICAgICAgICAgICBzZWxmLm1hbmFnZXIuZW1pdChldmVudCwgaW5wdXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gJ3BhbnN0YXJ0JyBhbmQgJ3Bhbm1vdmUnXG4gICAgICAgIGlmIChzdGF0ZSA8IFNUQVRFX0VOREVEKSB7XG4gICAgICAgICAgICBlbWl0KHNlbGYub3B0aW9ucy5ldmVudCArIHN0YXRlU3RyKHN0YXRlKSk7XG4gICAgICAgIH1cblxuICAgICAgICBlbWl0KHNlbGYub3B0aW9ucy5ldmVudCk7IC8vIHNpbXBsZSAnZXZlbnROYW1lJyBldmVudHNcblxuICAgICAgICBpZiAoaW5wdXQuYWRkaXRpb25hbEV2ZW50KSB7IC8vIGFkZGl0aW9uYWwgZXZlbnQocGFubGVmdCwgcGFucmlnaHQsIHBpbmNoaW4sIHBpbmNob3V0Li4uKVxuICAgICAgICAgICAgZW1pdChpbnB1dC5hZGRpdGlvbmFsRXZlbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcGFuZW5kIGFuZCBwYW5jYW5jZWxcbiAgICAgICAgaWYgKHN0YXRlID49IFNUQVRFX0VOREVEKSB7XG4gICAgICAgICAgICBlbWl0KHNlbGYub3B0aW9ucy5ldmVudCArIHN0YXRlU3RyKHN0YXRlKSk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgdGhhdCBhbGwgdGhlIHJlcXVpcmUgZmFpbHVyZSByZWNvZ25pemVycyBoYXMgZmFpbGVkLFxuICAgICAqIGlmIHRydWUsIGl0IGVtaXRzIGEgZ2VzdHVyZSBldmVudCxcbiAgICAgKiBvdGhlcndpc2UsIHNldHVwIHRoZSBzdGF0ZSB0byBGQUlMRUQuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG4gICAgICovXG4gICAgdHJ5RW1pdDogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgaWYgKHRoaXMuY2FuRW1pdCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbWl0KGlucHV0KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBpdCdzIGZhaWxpbmcgYW55d2F5XG4gICAgICAgIHRoaXMuc3RhdGUgPSBTVEFURV9GQUlMRUQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGNhbiB3ZSBlbWl0P1xuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIGNhbkVtaXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHdoaWxlIChpIDwgdGhpcy5yZXF1aXJlRmFpbC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmICghKHRoaXMucmVxdWlyZUZhaWxbaV0uc3RhdGUgJiAoU1RBVEVfRkFJTEVEIHwgU1RBVEVfUE9TU0lCTEUpKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogdXBkYXRlIHRoZSByZWNvZ25pemVyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0RGF0YVxuICAgICAqL1xuICAgIHJlY29nbml6ZTogZnVuY3Rpb24oaW5wdXREYXRhKSB7XG4gICAgICAgIC8vIG1ha2UgYSBuZXcgY29weSBvZiB0aGUgaW5wdXREYXRhXG4gICAgICAgIC8vIHNvIHdlIGNhbiBjaGFuZ2UgdGhlIGlucHV0RGF0YSB3aXRob3V0IG1lc3NpbmcgdXAgdGhlIG90aGVyIHJlY29nbml6ZXJzXG4gICAgICAgIHZhciBpbnB1dERhdGFDbG9uZSA9IGFzc2lnbih7fSwgaW5wdXREYXRhKTtcblxuICAgICAgICAvLyBpcyBpcyBlbmFibGVkIGFuZCBhbGxvdyByZWNvZ25pemluZz9cbiAgICAgICAgaWYgKCFib29sT3JGbih0aGlzLm9wdGlvbnMuZW5hYmxlLCBbdGhpcywgaW5wdXREYXRhQ2xvbmVdKSkge1xuICAgICAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFNUQVRFX0ZBSUxFRDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJlc2V0IHdoZW4gd2UndmUgcmVhY2hlZCB0aGUgZW5kXG4gICAgICAgIGlmICh0aGlzLnN0YXRlICYgKFNUQVRFX1JFQ09HTklaRUQgfCBTVEFURV9DQU5DRUxMRUQgfCBTVEFURV9GQUlMRUQpKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gU1RBVEVfUE9TU0lCTEU7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnN0YXRlID0gdGhpcy5wcm9jZXNzKGlucHV0RGF0YUNsb25lKTtcblxuICAgICAgICAvLyB0aGUgcmVjb2duaXplciBoYXMgcmVjb2duaXplZCBhIGdlc3R1cmVcbiAgICAgICAgLy8gc28gdHJpZ2dlciBhbiBldmVudFxuICAgICAgICBpZiAodGhpcy5zdGF0ZSAmIChTVEFURV9CRUdBTiB8IFNUQVRFX0NIQU5HRUQgfCBTVEFURV9FTkRFRCB8IFNUQVRFX0NBTkNFTExFRCkpIHtcbiAgICAgICAgICAgIHRoaXMudHJ5RW1pdChpbnB1dERhdGFDbG9uZSk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogcmV0dXJuIHRoZSBzdGF0ZSBvZiB0aGUgcmVjb2duaXplclxuICAgICAqIHRoZSBhY3R1YWwgcmVjb2duaXppbmcgaGFwcGVucyBpbiB0aGlzIG1ldGhvZFxuICAgICAqIEB2aXJ0dWFsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0RGF0YVxuICAgICAqIEByZXR1cm5zIHtDb25zdH0gU1RBVEVcbiAgICAgKi9cbiAgICBwcm9jZXNzOiBmdW5jdGlvbihpbnB1dERhdGEpIHsgfSwgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbiAgICAvKipcbiAgICAgKiByZXR1cm4gdGhlIHByZWZlcnJlZCB0b3VjaC1hY3Rpb25cbiAgICAgKiBAdmlydHVhbFxuICAgICAqIEByZXR1cm5zIHtBcnJheX1cbiAgICAgKi9cbiAgICBnZXRUb3VjaEFjdGlvbjogZnVuY3Rpb24oKSB7IH0sXG5cbiAgICAvKipcbiAgICAgKiBjYWxsZWQgd2hlbiB0aGUgZ2VzdHVyZSBpc24ndCBhbGxvd2VkIHRvIHJlY29nbml6ZVxuICAgICAqIGxpa2Ugd2hlbiBhbm90aGVyIGlzIGJlaW5nIHJlY29nbml6ZWQgb3IgaXQgaXMgZGlzYWJsZWRcbiAgICAgKiBAdmlydHVhbFxuICAgICAqL1xuICAgIHJlc2V0OiBmdW5jdGlvbigpIHsgfVxufTtcblxuLyoqXG4gKiBnZXQgYSB1c2FibGUgc3RyaW5nLCB1c2VkIGFzIGV2ZW50IHBvc3RmaXhcbiAqIEBwYXJhbSB7Q29uc3R9IHN0YXRlXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBzdGF0ZVxuICovXG5mdW5jdGlvbiBzdGF0ZVN0cihzdGF0ZSkge1xuICAgIGlmIChzdGF0ZSAmIFNUQVRFX0NBTkNFTExFRCkge1xuICAgICAgICByZXR1cm4gJ2NhbmNlbCc7XG4gICAgfSBlbHNlIGlmIChzdGF0ZSAmIFNUQVRFX0VOREVEKSB7XG4gICAgICAgIHJldHVybiAnZW5kJztcbiAgICB9IGVsc2UgaWYgKHN0YXRlICYgU1RBVEVfQ0hBTkdFRCkge1xuICAgICAgICByZXR1cm4gJ21vdmUnO1xuICAgIH0gZWxzZSBpZiAoc3RhdGUgJiBTVEFURV9CRUdBTikge1xuICAgICAgICByZXR1cm4gJ3N0YXJ0JztcbiAgICB9XG4gICAgcmV0dXJuICcnO1xufVxuXG4vKipcbiAqIGRpcmVjdGlvbiBjb25zIHRvIHN0cmluZ1xuICogQHBhcmFtIHtDb25zdH0gZGlyZWN0aW9uXG4gKiBAcmV0dXJucyB7U3RyaW5nfVxuICovXG5mdW5jdGlvbiBkaXJlY3Rpb25TdHIoZGlyZWN0aW9uKSB7XG4gICAgaWYgKGRpcmVjdGlvbiA9PSBESVJFQ1RJT05fRE9XTikge1xuICAgICAgICByZXR1cm4gJ2Rvd24nO1xuICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09IERJUkVDVElPTl9VUCkge1xuICAgICAgICByZXR1cm4gJ3VwJztcbiAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PSBESVJFQ1RJT05fTEVGVCkge1xuICAgICAgICByZXR1cm4gJ2xlZnQnO1xuICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09IERJUkVDVElPTl9SSUdIVCkge1xuICAgICAgICByZXR1cm4gJ3JpZ2h0JztcbiAgICB9XG4gICAgcmV0dXJuICcnO1xufVxuXG4vKipcbiAqIGdldCBhIHJlY29nbml6ZXIgYnkgbmFtZSBpZiBpdCBpcyBib3VuZCB0byBhIG1hbmFnZXJcbiAqIEBwYXJhbSB7UmVjb2duaXplcnxTdHJpbmd9IG90aGVyUmVjb2duaXplclxuICogQHBhcmFtIHtSZWNvZ25pemVyfSByZWNvZ25pemVyXG4gKiBAcmV0dXJucyB7UmVjb2duaXplcn1cbiAqL1xuZnVuY3Rpb24gZ2V0UmVjb2duaXplckJ5TmFtZUlmTWFuYWdlcihvdGhlclJlY29nbml6ZXIsIHJlY29nbml6ZXIpIHtcbiAgICB2YXIgbWFuYWdlciA9IHJlY29nbml6ZXIubWFuYWdlcjtcbiAgICBpZiAobWFuYWdlcikge1xuICAgICAgICByZXR1cm4gbWFuYWdlci5nZXQob3RoZXJSZWNvZ25pemVyKTtcbiAgICB9XG4gICAgcmV0dXJuIG90aGVyUmVjb2duaXplcjtcbn1cblxuLyoqXG4gKiBUaGlzIHJlY29nbml6ZXIgaXMganVzdCB1c2VkIGFzIGEgYmFzZSBmb3IgdGhlIHNpbXBsZSBhdHRyaWJ1dGUgcmVjb2duaXplcnMuXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIFJlY29nbml6ZXJcbiAqL1xuZnVuY3Rpb24gQXR0clJlY29nbml6ZXIoKSB7XG4gICAgUmVjb2duaXplci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5pbmhlcml0KEF0dHJSZWNvZ25pemVyLCBSZWNvZ25pemVyLCB7XG4gICAgLyoqXG4gICAgICogQG5hbWVzcGFjZVxuICAgICAqIEBtZW1iZXJvZiBBdHRyUmVjb2duaXplclxuICAgICAqL1xuICAgIGRlZmF1bHRzOiB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICBwb2ludGVyczogMVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBVc2VkIHRvIGNoZWNrIGlmIGl0IHRoZSByZWNvZ25pemVyIHJlY2VpdmVzIHZhbGlkIGlucHV0LCBsaWtlIGlucHV0LmRpc3RhbmNlID4gMTAuXG4gICAgICogQG1lbWJlcm9mIEF0dHJSZWNvZ25pemVyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG4gICAgICogQHJldHVybnMge0Jvb2xlYW59IHJlY29nbml6ZWRcbiAgICAgKi9cbiAgICBhdHRyVGVzdDogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgdmFyIG9wdGlvblBvaW50ZXJzID0gdGhpcy5vcHRpb25zLnBvaW50ZXJzO1xuICAgICAgICByZXR1cm4gb3B0aW9uUG9pbnRlcnMgPT09IDAgfHwgaW5wdXQucG9pbnRlcnMubGVuZ3RoID09PSBvcHRpb25Qb2ludGVycztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUHJvY2VzcyB0aGUgaW5wdXQgYW5kIHJldHVybiB0aGUgc3RhdGUgZm9yIHRoZSByZWNvZ25pemVyXG4gICAgICogQG1lbWJlcm9mIEF0dHJSZWNvZ25pemVyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG4gICAgICogQHJldHVybnMgeyp9IFN0YXRlXG4gICAgICovXG4gICAgcHJvY2VzczogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgdmFyIGV2ZW50VHlwZSA9IGlucHV0LmV2ZW50VHlwZTtcblxuICAgICAgICB2YXIgaXNSZWNvZ25pemVkID0gc3RhdGUgJiAoU1RBVEVfQkVHQU4gfCBTVEFURV9DSEFOR0VEKTtcbiAgICAgICAgdmFyIGlzVmFsaWQgPSB0aGlzLmF0dHJUZXN0KGlucHV0KTtcblxuICAgICAgICAvLyBvbiBjYW5jZWwgaW5wdXQgYW5kIHdlJ3ZlIHJlY29nbml6ZWQgYmVmb3JlLCByZXR1cm4gU1RBVEVfQ0FOQ0VMTEVEXG4gICAgICAgIGlmIChpc1JlY29nbml6ZWQgJiYgKGV2ZW50VHlwZSAmIElOUFVUX0NBTkNFTCB8fCAhaXNWYWxpZCkpIHtcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZSB8IFNUQVRFX0NBTkNFTExFRDtcbiAgICAgICAgfSBlbHNlIGlmIChpc1JlY29nbml6ZWQgfHwgaXNWYWxpZCkge1xuICAgICAgICAgICAgaWYgKGV2ZW50VHlwZSAmIElOUFVUX0VORCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZSB8IFNUQVRFX0VOREVEO1xuICAgICAgICAgICAgfSBlbHNlIGlmICghKHN0YXRlICYgU1RBVEVfQkVHQU4pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFNUQVRFX0JFR0FOO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHN0YXRlIHwgU1RBVEVfQ0hBTkdFRDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gU1RBVEVfRkFJTEVEO1xuICAgIH1cbn0pO1xuXG4vKipcbiAqIFBhblxuICogUmVjb2duaXplZCB3aGVuIHRoZSBwb2ludGVyIGlzIGRvd24gYW5kIG1vdmVkIGluIHRoZSBhbGxvd2VkIGRpcmVjdGlvbi5cbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgQXR0clJlY29nbml6ZXJcbiAqL1xuZnVuY3Rpb24gUGFuUmVjb2duaXplcigpIHtcbiAgICBBdHRyUmVjb2duaXplci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG4gICAgdGhpcy5wWCA9IG51bGw7XG4gICAgdGhpcy5wWSA9IG51bGw7XG59XG5cbmluaGVyaXQoUGFuUmVjb2duaXplciwgQXR0clJlY29nbml6ZXIsIHtcbiAgICAvKipcbiAgICAgKiBAbmFtZXNwYWNlXG4gICAgICogQG1lbWJlcm9mIFBhblJlY29nbml6ZXJcbiAgICAgKi9cbiAgICBkZWZhdWx0czoge1xuICAgICAgICBldmVudDogJ3BhbicsXG4gICAgICAgIHRocmVzaG9sZDogMTAsXG4gICAgICAgIHBvaW50ZXJzOiAxLFxuICAgICAgICBkaXJlY3Rpb246IERJUkVDVElPTl9BTExcbiAgICB9LFxuXG4gICAgZ2V0VG91Y2hBY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZGlyZWN0aW9uID0gdGhpcy5vcHRpb25zLmRpcmVjdGlvbjtcbiAgICAgICAgdmFyIGFjdGlvbnMgPSBbXTtcbiAgICAgICAgaWYgKGRpcmVjdGlvbiAmIERJUkVDVElPTl9IT1JJWk9OVEFMKSB7XG4gICAgICAgICAgICBhY3Rpb25zLnB1c2goVE9VQ0hfQUNUSU9OX1BBTl9ZKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGlyZWN0aW9uICYgRElSRUNUSU9OX1ZFUlRJQ0FMKSB7XG4gICAgICAgICAgICBhY3Rpb25zLnB1c2goVE9VQ0hfQUNUSU9OX1BBTl9YKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWN0aW9ucztcbiAgICB9LFxuXG4gICAgZGlyZWN0aW9uVGVzdDogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIHZhciBoYXNNb3ZlZCA9IHRydWU7XG4gICAgICAgIHZhciBkaXN0YW5jZSA9IGlucHV0LmRpc3RhbmNlO1xuICAgICAgICB2YXIgZGlyZWN0aW9uID0gaW5wdXQuZGlyZWN0aW9uO1xuICAgICAgICB2YXIgeCA9IGlucHV0LmRlbHRhWDtcbiAgICAgICAgdmFyIHkgPSBpbnB1dC5kZWx0YVk7XG5cbiAgICAgICAgLy8gbG9jayB0byBheGlzP1xuICAgICAgICBpZiAoIShkaXJlY3Rpb24gJiBvcHRpb25zLmRpcmVjdGlvbikpIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmRpcmVjdGlvbiAmIERJUkVDVElPTl9IT1JJWk9OVEFMKSB7XG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gKHggPT09IDApID8gRElSRUNUSU9OX05PTkUgOiAoeCA8IDApID8gRElSRUNUSU9OX0xFRlQgOiBESVJFQ1RJT05fUklHSFQ7XG4gICAgICAgICAgICAgICAgaGFzTW92ZWQgPSB4ICE9IHRoaXMucFg7XG4gICAgICAgICAgICAgICAgZGlzdGFuY2UgPSBNYXRoLmFicyhpbnB1dC5kZWx0YVgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSAoeSA9PT0gMCkgPyBESVJFQ1RJT05fTk9ORSA6ICh5IDwgMCkgPyBESVJFQ1RJT05fVVAgOiBESVJFQ1RJT05fRE9XTjtcbiAgICAgICAgICAgICAgICBoYXNNb3ZlZCA9IHkgIT0gdGhpcy5wWTtcbiAgICAgICAgICAgICAgICBkaXN0YW5jZSA9IE1hdGguYWJzKGlucHV0LmRlbHRhWSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaW5wdXQuZGlyZWN0aW9uID0gZGlyZWN0aW9uO1xuICAgICAgICByZXR1cm4gaGFzTW92ZWQgJiYgZGlzdGFuY2UgPiBvcHRpb25zLnRocmVzaG9sZCAmJiBkaXJlY3Rpb24gJiBvcHRpb25zLmRpcmVjdGlvbjtcbiAgICB9LFxuXG4gICAgYXR0clRlc3Q6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBBdHRyUmVjb2duaXplci5wcm90b3R5cGUuYXR0clRlc3QuY2FsbCh0aGlzLCBpbnB1dCkgJiZcbiAgICAgICAgICAgICh0aGlzLnN0YXRlICYgU1RBVEVfQkVHQU4gfHwgKCEodGhpcy5zdGF0ZSAmIFNUQVRFX0JFR0FOKSAmJiB0aGlzLmRpcmVjdGlvblRlc3QoaW5wdXQpKSk7XG4gICAgfSxcblxuICAgIGVtaXQ6IGZ1bmN0aW9uKGlucHV0KSB7XG5cbiAgICAgICAgdGhpcy5wWCA9IGlucHV0LmRlbHRhWDtcbiAgICAgICAgdGhpcy5wWSA9IGlucHV0LmRlbHRhWTtcblxuICAgICAgICB2YXIgZGlyZWN0aW9uID0gZGlyZWN0aW9uU3RyKGlucHV0LmRpcmVjdGlvbik7XG5cbiAgICAgICAgaWYgKGRpcmVjdGlvbikge1xuICAgICAgICAgICAgaW5wdXQuYWRkaXRpb25hbEV2ZW50ID0gdGhpcy5vcHRpb25zLmV2ZW50ICsgZGlyZWN0aW9uO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3N1cGVyLmVtaXQuY2FsbCh0aGlzLCBpbnB1dCk7XG4gICAgfVxufSk7XG5cbi8qKlxuICogUGluY2hcbiAqIFJlY29nbml6ZWQgd2hlbiB0d28gb3IgbW9yZSBwb2ludGVycyBhcmUgbW92aW5nIHRvd2FyZCAoem9vbS1pbikgb3IgYXdheSBmcm9tIGVhY2ggb3RoZXIgKHpvb20tb3V0KS5cbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgQXR0clJlY29nbml6ZXJcbiAqL1xuZnVuY3Rpb24gUGluY2hSZWNvZ25pemVyKCkge1xuICAgIEF0dHJSZWNvZ25pemVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmluaGVyaXQoUGluY2hSZWNvZ25pemVyLCBBdHRyUmVjb2duaXplciwge1xuICAgIC8qKlxuICAgICAqIEBuYW1lc3BhY2VcbiAgICAgKiBAbWVtYmVyb2YgUGluY2hSZWNvZ25pemVyXG4gICAgICovXG4gICAgZGVmYXVsdHM6IHtcbiAgICAgICAgZXZlbnQ6ICdwaW5jaCcsXG4gICAgICAgIHRocmVzaG9sZDogMCxcbiAgICAgICAgcG9pbnRlcnM6IDJcbiAgICB9LFxuXG4gICAgZ2V0VG91Y2hBY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gW1RPVUNIX0FDVElPTl9OT05FXTtcbiAgICB9LFxuXG4gICAgYXR0clRlc3Q6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdXBlci5hdHRyVGVzdC5jYWxsKHRoaXMsIGlucHV0KSAmJlxuICAgICAgICAgICAgKE1hdGguYWJzKGlucHV0LnNjYWxlIC0gMSkgPiB0aGlzLm9wdGlvbnMudGhyZXNob2xkIHx8IHRoaXMuc3RhdGUgJiBTVEFURV9CRUdBTik7XG4gICAgfSxcblxuICAgIGVtaXQ6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIGlmIChpbnB1dC5zY2FsZSAhPT0gMSkge1xuICAgICAgICAgICAgdmFyIGluT3V0ID0gaW5wdXQuc2NhbGUgPCAxID8gJ2luJyA6ICdvdXQnO1xuICAgICAgICAgICAgaW5wdXQuYWRkaXRpb25hbEV2ZW50ID0gdGhpcy5vcHRpb25zLmV2ZW50ICsgaW5PdXQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc3VwZXIuZW1pdC5jYWxsKHRoaXMsIGlucHV0KTtcbiAgICB9XG59KTtcblxuLyoqXG4gKiBQcmVzc1xuICogUmVjb2duaXplZCB3aGVuIHRoZSBwb2ludGVyIGlzIGRvd24gZm9yIHggbXMgd2l0aG91dCBhbnkgbW92ZW1lbnQuXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIFJlY29nbml6ZXJcbiAqL1xuZnVuY3Rpb24gUHJlc3NSZWNvZ25pemVyKCkge1xuICAgIFJlY29nbml6ZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuICAgIHRoaXMuX3RpbWVyID0gbnVsbDtcbiAgICB0aGlzLl9pbnB1dCA9IG51bGw7XG59XG5cbmluaGVyaXQoUHJlc3NSZWNvZ25pemVyLCBSZWNvZ25pemVyLCB7XG4gICAgLyoqXG4gICAgICogQG5hbWVzcGFjZVxuICAgICAqIEBtZW1iZXJvZiBQcmVzc1JlY29nbml6ZXJcbiAgICAgKi9cbiAgICBkZWZhdWx0czoge1xuICAgICAgICBldmVudDogJ3ByZXNzJyxcbiAgICAgICAgcG9pbnRlcnM6IDEsXG4gICAgICAgIHRpbWU6IDI1MSwgLy8gbWluaW1hbCB0aW1lIG9mIHRoZSBwb2ludGVyIHRvIGJlIHByZXNzZWRcbiAgICAgICAgdGhyZXNob2xkOiA5IC8vIGEgbWluaW1hbCBtb3ZlbWVudCBpcyBvaywgYnV0IGtlZXAgaXQgbG93XG4gICAgfSxcblxuICAgIGdldFRvdWNoQWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIFtUT1VDSF9BQ1RJT05fQVVUT107XG4gICAgfSxcblxuICAgIHByb2Nlc3M6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICB2YXIgdmFsaWRQb2ludGVycyA9IGlucHV0LnBvaW50ZXJzLmxlbmd0aCA9PT0gb3B0aW9ucy5wb2ludGVycztcbiAgICAgICAgdmFyIHZhbGlkTW92ZW1lbnQgPSBpbnB1dC5kaXN0YW5jZSA8IG9wdGlvbnMudGhyZXNob2xkO1xuICAgICAgICB2YXIgdmFsaWRUaW1lID0gaW5wdXQuZGVsdGFUaW1lID4gb3B0aW9ucy50aW1lO1xuXG4gICAgICAgIHRoaXMuX2lucHV0ID0gaW5wdXQ7XG5cbiAgICAgICAgLy8gd2Ugb25seSBhbGxvdyBsaXR0bGUgbW92ZW1lbnRcbiAgICAgICAgLy8gYW5kIHdlJ3ZlIHJlYWNoZWQgYW4gZW5kIGV2ZW50LCBzbyBhIHRhcCBpcyBwb3NzaWJsZVxuICAgICAgICBpZiAoIXZhbGlkTW92ZW1lbnQgfHwgIXZhbGlkUG9pbnRlcnMgfHwgKGlucHV0LmV2ZW50VHlwZSAmIChJTlBVVF9FTkQgfCBJTlBVVF9DQU5DRUwpICYmICF2YWxpZFRpbWUpKSB7XG4gICAgICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5wdXQuZXZlbnRUeXBlICYgSU5QVVRfU1RBUlQpIHtcbiAgICAgICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgICAgIHRoaXMuX3RpbWVyID0gc2V0VGltZW91dENvbnRleHQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFNUQVRFX1JFQ09HTklaRUQ7XG4gICAgICAgICAgICAgICAgdGhpcy50cnlFbWl0KCk7XG4gICAgICAgICAgICB9LCBvcHRpb25zLnRpbWUsIHRoaXMpO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0LmV2ZW50VHlwZSAmIElOUFVUX0VORCkge1xuICAgICAgICAgICAgcmV0dXJuIFNUQVRFX1JFQ09HTklaRUQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFNUQVRFX0ZBSUxFRDtcbiAgICB9LFxuXG4gICAgcmVzZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fdGltZXIpO1xuICAgIH0sXG5cbiAgICBlbWl0OiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gU1RBVEVfUkVDT0dOSVpFRCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlucHV0ICYmIChpbnB1dC5ldmVudFR5cGUgJiBJTlBVVF9FTkQpKSB7XG4gICAgICAgICAgICB0aGlzLm1hbmFnZXIuZW1pdCh0aGlzLm9wdGlvbnMuZXZlbnQgKyAndXAnLCBpbnB1dCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9pbnB1dC50aW1lU3RhbXAgPSBub3coKTtcbiAgICAgICAgICAgIHRoaXMubWFuYWdlci5lbWl0KHRoaXMub3B0aW9ucy5ldmVudCwgdGhpcy5faW5wdXQpO1xuICAgICAgICB9XG4gICAgfVxufSk7XG5cbi8qKlxuICogUm90YXRlXG4gKiBSZWNvZ25pemVkIHdoZW4gdHdvIG9yIG1vcmUgcG9pbnRlciBhcmUgbW92aW5nIGluIGEgY2lyY3VsYXIgbW90aW9uLlxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBBdHRyUmVjb2duaXplclxuICovXG5mdW5jdGlvbiBSb3RhdGVSZWNvZ25pemVyKCkge1xuICAgIEF0dHJSZWNvZ25pemVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmluaGVyaXQoUm90YXRlUmVjb2duaXplciwgQXR0clJlY29nbml6ZXIsIHtcbiAgICAvKipcbiAgICAgKiBAbmFtZXNwYWNlXG4gICAgICogQG1lbWJlcm9mIFJvdGF0ZVJlY29nbml6ZXJcbiAgICAgKi9cbiAgICBkZWZhdWx0czoge1xuICAgICAgICBldmVudDogJ3JvdGF0ZScsXG4gICAgICAgIHRocmVzaG9sZDogMCxcbiAgICAgICAgcG9pbnRlcnM6IDJcbiAgICB9LFxuXG4gICAgZ2V0VG91Y2hBY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gW1RPVUNIX0FDVElPTl9OT05FXTtcbiAgICB9LFxuXG4gICAgYXR0clRlc3Q6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdXBlci5hdHRyVGVzdC5jYWxsKHRoaXMsIGlucHV0KSAmJlxuICAgICAgICAgICAgKE1hdGguYWJzKGlucHV0LnJvdGF0aW9uKSA+IHRoaXMub3B0aW9ucy50aHJlc2hvbGQgfHwgdGhpcy5zdGF0ZSAmIFNUQVRFX0JFR0FOKTtcbiAgICB9XG59KTtcblxuLyoqXG4gKiBTd2lwZVxuICogUmVjb2duaXplZCB3aGVuIHRoZSBwb2ludGVyIGlzIG1vdmluZyBmYXN0ICh2ZWxvY2l0eSksIHdpdGggZW5vdWdoIGRpc3RhbmNlIGluIHRoZSBhbGxvd2VkIGRpcmVjdGlvbi5cbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgQXR0clJlY29nbml6ZXJcbiAqL1xuZnVuY3Rpb24gU3dpcGVSZWNvZ25pemVyKCkge1xuICAgIEF0dHJSZWNvZ25pemVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmluaGVyaXQoU3dpcGVSZWNvZ25pemVyLCBBdHRyUmVjb2duaXplciwge1xuICAgIC8qKlxuICAgICAqIEBuYW1lc3BhY2VcbiAgICAgKiBAbWVtYmVyb2YgU3dpcGVSZWNvZ25pemVyXG4gICAgICovXG4gICAgZGVmYXVsdHM6IHtcbiAgICAgICAgZXZlbnQ6ICdzd2lwZScsXG4gICAgICAgIHRocmVzaG9sZDogMTAsXG4gICAgICAgIHZlbG9jaXR5OiAwLjMsXG4gICAgICAgIGRpcmVjdGlvbjogRElSRUNUSU9OX0hPUklaT05UQUwgfCBESVJFQ1RJT05fVkVSVElDQUwsXG4gICAgICAgIHBvaW50ZXJzOiAxXG4gICAgfSxcblxuICAgIGdldFRvdWNoQWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIFBhblJlY29nbml6ZXIucHJvdG90eXBlLmdldFRvdWNoQWN0aW9uLmNhbGwodGhpcyk7XG4gICAgfSxcblxuICAgIGF0dHJUZXN0OiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICB2YXIgZGlyZWN0aW9uID0gdGhpcy5vcHRpb25zLmRpcmVjdGlvbjtcbiAgICAgICAgdmFyIHZlbG9jaXR5O1xuXG4gICAgICAgIGlmIChkaXJlY3Rpb24gJiAoRElSRUNUSU9OX0hPUklaT05UQUwgfCBESVJFQ1RJT05fVkVSVElDQUwpKSB7XG4gICAgICAgICAgICB2ZWxvY2l0eSA9IGlucHV0Lm92ZXJhbGxWZWxvY2l0eTtcbiAgICAgICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gJiBESVJFQ1RJT05fSE9SSVpPTlRBTCkge1xuICAgICAgICAgICAgdmVsb2NpdHkgPSBpbnB1dC5vdmVyYWxsVmVsb2NpdHlYO1xuICAgICAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiAmIERJUkVDVElPTl9WRVJUSUNBTCkge1xuICAgICAgICAgICAgdmVsb2NpdHkgPSBpbnB1dC5vdmVyYWxsVmVsb2NpdHlZO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3N1cGVyLmF0dHJUZXN0LmNhbGwodGhpcywgaW5wdXQpICYmXG4gICAgICAgICAgICBkaXJlY3Rpb24gJiBpbnB1dC5vZmZzZXREaXJlY3Rpb24gJiZcbiAgICAgICAgICAgIGlucHV0LmRpc3RhbmNlID4gdGhpcy5vcHRpb25zLnRocmVzaG9sZCAmJlxuICAgICAgICAgICAgaW5wdXQubWF4UG9pbnRlcnMgPT0gdGhpcy5vcHRpb25zLnBvaW50ZXJzICYmXG4gICAgICAgICAgICBhYnModmVsb2NpdHkpID4gdGhpcy5vcHRpb25zLnZlbG9jaXR5ICYmIGlucHV0LmV2ZW50VHlwZSAmIElOUFVUX0VORDtcbiAgICB9LFxuXG4gICAgZW1pdDogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgdmFyIGRpcmVjdGlvbiA9IGRpcmVjdGlvblN0cihpbnB1dC5vZmZzZXREaXJlY3Rpb24pO1xuICAgICAgICBpZiAoZGlyZWN0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLm1hbmFnZXIuZW1pdCh0aGlzLm9wdGlvbnMuZXZlbnQgKyBkaXJlY3Rpb24sIGlucHV0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubWFuYWdlci5lbWl0KHRoaXMub3B0aW9ucy5ldmVudCwgaW5wdXQpO1xuICAgIH1cbn0pO1xuXG4vKipcbiAqIEEgdGFwIGlzIGVjb2duaXplZCB3aGVuIHRoZSBwb2ludGVyIGlzIGRvaW5nIGEgc21hbGwgdGFwL2NsaWNrLiBNdWx0aXBsZSB0YXBzIGFyZSByZWNvZ25pemVkIGlmIHRoZXkgb2NjdXJcbiAqIGJldHdlZW4gdGhlIGdpdmVuIGludGVydmFsIGFuZCBwb3NpdGlvbi4gVGhlIGRlbGF5IG9wdGlvbiBjYW4gYmUgdXNlZCB0byByZWNvZ25pemUgbXVsdGktdGFwcyB3aXRob3V0IGZpcmluZ1xuICogYSBzaW5nbGUgdGFwLlxuICpcbiAqIFRoZSBldmVudERhdGEgZnJvbSB0aGUgZW1pdHRlZCBldmVudCBjb250YWlucyB0aGUgcHJvcGVydHkgYHRhcENvdW50YCwgd2hpY2ggY29udGFpbnMgdGhlIGFtb3VudCBvZlxuICogbXVsdGktdGFwcyBiZWluZyByZWNvZ25pemVkLlxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBSZWNvZ25pemVyXG4gKi9cbmZ1bmN0aW9uIFRhcFJlY29nbml6ZXIoKSB7XG4gICAgUmVjb2duaXplci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG4gICAgLy8gcHJldmlvdXMgdGltZSBhbmQgY2VudGVyLFxuICAgIC8vIHVzZWQgZm9yIHRhcCBjb3VudGluZ1xuICAgIHRoaXMucFRpbWUgPSBmYWxzZTtcbiAgICB0aGlzLnBDZW50ZXIgPSBmYWxzZTtcblxuICAgIHRoaXMuX3RpbWVyID0gbnVsbDtcbiAgICB0aGlzLl9pbnB1dCA9IG51bGw7XG4gICAgdGhpcy5jb3VudCA9IDA7XG59XG5cbmluaGVyaXQoVGFwUmVjb2duaXplciwgUmVjb2duaXplciwge1xuICAgIC8qKlxuICAgICAqIEBuYW1lc3BhY2VcbiAgICAgKiBAbWVtYmVyb2YgUGluY2hSZWNvZ25pemVyXG4gICAgICovXG4gICAgZGVmYXVsdHM6IHtcbiAgICAgICAgZXZlbnQ6ICd0YXAnLFxuICAgICAgICBwb2ludGVyczogMSxcbiAgICAgICAgdGFwczogMSxcbiAgICAgICAgaW50ZXJ2YWw6IDMwMCwgLy8gbWF4IHRpbWUgYmV0d2VlbiB0aGUgbXVsdGktdGFwIHRhcHNcbiAgICAgICAgdGltZTogMjUwLCAvLyBtYXggdGltZSBvZiB0aGUgcG9pbnRlciB0byBiZSBkb3duIChsaWtlIGZpbmdlciBvbiB0aGUgc2NyZWVuKVxuICAgICAgICB0aHJlc2hvbGQ6IDksIC8vIGEgbWluaW1hbCBtb3ZlbWVudCBpcyBvaywgYnV0IGtlZXAgaXQgbG93XG4gICAgICAgIHBvc1RocmVzaG9sZDogMTAgLy8gYSBtdWx0aS10YXAgY2FuIGJlIGEgYml0IG9mZiB0aGUgaW5pdGlhbCBwb3NpdGlvblxuICAgIH0sXG5cbiAgICBnZXRUb3VjaEFjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBbVE9VQ0hfQUNUSU9OX01BTklQVUxBVElPTl07XG4gICAgfSxcblxuICAgIHByb2Nlc3M6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG4gICAgICAgIHZhciB2YWxpZFBvaW50ZXJzID0gaW5wdXQucG9pbnRlcnMubGVuZ3RoID09PSBvcHRpb25zLnBvaW50ZXJzO1xuICAgICAgICB2YXIgdmFsaWRNb3ZlbWVudCA9IGlucHV0LmRpc3RhbmNlIDwgb3B0aW9ucy50aHJlc2hvbGQ7XG4gICAgICAgIHZhciB2YWxpZFRvdWNoVGltZSA9IGlucHV0LmRlbHRhVGltZSA8IG9wdGlvbnMudGltZTtcblxuICAgICAgICB0aGlzLnJlc2V0KCk7XG5cbiAgICAgICAgaWYgKChpbnB1dC5ldmVudFR5cGUgJiBJTlBVVF9TVEFSVCkgJiYgKHRoaXMuY291bnQgPT09IDApKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5mYWlsVGltZW91dCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gd2Ugb25seSBhbGxvdyBsaXR0bGUgbW92ZW1lbnRcbiAgICAgICAgLy8gYW5kIHdlJ3ZlIHJlYWNoZWQgYW4gZW5kIGV2ZW50LCBzbyBhIHRhcCBpcyBwb3NzaWJsZVxuICAgICAgICBpZiAodmFsaWRNb3ZlbWVudCAmJiB2YWxpZFRvdWNoVGltZSAmJiB2YWxpZFBvaW50ZXJzKSB7XG4gICAgICAgICAgICBpZiAoaW5wdXQuZXZlbnRUeXBlICE9IElOUFVUX0VORCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmZhaWxUaW1lb3V0KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciB2YWxpZEludGVydmFsID0gdGhpcy5wVGltZSA/IChpbnB1dC50aW1lU3RhbXAgLSB0aGlzLnBUaW1lIDwgb3B0aW9ucy5pbnRlcnZhbCkgOiB0cnVlO1xuICAgICAgICAgICAgdmFyIHZhbGlkTXVsdGlUYXAgPSAhdGhpcy5wQ2VudGVyIHx8IGdldERpc3RhbmNlKHRoaXMucENlbnRlciwgaW5wdXQuY2VudGVyKSA8IG9wdGlvbnMucG9zVGhyZXNob2xkO1xuXG4gICAgICAgICAgICB0aGlzLnBUaW1lID0gaW5wdXQudGltZVN0YW1wO1xuICAgICAgICAgICAgdGhpcy5wQ2VudGVyID0gaW5wdXQuY2VudGVyO1xuXG4gICAgICAgICAgICBpZiAoIXZhbGlkTXVsdGlUYXAgfHwgIXZhbGlkSW50ZXJ2YWwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvdW50ID0gMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb3VudCArPSAxO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9pbnB1dCA9IGlucHV0O1xuXG4gICAgICAgICAgICAvLyBpZiB0YXAgY291bnQgbWF0Y2hlcyB3ZSBoYXZlIHJlY29nbml6ZWQgaXQsXG4gICAgICAgICAgICAvLyBlbHNlIGl0IGhhcyBiZWdhbiByZWNvZ25pemluZy4uLlxuICAgICAgICAgICAgdmFyIHRhcENvdW50ID0gdGhpcy5jb3VudCAlIG9wdGlvbnMudGFwcztcbiAgICAgICAgICAgIGlmICh0YXBDb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIC8vIG5vIGZhaWxpbmcgcmVxdWlyZW1lbnRzLCBpbW1lZGlhdGVseSB0cmlnZ2VyIHRoZSB0YXAgZXZlbnRcbiAgICAgICAgICAgICAgICAvLyBvciB3YWl0IGFzIGxvbmcgYXMgdGhlIG11bHRpdGFwIGludGVydmFsIHRvIHRyaWdnZXJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaGFzUmVxdWlyZUZhaWx1cmVzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNUQVRFX1JFQ09HTklaRUQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdGltZXIgPSBzZXRUaW1lb3V0Q29udGV4dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTVEFURV9SRUNPR05JWkVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50cnlFbWl0KCk7XG4gICAgICAgICAgICAgICAgICAgIH0sIG9wdGlvbnMuaW50ZXJ2YWwsIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gU1RBVEVfQkVHQU47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBTVEFURV9GQUlMRUQ7XG4gICAgfSxcblxuICAgIGZhaWxUaW1lb3V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5fdGltZXIgPSBzZXRUaW1lb3V0Q29udGV4dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTVEFURV9GQUlMRUQ7XG4gICAgICAgIH0sIHRoaXMub3B0aW9ucy5pbnRlcnZhbCwgdGhpcyk7XG4gICAgICAgIHJldHVybiBTVEFURV9GQUlMRUQ7XG4gICAgfSxcblxuICAgIHJlc2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVyKTtcbiAgICB9LFxuXG4gICAgZW1pdDogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlID09IFNUQVRFX1JFQ09HTklaRUQpIHtcbiAgICAgICAgICAgIHRoaXMuX2lucHV0LnRhcENvdW50ID0gdGhpcy5jb3VudDtcbiAgICAgICAgICAgIHRoaXMubWFuYWdlci5lbWl0KHRoaXMub3B0aW9ucy5ldmVudCwgdGhpcy5faW5wdXQpO1xuICAgICAgICB9XG4gICAgfVxufSk7XG5cbi8qKlxuICogU2ltcGxlIHdheSB0byBjcmVhdGUgYSBtYW5hZ2VyIHdpdGggYSBkZWZhdWx0IHNldCBvZiByZWNvZ25pemVycy5cbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBIYW1tZXIoZWxlbWVudCwgb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIG9wdGlvbnMucmVjb2duaXplcnMgPSBpZlVuZGVmaW5lZChvcHRpb25zLnJlY29nbml6ZXJzLCBIYW1tZXIuZGVmYXVsdHMucHJlc2V0KTtcbiAgICByZXR1cm4gbmV3IE1hbmFnZXIoZWxlbWVudCwgb3B0aW9ucyk7XG59XG5cbi8qKlxuICogQGNvbnN0IHtzdHJpbmd9XG4gKi9cbkhhbW1lci5WRVJTSU9OID0gJzIuMC43JztcblxuLyoqXG4gKiBkZWZhdWx0IHNldHRpbmdzXG4gKiBAbmFtZXNwYWNlXG4gKi9cbkhhbW1lci5kZWZhdWx0cyA9IHtcbiAgICAvKipcbiAgICAgKiBzZXQgaWYgRE9NIGV2ZW50cyBhcmUgYmVpbmcgdHJpZ2dlcmVkLlxuICAgICAqIEJ1dCB0aGlzIGlzIHNsb3dlciBhbmQgdW51c2VkIGJ5IHNpbXBsZSBpbXBsZW1lbnRhdGlvbnMsIHNvIGRpc2FibGVkIGJ5IGRlZmF1bHQuXG4gICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cbiAgICBkb21FdmVudHM6IGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogVGhlIHZhbHVlIGZvciB0aGUgdG91Y2hBY3Rpb24gcHJvcGVydHkvZmFsbGJhY2suXG4gICAgICogV2hlbiBzZXQgdG8gYGNvbXB1dGVgIGl0IHdpbGwgbWFnaWNhbGx5IHNldCB0aGUgY29ycmVjdCB2YWx1ZSBiYXNlZCBvbiB0aGUgYWRkZWQgcmVjb2duaXplcnMuXG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKiBAZGVmYXVsdCBjb21wdXRlXG4gICAgICovXG4gICAgdG91Y2hBY3Rpb246IFRPVUNIX0FDVElPTl9DT01QVVRFLFxuXG4gICAgLyoqXG4gICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAqL1xuICAgIGVuYWJsZTogdHJ1ZSxcblxuICAgIC8qKlxuICAgICAqIEVYUEVSSU1FTlRBTCBGRUFUVVJFIC0tIGNhbiBiZSByZW1vdmVkL2NoYW5nZWRcbiAgICAgKiBDaGFuZ2UgdGhlIHBhcmVudCBpbnB1dCB0YXJnZXQgZWxlbWVudC5cbiAgICAgKiBJZiBOdWxsLCB0aGVuIGl0IGlzIGJlaW5nIHNldCB0aGUgdG8gbWFpbiBlbGVtZW50LlxuICAgICAqIEB0eXBlIHtOdWxsfEV2ZW50VGFyZ2V0fVxuICAgICAqIEBkZWZhdWx0IG51bGxcbiAgICAgKi9cbiAgICBpbnB1dFRhcmdldDogbnVsbCxcblxuICAgIC8qKlxuICAgICAqIGZvcmNlIGFuIGlucHV0IGNsYXNzXG4gICAgICogQHR5cGUge051bGx8RnVuY3Rpb259XG4gICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAqL1xuICAgIGlucHV0Q2xhc3M6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IHJlY29nbml6ZXIgc2V0dXAgd2hlbiBjYWxsaW5nIGBIYW1tZXIoKWBcbiAgICAgKiBXaGVuIGNyZWF0aW5nIGEgbmV3IE1hbmFnZXIgdGhlc2Ugd2lsbCBiZSBza2lwcGVkLlxuICAgICAqIEB0eXBlIHtBcnJheX1cbiAgICAgKi9cbiAgICBwcmVzZXQ6IFtcbiAgICAgICAgLy8gUmVjb2duaXplckNsYXNzLCBvcHRpb25zLCBbcmVjb2duaXplV2l0aCwgLi4uXSwgW3JlcXVpcmVGYWlsdXJlLCAuLi5dXG4gICAgICAgIFtSb3RhdGVSZWNvZ25pemVyLCB7ZW5hYmxlOiBmYWxzZX1dLFxuICAgICAgICBbUGluY2hSZWNvZ25pemVyLCB7ZW5hYmxlOiBmYWxzZX0sIFsncm90YXRlJ11dLFxuICAgICAgICBbU3dpcGVSZWNvZ25pemVyLCB7ZGlyZWN0aW9uOiBESVJFQ1RJT05fSE9SSVpPTlRBTH1dLFxuICAgICAgICBbUGFuUmVjb2duaXplciwge2RpcmVjdGlvbjogRElSRUNUSU9OX0hPUklaT05UQUx9LCBbJ3N3aXBlJ11dLFxuICAgICAgICBbVGFwUmVjb2duaXplcl0sXG4gICAgICAgIFtUYXBSZWNvZ25pemVyLCB7ZXZlbnQ6ICdkb3VibGV0YXAnLCB0YXBzOiAyfSwgWyd0YXAnXV0sXG4gICAgICAgIFtQcmVzc1JlY29nbml6ZXJdXG4gICAgXSxcblxuICAgIC8qKlxuICAgICAqIFNvbWUgQ1NTIHByb3BlcnRpZXMgY2FuIGJlIHVzZWQgdG8gaW1wcm92ZSB0aGUgd29ya2luZyBvZiBIYW1tZXIuXG4gICAgICogQWRkIHRoZW0gdG8gdGhpcyBtZXRob2QgYW5kIHRoZXkgd2lsbCBiZSBzZXQgd2hlbiBjcmVhdGluZyBhIG5ldyBNYW5hZ2VyLlxuICAgICAqIEBuYW1lc3BhY2VcbiAgICAgKi9cbiAgICBjc3NQcm9wczoge1xuICAgICAgICAvKipcbiAgICAgICAgICogRGlzYWJsZXMgdGV4dCBzZWxlY3Rpb24gdG8gaW1wcm92ZSB0aGUgZHJhZ2dpbmcgZ2VzdHVyZS4gTWFpbmx5IGZvciBkZXNrdG9wIGJyb3dzZXJzLlxuICAgICAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAnbm9uZSdcbiAgICAgICAgICovXG4gICAgICAgIHVzZXJTZWxlY3Q6ICdub25lJyxcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGlzYWJsZSB0aGUgV2luZG93cyBQaG9uZSBncmlwcGVycyB3aGVuIHByZXNzaW5nIGFuIGVsZW1lbnQuXG4gICAgICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICAgICAqIEBkZWZhdWx0ICdub25lJ1xuICAgICAgICAgKi9cbiAgICAgICAgdG91Y2hTZWxlY3Q6ICdub25lJyxcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGlzYWJsZXMgdGhlIGRlZmF1bHQgY2FsbG91dCBzaG93biB3aGVuIHlvdSB0b3VjaCBhbmQgaG9sZCBhIHRvdWNoIHRhcmdldC5cbiAgICAgICAgICogT24gaU9TLCB3aGVuIHlvdSB0b3VjaCBhbmQgaG9sZCBhIHRvdWNoIHRhcmdldCBzdWNoIGFzIGEgbGluaywgU2FmYXJpIGRpc3BsYXlzXG4gICAgICAgICAqIGEgY2FsbG91dCBjb250YWluaW5nIGluZm9ybWF0aW9uIGFib3V0IHRoZSBsaW5rLiBUaGlzIHByb3BlcnR5IGFsbG93cyB5b3UgdG8gZGlzYWJsZSB0aGF0IGNhbGxvdXQuXG4gICAgICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICAgICAqIEBkZWZhdWx0ICdub25lJ1xuICAgICAgICAgKi9cbiAgICAgICAgdG91Y2hDYWxsb3V0OiAnbm9uZScsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNwZWNpZmllcyB3aGV0aGVyIHpvb21pbmcgaXMgZW5hYmxlZC4gVXNlZCBieSBJRTEwPlxuICAgICAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAnbm9uZSdcbiAgICAgICAgICovXG4gICAgICAgIGNvbnRlbnRab29taW5nOiAnbm9uZScsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNwZWNpZmllcyB0aGF0IGFuIGVudGlyZSBlbGVtZW50IHNob3VsZCBiZSBkcmFnZ2FibGUgaW5zdGVhZCBvZiBpdHMgY29udGVudHMuIE1haW5seSBmb3IgZGVza3RvcCBicm93c2Vycy5cbiAgICAgICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgICAgICogQGRlZmF1bHQgJ25vbmUnXG4gICAgICAgICAqL1xuICAgICAgICB1c2VyRHJhZzogJ25vbmUnLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBPdmVycmlkZXMgdGhlIGhpZ2hsaWdodCBjb2xvciBzaG93biB3aGVuIHRoZSB1c2VyIHRhcHMgYSBsaW5rIG9yIGEgSmF2YVNjcmlwdFxuICAgICAgICAgKiBjbGlja2FibGUgZWxlbWVudCBpbiBpT1MuIFRoaXMgcHJvcGVydHkgb2JleXMgdGhlIGFscGhhIHZhbHVlLCBpZiBzcGVjaWZpZWQuXG4gICAgICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICAgICAqIEBkZWZhdWx0ICdyZ2JhKDAsMCwwLDApJ1xuICAgICAgICAgKi9cbiAgICAgICAgdGFwSGlnaGxpZ2h0Q29sb3I6ICdyZ2JhKDAsMCwwLDApJ1xuICAgIH1cbn07XG5cbnZhciBTVE9QID0gMTtcbnZhciBGT1JDRURfU1RPUCA9IDI7XG5cbi8qKlxuICogTWFuYWdlclxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudFxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIE1hbmFnZXIoZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHRoaXMub3B0aW9ucyA9IGFzc2lnbih7fSwgSGFtbWVyLmRlZmF1bHRzLCBvcHRpb25zIHx8IHt9KTtcblxuICAgIHRoaXMub3B0aW9ucy5pbnB1dFRhcmdldCA9IHRoaXMub3B0aW9ucy5pbnB1dFRhcmdldCB8fCBlbGVtZW50O1xuXG4gICAgdGhpcy5oYW5kbGVycyA9IHt9O1xuICAgIHRoaXMuc2Vzc2lvbiA9IHt9O1xuICAgIHRoaXMucmVjb2duaXplcnMgPSBbXTtcbiAgICB0aGlzLm9sZENzc1Byb3BzID0ge307XG5cbiAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgIHRoaXMuaW5wdXQgPSBjcmVhdGVJbnB1dEluc3RhbmNlKHRoaXMpO1xuICAgIHRoaXMudG91Y2hBY3Rpb24gPSBuZXcgVG91Y2hBY3Rpb24odGhpcywgdGhpcy5vcHRpb25zLnRvdWNoQWN0aW9uKTtcblxuICAgIHRvZ2dsZUNzc1Byb3BzKHRoaXMsIHRydWUpO1xuXG4gICAgZWFjaCh0aGlzLm9wdGlvbnMucmVjb2duaXplcnMsIGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgdmFyIHJlY29nbml6ZXIgPSB0aGlzLmFkZChuZXcgKGl0ZW1bMF0pKGl0ZW1bMV0pKTtcbiAgICAgICAgaXRlbVsyXSAmJiByZWNvZ25pemVyLnJlY29nbml6ZVdpdGgoaXRlbVsyXSk7XG4gICAgICAgIGl0ZW1bM10gJiYgcmVjb2duaXplci5yZXF1aXJlRmFpbHVyZShpdGVtWzNdKTtcbiAgICB9LCB0aGlzKTtcbn1cblxuTWFuYWdlci5wcm90b3R5cGUgPSB7XG4gICAgLyoqXG4gICAgICogc2V0IG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAqIEByZXR1cm5zIHtNYW5hZ2VyfVxuICAgICAqL1xuICAgIHNldDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgICBhc3NpZ24odGhpcy5vcHRpb25zLCBvcHRpb25zKTtcblxuICAgICAgICAvLyBPcHRpb25zIHRoYXQgbmVlZCBhIGxpdHRsZSBtb3JlIHNldHVwXG4gICAgICAgIGlmIChvcHRpb25zLnRvdWNoQWN0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLnRvdWNoQWN0aW9uLnVwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLmlucHV0VGFyZ2V0KSB7XG4gICAgICAgICAgICAvLyBDbGVhbiB1cCBleGlzdGluZyBldmVudCBsaXN0ZW5lcnMgYW5kIHJlaW5pdGlhbGl6ZVxuICAgICAgICAgICAgdGhpcy5pbnB1dC5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLmlucHV0LnRhcmdldCA9IG9wdGlvbnMuaW5wdXRUYXJnZXQ7XG4gICAgICAgICAgICB0aGlzLmlucHV0LmluaXQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogc3RvcCByZWNvZ25pemluZyBmb3IgdGhpcyBzZXNzaW9uLlxuICAgICAqIFRoaXMgc2Vzc2lvbiB3aWxsIGJlIGRpc2NhcmRlZCwgd2hlbiBhIG5ldyBbaW5wdXRdc3RhcnQgZXZlbnQgaXMgZmlyZWQuXG4gICAgICogV2hlbiBmb3JjZWQsIHRoZSByZWNvZ25pemVyIGN5Y2xlIGlzIHN0b3BwZWQgaW1tZWRpYXRlbHkuXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbZm9yY2VdXG4gICAgICovXG4gICAgc3RvcDogZnVuY3Rpb24oZm9yY2UpIHtcbiAgICAgICAgdGhpcy5zZXNzaW9uLnN0b3BwZWQgPSBmb3JjZSA/IEZPUkNFRF9TVE9QIDogU1RPUDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogcnVuIHRoZSByZWNvZ25pemVycyFcbiAgICAgKiBjYWxsZWQgYnkgdGhlIGlucHV0SGFuZGxlciBmdW5jdGlvbiBvbiBldmVyeSBtb3ZlbWVudCBvZiB0aGUgcG9pbnRlcnMgKHRvdWNoZXMpXG4gICAgICogaXQgd2Fsa3MgdGhyb3VnaCBhbGwgdGhlIHJlY29nbml6ZXJzIGFuZCB0cmllcyB0byBkZXRlY3QgdGhlIGdlc3R1cmUgdGhhdCBpcyBiZWluZyBtYWRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0RGF0YVxuICAgICAqL1xuICAgIHJlY29nbml6ZTogZnVuY3Rpb24oaW5wdXREYXRhKSB7XG4gICAgICAgIHZhciBzZXNzaW9uID0gdGhpcy5zZXNzaW9uO1xuICAgICAgICBpZiAoc2Vzc2lvbi5zdG9wcGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBydW4gdGhlIHRvdWNoLWFjdGlvbiBwb2x5ZmlsbFxuICAgICAgICB0aGlzLnRvdWNoQWN0aW9uLnByZXZlbnREZWZhdWx0cyhpbnB1dERhdGEpO1xuXG4gICAgICAgIHZhciByZWNvZ25pemVyO1xuICAgICAgICB2YXIgcmVjb2duaXplcnMgPSB0aGlzLnJlY29nbml6ZXJzO1xuXG4gICAgICAgIC8vIHRoaXMgaG9sZHMgdGhlIHJlY29nbml6ZXIgdGhhdCBpcyBiZWluZyByZWNvZ25pemVkLlxuICAgICAgICAvLyBzbyB0aGUgcmVjb2duaXplcidzIHN0YXRlIG5lZWRzIHRvIGJlIEJFR0FOLCBDSEFOR0VELCBFTkRFRCBvciBSRUNPR05JWkVEXG4gICAgICAgIC8vIGlmIG5vIHJlY29nbml6ZXIgaXMgZGV0ZWN0aW5nIGEgdGhpbmcsIGl0IGlzIHNldCB0byBgbnVsbGBcbiAgICAgICAgdmFyIGN1clJlY29nbml6ZXIgPSBzZXNzaW9uLmN1clJlY29nbml6ZXI7XG5cbiAgICAgICAgLy8gcmVzZXQgd2hlbiB0aGUgbGFzdCByZWNvZ25pemVyIGlzIHJlY29nbml6ZWRcbiAgICAgICAgLy8gb3Igd2hlbiB3ZSdyZSBpbiBhIG5ldyBzZXNzaW9uXG4gICAgICAgIGlmICghY3VyUmVjb2duaXplciB8fCAoY3VyUmVjb2duaXplciAmJiBjdXJSZWNvZ25pemVyLnN0YXRlICYgU1RBVEVfUkVDT0dOSVpFRCkpIHtcbiAgICAgICAgICAgIGN1clJlY29nbml6ZXIgPSBzZXNzaW9uLmN1clJlY29nbml6ZXIgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB3aGlsZSAoaSA8IHJlY29nbml6ZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmVjb2duaXplciA9IHJlY29nbml6ZXJzW2ldO1xuXG4gICAgICAgICAgICAvLyBmaW5kIG91dCBpZiB3ZSBhcmUgYWxsb3dlZCB0cnkgdG8gcmVjb2duaXplIHRoZSBpbnB1dCBmb3IgdGhpcyBvbmUuXG4gICAgICAgICAgICAvLyAxLiAgIGFsbG93IGlmIHRoZSBzZXNzaW9uIGlzIE5PVCBmb3JjZWQgc3RvcHBlZCAoc2VlIHRoZSAuc3RvcCgpIG1ldGhvZClcbiAgICAgICAgICAgIC8vIDIuICAgYWxsb3cgaWYgd2Ugc3RpbGwgaGF2ZW4ndCByZWNvZ25pemVkIGEgZ2VzdHVyZSBpbiB0aGlzIHNlc3Npb24sIG9yIHRoZSB0aGlzIHJlY29nbml6ZXIgaXMgdGhlIG9uZVxuICAgICAgICAgICAgLy8gICAgICB0aGF0IGlzIGJlaW5nIHJlY29nbml6ZWQuXG4gICAgICAgICAgICAvLyAzLiAgIGFsbG93IGlmIHRoZSByZWNvZ25pemVyIGlzIGFsbG93ZWQgdG8gcnVuIHNpbXVsdGFuZW91cyB3aXRoIHRoZSBjdXJyZW50IHJlY29nbml6ZWQgcmVjb2duaXplci5cbiAgICAgICAgICAgIC8vICAgICAgdGhpcyBjYW4gYmUgc2V0dXAgd2l0aCB0aGUgYHJlY29nbml6ZVdpdGgoKWAgbWV0aG9kIG9uIHRoZSByZWNvZ25pemVyLlxuICAgICAgICAgICAgaWYgKHNlc3Npb24uc3RvcHBlZCAhPT0gRk9SQ0VEX1NUT1AgJiYgKCAvLyAxXG4gICAgICAgICAgICAgICAgICAgICFjdXJSZWNvZ25pemVyIHx8IHJlY29nbml6ZXIgPT0gY3VyUmVjb2duaXplciB8fCAvLyAyXG4gICAgICAgICAgICAgICAgICAgIHJlY29nbml6ZXIuY2FuUmVjb2duaXplV2l0aChjdXJSZWNvZ25pemVyKSkpIHsgLy8gM1xuICAgICAgICAgICAgICAgIHJlY29nbml6ZXIucmVjb2duaXplKGlucHV0RGF0YSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlY29nbml6ZXIucmVzZXQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gaWYgdGhlIHJlY29nbml6ZXIgaGFzIGJlZW4gcmVjb2duaXppbmcgdGhlIGlucHV0IGFzIGEgdmFsaWQgZ2VzdHVyZSwgd2Ugd2FudCB0byBzdG9yZSB0aGlzIG9uZSBhcyB0aGVcbiAgICAgICAgICAgIC8vIGN1cnJlbnQgYWN0aXZlIHJlY29nbml6ZXIuIGJ1dCBvbmx5IGlmIHdlIGRvbid0IGFscmVhZHkgaGF2ZSBhbiBhY3RpdmUgcmVjb2duaXplclxuICAgICAgICAgICAgaWYgKCFjdXJSZWNvZ25pemVyICYmIHJlY29nbml6ZXIuc3RhdGUgJiAoU1RBVEVfQkVHQU4gfCBTVEFURV9DSEFOR0VEIHwgU1RBVEVfRU5ERUQpKSB7XG4gICAgICAgICAgICAgICAgY3VyUmVjb2duaXplciA9IHNlc3Npb24uY3VyUmVjb2duaXplciA9IHJlY29nbml6ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogZ2V0IGEgcmVjb2duaXplciBieSBpdHMgZXZlbnQgbmFtZS5cbiAgICAgKiBAcGFyYW0ge1JlY29nbml6ZXJ8U3RyaW5nfSByZWNvZ25pemVyXG4gICAgICogQHJldHVybnMge1JlY29nbml6ZXJ8TnVsbH1cbiAgICAgKi9cbiAgICBnZXQ6IGZ1bmN0aW9uKHJlY29nbml6ZXIpIHtcbiAgICAgICAgaWYgKHJlY29nbml6ZXIgaW5zdGFuY2VvZiBSZWNvZ25pemVyKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVjb2duaXplcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByZWNvZ25pemVycyA9IHRoaXMucmVjb2duaXplcnM7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVjb2duaXplcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChyZWNvZ25pemVyc1tpXS5vcHRpb25zLmV2ZW50ID09IHJlY29nbml6ZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVjb2duaXplcnNbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGFkZCBhIHJlY29nbml6ZXIgdG8gdGhlIG1hbmFnZXJcbiAgICAgKiBleGlzdGluZyByZWNvZ25pemVycyB3aXRoIHRoZSBzYW1lIGV2ZW50IG5hbWUgd2lsbCBiZSByZW1vdmVkXG4gICAgICogQHBhcmFtIHtSZWNvZ25pemVyfSByZWNvZ25pemVyXG4gICAgICogQHJldHVybnMge1JlY29nbml6ZXJ8TWFuYWdlcn1cbiAgICAgKi9cbiAgICBhZGQ6IGZ1bmN0aW9uKHJlY29nbml6ZXIpIHtcbiAgICAgICAgaWYgKGludm9rZUFycmF5QXJnKHJlY29nbml6ZXIsICdhZGQnLCB0aGlzKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZW1vdmUgZXhpc3RpbmdcbiAgICAgICAgdmFyIGV4aXN0aW5nID0gdGhpcy5nZXQocmVjb2duaXplci5vcHRpb25zLmV2ZW50KTtcbiAgICAgICAgaWYgKGV4aXN0aW5nKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZShleGlzdGluZyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlY29nbml6ZXJzLnB1c2gocmVjb2duaXplcik7XG4gICAgICAgIHJlY29nbml6ZXIubWFuYWdlciA9IHRoaXM7XG5cbiAgICAgICAgdGhpcy50b3VjaEFjdGlvbi51cGRhdGUoKTtcbiAgICAgICAgcmV0dXJuIHJlY29nbml6ZXI7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHJlbW92ZSBhIHJlY29nbml6ZXIgYnkgbmFtZSBvciBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSB7UmVjb2duaXplcnxTdHJpbmd9IHJlY29nbml6ZXJcbiAgICAgKiBAcmV0dXJucyB7TWFuYWdlcn1cbiAgICAgKi9cbiAgICByZW1vdmU6IGZ1bmN0aW9uKHJlY29nbml6ZXIpIHtcbiAgICAgICAgaWYgKGludm9rZUFycmF5QXJnKHJlY29nbml6ZXIsICdyZW1vdmUnLCB0aGlzKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICByZWNvZ25pemVyID0gdGhpcy5nZXQocmVjb2duaXplcik7XG5cbiAgICAgICAgLy8gbGV0J3MgbWFrZSBzdXJlIHRoaXMgcmVjb2duaXplciBleGlzdHNcbiAgICAgICAgaWYgKHJlY29nbml6ZXIpIHtcbiAgICAgICAgICAgIHZhciByZWNvZ25pemVycyA9IHRoaXMucmVjb2duaXplcnM7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBpbkFycmF5KHJlY29nbml6ZXJzLCByZWNvZ25pemVyKTtcblxuICAgICAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHJlY29nbml6ZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgdGhpcy50b3VjaEFjdGlvbi51cGRhdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBiaW5kIGV2ZW50XG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50c1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGhhbmRsZXJcbiAgICAgKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSB0aGlzXG4gICAgICovXG4gICAgb246IGZ1bmN0aW9uKGV2ZW50cywgaGFuZGxlcikge1xuICAgICAgICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaGFuZGxlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaGFuZGxlcnMgPSB0aGlzLmhhbmRsZXJzO1xuICAgICAgICBlYWNoKHNwbGl0U3RyKGV2ZW50cyksIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICBoYW5kbGVyc1tldmVudF0gPSBoYW5kbGVyc1tldmVudF0gfHwgW107XG4gICAgICAgICAgICBoYW5kbGVyc1tldmVudF0ucHVzaChoYW5kbGVyKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiB1bmJpbmQgZXZlbnQsIGxlYXZlIGVtaXQgYmxhbmsgdG8gcmVtb3ZlIGFsbCBoYW5kbGVyc1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudHNcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaGFuZGxlcl1cbiAgICAgKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSB0aGlzXG4gICAgICovXG4gICAgb2ZmOiBmdW5jdGlvbihldmVudHMsIGhhbmRsZXIpIHtcbiAgICAgICAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaGFuZGxlcnMgPSB0aGlzLmhhbmRsZXJzO1xuICAgICAgICBlYWNoKHNwbGl0U3RyKGV2ZW50cyksIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICBpZiAoIWhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgaGFuZGxlcnNbZXZlbnRdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVyc1tldmVudF0gJiYgaGFuZGxlcnNbZXZlbnRdLnNwbGljZShpbkFycmF5KGhhbmRsZXJzW2V2ZW50XSwgaGFuZGxlciksIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGVtaXQgZXZlbnQgdG8gdGhlIGxpc3RlbmVyc1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhXG4gICAgICovXG4gICAgZW1pdDogZnVuY3Rpb24oZXZlbnQsIGRhdGEpIHtcbiAgICAgICAgLy8gd2UgYWxzbyB3YW50IHRvIHRyaWdnZXIgZG9tIGV2ZW50c1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmRvbUV2ZW50cykge1xuICAgICAgICAgICAgdHJpZ2dlckRvbUV2ZW50KGV2ZW50LCBkYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG5vIGhhbmRsZXJzLCBzbyBza2lwIGl0IGFsbFxuICAgICAgICB2YXIgaGFuZGxlcnMgPSB0aGlzLmhhbmRsZXJzW2V2ZW50XSAmJiB0aGlzLmhhbmRsZXJzW2V2ZW50XS5zbGljZSgpO1xuICAgICAgICBpZiAoIWhhbmRsZXJzIHx8ICFoYW5kbGVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGRhdGEudHlwZSA9IGV2ZW50O1xuICAgICAgICBkYXRhLnByZXZlbnREZWZhdWx0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBkYXRhLnNyY0V2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB3aGlsZSAoaSA8IGhhbmRsZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgaGFuZGxlcnNbaV0oZGF0YSk7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogZGVzdHJveSB0aGUgbWFuYWdlciBhbmQgdW5iaW5kcyBhbGwgZXZlbnRzXG4gICAgICogaXQgZG9lc24ndCB1bmJpbmQgZG9tIGV2ZW50cywgdGhhdCBpcyB0aGUgdXNlciBvd24gcmVzcG9uc2liaWxpdHlcbiAgICAgKi9cbiAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50ICYmIHRvZ2dsZUNzc1Byb3BzKHRoaXMsIGZhbHNlKTtcblxuICAgICAgICB0aGlzLmhhbmRsZXJzID0ge307XG4gICAgICAgIHRoaXMuc2Vzc2lvbiA9IHt9O1xuICAgICAgICB0aGlzLmlucHV0LmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gbnVsbDtcbiAgICB9XG59O1xuXG4vKipcbiAqIGFkZC9yZW1vdmUgdGhlIGNzcyBwcm9wZXJ0aWVzIGFzIGRlZmluZWQgaW4gbWFuYWdlci5vcHRpb25zLmNzc1Byb3BzXG4gKiBAcGFyYW0ge01hbmFnZXJ9IG1hbmFnZXJcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gYWRkXG4gKi9cbmZ1bmN0aW9uIHRvZ2dsZUNzc1Byb3BzKG1hbmFnZXIsIGFkZCkge1xuICAgIHZhciBlbGVtZW50ID0gbWFuYWdlci5lbGVtZW50O1xuICAgIGlmICghZWxlbWVudC5zdHlsZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBwcm9wO1xuICAgIGVhY2gobWFuYWdlci5vcHRpb25zLmNzc1Byb3BzLCBmdW5jdGlvbih2YWx1ZSwgbmFtZSkge1xuICAgICAgICBwcm9wID0gcHJlZml4ZWQoZWxlbWVudC5zdHlsZSwgbmFtZSk7XG4gICAgICAgIGlmIChhZGQpIHtcbiAgICAgICAgICAgIG1hbmFnZXIub2xkQ3NzUHJvcHNbcHJvcF0gPSBlbGVtZW50LnN0eWxlW3Byb3BdO1xuICAgICAgICAgICAgZWxlbWVudC5zdHlsZVtwcm9wXSA9IHZhbHVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZWxlbWVudC5zdHlsZVtwcm9wXSA9IG1hbmFnZXIub2xkQ3NzUHJvcHNbcHJvcF0gfHwgJyc7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoIWFkZCkge1xuICAgICAgICBtYW5hZ2VyLm9sZENzc1Byb3BzID0ge307XG4gICAgfVxufVxuXG4vKipcbiAqIHRyaWdnZXIgZG9tIGV2ZW50XG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcbiAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhXG4gKi9cbmZ1bmN0aW9uIHRyaWdnZXJEb21FdmVudChldmVudCwgZGF0YSkge1xuICAgIHZhciBnZXN0dXJlRXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnRXZlbnQnKTtcbiAgICBnZXN0dXJlRXZlbnQuaW5pdEV2ZW50KGV2ZW50LCB0cnVlLCB0cnVlKTtcbiAgICBnZXN0dXJlRXZlbnQuZ2VzdHVyZSA9IGRhdGE7XG4gICAgZGF0YS50YXJnZXQuZGlzcGF0Y2hFdmVudChnZXN0dXJlRXZlbnQpO1xufVxuXG5hc3NpZ24oSGFtbWVyLCB7XG4gICAgSU5QVVRfU1RBUlQ6IElOUFVUX1NUQVJULFxuICAgIElOUFVUX01PVkU6IElOUFVUX01PVkUsXG4gICAgSU5QVVRfRU5EOiBJTlBVVF9FTkQsXG4gICAgSU5QVVRfQ0FOQ0VMOiBJTlBVVF9DQU5DRUwsXG5cbiAgICBTVEFURV9QT1NTSUJMRTogU1RBVEVfUE9TU0lCTEUsXG4gICAgU1RBVEVfQkVHQU46IFNUQVRFX0JFR0FOLFxuICAgIFNUQVRFX0NIQU5HRUQ6IFNUQVRFX0NIQU5HRUQsXG4gICAgU1RBVEVfRU5ERUQ6IFNUQVRFX0VOREVELFxuICAgIFNUQVRFX1JFQ09HTklaRUQ6IFNUQVRFX1JFQ09HTklaRUQsXG4gICAgU1RBVEVfQ0FOQ0VMTEVEOiBTVEFURV9DQU5DRUxMRUQsXG4gICAgU1RBVEVfRkFJTEVEOiBTVEFURV9GQUlMRUQsXG5cbiAgICBESVJFQ1RJT05fTk9ORTogRElSRUNUSU9OX05PTkUsXG4gICAgRElSRUNUSU9OX0xFRlQ6IERJUkVDVElPTl9MRUZULFxuICAgIERJUkVDVElPTl9SSUdIVDogRElSRUNUSU9OX1JJR0hULFxuICAgIERJUkVDVElPTl9VUDogRElSRUNUSU9OX1VQLFxuICAgIERJUkVDVElPTl9ET1dOOiBESVJFQ1RJT05fRE9XTixcbiAgICBESVJFQ1RJT05fSE9SSVpPTlRBTDogRElSRUNUSU9OX0hPUklaT05UQUwsXG4gICAgRElSRUNUSU9OX1ZFUlRJQ0FMOiBESVJFQ1RJT05fVkVSVElDQUwsXG4gICAgRElSRUNUSU9OX0FMTDogRElSRUNUSU9OX0FMTCxcblxuICAgIE1hbmFnZXI6IE1hbmFnZXIsXG4gICAgSW5wdXQ6IElucHV0LFxuICAgIFRvdWNoQWN0aW9uOiBUb3VjaEFjdGlvbixcblxuICAgIFRvdWNoSW5wdXQ6IFRvdWNoSW5wdXQsXG4gICAgTW91c2VJbnB1dDogTW91c2VJbnB1dCxcbiAgICBQb2ludGVyRXZlbnRJbnB1dDogUG9pbnRlckV2ZW50SW5wdXQsXG4gICAgVG91Y2hNb3VzZUlucHV0OiBUb3VjaE1vdXNlSW5wdXQsXG4gICAgU2luZ2xlVG91Y2hJbnB1dDogU2luZ2xlVG91Y2hJbnB1dCxcblxuICAgIFJlY29nbml6ZXI6IFJlY29nbml6ZXIsXG4gICAgQXR0clJlY29nbml6ZXI6IEF0dHJSZWNvZ25pemVyLFxuICAgIFRhcDogVGFwUmVjb2duaXplcixcbiAgICBQYW46IFBhblJlY29nbml6ZXIsXG4gICAgU3dpcGU6IFN3aXBlUmVjb2duaXplcixcbiAgICBQaW5jaDogUGluY2hSZWNvZ25pemVyLFxuICAgIFJvdGF0ZTogUm90YXRlUmVjb2duaXplcixcbiAgICBQcmVzczogUHJlc3NSZWNvZ25pemVyLFxuXG4gICAgb246IGFkZEV2ZW50TGlzdGVuZXJzLFxuICAgIG9mZjogcmVtb3ZlRXZlbnRMaXN0ZW5lcnMsXG4gICAgZWFjaDogZWFjaCxcbiAgICBtZXJnZTogbWVyZ2UsXG4gICAgZXh0ZW5kOiBleHRlbmQsXG4gICAgYXNzaWduOiBhc3NpZ24sXG4gICAgaW5oZXJpdDogaW5oZXJpdCxcbiAgICBiaW5kRm46IGJpbmRGbixcbiAgICBwcmVmaXhlZDogcHJlZml4ZWRcbn0pO1xuXG4vLyB0aGlzIHByZXZlbnRzIGVycm9ycyB3aGVuIEhhbW1lciBpcyBsb2FkZWQgaW4gdGhlIHByZXNlbmNlIG9mIGFuIEFNRFxuLy8gIHN0eWxlIGxvYWRlciBidXQgYnkgc2NyaXB0IHRhZywgbm90IGJ5IHRoZSBsb2FkZXIuXG52YXIgZnJlZUdsb2JhbCA9ICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6ICh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgPyBzZWxmIDoge30pKTsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5mcmVlR2xvYmFsLkhhbW1lciA9IEhhbW1lcjtcblxuaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgIGRlZmluZShmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIEhhbW1lcjtcbiAgICB9KTtcbn0gZWxzZSBpZiAodHlwZW9mIG1vZHVsZSAhPSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykge1xuICAgIG1vZHVsZS5leHBvcnRzID0gSGFtbWVyO1xufSBlbHNlIHtcbiAgICB3aW5kb3dbZXhwb3J0TmFtZV0gPSBIYW1tZXI7XG59XG5cbn0pKHdpbmRvdywgZG9jdW1lbnQsICdIYW1tZXInKTtcbiIsImlmICh0eXBlb2YgT2JqZWN0LmNyZWF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAvLyBpbXBsZW1lbnRhdGlvbiBmcm9tIHN0YW5kYXJkIG5vZGUuanMgJ3V0aWwnIG1vZHVsZVxuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGluaGVyaXRzKGN0b3IsIHN1cGVyQ3Rvcikge1xuICAgIGlmIChzdXBlckN0b3IpIHtcbiAgICAgIGN0b3Iuc3VwZXJfID0gc3VwZXJDdG9yXG4gICAgICBjdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDdG9yLnByb3RvdHlwZSwge1xuICAgICAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgICAgIHZhbHVlOiBjdG9yLFxuICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH1cbiAgfTtcbn0gZWxzZSB7XG4gIC8vIG9sZCBzY2hvb2wgc2hpbSBmb3Igb2xkIGJyb3dzZXJzXG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaW5oZXJpdHMoY3Rvciwgc3VwZXJDdG9yKSB7XG4gICAgaWYgKHN1cGVyQ3Rvcikge1xuICAgICAgY3Rvci5zdXBlcl8gPSBzdXBlckN0b3JcbiAgICAgIHZhciBUZW1wQ3RvciA9IGZ1bmN0aW9uICgpIHt9XG4gICAgICBUZW1wQ3Rvci5wcm90b3R5cGUgPSBzdXBlckN0b3IucHJvdG90eXBlXG4gICAgICBjdG9yLnByb3RvdHlwZSA9IG5ldyBUZW1wQ3RvcigpXG4gICAgICBjdG9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGN0b3JcbiAgICB9XG4gIH1cbn1cbiIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9saWIvcmVmcycpO1xuXG5tb2R1bGUuZXhwb3J0cy5Db2xsZWN0aW9uID0gcmVxdWlyZSgnLi9saWIvY29sbGVjdGlvbicpOyIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBBbiBlbXB0eSBjb2xsZWN0aW9uIHN0dWIuIFVzZSB7QGxpbmsgUmVmc0NvbGxlY3Rpb24uZXh0ZW5kfSB0byBleHRlbmQgYVxuICogY29sbGVjdGlvbiB3aXRoIHJlZiBzZW1hbnRpY3MuXG4gKlxuICogQGNsYXNzIFJlZnNDb2xsZWN0aW9uXG4gKi9cblxuLyoqXG4gKiBFeHRlbmRzIGEgY29sbGVjdGlvbiB3aXRoIHtAbGluayBSZWZzfSBhd2FyZSBtZXRob2RzXG4gKlxuICogQG1lbWJlcm9mIFJlZnNDb2xsZWN0aW9uXG4gKiBAc3RhdGljXG4gKlxuICogQHBhcmFtICB7QXJyYXk8T2JqZWN0Pn0gY29sbGVjdGlvblxuICogQHBhcmFtICB7UmVmc30gcmVmcyBpbnN0YW5jZVxuICogQHBhcmFtICB7T2JqZWN0fSBwcm9wZXJ0eSByZXByZXNlbnRlZCBieSB0aGUgY29sbGVjdGlvblxuICogQHBhcmFtICB7T2JqZWN0fSB0YXJnZXQgb2JqZWN0IHRoZSBjb2xsZWN0aW9uIGlzIGF0dGFjaGVkIHRvXG4gKlxuICogQHJldHVybiB7UmVmc0NvbGxlY3Rpb248T2JqZWN0Pn0gdGhlIGV4dGVuZGVkIGFycmF5XG4gKi9cbmZ1bmN0aW9uIGV4dGVuZChjb2xsZWN0aW9uLCByZWZzLCBwcm9wZXJ0eSwgdGFyZ2V0KSB7XG5cbiAgdmFyIGludmVyc2VQcm9wZXJ0eSA9IHByb3BlcnR5LmludmVyc2U7XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgdGhlIGdpdmVuIGVsZW1lbnQgZnJvbSB0aGUgYXJyYXkgYW5kIHJldHVybnMgaXQuXG4gICAqXG4gICAqIEBtZXRob2QgUmVmc0NvbGxlY3Rpb24jcmVtb3ZlXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBlbGVtZW50IHRoZSBlbGVtZW50IHRvIHJlbW92ZVxuICAgKi9cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvbGxlY3Rpb24sICdyZW1vdmUnLCB7XG4gICAgdmFsdWU6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgIHZhciBpZHggPSB0aGlzLmluZGV4T2YoZWxlbWVudCk7XG4gICAgICBpZiAoaWR4ICE9PSAtMSkge1xuICAgICAgICB0aGlzLnNwbGljZShpZHgsIDEpO1xuXG4gICAgICAgIC8vIHVuc2V0IGludmVyc2VcbiAgICAgICAgcmVmcy51bnNldChlbGVtZW50LCBpbnZlcnNlUHJvcGVydHksIHRhcmdldCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBlbGVtZW50O1xuICAgIH1cbiAgfSk7XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgY29sbGVjdGlvbiBjb250YWlucyB0aGUgZ2l2ZW4gZWxlbWVudFxuICAgKlxuICAgKiBAbWV0aG9kIFJlZnNDb2xsZWN0aW9uI2NvbnRhaW5zXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBlbGVtZW50IHRoZSBlbGVtZW50IHRvIGNoZWNrIGZvclxuICAgKi9cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvbGxlY3Rpb24sICdjb250YWlucycsIHtcbiAgICB2YWx1ZTogZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgcmV0dXJuIHRoaXMuaW5kZXhPZihlbGVtZW50KSAhPT0gLTE7XG4gICAgfVxuICB9KTtcblxuICAvKipcbiAgICogQWRkcyBhbiBlbGVtZW50IHRvIHRoZSBhcnJheSwgdW5sZXNzIGl0IGV4aXN0cyBhbHJlYWR5IChzZXQgc2VtYW50aWNzKS5cbiAgICpcbiAgICogQG1ldGhvZCBSZWZzQ29sbGVjdGlvbiNhZGRcbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IGVsZW1lbnQgdGhlIGVsZW1lbnQgdG8gYWRkXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBvcHRpb25hbCBpbmRleCB0byBhZGQgZWxlbWVudCB0b1xuICAgKiAgICAgICAgICAgICAgICAgKHBvc3NpYmx5IG1vdmluZyBvdGhlciBlbGVtZW50cyBhcm91bmQpXG4gICAqL1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29sbGVjdGlvbiwgJ2FkZCcsIHtcbiAgICB2YWx1ZTogZnVuY3Rpb24oZWxlbWVudCwgaWR4KSB7XG5cbiAgICAgIHZhciBjdXJyZW50SWR4ID0gdGhpcy5pbmRleE9mKGVsZW1lbnQpO1xuXG4gICAgICBpZiAodHlwZW9mIGlkeCA9PT0gJ3VuZGVmaW5lZCcpIHtcblxuICAgICAgICBpZiAoY3VycmVudElkeCAhPT0gLTEpIHtcbiAgICAgICAgICAvLyBlbGVtZW50IGFscmVhZHkgaW4gY29sbGVjdGlvbiAoISlcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhZGQgdG8gZW5kIG9mIGFycmF5LCBhcyBubyBpZHggaXMgc3BlY2lmaWVkXG4gICAgICAgIGlkeCA9IHRoaXMubGVuZ3RoO1xuICAgICAgfVxuXG4gICAgICAvLyBoYW5kbGUgYWxyZWFkeSBpbiBjb2xsZWN0aW9uXG4gICAgICBpZiAoY3VycmVudElkeCAhPT0gLTEpIHtcblxuICAgICAgICAvLyByZW1vdmUgZWxlbWVudCBmcm9tIGN1cnJlbnRJZHhcbiAgICAgICAgdGhpcy5zcGxpY2UoY3VycmVudElkeCwgMSk7XG4gICAgICB9XG5cbiAgICAgIC8vIGFkZCBlbGVtZW50IGF0IGlkeFxuICAgICAgdGhpcy5zcGxpY2UoaWR4LCAwLCBlbGVtZW50KTtcblxuICAgICAgaWYgKGN1cnJlbnRJZHggPT09IC0xKSB7XG4gICAgICAgIC8vIHNldCBpbnZlcnNlLCB1bmxlc3MgZWxlbWVudCB3YXNcbiAgICAgICAgLy8gaW4gY29sbGVjdGlvbiBhbHJlYWR5XG4gICAgICAgIHJlZnMuc2V0KGVsZW1lbnQsIGludmVyc2VQcm9wZXJ0eSwgdGFyZ2V0KTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIC8vIGEgc2ltcGxlIG1hcmtlciwgaWRlbnRpZnlpbmcgdGhpcyBlbGVtZW50XG4gIC8vIGFzIGJlaW5nIGEgcmVmcyBjb2xsZWN0aW9uXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb2xsZWN0aW9uLCAnX19yZWZzX2NvbGxlY3Rpb24nLCB7XG4gICAgdmFsdWU6IHRydWVcbiAgfSk7XG5cbiAgcmV0dXJuIGNvbGxlY3Rpb247XG59XG5cblxuZnVuY3Rpb24gaXNFeHRlbmRlZChjb2xsZWN0aW9uKSB7XG4gIHJldHVybiBjb2xsZWN0aW9uLl9fcmVmc19jb2xsZWN0aW9uID09PSB0cnVlO1xufVxuXG5tb2R1bGUuZXhwb3J0cy5leHRlbmQgPSBleHRlbmQ7XG5cbm1vZHVsZS5leHBvcnRzLmlzRXh0ZW5kZWQgPSBpc0V4dGVuZGVkOyIsIid1c2Ugc3RyaWN0JztcblxudmFyIENvbGxlY3Rpb24gPSByZXF1aXJlKCcuL2NvbGxlY3Rpb24nKTtcblxuZnVuY3Rpb24gaGFzT3duUHJvcGVydHkoZSwgcHJvcGVydHkpIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLCBwcm9wZXJ0eS5uYW1lIHx8IHByb3BlcnR5KTtcbn1cblxuZnVuY3Rpb24gZGVmaW5lQ29sbGVjdGlvblByb3BlcnR5KHJlZiwgcHJvcGVydHksIHRhcmdldCkge1xuXG4gIHZhciBjb2xsZWN0aW9uID0gQ29sbGVjdGlvbi5leHRlbmQodGFyZ2V0W3Byb3BlcnR5Lm5hbWVdIHx8IFtdLCByZWYsIHByb3BlcnR5LCB0YXJnZXQpO1xuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5Lm5hbWUsIHtcbiAgICBlbnVtZXJhYmxlOiBwcm9wZXJ0eS5lbnVtZXJhYmxlLFxuICAgIHZhbHVlOiBjb2xsZWN0aW9uXG4gIH0pO1xuXG4gIGlmIChjb2xsZWN0aW9uLmxlbmd0aCkge1xuXG4gICAgY29sbGVjdGlvbi5mb3JFYWNoKGZ1bmN0aW9uKG8pIHtcbiAgICAgIHJlZi5zZXQobywgcHJvcGVydHkuaW52ZXJzZSwgdGFyZ2V0KTtcbiAgICB9KTtcbiAgfVxufVxuXG5cbmZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KHJlZiwgcHJvcGVydHksIHRhcmdldCkge1xuXG4gIHZhciBpbnZlcnNlUHJvcGVydHkgPSBwcm9wZXJ0eS5pbnZlcnNlO1xuXG4gIHZhciBfdmFsdWUgPSB0YXJnZXRbcHJvcGVydHkubmFtZV07XG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHkubmFtZSwge1xuICAgIGNvbmZpZ3VyYWJsZTogcHJvcGVydHkuY29uZmlndXJhYmxlLFxuICAgIGVudW1lcmFibGU6IHByb3BlcnR5LmVudW1lcmFibGUsXG5cbiAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIF92YWx1ZTtcbiAgICB9LFxuXG4gICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuXG4gICAgICAvLyByZXR1cm4gaWYgd2UgYWxyZWFkeSBwZXJmb3JtZWQgYWxsIGNoYW5nZXNcbiAgICAgIGlmICh2YWx1ZSA9PT0gX3ZhbHVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIG9sZCA9IF92YWx1ZTtcblxuICAgICAgLy8gdGVtcG9yYXJ5IHNldCBudWxsXG4gICAgICBfdmFsdWUgPSBudWxsO1xuXG4gICAgICBpZiAob2xkKSB7XG4gICAgICAgIHJlZi51bnNldChvbGQsIGludmVyc2VQcm9wZXJ0eSwgdGFyZ2V0KTtcbiAgICAgIH1cblxuICAgICAgLy8gc2V0IG5ldyB2YWx1ZVxuICAgICAgX3ZhbHVlID0gdmFsdWU7XG5cbiAgICAgIC8vIHNldCBpbnZlcnNlIHZhbHVlXG4gICAgICByZWYuc2V0KF92YWx1ZSwgaW52ZXJzZVByb3BlcnR5LCB0YXJnZXQpO1xuICAgIH1cbiAgfSk7XG5cbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IHJlZmVyZW5jZXMgb2JqZWN0IGRlZmluaW5nIHR3byBpbnZlcnNseSByZWxhdGVkXG4gKiBhdHRyaWJ1dGUgZGVzY3JpcHRvcnMgYSBhbmQgYi5cbiAqXG4gKiA8cD5cbiAqICAgV2hlbiBib3VuZCB0byBhbiBvYmplY3QgdXNpbmcge0BsaW5rIFJlZnMjYmluZH0gdGhlIHJlZmVyZW5jZXNcbiAqICAgZ2V0IGFjdGl2YXRlZCBhbmQgZW5zdXJlIHRoYXQgYWRkIGFuZCByZW1vdmUgb3BlcmF0aW9ucyBhcmUgYXBwbGllZFxuICogICByZXZlcnNlbHksIHRvby5cbiAqIDwvcD5cbiAqXG4gKiA8cD5cbiAqICAgRm9yIGF0dHJpYnV0ZXMgcmVwcmVzZW50ZWQgYXMgY29sbGVjdGlvbnMge0BsaW5rIFJlZnN9IHByb3ZpZGVzIHRoZVxuICogICB7QGxpbmsgUmVmc0NvbGxlY3Rpb24jYWRkfSwge0BsaW5rIFJlZnNDb2xsZWN0aW9uI3JlbW92ZX0gYW5kIHtAbGluayBSZWZzQ29sbGVjdGlvbiNjb250YWluc30gZXh0ZW5zaW9uc1xuICogICB0aGF0IG11c3QgYmUgdXNlZCB0byBwcm9wZXJseSBob29rIGludG8gdGhlIGludmVyc2UgY2hhbmdlIG1lY2hhbmlzbS5cbiAqIDwvcD5cbiAqXG4gKiBAY2xhc3MgUmVmc1xuICpcbiAqIEBjbGFzc2Rlc2MgQSBiaS1kaXJlY3Rpb25hbCByZWZlcmVuY2UgYmV0d2VlbiB0d28gYXR0cmlidXRlcy5cbiAqXG4gKiBAcGFyYW0ge1JlZnMuQXR0cmlidXRlRGVzY3JpcHRvcn0gYSBwcm9wZXJ0eSBkZXNjcmlwdG9yXG4gKiBAcGFyYW0ge1JlZnMuQXR0cmlidXRlRGVzY3JpcHRvcn0gYiBwcm9wZXJ0eSBkZXNjcmlwdG9yXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgcmVmcyA9IFJlZnMoeyBuYW1lOiAnd2hlZWxzJywgY29sbGVjdGlvbjogdHJ1ZSwgZW51bWVyYWJsZTogdHJ1ZSB9LCB7IG5hbWU6ICdjYXInIH0pO1xuICpcbiAqIHZhciBjYXIgPSB7IG5hbWU6ICd0b3lvdGEnIH07XG4gKiB2YXIgd2hlZWxzID0gW3sgcG9zOiAnZnJvbnQtbGVmdCcgfSwgeyBwb3M6ICdmcm9udC1yaWdodCcgfV07XG4gKlxuICogcmVmcy5iaW5kKGNhciwgJ3doZWVscycpO1xuICpcbiAqIGNhci53aGVlbHMgLy8gW11cbiAqIGNhci53aGVlbHMuYWRkKHdoZWVsc1swXSk7XG4gKiBjYXIud2hlZWxzLmFkZCh3aGVlbHNbMV0pO1xuICpcbiAqIGNhci53aGVlbHMgLy8gW3sgcG9zOiAnZnJvbnQtbGVmdCcgfSwgeyBwb3M6ICdmcm9udC1yaWdodCcgfV1cbiAqXG4gKiB3aGVlbHNbMF0uY2FyIC8vIHsgbmFtZTogJ3RveW90YScgfTtcbiAqIGNhci53aGVlbHMucmVtb3ZlKHdoZWVsc1swXSk7XG4gKlxuICogd2hlZWxzWzBdLmNhciAvLyB1bmRlZmluZWRcbiAqL1xuZnVuY3Rpb24gUmVmcyhhLCBiKSB7XG5cbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFJlZnMpKSB7XG4gICAgcmV0dXJuIG5ldyBSZWZzKGEsIGIpO1xuICB9XG5cbiAgLy8gbGlua1xuICBhLmludmVyc2UgPSBiO1xuICBiLmludmVyc2UgPSBhO1xuXG4gIHRoaXMucHJvcHMgPSB7fTtcbiAgdGhpcy5wcm9wc1thLm5hbWVdID0gYTtcbiAgdGhpcy5wcm9wc1tiLm5hbWVdID0gYjtcbn1cblxuLyoqXG4gKiBCaW5kcyBvbmUgc2lkZSBvZiBhIGJpLWRpcmVjdGlvbmFsIHJlZmVyZW5jZSB0byBhXG4gKiB0YXJnZXQgb2JqZWN0LlxuICpcbiAqIEBtZW1iZXJPZiBSZWZzXG4gKlxuICogQHBhcmFtICB7T2JqZWN0fSB0YXJnZXRcbiAqIEBwYXJhbSAge1N0cmluZ30gcHJvcGVydHlcbiAqL1xuUmVmcy5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uKHRhcmdldCwgcHJvcGVydHkpIHtcbiAgaWYgKHR5cGVvZiBwcm9wZXJ0eSA9PT0gJ3N0cmluZycpIHtcbiAgICBpZiAoIXRoaXMucHJvcHNbcHJvcGVydHldKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ25vIHByb3BlcnR5IDwnICsgcHJvcGVydHkgKyAnPiBpbiByZWYnKTtcbiAgICB9XG4gICAgcHJvcGVydHkgPSB0aGlzLnByb3BzW3Byb3BlcnR5XTtcbiAgfVxuXG4gIGlmIChwcm9wZXJ0eS5jb2xsZWN0aW9uKSB7XG4gICAgZGVmaW5lQ29sbGVjdGlvblByb3BlcnR5KHRoaXMsIHByb3BlcnR5LCB0YXJnZXQpO1xuICB9IGVsc2Uge1xuICAgIGRlZmluZVByb3BlcnR5KHRoaXMsIHByb3BlcnR5LCB0YXJnZXQpO1xuICB9XG59O1xuXG5SZWZzLnByb3RvdHlwZS5lbnN1cmVSZWZzQ29sbGVjdGlvbiA9IGZ1bmN0aW9uKHRhcmdldCwgcHJvcGVydHkpIHtcblxuICB2YXIgY29sbGVjdGlvbiA9IHRhcmdldFtwcm9wZXJ0eS5uYW1lXTtcblxuICBpZiAoIUNvbGxlY3Rpb24uaXNFeHRlbmRlZChjb2xsZWN0aW9uKSkge1xuICAgIGRlZmluZUNvbGxlY3Rpb25Qcm9wZXJ0eSh0aGlzLCBwcm9wZXJ0eSwgdGFyZ2V0KTtcbiAgfVxuXG4gIHJldHVybiBjb2xsZWN0aW9uO1xufTtcblxuUmVmcy5wcm90b3R5cGUuZW5zdXJlQm91bmQgPSBmdW5jdGlvbih0YXJnZXQsIHByb3BlcnR5KSB7XG4gIGlmICghaGFzT3duUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSkpIHtcbiAgICB0aGlzLmJpbmQodGFyZ2V0LCBwcm9wZXJ0eSk7XG4gIH1cbn07XG5cblJlZnMucHJvdG90eXBlLnVuc2V0ID0gZnVuY3Rpb24odGFyZ2V0LCBwcm9wZXJ0eSwgdmFsdWUpIHtcblxuICBpZiAodGFyZ2V0KSB7XG4gICAgdGhpcy5lbnN1cmVCb3VuZCh0YXJnZXQsIHByb3BlcnR5KTtcblxuICAgIGlmIChwcm9wZXJ0eS5jb2xsZWN0aW9uKSB7XG4gICAgICB0aGlzLmVuc3VyZVJlZnNDb2xsZWN0aW9uKHRhcmdldCwgcHJvcGVydHkpLnJlbW92ZSh2YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRhcmdldFtwcm9wZXJ0eS5uYW1lXSA9IHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cbn07XG5cblJlZnMucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uKHRhcmdldCwgcHJvcGVydHksIHZhbHVlKSB7XG5cbiAgaWYgKHRhcmdldCkge1xuICAgIHRoaXMuZW5zdXJlQm91bmQodGFyZ2V0LCBwcm9wZXJ0eSk7XG5cbiAgICBpZiAocHJvcGVydHkuY29sbGVjdGlvbikge1xuICAgICAgdGhpcy5lbnN1cmVSZWZzQ29sbGVjdGlvbih0YXJnZXQsIHByb3BlcnR5KS5hZGQodmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0YXJnZXRbcHJvcGVydHkubmFtZV0gPSB2YWx1ZTtcbiAgICB9XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gUmVmcztcblxuXG4vKipcbiAqIEFuIGF0dHJpYnV0ZSBkZXNjcmlwdG9yIHRvIGJlIHVzZWQgc3BlY2lmeSBhbiBhdHRyaWJ1dGUgaW4gYSB7QGxpbmsgUmVmc30gaW5zdGFuY2VcbiAqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBSZWZzLkF0dHJpYnV0ZURlc2NyaXB0b3JcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBuYW1lXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtjb2xsZWN0aW9uPWZhbHNlXVxuICogQHByb3BlcnR5IHtib29sZWFufSBbZW51bWVyYWJsZT1mYWxzZV1cbiAqLyIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBUaGlzIGZpbGUgY29udGFpbnMgc291cmNlIGNvZGUgYWRhcHRlZCBmcm9tIFNuYXAuc3ZnIChsaWNlbnNlZCBBcGFjaGUtMi4wKS5cbiAqXG4gKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9hZG9iZS13ZWJwbGF0Zm9ybS9TbmFwLnN2Zy9ibG9iL21hc3Rlci9zcmMvcGF0aC5qc1xuICovXG5cbi8qIGVzbGludCBuby1mYWxsdGhyb3VnaDogXCJvZmZcIiAqL1xuXG52YXIgcDJzID0gLyw/KFthLXpdKSw/L2dpLFxuICAgIHRvRmxvYXQgPSBwYXJzZUZsb2F0LFxuICAgIG1hdGggPSBNYXRoLFxuICAgIFBJID0gbWF0aC5QSSxcbiAgICBtbWluID0gbWF0aC5taW4sXG4gICAgbW1heCA9IG1hdGgubWF4LFxuICAgIHBvdyA9IG1hdGgucG93LFxuICAgIGFicyA9IG1hdGguYWJzLFxuICAgIHBhdGhDb21tYW5kID0gLyhbYS16XSlbXFxzLF0qKCgtP1xcZCpcXC4/XFxkKig/OmVbLStdP1xcZCspP1tcXHNdKiw/W1xcc10qKSspL2lnLFxuICAgIHBhdGhWYWx1ZXMgPSAvKC0/XFxkKlxcLj9cXGQqKD86ZVstK10/XFxkKyk/KVtcXHNdKiw/W1xcc10qL2lnO1xuXG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24obykgeyByZXR1cm4gbyBpbnN0YW5jZW9mIEFycmF5OyB9O1xuXG5mdW5jdGlvbiBoYXNQcm9wZXJ0eShvYmosIHByb3BlcnR5KSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wZXJ0eSk7XG59XG5cbmZ1bmN0aW9uIGNsb25lKG9iaikge1xuXG4gIGlmICh0eXBlb2Ygb2JqID09ICdmdW5jdGlvbicgfHwgT2JqZWN0KG9iaikgIT09IG9iaikge1xuICAgIHJldHVybiBvYmo7XG4gIH1cblxuICB2YXIgcmVzID0gbmV3IG9iai5jb25zdHJ1Y3RvcjtcblxuICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgaWYgKGhhc1Byb3BlcnR5KG9iaiwga2V5KSkge1xuICAgICAgcmVzW2tleV0gPSBjbG9uZShvYmpba2V5XSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlcztcbn1cblxuZnVuY3Rpb24gcmVwdXNoKGFycmF5LCBpdGVtKSB7XG4gIGZvciAodmFyIGkgPSAwLCBpaSA9IGFycmF5Lmxlbmd0aDsgaSA8IGlpOyBpKyspIGlmIChhcnJheVtpXSA9PT0gaXRlbSkge1xuICAgIHJldHVybiBhcnJheS5wdXNoKGFycmF5LnNwbGljZShpLCAxKVswXSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY2FjaGVyKGYpIHtcblxuICBmdW5jdGlvbiBuZXdmKCkge1xuXG4gICAgdmFyIGFyZyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCksXG4gICAgICAgIGFyZ3MgPSBhcmcuam9pbignXFx1MjQwMCcpLFxuICAgICAgICBjYWNoZSA9IG5ld2YuY2FjaGUgPSBuZXdmLmNhY2hlIHx8IHt9LFxuICAgICAgICBjb3VudCA9IG5ld2YuY291bnQgPSBuZXdmLmNvdW50IHx8IFtdO1xuXG4gICAgaWYgKGhhc1Byb3BlcnR5KGNhY2hlLCBhcmdzKSkge1xuICAgICAgcmVwdXNoKGNvdW50LCBhcmdzKTtcbiAgICAgIHJldHVybiBjYWNoZVthcmdzXTtcbiAgICB9XG5cbiAgICBjb3VudC5sZW5ndGggPj0gMWUzICYmIGRlbGV0ZSBjYWNoZVtjb3VudC5zaGlmdCgpXTtcbiAgICBjb3VudC5wdXNoKGFyZ3MpO1xuICAgIGNhY2hlW2FyZ3NdID0gZi5hcHBseSgwLCBhcmcpO1xuXG4gICAgcmV0dXJuIGNhY2hlW2FyZ3NdO1xuICB9XG4gIHJldHVybiBuZXdmO1xufVxuXG5mdW5jdGlvbiBwYXJzZVBhdGhTdHJpbmcocGF0aFN0cmluZykge1xuXG4gIGlmICghcGF0aFN0cmluZykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgdmFyIHB0aCA9IHBhdGhzKHBhdGhTdHJpbmcpO1xuXG4gIGlmIChwdGguYXJyKSB7XG4gICAgcmV0dXJuIGNsb25lKHB0aC5hcnIpO1xuICB9XG5cbiAgdmFyIHBhcmFtQ291bnRzID0geyBhOiA3LCBjOiA2LCBoOiAxLCBsOiAyLCBtOiAyLCBxOiA0LCBzOiA0LCB0OiAyLCB2OiAxLCB6OiAwIH0sXG4gICAgICBkYXRhID0gW107XG5cbiAgaWYgKGlzQXJyYXkocGF0aFN0cmluZykgJiYgaXNBcnJheShwYXRoU3RyaW5nWzBdKSkgeyAvLyByb3VnaCBhc3N1bXB0aW9uXG4gICAgZGF0YSA9IGNsb25lKHBhdGhTdHJpbmcpO1xuICB9XG5cbiAgaWYgKCFkYXRhLmxlbmd0aCkge1xuXG4gICAgU3RyaW5nKHBhdGhTdHJpbmcpLnJlcGxhY2UocGF0aENvbW1hbmQsIGZ1bmN0aW9uKGEsIGIsIGMpIHtcbiAgICAgIHZhciBwYXJhbXMgPSBbXSxcbiAgICAgICAgICBuYW1lID0gYi50b0xvd2VyQ2FzZSgpO1xuXG4gICAgICBjLnJlcGxhY2UocGF0aFZhbHVlcywgZnVuY3Rpb24oYSwgYikge1xuICAgICAgICBiICYmIHBhcmFtcy5wdXNoKCtiKTtcbiAgICAgIH0pO1xuXG4gICAgICBpZiAobmFtZSA9PSAnbScgJiYgcGFyYW1zLmxlbmd0aCA+IDIpIHtcbiAgICAgICAgZGF0YS5wdXNoKFtiXS5jb25jYXQocGFyYW1zLnNwbGljZSgwLCAyKSkpO1xuICAgICAgICBuYW1lID0gJ2wnO1xuICAgICAgICBiID0gYiA9PSAnbScgPyAnbCcgOiAnTCc7XG4gICAgICB9XG5cbiAgICAgIHdoaWxlIChwYXJhbXMubGVuZ3RoID49IHBhcmFtQ291bnRzW25hbWVdKSB7XG4gICAgICAgIGRhdGEucHVzaChbYl0uY29uY2F0KHBhcmFtcy5zcGxpY2UoMCwgcGFyYW1Db3VudHNbbmFtZV0pKSk7XG4gICAgICAgIGlmICghcGFyYW1Db3VudHNbbmFtZV0pIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZGF0YS50b1N0cmluZyA9IHBhdGhzLnRvU3RyaW5nO1xuICBwdGguYXJyID0gY2xvbmUoZGF0YSk7XG5cbiAgcmV0dXJuIGRhdGE7XG59XG5cbmZ1bmN0aW9uIHBhdGhzKHBzKSB7XG4gIHZhciBwID0gcGF0aHMucHMgPSBwYXRocy5wcyB8fCB7fTtcblxuICBpZiAocFtwc10pIHtcbiAgICBwW3BzXS5zbGVlcCA9IDEwMDtcbiAgfSBlbHNlIHtcbiAgICBwW3BzXSA9IHtcbiAgICAgIHNsZWVwOiAxMDBcbiAgICB9O1xuICB9XG5cbiAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICBmb3IgKHZhciBrZXkgaW4gcCkge1xuICAgICAgaWYgKGhhc1Byb3BlcnR5KHAsIGtleSkgJiYga2V5ICE9IHBzKSB7XG4gICAgICAgIHBba2V5XS5zbGVlcC0tO1xuICAgICAgICAhcFtrZXldLnNsZWVwICYmIGRlbGV0ZSBwW2tleV07XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gcFtwc107XG59XG5cbmZ1bmN0aW9uIHJlY3RCQm94KHgsIHksIHdpZHRoLCBoZWlnaHQpIHtcblxuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgIHkgPSB4Lnk7XG4gICAgd2lkdGggPSB4LndpZHRoO1xuICAgIGhlaWdodCA9IHguaGVpZ2h0O1xuICAgIHggPSB4Lng7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHg6IHgsXG4gICAgeTogeSxcbiAgICB3aWR0aDogd2lkdGgsXG4gICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgeDI6IHggKyB3aWR0aCxcbiAgICB5MjogeSArIGhlaWdodFxuICB9O1xufVxuXG5mdW5jdGlvbiBwYXRoVG9TdHJpbmcoKSB7XG4gIHJldHVybiB0aGlzLmpvaW4oJywnKS5yZXBsYWNlKHAycywgJyQxJyk7XG59XG5cbmZ1bmN0aW9uIHBhdGhDbG9uZShwYXRoQXJyYXkpIHtcbiAgdmFyIHJlcyA9IGNsb25lKHBhdGhBcnJheSk7XG4gIHJlcy50b1N0cmluZyA9IHBhdGhUb1N0cmluZztcbiAgcmV0dXJuIHJlcztcbn1cblxuZnVuY3Rpb24gZmluZERvdHNBdFNlZ21lbnQocDF4LCBwMXksIGMxeCwgYzF5LCBjMngsIGMyeSwgcDJ4LCBwMnksIHQpIHtcbiAgdmFyIHQxID0gMSAtIHQsXG4gICAgICB0MTMgPSBwb3codDEsIDMpLFxuICAgICAgdDEyID0gcG93KHQxLCAyKSxcbiAgICAgIHQyID0gdCAqIHQsXG4gICAgICB0MyA9IHQyICogdCxcbiAgICAgIHggPSB0MTMgKiBwMXggKyB0MTIgKiAzICogdCAqIGMxeCArIHQxICogMyAqIHQgKiB0ICogYzJ4ICsgdDMgKiBwMngsXG4gICAgICB5ID0gdDEzICogcDF5ICsgdDEyICogMyAqIHQgKiBjMXkgKyB0MSAqIDMgKiB0ICogdCAqIGMyeSArIHQzICogcDJ5O1xuXG4gIHJldHVybiB7XG4gICAgeDogZml4RXJyb3IoeCksXG4gICAgeTogZml4RXJyb3IoeSlcbiAgfTtcbn1cblxuZnVuY3Rpb24gYmV6aWVyQkJveChwb2ludHMpIHtcblxuICB2YXIgYmJveCA9IGN1cnZlQkJveC5hcHBseShudWxsLCBwb2ludHMpO1xuXG4gIHJldHVybiByZWN0QkJveChcbiAgICBiYm94LngwLFxuICAgIGJib3gueTAsXG4gICAgYmJveC54MSAtIGJib3gueDAsXG4gICAgYmJveC55MSAtIGJib3gueTBcbiAgKTtcbn1cblxuZnVuY3Rpb24gaXNQb2ludEluc2lkZUJCb3goYmJveCwgeCwgeSkge1xuICByZXR1cm4geCA+PSBiYm94LnggJiZcbiAgICB4IDw9IGJib3gueCArIGJib3gud2lkdGggJiZcbiAgICB5ID49IGJib3gueSAmJlxuICAgIHkgPD0gYmJveC55ICsgYmJveC5oZWlnaHQ7XG59XG5cbmZ1bmN0aW9uIGlzQkJveEludGVyc2VjdChiYm94MSwgYmJveDIpIHtcbiAgYmJveDEgPSByZWN0QkJveChiYm94MSk7XG4gIGJib3gyID0gcmVjdEJCb3goYmJveDIpO1xuICByZXR1cm4gaXNQb2ludEluc2lkZUJCb3goYmJveDIsIGJib3gxLngsIGJib3gxLnkpXG4gICAgfHwgaXNQb2ludEluc2lkZUJCb3goYmJveDIsIGJib3gxLngyLCBiYm94MS55KVxuICAgIHx8IGlzUG9pbnRJbnNpZGVCQm94KGJib3gyLCBiYm94MS54LCBiYm94MS55MilcbiAgICB8fCBpc1BvaW50SW5zaWRlQkJveChiYm94MiwgYmJveDEueDIsIGJib3gxLnkyKVxuICAgIHx8IGlzUG9pbnRJbnNpZGVCQm94KGJib3gxLCBiYm94Mi54LCBiYm94Mi55KVxuICAgIHx8IGlzUG9pbnRJbnNpZGVCQm94KGJib3gxLCBiYm94Mi54MiwgYmJveDIueSlcbiAgICB8fCBpc1BvaW50SW5zaWRlQkJveChiYm94MSwgYmJveDIueCwgYmJveDIueTIpXG4gICAgfHwgaXNQb2ludEluc2lkZUJCb3goYmJveDEsIGJib3gyLngyLCBiYm94Mi55MilcbiAgICB8fCAoYmJveDEueCA8IGJib3gyLngyICYmIGJib3gxLnggPiBiYm94Mi54XG4gICAgICAgIHx8IGJib3gyLnggPCBiYm94MS54MiAmJiBiYm94Mi54ID4gYmJveDEueClcbiAgICAmJiAoYmJveDEueSA8IGJib3gyLnkyICYmIGJib3gxLnkgPiBiYm94Mi55XG4gICAgICAgIHx8IGJib3gyLnkgPCBiYm94MS55MiAmJiBiYm94Mi55ID4gYmJveDEueSk7XG59XG5cbmZ1bmN0aW9uIGJhc2UzKHQsIHAxLCBwMiwgcDMsIHA0KSB7XG4gIHZhciB0MSA9IC0zICogcDEgKyA5ICogcDIgLSA5ICogcDMgKyAzICogcDQsXG4gICAgICB0MiA9IHQgKiB0MSArIDYgKiBwMSAtIDEyICogcDIgKyA2ICogcDM7XG4gIHJldHVybiB0ICogdDIgLSAzICogcDEgKyAzICogcDI7XG59XG5cbmZ1bmN0aW9uIGJlemxlbih4MSwgeTEsIHgyLCB5MiwgeDMsIHkzLCB4NCwgeTQsIHopIHtcblxuICBpZiAoeiA9PSBudWxsKSB7XG4gICAgeiA9IDE7XG4gIH1cblxuICB6ID0geiA+IDEgPyAxIDogeiA8IDAgPyAwIDogejtcblxuICB2YXIgejIgPSB6IC8gMixcbiAgICAgIG4gPSAxMixcbiAgICAgIFR2YWx1ZXMgPSBbLS4xMjUyLC4xMjUyLC0uMzY3OCwuMzY3OCwtLjU4NzMsLjU4NzMsLS43Njk5LC43Njk5LC0uOTA0MSwuOTA0MSwtLjk4MTYsLjk4MTZdLFxuICAgICAgQ3ZhbHVlcyA9IFswLjI0OTEsMC4yNDkxLDAuMjMzNSwwLjIzMzUsMC4yMDMyLDAuMjAzMiwwLjE2MDEsMC4xNjAxLDAuMTA2OSwwLjEwNjksMC4wNDcyLDAuMDQ3Ml0sXG4gICAgICBzdW0gPSAwO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbjsgaSsrKSB7XG4gICAgdmFyIGN0ID0gejIgKiBUdmFsdWVzW2ldICsgejIsXG4gICAgICAgIHhiYXNlID0gYmFzZTMoY3QsIHgxLCB4MiwgeDMsIHg0KSxcbiAgICAgICAgeWJhc2UgPSBiYXNlMyhjdCwgeTEsIHkyLCB5MywgeTQpLFxuICAgICAgICBjb21iID0geGJhc2UgKiB4YmFzZSArIHliYXNlICogeWJhc2U7XG5cbiAgICBzdW0gKz0gQ3ZhbHVlc1tpXSAqIG1hdGguc3FydChjb21iKTtcbiAgfVxuXG4gIHJldHVybiB6MiAqIHN1bTtcbn1cblxuXG5mdW5jdGlvbiBpbnRlcnNlY3RMaW5lcyh4MSwgeTEsIHgyLCB5MiwgeDMsIHkzLCB4NCwgeTQpIHtcblxuICBpZiAoXG4gICAgbW1heCh4MSwgeDIpIDwgbW1pbih4MywgeDQpIHx8XG4gICAgICBtbWluKHgxLCB4MikgPiBtbWF4KHgzLCB4NCkgfHxcbiAgICAgIG1tYXgoeTEsIHkyKSA8IG1taW4oeTMsIHk0KSB8fFxuICAgICAgbW1pbih5MSwgeTIpID4gbW1heCh5MywgeTQpXG4gICkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBueCA9ICh4MSAqIHkyIC0geTEgKiB4MikgKiAoeDMgLSB4NCkgLSAoeDEgLSB4MikgKiAoeDMgKiB5NCAtIHkzICogeDQpLFxuICAgICAgbnkgPSAoeDEgKiB5MiAtIHkxICogeDIpICogKHkzIC0geTQpIC0gKHkxIC0geTIpICogKHgzICogeTQgLSB5MyAqIHg0KSxcbiAgICAgIGRlbm9taW5hdG9yID0gKHgxIC0geDIpICogKHkzIC0geTQpIC0gKHkxIC0geTIpICogKHgzIC0geDQpO1xuXG4gIGlmICghZGVub21pbmF0b3IpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgcHggPSBmaXhFcnJvcihueCAvIGRlbm9taW5hdG9yKSxcbiAgICAgIHB5ID0gZml4RXJyb3IobnkgLyBkZW5vbWluYXRvciksXG4gICAgICBweDIgPSArcHgudG9GaXhlZCgyKSxcbiAgICAgIHB5MiA9ICtweS50b0ZpeGVkKDIpO1xuXG4gIGlmIChcbiAgICBweDIgPCArbW1pbih4MSwgeDIpLnRvRml4ZWQoMikgfHxcbiAgICAgIHB4MiA+ICttbWF4KHgxLCB4MikudG9GaXhlZCgyKSB8fFxuICAgICAgcHgyIDwgK21taW4oeDMsIHg0KS50b0ZpeGVkKDIpIHx8XG4gICAgICBweDIgPiArbW1heCh4MywgeDQpLnRvRml4ZWQoMikgfHxcbiAgICAgIHB5MiA8ICttbWluKHkxLCB5MikudG9GaXhlZCgyKSB8fFxuICAgICAgcHkyID4gK21tYXgoeTEsIHkyKS50b0ZpeGVkKDIpIHx8XG4gICAgICBweTIgPCArbW1pbih5MywgeTQpLnRvRml4ZWQoMikgfHxcbiAgICAgIHB5MiA+ICttbWF4KHkzLCB5NCkudG9GaXhlZCgyKVxuICApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICByZXR1cm4geyB4OiBweCwgeTogcHkgfTtcbn1cblxuZnVuY3Rpb24gZml4RXJyb3IobnVtYmVyKSB7XG4gIHJldHVybiBNYXRoLnJvdW5kKG51bWJlciAqIDEwMDAwMDAwMDAwMCkgLyAxMDAwMDAwMDAwMDA7XG59XG5cbmZ1bmN0aW9uIGZpbmRCZXppZXJJbnRlcnNlY3Rpb25zKGJlejEsIGJlejIsIGp1c3RDb3VudCkge1xuICB2YXIgYmJveDEgPSBiZXppZXJCQm94KGJlejEpLFxuICAgICAgYmJveDIgPSBiZXppZXJCQm94KGJlejIpO1xuXG4gIGlmICghaXNCQm94SW50ZXJzZWN0KGJib3gxLCBiYm94MikpIHtcbiAgICByZXR1cm4ganVzdENvdW50ID8gMCA6IFtdO1xuICB9XG5cbiAgLy8gQXMgYW4gb3B0aW1pemF0aW9uLCBsaW5lcyB3aWxsIGhhdmUgb25seSAxIHNlZ21lbnRcblxuICB2YXIgbDEgPSBiZXpsZW4uYXBwbHkoMCwgYmV6MSksXG4gICAgICBsMiA9IGJlemxlbi5hcHBseSgwLCBiZXoyKSxcbiAgICAgIG4xID0gaXNMaW5lKGJlejEpID8gMSA6IH5+KGwxIC8gNSkgfHwgMSxcbiAgICAgIG4yID0gaXNMaW5lKGJlejIpID8gMSA6IH5+KGwyIC8gNSkgfHwgMSxcbiAgICAgIGRvdHMxID0gW10sXG4gICAgICBkb3RzMiA9IFtdLFxuICAgICAgeHkgPSB7fSxcbiAgICAgIHJlcyA9IGp1c3RDb3VudCA/IDAgOiBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IG4xICsgMTsgaSsrKSB7XG4gICAgdmFyIHAgPSBmaW5kRG90c0F0U2VnbWVudC5hcHBseSgwLCBiZXoxLmNvbmNhdChpIC8gbjEpKTtcbiAgICBkb3RzMS5wdXNoKHsgeDogcC54LCB5OiBwLnksIHQ6IGkgLyBuMSB9KTtcbiAgfVxuXG4gIGZvciAoaSA9IDA7IGkgPCBuMiArIDE7IGkrKykge1xuICAgIHAgPSBmaW5kRG90c0F0U2VnbWVudC5hcHBseSgwLCBiZXoyLmNvbmNhdChpIC8gbjIpKTtcbiAgICBkb3RzMi5wdXNoKHsgeDogcC54LCB5OiBwLnksIHQ6IGkgLyBuMiB9KTtcbiAgfVxuXG4gIGZvciAoaSA9IDA7IGkgPCBuMTsgaSsrKSB7XG5cbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IG4yOyBqKyspIHtcbiAgICAgIHZhciBkaSA9IGRvdHMxW2ldLFxuICAgICAgICAgIGRpMSA9IGRvdHMxW2kgKyAxXSxcbiAgICAgICAgICBkaiA9IGRvdHMyW2pdLFxuICAgICAgICAgIGRqMSA9IGRvdHMyW2ogKyAxXSxcbiAgICAgICAgICBjaSA9IGFicyhkaTEueCAtIGRpLngpIDwgLjAxID8gJ3knIDogJ3gnLFxuICAgICAgICAgIGNqID0gYWJzKGRqMS54IC0gZGoueCkgPCAuMDEgPyAneScgOiAneCcsXG4gICAgICAgICAgaXMgPSBpbnRlcnNlY3RMaW5lcyhkaS54LCBkaS55LCBkaTEueCwgZGkxLnksIGRqLngsIGRqLnksIGRqMS54LCBkajEueSksXG4gICAgICAgICAga2V5O1xuXG4gICAgICBpZiAoaXMpIHtcbiAgICAgICAga2V5ID0gaXMueC50b0ZpeGVkKDkpICsgJyMnICsgaXMueS50b0ZpeGVkKDkpO1xuXG4gICAgICAgIGlmICh4eVtrZXldKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICB4eVtrZXldID0gdHJ1ZTtcblxuICAgICAgICB2YXIgdDEgPSBkaS50ICsgYWJzKChpc1tjaV0gLSBkaVtjaV0pIC8gKGRpMVtjaV0gLSBkaVtjaV0pKSAqIChkaTEudCAtIGRpLnQpLFxuICAgICAgICAgICAgdDIgPSBkai50ICsgYWJzKChpc1tjal0gLSBkaltjal0pIC8gKGRqMVtjal0gLSBkaltjal0pKSAqIChkajEudCAtIGRqLnQpO1xuXG4gICAgICAgIGlmICh0MSA+PSAwICYmIHQxIDw9IDEgJiYgdDIgPj0gMCAmJiB0MiA8PSAxKSB7XG5cbiAgICAgICAgICBpZiAoanVzdENvdW50KSB7XG4gICAgICAgICAgICByZXMrKztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzLnB1c2goe1xuICAgICAgICAgICAgICB4OiBpcy54LFxuICAgICAgICAgICAgICB5OiBpcy55LFxuICAgICAgICAgICAgICB0MTogdDEsXG4gICAgICAgICAgICAgIHQyOiB0MlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlcztcbn1cblxuXG4vKipcbiAqIEZpbmQgb3IgY291bnRzIHRoZSBpbnRlcnNlY3Rpb25zIGJldHdlZW4gdHdvIFNWRyBwYXRocy5cbiAqXG4gKiBSZXR1cm5zIGEgbnVtYmVyIGluIGNvdW50aW5nIG1vZGUgYW5kIGEgbGlzdCBvZiBpbnRlcnNlY3Rpb25zIG90aGVyd2lzZS5cbiAqXG4gKiBBIHNpbmdsZSBpbnRlcnNlY3Rpb24gZW50cnkgY29udGFpbnMgdGhlIGludGVyc2VjdGlvbiBjb29yZGluYXRlcyAoeCwgeSlcbiAqIGFzIHdlbGwgYXMgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiByZWdhcmRpbmcgdGhlIGludGVyc2VjdGluZyBzZWdtZW50c1xuICogb24gZWFjaCBwYXRoIChzZWdtZW50MSwgc2VnbWVudDIpIGFuZCB0aGUgcmVsYXRpdmUgbG9jYXRpb24gb2YgdGhlXG4gKiBpbnRlcnNlY3Rpb24gb24gdGhlc2Ugc2VnbWVudHMgKHQxLCB0MikuXG4gKlxuICogVGhlIHBhdGggbWF5IGJlIGFuIFNWRyBwYXRoIHN0cmluZyBvciBhIGxpc3Qgb2YgcGF0aCBjb21wb25lbnRzXG4gKiBzdWNoIGFzIGBbIFsgJ00nLCAwLCAxMCBdLCBbICdMJywgMjAsIDAgXSBdYC5cbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBpbnRlcnNlY3Rpb25zID0gZmluZFBhdGhJbnRlcnNlY3Rpb25zKFxuICogICAnTTAsMEwxMDAsMTAwJyxcbiAqICAgWyBbICdNJywgMCwgMTAwIF0sIFsgJ0wnLCAxMDAsIDAgXSBdXG4gKiApO1xuICpcbiAqIC8vIGludGVyc2VjdGlvbnMgPSBbXG4gKiAvLyAgIHsgeDogNTAsIHk6IDUwLCBzZWdtZW50MTogMSwgc2VnbWVudDI6IDEsIHQxOiAwLjUsIHQyOiAwLjUgfVxuICogLy8gXVxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfEFycmF5PFBhdGhEZWY+fSBwYXRoMVxuICogQHBhcmFtIHtTdHJpbmd8QXJyYXk8UGF0aERlZj59IHBhdGgyXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtqdXN0Q291bnQ9ZmFsc2VdXG4gKlxuICogQHJldHVybiB7QXJyYXk8SW50ZXJzZWN0aW9uPnxOdW1iZXJ9XG4gKi9cbmZ1bmN0aW9uIGZpbmRQYXRoSW50ZXJzZWN0aW9ucyhwYXRoMSwgcGF0aDIsIGp1c3RDb3VudCkge1xuICBwYXRoMSA9IHBhdGhUb0N1cnZlKHBhdGgxKTtcbiAgcGF0aDIgPSBwYXRoVG9DdXJ2ZShwYXRoMik7XG5cbiAgdmFyIHgxLCB5MSwgeDIsIHkyLCB4MW0sIHkxbSwgeDJtLCB5Mm0sIGJlejEsIGJlejIsXG4gICAgICByZXMgPSBqdXN0Q291bnQgPyAwIDogW107XG5cbiAgZm9yICh2YXIgaSA9IDAsIGlpID0gcGF0aDEubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgIHZhciBwaSA9IHBhdGgxW2ldO1xuXG4gICAgaWYgKHBpWzBdID09ICdNJykge1xuICAgICAgeDEgPSB4MW0gPSBwaVsxXTtcbiAgICAgIHkxID0geTFtID0gcGlbMl07XG4gICAgfSBlbHNlIHtcblxuICAgICAgaWYgKHBpWzBdID09ICdDJykge1xuICAgICAgICBiZXoxID0gW3gxLCB5MV0uY29uY2F0KHBpLnNsaWNlKDEpKTtcbiAgICAgICAgeDEgPSBiZXoxWzZdO1xuICAgICAgICB5MSA9IGJlejFbN107XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBiZXoxID0gW3gxLCB5MSwgeDEsIHkxLCB4MW0sIHkxbSwgeDFtLCB5MW1dO1xuICAgICAgICB4MSA9IHgxbTtcbiAgICAgICAgeTEgPSB5MW07XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIGogPSAwLCBqaiA9IHBhdGgyLmxlbmd0aDsgaiA8IGpqOyBqKyspIHtcbiAgICAgICAgdmFyIHBqID0gcGF0aDJbal07XG5cbiAgICAgICAgaWYgKHBqWzBdID09ICdNJykge1xuICAgICAgICAgIHgyID0geDJtID0gcGpbMV07XG4gICAgICAgICAgeTIgPSB5Mm0gPSBwalsyXTtcbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgIGlmIChwalswXSA9PSAnQycpIHtcbiAgICAgICAgICAgIGJlejIgPSBbeDIsIHkyXS5jb25jYXQocGouc2xpY2UoMSkpO1xuICAgICAgICAgICAgeDIgPSBiZXoyWzZdO1xuICAgICAgICAgICAgeTIgPSBiZXoyWzddO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBiZXoyID0gW3gyLCB5MiwgeDIsIHkyLCB4Mm0sIHkybSwgeDJtLCB5Mm1dO1xuICAgICAgICAgICAgeDIgPSB4Mm07XG4gICAgICAgICAgICB5MiA9IHkybTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgaW50ciA9IGZpbmRCZXppZXJJbnRlcnNlY3Rpb25zKGJlejEsIGJlejIsIGp1c3RDb3VudCk7XG5cbiAgICAgICAgICBpZiAoanVzdENvdW50KSB7XG4gICAgICAgICAgICByZXMgKz0gaW50cjtcbiAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICBmb3IgKHZhciBrID0gMCwga2sgPSBpbnRyLmxlbmd0aDsgayA8IGtrOyBrKyspIHtcbiAgICAgICAgICAgICAgaW50cltrXS5zZWdtZW50MSA9IGk7XG4gICAgICAgICAgICAgIGludHJba10uc2VnbWVudDIgPSBqO1xuICAgICAgICAgICAgICBpbnRyW2tdLmJlejEgPSBiZXoxO1xuICAgICAgICAgICAgICBpbnRyW2tdLmJlejIgPSBiZXoyO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXMgPSByZXMuY29uY2F0KGludHIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXM7XG59XG5cblxuZnVuY3Rpb24gcGF0aFRvQWJzb2x1dGUocGF0aEFycmF5KSB7XG4gIHZhciBwdGggPSBwYXRocyhwYXRoQXJyYXkpO1xuXG4gIGlmIChwdGguYWJzKSB7XG4gICAgcmV0dXJuIHBhdGhDbG9uZShwdGguYWJzKTtcbiAgfVxuXG4gIGlmICghaXNBcnJheShwYXRoQXJyYXkpIHx8ICFpc0FycmF5KHBhdGhBcnJheSAmJiBwYXRoQXJyYXlbMF0pKSB7IC8vIHJvdWdoIGFzc3VtcHRpb25cbiAgICBwYXRoQXJyYXkgPSBwYXJzZVBhdGhTdHJpbmcocGF0aEFycmF5KTtcbiAgfVxuXG4gIGlmICghcGF0aEFycmF5IHx8ICFwYXRoQXJyYXkubGVuZ3RoKSB7XG4gICAgcmV0dXJuIFtbJ00nLCAwLCAwXV07XG4gIH1cblxuICB2YXIgcmVzID0gW10sXG4gICAgICB4ID0gMCxcbiAgICAgIHkgPSAwLFxuICAgICAgbXggPSAwLFxuICAgICAgbXkgPSAwLFxuICAgICAgc3RhcnQgPSAwLFxuICAgICAgcGEwO1xuXG4gIGlmIChwYXRoQXJyYXlbMF1bMF0gPT0gJ00nKSB7XG4gICAgeCA9ICtwYXRoQXJyYXlbMF1bMV07XG4gICAgeSA9ICtwYXRoQXJyYXlbMF1bMl07XG4gICAgbXggPSB4O1xuICAgIG15ID0geTtcbiAgICBzdGFydCsrO1xuICAgIHJlc1swXSA9IFsnTScsIHgsIHldO1xuICB9XG5cbiAgZm9yICh2YXIgciwgcGEsIGkgPSBzdGFydCwgaWkgPSBwYXRoQXJyYXkubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgIHJlcy5wdXNoKHIgPSBbXSk7XG4gICAgcGEgPSBwYXRoQXJyYXlbaV07XG4gICAgcGEwID0gcGFbMF07XG5cbiAgICBpZiAocGEwICE9IHBhMC50b1VwcGVyQ2FzZSgpKSB7XG4gICAgICByWzBdID0gcGEwLnRvVXBwZXJDYXNlKCk7XG5cbiAgICAgIHN3aXRjaCAoclswXSkge1xuICAgICAgY2FzZSAnQSc6XG4gICAgICAgIHJbMV0gPSBwYVsxXTtcbiAgICAgICAgclsyXSA9IHBhWzJdO1xuICAgICAgICByWzNdID0gcGFbM107XG4gICAgICAgIHJbNF0gPSBwYVs0XTtcbiAgICAgICAgcls1XSA9IHBhWzVdO1xuICAgICAgICByWzZdID0gK3BhWzZdICsgeDtcbiAgICAgICAgcls3XSA9ICtwYVs3XSArIHk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnVic6XG4gICAgICAgIHJbMV0gPSArcGFbMV0gKyB5O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ0gnOlxuICAgICAgICByWzFdID0gK3BhWzFdICsgeDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdNJzpcbiAgICAgICAgbXggPSArcGFbMV0gKyB4O1xuICAgICAgICBteSA9ICtwYVsyXSArIHk7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBmb3IgKHZhciBqID0gMSwgamogPSBwYS5sZW5ndGg7IGogPCBqajsgaisrKSB7XG4gICAgICAgICAgcltqXSA9ICtwYVtqXSArICgoaiAlIDIpID8geCA6IHkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAodmFyIGsgPSAwLCBrayA9IHBhLmxlbmd0aDsgayA8IGtrOyBrKyspIHtcbiAgICAgICAgcltrXSA9IHBhW2tdO1xuICAgICAgfVxuICAgIH1cbiAgICBwYTAgPSBwYTAudG9VcHBlckNhc2UoKTtcblxuICAgIHN3aXRjaCAoclswXSkge1xuICAgIGNhc2UgJ1onOlxuICAgICAgeCA9ICtteDtcbiAgICAgIHkgPSArbXk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdIJzpcbiAgICAgIHggPSByWzFdO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnVic6XG4gICAgICB5ID0gclsxXTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ00nOlxuICAgICAgbXggPSByW3IubGVuZ3RoIC0gMl07XG4gICAgICBteSA9IHJbci5sZW5ndGggLSAxXTtcbiAgICBkZWZhdWx0OlxuICAgICAgeCA9IHJbci5sZW5ndGggLSAyXTtcbiAgICAgIHkgPSByW3IubGVuZ3RoIC0gMV07XG4gICAgfVxuICB9XG5cbiAgcmVzLnRvU3RyaW5nID0gcGF0aFRvU3RyaW5nO1xuICBwdGguYWJzID0gcGF0aENsb25lKHJlcyk7XG5cbiAgcmV0dXJuIHJlcztcbn1cblxuZnVuY3Rpb24gaXNMaW5lKGJleikge1xuICByZXR1cm4gKFxuICAgIGJlelswXSA9PT0gYmV6WzJdICYmXG4gICAgYmV6WzFdID09PSBiZXpbM10gJiZcbiAgICBiZXpbNF0gPT09IGJlels2XSAmJlxuICAgIGJlels1XSA9PT0gYmV6WzddXG4gICk7XG59XG5cbmZ1bmN0aW9uIGxpbmVUb0N1cnZlKHgxLCB5MSwgeDIsIHkyKSB7XG4gIHJldHVybiBbXG4gICAgeDEsIHkxLCB4MixcbiAgICB5MiwgeDIsIHkyXG4gIF07XG59XG5cbmZ1bmN0aW9uIHF1YmljVG9DdXJ2ZSh4MSwgeTEsIGF4LCBheSwgeDIsIHkyKSB7XG4gIHZhciBfMTMgPSAxIC8gMyxcbiAgICAgIF8yMyA9IDIgLyAzO1xuXG4gIHJldHVybiBbXG4gICAgXzEzICogeDEgKyBfMjMgKiBheCxcbiAgICBfMTMgKiB5MSArIF8yMyAqIGF5LFxuICAgIF8xMyAqIHgyICsgXzIzICogYXgsXG4gICAgXzEzICogeTIgKyBfMjMgKiBheSxcbiAgICB4MixcbiAgICB5MlxuICBdO1xufVxuXG5mdW5jdGlvbiBhcmNUb0N1cnZlKHgxLCB5MSwgcngsIHJ5LCBhbmdsZSwgbGFyZ2VfYXJjX2ZsYWcsIHN3ZWVwX2ZsYWcsIHgyLCB5MiwgcmVjdXJzaXZlKSB7XG5cbiAgLy8gZm9yIG1vcmUgaW5mb3JtYXRpb24gb2Ygd2hlcmUgdGhpcyBtYXRoIGNhbWUgZnJvbSB2aXNpdDpcbiAgLy8gaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvaW1wbG5vdGUuaHRtbCNBcmNJbXBsZW1lbnRhdGlvbk5vdGVzXG4gIHZhciBfMTIwID0gUEkgKiAxMjAgLyAxODAsXG4gICAgICByYWQgPSBQSSAvIDE4MCAqICgrYW5nbGUgfHwgMCksXG4gICAgICByZXMgPSBbXSxcbiAgICAgIHh5LFxuICAgICAgcm90YXRlID0gY2FjaGVyKGZ1bmN0aW9uKHgsIHksIHJhZCkge1xuICAgICAgICB2YXIgWCA9IHggKiBtYXRoLmNvcyhyYWQpIC0geSAqIG1hdGguc2luKHJhZCksXG4gICAgICAgICAgICBZID0geCAqIG1hdGguc2luKHJhZCkgKyB5ICogbWF0aC5jb3MocmFkKTtcblxuICAgICAgICByZXR1cm4geyB4OiBYLCB5OiBZIH07XG4gICAgICB9KTtcblxuICBpZiAoIXJlY3Vyc2l2ZSkge1xuICAgIHh5ID0gcm90YXRlKHgxLCB5MSwgLXJhZCk7XG4gICAgeDEgPSB4eS54O1xuICAgIHkxID0geHkueTtcbiAgICB4eSA9IHJvdGF0ZSh4MiwgeTIsIC1yYWQpO1xuICAgIHgyID0geHkueDtcbiAgICB5MiA9IHh5Lnk7XG5cbiAgICB2YXIgeCA9ICh4MSAtIHgyKSAvIDIsXG4gICAgICAgIHkgPSAoeTEgLSB5MikgLyAyO1xuXG4gICAgdmFyIGggPSAoeCAqIHgpIC8gKHJ4ICogcngpICsgKHkgKiB5KSAvIChyeSAqIHJ5KTtcblxuICAgIGlmIChoID4gMSkge1xuICAgICAgaCA9IG1hdGguc3FydChoKTtcbiAgICAgIHJ4ID0gaCAqIHJ4O1xuICAgICAgcnkgPSBoICogcnk7XG4gICAgfVxuXG4gICAgdmFyIHJ4MiA9IHJ4ICogcngsXG4gICAgICAgIHJ5MiA9IHJ5ICogcnksXG4gICAgICAgIGsgPSAobGFyZ2VfYXJjX2ZsYWcgPT0gc3dlZXBfZmxhZyA/IC0xIDogMSkgKlxuICAgICAgICAgICAgbWF0aC5zcXJ0KGFicygocngyICogcnkyIC0gcngyICogeSAqIHkgLSByeTIgKiB4ICogeCkgLyAocngyICogeSAqIHkgKyByeTIgKiB4ICogeCkpKSxcbiAgICAgICAgY3ggPSBrICogcnggKiB5IC8gcnkgKyAoeDEgKyB4MikgLyAyLFxuICAgICAgICBjeSA9IGsgKiAtcnkgKiB4IC8gcnggKyAoeTEgKyB5MikgLyAyLFxuICAgICAgICBmMSA9IG1hdGguYXNpbigoKHkxIC0gY3kpIC8gcnkpLnRvRml4ZWQoOSkpLFxuICAgICAgICBmMiA9IG1hdGguYXNpbigoKHkyIC0gY3kpIC8gcnkpLnRvRml4ZWQoOSkpO1xuXG4gICAgZjEgPSB4MSA8IGN4ID8gUEkgLSBmMSA6IGYxO1xuICAgIGYyID0geDIgPCBjeCA/IFBJIC0gZjIgOiBmMjtcbiAgICBmMSA8IDAgJiYgKGYxID0gUEkgKiAyICsgZjEpO1xuICAgIGYyIDwgMCAmJiAoZjIgPSBQSSAqIDIgKyBmMik7XG5cbiAgICBpZiAoc3dlZXBfZmxhZyAmJiBmMSA+IGYyKSB7XG4gICAgICBmMSA9IGYxIC0gUEkgKiAyO1xuICAgIH1cbiAgICBpZiAoIXN3ZWVwX2ZsYWcgJiYgZjIgPiBmMSkge1xuICAgICAgZjIgPSBmMiAtIFBJICogMjtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZjEgPSByZWN1cnNpdmVbMF07XG4gICAgZjIgPSByZWN1cnNpdmVbMV07XG4gICAgY3ggPSByZWN1cnNpdmVbMl07XG4gICAgY3kgPSByZWN1cnNpdmVbM107XG4gIH1cblxuICB2YXIgZGYgPSBmMiAtIGYxO1xuXG4gIGlmIChhYnMoZGYpID4gXzEyMCkge1xuICAgIHZhciBmMm9sZCA9IGYyLFxuICAgICAgICB4Mm9sZCA9IHgyLFxuICAgICAgICB5Mm9sZCA9IHkyO1xuXG4gICAgZjIgPSBmMSArIF8xMjAgKiAoc3dlZXBfZmxhZyAmJiBmMiA+IGYxID8gMSA6IC0xKTtcbiAgICB4MiA9IGN4ICsgcnggKiBtYXRoLmNvcyhmMik7XG4gICAgeTIgPSBjeSArIHJ5ICogbWF0aC5zaW4oZjIpO1xuICAgIHJlcyA9IGFyY1RvQ3VydmUoeDIsIHkyLCByeCwgcnksIGFuZ2xlLCAwLCBzd2VlcF9mbGFnLCB4Mm9sZCwgeTJvbGQsIFtmMiwgZjJvbGQsIGN4LCBjeV0pO1xuICB9XG5cbiAgZGYgPSBmMiAtIGYxO1xuXG4gIHZhciBjMSA9IG1hdGguY29zKGYxKSxcbiAgICAgIHMxID0gbWF0aC5zaW4oZjEpLFxuICAgICAgYzIgPSBtYXRoLmNvcyhmMiksXG4gICAgICBzMiA9IG1hdGguc2luKGYyKSxcbiAgICAgIHQgPSBtYXRoLnRhbihkZiAvIDQpLFxuICAgICAgaHggPSA0IC8gMyAqIHJ4ICogdCxcbiAgICAgIGh5ID0gNCAvIDMgKiByeSAqIHQsXG4gICAgICBtMSA9IFt4MSwgeTFdLFxuICAgICAgbTIgPSBbeDEgKyBoeCAqIHMxLCB5MSAtIGh5ICogYzFdLFxuICAgICAgbTMgPSBbeDIgKyBoeCAqIHMyLCB5MiAtIGh5ICogYzJdLFxuICAgICAgbTQgPSBbeDIsIHkyXTtcblxuICBtMlswXSA9IDIgKiBtMVswXSAtIG0yWzBdO1xuICBtMlsxXSA9IDIgKiBtMVsxXSAtIG0yWzFdO1xuXG4gIGlmIChyZWN1cnNpdmUpIHtcbiAgICByZXR1cm4gW20yLCBtMywgbTRdLmNvbmNhdChyZXMpO1xuICB9IGVsc2Uge1xuICAgIHJlcyA9IFttMiwgbTMsIG00XS5jb25jYXQocmVzKS5qb2luKCkuc3BsaXQoJywnKTtcbiAgICB2YXIgbmV3cmVzID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSByZXMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgbmV3cmVzW2ldID0gaSAlIDIgPyByb3RhdGUocmVzW2kgLSAxXSwgcmVzW2ldLCByYWQpLnkgOiByb3RhdGUocmVzW2ldLCByZXNbaSArIDFdLCByYWQpLng7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ld3JlcztcbiAgfVxufVxuXG4vLyBSZXR1cm5zIGJvdW5kaW5nIGJveCBvZiBjdWJpYyBiZXppZXIgY3VydmUuXG4vLyBTb3VyY2U6IGh0dHA6Ly9ibG9nLmhhY2tlcnMtY2FmZS5uZXQvMjAwOS8wNi9ob3ctdG8tY2FsY3VsYXRlLWJlemllci1jdXJ2ZXMtYm91bmRpbmcuaHRtbFxuLy8gT3JpZ2luYWwgdmVyc2lvbjogTklTSElPIEhpcm9rYXp1XG4vLyBNb2RpZmljYXRpb25zOiBodHRwczovL2dpdGh1Yi5jb20vdGltbzIyMzQ1XG5mdW5jdGlvbiBjdXJ2ZUJCb3goeDAsIHkwLCB4MSwgeTEsIHgyLCB5MiwgeDMsIHkzKSB7XG4gIHZhciB0dmFsdWVzID0gW10sXG4gICAgICBib3VuZHMgPSBbW10sIFtdXSxcbiAgICAgIGEsIGIsIGMsIHQsIHQxLCB0MiwgYjJhYywgc3FydGIyYWM7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCAyOyArK2kpIHtcblxuICAgIGlmIChpID09IDApIHtcbiAgICAgIGIgPSA2ICogeDAgLSAxMiAqIHgxICsgNiAqIHgyO1xuICAgICAgYSA9IC0zICogeDAgKyA5ICogeDEgLSA5ICogeDIgKyAzICogeDM7XG4gICAgICBjID0gMyAqIHgxIC0gMyAqIHgwO1xuICAgIH0gZWxzZSB7XG4gICAgICBiID0gNiAqIHkwIC0gMTIgKiB5MSArIDYgKiB5MjtcbiAgICAgIGEgPSAtMyAqIHkwICsgOSAqIHkxIC0gOSAqIHkyICsgMyAqIHkzO1xuICAgICAgYyA9IDMgKiB5MSAtIDMgKiB5MDtcbiAgICB9XG5cbiAgICBpZiAoYWJzKGEpIDwgMWUtMTIpIHtcblxuICAgICAgaWYgKGFicyhiKSA8IDFlLTEyKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICB0ID0gLWMgLyBiO1xuXG4gICAgICBpZiAoMCA8IHQgJiYgdCA8IDEpIHtcbiAgICAgICAgdHZhbHVlcy5wdXNoKHQpO1xuICAgICAgfVxuXG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBiMmFjID0gYiAqIGIgLSA0ICogYyAqIGE7XG4gICAgc3FydGIyYWMgPSBtYXRoLnNxcnQoYjJhYyk7XG5cbiAgICBpZiAoYjJhYyA8IDApIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIHQxID0gKC1iICsgc3FydGIyYWMpIC8gKDIgKiBhKTtcblxuICAgIGlmICgwIDwgdDEgJiYgdDEgPCAxKSB7XG4gICAgICB0dmFsdWVzLnB1c2godDEpO1xuICAgIH1cblxuICAgIHQyID0gKC1iIC0gc3FydGIyYWMpIC8gKDIgKiBhKTtcblxuICAgIGlmICgwIDwgdDIgJiYgdDIgPCAxKSB7XG4gICAgICB0dmFsdWVzLnB1c2godDIpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBqID0gdHZhbHVlcy5sZW5ndGgsXG4gICAgICBqbGVuID0gaixcbiAgICAgIG10O1xuXG4gIHdoaWxlIChqLS0pIHtcbiAgICB0ID0gdHZhbHVlc1tqXTtcbiAgICBtdCA9IDEgLSB0O1xuICAgIGJvdW5kc1swXVtqXSA9IChtdCAqIG10ICogbXQgKiB4MCkgKyAoMyAqIG10ICogbXQgKiB0ICogeDEpICsgKDMgKiBtdCAqIHQgKiB0ICogeDIpICsgKHQgKiB0ICogdCAqIHgzKTtcbiAgICBib3VuZHNbMV1bal0gPSAobXQgKiBtdCAqIG10ICogeTApICsgKDMgKiBtdCAqIG10ICogdCAqIHkxKSArICgzICogbXQgKiB0ICogdCAqIHkyKSArICh0ICogdCAqIHQgKiB5Myk7XG4gIH1cblxuICBib3VuZHNbMF1bamxlbl0gPSB4MDtcbiAgYm91bmRzWzFdW2psZW5dID0geTA7XG4gIGJvdW5kc1swXVtqbGVuICsgMV0gPSB4MztcbiAgYm91bmRzWzFdW2psZW4gKyAxXSA9IHkzO1xuICBib3VuZHNbMF0ubGVuZ3RoID0gYm91bmRzWzFdLmxlbmd0aCA9IGpsZW4gKyAyO1xuXG4gIHJldHVybiB7XG4gICAgeDA6IG1taW4uYXBwbHkoMCwgYm91bmRzWzBdKSxcbiAgICB5MDogbW1pbi5hcHBseSgwLCBib3VuZHNbMV0pLFxuICAgIHgxOiBtbWF4LmFwcGx5KDAsIGJvdW5kc1swXSksXG4gICAgeTE6IG1tYXguYXBwbHkoMCwgYm91bmRzWzFdKVxuICB9O1xufVxuXG5mdW5jdGlvbiBwYXRoVG9DdXJ2ZShwYXRoKSB7XG5cbiAgdmFyIHB0aCA9IHBhdGhzKHBhdGgpO1xuXG4gIC8vIHJldHVybiBjYWNoZWQgY3VydmUsIGlmIGV4aXN0aW5nXG4gIGlmIChwdGguY3VydmUpIHtcbiAgICByZXR1cm4gcGF0aENsb25lKHB0aC5jdXJ2ZSk7XG4gIH1cblxuICB2YXIgY3VydmVkUGF0aCA9IHBhdGhUb0Fic29sdXRlKHBhdGgpLFxuICAgICAgYXR0cnMgPSB7IHg6IDAsIHk6IDAsIGJ4OiAwLCBieTogMCwgWDogMCwgWTogMCwgcXg6IG51bGwsIHF5OiBudWxsIH0sXG4gICAgICBwcm9jZXNzUGF0aCA9IGZ1bmN0aW9uKHBhdGgsIGQsIHBhdGhDb21tYW5kKSB7XG4gICAgICAgIHZhciBueCwgbnk7XG5cbiAgICAgICAgaWYgKCFwYXRoKSB7XG4gICAgICAgICAgcmV0dXJuIFsnQycsIGQueCwgZC55LCBkLngsIGQueSwgZC54LCBkLnldO1xuICAgICAgICB9XG5cbiAgICAgICAgIShwYXRoWzBdIGluIHsgVDogMSwgUTogMSB9KSAmJiAoZC5xeCA9IGQucXkgPSBudWxsKTtcblxuICAgICAgICBzd2l0Y2ggKHBhdGhbMF0pIHtcbiAgICAgICAgY2FzZSAnTSc6XG4gICAgICAgICAgZC5YID0gcGF0aFsxXTtcbiAgICAgICAgICBkLlkgPSBwYXRoWzJdO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdBJzpcbiAgICAgICAgICBwYXRoID0gWydDJ10uY29uY2F0KGFyY1RvQ3VydmUuYXBwbHkoMCwgW2QueCwgZC55XS5jb25jYXQocGF0aC5zbGljZSgxKSkpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnUyc6XG4gICAgICAgICAgaWYgKHBhdGhDb21tYW5kID09ICdDJyB8fCBwYXRoQ29tbWFuZCA9PSAnUycpIHtcblxuICAgICAgICAgICAgLy8gSW4gJ1MnIGNhc2Ugd2UgaGF2ZSB0byB0YWtlIGludG8gYWNjb3VudCwgaWYgdGhlIHByZXZpb3VzIGNvbW1hbmQgaXMgQy9TLlxuICAgICAgICAgICAgbnggPSBkLnggKiAyIC0gZC5ieDtcblxuICAgICAgICAgICAgLy8gQW5kIHJlZmxlY3QgdGhlIHByZXZpb3VzXG4gICAgICAgICAgICBueSA9IGQueSAqIDIgLSBkLmJ5O1xuXG4gICAgICAgICAgICAvLyBjb21tYW5kJ3MgY29udHJvbCBwb2ludCByZWxhdGl2ZSB0byB0aGUgY3VycmVudCBwb2ludC5cbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG5cbiAgICAgICAgICAgIC8vIG9yIHNvbWUgZWxzZSBvciBub3RoaW5nXG4gICAgICAgICAgICBueCA9IGQueDtcbiAgICAgICAgICAgIG55ID0gZC55O1xuICAgICAgICAgIH1cbiAgICAgICAgICBwYXRoID0gWydDJywgbngsIG55XS5jb25jYXQocGF0aC5zbGljZSgxKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ1QnOlxuICAgICAgICAgIGlmIChwYXRoQ29tbWFuZCA9PSAnUScgfHwgcGF0aENvbW1hbmQgPT0gJ1QnKSB7XG5cbiAgICAgICAgICAgIC8vIEluICdUJyBjYXNlIHdlIGhhdmUgdG8gdGFrZSBpbnRvIGFjY291bnQsIGlmIHRoZSBwcmV2aW91cyBjb21tYW5kIGlzIFEvVC5cbiAgICAgICAgICAgIGQucXggPSBkLnggKiAyIC0gZC5xeDtcblxuICAgICAgICAgICAgLy8gQW5kIG1ha2UgYSByZWZsZWN0aW9uIHNpbWlsYXJcbiAgICAgICAgICAgIGQucXkgPSBkLnkgKiAyIC0gZC5xeTtcblxuICAgICAgICAgICAgLy8gdG8gY2FzZSAnUycuXG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuXG4gICAgICAgICAgICAvLyBvciBzb21ldGhpbmcgZWxzZSBvciBub3RoaW5nXG4gICAgICAgICAgICBkLnF4ID0gZC54O1xuICAgICAgICAgICAgZC5xeSA9IGQueTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcGF0aCA9IFsnQyddLmNvbmNhdChxdWJpY1RvQ3VydmUoZC54LCBkLnksIGQucXgsIGQucXksIHBhdGhbMV0sIHBhdGhbMl0pKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnUSc6XG4gICAgICAgICAgZC5xeCA9IHBhdGhbMV07XG4gICAgICAgICAgZC5xeSA9IHBhdGhbMl07XG4gICAgICAgICAgcGF0aCA9IFsnQyddLmNvbmNhdChxdWJpY1RvQ3VydmUoZC54LCBkLnksIHBhdGhbMV0sIHBhdGhbMl0sIHBhdGhbM10sIHBhdGhbNF0pKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnTCc6XG4gICAgICAgICAgcGF0aCA9IFsnQyddLmNvbmNhdChsaW5lVG9DdXJ2ZShkLngsIGQueSwgcGF0aFsxXSwgcGF0aFsyXSkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdIJzpcbiAgICAgICAgICBwYXRoID0gWydDJ10uY29uY2F0KGxpbmVUb0N1cnZlKGQueCwgZC55LCBwYXRoWzFdLCBkLnkpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnVic6XG4gICAgICAgICAgcGF0aCA9IFsnQyddLmNvbmNhdChsaW5lVG9DdXJ2ZShkLngsIGQueSwgZC54LCBwYXRoWzFdKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ1onOlxuICAgICAgICAgIHBhdGggPSBbJ0MnXS5jb25jYXQobGluZVRvQ3VydmUoZC54LCBkLnksIGQuWCwgZC5ZKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcGF0aDtcbiAgICAgIH0sXG5cbiAgICAgIGZpeEFyYyA9IGZ1bmN0aW9uKHBwLCBpKSB7XG5cbiAgICAgICAgaWYgKHBwW2ldLmxlbmd0aCA+IDcpIHtcbiAgICAgICAgICBwcFtpXS5zaGlmdCgpO1xuICAgICAgICAgIHZhciBwaSA9IHBwW2ldO1xuXG4gICAgICAgICAgd2hpbGUgKHBpLmxlbmd0aCkge1xuICAgICAgICAgICAgcGF0aENvbW1hbmRzW2ldID0gJ0EnOyAvLyBpZiBjcmVhdGVkIG11bHRpcGxlIEM6cywgdGhlaXIgb3JpZ2luYWwgc2VnIGlzIHNhdmVkXG4gICAgICAgICAgICBwcC5zcGxpY2UoaSsrLCAwLCBbJ0MnXS5jb25jYXQocGkuc3BsaWNlKDAsIDYpKSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcHAuc3BsaWNlKGksIDEpO1xuICAgICAgICAgIGlpID0gY3VydmVkUGF0aC5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIHBhdGhDb21tYW5kcyA9IFtdLCAvLyBwYXRoIGNvbW1hbmRzIG9mIG9yaWdpbmFsIHBhdGggcFxuICAgICAgcGZpcnN0ID0gJycsIC8vIHRlbXBvcmFyeSBob2xkZXIgZm9yIG9yaWdpbmFsIHBhdGggY29tbWFuZFxuICAgICAgcGF0aENvbW1hbmQgPSAnJzsgLy8gaG9sZGVyIGZvciBwcmV2aW91cyBwYXRoIGNvbW1hbmQgb2Ygb3JpZ2luYWwgcGF0aFxuXG4gIGZvciAodmFyIGkgPSAwLCBpaSA9IGN1cnZlZFBhdGgubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgIGN1cnZlZFBhdGhbaV0gJiYgKHBmaXJzdCA9IGN1cnZlZFBhdGhbaV1bMF0pOyAvLyBzYXZlIGN1cnJlbnQgcGF0aCBjb21tYW5kXG5cbiAgICBpZiAocGZpcnN0ICE9ICdDJykgLy8gQyBpcyBub3Qgc2F2ZWQgeWV0LCBiZWNhdXNlIGl0IG1heSBiZSByZXN1bHQgb2YgY29udmVyc2lvblxuICAgIHtcbiAgICAgIHBhdGhDb21tYW5kc1tpXSA9IHBmaXJzdDsgLy8gU2F2ZSBjdXJyZW50IHBhdGggY29tbWFuZFxuICAgICAgaSAmJiAocGF0aENvbW1hbmQgPSBwYXRoQ29tbWFuZHNbaSAtIDFdKTsgLy8gR2V0IHByZXZpb3VzIHBhdGggY29tbWFuZCBwYXRoQ29tbWFuZFxuICAgIH1cbiAgICBjdXJ2ZWRQYXRoW2ldID0gcHJvY2Vzc1BhdGgoY3VydmVkUGF0aFtpXSwgYXR0cnMsIHBhdGhDb21tYW5kKTsgLy8gUHJldmlvdXMgcGF0aCBjb21tYW5kIGlzIGlucHV0dGVkIHRvIHByb2Nlc3NQYXRoXG5cbiAgICBpZiAocGF0aENvbW1hbmRzW2ldICE9ICdBJyAmJiBwZmlyc3QgPT0gJ0MnKSBwYXRoQ29tbWFuZHNbaV0gPSAnQyc7IC8vIEEgaXMgdGhlIG9ubHkgY29tbWFuZFxuICAgIC8vIHdoaWNoIG1heSBwcm9kdWNlIG11bHRpcGxlIEM6c1xuICAgIC8vIHNvIHdlIGhhdmUgdG8gbWFrZSBzdXJlIHRoYXQgQyBpcyBhbHNvIEMgaW4gb3JpZ2luYWwgcGF0aFxuXG4gICAgZml4QXJjKGN1cnZlZFBhdGgsIGkpOyAvLyBmaXhBcmMgYWRkcyBhbHNvIHRoZSByaWdodCBhbW91bnQgb2YgQTpzIHRvIHBhdGhDb21tYW5kc1xuXG4gICAgdmFyIHNlZyA9IGN1cnZlZFBhdGhbaV0sXG4gICAgICAgIHNlZ2xlbiA9IHNlZy5sZW5ndGg7XG5cbiAgICBhdHRycy54ID0gc2VnW3NlZ2xlbiAtIDJdO1xuICAgIGF0dHJzLnkgPSBzZWdbc2VnbGVuIC0gMV07XG4gICAgYXR0cnMuYnggPSB0b0Zsb2F0KHNlZ1tzZWdsZW4gLSA0XSkgfHwgYXR0cnMueDtcbiAgICBhdHRycy5ieSA9IHRvRmxvYXQoc2VnW3NlZ2xlbiAtIDNdKSB8fCBhdHRycy55O1xuICB9XG5cbiAgLy8gY2FjaGUgY3VydmVcbiAgcHRoLmN1cnZlID0gcGF0aENsb25lKGN1cnZlZFBhdGgpO1xuXG4gIHJldHVybiBjdXJ2ZWRQYXRoO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZpbmRQYXRoSW50ZXJzZWN0aW9ucztcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18uZyA9IChmdW5jdGlvbigpIHtcblx0aWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSAnb2JqZWN0JykgcmV0dXJuIGdsb2JhbFRoaXM7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIHRoaXMgfHwgbmV3IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHJldHVybiB3aW5kb3c7XG5cdH1cbn0pKCk7IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsIi8vIHN0YXJ0dXBcbi8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLy8gVGhpcyBlbnRyeSBtb2R1bGUgaXMgcmVmZXJlbmNlZCBieSBvdGhlciBtb2R1bGVzIHNvIGl0IGNhbid0IGJlIGlubGluZWRcbnZhciBfX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1NjgpO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==